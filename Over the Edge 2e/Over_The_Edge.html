<div class='sheet-2colrow'>
	<div class='sheet-col'>
		<img style="width:100%;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Over-the-Edge/Over%20the%20Edge%202e/images/logo.jpg" />
	</div>
	<div class='sheet-col'>
		<div class="sheet-field_box">
			<p class="sheet-field_label sheet-field_label_r"  data-i18n="character-name" >Character Name</p>
			<input style="width:100%" name="attr_character_name" type="text" />
		</div>
		<br />
		<div class="sheet-field_box">
			<p  class="sheet-field_label sheet-field_label_r" data-i18n="motivation" >Motivation</p>
			<input style="width:100%" name="attr_Motivation" type="text" />
		</div>
		<br />
		
	</div>
</div>
<div class='sheet-2colrow'>
	<div class='sheet-col'>
		<div style="min-height:32em;" class="sheet-field_box">
			<div><p  class="sheet-field_label sheet-field_label_l"  data-i18n="traits-and-signs" >Traits and Signs</p><div style="padding:2px;border:1px solid black;float:right"><div style="display:inline" data-i18n="hand-of-fate" >Hand of Fate</div><button type="roll" value="&{template:fate} {{character_name=@{character_name}}} {{roll=[[2d6]]}}"></button></div></div>
			<br/>
			<fieldset class="repeating_traits" style="display:inline">
				<div>
					<input class="trait_text" placeholder="Trait" type="text" name="attr_trait" value=""/>
					<input class="trait_number" placeholder="Score" type="number" name="attr_score" value="0"/>
					<div style="display:inline-block"><div style="text-align:center">P</div><button class="trait_roll" type="roll" value="&{template:actionRoll} {{character_name=@{character_name}}} {{trait_name=@{trait}}} {{roll=[[[[(@{score}+?{Penalty Dice|1}))]]d6dh?{Penalty Dice|1}cs>6]]}} {{botch=[[@{score}]]}}   {{bto=[[@{score}*6]]}}  {{btoroll=[[1d6!]]}}"type="roll" ></button></div><button class="trait_roll" value="&{template:actionRoll} {{character_name=@{character_name}}} {{trait_name=@{trait}}} {{roll=[[@{score}d6cs>6]]}} {{botch=[[@{score}]]}}   {{bto=[[@{score}*6]]}}  {{btoroll=[[1d6!]]}}"type="roll"></button><div style="display:inline-block"><div style="text-align:center">B</div><button class="trait_roll" type="roll"value="&{template:actionRoll} {{character_name=@{character_name}}} {{trait_name=@{trait}}} {{roll=[[[[(@{score}+?{Bonus Dice|1}))]]d6dl?{Bonus Dice|1}cs>6]]}} {{botch=[[@{score}]]}}   {{bto=[[@{score}*6]]}}  {{btoroll=[[1d6!]]}}"type="roll" ></button></div>
				</div>
				<div>
					<input style="width:99%" class="trait_text" placeholder="Sign" type="text" name="attr_sign" value=""/>					
				</div>			
			</fieldset>
			<br />


		</div>	
		<div style="min-height:5em;" class="sheet-field_box">
			<p  class="sheet-field_label sheet-field_label_l"  data-i18n="flaw" >Flaw</p>
			<fieldset class="repeating_flaws" style="display:inline">
				<div>
					<input style="width:97%" placeholder="Trait" type="text" name="attr_flaw" value=""/>
				</div>
				<div>
					<textarea style="width:97%;min-height:3em;height:3em"  placeholder="Sign" type="text" name="attr_flaw_sign" value=""></textarea>					
				</div>			
			</fieldset>			
		</div>
		
		
		
	</div>		
	<div class='sheet-col'>	
		<div class="sheet-field_box">
			<p  class="sheet-field_label sheet-field_label_r" data-i18n="secret" >Secret</p>
			<input style="width:100%" name="attr_secret" type="text" />
		</div>
		<br />
		<div class="sheet-field_box">
			<p  class="sheet-field_label sheet-field_label_r" data-i18n="important-person" >Important Person</p>
			<input style="width:100%" name="attr_important_person" type="text" />
		</div>
		<br />
		<div class="sheet-field_box">
			<p  class="sheet-field_label sheet-field_label_r" data-i18n="background-" >Background / Description</p>
			<textarea style="width:95%;min-height:20em;" name="attr_phys_description" ></textarea>
		</div>		
	</div>	

</div>
<br />
<div class='sheet-2colrow'>
	<div class='sheet-col'>
		<div class="sheet-field_box">
			<p class="sheet-field_label sheet-field_label_l"  data-i18n="finances-" >Finances & Other Possessions</p>
			<textarea style="width:95%" name="attr_possessions" ></textarea>
		</div>
	</div>		
	<div class='sheet-col'>	
		<div style="min-height:15em" class="sheet-field_box">
			<p  class="sheet-field_label sheet-field_label_r" data-i18n="weapons-" >Weapons & Damage Factors</p>
			<fieldset class="repeating_weapons" style="display:inline">
				<div>
					<input style="width:84%" placeholder="Weapon" type="text" name="attr_weapon" value=""/>
					X
					<input type="number" value="0" name="attr_weaponDF" />
				</div>			
			</fieldset>					
			
		</div>
	</div>	
</div>
<br />
<div class='sheet-2colrow'>
	<div class='sheet-col'>
		<div class="sheet-field_box">
			<div>
				<p style="display:inlineb-lock" class="sheet-field_label sheet-field_label_l"  data-i18n="wounds" >Wounds</p>
				<input class="sheet-wnd-msg" type="text" readonly name="attr_wnd_msg" />
			</div>
			<textarea style="width:95%;" name="attr_wounds" ></textarea>
		</div>
	</div>		
	<div class='sheet-col'>
		<div class='sheet-2colrow'>
			<div class='sheet-col'>
				<div class="sheet-field_box">
					<p  style="width:90%;" class="sheet-field_label sheet-field_label_l"  data-i18n="hit-points" >Hit Points</p>
					<div style="text-align:center;padding-bottom:3px;">	
						<div style="display:inline-block;">
							<div  style="text-align:center;font-size:smaller;font-weight:bold" data-i18n="max" >Max</div>
							<input style="border:1px solid black" type="number" name="attr_hp_max" value="14" /> 
						</div>
						<div style="display:inline-block;">
							<div style="text-align:center;font-size:smaller;font-weight:bold" data-i18n="cur" >Cur.</div>
							<input style="border:1px solid black" type="number" name="attr_hp_cur" value="14" />
						</div>
					</div>	
				</div>		
			</div>
			<div class='sheet-col'>
				<div class="sheet-field_box">
					<p  style="width:90%;" class="sheet-field_label sheet-field_label_l"  data-i18n="psychic-pool" >Psychic Pool</p>
					<div style="text-align:center;padding-bottom:3px;">	
						<div style="display:inline-block;">
							<div  style="text-align:center;font-size:smaller;font-weight:bold" data-i18n="max" >Max</div>
							<input style="border:1px solid black" type="number" name="attr_psy_max" value="0" /> 
						</div>
						<div style="display:inline-block;">
							<div style="text-align:center;font-size:smaller;font-weight:bold" data-i18n="cur" >Cur.</div>
							<input style="border:1px solid black" type="number" name="attr_psy_cur" value="0" />
						</div>
					</div>	
				</div>				
			</div>
		</div>	
		<br />
		<div class="sheet-field_box">
	
				<p style="margin-top:19px;display:inline-block;" class="sheet-field_label sheet-field_label_l"  data-i18n="experience-pool" >Experience Pool</p>
				<div style="display:inline-block;float:right">
					<div style="display:inline-block;">
						<div  style="text-align:center;font-size:smaller;font-weight:bold" data-i18n="max" >Max</div>
						<input style="border:1px solid black" type="number" name="attr_exp_max" value="0" /> 
					</div>
					<div style="display:inline-block;">
						<div style="text-align:center;font-size:smaller;font-weight:bold" data-i18n="cur" >Cur.</div>
						<input style="border:1px solid black" type="number" name="attr_exp_cur" value="0" />
					</div>
				</div>			

		</div>

	</div>
</div>

<!--{{botch}}
{{bto}}
{{btoroll}}-->


<script type="text/worker">

	  on("change:hp_max change:hp_cur", function() {
	  getAttrs(["hp_max","hp_cur"], function(values) {
	 

			
				var1 = parseInt(values.hp_max);
				var2 = parseInt(values.hp_cur);
				msg = "";
			
				console.log("calculate distinguishing char total score");
				console.log(""+var1);
				console.log(""+var2);
				if (var2 < (var1/2) && var2 > 0){
					msg="Messed Up";
				}else if (var2 < 1 && var2 > (1-var1)){
					msg="Down for the count";
				}else if (var2 < (1-var1)){
					msg="!!!! DEAD !!!!";
				}

				setAttrs({wnd_msg:msg});
			
			
	 
	  });
	});
</script>

 
<rolltemplate class="sheet-rolltemplate-actionRoll">
<div>
	<div style="background-color:black;text-align:center;color:white"> 
		{{character_name}}
		<div data-i18n="rolls" >Rolls</div>	
		<div>{{trait_name}}</div>
	</div>

	<div style="background-color:white;">
		<br/>
		<div style="text-align:center;">{{roll}}
			{{#rollTotal() roll bto}}
				<span class="sheet-big-numbers">+</span>{{btoroll}} <span class="sheet-big-numbers">(BtTO)</span>			
			{{/rollTotal() roll bto}}	
		</div>


		{{#rollTotal() roll botch}}
			<br />
			<div style="text-align:center;font-size:xx-large;font-weight:bold;" data-i18n="botch" >Botch</div>
		{{/rollTotal() roll botch}}
		
		{{#rollWasCrit() roll}}
			<br />
			<div class="sheet-us6" data-i18n="unstoppable-six">Unstoppable Six</div>
		{{/rollWasCrit() roll}}
		
		<br/>
	</div>	
</div>

</rolltemplate>
<rolltemplate class="sheet-rolltemplate-fate">
<div>
	<div style="background-color:black;text-align:center;color:white"> 
		{{character_name}}	
		<div data-i18n="rolls-hand-of-fate">Rolls Hand of Fate</div>
	</div>

	<div style="background-color:white;">
		<br/>
		<div style="text-align:center;">{{roll}}</div>
		<br/>
	</div>
</div>
</rolltemplate>



<!--
------------- i18n-tags generated with ACSI V0.1 (Automated Character Sheet Internatiolaizer)-------------
	ACSI author: github.com/Anduh
	Something something fair use probably
-->





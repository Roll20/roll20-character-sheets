<!-- ~~~~~~~~ Shadowrun Anarchy Character sheet  ~~~~~~~~~ -->
<div class="container">
	<input type="hidden" class="template" name="attr_template" value="English" />
	<input type="hidden" class="npc-toggle" name="attr_npc_toggle" value="0"/>
	<img class="header" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/ShadowrunAnarchy/ShadowrunHeader.png" style="width:100%" "border:1px solid black;" alt="Shadowrun logo" />
	<div class="pc">	
		<!-- The "Shadowrun" logo -->
		<div class="row row-name">
			<div class="col" style="margin-top: 1%;">
				<button class="pictos" type="action" name="act_template">P</button>
			</div>
			<div class="col col-name">
				<input type="text" name="attr_character_name" value="" placeholder="Name" />
			</div>
			<div class="col special">
				<input type="hidden" name="attr_special" value="" />
				<button type="action" name="act_awakened" data-i18n="awakened">Awakened</button>
				<button type="action" name="act_emerged" data-i18n="emerged">Emerged</button>
			</div>
			<div class="col npc-toggle">
				<button type="action" name="act_npc" data-i18n="NPC">NPC</button>
			</div>
		</div>
	<!-- ~~~~~~~~ Attribute  ~~~~~~~~ -->
		<div class="tan attribute">
			<div class="sheet-col">
				<button name="roll_Strength" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{strength}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Strength Roll"><h1 data-i18n="strength">STRENGTH</h1></button>
				<input type="number" name="attr_strength" value="1" title="@{strength}" />
			</div>
			<div class="vertdeco"></div>
			<div class="sheet-col">
				<button name="roll_Agility" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{agility}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{agility}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Agility Roll"><h1 data-i18n="agility">AGILITY</h1></button>
				<input type="number" name="attr_agility" value="1" title="@{agility}" />
			</div>
			<div class="vertdeco"></div>
			<div class="sheet-col">
				<button name="roll_Willpower" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{willpower}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{willpower}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Willpower Roll"><h1 data-i18n="willpower">WILLPOWER</h1></button>
				<input type="number" name="attr_willpower" value="1" title="@{willpower}" />
			</div>
			<div class="vertdeco"></div>
			<div class="sheet-col">
				<button name="roll_Logic" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{logic}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{logic}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Logic Roll"><h1 data-i18n="logic">LOGIC</h1></button>
				<input type="number" name="attr_logic" value="1" title="@{logic}" />
			</div>
			<div class="vertdeco"></div>
			<div class="sheet-col">
				<button name="roll_Charisma" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{charisma}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{charisma}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Charisma Roll"><h1 data-i18n="charisma">CHARISMA</h1></button>
				<input type="number" name="attr_charisma" value="1" title="@{charisma}" />
			</div>
			<div class="vertdeco"></div>
			<div class="sheet-col">
				<button name="roll_Edge" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{edge}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{edge}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Edge Roll"><h1 data-i18n="edge">EDGE</h1></button>
				<input type="number" name="attr_edge" value="1" title="@{edge}" />
			</div>
		</div><!--End Attributes-->
	<!-- ~~~~~~~~ Metatype Input  ~~~~~~~~ -->
		<div class="meta">
			<label data-i18n="metatype">Metatype</label>
			<input type="text" name="attr_metatype" value="" placeholder="Human" />
		</div><!-- End Metatype Inputs  -->
	<!-- ~~~~~~~~ Karma Input  ~~~~~~~~ -->
		<div class="karma">
			<div class="karma-bubbles">
				<label data-i18n="totalkarma">TOTAL KARMA</label>
				<input type="number" name="attr_karma_total" placeholder="#" title="@{karma_total}" />
			</div>
			<div class="karma-bubbles">
				<label data-i18n="karmabalance">KARMA BALANCE</label>
				<input type="number" name="attr_karma" placeholder="#" title="@{karma}" />
			</div>
		</div><!-- End Karma Inputs  -->
	<!-- ~~~~~~~~ Dispositions  ~~~~~~~~ -->
		<div class="row dispositionsrow dispoenglish">
			<div class="trapezoid"></div>
			<div class="trapezoid-white"></div>
			<h2 data-i18n="dispositions">DISPOSITIONS</h2>
			<div class="textbox toggle">
				<input type="checkbox" class="options-flag" name="attr_disposition_toggle" checked="checked" /><span>y</span>
				<div class="options">
					<div class="cues">
						<textarea name="attr_disposition_1"></textarea>
					</div>
					<div class="cues">
						<textarea name="attr_disposition_2"></textarea>
					</div>
				</div>
				<div class="display">
					<div class="cues">
						<span name="attr_disposition_1"></span>
					</div>
					<div class="cues">
						<span name="attr_disposition_2"></span>
					</div>
				</div>
			</div>
		</div><!--End Dispositions Row -->
	<!-- ~~~~~~~~ French Dispositions  ~~~~~~~~ -->
		<div class="row dispositionsrow dispofrench">
			<div class="trapezoid"></div>
			<div class="trapezoid-white"></div>
			<h2 data-i18n="dispositions">DISPOSITIONS</h2>
			<div class="textbox toggle">
				<input type="checkbox" class="options-flag" name="attr_disposition_toggle" checked="checked" /><span>y</span>
				<div class="options">
					<div class="cues">
						<label data-i18n="keywords">Keywords</label>
						<textarea name="attr_keywords"></textarea>
					</div>
					<div class="cues">
						<textarea name="attr_disposition"></textarea>
					</div>
					<div class="cues">
						<label data-i18n="cues">Cues</label>
						<textarea name="attr_cues"></textarea>
					</div> 
				</div>
				<div class="display">
					<div class="cues">
						<label data-i18n="keywords">Keywords</label>
						<span name="attr_keywords"></span>
					</div>
					<div class="cues">
						<span name="attr_disposition"></span>
					</div>
					<div class="cues">
						<label data-i18n="cues">Cues</label>
						<span name="attr_cues"></span>
					</div>
				</div>
			</div>
		</div><!--End Dispositions Row -->
	<!-- ~~~~~~~~ Skills  ~~~~~~~~ -->
		<div class="roll-toggles">
			<div class="toggle-buttons">
				<button name="roll_Perception" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{perception}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{willpower}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Perception Roll"><span class="pictos">E</span></button>
				<button name="roll_Defense" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{defense}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{agility}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Defense Roll"><span class="pictosC">e</span></button>
				<button name="roll_Spell Defense" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{spelldefense}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+@{willpower}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Spell Defense Roll"><span class="pictos3">b</span><span class="lightening">e</span></button>
				<button name="roll_Glitch Die" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{glitchdie}}}{{glitch=[[1d6cs6cs5cf1]]}}" title="Glitch Dice"><span class="glitch">L</span></button>
				<button name="roll_D6s" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{d6s}}}{{attr=?{D6s to roll|0}d6}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(?{D6s to roll|0}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="D6 Roll"><span class="d6">L</span></button>
			</div>
			<div class="toggle-toggles">
				<input type="checkbox" class="whisper-flag" name="attr_gm_toggle" value="/w gm" title="GM Whisper Toggle" /><span class="whisper-flag">w</span>
				<input type="checkbox" class="wound-flag" name="attr_wound_toggle" value="@{wounds}" title="Wounds Toggle" /><span class="wound-flag">k</span><span class="wound-line">Y</span>
				<input type="checkbox" class="modifier-flag" name="attr_modifier_toggle" value="?{Modifiers +/-|0}" title="Modifier Toggle" /><span class="modifier-flag">?</span>
				<input type="checkbox" class="edge-flag" name="attr_edge_toggle" value="1" title="Edge Toggle" /><span class="edge-flag">!</span>
				<input type="hidden" name="attr_wounds" value="0" />
				<input type="hidden" name="attr_edge_threshold" value="5" />
			</div>
		</div>
		<div class="tan bubblerow skillrow">
			<div class="trapezoid"></div>
			<div class="trapezoid-tan"></div>
			<h2 data-i18n="skills">SKILLS</h2>
			<fieldset class="repeating_skills">
				<input type="hidden" name="attr_skill_spec_display">
				<input type="hidden" name="attr_attribute_name" value="Strength">
				<div class="toggle">
					<input type="checkbox" class="options-flag" name="attr_skill_toggle" checked="checked" /><span>y</span>
					<div class="options">
						<div class="skillbox">
							<input type="text" name="attr_skill" placeholder="Skill Name">
							<input type="number" name="attr_skill_rank" placeholder="0"><br />
							<input type="hidden" name="attr_skill_specalization" placeholder="Specialization"> <!--- DELETE IN FUTURE UPDATE Patch 1.8--->
							<input type="text" name="attr_skill_specialization" placeholder="Specialization">
						</div>
					</div>
					<div class="display">
						<div class="skillbox">
							<div class="skillheader">
								<button name="roll_Skill" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=@{skill}}}{{attr=@{attribute_name}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{skill_rank}+@{skill_attribute}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Skill Name">
									<span class="skillname" name="attr_skill_display"></span>
								</button>
								<button name="roll_Specialization" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=@{skill}}}{{spec=@{skill_specialization}}}{{attr=@{attribute_name}}}{{wound=[[@{wound_toggle}]]}}{{mod=[[@{modifier_toggle}]]}}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{skill_rank}+2+@{skill_attribute}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Skill Specilization Roll">
									<span class="skillname" name="attr_skill_spec_display"></span>
								</button>
							</div>
							<div class="skillcontainer">
								<span  name="attr_skill_rank"></span>
								<select name="attr_skill_attribute">
									<option class="option" value="@{strength}" data-i18n="+S">+S</option>
									<option class="option" value="@{agility}" data-i18n="+A">+A</option>
									<option class="option" value="@{willpower}" data-i18n="+W">+W</option>
									<option class="option" value="@{logic}" data-i18n="+L">+L</option>
									<option class="option" value="@{charisma}" data-i18n="+C">+C</option>
									<option class="option" value="@{edge}" data-i18n="+E">+E</option>
									<option class="option" value="0" data-i18n="(K)">(K)</option>
								</select>
							</div>
						</div>
					</div>
				</div>
			</fieldset>
		</div><!-- End Skills Row -->
	<!-- ~~~~~~~~ Shadow Amps  ~~~~~~~~ -->
		<div class="tan bubblerow amprow">
			<div class="trapezoid"></div>
			<div class="trapezoid-tan"></div>
			<div class="essence-box">
				<h2 data-i18n="shadowamps">SHADOW AMPS</h2>
				<h3 data-i18n="essence">ESSENCE</h3><span style="color:white">: </span>
				<input class="essence-input" type="text" name="attr_essence" value="6" placeholder="6" title="@{essence}" /> 
				<input class="essence-note" type="text" name="attr_essence_penalty" value="" placeholder="0 penalty to magic/healing tests" title="@{essence_penalty}" />
			</div>
			<fieldset class="repeating_amps">
				<div class="toggle">
					<input type="checkbox" class="options-flag" name="attr_amp_toggle" checked="checked" /><span>y</span>
					<div class="options">
						<div class="ampbox">
							<input type="number" name="attr_amp_rating" placeholder="0">
							<input type="text" name="attr_amp" placeholder="Amp Name">
							<textarea name="attr_amp_desc" placeholder="Amp Description"></textarea>
						</div>
					</div>
					<div class="display">
						<div class="skillbox">
							<div class="amprating"><span name="attr_amp_rating"></span></div>
							<div class="ampheader"><button name="roll_Description" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=@{amp}}}{{desc=@{amp_desc}}}"><span class="skillname" name="attr_amp"></span></button></div>
							<div class="textcontainer"><span name="attr_amp_desc"></span></div>
						</div>
					</div>
				</div>
			</fieldset>
		</div><!-- End Shadow Amps -->
	<!-- ~~~~~~~~ Cues  ~~~~~~~~ -->
		<div class="row cuerow">
			<div class="trapezoid"></div>
			<div class="trapezoid-white"></div>
			<div class="que-hide">
				<h2 data-i18n="cues">CUES</h2>
				<div class="textbox toggle">
					<input type="checkbox" class="options-flag" name="attr_cue_toggle" checked="checked" /><span>y</span>
					<div class="options">
						<div class="cues">
							<textarea name="attr_cues_1"></textarea>
						</div>
						<div class="cues">
							<textarea name="attr_cues_2"></textarea>
						</div>
					</div>
					<div class="display">
						<div class="cues">
							<span name="attr_cues_1"></span>
						</div>
						<div class="cues">
							<span name="attr_cues_2"></span>
						</div>
					</div>
				</div>
			</div>
		</div><!--End Cues  -->
	<!-- ~~~~~~~~ Qualities  ~~~~~~~~ -->
		<div class="qualityrow bubblerow">
			<h2 data-i18n="qualities">QUALITIES</h2>
			<fieldset class="repeating_qualities">
			<div class="toggle">
				<input type="checkbox" class="options-flag" name="attr_quality_toggle" checked="checked" /><span>y</span>
				<div class="options">
					<input type="radio" class="quality-pos" name="attr_quality_type" value="positive" title="Positive Quality" checked="checked" /><span>+</span>
					<input type="radio" class="quality-neg" name="attr_quality_type" value="negative" title="Negative Quality"  /><span>-</span>
					<div class="ampbox">
						<input type="text" name="attr_quality" placeholder="Quality" />
						<textarea name="attr_quality_desc" value="" placeholder="Quality Description" /></textarea>
					</div>
				</div>
				<div class="display">
					<input type="hidden" class="quality-pos" name="attr_quality_type" value="positive" />
					<input type="hidden" class="quality-neg" name="attr_quality_type" value="negative" />
					<div class="skillbox">
						<div class="ampheader"><button name="roll_Quality" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=@{quality}}}{{desc=@{quality_desc}}}"><span class="skillname" name="attr_quality"></span></button></div>
						<div class="textcontainer"><span name="attr_quality_desc"></span></div>
					</div>
				</div>
			</div>
			</fieldset>
		</div><!-- End Qualities  -->
	<!-- ~~~~~~~~ Weapons!! ~~~~~~~~ -->
		<div class="tan weaponrow">
			<div class="trapezoid"></div>
			<div class="trapezoid-tan"></div>
			<h2 data-i18n="weapons">WEAPONS</h2>
			<div class="weaponsection">
			<!-- Unarmed Boxs-->
				<div class="unarmedbox toggle">
					<div class="unarmedheader">
						<button name="roll_Unarmed" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{unarmed}}}{{desc=@{unarmed_dmg}}}">
							<h4 data-i18n="unarmed">UNARMED</h4>
						</button>
					</div>
					<div class="unarmeddamagebox">
						<div class="weaponlabels"><label data-i18n="damage">DAM</label></div>
						<div class="weaponlabels"><label data-i18n="close">CLOSE</label></div>
						<div class="weaponlabels"><label data-i18n="near">NEAR</label></div>
						<div class="weaponlabels"><label data-i18n="far">FAR</label></div>
					</div>
					<input type="checkbox" class="options-flag" name="attr_unarmed_toggle" checked="checked" /><span>y</span>
					<div class="options unarmeddamagebox">
						<input type="text" name="attr_unarmed_dmg" value="" placeholder="#S" />
						<input type="text" name="attr_unarmed_close" value="OK" placeholder="OK" />
						<input type="text" name="attr_unarmed_near" value="-" placeholder="-"/>
						<input type="text" name="attr_unarmed_far" value="-" placeholder="-" />
					</div>
					<div class="display unarmeddamagebox">
						<div class="weaponlabels"><span name="attr_unarmed_dmg"></span></div>
						<div class="weaponlabels"><span name="attr_unarmed_close"></span></div>
						<div class="weaponlabels"><span name="attr_unarmed_near"></span></div>
						<div class="weaponlabels"><span name="attr_unarmed_far"></span></div>
					</div>
				</div>
				<br />
			<!-- Weapons box -->
				<fieldset class="repeating_weapons">
					<div class="weaponbox toggle ">
						<input type="checkbox" class="options-flag" name="attr_weapon_toggle" checked="checked" /><span>y</span>
						<div class="weaponsubtitlesbox">
							<label data-i18n="damage">DAM</label>
							<label data-i18n="close">CLOSE</label>
							<label data-i18n="near">NEAR</label>
							<label data-i18n="far">FAR</label>
						</div>
						<div class="options weapondamagebox">
							<div class="weaponheader">
								<input type="text" name="attr_weapon_name" value="" placeholder="Ares Predator V" /><br />
								<input type="text" name="attr_weapon_type" value="" placeholder="Heavy Pistol" />
							</div>
							<div class="weaponbody">
								<input type="text" name="attr_weapon_dmg" value="" placeholder="6P" />
								<input type="text" name="attr_weapon_close" value="" placeholder="OK" />
								<input type="text" name="attr_weapon_near" value="" placeholder="-2"/>
								<input type="text" name="attr_weapon_far" value="" placeholder="-" />
							</div>
						</div>
						<div class="display weapondamagebox">
							<div class="weaponheader">
								<button name="roll_Weapon" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=@{weapon_name}}}{{desc=@{weapon_type}, @{weapon_dmg}}}">
									<span name="attr_weapon_name"></span>
								</button>
								<br />
								<span name="attr_weapon_type"></span>
							</div>
							<div class="weaponbody">
								<div class="weaponlabels"><span name="attr_weapon_dmg"></span></div>
								<div class="weaponlabels"><span name="attr_weapon_close"></span></div>
								<div class="weaponlabels"><span name="attr_weapon_near"></span></div>
								<div class="weaponlabels"><span name="attr_weapon_far"></span></div>
							</div>
						</div>
					</div>
				</fieldset>
			</div>
		</div><!--End Weapons!! -->
	<!-- ~~~~~~~~  Condition Monitor  ~~~~~~~~ -->
		<div class="tan conrow">
			<div class="trapezoid"></div>
			<div class="trapezoid-tan"></div>
			<div class="trapezoid"></div>
			<div class="trapezoid-tan"></div>
			<h1 data-i18n="condition">CONDITION MONITOR</h1>
		<!-- ~~~~~~~~  Armor  ~~~~~~~~ -->	
			<div class="armorbox">
				<div class="armorsection">
					<div class="toggle">
						<input type="checkbox" class="options-flag" name="attr_armor_toggle" checked="checked" /><span>y</span>
						<div class="options">
							<input type="number" name="attr_armor" value="" placeholder="12" />
							<input type="text" name="attr_armor_name" value="" placeholder="Armor Jacket" />
						</div>
						<div class="display">
							<div class="armor">
								<span name="attr_armor_name"></span>
							</div>
						</div>
					</div>
					<input type="radio" class="radio-header-armor" name="attr_armor_damage" value="0" title="Armor Reset" checked="checked" />
					<h1 data-i18n="armor">ARMOR</h1>
					<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/ShadowrunAnarchy/CatalystLogo.png" alt="Catalyst & Anarchy Logo">
					<div class="armorcircles">
						<input type="hidden" name="attr_armor_1_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="1" /><span></span>
						<input type="hidden" name="attr_armor_2_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="2" /><span></span>
						<input type="hidden" name="attr_armor_3_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="3" /><span></span>
						<input type="hidden" name="attr_armor_4_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="4" /><span></span>
						<input type="hidden" name="attr_armor_5_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="5" /><span></span><br />
						<input type="hidden" name="attr_armor_6_enabled" value="true"/>
						<input type="radio" class="circles5" name="attr_armor_damage" value="6" /><span></span>
						<input type="hidden" name="attr_armor_7_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="7" /><span></span>
						<input type="hidden" name="attr_armor_8_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="8" /><span></span>
						<input type="hidden" name="attr_armor_9_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="9" /><span></span>
						<input type="hidden" name="attr_armor_10_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="10" /><span></span><br />
						<input type="hidden" name="attr_armor_11_enabled" value="true"/>
						<input type="radio" class="circles15" name="attr_armor_damage" value="11" /><span></span>
						<input type="hidden" name="attr_armor_12_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="12" /><span></span>
						<input type="hidden" name="attr_armor_13_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="13" /><span></span>
						<input type="hidden" name="attr_armor_14_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="14" /><span></span>
						<input type="hidden" name="attr_armor_15_enabled" value="true"/>
						<input type="radio" name="attr_armor_damage" value="15" /><span></span>
					</div>
				</div>
			</div>
		<!-- Middle area with condition monitor -->
		<img class="conleftdec" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/ShadowrunAnarchy/SideDecor.png" alt="Straight line with circle at the top facing left.">
		<img class="conmiddec" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/ShadowrunAnarchy/MidDecor.png" alt="Straight line with circle at both ends">
		<img class="conrightdec" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/ShadowrunAnarchy/SideDecor.png" alt="Straight line with circle at the top facing right.">
			<div class="conditionbox">
			<!-- Physical Damage Circles -->
				<div class="conditionsection">
					<input type="hidden" name="attr_physical_max" value="8">
					<input type="radio" class="radio-header-physical" name="attr_physical" value="0" title="Physical Reset" checked="checked" />
					<h2 data-i18n="physical">PHYSICAL</h2>
					<div class="conditioncircles">
						<input type="hidden" name="attr_physical_1_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="1" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_2_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="2" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_3_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="3" /><span></span><span class="condigit">-1</span><br />
						<input type="hidden" name="attr_physical_4_enabled" value="true"/>
						<input type="radio" class="circles5" name="attr_physical" value="4" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_5_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="5" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_6_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="6" /><span></span><span class="condigit">-2</span><br />
						<input type="hidden" name="attr_physical_7_enabled" value="true"/>
						<input type="radio" class="circles15" name="attr_physical" value="7" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_8_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="8" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_9_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="9" /><span></span><span class="condigit">-3</span><br />
						<input type="hidden" name="attr_physical_10_enabled" value="true"/>
						<input type="radio" class="circles25" name="attr_physical" value="10" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_11_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="11" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_12_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="12" /><span></span><span class="condigit">-4</span><br />
						<input type="hidden" name="attr_physical_13_enabled" value="true"/>
						<input type="radio" class="circles35" name="attr_physical" value="13" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_14_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="14" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_physical_15_enabled" value="true"/>
						<input type="radio" name="attr_physical" value="15" /><span></span><span class="condigit">-5</span><br />
					</div>
				</div>
			<!-- Stun Damage Cirlces -->
				<div class="conditionsection">
					<input type="hidden" name="attr_stun_max" value="8">
					<input type="radio" class="radio-header-small" name="attr_stun" value="0" title="Stun Reset" checked="checked" />
					<h2 data-i18n="stun">STUN</h2>
					<div class="conditioncircles">
						<input type="hidden" name="attr_stun_1_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="1" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_2_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="2" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_3_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="3" /><span></span><span class="condigit">-1</span><br />
						<input type="hidden" name="attr_stun_4_enabled" value="true"/>
						<input type="radio" class="circles5" name="attr_stun" value="4" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_5_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="5" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_6_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="6" /><span></span><span class="condigit">-2</span><br />
						<input type="hidden" name="attr_stun_7_enabled" value="true"/>
						<input type="radio" class="circles15" name="attr_stun" value="7" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_8_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="8" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_9_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="9" /><span></span><span class="condigit">-3</span><br />
						<input type="hidden" name="attr_stun_10_enabled" value="true"/>
						<input type="radio" class="circles25" name="attr_stun" value="10" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_11_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="11" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_12_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="12" /><span></span><span class="condigit">-4</span><br />
						<input type="hidden" name="attr_stun_13_enabled" value="true"/>
						<input type="radio" class="circles35" name="attr_stun" value="13" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_14_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="14" /><span></span><div class="arrow-left"></div>
						<input type="hidden" name="attr_stun_15_enabled" value="true"/>
						<input type="radio" name="attr_stun" value="15" /><span></span><span class="condigit">-5</span><br />
					</div>
				</div>
			<!-- Edge & Plot Cirlces -->
				<div class="edgesection">
					<input type="radio" class="radio-header-small" name="attr_edge_pool" value="0" title="Edge Reset" checked="checked" />
					<h2 data-i18n="edge">EDGE</h2>
					<div class="edgecircles">
						<input type="hidden" name="attr_edge_1_enabled" value="true"/>
						<input type="radio" name="attr_edge_pool" value="1" /><span></span>
						<input type="hidden" name="attr_edge_2_enabled" value="true"/>
						<input type="radio" name="attr_edge_pool" value="2" /><span></span>
						<input type="hidden" name="attr_edge_3_enabled" value="true"/>
						<input type="radio" name="attr_edge_pool" value="3" /><span></span>
						<input type="hidden" name="attr_edge_4_enabled" value="true"/>
						<input type="radio" name="attr_edge_pool" value="4" /><span></span>
						<input type="hidden" name="attr_edge_5_enabled" value="true"/>
						<input type="radio" name="attr_edge_pool" value="5" /><span></span>
						<input type="hidden" name="attr_edge_6_enabled" value="true"/>
						<input type="radio" name="attr_edge_pool" value="6" /><span></span>
					</div>
				</div>
				<div class="edgesection">
					<input type="radio" class="radio-header-small" name="attr_plot" value="0" title="Plot Reset" checked="checked" />
					<h2 data-i18n="plot">PLOT</h2>
					<div class="edgecircles">
						<input type="radio" name="attr_plot" value="1" /><span></span>
						<input type="radio" name="attr_plot" value="2" /><span></span>
						<input type="radio" name="attr_plot" value="3" /><span></span>
						<input type="radio" name="attr_plot" value="4" /><span></span>
						<input type="radio" name="attr_plot" value="5" /><span></span>
					</div>
				</div>
			</div>
		<!-- Gear & Contact section -->
			<div class="gearbox">
				<h1 data-i18n="gear">GEAR</h1>
				<div class="textbox toggle geartoggle">
					<input type="checkbox" class="options-flag" name="attr_gear_toggle" checked="checked" /><span>y</span>
					<div class="options">
						<div class="gear">
							<textarea name="attr_gear" placeholder="Erika Elite Commlink, Crowbar, fake SIN, sister's necklace"></textarea>
						</div>
					</div>
					<div class="display">
						<div class="gear">
							<span name="attr_gear"></span>
						</div>
					</div>
				</div>
				<h1 data-i18n="contacts">Contacts</h1>
				<div class="textbox toggle contacttoggle">
					<input type="checkbox" class="options-flag" name="attr_contact_toggle" checked="checked" /><span>y</span>
					<div class="options">
						<div class="gear contact">
							<textarea name="attr_contacts" placeholder="Old Crow (informational anarchist, Raven shaman)"></textarea>
						</div>
					</div>
					<div class="display">
						<div class="gear contact">
							<span name="attr_contacts"></span>
						</div>
					</div>
				</div>
			</div>
		</div> <!--- End Condition Monitor area -->
	</div><!--- End PC Sheet -->
<!-- ~~~~~~~~ Start of NPC sheet  ~~~~~~~~ -->
	<input type="hidden" class="npc-toggle" name="attr_npc_toggle" />
	<div class="npc">
		<div class="toggle">
			<input type="checkbox" class="options-flag" name="attr_npc_options_toggle" checked="checked" /><span style="display:inline-block">y</span>
			<div class="options">
				<h1 data-i18n="npcoptions">NPC Options</h1>
				<div class="row">
					<span data-i18n="name">NAME</span><input type="text" name="attr_character_name" value="1" placeholder="Name" />
				</div>
				<div class="row"><label data-i18n="attributes">Attributes</label></div>
				<div class="row">
					<span data-i18n="str">STR </span><input type="number" name="attr_strength" value="1" placeholder="0" title="@{strength}"/>
					<span data-i18n="agi">AGI </span><input type="number" name="attr_agility" value="1" placeholder="0" title="@{agility}" />
					<span data-i18n="wil">WIL </span><input type="number" name="attr_willpower" value="1" placeholder="0" title="@{willpower}" />
					<span data-i18n="log">LOG </span><input type="number" name="attr_logic" value="1" title="@{logic}" />
					<span data-i18n="cha">CHA </span><input type="number" name="attr_charisma" value="1" title="@{charisma}" />
					<span data-i18n="edg">EDG </span><input type="number" name="attr_edge" value="1" placeholder="0" title="@{edge}" />
				</div>
				<div class="row"><label data-i18n="skills" style="font-weight: bolder">SKILLS</label></div>
				<div class="col">
					<div class="row"><span data-i18n="astralcombat">Astral Combat</span><input type="number" name="attr_astral_combat" value="0" placeholder="0" title="@{astral_combat}" /></div>
					<div class="row"><span data-i18n="athletics">Athletics</span><input type="number" name="attr_athletics" value="0" placeholder="0" title="@{athletics}" /></div>
					<div class="row"><span data-i18n="biotech">Biotech</span><input type="number" name="attr_biotech" value="0" placeholder="0" title="@{biotech}" /></div>
					<div class="row"><span data-i18n="closecombat">Close Combat</span><input type="number" name="attr_close_combat" value="0" placeholder="0" title="@{close_combat}" /></div>
					<div class="row"><span data-i18n="con">Con</span><input type="number" name="attr_con" value="0" placeholder="0" title="@{con}" /></div>
					<div class="row"><span data-i18n="conjuring">Conjuring</span><input type="number" name="attr_conjuring" value="0" placeholder="0" title="@{conjuring}" /></div>
					<div class="row"><span data-i18n="disguise">Disguise</span><input type="number" name="attr_disguise" value="0" placeholder="0" title="@{disguise}" /></div>
					<div class="row"><span data-i18n="electronics">Electronics</span><input type="number" name="attr_electronics" value="0" placeholder="0" title="@{electronics}" /></div>
				</div>
				<div class="col">
					<div class="row"><span data-i18n="engineering">Engineering</span><input type="number" name="attr_engineering" value="0" placeholder="0" title="@{engineering}" /></div>
					<div class="row"><span data-i18n="escapeartist">Escape Artist</span><input type="number" name="attr_escape_artist" value="0" placeholder="0" title="@{escape_artist}" /></div>
					<div class="row"><span data-i18n="firearms">Firearms</span><input type="number" name="attr_firearms" value="0" placeholder="0" title="@{firearms}" /></div>
					<div class="row"><span data-i18n="hacking">Hacking</span><input type="number" name="attr_hacking" value="0" placeholder="0" title="@{hacking}" /></div>
					<div class="row"><span data-i18n="heavyweapons">Heavy Weapons</span><input type="number" name="attr_heavy_weapons" value="0" placeholder="0" title="@{heavy_weapons}" /></div>
					<div class="row"><span data-i18n="intimidation">Intimidation</span><input type="number" name="attr_intimidation" value="0" placeholder="0" title="@{intimidation}" /></div>
					<div class="row"><span data-i18n="negotiation">Negotiation</span><input type="number" name="attr_negotiation" value="0" placeholder="0" title="@{negotiation}" /></div>
					<div class="row"><span data-i18n="pilotground">Piloting (Ground)</span><input type="number" name="attr_piloting_ground" value="0" placeholder="0" title="@{piloting_ground}" /></div>
				</div>
				<div class="col">
					<div class="row"><span data-i18n="pilotother">Piloting (Other)</span><input type="number" name="attr_piloting_other" value="0" placeholder="0" title="@{piloting_other}" /></div>
					<div class="row"><span data-i18n="projectileweapons">Projectile Weapons</span><input type="number" name="attr_projectile_weapons" value="0" placeholder="0" title="@{projectile_weapons}" /></div>
					<div class="row"><span data-i18n="sorcery">Sorcery</span><input type="number" name="attr_sorcery" value="0" placeholder="0" title="@{sorcery}" /></div>
					<div class="row"><span data-i18n="stealth">Stealth</span><input type="number" name="attr_stealth" value="0" placeholder="0" title="@{stealth}" /></div>
					<div class="row"><span data-i18n="survival">Survival</span><input type="number" name="attr_survival" value="0" placeholder="0" title="@{survival}" /></div>
					<div class="row"><span data-i18n="tasking">Tasking</span><input type="number" name="attr_tasking" value="0" placeholder="0" title="@{tasking}" /></div>
					<div class="row"><span data-i18n="tracking">Tracking</span><input type="number" name="attr_tracking" value="0" placeholder="0" title="@{tracking}" /></div>
					<div class="row"><span data-i18n="vehicleweapons">Vehicle Weapons</span><input type="number" name="attr_vehicle_weapons" value="0" placeholder="0" title="@{vehicle_weapons}" /></div>
				</div>
				<br />
				<label data-i18n="condition" style="font-weight: bolder">CONDITION MONITOR</label>
				<div class="row">
					<span data-i18n="armor">ARMOR</span>
					<input type="number" name="attr_armor" value="9" placeholder="9"><input type="text" name="attr_armor_name" value="Natural Armor" placeholder="Natural Armor">
				</div>
				<br />
				<div class="row">
					<span data-i18n="physicalbonus">PHYSICAL BONUS</span><input type="number" name="attr_physical_bonus" value="0" placeholder="0"> / 
					<span data-i18n="stunbonus">STUN BONUS</span><input type="number" name="attr_stun_bonus" value="0" placeholder="0">
				</div>
				<br />
				<span data-i18n="npctoggle">NPC Toggle</span><input class="npc-toggle" type="checkbox" name="attr_npc_toggle" value="npc" checked="checked" />
			</div>
			<div class="display">
				<div class="npc-name"><span name="attr_character_name"></span></div>
				<div class="roll-toggles">
					<button name="roll_NPCPerception" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{perception}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{willpower}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Perception Roll"><span class="pictos">E</span></button>
					<button name="roll_NPCDefense" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{defense}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{agility}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Defense Roll"><span class="pictosC">e</span></button>
					<button name="roll_NPCSpell Defense" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=spelldefense}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+@{willpower}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="Spell Defense Roll"><span class="pictos3">b</span><span class="lightening">e</span></button>
					<button name="roll_NPCGlitch Die" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^glitchdie}}{{glitch=[[1d6cs6cs5cf1]]}}" title="Glitch Dice"><span class="glitch">L</span></button>
					<button name="roll_NPCD6" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^d6s}}{{attr=?{D6s to roll|0}d6}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(?{D6s to roll|0}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}" title="D6s"><span class="d6">L</span></button>
					<div class="toggle-toggles">
						<input type="checkbox" class="whisper-flag" name="attr_gm_toggle" value="/w gm" title="GM Whisper Toggle" /><span class="whisper-flag">w</span>
						<input type="checkbox" class="wound-flag" name="attr_wound_toggle" value="@{wounds}" title="Wounds Toggle" /><span class="wound-flag">k</span><span class="wound-line">Y</span>
						<input type="checkbox" class="modifier-flag" name="attr_modifier_toggle" value="?{Modifiers +/-|0}" title="Modifier Toggle" /><span class="modifier-flag">?</span>
						<input type="checkbox" class="edge-flag" name="attr_edge_toggle" value="1" title="Edge Toggle" /><span class="edge-flag">!</span>
						<input type="hidden" name="attr_wounds" value="0" />
						<input type="hidden" name="attr_edge_threshold" value="5" />
					</div>
				</div>
				<div class="npc-attribute">
					<button name="roll_NPCStrength" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^strength}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Strength Roll"><label>STR</label></button>
					<button name="roll_NPCAgility" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{agility}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Agility Roll"><label>AGI</label></button>
					<button name="roll_NPCWillpower" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{willpower}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Willpower Roll"><label>WIL</label></button>
					<button name="roll_NPCLogic" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{logic}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Logic Roll"><label>LOG</label></button>
					<button name="roll_NPCCharisma" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{charisma}}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Charisma Roll"><label>CHA</label></button>
					<button name="roll_NPCEdge" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^edge}}{{attr=^{attribute}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{strength}+(@{attribute_roll})+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}]]}}" title="Edge Roll"><label>EDG</label></button>
					<div class="npc-attr-row">
						<div class="npc-attr-num"><span name="attr_strength"></span></div>
						<div class="npc-attr-num"><span name="attr_agility"></span></div>
						<div class="npc-attr-num"><span name="attr_willpower"></span></div>
						<div class="npc-attr-num"><span name="attr_logic"></span></div>
						<div class="npc-attr-num"><span name="attr_charisma"></span></div>
						<div class="npc-attr-num"><span name="attr_edge"></span></div>
					</div>
				</div>
				<div class="npc-body">
					<div class="indent-row"><span class="bolder caps" data-i18n="skills" style="font-weight: bolder">SKILLS</span><span>: </span>
						<!-- ~~~~~~~~ astralcombat  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_astral_combat_flag" value="0">
						<span class="optional"><button name="roll_NPCAstral Combat" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{astralcombat}}}{{attr=^{willpower}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{astral_combat}+@{willpower}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}"><span data-i18n="astralcombat">Astral Combat</span><span> </span><span name="attr_astral_combat"></span><span>+W</span></button>,</span>
						<!-- ~~~~~~~~ Athletics  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_athletics_flag" value="0">
						<span class="optional"><button name="roll_NPCAthletics" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{athletics}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{athletics}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="athletics">Athletics</span><span> </span><span name="attr_athletics"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ Biotech  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_biotech_flag" value="0">
						<span class="optional"><button name="roll_NPCBiotech" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{biotech}}}{{attr=^{logic}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{biotech}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="biotech">Biotech</span><span> </span><span name="attr_biotech"></span><span>+L</span></button>,</span>
						<!-- ~~~~~~~~ close_combat  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_close_combat_flag" value="0">
						<span class="optional"><button name="roll_NPCClose Combat" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{closecombat}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{close_combat}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="closecombat">Close Combat</span><span> </span><span name="attr_close_combat"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ con  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_con_flag" value="0">
						<span class="optional"><button name="roll_NPCCon" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{con}}}{{attr=^{charisma}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{con}+@{charisma}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="con">Con</span><span> </span><span name="attr_con"></span><span>+C</span></button>,</span>
						<!-- ~~~~~~~~ conjuring  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_conjuring_flag" value="0">
						<span class="optional"><button name="roll_NPCConjuring" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{conjuring}}}{{attr=^{willpower}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{conjuring}+@{willpower}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="conjuring">Conjuring</span><span> </span><span name="attr_conjuring"></span><span>+W</span></button>,</span>
						<!-- ~~~~~~~~ disguise  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_disguise_flag" value="0">
						<span class="optional"><button name="roll_NPCDisguise" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{disguise}}}{{attr=^{charisma}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{disguise}+@{charisma}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="disguise">Disguise</span><span> </span><span name="attr_disguise"></span><span>+C</span></button>,</span>
						<!-- ~~~~~~~~ electronics  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_electronics_flag" value="0">
						<span class="optional"><button name="roll_NPCElectronics" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{electronics}}}{{attr=^{logic}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{electronics}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="electronics">Electronics</span><span> </span><span name="attr_electronics"></span><span>+L</span></button>,</span>
						<!-- ~~~~~~~~ engineering  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_engineering_flag" value="0">
						<span class="optional"><button name="roll_NPCEngineering" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{engineering}}}{{attr=^{logic}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{engineering}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="engineering">Engineering</span><span> </span><span name="attr_engineering"></span><span>+L</span></button>,</span>
						<!-- ~~~~~~~~ escape_artist  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_escape_artist_flag" value="0">
						<span class="optional"><button name="roll_NPCEscape Artist" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{escapeartist}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{escape_artist}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="escapeartist">Escape Artist</span><span> </span><span name="attr_escape_artist"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ firearms  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_firearms_flag" value="0">
						<span class="optional"><button name="roll_NPCFirearms" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{firearms}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{firearms}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="firearms">Firearms</span><span> </span><span name="attr_firearms"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ hacking  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_hacking_flag" value="0">
						<span class="optional"><button name="roll_NPCHacking" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{hacking}}}{{attr=^{logic}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{hacking}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="hacking">Hacking</span><span> </span><span name="attr_hacking"></span><span>+L</span></button>,</span>
						<!-- ~~~~~~~~ heavy weapons  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_heavy_weapons_flag" value="0">
						<span class="optional"><button name="roll_NPCHeavy Weapons" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{heavyweapons}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{heavy_weapons}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="heavyweapons">Heavy Weapons</span><span> </span><span name="attr_heavy_weapons"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ intimidation  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_intimidation_flag" value="0">
						<span class="optional"><button name="roll_NPCIntimidation" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{intimidation}}}{{attr=^{charisma}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{intimidation}+@{charisma}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="intimidation">Intimidation</span><span> </span><span name="attr_intimidation"></span><span>+C</span></button>,</span>
						<!-- ~~~~~~~~ negotiation  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_negotiation_flag" value="0">
						<span class="optional"><button name="roll_NPCNegotiation" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{negotiation}}}{{attr=^{charisma}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{negotiation}+@{charisma}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="negotiation">Negotiation</span><span> </span><span name="attr_negotiation"></span><span>+C</span></button>,</span>
						<!-- ~~~~~~~~ piloting_ground  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_piloting_ground_flag" value="0">
						<span class="optional"><button name="roll_NPCPiloting (Ground)" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{pilotground}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{piloting_ground}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="pilotground">Piloting (Ground)</span><span> </span><span name="attr_piloting_ground"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ piloting_other  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_piloting_other_flag" value="0">
						<span class="optional"><button type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header^{pilotother}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{piloting_other}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="pilotother">Piloting (Other)</span><span> </span><span name="attr_piloting_other"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ projectile_weapons  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_projectile_weapons_flag" value="0">
						<span class="optional"><button name="roll_NPCProjectile Weapons" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{projectileweapons}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{projectile_weapons}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="projectileweapons">Projectile Weapons</span><span> </span><span name="attr_projectile_weapons"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ sorcery  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_sorcery_flag" value="0">
						<span class="optional"><button name="roll_NPCSorcery" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{sorcery}}}{{attr=^{willpower}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{sorcery}+@{willpower}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="sorcery">Sorcery</span><span> </span><span name="attr_sorcery"></span><span>+W</span></button>,</span>
						<!-- ~~~~~~~~ stealth  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_stealth_flag" value="0">
						<span class="optional"><button name="roll_NPCStealth" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{stealth}}}{{attr=^{agility}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{stealth}+@{agility}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="stealth">Stealth</span><span> </span><span name="attr_stealth"></span><span>+A</span></button>,</span>
						<!-- ~~~~~~~~ survival  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_survival_flag" value="0">
						<span class="optional"><button name="roll_NPCSurvival" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{survival}}}{{attr=^{willpower}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{survival}+@{willpower}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="survival">Survival</span><span> </span><span name="attr_survival"></span><span>+W</span></button>,</span>
						<!-- ~~~~~~~~ tasking  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_tasking_flag" value="0">
						<span class="optional"><button name="roll_NPCTasking" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{tasking}}}{{attr=^{logic}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{tasking}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="tasking">Tasking</span><span> </span><span name="attr_tasking"></span><span>+L</span></button>,</span>
						<!-- ~~~~~~~~ tracking  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_tracking_flag" value="0">
						<span class="optional"><button name="roll_NPCTracking" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{tracking}}}{{attr=^{logic}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{tracking}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="tracking">Tracking</span><span> </span><span name="attr_tracking"></span><span>+L</span></button>,</span>
						<!-- ~~~~~~~~ vehicle_weapons  ~~~~~~~~ -->
						<input type="hidden" class="optional-flag0" name="attr_vehicle_weapons_flag" value="0">
						<span class="optional"><button name="roll_NPCVehicle Weapons" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=^{vehicleweapons}}}{{attr=^{logic}}}{{mod=[[@{modifier_toggle}]]}}{{wound=[[@{wound_toggle}]]}}@{modifier_toggle}{{edge=[[@{edge_toggle}]]}}{{dice=[[(@{vehicle_weapons}+@{logic}+@{wound_toggle}+@{modifier_toggle}+@{edge_toggle})d6>@{edge_threshold}cs0]]}}">
							<span data-i18n="vehicleweapons">Vehicle Weapons</span><span> </span><span name="attr_vehicle_weapons"></span><span>+A</span></button></span>
					</div>
				</div>
				<div class="indent-row"><span class="caps" data-i18n="shadowamps" style="font-weight: bolder">SHADOW AMPS</span><span>: </span>
					<span data-i18n="essence">Essence</span><span>: </span>
					<input class="essence-input" type="text" name="attr_essence" value="6" placeholder="6" title="@{essence}" /> 
					<input class="essence-note" type="text" name="attr_essence_penalty" value="" placeholder="0 penalty to magic/healing tests" title="@{essence_penalty}" />
				</div>
				<div class="npc-ampbox">
					<fieldset class="repeating_amps">
					<div class="toggle">
						<input type="checkbox" class="options-flag" name="attr_amp_toggle" checked="checked" /><span>y</span>
						<div class="options">
							<div class="npc-amps">
								<input type="text" name="attr_amp" placeholder="Amp Name">
								<input class="npc-long" type="text" name="attr_amp_desc" placeholder="Amp Description">
							</div>
						</div>
						<div class="display">
							<div class="npc-amps">
								<button name="roll_NPCDescription" type="roll" value="@{gm_toggle} &{template:sAnarchy}{{header=@{amp}}}{{desc=@{amp_desc}}}"><span name="attr_amp"></span></button><span>: </span><span name="attr_amp_desc"></span>
							</div>
						</div>
					</div>
					</fieldset>
				</div>
				<div class="npc-weapons">
					<h2>Weapons</h2>
					<div class="weaponsubtitlesbox">
						<div class="weaponlabels"><span data-i18n="damage">Damage</span></div>
						<div class="weaponlabels"><span data-i18n="close">Close</span></div>
						<div class="weaponlabels"><span data-i18n="near">Near</span></div>
						<div class="weaponlabels"><span data-i18n="far">Far</span></div>
					</div>
					<fieldset class="repeating_weapons">
					<div class="weaponbox toggle">
						<input type="checkbox" class="options-flag" name="attr_weapon_toggle" checked="checked" /><span>y</span>
						<div class="options weapondamagebox">
							<div class="weaponheader">
								<input type="text" name="attr_weapon_name" value="" placeholder="Ares Predator V" /><br />
							</div>
							<div class="weaponbody">
								<input type="text" name="attr_weapon_dmg" value="" placeholder="6P" />
								<input type="text" name="attr_weapon_close" value="" placeholder="OK" />
								<input type="text" name="attr_weapon_near" value="" placeholder="-2"/>
								<input type="text" name="attr_weapon_far" value="" placeholder="-" />
							</div>
						</div>
						<div class="display weapondamagebox">
							<div class="weaponheader">
								<div class="weaponlabels"><span name="attr_weapon_name"></span></div>
							</div>
							<div class="weaponbody">
								<div class="weaponlabels"><span name="attr_weapon_dmg"></span></div>
								<div class="weaponlabels"><span name="attr_weapon_close"></span></div>
								<div class="weaponlabels"><span name="attr_weapon_near"></span></div>
								<div class="weaponlabels"><span name="attr_weapon_far"></span></div>
							</div>
						</div>
					</div>
					</fieldset>
				</div>
				<div class="npc-body">
					<div class="indent">
						<input type="radio" class="radio-header-armor" name="attr_npc_armor_damage" value="0" title="@{armor_damage}" checked="checked" />
						<span class="bolder" data-i18n="armor" style="font-weight: bolder;">Armor</span><span>: </span><span name="attr_armor"></span> [<span name="attr_armor_name"></span>]
						<div class="armorcircles">
							<input type="hidden" name="attr_npc_armor_1_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="1" /><span></span>
							<input type="hidden" name="attr_npc_armor_2_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="2" /><span></span>
							<input type="hidden" name="attr_npc_armor_3_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="3" /><span></span>
							<input type="hidden" name="attr_npc_armor_4_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="4" /><span></span>
							<input type="hidden" name="attr_npc_armor_5_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="5" /><span></span>
							<input type="hidden" name="attr_npc_armor_6_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="6" /><span></span>
							<input type="hidden" name="attr_npc_armor_7_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="7" /><span></span>
							<input type="hidden" name="attr_npc_armor_8_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="8" /><span></span>
							<input type="hidden" name="attr_npc_armor_9_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="9" /><span></span>
							<input type="hidden" name="attr_npc_armor_10_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="10" /><span></span>
							<input type="hidden" name="attr_npc_armor_11_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="11" /><span></span>
							<input type="hidden" name="attr_npc_armor_12_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="12" /><span></span>
							<input type="hidden" name="attr_npc_armor_13_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="13" /><span></span>
							<input type="hidden" name="attr_npc_armor_14_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="14" /><span></span>
							<input type="hidden" name="attr_npc_armor_15_enabled" value="true"/>
							<input type="radio" name="attr_npc_armor_damage" value="15" /><span></span>
						</div>
					</div>
					<div class="indent"><span data-i18n="condition" style="font-weight: bolder;">Condition Monitors (P/S)</span><span>: </span><span name="attr_physical_max"></span>/<span name="attr_stun_max"></span>
						<div class="npc-consection">
							<input type="radio" class="radio-header-physical" name="attr_npc_physical" value="0" title="@{physical}" checked="checked" />
							<span data-i18n="physical">Physical</span><span>: </span>
							<div class="conditioncircles">
								<input type="hidden" name="attr_npc_physical_1_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="1" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_2_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="2" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_3_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="3" /><span></span><span class="condigit">-1</span>
								<input type="hidden" name="attr_npc_physical_4_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="4" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_5_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="5" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_6_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="6" /><span></span><span class="condigit">-2</span>
								<input type="hidden" name="attr_npc_physical_7_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="7" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_8_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="8" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_physical_9_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="9" /><span></span><span class="condigit">-3</span>
								<input type="hidden" name="attr_npc_physical_10_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="10" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_11_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="11" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_12_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="12" /><span></span><span class="condigit">-4</span>
								<input type="hidden" name="attr_npc_physical_13_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="13" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_physical_14_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="14" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_physical_15_enabled" value="true"/>
								<input type="radio" name="attr_npc_physical" value="15" /><span></span><span class="condigit">-5</span>
							</div>
						</div>
						<div class="npc-consection">
							<input type="radio" class="radio-header-small" name="attr_npc_stun" value="0" title="@{stun}" checked="checked" />
							<span data-i18n="stun">Stun</span><span>: </span>
							<div class="conditioncircles">
								<input type="hidden" name="attr_npc_stun_1_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="1" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_2_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="2" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_3_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="3" /><span></span><span class="condigit">-1</span>
								<input type="hidden" name="attr_npc_stun_4_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="4" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_5_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="5" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_6_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="6" /><span></span><span class="condigit">-2</span>
								<input type="hidden" name="attr_npc_stun_7_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="7" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_8_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="8" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_9_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="9" /><span></span><span class="condigit">-3</span>
								<input type="hidden" name="attr_npc_stun_10_enabled" value="true"/>
								<input type="radio" name="attr_stun" value="10" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_stun_11_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="11" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_12_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="12" /><span></span><span class="condigit">-4</span>
								<input type="hidden" name="attr_npc_stun_13_enabled" value="true"/>
								<input type="radio" name="attr_stun" value="13" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_14_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="14" /><span></span><div class="arrow-left"></div>
								<input type="hidden" name="attr_npc_stun_15_enabled" value="true"/>
								<input type="radio" name="attr_npc_stun" value="15" /><span></span><span class="condigit">-5</span>
							</div>
						</div>
					</div>
					<div class="indent">
						<input type="radio" class="radio-header-small" name="attr_npc_edge_pool" value="0" title="@{edge}" checked="checked" />
						<span data-i18n="edge" style="font-weight: bolder;">Edge</span><span>: </span>
						<div class="edgecircles">
							<input type="hidden" name="attr_npc_edge_1_enabled" value="true"/>
							<input type="radio" name="attr_npc_edge_pool" value="1" /><span></span>
							<input type="hidden" name="attr_npc_edge_2_enabled" value="true"/>
							<input type="radio" name="attr_npc_edge_pool" value="2" /><span></span>
							<input type="hidden" name="attr_npc_edge_3_enabled" value="true"/>
							<input type="radio" name="attr_npc_edge_pool" value="3" /><span></span>
							<input type="hidden" name="attr_npc_edge_4_enabled" value="true"/>
							<input type="radio" name="attr_npc_edge_pool" value="4" /><span></span>
							<input type="hidden" name="attr_npc_edge_5_enabled" value="true"/>
							<input type="radio" name="attr_npc_edge_pool" value="5" /><span></span>
							<input type="hidden" name="attr_npc_edge_6_enabled" value="true"/>
							<input type="radio" name="attr_npc_edge_pool" value="6" /><span></span>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>
</div>

<!-- Hidden Inputs -->
<input type="hidden" class="npc-toggle" name="attr_npc_toggle" />
<input type="hidden" name="attr_attribute_roll" value="?{Attribute|Strength,@{strength}|Agility,@{agility}|Willpower,@{willpower}|Logic,@{logic}|Charisma,@{charisma}|Edge,@{edge}|None,0}" />
<input type="hidden" name="attr_version" value="1.91" />

<!-- Footer -->
<div class="footer">
	<span data-i18n="topps">The Topps Company, Inc. has sole ownership of the names, logo, artwork, marks, photographs, sounds, audio, video and/or any proprietary material used in connection with the game Shadowrun. The Topps Company, Inc. has granted permission to use such names, logos, artwork, marks and/or any proprietary materials for promotional and informational purposes on its website but does not endorse, and is not affiliated with any official capacity whatsoever.</span>
	<br />
	Sheet: Version <span name="attr_version"></span>
</div>


<div class="rolltemplates">
	<!--Roll Template for rolling without Focus-->
    <rolltemplate class="sheet-rolltemplate-sAnarchy">
    	<div class="sheet-template-body">
	    	<div class="sheet-template-header">
	    		{{#header}}{{header}}{{/header}}{{#spec}}<br /> <span> ({{spec}})</span>{{/spec}}<br />
	    		{{#attr}}<span>{{attr}}</span>{{/attr}}
	    		{{#rollLess() wound 0}}<span> ♦ </span><span data-i18n="wounds">Wounds</span>{{/rollLess() wound 0}}
	    		{{#rollLess() mod 0}}<span> ♦ </span><span data-i18n="modifier">Modifier</span>{{/rollLess() mod 0}}
	    		{{#rollGreater() mod 0}}<span> ♦ </span><span data-i18n="modifier">Modifier</span>{{/rollGreater() mod 0}}
	    		{{#rollGreater() edge 0}}<span> ♦ </span><span data-i18n="edge">Edge</span>{{/rollGreater() edge 0}}
	    	</div>
	    	<div class="sheet-template-row">
	    		{{#dice}}{{dice}}{{/dice}}
	    		{{#rollTotal() glitch 1}}<span data-i18n="glitch">GLITCH!</span> {{glitch}}{{/rollTotal() glitch 1}}
	    		{{#rollBetween() glitch 2 4}}<span data-i18n="nocons">No consequence...</span> {{glitch}}{{/rollBetween() glitch 2 4}}
	    		{{#rollBetween() glitch 5 6}}<span data-i18n="exploit">EXPLOIT! </span>{{glitch}}{{/rollBetween() glitch 5 6}}
	    		{{#desc}}<span class="sheet-template-desc">{{desc}}</span>{{/desc}}
	    	</div>
	    </div>
    </rolltemplate>
</div>


<!--Sheet Worker-->
<script type="text/worker">

//Sheet open versioning
	on("sheet:opened", () => {
		getAttrs(["version"], (v) => { 
			versioning(parseFloat(v.version) || 1); 
		});
		let translations = [];
		let attributes = ["attribute", "strength", "agility", "willpower", "logic", "charisma", "edge", "none"];
		attributes.forEach((attribute) => {
			translations.push(getTranslationByKey(attribute));
		});
		
		let attribute_roll = `?{${translations[0]}`;
	    for (i = 1; i <= (attributes.length - 2); i += 1) {
	    	attribute_roll +=  `|${translations[i]},@{${attributes[i]}}`;
	    };
	    attribute_roll += `|${translations[10]},0}`; //For None
	});

//Template button
    on("clicked:template", (eventinfo) => {
    	getAttrs([`template`], (v) => {
			setAttrs({
				template: (v.template === "English") ? "French" : "English"
			});
		});
	});

	on("clicked:awakened clicked:emerged", (eventinfo) => {
		const trigger = (eventinfo.triggerName).split("clicked:")[1];
    	getAttrs([`special`], (v) => {
			setAttrs({
				special: (v.special === trigger) ? "" : trigger
			});
		});
	});

	on("clicked:npc", (eventinfo) => {
    	getAttrs([`npc_toggle`], (v) => {
			setAttrs({
				npc_toggle: (v.npc_toggle === "0") ? "npc" : "0"
			});
		});
	});

//UPDATE THE TRACKS
	["armor","physical_max","stun_max","edge"].forEach(attr => {
	    on(`change:${attr}`, (eventinfo) => {
	    	getAttrs([`${attr}`], (v) => {
	    		const name = (attr === "edge") ? "edge" : (attr.includes("max")) ? attr.slice(0, -4) : "armor";
				const stat = parseInt(v[`${attr}`]) || 0;
				const max  = (attr === "edge") ? 6 : 15;
				let set    = {};

			    for (i = 1; i <= stat; i += 1) {
			        set[`${name}_`.concat(i, "_enabled")] = "true";
			        set[`npc_${name}_`.concat(i, "_enabled")] = "true";
			    }

			    for (i = stat + 1; i <= max; i += 1) {
			        set[`${name}_`.concat(i)] = 0;
			        set[`${name}_`.concat(i, "_enabled")] = "false";
			        set[`npc_${name}_`.concat(i)] = 0;
			        set[`npc_${name}_`.concat(i, "_enabled")] = "false";
			    }

		    	setAttrs(set);
	    	});
	    });
	 });

//Configure Max Physical & Stun Track 
	on("change:strength change:willpower", (eventinfo) => {
		const attr = parseInt(eventinfo.newValue) || 0;
		const change = (eventinfo.sourceAttribute === "strength") ? "physical_max" : "stun_max";

	     setAttrs({
	        [`${change}`]: Math.ceil(attr/2) + 8
	    });
	});

//Edge Toggle
	on("change:edge_toggle", () => {
	    getAttrs(["edge_threshold", "edge_toggle"], (v) => {
	        setAttrs({
	            edge_threshold: (v.edge_toggle == 1 && v.edge_threshold == 5) ? 4 : 5
	        });
	    });
	});

//Wound Modifiers for PC & NPC
	["physical", "stun", "npc_physical", "npc_stun"].forEach(attr => {
		on(`change:${attr}`,  (eventinfo) => {
			const source = eventinfo.sourceAttribute;
			const otherattr = (source === "physical") ? "stun" : (source === "stun") ? "physical" : (source === "npc_physical") ? "npc_stun" : "npc_physical";
			getAttrs([`${otherattr}`],  (v) => {
				const attr1 = parseInt(eventinfo.newValue) || 0, attr2 = parseInt(v[`${otherattr}`]) || 0, tot = Math.floor(attr1/3) + Math.floor(attr2/3);
				setAttrs({
		            wounds: [`-${tot}`]
		        });
			});
		});
	});

//Set the Attribute to a name for the Roll Template
	on("change:repeating_skills:skill_attribute", (eventinfo) => {
		const attribute = (eventinfo.newValue.includes("@{") || eventinfo.newValue === "0") ? (eventinfo.newValue).slice(2, -1).toLowerCase() : "null";
		const translation = getTranslationByKey(`${attribute}`);

	   setAttrs({
	      repeating_skills_attribute_name: translation
	   });
	});

//Put () around Skill specializations
	on("change:repeating_skills:skill_specialization", (eventinfo) => {
		setAttrs({
			repeating_skills_skill_spec_display: (eventinfo.newValue) ? `(${eventinfo.newValue})` : ""
		});
	});

//NPC Skill Toggles
	['astral_combat','athletics','biotech','close_combat','con','conjuring','disguise','electronics','engineering','escape_artist','firearms','hacking','heavy_weapons','intimidation','negotiation','piloting_ground','piloting_other','projectile_weapons','sorcery','stealth','survival','tasking','tracking','vehicle_weapons'].forEach(attr => {
	    on(`change:${attr}`, (eventinfo) => {
			const skl  = parseInt(eventinfo.newValue) || 0;
			const flag = (skl > 0) ? 1 : 0;

	    	setAttrs({
	    		[`${attr}_flag`]: flag
	    	}); 
	    });
	});

//Repeating active for PC sheet
	on("change:repeating_skills", () => {
		getAttrs(["repeating_skills_skill", "repeating_skills_skill_specialization"], (v) => {
			const skill = (v.repeating_skills_skill);
			const spec = (v.repeating_skills_skill_specialization);
			let update = {};

			if (spec === "") {
				update["repeating_skills_skill_display"] = (skill.length > 0 && skill.length <= 24) ? skill : (skill.length > 24 ) ? skill.slice(0, 24) + "..." : " ";
			} else {
				update["repeating_skills_skill_display"] = (skill.length > 0 && skill.length <= 15) ? skill : (skill.length > 12 ) ? skill.slice(0, 12) + "..." : " ";
				update["repeating_skills_skill_spec_display"] = (spec.length > 0 && spec.length <= 12) ? `(${spec})`: (spec.length > 12 ) ? "(" + spec.slice(0, 12) + "..." + ")" : " ";
			};

			setAttrs(update);
		});
	});

//VERSION
	const versioning = (version) => {
		console.log(`%c Shadowrun Anarchy versioning. Version ${version}`, "color: #4f7da7; font-weight:bold");
	   if (version >= 1.9) {
			console.log(`%c Shadowrun Anarchy is update to date`, "color: #e9b230; font-weight:bold");
	   	} else if (version >= 1.8) {
	   		getAttrs(["special"], (v) => {
	   			let update = {};
	   			update[`special`] = (v.special === "1") ? "awakened" : (v.special === "2") ? "emerged" : "";
	   			update[`version`] = "1.9";
	   			setAttrs(update, () => {versioning("1.9")});
			});
	   	} else if (version >= 1.7) {
			getAttrs(["astral_combat"], (v) => {
				const skl = parseInt(v.astral_combat) || 0;
				if (skl > 0) {
					setAttrs({
						astral_combat_flag: 1
					});
				};
			});
			//GET THE OLD SPEC MISSPELLED  AND UPDATE NEW SPEC ATTRIBUTE
			getSectionIDs(`repeating_skills`, (ids) => {
				let oldSpecs = [];
			    for(var i=0; i < ids.length; i++) {
			        oldSpecs.push(`repeating_skills_` + ids[i] + "_skill_specalization");
				};
				getAttrs(oldSpecs, (v) => {
					let update = {};
					oldSpecs.forEach(spec => {
						const repeatingID = spec.split("_")[2];
						update[`repeating_skills_${repeatingID}_skill_specialization`] = (v[`${spec}`]) ? v[`${spec}`] : "";
					});
					setAttrs(update);
				});
			});
			//UPDATE VERSION
			setAttrs({version: "1.8"}, () => {versioning("1.8")});
	    } else {
			setAttrs({version: "1.7"}, () => {versioning("1.7")});
		};
	};


</script>





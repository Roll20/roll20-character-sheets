
				
	
				
				<div class="sheet-col" style="text-align:center; width:100%">
					<img src="https://i.imgur.com/8nTLo6b.png" style="height:200px" />
				</div>			
				
				
				<div class="sheet-main-div">
<input type='radio' name="attr_sheet_type" class="sheet-tab sheet-tabPrime"  value="1" checked/>
<label class="sheet-tab" data-i18n="character" >Character</label>
<input type='radio' name="attr_sheet_type" class="sheet-tab sheet-tabInformation"  value="2"  />
<label class="sheet-tab" data-i18n="information" >Information</label>
<input type='radio' name="attr_sheet_type" class="sheet-tab sheet-tabSeasons"  value="3"  />
<label class="sheet-tab" data-i18n="seasons" >Seasons</label>
<input type='radio' name="attr_sheet_type" class="sheet-tab sheet-tabClan"  value="4"  />
<label class="sheet-tab" data-i18n="clan">Clan</label>
<input type='radio' name="attr_sheet_type" class="sheet-tab sheet-tabProvince"  value="5"  />
<label class="sheet-tab" data-i18n="province">Province</label>
<br>

<div class="clear"></div>
    <div class="sheet-tab-content sheet-tabPrime">
		<h1 data-i18n="character">Character</h1>
		<br>
		<div>
			<table style="width:100%">
				<tr>	
					<td style="width:10%; text-align:right" data-i18n="name"><label>Name</label>
					</td>
					<td style="width:20%"><input name="attr_character_publicname" data-i18n-placeholder="public-name" placeholder="Public Name" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right" data-i18n="giri-duty"><label>Giri/Duty</label>
					</td>
					<td style="width:20%"><input name="attr_character_giri" data-i18n-placeholder="giri-name" placeholder="Giri Name" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right" data-i18n="age"><label>Age</label>
					</td>
					<td style="width:20%; text-align:left"><input name="attr_character_age" data-i18n-placeholder="age-number" placeholder="Age Number" type="number" class="sheet-virtue-number" style="width:3em;text-align:center;font-size:16px" value="0"></input> up to 60
					</td>
				</tr>
				<tr>	
					<td style="width:10%; text-align:right" data-i18n="family"><label>Family</label>
					</td>
					<td style="width:20%"><input name="attr_character_familyname" data-i18n-placeholder="family-name" placeholder="Family Name" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right" data-i18n="koku"><label>Koku</label>
					</td>
					<td style="width:20%"><input name="attr_character_koku" data-i18n-placeholder="your-koku" placeholder="Your Koku" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right" data-i18n="phase"><label>Phase</label>
					</td>
					<td style="width:20%"><select name="attr_character_phase" class="sheet-select-nocenter" style="width:100%">
						<option value="Spring" selected data-i18n="spring">Spring</option>
						<option value="Summer" data-i18n="summer">Summer</option>
						<option value="Autumn" data-i18n="autumn">Autumn</option>
						<option value="Winter" data-i18n="winter">Winter</option>
						<option value="Dead" data-i18n="dead">Dead</option>
						</select>
					</td>
				</tr>
				<tr>
					<td style="width:30%; text-align:right" COLSPAN=2><label data-i18n="name-meaning">Public Name Meaning</label>
					</td>
					<td style="width:50%" COLSPAN=5><input name="attr_character_meaning" data-i18n-placeholder="name-meaning" placeholder="Public Name Meaning" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:20%" ><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Public Name**? @{character_publicname} means @{character_meaning}" data-i18n="ask-gm">Ask GM</button>
					</td>
				</tr>
				<tr>
					<td style="width:30%; text-align:right" COLSPAN=2 data-i18n="clan-name-meaning"><label>Clan Name Meaning</label>
					</td>
					<td style="width:50%" COLSPAN=5><input name="attr_character_clanmeaning" data-i18n-placeholder="clan-name-meaning" placeholder="Clan Name Meaning" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:20%" ><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Clan Name**? Which means @{character_clanmeaning}" data-i18n="ask-gm">Ask GM</button>
					</td>
				</tr>
			</table>
			<div style="text-align:left">
				<input type="checkbox" class="sheet-arrow" name="attr_FamilyNameHide" value="+?{Is your Family Name Meaning useful?|No,0|Yes,1[@{character_familymeaning}]}" /><span></span>
				<div class="sheet-minimized">
			<table style="width:100%; margin-top:-2em">
				<tr>
					<td style="width:30%; text-align:right" data-i18n=family-name-meaning ><label>Family Name Meaning</label>
					</td>
					<td style="width:50%" ><input name="attr_character_familymeaning" data-i18n-placeholder="family-name-meaning" placeholder="Family Name Meaning" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:20%; text-align:center" ><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Family Name**? @{character_familyname} means @{character_familymeaning}" data-i18n="ask-gm">Ask GM</button>
					</td>
				</tr>
			</table>
				</div>
				
			</div>
			<br>
			<div>
				<div class="sheet-col" style="width:30%"><h3 data-i18n="ability">Ability</h3><textarea class="sheet-bottomborderbox" name="attr_character_ability" style="height:100px"></textarea>
				<br><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Ability**? @{character_ability}" data-i18n="ask-gm">Ask GM</button>
				</div>
				<div class="sheet-col" style="width:3%">
				</div>
				<div class="sheet-col" style="width:30%"><h3 data-i18n="benefit">Benefit</h3><textarea class="sheet-bottomborderbox" name="attr_character_benefit" style="height:100px"></textarea>
				<br><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Benefit**? @{character_benefit}" data-i18n="ask-gm">Ask GM</button>
				</div>
				<div class="sheet-col" style="width:3%">
				</div>
				<div class="sheet-col" style="width:30%"><input name="attr_character_advantage_name" data-i18n-placeholder="advantage" placeholder="Advantage" type="text" class="sheet-bottomborderbox" style="width:100%; text-align:center"></input><textarea  class="sheet-bottomborderbox"name="attr_character_advantage" style="height:100px"></textarea>
				<br><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Advantage** which is @{character_advantage_name} and does @{character_advantage}?" data-i18n="ask-gm">Ask GM</button>
				</div>
			</div>
		</div>
		<br>
		<div>
			<div class="sheet-col" style="width:25%">
				<div>
					<div class="sheet-col"><h3 style="text-align:center" data-i18n="giri-rank">Giri Rank</h3><input class="sheet-virtue-number" name="attr_Giri_rank" type="number" value="1" style="width:2em"></input>
					</div><br>
					<button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Giri**? @{character_giri}" data-i18n="ask-gm">Ask GM</button>
				</div>	
				<br>
				<div>
					<div class="sheet-col"><h3 style="text-align:center" data-i18n="duty-to-daimyo">Duty to Daimyo?</h3>
					</div><br>
					<button class="sheet-virtue-button" type='roll' value="/w gm Am I fulfilling my **Giri** to my Daimyo? @{character_giri}" data-i18n="ask-gm">Ask GM</button>
				</div>	
				<br>
				<div>
					<div class="sheet-col"><h3 style="text-align:center" data-i18n="glory-points">Glory<br>Points</h3><input class="sheet-virtue-number" name="attr_Glory_temp" type="number" value="0" style="width:2em"></input>
					</div>
					<div class="sheet-col" style="width:5px">
					</div>
					<div class="sheet-col"><h3 style="text-align:center">Glory<br>Rank</h3><input class="sheet-virtue-number" name="attr_Glory_rank" type="number" value="0" style="width:2em"></input>
					</div>
				</div>
			</div>
			<div class="sheet-col" style="width:5%">
			</div>
			<div class="sheet-col" style="width:65%">
				<h3 data-i18n="virtues">Virtues</h3>
				<button class="sheet-virtue-button" type='roll' value="/w gm Can I use ?{This Virtue for the Risk?|Beauty,**Beauty** with [[@{virtue_Beauty}]]?|Courage,**Courage** with [[@{virtue_Courage}]]?|Cunning,**Cunning** with [[@{virtue_Cunning}]]?|Prowess,**Prowess** with [[@{virtue_Prowess}]]?|Strength,**Strength** with [[@{virtue_Strength}]]?|Wisdom,**Wisdom** with [[@{virtue_Wisdom}]]?}" data-i18n="ask-gm">Ask GM</button>
				<button class="sheet-virtue-button" type='roll' value="/me is rolling for risk! His roll is [[ ?{How many dice are you rolling?|1}d6 ]]. Ten or bust!" data-i18n="roll-risk">Roll Risk!</button>
				<button class="sheet-virtue-button" type='roll' value="/w gm **My total is [[ ?{Your total is?|0} ]] and I wager [[ ?{Your wager is (how many dice you AREN'T rolling)?|0} ]] with free wagers equal to [[ ?{Free Wagers?|0} ]]!**" data-i18n="whisper-wager">Whisper Wager!</button>
				<br>
				<table style="width:100%">
					<tr>
						<td style="width:15%"><input class="sheet-virtue-number" name="attr_virtue_Beauty" type="number" value="0" style="width:2em"></input>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><input class="sheet-virtue-number" name="attr_virtue_Courage" type="number" value="0" style="width:2em"></input>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><input class="sheet-virtue-number" name="attr_virtue_Cunning" type="number" value="0" style="width:2em"></input>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><input class="sheet-virtue-number" name="attr_virtue_Prowess" type="number" value="0" style="width:2em"></input>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><input class="sheet-virtue-number" name="attr_virtue_Strength" type="number" value="0" style="width:2em"></input>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><input class="sheet-virtue-number" name="attr_virtue_Wisdom" type="number" value="0" style="width:2em"></input>
						</td>
					</tr>
					<tr>
						<td style="width:15%"><img src="https://i.imgur.com/XkTCZOK.png"  />
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><img src="https://i.imgur.com/QhCOHg0.png"  />
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><img src="https://i.imgur.com/oXa3Iec.png"  />
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><img src="https://i.imgur.com/XuSEs7g.png"  />
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><img src="https://i.imgur.com/22RU53P.png"  />
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><img src="https://i.imgur.com/rm4brgv.png"  />
						</td>
					</tr>
					<tr>
						<td style="width:15%"><button class="sheet-virtue-button" type='roll' value="/w gm **Risk Wager Total** I'm using **Beauty**! My dice total is [[ @{virtue_Beauty}[Beauty]+?{Is your Giri is useful?|No,0|Yes,@{Giri_rank}[@{character_giri}]}+?{Are you fulfilling your Duty to your Daimyo?|No,0|Yes,3[Duty to Daimyo]}+?{Is your Public Name Meaning useful?|No,0|Yes,1[@{character_meaning}]}@{FamilyNameHide}+?{Is your Clan Name Meaning useful?|No,0|Yes,2[@{character_familymeaning}]}+?{Are you using your Aspect?|No,0|Yes,3[ASPECT!]}+?{YOU MUST ANNOUNCE! Do you want to use the public pool of HONOR?|No,0|Yes,4[USING HONOR!]}+?{Equipment Bonus?|0}[Equipment]+?{Are you Tagging an opponent?|No,0|Yes,2[USING TAG!]}+?{Is one of your reputations useful?|0}[Reputation]+?{Other modifiers, tell your GM?|0}[Other Modifiers] ]]." data-i18n="beauty">Beauty</button>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><button class="sheet-virtue-button" type='roll' value="/w gm **Risk Wager Total** I'm using **Courage**! My dice total is [[ @{virtue_Courage}[Courage]+?{Is your Giri is useful?|No,0|Yes,@{Giri_rank}[@{character_giri}]}+?{Are you fulfilling your Duty to your Daimyo?|No,0|Yes,3[Duty to Daimyo]}+?{Is your Public Name Meaning useful?|No,0|Yes,1[@{character_meaning}]}@{FamilyNameHide}+?{Is your Clan Name Meaning useful?|No,0|Yes,2[@{character_familymeaning}]}+?{Are you using your Aspect?|No,0|Yes,3[ASPECT!]}+?{YOU MUST ANNOUNCE! Do you want to use the public pool of HONOR?|No,0|Yes,4[USING HONOR!]}+?{Equipment Bonus?|0}[Equipment]+?{Are you Tagging an opponent?|No,0|Yes,2[USING TAG!]}+?{Is one of your reputations useful?|0}[Reputation]+?{Other modifiers, tell your GM?|0}[Other Modifiers] ]]." data-i18n="courage">Courage</button>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><button class="sheet-virtue-button" type='roll' value="/w gm **Risk Wager Total** I'm using **Cunning**! My dice total is [[ @{virtue_Cunning}[Cunning]+?{Is your Giri is useful?|No,0|Yes,@{Giri_rank}[@{character_giri}]}+?{Are you fulfilling your Duty to your Daimyo?|No,0|Yes,3[Duty to Daimyo]}+?{Is your Public Name Meaning useful?|No,0|Yes,1[@{character_meaning}]}@{FamilyNameHide}+?{Is your Clan Name Meaning useful?|No,0|Yes,2[@{character_familymeaning}]}+?{Are you using your Aspect?|No,0|Yes,3[ASPECT!]}+?{YOU MUST ANNOUNCE! Do you want to use the public pool of HONOR?|No,0|Yes,4[USING HONOR!]}+?{Equipment Bonus?|0}[Equipment]+?{Are you Tagging an opponent?|No,0|Yes,2[USING TAG!]}+?{Is one of your reputations useful?|0}[Reputation]+?{Other modifiers, tell your GM?|0}[Other Modifiers] ]]." data-i18n="cunning">Cunning</button>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><button class="sheet-virtue-button" type='roll' value="/w gm **Risk Wager Total** I'm using **Prowess**! My dice total is [[ ?{Did you announce first STRIKE!?|No,0|Yes!,2[Strike!]}+@{virtue_Prowess}[Prowess]+?{Is your Giri is useful?|No,0|Yes,@{Giri_rank}[@{character_giri}]}+?{Are you fulfilling your Duty to your Daimyo?|No,0|Yes,3[Duty to Daimyo]}+?{Is your Public Name Meaning useful?|No,0|Yes,1[@{character_meaning}]}@{FamilyNameHide}+?{Is your Clan Name Meaning useful?|No,0|Yes,2[@{character_familymeaning}]}+?{Are you using your Aspect?|No,0|Yes,3[ASPECT!]}+?{YOU MUST ANNOUNCE! Do you want to use the public pool of HONOR?|No,0|Yes,4[USING HONOR!]}+?{Equipment Bonus?|0}[Equipment]+?{Are you Tagging an opponent?|No,0|Yes,2[USING TAG!]}+?{Is one of your reputations useful?|0}[Reputation]+?{Other modifiers, tell your GM?|0}[Other Modifiers] ]]." data-i18n="prowess">Prowess</button>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><button class="sheet-virtue-button" type='roll' value="/w gm **Risk Wager Total** I'm using **Strength**! My dice total is [[ @{virtue_Strength}[Strength]+?{Is your Giri is useful?|No,0|Yes,@{Giri_rank}[@{character_giri}]}+?{Are you fulfilling your Duty to your Daimyo?|No,0|Yes,3[Duty to Daimyo]}+?{Is your Public Name Meaning useful?|No,0|Yes,1[@{character_meaning}]}@{FamilyNameHide}+?{Is your Clan Name Meaning useful?|No,0|Yes,2[@{character_familymeaning}]}+?{Are you using your Aspect?|No,0|Yes,3[ASPECT!]}+?{YOU MUST ANNOUNCE! Do you want to use the public pool of HONOR?|No,0|Yes,4[USING HONOR!]}+?{Equipment Bonus?|0}[Equipment]+?{Are you Tagging an opponent?|No,0|Yes,2[USING TAG!]}+?{Is one of your reputations useful?|0}[Reputation]+?{Other modifiers, tell your GM?|0}[Other Modifiers] ]]." data-i18n="strength">Strength</button>
						</td>
						<td style="width:2%">
						</td>
						<td style="width:15%"><button class="sheet-virtue-button" type='roll' value="/w gm **Risk Wager Total** I'm using **Wisdom**! My dice total is [[ @{virtue_Wisdom}[Wisdom]+?{Is your Giri is useful?|No,0|Yes,@{Giri_rank}[@{character_giri}]}+?{Are you fulfilling your Duty to your Daimyo?|No,0|Yes,3[Duty to Daimyo]}+?{Is your Public Name Meaning useful?|No,0|Yes,1[@{character_meaning}]}@{FamilyNameHide}+?{Is your Clan Name Meaning useful?|No,0|Yes,2[@{character_familymeaning}]}+?{Are you using your Aspect?|No,0|Yes,3[ASPECT!]}+?{YOU MUST ANNOUNCE! Do you want to use the public pool of HONOR?|No,0|Yes,4[USING HONOR!]}+?{Equipment Bonus?|0}[Equipment]+?{Are you Tagging an opponent?|No,0|Yes,2[USING TAG!]}+?{Is one of your reputations useful?|0}[Reputation]+?{Other modifiers, tell your GM?|0}[Other Modifiers] ]]." data-i18n="wisdom" >Wisdom</button>
						</td>
					</tr>
				</table>
						
			</div>
		</div>
		<br>
			<div class="sheet-col" style="width:48%">	
				<h3 data-i18n="reputation-glory">Reputation/Glory</h3>
					<table style="width:100%">
						<tr>	
							<td style="width:50%" data-i18n="name">Name
							</td>
							<td style="width:15%" data-i18n="points">Points
							</td>
							<td style="width:15%" data-i18n="rank">Rank
							</td>
							<td style="width:20%">
							</td>
						</tr>
					</table>
				<fieldset class="repeating_reputation" name="attr_repeating_reputation">
					<table style="width:100%">
						<tr>	
							<td style="width:50%"><input name="attr_reputation_name" data-i18n-placeholder="reputation-name" placeholder="Reputation Name" type="text" class="sheet-bottomborderbox" style="width:100%; text-align:center"></input>
							</td>
							<td style="width:15%"><input class="sheet-virtue-number" name="attr_reputation_points" type="number" value="0" style="width:2em"></input>
							</td>
							<td style="width:15%"><input class="sheet-virtue-number" name="attr_reputation_rank" type="number" value="0" style="width:2em"></input>
							</td>
							<td style="width:20%"><button class="sheet-virtue-button" type='roll' value="/w gm Can I use my **Reputation** which is @{reputation_name} with [[ @{reputation_rank} ]]?" data-i18n="ask-gm">Ask GM</button>
							</td>
						</tr>
					</table>
				</fieldset>				
				<br>	
				<h3 data-i18n="equipament">Equipment</h3>
				<fieldset class="repeating_equipment" name="attr_repeating_equipment">
					<div>
						<div class="sheet-row"><input name="attr_equipment_name" data-i18n-placeholder="equipament-sword-name" placeholder="Equipment/Sword Name" type="text" class="sheet-bottomborderbox" style="width:55%; text-align:center"></input>
						<select name="attr_equipment_quality" class="sheet-select" style="width:20%">
							<option value="0" data-i18n="normal">Normal</option>
							<option value="1" data-i18n="good">Good</option>
							<option value="2" data-i18n="fine">Fine</option>
							<option value="3" data-i18n="exquisite">Exquisite</option>
						</select>
						<button class="sheet-virtue-button" type='roll' value="/w gm Can I use my **Equipment** which is @{equipment_name}?" data-i18n="ask-gm">Ask GM</button>
						</div>
						<div class="sheet-row"><textarea  class="sheet-bottomborderbox"name="attr_equipment_desc" style="height:2.5em"></textarea></input>
						</div>
					</div><br>
				</fieldset>
			</div>
			<div class="sheet-col" style="width:2%">
			</div>
			<div class="sheet-col" style="width:48%">	
				<h3 data-i18n="aspects">Aspects</h3>
				<fieldset class="repeating_aspects" name="attr_repeating_aspects">
					<div>
						<div class="sheet-row"><input name="attr_aspect_name" type="text" data-i18n-placeholder="aspect-name" placeholder="Aspect Name" class="sheet-bottomborderbox" style="width:70%; text-align:center"></input>
						<button class="sheet-virtue-button" type='roll' value="/w gm Can I use my **Aspect** which is @{aspect_name} with invoke of @{aspect_Invoke}?" data-i18n="ask-gm">Ask GM</button>
						</div>
						<div class="sheet-row"><label style="width:20%; text-align:right" data-i18n="invoke">Invoke</label><textarea name="attr_aspect_Invoke" data-i18n-placeholder="aspect-invoke" placeholder="Aspect Invoke" class="sheet-bottomborderbox" style="width:80%;height:2.5em"></textarea>
						</div>
						<div class="sheet-row"><label style="width:20%; text-align:right" data-i18n="compel">Compel</label><textarea name="attr_aspect_Compel" data-i18n-placeholder="aspect-compel" placeholder="Aspect Compel"  class="sheet-bottomborderbox" style="width:80%;height:2.5em"></textarea>
						</div>
					</div><br>
				</fieldset>	
			</div>
		<br>
			<div class="sheet-col" style="width:48%">	
				<h3 data-i18n="blessings-charms">Blessings/Charms</h3>
				<fieldset class="repeating_blessings" name="attr_repeating_blessings">
					<div>
						<div class="sheet-row"><input name="attr_blessing_name" type="text" data-i18n-placeholder="blessing-name" placeholder="Blessing Name" class="sheet-bottomborderbox" style="width:70%; text-align:center"></input>
						<button class="sheet-virtue-button" type='roll' value="/w gm Can I use my **Blessing** which is @{blessing_name} and does @{blessing_mechanic}?" data-i18n="ask-gm">Ask GM</button>
						</div>
						<div class="sheet-row"><textarea name="attr_blessing_mechanic" placeholder="Blessing Mechanic" class="sheet-bottomborderbox" style="width:100%;height:2.5em"></textarea>
						</div>
					</div><br>
				</fieldset>
			</div>
			<div class="sheet-col" style="width:2%">
			</div>
			<div class="sheet-col" style="width:48%">	
				<h3 data-i18n="tags-injuries">Tags/Injuries</h3>
				<fieldset class="repeating_tags" name="attr_repeating_tags">
					<div>
						<div class="sheet-row"><input name="attr_tag_name" type="text" data-i18n-placeholder="tag-injury-name" placeholder="Tag/Injury Name" class="sheet-bottomborderbox" style="width:70%; text-align:center"></input>
						<button class="sheet-virtue-button" type='roll' value="/w gm Do I have to use my **Tag** which is @{tag_name} and does @{tag_info}?" data-i18n="ask-gm">Ask GM</button>
						</div>
						<div class="sheet-row"><textarea name="attr_tag_info" placeholder="Tag/Injury Info" class="sheet-bottomborderbox" style="width:100%;height:2.5em"></textarea>
						</div>
					</div><br>
				</fieldset>
			</div>
    </div>
    
    <div class="sheet-tab-content sheet-tabInformation">
		<h1 data-i18n="information">Information</h1>
		<br>
		<h2 data-i18n="description">Description</h2>
		<textarea  class="sheet-bottomborderbox"name="attr_character_description" style="width:90%; height:150px"></textarea>
		
		<br>
		<h2 data-i18n="history-truths">History & Truths</h2>
		<textarea  class="sheet-bottomborderbox"name="attr_character_History" style="width:90%; height:150px"></textarea>
		<br>
		<h2>Notes</h2>
		<textarea  class="sheet-bottomborderbox"name="attr_character_Notes" style="width:90%; height:150px"></textarea>
    </div>
	
    <div class="sheet-tab-content sheet-tabSeasons">
		<h1 data-i18n="seasons">Seasons</h1>
		<br>
		<fieldset class="repeating_seasons" name="attr_repeating_seasons">
			<label style="vertical-align:middle; text-align:center;padding: 0px;font-size:36px" data-i18n="year">Year</label><input name="attr_clan_name" type="text" class="sheet-bottomborderbox" style="width:4em;text-align:center;font-size:36px"></input>
			<input type="checkbox" class="sheet-arrow" name="attr_SeasonsHide"/><span></span>
		<div class="sheet-minimized">
			<div>
				<div class="sheet-col" style="width:45%"><h3 data-i18n="spring">Spring</h3><textarea  class="sheet-bottomborderbox"name="attr_Spring" style="width:90%; height:150px"></textarea>
				</div>
				<div class="sheet-col" style="width:2%">
				</div>
				<div class="sheet-col" style="width:45%"><h3 data-i18n="summer">Summer</h3><textarea  class="sheet-bottomborderbox"name="attr_Summer" style="width:90%; height:150px"></textarea>
				</div>
			</div>
			<div>
				<div class="sheet-col" style="width:45%"><h3 data-i18n="autumn">Autumn</h3><textarea  class="sheet-bottomborderbox"name="attr_Autumn" style="width:90%; height:150px"></textarea>
				</div>
				<div class="sheet-col" style="width:2%">
				</div>
				<div class="sheet-col" style="width:45%"><h3 data-i18n="winter">Winter</h3><textarea  class="sheet-bottomborderbox"name="attr_Winter" style="width:90%; height:150px"></textarea>
				</div>
			</div>
			<div>
				<div class="sheet-col" style="width:45%"><h3 data-i18n="koku-expenses">Koku and Expenses</h3><textarea  class="sheet-bottomborderbox"name="attr_Expenses" style="width:90%; height:150px"></textarea>
				</div>
				<div class="sheet-col" style="width:2%">
				</div>
				<div class="sheet-col" style="width:45%"><h3 data-i18n="end-of-year">End of Year: Stored Resources</h3><textarea  class="sheet-bottomborderbox"name="attr_Resources" style="width:90%; height:150px"></textarea>
				</div>
			</div>
		</div>
			<br>
		</fieldset>
    </div>

    <div class="sheet-tab-content sheet-tabClan">
		<h1 data-i18n="clan">Clan</h1>
		<br>
		<div>
			<table style="width:100%">
				<tr>	
					<td style="width:10%; text-align:right"><label data-i18n="name">Name</label>
					</td>
					<td style="width:20%"><input name="attr_clan_name" placeholder="Clan Name" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right"><label data-i18n="virtue">Virtue</label>
					</td>
					<td style="width:20%"><input name="attr_clan_virtue" data-i18n-placeholder="chosen-virtue" placeholder="Chosen Virtue" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right"><label data-i18n="meibutsu">Meibutsu</label>
					</td>
					<td style="width:20%"><input name="attr_clan_meibutsu" data-i18n-placeholder="chosen-meibutsu" placeholder="Chosen Meibutsu" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
				</tr>
				<tr>	
					<td style="width:10%; text-align:right"><label data-i18n="daimyo">Daimyo</label>
					</td>
					<td style="width:20%"><input name="attr_clan_daimyo" data-i18n-placeholder="daimyo-name" placeholder="Daimyo Name" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right"><label data-i18n="type">Type</label>
					</td>
					<td style="width:20%"><input name="attr_clan_type" data-i18n-placeholder="daimyo-type" placeholder="Daimyo Type" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right"><label data-i18n="koku">Koku</label>
					</td>
					<td style="width:20%"><input name="attr_clan_koku" data-i18n-placeholder="clan-koku" placeholder="Clan Koku" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
				</tr>
				<tr>
					<td style="width:10%; text-align:right"><label data-i18n="meaning">Meaning</label>
					</td>
					<td style="width:70%" COLSPAN=6><input name="attr_clan_meaning" data-i18n-placeholder="clan-name-meaning" placeholder="Clan Name Meaning" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:20%"><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Clan Name** which is @{clan_name} and means @{clan_meaning}?" data-i18n="ask-gm">Ask GM</button>
					</td>
				</tr>
			</table>
			<br>
			<div>
				<div class="sheet-col" style="width:30%"><h3 data-i18n="advantage">Advantage</h3><textarea  class="sheet-bottomborderbox"name="attr_clan_advantage" style="height:100px"></textarea>
				<br><button class="sheet-virtue-button" type='roll' value="/w gm Can I use Daimyo **Advantage** which is @{clan_advantage}?" data-i18n="ask-gm">Ask GM</button>
				</div>
				<div class="sheet-col" style="width:3%">
				</div>
				<div class="sheet-col" style="width:30%"><h3 data-i18n="disadvantage">Disadvantage</h3><textarea  class="sheet-bottomborderbox"name="attr_clan_disadvantage" style="height:100px"></textarea>
				<br><button class="sheet-virtue-button" type='roll' value="/w gm Can I use Daimyo **Disadvantage** which is @{clan_disadvantage}?" data-i18n="ask-gm">Ask GM</button>
				</div>
				<div class="sheet-col" style="width:3%">
				</div>
				<div class="sheet-col" style="width:30%"><h3 data-i18n="clan-bushido">Clan's Bushido</h3><textarea  class="sheet-bottomborderbox"name="attr_clan_bushido" style="height:125px"></textarea>
				</div>
			</div>
		</div>
				<br>			
				<h3 data-i18n="aspects">Aspects</h3>
				<fieldset class="repeating_clanaspects" name="attr_repeating_clanaspects">
					<div>
						<div class="sheet-row"><input name="attr_clanaspect_name" data-i18n-placeholder="clan-aspect-name" placeholder="Clan Aspect Name" type="text" class="sheet-bottomborderbox" style="width:100%; text-align:center"></input>
						</div>
						<div class="sheet-row"><label style="width:20%; text-align:right" data-i18n="invoke">Invoke</label><textarea name="attr_clanaspect_Invoke" placeholder="Clan Aspect Invoke"  class="sheet-bottomborderbox" style="width:80%;height:1.2em"></textarea>
						</div>
						<div class="sheet-row"><label style="width:20%; text-align:right" data-i18n="compel">Compel</label><textarea name="attr_clanaspect_Compel" placeholder="Clan Aspect Compel"  class="sheet-bottomborderbox" style="width:80%;height:1.2em"></textarea>
						</div>
					</div><br>
				</fieldset>
				<br>				
				<h3 data-i18n="clan-truths">Clan Truths</h3>
				<fieldset class="repeating_clantruths" name="attr_repeating_clantruths">
					<div>
						<div class="sheet-row"><textarea name="attr_clantruth" class="sheet-bottomborderbox" style="width:100%; text-align:center;height:1.2em"></textarea>
						</div>
					</div><br>
				</fieldset>
				<br>				
				<h3 data-i18n="notes">Notes</h3>
				<textarea  class="sheet-bottomborderbox"name="attr_clan_Notes" style="width:90%; height:150px"></textarea>
    </div>
	
	
    <div class="sheet-tab-content sheet-tabProvince">
		<h1 data-i18n="province">Province</h1>
		<br>
		<div>
			<table style="width:100%">
				<tr>	
					<td style="width:10%; text-align:right"><label data-i18n="name">Name</label>
					</td>
					<td style="width:20%"><input name="attr_province_name" data-i18n-placeholder="province-name" placeholder="Province Name" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right"><label data-i18n="clan">Clan</label>
					</td>
					<td style="width:20%"><input name="attr_province_clan" data-i18n-placeholder="province-owner" placeholder="Province Owner" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
					<td style="width:5%">
					</td>
					<td style="width:10%; text-align:right"><label data-i18n="meibutsu">Meibutsu</label>
					</td>
					<td style="width:20%"><input name="attr_province_meibutsu" data-i18n-placeholder="province-meibutsu" placeholder="Province Meibutsu" type="text" class="sheet-bottomborderbox" style="width:100%"></input>
					</td>
				</tr>
			</table>
				<textarea  class="sheet-bottomborderbox"name="attr_province_Notes" style="width:90%; height:100px"></textarea>
		<br>
				<h3 data-i18n="holdings">Holdings</h3>
				<input type="checkbox" class="sheet-arrow" name="attr_ProvinceHoldingsHide"/><span></span>
				<div class="sheet-maximized">
					<table style="width:100%">
						<tr>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_Blacksmith" type="number" value="0" style="width:2em;font-size:14px" data-i18n="blacksmith"></input><br>
							<img src="https://i.imgur.com/hdCyxW3.png" style="height:25px"  /><br>
							Blacksmith
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_BuddhistTemple" type="number" value="0" style="width:2em;font-size:14px" data-i18n="buddhist-temple"></input><br>
							<img src="https://i.imgur.com/TqvAAML.png"  style="height:25px" /><br>
							Buddhist Temple
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_Dojo" type="number" value="0" style="width:2em;font-size:14px" data-i18n="dojo"></input><br>
							<img src="https://i.imgur.com/h8M1oXP.png" style="height:25px"  /><br>
							Dojo
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_GamblingDen" type="number" value="0" style="width:2em;font-size:14px" data-i18n="gambling-den"></input><br>
							<img src="https://i.imgur.com/KtQ7FqJ.png" style="height:25px"  /><br>
							Gambling Den
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_Garrison" type="number" value="0" style="width:2em;font-size:14px" data-i18n="garrison"></input><br>
							<img src="https://i.imgur.com/jZBiPW6.png" style="height:25px"  /><br>
							Garrison
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_GeishaHouse" type="number" value="0" style="width:2em;font-size:14px" data-i18n="gueisha-house"></input><br>
							<img src="https://i.imgur.com/ihaFE63.png" style="height:25px"  /><br>
							Geisha House
							</td>
						</tr>
						<tr>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_RiceFarm" type="number" value="0" style="width:2em;font-size:14px" data-i18n="rice-farm"></input><br>
							<img src="https://i.imgur.com/vXyht0K.png" style="height:25px"  /><br>
							Rice Farm
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_SakeWorks" type="number" value="0" style="width:2em;font-size:14px" data-i18n="sake-works"></input><br>
							<img src="https://i.imgur.com/XoDS2g2.png" style="height:25px"  /><br>
							Sake Works
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_ShintoShrine" type="number" value="0" style="width:2em;font-size:14px" data-i18n="shinto-shrine"></input><br>
							<img src="https://i.imgur.com/uDhXCuP.png" style="height:25px"  /><br>
							Shinto Shrine
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_SilkFarm" type="number" value="0" style="width:2em;font-size:14px" data-i18n="silk-farm"></input><br>
							<img src="https://i.imgur.com/y4ntTxV.png" style="height:25px"  /><br>
							Silk Farm
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_Stables" type="number" value="0" style="width:2em;font-size:14px" data-i18n="stables"></input><br>
							<img src="https://i.imgur.com/IVjwMa2.png" style="height:25px"  /><br>
							Stables
							</td>
							<td style="width:16%"><input class="sheet-virtue-number" name="attr_holdings_SumoSchool" type="number" value="0" style="width:2em;font-size:14px" data-i18n="sumo-school"></input><br>
							<img src="https://i.imgur.com/JsvvqSu.png" style="height:25px"  /><br>
							Sumo School
							</td>
						</tr>
					</table>
				</div>
		<div class="sheet-minimized">
				<div class="sheet-col" style="width:45%">
				<table style="width:100%">
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_Blacksmith" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/hdCyxW3.png" style="height:100px"  />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="blacksmith">Blacksmith</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Blacksmith**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_Blacksmith_desc" data-i18n="blacksmith-desc">Men pull iron and other metals from the ground and blacksmiths forge them into deadly weapons. The quality of your Clan's weapons relies on the Blacksmith.
With a Blacksmith, your samurai are all equipped with normal quality katana and other weaponry (see Equipment, below). Each Season, your Blacksmith can take a Season Action to provide one of your samurai with a normal quality weapon. The rank of your Blacksmith equals the number of normal quality weapons and other equipment he can make for your samurai each Season. 
For example, if you have a rank 1 Blacksmith, as a Season Action, he can provide one of your samurai with one katana. 
A Blacksmith of higher rank can produce better quality equipment. Each rank allows him to increase the rank of your equipment by one level of quality. 
For example, a rank 2 Blacksmith can make two good quality katana or a single fine quality katana. A rank 3 Blacksmith can make three good quality katana or one exquisite quality katana.</textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_BuddhistTemple" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/TqvAAML.png"  style="height:100px" />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="buddhist-temple-br">Buddhist<br>Temple</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Buddhist Temple**?">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_BuddhistTemple_desc" data-i18n="buddhist-temple-desc">If your Daimyo supports a Buddhist Temple, your samurai gain a number of bonus Wisdom wagers, per Season, equal to the rank of the Buddhist Temple. The Temple only provides one, two or three wagers for all the samurai to use, so use them carefully. 
Also, a Temple provides your samurai with Meditation Points (see Magic and Religion). It provides a number of Meditation Points equal to its rank.</textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_Dojo" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/h8M1oXP.png" style="height:100px"  />
						</td>
						<td style="width:20%"><h3 style="text-align:center">Dojo</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Dojo**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_Dojo_desc" data-i18n="dojo-desc">If your Daimyo supports a Dojo, your samurai gain a number of bonus Prowess wagers, per Season, equal to the rank of the Dojo. The Dojo only provides one, two or three wagers for all the samurai to use, so use them carefully. 
The Dojo provides another benefit: it provides a number of free Season Actions for the sole purpose of the Self Improvement Season Action. These Actions do not count toward the maximum number of Actions that may be spent for Self Improvement (see Self Improvement as a Season Action, below). </textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_GamblingDen" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/KtQ7FqJ.png" style="height:100px"  />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="gambling-den-br">Gambling<br>Den</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Gambling Den**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_GamblingDen_desc" data-i18n="gambling-den-desc">If your Daimyo supports a Gambling Den, your samurai gain a number of bonus Cunning wagers, per Season, equal to the rank of the Gambling Den. The Den only provides one, two or three wagers for all the samurai to use, so use them carefully.
Also, the Gambling Den provides additional koku per Season... and may produce more if you take a gamble. The Den provides one koku per rank of the Den. If the players want to gamble, they can earn two additional koku if they can roll a 5 or a 6 on a number of dice equal to the rank of the Den. If they do not roll a 5 or 6, they lose the koku they gambled. </textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_Garrison" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/jZBiPW6.png" style="height:100px"  />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="garrison">Garrison</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Garrison**?"data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_Garrison_desc" data-i18n="garrison-desc">A Garrison allows you to hold troops in your Province. A Garrison allows a rank of Ashigaru for each rank of the Garrison. (See War for more information.) </textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_GeishaHouse" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/ihaFE63.png"  style="height:100px" />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="geisha-house-br">Geisha<br>House</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Geisha House**?" data-i18n="ask-gm" >Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_GeishaHouse_desc" data-i18n="gueisha-house-desc">If your Daimyo supports a Geisha House, your samurai gain a number of bonus Beauty wagers, per Season, equal to the rank of the Geisha House. The Geisha House only provides one, two or three wagers for all the samurai to use, so use them carefully. 
Also, the Geisha House provides your samurai with a number of rumors equal to its rank. A rumor is a Wisdom-based wager that allows the samurai to say things are true this Season. Like normal wagers, rumors cannot be used to contradict facts already established in the game. If a samurai wants to use a wager from the Geisha House to say the Daimyo of a rival Clan is secretly a drunk, or a coward or even dead (and being portrayed by his kagemusha), he may do so.</textarea>
						</td>
					</tr>
				</table>
				</div>
				
				<div class="sheet-col" style="width:5%">
				</div>
				
				<div class="sheet-col" style="width:45%">
				<table style="width:100%">
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_RiceFarm" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/vXyht0K.png"  style="height:100px" />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="rice-farm-br">Rice<br>Farm</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Rice Farms**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_RiceFarm_desc" data-i18n="rice-farm-desc">Where the peasants toil to generate the real keystone of the economy. Rice Farms produce rice, which is essential to a samurai economy. 
A Rice Farm produces two Koku per rank per Season. </textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_SakeWorks" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/XoDS2g2.png"  style="height:100px" />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="sake-works-br">Sake<br>Works</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Sake Works**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_SakeWorks_desc" data-i18n="sake-works-desc">If your Daimyo supports a Sake Works, your samurai gain a number of bonus Courage wagers, per Season, equal to the rank of the Sake Works. The Sake Works only provides one, two or three wagers for all the samurai to use, so use them carefully. 
Also, the Sake Works provides an additional benefit. Providing Ashigaru with sake (see Violence for more information) increases their morale, making them more effective warriors. Using a Season of sake increases the rank of any Ashigaru Troop by one. </textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_ShintoShrine" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/uDhXCuP.png"  style="height:100px" />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="shinto-shrine-br">Shinto<br>Shrine</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Shinto Shrine**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_ShintoShrine_desc" data-i18n="shinto-shrine-desc">If your Daimyo supports a Shinto Shrine, you gain a number of Blessings (see Religion & Magic) equal to the Shrine's rank. In other words, if you have a rank 2 Shrine, your samurai share two Blessings among themselves. A Province may have more than one Shrine, thus providing more Blessings for your samurai to share. </textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_SilkFarm" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/y4ntTxV.png" style="height:100px"  />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="silk-farm-br">Silk<br>Farm</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Silk Farms**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_SilkFarm_desc" data-i18n="silk-farm-desc">Silk is the fabric of the nobility. In Old Japan, there are so many Silk Farms, samurai blow their noses with silk handkerchiefs and throw them away. Every Season, a Silk Farm produces enough Silk to clothe your Daimyo's Officers... and a little more. 
If your Daimyo supports a Silk Farm, your samurai gain a number of bonus Beauty wagers, per Season, equal to the rank of the Silk Farm. The Farm only provides one, two or three wagers for all the samurai to use, so use them carefully. 
Also, the Silk Farm provides a number of Gifts each Season equal to its rank. A Gift, when presented, adds a number of free wagers to any social risk equal to its own rank. A Silk Farm produces a number of Gift Ranks equal to its own rank, so a rank 3 Farm can make three rank I Gifts or one rank 3 Gift, as the Daimyo wishes. </textarea>
						</td>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_Stables" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/IVjwMa2.png" style="height:100px"  />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="stables">Stables</h3>
						</td>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Stables**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_Stables_desc" data-i18n="stables-desc">Where grooms breed and care for horses. Your Clan's horses have a rank equal to the rank of your Stables. Any horse-based risks gain a number of free wagers equal to the rank of your Stables.</textarea>
						</td>
					</tr>
					</tr>
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_holdings_SumoSchool" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:50%"><img src="https://i.imgur.com/JsvvqSu.png"  style="height:100px" />
						</td>
						<td style="width:20%"><h3 style="text-align:center" data-i18n="sumo-school-br">Sumo<br>School</h3>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **Sumo School**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_holdings_SumoSchool_desc" data-i18n="sumo-school-desc">If your Daimyo supports a Sumo School, your samurai gain a number of bonus Strength wagers, per Season, equal to the rank of the Sumo School. 
The Sumo School only provides one, two or three wagers for all the samurai to use, so use them carefully. The Sumo School provides for an additional benefit: the samurai may ignore any weapon Injury not caused by a katana. Your samurai may do this a number of times per Season equal to the rank of the Sumo School. 
(Don't go jumping in front of cannons or perform other acts of stupidity, trying to abuse a rule's literal text, thus violating the spirit of the rule. Only a wanker would do that. Lose three Honor.) </textarea>
						</td>
					</tr>
				</table>
				</div>
				
		</div>	
				<fieldset class="repeating_otherholdings" name="attr_repeating_otherholdings">					
				<div class="sheet-col" style="width:45%">				
				<table style="width:100%">
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_otherholding_left_rank" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:70%"><input name="attr_otherholding_left_name" data-i18n-placeholder="other-holding" placeholder="Holding Name" type="text" class="sheet-bottomborderbox" style="width:100%; text-align:center"></input>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **@{otherholding_left_name}**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_otherholding_left_desc"></textarea>
						</td>
					</tr>
				</table>
				</div>
				<div class="sheet-col" style="width:5%">
				</div>
				<div class="sheet-col" style="width:45%">				
				<table style="width:100%">
					<tr>
						<td style="width:20%"><input class="sheet-virtue-number" name="attr_otherholding_right_rank" type="number" value="0" style="width:2em;font-size:36px"></input>
						</td>
						<td style="width:70%"><input name="attr_otherholding_right_name" data-i18n-placeholder="other-holding" placeholder="Holding Name" type="text" class="sheet-bottomborderbox" style="width:100%; text-align:center"></input>
						</td>
					</tr>
					<tr>
						<td style="width:100%" COLSPAN=3><button class="sheet-virtue-button" type='roll' value="/w gm Can I use **@{otherholding_right_name}**?" data-i18n="ask-gm">Ask GM</button><br>
						<textarea  class="sheet-bottomborderbox"name="attr_otherholding_right_desc"></textarea>
						</td>
					</tr>
				</table>
				</div>
				</fieldset>
				<br>				
				<h3 data-i18n="province-truths">Province Truths</h3>
				<fieldset class="repeating_provincetruths" name="attr_repeating_provincetruths">
					<div>
						<div class="sheet-row"><textarea name="attr_provincetruth" class="sheet-bottomborderbox" style="width:100%; text-align:center;height:1.2em"></textarea>
						</div>
					</div><br>
				</fieldset>
				
		</div>
    </div>
</div>
<script type="text/worker">
/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function(){
    'use strict';

    var version = '0.2.4',
        lastUpdate = 1457098091,

        loggingSettings = {
            debug: {
                key:     'debug',
                title:   'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label:   '#F2EF40',
                    bgText:  '#FFFEB7',
                    text:    '#7732A2'
                }
            },
            error: {
                key:     'error',
                title:   'Error',
                color: {
                    bgLabel: '#C11713',
                    label:   'white',
                    bgText:  '#C11713',
                    text:    'white'
                }
            },
            warn: {
                key:     'warn',
                title:   'Warning',
                color: {
                    bgLabel: '#F29140',
                    label:   'white',
                    bgText:  '#FFD8B7',
                    text:    'black'
                }
            },
            info: {
                key:     'info',
                title:   'Info',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            notice: {
                key:     'notice',
                title:   'Notice',
                color: {
                    bgLabel: '#33C133',
                    label:   'white',
                    bgText:  '#ADF1AD',
                    text:    'black'
                }
            },
            log: {
                key:     'log',
                title:   'Log',
                color: {
                    bgLabel: '#f2f240',
                    label:   'black',
                    bgText:  '#ffff90',
                    text:    'black'
                }
            },
            callstack: {
                key:     'TAS',
                title:   'function',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            callstack_async: {
                key:     'TAS',
                title:   'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#413FA9',
                    text:    'white'
                }
            },
            TAS: {
                key:     'TAS',
                title:   'TAS',
                color: {
                    bgLabel: 'grey',
                    label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText:  'grey',
                    text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },


        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },

        callstackRegistry = [],
		queuedUpdates = {}, //< Used for delaying saves till the last momment.

    complexType = function(o){
        switch(typeof o){
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },

	dataLogger = function(primaryLogger,secondaryLogger,data){
        _.each(data,function(m){
            var type = complexType(m);
            switch(type){
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('['+type+']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('['+type+']: '+m);
                    break;
                default:
                    primaryLogger('['+type+']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
	},


    colorLog = function(options){
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';

        coloredLoggerFunction = function(message){
            console.log(
                '%c '+label+': %c '+message + ' ',
                'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                'background-color: '+mBGColor+';color: '+mTxtColor+';'
            ); 
        };
        return function(){
            if('TAS'===key || config.logging[key]){
               dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
            }
        };
    },

    logDebug  = colorLog(loggingSettings.debug),
    logError  = colorLog(loggingSettings.error),
    logWarn   = colorLog(loggingSettings.warn),
    logInfo   = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog    = colorLog(loggingSettings.log),
    log       = colorLog(loggingSettings.TAS),
    logCS     = colorLog(loggingSettings.callstack),
    logCSA    = colorLog(loggingSettings.callstack_async),

    registerCallstack = function(callstack,label){
        var idx=_.findIndex(callstackRegistry,function(o){
            return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
                _.difference(o.stack,callstack).length === 0 &&
                o.label === label;
        });
        if(-1 === idx){
            idx=callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },

    setConfigOption = function(options){
        var newconf =_.defaults(options,config);
        newconf.logging=_.defaults(
            (options && options.logging)||{},
            config.logging
        );
        config=newconf;
    },
    
    debugMode = function(){
        config.logging.debug=true;
        config.debugMode = true;
    },

    getCallstack = function(){
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')),function(l){
                return l.replace(/\s+.*$/,'');
            });
        return stack;
    },
    logCallstackSub = function(cs){
        var matches, csa;
        _.find(cs,function(line){
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if(matches){
               csa=callstackRegistry[matches[1]];
               logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
               logCallstackSub(csa.stack);
               return true;
            } 
            logCS(line);
            return false;
        });
    },
    logCallstack = function(){
        var cs;
        if(config.debugMode){
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },


    wrapCallback = function (label, callback, context){
        var callstack;
        if('function' === typeof label){
            context=callback;
            callback=label;
            label=undefined;
        }
        if(!config.debugMode){
            return (function(cb,ctx){
                return function(){
                    cb.apply(ctx||{},arguments);
                };
            }(callback,context));
        }
        
        callstack = getCallstack();
        callstack.shift();
        
        return (function(cb,ctx,cs,lbl){
            var ctxref=registerCallstack(cs,lbl);

            /*jshint -W054 */
            return new Function('cb','ctx','TASlog',
                "return function TAS_CALLSTACK_"+ctxref+"(){"+
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                    "cb.apply(ctx||{},arguments);"+
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)'));"+
                "};")(cb,ctx,log);
            /*jshint +W054 */
        }(callback,context,callstack,label));
    },


    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },

    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },

	namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
	},

	addId = function(obj,value){
		Object.defineProperty(obj,'id',{
			value: value,
			writeable: false,
			enumerable: false
		});
	},

	addProp = function(obj,prop,value,fullname){
		(function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
			    full_pname = fullname || prop,
                pvalue=value;

            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
			Object.defineProperty(obj, pname, {
                enumerable: true,
				set: function(v){
                    if(v!==pvalue) {
                        pvalue=v;
                        prepareUpdate(full_pname,v);
                    }
				},
				get: function(){
					return pvalue;
				}
			});
            
            // string value
			Object.defineProperty(obj.S, pname, {
                enumerable: true,
				set: function(v){
                    var val=v.toString();
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return pvalue.toString();
				}
			});

            // int value
			Object.defineProperty(obj.I, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseInt(v,10) || 0;
                    if(val !== pvalue){
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseInt(pvalue,10) || 0;
				}
			});

            // float value
			Object.defineProperty(obj.F, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseFloat(v) || 0;
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseFloat(pvalue) || 0;
				}
			});
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        if(val !== pvalue){
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

		}());
	},
	
	repeating = function( section ) {
		return (function(s){
			var sectionName = s,
				attrNames = [],
				fieldNames = [],
				operations = [],
                after = [],
			
			repAttrs = function TAS_Repeating_Attrs(){
				attrNames = namesFromArgs(arguments,attrNames);
				return this;
			},
			repFields = function TAS_Repeating_Fields(){
				fieldNames = namesFromArgs(arguments,fieldNames);
				return this;
			},
			repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
				operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
			repMap = function TAS_Repeating_Map(func, final, context) {
				operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
            repEach = function TAS_Repeating_Each(func, final, context) {
				operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
				operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repAfter = function TAS_Repeating_After(callback,context) {
				after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
				return this;
            },
			repExecute = function TAS_Repeating_Execute(callback,context){
				var rowSet = {},
					attrSet = {},
					fieldIds = [],
					fullFieldNames = [];

                repAfter(callback,context);

				// call each operation per row.
				// call each operation's final
				getSectionIDs("repeating_"+sectionName,function(ids){
					fieldIds = ids;
					fullFieldNames = _.reduce(fieldIds,function(memo,id){
						return memo.concat(_.map(fieldNames,function(name){
							return 'repeating_'+sectionName+'_'+id+'_'+name;  
						}));
					},[]);
					getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
						_.each(attrNames,function(aname){
							if(values.hasOwnProperty(aname)){
								addProp(attrSet,aname,values[aname]);
							}
						});

						rowSet = _.reduce(fieldIds,function(memo,id){
							var r={};
							addId(r,id);
							_.each(fieldNames,function(name){
								var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
								addProp(r,name,values[fn],fn);
							});

							memo[id]=r;

							return memo;
						},{});

                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after,function(op){
                            _.bind(op.callback,op.context)();
                        });
					});
				});
			};
				
			return {
				attrs: repAttrs,
				attr: repAttrs,

				column: repFields,
				columns: repFields,
				field: repFields,
				fields: repFields,

				reduce: repReduce,
				inject: repReduce,
				foldl: repReduce,

				map: repMap,
				collect: repMap,

				each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

				after: repAfter,
				last: repAfter,
				done: repAfter,

				execute: repExecute,
				go: repExecute,
				run: repExecute
			};
		}(section));
	},


    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a.S[destination]=t;
            })
            .execute();
    };

	console.log('%c..*`*..*`*.  The Aaron Sheet  v'+version+'  .*`*..*`*..','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
	console.log('%c..*`*..*`*.  Last update: '+(new Date(lastUpdate*1000))+'  .*`*..*`*..','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');


    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
		repeating: repeating,

        /* Configuration */
        config: setConfigOption,

        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        _fn: wrapCallback,

        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());

/* ---- END: TheAaronSheet.js ---- */


</script>
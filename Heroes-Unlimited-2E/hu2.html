<!-- Navigation Bar -->
<div class="buttonbar">
  <div class="navbuttons">
    <input type="hidden" class="showspells" name="attr_showspells" value="1" />
    <input type="hidden" class="showpsionics" name="attr_showpsionics" value="1" />
    <input type="hidden" class="showpowers" name="attr_showpowers" value="1" />
    <input type="hidden" class="showanimals" name="attr_showanimals" value="1" />
    <input type="hidden" class="showvehicles" name="attr_showvehicles" value="1" />
    <input type="hidden" class="showrobots" name="attr_showrobots" value="1" />
    <input type="hidden" class="showbionics" name="attr_showbionics" value="1" />

    <button type="action" class="topbuttons" title="Character Main Page" name="act_character" >Character</button>
    <button type="action" class="topbuttons" title="Social Information" name="act_social" >Social</button>
    <button type="action" class="topbuttons" title="Percentile Based Skills" name="act_skills" >Skills</button>
    <button type="action" class="topbuttons" title="Inventory and Junk" name="act_inventory" >Inventory</button>
    <button type="action" class="topbuttons" title="Combat Skills and Saves" name="act_combat" >Combat</button>
    <button type="action" class="topbuttons confspells" title="Spells" name="act_spells" >Spells</button>
    <button type="action" class="topbuttons confpsionics" title="Psionics" name="act_psionics" >Psionics</button>
    <button type="action" class="topbuttons confpowers" title="Super Powers" name="act_powers" >Powers</button>
    <button type="action" class="topbuttons confanimals" title="Mutant Animal Worksheet" name="act_animals" >Animals</button>
    <button type="action" class="topbuttons confvehicles" title="Vehicles" name="act_vehicles" >Vehicles</button>
    <button type="action" class="topbuttons confrobots" title="Robots and Armor" name="act_robots" >Robots</button>
    <button type="action" class="topbuttons confbionics" title="Bionics" name="act_bionics" >Bionics</button>
    <button type="action" class="topbuttons" title="Journal or Notes" name="act_journal" >Journal</button>
  </div>
  <div class="docbuttons">
    <button type="action" class="picbuttons" title="Sheet Configuration" name="act_configuration" >x</button>
    <button type="action" class="picbuttons" title="Release Notes and Documentation" name="act_documentation" >N</button>
  </div>
</div>
<input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='character'  />

<!-- Main Character Tab -->
<div class='sheet-character'>
    <div class='statheader-container'>
        <h2>Character</h2>
        <h4>Display Name:</h4>
        <div class="whispertoggle-container">
            <input type="radio" class="toggle-left" name="attr_nametoggle" title="Public Name" value="@{character_name}" checked="checked"><span title="Public"></span>
            <input type="radio" class="toggle-right" name="attr_nametoggle" title="Private Name" value="@{private_name}"><span title="Private"></span>
        </div>
        <h4>Macro Rolls:</h4>
        <div class="whispertoggle-container">
            <input type="radio" class="toggle-left" name="attr_whispertoggle" title="Public" value="" checked="checked"><span title="Public"></span>
            <input type="radio" class="toggle-right" name="attr_whispertoggle" title="GM Whisper" value="/w gm "><span title="Whisper"></span>
        </div>
    </div>
    <div class='name-grid-container'>
        <h4 class='name-label' title='Character Name' >Public Name</h4>
        <input class='name-stats parchment' type='text' title='@{character_name}' value='' name='attr_character_name'/>
        <div class="space-holder" ></div>
        <h4 class='name-label' title='Character True Name' >Private Name</h4>
        <input class='name-stats parchment' type='text' title='@{private_name}' value='' name='attr_private_name'/>
    </div>
    <div class='class-grid-container'>
        <h4 class='class-label'title='Occupational Character Class' >O.C.C.</h4>
        <input class='occ-stats parchment' type='text' title='@{occ}' value='' name='attr_occ'/>
        <h4 class='class-label' title='Character Level' >Level</h4>
        <input class='class-stats parchment' type='text' title='@{character_level}' value='' name='attr_character_level'/>
        <h4 class='class-label' title='Experience Points' >Experience</h4>
        <input class='exp-stats parchment' type='text' title='@{experience}' value='' name='attr_experience'/>
    </div>

    <!-- Stat Sections -->
    <div class='middle-grid-container'>
      <!-- The main eight stats -->
        <div class='stat-grid-container'>
            <h4 class='stat-title'>Stat</h4>
            <h4 class='stat-title'>Now/Past</h4>
            <button class='statdice' type="roll" title='Intelligence Quotient' name='roll_iq_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=I.Q. Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{iq}}}" >I.Q.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{iq}' value='' name="attr_iq"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{iq_max}' value='' name="attr_iq_max"/>
            </div>

            <button class='statdice' type="roll" title='Mental Endurance' name='roll_me_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Mental Endurance Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{me}}}" >M.E.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{me}' value='' name="attr_me"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{me_max}' value='' name="attr_me_max"/>
            </div>

            <button class='statdice' type="roll" title='Mental Affinity' name='roll_ma_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Mental Affinity Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{ma}}}" >M.A.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{ma}' value='' name="attr_ma"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{ma_max}' value='' name="attr_ma_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Strength' name='roll_ps_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Physical Strength Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{ps}}}" >P.S.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{ps}' value='' name="attr_ps"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{ps_max}' value='' name="attr_ps_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Prowess' name='roll_pp_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Physical Prowess Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{pp}}}" >P.P.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{pp}' value='' name="attr_pp"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{pp_max}' value='' name="attr_pp_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Endurance' name='roll_pe_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Physical Endurance Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{pe}}}" >P.E.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{pe}' value='' name="attr_pe"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{pe_max}' value='' name="attr_pe_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Beauty' name='roll_pb_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Physical Beauty Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{pb}}}" >P.B.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{pb}' value='' name="attr_pb"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{pb_max}' value='' name="attr_pb_max"/>
            </div>

            <button class='statdice' type="roll" title='Speed' name='roll_spd_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Speed Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{spd}}}" >Spd.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{spd}' value='' name="attr_spd"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{spd_max}' value='' name="attr_spd_max"/>
            </div>
        </div>
        <div class='mid-column-gap'></div>

        <!-- Derived Stats -->
        <div class='calc-grid-container'>
            <h4 class='calc-title'>Derived</h4>
            <h4 class='calc-title'>Stats</h4>
            <h4 class='calc-label' title='Maximum Lift' >Lift lbs.</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_lift" readonly>
            <h4 class='calc-label' title='Maximum Carrying Weight' >Carry lbs.</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_carry" readonly>
            <h4 class='calc-label' title='Time Between Rests at Max Carry Weight' >Carry Max</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_carry_max" readonly>
            <h4 class='calc-label' title='Rounded Run Speed in Miles per Hour' >Run MPH</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_mph" readonly>
            <h4 class='calc-label' title='Maximum Feet of Movement per Melee' >Run/Melee</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_melee" readonly>
            <h4 class='calc-label' title='Maximum Feet of Movement per Action' >Run/Action</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_attack" readonly>
            <h4 class='calc-label' title='Time Beween Rests When Running' >Run Minutes</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_max" readonly>
            <div class='spaceholder'></div>
            <div class='spaceholder'></div>          
        </div>

        <!-- Hit Points, AR, SDC -->
        <div class='mid-column-gap'></div>
        <div class='hp-grid-container'>
            <h4 class='roll-title'>Resources &</h4>
            <h4 class='roll-title'>Rolls</h4>
            <h4 class='roll-label' title='Hit Points' >Hit Points</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{character_hp}' value='' name="attr_character_hp"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{character_hp_max}' value='' name="attr_character_hp_max"/>
            </div>
            <h4 class='roll-label' title='Armor Structural Damage Capacity' >S.D.C.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{character_sdc}' value='' name="attr_character_sdc"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{character_sdc_max}' value='' name="attr_character_sdc_max"/>
            </div>
            <h4 class='roll-label' title='Armor Structural Damage Capacity' >Chi</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{character_chi}' value='' name="attr_character_chi"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{character_chi_max}' value='' name="attr_character_chi_max"/>
            </div>
            <h4 class='roll-label' title='Armor Rating' >Armor Rating</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{character_ar}' value='' name="attr_character_ar"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{character_ar_max}' value='' name="attr_character_ar_max"/>
            </div>
            <h4 class='roll-label' title='Armor Structural Damage Capacity' >Armor S.D.C.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{armor_sdc}' value='' name="attr_armor_sdc"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{armor_sdc_max}' value='' name="attr_armor_sdc_max"/>
            </div>
            <button class='rolldice' type="roll" title='Trust or Intimidate' name='roll_invoke_trust' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Trust or Intimidate Attempt}} {{Skill Check=[[1d100]]}} {{Chance of Success=@{invoke_trust}}}" >Trust</button>
            <input class='roll-field faded-blue' type="text" value="0" name="attr_invoke_trust" readonly>
            <button class='rolldice' type="roll" title='Charm or Impress' name='roll_charm_impress' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Charm or Impress Attempt}} {{Skill Check=[[1d100]]}} {{Chance of Success=@{charm_impress}}}" >Charm</button>
            <input class='roll-field faded-blue' type="text" value="0" name="attr_charm_impress" readonly>
            <button class='rolldice' type="roll" title='Perception from Rifts' name='roll_perception' value="@{whispertoggle}&{template:custom} {{color=yellow}} {{title=**@{nametoggle}'s**}} {{subtitle=Perception}} {{Perception=[[d20+@{perception}]]}} {{desc=The number to beat is based on difficulty as determined by the GM
            **4** Easy
            **8** Moderate
            **14** Challenging
            **17** Difficult}}" >Percep.</button>
            <input class='roll-field parchment' type='text' title='Perception Bonus' value="0" name="attr_perception" />
            <button class='rolldice' type="roll" title='Initiative (d20+80)' name='roll_initiative' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Initiative}} {{Initiative=[[d20+80+@{initiative}[HtH]+@{pp_init}[PP]+@{initiative_mod}&{tracker}]]}}" >Initiative</button>
            <input class='roll-field parchment' type='text' title='Initiative Bonus' value="0" name="attr_initiative_mod" />
        </div>

        <!-- Casting Stats -->
        <div class='mid-column-gap'></div>
        <div class='caster-grid-container'>
            <h4 class='caster-title'>Caster</h4>
            <h4 class='caster-title'>Stats</h4>
            <h4 class='caster-label' title='Psionic Level' >Psionic Lvl</h4>
            <input class='caster-field parchment' type='text' title='@{psi_level}' value="0" name="attr_psi_level"/>
            <h4 class='caster-label' title='Psionic Inner Strength Points' >I.S.P.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{character_pisp}' value='' name="attr_character_pisp"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{character_pisp_max}' value='' name="attr_character_pisp_max"/>
            </div>
            <h4 class='caster-label' title='Magic Caster Level' >Caster Lvl</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{caster_level}' value="0" name="attr_caster_level" />
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{caster_level_max}' value="0" name="attr_caster_level_max" />
            </div>
            <h4 class='caster-label' title='Potential Psychic Energy' >P.P.E.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{character_casts}' value='' name="attr_character_casts"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{character_casts_max}' value='' name="attr_character_casts_max"/>
            </div>
            <h4 class='caster-label' title='Spell Strength' >Spell Str.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{spell_strength}' value="0" name="attr_spell_strength" />
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{spell_strength_max}' value="0" name="attr_spell_strength_max" />
            </div>
            <h4 class='caster-label' title='Ward Level' >Ward Lvl</h4>
            <input class='caster-field parchment' type='text' title='@{ward_level}' value="0" name="attr_ward_level" />
            <h4 class='caster-label' title='Daily Ward Activations' >Daily Wards</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{ward_casts}' value="" name="attr_ward_casts" />
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{ward_casts_max}' value="" name="attr_ward_casts_max" />
            </div>
            <h4 class='caster-label' title='Ward Strength' >Ward Str.</h4>
            <input class='caster-field parchment' type='text' title=@{ward_strength} value="0" name="attr_ward_strength" />
            <h4 class='caster-label' title='Circle Level' >Circle Lvl</h4>
            <input class='caster-field parchment' type='text' title='@{circle_level}' value="0" name="attr_circle_level" />
            <h4 class='caster-label' title='Circle Strength' >Circle Str.</h4>
            <input class='caster-field parchment' type='text' title='@{circle_strength}' value="0" name="attr_circle_strength" />
        </div>
    </div>

    <!-- Additional Movement -->
    <div class='movement-container'>
        <div class="movement-panel">
            <input type="checkbox" name="attr_addl_movement_toggle" class="sheet-arrow" />
            <h4>Additional Movement</h4>
            <div class="arrowbody">
                <div class="leap-panel">
                    <div class='leap-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Vertical</h5>
                        <h5>Horizontal</h5>
                        <div class='space-holder'></div>
                        <h4>Leaping Distance</h4>
                        <input class='leaping-field parchment' type="number" name="attr_leapup" value="3" />
                        <input class='leaping-field parchment' type="number" name="attr_leapout" value="4" />
                        <h4>Feet</h4>
                    </div>
                </div>
                <div class='movement-grid-container' >
                    <h5>Movement Type</h5>
                    <h5>Speed</h5>
                    <h5>MPH</h5>
                    <h5>Run/Melee</h5>
                    <h5>Run/Action</h5>
                    <h5>Max Run</h5>
                    <div class='space-holder'></div>
                </div>
                <fieldset class="repeating_movement">
                    <div class='movement-grid-container' >
                        <input class='movement-field parchment' type="text" value="" name="attr_movement_name" placeholder="Additional Movement Type" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_spd" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_mph" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_ft_melee" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_ft_attack" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_at_max" />
                        <h4>minutes</h4>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>

    <!-- Combat Maneuvers -->
    <div class="combatmaneuver-container">
        <div class="combatmaneuver-panel">
            <input type="checkbox" name="attr_combatmaneuver_toggle" class="sheet-arrow" />
            <h4>Combat Maneuvers</h4>
            <div class="arrowbody">
                <div class="combat-options-container">
                    <h5 class="underlined">Combat Skill Toggle:</h5>
                    <div class="combattoggle-container">
                        <input type="radio" class="toggle-left" name="attr_combatskill" title="Combat Skill 1" value="1" checked="checked"><span title="HtH 1"></span>
                        <input type="radio" class="toggle-right" name="attr_combatskill" title="Combat Skill 2" value="2"><span title="HtH 2"></span>
                    </div>
                </div>
                <div class="maneuvers-container">
                    <div class="maneuver-cell">
                        <h5 class="centered underlined">Maneuver</h5>
                        <h5>Temp Bonus</h5>
                        <div class='space-holder'></div>
                    </div>
                    <div class="maneuver-cell">
                        <h5 class="centered underlined">Maneuver</h5>
                        <h5>Temp Bonus</h5>
                        <div class='space-holder'></div>
                    </div>
                    <div class="maneuver-cell">
                        <h5 class="centered underlined">Maneuver</h5>
                        <h5>Temp Bonus</h5>
                        <div class='space-holder'></div>
                    </div>

                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Dodge' name='roll_dodge' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=Attempts to Dodge}} {{Dodge=[[1d20+@{dodge}[HtH]+@{pp_bonus}[PP]+@{temp_dodge}[temp]]]}} {{desc=@{dodge_note}}}" >Dodge</button>
                        <input class='roll-field parchment' type='text' title='Dodge Bonus Other Than HtH or PP' value="0" name="attr_temp_dodge"/>
                        <input type='checkbox' title='Show Note Field' name='attr_dodgenote_toggle' value="1">
                        <input class='dodgenote-toggle' type='hidden' name='attr_dodgenote_toggle'>
                        <div class='dodgenote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_dodge_note" placeholder='Dodge Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Auto Dodge' name='roll_dodge' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=Attempts to Dodge}} {{Auto Dodge=[[1d20+@{pp_bonus}[PP]+@{temp_autododge}[temp]]]}} {{desc=@{autododge_note}}}" >Auto Dodge</button>
                        <input class='roll-field parchment' type='text' title='Auto Dodge Bonus' value="0" name="attr_temp_autododge"/>
                        <input type='checkbox' title='Show Note Field' name='attr_adodgenote_toggle' value="1">
                        <input class='adodgenote-toggle' type='hidden' name='attr_adodgenote_toggle'>
                        <div class='adodgenote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_autododge_note" placeholder='Autododge Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Disarm' name='roll_disarm' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=Attempts a Disarm}} {{Disarm=[[1d20+@{disarm}[HtH]+@{pp_bonus}[PP]+@{temp_disarm}[temp]]]}} {{desc=@{disarm_note}}}" >Disarm</button>
                        <input class='roll-field parchment' type='text' title='Disarm Bonus Other Than HtH or PP' value="0" name="attr_temp_disarm"/>
                        <input type='checkbox' title='Show Note Field' name='attr_disarmnote_toggle' value="1">
                        <input class='disarmnote-toggle' type='hidden' name='attr_disarmnote_toggle'>
                        <div class='disarmnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_disarm_note" placeholder='Disarm Notes' ></textarea>
                            </div>
                        </div>
                     </div>

                    <div class="maneuver-cell">    
                        <button class='rolldice' type="roll" title='Roll with Punch or Impact' name='roll_rollpunch' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=Attempts to Roll with Impact}} {{Roll with Punch=[[1d20+@{rollpunch}[HtH]+@{pp_bonus}[PP]+@{temp_rollpunch}[temp]]]}} {{desc=@{rpunch_note}}}" >Roll Punch</button>
                        <input class='roll-field parchment' type='text' title='Roll with Impact Bonus Other Than HtH or PP' value="0" name="attr_temp_rollpunch"/>
                        <input type='checkbox' title='Show Note Field' name='attr_rpunchnote_toggle' value="1">
                        <input class='rpunchnote-toggle' type='hidden' name='attr_rpunchnote_toggle'>
                        <div class='rpunchnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_rpunch_note" placeholder='Roll with Punch Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Pull Punch' name='roll_pullpunch' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=Attempts to Pull a Punch}} {{Pull Punch=[[1d20+@{pullpunch}[HtH]+@{pp_bonus}[PP]+@{temp_pullpunch}[temp]]]}} {{desc=@{ppunch_note}}}" >Pull Punch</button>
                        <input class='roll-field parchment' type='text' title='Pull Punch Bonus Other Than HtH or PP' value="0" name="attr_temp_pullpunch"/>
                        <input type='checkbox' title='Show Note Field' name='attr_ppunchnote_toggle' value="1">
                        <input class='ppunchnote-toggle' type='hidden' name='attr_ppunchnote_toggle'>
                        <div class='ppunchnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_ppunch_note" placeholder='Pull Punch Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Entangle' name='roll_entangle' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=Attempts to Entangle}} {{Entangle=[[1d20+@{entangle}[HtH]+@{pp_bonus}[PP]+@{temp_entangle}[temp]]]}} {{desc=@{entangle_note}}}" >Entangle</button>
                        <input class='roll-field parchment' type='text' title='Entangle Bonus Other Than HtH or PP' value="0" name="attr_temp_entangle"/>
                        <input type='checkbox' title='Show Note Field' name='attr_entanglenote_toggle' value="1">
                        <input class='entanglenote-toggle' type='hidden' name='attr_entanglenote_toggle'>
                        <div class='entanglenote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_entangle_note" placeholder='Entangle Notes' ></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Knockout/Stun' name='roll_stun' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=Attempts to Knockout or Stun}} {{Attempt=[[1d20cs>@{knockout}+@{temp_knockout}[temp]]]}} {{desc=@{knockout_note}}}" >Knockout</button>
                        <input class='roll-field parchment' type='text' title='Knockout or Stun Bonus' value="0" name="attr_temp_knockout"/>
                        <input type='checkbox' title='Show Note Field' name='attr_knockoutnote_toggle' value="1">
                        <input class='knockoutnote-toggle' type='hidden' name='attr_knockoutnote_toggle'>
                        <div class='knockoutnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_knockout_note" placeholder='Knockout/Stun Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Melee Attack Section -->
    <div class="melee-attack-panel">
        <input type="checkbox" name="attr_melee_attacks-toggle" class="sheet-arrow" />
        <h4>Melee Attacks</h4>
        <div class="arrowbody">
            <div class='meleetemp-container'>
                <h4>Temporary Bonuses:</h4>
                <h5>Strike:</h5>
                <input class='mattack-text parchment' type="text" title='Temporary Melee Strike Bonuses' value="0" name="attr_mtemp_strike" />
                <h5>Parry:</h5>
                <input class='mattack-text parchment' type="text" title='Temporary Melee Parry Bonuses' value="0" name="attr_mtemp_parry" />
                <h5>Damage:</h5>
                <input class='mattack-text parchment' type="text" title='Temporary Melee Damage Bonuses' value="0" name="attr_mtemp_damage" />
                
            </div>
            <div class='mattack-grid-container'>
                <h5>Weapon Name</h5>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h5>Damage</h5>
                <div class='space-holder'></div>
            </div>
            <fieldset class="repeating_meleeattacks">
                <div class='mattack-grid-container' >
                    <input class='mattack-label parchment' type="text" value="" title='Weapon name that will display in template header' name="attr_weapon_attack" placeholder="Weapon Name" />
                    <button class='meleedice' type='roll' title='Strike (Attack) Roll with Damage' name='roll_meleeattack' value="@{whispertoggle}&{template:custom} {{color=blue}} {{title=**@{nametoggle}**}} {{subtitle=attacks with @{weapon_attack}}} {{Attack= [[d20cs>@{critical}+@{weapon_strike}[strike]+@{strike}[HtH]+@{pp_bonus}[PP]+@{mtemp_strike}[temp]]]}} {{Damage= [[@{weapon_damage}+@{damage}[HtH]+@{ps_bonus}[PS]+@{mtemp_damage}[temp]]]}} {{desc=@{mattack_reference}}}">Strike</button>
                    <button class='meleedice' type='roll' title='Parry Roll' name='roll_meleeparry' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{nametoggle}**}} {{subtitle=parries with @{weapon_attack}}} {{Parry= [[d20+@{weapon_parry}[parry]+@{parry}[HtH]+@{pp_bonus}[PP]+@{mtemp_parry}[temp]]]}}">Parry</button>
                    <button class='meleedice' type='roll' title='Damage Roll' name='roll_meleedamage' value="@{whispertoggle}&{template:custom} {{color=red}} {{title=**@{nametoggle}**}} {{subtitle=lashes out}} {{@{nametoggle}'s @{weapon_attack} deals= [[@{weapon_damage}+@{damage}[HtH]+@{ps_bonus}[PS]+@{mtemp_damage}[temp]]]}} {{desc=@{mattack_reference}}}">Damage</button>
                    <input class='damage-dice parchment' type="text" title='Damage Dice Calculation other than HtH and PS' value="" name="attr_weapon_damage" placeholder="xdy+z" />
                    <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_toggle_mbonus' value="1">
                    <input class='mbonus-toggle' type='hidden' name='attr_toggle_mbonus'>
                    <div class='mbonus-hide'>
                        <div class='mbonus-container'>
                            <h5>Strike Bonus</h5>
                            <h5>Parry Bonus</h5>
                            <h5>Notes</h5>
                            <input class='mattack-bonus parchment' type="text" title='Strike Bonuses other than HtH or PP' value="0" name="attr_weapon_strike" />
                            <input class='mattack-bonus parchment' type="text" title='Parry Bonuses other than HtH or PP' value="0" name="attr_weapon_parry" />
                            <textarea class='mattack-notes parchment' type="text" title='Special Note About This Attack' value="" name="attr_mattack_reference" ></textarea>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>

    <!-- Ranged Attack Section -->
    <div class="ranged-attack-panel">
        <input type="checkbox" name="attr_ranged_attacks-toggle" class="sheet-arrow" />
        <h4>Ranged or Magical Attacks</h4>
        <div class="arrowbody">
            <div class='rangedtemp-container'>
                <h4>Temporary Bonuses:</h4>
                <h5>Strike:</h5>
                <input class='rattack-text parchment' type="text" title='Temporary Ranged Strike Bonuses' value="0" name="attr_rtemp_strike" />
                <h5>Damage:</h5>
                <input class='rattack-text parchment' type="text" title='Temporary Ranged Damage Bonuses' value="0" name="attr_rtemp_damage" />
            </div>
            <div class='rattack-grid-container' >
                <h5>Weapon Name</h5>
                <div class='space-holder'></div>
                <h5>Crit</h5>
                <h5>Aiming</h5>
                <h5>Damage</h5>
                <h5>Range</h5>
                <h5>Ammo</h5>
                <div class='space-holder'></div>
            </div>
            <fieldset class="repeating_rangedattacks">
                <div class='rattack-grid-container' >
                    <input class='rattack-label parchment' type="text" title='Weapon name that will display in template header' value="" name="attr_weapon_attack" placeholder="Weapon Name" />
                    <button class='rangeddice' type='roll' title='Strike (Attack) Roll with Damage' name='roll_rangedattack' value="@{whispertoggle}&{template:custom} {{color=blue}} {{title=**@{nametoggle}**}} {{subtitle=attacks with @{weapon_attack}}} {{ammo=@{ammunition}}} {{range=@{weapon_range}}} {{Attack= [[d20cs>@{rangedcritical}+@{aiming}[Aim]+@{weapon_strike}[Strike]+@{rtemp_strike}[Temp]]]}} {{Damage= [[@{weapon_damage}+@{rtemp_damage}[temp]]]}} {{desc=@{attack_reference}}}">Strike</button>
                    <input class="rattack-text parchment" type="text" title="Critical Strike Threshold" value="20" name="attr_rangedcritical" />
                    <select class="aim-type parchment" name="attr_aiming" >
                        <option value="-6" title="Spray Primary Target, -6">Spray</option>
                        <option value="0" title="Wild, no bonus" selected="selected">Wild</option>
                        <option value="1" title="Burst, +1">Burst</option>
                        <option value="3" title="Aimed, +3">Aimed</option>
                        <option value="4" title="Aimed Revolver, +4">Aimed R</option>
                        <option value="5" title="Aimed with Sniper, +5">Aimed S</option>
                    </select>
                    <input class='damage-dice parchment' type="text" title='Damage Dice Calculation' value="" name="attr_weapon_damage" placeholder="xdy+z" />
                    <input class='rattack-text parchment' type="text" title='Maximum Range of This Attack' value="" name="attr_weapon_range" />
                    <input class='rattack-text parchment' type='text' title='Ammunition' value='' name='attr_ammunition' />
                    <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_toggle_rbonus' value="1">
                    <input class='rbonus-toggle' type='hidden' name='attr_toggle_rbonus'>
                    <div class='rbonus-hide'>
                        <div class='rbonus-container'>
                            <h5>Strike Bonus</h5>
                            <h5>Notes</h5>
                            <input class='rattack-bonus parchment' type="text" title='Bonuses to Strike' value="0" name="attr_weapon_strike" />
                            <textarea class='rattack-notes parchment' title='Special Note About This Attack' value="" name="attr_attack_reference" ></textarea>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Social Tab -->
<div class="sheet-social">
  <h2>Social</h2>
    <div class='physical-grid-container'>
        <h4 class='physical-label'>Ethnicity</h4>
        <h4 class='physical-label'>Age</h4>
        <h4 class='physical-label'>Gender</h4>
        <h4 class='physical-label'>Height</h4>
        <h4 class='physical-label'>Weight</h4>
        <input class='physical-field parchment' type="text" value="" name="attr_character_ethnic"/>
        <input class='physical-field parchment' type="text" value="" name="attr_character_age" />
        <input class='physical-field parchment' type="text" value="" name="attr_character_gender" />
        <input class='physical-field parchment' type="text" value="" name="attr_character_height" />
        <input class='physical-field parchment' type="text" value="" name="attr_character_weight" />
    </div>
    <div class='origin-grid-container'>
        <h4 class='origin-label'>Alignment</h4>
        <h4 class='origin-label'>Homeland</h4>
        <h4 class='origin-label'>Native Language</h4>
        <input class='physical-field parchment' type="text" value='' name="attr_alignment" />
        <input class='origin-field parchment' type="text" value="" name="attr_character_landorigin" />
        <input class='origin-field parchment' type="text" value="" name="attr_character_languages" />
    </div>
    <div class='mental-grid-container'>
        <h4 class='mental-label'>Origin</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_familyorigin" placeholder='Family occupation, syblings, etc.' /></textarea>
        <h4 class='mental-label'>Organization</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_natural" placeholder='Affiliated or sponsor organization notes' /></textarea>
        <h4 class='mental-label'>Disposition</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_disposition" placeholder='Personality quirks and life outlook beyond alignment' /></textarea>
        <h4 class='mental-label'>Hostilities</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_hostility" placeholder='Hostilities, pet peeves, likes and dislikes' /></textarea>
        <h4 class='mental-label'>Insanity</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_insanity" placeholder='Hope this placeholder never gets replaced...' /></textarea>
        <h4 class='mental-label'>O.C.C. Notes</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_classnotes" placeholder='Anything about your O.C.C. that needs kept in mind' /></textarea>
    </div>
</div>

<!--Skills Tab -->
<div class="sheet-skills">
  <div class="skill-header">
    <h2>Skills</h2>
    <h5>I.Q. Skill Bonus</h5>
    <input class='bonus-field faded-blue' type="text" value="" name="attr_iq_bonus" readonly>
    <h5>Misc. Skill Bonus</h5>
    <input class='bonus-field parchment' type="text" title="Applies to all Skills" value="0" name="attr_mskill_bonus">
  </div>          
    <div class="occ-skill-panel">
      <input type="checkbox" name="attr_OCC-Skill-toggle" class="sheet-arrow" />
      <h4>Occupational Class Skills</h4>
      <div class="arrowbody">
        <div class='skill-grid-container' >
            <div class='space-holder'></div>
            <h5>Skill Name</h5>
            <h5>Rating</h5>
            <div class='percent-space'></div>
            <h5>Skill Lvl</h5>
            <h5>Bonus</h5>
            
        </div>
        <fieldset class="repeating_skillocc">
          <div class='skill-grid-container' >
              <button class="skillroll dicefontd20" type="roll" name='roll_occskill' value="@{whispertoggle}&{template:custom} {{color=green}} {{title=**@{nametoggle}'s**}} {{subtitle=@{skill_name}}} {{Skill Check=[[d100cs<1cf>100]]}} {{Success Chance=**@{skill_rating}%**}} {{desc=@{skill_reference}}}">0</button>
              <input class='skill-field parchment' type="text" value="" name="attr_skill_name" placeholder="Skill name"/>
              <input class='skill-field faded-blue' type="number" title='Total Skill Percentage Rating' value="" name="attr_skill_rating" readonly/>
              <h6>%</h6>
              <input class='skill-field parchment' type="number" title='Skill Level' value="1" name="attr_skill_level" />
              <input class="skill-field parchment" type="number" title="Skill Bonus" value="0" name="attr_skill_bonus">
              <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_skillextras' value="1">
              <input class='skillextras-toggle' type='hidden' name='attr_skillextras'>
              <div class='skillextras-hide'>
                <div class="skillextras-container">
                  <h5>Skill Base</h5>
                  <h5>Skill Prog</h5>
                  <h5>Notes</h5>

                  <input class="skill-field parchment" type="number" title="Skill Base" value="0" name="attr_skill_base">
                  <input class="skill-field parchment" type="number" title="Skill Progression" value="0" name="attr_skill_prog">
                  <textarea class="skill-notes parchment" type="text" value="" name="attr_skill_reference" ></textarea>
                </div>
              </div>
          </div>
        </fieldset>
      </div>
    </div>

    <div class="scholastic-skill-panel">
      <input type="checkbox" name="attr_scholastic-skill-toggle" class="sheet-arrow" />
      <h4>Scholastic Skills</h4>
      <div class="arrowbody">
        <div class='skill-grid-container' >
            <div class='space-holder'></div>
            <h5>Skill Name</h5>
            <h5>Rating</h5>
            <div class='percent-space'></div>
            <h5>Skill Lvl</h5>
            <h5>Bonus</h5>
            
        </div>
        <fieldset class="repeating_skillscholastic">
          <div class='skill-grid-container' >
              <button class="skillroll dicefontd20" type="roll" name='roll_scholasticskill' value="@{whispertoggle}&{template:custom} {{color=green}} {{title=**@{nametoggle}'s**}} {{subtitle=@{skill_name}}} {{Skill Check=[[d100cs<1cf>100]]}} {{Success Chance=**@{skill_rating}%**}} {{desc=@{skill_reference}}}">0</button>
              <input class='skill-field parchment' type="text" value="" name="attr_skill_name" placeholder="Skill name"/>
              <input class='skill-field faded-blue' type="number" title='Total Skill Percentage Rating' value="" name="attr_skill_rating" readonly/>
              <h6>%</h6>
              <input class="skill-field parchment" type="number" title='Skill Level' value="1" name="attr_skill_level" />
              <input class="skill-field parchment" type="number" title="Skill Bonus" value="0" name="attr_skill_bonus">
              <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_skillextras' value="1">
              <input class='skillextras-toggle' type='hidden' name='attr_skillextras'>
              <div class='skillextras-hide'>
                <div class="skillextras-container">
                  <h5>Skill Base</h5>
                  <h5>Skill Prog</h5>
                  <h5>Notes</h5>

                  <input class="skill-field parchment" type="number" title="Skill Base" value="0" name="attr_skill_base">
                  <input class="skill-field parchment" type="number" title="Skill Progression" value="0" name="attr_skill_prog">
                  <textarea class="skill-notes parchment" type="text" value="" name="attr_skill_reference" ></textarea>
                </div>
              </div>
          </div>
        </fieldset>
      </div>
    </div>

    <div class="secondary-skill-panel">
      <input type="checkbox" name="attr_secondary-skill-toggle" class="sheet-arrow" />
      <h4>Secondary Skills</h4>
      <div class="arrowbody">
        <div class='skill-grid-container' >
            <div class='space-holder'></div>
            <h5>Skill Name</h5>
            <h5>Rating</h5>
            <div class='percent-space'></div>
            <h5>Skill Lvl</h5>
            <h5>Bonus</h5>
            
        </div>
        <fieldset class="repeating_skillsecondary">
          <div class='skill-grid-container' >
              <button class="skillroll dicefontd20" type="roll" name='roll_secondaryskill' value="@{whispertoggle}&{template:custom} {{color=green}} {{title=**@{nametoggle}'s**}} {{subtitle=@{skill_name}}} {{Skill Check=[[d100cs<1cf>100]]}} {{Success Chance=**@{skill_rating}%**}} {{desc=@{skill_reference}}}">0</button>
              <input class='skill-field parchment' type="text" value="" name="attr_skill_name" placeholder="Skill name"/>
              <input class='skill-field faded-blue' type="number" title='Total Skill Percentage Rating' value="" name="attr_skill_rating" readonly/>
              <h6>%</h6>
              <input class="skill-field parchment" type="number" title='Skill Level' value="1" name="attr_skill_level" />
              <input class="skill-field parchment" type="number" title="Skill Bonus" value="0" name="attr_skill_bonus">
              <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_skillextras' value="1">
              <input class='skillextras-toggle' type='hidden' name='attr_skillextras'>
              <div class='skillextras-hide'>
                <div class="skillextras-container">
                  <h5>Skill Base</h5>
                  <h5>Skill Prog</h5>
                  <h5>Notes</h5>

                  <input class="skill-field parchment" type="number" title="Skill Base" value="0" name="attr_skill_base">
                  <input class="skill-field parchment" type="number" title="Skill Progression" value="0" name="attr_skill_prog">
                  <textarea class="skill-notes parchment" value="" name="attr_skill_reference" ></textarea>
                </div>
              </div>
          </div>
        </fieldset>
      </div>
    </div>    
</div>

<!-- Combat Tab -->
<div class="sheet-combat">
    <h2>Combat</h2>
    <div class="ancient-proficiency-panel">
        <input type="checkbox" name="attr_anchient_weapon-toggle" class="sheet-arrow" />
        <h4>Ancient Weapon Proficencies</h4>
        <div class="arrowbody">
            <div class='ancient-grid-container' >
                <h5>Weapon</h5>
                <h5>Skill Lvl</h5>
                <h5>Strike</h5>
                <h5>Parry</h5>
                <h5>Throw</h5>
                <h5>Entangle</h5>
                <h5 title="Rate of Fire">RoF</h5>
                <h5>Range</h5>
            </div>
            <fieldset class="repeating_ancientweapon">
                <div class='ancient-grid-container' >
                    <input class='ancient-field parchment' type="text" value="" name="attr_name" placeholder="Weapon Type" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Skill Level' value="1" name="attr_level" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Strike Bonus' value="0" name="attr_strike" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Parry Bonus' value="0" name="attr_parry" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Throw Bonus' value="0" name="attr_throw" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Throw Bonus' value="0" name="attr_entangle" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Throw Bonus' value="0" name="attr_rof" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Throw Range (if any)' value="0" name="attr_range" />
                </div>
            </fieldset>
        </div>
    </div>
    <div class="modern-proficiency-panel">
        <input type="checkbox" name="attr_modern_weapon-toggle" class="sheet-arrow" />
        <h4>Modern Weapon Proficencies</h4>
        <div class="arrowbody">
            <div class='modern-grid-container'>
                <h5>Weapon</h5>
                <h5>Skill Lvl</h5>
                <h5>Strike</h5>
                <h5>Range</h5>
                <h5 title="Recognize Weapon Quality">Rating</h5>
                <h5>Base</h5>
                <h5>Skill Prog</h5>
                <h5>Bonus</h5>
                <div class='space-holder'></div>
            </div>
            <fieldset class="repeating_modernweapon">
                <div class='modern-grid-container' >
                    <input class='modern-field parchment' type="text" value="" name="attr_name" placeholder="Weapon Type" />
                    <input class='modern-field parchment' type="number" title='Proficiency Skill Level' value="1" name="attr_level" />
                    <input class='modern-field parchment' type="number" title='Proficiency Strike Bonus' value="0" name="attr_strike" />
                    <input class='modern-field parchment' type="number" title='Max Firing Distance' value="0" name="attr_range" />
                    <input class='modern-field faded-blue' type="number" title='Skill Rating' value="0" name="attr_rating" readonly/>
                    <input class='modern-field parchment' type="number" title='Skill Base Chance' value="0" name="attr_base" />
                    <input class='modern-field parchment' type="number" title='Skill Rating' value="0" name="attr_progression" />
                    <input class='modern-field parchment' type="number" title='Skill Progression' value="0" name="attr_bonus" />
                    <button class="skillroll dicefontd20" type="roll" title="Recognize Weapon Quality" name='roll_modernweapon' value="@{whispertoggle}&{template:custom} {{color=green}} {{title=@{nametoggle}'s}} {{subtitle=Recognize @{name} Quality}} {{Skill Check=[[d100cs<1cf>100]]}} {{Success Chance=**@{rating}%**}}">0</button>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="combat-skill-panel">
        <input type="checkbox" name="attr_combatskill-toggle" class="sheet-arrow" />
        <h4>Hand to Hand Combat Skill 1</h4>
        <div class="arrowbody">
            <div class='combat-grid-container' >
                <input class='combat-field parchment' type="text" class='combat-text' name="attr_combatskill1_type" placeholder="Combat Type" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <textarea wrap="soft" class="combat-textarea parchment" value="" name="attr_combatskill1_notes" placeholder="Style Details like kick attack, disarms, racial bite or claw attacks, etc." /></textarea>
            </div>
            <div class='bonus-grid-container' >
                <h5>Combat Skill Level</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_level}" name="attr_hth1_level" value="0" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                
                <h5>Number of Attacks</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_numberattacks}" name="attr_hth1_numberattacks" value="1" />
                <div class='space-holder'></div>
                <h5>Initiative</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_initiative}" name="attr_hth1_initiative" value="0" />

                <h5>Strike</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_strike}" name="attr_hth1_strike" value="0" />
                <div class='space-holder'></div>
                <h5>Damage</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_damage}" name="attr_hth1_damage" value="0" />

                <h5>Parry</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_parry}" name="attr_hth1_parry" value="0" />
                <div class='space-holder'></div>
                <h5>Dodge</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_dodge}" name="attr_hth1_dodge" value="0" />

                <h5>Roll with Punch</h5>
                <input class="combat-field parchment" type="number" title="@{hth1_rollpunch}" name="attr_hth1_rollpunch" value="0" />
                <div class='space-holder'></div>
                <h5>Pull Punch</h5>
                <input class="combat-field parchment" type="number" title="@{hth1_pullpunch}" name="attr_hth1_pullpunch" value="0" />

                <h5>Entangle</h5>
                <input class="combat-field parchment" type="number" title="@{hth1_entangle}" name="attr_hth1_entangle" value="0" />
                <div class='space-holder'></div>
                <h5>Disarm</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_disarm}" name="attr_hth1_disarm" value="0" />

                <h5>Knockout/Stun</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_knockout}" name="attr_hth1_knockout" value="none" />
                <div class='space-holder'></div>
                <h5>Melee Critical Strike</h5>
                <input class='combat-field parchment' type="number" title="@{hth1_critical}" name="attr_hth1_critical" value="20" />

                <h5>Physical Prowess Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="0" title="@{pp_bonus}" name="attr_pp_bonus" readonly/>
                <div class='space-holder'></div>
                <h5>Physical Strength Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="0" title="@{ps_bonus}" name="attr_ps_bonus" readonly/>

                <h5>Physical Prowess Initiative Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="0" title="@{pp_init}" name="attr_pp_init" readonly/>
            </div>
        </div>
    </div>
    <div class="combat-skill-panel2">
        <input type="checkbox" name="attr_combatskill2-toggle" class="sheet-arrow" />
        <h4>Hand to Hand Combat Skill 2</h4>
        <div class="arrowbody">
            <div class='combat-grid-container' >
                <input class='combat-field parchment' type="text" class='combat-text' name="attr_combatskill2_type" placeholder="Combat Type" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <textarea wrap="soft" class="combat-textarea parchment" value="" name="attr_combatskill2_notes" placeholder="Style Details like kick attack, disarms, racial bite or claw attacks, etc." /></textarea>
            </div>
            <div class='bonus-grid-container' >
                <h5>Combat Skill Level</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_level}" name="attr_hth2_level" value="0" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                
                <h5>Number of Attacks</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_numberattacks}" name="attr_hth2_numberattacks" value="1" />
                <div class='space-holder'></div>
                <h5>Initiative</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_initiative}" name="attr_hth2_initiative" value="0" />

                <h5>Strike</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_strike}" name="attr_hth2_strike" value="0" />
                <div class='space-holder'></div>
                <h5>Damage</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_damage}" name="attr_hth2_damage" value="0" />

                <h5>Parry</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_parry}" name="attr_hth2_parry" value="0" />
                <div class='space-holder'></div>
                <h5>Dodge</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_dodge}" name="attr_hth2_dodge" value="0" />

                <h5>Roll with Punch</h5>
                <input class="combat-field parchment" type="number" title="@{hth2_rollpunch}" name="attr_hth2_rollpunch" value="0" />
                <div class='space-holder'></div>
                <h5>Pull Punch</h5>
                <input class="combat-field parchment" type="number" title="@{hth2_pullpunch}" name="attr_hth2_pullpunch" value="0" />

                <h5>Entangle</h5>
                <input class="combat-field parchment" type="number" title="@{hth2_entangle}" name="attr_hth2_entangle" value="0" />
                <div class='space-holder'></div>
                <h5>Disarm</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_disarm}" name="attr_hth2_disarm" value="0" />

                <h5>Knockout/Stun</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_knockout}" name="attr_hth2_knockout" value="none" />
                <div class='space-holder'></div>
                <h5>Melee Critical Strike</h5>
                <input class='combat-field parchment' type="number" title="@{hth2_critical}" name="attr_hth2_critical" value="20" />
            </div>
        </div>
    </div>
    <div class="hidden-combat-attributes">
        <input class="hidden" name="@{initiative}" value="@{hth1_initiative}"/>
        <input class="hidden" name="@{numberattacks}" value="@{hth1_numberattacks}"/>
        <input class="hidden" name="@{strike}" value="@{hth1_strike}"/>
        <input class="hidden" name="@{parry}" value="@{hth1_parry}"/>
        <input class="hidden" name="@{dodge}" value="@{hth1_dodge}"/>
        <input class="hidden" name="@{damage}" value="@{hth1_damage}"/>
        <input class="hidden" name="@{rollpunch}" value="@{hth1_rollpunch}"/>
        <input class="hidden" name="@{pullpunch}" value="@{hth1_pullpunch}"/>
        <input class="hidden" name="@{knockout}" value="@{hth1_knockout}"/>
        <input class="hidden" name="@{disarm}" value="@{hth1_disarm}"/>
        <input class="hidden" name="@{entangle}" value="@{hth1_entangle}"/>
        <input class="hidden" name="@{critical}" value="@{hth1_critical}"/>
    </div>
    <div class="saving-throw-panel">
        <input type="checkbox" name="attr_saves-toggle" class="sheet-arrow" />
        <h4>Saving Throws</h4>
        <div class="arrowbody">
            <div class='saves-grid-container' >
                <h5 class='underline'>Magic Save Type</h5>
                <h5 class='underline'>Target</h5>
                <h5 class='underline'>Bonus</h5>
                <div class='space-holder'></div>
                <h5 class='underline'>Save Type</h5>
                <h5 class='underline'>Target</h5>
                <h5 class='underline'>Bonus</h5>
                <button class='savedice' type="roll" name='roll_circlesave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Circles}} {{Save=[[d20+@{save_circle}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_circle_target}}} {{desc=@{save_notes}}}" >Circles</button>
                <input class='save-field parchment' type="number" value="13" name="attr_save_circle_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_circle" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_insanitysave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Insanity}} {{Save=[[d20+@{save_insane}+@{me_insanity}[ME Bonus]]]}} {{Target= @{save_insanity_target}}} {{desc=@{save_notes}}}" >Insanity</button>
                <input class='save-field parchment' type="number" value="12" name="attr_save_insanity_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_insane" />


                <button class='savedice' type="roll" name='roll_ritualsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Rituals}} {{Save=[[d20+@{save_ritual}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_ritual_target}}} {{desc=@{save_notes}}}" >Rituals</button>
                <input class='save-field parchment' type="number" value="16" name="attr_save_ritual_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_ritual" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_psionicsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Psionics}} {{Save=[[d20+@{save_psi}+@{me_psionic}[ME Bonus]]]}} {{Target= @{save_psi_target}}} {{desc=@{save_notes}}}" >Psionics</button>
                <input class='save-field parchment' type="number" value="15" name="attr_save_psi_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_psi" />


                <button class='savedice' type="roll" name='roll_spellsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Spells}} {{Save=[[d20+@{save_spells}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_spells_target}}} {{desc=@{save_notes}}}" >Spells</button>
                <input class='save-field parchment' type="number" value="12" name="attr_save_spells_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_spells" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_soulsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Nonlethal Poison}} {{Save=[[d20+@{save_poisonnonlethal}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_poisonnonlethal_target}}} {{desc=@{save_notes}}}" >Poison Nonlethal</button>
                <input class='save-field parchment' type="number" value="16" name="attr_save_poisonnonlethal_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_poisonnonlethal" />


                <button class='savedice' type="roll" name='roll_wardsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Wards}} {{Save=[[d20+@{save_wards}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_wards_target}}} {{desc=@{save_notes}}}" >Wards</button>
                <input class='save-field parchment' type="number" value="13" name="attr_save_wards_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_wards" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_poisonsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Lethal Poison}} {{Save=[[d20+@{save_poisonlethal}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_poisonlethal_target}}} {{desc=@{save_notes}}}" >Poison Lethal</button>
                <input class='save-field parchment' type="number" value="14" name="attr_save_poisonlethal_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_poisonlethal" />

                <button class='savedice' type="roll" name='roll_deathsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Coma/Death}} {{Save 1=[[d100cs<1cf>100-@{save_comadeath}-@{pe_coma}[PE Bonus]]]}} {{Save 2=[[d100cs<1cf>100-@{save_comadeath}-@{pe_coma}[PE Bonus]]]}} {{Save 3=[[d100cs<1cf>100-@{save_comadeath}-@{pe_coma}[PE Bonus]]]}} {{desc=**Roll 3 times each hour and need 2 successes.** Target is:
                    **18** for nonprofessional care 
                    **32** for intern or nurse 
                    **46** for doctor in the field 
                    **56** for doctor at clinic
                    **66** for hospital
                    **70** for major hospital, or care through magic, psionics, or a deity.}}" >Coma/Death</button>
                <div class='space-holder'></div>
                <input class='save-field parchment' type="number" value="0" name="attr_save_comadeath" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_toxinsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Drugs or Toxins}} {{Save=[[d20+@{save_toxin}]]}} {{Target=@{save_toxin_target}}} {{desc=@{save_notes}}}" >Drugs/Toxins</button>
                <input class='save-field parchment' type="number" value="15" name="attr_save_toxin_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_toxin" />

                <button class='savedice' type="roll" name='roll_horror' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{nametoggle}'s**}} {{subtitle=Save vs. Horror or Awe}} {{Save=[[1d20+@{save_horror}]]}}" >Horror</button>
                <div class='space-holder'></div>
                <input class='save-field parchment' type="number" value="0" name="attr_save_horror" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>

                <h5>PE Save Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{pe_magpois}" name="attr_pe_magpois" readonly>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h5>ME Psionic Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{me_psionic}" name="attr_me_psionic" readonly>
                <div class='space-holder'></div>

                <h5>PE Coma/Death Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{pe_coma}" name="attr_pe_coma" readonly>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h5>ME Insanity Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{me_insanity}" name="attr_me_insanity" readonly>
                <div class='space-holder'></div>

                <div class="save-notes-container" >
                    <textarea class='save-misc parchment' value='' name='attr_save_notes' title='@{save_notes}' placeholder='Notes displayed with all saves except coma/death.' ></textarea>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Spell Tab -->
<div class="sheet-spells">
    <h2>Spell Book</h2>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell1_toggle" class="sheet-arrow" />
        <h4>Level 1 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell1">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell2_toggle" class="sheet-arrow" />
        <h4>Level 2 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell2">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell3_toggle" class="sheet-arrow" />
        <h4>Level 3 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell3">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell4_toggle" class="sheet-arrow" />
        <h4>Level 4 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell4">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell5_toggle" class="sheet-arrow" />
        <h4>Level 5 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell5">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell6_toggle" class="sheet-arrow" />
        <h4>Level 6 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell6">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell7_toggle" class="sheet-arrow" />
        <h4>Level 7 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell7">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell8_toggle" class="sheet-arrow" />
        <h4>Level 8 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell8">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell9_toggle" class="sheet-arrow" />
        <h4>Level 9 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell9">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell10_toggle" class="sheet-arrow" />
        <h4>Level 10 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell10">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell11_toggle" class="sheet-arrow" />
        <h4>Level 11 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell11">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell12_toggle" class="sheet-arrow" />
        <h4>Level 12 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell12">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell13_toggle" class="sheet-arrow" />
        <h4>Level 13 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell13">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell14_toggle" class="sheet-arrow" />
        <h4>Level 14 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell14">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell15_toggle" class="sheet-arrow" />
        <h4>Level 15 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell15">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ability Name" name="attr_spell_name" placeholder="Ability Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ability Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ability Range" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Psionics Tab -->
<div class="sheet-psionics">
    <h2>Psionics</h2>
    <div class="healing_psion_container">
        <input type="checkbox" name="attr_psion_healing_toggle" class="sheet-arrow" />
        <h4>Healing Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_healingpsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionheal' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="physical_psion_container">
        <input type="checkbox" name="attr_psion_physical_toggle" class="sheet-arrow" />
        <h4>Physical Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_physicalpsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionphysical' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="sensitive_psion_container">
        <input type="checkbox" name="attr_psion_sensitive_toggle" class="sheet-arrow" />
        <h4>Sensitive Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_sensitivepsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionsensitive' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="super_psion_container">
        <input type="checkbox" name="attr_psion_super_toggle" class="sheet-arrow" />
        <h4>Super Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_superpsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionsuper' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Powers Tab -->
<div class="sheet-powers">
    <h2>Powers</h2>
    <div class="minor-powers-container">
        <input type="checkbox" name="attr_minor_power_toggle" class="sheet-arrow" />
        <h4>Minor Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_minorpowers">
                <div class="powers-panel">
                    <button type="roll" class="rollpower" name='roll_power' value="@{whispertoggle}&{template:custom} {{color=red}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{power_name}**}} {{desc=@{power_desc}}}">Roll</button>
                    <input class="power-label parchment" type="text" title="Ability Name" name="attr_power_name" placeholder="Minor Ability Name" />
                    
                    <textarea class="power-text parchment" name="attr_power_desc" placeholder="Minor Ability Description"></textarea>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="super-powers-container">
        <input type="checkbox" name="attr_super_power_toggle" class="sheet-arrow" />
        <h4>Major Super Powers</h4>
        <div class="arrowbody">
            <fieldset class="repeating_superpowers">
                <div class="powers-panel">
                    <button type="roll" class="rollpower" name='roll_power' value="@{whispertoggle}&{template:custom} {{color=red}} {{title=**@{nametoggle}'s**}} {{subtitle=**@{power_name}**}} {{desc=@{power_desc}}}">Roll</button>
                    <input class="power-label parchment" type="text" title="Power Name" name="attr_power_name" placeholder="Super Power Name" />
                    
                    <textarea class="power-text parchment" name="attr_power_desc" placeholder="Super Power Description"></textarea>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Mutant Animal Tab -->
<div class="sheet-animals">
    <div class="worksheet-container">
        <h2>Mutant Animal Worksheet</h2>
        <input class="animal-type parchment" type="text" name="attr_animal_type" placeholder="Animal Type"/>
        <h3>Size Category</h3>
        <div class="animal-size">
          <h4>Starting Size</h4>
          <input class="bioe-field parchment" type="number" title="Starting Size Category" value="0" name="attr_start_size"/>
          <h4>Ending Size</h4>
          <input class="bioe-field parchment" type="number" title="Ending Size Category" value="0" name="attr_end_size"/>
          <h4>Size Stat Mods</h4>
          <input class="parchment" type="text" title="Size Category Modifiers" value="" name="attr_size_mods" placeholder="PS: +1, SDC: 30"/>
        </div>

        <h3>Human Features</h3>
        <div class="animal-looks">
          <h4>Biped Cost</h4>
          <select class="biped-mut parchment" name="attr_biped_option" >
            <option value="None" selected="selected">None</option>
            <option value="Partial">Partial</option>
            <option value="Full">Full</option>
          </select>
          <input class="bioe-field parchment" type="number" title="Biped Mutation Cost" value="0" name="attr_bioe_biped"/>
          <h4>Hands Cost</h4>
          <select class="hands-mut parchment" name="attr_hands_option" >
            <option value="None" selected="selected">None</option>
            <option value="Partial">Partial</option>
            <option value="Full">Full</option>
          </select>
          <input class="bioe-field parchment" type="number" title="Hands Mutation Cost" value="0" name="attr_bioe_hands"/>
          <h4>Speech Cost</h4>
          <select class="speech-mut parchment" name="attr_speech_option" >
            <option value="None" selected="selected">None</option>
            <option value="Partial">Partial</option>
            <option value="Full">Full</option>
          </select>
          <input class="bioe-field parchment" type="number" title="Speech Mutation Cost" value="0" name="attr_bioe_speech"/>
          <h4>Looks Cost</h4>
          <select class="looks-mut parchment" name="attr_looks_option" >
            <option value="None" selected="selected">None</option>
            <option value="Partial">Partial</option>
            <option value="Full">Full</option>
          </select>
          <input class="bioe-field parchment" type="number" title="Looks Mutation Cost" value="0" name="attr_bioe_looks"/>
        </div>

        <div class="anim-psionpower">
          <h3>Animal Psionics</h3>
          <div class="psionpower-gap"></div>
          <h3>Mutant Animal Powers</h3>

          <div class="anim-psion-container">
            <div class="anim-psion">
              <h4>Ability Name</h4>
              <h4>Cost</h4>
            </div>
            <fieldset class="repeating_animpsion">
              <div class="anim-psion">
                <input class="anim-psion-name parchment" type="text" title="Animal Psionic Ability Name" value="" name="attr_name" placeholder="Ability Name"/>
                <input class="anim-psion-cost parchment" type="number" title="Animal Psionic Ability Boi-E Cost" value="0" name="attr_psion_cost"/>
              </div>
            </fieldset>
          </div>

          <div class="psionpower-gap"></div>
          
          <div class="anim-power-container">
            <div class="anim-power">
              <h4>Power Name</h4>
              <h4>Cost</h4>
            </div>
            <fieldset class="repeating_animpower">
              <div class="anim-power">
                <input class="anim-power-name parchment" type="text" title="Animal Power Name" value="" name="attr_name" placeholder="Power Name"/>
                <input class="anim-power-cost parchment" type="number" title="Animal Power Boi-E Cost" value="0" name="attr_power_cost"/>
              </div>
            </fieldset>
          </div>
        </div>

        <h3>Natural Weapons</h3>
        <div class="natural-weapon-container">
          <div class="natural-weapon">
            <h4>Weapon Name</h4>
            <h4>Weapon Damage</h4>
            <h4>Cost</h4>
          </div>
          <fieldset class="repeating_natweap">
            <div class="natural-weapon">
              <input class="natweap-name parchment" type="text" title="Natural Weapon Name" value="" name="attr_name" placeholder="Weapon Name"/>
              <input class="natweap-damage parchment" type="text" title="Natural Weapon Damage and Notes" value="" name="attr_damage">
              <input class="natweap-cost parchment" type="number" title="Natural Weapon Boi-E Cost" value="0" name="attr_weapon_cost"/>
            </div>
          </fieldset>
        </div>

        <h3>Calculated Cost</h3>
        <div class="bioe-calc">
          <h4>Starting Bio-E</h4>
          <input class="bioe-cost parchment" type="number" title="Starting Available Bio-E" value="0" name="attr_start_bioe"/>

          <h4>Size Change Bio-E</h4>
          <input class="bioe-cost faded-blue" type="number" title="Bio-E Gain/Loss From Size Changes" value="0" name="attr_size_total" readonly/>

          <h4>Human Features Bio-E Cost</h4>
          <input class="bioe-cost faded-blue" type="number" title="Bio-E Spent on Human Features" value="0" name="attr_features_total" readonly/>

          <h4>Animal Psionics Bio-E Cost</h4>
          <input class="bioe-cost faded-blue" type="number" title="Bio-E Spent on Psionics" value="0" name="attr_psionics_total" readonly/>

          <h4>Mutant Powers Bio-E Cost</h4>
          <input class="bioe-cost faded-blue" type="number" title="Bio-E Spent on Mutant Powers" value="0" name="attr_powers_total" readonly/>

          <h4>Natural Weapons Bio-E Cost</h4>
          <input class="bioe-cost faded-blue" type="number" title="Bio-E Spent on Natural Weapons" value="0" name="attr_natweap_total" readonly/>

          <h4>Total Bio-E Remaining (should be zero)</h4>
          <input class="bioe-cost faded-blue" type="number" title="Remaining Bio-E" value="0" name="attr_bioe_total" readonly/>
        </div>
    </div>
</div>

<!-- Vehicle Tab -->
<div class="sheet-vehicles">
    <h2>Vehicles</h2>
    <div class="vehicle1-container">
        <input type="checkbox" name="attr_vehicle1-toggle" class="sheet-arrow" />
        <h3>Vehicle 1</h3>
        <div class="arrowbody">
            <div class="vehicle-top-panel">
                <h4>Vehicle Name</h4>
                <h4>Cost</h4>
                <h4>Max Seats</h4>
                <h4>Max Load</h4>
                <h4>S.D.C.</h4>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle1_name" placeholder="Vehicle Type or Name">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_seats">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_load">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_sdc">

                <div class="double-input">
                    <h4>Speed Class</h4>
                    <h4>Speed</h4>
                </div>
                <h4>Max Speed</h4>
                <h4>Cruising</h4>
                <div class='space-holder'></div>
                <div class='space-holder'></div>

                <div class="double-input">
                    <input class="vehicle-text parchment" type="text" name="attr_vehicle1_spdclass">
                    <input class="vehicle-text parchment" type="text" name="attr_vehicle1_spd">
                </div>
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_maxspd">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_cruisespd">
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                
                <h4>Vehicle Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle1_armor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_armor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_armor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_armor_sdc">
                <div class='space-holder'></div>

                <h4>Passenger Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle1_parmor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_parmor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_parmor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_parmor_sdc">
                <div class='space-holder'></div>

                <h4>Fuel Compartment Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle1_farmor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_farmor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_farmor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_farmor_sdc">
                <div class='space-holder'></div>

                <h4>Drive Engine Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle1_dearmor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_dearmor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_dearmor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_dearmor_sdc">
                <div class='space-holder'></div>
            </div>
            <div class="vehicle-mid-panel">
                <div class="turrets">
                    <h4>Turret Type</h4>
                    <div class='space-holder'></div>
                    <h4>Strike Bonus</h4>
                    <h4>Damage</h4>
                    <h4>Armor Type</h4>
                    <h4>A.R.</h4>
                    <h4>S.D.C.</h4>
                </div>
                <fieldset class="repeating_turretone">
                    <div class="turrets">
                        <input class="vehicle-text parchment" type="text" name="attr_turretname">
                        <button class='turretroll' type="roll" name='roll_turret' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}**}} {{subtitle=attacks with @{turretname}}} {{Attack=[[1d20+@{turretstrike}]]}} {{Damage=[[@{turretdamage}]]}}" >Strike</button>
                        <input class="vehicle-text parchment" type="text" name="attr_turretstrike">
                        <input class="vehicle-text parchment" type="text" name="attr_turretdamage" placeholder="xdy+z">
                        <input class="vehicle-text parchment" type="text" name="attr_turretarmor_type">
                        <input class="vehicle-text parchment" type="text" name="attr_turretarmor_rating">
                        <input class="vehicle-text parchment" type="text" name="attr_turretarmor_sdc">
                    </div>
                </fieldset>
            </div>
            <div class="vehicle-bottom-panel">
                <h4>Optional Modifications, Equipment, and Accessories</h4>
                <div class='space-holder'></div>
                <input class="vehicle-text parchment" type="text" name="attr_vehicle1_mod_cost" placeholder="Total Mod Cost">
                
                <textarea wrap="soft" class="vehicle-textarea parchment" name="attr_vehicle1_modtext" placeholder="Describe miscelaneous modifications, equipment, and accessories here"></textarea>
            </div>
        </div>
    </div>
        <div class="vehicle2-container">
        <input type="checkbox" name="attr_vehicle2-toggle" class="sheet-arrow" />
        <h3>Vehicle 2</h3>
        <div class="arrowbody">
            <div class="vehicle-top-panel">
                <h4>Vehicle Name</h4>
                <h4>Cost</h4>
                <h4>Max Seats</h4>
                <h4>Max Load</h4>
                <h4>S.D.C.</h4>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle2_name" placeholder="Vehicle Type or Name">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_seats">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_load">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_sdc">

                <div class="double-input">
                    <h4>Speed Class</h4>
                    <h4>Speed</h4>
                </div>
                <h4>Max Speed</h4>
                <h4>Cruising</h4>
                <div class='space-holder'></div>
                <div class='space-holder'></div>

                <div class="double-input">
                    <input class="vehicle-text parchment" type="text" name="attr_vehicle2_spdclass">
                    <input class="vehicle-text parchment" type="text" name="attr_vehicle2_spd">
                </div>
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_maxspd">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_cruisespd">
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                
                <h4>Vehicle Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle2_armor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_armor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_armor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_armor_sdc">
                <div class='space-holder'></div>

                <h4>Passenger Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle2_parmor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_parmor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_parmor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_parmor_sdc">
                <div class='space-holder'></div>

                <h4>Fuel Compartment Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle2_farmor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_farmor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_farmor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_farmor_sdc">
                <div class='space-holder'></div>

                <h4>Drive Engine Armor Type</h4>
                <h4>Cost</h4>
                <h4>Armor Rating</h4>
                <h4>S.D.C.</h4>
                <div class='space-holder'></div>

                <input class="vehicle-label parchment" type="text" name="attr_vehicle2_dearmor">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_dearmor_cost">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_dearmor_rating">
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_dearmor_sdc">
                <div class='space-holder'></div>
            </div>
            <div class="vehicle-mid-panel">
                <div class="turrets">
                    <h4>Turret Type</h4>
                    <div class='space-holder'></div>
                    <h4>Strike Bonus</h4>
                    <h4>Damage</h4>
                    <h4>Armor Type</h4>
                    <h4>A.R.</h4>
                    <h4>S.D.C.</h4>
                </div>
                <fieldset class="repeating_turrettwo">
                    <div class="turrets">
                        <input class="vehicle-text parchment" type="text" name="attr_turretname">
                        <button class='turretroll' type="roll" name='roll_turret' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}**}} {{subtitle=attacks with @{turretname}}} {{Attack=[[1d20+@{turretstrike}]]}} {{Damage=[[@{turretdamage}]]}}" >Strike</button>
                        <input class="vehicle-text parchment" type="text" name="attr_turretstrike">
                        <input class="vehicle-text parchment" type="text" name="attr_turretdamage" placeholder="xdy+z">
                        <input class="vehicle-text parchment" type="text" name="attr_turretarmor_type">
                        <input class="vehicle-text parchment" type="text" name="attr_turretarmor_rating">
                        <input class="vehicle-text parchment" type="text" name="attr_turretarmor_sdc">
                    </div>
                </fieldset>
            </div>
            <div class="vehicle-bottom-panel">
                <h4>Optional Modifications, Equipment, and Accessories</h4>
                <div class='space-holder'></div>
                <input class="vehicle-text parchment" type="text" name="attr_vehicle2_mod_cost" placeholder="Total Mod Cost">
                
                <textarea wrap="soft" class="vehicle-textarea parchment" name="attr_vehicle2_modtext" placeholder="Describe miscelaneous modifications, equipment, and accessories here"></textarea>
            </div>
        </div>
    </div>
</div>

<!-- Robot/Armor Tab -->
<div class="sheet-robots">
    <div class="robots-container">
        <h2>Robots and Powered Armor</h2>
        <div class="robots-panel">
            <div class="robots-left">
                <h4>Initial Budget</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_budget" >

                <h4>Robot Intelligence</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_intelligence" placeholder="Type" >

                <h4>Body Type</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_bodycost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_bodyinfo" placeholder="Robot/Armor body type details"></textarea>
                <div class='space-holder'></div>

                <h4>Size and Frame</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_framecost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_frameinfo" placeholder="Robot/Armor size and frame details"></textarea>
                <div class='space-holder'></div>

                <h4>Legs and Locomotion</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_legscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_legsinfo" placeholder="Robot/Armor movement mechanism details"></textarea>
                <div class='space-holder'></div>

                <h4>Audio and Sensors</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_sensorscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_sensorsinfo" placeholder="Robot/Armor sensor details"></textarea>
                <div class='space-holder'></div>

                <h4>Body Armor</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_armorcost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_armorinfo" placeholder="Robot/Armor armor details"></textarea>
                <div class='space-holder'></div>

                <h4>Eye Weapons</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_eweaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_eweaponsinfo" placeholder="Robot/Armor eye weapon details"></textarea>
                <div class='space-holder'></div>

                <h4>Giant/Vehicular Weapons</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_gweaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_gweaponsinfo" placeholder="Robot/Armor giant/vehicular weapon details"></textarea>
                <div class='space-holder'></div>

                <h4>Miscellaneous Equipment</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_misccost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_miscinfo" placeholder="Miscelaneous equipment details"></textarea>
                <div class='space-holder'></div>
            </div>
            <div class="robots-divider"></div>
            <div class="robots-right">
                <h4>Total Cost</h4>
                <input class="robots-text faded-blue" type="text" name="attr_robot_totalcost" readonly>

                <div class='space-holder row-filler'></div>
                <div class='space-holder row-filler'></div>

                <h4>Construction Quality</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_qualitycost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_qualityinfo" placeholder="Robot/Armor quality details"></textarea>
                <div class='space-holder'></div>

                <h4>Power Supply</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_powercost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_powerinfo" placeholder="Robot/Armor power supply details"></textarea>
                <div class='space-holder'></div>

                <h4>Arms and Hands</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_armscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_armsinfo" placeholder="Robot/Armor arm details"></textarea>
                <div class='space-holder'></div>

                <h4>Optics</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_opticscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_opticsinfo" placeholder="Robot/Armor optic details"></textarea>
                <div class='space-holder'></div>

                <h4>Animal Features</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_animalcost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_animalinfo" placeholder="Robot/Armor animal feature details"></textarea>
                <div class='space-holder'></div>

                <h4>Pilot Operated Systems</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_systemscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_systemsinfo" placeholder="Pilot operated system details"></textarea>
                <div class='space-holder'></div>

                <h4>Weapons</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_weaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_weaponsinfo" placeholder="Robot/Armor weapons details"></textarea>
                <div class='space-holder'></div>

                <h4>Humanoid Weapons</h4>
                <input class="robots-text parchment" type="text" name="attr_robot_hweaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="robots-textarea parchment" name="attr_robot_hweaponsinfo" placeholder="Robot/Armor humanoid weapon details"></textarea>
                <div class='space-holder'></div>
            </div>
        </div>
    </div>
</div>

<!-- Bionics Tab -->
<div class="sheet-bionics">
        <div class="robots-container">
        <h2>Bionics or Eugenics</h2>
        <div class="bionics-panel">
            <div class="bionics-left">
                <h4>Initial Budget</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_budget" >
                <div class='space-holder row-filler'></div>
                <div class='space-holder row-filler'></div>

                <h4>Major or Cloned Body Parts</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_bodycost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_bodyinfo" placeholder="Bionic body part or Eugenic cloned body part details"></textarea>
                <div class='space-holder'></div>

                <h4>Special Attributes or Augmentations</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_attrcost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_attrinfo" placeholder="Bionic special attribute or Eugenic physical augmentation details"></textarea>
                <div class='space-holder'></div>

                <h4>Eye Features</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_eyecost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_eyeinfo" placeholder="Bionic eye feature or Eugenic eye and sight details"></textarea>
                <div class='space-holder'></div>

                <h4>Lung, Mouth, Throat Features</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_lungcost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_lunginfo" placeholder="Bionic or Eugenic lung, mouth, and throat feature details"></textarea>
                <div class='space-holder'></div>

                <h4>Hands or Hand Weapons</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_hweaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_hweaponsinfo" placeholder="Bionic hand weapon or Eugenic hands and arm appendage details"></textarea>
                <div class='space-holder'></div>

                <h4>Military or Genetic Weapons</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_mweaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_mweaponsinfo" placeholder="Bionic military weapon or Eugenic genetic weapon details"></textarea>
                <div class='space-holder'></div>

            </div>
            <div class="bionics-divider"></div>
            <div class="bionics-right">
                <h4>Total Cost</h4>
                <input class="bionics-text faded-blue" type="text" name="attr_bionic_totalcost" readonly>
                <div class='space-holder row-filler'></div>
                <div class='space-holder row-filler'></div>

                <h4>Internal or Modified Organs</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_organcost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_organinfo" placeholder="Bionic organ or Eugenic modified organ details"></textarea>
                <div class='space-holder'></div>

                <h4>Ear Features</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_earcost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_earinfo" placeholder="Bionic ear feature or Eugenic hearing details"></textarea>
                <div class='space-holder'></div>

                <h4>Sensors and Senses</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_sensorcost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_sensorinfo" placeholder="Bionic sensor or Eugenic senses details"></textarea>
                <div class='space-holder'></div>

                <h4>Eyes or Eye Weapons</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_eweaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_eweaponsinfo" placeholder="Bionic eye weapon or Eugenic vision and eye details"></textarea>
                <div class='space-holder'></div>

                <h4>Other Weapons or Appendages</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_oweaponscost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_oweaponsinfo" placeholder="Other Bionic weapon or Eugenic leg or tail appendage details"></textarea>
                <div class='space-holder'></div>

                <h4>Armor</h4>
                <input class="bionics-text parchment" type="text" name="attr_bionic_armorcost" placeholder="Cost" >
                <textarea wrap="soft" class="bionics-textarea parchment" name="attr_bionic_armorinfo" placeholder="Bionic or Eugenic armor details"></textarea>
                <div class='space-holder'></div>

            </div>
        </div>
    </div>
</div>

<!-- Inventory Tab -->
<div class="sheet-inventory">
    <div class="inventory-container">
        <h2>Inventory</h2>
        <div class='encumbrance-panel'>
            <h5>Total Weight</h5>
            <div class='space-holder' ></div>
            
            <input class='weight-box faded-blue' type='text' value='0' title='Total Weight' name='attr_total_weight' readonly>
            <h5>lbs.</h5>
            
            <input class='weightsub-box' type='text' value='0' title='Total Weapon Weight' name='attr_total_weapon' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Armor Weight' name='attr_total_armor' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Gear Weight' name='attr_total_gear' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Consumables Weight' name='attr_total_consumables' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Wealth Weight' name='attr_total_wealth' hidden>
        </div>
        <div class="weapon-inventory-panel">
            <input type="checkbox" name="attr_weapon-toggle" class="sheet-arrow" />
            <h4>Weapons</h4>
            <div class="arrowbody">
                <fieldset class="repeating_weapon"> 
                    <div class='weapon-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Weapon</h5>
                        <h5>Reference</h5>
                        <h5>Length</h5>
                        <h5>Damage</h5>
                        <h5>Weight</h5>
                        <h5>Value</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_weapon' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{weapon_name}**}} {{desc=**Length:** @{weapon_length} 
                            **Weight:** @{weapon_weight} 
                            **Damage:** @{weapon_damage} 
                            **Value:** @{weapon_value} 
                            **Count:** @{weapon_count} 
                            **Reference:** @{weapon_ref}
                            **Description:** @{weapon_details}}}">0</button>
                        <input class='weapon-field parchment' type="text" value="" name="attr_weapon_name" placeholder="Weapon Name" />
                        <input class='weapon-field parchment' type="text" value="" name="attr_weapon_ref" placeholder="Book and page numbers"/>
                        <input class='damage-dice parchment' type="text" value="" name="attr_weapon_length" />
                        <input class='damage-dice parchment' type="text" value="" name="attr_weapon_damage" placeholder="xdy+z" />
                        <input class='damage-dice parchment' type="text" value="" name="attr_weapon_weight" />
                        <input class='weapon-field parchment' type="number" value="" name="attr_weapon_value" />
                        <input class='counter parchment' type='text' value='1' name='attr_weapon_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class="weapon-textarea parchment" value="" name="attr_weapon_details" placeholder="Weapon Details" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="armor-inventory-panel">
            <input type="checkbox" name="attr_armor-toggle" class="sheet-arrow" />
            <h4>Armor</h4>
            <div class='arrowbody'>
                <fieldset class="repeating_armor"> 
                    <div class='armor-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Armor</h5>
                        <h5>Reference</h5>
                        <h5>A.R.</h5>
                        <h5>S.D.C.</h5>
                        <h5>Weight</h5>
                        <h5>Value</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_armor' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{armor_name}**}} {{desc=**A.R.:** @{armor_ar} 
                            **S.D.C.:** @{armor_sdc}
                            **Weight:** @{armor_weight} 
                            **Value:** @{armor_value} 
                            **Count:** @{armor_count} 
                            **Reference:** @{armor_ref}
                            **Description:** @{armor_details}}}">0</button>
                        <input class='armor-field parchment' type="text" value="" name="attr_armor_name" placeholder="Armor Name" />
                        <input class='armor-field parchment' type="text" value="" name="attr_armor_ref" placeholder="Book and page numbers"/>
                        <input class='armor-field parchment' type="number" value="" name="attr_armor_ar" />
                        <input class='armor-field parchment' type="number" value="" name="attr_armor_sdc" />
                        <input class='damage-dice parchment' type="text" value="" name="attr_armor_weight" />
                        <input class='armor-field parchment' type="number" value="" name="attr_armor_value" />
                        <input class='counter parchment' type='text' value='1' name='attr_armor_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='armor-textarea parchment' value="" name="attr_armor_details" placeholder="Armor Details" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="gear-inventory-panel">
            <input type="checkbox" name="attr_gear-toggle" class="sheet-arrow" />
            <h4>Gear</h4>
            <div class='arrowbody'>
                <fieldset class="repeating_gear"> 
                    <div class='inventory-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Item</h5>
                        <h5>Reference</h5>
                        <h5>Location</h5>
                        <h5>Weight</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_wealth' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{wealth_name}**}} {{desc=**Value:** @{wealth_worth} 
                            **Weight:** @{gear_weight}
                            **Count:** @{gear_count} 
                            **Location:** @{wealth_location} 
                            **Description:** @{wealth_details}}}">0</button>
                        <input class='gear-field parchment' type="text" value="" name="attr_wealth_name" placeholder="Gear Name" />
                        <input class='gear-field parchment' type="text" value="" name="attr_wealth_worth" placeholder="Book and page numbers"/>
                        <input class='gear-field parchment' type="text" value="" name="attr_wealth_location" placeholder="Worn, pouch, bank, etc." />
                        <input class='damage-dice parchment' type='text' value='0' name='attr_gear_weight' />
                        <input class='counter parchment' type='text' value='1' name='attr_gear_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='inventory-textarea parchment' value="" name="attr_wealth_details" placeholder="Gear details, if any" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="consumable-inventory-panel">
            <input type="checkbox" name="attr_consumable-toggle" class="sheet-arrow" />
            <h4>Consumables</h4>
            <div class="arrowbody">
                <fieldset class="repeating_consumables"> 
                    <div class='inventory-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Consumable Item</h5>
                        <h5>Reference</h5>
                        <h5>Location</h5>
                        <h5>Weight</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_wealth' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{wealth_name}**}} {{desc=**Value:** @{wealth_worth} 
                            **Weight:** @{consumables_weight}
                            **Count:** @{consumables_count} 
                            **Location:** @{wealth_location} 
                            **Description:** @{wealth_details}}}">0</button>
                        <input class='consumable-field parchment' type="text" value="" name="attr_wealth_name" placeholder="Consumable Name" />
                        <input class='consumable-field parchment' type="text" value="" name="attr_wealth_worth" placeholder="Book and page numbers"/>
                        <input class='consumable-field parchment' type="text" value="" name="attr_wealth_location" placeholder="Worn, pouch, bank, etc." />
                        <input class='damage-dice parchment' type='text' value='0' name='attr_consumables_weight' />
                        <input class='counter parchment' type='text' value='1' name='attr_consumables_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='inventory-textarea parchment' value="" name="attr_wealth_details" placeholder="Consumable details, if any" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="wealth-inventory-panel">
            <input type="checkbox" name="attr_wealth-toggle" class="sheet-arrow" />
            <h4>Wealth</h4>
            <div class="arrowbody">
                <fieldset class="repeating_wealth"> 
                    <div class='inventory-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Wealth Entry</h5>
                        <h5>Value</h5>
                        <h5>Location</h5>
                        <h5>Weight</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_wealth' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{wealth_name}**}} {{desc=**Value:** @{wealth_worth} 
                            **Weight:** @{consumables_weight}
                            **Count:** @{consumables_count} 
                            **Location:** @{wealth_location} 
                            **Description:** @{wealth_details}}}">0</button>
                        <input class='wealth-field parchment' type="text" value="" name="attr_wealth_name" placeholder="Salary, cash, valuable, etc" />
                        <input class='wealth-field parchment' type="text" value="" name="attr_wealth_worth" placeholder="Value"/>
                        <input class='wealth-field parchment' type="text" value="" name="attr_wealth_location" placeholder="Wallet, pouch, bank, etc." />
                        <input class='damage-dice parchment' type='text' value='0' name='attr_wealth_weight' />
                        <input class='counter parchment' type='text' value='1' name='attr_wealth_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='inventory-textarea parchment' value="" name="attr_wealth_details" placeholder="Wealth item details, if any" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
    </div>
</div>

<!-- Journal Tab -->
<div class='sheet-journal'>
    <h2>Journal</h2>
    <div class="note-one-panel">
        <input type="checkbox" name="attr_notes-toggle" class="sheet-arrow" />
        <h4>Notes</h4>
        <div class='arrowbody'>
            <fieldset class="repeating_notes">
                <div class='notes-grid-container' >
                    <button class='noteroll' type="roll" name='roll_notes' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Notes on @{notes_title}}} {{desc=@{notes_area}}}" >Notes On</button>
                    <input class='notes-field  parchment' type="text" value="" name="attr_notes_title" placeholder="Place, Person, or Topic" />
                    <div class="place-holder"></div>
                    <textarea wrap="soft" class='notes-textarea parchment' value="" name="attr_notes_area" placeholder="Note Details" /></textarea>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="note-two-panel">
        <input type="checkbox" name="attr_notes_2-toggle" class="sheet-arrow" />
        <h4>Notes 2</h4>
        <div class='arrowbody'>
            <fieldset class="repeating_notes2">
                <div class='second-notes-grid-container' >
                    <button class='noteroll' type="roll" name='roll_notes' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Notes on @{notes_title}}} {{desc=@{notes_area}}}" >Notes On</button>
                    <input class='notes-field parchment' type="text" value="" name="attr_notes_title" placeholder="Place, Person, or Topic" />
                    <div class="place-holder"></div>
                    <textarea wrap="soft" class='notes-textarea parchment' value="" name="attr_notes_area" placeholder="Note Details" /></textarea>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="note-three-panel">
        <input type="checkbox" name="attr_notes_3-toggle" class="sheet-arrow" />
        <h4>Notes 3</h4>
        <div class='arrowbody'>
            <fieldset class="repeating_notes3">
                <div class='third-notes-grid-container' >
                    <button class='noteroll' type="roll" name='roll_notes' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{nametoggle}'s**}} {{subtitle=Notes on @{notes_title}}} {{desc=@{notes_area}}}" >Notes On</button>
                    <input class='notes-field parchment' type="text" value="" name="attr_notes_title" placeholder="Place, Person, or Topic" />
                    <div class="place-holder"></div>
                    <textarea wrap="soft" class='notes-textarea parchment' value="" name="attr_notes_area" placeholder="Note Details" /></textarea>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Configuration Tab -->
<div class='sheet-config'>
  <h2>Config/Settings</h2>
    <div class="configarea">
        <div class="tab-options">
            <div class="place-holder"></div><h4>Tab Display Options</h4>
            <input type="checkbox" class="showpsionics" name="attr_showpsionics" value="1" checked="true" /><h4>Show Psionics Tab</h4>
            <input type="checkbox" class="showspells" name="attr_showspells" value="1" checked="true" /><h4>Show Spells Tab</h4>
            <input type="checkbox" class="showpowers" name="attr_showpowers" value="1" checked="true" /><h4>Show Powers Tab</h4>
            <input type="checkbox" class="showanimals" name="attr_showanimals" value="1" checked="true" /><h4>Show Animals Tab</h4>
            <input type="checkbox" class="showvehicles" name="attr_showvehicles" value="1" checked="true" /><h4>Show Vehicles Tab</h4>
            <input type="checkbox" class="showrobots" name="attr_showrobots" value="1" checked="true" /><h4>Show Robots Tab</h4>
            <input type="checkbox" class="showbionics" name="attr_showbionics" value="1" checked="true" /><h4>Show Bionics Tab</h4>
        </div>
        <div class="rightconfig">
            <div class="strengthpowers-options">
                <h4>Strength Level</h4>
                <div class="strengthtoggle-container">
                    <input type="radio" class="toggle-left" name="attr_strengthtoggle" title="Normal Strength" value="1" checked="checked"><span title="Normal"></span>
                    <input type="radio" class="toggle-mleft" name="attr_strengthtoggle" title="Extraordinary Strength" value="2"><span title="Extra"></span>
                    <input type="radio" class="toggle-mright" name="attr_strengthtoggle" title="Superhuman Strength" value="3"><span title="Super H"></span>
                    <input type="radio" class="toggle-right" name="attr_strengthtoggle" title="Supernatural Strength" value="4"><span title="Super N"></span>
                </div>
            </div>
            <div class="psion-color">
                <h4>Psion Roll Color</h4>
                <div class="colortoggle">
                    <input type="radio" class="toggle-ice" name="attr_psioncolor" value="ice"><span title="Ice"></span>
                    <input type="radio" class="toggle-orange" name="attr_psioncolor" value="orange"><span title="Orange"></span>
                    <input type="radio" class="toggle-pine" name="attr_psioncolor" value="pine"><span title="Pine"></span>
                    <input type="radio" class="toggle-teal" name="attr_psioncolor" value="teal"><span title="Teal"></span>
                    <input type="radio" class="toggle-wine" name="attr_psioncolor" value="wine"><span title="Wine"></span>
                    <input type="radio" class="toggle-yellow" name="attr_psioncolor" value="yellow" checked="checked"><span title="Yellow"></span>
                </div>
            </div>
            <div class="spell-color">
                <h4>Spell Roll Color</h4>
                <div class="colortoggle">
                    <input type="radio" class="toggle-ice" name="attr_spellcolor" value="ice"><span title="Ice"></span>
                    <input type="radio" class="toggle-orange" name="attr_spellcolor" value="orange"><span title="Orange"></span>
                    <input type="radio" class="toggle-pine" name="attr_spellcolor" value="pine"><span title="Pine"></span>
                    <input type="radio" class="toggle-teal" name="attr_spellcolor" value="teal"><span title="Teal"></span>
                    <input type="radio" class="toggle-wine" name="attr_spellcolor" value="wine" checked="checked"><span title="Wine"></span>
                    <input type="radio" class="toggle-yellow" name="attr_spellcolor" value="yellow"><span title="Yellow"></span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Documentation Tab -->
<div class='sheet-documentation'>
    <div class="documentation-panel">
        <h2>Documentation</h2>
        <div class="link-container">
            <p>For more information on this sheet, check the page dedicated to it on the Roll20 wiki.  
        <button type="roll" class="meleedice" name="roll_wiki" value="&{template:custom} {{color=black}} {{title=**Information Link**}} {{subtitle=Right Click Link to Open in a New Tab.}} {{desc=[Roll20 Wiki Heroes Unlimited 2E](https://wiki.roll20.net/Heroes_Unlimited_2E)}}" >Info Link</button></p>
        </div>
        <div class="documentation-segment">
            <h4>March 2022</h4>
            <p>Updated the sheet to use the CSE format, bringing it out of legacy mode.</p>
            <p>Instead of creating an entirely new reactive color layout for the sheet and roll templates, the sheet and template output was tweaked so that it should work no matter how the toggle is set.</p>
            <p>Added a verticle pixel limit of 500px to the description sections of the templates.  If you have output longer than that, there will be a scroll bar to reveal the rest of the output.</p>
            <p>Added roll buttons to the inventory tab.</p>
            <p>Fixed lift capacity with normal strength over 16.  Supernatural strength now uses x500 instead of x400 for lift.</p>
            <p>All links, whether embedded urls or macro buttons, should now be in bold font on the custom and spells roll templates.</p>
            <h4>November 2021</h4>
            <p>Removed the spinner buttons from number inputs. Removed the default value from the ammo input field in the ranged attack section.</p>
            <p>Added ammo and range to the "custom" roll template header.  Added calls for ammo and range to the macro for ranged attacks.  If there is a value filled in for range and ammo, they will display in chat below the title and subtitle.  Ammo or Range will not display if they have a blank value.</p>
            <p>Modified labels and placeholder text on the Bionics tab to include Eugenics.  I know there are more divisions there than in the Powers Unlimited 2 book, but hopefully that will allow for a wider spread on some of the modifications.  No attributes have been altered, so no info should be lost on sheets with existing info on the Bionics tab.</p>
            <h4>January 2021</h4>
            <p>On the character tab, added a place to track chi below sdc.</p>
            <p>On the skills tab, moved the skill level out of the hidden section to make it easier to access for level up.</p>
            <p>On the combat tab, fixed the Hand to Hand 2 title input field to have the same background color as other input fields.</p>
            <h4>Initial Release</h4>
            <p>All light parchment colored fields are editable.  All light blue-gray fields are readonly fields that will be filled in by sheetworkers.</p>
            <p>Most attacks are intended to be set up on the main page.  Most powers that provide offensive abilities usually have multiple attacks, so I didn't try to set up attacks in the Powers section.  Few offensive psionic abilities require an attack roll.  Robots, mechanized armor, and and bionics may provide multiple attacks, but may also provide none at all.  All of that sort of thing should be set up on the Character tab as needed.</p>
            <p>The melee attack section will pull in bonuses from your physical prowess and hand to hand combat (if there are any).  Bonuses from weapon proficiencies can be added as an attribute call in the strike or parry bonus fields for the attacks.  By design, the ranged attack section doesn't pull in any bonuses from anywhere, since some ranged attacks don't use the bonus from Physical Prowess.  You can add that to an attack by entering @{pp_bonus} in the strike bonuse field.  You can also add in the attribute calls for weapon proficiencies (ranged strike, or melee thrown).</p>
            <p>Skills should auto-calculate your skill rating assuming you check the box to see all the fields for the skill.  Enter the skill base percentage, the progression per level, and the level of the skill.  If you have a short time bonus to a particular skill, add or remove that as needed.  If you have a temporary bonus to all skills, there is a place at the top of the skill section for that.  The sheetworker multiply the progression number by the skill level (minus 1), add in any bonuses including an I.Q. bonus, and will fill in the overall skill rating.  That number will be printed out when you make a roll.</p>
            <p>Be wary of loading the sheet up with spells and psionics if you have a character with access to many of both.  That can be a significant source of sheet lag and game loading lag if many sheets are set up that way.  If you start experiencing trouble, it might be best to set up macro mule sheets with spells or psionics set up as ability macros on the Attributes & Abilities tab.  Hopefully, there will be no trouble, but you have been warned.</p>
        </div>
    </div>
    
</div>

<!-- Scripts -->
<script type="text/worker">
// sheet tab action buttons
const buttonlist = ["character","social","skills","inventory","combat","spells","psionics","powers","animals","vehicles","robots","bionics","journal","configuration","documentation"];
buttonlist.forEach(button => {
    on(`clicked:${button}`, function() {
        setAttrs({
            sheetTab: button
        });
    });
});

// Stat bonus calculators
on("change:iq sheet:opened", function () {
    getAttrs(['iq'], function (values) {
        const iq = parseInt(values['iq'])||0;
        let iq_bonus = 0;
        if(iq > 30) iq_bonus = 16;
        else if(iq > 15) iq_bonus = Math.round(iq -14);
        setAttrs({
            iq_bonus: iq_bonus
        });
    });
});

on("change:me sheet:opened", function () {
    getAttrs(['me'], function (values) {
        const mep = parseInt(values['me'])||0;
        const mei = parseInt(values['me'])||0;
        let me_psionic = 0;
        if (mep > 30) me_psionic = 8;
        else if (mep > 15) me_psionic = Math.round((mep -15)*.5);
        let me_insanity = 0;
        if (mei > 30) me_insanity = 13;
        else if (mei > 20) me_insanity = Math.round(mei -17);
        else if (mei > 15) me_insanity = Math.round((mei-15)*.5);
        setAttrs({
            me_psionic: me_psionic,
            me_insanity: me_insanity
        });
    });
});
function maMod(score) {
    let bonus = 0;
    if (score >= 30) bonus = 97;
    else if (score >= 29) bonus = 96;
    else if (score >= 28) bonus = 94;
    else if (score >= 27) bonus = 92;
    else if (score >= 26) bonus = 88;
    else if (score >= 25) bonus = 84;
    else if (score >= 16) bonus = Math.floor(score-8)*5;
    return bonus;
};
on("change:ma sheet:opened", function () {
    getAttrs(['ma'], function (values) {
        let ma = parseInt(values['ma'])||0;
        let invoke_trust = maMod(ma);
        setAttrs({
            invoke_trust: invoke_trust
        });
    });
});
on("change:ps change:strengthtoggle sheet:opened", function () {
    getAttrs(['ps','strengthtoggle'], function (values) {
        const ps = parseInt(values.ps)||0;
        const s_toggle = parseInt(values.strengthtoggle)||0;
        const lift = s_toggle >3 ? ps * (s_toggle +1) * 100 : s_toggle > 1 ? ps * s_toggle * 100 : ps * 20 * (ps > 16 ? 2 : 1);
        const carry = s_toggle > 1 ? ps * (s_toggle -1) * 100 : ps * 10 * (ps > 16 ? 2 : 1);
        const ps_bonus = Math.max(ps -15, 0);
        setAttrs({
            lift, carry, ps_bonus
        });
    });
});
function ppMod(score) {
    let bonus = 0;
    if (score >= 30) bonus = 8;
    else if (score >= 16) bonus = Math.round((score-15)*.5);
    return bonus;
};
on("change:pp sheet:opened", function () {
    getAttrs(['pp'], function (values) {
        let pp = parseInt(values['pp'])||0;
        let pp_bonus = ppMod(pp);
        let pp_init = 0;
        if (pp >= 50) pp_init = 5;
        else if (pp >= 34) pp_init = Math.round((pp - 32)/4);
        setAttrs({
            pp_bonus: pp_bonus,
            pp_init: pp_init
        });
    });
});
on("change:pe sheet:opened", function () {
    getAttrs(['pe'], function (values) {
        const pe = parseInt(values['pe'])||0;
        const pec = pe;
        const per = pe;
        let pe_magpois = 0;
        if (pe >= 30) pe_magpois = 8;
        else if (pe > 15) pe_magpois = Math.round((pe -15)*.5);
        let pe_coma = 0;
        if (pe > 30) pe_coma = pe;
        else if (pe > 17) pe_coma = Math.round((pe -15)*2);
        else if (pe > 15) pe_coma = Math.round(pe -12);
        setAttrs({
            carry_max: pec,
            run_max: per,
            pe_magpois: pe_magpois,
            pe_coma: pe_coma
        });
    });
});
function pbMod(score) {
    let bonus = 0;
    if (score >= 30) bonus = 92;
    else if (score >= 27) bonus = (score *3) +3;
    else if (score >= 16) bonus = Math.floor(score-10)*5;
    return bonus;
};
on("change:pb sheet:opened", function () {
    getAttrs(['pb'], function (values) {
        let pb = parseInt(values['pb'])||0;
        let charm_impress = pbMod(pb);
        setAttrs({
            charm_impress: charm_impress
        });
    });
});
on("change:spd sheet:opened", function () {
    getAttrs(['spd'], function (values) {
        const spd = parseInt(values['spd'])||0;
        const runmel = spd*15;
        const runmil = Math.round(spd*.68);
        setAttrs({
            run_melee: runmel,
            run_mph: runmil
        });
    });
});
on("change:spd change:combatskill change:hth1_numberattacks change:hth2_numberattacks sheet:opened", function () {
    getAttrs(['spd','hth1_numberattacks', 'hth2_numberattacks', 'combatskill'], function (values) {
        const spd = parseInt(values['spd'])||0;
        const combatskill = parseInt(values['combatskill']) || 1;
        const numberattacks = parseInt(values['hth' + combatskill + '_numberattacks']) || 1;
        const modifier = Math.round((spd/numberattacks)*15);
        setAttrs({
            run_attack: modifier
        });
    });
});

// Hand to Hand Skill Toggle
on('change:combatskill sheet:opened', () => {
    getAttrs(['combatskill'], values => {
        const skills = ['initiative', 'strike', 'parry', 'dodge', 'damage', 'disarm', 'knockout', 'pullpunch', 'rollpunch', 'entangle', 'critical', 'numberattacks'];
        const output = {};
        const combatskill = values.combatskill;
        skills.forEach(skill => {
            output[skill] = `@{hth${combatskill}_${skill}}`;
        });
        setAttrs(output);
    });
});

// Skill success rating calculators    
on("change:repeating_skillocc:skill_base change:repeating_skillocc:skill_level change:repeating_skillocc:skill_prog change:repeating_skillocc:skill_bonus change:iq_bonus change:mskill_bonus", function () {
    getSectionIDs(`repeating_skillocc`, idArray => {
        const fieldnames = [];
        idArray.forEach(id => fieldnames.push(
            `repeating_skillocc_${id}_skill_base`,
            `repeating_skillocc_${id}_skill_level`,
            `repeating_skillocc_${id}_skill_prog`,
            `repeating_skillocc_${id}_skill_bonus`
        ));
        getAttrs([...fieldnames, 'iq_bonus','mskill_bonus'], function (values) {
            const output = {};
            const iq_bonus = parseInt(values['iq_bonus']) || 0;
            const mskill_bonus = parseInt(values['mskill_bonus']) || 0;
            idArray.forEach(id => {
                const base = parseInt(values[`repeating_skillocc_${id}_skill_base`]) || 0;
                const level = parseInt(values[`repeating_skillocc_${id}_skill_level`]) || 0;
                const prog = parseInt(values[`repeating_skillocc_${id}_skill_prog`]) || 0;
                const bonus = parseInt(values[`repeating_skillocc_${id}_skill_bonus`]) || 0;
                
                const rating = Math.round(base + iq_bonus + mskill_bonus + bonus + ((level - 1) * prog));
                output[`repeating_skillocc_${id}_skill_rating`] = rating;
            });
            setAttrs(output);
        });
    });
});
on("change:repeating_skillscholastic:skill_base change:repeating_skillscholastic:skill_level change:repeating_skillscholastic:skill_prog change:repeating_skillscholastic:skill_bonus change:iq_bonus change:mskill_bonus", function () {
    getSectionIDs(`repeating_skillscholastic`, idArray => {
        const fieldnames = [];
        idArray.forEach(id => fieldnames.push(
            `repeating_skillscholastic_${id}_skill_base`,
            `repeating_skillscholastic_${id}_skill_level`,
            `repeating_skillscholastic_${id}_skill_prog`,
            `repeating_skillscholastic_${id}_skill_bonus`
        ));
        getAttrs([...fieldnames, 'iq_bonus','mskill_bonus'], function (values) {
            const output = {};
            const iq_bonus = parseInt(values['iq_bonus']) || 0;
            const mskill_bonus = parseInt(values['mskill_bonus']) || 0;
            idArray.forEach(id => {
                const base = parseInt(values[`repeating_skillscholastic_${id}_skill_base`]) || 0;
                const level = parseInt(values[`repeating_skillscholastic_${id}_skill_level`]) || 0;
                const prog = parseInt(values[`repeating_skillscholastic_${id}_skill_prog`]) || 0;
                const bonus = parseInt(values[`repeating_skillscholastic_${id}_skill_bonus`]) || 0;
                
                const rating = Math.round(base + iq_bonus + mskill_bonus + bonus + ((level - 1) * prog));
                output[`repeating_skillscholastic_${id}_skill_rating`] = rating;
            });
            setAttrs(output);
        });
    });
});
on("change:repeating_skillsecondary:skill_base change:repeating_skillsecondary:skill_level change:repeating_skillsecondary:skill_prog change:repeating_skillsecondary:skill_bonus change:iq_bonus change:mskill_bonus", function () {
    getSectionIDs(`repeating_skillsecondary`, idArray => {
        const fieldnames = [];
        idArray.forEach(id => fieldnames.push(
            `repeating_skillsecondary_${id}_skill_base`,
            `repeating_skillsecondary_${id}_skill_level`,
            `repeating_skillsecondary_${id}_skill_prog`,
            `repeating_skillsecondary_${id}_skill_bonus`
        ));
        getAttrs([...fieldnames, 'iq_bonus','mskill_bonus'], function (values) {
            const output = {};
            const iq_bonus = parseInt(values['iq_bonus']) || 0;
            const mskill_bonus = parseInt(values['mskill_bonus']) || 0;
            idArray.forEach(id => {
                const base = parseInt(values[`repeating_skillsecondary_${id}_skill_base`]) || 0;
                const level = parseInt(values[`repeating_skillsecondary_${id}_skill_level`]) || 0;
                const prog = parseInt(values[`repeating_skillsecondary_${id}_skill_prog`]) || 0;
                const bonus = parseInt(values[`repeating_skillsecondary_${id}_skill_bonus`]) || 0;
                
                const rating = Math.round(base + iq_bonus + mskill_bonus + bonus + ((level - 1) * prog));
                output[`repeating_skillsecondary_${id}_skill_rating`] = rating;
            });
            setAttrs(output);
        });
    });
});
on("change:repeating_modernweapon:base change:repeating_modernweapon:level change:repeating_modernweapon:progression change:repeating_modernweapon:bonus change:iq_bonus change:mskill_bonus", function () {
    getSectionIDs(`repeating_modernweapon`, idArray => {
        const fieldnames = [];
        idArray.forEach(id => fieldnames.push(
            `repeating_modernweapon_${id}_base`,
            `repeating_modernweapon_${id}_level`,
            `repeating_modernweapon_${id}_progression`,
            `repeating_modernweapon_${id}_bonus`
        ));
        getAttrs([...fieldnames, 'iq_bonus','mskill_bonus'], function (values) {
            const output = {};
            const iq_bonus = parseInt(values['iq_bonus']) || 0;
            const mskill_bonus = parseInt(values['mskill_bonus']) || 0;
            idArray.forEach(id => {
                const base = parseInt(values[`repeating_modernweapon_${id}_base`]) || 0;
                const level = parseInt(values[`repeating_modernweapon_${id}_level`]) || 0;
                const prog = parseInt(values[`repeating_modernweapon_${id}_progression`]) || 0;
                const bonus = parseInt(values[`repeating_modernweapon_${id}_bonus`]) || 0;
                
                const rating = Math.round(base + iq_bonus + mskill_bonus + bonus + ((level - 1) * prog));
                output[`repeating_modernweapon_${id}_rating`] = rating;
            });
            setAttrs(output);
        });
    });
});

// Mutant animal bio-e cost calculators
on("change:start_size change:end_size", function () {
    getAttrs(['start_size','end_size'], function (values) {
        const start = parseInt(values['start_size']) || 0;
        const end = parseInt(values['end_size']) || 0;
        const size_total = Math.round((start - end) * 5);
        setAttrs({
            size_total: size_total
        });
    });
});
on("change:bioe_biped change:bioe_hands change:bioe_speech change:bioe_looks", function () {
    getAttrs(['bioe_biped','bioe_hands','bioe_speech','bioe_looks'], function (values) {
        const biped = parseInt(values['bioe_biped']) || 0;
        const hands = parseInt(values['bioe_hands']) || 0;
        const speech = parseInt(values['bioe_speech']) || 0;
        const looks = parseInt(values['bioe_looks']) || 0;
        const features_total = Math.round(biped + hands + speech + looks);
        setAttrs({
            features_total: features_total
        });
    });
});
on("change:start_bioe change:size_total change:features_total change:psionics_total change:powers_total change:natweap_total", function () {
    getAttrs(['start_bioe','size_total','features_total','psionics_total','powers_total','natweap_total'], function (values) {
        const tstart = parseInt(values['start_bioe']) || 0;
        const tsize = parseInt(values['size_total']) || 0;
        const tfeatures = parseInt(values['features_total']) || 0;
        const tpsionics = parseInt(values['psionics_total']) || 0;
  const tpowers = parseInt(values['powers_total']) || 0;
  const tnatweap = parseInt(values['natweap_total']) || 0;
        const bioe_total = Math.round(tstart + tsize - tfeatures - tpsionics - tpowers - tnatweap);
        setAttrs({
            bioe_total: bioe_total
        });
    });
});

// Repeating section sums
const repeatingSum = (destination, section, fields, multiplier = 1) => {
    if (!Array.isArray(fields)) fields = [fields];
    getSectionIDs(`repeating_${section}`, idArray => {
        const attrArray = idArray.reduce( (m,id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))],[]);
        getAttrs(attrArray, v => {
            console.log("===== values of v: "+ JSON.stringify(v) +" =====");
                 // getValue: if not a number, returns 1 if it is 'on' (checkbox), otherwise returns 0..
            const getValue = (section, id,field) => parseFloat(v[`repeating_${section}_${id}_${field}`]) || (v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : 0); 
            const sumTotal = idArray.reduce((total, id) => total + fields.reduce((subtotal,field) => subtotal * getValue(section, id,field),1),0);
            setAttrs({[destination]: sumTotal * multiplier});    
        });
    });
};
on('change:repeating_animpsion remove:repeating_animpsion', function() {
  repeatingSum("psionics_total","animpsion","psion_cost");
});
on('change:repeating_animpower remove:repeating_animpower', function() {
  repeatingSum("powers_total","animpower","power_cost");
});
on('change:repeating_natweap remove:repeating_natweap', function() {
  repeatingSum("natweap_total","natweap","weapon_cost");
});

// Equipment Weight Calculator
on('change:repeating_weapon remove:repeating_weapon', function() {
    repeatingSum("total_weapon","weapon",["weapon_weight","weapon_count"]);
});
on('change:repeating_armor remove:repeating_armor', function() {
    repeatingSum("total_armor","armor",["armor_weight","armor_count"]);
});
on('change:repeating_gear remove:repeating_gear', function() {
    repeatingSum("total_gear","gear",["gear_weight","gear_count"]);
});
on('change:repeating_consumables remove:repeating_consumables', function() {
    repeatingSum("total_consumables","consumables",["consumables_weight","consumables_count"]);
});
on('change:repeating_wealth remove:repeating_wealth', function() {
    repeatingSum("total_wealth","wealth",["wealth_weight","wealth_count"]);
});
on("change:total_weapon change:total_armor change:total_gear change:total_consumables change:total_wealth", function () {
    getAttrs(['total_weapon','total_armor','total_gear','total_consumables','total_wealth'], function (values) {
        const total_weapon = parseInt(values['total_weapon'])||0;
        const total_armor = parseInt(values['total_armor'])||0;
        const total_gear = parseInt(values['total_gear'])||0;
        const total_consumables = parseInt(values['total_consumables'])||0;
        const total_wealth = parseInt(values['total_wealth'])||0;
        const total_weight = Math.round(total_weapon+total_armor+total_gear+total_consumables+total_wealth);
        setAttrs({
            total_weight: total_weight
        });
    });
});

// Robot and Power Armor Build Cost Calculator
on("change:robot_bodycost change:robot_framecost change:robot_qualitycost change:robot_powercost change:robot_legscost change:robot_armscost change:robot_sensorscost change:robot_armorcost change:robot_systemscost change:robot_weaponscost change:robot_eweaponscost change:robot_hweaponscost change:robot_gweaponscost change:robot_opticscost change:robot_animalcost change:robot_misccost", function () {
    getAttrs(['robot_bodycost','robot_framecost','robot_qualitycost','robot_powercost','robot_legscost','robot_armscost','robot_sensorscost','robot_armorcost','robot_systemscost','robot_weaponscost','robot_eweaponscost','robot_hweaponscost','robot_gweaponscost','robot_opticscost','robot_animalcost','robot_misccost'], function (values) {
        const bodycost = parseInt(values['robot_bodycost']) || 0;
        const framecost = parseInt(values['robot_framecost']) || 0;
        const qualitycost = parseInt(values['robot_qualitycost']) || 0;
        const powercost = parseInt(values['robot_powercost']) || 0;
        const legscost = parseInt(values['robot_legscost']) || 0;
        const armscost = parseInt(values['robot_armscost']) || 0;
        const sensorscost = parseInt(values['robot_sensorscost']) || 0;
        const armorcost = parseInt(values['robot_armorcost']) || 0;
        const systemscost = parseInt(values['robot_systemscost']) || 0;
        const weaponscost = parseInt(values['robot_weaponscost']) || 0;
        const eweaponscost = parseInt(values['robot_eweaponscost']) || 0;
        const hweaponscost = parseInt(values['robot_hweaponscost']) || 0;
        const opticscost = parseInt(values['robot_opticscost']) || 0;
        const gweaponscost = parseInt(values['robot_gweaponscost']) || 0;
        const animalcost = parseInt(values['robot_animalcost']) || 0;
        const misccost = parseInt(values['robot_misccost']) || 0;
        const robot_totalcost = Math.round(bodycost + framecost + qualitycost + powercost + legscost + armscost + sensorscost + armorcost + systemscost + weaponscost + eweaponscost + hweaponscost + gweaponscost + opticscost + animalcost + misccost);
        setAttrs({
            robot_totalcost: robot_totalcost
        });
    });
});

// Bionics Cost Calculator
on("change:bionic_bodycost change:bionic_organcost change:bionic_attrcost change:bionic_earcost change:bionic_eyecost change:bionic_lungcost change:bionic_sensorcost change:bionic_armorcost change:bionic_eweaponscost change:bionic_hweaponscost change:bionic_oweaponscost change:bionic_mweaponscost", function () {
    getAttrs(['bionic_bodycost','bionic_organcost','bionic_attrcost','bionic_earcost','bionic_eyecost','bionic_lungcost','bionic_sensorcost','bionic_armorcost','bionic_eweaponscost','bionic_hweaponscost','bionic_eweaponscost','bionic_oweaponscost','bionic_mweaponscost'], function (values) {
        const bodycost = parseInt(values['bionic_bodycost']) || 0;
        const organcost = parseInt(values['bionic_organcost']) || 0;
        const attrcost = parseInt(values['bionic_attrcost']) || 0;
        const earcost = parseInt(values['bionic_earcost']) || 0;
        const eyecost = parseInt(values['bionic_eyecost']) || 0;
        const lungcost = parseInt(values['bionic_lungcost']) || 0;
        const sensorcost = parseInt(values['bionic_sensorcost']) || 0;
        const armorcost = parseInt(values['bionic_armorcost']) || 0;
        const eweaponscost = parseInt(values['bionic_eweaponscost']) || 0;
        const hweaponscost = parseInt(values['bionic_hweaponscost']) || 0;
        const oweaponscost = parseInt(values['bionic_oweaponscost']) || 0;
        const opticscost = parseInt(values['bionic_opticscost']) || 0;
        const mweaponscost = parseInt(values['bionic_mweaponscost']) || 0;
        const bionic_totalcost = bodycost + organcost + attrcost + earcost + eyecost + lungcost + sensorcost + armorcost + eweaponscost + hweaponscost + oweaponscost + mweaponscost;
        setAttrs({
            bionic_totalcost: bionic_totalcost
        });
    });
});  

</script>

<!-- Main Roll Template -->
<rolltemplate class="sheet-rolltemplate-custom">
  <div class="sheet-container sheet-color-{{color}}">
    <div class="sheet-header">
      {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
      {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
    </div>
    <div class="sheet-note">
        {{#ammo}}<div class="sheet-ammo">Ammo Count: {{ammo}}</div>{{/ammo}}
        {{#range}}<div class="sheet-range">Range: {{range}}</div>{{/range}}
    </div>
    <div class="sheet-content">
      {{#allprops() title subtitle ammo range desc color}}
      <div class="sheet-key">{{key}}</div>
      <div class="sheet-value">{{value}}</div>
      {{/allprops() title subtitle ammo range desc color}}
      {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
    </div>
  </div>
</rolltemplate>

<!-- Menu Roll Template -->
<rolltemplate class="sheet-rolltemplate-menu">
  <div class="sheet-container sheet-color-{{color}}">
    <div class="sheet-header">
      {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
      {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
    </div>
    <div class="sheet-content">
      {{#allprops() title subtitle desc color}}
      <div class="sheet-key">{{key}}</div>
      <div class="sheet-value">{{value}}</div>
      {{/allprops() title subtitle desc color}}
      {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
    </div>
  </div>
</rolltemplate>

<!-- Spell Roll Template -->
<rolltemplate class="sheet-rolltemplate-spells">
    <div class="sheet-container sheet-color-{{color}}">
        <div class="sheet-header">
            {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
            {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
        </div>
        <div class="sheet-note">
            {{#ispcost}}<div class="sheet-ispcost">I.S.P. Cost: {{ispcost}}</div>{{/ispcost}}
            {{#ppecost}}<div class="sheet-ppecost">P.P.E. Cost: {{ppecost}}</div>{{/ppecost}}
            {{#range}}<div class="sheet-range">Range: {{range}}</div>{{/range}}
            {{#preptime}}<div class="sheet-preptime">Prep Time: {{preptime}}</div>{{/preptime}}
            {{#duration}}<div class="sheet-duration">Duration: {{duration}}</div>{{/duration}}
            {{#spellstrength}}<div class="sheet=spellstrength">Strength: {{spellstrength}}</div>{{/spellstrength}}
            {{#spellsave}}<div class="sheet-spellsave">Save: {{spellsave}}</div>{{/spellsave}}
        </div>
        <div class="sheet-attack">
            {{#strike}}<div class="sheet-strike">Strike = {{strike}}</div>{{/strike}}
            {{#damage}}<div class="sheet-damage">Damage = {{damage}}</div>{{/damage}}
        </div>
        <div class="sheet-content">
            {{#allprops() title subtitle ispcost ppecost range preptime duration spellstrength spellsave strike damage desc color}}
            <div class="sheet-key">{{key}}</div>
            <div class="sheet-value">{{value}}</div>
            {{/allprops() title subtitle ispcost ppecost range preptime duration spellstrength spellsave strike damage desc color}}
            {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
        </div>
    </div>
</rolltemplate>

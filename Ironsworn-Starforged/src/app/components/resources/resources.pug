- var charResources = [ 'health', 'spirit', 'supply']
- var sharedResources = [ 'supply' ]
- var standard = [ 5, 4, 3, 2, 1, 0 ]
- var inverse = [ 0, 1, 2, 3, 4, 5 ]

mixin options(trackValues)
  each val in trackValues
    option(value=val)=`+${val}`

mixin dropdowns(resource)
  div.resource
    label.roll-resource-label
      button(
        type="roll"
        title=`@{roll${resource}}`
        class='hide-element'
        name=`roll${resource}`
        value!=`&{template:starforged_moves} {{name=roll +${resource}}} {{action=[[{d6+@{${resource}}+(?{Modifier|0}),{10}}kl1]]}} {{negate1=[[1+@{${resource}}+(?{Modifier|0})]]}} {{negate2=[[2+@{${resource}}+(?{Modifier|0})]]}} {{negate3=[[3+@{${resource}}+(?{Modifier|0})]]}} {{negate4=[[4+@{${resource}}+(?{Modifier|0})]]}} {{negate5=[[5+@{${resource}}+(?{Modifier|0})]]}} {{negate6=[[6+@{${resource}}+(?{Modifier|0})]]}} {{challenge1=[[d10]]}} {{challenge2=[[d10]]}} {{momentum=[[@{momentum}]]}} {{modifiers=[[@{${resource}}+(?{Modifier|0})]]}} {{add=[[(?{Modifier|0})]]}} {{stat=[[@{${resource}}]]}}`
      )
      div.i18n-text(data-i18n=`resource-${resource}`)=translation[`resource-${resource}`]
    select(class="resource-value" name=`attr_${resource}`)
      if resource == 'wealth'
        - var trackValues = inverse
        +options(inverse)
      else
        - var trackValues = standard
        +options(standard)

mixin character(resources)
  div.resources
    div.row1.surface
      div.resource.character-name
        h2.resource-title.i18n-text(data-i18n='character-name')=translation['character-name']
        div.resource-value-box
          input(type='text' class="resource-value" name="attr_character_name" placeholder=translation['character-name'])

      div.resource.character-callsign
        h2.resource-title.i18n-text(data-i18n='character-callsign')=translation['character-callsign']
        div.resource-value-box
          input(type='text' class="resource-value" name="attr_character_callsign" placeholder=translation['character-callsign'])

    div.row2.surface
      div.resource.character-pronouns
        h2.resource-title.i18n-text(data-i18n='character-pronouns')=translation['character-pronouns']
        div.resource-value-box
          input(type='text' class="resource-value" name="attr_character_pronouns" placeholder=translation['character-pronouns'])

      each resource in resources
        +dropdowns(resource)

      div.resource
        h2.resource-title.i18n-text(data-i18n='character-experience')=translation['character-experience']
        div.health-status-box
          input(type='text' class="resource-value" name="attr_xp" value="0")
        h2.resource-title.i18n-text(data-i18n='character-experience-spent')=translation['character-experience-spent']
        div.health-status-box
          input(type='text' class="resource-value" name="attr_total_xp" value="0")

mixin shared(resources)
  div.resources
    each resource in resources
      +dropdowns(resource)

mixin resources(sheetType)
  if sheetType == 'shared'
    - var resources = sharedResources
    +shared(resources)
  else
    - var resources = charResources
    +character(resources)
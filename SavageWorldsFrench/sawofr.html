<!-- **** SCRIPTS / SHEET WORKERS -->
<script type="text/worker">
// === JOKER / PNJ / EXTRA
on("change:joker_de", function() {
    getAttrs(["joker_de","pnj","chkPossessions","templateetat"], function(values) {
        var extra = 0;
        var pnj = 0;
        var possessions = 1;
        var templateetat = 1;
        if (values.joker_de == "0d4") {
            extra = 1;
            pnj = 1;
            possessions = 0;
            templateetat = 0;
        } else {
            extra = 0;
            pnj = values.pnj;
            possessions = values.chkPossessions;
            templateetat = values.templateetat;
        }
        setAttrs({
            extra: extra,
            pnj: pnj,
            chkPossessions: possessions,
            templateetat: templateetat
        });
    });
});
on("change:pnj", function(){
    getAttrs(["pnj"], function(values) {
        if (values.pnj == 1) {
            setAttrs({
                chkPossessions: 0,
                templateetat: 0
            });
        }
    });
});
// === BLESSURES et Malus blessure
on("change:blessures", function() {
    getAttrs(["blessures"], function(values) {
        var malusblessures = 0;
        if (values.blessures > 3) {
            malusblessures = 3;
        } else {
            malusblessures = values.blessures;
        }
        setAttrs({
            malusblessures: malusblessures
        });
    });
});
// === FATIGUE et Malus blessure
on("change:fatigue", function() {
    getAttrs(["fatigue"], function(values) {
        var malusfatigue = 0;
        if (values.fatigue > 2) {
            malusfatigue = 2;
        } else {
            malusfatigue = values.fatigue;
        }
        setAttrs({
            malusfatigue: malusfatigue
        });
    });
});
// === ARMES FIXES
on("change:arme1_comp", function() {
    getAttrs(["arme1_comp"], function(values) {
        setAttrs({
            arme1_comp_rel: "@{relRollBast" + values.arme1_comp + "}",
            arme1_comp_jet: "@{jetRollBast" + values.arme1_comp + "}",
            arme1_comp_brut: "@{RollBast" + values.arme1_comp + "}"
        });
    });
});
on("change:arme2_comp", function() {
    getAttrs(["arme2_comp"], function(values) {
        setAttrs({
            arme2_comp_rel: "@{relRollBast" + values.arme2_comp + "}",
            arme2_comp_jet: "@{jetRollBast" + values.arme2_comp + "}",
            arme2_comp_brut: "@{RollBast" + values.arme2_comp + "}"
        });
    });
});
on("change:arme3_comp", function() {
    getAttrs(["arme3_comp"], function(values) {
        setAttrs({
            arme3_comp_rel: "@{relRollBast" + values.arme3_comp + "}",
            arme3_comp_jet: "@{jetRollBast" + values.arme3_comp + "}",
            arme3_comp_brut: "@{RollBast" + values.arme3_comp + "}"
        });
    });
});
// === ARMES DYNAMIQUES
on("change:repeating_armes:armed_comp", function() {
    getAttrs(["repeating_armes_armeD_comp"], function(values) {
        setAttrs({
            repeating_armes_armeD_comp_rel: "@{relRollBast" + values.repeating_armes_armeD_comp + "}",
            repeating_armes_armeD_comp_jet: "@{jetRollBast" + values.repeating_armes_armeD_comp + "}"
            ,repeating_armes_armeD_comp_brut: "@{RollBast" + values.repeating_armes_armeD_comp + "}"
        });
    });
});
// === CARACS DÉRIVÉES
//    Charisme
on("change:charisme_base change:charisme_bonus", function() {
    getAttrs(["charisme_base","charisme_bonus"], function(values) {
        setAttrs({
            charisme: parseInt(values.charisme_base) + parseInt(values.charisme_bonus)
        });
    });
});
// Parade
on("change:combat_de change:combat_bonus change:parade_bonus", function() {
    getAttrs(["combat_de","combat_bonus","parade_bonus"], function(values) {
        setAttrs({
            parade_base: 2 + Math.floor( (parseInt(values.combat_de) + parseInt(values.combat_bonus)) / 2),
            parade: parseInt(values.parade_bonus) + 2 + Math.floor( (parseInt(values.combat_de) + parseInt(values.combat_bonus)) / 2)
        });
    });
});
// Résistance
on("change:vigueur_de change:vigueur_bonus change:resistance_bonus", function() {
    getAttrs(["vigueur_de","vigueur_bonus","resistance_bonus"], function(values) {
        setAttrs({
            resistance_base: 2 + Math.floor( (parseInt(values.vigueur_de) + parseInt(values.vigueur_bonus)) / 2),
            resistance: parseInt(values.resistance_bonus) + 2 + Math.floor( (parseInt(values.vigueur_de) + parseInt(values.vigueur_bonus)) / 2)
        });
    });
});
// Affichage / Masquage toutes compétences
on("change:chkAllComp", function() {
    getAttrs(["chkAllComp"], function(values) {
        setAttrs({
            chkArcane: values.chkAllComp,
            chkCombat: values.chkAllComp,
            chkConduite: values.chkAllComp,
            chkConnaissance: values.chkAllComp,
            chkCrochetage: values.chkAllComp,
            chkDiscretion: values.chkAllComp,
            chkEquitation: values.chkAllComp,
            chkEscalade: values.chkAllComp,
            chkIntimidation: values.chkAllComp,
            chkJeu: values.chkAllComp,
            chkLancer: values.chkAllComp,
            chkNatation: values.chkAllComp,
            chkNavigation: values.chkAllComp,
            chkPerception: values.chkAllComp,
            chkPersuasion: values.chkAllComp,
            chkPilotage: values.chkAllComp,
            chkPistage: values.chkAllComp,
            chkRecherche: values.chkAllComp,
            chkReparation: values.chkAllComp,
            chkReseaux: values.chkAllComp,
            chkSarcasme: values.chkAllComp,
            chkSoins: values.chkAllComp,
            chkSurvie: values.chkAllComp,
            chkTir: values.chkAllComp
        });
    });
});
// === Inventaire et encombrement
on("change:force_de", function() {
    getAttrs(["force_de"], function(values) {
        setAttrs({
            encombmax: parseInt(values.force_de)*2.5
        });
    });
});
on("change:repeating_equipements:equipqte change:repeating_equipements:equippdsunit", function() {
    getAttrs(["repeating_equipements_equipqte", "repeating_equipements_equippdsunit"], function(values) {
        var qte = parseFloat(values.repeating_equipements_equipqte) || 1.0;
        var pds = parseFloat(values.repeating_equipements_equippdsunit) || 0.0;
        setAttrs({
            repeating_equipements_equippoids: qte*pds
        });
   });
});
 on("remove:repeating_equipements change:repeating_equipements:equippoids",function(){
    getSectionIDs("repeating_equipements", function(idws) {
        var totwght = 0.0;
        idws.forEach(function(idw,index,arr){
            var uwght = "repeating_equipements_" + idw + "_equippoids";
            var lng = parseInt(arr.length) || 0;
            getAttrs([uwght], function(val) {
                totwght = totwght + parseFloat(val[uwght]) || 0.0;
                if ( (index+1) == lng ){
                    setAttrs({
                        encombpoids: totwght
                    });
                }
            });
        });
    });
});
on("change:encombpoids change:encombmax", function() {
    getAttrs(["encombmax","encombpoids"], function(values) {
        var lemax = parseInt(values.encombmax) || 1;
        var lepoids = parseInt(values.encombpoids) || 0;
        setAttrs({
            encombrement: Math.floor(lepoids/lemax)
        });
    });
});
// === Attaques
on("change:atkcible", function () {
    getAttrs(["atkcible"], function(values){
        var cibleparade = "",
        cibleresistance = "",
        ciblearcane = "",
        atknom = "";
        if ( values.atkcible == 1) {
            cibleparade = "@{target|parade}";
            cibleresistance = "@{target|resistance}";
            ciblearcane = "?{Difficulté|4}";
            atknom = "@{target|character_name}";
        } else {
            cibleparade = "?{Parade|4}";
            cibleresistance = "?{Résistance|4}";
            ciblearcane = "?{Difficulté|4}";
            atknom = "-";
        }
        setAttrs({
            cibleparade: cibleparade,
            cibleresistance: cibleresistance,
            ciblearcane: ciblearcane,
            atknom: atknom
        });
    });
});
</script>
<!-- *** HIDDEN ROLLS ** -->
<div style="display: none;">
    <!-- Gestion de la feuille -->
    <input type="number" hidden name="attr_sheetArmeCtrl" value="0" /> <!-- Transition pour compétences d'arme et jets bruts -->
    <!-- ETAT du Personnage -->
    <input type="number" name="attr_malusblessures" value="0" />
    <input type="number" name="attr_malusfatigue" value="0" />
    <!-- ATTRIBUTS -->
    <input type="text" disabled hidden name="attr_RollAGI" value="{ 1d@{agilite_de}!![Agilité] , @{joker_de}!![Joker] }kh1 + (@{agilite_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollAGI" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Agilité}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollAGI} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollAGI" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Agilité}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollAGI}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollAME" value="{ 1d@{ame_de}!![Âme] , @{joker_de}!![Joker] }kh1 + (@{ame_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollAME" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Âme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollAME} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollAME" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Âme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollAME}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollFOR" value="{ 1d@{force_de}!![Force] , @{joker_de}!![Joker] }kh1 + (@{force_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollFOR" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Force}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollFOR} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollFOR" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Force}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollFOR}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollINT" value="{ 1d@{intellect_de}!![Intellect] , @{joker_de}!![Joker] }kh1 + (@{intellect_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollINT" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Intellect}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollINT} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollINT" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Intellect}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollINT}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollVIG" value="{ 1d@{vigueur_de}!![Vigueur] , @{joker_de}!![Joker] }kh1 + (@{vigueur_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollVIG" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Vigueur}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{rollVIG} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollVIG" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Vigueur}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{rollVIG}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <!-- BASTON -->
    <input type="text" hidden readonly name="attr_cibleparade" value="@{Target|parade}" />
    <input type="text" hidden readonly name="attr_cibleresistance" value="@{Target|resistance}" />
    <input type="text" hidden readonly name="attr_ciblearcane" value="?{Difficulté|4}" />
    <input type="text" hidden readonly name="attr_atknom" value="@{target|character_name}" />

    <input type="text" disabled hidden name="attr_RollBastCombat" value="{ 1d@{combat_de}!![Combat],@{joker_de}!![Joker]}kh1 + (@{combat_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollBastCombat" value="{ floor( ( { @{RollBastCombat} } - (@{cibleparade}[Parade] - 4 ) ) /4), 0d0 }kh1 " />
    <input type="text" disabled hidden name="attr_jetRollBastCombat" value="@{RollBastCombat}" />

    <input type="text" disabled hidden name="attr_RollBastLancer" value="{ 1d@{lancer_de}!![Lancer],@{joker_de}!![Joker]}kh1 + (@{lancer_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] - ?{Portée|Courte,0|Moyenne,2|Longue,4}[Portée] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollBastLancer" value="{ floor( ( { @{rollBastLancer} } ) /4), 0d0 }kh1" />
    <input type="text" disabled hidden name="attr_jetRollBastLancer" value="@{RollBastLancer}" />

    <input type="text" disabled hidden name="attr_RollBastTir" value="{ 1d@{tir_de}!![Tir],?{Dé joker ?|Oui,@{joker_de}!|Non,0d4}[Joker]}kh1 + (@{tir_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] - ?{Portée|Courte,0|Moyenne,2|Longue,4}[Portée] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollBastTir" value="{ floor( ( { @{rollBastTir} } ) /4), 0d0 }kh1" />
    <input type="text" disabled hidden name="attr_jetRollBastTir" value="@{RollBastTir}" />

    <input type="text" disabled hidden name="attr_RollBastArcane" value="{ 1d@{arcane_de}!![Arcane],?{Dé joker ?|Oui,@{joker_de}!|Non,0d4}[Joker]}kh1 + (@{arcane_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollBastArcane" value="{ floor( ( { @{RollBastCombat} } ) / ( @{ciblearcane})[Difficulté] ), 0d0 }kh1 " />
    <input type="text" disabled hidden name="attr_jetRollBastArcane" value="@{RollBastArcane}" />

    <input type="text" disabled hidden name="attr_RollBastForce" value="1d@{force_de}!!+(@{force_bonus})[Dégâts : Force]" />

    <!-- ARMES -->
    <input type="text" disabled hidden name="attr_relRollArmeFixe1" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arme1_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[ @{arme1_comp_rel} ]]}} {{degatsrel=[[@{relRollArmeFixe1Dgt}]]}} {{degatsrelplus=[[@{relRollArmeFixe1DgtPlus}]]}} {{atkcible=[[@{atkcible}]]}} {{cible=@{atknom}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme1_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe1" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arme1_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{arme1_comp_jet} ]]}} {{degats=[[@{jetRollArmeFixe1Dgt}]]}} {{degatsplus=[[1d6!!]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme1_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe1Dgt" value="@{arme1_dgt_force} + @{arme1_dgt_nbde}d@{arme1_dgt_de}!! + (@{arme1_dgt_bonus})[Dégâts : arme] + (?{Mod. dégâts|0})[Modificateur aux dégâts]" />
    <input type="text" disabled hidden name="attr_relRollArmeFixe1Dgt" value="{ floor( ( @{jetRollArmeFixe1Dgt} - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />
    <input type="text" disabled hidden name="attr_relRollArmeFixe1DgtPlus" value="{ floor( ( @{jetRollArmeFixe1Dgt}+1d6!! - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />

    <input type="text" disabled hidden name="attr_relRollArmeFixe2" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arme2_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[@{arme2_comp_rel}]]}} {{degatsrel=[[@{relRollArmeFixe2Dgt}]]}} {{degatsrelplus=[[@{relRollArmeFixe2DgtPlus}]]}} {{atkcible=[[@{atkcible}]]}} {{cible=@{atknom}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme2_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe2" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arme2_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{arme2_comp_jet} ]]}} {{degats=[[@{jetRollArmeFixe2Dgt}]]}} {{degatsplus=[[1d6!!]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme2_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe2Dgt" value="@{arme2_dgt_force} + @{arme2_dgt_nbde}d@{arme2_dgt_de}!! + (@{arme2_dgt_bonus})[Dégâts : arme] + (?{Mod. dégâts|0})[Modificateur aux dégâts]" />
    <input type="text" disabled hidden name="attr_relRollArmeFixe2Dgt" value="{ floor( ( @{jetRollArmeFixe2Dgt} - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />
    <input type="text" disabled hidden name="attr_relRollArmeFixe2DgtPlus" value="{ floor( ( @{jetRollArmeFixe2Dgt}+1d6!! - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />

    <input type="text" disabled hidden name="attr_relRollArmeFixe3" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arme3_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[@{arme3_comp_rel}]]}} {{degatsrel=[[@{relRollArmeFixe3Dgt}]]}} {{degatsrelplus=[[@{relRollArmeFixe3DgtPlus}]]}} {{atkcible=[[@{atkcible}]]}} {{cible=@{atknom}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme3_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe3" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arme3_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{arme3_comp_jet} ]]}} {{degats=[[@{jetRollArmeFixe3Dgt}]]}} {{degatsplus=[[1d6!!]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{arme3_comp}}}" />
    <input type="text" disabled hidden name="attr_jetRollArmeFixe3Dgt" value="@{arme3_dgt_force} + @{arme3_dgt_nbde}d@{arme3_dgt_de}!! + (@{arme3_dgt_bonus})[Dégâts : arme] + (?{Mod. dégâts|0})[Modificateur aux dégâts]" />
    <input type="text" disabled hidden name="attr_relRollArmeFixe3Dgt" value="{ floor( ( @{jetRollArmeFixe3Dgt} - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />
    <input type="text" disabled hidden name="attr_relRollArmeFixe3DgtPlus" value="{ floor( ( @{jetRollArmeFixe3Dgt}+1d6!! - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 " />

    <!-- COMPETENCES -->
    <input type="text" disabled hidden name="attr_RollIncomp" value="{ 1d4!![Non entraîné],@{joker_de}!![Joker]}kh1 + (-2)[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollIncomp" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Non entraîné}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollIncomp} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollIncomp" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Non entraîné}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollIncomp}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollArcane" value="{ 1d@{arcane_de}!![@{arcane_nom}],@{joker_de}!![Joker]}kh1 + (@{arcane_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollArcane" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arcane_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollArcane} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollArcane" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{arcane_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollArcane}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_relRollCombat" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Combat}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[@{relRollBastCombat}]]}} {{atkcible=[[@{atkcible}]]}} {{cible=@{atknom}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollCombat" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Combat}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{jetRollBastCombat}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollConduite" value="{ 1d@{conduite_de}!![Conduite],@{joker_de}!![Joker]}kh1 + (@{conduite_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollConduite" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Conduite}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollConduite} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollConduite" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Conduite}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollConduite}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollConnaissance" value="{ 1d@{connaissance_de}!![@{connaissance_nom}],@{joker_de}!![Joker]}kh1 + (@{connaissance_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollConnaissance" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{connaissance_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollConnaissance} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollConnaissance" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{connaissance_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollConnaissance}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollCrochetage" value="{ 1d@{crochetage_de}!![Crochetage],@{joker_de}!![Joker]}kh1 + (@{crochetage_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollCrochetage" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Crochetage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollCrochetage} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollCrochetage" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Crochetage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollCrochetage}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollDiscretion" value="{ 1d@{discretion_de}!![Discretion],@{joker_de}!![Joker]}kh1 + (@{discretion_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollDiscretion" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Discrétion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollDiscretion} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollDiscretion" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Discrétion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollDiscretion}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollEquitation" value="{ 1d@{equitation_de}!![Equitation],@{joker_de}!![Joker]}kh1 + (@{equitation_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollEquitation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Équitation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollEquitation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollEquitation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Équitation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollEquitation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollEscalade" value="{ 1d@{escalade_de}!![Escalade],@{joker_de}!![Joker]}kh1 + (@{escalade_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollEscalade" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Escalade}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollEscalade} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollEscalade" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Escalade}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollEscalade}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollIntimidation" value="{ 1d@{intimidation_de}!![Intimidation],@{joker_de}!![Joker]}kh1 + (@{intimidation_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollIntimidation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Intimidation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollIntimidation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollIntimidation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Intimidation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollIntimidation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollJeu" value="{ 1d@{jeu_de}!![Jeu],@{joker_de}!![Joker]}kh1 + (@{jeu_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollJeu" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Jeu}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollJeu} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollJeu" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Jeu}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollJeu}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_relRollLancer" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Lancer}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[@{relRollBastLancer}]]}} {{atkcible=[[@{atkcible}]]}} {{cible=@{atknom}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollLancer" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Lancer}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{jetRollBastLancer}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollNatation" value="{ 1d@{natation_de}!![Natation],@{joker_de}!![Joker]}kh1 + (@{natation_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollNatation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Natation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollNatation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollNatation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Natation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollNatation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollNavigation" value="{ 1d@{navigation_de}!![Navigation],@{joker_de}!![Joker]}kh1 + (@{navigation_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollNavigation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Navigation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollNavigation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollNavigation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Navigation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollNavigation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollPerception" value="{ 1d@{perception_de}!![Perception],@{joker_de}!![Joker]}kh1 + (@{perception_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPerception" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Perception}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPerception} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPerception" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Perception}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPerception}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollPersuasion" value="{ 1d@{persuasion_de}!![Persuasion],@{joker_de}!![Joker]}kh1 + (@{persuasion_bonus})[Bonus] + @{charisme}[Charisme] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPersuasion" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Persuasion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPersuasion} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPersuasion" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Persuasion}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPersuasion}]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollPilotage" value="{ 1d@{pilotage_de}!![Pilotage],@{joker_de}!![Joker]}kh1 + (@{pilotage_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] - @{encombrement}[Encombrement] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPilotage" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Pilotage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPilotage} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPilotage" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Pilotage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPilotage}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollPistage" value="{ 1d@{pistage_de}!![Pistage],@{joker_de}!![Joker]}kh1 + (@{pistage_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollPistage" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Pistage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollPistage} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollPistage" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Pistage}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollPistage}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollRecherche" value="{ 1d@{recherche_de}!![Trait],@{joker_de}!![Recherche]}kh1 + (@{recherche_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollRecherche" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Recherche}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollRecherche} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollRecherche" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Recherche}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollRecherche}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollReparation" value="{ 1d@{reparation_de}!![Réparation],@{joker_de}!![Joker]}kh1 + (@{reparation_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollReparation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Réparation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollReparation} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollReparation" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Réparation}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollReparation}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollReseaux" value="{ 1d@{reseaux_de}!![Réseaux],@{joker_de}!![Joker]}kh1 + (@{reseaux_bonus})[Bonus] + @{charisme}[Charisme] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollReseaux" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Réseaux}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollReseaux} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} " />
    <input type="text" disabled hidden name="attr_jetRollReseaux" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Réseaux}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollReseaux}]]}} {{charisme=@{charisme}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} " />

    <input type="text" disabled hidden name="attr_RollSarcasme" value="{ 1d@{sarcasme_de}!![Sarcasme],@{joker_de}!![Joker]}kh1 + (@{sarcasme_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollSarcasme" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Sarcasme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollSarcasme} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollSarcasme" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Sarcasme}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollSarcasme}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollSoins" value="{ 1d@{soins_de}!![Soins],@{joker_de}!![Joker]}kh1 + (@{soins_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollSoins" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Soins}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollSoins} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollSoins" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Soins}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollSoins}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_RollSurvie" value="{ 1d@{survie_de}!![Survie],@{joker_de}!![Joker]}kh1 + (@{survie_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollSurvie" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Survie}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollSurvie} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollSurvie" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Survie}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollSurvie}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />

    <input type="text" disabled hidden name="attr_relRollTir" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Tir}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[@{relRollBastTir}]]}} {{atkcible=[[@{atkcible}]]}} {{cible=@{atknom}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollTir" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Tir}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{jetRollBastTir}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}}" />

    <input type="text" disabled hidden name="attr_RollTripes" value="{ 1d@{tripes_de}!![Tripes],@{joker_de}!![Joker]}kh1 + (@{tripes_bonus})[Bonus] + (@{trempe})[Trempe] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]" />
    <input type="text" disabled hidden name="attr_relRollTripes" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Tripes}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { @{RollTripes} } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
    <input type="text" disabled hidden name="attr_jetRollTripes" value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=Tripes}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[@{RollTripes}]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}" />
</div> <!-- *** HIDDEN ROLLS ** -->
<!-- PARAMETRAGES -->
<div class="fdp"> <!-- FDP -->
    <!-- onglets -->
    <input type="radio" name="attr_chkvie" value="0" class="onglmain" title="Feuille" checked /><span>Feuille</span>
    <input type="radio" name="attr_chkvie" value="1" class="onglconfig" title="Configuration" /><span>Configuration</span>
    <span style="display:inline-block;width:150px;text-align: center;color: #888888;font-size: 0.9em;">v2.0 (09/04/2017)</span>
    <!-- Style FdP -->
    <input type="checkbox" name="attr_sheetDead" value="1" class="chkSheetDead" />
    <!-- paramètres cachés -->
    <input type="checkbox" name="attr_sheetStyle" value="0" class="chkRolrel" checked />
    <input type="checkbox" name="attr_sheetStyle" value="1" class="chkRoljet" />
    <input type="checkbox" name="attr_sheetStyle" value="2" class="chkRolbrut" />
    <input type="checkbox" name="attr_extra" value="1" class="persoExtra" />
    <input type="checkbox" name="attr_pnj" value="1" class="persoPnj" />
    <input type="checkbox" name="attr_chkPossessions" value="1" class="chkPossessions" checked />
    <input type="checkbox" name="attr_sheetLogo" value="1" class="dispLogo" checked />
    <!-- Checks pour affichage compétences -->
    <input type="checkbox" name="attr_chkArcane" class="chkArcane" value="1" checked />
    <input type="checkbox" name="attr_chkCombat" class="chkCombat" value="1" checked />
    <input type="checkbox" name="attr_chkConduite" class="chkConduite" value="1" checked />
    <input type="checkbox" name="attr_chkConnaissance" class="chkConnaissance" value="1" checked />
    <input type="checkbox" name="attr_chkCrochetage" class="chkCrochetage" value="1" checked />
    <input type="checkbox" name="attr_chkDiscretion" class="chkDiscretion" value="1" checked />
    <input type="checkbox" name="attr_chkEquitation" class="chkEquitation" value="1" checked />
    <input type="checkbox" name="attr_chkEscalade" class="chkEscalade" value="1" checked />
    <input type="checkbox" name="attr_chkIntimidation" class="chkIntimidation" value="1" checked />
    <input type="checkbox" name="attr_chkJeu" class="chkJeu" value="1" checked />
    <input type="checkbox" name="attr_chkLancer" class="chkLancer" value="1" checked />
    <input type="checkbox" name="attr_chkNatation" class="chkNatation" value="1" checked />
    <input type="checkbox" name="attr_chkNavigation" class="chkNavigation" value="1" checked />
    <input type="checkbox" name="attr_chkPerception" class="chkPerception" value="1" checked />
    <input type="checkbox" name="attr_chkPersuasion" class="chkPersuasion" value="1" checked />
    <input type="checkbox" name="attr_chkPilotage" class="chkPilotage" value="1" checked />
    <input type="checkbox" name="attr_chkPistage" class="chkPistage" value="1" checked />
    <input type="checkbox" name="attr_chkRecherche" class="chkRecherche" value="1" checked />
    <input type="checkbox" name="attr_chkReparation" class="chkReparation" value="1" checked />
    <input type="checkbox" name="attr_chkReseaux" class="chkReseaux" value="1" checked />
    <input type="checkbox" name="attr_chkSarcasme" class="chkSarcasme" value="1" checked />
    <input type="checkbox" name="attr_chkSoins" class="chkSoins" value="1" checked />
    <input type="checkbox" name="attr_chkSurvie" class="chkSurvie" value="1" checked />
    <input type="checkbox" name="attr_chkTir" class="chkTir" value="1" checked />
    <!-- Début réel de la feuille -->
    <div class="main"> <!--- ***  MAIN *** -->
        <div class="mycol"> <!-- ** COL1 ** -->
            <div class="colblock"> <!-- TRAITS -->
                <div> <!-- ATTRIBUTS -->
                    <div style="text-align: center;"> <!-- JOKER -->
                        <div class="redtitle1" style="display:inline-block;">TRAITS</div>
                        &nbsp;
                        <div class="blacktext2">Dé Joker</div>
                        <SELECT name="attr_joker_de" class="selde joker">
                            <OPTION value="0d4">&nbsp;- Extra (PNJ)</OPTION>
                            <OPTION value="1d4">&nbsp;d4</OPTION>
                            <OPTION value="1d6" SELECTED>&nbsp;d6</OPTION>
                            <OPTION value="1d8">&nbsp;d8</OPTION>
                            <OPTION value="1d10">d10</OPTION>
                            <OPTION value="1d12">d12</OPTION>
                        </SELECT>
                    </div> <!-- FIN JOKER -->
                    <div class="redtitle2 disp">ATTRIBUTS</div>
                    <input type="checkbox" name="attr_dispAttributs" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                    <div class="dispchk">
                        <div class="input"> <!-- AGILITE -->
                            <button type="roll"
                                name="Btrel-Agilite"
                                class="btRolrel"
                                value="@{relRollAGI}"
                                >AGILITÉ</button>
                            <button type="roll"
                                name="Btjet-Agilite"
                                class="btRoljet"
                                value="@{jetRollAGI}"
                                >AGILITÉ</button>
                            <button type="roll"
                                name="BtBrut-Agilite"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet d'Agilité&#010;/roll @{RollAGI}"
                                >AGILITÉ</button>
                            <SELECT name="attr_agilite_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_agilite_bonus" value="0"/>
                        </div> <!-- FIN AGILITE -->
                        <div class="input"> <!-- AME -->
                            <button type="roll"
                                name="Btrel-Ame"
                                class="btRolrel"
                                value="@{relRollAME}"
                                >ÂME</button>
                            <button type="roll"
                                name="Btjet-Ame"
                                class="btRoljet"
                                value="@{jetRollAME}"
                                >ÂME</button>
                            <button type="roll"
                                name="BtBrut-Ame"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet d'Âme&#010;/roll @{RollAME}"
                                >ÂME</button>
                            <SELECT name="attr_ame_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_ame_bonus" value="0" min="0"/>
                        </div> <!-- FIN AME -->
                        <div class="input"> <!-- FORCE -->
                            <button type="roll"
                                name="Btrel-Force"
                                class="btRolrel"
                                value="@{relRollFOR}"
                                >FORCE</button>
                            <button type="roll"
                                name="Btjet-Force"
                                class="btRoljet"
                                value="@{jetRollFOR}"
                                >FORCE</button>
                            <button type="roll"
                                name="BtBrut-Force"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Force&#010;/roll @{RollFOR}"
                                >FORCE</button>
                            <SELECT name="attr_force_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_force_bonus" value="0" min="0"/>
                        </div> <!-- FIN FORCE -->
                        <div class="input"> <!-- INTELLECT -->
                            <button type="roll"
                                name="Btrel-Intellect"
                                class="btRolrel"
                                value="@{relRollINT}"
                                >INTELLECT</button>
                            <button type="roll"
                                name="Btjet-Intellect"
                                class="btRoljet"
                                value="@{jetRollINT}"
                                >INTELLECT</button>
                            <button type="roll"
                                name="BtBrut-Intellect"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet d'Intelligence&#010;/roll @{RollINT}"
                                >INTELLECT</button>
                            <SELECT name="attr_intellect_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_intellect_bonus" value="0" min="0" />
                        </div> <!-- FIN INTELLECT -->
                        <div class="input"> <!-- VIGUEUR -->
                            <button type="roll"
                                name="Btrel-Vigueur"
                                class="btRolrel"
                                value="@{relRollVIG}"
                                >VIGUEUR</button>
                            <button type="roll"
                                name="Btjet-Vigueur"
                                class="btRoljet"
                                value="@{jetRollVIG}"
                                >VIGUEUR</button>
                            <button type="roll"
                                name="BtBrut-Vigueur"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Vigueur&#010;/roll @{RollVIG}"
                                >VIGUEUR</button>
                            <SELECT name="attr_vigueur_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_vigueur_bonus" value="0" min="0" />
                        </div> <!-- FIN VIGUEUR -->
                    </div>
                </div> <!-- FIN ATTRIBUTS -->
                <div> <!-- COMPETENCES -->
                    <div class="redtitle2 disp">COMPÉTENCES</div>
                    <input type="checkbox" name="attr_dispCompetences" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                    <div class="dispchk">
                        <div class="input"> <!-- NON ENTRAINE -->
                            <button type="roll"
                                    name="Btrel-Incomp"
                                    class="btRolrel"
                                    value="@{relRollIncomp}"
                                    >Non entraîné</button>
                            <button type="roll"
                                name="Btjet-Incomp"
                                class="btRoljet"
                                value="@{jetRollIncomp}"
                                >Non entraîné</button>
                            <button type="roll"
                                name="BtBrut-Incomp"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet non entraîné&#010;/roll @{RollIncomp}"
                                >Non entraîné</button>
                        </div> <!-- FIN NON ENTRAINE -->
                        <div class="input chkArcane"> <!-- ARCANES -->
                            <button type="roll"
                                name="Btrel-Arcane"
                                class="btRolrel"
                                value="@{relRollArcane}"
                                >&nbsp;</button>
                            <button type="roll"
                                name="Btjet-Arcane"
                                class="btRoljet"
                                value="@{jetRollArcane}"
                                >&nbsp;</button>
                            <button type="roll"
                                name="BtBrut-Arcane"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de @{arcane_nom}&#010;/roll @{RollArcane}"
                                >&nbsp;</button>
                            <input type="text" class="compspe" name="attr_arcane_nom" placeholder="ARCANES" value="ARCANES" title="Nom de la compétence d'Arcanes" />
                            <SELECT class="attcomptext"  name="attr_arcane_attr"  title="Attribut dont dépend la compétence d'Arcanes">
                                <OPTION value="agilite">(AGI)</OPTION>
                                <OPTION value="ame">(ÂME)</OPTION>
                                <OPTION value="force">(FOR)</OPTION>
                                <OPTION value="intellect" SELECTED>(INT)</OPTION>
                                <OPTION value="vigueur">(VIG)</OPTION>
                            </SELECT>
                            <SELECT name="attr_arcane_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_arcane_bonus" value="-2" min="-2" />
                        </div> <!-- FIN ARCANES -->
                        <div class="input chkCombat"> <!-- COMBAT -->
                            <button type="roll"
                                name="Btrel-Combat"
                                class="btRolrel"
                                value="@{relRollCombat}"
                                >Combat</button>
                            <button type="roll"
                                name="Btjet-Combat"
                                class="btRoljet"
                                value="@{jetRollCombat}"
                                >Combat</button>
                            <button type="roll"
                                name="BtBrut-Combat"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Combat&#010;/roll @{RollBastCombat}"
                                >Combat</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_combat_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_combat_bonus" value="-2" min="-2" />
                        </div> <!-- FIN COMBAT -->
                        <div class="input chkConduite"> <!-- CONDUITE -->
                            <button type="roll"
                                name="Btrel-Conduite"
                                class="btRolrel"
                                value="@{relRollConduite}"
                                >Conduite</button>
                            <button type="roll"
                                name="Btjet-Conduite"
                                class="btRoljet"
                                value="@{jetRollConduite}"
                                >Conduite</button>
                            <button type="roll"
                                name="BtBrut-Conduite"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Conduite&#010;/roll @{RollConduite}"
                                >Conduite</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_conduite_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_conduite_bonus" value="-2" min="-2" />
                        </div> <!-- FIN CONDUITE -->
                        <div class="input chkConnaissance"> <!-- CONNAISSANCE -->
                            <button type="roll"
                                name="Btrel-Connaissance"
                                class="btRolrel"
                                value="@{relRollConnaissance}"
                                title="Connaissance"
                                >&nbsp;</button>
                            <button type="roll"
                                name="Btjet-Connaissance"
                                class="btRoljet"
                                value="@{jetRollConnaissance}"
                                title="Connaissance"
                                >&nbsp;</button>
                            <button type="roll"
                                name="BtBrut-Connaissance"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de @{connaissance_nom}&#010;/roll @{RollConnaissance}"
                                title="Connaissance"
                                >&nbsp;</button>
                            <input type="text" class="compspe" name="attr_connaissance_nom" placeholder="Connaissance" value="Connaissance" title="Nom de la compétence de Connaissances" />
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_connaissance_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_connaissance_bonus" value="-2" min="-2" />
                        </div> <!-- FIN CONNAISSANCE -->
                        <div class="input chkCrochetage"> <!-- CROCHETAGE -->
                            <button type="roll"
                                name="Btrel-Crochetage"
                                class="btRolrel"
                                value="@{relRollCrochetage}"
                                >Crochetage</button>
                            <button type="roll"
                                name="Btjet-Crochetage"
                                class="btRoljet"
                                value="@{jetRollCrochetage}"
                                >Crochetage</button>
                            <button type="roll"
                                name="BtBrut-Crochetage"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Crochetage&#010;/roll @{RollCrochetage}"
                                >Crochetage</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_crochetage_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_crochetage_bonus" value="-2" min="-2" />
                        </div> <!-- FIN CROCHETAGE -->
                        <div class="input chkDiscretion"> <!-- DISCRÉTION -->
                            <button type="roll"
                                name="Btrel-Discretion"
                                class="btRolrel"
                                value="@{relRollDiscretion}"
                                >Discrétion</button>
                            <button type="roll"
                                name="Btjet-Discretion"
                                class="btRoljet"
                                value="@{jetRollDiscretion}"
                                >Discrétion</button>
                            <button type="roll"
                                name="BtBrut-Discretion"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Discrétion&#010;/roll @{RollDiscretion}"
                                >Discrétion</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_discretion_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_discretion_bonus" value="-2" min="-2" />
                        </div> <!-- FIN DISCRÉTION -->
                        <div class="input chkEquitation"> <!-- ÉQUITATION -->
                            <button type="roll"
                                name="Btrel-Equitation"
                                class="btRolrel"
                                value="@{relRollEquitation}"
                                >Équitation</button>
                            <button type="roll"
                                name="Btjet-Equitation"
                                class="btRoljet"
                                value="@{jetRollEquitation}"
                                >Équitation</button>
                            <button type="roll"
                                name="BtBrut-Equitation"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet d'Équitation&#010;/roll @{RollEquitation}"
                                >Équitation</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_equitation_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_equitation_bonus" value="-2" min="-2" />
                        </div> <!-- FIN ÉQUITATION -->
                        <div class="input chkEscalade"> <!-- ESCALADE -->
                            <button type="roll"
                                name="Btrel-Escalade"
                                class="btRolrel"
                                value="@{relRollEscalade}"
                                >Escalade</button>
                            <button type="roll"
                                name="Btjet-Escalade"
                                class="btRoljet"
                                value="@{jetRollEscalade}"
                                >Escalade</button>
                            <button type="roll"
                                name="BtBrut-Escalade"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet d'Escalade&#010;/roll @{RollEscalade}"
                                >Escalade</button>
                            <div class="attcomptext">FOR</div>
                            <SELECT name="attr_escalade_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_escalade_bonus" value="-2" min="-2" />
                        </div> <!-- FIN ESCALADE -->
                        <div class="input chkIntimidation"> <!-- INTIMIDATION -->
                            <button type="roll"
                                name="Btrel-Intimidation"
                                class="btRolrel"
                                value="@{relRollIntimidation}"
                                >Intimidation</button>
                            <button type="roll"
                                name="Btjet-Intimidation"
                                class="btRoljet"
                                value="@{jetRollIntimidation}"
                                >Intimidation</button>
                            <button type="roll"
                                name="BtBrut-Intimidation"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet d'Initmidation&#010;/roll @{RollIntimidation}"
                                >Intimidation</button>
                            <div class="attcomptext">ÂME</div>
                            <SELECT name="attr_intimidation_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_intimidation_bonus" value="-2" min="-2" />
                        </div> <!-- FIN INTIMIDATION -->
                        <div class="input chkJeu"> <!-- JEU -->
                            <button type="roll"
                                name="Btrel-Jeu"
                                class="btRolrel"
                                value="@{relRollJeu}"
                                >Jeu</button>
                            <button type="roll"
                                name="Btjet-Jeu"
                                class="btRoljet"
                                value="@{jetRollJeu}"
                                >Jeu</button>
                            <button type="roll"
                                name="BtBrut-Jeu"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Jeu&#010;/roll @{RollJeu}"
                                >Jeu</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_jeu_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_jeu_bonus" value="-2" min="-2" />
                        </div> <!-- FIN JEU -->
                        <div class="input chkLancer"> <!-- LANCER -->
                            <button type="roll"
                                name="Btrel-Lancer"
                                class="btRolrel"
                                value="@{relRollLancer}"
                                >Lancer</button>
                            <button type="roll"
                                name="Btjet-Lancer"
                                class="btRoljet"
                                value="@{jetRollLancer}"
                                >Lancer</button>
                            <button type="roll"
                                name="BtBrut-Lancer"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Lancer&#010;/roll @{RollBastLancer}"
                                >Lancer</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_lancer_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_lancer_bonus" value="-2" min="-2" />
                        </div> <!-- FIN LANCER -->
                        <div class="input chkNatation"> <!-- NATATION -->
                            <button type="roll"
                                name="Btrel-Natation"
                                class="btRolrel"
                                value="@{relRollNatation}"
                                >Natation</button>
                            <button type="roll"
                                name="Btjet-Natation"
                                class="btRoljet"
                                value="@{jetRollNatation}"
                                >Natation</button>
                            <button type="roll"
                                name="BtBrut-Natation"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Natation&#010;/roll @{RollNatation}"
                                >Natation</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_natation_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_natation_bonus" value="-2" min="-2" />
                        </div> <!-- FIN NATATION -->
                        <div class="input chkNavigation"> <!-- NAVIGATION -->
                            <button type="roll"
                                name="Btrel-Navigation"
                                class="btRolrel"
                                value="@{relRollNavigation}"
                                >Navigation</button>
                            <button type="roll"
                                name="Btjet-Navigation"
                                class="btRoljet"
                                value="@{jetRollNavigation}"
                                >Navigation</button>
                            <button type="roll"
                                name="BtBrut-Navigation"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Navigation&#010;/roll @{RollNavigation}"
                                >Navigation</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_navigation_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_navigation_bonus" value="-2" min="-2" />
                        </div> <!-- FIN NAVIGATION -->
                        <div class="input chkPerception"> <!-- PERCEPTION -->
                            <button type="roll"
                                name="Btrel-Perception"
                                class="btRolrel"
                                value="@{relRollPerception}"
                                >Perception</button>
                            <button type="roll"
                                name="Btjet-Perception"
                                class="btRoljet"
                                value="@{jetRollPerception}"
                                >Perception</button>
                            <button type="roll"
                                name="BtBrut-Perception"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Perception&#010;/roll @{RollPerception}"
                                >Perception</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_perception_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_perception_bonus" value="-2" min="-2" />
                        </div> <!-- FIN PERCEPTION -->
                        <div class="input chkPersuasion"> <!-- PERSUASION -->
                            <button type="roll"
                                name="Btrel-Persuasion"
                                class="btRolrel"
                                value="@{relRollPersuasion}"
                                >Persuasion</button>
                            <button type="roll"
                                name="Btjet-Persuasion"
                                class="btRoljet"
                                value="@{jetRollPersuasion}"
                                >Persuasion</button>
                            <button type="roll"
                                name="BtBrut-Persuasion"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Persuasion&#010;/roll @{RollPersuasion}"
                                >Persuasion</button>
                            <div class="attcomptext">ÂME</div>
                            <SELECT name="attr_persuasion_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_persuasion_bonus" value="-2" min="-2" />
                        </div> <!-- FIN PERSUASION -->
                        <div class="input chkPilotage"> <!-- PILOTAGE -->
                            <button type="roll"
                                name="Btrel-Pilotage"
                                class="btRolrel"
                                value="@{relRollPilotage}"
                                >Pilotage</button>
                            <button type="roll"
                                name="Btjet-Pilotage"
                                class="btRoljet"
                                value="@{jetRollPilotage}"
                                >Pilotage</button>
                            <button type="roll"
                                name="BtBrut-Pilotage"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Pilotage&#010;/roll @{RollPilotage}"
                                >Pilotage</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_pilotage_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_pilotage_bonus" value="-2" min="-2" />
                        </div> <!-- FIN PILOTAGE -->
                        <div class="input chkPistage"> <!-- PISTAGE -->
                            <button type="roll"
                                name="Btrel-Pistage"
                                class="btRolrel"
                                value="@{relRollPistage}"
                                >Pistage</button>
                            <button type="roll"
                                name="Btjet-Pistage"
                                class="btRoljet"
                                value="@{jetRollPistage}"
                                >Pistage</button>
                            <button type="roll"
                                name="BtBrut-Pistage"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Pistage&#010;/roll @{RollPistage}"
                                >Pistage</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_pistage_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_pistage_bonus" value="-2" min="-2" />
                        </div> <!-- FIN PISTAGE -->
                        <div class="input chkRecherche"> <!-- RECHERCHE -->
                            <button type="roll"
                                name="Btrel-Recherche"
                                class="btRolrel"
                                value="@{relRollRecherche}"
                                >Recherche</button>
                            <button type="roll"
                                name="Btjet-Recherche"
                                class="btRoljet"
                                value="@{jetRollRecherche}"
                                >Recherche</button>
                            <button type="roll"
                                name="BtBrut-Recherche"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Recherche&#010;/roll @{RollRecherche}"
                                >Recherche</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_recherche_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_recherche_bonus" value="-2" min="-2" />
                        </div> <!-- FIN RECHERCHE -->
                        <div class="input chkReparation"> <!-- RÉPARATION -->
                            <button type="roll"
                                name="Btrel-Reparation"
                                class="btRolrel"
                                value="@{relRollReparation}"
                                >Réparation</button>
                            <button type="roll"
                                name="Btjet-Reparation"
                                class="btRoljet"
                                value="@{jetRollReparation}"
                                >Réparation</button>
                            <button type="roll"
                                name="BtBrut-Reparation"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Réparation&#010;/roll @{RollReparation}"
                                >Réparation</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_reparation_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_reparation_bonus" value="-2" min="-2" />
                        </div> <!-- FIN RÉPARATION -->
                        <div class="input chkReseaux"> <!-- RÉSEAUX -->
                            <button type="roll"
                                name="Btrel-Reseaux"
                                class="btRolrel"
                                value="@{relRollReseaux}"
                                >Réseaux</button>
                            <button type="roll"
                                name="Btjet-Reseaux"
                                class="btRoljet"
                                value="@{jetRollReseaux}"
                                >Réseaux</button>
                            <button type="roll"
                                name="BtBrut-Reseaux"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Réseaux&#010;/roll @{RollReseaux}"
                                >Réseaux</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_reseaux_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_reseaux_bonus" value="-2" min="-2" />
                        </div> <!-- FIN RÉSEAUX -->
                        <div class="input chkSarcasme"> <!-- SARCASME -->
                            <button type="roll"
                                name="Btrel-Sarcasme"
                                class="btRolrel"
                                value="@{relRollSarcasme}"
                                >Sarcasme</button>
                            <button type="roll"
                                name="Btjet-Sarcasme"
                                class="btRoljet"
                                value="@{jetRollSarcasme}"
                                >Sarcasme</button>
                            <button type="roll"
                                name="BtBrut-Sarcasme"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Sarcasme&#010;/roll @{RollSarcasme}"
                                >Sarcasme</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_sarcasme_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_sarcasme_bonus" value="-2" min="-2" />
                        </div> <!-- FIN SARCASME -->
                        <div class="input chkSoins"> <!-- SOINS -->
                            <button type="roll"
                                name="Btrel-Soins"
                                class="btRolrel"
                                value="@{relRollSoins}"
                                >Soins</button>
                            <button type="roll"
                                name="Btjet-Soins"
                                class="btRoljet"
                                value="@{jetRollSoins}"
                                >Soins</button>
                            <button type="roll"
                                name="BtBrut-Soins"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Soins&#010;/roll @{RollSoins}"
                                >Soins</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_soins_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_soins_bonus" value="-2" min="-2" />
                        </div> <!-- FIN SOINS -->
                        <div class="input chkSurvie"> <!-- SURVIE -->
                            <button type="roll"
                                name="Btrel-Survie"
                                class="btRolrel"
                                value="@{relRollSurvie}"
                                >Survie</button>
                            <button type="roll"
                                name="Btjet-Survie"
                                class="btRoljet"
                                value="@{jetRollSurvie}"
                                >Survie</button>
                            <button type="roll"
                                name="BtBrut-Survie"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Survie&#010;/roll @{RollSurvie}"
                                >Survie</button>
                            <div class="attcomptext">INT</div>
                            <SELECT name="attr_survie_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_survie_bonus" value="-2" min="-2" />
                        </div> <!-- FIN SURVIE -->
                        <div class="input chkTir"> <!-- TIR -->
                            <button type="roll"
                                name="Btrel-Tir"
                                class="btRolrel"
                                value="@{relRollTir}"
                                >Tir</button>
                            <button type="roll"
                                name="Btjet-Tir"
                                class="btRoljet"
                                value="@{jetRollTir}"
                                >Tir</button>
                            <button type="roll"
                                name="BtBrut-Tir"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Tir&#010;/roll @{RollBastTir}"
                                >Tir</button>
                            <div class="attcomptext">AGI</div>
                            <SELECT name="attr_tir_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_tir_bonus" value="-2" min="-2" />
                        </div> <!-- FIN TIR -->
                        <div class="input SheetDead"> <!-- TRIPES -->
                            <button type="roll"
                                name="Btrel-Tripes"
                                class="btRolrel"
                                value="@{relRollTripes}"
                                >Tripes</button>
                            <button type="roll"
                                name="Btjet-Tripes"
                                class="btRoljet"
                                value="@{jetRollTripes}"
                                >Tripes</button>
                            <button type="roll"
                                name="BtBrut-Tripes"
                                class="btRolbrut"
                                value="/em @{character_name} fait un jet de Tripes&#010;/roll @{RollTripes}"
                                >Tripes</button>
                            <div class="attcomptext">ÂME</div>
                            <SELECT name="attr_tripes_de" class="selde">
                                <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                <OPTION value="6">&nbsp;d6</OPTION>
                                <OPTION value="8">&nbsp;d8</OPTION>
                                <OPTION value="10">d10</OPTION>
                                <OPTION value="12">d12</OPTION>
                            </SELECT>
                            +<input type="number" class="selde" name="attr_tripes_bonus" value="-2" min="-2" />
                        </div> <!-- FIN TRIPES -->
                        <fieldset class="repeating_competences"> <!-- COMPETENCE (S) LIBRE(S) -->
                            <div class="input">
                                <button type="roll"
                                    name="Btrel-Competence"
                                    class="btRolrel"
                                    value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{comp_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{relances=[[  { floor( ( { { 1d@{comp_de}!![@{comp_nom}],@{joker_de}!![Joker]}kh1 + (@{comp_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur] } ) /(?{Difficulté|4})[Difficulté]), 0d0 }kh1 ]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}"
                                    >&nbsp;</button>
                                <button type="roll"
                                    name="Btjet-Competence"
                                    class="btRoljet"
                                    value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{comp_nom}}} {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{jet=[[{ 1d@{comp_de}!![@{comp_nom}],@{joker_de}!![Joker]}kh1 + (@{comp_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}}"
                                    >&nbsp;</button>
                                <button type="roll"
                                    name="BtBrut-Competence"
                                    class="btRolbrut"
                                    value="/em @{character_name} fait un jet de @{comp_nom}&#010;/roll { 1d@{comp_de}!![@{comp_nom}],@{joker_de}!![Joker]}kh1 + (@{comp_bonus})[Bonus] - @{malusblessures}[Blessures] - @{malusfatigue}[Fatigue] + (?{Modificateur|0})[Modificateur]"
                                    >&nbsp;</button>
                                <input type="text" class="compspe" name="attr_comp_nom" placeholder="Compétence" title="Nom de la compétence" />
                                <SELECT class="attcomptext"  name="attr_comp_att"  title="Attribut dont dépend la compétence">
                                    <OPTION value="agilite" SELECTED>(AGI)</OPTION>
                                    <OPTION value="ame">(ÂME)</OPTION>
                                    <OPTION value="force">(FOR)</OPTION>
                                    <OPTION value="intellect">(INT)</OPTION>
                                    <OPTION value="vigueur">(VIG)</OPTION>
                                </SELECT>
                                <SELECT name="attr_comp_de" class="selde">
                                    <OPTION value="4" SELECTED>&nbsp;d4</OPTION>
                                    <OPTION value="6">&nbsp;d6</OPTION>
                                    <OPTION value="8">&nbsp;d8</OPTION>
                                    <OPTION value="10">d10</OPTION>
                                    <OPTION value="12">d12</OPTION>
                                </SELECT>
                                +<input type="number" class="selde" name="attr_comp_bonus" value="0" />
                            </div>
                        </fieldset> <!-- COMPETENCE (S) LIBRE(S) -->
                    </div>
                </div> <!-- FIN COMPETENCES -->
            </div> <!-- FIN TRAITS -->
        </div> <!-- ** END COL1 ** -->
        <div class="mycol"> <!-- ** COL2 ** -->
            <div class="logo">
                <div class="SheetSaWo" style="text-align:center;">
                    <img style="width: 200px;" src="https://www.peginc.com/wp-content/uploads/2013/02/SW_LOGO_24bit.png" />
                </div>
                <div class="SheetDead" style="text-align:center;">
                    <img style="width: 265px;" src="https://www.peginc.com/wp-content/uploads/2013/02/DL.png" />
                </div>
            </div>
            <div class="colblock"> <!-- DEGATS -->
                <div style="text-align: left;">
                    <div class="redtitle1" style="display: inline-block;">DÉGÂTS</div>
                    <div class="redtitle3" style="text-align: right;width:100px;">SECOUÉ : </div>
                    <input type="checkbox" class="secoue" name="attr_secoue" value='1' title="Secoué" /><span></span>
                </div>
                <div style="height: 30px;">
                    <div class="redtitle3" style="width:80px;">BLESSURES</div>
                    <input type="radio" class="blessure" name="attr_blessures" value="0" title="Pas de blessure" checked /><span>0</span>
                    <input type="radio" class="blessure" name="attr_blessures" value="1" title="Une blessure" /><span>1</span>
                    <input type="radio" class="blessure noextra" name="attr_blessures" value="2" title="Deux blessures" /><span class="noextra">2</span>
                    <input type="radio" class="blessure noextra" name="attr_blessures" value="3" title="Trois blessures" /><span class="noextra">3</span>
                    <input type="radio" class="blessure noextra" name="attr_blessures" value="4" title="État critique" /><span  class="noextra" style="font-family: pictos;font-weight:bold;font-size:2em;">Y</span>
                </div>
                <div style="height: 30px;">
                    <div class="redtitle3" style="width:80px;">FATIGUE</div>
                    <input type="radio" class="blessure" name="attr_fatigue" value="0" title="Pas de de fatigue" checked /><span>0</span>
                    <input type="radio" class="blessure" name="attr_fatigue" value="1" title="Un niveau de Fatigue" /><span>1</span>
                    <input type="radio" class="blessure" name="attr_fatigue" value="2" title="Deux niveaux de Fatigue" /><span>2</span>
                    <input type="radio" class="blessure" name="attr_fatigue" value="3" title="État critique" /><span style="font-family: pictos;font-weight:bold;font-size:2em;">Y</span>
                </div>
            </div> <!-- FIN DEGATS -->
            <div class="colblock"> <!-- Carac dérivées -->
                <div class="redtitle1 disp">CARAC. D&Eacute;RIV&Eacute;ES</div>
                <input type="checkbox" name="attr_dispDerivees" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                <div class="dispchk">
                    <div class="input">
                        <div class="comptext">ALLURE</div>
                        <input type="number" name="attr_allure_base" value="6" title="Valeur d'allure de base" />
                        +<input type="number" name="attr_allure_bonus" value="0" title="Bonus d'allure"/>
                        =<input type="number" name="attr_allure" value="[[@{allure_base}+(@{allure_bonus})-@{blessures}]]" title="allure totale" disabled />
                    </div>
                    <div class="input">
                        <div class="comptext">CHARISME</div>
                        <input type="number" name="attr_charisme_base" value="0" title="Valeur de charisme de base" />
                        +<input type="number" name="attr_charisme_bonus" value="0" title="Bonus de charisme"/>
                        =<input type="number" name="attr_charisme" value="0" title="Charisme totale" readonly />
                    </div>
                    <div class="input">
                        <div class="comptext">PARADE</div>
                        <input type="number" name="attr_parade_base" value="3" title="Valeur de parade de base" readonly />
                        +<input type="number" name="attr_parade_bonus" value="0" title="Bonus de parade"/>
                        =<input type="number" name="attr_parade" value="3" title="Parade totale" readonly />
                    </div>
                    <div class="input">
                        <div class="comptext">R&Eacute;SISTANCE</div>
                        <input type="number" name="attr_resistance_base" value="4" title="Valeur de Résistance de base" readonly />
                        +<input type="number" name="attr_resistance_bonus" value="0" title="Armure (torse) et autres bonus de vigueur"/>
                        =<input type="number" name="attr_resistance" value="4" title="Résistance totale" readonly />
                    </div>
                    <div class="input SheetDead">
                        <div class="comptext">TREMPE</div>
                        <input type="number" name="attr_trempe_base" value="0" title="Valeur de Trempe de base (Rang)" />
                        +<input type="number" name="attr_trempe_bonus" value="0" title="Bonus de Trempe"/>
                        =<input type="number" name="attr_trempe" value="[[@{trempe_base}+(@{trempe_bonus})]]" title="Trempe totale" disabled />
                    </div>
                    <div class="input">
                        <div class="comptext">Pts POUVOIR</div>
                        <input type="number" name="attr_pointspouvoir" value="0" title="Points de Pouvoir courants" />
                        /
                        <input type="number" name="attr_pointspouvoir_max" value="0" title="Points de Pouvoir maximum"/>
                    </div>
                </div>
            </div> <!-- FIN Carac dérivées -->
            <div class="colblock chkPossessions"> <!-- EQUIPEMENT -->
                <div class="redtitle1 disp">POSSESSIONS</div>
                <input type="checkbox" name="attr_dispPossessions" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                <div class="dispchk">
                    <div class="redtitle2 disp">ARGENT</div>
                    <input type="checkbox" name="attr_argentdisplay" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                    <textarea name="attr_argent" class="textdesc" style="width: 175px;" placeholder="Argent & Richesses" title="Argent & Richesses"></textarea>
                    <div class="input">
                        <div class="blacktext2">Encombrement maximum :&nbsp;</div>
                        <input type="number" name="attr_encombmax" value="10" readonly />
                        kg
                    </div>
                    <div class="input">
                        <div class="blacktext2">Encombrement :&nbsp;</div>
                        <input type="number" name="attr_encombpoids" min="0" value="0" title="Poids total porté en kg" readonly />
                        &nbsp;Malus&nbsp;:
                        <input type="number" name="attr_encombrement" value="0" title="Malus d'encombrement à tous les jets d’Agilité et de Force, ainsi qu’à tous les jets de Compétences liées à ces deux Attributs" readonly />
                    </div>
                    <div>
                        <div class="redtitle2" style="display: inline-block;width: 140px;">&Eacute;QUIPEMENT</div>
                        <div class="blacktext1" style="width: 35px;">Qté</div>
                        <div class="blacktext1" style="width: 35px;">Poids</div>
                        <div class="blacktext1" style="width: 35px;">Tot.</div>
                    </div>
                    <fieldset class="repeating_equipements">
                        <div class="input">
                            <input type="text" style="width: 145px;" name="attr_equipnom" placeholder="&Eacute;quipement" title="Nom de l'équipement" />
                            <input type="number" style="width: 35px;" name="attr_equipqte" value="1" min="0" title="Quantité" />
                            <input type="number" style="width: 35px;" name="attr_equippdsunit" value="0" min="0" title="Poids unitaire" />
                            <input type="number" style="width: 35px;text-align:right" name="attr_equippoids" value="0" min="0" title="Poids total de l'équipement" readonly />
                        </div>
                    </fieldset>
                </div>
            </div><!-- FIN EQUIPEMENT -->
        </div> <!-- ** END COL2 ** -->
        <div class="mycol"> <!-- ** COL3 ** -->
            <div class="colblock nopnj">
                <div class="redtitle1">PERSONNAGE</div>
                <div class="input"><input type="text" name="attr_character_name" class="charname" placeholder="Nom" /></div>
                <div class="redtitle1 disp">DESCRIPTION</div>
                <input type="checkbox" name="attr_dispPerso" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                <div class="dispchk">
                    <div class="input"><div class="blacktext1" style="width:60px;">Pseudo :&nbsp;</div><input type="text" name="attr_pseudo" style="width:205px;" /></div>
                    <div class="input">
                        <div class="blacktext1" style="width:50px;">Taille :&nbsp;</div><input type="text" name="attr_taille" style="width:70px;" />
                        <div class="blacktext1" style="width:50px;">Poids :&nbsp;</div><input type="text" name="attr_poids" style="width:70px;" />
                    </div>
                    <div class="input">
                        <div class="blacktext1" style="width:50px;">Sexe :&nbsp;</div><input type="text" name="attr_sexe" style="width:70px;" />
                        <div class="blacktext1" style="width:50px;">Âge :&nbsp;</div><input type="text" name="attr_age" style="width:70px;" />
                    </div>
                    <div class="blacktext1">Signes particuliers : </div>
                    <div class="input">
                        <input type="checkbox" name="attr_signedisplay" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                        <textarea name="attr_signe" class="textdesc" style="width: 246px;" placeholder="Signes particuliers" title="Signes particuliers"></textarea>
                    </div>
                </div>
            </div>
            <div class="colblock pnj">
                <div class="redtitle1 disp"><div class="extra">PNJ (Extra)</div><div class="noextra">PNJ (Joker)</div></div>
                <input type="checkbox" name="attr_dispPerso" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                <div class="dispchk">
                    <div class="input"><input type="text" name="attr_character_name" class="charname" placeholder="Nom" /></div>
                    <div class="input">
                        <div class="blacktext1" style="width:50px;">Taille :&nbsp;</div><input type="text" name="attr_taille" style="width:70px;" />
                    </div>
                </div>
            </div>
            <div class="colblock">
                <div class="redtitle1 disp"><div class="nopnj">ATOUTS &amp; HANDICAPS</div><div class="pnj">APTITUDES</div></div>
                <input type="checkbox" name="attr_dispAtouts" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                <div class="dispchk">
                    <div> <!-- ATOUTS -->
                        <div class="redtitle2"><div class="nopnj">ATOUTS</div><div class="pnj">APTITUDES (+)</div></div>
                        <fieldset class="repeating_atouts"> <!-- ATOUTS -->
                            <div class="input">
                                <input type="checkbox" name="attr_atoutdisplay" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                                <textarea name="attr_atout" class="textdesc" style="width: 244px;" placeholder="Atout" title="Atout"></textarea>
                            </div>
                        </fieldset>
                    </div> <!-- FIN ATOUTS -->
                    <div> <!-- HANDICAPS -->
                        <div class="redtitle2"><div class="nopnj">HANDICAPS</div><div class="pnj">APTITUDES (-)</div></div>
                        <fieldset class="repeating_handicaps"> <!-- ATOUTS -->
                            <div class="input">
                                <input type="checkbox" name="attr_handicapdisplay" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                                <textarea name="attr_handicap" class="textdesc" style="width: 244px;" placeholder="Handicap" title="Handicap"></textarea>
                            </div>
                        </fieldset>
                    </div> <!-- FIN HANDICAPS -->
                </div>
            </div>
            <div class="colblock nopnj">
                <div class="redtitle1 disp">PROGRESSION</div>
                <div class="blacktext2">XP</div>
                <input type="number" name="attr_xp" min="0" value="0" title="Points d'expérience non dépensés" />
                <input type="checkbox" name="attr_dispXp" class="dispchk" title="Afficher/masquer le contenu" checked /><span class="dispchk">E</span>
                <div class="dispchk">
                    <div class="input"><div class="blacktext2" style="width:70px;">5</div><input type="text" style="width:195px;" name="attr_progres05" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">10</div><input type="text" style="width:195px;" name="attr_progres10" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">15</div><input type="text" style="width:195px;" name="attr_progres15" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">Aguerri</div><input type="text" style="width:195px;" name="attr_progres20" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">25</div><input type="text" style="width:195px;" name="attr_progres25" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">30</div><input type="text" style="width:195px;" name="attr_progres30" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">35</div><input type="text" style="width:195px;" name="attr_progres35" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">Vétéran</div><input type="text" style="width:195px;" name="attr_progres40" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">45</div><input type="text" style="width:195px;" name="attr_progres45" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">50</div><input type="text" style="width:195px;" name="attr_progres50" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">55</div><input type="text" style="width:195px;" name="attr_progres55" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">Héroïque</div><input type="text" style="width:195px;" name="attr_progres60" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">65</div><input type="text" style="width:195px;" name="attr_progres65" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">70</div><input type="text" style="width:195px;" name="attr_progres70" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">75</div><input type="text" style="width:195px;" name="attr_progres75" /></div>
                    <div class="input"><div class="blacktext2" style="width:70px;">Légendaire</div><input type="text" style="width:195px;" name="attr_progres80" /></div>
                </div>
            </div>
        </div> <!-- ** END COL3 ** -->
        <div class="colblock"> <!-- ** ARMES ** -->
            <div>
                <div class="redtitle1 disp" style="margin-left: 0px;width: 150px;">ARMES</div>
                <div class="redtitle3" style="width: 60px;">Compét.</div>
                <div class="redtitle3" style="width: 145px;">Dégâts</div>
                <div class="redtitle3" style="width: 98px;">Portée</div>
                <div class="redtitle3" style="width: 35px;">CdT</div>
                <div class="redtitle3" style="width: 80px;">Munitions</div>
                <div class="redtitle3" style="width: 35px;">PA</div>
                <div class="redtitle3" style="width: 150px;">Notes</div>
            </div>
            <div class="input"> <!-- ARME FIXE 1 -->
                <button type="roll"
                    name="Btrel-Arme1"
                    class="btRolrel"
                    value="@{relRollArmeFixe1}"
                    title="Arme N°1"
                    >&nbsp;</button>
                <button type="roll"
                    name="Btjet-Arme1"
                    class="btRoljet"
                    value="@{jetRollArmeFixe1}"
                    title="Arme N°1"
                    >&nbsp;</button>
                <button type="roll"
                    name="BtBrut-Arme1"
                    class="btRolbrut"
                    value="/em @{character_name} attaque avec @{arme1_nom}:&#010;/roll @{arme1_comp_brut}&#010;Dégâts :&#010;/roll @{jetRollArmeFixe1Dgt}&#010;Dégâts supplémentaires si relance : [[1d6!!]]"
                    title="Arme N°1"
                    >&nbsp;</button>
                <input type="text" class="compspe"  name="attr_arme1_nom" placeholder="Nom de l'arme n°1" title="Nom de l'arme n°1" />
                <SELECT name="attr_arme1_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                    <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                    <OPTION value="Combat">Combat</OPTION>
                    <OPTION value="Lancer">Lancer</OPTION>
                    <OPTION value="Tir">Tir</OPTION>
                    <OPTION value="Arcane">Arcane</OPTION>
                </SELECT>
                <input type="hidden" name="attr_arme1_comp_rel" value="0" />
                <input type="hidden" name="attr_arme1_comp_jet" value="0" />
                <input type="hidden" name="attr_arme1_comp_brut" value="0" />
                <SELECT name="attr_arme1_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                    <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                    <OPTION value="0d4">_</OPTION>
                </SELECT>+<input name="attr_arme1_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
                <SELECT name="attr_arme1_dgt_de" class="selde" title="Dé de dégâts">
                    <OPTION value="4" SELECTED>d4</OPTION>
                    <OPTION value="6">d6</OPTION>
                    <OPTION value="8">d8</OPTION>
                    <OPTION value="10">d10</OPTION>
                    <OPTION value="12">d12</OPTION>
                </SELECT>+<input name="attr_arme1_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" title="Bonus aux dégâts" />
                <input name="attr_arme1_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
                <input name="attr_arme1_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
                <input name="attr_arme1_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_arme1_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
                <input name="attr_arme1_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
                <input type="checkbox" name="attr_arme1display" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                <textarea name="attr_arme1_notes" class="textdesc" style="width: 171px;" placeholder="Notes" title="Notes sur l'arme"></textarea>
            </div> <!-- FIN ARME FIXE 1 -->
            <div class="input"> <!-- ARME FIXE 2 -->
                <button type="roll"
                    name="Btrel-Arme2"
                    class="btRolrel"
                    value="@{relRollArmeFixe2}"
                    title="Attaque Arme n°2"
                    >&nbsp;</button>
                <button type="roll"
                    name="Btjet-Arme2"
                    class="btRoljet"
                    value="@{jetRollArmeFixe2}"
                    title="Attaque Arme n°2"
                    >&nbsp;</button>
                <button type="roll"
                    name="BtBrut-Arme2"
                    class="btRolbrut"
                    value="/em @{character_name} Attaque avec @{arme2_nom}:&#010;/roll @{arme2_comp_brut}&#010;Dégâts :&#010;/roll @{jetRollArmeFixe2Dgt}&#010;Dégâts supplémentaires si relance : [[1d6!!]]"
                    title="Attaque Arme n°2"
                    >&nbsp;</button>
                <input type="text" class="compspe"  name="attr_arme2_nom" placeholder="Nom de l'arme n°2" title="Nom de l'arme n°2" />
                <SELECT name="attr_arme2_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                    <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                    <OPTION value="Combat">Combat</OPTION>
                    <OPTION value="Lancer">Lancer</OPTION>
                    <OPTION value="Tir">Tir</OPTION>
                    <OPTION value="Arcane">Arcane</OPTION>
                </SELECT>
                <input type="hidden" name="attr_arme2_comp_rel" value="0" />
                <input type="hidden" name="attr_arme2_comp_jet" value="0" />
                <input type="hidden" name="attr_arme2_comp_brut" value="0" />
                <SELECT name="attr_arme2_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                    <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                    <OPTION value="0d4">_</OPTION>
                </SELECT>+<input name="attr_arme2_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
                <SELECT name="attr_arme2_dgt_de" class="selde" title="Dé de dégâts">
                    <OPTION value="4" SELECTED>d4</OPTION>
                    <OPTION value="6">d6</OPTION>
                    <OPTION value="8">d8</OPTION>
                    <OPTION value="10">d10</OPTION>
                    <OPTION value="12">d12</OPTION>
                </SELECT>+<input name="attr_arme2_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" title="Bonus aux dégâts" />
                <input name="attr_arme2_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
                <input name="attr_arme2_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
                <input name="attr_arme2_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_arme2_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
                <input name="attr_arme2_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
                <input type="checkbox" name="attr_arme2display" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                <textarea name="attr_arme2_notes" class="textdesc" style="width: 171px;" placeholder="Notes" title="Notes sur l'arme"></textarea>
            </div> <!-- FIN ARME FIXE 2 -->
            <div class="input"> <!-- ARME FIXE 3 -->
                <button type="roll"
                    name="Btrel-Arme3"
                    class="btRolrel"
                    value="@{relRollArmeFixe3}"
                    title="Attaque Arme n°3"
                    >&nbsp;</button>
                <button type="roll"
                    name="Btjet-Arme3"
                    class="btRoljet"
                    value="@{jetRollArmeFixe3}"
                    title="Attaque Arme n°3"
                    >&nbsp;</button>
                <button type="roll"
                    name="BtBrut-Arme3"
                    class="btRolbrut"
                    value="/em @{character_name} Attaque avec @{arme3_nom}:&#010;/roll @{arme3_comp_brut}&#010;Dégâts :&#010;/roll @{jetRollArmeFixe3Dgt}&#010;Dégâts supplémentaires si relance : [[1d6!!]]"
                    title="Attaque Arme n°3"
                    >&nbsp;</button>
                <input type="text" class="compspe"  name="attr_arme3_nom" placeholder="Nom de l'arme n°3" title="Nom de l'arme n°3" />
                <SELECT name="attr_arme3_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                    <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                    <OPTION value="Combat">Combat</OPTION>
                    <OPTION value="Lancer">Lancer</OPTION>
                    <OPTION value="Tir">Tir</OPTION>
                    <OPTION value="Arcane">Arcane</OPTION>
                </SELECT>
                <input type="hidden" name="attr_arme3_comp_rel" value="0" />
                <input type="hidden" name="attr_arme3_comp_jet" value="0" />
                <input type="hidden" name="attr_arme3_comp_brut" value="0" />
                <SELECT name="attr_arme3_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                    <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                    <OPTION value="0d4">_</OPTION>
                </SELECT>+<input name="attr_arme3_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
                <SELECT name="attr_arme3_dgt_de" class="selde" title="Dé de dégâts">
                    <OPTION value="4" SELECTED>d4</OPTION>
                    <OPTION value="6">d6</OPTION>
                    <OPTION value="8">d8</OPTION>
                    <OPTION value="10">d10</OPTION>
                    <OPTION value="12">d12</OPTION>
                </SELECT>+<input name="attr_arme3_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" title="Bonus aux dégâts" />
                <input name="attr_arme3_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
                <input name="attr_arme3_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
                <input name="attr_arme3_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_arme3_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
                <input name="attr_arme3_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
                <input type="checkbox" name="attr_arme3display" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                <textarea name="attr_arme3_notes" class="textdesc" style="width: 171px;" placeholder="Notes" title="Notes sur l'arme"></textarea>
            </div> <!-- FIN ARME FIXE 3 -->
            <fieldset class="repeating_armes">
                <div class="input"> <!-- ARME DYNAMIQUE -->
                    <button type="roll"
                        name="Btrel-ArmeD"
                        class="btRolrel"
                        value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{armeD_nom}}}  {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{relances=[[ @{armeD_comp_rel} ]]}} {{degatsrel=[[ { floor( ( @{armeD_dgt_force} + @{armeD_dgt_nbde}d@{armeD_dgt_de}!!+(@{armeD_dgt_bonus})[Dégâts : arme]  + (?{Mod. dégâts|0})[Modificateur aux dégâts] - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 ]]}} {{degatsrelplus=[[ { floor( ( @{armeD_dgt_force} + @{armeD_dgt_nbde}d@{armeD_dgt_de}!!+(@{armeD_dgt_bonus})[Dégâts : arme] + 1d6!!  + (?{Mod. dégâts|0})[Modificateur aux dégâts] - (@{cibleresistance}[Résistance] - 4 ) ) /4), 0d0 }kh1 ]]}} {{atkcible=[[@{atkcible}]]}} {{cible=@{atknom}}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{armeD_comp}}}"
                        title="Attaque"
                        >&nbsp;</button>
                    <button type="roll"
                        name="Btjet-ArmeD"
                        class="btRoljet"
                        value="&{template:sawo} {{etat=[[@{templateetat}]]}} {{name=@{armeD_nom}}}  {{perso=@{character_name}}} {{secoue=[[@{secoue}]]}} {{attaque=1}} {{jet=[[ @{armeD_comp_jet} ]]}} {{degats=[[  @{armeD_dgt_force} + @{armeD_dgt_nbde}d@{armeD_dgt_de}!!+(@{armeD_dgt_bonus})[Dégâts : arme] + (?{Mod. dégâts|0})[Modificateur aux dégâts] ]]}} {{degatsplus=[[1d6!!]]}} {{blessures=[[@{blessures}]]}} {{fatigue=[[@{fatigue}]]}} {{encombrement=[[@{encombrement}]]}} {{competence=@{armeD_comp}}}"
                        title="Attaque"
                        >&nbsp;</button>
                    <button type="roll"
                        name="BtBrut-ArmeD"
                        class="btRolbrut"
                        value="/em @{character_name} Attaque avec @{armeD_nom}:&#010;/roll @{armeD_comp_brut}&#010;Dégâts :&#010;/roll @{armeD_dgt_force} + @{armeD_dgt_nbde}d@{armeD_dgt_de}!!+(@{armeD_dgt_bonus})[Dégâts : arme] + (?{Mod. dégâts|0})[Modificateur aux dégâts]&#010;Dégâts supplémentaires si relance : [[1d6!!]]"
                        title="Attaque"
                        >&nbsp;</button>
                    <input type="text" class="compspe"  name="attr_armeD_nom" placeholder="Nom de l'arme" title="Nom de l'arme" />
                    <SELECT name="attr_armeD_comp" style="width: 55px;margin-left:3px;margin-right:3px;" title="Compétence utilisée avec cette arme">
                        <OPTION value="0" SELECTED> - Choisir une compétence :</OPTION>
                        <OPTION value="Combat">Combat</OPTION>
                        <OPTION value="Lancer">Lancer</OPTION>
                        <OPTION value="Tir">Tir</OPTION>
                        <OPTION value="Arcane">Arcane</OPTION>
                    </SELECT>
                    <input type="hidden" name="attr_armeD_comp_rel" value="0" />
                    <input type="hidden" name="attr_armeD_comp_jet" value="0" />
                    <input type="hidden" name="attr_armeD_comp_brut" value="0" />
                    <SELECT name="attr_armeD_dgt_force" style="width:35px;" title="Application de la Force aux dégâts (Combat et Lancer)">
                        <OPTION value="@{RollBastForce}" SELECTED>FORCE</OPTION>
                        <OPTION value="0d4">_</OPTION>
                    </SELECT>+<input name="attr_armeD_dgt_nbde" style="width:30px;" type="number" value="1" min="0" title="Nombre de dés de dégâts" />
                    <SELECT name="attr_armeD_dgt_de" class="selde" title="Dé de dégâts">
                        <OPTION value="4" SELECTED>d4</OPTION>
                        <OPTION value="6">d6</OPTION>
                        <OPTION value="8">d8</OPTION>
                        <OPTION value="10">d10</OPTION>
                        <OPTION value="12">d12</OPTION>
                    </SELECT>+<input name="attr_armeD_dgt_bonus" style="width:30px;margin-right:3px;" type="number" value="0" title="Bonus aux dégâts" />
                    <input name="attr_armeD_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
                    <input name="attr_armeD_cdt" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Cadence de Tir" />
                    <input name="attr_armeD_mun" type="number" style="width:40px;" value="0" min="0" title="Munitions courantes" />/<input name="attr_armeD_mun_max" type="number" style="width:40px;margin-right:3px;" value="0" min="0" title="Munitions maximum" />
                    <input name="attr_armeD_pa" type="number" style="width:30px;margin-right:3px;" value="0" min="0" title="Pénétration d'Armure" />
                    <input type="checkbox" name="attr_armeDdisplay" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                    <textarea name="attr_armeD_notes" class="textdesc" style="width: 171px;" placeholder="Notes" title="Notes sur l'arme"></textarea>
                </div> <!-- FIN ARME DYNAMIQUE -->
            </fieldset>
        </div> <!-- ** FIN ARMES ** -->
        <div class="colblock"> <!-- ** POUVOIRS ** -->
            <div>
                <div class="redtitle1 disp" style="margin-left: 0px;width: 220px;">POUVOIRS</div>
                <div class="redtitle3" style="width: 35px;">Rang</div>
                <div class="redtitle3" style="width: 26px;">PP</div>
                <div class="redtitle3" style="width: 100px;">Portée</div>
                <div class="redtitle3" style="width: 100px;">Durée</div>
                <div class="redtitle3" style="width: 200px;">Effets</div>
            </div>
             <fieldset class="repeating_pouvoirs">
                <div class="input"> <!-- POUVOIR DYNAMIQUE -->
                    <button type="roll" class="btDesc"
                        value="&{template:sawo} {{name=@{pouv_nom}}} {{perso=@{character_name}}} {{pouvoir=1}} {{pp=@{pouv_pp}}} {{portee=@{pouv_portee}}} {{duree=@{pouv_duree}}} {{description=@{pouv_effets}}}"
                    ></button>
                    <input type="text" name="attr_pouv_nom" style="width: 200px;font-weight:bold;" placeholder="Nom du pouvoir" title="Nom du pouvoir" />
                    <SELECT name="attr_pouv_rang" style="width: 30px;margin-left:3px;margin-right:3px;" title="Rang d'accès à ce pouvoir">
                        <OPTION value="N" SELECTED>N - Novice</OPTION>
                        <OPTION value="A">A - Aguerri</OPTION>
                        <OPTION value="V">V - Vétéran</OPTION>
                        <OPTION value="H">H - Héroïque</OPTION>
                        <OPTION value="L">L - Légendaire</OPTION>
                    </SELECT>
                    <input name="attr_pouv_pp" type="number" style="width:30px;" value="0" min="0" title="Coût en Points de Pouvoir" />
                    <input name="attr_pouv_portee" type="text" style="width:100px;margin-right:3px;" placeholder="Portée" title="Portée de l'arme" />
                    <input name="attr_pouv_duree" type="text" style="width:100px;margin-right:3px;" placeholder="Durée" title="Durée du pouvoir" />
                    <input type="checkbox" name="attr_pouvoirdisplay" class="dispcheck" title="Agrandir/Réduire la description" /><span>s</span>
                    <textarea name="attr_pouv_effets" class="textdesc" style="width: 300px;" placeholder="Effets du pouvoir" title="Effets du pouvoir"></textarea>
                </div> <!-- FIN POUVOIR DYNAMIQUE -->
            </fieldset>
       </div> <!-- ** FIN POUVOIRS ** -->
       <div class="colblock"> <!-- ** NOTES/DIVERS ** -->
            <div class="redtitle1" style="display: inline-block;width: 220px;">NOTES</div>
            <textarea name="attr_divnotes" placeholder="Notes / Divers"></textarea>

       </div> <!-- ** FIN NOTES/DIVERS ** -->
    </div> <!-- FIN MAIN -->
    <!-- CONFIGURATION -->
    <div class="configuration">
        <div class="2colrow">
            <div class="col">
                <div class="conftitre">STYLE VISUEL</div>
                <div class="row">
                    <input type="checkbox" name="attr_pnj" value="1" class="chkSkill" title="Ce personnage est un PNJ. Pour en faire un Extra (et donc automatiquement un PNJ), sélectionnez le dé Joker à '- Extra (PNJ)'" /><span>Personnage Non Joueur</span>
                    <input type="checkbox" name="attr_chkPossessions" value="1" class="chkSkill" title="Afficher ou masquer la section 'Possessions' : richesse, équipement etc." checked /><span>Afficher les possessions</span>
                </div>
                <div class="row">
                    <input type="checkbox" name="attr_sheetLogo" value="1" class="chkSkill" title="Afficher ou masquer le logo" checked /><span>Afficher le logo</span>
                    <input type="checkbox" name="attr_sheetDead" value="1" class="chkSkill" title="Couleurs et logo Deadlands Reloaded" /><span>Deadlands Reloaded</span>
               </div>
            </div>
            <div class="col">
                <div class="conftitre">JETS</div>
                <div class="confcat">Niveau de détail :</div>
                <input type="radio" name="attr_sheetStyle" value="0" class="styleRolrel" checked="checked" title="Style de jet par template, montrant succès et relances" /><span>Succès+Relances</span>
                <input type="radio" name="attr_sheetStyle" value="1" class="styleRoljet" title="Style de jet par template, montrant le total des jets" /><span>Total des Jets</span>
                <input type="radio" name="attr_sheetStyle" value="2" class="styleRolbrut" title="Style de jet 'macro', sans  template, montrant les jets bruts" /><span>Jets bruts</span>
                <div class="optionEtat">Templates :</div>
                <input type="checkbox" name="attr_templateetat" class="optionEtat" value="1" title="Afficher l'état du personnage dans les templates de jet" checked /><span class="optionEtat">Etats</span>
                <div class="optionCible">Attaques :</div>
                <input type="checkbox" name="attr_atkcible"  class="optionCible" value="1" title="Utiliser les pions cibles lors des attaques pour déterminer le seuil de réussite via la résistance de la cible etc." checked /><span class="optionCible">Cible</span>
            </div>
        </div>
        <div class="2colrow">
            <div class="col">
                <div class="conftitre">AFFICHAGE DES COMPETENCES</div>
                <div class="row" style="text-align: center;"><input type="checkbox" name="attr_chkAllComp" value="1" class="chkSkill" title="Afficher/Masquer toutes les compétence" checked /><span>Toutes</span></div>
                <input type="checkbox" name="attr_chkArcane" value="1" class="chkSkill" checked /><span>Arcane</span>
                <input type="checkbox" name="attr_chkCombat" value="1" class="chkSkill" checked /><span>Combat</span>
                <input type="checkbox" name="attr_chkConduite" value="1" class="chkSkill" checked /><span>Conduite</span>
                <input type="checkbox" name="attr_chkConnaissance" value="1" class="chkSkill" checked /><span>Connaissance</span>
                <input type="checkbox" name="attr_chkCrochetage" value="1" class="chkSkill" checked /><span>Crochetage</span>
                <input type="checkbox" name="attr_chkDiscretion" value="1" class="chkSkill" checked /><span>Discrétion</span>
                <input type="checkbox" name="attr_chkEquitation" value="1" class="chkSkill" checked /><span>Équitation</span>
                <input type="checkbox" name="attr_chkEscalade" value="1" class="chkSkill" checked /><span>Escalade</span>
                <input type="checkbox" name="attr_chkIntimidation" value="1" class="chkSkill" checked /><span>Intimidation</span>
                <input type="checkbox" name="attr_chkJeu" value="1" class="chkSkill" checked /><span>Jeu</span>
                <input type="checkbox" name="attr_chkLancer" value="1" class="chkSkill" checked /><span>Lancer</span>
                <input type="checkbox" name="attr_chkNatation" value="1" class="chkSkill" checked /><span>Natation</span>
                <input type="checkbox" name="attr_chkNavigation" value="1" class="chkSkill" checked /><span>Navigation</span>
                <input type="checkbox" name="attr_chkPerception" value="1" class="chkSkill" checked /><span>Perception</span>
                <input type="checkbox" name="attr_chkPersuasion" value="1" class="chkSkill" checked /><span>Persuasion</span>
                <input type="checkbox" name="attr_chkPilotage" value="1" class="chkSkill" checked /><span>Pilotage</span>
                <input type="checkbox" name="attr_chkPistage" value="1" class="chkSkill" checked /><span>Pistage</span>
                <input type="checkbox" name="attr_chkRecherche" value="1" class="chkSkill" checked /><span>Recherche</span>
                <input type="checkbox" name="attr_chkReparation" value="1" class="chkSkill" checked /><span>Réparation</span>
                <input type="checkbox" name="attr_chkReseaux" value="1" class="chkSkill" checked /><span>Réseaux</span>
                <input type="checkbox" name="attr_chkSarcasme" value="1" class="chkSkill" checked /><span>Sarcasme</span>
                <input type="checkbox" name="attr_chkSoins" value="1" class="chkSkill" checked /><span>Soins</span>
                <input type="checkbox" name="attr_chkSurvie" value="1" class="chkSkill" checked /><span>Survie</span>
                <input type="checkbox" name="attr_chkTir" value="1" class="chkSkill" checked /><span>Tir</span>
            </div>
            <div class="col">

            </div>
        </div>
    </div>
</div> <!-- FIN FDP -->
<!-- *** TEMPLATES ** -->
<rolltemplate class="sheet-rolltemplate-sawo">
    <div class="tmpl">
        {{#perso}}
            <div class="titre">{{name}}{{#competence}} ({{competence}}){{/competence}}</div>
            <div class="ligne">
                {{#pouvoir}}Pouvoir de{{/pouvoir}}
                <b>{{perso}}</b>
                {{#attaque}}attaque{{/attaque}}
                {{^pouvoir}}
                    {{^attaque}}fait un jet{{/attaque}}
                {{/pouvoir}}
                {{#cible}}
                    {{#rollTotal() atkcible 1}}
                        {{^attaque}}contre{{/attaque}}
                        <b>{{cible}}</b>
                    {{/rollTotal() atkcible 1}}
                {{/cible}}
            </div>
            {{#rollTotal() etat 1}}
                <div class="ligne">
                    <span class="desc">{{perso}} est</span>
                    {{#rollTotal() blessures 0}}
                        {{#rollTotal() fatigue 0}}
                            {{#rollTotal() secoue 0}}
                                <span class="etat">Normal</span>
                            {{/rollTotal() secoue 0}}
                        {{/rollTotal() fatigue 0}}
                    {{/rollTotal() blessures 0}}
                    {{#rollTotal() secoue 1}}
                        <span class="etat attention">Secoué</span>
                    {{/rollTotal() secoue 1}}
                    {{#rollGreater() blessures 0}}
                        {{#rollLess() blessures 4}}<span class="etat">Blessé ({{blessures}})</span>{{/rollLess() blessures 4}}
                        {{#rollTotal() blessures 4}}<span class="etat echec">en État critique</span>{{/rollTotal() blessures 4}}
                    {{/rollGreater() blessures 0}}
                    {{#rollGreater() fatigue 0}}
                            {{#rollTotal() fatigue 1}}<span class="etat">Fatigué</span>{{/rollTotal() fatigue 1}}
                            {{#rollTotal() fatigue 2}}<span class="etat attention">Épuisé</span>{{/rollTotal() fatigue 2}}
                            {{#rollTotal() fatigue 3}}<span class="etat echec">en Fatigue Critique</span>{{/rollTotal() fatigue 3}}
                    {{/rollGreater() fatigue 0}}
                    {{#rollGreater() encombrement 0}}<span class="etat">Encombré ({{encombrement}})</span>{{/rollGreater() encombrement 0}}
                </div>
            {{/rollTotal() etat 1}}
        {{/perso}}
        {{#relances}}
            {{#rollLess() relances 1}}
                <div class="ligne"><div class="jet">{{#attaque}}<span class="etat">Attaque</span>{{/attaque}}<span class="echec">Échec</span> ({{relances}})</div></div>
            {{/rollLess() relances 1}}
            {{#rollTotal() relances 1}}
                <div class="ligne"><div class="jet">{{#attaque}}<span class="etat">Attaque</span>{{/attaque}}{{relances}} <span class="succes">Succès</span> sans relance</div></div>
                {{#attaque}}
                    <div class="ligne"><div class="jet">
                        {{#rollLess() degatsrel 1}}<span class="etat">Dégâts</span><span class="echec">Aucun</span> ({{degatsrel}}){{/rollLess() degatsrel 1}}
                        {{#rollTotal() degatsrel 1}}<span class="etat">Dégâts</span>{{degatsrel}} <span class="succes">Succès</span> sans relance{{/rollTotal() degatsrel 1}}
                        {{#rollGreater() degatsrel 1}}<span class="etat">Dégâts</span><span class="succes">Succès</span> et {{degatsrel}}<span class="pseudores">-1</span> relance(s){{/rollGreater() degatsrel 1}}
                    </div></div>
                {{/attaque}}
            {{/rollTotal() relances 1}}
            {{#rollGreater() relances 1}}
                <div class="ligne"><div class="jet">{{#attaque}}<span class="etat">Attaque</span>{{/attaque}}<span class="succes">Succès</span> et {{relances}}<span class="pseudores">-1</span> relance(s)</div></div>
                {{#attaque}}
                    <div class="ligne"><div class="jet">
                        {{#rollLess() degatsrelplus 1}}<span class="etat">Dégâts +1d6</span> <span class="echec">Aucun</span> ({{degatsrelplus}}){{/rollLess() degatsrelplus 1}}
                        {{#rollTotal() degatsrelplus 1}}<span class="etat">Dégâts +1d6</span> {{degatsrelplus}} <span class="succes">Succès</span> sans relance{{/rollTotal() degatsrelplus 1}}
                        {{#rollGreater() degatsrelplus 1}}<span class="etat">Dégâts +1d6</span><span class="succes">Succès</span> et {{degatsrelplus}}<span class="pseudores">-1</span> relance(s){{/rollGreater() degatsrelplus 1}}
                    </div></div>
                {{/attaque}}
            {{/rollGreater() relances 1}}
        {{/relances}}
        {{#jet}}
            <div class="ligne"><div class="jet"><span class="etat">Jet</span>{{jet}}</div></div>
            {{#degats}}
                <div class="ligne"><div class="jet"><span class="etat">Dégâts</span>{{degats}} +{{degatsplus}} (1d6) si relance</div></div>
            {{/degats}}
        {{/jet}}
        {{#pouvoir}}
            <div class="jetdesc">{{pp}} PP</div>
            <div class="jetdesc">Portée {{portee}}</div>
            <div class="jetdesc">Durée {{duree}}</div>
            <div class="jetdesc">{{description}}</div>
        {{/pouvoir}}
    </div>
</rolltemplate>

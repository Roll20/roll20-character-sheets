<div class="main-container flex-column border">

  <!-- Header section -->
  <div class="header flex-row section main-font">
    <h1 data-i18n="sharp-swords" class="sharp-swords">ESPADAS <br> AFIADAS</h1>
    <h1 data-i18n="and" class="and">&</h1>
    <h1 data-i18n="sinister-spells" class="sinister-spells">FEITIÇOS<br> SINISTROS</h1>
  </div>

  <!-- Character Definitions -->
  <div class="char-definitions flex-row border section">

    <div class="flex-column">
      <div class="flex-row char-definitions-margin">
        <span class="char-definitions-margin main-font" data-i18n="char-name">Nome</span>
        <input class="char-definitions-margin char-definitions-input" name="attr_character_name" type="text"
          title="{@character_name}" />

        <span class="char-definitions-margin main-font" data-i18n="char-archetype">Arquétipo</span>
        <input class="char-definitions-margin char-definitions-input" name="attr_archetype" type="text"
          title="{@archetype}" />
      </div>

      <div class="flex-row char-definitions-margin">
        <span class="char-definitions-margin main-font" data-i18n="char-calling">Vocação</span>
        <input class="char-definitions-margin char-definitions-input" name="attr_calling" type="text"
          title="{@calling}" />


        <span class="char-definitions-margin main-font" data-i18n="char-complication">Complicação</span>
        <input class="char-definitions-margin char-definitions-input" name="attr_complication" type="text"
          title="{@complication}" />
      </div>
    </div>

    <div class="flex-row char-level-row">
      <div class="flex-column center">
        <span class="main-font" data-i18n="char-level">Nível</span>
        <input name="attr_level" type="number" value="1" title="{@level}" />
      </div>
      <div class="flex-column center">
        <span class="main-font" data-i18n="adventures" data-i18n-title="char-adventures-levelup" title="Aventuras para o próximo nível">

          Aventuras
        </span>
        <input name="attr_adventures_to_levelup" type="number" value="2" title="{@adventures_to_levelup}" />
      </div>
    </div>
  </div>

  <!-- Other Attributes -->
  <div class="other-attributes flex-row section">

    <div>
      <span class="main-font" data-i18n="char-luck-die">Dado de sorte</span>
      <select class="die-select" name="attr_luckdie" title="{@luckdie}">
        <option value="d4" selected="selected">d4</option>
        <option value="d6">d6</option>
        <option value="d8">d8</option>
        <option value="d10">d10</option>
        <option value="d12">d12</option>
        <option value="d20">d20</option>
      </select>
      <button type="roll" name="roll_luck_check" title="{@luck_check}"
        value="&{template:default} {{name=@{character_name} }} {{ @{check}=@{luckdie_label} }} {{ @{result} = [[@{luckdie}cs>3cf<2]]}}"></button>
    </div>

    <div class="flex-row health-points">
      <div class="char-definitions-margin">
        <span class="main-font" data-i18n="char-hp">Pontos de Vida</span>
      </div>

      <div class="flex-column center">
        <span data-i18n="maximum" class="second-font">Max</span>
        <input name="attr_hp" type="number" title="{@hp}" />

      </div>
      <div class="flex-column center">
        <span data-i18n="current-hp" class="second-font">Atuais</span>
        <input name="attr_current_hp" type="number" title="{@current_hp}" />

      </div>
    </div>
  </div>

  <div class="middle-section flex-row nowrap">
    <div class="left-column flex-column">
      <!-- Character attributes-->
      <div class="main-attributes section">

        <span class="main-font" data-i18n="char-physique">Físico</span>
        <input name="attr_physique" type="number" title="{@physique}" />
        <input type="checkbox" name="attr_physique_primary" data-i18n-title="primary-checkbox"
          title="Marque essa caixa se esse for um atributo primário." />
        <button type="roll" name="roll_physique_check" title="{@physique_check}"
          value="&{template:default} {{name=@{character_name} }} {{ @{check}=@{physique_label} }} {{ @{result} = [[ ?{ @{positivenegativedie} | @{normal}, 1d20 | @{positive}, 2d20kl1 | @{negative}, 2d20kh1 } + ?{@{modifier}|0} ]] }}"></button>

        <span class="main-font" data-i18n="char-agility">Agilidade</span>
        <input name="attr_agility" type="number" title="{@agility}" />
        <input type="checkbox" name="attr_agility_primary" data-i18n-title="primary-checkbox"
          title="Marque essa caixa se esse for um atributo primário." />
        <button type="roll" name="roll_agility_check" title="{@agility_check}"
          value="&{template:default} {{name=@{character_name} }} {{ @{check}=@{agility_label} }} {{ @{result} = [[ ?{ @{positivenegativedie} | @{normal}, 1d20 | @{positive}, 2d20kl1 | @{negative}, 2d20kh1 } + ?{@{modifier}|0} ]] }}"></button>

        <span class="main-font" data-i18n="char-intellect">Intelecto</span>
        <input name="attr_intellect" type="number" title="{@intellect}" />
        <input type="checkbox" name="attr_intellect_primary" data-i18n-title="primary-checkbox"
          title="Marque essa caixa se esse for um atributo primário." />
        <button type="roll" name="roll_intellect_check" title="{@intellect_check}"
          value="&{template:default} {{name=@{character_name} }} {{ @{check}=@{intellect_label} }} {{ @{result} = [[ ?{ @{positivenegativedie} | @{normal}, 1d20 | @{positive}, 2d20kl1 | @{negative}, 2d20kh1 } + ?{@{modifier}|0} ]] }}"></button>

        <span class="main-font" data-i18n="char-will">Vontade</span>
        <input name="attr_will" type="number" title="{@will}" />
        <input type="checkbox" name="attr_will_primary" data-i18n-title="primary-checkbox"
          title="Marque essa caixa se esse for um atributo primário." />
        <button type="roll" name="roll_will_check" title="{@will_check}"
          value="&{template:default} {{name=@{character_name} }} {{ @{check}=@{will_label} }} {{ @{result} = [[ ?{ @{positivenegativedie} | @{normal}, 1d20 | @{positive}, 2d20kl1 | @{negative}, 2d20kh1 } + ?{@{modifier}|0} ]] }}"></button>

      </div>

      <!-- Coins -->
      <div class="coins flex-column border section">
        <div class="section-title">
          <span class="main-font" data-i18n="coins">Moedas</span>
        </div>

        <div class="coins-grid center">
          <span class="second-font" data-i18n="copper-coins">mc</span>
          <input name="attr_copper_coins" type="number" data-i18n-title="copper-coins-title"
            title="Moedas de Cobre" />

          <span class="second-font" data-i18n="silver-coins">mp</span>
          <input name="attr_silver_coins" type="number" data-i18n-title="silver-coins-title"
            title="Moedas de Prata" />

          <span class="second-font" data-i18n="gold-coins">mo</span>
          <input name="attr_gold_coins" type="number" data-i18n-title="gold-coins-title" title="Moedas de Ouro" />

          <span class="second-font" data-i18n="platin-coins">mpl</span>
          <input name="attr_platin_coins" type="number" data-i18n-title="platin-coins-title"
            title="Moedas de Platina" />
        </div>
      </div>

      <!-- Notes -->
      <div class="notes flex-column section">
        <div class="section-title flex-row">
          <span class="main-font" data-i18n="notes">Anotações</span>
        </div>
        <div class="flex-row grow">
          <textarea name="attr_notes" title="{@notes}"></textarea>
        </div>
      </div>
    </div>

    <div class="middle-column flex-column">
      <!-- Weapons -->
      <div class="weapons flex-column border section">
        <!-- Weapons Header -->
        <div class="section-title">
          <span class="main-font" data-i18n="weapons">Armas</span>
        </div>

        <fieldset class="repeating_weapons">
          <div class="flex-row center nowrap repeatable-item">
            <input name="attr_weapondescription" type="text" class="grow" data-i18n-placeholder="description"
              placeholder="Descrição" />

            <input class="weapons-damage" name="attr_weapondamage" type="text" data-i18n-placeholder="damage"
              placeholder="Dano" />
            <button type="roll" name="roll_weapondamagecheck" title="{@weapondamagecheck}"
              value="&{template:default} {{name=@{character_name} }} {{ @{weapon}=@{weapondescription} }} {{ @{damage} = [[@{weapondamage}]]}}"></button>
          </div>
        </fieldset>

      </div>

      <!-- Special Habilities -->
      <div class="habilities flex-column border section">
        <div class="section-title">
          <span class="main-font" data-i18n="special-habilities">Habilidades Especiais</span>
        </div>
        <fieldset class="repeating_specialhabilities">
          <div class="flex-row repeatable-item">
            <input name="attr_habilityname" type="text" data-i18n-placeholder="name" placeholder="Nome" />
            <textarea name="attr_habilitydescription" data-i18n-placeholder="description"
              placeholder="Descrição"></textarea>
          </div>
        </fieldset>
      </div>
    </div>

    <div class="right-column flex-column">
      <!-- Equipment -->
      <div class="equipment flex-column border section">
        <!-- Equipment Header -->
        <div class="section-title">
          <span class="main-font" data-i18n="equipments">Equipamentos</span>
        </div>

        <fieldset class="repeating_equipment">
          <div class="flex-row center nowrap repeatable-item">
            <input name="attr_equipmentdescription" type="text" class="grow" data-i18n-placeholder="description"
              placeholder="Descrição" />

            <select class="die-select" name="attr_equipmentusagedie" data-i18n-title="usage-die" title="Dado de uso">
              <option value="none" selected="selected">-</option>
              <option value="d4">d4</option>
              <option value="d6">d6</option>
              <option value="d8">d8</option>
              <option value="d10">d10</option>
              <option value="d12">d12</option>
              <option value="d20">d20</option>
            </select>
            <button type="roll" name="roll_usage_check" title="{@usage_check}"
              value="&{template:default} {{name=@{character_name} }} {{ @{item} = @{equipmentdescription} }} {{ @{check}=@{usage_die} }} {{ @{result} = [[@{equipmentusagedie}cs>3cf<2]]}}"></button>
          </div>
        </fieldset>
      </div>

      <!-- Spells -->
      <div class="spells flex-column border section">
        <div class="section-title flex-row">
          <span class="main-font" data-i18n="spells">Magias</span>
        </div>

        <fieldset class="repeating_spells">
          <div class="flex-row repeatable-item">
            <input name="attr_spellname" type="text" data-i18n-placeholder="name" placeholder="Nome" />
            <textarea name="attr_spelldescription" data-i18n-placeholder="description"
              placeholder="Descrição"></textarea>
          </div>
        </fieldset>
      </div>
    </div>

  </div>

  <div class="footer flex-row second-font">
    <span>“Sharp Swords & Sinister Spells” Copyright ©2016 Diogo Nogueira.</span>
  </div>
</div>
<!-- end of sheet -->

<!-- Strings translations for Roll Queries-->
<div style="display: none;">
  <span data-i18n="positive-negative-die">Possui dado positivo ou negativo?</span>
  <span data-i18n="normal">Normal</span>
  <span data-i18n="positive">Positivo</span>
  <span data-i18n="negative">Negativo</span>
  <span data-i18n="modifier">Modificador</span>
  <span data-i18n="result">Resultado</span>
  <span data-i18n="check">Teste</span>
  <span data-i18n="weapon">Arma</span>
  <span data-i18n="item">Item</span>
</div>

<!--Sheet Workers -->
<script type="text/worker">

  /*config Roll Queries translations */
  on("sheet:opened", function(eventInfo){
      
      setAttrs({
          positivenegativedie: getTranslationByKey("positive-negative-die"),
          normal: getTranslationByKey("normal"),
          positive: getTranslationByKey("positive"),
          negative: getTranslationByKey("negative"),
          modifier: getTranslationByKey("modifier"),
          result: getTranslationByKey("result"),
          check: getTranslationByKey("check"),
          usage_die: getTranslationByKey("usage-die"),
          luckdie_label: getTranslationByKey("char-luck-die"),
          physique_label: getTranslationByKey("char-physique"),
          agility_label: getTranslationByKey("char-agility"),
          intellect_label: getTranslationByKey("char-intellect"),
          will_label: getTranslationByKey("char-will"),
          weapon: getTranslationByKey("weapon"),
          item: getTranslationByKey("item"),
          damage: getTranslationByKey("damage")

      });     
      
  });
  
</script>
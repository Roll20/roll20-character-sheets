<!-- Sheet Width: 842px; -->
<div class="background">

    <!-- Header+Tier+Effort+XP -->
    <div>
        <div class="sheet-col">
            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/The%20Strange/images/The%20Strange%20Logo/The-Strange-Logo-Color-Large.png" align="center">
        </div>
        <div class="sheet-col">
            <table width="100%" height="200px" align="center">
                <tbody style="border: 0px;">
                    <tr>
                        <td class="circlebox"><input class="circle" type="text" name="attr_tier"></td>
                        <td class="circlebox"><input class="circle" type="text" name="attr_effort"></td>
                        <td class="circlebox"><input class="circle" type="text" name="attr_xp"></td>
                    </tr>
                    <tr>
                        <td class="circlelabel">TIER</td>
                        <td class="circlelabel">EFFORT</td>
                        <td class="circlelabel">XP</td>
                    </tr>
                </tbody>
            </table>
        </div>
    </div>

    <div>
    <!-- Name+Desc+Type -->
    <div class="charinfo">
       <input name="attr_character_name" class="primary" type="text" placeholder="NAME" style="width: 300px;"><br/><label class="spacer"></label></br>
       <h3 style="display: inline;"> IS A </h3>
       <input name="attr_descriptor" class="primary" type="text" placeholder="DESCRIPTOR" style="width: 200px;">
       <input name="attr_type" class="primary" type="text" placeholder="TYPE" style="width: 150px;">
       <h3 style="display: inline;"> WHO</h3><br/><label class="spacer"></label></br>
       <input name="attr_focus" class="primary" type="text" placeholder="FOCUS" style="width: 250px;">
        <h3 style="display: inline;"> ON </h3>
        <input name="attr_recursion" class="primary" type="text" placeholder="RECURSION" style="width: 150px;">
    </div>

    <!-- Roll vs A Difficult -->
    <div class="rvd">
        <table  width="100%" align="center">
            <tbody style="border: 0px;">
                <tr>
                    <td class="header" colspan="10">&bull;ROLL VS A DIFFICULTY&bull;</td>
                </tr>
                <tr>
                    <td class="rvdbx">Simple</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Diffuculty=Simple}} {{result=[[1d20>3]] Success}}"><b>1</b></button></td>
                    <td class="rvdbx">Initmidating</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Intimidating}} {{result=[[1d20>18]] Success}}"><b>6</b></button></td>
                </tr>
                <tr>
                    <td class="rvdbx">Standard</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Standard}} {{result=[[1d20>6]] Success}}"><b>2</b></button></td>
                    <td class="rvdbx">Formidable</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Formidable}} {{result=[[1d20>21]] Success}}"><b>7</b></button></td>
                </tr>
                <tr>
                    <td class="rvdbx">Demanding</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Demanding}} {{result=[[1d20>9]] Success}}"><b>3</b></button></td>
                    <td class="rvdbx">Heroic</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Heroic}} {{result=[[1d20>24]] Success}}"><b>8</b></button></td>
                </tr>
                <tr>
                    <td class="rvdbx">Difficult</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Difficult}} {{result=[[1d20>12]] Success}}"><b>4</b></button></td>
                    <td class="rvdbx">Immortal</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Immortal}} {{result=[[1d20>27]] Success}}"><b>9</b></button></td>
                </tr>
                <tr>
                    <td class="rvdbx">Challenging</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Challenging}} {{result=[[1d20>15]] Success}}"><b>5</b></button></td>
                    <td class="rvdbx">Impossible</td>
                    <td class="rvdbtn"><button type="roll" value="&{template:default} {{name=@{character_name}}} {{Difficulty=Impossible}} {{result=[[1d20>30]] Success}}"><b>10</b></button></td>
                </tr>
            </tbody>
        </table>
    </div>
    </div>
    <br/>

    <div>
    <!-- Recursion Stats -->
    <div class="recursion">
        <table width="100%" align="center">
            <tbody>
                <tr>
                    <td class="header" colspan="2" width="33%">&bull;MIGHT&bull;</td>
                    <td class="header" colspan="2" width="33%">&bull;SPEED&bull;</td>
                    <td class="header" colspan="2" width="33%">&bull;INTELLECT&bull;</td>
                </tr>
                <tr>
                    <td class="attrbox" colspan="2"><input class="circle" type="text" name="attr_mightpool"></td>
                    <td class="attrbox" colspan="2"><input class="circle" type="text" name="attr_speedpool"></td>
                    <td class="attrbox" colspan="2"><input class="circle" type="text" name="attr_intellectpool"></td>
                </tr>
                <tr>
                    <td><input class="centerinput" placeholder="POOL" type="text" name="attr_mightpoolmax"></td>
                    <td><input class="centerinput" placeholder="EDGE" type="text" name="attr_mightedge"></td>
                    <td><input class="centerinput" placeholder="POOL" type="text" name="attr_speedpoolmax"></td>
                    <td><input class="centerinput" placeholder="EDGE" type="text" name="attr_speededge"></td>
                    <td><input class="centerinput" placeholder="POOL" type="text" name="attr_intellectpoolmax"></td>
                    <td><input class="centerinput" placeholder="EDGE" type="text" name="attr_intellectedge"></td>
                </tr>
            </tbody>
        </table>
        <!-- Skills -->
        <table width="100%" height="500px" align="center">
            <tbody>
                <tr>
                    <td class="header" colspan="6">&bull;SKILLS&bull;</td>
                </tr>
                <tr>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt1">T<br/><input type="checkbox" name="attr_checkboxs1">S</td>
                    <td><input type="text" name="attr_skill1"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt2">T<br/><input type="checkbox" name="attr_checkboxs2">S</td>
                    <td><input type="text" name="attr_skill2"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt3">T<br/><input type="checkbox" name="attr_checkboxs3">S</td>
                    <td><input type="text" name="attr_skill3"></td>
                </tr>
                <tr>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt4">T<br/><input type="checkbox" name="attr_checkboxs4">S</td>
                    <td><input type="text" name="attr_skill4"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt5">T<br/><input type="checkbox" name="attr_checkboxs5">S</td>
                    <td><input type="text" name="attr_skill5"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt6">T<br/><input type="checkbox" name="attr_checkboxs6">S</td>
                    <td><input type="text" name="attr_skill6"></td>
                </tr>
                <tr>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt7">T<br/><input type="checkbox" name="attr_checkboxs7">S</td>
                    <td><input type="text" name="attr_skill7"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt8">T<br/><input type="checkbox" name="attr_checkboxs8">S</td>
                    <td><input type="text" name="attr_skill8"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt9">T<br/><input type="checkbox" name="attr_checkboxs9">S</td>
                    <td><input type="text" name="attr_skill9"></td>
                </tr>
                <tr>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt10">T<br/><input type="checkbox" name="attr_checkboxs10">S</td>
                    <td><input type="text" name="attr_skill10"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt11">T<br/><input type="checkbox" name="attr_checkboxs11">S</td>
                    <td><input type="text" name="attr_skill11"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt12">T<br/><input type="checkbox" name="attr_checkboxs12">S</td>
                    <td><input type="text" name="attr_skill12"></td>
                </tr>
                <tr>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt13">T<br/><input type="checkbox" name="attr_checkboxs13">S</td>
                    <td><input type="text" name="attr_skill13"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt14">T<br/><input type="checkbox" name="attr_checkboxs14">S</td>
                    <td><input type="text" name="attr_skill14"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt15">T<br/><input type="checkbox" name="attr_checkboxs15">S</td>
                    <td><input type="text" name="attr_skill15"></td>
                </tr>
                <tr>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt16">T<br/><input type="checkbox" name="attr_checkboxs16">S</td>
                    <td><input type="text" name="attr_skill16"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt17">T<br/><input type="checkbox" name="attr_checkboxs17">S</td>
                    <td><input type="text" name="attr_skill17"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt18">T<br/><input type="checkbox" name="attr_checkboxs18">S</td>
                    <td><input type="text" name="attr_skill18"></td>
                </tr>
                <tr>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt19">T<br/><input type="checkbox" name="attr_checkboxs19">S</td>
                    <td><input type="text" name="attr_skill19"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt20">T<br/><input type="checkbox" name="attr_checkboxs20">S</td>
                    <td><input type="text" name="attr_skill20"></td>
                    <td class="skillbox"><input type="checkbox" name="attr_checkboxt21">T<br/><input type="checkbox" name="attr_checkboxs21">S</td>
                    <td><input type="text" name="attr_skill21"></td>
                </tr>
            </tbody>
        </table>
        <!-- Attacks+Special Abilities -->
        <table width="100%" align="center">
            <tbody>
                <tr>
                    <td class="header" style="width:50%" colspan="2">&bull;ATTACKS&bull;</td>
                    <td class="header" style="width:50%">&bull;SPECIAL ABILITIES&bull;</td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" placeholder="ATTACK" name="attr_attack1"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" placeholder="DMG" name="attr_attackdmg1"></td>
                    <!-- Special Abilities -->
                    <td class="specialabilbox" rowspan="9"><textarea type="text" name="attr_special_abilities"></textarea></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack2"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg2"></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack3"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg3"></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack4"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg4"></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack5"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg5"></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack6"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg6"></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack7"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg7"></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack8"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg8"></td>
                </tr>
                <tr>
                    <td class="attackbox"><input type="text" name="attr_attack9"></td>
                    <td class="attackboxsmall"><input class="centerinput" type="text" name="attr_attackdmg9"></td>
                </tr>
            </tbody>
        </table>
        <table width="100%" align="center">
            <tbody>
                <tr>
                    <td class="header">&bull;EQUIPMENT&bull;</td>
                </tr>
                <tr>
                    <td class="equipmentbox">
                        <div class="orangeparent"><textarea type="text" name="attr_equipment">                  &#13;&#10;                  &#13;&#10;                  &#13;&#10;                  &#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;&#13;&#10;</textarea>
                            <div class="armorcirclebox"><input class="orangecircle" type="text" name="attr_armor"><p class="orangecircle2">ARMOR</p></div>
                            <div class="moneycirclebox"><input class="orangecircle" type="text" name="attr_money"><p class="orangecircle2">MONEY</p></div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Cyphers+Limit+Recovery+Damage Track+Advancement+Rolls -->
    <div class="cyphers">
        <table width="100%" align="center">
            <tbody>
                <tr>
                    <td class="header" colspan="2">&bull;CYPHERS&bull;</td>
                </tr>
                <tr>
                    <td class="cypherbox">
                        <div class="orangeparent"><textarea  type="text" name="attr_cyper"></textarea>
                            <div class="limitcirclebox"><input class="orangecircle" type="text" name="attr_cypher-limit"><p class="orangecircle2">LIMIT</p></div>
                        </div>
                    </td>
                </tr>
            </tbody>
        </table>
        <!-- Recovery -->
        <table width="100%" align="center">
            <tbody class="recoveryrow">
                <tr>
                    <td class="header" colspan="5">&bull;RECOVERY ROLLS&bull;</td>
                </tr>
                <tr>
                    <td class="recovery"><input type="checkbox" name="attr_recovery_1action"></td>
                    <td class="recovery"><input type="checkbox" name="attr_recovery_10min"></td>
                    <td class="recoverycirclebox" rowspan="2"><button type="roll" name="roll_recovery" value="/roll 1d6+@{recoverybonus}" class="recoverybtn"><b>1d6+</b></button><input class="circle" type="text" name="attr_recoverybonus"></td>
                    <td class="recovery"><input type="checkbox" name="attr_recovery_1hr"></td>
                    <td class="recovery"><input type="checkbox" name="attr_recovery_10hr"></td>
                </tr>
                <tr>
                    <td class="recovery2">1 ACTION</td>
                    <td class="recovery2">10 MINS</td>
                    <td class="recovery2">1 HOUR</td>
                    <td class="recovery2">10 HOURS</td>
                </tr>
            </tbody>
        </table>
        <!-- Damage Track -->
        <table width="100%" align="center">
            <tbody class="recoveryrow">
                <tr>
                    <td class="header" colspan="2">&bull;DAMAGE TRACK&bull;</td>
                </tr>
                <tr>
                    <td class="dmgtrkchbx"><input type="checkbox" name="attr_impared"></td>
                    <td class="dmgtrk" rowspan="2">+1 EFFORT PER LEVEL<br/>IGNORE MINOR & MAJOR EFFECT RESULTS<br/>COMBAT ROLLS OF 17-20 ONLY DEAL +1DAMAGE</td>
                </tr>
                <tr>
                    <td class="dmgtrkchbx2">IMPAIRED</td>
                </tr>
                    <td class="dmgtrkchbx"><input type="checkbox" name="attr_debilitated"></td>
                    <td class="dmgtrk" rowspan="2">CAN ONLY MOVE AN IMMEDIATE DISTANCE<br/>IF SPEED POOL IS ZERO YOU CANNOT MOVE</td>
                </tr>
                <tr>
                    <td class="dmgtrkchbx2">DEBILITATED</td>
                </tr>
            </tbody>
        </table>
        <!--Advancements -->
        <table width="100%" align="center">
            <tbody class="recoveryrow">
                <tr>
                    <td class="header" colspan="5">&bull;ADVANCEMENT&bull;</td>
                </tr>
                <tr>
                    <td class="dmgtrkchbx" colspan="5">(You must have four of these to advance in Tier. Cost = 4XP each.</td>
                </tr>
                <tr>
                    <td class="dmgtrkchbx"><input type="checkbox" name="attr_increase_capabilities"></td>
                    <td class="dmgtrkchbx"><input type="checkbox" name="attr_move_twoards_perfection"></td>
                    <td class="dmgtrkchbx"><input type="checkbox" name="attr_extra_effort"></td>
                    <td class="dmgtrkchbx"><input type="checkbox" name="attr_skill_training"></td>
                    <td class="dmgtrkchbx"><input type="checkbox" name="attr_other"></td>
                </tr>
                <tr>
                    <td class="dmgtrkchbx2">INCREASE CAPABILITIES</td>
                    <td class="dmgtrkchbx2">MOVE TOWARDS PERFECTION</td>
                    <td class="dmgtrkchbx2">EXTRA EFFORT</td>
                    <td class="dmgtrkchbx2">SKILL TRAINING</td>
                    <td class="dmgtrkchbx2">OTHER</td>
                </tr>
                <tr>
                    <td class="dmgtrkchbx">+4 points into stat Pools</td>
                    <td class="dmgtrkchbx">+1 point into the Edge of your choice</td>
                    <td class="dmgtrkchbx">+1 point into Effort</td>
                    <td class="dmgtrkchbx">Train in a skill or Specialize</td>
                    <td class="dmgtrkchbx">Refer to corebook</td>
                </tr>
            </tbody>
        </table>
    </div>

    </div>

</div>

<div class="footer" style="font-size: 10px; color: rgb(165, 165, 165);">
    <span>
        &copy;2015 Monte Cook Games, LLC. The Strange are trademarks of Monte Cook Games, LLC, in the U.S.A. and other countries. All Monte Cook Games characters and character names, and the distinctive likeness thereof, are trademarks of Monte Cook Games, LLC.
    </span>
</div>
<script type="text/worker">
  on("sheet:opened", function() {
    var getRequest = ["version"];

    getAttrs(getRequest, function(values){
      if(!values.version){
        for(var x=1; x<22; x++){
          getRequest.push("checkboxt" + x);
          getRequest.push("checkboxs" + x);
          getRequest.push("skill" + x);
        };

        for(var y=1; y<10; y++){
          getRequest.push("attack" + y);
          getRequest.push("mod" + y);
          getRequest.push("dmg" + y);
        };

        getAttrs(getRequest, function(values) {
          var newrowattrs = {version: 1.0};
          for(var x=1; x<22; x++){
            if(values["skill" + x]){
              var rowId = generateRowID();
              newrowattrs["repeating_skills_" + rowId + "_skill-name"] = values["skill" + x];
              if(values["checkboxt" + x]) {
                newrowattrs["repeating_skills_" + rowId + "_trained-skill"] = values["checkboxt" + x];
              };
              if(values["checkboxt" + x]) {
                newrowattrs["repeating_skills_" + rowId + "_specialized-skill"] = values["checkboxs" + x];
              };
            };
          };
          for(var y=1; y<10; y++){
            if(values["attack" + y]){
              var rowId = generateRowID();
              newrowattrs["repeating_attacks_" + rowId + "_attack-name"] = values["attack" + y];
              if(values["mod" + y]) {
                newrowattrs["repeating_attacks_" + rowId + "_attack-mod"] = values["mod" + y];
              };
              if(values["dmg" + y]){
                newrowattrs["repeating_attacks_" + rowId + "_attack-dmg"] = values["dmg" + y];
              };
            };
          };
          setAttrs(newrowattrs);
        });
      } else(values.version);
      };
    });
</script>

<div style="width:100%;min-width:100%;" class="sheet-pf-wrapper" >
<!--spacer so scrollbar does not disappear-->
<div style="width:1px; height:600px; min-height:600px;position:absolute;left:1px;">&nbsp;</div>

    <div class="sheet-table-row sheet-section-header" style="margin:-1.2rem;" role="banner">
		<span class="sheet-label-a" data-i18n="Instru-a-1">Labels have a for attribute, but due to Roll20 keeping multiple copies of pages in memory, you cannot use the for tag to jump to the input.</span>
		<span class="sheet-label-a" data-i18n="Instru-a-2">Screenreader users please turn on reading of <em>Title</em> attributes. Most inputs have titles describing them, but not yet labels.</span>
		<div class="sheet-table-row" style="float:right; width:12%; margin:-.5rem 0 .75rem 0;"  title="Click to display or hide announcements" data-i18n-title="showsect-cmd">
			<label style="float:right;"><span data-i18n="expand-all" style="margin-right:1em;">Expand All</span><input type="checkbox" name="attr_expandall" value="1"/></label>
			<h2 style="font-weight:bold ; color:red ; font-size:1.2em" data-i18n-title="show-announcements"  data-i18n="Attention">Attention:</h2>
			<input id="sheet-pf_acknowledge" type="checkbox" class="sheet-showbutton sheet-ack-button" name="attr_attention3-show" data-i18n-title="show-announcements" value="1" style="width: 7em;margin: -0.5em -1em 0 -6em;" checked="checked"><span></span>
		</div>
		<br style="clear:both;">
		<div class="sheet-table-row">
			<label class="sheet-table-cell" style="width:22%;position:relative;top:-1.5rem;"><img src="http://paizo.com/image/content/Logos/PathfinderRPGLogo_500.jpeg" style="max-height: 70px;" alt="Pathfinder RPG Logo &copy; Paizo" /></label>
			<label class="sheet-cell-label-lg" style="width:18%;"><span data-i18n="character-name">Character Name</span><input title="@{character_name}" type="text" name="attr_character_name" placeholder="Character Name" data-i18n-placeholder="character-name" /></label>
			<input type="checkbox" name="attr_is_npc" value="1" style="display:none;" class="sheet-sect-show sheet-sect-show-inverse" />
			<label class="sheet-cell-label-lg sheet-sect-inverse" style="width:16%;"><span data-i18n="player-name">Player Name</span><input title="@{player-name}" type="text" name="attr_player-name" placeholder="Player Name" data-i18n-placeholder="player-name"/></label>
			<label class="sheet-cell-label-lg sheet-sect-inverse" style="width:16%;"><span data-i18n="class">Class</span><input title="@{class-0-name}" type="text" name="attr_class-0-name" placeholder="Class" data-i18n-placeholder="class"/></label>
			<label class="sheet-cell-label-lg sheet-sect-inverse" style="width:5%;"><span data-i18n="level">Level</span><input title="@{level}" type="number" name="attr_level" value="0" class="sheet-calc" readonly="readonly" data-i18n-placeholder="level"/></label>

			<label class="sheet-cell-label-lg sheet-sect" style="width:16%;"><span data-i18n="race">Race</span><input title="@{race}" type="text" name="attr_race" placeholder="Race" data-i18n-placeholder="race"/></label>
			<label class="sheet-cell-label-lg sheet-sect" style="width:5%;"><span data-i18n="challenge-rating-abbrv">CR</span><input title="@{npc-cr}" type="number" name="attr_npc-cr" value="0" class="sheet-calc" readonly="readonly"/></label>
			<label class="sheet-cell-label-lg sheet-sect" style="width:5%;"><span data-i18n="hit-die-abbrv">HD</span><input title="@{npc-hd-num}" type="number" name="attr_npc-hd-num" value="0" /></label>
			<label class="sheet-cell-label-lg sheet-sect" style="width:5%;"><span data-i18n="class-hd" style="white-space:nowrap;">Class HD</span><input title="@{npc-hd-num2}" type="number" name="attr_npc-hd-num2" value="0" /></label>
			
			
			<label class="sheet-cell-label-lg" style="width: 3%;padding-bottom: 3px;">
				<label for="fa-refresh" class="sheet-label-a" data-i18n="recalculate-cmd">Recalculate Sheet</label>
				<input id="fa-refresh" type="checkbox" hidden name="attr_recalc1" value="1" class="sheet-cssbutton sheet-refreshbutton" style="top:-1em;height:2em;" title="Recalculate Sheet." />
				<span style="top:-3em;position:relative;"></span>
			</label>
			<label class="sheet-cell-label-lg" style="width:4%;padding-right:2px;padding-left:.25em;"><span data-i18n="version-abbrv">Ver</span><input type="number" name="attr_PFSheet_Version" value="0" class="sheet-calc" readonly="readonly" title="A non-blank version indicates attributes have been successfully recalculated." /></label>
		</div>
	</div>
	<input type="checkbox" class="sheet-announce-show" name="attr_attention3-show" value="1" style="display:none;" checked="checked" />
	<div role="contentinfo" aria-label="Announces changes to sheet" class="sheet-announcements">
		<h2 style="font-weight:bold;color:red;font-size:1.2em;" data-i18n="announcements">Announcements:</h2>
		<div class="sheet-footer" style="text-align:left; padding:5px; margin:5px;">
			<ol>
			<li data-i18n="announce-15">Spell book and attack macros now available. Above the list of attacks and list of spells are buttons. Click these and the list of available spells or attacks shows up in the chat area. Click the spell or attack and it will perform the roll you chose. You can also drag these buttons to your macro bar or call them from macros.</li>
			<li data-i18n="announce-14">Many bug fixes.</li>
			<li data-i18n="announce-13">New screenreader friendly rolltemplates have been added. Check the <em>Use Simple Templates</em> checkbox on the Config tab, Roll Template section, or add an attribute called <strong>toggle_accessible_flag</strong> and set it to <strong>{{accessible=true}}</strong>.  </li>
			<li data-i18n="announce-12">All spell IDs have changed. <strong>You must update your macros.</strong> After updating macros you must go to the config tab and delete spells with old IDs.</li>
			<li data-i18n="announce-11">Attack and damage effects on the Attacks tab have been migrated to the Buffs section.</li>
			</ol>
		</div>
		<h2 style="color:red;font-size:1.2em;" title="Click to expand" data-i18n-title="showsect-cmd" data-i18n="announcements-old">Old Announcements: </h2>
		<input type="checkbox" class="sheet-sect-show" name="attr_attention2-show" value="1" data-i18n-title="showsect-cmd" style="width: 14em;margin: -0.5em -1em 0 -13em;"><span></span>
		<div class="sheet-footer sheet-sect" style="text-align:left; padding:5px; margin:5px;">
			<ol>
				<li data-i18n="announce-10">Buffs have been changed to repeating sections. Names of buff totals have not changed.</li>
				<li data-i18n="announce-09">New Psionic ability sections have been added based on Psionics Unlimited</li>
				<li data-i18n="announce-08">The &#x2637; button on the right will split a repeating section into two columns. The &#x2630; will change it back to one column.  </li>
				<li data-i18n="announce-07">Rolltemplate backgrounds can be assigned colors. Choose a color on the config tab in the RollTemplate section.</li>
				<li data-i18n="announce-06">Buttons within repeating sections can now be dragged to the macro quick bar. To learn the id/name of a button, drag/drop it to the macro quick bar, use the button, click in chat and hit the UP arrow. Each repeating row now includes the row ID.</li>
				<li data-i18n="announce-05">All ability macros that utilize <strong>repeating attributes</strong> must be edited to include "<strong>$</strong>". e.g. @{repeating_foo_X_...} should be renamed @{repeating_foo_$X_...} where "<b>X</b>" is the row of the repeating section.</li>
				<li data-i18n="announce-04">For macro calls to <strong>button rolls</strong> in repeating rows, you must do the above ($) and you must add "_roll" to the end. For attacks, add "-roll".</li>
				<li data-i18n="announce-03">For <strong>existing characters/NPC's</strong>, if you do not see Version > 0 listed (top-right corner of sheet), use the Refresh Button to force a refresh of all auto-calculated attributes. This should only need to be done once and could take up to 10s.</li>
				<li data-i18n="announce-02">If the sheet has been recalculated and you still have empty auto-calculated fields, you may have to toggle(change attribute value(s)) of sub-component attributes to help generate a value for the empty fields.</li>
				<li data-i18n="announce-01">
					If you changed the attributes/fields listed below, you must update to the new version of the attribute/field (same location on sheet) because the new fields are only modifiers to the calculations which are done within sheet workers(javascript).:
					<ol>
						<li>HP-formula</li>
						<li>max-skill-ranks-formula</li>
					</ol>
				</li>
				<li data-i18n="announce-01">Weapon notes and header images can now be set independently from within the attack Options. You may have to clear @{macro_options} (located within Options) if you receive a missing attribute error.</li>
			</ol>
		</div>
	</div>
	<div role="contentinfo" aria-label="Buffs and Conditions" style="margin:.25rem 0 .25rem 0;">
		<input type="checkbox" class="sheet-conditions-show" name="attr_conditions-show" value="1" style="display:none;"/>
		<input type="checkbox" class="sheet-buffs-show" name="attr_buffstop-show" value="1" style="display:none;"/>
		<div class="sheet-status-panel">
			<h2 data-i18n="conditions-set">Set Conditions</h2>
			<input type="checkbox" class="sheet-showbutton" title="Click to expand condition edit area." data-i18n-title="conditions-showsect-cmd" name="attr_conditions-show" value="1" style="width: 10em;margin: -0.5em -1em 0 -9em;" /><span></span>
			<div class="sheet-options" style="display:block;">
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Blinded" value="2"><label title="-2 penalty to Armor Class" data-i18n-title="condition-blinded-title"><b data-i18n="blinded"> Blinded</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Cowering" value="2"><label title="-2 penalty to Armor Class" data-i18n-title="condition-cowering-title"><b data-i18n="cowering"> Cowering</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Dazzled" value="1"><label title="-1 penalty on attack rolls" data-i18n-title="condition-dazzled-title"><b data-i18n="dazzled"> Dazzled</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Deafened" value="4"><label title="-4 penalty on initiative rolls" data-i18n-title="condition-deafened-title"><b data-i18n="deafened"> Deafened</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition_is_drained" value="1"><label title="-1 penalty on all attack rolls, combat maneuver checks, combat maneuver defense, saving throws, skill checks, and ability checks. Additionally there is a 5 hp reduction to both current hp and maximum hp." data-i18n-title="condition-energy-drained-title"><b data-i18n="energy-drained"> Energy Drain</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Entangled" value="2"><label title="-2 penalty on all attack rolls and a -4 penalty to Dexterity" data-i18n-title="condition-blinded-title"><b data-i18n="entangled"> Entangled</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Fear" value="2"><label title="Shaken/Frightened/Panicked: -2 penalty on attack rolls, saving throws, skill checks, and ability checks" data-i18n-title="condition-blinded-title"><b data-i18n="fear"> Fear</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Flat-Footed" value="1"><label title="Flat-Footed: loses DEX bonus to AC and CMD (if any) and cannot make attacks of opportunity, unless he has the Combat Reflexes feat or Uncanny Dodge class ability." data-i18n-title="condition-flat-footed-title"><b data-i18n="flat-footed"> Flat-Footed</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Grappled" value="2"><label title="-2 penalty on all attack rolls and a -4 penalty to Dexterity" data-i18n-title="condition-grappled-title"><b data-i18n="grappled"> Grappled</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Helpless" value="1"><label title="Set Dexterity to 0(-5 DEX-mod)"><b data-i18n="helpless" data-i18n-title="condition-helpless-title">Helpless</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Invisible" value="2"><label title="+2 bonus on attack rolls" data-i18n-title="condition-invisible-title"><b data-i18n="invisible"> Invisible</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Pinned" value="4"><label title="Additional -4 penalty to Armor Class" data-i18n-title="condition-pinned-title"><b data-i18n="pinned"> Pinned</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Prone" value="4"><label title="-4 penalty on melee attack rolls" data-i18n-title="condition-prone-title"><b data-i18n="prone"> Prone</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Sickened" value="2"><label title="-2 penalty on all attack rolls, weapon damage rolls, saving throws, skill checks, and ability checks" data-i18n-title="condition-sickened-title"><b data-i18n="sickened"> Sickened</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Stunned" value="2"><label title="-2 penalty to Armor Class" data-i18n-title="condition-stunned-title"><b data-i18n="stunned"> Stunned</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Fatigued" value="1"><label title="-2 penalty to Strength and Dexterity" data-i18n-title="condition-fatigued-title"><b data-i18n="fatigued"> Fatigued</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Fatigued" value="3"><label title="-6 penalty to Strength and Dexterity" data-i18n-title="condition-exhausted-title"><b data-i18n="exhausted"> Exhausted</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Wounds" value="1"><label title="-1 penalty on all attack rolls, saving throws, skill checks, and ability checks, as well as to AC and caster level" data-i18n-title="grazed-title" data-i18n-title="condition-grazed-title"><b data-i18n="grazed"> Grazed</b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Wounds" value="2"><label title="-2 penalty on all attack rolls, saving throws, skill checks, and ability checks, as well as to AC and caster level" data-i18n-title="wounded-title" data-i18n-title="condition-wounded-title"><b data-i18n="wounded"> Wounded </b></label>
				<input style="display:none;" type="checkbox" class="sheet-condition-exists" name="attr_condition-Wounds" value="3"><label title="-3 penalty on all attack rolls, saving throws, skill checks, and ability checks, as well as to AC and caster level" data-i18n-title="critical-title" data-i18n-title="condition-critical-title"><b data-i18n="critical"> Critical </b></label>			
				<span class="sheet-panel-name" data-i18n="current-conditions">Current Conditions</span>
			</div>
		</div>
		<div class="sheet-status-panel">
			<h2 data-i18n="buffs-set">Set Buffs</h2>
			<input type="checkbox" class="sheet-showbutton" title="Click to expand buff edit area." data-i18n-title="buffs-showsect-cmd" name="attr_buffstop-show" value="1" style="width: 7em;margin: -0.5em -1em 0 -6em;" /><span></span>
			<div class="sheet-options" style="display:block;">
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_STR_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to strength ability score." data-i18n-title="buff-strength-title"><input title="@{buff_STR-total}" name="attr_buff_STR-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="strength-abbrv">STR</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_DEX_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to dexterity ability score." data-i18n-title="buff-dexterity-title"><input title="@{buff_DEX-total}" name="attr_buff_DEX-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="dexterity-abbrv">DEX</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_CON_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to constitution ability score." data-i18n-title="buff-constitution-title"><input title="@{buff_CON-total}" name="attr_buff_CON-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="constitution-abbrv">CON</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_INT_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to intelligence ability score." data-i18n-title="buff-intelligence-title"><input title="@{buff_INT-total}" name="attr_buff_INT-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="intelligence-abbrv">INT</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_WIS_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to wisdom ability score." data-i18n-title="buff-wisdom-title"><input title="@{buff_WIS-total}" name="attr_buff_WIS-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="wisdom-abbrv">WIS</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_CHA_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to charisma ability score." data-i18n-title="buff-charisma-title"><input title="@{buff_CHA-total}" name="attr_buff_CHA-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="charisma-abbrv">CHA</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_Fort_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to fortitude saving throws." data-i18n-title="buff-fortitude-title"><input title="@{buff_Fort-total}" name="attr_buff_Fort-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="fortitude-abbrv">Fort</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_Ref_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to reflex saving throws." data-i18n-title="buff-reflex-title"><input title="@{buff_Ref-total}" name="attr_buff_Ref-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="reflex-abbrv">Ref</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_Will_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to will saving throws." data-i18n-title="buff-will-title"><input title="@{buff_Will-total}" name="attr_buff_Will-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="willpower-abbrv">Will</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_AC_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to armor class." data-i18n-title="buff-armor-class-title"><input title="@{buff_AC-total}" name="attr_buff_AC-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="armor-class-abbrv">AC</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_Touch_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to touch attack armor class." data-i18n-title="buff-touch-title"><input title="@{buff_Touch-total}" name="attr_buff_Touch-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="touch-armor-class-abbrv">Touch AC</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_CMD_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to combat maneuver defense." data-i18n-title="buff-cmd-title"><input title="@{buff_CMD-total}" name="attr_buff_CMD-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="combat-maneuver-defense-abbrv">CMD</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_Melee_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to all melee attack rolls." data-i18n-title="buff-melee-title"><input title="@{buff_Melee-total}" name="attr_buff_Melee-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="melee">Melee</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_Ranged_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to all ranged attack rolls." data-i18n-title="buff-ranged-title"><input title="@{buff_Ranged-total}" name="attr_buff_Ranged-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="ranged">Ranged</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_DMG_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to all attack damage." data-i18n-title="buff-damage-title"><input title="@{buff_DMG-total}" name="attr_buff_DMG-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="damage">Damage</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_Check_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to all skill and ability checks." data-i18n-title="buff-skill-checks-title"><input title="@{buff_Check-total}" name="attr_buff_Check-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="check">Check</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_CasterLevel_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Bonus to spell caster level." data-i18n-title="buff-spell-caster-level-title"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="caster-level">Caster Level</span></label>
				<input style="display:none;" type="checkbox" class="sheet-buff-exists" name="attr_buff_HP-temp_exists" value="1"/><label class="sheet-small-label2 sheet-number" title="Temporary hit points." data-i18n-title="buff-temp-hp-title"><input title="@{buff_HP-temp-total}" name="attr_buff_HP-temp-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><span data-i18n="temporary-hit-points-abbrv">Temp HP</span></label>
				<span class="sheet-panel-name" data-i18n="current-buffs">Current Buffs</span>
			</div>
		</div>
		<div class="sheet-table sheet-conditions" style="margin-bottom:.25rem;">
			<span class="sheet-table-name" data-i18n="condition" style="margin-top:.25em;">Conditions</span>
			<div class="sheet-table-group">
				<div class="sheet-table-row" style="line-height:1.85em;height:1.85em;">
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-2 penalty to Armor Class" data-i18n-title="condition-blinded-title"><input type="checkbox" title="@{condition-Blinded}" class="sheet-boldlabel-check" name="attr_condition-Blinded" value="2" /><b><span data-i18n="blinded"> Blinded</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-2 penalty to Armor Class" data-i18n-title="condition-cowering-title"><input type="checkbox" title="@{condition-Cowering}" class="sheet-boldlabel-check" name="attr_condition-Cowering" value="2" /><b><span data-i18n="cowering"> Cowering</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-1 penalty on attack rolls" data-i18n-title="condition-dazzled-title"><input type="checkbox" title="@{condition-Dazzled}" class="sheet-boldlabel-check" name="attr_condition-Dazzled" value="1" /><b><span data-i18n="dazzled"> Dazzled</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-4 penalty on initiative rolls" data-i18n-title="condition-deafened-title"><input type="checkbox" title="@{condition-Deafened}" class="sheet-boldlabel-check" name="attr_condition-Deafened" value="4" /><b><span data-i18n="deafened"> Deafened</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-1 penalty on all attack rolls, combat maneuver checks, combat maneuver defense, saving throws, skill checks, and ability checks. Additionally there is a 5 hp reduction to both current hp and maximum hp." data-i18n-title="condition-energy-drained-title"><input style="width:2.8em;" title="@{condition-Drained}" type="number" name="attr_condition-Drained" value="0" max="0" /><b><span data-i18n="energy-drained"> Energy Drain</span></b></label>
			</div>
			<div class="sheet-table-row" style="line-height:1.85em;height:1.85em;">
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-2 penalty on all attack rolls and a -4 penalty to Dexterity" data-i18n-title="condition-entangled-title"><input type="checkbox" title="@{condition-Entangled}" class="sheet-boldlabel-check" name="attr_condition-Entangled" value="2" /><b><span data-i18n="entangled"> Entangled</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="Shaken/Frightened/Panicked: -2 penalty on attack rolls, saving throws, skill checks, and ability checks" data-i18n-title="condition-fear-title"><input type="checkbox" title="@{condition-Fear}" class="sheet-boldlabel-check" name="attr_condition-Fear" value="2" /><b><span data-i18n="fear"> Fear</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="Flat-Footed: loses DEX bonus to AC and CMD (if any) and cannot make attacks of opportunity, unless he has the Combat Reflexes feat or Uncanny Dodge class ability." data-i18n-title="condition-flat-footed-title"><input type="checkbox" title="@{condition-Flat-Footed}" class="sheet-boldlabel-check" name="attr_condition-Flat-Footed" value="1" /><b><span data-i18n="flat-footed"> Flat-Footed</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-2 penalty on all attack rolls and a -4 penalty to Dexterity" data-i18n-title="condition-grappled-title"><input type="checkbox" title="@{condition-Grappled}" class="sheet-boldlabel-check" name="attr_condition-Grappled" value="2" /><b><span data-i18n="grappled"> Grappled</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="Set Dexterity to 0(-5 DEX-mod)" data-i18n-title="condition-helpless-title"><input type="checkbox" title="@{condition-Helpless}" class="sheet-boldlabel-check" name="attr_condition-Helpless" value="1" /><b><span data-i18n="helpless"> Helpless</span></b></label>
			</div>
			<div class="sheet-table-row" style="line-height:1.85em;height:1.85em;">
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="+2 bonus on attack rolls" data-i18n-title="condition-invisible-title"><input type="checkbox" title="@{condition-Invisible}" class="sheet-boldlabel-check" name="attr_condition-Invisible" value="2" /><b><span data-i18n="invisible"> Invisible</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="Additional -4 penalty to Armor Class" data-i18n-title="condition-pinned-title"><input type="checkbox" title="@{condition-Pinned}" class="sheet-boldlabel-check" name="attr_condition-Pinned" value="4" /><b><span data-i18n="pinned"> Pinned</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-4 penalty on melee attack rolls" data-i18n-title="condition-prone-title"><input type="checkbox" title="@{condition-Prone}" class="sheet-boldlabel-check" name="attr_condition-Prone" value="4" /><b><span data-i18n="prone"> Prone</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-2 penalty on all attack rolls, weapon damage rolls, saving throws, skill checks, and ability checks" data-i18n-title="condition-sickened-title"><input type="checkbox" title="@{condition-Sickened}" class="sheet-boldlabel-check" name="attr_condition-Sickened" value="2" /><b><span data-i18n="sickened"> Sickened</span></b></label>
				<label class="sheet-table-cell sheet-left" style="width:20%;" title="-2 penalty to Armor Class" data-i18n-title="condition-stunned-title"><input type="checkbox" title="@{condition-Stunned}" class="sheet-boldlabel-check" name="attr_condition-Stunned" value="2" /><b><span data-i18n="stunned"> Stunned</span></b></label>
				</div>
				<div class="sheet-table-row" style="line-height:2.5em;height:1.85em;background-color:#D3D3D3;">
					<label class="sheet-table-cell sheet-left" style="width:20%;">&nbsp;</label>
					<label class="sheet-table-cell sheet-left" style="width:20%;" title="-2 penalty to Strength and Dexterity" data-i18n-title="condition-fatigued-title"><input type="radio" title="@{condition-Fatigued}" class="sheet-boldlabel-check" name="attr_condition-Fatigued" value="1" /><b><span data-i18n="fatigued"> Fatigued</span></b></label>
					<label class="sheet-table-cell sheet-left" style="width:20%;" title="-6 penalty to Strength and Dexterity" data-i18n-title="condition-exhausted-title"><input type="radio" title="@{condition-Fatigued}" class="sheet-boldlabel-check" name="attr_condition-Fatigued" value="3" /><b><span data-i18n="exhausted"> Exhausted</span></b></label>
					<label class="sheet-table-cell sheet-left" style="width:20%;"><input type="radio" title="@{condition-Fatigued}" class="sheet-boldlabel-check" name="attr_condition-Fatigued" value="0" checked="checked" /><span class="sheet-offCase"><b><span data-i18n="neither"> Neither</span></b></span></label>
					<label class="sheet-table-cell sheet-left" style="width:20%;">&nbsp;</label>
				</div>
			</div>
		</div>

		
		<div class="sheet-repeating-sect sheet-buffs">
			<span class="sheet-nontable-name" data-i18n="buffs" style="margin-bottom:0;">Buffs</span>
			<input type="checkbox" class="sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_buff-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span></span>
			<input type="checkbox" class="sheet-split-column-show" value="1" name="attr_buff-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span></span>
			<div class="sheet-nontable-repeating sheet-sect-buff">
				<div class="sheet-repeating-fields">
					<fieldset class="repeating_buff">
						<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
						<h3 class="sheet-label-a">Buff <span name="attr_buff-name"></span></h3>					
						<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" name="attr_buff-show" title="Minimize Row" value="1" checked="checked" /><span ></span>
						<div class="sheet-linked-fields sheet-toggle">
							<label class="sheet-small-label2 sheet-toggle" data-i18n-title="toggle-buff" title="When checked, this buff is active and will count towards the totals, which will then affect the rest of the sheet. Also, only the visible/selected buffs will count towards the totals."><span data-i18n="enabled-chkbox">Enabled</span><input type="checkbox" name="attr_buff-enable_toggle" title="@{repeating_buff_$X_buff-enable_toggle}" value="1" /></label>
						</div>
						<div class="sheet-repeat-name">
							<label class="sheet-small-label2 sheet-repeat-name"><span data-i18n="name">Name</span><input type="text" name="attr_buff-name" title="@{repeating_buff_$X_buff-name}" placeholder="Name" data-i18n-placeholder="name"  /></label>
						</div>

						<input class="sheet-b-str-show" type="checkbox" title="@{repeating_buff_$X_buff-STR-show}" name="attr_buff-STR-show" value="1" style="display:none;" />
						<input class="sheet-b-dex-show" type="checkbox" title="@{repeating_buff_$X_buff-DEX-show}" name="attr_buff-DEX-show" value="1" style="display:none;" />
						<input class="sheet-b-con-show" type="checkbox" title="@{repeating_buff_$X_buff-CON-show}" name="attr_buff-CON-show" value="1" style="display:none;" />
						<input class="sheet-b-int-show" type="checkbox" title="@{repeating_buff_$X_buff-INT-show}" name="attr_buff-INT-show" value="1" style="display:none;" />
						<input class="sheet-b-wis-show" type="checkbox" title="@{repeating_buff_$X_buff-WIS-show}" name="attr_buff-WIS-show" value="1" style="display:none;" />
						<input class="sheet-b-cha-show" type="checkbox" title="@{repeating_buff_$X_buff-CHA-show}" name="attr_buff-CHA-show" value="1" style="display:none;" />
						<input class="sheet-b-ranged-show" type="checkbox" title="@{repeating_buff_$X_buff-Ranged-show}" name="attr_buff-Ranged-show" value="1" style="display:none;" />
						<input class="sheet-b-melee-show" type="checkbox" title="@{repeating_buff_$X_buff-Melee-show}" name="attr_buff-Melee-show" value="1" style="display:none;" />
						<input class="sheet-b-dmg-show" type="checkbox" title="@{repeating_buff_$X_buff-DMG-show}" name="attr_buff-DMG-show" value="1" style="display:none;" />
						<input class="sheet-b-ac-show" type="checkbox" title="@{repeating_buff_$X_buff-AC-show}" name="attr_buff-AC-show" value="1" style="display:none;" />
						<input class="sheet-b-touch-show" type="checkbox" title="@{repeating_buff_$X_buff-Touch-show}" name="attr_buff-Touch-show" value="1" style="display:none;" />
						<input class="sheet-b-cmd-show" type="checkbox" title="@{repeating_buff_$X_buff-CMD-show}" name="attr_buff-CMD-show" value="1" style="display:none;" />
						<input class="sheet-b-hp-temp-show" type="checkbox" title="@{repeating_buff_$X_buff-HP-temp-show}" name="attr_buff-HP-temp-show" value="1" style="display:none;" />
						<input class="sheet-b-fort-show" type="checkbox" title="@{repeating_buff_$X_buff-Fort-show}" name="attr_buff-Fort-show" value="1" style="display:none;" />
						<input class="sheet-b-will-show" type="checkbox" title="@{repeating_buff_$X_buff-Will-show}" name="attr_buff-Will-show" value="1" style="display:none;" />
						<input class="sheet-b-ref-show" type="checkbox" title="@{repeating_buff_$X_buff-Ref-show}" name="attr_buff-Ref-show" value="1" style="display:none;" />
						<input class="sheet-b-check-show" type="checkbox" title="@{repeating_buff_$X_buff-Check-show}" name="attr_buff-Check-show" value="1" style="display:none;" />
						<input class="sheet-b-casterlevel-show" type="checkbox" title="@{repeating_buff_$X_buff-CasterLevel-show}" name="attr_buff-CasterLevel-show" value="1" style="display:none;" />				
						
						<div class="sheet-linked-fields sheet-b-str">
							<input type="checkbox" name="attr_buff-STR_error" class="sheet-warn-mshow" value="1" style="display:none;" />
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="strength-calculation-abbrv">STR calc</span><input type="text" name="attr_buff-STR_macro-text" title="@{repeating_buff_$X_buff-STR_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="strength-abbrv">STR</span><input type="number" name="attr_buff-STR" title="@{repeating_buff_$X_buff-STR}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-dex">
							<input type="checkbox" name="attr_buff-DEX_error" class="sheet-warn-mshow" value="1" style="display:none;" />
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="dexterity-calculation-abbrv">DEX calc</span><input type="text" name="attr_buff-DEX_macro-text" title="@{repeating_buff_$X_buff-DEX_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="dexterity-abbrv">DEX</span><input type="number" name="attr_buff-DEX" title="@{repeating_buff_$X_buff-DEX}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-con">
							<input type="checkbox" name="attr_buff-CON_error" class="sheet-warn-mshow" value="1" style="display:none;" />
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="constitution-calculation-abbrv">CON Calc</span><input type="text" name="attr_buff-CON_macro-text" title="@{repeating_buff_$X_buff-CON_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="constitution-abbrv">CON</span><input type="number" name="attr_buff-CON" title="@{repeating_buff_$X_buff-CON}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-int">
							<input type="checkbox" name="attr_buff-INT_error" class="sheet-warn-mshow" value="1" style="display:none;" />
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="intelligence-calculation-abbrv">INT Calc</span><input type="text" name="attr_buff-INT_macro-text" title="@{repeating_buff_$X_buff-INT_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="intelligence-abbrv">INT</span><input type="number" name="attr_buff-INT" title="@{repeating_buff_$X_buff-INT}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-wis">
							<input type="checkbox" name="attr_buff-WIS_error" class="sheet-warn-mshow" value="1" style="display:none;" />
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="wisdom-calculation-abbrv">WIS Calc</span><input type="text" name="attr_buff-WIS_macro-text" title="@{repeating_buff_$X_buff-WIS_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="wisdom-abbrv">WIS</span><input type="number" name="attr_buff-WIS" title="@{repeating_buff_$X_buff-WIS}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-cha">
							<input type="checkbox" name="attr_buff-CHA_error" class="sheet-warn-mshow" value="1" style="display:none;" />
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="charisma-calculation-abbrv">CHA Calc</span><input type="text" name="attr_buff-CHA_macro-text" title="@{repeating_buff_$X_buff-CHA_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="charisma-abbrv">CHA</span><input type="number" name="attr_buff-CHA" title="@{repeating_buff_$X_buff-CHA}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-fort">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="fortitude-calculation-abbrv">Fort Calc</span><input type="text" name="attr_buff-Fort_macro-text" title="@{repeating_buff_$X_buff-Fort_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="fortitude-abbrv">Fort</span><input type="number" name="attr_buff-Fort" title="@{repeating_buff_$X_buff-Fort}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-ref">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="reflex-calculation-abbrv">Ref Calc</span><input type="text" name="attr_buff-Ref_macro-text" title="@{repeating_buff_$X_buff-Ref_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="reflex-abbrv">Ref</span><input type="number" name="attr_buff-Ref" title="@{repeating_buff_$X_buff-Ref}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-will">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="willpower-calculation-abbrv">Will Calc</span><input type="text" name="attr_buff-Will_macro-text" title="@{repeating_buff_$X_buff-Will_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="willpower-abbrv">Will</span><input type="number" name="attr_buff-Will" title="@{repeating_buff_$X_buff-Will}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-ac">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="armor-class-calculation-abbrv">AC Calc</span><input type="text" name="attr_buff-AC_macro-text" title="@{repeating_buff_$X_buff-AC_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="armor-class-abbrv">AC</span><input type="number" name="attr_buff-AC" title="@{repeating_buff_$X_buff-AC}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-touch">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="touch-armor-class-calculation-abbrv">Touch Calc</span><input type="text" name="attr_buff-Touch_macro-text" title="@{repeating_buff_$X_buff-Touch_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="touch-armor-class-abbrv">Touch</span><input type="number" name="attr_buff-Touch" title="@{repeating_buff_$X_buff-Touch}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-cmd">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="combat-maneuver-defense-calculation-abbrv">CMD Calc</span><input type="text" name="attr_buff-CMD_macro-text" title="@{repeating_buff_$X_buff-CMD_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="combat-maneuver-defense-abbrv">CMD</span><input type="number" name="attr_buff-CMD" title="@{repeating_buff_$X_buff-CMD}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>			
						<div class="sheet-linked-fields sheet-b-melee">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="melee-calculation">Melee Calc</span><input type="text" name="attr_buff-Melee_macro-text" title="@{repeating_buff_$X_buff-Melee_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="melee">Melee</span><input type="number" name="attr_buff-Melee" title="@{repeating_buff_$X_buff-Melee}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-ranged">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="ranged-calculation">Ranged Calc</span><input type="text" name="attr_buff-Ranged_macro-text" title="@{repeating_buff_$X_buff-Ranged_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="ranged">Ranged</span><input type="number" name="attr_buff-Ranged" title="@{repeating_buff_$X_buff-Ranged}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-dmg">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="damage-calculation-abbrv">DMG Calc</span><input type="text" name="attr_buff-DMG_macro-text" title="@{repeating_buff_$X_buff-DMG_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="damage-abbrv">DMG</span><input type="number" name="attr_buff-DMG" title="@{repeating_buff_$X_buff-DMG}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-check">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="check-calculation">Check Calc</span><input type="text" name="attr_buff-Check_macro-text" title="@{repeating_buff_$X_buff-Check_macro-text} Skill and ability check" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="check">Check</span><input type="number" name="attr_buff-Check" title="@{repeating_buff_$X_buff-Check} Skill and ability check" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-casterlevel">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="caster-level-calculation">Caster Lvl Calc</span><input type="text" name="attr_buff-CasterLevel_macro-text" title="@{repeating_buff_$X_buff-CasterLevel_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="caster-level-abbrv">CL</span><input type="number" name="attr_buff-CasterLevel" title="@{repeating_buff_$X_buff-CasterLevel}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-linked-fields sheet-b-hp-temp">
							<label class="sheet-small-label2 sheet-macro-text-inline"><span data-i18n="temporary-hit-points-calculation-abbrv">Temp HP Calc</span><input type="text" name="attr_buff-HP-temp_macro-text" title="@{repeating_buff_$X_buff-HP-temp_macro-text}" placeholder="# or Macro" value="" data-i18n-placeholder="number-or-macro-text-place" /></label>
							<label class="sheet-small-label2 sheet-number"><span data-i18n="hit-points-abbrv">HP</span><input type="number" name="attr_buff-HP-temp" title="@{repeating_buff_$X_buff-HP-temp}" value="0" class="sheet-calc" readonly="readonly" /></label>
						</div>
						<div class="sheet-expand" style="width:100%;display:block;clear:both;"></div>
						<div class="sheet-sect sheet-expand">
							<h4 class="sheet-sect sheet-expand"><span data-i18n="select-buffs">Select Buffs</span></h4>
							<input type="checkbox" class="sheet-options-show sheet-sect sheet-expand" title="@{repeating_buff_$X_options-show}" name="attr_options-show" value="1" style="width:115px; margin:0 -15px 0 -100px;" checked="checked" /><span></span>
							<h4 class="sheet-sect sheet-expand"><span data-i18n="notes">Notes</span></h4>
							<input type="checkbox" class="sheet-desc-show sheet-sect sheet-expand" title="@{repeating_buff_$X_description-show}" name="attr_description-show" value="1" style="width:55px; margin:0 -15px 0 -40px;" /><span></span>
							<h4 class="sheet-sect sheet-expand"><span data-i18n="identification-abbrv">IDs</span></h4>
							<input type="checkbox" class="sheet-repeating_ids-show sheet-sect sheet-expand" title="@{repeating_buff_$X_ids-show}" name="attr_ids-show" value="1" style="width: 40px; margin: 0px -15px 0 -25px;" /><span></span>
							<div class="sheet-expand" style="width:100%;display:block;clear:both;"></div>
							<div class="sheet-table sheet-options">
								<div class="sheet-table-row" style="font-weight:bold;">
									<!-- wrap do not make into table cells for 1/2 size col -->
									<span title="Bonus to strength ability score." data-i18n-title="buff-strength-title"><span data-i18n="strength-abbrv">STR</span>:<input class="sheet-b-str-show" type="checkbox" title="@{repeating_buff_$X_buff-STR-show}" name="attr_buff-STR-show" value="1" /></span>
									<span title="Bonus to dexterity ability score." data-i18n-title="buff-dexterity-title"><span data-i18n="dexterity-abbrv">DEX</span>:<input class="sheet-b-dex-show" type="checkbox" title="@{repeating_buff_$X_buff-DEX-show}" name="attr_buff-DEX-show" value="1" /></span>
									<span title="Bonus to constitution ability score." data-i18n-title="buff-constitution-title"><span data-i18n="constitution-abbrv">CON</span>:<input class="sheet-b-con-show" type="checkbox" title="@{repeating_buff_$X_buff-CON-show}" name="attr_buff-CON-show" value="1" /></span>
									<span title="Bonus to intelligence ability score." data-i18n-title="buff-intelligence-title"><span data-i18n="intelligence-abbrv">INT</span>:<input class="sheet-b-int-show" type="checkbox" title="@{repeating_buff_$X_buff-INT-show}" name="attr_buff-INT-show" value="1" /></span>
									<span title="Bonus to wisdom ability score." data-i18n-title="buff-wisdom-title"><span data-i18n="wisdom-abbrv">WIS</span>:<input class="sheet-b-wis-show" type="checkbox" title="@{repeating_buff_$X_buff-WIS-show}" name="attr_buff-WIS-show" value="1" /></span>
									<span title="Bonus to charisma ability score." data-i18n-title="buff-charisma-title"><span data-i18n="charisma-abbrv">CHA</span>:<input class="sheet-b-cha-show" type="checkbox" title="@{repeating_buff_$X_buff-CHA-show}" name="attr_buff-CHA-show" value="1" /></span>
									<span title="Bonus to fortitude saving throws." data-i18n-title="buff-fortitude-title"><span data-i18n="fortitude-abbrv">Fort</span>:<input class="sheet-b-fort-show" type="checkbox" title="@{repeating_buff_$X_buff-Fort-show}" name="attr_buff-Fort-show" value="1" /></span>
									<span title="Bonus to reflex saving throws." data-i18n-title="buff-reflex-title"><span data-i18n="reflex-abbrv">Ref</span>:<input class="sheet-b-ref-show" type="checkbox" title="@{repeating_buff_$X_buff-Ref-show}" name="attr_buff-Ref-show" value="1" /></span>
									<span title="Bonus to will saving throws." data-i18n-title="buff-will-title"><span data-i18n="willpower-abbrv">Will</span>:<input class="sheet-b-will-show" type="checkbox" title="@{repeating_buff_$X_buff-Will-show}" name="attr_buff-Will-show" value="1" /></span>
									<span title="Bonus to armor class." data-i18n-title="buff-armor-class-title"><span data-i18n="armor-class-abbrv">AC</span>:<input class="sheet-b-ac-show" type="checkbox" title="@{repeating_buff_$X_buff-AC-show}" name="attr_buff-AC-show" value="1" /></span>
									<span title="Bonus to touch attack armor class." data-i18n-title="buff-touch-title"><span data-i18n="touch-armor-class-abbrv">Touch AC</span>:<input class="sheet-b-touch-show" type="checkbox" title="@{repeating_buff_$X_buff-Touch-show}" name="attr_buff-Touch-show" value="1" /></span>
									<span title="Bonus to combat maneuver defense." data-i18n-title="buff-cmd-title"><span data-i18n="combat-maneuver-defense-abbrv">CMD</span>:<input class="sheet-b-cmd-show" type="checkbox" title="@{repeating_buff_$X_buff-CMD-show}" name="attr_buff-CMD-show" value="1" /></span>
									<span title="Bonus to all melee attack rolls." data-i18n-title="buff-melee-title"><span data-i18n="melee">Melee</span>:<input class="sheet-b-melee-show" type="checkbox" title="@{repeating_buff_$X_buff-Melee-show}" name="attr_buff-Melee-show" value="1" /></span>
									<span title="Bonus to all ranged attack rolls." data-i18n-title="buff-ranged-title"><span data-i18n="ranged">Ranged</span>:<input class="sheet-b-ranged-show" type="checkbox" title="@{repeating_buff_$X_buff-Ranged-show}" name="attr_buff-Ranged-show" value="1" /></span>
									<span title="Bonus to all attack damage." data-i18n-title="buff-damage-title"><span data-i18n="damage-abbrv">Dmg</span>:<input class="sheet-b-dmg-show" type="checkbox" title="@{repeating_buff_$X_buff-DMG-show}" name="attr_buff-DMG-show" value="1" /></span>
									<span title="Bonus to all skill and ability checks." data-i18n-title="buff-skill-checks-title"><span data-i18n="check">Check</span>:<input class="sheet-b-check-show" type="checkbox" title="@{repeating_buff_$X_buff-Check-show}" name="attr_buff-Check-show" value="1" /></span>
									<span title="Bonus to spell caster level." data-i18n-title="buff-caster-level-title"><span data-i18n="caster-level">Caster Lvl</span>:<input class="sheet-b-casterlevel-show" type="checkbox" title="@{repeating_buff_$X_buff-CasterLevel-show}" name="attr_buff-CasterLevel-show" value="1" /></span>
									<span title="Temporary hit points." data-i18n-title="buff-temp-hp-title"><span data-i18n="temporary-hit-points-abbrv">Temp HP</span>:<input class="sheet-b-hp-temp-show" type="checkbox" title="@{repeating_buff_$X_buff-HP-temp-show}" name="attr_buff-HP-temp-show" value="1" /></span>
								</div>
							</div>
							<textarea class="sheet-desc" name="attr_buff-notes" title="@{repeating_buff_$X_buff-notes}" placeholder="Buff Notes" data-i18n-placeholder="buff-notes"></textarea>
							<div class="sheet-repeating_ids sheet-table-row">
								<span class="sheet-selectable" name="attr_row_id" />
							</div>
						</div>
					</fieldset>
				</div>
			</div>

		</div>


	</div>


<input type="checkbox" class="sheet-tab1 sheet-pagetab1" name="attr_tab" value="1" style="display:none;" />
<input type="checkbox" class="sheet-tab2 sheet-pagetab2" name="attr_tab" value="2" style="display:none;" />
<input type="checkbox" class="sheet-tab3 sheet-pagetab3" name="attr_tab" value="3" style="display:none;" />
<input type="checkbox" class="sheet-tab4 sheet-pagetab4" name="attr_tab" value="4" style="display:none;" />
<input type="checkbox" class="sheet-tab5 sheet-pagetab5" name="attr_tab" value="5" style="display:none;" />
<input type="checkbox" class="sheet-tab6 sheet-pagetab6" name="attr_tab" value="6" style="display:none;" />
<input type="checkbox" class="sheet-tab7 sheet-pagetab7" name="attr_tab" value="7" style="display:none;" />
<input type="checkbox" class="sheet-tab8 sheet-pagetab8" name="attr_tab" value="8" style="display:none;" />
<input type="checkbox" class="sheet-tab9 sheet-pagetab9" name="attr_tab" value="9" style="display:none;" />
<input type="checkbox" class="sheet-tab99 sheet-pagetab99" name="attr_tab" value="99" style="display:none;" />
<div class="sheet-mainnav sheet-tabs" role="menubar" aria-label="Main navigation hide and show sections." data-i18n-aria-label="nav-main-desc">
		<label role="menuitem" class="sheet-tab sheet-tab1" style="width:7%;" title="Core" data-i18n-title="core"><span data-i18n="core">Core</span><input type="radio" class="sheet-tab" name="attr_tab" value="1" checked="checked" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab2" style="width:19%;" title="Classes / Abilities" data-i18n-title="class-abilities"><span data-i18n="class-abilities">Classes / Abilities</span><input type="radio" class="sheet-tab" name="attr_tab" value="2" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab3" style="width:10%;" data-i18n-title="defenses"><span data-i18n="Defenses">Defenses</span><input type="radio" class="sheet-tab" name="attr_tab" value="3" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab4" title="Attacks" data-i18n-title="attacks"><span data-i18n="attacks">Attacks</span><input type="radio" class="sheet-tab" name="attr_tab" value="4" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab5" title="Skills" data-i18n-title="skills"><span data-i18n="skills">Skills</span><input type="radio" class="sheet-tab" name="attr_tab" value="5" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab6" style="width:10%;" title="Inventory" data-i18n-title="inventory"><span data-i18n="inventory">Inventory</span><input type="radio" class="sheet-tab" name="attr_tab" value="6" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab7" title="Spells" data-i18n-title="spells"><span data-i18n="spells">Spells</span><input type="radio" class="sheet-tab" name="attr_tab" value="7" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab8" style="width:7%;" title="NPC" data-i18n-title="npc"><span data-i18n="npc">NPC</span><input type="radio" class="sheet-tab" name="attr_tab" value="8"  /></label>
		<label role="menuitem" class="sheet-tab sheet-tab99" style="width:6%;" title="All" data-i18n-title="all"><span data-i18n="all">All</span><input type="radio" class="sheet-tab" name="attr_tab" value="99" checked="checked" /></label>
		<label role="menuitem" class="sheet-tab sheet-tab9 sheet-pictos" style="width:2em;" title="Configuration" data-i18n-title="configuration"><span class="sheet-label-a" data-i18n="configuration">Configuration</span>y<input type="radio" class="sheet-tab" name="attr_tab" value="9"  /></label>	
</div>
	

<div class="sheet-main">

	<div class="sheet-section sheet-section-core" role="region" aria-label="Core" data-i18n-aria-label="core">
		<h1 data-i18n="core">Core</h1>
		<div class="sheet-h2-section">
			<h2 data-i18n="char">Character Details</h2>
			<label for="attr_character-details-show" class="sheet-label-a" data-i18n="char-h-exp">Expand Character Details</label>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" id="attr_character-details-show" name="attr_character-details-show" value="1" style="width: 12em;margin: -0.5em -1em 0 -11em;" checked="checked" /><span></span>
			<div class="sheet-nontable sheet-sect">
				<span class="sheet-nontable-name" data-i18n="char">Character Details</span>
				<label class="sheet-small-label2" style="width: 27%;"><span data-i18n="character-name">Character Name</span><input title="@{character_name}" type="text" name="attr_character_name" placeholder="Character Name" data-i18n-placeholder="character-name"></label>
				<label class="sheet-small-label2" style="width: 20%;"><span data-i18n="title">Title/Nickname</span><input title="@{character_title}" type="text" name="attr_character_title" placeholder="Title/Nickname" data-i18n-placeholder="title"></label>
				<label class="sheet-small-label2" style="width: 20%;"><span data-i18n="player-name">Player Name</span><input title="@{player-name}" type="text" name="attr_player-name" placeholder="Player Name" data-i18n-placeholder="player-name"></label>
				<label class="sheet-small-label2" style="width: 15%;"><span data-i18n="race">Race</span><input title="@{race}" type="text" name="attr_race" placeholder="Race" data-i18n-placeholder="race"></label>
				<label class="sheet-small-label2" style="width: 10%;"><span data-i18n="gender">Gender</span><input title="@{gender}" type="text" name="attr_gender" placeholder="Gender" data-i18n-placeholder="gender"></label>
				<label class="sheet-small-label2" style="width: 20%;"><span data-i18n="alignment">Alignment</span><input title="@{alignment}" type="text" name="attr_alignment" placeholder="Alignment" data-i18n-placeholder="alignment"></label>
				<label class="sheet-small-label2" style="width: 24%;"><span data-i18n="vision">Vision</span><input title="@{vision}" type="text" name="attr_vision" placeholder="Vision Details" data-i18n-placeholder="vision-details"></label>
				<label class="sheet-small-label2" style="width: 15%;">
					<span data-i18n="size">Size</span>
					<select title="@{size}" name="attr_size">
						<option value="-8" data-i18n="size-colossal">Colossal</option>
						<option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
						<option value="-2" data-i18n="size-huge">Huge</option>
						<option value="-1" data-i18n="size-large">Large</option>
						<option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
						<option value="1" data-i18n="size-small">Small</option>
						<option value="2" data-i18n="size-tiny">Tiny</option>
						<option value="4" data-i18n="size-diminutive">Diminutive</option>
						<option value="8" data-i18n="size-fine">Fine</option>
					</select>
				</label>

				<label class="sheet-small-label2" style="width: 6%"><span data-i18n="modifier-abbrv">Mod</span><input title="@{size}" type="number" name="attr_size" value="Medium" class="sheet-calc" readonly="readonly"></label>
				<label class="sheet-small-label2" style="width: 6%"><span data-i18n="skill-size-modifier">Skill</span><input title="@{size_skill}" type="number" name="attr_size_skill" value="0" class="sheet-calc" readonly="readonly"></label>
				<label class="sheet-small-label2" style="width: 15%;">
					<span data-i18n-title="legs-title" title="How many legs the character has. Affects carrying capacity">Legs</span>
					<select title="@{legs}" name="attr_legs">
						<option value="2" data-i18n="two-legged-default" selected>&#8226;Bipedal</option>
						<option value="4" data-i18n="four-legged">Quadruped</option>
					</select>
				</label>
				<label class="sheet-small-label2" style="width: 8%;"><span data-i18n="age">Age</span><input title="@{age}" type="number" name="attr_age" placeholder="Age" data-i18n-placeholder="details-age" ></label>		
				<label class="sheet-small-label2" style="width: 8%"><span data-i18n="height">Height</span><input title="@{height}" type="text" name="attr_height" placeholder="Height" data-i18n-placeholder="details-height" ></label>
				<label class="sheet-small-label2" style="width: 8%"><span data-i18n="weight">Weight</span><input title="@{weight}" type="text" name="attr_weight" placeholder="Weight" data-i18n-placeholder="details-weight" ></label>
				<label class="sheet-small-label2" style="width: 18%;"><span data-i18n="hair">Hair</span><input title="@{hair}" type="text" name="attr_hair" placeholder="Hair Details" data-i18n-placeholder="hair-details" ></label>
				<label class="sheet-small-label2" style="width: 18%;"><span data-i18n="eyes">Eyes</span><input title="@{eyes}" type="text" name="attr_eyes" placeholder="Eyes Details" data-i18n-placeholder="eyes-details" ></label>
				<label class="sheet-small-label2" style="width: 18%;"><span data-i18n="skin">Skin</span><input title="@{skin}" type="text" name="attr_skin" placeholder="Skin Details" data-i18n-placeholder="skin-details" ></label>
				<label class="sheet-small-label2" style="width: 18%"><span data-i18n="deity">Deity</span><input title="@{deity}" type="text" name="attr_deity" placeholder="Deity" data-i18n-placeholder="details-deity" ></label>
				<label class="sheet-small-label2" style="width: 18%"><span data-i18n="homeland">Homeland</span><input title="@{homeland}" type="text" name="attr_homeland" placeholder="Homeland" data-i18n-placeholder="details-homeland" ></label>
				<label class="sheet-small-label2" style="width: 18%"><span data-i18n="occupation">Occupation</span><input title="@{occupation}" type="text" name="attr_occupation" placeholder="Occupation" data-i18n-placeholder="details-occupation" ></label>
				<label class="sheet-small-label2" style="width: 39%; float:right;"><span data-i18n="languages">Languages</span><input title="@{languages}" type="text" name="attr_languages" placeholder="Languages" data-i18n-placeholder="details-languages" class="sheet-entry-wide" style="width: 100%;"></label>
				<input title="@{size_display}" type="hidden" name="attr_size_display" >
				<input title="@{CMD-size}" type="hidden" name="attr_CMD-size" value="0" >
				<input title="@{size_skill_double}" type="hidden" name="attr_size_skill_double" value="0" >
			</div>		
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="abilities">Ability Scores</h2>
			<label for="attr_ability-scores-show" class="sheet-label-a" data-i18n="abilities-h-exp">Expand Character Details</label>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" id="attr_ability-scores-show" name="attr_ability-scores-show" value="1" style="width: 6em;margin: -0.5em -1em 0 -5em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="abilities">Ability Scores</span>
				<div class="sheet-table-group-head">
					<span class="sheet-table-header" data-i18n="ability">Ability</span>
					<span class="sheet-table-header" data-i18n="total">Total</span>
					<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
					<span class="sheet-table-header sheet-divider">|</span>
					<span class="sheet-table-header" data-i18n="base-value">Base</span>
					<span class="sheet-table-header sheet-divider">|</span>
					<span class="sheet-table-header" data-i18n="enhancement-abbrv">Enhan</span>
					<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
					<span class="sheet-table-header" data-i18n="buffs">Buffs</span>
					<span class="sheet-table-header sheet-divider">|</span>
					<span class="sheet-table-header" data-i18n="damage">Damage</span>
					<span class="sheet-table-header" data-i18n="penalty">Penalty</span>
					<span class="sheet-table-header" data-i18n="drain">Drain</span>
					<span class="sheet-table-header" data-i18n="condition-abbrv">Cond</span>
				</div>
				<div class="sheet-table-group">
					<div class="sheet-table-row">
						<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|STR-Check}" type="roll" name="roll_STR-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Strength}} {{Check=[[ 1d20 + [[ @{STR-mod} ]]  + [[ @{checks-cond}  ]] ]]}}">&nbsp;<span data-i18n="strength-abbrv">STR</span></button></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{STR}" type="number" name="attr_STR" value="10" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{STR-mod}" type="number" name="attr_STR-mod" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{STR-base}" type="number" name="attr_STR-base" value="10" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{STR-enhance}" type="number" name="attr_STR-enhance" value="0" /></span>
						<span class="sheet-table-cell"><input title="@{STR-misc}" type="number" name="attr_STR-misc" value="0" min="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{buff_STR-total}" type="number" name="attr_buff_STR-total" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{STR-damage}" type="number" name="attr_STR-damage" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{STR-penalty}" type="number" name="attr_STR-penalty" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{STR-drain}" type="number" name="attr_STR-drain" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{STR-cond}" type="number" name="attr_STR-cond" value="0" max="0" /></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|DEX-Check}" type="roll" name="roll_DEX-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Dexterity}} {{Check=[[ 1d20 + [[ @{DEX-mod} ]]  + [[ @{checks-cond} ]] ]]}}">&nbsp;<span data-i18n="dexterity-abbrv">DEX</span></button></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{DEX}" type="number" name="attr_DEX" value="10" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{DEX-mod}" type="number" name="attr_DEX-mod" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{DEX-base}" type="number" name="attr_DEX-base" value="10" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{DEX-enhance}" type="number" name="attr_DEX-enhance" value="0" /></span>
						<span class="sheet-table-cell"><input title="@{DEX-misc}" type="number" name="attr_DEX-misc" value="0" min="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{buff_DEX-total}" type="number" name="attr_buff_DEX-total" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{DEX-damage}" type="number" name="attr_DEX-damage" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{DEX-penalty}" type="number" name="attr_DEX-penalty" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{DEX-drain}" type="number" name="attr_DEX-drain" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{DEX-cond}" type="number" name="attr_DEX-cond" value="0" max="0" /></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|CON-Check}" type="roll" name="roll_CON-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Constitution}} {{Check=[[ 1d20 + [[ @{CON-mod} ]]  + [[ @{checks-cond} ]] ]]}}">&nbsp;<span data-i18n="constitution-abbrv">CON</span></button></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{CON}" type="number" name="attr_CON" value="10" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{CON-mod}" type="number" name="attr_CON-mod" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{CON-base}" type="number" name="attr_CON-base" value="10" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{CON-enhance}" type="number" name="attr_CON-enhance" value="0" /></span>
						<span class="sheet-table-cell"><input title="@{CON-misc}" type="number" name="attr_CON-misc" value="0" min="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{buff_CON-total}" type="number" name="attr_buff_CON-total" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{CON-damage}" type="number" name="attr_CON-damage" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{CON-penalty}" type="number" name="attr_CON-penalty" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{CON-drain}" type="number" name="attr_CON-drain" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{CON-cond}" type="number" name="attr_CON-cond" value="0" max="0" /></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|INT-Check}" type="roll" name="roll_INT-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Intelligence}} {{Check=[[ 1d20 + [[ @{INT-mod} ]]  + [[ @{checks-cond}  ]] ]]}}">&nbsp;<span data-i18n="intelligence-abbrv">INT</span></button></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{INT}" type="number" name="attr_INT" value="10" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{INT-mod}" type="number" name="attr_INT-mod" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{INT-base}" type="number" name="attr_INT-base" value="10" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{INT-enhance}" type="number" name="attr_INT-enhance" value="0" /></span>
						<span class="sheet-table-cell"><input title="@{INT-misc}" type="number" name="attr_INT-misc" value="0" min="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{buff_INT-total}" type="number" name="attr_buff_INT-total" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{INT-damage}" type="number" name="attr_INT-damage" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{INT-penalty}" type="number" name="attr_INT-penalty" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{INT-drain}" type="number" name="attr_INT-drain" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{INT-cond}" type="number" name="attr_INT-cond" value="0" max="0" /></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|WIS-Check}" type="roll" name="roll_WIS-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Wisdom}} {{Check=[[ 1d20 + [[ @{WIS-mod} ]]  + [[ @{checks-cond} ]] ]]}}">&nbsp;<span data-i18n="wisdom-abbrv">WIS</span></button></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{WIS}" type="number" name="attr_WIS" value="10" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{WIS-mod}" type="number" name="attr_WIS-mod" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{WIS-base}" type="number" name="attr_WIS-base" value="10" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{WIS-enhance}" type="number" name="attr_WIS-enhance" value="0" /></span>
						<span class="sheet-table-cell"><input title="@{WIS-misc}" type="number" name="attr_WIS-misc" value="0" min="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{buff_WIS-total}" type="number" name="attr_buff_WIS-total" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{WIS-damage}" type="number" name="attr_WIS-damage" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{WIS-penalty}" type="number" name="attr_WIS-penalty" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{WIS-drain}" type="number" name="attr_WIS-drain" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{WIS-cond}" type="number" name="attr_WIS-cond" value="0" max="0" /></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|CHA-Check}" type="roll" name="roll_CHA-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Charisma}} {{Check=[[ 1d20 + [[ @{CHA-mod} ]]  + [[ @{checks-cond} ]] ]]}}">&nbsp;<span data-i18n="charisma-abbrv">CHA</span></button></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{CHA}" type="number" name="attr_CHA" value="10" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{CHA-mod}" type="number" name="attr_CHA-mod" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{CHA-base}" type="number" name="attr_CHA-base" value="10" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{CHA-enhance}" type="number" name="attr_CHA-enhance" value="0" /></span>
						<span class="sheet-table-cell"><input title="@{CHA-misc}" type="number" name="attr_CHA-misc" value="0" min="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{buff_CHA-total}" type="number" name="attr_buff_CHA-total" value="0" /></span>
						<span class="sheet-divider-lg">|</span>
						<span class="sheet-table-cell"><input title="@{CHA-damage}" type="number" name="attr_CHA-damage" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{CHA-penalty}" type="number" name="attr_CHA-penalty" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input title="@{CHA-drain}" type="number" name="attr_CHA-drain" value="0" max="0" /></span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" title="@{CHA-cond}" type="number" name="attr_CHA-cond" value="0" max="0" /></span>
					</div>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section"> 
			<h2 data-i18n="health-and-wounds">Health and Wounds</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_health-and-wounds-show" value="1" style="width: 13em;margin: -0.5em -1em 0 -12em;" checked="checked"><span></span>
			<span class="sheet-nontable-name sheet-sect" style="margin-bottom: 0px" data-i18n="health-and-wounds">Health and Wounds</span>
			<div class="sheet-sect sheet-wide-numbers" style="width: 25%;float: left;display: inline-block;min-height: 4em;min-width: 12em;">		
				<div class="sheet-table">
					<div class="sheet-table-group-head">
						<span class="sheet-table-header" title="Player adjustable hit tracking of current hit points remaining." data-i18n-title="current-hp-title" data-i18n="current-hit-points-abbrv">Curr HP</span>
						<span class="sheet-table-header">/</span>
						<span class="sheet-table-header" title="Automatically calculated using Class hit points, Favored Class hit points (see Classes tab), Ability bonus/penalty &amp; Level, HP Adj1, Mod2, Drained condition and Mythic Adventures hit points (if enabled)." data-i18n-title="max-hp-title" data-i18n="maximum-abbrv">Max</span>
					</div>
					<div class="sheet-table-row">		
						<span class="sheet-table-cell"><input type="number" title="@{HP}" name="attr_HP" value="0"></span>
						<span class="sheet-divider">/</span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" type="number" title="@{HP|max}" name="attr_HP_max" value="0"></span>
					</div>
				</div>
				<div class="sheet-table" style="width: 100% ; margin-top: 2px">
					<div class="sheet-table-row">
						<span class="sheet-table-header" title="Player adjustable tracking of non-lethal damage. Character is staggered if nonlethal damage >= current hp, field will outline in yellow." data-i18n-title="nonlethal-damage-title" data-i18n="nonlethal-damage">Nonlethal Damage</span>			
					</div>
					<div class="sheet-table-row">	
						<input type="checkbox" class="sheet-warn-show" name="attr_condition-Staggered" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input type="number" title="@{non-lethal-damage}" name="attr_non-lethal-damage" value="0" min="0"></span>
					</div>
				</div>
			</div>
			<div class="sheet-sect sheet-wide-numbers" style="width: 70%;float: right;display: inline-block;height: auto;min-width: 20em;margin-left: 1em;">
				<div class="sheet-table">
					<div class="sheet-table-group-head">
						<span class="sheet-table-header">&nbsp;</span>
						<span class="sheet-table-header" title="The Ability Score that contributes a bonus/penalty to the overall character hit points by level." data-i18n-title="hit-points-ability-title" data-i18n="ability">Ability</span>
						<span class="sheet-table-header" title="The modifier that comes from the Ability Score chosen to adjust hit points per level." data-i18n-title="hit-points-modifier-title" data-i18n="modifier-abbrv">Mod</span>
						<span class="sheet-table-header">&nbsp;</span>
						<span class="sheet-table-header" title="Player configurable flat adjustment to maximum hit points." data-i18n-title="hit-points-adjustment-title" data-i18n="hit-points-adjustment-1-abbrv">HP adj1</span>
						<span class="sheet-table-header">&nbsp;</span>
						<span class="sheet-table-header" title="Player configurable adjustment to maximum hit points by way of a formula." data-i18n-title="hit-points-adjustment-title" data-i18n="hit-point-adjustment-2-abbrv">HP adj2</span>
						<span class="sheet-table-header" title="The value produced by the HP adj2 formula." data-i18n-title="hit-points-modifier-2-title" data-i18n="modifier-2-abbrv">Mod2</span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-divider">=</span>				
						<span class="sheet-table-cell">
							<select title="@{HP-ability}" name="attr_HP-ability">
								<option value="0" data-i18n="none">None</option>
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv-default" selected>&#8226;CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>					
						<span class="sheet-table-cell sheet-number"><input type="number" class="sheet-calc sheet-entry-wide" title="@{HP-ability-mod}" name="attr_HP-ability-mod" value="0" readonly="readonly"></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell sheet-number"><input type="number" title="@{HP-misc}" name="attr_HP-misc" value="0"></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input type="text" title="@{HP-formula-macro-text}" name="attr_HP-formula-macro-text" value="" placeholder="# or Macro" data-i18n-placeholder="number-or-macro-text-place"></span>
						<span class="sheet-table-cell sheet-number"><input type="number" class="sheet-calc sheet-entry-wide" title="@{HP-formula-mod}" name="attr_HP-formula-mod" value="0" readonly="readonly"></span>
					</div>		
				</div>			
				<div class="sheet-table"> 
					<div class="sheet-table-group-head">
						<span class="sheet-table-header" title="Recalculate HP and Temp HP and set current HP to max." data-i18n-title="recalculate-hit-points-title" data-i18n="reset">Reset</span>
						<span class="sheet-table-header" title="Current Temporary hit points." data-i18n-title="temporary-hit-points-title"  data-i18n="temporary-hit-points-abbrv">Temp HP</span>
						<span class="sheet-table-header">&nbsp;</span>
						<span class="sheet-table-header" title="Temporary hit points max if using as secondary pool." data-i18n-title="temporary-hit-points-maximum-title" data-i18n="maximum-abbrv">Max</span>	
						<span class="sheet-table-header">&nbsp;</span>					
						<span class="sheet-table-header" title="Player configurable temporary hit points that add to the total Temp HP value." data-i18n-title="temporary-hit-points-miscellaneous-title" data-i18n="miscellaneous-abbrv">Misc</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" title="Temporary hit points that come from active Buffs (see Core tab)." data-i18n-title="temporary-hit-points-buff-title" data-i18n="buff">Buff</span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell"><label for="sheet-fa-refresh-hp" class="sheet-label-a" data-i18n="recalculate-hit-points">Recalculate hit points and set hit points to max</label>
						<input id="sheet-fa-refresh-hp" type="checkbox" hidden="" name="attr_HP_reset" value="1" class="sheet-cssbutton sheet-refreshbutton sheet-refreshbutton-hp" title="Recalculate HP and reset to max." data-i18n-title="recalculate-hit-points"><span></span></span>
						<span class="sheet-table-cell"><input type="number" title="@{HP-temp}" name="attr_HP-temp" value="0"></span>
						<span class="sheet-divider">/</span>
						<span class="sheet-table-cell"><input class="sheet-calc" readonly="readonly" type="number" title="@{HP-temp|max}" name="attr_HP-temp_max" value="0"></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input type="number" title="@{HP-temp-misc}" name="attr_HP-temp-misc" value="0"></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell" style="text-align:right;"><input class="sheet-calc" readonly="readonly" type="number" title="@{buff_HP-temp-total}" name="attr_buff_HP-temp-total" value="0"></span>
					</div>
				</div>
			</div>
		
			<div class="sheet-table sheet-sect" style="padding-top: 0.25rem ; padding-bottom: 0.25rem">
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_wound_threshold-show" value="1" style="display: none">
				<div class="sheet-table-row sheet-sect">
					<h3  class="sheet-table-row-name" style="background-color: #000 ; color: #fff ; font-weight: bold" data-i18n="wound-threshold">Wound Threshold</h3>
					<span class="sheet-table-cell"><label><input type="radio" title="@{condition-Wounds}" name="attr_condition-Wounds" value="0" checked="checked"><b class="sheet-offCase" style="vertical-align: middle" data-i18n="healthy"> Healthy </b></label></span>
					<span class="sheet-table-cell"><label title="-1 penalty on all attack rolls, saving throws, skill checks, and ability checks, as well as to AC and caster level" data-i18n-title="grazed-title"><input type="radio" title="@{condition-Wounds}" class="sheet-boldlabel-check" name="attr_condition-Wounds" value="1"><b data-i18n="grazed"> Grazed </b><input title="@{HP_grazed} 75% or less of max HP" type="number" name="attr_HP_grazed" value="0" class="sheet-calc" readonly="readonly"></label></span>
					<span class="sheet-table-cell"><label title="-2 penalty on all attack rolls, saving throws, skill checks, and ability checks, as well as to AC and caster level" data-i18n-title="wounded-title"><input type="radio" title="@{condition-Wounds}" class="sheet-boldlabel-check" name="attr_condition-Wounds" value="2"><b data-i18n="wounded"> Wounded </b><input title="@{HP_wounded} 50% or less of max HP" type="number" name="attr_HP_wounded" value="0" class="sheet-calc" readonly="readonly"></label></span>
					<span class="sheet-table-cell"><label title="-3 penalty on all attack rolls, saving throws, skill checks, and ability checks, as well as to AC and caster level" data-i18n-title="critical-title"><input type="radio" title="@{condition-Wounds}" class="sheet-boldlabel-check" name="attr_condition-Wounds" value="3"><b data-i18n="critical"> Critical </b><input title="@{HP_critical} 25% or less of max HP" type="number" name="attr_HP_critical" value="0" class="sheet-calc" readonly="readonly"></label></span>
					<span class="sheet-table-cell"><label title="Not unconscious until HP is under this value." data-i18n-title="disabled-title"><b data-i18n="disabled"> Disabled </b><input title="@{HP_disabled}" type="number" name="attr_HP_disabled" value="0" class="sheet-calc" readonly="readonly"></label></span>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="initiative-and-speeds">Initiative and Speeds</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_initiative-and-speeds-show" value="1" style="width: 14em;margin: -0.5em -1em 0 -13em;" checked="checked"><span></span>
			<div style="clear: both ; display: block"></div>
			<div class="sheet-sect" style="display: inline-block;float: left;width: 42%;min-width: 21em;">
				<div class="sheet-table sheet-wide-numbers">
					<span class="sheet-table-name" data-i18n="initiative">Initiative</span>
					<div class="sheet-table-group">
						<div class="sheet-table-group-head">
							<span class="sheet-table-header" data-i18n="roll">Roll</span>
							<span class="sheet-table-header" data-i18n="total">Total</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" style="max-width: 6em ; min-width: 3em" data-i18n="ability">Ability</span>
							<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="trait">Trait</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="condition-abbrv">Cond</span>
						</div>
						<div class="sheet-table-group">
							<div class="sheet-table-row">
								<span class="sheet-table-cell" style="width: 60px ; vertical-align: text-bottom"><button title="%{selected|Roll-for-initiative}" type="roll" name="roll_Roll-for-initiative" value="@{init-macro-text}" class="sheet-btn sheet-ui-draggable btn ui-draggable">&nbsp;<span data-i18n="initiative-abbrv">INIT</span></button></span>
								<span class="sheet-table-cell"><input type="number" title="@{init}" name="attr_init" value="0" class="sheet-calc" readonly="readonly"></span>
								<span class="sheet-divider">=</span>
								<span class="sheet-table-cell">
								<select title="@{init-ability}" name="attr_init-ability">
									<option value="0" data-i18n="none">None</option>
									<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
									<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
									<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
									<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
									<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
									<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
								</select>
								</span>
								<span class="sheet-table-cell"><input type="number" title="@{init-ability-mod}" name="attr_init-ability-mod" value="0" class="sheet-calc" readonly="readonly"></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell"><input type="number" title="@{init-trait}" name="attr_init-trait" value="0"></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell"><input type="number" title="@{init-misc}" name="attr_init-misc" value="0"></span>
								<span class="sheet-divider">-</span>
								<span class="sheet-table-cell"><input type="number" title="@{condition-Deafened}" name="attr_condition-Deafened" value="0" class="sheet-calc" readonly="readonly"></span>
							</div>
						</div>	
					</div>
					<div class="sheet-table-group">
						<div class="sheet-table-row" style="vertical-align: top">
							<span class="sheet-table-cell">
								<textarea class="sheet-init-notes" name="attr_init-macro-text" title="@{init-macro-text}" placeholder="# or Macro" data-i18n-placeholder="number-or-macro-text-place"  >@{PC-whisper} &amp;{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Initiative}} {{check=[[ (1d20 + [[ @{init} ]][init] + [[ {(0.01 * @{init}),0}kh1 ]][tie-breaker]) &amp;{tracker} ]]}} @{init_options}</textarea>
								<label class="sheet-center sheet-small-label"><b><span data-i18n="macro-text">Macro Text</span></b></label>
							</span>
						</div>
						<div class="sheet-table-row" style="vertical-align: top">
							<span class="sheet-table-cell">
								<textarea class="sheet-init-notes" name="attr_init_notes" title="@{init_notes}" placeholder="Initiative Notes" data-i18n-placeholder="initiative-notes"></textarea>
								<input type="hidden" name="attr_var_init_notes" value="{{Notes=@{init_notes}}}" disabled="" data-formula="{{init_notes=}}">
								<input type="hidden" name="attr_init_options" value="@{toggle_init_notes}" disabled="" data-formula="@{toggle_init_notes}">
								<label class="sheet-center sheet-small-label"><input type="checkbox" title="@{toggle_init_notes}" name="attr_toggle_init_notes" value="@{var_init_notes}"><b title="Include initiative notes with roll." data-i18n-title="initiative-notes-title"><span data-i18n="initiative-notes"> Initiative Notes</span></b></label>
							</span>
						</div>
					</div>
				</div>
			</div>	

			<div class="sheet-sect" style="display: inline-block;float: right;width: 52%;margin-left: 1em;min-width: 26em;">	
				<div class="sheet-table sheet-wide-numbers">
					<span class="sheet-table-name" data-i18n="speeds">Speeds</span>
					<div class="sheet-table-group">
						<div class="sheet-table-group-head">
							<span class="sheet-table-header" title="The base speed for the character" data-i18n-title="speed-base-title" data-i18n="base">Base</span>
							<span class="sheet-table-header" title="The modified speed due to armor and/or carry capacity &amp; load" data-i18n-title="speed-title" data-i18n="speed">Speed</span>
							<span class="sheet-table-header" data-i18n="fly">Fly</span>
							<span class="sheet-table-header" data-i18n="swim">Swim</span>
							<span class="sheet-table-header" data-i18n="climb">Climb</span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header sheet-divider-lg"></span>
							<span class="sheet-table-header" title="Run Multiplier" data-i18n-title="speed-multiplier-title" data-i18n="multiplier-abbrv">Mult</span>
							<span class="sheet-table-header" title="The maximum distance that the character can run in a straight line during your turn" data-i18n-title="speed-run-title" data-i18n="run">Run</span>
						</div>
						<div class="sheet-table-group">
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{speed-base}" type="number" name="attr_speed-base" value="0" step="5"></span>
								<span class="sheet-table-cell"><input title="@{speed-modified}" type="number" name="attr_speed-modified" value="0" class="sheet-calc" readonly="readonly"></span>
								<span class="sheet-table-cell"><input title="@{speed-fly}" type="number" name="attr_speed-fly" value="0" step="5"></span>
								<span class="sheet-table-cell"><input title="@{speed-swim}" type="number" name="attr_speed-swim" value="0" step="5"></span>
								<span class="sheet-table-cell"><input title="@{speed-climb}" type="number" name="attr_speed-climb" value="0" step="5"></span>
								<span class="sheet-table-cell"><input title="@{speed-misc}" type="number" name="attr_speed-misc" value="0" step="5"></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{speed-run-mult}" type="number" name="attr_run-mult" value="4" step="1"></span>
								<span class="sheet-table-cell"><input title="@{speed-run}" type="number" name="attr_speed-run" value="0" class="sheet-calc" readonly="readonly"></span>
							</div>
						</div>
				</div>	
				<div class="sheet-table-group">
					<div class="sheet-table-row" style="vertical-align: top">
							<span class="sheet-table-cell">
								<select title="@{speed-source}" name="attr_speed-source">
									<option value="0" data-i18n="armor-shield-load-default" selected>&#8226;Armor, Shield &amp; Load</option>
									<option value="1" data-i18n="armor-shield-only">Armor &amp; Shield only</option>
									<option value="2" data-i18n="load-only">Load only</option>
									<option value="3" data-i18n="none">None</option>
								</select>
								<br>
								<label class="sheet-center sheet-small-label"><span data-i18n="encumbrance">Encumbrance</span></label>
							</span>
						</div>
						<div class="sheet-table-row" style="vertical-align: top">
							<span class="sheet-table-cell">
								<textarea class="sheet-speed-notes" name="attr_speed-notes" title="@{speed-notes}" placeholder="Speed Notes" data-i18n-placeholder="speed-notes" ></textarea>
								<label class="sheet-center sheet-small-label"><b><span data-i18n="speed-notes">Speed Notes</span></b></label>
							</span>
						</div>
					</div>
				</div>

			</div>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="experience-and-hero-points">Experience and Hero Points</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_experience-and-hero-points-show" value="1" style="width: 18em;margin: -0.5em -1em 0 -17em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="experience-and-hero-points">Experience and Hero Points</span>
				<div class="sheet-table-group-head">
					<span class="sheet-table-header" data-i18n="current-experience">Current Experience</span>
					<span class="sheet-table-header">/</span>
					<span class="sheet-table-header" data-i18n="next-level">Next Level</span>
					<span class="sheet-table-header sheet-divider">|</span>
					<span class="sheet-table-header" data-i18n="prestige-points">Prestige Points</span>
					<span class="sheet-table-header">/</span>
					<span class="sheet-table-header" data-i18n="fame">Fame</span>
					<span class="sheet-table-header sheet-divider">|</span>
					<span class="sheet-table-header" data-i18n="hero-points">Hero Points</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><input class="sheet-entry-wide" title="@{experience}" type="number" name="attr_experience" placeholder="Current Experience" data-i18n-placeholder="experience-current-place" /></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell"><input class="sheet-entry-wide" title="@{experience|max}" type="number" name="attr_experience_max" placeholder="Next Level" data-i18n-placeholder="experience-next" /></span>
					<span class="sheet-divider-lg">|</span>
					<span class="sheet-table-cell"><input class="sheet-entry-wide" title="@{prestige}" type="number" name="attr_prestige" placeholder="Prestige Points" data-i18n-placeholder="prestige-points" /></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell"><input class="sheet-entry-wide" title="@{fame}" type="number" name="attr_fame" placeholder="Fame" data-i18n-placeholder="fame" /></span>
					<span class="sheet-divider-lg">|</span>
					<span class="sheet-table-cell"><input class="sheet-entry-wide" title="@{hero-points}" type="number" name="attr_hero-points" placeholder="Hero Points" data-i18n-placeholder="hero-points" /></span>
				</div>
			</div>
		</div>	
		<br>
	</div>

	<div class="sheet-section sheet-section-class"  role="region" aria-label="Classes / Abilities">
		<h1 data-i18n="abilities">Classes / Abilities</h1>
		<input type="checkbox" class="sheet-mythic-show" title="@{mythic-adventures-show}" name="attr_mythic-adventures-show" value="1" style="display:none;" />
		<input type="checkbox" class="sheet-psionic-show" title="@{psionics-show}" name="attr_psionics-show" value="1" style="display:none;" />
		<div class="sheet-h2-section">
			<h2 data-i18n="class-information">Class Information</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_class-info-show" value="1" style="width: 12em;margin: -0.5em -1em 0 -11em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect sheet-class-table sheet-wide-numbers">
				<span class="sheet-table-name" data-i18n="class-information">Class Information</span>
				<div class="sheet-table-row">
					<span class="sheet-table-header">#</span>
					<span class="sheet-table-header" title="Hit Points due to Class Only" data-i18n-title="hit-points-class-title" data-i18n="hit-points-abbrv">HP</span>
					<span class="sheet-table-header" title="Favored Class HP" data-i18n-title="favored-class-hit-points-title" data-i18n="favored-class-hit-points-abbrv">FC HP</span>
					<span class="sheet-table-header sheet-entry-vlong" title="Class Name" data-i18n-title="class-name" data-i18n="class-name">Class Name</span>
					<span class="sheet-table-header" title="Base Attack Bonus" data-i18n-title="base-attack-bonus" data-i18n="base-attack-bonus-abbrv">BAB</span>
					<span class="sheet-table-header" title="Skill Ranks per level due to Class only" data-i18n-title="skills-per-level" data-i18n="skills-per-level-abbrv">Skills /lvl</span>
					<span class="sheet-table-header" title="Favored Class Skill Ranks." data-i18n-title="favored-class-skill" data-i18n="favored-class-skill-abbrv">FC Skill</span>
					<span class="sheet-table-header" title="Alternate Favored Class point counter" data-i18n-title="alternate-favored-class" data-i18n="alternate-favored-class-abbrv">FC Alt</span>
					<span class="sheet-table-header" title="Fortitude Save" data-i18n-title="fortitude-save" data-i18n="fortitude-abbrv">Fort</span>
					<span class="sheet-table-header" title="Reflex Save" data-i18n-title="reflex-save" data-i18n="reflex-abbrv">Ref</span>
					<span class="sheet-table-header" title="Willpower Save" data-i18n-title="willpower-save" data-i18n="willpower-abbrv">Will</span>
					<span class="sheet-table-header" title="Current Class Level" data-i18n-title="level-current" data-i18n="level">Level</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><b>0.</b></span>
					<span class="sheet-table-cell"><input title="@{class-0-hp}" type="number" name="attr_class-0-hp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-fchp}" type="number" name="attr_class-0-fchp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-name}" type="text" name="attr_class-0-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
					<span class="sheet-table-cell"><input title="@{class-0-bab}" type="number" name="attr_class-0-bab" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-skill}" type="number" name="attr_class-0-skill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-fcskill}" type="number" name="attr_class-0-fcskill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-fcalt}" type="number" name="attr_class-0-fcalt" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-Fort}" type="number" name="attr_class-0-Fort" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-Ref}" type="number" name="attr_class-0-Ref" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-Will}" type="number" name="attr_class-0-Will" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-0-level}" type="number" name="attr_class-0-level" value="0" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><b>1.</b></span>
					<span class="sheet-table-cell"><input title="@{class-1-hp}" type="number" name="attr_class-1-hp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-fchp}" type="number" name="attr_class-1-fchp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-name}" type="text" name="attr_class-1-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
					<span class="sheet-table-cell"><input title="@{class-1-bab}" type="number" name="attr_class-1-bab" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-skill}" type="number" name="attr_class-1-skill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-fcskill}" type="number" name="attr_class-1-fcskill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-fcalt}" type="number" name="attr_class-1-fcalt" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-Fort}" type="number" name="attr_class-1-Fort" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-Ref}" type="number" name="attr_class-1-Ref" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-Will}" type="number" name="attr_class-1-Will" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-1-level}" type="number" name="attr_class-1-level" value="0" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><b>2.</b></span>
					<span class="sheet-table-cell"><input title="@{class-2-hp}" type="number" name="attr_class-2-hp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-fchp}" type="number" name="attr_class-2-fchp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-name}" type="text" name="attr_class-2-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
					<span class="sheet-table-cell"><input title="@{class-2-bab}" type="number" name="attr_class-2-bab" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-skill}" type="number" name="attr_class-2-skill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-fcskill}" type="number" name="attr_class-2-fcskill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-fcalt}" type="number" name="attr_class-2-fcalt" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-Fort}" type="number" name="attr_class-2-Fort" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-Ref}" type="number" name="attr_class-2-Ref" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-Will}" type="number" name="attr_class-2-Will" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-2-level}" type="number" name="attr_class-2-level" value="0" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><b>3.</b></span>
					<span class="sheet-table-cell"><input title="@{class-3-hp}" type="number" name="attr_class-3-hp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-fchp}" type="number" name="attr_class-3-fchp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-name}" type="text" name="attr_class-3-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
					<span class="sheet-table-cell"><input title="@{class-3-bab}" type="number" name="attr_class-3-bab" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-skill}" type="number" name="attr_class-3-skill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-fcskill}" type="number" name="attr_class-3-fcskill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-fcalt}" type="number" name="attr_class-3-fcalt" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-Fort}" type="number" name="attr_class-3-Fort" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-Ref}" type="number" name="attr_class-3-Ref" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-Will}" type="number" name="attr_class-3-Will" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-3-level}" type="number" name="attr_class-3-level" value="0" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><b>4.</b></span>
					<span class="sheet-table-cell"><input title="@{class-4-hp}" type="number" name="attr_class-4-hp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-fchp}" type="number" name="attr_class-4-fchp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-name}" type="text" name="attr_class-4-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
					<span class="sheet-table-cell"><input title="@{class-4-bab}" type="number" name="attr_class-4-bab" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-skill}" type="number" name="attr_class-4-skill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-fcskill}" type="number" name="attr_class-4-fcskill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-fcalt}" type="number" name="attr_class-4-fcalt" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-Fort}" type="number" name="attr_class-4-Fort" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-Ref}" type="number" name="attr_class-4-Ref" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-Will}" type="number" name="attr_class-4-Will" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-4-level}" type="number" name="attr_class-4-level" value="0" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><b>5.</b></span>
					<span class="sheet-table-cell"><input title="@{class-5-hp}" type="number" name="attr_class-5-hp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-fchp}" type="number" name="attr_class-5-fchp" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-name}" type="text" name="attr_class-5-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
					<span class="sheet-table-cell"><input title="@{class-5-bab}" type="number" name="attr_class-5-bab" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-skill}" type="number" name="attr_class-5-skill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-fcskill}" type="number" name="attr_class-5-fcskill" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-fcalt}" type="number" name="attr_class-5-fcalt" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-Fort}" type="number" name="attr_class-5-Fort" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-Ref}" type="number" name="attr_class-5-Ref" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-Will}" type="number" name="attr_class-5-Will" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{class-5-level}" type="number" name="attr_class-5-level" value="0" /></span>
				</div>
				<div class="sheet-total-row">
					<span class="sheet-table-cell"><b><span data-i18n="total">Total</span></b></span>
					<span class="sheet-table-cell"><input title="@{total-hp}" type="number" name="attr_total-hp" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell sheet-label" title="Indicate Favored Class(es)" data-i18n-title="favored-class" data-i18n="favored-class-abbrv">FC:</span>
					<span class="sheet-table-cell"><input title="@{class-favored}" type="text" name="attr_class-favored" placeholder="Favored Class(es)" data-i18n-placeholder="favored-class"></span>
					<span class="sheet-table-cell"><input title="@{bab}" type="number" name="attr_bab" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{total-skill}" type="number" name="attr_total-skill" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{total-fcskill}" type="number" name="attr_total-fcskill" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{total-fcalt}" type="number" name="attr_total-fcalt" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{total-Fort}" type="number" name="attr_total-Fort" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{total-Ref}" type="number" name="attr_total-Ref" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{total-Will}" type="number" name="attr_total-Will" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{level}" type="number" name="attr_level" value="0" class="sheet-calc" readonly="readonly" /></span>
				</div>
				<br>
			</div>
		</div>
		<div class="sheet-section-mythic sheet-h2-section">
			<h2 data-i18n="mythic-hero-power">Mythic Hero Information and Mythic Power</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_mythic-info-show" value="1" style="width: 27em;margin: -0.5em -1em 0 -26em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<div class="sheet-table-row" style="vertical-align:top;">
					<div class="sheet-table-cell">
						<div class="sheet-table">
							<span class="sheet-table-name" data-i18n="mythic-information">Mythic Information</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header">#</span>
								<span class="sheet-table-header" data-i18n-title="mythic-path-title" title="Mythic Path: archmage, champion, guardian, hierophant, marshal, or trickster" data-i18n="mythic-path">Mythic Path</span>
								<span class="sheet-table-header" data-i18n-title="mythic-tier-title" title="Mythic tier or rank. Mythic tiers range from 1 to 10" data-i18n="mythic-tier">Tier</span>
								<span class="sheet-table-header" data-i18n-title="mythic-bonus-hit-points-title" title="Bonus hit points that are gained from each tier advancement: archmage: 3, champion: 5, guardian: 5, hierophant: 4, marshal: 4, or trickster: 4" data-i18n="mythic-bonus-hit-points-abbrv">Bonus HP</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><b>0.</b></span>
								<span class="sheet-table-cell"><input title="@{mythic-0-path}" type="text" name="attr_mythic-0-path" placeholder="Path Name" data-i18n-placeholder="mythic-path-name"/></span>
								<span class="sheet-table-cell"><input title="@{mythic-tier}" type="number" name="attr_mythic-tier" value="0"></span>
								<span class="sheet-table-cell"><input title="@{mythic-hp}" type="number" name="attr_mythic-hp" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><b>1.</b></span>
								<span class="sheet-table-cell"><input title="@{mythic-1-path}" type="text" name="attr_mythic-1-path" placeholder="Path Name" data-i18n-placeholder="mythic-path-name"/></span>
								<span class="sheet-table-cell"><b data-i18n-title="mythic-hit-points-title" title="Bonus HP x Tier. This is automatically added to Max HP"><span data-i18n="mythic-hit-points">Total Mythic HP</span>:</b></span>
								<span class="sheet-table-cell"><input title="@{total-mythic-hp}" type="number" name="attr_total-mythic-hp" value="0" class="sheet-calc" readonly="readonly" /></span>
							</div>
						</div>
					</div>
					<div class="sheet-table-cell">
						&nbsp;
					</div>
						<div class="sheet-table-cell">
						<div class="sheet-table" style="margin-top: -1px;">
							<span class="sheet-table-name" data-i18n="mythic-power">Mythic Power</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n-title="mythic-power-avail-title" title="How much mythic power you have available to use" data-i18n="mythic-power-current">Current MP</span>
								<span class="sheet-table-header">/</span>
								<span class="sheet-table-header" data-i18n-title="mythic-power-max-title" title="The maximum amount of mythic power you have" data-i18n="mythic-power-maximum">Max MP</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n-title="mythic-power-tiers-title" title="The amount of mythic power you gain from tiers" data-i18n="mythic-power-tier">Tier MP</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n-title="mythic-power-miscellaneous-title" title="Any additional mythic power you gain from abilities or feats" data-i18n="miscellaneous-abbrv">Misc</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input type="number" title="@{mythic-power}" name="attr_mythic-power" value="0" min="0" /></span>
								<span class="sheet-divider">/</span>
								<span class="sheet-table-cell"><input type="number" title="@{mythic-power|max}" name="attr_mythic-power_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">=</span>
								<span class="sheet-table-cell"><input type="number" title="@{tier-mythic-power}" name="attr_tier-mythic-power" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell"><input type="number" title="@{misc-mythic-power}" name="attr_misc-mythic-power" value="0" /></span>
							</div>
							<div class="sheet-table-row" style="height:2em;">
								<span class="sheet-table-cell"><label style="white-space:nowrap;"><input type="checkbox" title="@{mythic-paragon}" name="attr_mythic-paragon" value="2" /><b  data-i18n-title="mythic-paragon-title" title="Has Mythic Paragon feat"><span data-i18n="mythic-paragon"> Mythic Paragon</span></b></label></span>
							</div>
						</div>
					</div>
				</div>
				<br>
			</div>
		</div>
		<div class="sheet-section-psionic sheet-h2-section">
			<h2 data-i18n="psionic-information">Psionic Information</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_psionic-info-show" value="1" style="width: 13em;margin: -0.5em -1em 0 -12em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<div class="sheet-table-row" style="vertical-align:top;">
					<div class="sheet-table-cell">
						<div class="sheet-table sheet-wide-numbers">
							<span class="sheet-table-name" data-i18n="psionic-manifester-level-and-power-points">Psionic Manifester Level and Power Points</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n-title="psionic-manifester-lvls-title" title="The sum of the levels of psionic classes that have a key ability score selected on the right." data-i18n="manifester-levels">Manifester Levels</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n-title="psionic-manifester-miscellaneous-title" title="Any miscellaneous modifiers to the manifester level." data-i18n="miscellaneous-abbrv">Misc</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n-title="psionic-manifester-levels-title" title="The total adjusted manifester level." data-i18n="total">Total</span>
								<span class="sheet-table-header">|</span>
								<span class="sheet-table-header" data-i18n-title="psionic-power-points-available-title" title="How many power points you have available to use." data-i18n="current-power-points-abbrv">Current PP</span>
								<span class="sheet-table-header">/</span>
								<span class="sheet-table-header" data-i18n-title="psionic-power-points-reserve-title" title="Your power point reserve is equal to your base power points gained from your class, bonus power points from a high key ability score, and any additional bonus power points from sources such as your character race and feat selections." data-i18n="power-point-reserve-abbrv">PP Reserve</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n-title="psionic-power-points-class-title" title="The amount of base bonus power points you gain from you class(es)." data-i18n="class-power-points-abbrv">Class PP</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n-title="psionic-ability-title" title="The psionic class key ability modifier source." data-i18n="key-ability">Key Ability</span>
								<span class="sheet-table-header" data-i18n-title="psionic-power-points-bonus-title" title="The amount of bonus power points you gain from manifester level and key ability modifier." data-i18n="bonus-power-points-abbrv">Bonus PP</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n-title="psionic-power-points-miscellaneous-title" title="Any additional power points you gain from race, traits or feats." data-i18n="miscellaneous-abbrv">Misc</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input type="number" title="@{psionic-level}" name="attr_psionic-level" value="0" min="0" /></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell"><input type="number" title="@{psionic-level-misc}" name="attr_psionic-level-misc" value="0" /></span>
								<span class="sheet-divider">=</span>
								<span class="sheet-table-cell"><input type="number" title="@{psionic-level-total}" name="attr_psionic-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">|</span>
								<span class="sheet-table-cell"><input type="number" title="@{psionic-power}" name="attr_psionic-power" value="0" min="0" /></span>
								<span class="sheet-divider">/</span>
								<span class="sheet-table-cell"><input type="number" title="@{psionic-power|max}" name="attr_psionic-power_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">=</span>
								<span class="sheet-table-cell"><input type="number" title="@{class-psionic-power}" name="attr_class-psionic-power" value="0" /></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell" style="width:8%;">
									<select title="@{selected-ability-psionic-power}" name="attr_selected-ability-psionic-power" style="font-size:1em;">
										<option value="0 - [[ @{condition-sickened} ]]" data-i18n="none-default" selected>&#8226;None</option>
										<option value="@{STR-mod} - [[ @{condition-sickened} ]]" data-i18n="strength-abbrv">STR</option>
										<option value="@{DEX-mod} - [[ @{condition-sickened} ]]" data-i18n="dexterity-abbrv">DEX</option>
										<option value="@{CON-mod} - [[ @{condition-sickened} ]]" data-i18n="constitution-abbrv">CON</option>
										<option value="@{INT-mod} - [[ @{condition-sickened} ]]" data-i18n="intelligence-abbrv">INT</option>
										<option value="@{WIS-mod} - [[ @{condition-sickened} ]]" data-i18n="wisdom-abbrv">WIS</option>
										<option value="@{CHA-mod} - [[ @{condition-sickened} ]]" data-i18n="charisma-abbrv">CHA</option>
									</select>
								</span>
								<span class="sheet-table-cell"><input type="number" title="@{ability-psionic-power}" name="attr_ability-psionic-power" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell"><input type="number" title="@{misc-psionic-power}" name="attr_misc-psionic-power" value="0" /></span>
							</div>
							<div class="sheet-table-row" style="height:2em;">
								<span class="sheet-table-cell"><label style="white-space:nowrap;"><input type="checkbox" title="@{psionic-focus}" name="attr_psionic-focus" value="1" /><b data-i18n-title="psionic-focus-title" title="Is maintaining psionic focus."><span data-i18n="psionic-focus"> Psionic Focus</span></b></label></span>
							</div>
						</div>
					</div>
				</div>
			<br>
			</div>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="abilities">Abilities</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_abilities-show" value="1" style="width: 6em;margin: -0.5em -1em 0 -5em;" checked="checked" /><span></span>
			<input type="checkbox" name="attr_abilities_tab" value="0" title="Abilities" class="sheet-tab0 sheet-ability-tab0" style="display:none;" checked="checked" />
			<input type="checkbox" name="attr_abilities_tab" value="1" title="Feats" class="sheet-tab1 sheet-ability-tab1" style="display:none;" />
			<input type="checkbox" name="attr_abilities_tab" value="2" title="Racial Traits" class="sheet-tab2 sheet-ability-tab2" style="display:none;" />
			<input type="checkbox" name="attr_abilities_tab" value="3" title="Traits" class="sheet-tab3 sheet-ability-tab3" style="display:none;" />
			<input type="checkbox" name="attr_abilities_tab" value="4" title="Mythic Abilities" class="sheet-tab4 sheet-ability-tab4" style="display:none;" />
			<input type="checkbox" name="attr_abilities_tab" value="5" title="Mythic Feats" class="sheet-tab5 sheet-ability-tab5" style="display:none;" />
			<input type="checkbox" name="attr_abilities_tab" value="99" title="Ability99" class="sheet-tab99 sheet-ability-tab99" style="display:none;" />

	
				<div class="sheet-abilitiesnav sheet-tabs sheet-sect" role="menubar" aria-label="abilities">
					<label class="sheet-tab sheet-tab0"><input type="radio" name="attr_abilities_tab" class="sheet-tab" value="0" checked="checked" /><span data-i18n="class-features">Class Features</span></label>
					<label class="sheet-tab sheet-tab1"><input type="radio" name="attr_abilities_tab" class="sheet-tab" value="1" /><span data-i18n="feats">Feats</span></label>
					<label class="sheet-tab sheet-tab2"><input type="radio" name="attr_abilities_tab" class="sheet-tab" value="2" /><span data-i18n="racial-traits">Racial Traits</span></label>
					<label class="sheet-tab sheet-tab3"><input type="radio" name="attr_abilities_tab" class="sheet-tab" value="3" /><span data-i18n="traits">Traits</span></label>
					<label class="sheet-tab sheet-tab4 sheet-section-mythic"><input type="radio" name="attr_abilities_tab" class="sheet-tab" value="4" /><span data-i18n="mythic-abilities">Mythic Abilities</span></label>
					<label class="sheet-tab sheet-tab5 sheet-section-mythic"><input type="radio" name="attr_abilities_tab" class="sheet-tab" value="5" /><span data-i18n="mythic-feats">Mythic Feats</span></label>
					<label class="sheet-tab sheet-tab99" style="width:6%;"><input type="radio" name="attr_abilities_tab" class="sheet-tab" value="99" /><span data-i18n="all">All</span></label>
				</div>
		

			<div class="sheet-sect sheet-repeating-sect sheet-ability-sect0">
				<div class="sheet-table">
					<span class="sheet-table-name" data-i18n="class-abilities">Class Abilities</span>	
				</div>
				<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_class-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
				<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_class-ability-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
				<div class="sheet-table sheet-sect">
					<div class="sheet-repeating-fields">
						<fieldset class="repeating_class-ability">
							<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
							<div class="sheet-compendium-drop-target">
								<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" name="attr_class-show" title="Minimize Row" value="1" checked="checked" />
								<span class="sheet-table-cell"></span>						
								<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_class-ability_$X_roll}" value="@{macro-text}"></button></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect">
									<select title="@{repeating_class-ability_$X_class-number}" name="attr_class-number" style="min-width:3.5em;">
										<option value="@{class-0-name}" selected>0</option>
										<option value="@{class-1-name}">1</option>
										<option value="@{class-2-name}">2</option>
										<option value="@{class-3-name}">3</option>
										<option value="@{class-4-name}">4</option>
										<option value="@{class-5-name}">5</option>
									</select>
									<br><span data-i18n="class-number">Class #</span>
								</span>
								<span class="sheet-table-cell sheet-small-label" style="width:13%"><input title="@{repeating_class-ability_$X_class-name}" type="text" name="attr_class-name" value="@{class-number}" disabled /><span data-i18n="class">Class</span><br></span>
								<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_class-ability_$X_name}" type="text" name="attr_name" placeholder="Ability Name" data-i18n-placeholder="ability-name" accept="Name"><br><span data-i18n="name">Name</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:30%;"><input title="@{repeating_class-ability_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"><br><span data-i18n="short-description">Short Desc</span></span>
								<span class="sheet-table-cell sheet-small-label" style="width:0.1%;"><input title="@{repeating_class-ability_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
								<span class="sheet-divider-lg" style="width:0.1%;">/</span>
								<span class="sheet-table-cell sheet-small-label" style="width:0.1%;"><input title="@{repeating_class-ability_$X_used|max}" type="number" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_class-ability_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro" data-i18n-placeholder="number-or-macro-text-place"/><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
								<div class="sheet-sect sheet-expand">					
									<h4 data-i18n="description">Description</h4>
									<input type="checkbox" class="sheet-desc-show" title="@{repeating_class-ability_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
									<h4 data-i18n="macro-text">Macro Text</h4>
									<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_class-ability_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
									<h4 data-i18n="identification-abbrv">IDs</h4>
									<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_class-ability_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
									<textarea class="sheet-desc" title="@{repeating_class-ability_$X_description}" name="attr_description" accept="Content"></textarea>
									<textarea class="sheet-macro-text" title="@{repeating_class-ability_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle="Class Ability"}} {{Class=**Class**: @{class-number}}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
									<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>

			<div class="sheet-sect sheet-ability-sect1">
				<div class="sheet-table sheet-sect">
					<span class="sheet-table-name" data-i18n="feats-available">Feats Available</span>
					<div class="sheet-table-row">
						<span class="sheet-table-header" data-i18n="feats-by-level">Feats by Level</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="racial-bonus">Racial Bonus</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="class-bonus">Class Bonus</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="miscellaneous-bonus">Misc Bonus</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="total-feats">Total Feats</span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell"><input type="text" title="@{feats-level}" name="attr_feats-level" value="(floor((@{level} + 1)/2))" class="sheet-number" disabled /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input type="number" title="@{feats-race}" name="attr_feats-race" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input type="number" title="@{feats-class}" name="attr_feats-class" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input type="number" title="@{feats-misc}" name="attr_feats-misc" value="0" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input type="text" title="@{feats-total}" name="attr_feats-total" value="(@{feats-level} + [[ @{feats-race} ]] + [[ @{feats-class} ]] + [[ @{feats-misc} ]])" class="sheet-number" disabled /></span>
					</div>
				</div>
				<br>
			</div>
			
			<div class="sheet-sect sheet-repeating-sect sheet-ability-sect1">
				<div class="sheet-table">
					<span class="sheet-table-name" data-i18n="feats">Feats</span>
				</div>
				<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_feats-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
				<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_feat-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
				<div class="sheet-table sheet-sect">
					<div class="sheet-repeating-fields">
						<fieldset class="repeating_feat">
							<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
							<div class="sheet-compendium-drop-target">
								<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize Row" name="attr_feat-show" value="1" checked="checked" />
								<span class="sheet-table-cell"></span>
								<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_feat_$X_roll}" value="@{macro-text}"></button></span>
								<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_feat_$X_name}" type="text" name="attr_name" placeholder="Feat Name" data-i18n-placeholder="feat-name" accept="Name"><br><span data-i18n="name">Name</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:32%;"><textarea class="sheet-weapon-notes" title="@{repeating_feat_$X_short-description}" name="attr_short-description" placeholder="Short Desc" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description">Short Desc</span></span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_feat_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="used">Used</span></span>
								<span class="sheet-divider-lg" style="width:.1%;">/</span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_feat_$X_used|max}" type="text" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_feat_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro" data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="calculation-abbrv">Calc</span></span>
								<div class="sheet-sect sheet-expand">
									<h4 data-i18n="description">Description</h4>
									<input type="checkbox" class="sheet-desc-show" title="@{repeating_feat_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
									<h4 data-i18n="macro-text">Macro Text</h4>
									<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_feat_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
									<h4 data-i18n="identification-abbrv">IDs</h4>
									<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_feat_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
									
									<textarea class="sheet-desc" title="@{repeating_feat_$X_description}" name="attr_description" accept="Content"></textarea>
									<textarea class="sheet-macro-text" title="@{repeating_feat_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{name=@{name}}} {{description=@{short-description}}}</textarea>

									<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
				<br>
			</div>
			<div class="sheet-sect sheet-repeating-sect sheet-ability-sect2">
				<div class="sheet-table">
					<span class="sheet-table-name" data-i18n="racial-traits">Racial Traits</span>
				</div>
				<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_racial-trait-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
				<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_racial-trait-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
				<div class="sheet-table sheet-sect">
					<div class="sheet-repeating-fields">
						<fieldset class="repeating_racial-trait">
							<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
							<div class="sheet-compendium-drop-target">
								<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize row" name="attr_racial-trait-show" value="1" checked="checked" />
								<span class="sheet-table-cell"></span>
								<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_racial-trait_$X_roll}" value="@{macro-text}"></button></span>
								<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_racial-trait_$X_name}" type="text" name="attr_name" placeholder="Racial Trait Name"  data-i18n-placeholder="racial-trait-name" accept="Name"><br><span data-i18n="name">Name</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:30%;"><input title="@{repeating_racial-trait_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"><br><span data-i18n="short-description">Short Desc</span></span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_racial-trait_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
								<span class="sheet-divider-lg" style="width:.1%;">/</span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_racial-trait_$X_used|max" type="number" name="attr_used_max" value="" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_racial-trait_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro" data-i18n-placeholder="number-or-macro-text-place"/><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
								<div class="sheet-sect sheet-expand">
									<h4 data-i18n="description">Description</h4>
									<input type="checkbox" class="sheet-desc-show" title="@{repeating_racial-trait_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
									<h4 data-i18n="macro-text">Macro Text</h4>
									<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_racial-trait_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
									<h4 data-i18n="identification-abbrv">IDs</h4>
									<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_racial-trait_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
									<textarea class="sheet-desc" title="@{repeating_racial-trait_$X_description}" name="attr_description" accept="Content"></textarea>
									<textarea class="sheet-macro-text" title="@{repeating_racial-trait_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
									<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>
			<div class="sheet-sect sheet-repeating-sect sheet-ability-sect3">
				<div class="sheet-table">
					<span class="sheet-table-name" data-i18n="traits">Traits</span>
				</div>
				<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_traits-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
				<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_trait-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
				<div class="sheet-table sheet-sect">
					<div class="sheet-repeating-fields">		
						<fieldset class="repeating_trait">
							<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
							<div class="sheet-compendium-drop-target">
								<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize Row" name="attr_trait-show" value="1" checked="checked" />
								<span class="sheet-table-cell"></span>
								<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_trait_$X_roll}" value="@{macro-text}"></button></span>
								<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_trait_$X_name}" type="text" name="attr_name" placeholder="Trait Name" data-i18n-placeholder="trait-name" accept="Name"><br><span data-i18n="name">Name</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:30%;"><input title="@{repeating_trait_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"><br><span data-i18n="short-description">Short Desc</span></span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_trait_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
								<span class="sheet-divider-lg" style="width:.1%;">/</span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_trait_$X_used|max" type="number" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_trait_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro"  data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
								<div class="sheet-sect sheet-expand">	
									<h4 data-i18n="description">Description</h4>
									<input type="checkbox" class="sheet-desc-show" title="@{repeating_trait_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
									<h4 data-i18n="macro-text">Macro Text</h4>
									<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_trait_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
									<h4 data-i18n="identification-abbrv">IDs</h4>
									<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_trait_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
										<textarea class="sheet-desc" title="@{repeating_trait_$X_description}" name="attr_description" accept="Content"></textarea>
										<textarea class="sheet-macro-text" title="@{repeating_trait_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
									<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>
			
			<!-- Mythic Adventures display option toggled from Config -->
			<div class="sheet-sect sheet-repeating-sect  sheet-ability-sect4 sheet-section-mythic">
				<div class="sheet-table">
					<span class="sheet-table-name" data-i18n="mythic-path-features-and-abilities">Mythic Path Features and Abilities</span>
				</div>
				<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_mythic-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
				<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_mythic-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
				<div class="sheet-table sheet-sect">
					<div class="sheet-repeating-fields">
						<fieldset class="repeating_mythic-ability">
							<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
							<div class="sheet-compendium-drop-target">
								<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" name="attr_mythic-show" title="Minimize Row" value="1" checked="checked" />
								<span class="sheet-table-cell"></span>
								<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_mythic-ability_$X_roll}" value="@{macro-text}"></button></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect">
									<select title="@{repeating_mythic-ability_$X_mythic-number}" name="attr_mythic-number" style="min-width:3.5em;">
										<option value="@{mythic-0-path}" selected>0</option>
										<option value="@{mythic-1-path}">1</option>
									</select>
									<br><span data-i18n="path-number">Path #</span>
								</span>
								<span class="sheet-table-cell sheet-small-label" style="width:13%;"><input title="@{repeating_mythic-ability_$X_mythic-path}" type="text" name="attr_mythic-path" value="@{mythic-number}" disabled /><br><span data-i18n="path">Path</span></span>
								<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_mythic-ability_$X_name}" type="text" name="attr_name" placeholder="Mythic Feature/Ability Name" data-i18n-placeholder="mythic-ability-name" accept="Name"><br><span data-i18n="name">Name</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:30%;"><input title="@{repeating_mythic-ability_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"><br><span data-i18n="short-description">Short Desc</span></span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_mythic-ability_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
								<span class="sheet-divider-lg" style="width:.1%;">/</span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_mythic-ability_$X_used|max}" type="number" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_mythic-ability_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro"  data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
								<div class="sheet-sect sheet-expand">
									<h4 data-i18n="description">Description</h4>
									<input type="checkbox" class="sheet-desc-show" title="@{repeating_mythic-ability_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
									<h4 data-i18n="macro-text">Macro Text</h4>
									<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_mythic-ability_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
									<h4 data-i18n="identification-abbrv">IDs</h4>
									<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_mythic-ability_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
									<textarea class="sheet-desc" title="@{repeating_mythic-ability_$X_description}" name="attr_description" accept="Content"></textarea>
									<textarea class="sheet-macro-text" title="@{repeating_mythic-ability_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{Class=**Path**: @{mythic-number}}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
									<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
									</div>
								</div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>

			<!-- Mythic Adventures display option toggled from Config -->
			<div class="sheet-sect sheet-repeating-sect  sheet-ability-sect5 sheet-section-mythic">
				<div class="sheet-table">
					<span class="sheet-table-name" data-i18n="mythic-feats">Mythic Feats</span>
				</div>
				<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_mythic-feats-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
				<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_mythic-feats-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
				<div class="sheet-table sheet-sect">
					<div class="sheet-repeating-fields">
						<fieldset class="repeating_mythic-feat">
							<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
							<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize Row" name="attr_mythic-feat-show" value="1" checked="checked" />
							<span class="sheet-table-cell"></span>
							<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_mythic-feat_$X_roll}" value="@{macro-text}"></button></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_mythic-feat_$X_name}" type="text" name="attr_name" placeholder="Mythic Feat Name" data-i18n-placeholder="mythic-feat-name"><br><span data-i18n="name">Name</span></span>
							<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:40%;"><input title="@{repeating_mythic-feat_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"><br><span data-i18n="short-description">Short Desc</span></span>
							<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_mythic-feat_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
							<span class="sheet-divider-lg" style="width:.1%;">/</span>
							<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_mythic-feat_$X_used|max}" type="number" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
							<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:20%;"><input title="@{repeating_mythic-feat_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro"  data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
							<div class="sheet-sect sheet-expand">
								<h4 data-i18n="description">Description</h4>
								<input type="checkbox" class="sheet-desc-show" title="@{repeating_mythic-feat_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
								<h4 data-i18n="macro-text">Macro Text</h4>
								<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_mythic-feat_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
								<h4 data-i18n="identification-abbrv">IDs</h4>
								<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_mythic-feat_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>

								<textarea class="sheet-desc" title="@{repeating_mythic-feat_$X_description}" name="attr_description"></textarea>
								<textarea class="sheet-macro-text" title="@{repeating_mythic-feat_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{name=@{name}}} {{description=@{short-description}}}</textarea>

								<div class="sheet-repeating_ids sheet-table-row">
									<span class="sheet-selectable" name="attr_row_id" />
								</div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="sheet-section sheet-section-defenses" role="region" aria-label="Defenses page">
		<h1 data-i18n="Defenses">Defenses</h1>
		<div class="sheet-h2-section">
			<h2 data-i18n="defense-values-grid">Defense Values</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_defense-values-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect sheet-defense-table sheet-medium-numbers">
				<span class="sheet-table-name" data-i18n="defense-values-grid">Defense Values</span>
				<div class="sheet-table-group-head">
					<span class="sheet-table-header" data-i18n="armor-class" style="width:10%;">Armor Class</span>
					<span class="sheet-table-header" data-i18n="total">Total</span>
					<span class="sheet-table-header" style="width:3.25em;min-width:3.25em;">&nbsp;</span>
					<span class="sheet-table-header" data-i18n="armor">Armor</span>
					<span class="sheet-table-header" data-i18n="shield" style="width:6em;min-width:4em;">Shield</span>
					<span class="sheet-table-header" style="width:3.5em;min-width:2%;"></span>
					<span class="sheet-table-header" data-i18n="ability" style="width:6em;min-width:4em;">Ability</span>
					<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
					<span class="sheet-table-header" data-i18n="size">Size</span>
					<span class="sheet-table-header" data-i18n="dodge">Dodge</span>
					<span class="sheet-table-header" data-i18n="natural">Natural</span>
					<span class="sheet-table-header" data-i18n="deflect">Deflect</span>
					<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
					<span class="sheet-table-header" data-i18n="buff">Buff</span>
					<span class="sheet-table-header" data-i18n="condition-abbrv" style="padding-right: 0.5em">Cond</span>
				</div>
				<div class="sheet-table-group">
					<div class="sheet-table-row">
						<span class="sheet-table-row-name" data-i18n="armor-class-abbrv" title="Armor Class" data-i18n-title="armor-class">AC</span>
						<span class="sheet-table-cell"><input title="@{AC}" type="number" name="attr_AC" value="10" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">= <span style="font-weight: bold">10</span> +</span>
						<span class="sheet-table-cell"><input title="@{AC-armor}" type="number" name="attr_AC-armor" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{AC-shield}" type="number" name="attr_AC-shield" value="0" class="sheet-calc sheet-entry-wide" readonly="readonly"></span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell">
						<select title="@{AC-ability}" name="attr_AC-ability" class="sheet-select-small">
							<option value="( ((@{STR-mod} + [[ @{max-dex-source} ]]) - abs(@{STR-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="strength-abbrv">STR</option>
							<option value="( ((@{DEX-mod} + [[ @{max-dex-source} ]]) - abs(@{DEX-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
							<option value="( ((@{CON-mod} + [[ @{max-dex-source} ]]) - abs(@{CON-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="constitution-abbrv">CON</option>
							<option value="( ((@{INT-mod} + [[ @{max-dex-source} ]]) - abs(@{INT-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="intelligence-abbrv">INT</option>
							<option value="( ((@{WIS-mod} + [[ @{max-dex-source} ]]) - abs(@{WIS-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="wisdom-abbrv">WIS</option>
							<option value="( ((@{CHA-mod} + [[ @{max-dex-source} ]]) - abs(@{CHA-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="charisma-abbrv">CHA</option>
						</select>
						</span>
						<input type="hidden" name="attr_AC-ability-mod" value="4">
						<input type="checkbox" name="attr_maxdex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="sheet-calc" readonly="readonly"></span>
						<input type="checkbox" name="attr_nodex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0"></span>
						<span class="sheet-table-cell"><input title="@{AC-natural}" type="number" name="attr_AC-natural" value="0"></span>
						<span class="sheet-table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0"></span>
						<span class="sheet-table-cell"><input title="@{AC-misc}" type="number" name="attr_AC-misc" value="0"></span>
						<span class="sheet-table-cell"><input title="@{buff_AC-total}" type="number" name="attr_buff_AC-total" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" class="sheet-calc" readonly="readonly"></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name" title="Touch Armor Class" data-i18n-placeholder="touch-armor-class" data-i18n="touch-armor-class-abbrv">Touch</span>
						<span class="sheet-table-cell"><input title="@{Touch}" type="number" name="attr_Touch" value="10" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">= <span style="font-weight: bold">10</span> +</span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell">
						<select title="@{AC-ability}" name="attr_AC-ability" class="sheet-select-small">
							<option value="( ((@{STR-mod} + [[ @{max-dex-source} ]]) - abs(@{STR-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="strength-abbrv">STR</option>
							<option value="( ((@{DEX-mod} + [[ @{max-dex-source} ]]) - abs(@{DEX-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
							<option value="( ((@{CON-mod} + [[ @{max-dex-source} ]]) - abs(@{CON-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="constitution-abbrv">CON</option>
							<option value="( ((@{INT-mod} + [[ @{max-dex-source} ]]) - abs(@{INT-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="intelligence-abbrv">INT</option>
							<option value="( ((@{WIS-mod} + [[ @{max-dex-source} ]]) - abs(@{WIS-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="wisdom-abbrv">WIS</option>
							<option value="( ((@{CHA-mod} + [[ @{max-dex-source} ]]) - abs(@{CHA-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="charisma-abbrv">CHA</option>
						</select>
						</span>
						<input type="checkbox" name="attr_maxdex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="sheet-calc" readonly="readonly"></span>
						<input type="checkbox" name="attr_nodex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0"></span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0"></span>
						<span class="sheet-table-cell"><input title="@{AC-misc}" type="number" name="attr_AC-misc" value="0"></span>
						<span class="sheet-table-cell"><input title="@{buff_Touch-total}" type="number" name="attr_buff_Touch-total" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" class="sheet-calc" readonly="readonly"></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name" title="Flat-Footed Armor Class"  data-i18n-title="flat-footed-armor-class" data-i18n="flat-footed-armor-class-abbrv">Flat-Footed</span>
						<span class="sheet-table-cell"><input title="@{Flat-Footed}" type="number" name="attr_Flat-Footed" value="10" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">= <span style="font-weight: bold">10</span> +</span>
						<span class="sheet-table-cell"><input title="@{AC-armor}" type="number" name="attr_AC-armor" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{AC-shield}" type="number" name="attr_AC-shield" value="0" class="sheet-calc sheet-entry-wide" readonly="readonly"></span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell">
						<select title="@{FF-ability}" name="attr_FF-ability" class="sheet-select-small">
							<option value="0" data-i18n="none-default" selected>&#8226;None</option>
							<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
							<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
							<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
							<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
							<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
							<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
						</select>
						</span> 
						<input type="hidden" name="attr_FF-DEX" value="0">
						<input type="checkbox" name="attr_maxdex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{FF-DEX}" type="number" name="attr_FF-DEX-display" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="sheet-calc" readonly="readonly"></span>
						<input type="checkbox" name="attr_nodex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show">
							<input name="attr_uncanny_dodge" type="checkbox" value="1" class="sheet-sect-show" style="display:none;">
							<input class="sheet-sect" title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0">
						</span>
						<span class="sheet-table-cell"><input title="@{AC-natural}" type="number" name="attr_AC-natural" value="0"></span>
						<span class="sheet-table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0"></span>
						<span class="sheet-table-cell"><input title="@{AC-misc}" type="number" name="attr_AC-misc" value="0"></span>
						<span class="sheet-table-cell"><input title="@{buff_AC-total}" type="number" name="attr_buff_AC-total" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" class="sheet-calc" readonly="readonly"></span>
					</div>
				</div>
			</div>
			<div class="sheet-table sheet-sect sheet-defense-table sheet-medium-numbers">  
				<div class="sheet-table-group-head">
					<div class="sheet-table-row">
						<span class="sheet-table-header" style="width:10%;" data-i18n="combat-maneuver-defense-abbrv">CMD</span>
						<span class="sheet-table-header" data-i18n="total">Total</span>
						<span class="sheet-table-header" style="width:3.25em;min-width:3.25em;"></span>
						<span class="sheet-table-header" data-i18n="base-attack-bonus-abbrv">BAB</span>
						<span class="sheet-table-header" data-i18n="ability" style="width:6em;min-width:4em;">Ability</span>
						<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
						<span class="sheet-table-header" data-i18n="ability" style="width:6em;min-width:4em;">Ability</span>
						<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
						<span class="sheet-table-header" data-i18n="size" >Size</span>
						<span class="sheet-table-header" data-i18n="dodge" >Dodge</span>
						<span class="sheet-table-header" style="width:3.5em;min-width:2%;"></span>
						<span class="sheet-table-header" data-i18n="deflect" >Deflect</span>
						<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
						<span class="sheet-table-header" data-i18n="buff">Buff</span>
						<span class="sheet-table-header" data-i18n="condition-abbrv" style="padding-right: 0.5em">Cond</span>
					</div>
				</div>  
				<div class="sheet-table-group">  
					<div class="sheet-table-row">
						<span class="sheet-table-row-name" data-i18n="combat-maneuver-defense-abbrv" title="Combat Maneuver Defense" data-i18n-title="combat-maneuver-defense-abbrv">CMD</span>
						<span class="sheet-table-cell"><input title="@{CMD}" type="number" name="attr_CMD" value="10" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">= <span style="font-weight: bold">10</span> +</span>
						<span class="sheet-table-cell"><input title="@{bab}" type="number" name="attr_bab" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">
						<select title="@{CMD-ability1}" name="attr_CMD-ability1" class="sheet-select-small">
							<option value="( ((@{STR-mod} + [[ @{max-dex-source} ]]) - abs(@{STR-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
							<option value="( ((@{DEX-mod} + [[ @{max-dex-source} ]]) - abs(@{DEX-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="dexterity-abbrv">DEX</option>
							<option value="( ((@{CON-mod} + [[ @{max-dex-source} ]]) - abs(@{CON-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="constitution-abbrv">CON</option>
							<option value="( ((@{INT-mod} + [[ @{max-dex-source} ]]) - abs(@{INT-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="intelligence-abbrv">INT</option>
							<option value="( ((@{WIS-mod} + [[ @{max-dex-source} ]]) - abs(@{WIS-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="wisdom-abbrv">WIS</option>
							<option value="( ((@{CHA-mod} + [[ @{max-dex-source} ]]) - abs(@{CHA-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="charisma-abbrv">CHA</option>
						</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CMD-STR}" type="number" name="attr_CMD-STR" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">
							<select title="@{CMD-ability2}" name="attr_CMD-ability2" class="sheet-select-small">
								<option value="( ((@{STR-mod} + [[ @{max-dex-source} ]]) - abs(@{STR-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="strength-abbrv">STR</option>
								<option value="( ((@{DEX-mod} + [[ @{max-dex-source} ]]) - abs(@{DEX-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="( ((@{CON-mod} + [[ @{max-dex-source} ]]) - abs(@{CON-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="constitution-abbrv">CON</option>
								<option value="( ((@{INT-mod} + [[ @{max-dex-source} ]]) - abs(@{INT-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="intelligence-abbrv">INT</option>
								<option value="( ((@{WIS-mod} + [[ @{max-dex-source} ]]) - abs(@{WIS-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="wisdom-abbrv">WIS</option>
								<option value="( ((@{CHA-mod} + [[ @{max-dex-source} ]]) - abs(@{CHA-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<input type="hidden" name="attr_CMD-DEX" value="4">
						<input type="checkbox" name="attr_maxdex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{CMD-DEX}" type="number" name="attr_CMD-DEX-display" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{CMD-size}" type="number" name="attr_CMD-size" value="0" class="sheet-calc" readonly="readonly"></span>
						<input type="checkbox" name="attr_nodex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0"></span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0"></span>
						<span class="sheet-table-cell"><input title="@{CMD-misc}" type="number" name="attr_CMD-misc" value="0"></span>
						<span class="sheet-table-cell"><input title="@{buff_CMD-total}" type="number" name="attr_buff_CMD-total" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{CMD-penalty}" type="number" name="attr_CMD-penalty" class="sheet-calc" readonly="readonly" value="0" max="0"></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-row-name" title="Flat-Footed Combat Maneuver Defense" data-i18n="flat-footed-combat-maneuver-defense-abbrv">FF CMD</span>
						<span class="sheet-table-cell"><input title="@{FF-CMD}" type="number" name="attr_FF-CMD" value="10" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">= <span style="font-weight: bold">10</span> +</span>
						<span class="sheet-table-cell"><input title="@{bab}" type="number" name="attr_bab" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">
						<select title="@{CMD-ability1}" name="attr_CMD-ability1" class="sheet-select-small">
							<option value="( ((@{STR-mod} + [[ @{max-dex-source} ]]) - abs(@{STR-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
							<option value="( ((@{DEX-mod} + [[ @{max-dex-source} ]]) - abs(@{DEX-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="dexterity-abbrv">DEX</option>
							<option value="( ((@{CON-mod} + [[ @{max-dex-source} ]]) - abs(@{CON-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="constitution-abbrv">CON</option>
							<option value="( ((@{INT-mod} + [[ @{max-dex-source} ]]) - abs(@{INT-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="intelligence-abbrv">INT</option>
							<option value="( ((@{WIS-mod} + [[ @{max-dex-source} ]]) - abs(@{WIS-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="wisdom-abbrv">WIS</option>
							<option value="( ((@{CHA-mod} + [[ @{max-dex-source} ]]) - abs(@{CHA-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="charisma-abbrv">CHA</option>
						</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CMD-STR}" type="number" name="attr_CMD-STR" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell">
							<select title="@{CMD-ability}" name="attr_CMD-ability" class="sheet-select-small">
								<option value="0" data-i18n="none-default" selected>&#8226;None</option>
								<option value="( ((@{STR-mod} + [[ @{max-dex-source} ]]) - abs(@{STR-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="strength-abbrv">STR</option>
								<option value="( ((@{DEX-mod} + [[ @{max-dex-source} ]]) - abs(@{DEX-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="dexterity-abbrv">DEX</option>
								<option value="( ((@{CON-mod} + [[ @{max-dex-source} ]]) - abs(@{CON-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="constitution-abbrv">CON</option>
								<option value="( ((@{INT-mod} + [[ @{max-dex-source} ]]) - abs(@{INT-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="intelligence-abbrv">INT</option>
								<option value="( ((@{WIS-mod} + [[ @{max-dex-source} ]]) - abs(@{WIS-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="wisdom-abbrv">WIS</option>
								<option value="( ((@{CHA-mod} + [[ @{max-dex-source} ]]) - abs(@{CHA-mod} - [[ @{max-dex-source} ]])) / 2 )" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<input type="hidden" name="attr_FF-CMD-DEX" value="0" />
						<input type="checkbox" name="attr_maxdex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show"><input title="@{FF-CMD-DEX}" type="number" name="attr_FF-CMD-DEX-display" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CMD-size}" type="number" name="attr_CMD-size" value="0" class="sheet-calc" readonly="readonly"></span>
						<input type="checkbox" name="attr_nodex-toggle" class="sheet-warn-show" value="1" style="display: none">
						<span class="sheet-table-cell sheet-highlight sheet-not-sheet-show">
							<input name="attr_uncanny_cmd_dodge" type="checkbox" value="1" class="sheet-sect-show" style="display:none;">
							<input name="attr_uncanny_dodge" type="checkbox" value="1" class="sheet-sect-show" style="display:none;">
							<input class="sheet-sect" title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0">
						</span>
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0"></span>
						<span class="sheet-table-cell"><input title="@{CMD-misc}" type="number" name="attr_CMD-misc" value="0"></span>
						<span class="sheet-table-cell"><input title="@{buff_CMD-total}" type="number" name="attr_buff_CMD-total" value="0" class="sheet-calc" readonly="readonly"></span>
						<span class="sheet-table-cell"><input title="@{CMD-penalty}" type="number" name="attr_CMD-penalty" class="sheet-calc" readonly="readonly" value="0"></span>
					</div>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="special-defense">Special Defenses</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_special-defenses-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="special-defense">Special Defenses</span>
				<div class="sheet-table-group">
					<div class="sheet-table-row">
						<span class="sheet-table-header" title="Damage Reduction: The amount of damage ignored and the type of weapon that negates the ability. (e.g. 5/silver)" data-i18n-title="damage-resistance-title" data-i18n="damage-resistance-abbrv">DR</span>
						<span class="sheet-table-header" title="Ignores some damage of the indicated type each time it takes damage of that kind. (e.g. acid 10)" data-i18n-title="resistances-title" data-i18n="resistance">Resistances</span>
						<span class="sheet-table-header" title="Takes no damage from listed sources. (e.g. acid, fire, paralysis)" data-i18n-title="immunities-title" data-i18n="immunities">Immunities</span>
						<span class="sheet-table-header" title="Adverse conditions may apply if applicable. (e.g. sunlight powerlessness/staggered)" data-i18n-title="weaknesses-title" data-i18n="weaknesses">Weaknesses</span>
						<span class="sheet-table-header" title="Low-light vision('...see twice as far as normal in dim light.'), Darkvision('...see with no light source at all'), etc." data-i18n-title="vision-title" data-i18n="vision">Vision</span>
						<span class="sheet-table-header" title="Spell Resistance: Avoids the effects of spells and spell-like abilities that directly affect it. Caster Level check vs SR to negate resistance." data-i18n-title="spell-resistance-title" data-i18n="spell-resistance-abbrv">SR</span>
						<span class="sheet-table-header" title="Spell Resistance Modifier that is the result of the macro formula." data-i18n="modifier-abbrv">Mod</span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell"><input title="@{DR}" type="text" name="attr_DR" placeholder="Damage Reduction" data-i18n-placeholder="damage-reduction"></span>
						<span class="sheet-table-cell"><input title="@{resistances}" type="text" name="attr_resistances" placeholder="Resistances" data-i18n-placeholder="resistances"></span>
						<span class="sheet-table-cell"><input title="@{immunities}" type="text" name="attr_immunities" placeholder="Immunities" data-i18n-placeholder="immunities"></span>
						<span class="sheet-table-cell"><input title="@{weaknesses}" type="text" name="attr_weaknesses" placeholder="Weaknesses" data-i18n-placeholder="weaknesses"></span>
						<span class="sheet-table-cell"><input title="@{vision}" type="text" name="attr_vision" placeholder="Vision Details" data-i18n-placeholder="vision-details"></span>
						<span class="sheet-table-cell"><input title="@{SR-macro-text}" type="text" name="attr_SR-macro-text" placeholder="# or Macro" data-i18n-placeholder="number-or-macro-text-place"/></span>
						<span class="sheet-table-cell"><input title="@{SR}" type="number" name="attr_SR" value="0" class="sheet-calc" readonly="readonly" /></span>
					</div>
				</div>
			</div>
		  <br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="armor-penalties">Armor Penalties</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_armor-penalties-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked"><span></span>
			<div class="sheet-table sheet-sect sheet-armor-penalty-table sheet-medium-numbers">
				<span class="sheet-table-name" data-i18n="armor-penalties">Armor Penalties</span><div class="sheet-table-group-head" style="">
					<span class="sheet-table-header" data-i18n="armor-check-penalty-abbrv">ACP</span>
					<span class="sheet-table-header" data-i18n="armor-check-penalty-source-abbrv">ACP source</span>					
					<span class="sheet-table-header" data-i18n="attack-penalty">Attack penalty</span>
					<span class="sheet-table-header" style="width:5%;"></span>
					<span class="sheet-table-header" data-i18n="maximum-dexterity-bonus-abbrv">Max Dex</span>
					<span class="sheet-table-header" data-i18n="maximum-dexterity-bonus-source-abbrv">Max Dex Source</span>
					<span class="sheet-table-header" data-i18n="roll">Roll</span>
					<span class="sheet-table-header" data-i18n="spell-failure" style="width:10%;">Spell Failure</span>
					<span class="sheet-table-header"></span>
				</div>
				<div class="sheet-table-row">
	 
					<span class="sheet-table-cell" style="max-width: 5rem;"><input title="@{acp}" type="number" name="attr_acp" value="0" class="sheet-calc sheet-entry-wide" readonly="readonly"></span>
					<span class="sheet-table-cell">
						<select title="@{acp-source}" name="attr_acp-source" class="sheet-select-small" style="width: 12em;">
							<option value="0" data-i18n="armor-shield-load-default" selected>&#8226;Armor, Shield &amp; Load</option>
							<option value="1" data-i18n="armor-shield-only">Armor &amp; Shield only</option>
							<option value="2" data-i18n="load-only">Load only</option>
							<option value="3" data-i18n="none">None</option>
						</select>
					</span>					
					<span class="sheet-table-cell"><input title="@{acp-attack-mod}" type="number" name="attr_acp-attack-mod" value="0" class="sheet-calc sheet-entry-wide" readonly="readonly"></span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-table-cell"><input title="@{max-dex}" type="number" name="attr_max-dex" value="99" style="" class="sheet-calc sheet-entry-wide" readonly="readonly"></span>
					<span class="sheet-table-cell">
						<select title="@{max-dex-source}" name="attr_max-dex-source" class="sheet-select-small" style="width: 12em;">
							<option value="0" data-i18n="armor-shield-load-default" selected>&#8226;Armor, Shield &amp; Load</option>
							<option value="1" data-i18n="armor-shield-only">Armor &amp; Shield only</option>
							<option value="2" data-i18n="load-only">Load only</option>
							<option value="3" data-i18n="none">None</option>
						</select>
					</span>					
					<span class="sheet-table-row-name">
					<button class="sheet-text-button sheet-btn sheet-ui-draggable btn ui-draggable" type="roll" title="%{selected|Spell-Fail-Check}" name="roll_Spell-Fail-Check" style="vertical-align: text-bottom;width: 6em; text-align:center;" value="@{PC-whisper} &amp;{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Spell Failure}} {{Spell Fail Chance=[[ @{spell-fail} ]]&nbsp;%&nbsp;}} {{Check=[[ 1d100cf<[[ @{spell-fail} ]]cs>[[ @{spell-fail}+1 ]] ]]&nbsp;%&nbsp;}} {{lefttext_6=@{SpellFailureNote}}}">&nbsp;<span data-i18n="spell-failure">Spell Fail</span></button>
					</span>
					<span class="sheet-table-cell"><input title="@{spell-fail}" type="number" name="attr_spell-fail" value="0" class="sheet-calc sheet-entry-wide" readonly="readonly"></span>
					<span class="sheet-table-cell sheet-left">%</span>
					<input title="@{SpellFailureNote}" name="attr_SpellFailureNote" type="hidden" value="">
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="saving-throws">Saving Throws</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_saves-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked" /><span></span>
			<div class="sheet-sect">
				<div class="sheet-table sheet-save-table sheet-medium-numbers">
					<span class="sheet-table-name" data-i18n="saving-throws">Saving Throws</span>
					<div class="sheet-table-group-head">
						<span class="sheet-table-header" data-i18n="save">Save</span>
						<span class="sheet-table-header" data-i18n="total">Total</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="base">Base</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="ability">Ability</span>
						<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="trait">Trait</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="enhancement-abbrv">Enhan</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="resistance">Resistance</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="condition-abbrv">Cond</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="buff">Buff</span>
					</div>
					<div class="sheet-table-group">
						<div class="sheet-table-row sheet-save">
							<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|Fort-Save}" type="roll" name="roll_Fort-Save" value="@{PC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Fortitude}} {{Save=[[ 1d20 + [[ @{Fort} ]] ]]}} @{save_options}">&nbsp;<span data-i18n="fortitude-abbrv">Fort</span></button></span>
							<span class="sheet-table-cell"><input title="@{Fort}" type="number" name="attr_Fort" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell"><input title="@{total-Fort}" type="number" name="attr_total-Fort" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell">
							<select title="@{Fort-ability}" name="attr_Fort-ability">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv-default" selected>&#8226;CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
							</span>
							<span class="sheet-table-cell"><input title="@{Fort-ability-mod}" type="number" name="attr_Fort-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Fort-trait}" type="number" name="attr_Fort-trait" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Fort-enhance}" type="number" name="attr_Fort-enhance" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Fort-resist}" type="number" name="attr_Fort-resist" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Fort-misc}" type="number" name="attr_Fort-misc" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{saves-cond}" type="number" name="attr_saves-cond" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{buff_Fort-total}" type="number" name="attr_buff_Fort-total" value="0" class="sheet-calc" readonly="readonly" /></span>
						</div>
						<div class="sheet-table-row sheet-save">
							<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|Ref-Save}" type="roll" name="roll_Ref-Save" value="@{PC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Reflex}} {{Save=[[ 1d20 + [[ @{Ref} ]] ]]}} @{save_options}">&nbsp;<span data-i18n="reflex-abbrv">Ref</span></button></span>
							<span class="sheet-table-cell"><input title="@{Ref}" type="number" name="attr_Ref" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell"><input title="@{total-Ref}" type="number" name="attr_total-Ref" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell">
							<select title="@{Ref-ability}" name="attr_Ref-ability">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
							</span>
							<span class="sheet-table-cell"><input title="@{Ref-ability-mod}" type="number" name="attr_Ref-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>			
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Ref-trait}" type="number" name="attr_Ref-trait" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Ref-enhance}" type="number" name="attr_Ref-enhance" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Ref-resist}" type="number" name="attr_Ref-resist" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Ref-misc}" type="number" name="attr_Ref-misc" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{saves-cond}" type="number" name="attr_saves-cond" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{buff_Ref-total}" type="number" name="attr_buff_Ref-total" value="0" class="sheet-calc" readonly="readonly" /></span>
						</div>
						<div class="sheet-table-row sheet-save">
							<span class="sheet-table-row-name"><button class="sheet-text-button" title="%{selected|Will-Save}" type="roll" name="roll_Will-Save" value="@{PC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Will}} {{Save=[[ 1d20 + [[ @{Will} ]] ]]}} @{save_options}">&nbsp;<span data-i18n="willpower-abbrv">Will</span></button></span>
							<span class="sheet-table-cell"><input title="@{Will}" type="number" name="attr_Will" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell"><input title="@{total-Will}" type="number" name="attr_total-Will" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell">
							<select title="@{Will-ability}" name="attr_Will-ability">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
							</span>
							<span class="sheet-table-cell"><input title="@{Will-ability-mod}" type="number" name="attr_Will-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>			   
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Will-trait}" type="number" name="attr_Will-trait" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Will-enhance}" type="number" name="attr_Will-enhance" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Will-resist}" type="number" name="attr_Will-resist" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Will-misc}" type="number" name="attr_Will-misc" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{saves-cond}" type="number" name="attr_saves-cond" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{buff_Will-total}" type="number" name="attr_buff_Will-total" value="0" class="sheet-calc" readonly="readonly" /></span>
						</div>
					</div>
				</div>
				<div>
					<h4 data-i18n="options">Options</h4>
					<input type="checkbox" class="sheet-options-show" title="@{options_defense_options-show}" name="attr_options_defense_options-show" value="1" style="opacity:0; width:70px; height:1.5em; position:relative; top:0; left:0; margin:0 -15px 0 -55px; cursor:pointer; z-index:1;" /><span></span>
					<input type="hidden" name="attr_var_dr_notes" value="{{dr_notes=@{DR}}}" disabled />
					<input type="hidden" name="attr_var_resistances_notes" value="{{resistances_notes=@{resistances}}}" disabled />
					<input type="hidden" name="attr_var_immunities_notes" value="{{immunities_notes=@{immunities}}}" disabled />
					<input type="hidden" name="attr_var_weaknesses_notes" value="{{weaknesses_notes=@{weaknesses}}}" disabled />
					<input type="hidden" name="attr_var_sr0_notes" value="{{sr0_notes=@{SR}}}" disabled />
					<input type="hidden" name="attr_var_armor_notes" value="{{armor_notes=@{Armor-notes}}}" disabled />
					<input type="hidden" name="attr_var_save_notes" value="{{save_notes=@{Save-notes}}}" disabled />
					<input type="hidden" name="attr_var_cmd_notes" value="{{cmd_notes=@{cmd-notes}}}" disabled />
					<input type="hidden" name="attr_var_defense_notes" value="{{defense_notes=@{defense-notes}}}" disabled />	
					<div class="sheet-table sheet-options">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label sheet-left"><b title="Include these additional attributes with saving throws?" data-i18n-title="include-information-title" data-i18n="include-information">Include info?</b></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_dr_notes" value="@{var_dr_notes}" title="@{toggle_dr_notes}" /><b title="Show Damage Reduction" data-i18n-title="options-defenses-dr-title" data-i18n="damage-resistance-abbrv"> DR</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_resistances_notes" value="@{var_resistances_notes}" title="Show Resistances" /><b title="Show Resistances" data-i18n-title="options-defenses-resis-title" data-i18n="resistance"> Resistances</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_immunities_notes" value="@{var_immunities_notes}" title="Show Immunities" /><b title="Show Immunities" data-i18n-title="options-defenses-immun-title" data-i18n="immunities"> Immunities</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_weaknesses_notes" value="@{var_weaknesses_notes}" title="Show Weaknesses" /><b title="Show Weaknesses" data-i18n-title="options-defenses-weak-title" data-i18n="weaknesses"> Weaknesses</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_sr0_notes" value="@{var_sr0_notes}" title="@{toggle_sr0_notes}" /><b title="Show Spell Resistance" data-i18n-title="options-defenses-resis-title" data-i18n="spell-resistance-abbrv"> SR</b></label></span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label sheet-left">&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_armor_notes" value="@{var_armor_notes}" title="@{toggle_armor_notes}" /><b title="Show Armor Notes" data-i18n-title="options-defenses-armor-title" data-i18n="armor-notes"> Armor Notes</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_save_notes" value="@{var_save_notes}" title="@{toggle_save_notes}" /><b title="Show Save Notes" data-i18n-title="options-defenses-save-title" data-i18n="save-notes"> Save Notes</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_cmd_notes" value="@{var_cmd_notes}" title="@{toggle_cmd_notes}" /><b title="Show CMD Notes" data-i18n-title="options-defenses-cmd-title" data-i18n="combat-maneuver-defense-notes"> CMD Notes</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_defense_notes" value="@{var_defense_notes}" title="@{toggle_defense_notes}" /><b title="Show Defense Notes" data-i18n-title="options-defenses-def-title" data-i18n="defense-notes"> Defense Notes</b></label></span>
							<span class="sheet-table-cell sheet-small-label sheet-left">&nbsp;</span>
						</div>
					</div>
					<input type="hidden" name="attr_save_options" value="@{toggle_dr_notes} @{toggle_resistances_notes} @{toggle_immunities_notes} @{toggle_weaknesses_notes} @{toggle_sr0_notes} @{toggle_armor_notes} @{toggle_save_notes} @{toggle_cmd_notes} @{toggle_defense_notes}" disabled />
				</div>
			</div>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="armor-and-shield">Armor and Shield</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_armor-shield-show" value="1" style="width: 12em;margin: -0.5em -1em 0 -11em;" /><span></span>
			<div class="sheet-table sheet-sect sheet-armor-shield-table">
				<span class="sheet-table-name" data-i18n="armor-and-shield">Armor and Shield</span>
				<div class="sheet-table-row">
					<span class="sheet-table-header" style="text-align:left; padding-left:10px; min-width:10em; width:15%;"><span data-i18n="equipped" data-i18n-title="equipped-title" title="Select which armor and shield are equipped.">Equipped</span></span>
					<span class="sheet-table-header" data-i18n="name" style="width:20%;">Name</span>
					<span class="sheet-table-header" data-i18n="armor-class-bonus">AC Bonus</span>
					<span class="sheet-table-header" data-i18n="maximum-dexterity">Max DEX</span>
					<span class="sheet-table-header" data-i18n="armor-check-penalty-abbrv">ACP</span>
					<span class="sheet-table-header" data-i18n="spell-failure">Spell Fail</span>
					<span class="sheet-table-header" data-i18n="armor-type" style="width:14%;">Armor Type</span>
					<span class="sheet-table-header" data-i18n="proficiency-abbrv">Prof</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"><label><input title="@{armor3-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_armor3-equipped" value="1" checked="checked" /><b title="Worn Armor" data-i18n="worn-armor">&nbsp;&nbsp;Worn Armor</b></label></span>
					<span class="sheet-table-cell"><input title="@{armor3}" type="text" name="attr_armor3" value="" placeholder="Worn Armor" data-i18n-placeholder="worn-armor" class="sheet-detail-medium" /></span>
					<span class="sheet-table-cell"><input title="@{armor3-acbonus}" type="number" name="attr_armor3-acbonus" value="0" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor3-max-dex}" type="number" name="attr_armor3-max-dex" value="99" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor3-acp}" type="number" name="attr_armor3-acp" value="0" max="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor3-spell-fail}" type="number" name="attr_armor3-spell-fail" value="0" min="0" max="100" />&#37;</span>
					<span class="sheet-table-cell">
						<select class="sheet-select-small" title="@{armor3-type}" name="attr_armor3-type">
							<option value="Light" data-i18n="light">Light</option>
							<option value="Medium" data-i18n="medium">Medium</option>
							<option value="Heavy" data-i18n="heavy">Heavy</option>
						</select>
					</span>
					<span class="sheet-table-cell">
						<select title="@{armor3-proficiency}" name="attr_armor3-proficiency" class="sheet-select-small">
							<option value="0" data-i18n="yes">Yes</option>
							<option value="1" data-i18n="no">No</option>
						</select>
					</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"><label><input title="@{armor-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_armor-equipped" value="1" /><b title="Additional Armor" data-i18n="armor-one">&nbsp;&nbsp;Armor 1</b></label></span>
					<span class="sheet-table-cell"><input title="@{armor}" type="text" name="attr_armor" placeholder="Armor 1" data-i18n-placeholder="armor-one" class="sheet-detail-medium" /></span>
					<span class="sheet-table-cell"><input title="@{armor-acbonus}" type="number" name="attr_armor-acbonus" value="0" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor-max-dex}" type="number" name="attr_armor-max-dex" value="99" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor-acp}" type="number" name="attr_armor-acp" value="0" max="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor-spell-fail}" type="number" name="attr_armor-spell-fail" value="0" min="0" max="100" />&#37;</span>
					<span class="sheet-table-cell">
						<select class="sheet-select-small" title="@{armor-type}" name="attr_armor-type">
							<option value="Light" data-i18n="light">Light</option>
							<option value="Medium" data-i18n="medium">Medium</option>
							<option value="Heavy" data-i18n="heavy">Heavy</option>
						</select>
					</span>
					<span class="sheet-table-cell">
						<select title="@{armor-proficiency}" name="attr_armor-proficiency" class="sheet-select-small">
							<option value="0" data-i18n="yes">Yes</option>
							<option value="1" data-i18n="no">No</option>
						</select>
					</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"><label><input title="@{armor2-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_armor2-equipped" value="1" /><b title="Alternate Armor" data-i18n="armor-two">&nbsp;&nbsp;Armor 2</b></label></span>
					<span class="sheet-table-cell"><input title="@{armor2}" type="text" name="attr_armor2" placeholder="Armor 2" data-i18n-placeholder="armor-two" class="sheet-detail-medium" /></span>
					<span class="sheet-table-cell"><input title="@{armor2-acbonus}" type="number" name="attr_armor2-acbonus" value="0" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor2-max-dex}" type="number" name="attr_armor2-max-dex" value="99" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor2-acp}" type="number" name="attr_armor2-acp" value="0" max="0" /></span>
					<span class="sheet-table-cell"><input title="@{armor2-spell-fail}" type="number" name="attr_armor2-spell-fail" value="0" min="0" max="100" />&#37;</span>
					<span class="sheet-table-cell">
						<select class="sheet-select-small" title="@{armor2-type}" name="attr_armor2-type">
							<option value="Light" data-i18n="light">Light</option>
							<option value="Medium" data-i18n="medium">Medium</option>
							<option value="Heavy" data-i18n="heavy">Heavy</option>
						</select>
					</span>
					<span class="sheet-table-cell">
						<select title="@{armor2-proficiency}" name="attr_armor2-proficiency" class="sheet-select-small">
							<option value="0" data-i18n="yes">Yes</option>
							<option value="1" data-i18n="no">No</option>
						</select>
					</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"><label><input title="@{shield3-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_shield3-equipped" value="1" checked="checked" /><b title="Worn Shield" data-i18n="worn-shield">&nbsp;&nbsp;Worn Shield</b></label></span>
					<span class="sheet-table-cell"><input title="@{shield3}" type="text" name="attr_shield3" value="" placeholder="Worn Shield" data-i18n-placeholder="worn-shield" class="sheet-detail-medium" /></span>
					<span class="sheet-table-cell"><input title="@{shield3-acbonus}" type="number" name="attr_shield3-acbonus" value="0" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{shield3-max-dex}" type="number" name="attr_shield3-max-dex" value="99" min="0" max="99" /></span>
					<span class="sheet-table-cell"><input title="@{shield3-acp}" type="number" name="attr_shield3-acp" value="0" max="0" /></span>
					<span class="sheet-table-cell"><input title="@{shield3-spell-fail}" type="number" name="attr_shield3-spell-fail" value="0" min="0" max="100" />&#37;</span>
					<span class="sheet-table-cell">
						<select class="sheet-select-small" title="@{shield3-type} Tower shield add -2 to attack misc" name="attr_shield3-type">
							<option value="Shield" data-i18n="shield">Shield</option>
							<option value="Tower Shield" data-i18n="tower-shield">Tower Shield</option>
						</select>
					</span>
					<span class="sheet-table-cell">
						<select title="@{shield3-proficiency}" name="attr_shield3-proficiency" class="sheet-select-small">
							<option value="0" data-i18n="yes">Yes</option>
							<option value="1" data-i18n="no">No</option>
						</select>
					</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"><label><input title="@{shield-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_shield-equipped" value="1" /><b title="Additional Shield" data-i18n="shield-one">&nbsp;&nbsp;Shield 1</b></label></span>
					<span class="sheet-table-cell"><input title="@{shield}" type="text" name="attr_shield" placeholder="Shield 1" data-i18n-placeholder="shield-one" class="sheet-detail-medium" /></span>
					<span class="sheet-table-cell"><input title="@{shield-acbonus}" type="number" name="attr_shield-acbonus" value="0" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{shield-max-dex}" type="number" name="attr_shield-max-dex" value="99" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{shield-acp}" type="number" name="attr_shield-acp" value="0" max="0" /></span>
					<span class="sheet-table-cell"><input title="@{shield-spell-fail}" type="number" name="attr_shield-spell-fail" value="0" min="0" max="100" />&#37;</span>
					<span class="sheet-table-cell">
						<select class="sheet-select-small" title="@{shield-type} Tower shield add -2 to attack misc" name="attr_shield-type">
							<option value="Shield" data-i18n="shield">Shield</option>
							<option value="Tower Shield" data-i18n="tower-shield">Tower Shield</option>
						</select>
					</span>
					<span class="sheet-table-cell">
						<select title="@{shield-proficiency}" name="attr_shield-proficiency" class="sheet-select-small">
							<option value="0" data-i18n="yes">Yes</option>
							<option value="1" data-i18n="no">No</option>
						</select>
					</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"><label><input title="@{shield2-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_shield2-equipped" value="1" /><b title="Alternate Shield" data-i18n="shield-two">&nbsp;&nbsp;Shield 2</b></label></span>
					<span class="sheet-table-cell"><input title="@{shield2}" type="text" name="attr_shield2" placeholder="Shield 2" data-i18n-placeholder="shield-two" class="sheet-detail-medium" /></span>
					<span class="sheet-table-cell"><input title="@{shield2-acbonus}" type="number" name="attr_shield2-acbonus" value="0" min="0" /></span>
					<span class="sheet-table-cell"><input title="@{shield2-max-dex}" type="number" name="attr_shield2-max-dex" value="99" min="0" max="99" /></span>
					<span class="sheet-table-cell"><input title="@{shield2-acp}" type="number" name="attr_shield2-acp" value="0" max="0" /></span>
					<span class="sheet-table-cell"><input title="@{shield2-spell-fail}" type="number" name="attr_shield2-spell-fail" value="0" min="0" max="100" />&#37;</span>
					<span class="sheet-table-cell">
						<select class="sheet-select-small" title="@{shield2-type} Tower shield add -2 to attack misc" name="attr_shield2-type">
							<option value="Shield" data-i18n="shield">Shield</option>
							<option value="Tower Shield" data-i18n="tower-shield">Tower Shield</option>
						</select>
					</span>
					<span class="sheet-table-cell">
						<select title="@{shield2-proficiency}" name="attr_shield2-proficiency" class="sheet-select-small">
							<option value="0" data-i18n="yes">Yes</option>
							<option value="1" data-i18n="no">No</option>
						</select>
					</span>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="defense-notes">Defense Notes</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_defense-notes-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked" /><span class="sheet-offCase"></span>
			<div class="sheet-table sheet-sect">
				<div class="sheet-table-row">
					<div class="sheet-table-cell">
						<div class="sheet-table">
							<span class="sheet-table-name" data-i18n="armor-notes">Armor Notes</span>
							<div class="sheet-table-row">
								<span class="sheet-table-cell sheet-left"><textarea title="@{Armor-notes}" name="attr_Armor-notes" placeholder="Put notes about context-sensitive AC bonuses here." data-i18n-placeholder="armor-notes-place"></textarea></span>
							</div>
						</div>
					</div>
					<div class="sheet-table-cell">
						<div class="sheet-table">
							<span class="sheet-table-name" data-i18n="save-notes">Save Notes</span>
							<div class="sheet-table-row">
								<span class="sheet-table-cell sheet-left"><textarea title="@{Save-notes}" name="attr_Save-notes" placeholder="Put notes about context-sensitive Saving Throw bonuses here." data-i18n-placeholder="save-notes-place"></textarea></span>
							</div>
						</div>
					</div>
					<div class="sheet-table-cell">
						<div class="sheet-table">
							<span class="sheet-table-name" data-i18n="combat-maneuver-defense-notes">CMD Notes</span>
							<div class="sheet-table-row">
								<span class="sheet-table-cell sheet-left"><textarea title="@{cmd-notes}" name="attr_cmd-notes" placeholder="Put notes about context-sensitive CMD bonuses here." data-i18n-placeholder="combat-maneuver-notes-place"></textarea></span>
							</div>
						</div>
					</div>
					<div class="sheet-table-cell">
						<div class="sheet-table">
							<span class="sheet-table-name" data-i18n="defense-notes">Defense Notes</span>
							<div class="sheet-table-row">
								<span class="sheet-table-cell sheet-left"><textarea title="@{defense-notes}" name="attr_defense-notes" placeholder="Put notes about context-sensitive defense bonuses here." data-i18n-placeholder="defense-notes-place"></textarea></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<br>
	</div>

	<div class="sheet-section sheet-section-attacks" role="region" aria-label="Attacks page">
		<h1 data-i18n="attacks">Attacks</h1>
		<div class="sheet-h2-section">
			<h2 data-i18n="attack-and-combat-maneuver-bonuses">Attack and Combat Maneuver Bonuses</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_attack-bonuses-show" value="1" style="width: 25em;margin: -0.5em -1em 0 -24em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="attack-and-combat-maneuver-bonuses">Attack and Combat Maneuver Bonuses</span>
				<div class="sheet-table-row">
					<span class="sheet-table-header" style="width:15%" data-i18n="attack-type">Attack Type</span>
					<span class="sheet-table-header" data-i18n="total">Total</span>
					<span class="sheet-table-header">&nbsp;</span>
					<span class="sheet-table-header" data-i18n="base-attack-bonus-abbrv">BAB</span>
					<span class="sheet-table-header">&nbsp;</span>
					<span class="sheet-table-header" data-i18n="ability">Ability</span>
					<span class="sheet-table-header" data-i18n="modifier-abbrv">&nbsp;Mod</span>
					<span class="sheet-table-header">&nbsp;</span>
					<span class="sheet-table-header" data-i18n="size">Size</span>
					<span class="sheet-table-header">&nbsp;</span>
					<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
					<span class="sheet-table-header">&nbsp;</span>
					<span class="sheet-table-header" data-i18n="buff">Buff</span>
					<span class="sheet-table-header sheet-divider">|</span>
					<span class="sheet-table-header" data-i18n="condition-abbrv">Cond</span>
					<span class="sheet-table-header">&nbsp;</span>
					<span class="sheet-table-header" style="width:22%" data-i18n="notes">Notes</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-row-name"><button class="sheet-text-button" type="roll" title="%{selected|Melee-Attack-Roll}" name="roll_Melee-Attack-Roll" value="@{PC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Melee Attack}} {{Check=[[ 1d20 + [[ @{attk-melee} ]] ]]}}">&nbsp;<span data-i18n="melee">Melee</span></button></span>
					<span class="sheet-table-cell"><input title="@{attk-melee}" type="number" name="attr_attk-melee" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">=</span>
					<span class="sheet-table-cell"><input title="@{bab}" type="number" name="attr_bab" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider" style="padding-right:.75em;">+</span>
					<span class="sheet-table-cell">
						<select title="@{melee-ability}" name="attr_melee-ability" class="sheet-select-small">
							<option value="0" data-i18n="none">None</option>
							<option value="@{STR-mod}" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
							<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
							<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
							<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
							<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
							<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
						</select>
					</span>
					<span class="sheet-table-cell sheet-left"><input title="@{melee-ability-mod}" type="number" name="attr_melee-ability-mod" value="0"  class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{attk-melee-misc}" type="number" name="attr_attk-melee-misc" value="0" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{buff_Melee-total}" name="attr_buff_Melee-total" type="number" value="0"  class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" max="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell">&nbsp;</span>
					<span class="sheet-table-cell" style="width:100px;"><input title="@{attk-cnote} : condition" type="text" name="attr_attk-cnote" value="" class="sheet-calc" readonly="readonly" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-row-name"><button class="sheet-text-button" type="roll" title="%{selected|Ranged-Attack-Roll}" name="roll_Ranged-Attack-Roll" value="@{PC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-ranged}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Ranged Attack}} {{Check=[[ 1d20 + [[ @{attk-ranged} ]] ]]}}">&nbsp;<span data-i18n="ranged">Ranged</span></button></span>
					<span class="sheet-table-cell"><input title="@{attk-ranged}" type="number" name="attr_attk-ranged" value="0"  class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">=</span>
					<span class="sheet-table-cell"><input title="@{bab}" type="number" name="attr_bab" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider" style="padding-right:.75em;">+</span>
					<span class="sheet-table-cell">
						<select title="@{ranged-ability}" name="attr_ranged-ability" class="sheet-select-small">
							<option value="0">None</option>
							<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
							<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
							<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
							<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
							<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
							<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
						</select>
					</span>
					<span class="sheet-table-cell sheet-left"><input title="@{ranged-ability-mod}" type="number" name="attr_ranged-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{size}" type="number" name="attr_size" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{attk-ranged-misc}" type="number" name="attr_attk-ranged-misc" value="0" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{buff_Ranged-total}" type="number" name="attr_buff_Ranged-total" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell">&nbsp;</span>
					<span class="sheet-table-cell" style="width:100px;"><input title="@{attk-cnote} : condition" type="text" name="attr_attk-cnote" value="" class="sheet-calc" readonly="readonly" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-row-name"><button class="sheet-text-button" type="roll" title="%{selected|CMB-Check}" name="roll_CMB-Check" value="@{PC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-cmb}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CMB}} {{Check=[[ 1d20 + [[ @{CMB} ]] ]]}}">&nbsp;<span data-i18n="combat-maneuver-bonus-abbrv">CMB</span></button></span>
					<span class="sheet-table-cell"><input title="@{CMB}" type="number" name="attr_CMB" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">=</span>
					<span class="sheet-table-cell"><input title="@{bab}" type="number" name="attr_bab" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider" style="padding-right:.75em;">+</span>
					<span class="sheet-table-cell">
						<select title="@{CMB-ability}" name="attr_CMB-ability" class="sheet-select-small">
							<option value="0">None</option>
							<option value="@{STR-mod}" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
							<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
							<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
							<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
							<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
							<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
						</select>
					</span>
					<span class="sheet-table-cell sheet-left"><input title="@{CMB-ability-mod}" type="number" name="attr_CMB-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">-</span>
					<span class="sheet-table-cell"><input title="@{CMD-size}" type="number" name="attr_CMD-size" value="0"  class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{attk-CMB-misc}" type="number" name="attr_attk-CMB-misc" value="0" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{buff_Melee-total}" name="attr_buff_Melee-total" type="number" value="0"  class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{attk-penalty}" type="number" name="attr_attk-penalty" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider"></span>
					<span class="sheet-table-cell" style="width:100px;"><input title="@{attk-CMB-cnote} : grappled condition" type="text" name="attr_attk-CMB-cnote" value="" class="sheet-calc" readonly="readonly" /></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-row-name sheet-center"><span class="sheet-rowname-button" style="font-size:1.3em;font-weight:normal;" data-i18n="damage">Damage</span></span>
					<span class="sheet-table-cell"><input type="number" title="@{DMG-mod}" name="attr_DMG-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">=</span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-divider"></span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-table-cell"></span>
					<span class="sheet-divider"></span>
					<span class="sheet-table-cell"><input title="@{buff_DMG-total}" name="attr_buff_DMG-total" type="number" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">-</span>
					<span class="sheet-table-cell"><input title="@{dmg-penalty}" type="number" name="attr_dmg-penalty" value="@{condition-Sickened}" disabled /></span>
					<span class="sheet-divider"></span>
					<span class="sheet-table-cell" style="width:100px;"><input title="@{DMG-cnote}" type="text" name="attr_DMG-cnote" value="" class="sheet-calc" readonly="readonly" /></span>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="attack-notes">Attack Notes</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_attack-notes-show" value="1" style="width: 9.5em;margin: -0.5em -1em 0 -8.25em;" checked="checked" /><span class="sheet-offCase"></span>
			<div class="sheet-table sheet-sect">
				<div class="sheet-table">
					<div class="sheet-table-row">
						<div class="sheet-table-cell">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="melee-attack-notes">Melee Attack Notes</span>
								<div class="sheet-table-row">
									<span class="sheet-table-cell sheet-left"><textarea title="@{melee-attack-notes}" name="attr_melee-attack-notes" placeholder="Put notes about context-sensitive Melee Attack bonuses here." data-i18n-placeholder="melee-attack-notes-place"></textarea></span>
								</div>
							</div>
						</div>
						<div class="sheet-table-cell">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="ranged-attack-notes">Ranged Attack Notes</span>
								<div class="sheet-table-row">
									<span class="sheet-table-cell sheet-left"><textarea title="@{ranged-attack-notes}" name="attr_ranged-attack-notes" placeholder="Put notes about context-sensitive Ranged Attack bonuses here." data-i18n-placeholder="ranged-attack-notes-place"></textarea></span>
								</div>
							</div>
						</div>
						<div class="sheet-table-cell">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="combat-maneuver-bonus-notes">CMB Notes</span>
								<div class="sheet-table-row">
									<span class="sheet-table-cell sheet-left"><textarea title="@{CMB-notes}" name="attr_CMB-notes" placeholder="Put notes about context-sensitive CMB bonuses here." data-i18n-placeholder="combat-maneuver-bonus-notes-place"></textarea></span>
								</div>
							</div>
						</div>
						<div class="sheet-table-cell">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="attack-notes">Attack Notes</span>
								<div class="sheet-table-row">
									<span class="sheet-table-cell sheet-left"><textarea title="@{attack-notes}" name="attr_attack-notes" placeholder="Put notes about context-sensitive Attack bonuses here." data-i18n="attack-notes-place"></textarea></span>
								</div>
							</div>
						</div>
					</div>
				</div>
			</div>
			<br/>
		</div>

		<div class="sheet-h2-section">
			<h2 data-i18n="attackmacro">All Attacks Macro Button</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_attacks-macro-show" value="1" style="width: 16em;margin: -0.5em -1em 0 -15em;" checked="checked" /><span></span>
			<div class="sheet-sect sheet-table" >
				<div class="sheet-table-row">
					<div class="sheet-table-cell">
						<button type="roll" class="sheet-command-button" name="attr_attacks_buttons_macro" value="@{attacks-macro}" title="%{selected|attacks_buttons_macro}"><span data-i18n="attacks">Attacks</span></button>
						<input type="text" name="attr_attacks-macro" value="" style="display:none;" />
					</div>
				</div>
			</div>
		</div>


		<div class="sheet-h2-section sheet-repeating-sect">
			<h2 class="repeating-attacks" data-i18n="attacks">Attacks</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_attacks-show" value="1" style="width: 6em;margin: -0.5em -1em 0 -5em;" checked="checked" /><span></span>
			<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_attacks-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
			<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_weapon-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="attacks">Attacks</span>
			</div>
			<div class="sheet-sect">
				<div class="sheet-repeating-fields">
					<fieldset class="repeating_weapon">
						<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
						<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" name="attr_attack-show" title="Minimize Row" value="1" checked="checked" /><span class="sheet-table-cell"></span>
						<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_attack-roll" title="%{selected|repeating_weapon_$X_attack-roll}" value="@{macro-text}"></button></span>
						<span style="display:none;" class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_attack-npc-roll" title="%{selected|repeating_weapon_$X_attack-npc-roll}" value="@{NPC-macro-text}"></button></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect"><input type="number" name="attr_enhance" title="@{repeating_weapon_$X_enhance}" value="0"  /><br><span data-i18n="enhancement-abbrv">Enh</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect" style="padding-top: 8px;"><input type="checkbox" name="attr_masterwork" title="@{repeating_weapon_$X_masterwork}" value="1" style="width:15px;height:15px;" /><br><span data-i18n="masterwork-abbrv">Mwk</span></span>
						<span class="sheet-table-cell sheet-small-label"><input type="text" name="attr_name" title="@{repeating_weapon_$X_name}" placeholder="Name" data-i18n-placeholder="name"/><br><span data-i18n="name">Name</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:8%;"><input type="text" name="attr_attack" title="@{repeating_weapon_$X_attack}" placeholder="Attack Modifiers" /><br><span data-i18n="attack-modifiers-abbrv">ATK Mods</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:8%;"><input type="number" name="attr_attack-mod" title="@{repeating_weapon_$X_attack-mod}" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="value-abbrv">val</span></span>
						<span class="sheet-divider sheet-sect">+</span>
						<span class="sheet-table-cell sheet-small-label" style="width:10%;">
							<select title="@{repeating_weapon_$X_attack-type}" name="attr_attack-type">
								<option value="0" data-i18n="none-default" selected>&#8226;None</option>
								<option value="@{attk-melee}" data-i18n="melee">Melee</option>
								<option value="@{attk-ranged}" data-i18n="ranged">Ranged</option>
								<option value="@{CMB}" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
							</select>
							<br><span data-i18n="attack-type-abbrv">ATK Type</span>
						</span>
						<span class="sheet-divider sheet-sect">=</span>
						<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_total-attack" title="@{repeating_weapon_$X_total-attack}" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="attack-abbrv">ATK</span></span>
						<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_crit-target" title="@{repeating_weapon_$X_crit-target}" value="20" min="0" max="20" /><br><span data-i18n="critical-abbrv">Crit</span></span>
						<span class="sheet-divider-lg" style="padding-bottom:10px;"><b>/x</b></span>
						<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_crit-multiplier" title="@{repeating_weapon_$X_crit-multiplier}" value="2" min="0" /><br><span data-i18n="multiplier-abbrv">Mult</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect">
							<select title="@{repeating_weapon_$X_proficiency}" name="attr_proficiency">
								<option value="0" data-i18n="yes-default" selected>&#8226;Yes</option>
								<option value="-4" data-i18n="no">No</option>
							</select>
							<br><span data-i18n="proficiency">Proficiency</span>
						</span>
						<div></div>	
						<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_damage-dice-num" title="@{repeating_weapon_$X_damage-dice-num}" style="width:2.8em;" value="0" min="0" /><br><span data-i18n="dice">Dice</span></span>
						<span class="sheet-divider" style="padding-bottom: 10px;" data-i18n="number-of-dice-abbrv">d</span>
						<span class="sheet-table-cell sheet-small-label" style="width:3em;"><input type="number" name="attr_damage-die" title="@{repeating_weapon_$X_damage-die}" style="width:2.8em;" value="0" min="0" /><br><span data-i18n="die">Die</span></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell sheet-small-label sheet-entry_med sheet-sect"><input type="text" name="attr_damage" title="@{repeating_weapon_$X_damage}" placeholder="Damage Modifiers" /><br><span data-i18n="damage-modifier-abbrv">DMG Mods</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect"><input type="number" name="attr_damage-mod" title="@{repeating_weapon_$X_damage-mod}" value="0" style="width:2.4em;" class="sheet-calc" readonly="readonly" /><br><span data-i18n="value-abbrv">val</span></span>
						<span class="sheet-divider sheet-sect">+</span>
						<span class="sheet-table-cell sheet-small-label" style="width:8%;">
							<select title="@{repeating_weapon_$X_damage-ability}" name="attr_damage-ability" style="font-size:1em;">
								<option value="0 - [[ @{condition-sickened} ]]" data-i18n="none-default" selected>&#8226;None</option>
								<option value="floor(0.5 * @{STR-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-strength-abbrv">1/2 STR</option>
								<option value="floor(0.5 * @{DEX-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-dexterity-abbrv">1/2 DEX</option>
								<option value="floor(0.5 * @{CON-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-constitution-abbrv">1/2 CON</option>
								<option value="floor(0.5 * @{INT-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-intelligence-abbrv">1/2 INT</option>
								<option value="floor(0.5 * @{WIS-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-wisdom-abbrv">1/2 WIS</option>
								<option value="floor(0.5 * @{CHA-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-charisma-abbrv">1/2 CHA</option>
								<option value="@{STR-mod} - [[ @{condition-sickened} ]]" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod} - [[ @{condition-sickened} ]]" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod} - [[ @{condition-sickened} ]]" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod} - [[ @{condition-sickened} ]]" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod} - [[ @{condition-sickened} ]]" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod} - [[ @{condition-sickened} ]]" data-i18n="charisma-abbrv">CHA</option>
								<option value="floor(1.5 * @{STR-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-strength-abbrv">1.5x STR</option>
								<option value="floor(1.5 * @{DEX-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-dexterity-abbrv">1.5x DEX</option>
								<option value="floor(1.5 * @{CON-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-constitution-abbrv">1.5x CON</option>
								<option value="floor(1.5 * @{INT-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-intelligence-abbrv">1.5x INT</option>
								<option value="floor(1.5 * @{WIS-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-wisdom-abbrv">1.5x WIS</option>
								<option value="floor(1.5 * @{CHA-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-charisma-abbrv">1.5x CHA</option>
								<option value="floor(2 * @{STR-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-strength-abbrv">2x STR</option>
								<option value="floor(2 * @{DEX-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-dexterity-abbrv">2x DEX</option>
								<option value="floor(2 * @{CON-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-constitution-abbrv">2x CON</option>
								<option value="floor(2 * @{INT-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-intelligence-abbrv">2x INT</option>
								<option value="floor(2 * @{WIS-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-wisdom-abbrv">2x WIS</option>
								<option value="floor(2 * @{CHA-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-charisma-abbrv">2x CHA</option>
							</select>
							<br><span data-i18n="damage-ability">DMG Ability</span>
						</span>
						<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:2em;"><input style="width:2em;" type="text" name="attr_damage-ability-max" title="@{repeating_weapon_$X_damage-ability-max} for strength bows, etc." value="" placeholder="NA" data-i18n-placeholder="not-applicable"/><br/><span data-i18n="maximum-abbrv">Max</span></span>
						<span class="sheet-divider sheet-sect">=</span>
						<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_total-damage" title="@{repeating_weapon_$X_total-damage}" value="0" style="width:2.8em;" class="sheet-calc" readonly="readonly" /><br><span data-i18n="damage-abbrv">DMG</span></span>
						<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_range" title="@{repeating_weapon_$X_range}" value="0" min="0"  /><br><span data-i18n="range">Range</span></span>
						<span class="sheet-table-cell sheet-small-label"><input type="text" name="attr_type" title="@{repeating_weapon_$X_type} Damage Type" placeholder="Damage Type" style="width:3em;"/><br><span data-i18n="type">type</span></span>
						<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_ammo" title="@{repeating_weapon_$X_ammo}" value="0" style="width:2.8em;" /><br><span data-i18n="ammo">Ammo</span></span>
						<div class="sheet-table sheet-sect">
								<textarea class="sheet-weapon-notes" name="attr_notes" title="@{repeating_weapon_$X_notes}" placeholder="Weapon Notes"></textarea>
							<span class="sheet-center sheet-small-label" style="display: block;" data-i18n="notes">Notes</span>
						</div>
						<div class="sheet-sect sheet-expand">	
							<h4 data-i18n="iterative-attacks" title="Add additional attacks for this weapon.">Iterative Attacks</h4>
							<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_iterative-attacks-show" value="1" style="width: 11.25em;margin: -0.5em -1em 0 -10.25em;" /><span></span>
							<h4 data-i18n="options">Options</h4>
							<input type="checkbox" class="sheet-options-show" title="@{options-show}" name="attr_options-show" value="1" style="opacity:0; width:70px; height:1.5em; position:relative; top:0; left:0; margin:0 -15px 0 -55px; cursor:pointer; z-index:1;" /><span></span>
							<h4 data-i18n="macro-text">Macro Text</h4>
							<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_weapon_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
							<h4 data-i18n="identification-abbrv">IDs</h4>
							<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_weapon_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>

							<div class="sheet-table sheet-sect sheet-iterative_attack_section">
								<span class="sheet-table-name" data-i18n="iterative-attacks">Iterative Attacks</span>
								<div class="sheet-table-row">
									<span class="sheet-table-header" style="width: 10rem;" data-i18n="include-attacks-?">Include Attack?</span>
									<span class="sheet-table-header" data-i18n="attack-modifier-abbrv">Attack Mod</span>
									<span class="sheet-table-header" data-i18n="macro-text">Macro</span>
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell">
										<label>
											<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack2" title="@{repeating_weapon_$X_toggle_iterative_attack2}" value="@{var_iterative_attack2_macro}" />
											<b title="Include a second attack to your weapon?" data-i18n="include-second-attack">Include a 2nd attack?</b>
										</label>
									</span>
									<span class="sheet-table-cell">
										<input type="number" name="attr_iterative_attack2_value" title="@{repeating_weapon_$X_iterative_attack2_value}" value="-5" max="0" />
									</span>
									<span class="sheet-table-cell">
										<input type="text" name="attr_var_iterative_attack2_macro" title="@{repeating_weapon_$X_var_iterative_attack2_macro}" value="{{attack2=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack2_value} ]] ]]}} {{damage2=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm2=[[ 1d20 + [[ @{total-attack} + @{iterative_attack2_value} ]] ]]}} {{crit_damage2=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
									</span>
									<input type="hidden" name="attr_var_iterative_attack2" value="{{attack2=@{iterative_attack2_macro}}}" />
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell">
										<label>
											<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack3" title="@{repeating_weapon_$X_toggle_iterative_attack3}" value="@{var_iterative_attack3_macro}" />
											<b title="Include a third attack to your weapon?" data-i18n="include-third-attack">Include a 3rd attack?</b>
										</label>
									</span>
									<span class="sheet-table-cell sheet-small-label">
										<input type="number" name="attr_iterative_attack3_value" title="@{repeating_weapon_$X_iterative_attack3_value}" value="-10" max="0" />
									</span>
									<span class="sheet-table-cell sheet-small-label">
										<input type="text" name="attr_var_iterative_attack3_macro" title="@{repeating_weapon_$X_var_iterative_attack3_macro}" value="{{attack3=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack3_value} ]] ]]}} {{damage3=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm3=[[ 1d20 + [[ @{total-attack} + @{iterative_attack3_value} ]] ]]}} {{crit_damage3=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
									</span>
									<input type="hidden" name="attr_var_iterative_attack3" value="{{attack3=@{iterative_attack3_macro}}}" />
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell">
										<label>
											<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack4" title="@{repeating_weapon_$X_toggle_iterative_attack4}" value="@{var_iterative_attack4_macro}" />
											<b title="Include a fourth attack to your weapon?" data-i18n="include-fourth-attack">Include a 4th attack?</b>
										</label>
									</span>
									<span class="sheet-table-cell">
										<input type="number" name="attr_iterative_attack4_value" title="@{repeating_weapon_$X_iterative_attack4_value}" value="-15" max="0" />
									</span>
									<span class="sheet-table-cell">
										<input type="text" name="attr_var_iterative_attack4_macro" title="@{repeating_weapon_$X_var_iterative_attack4_macro}" value="{{attack4=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack4_value} ]] ]]}} {{damage4=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm4=[[ 1d20 + [[ @{total-attack} + @{iterative_attack4_value} ]] ]]}} {{crit_damage4=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
									</span>
									<input type="hidden" name="attr_var_iterative_attack4" value="{{attack4=@{iterative_attack4_macro}}}" />
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell">
										<label>
											<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack5" title="@{repeating_weapon_$X_toggle_iterative_attack5}" value="@{var_iterative_attack5_macro}" />
											<b title="Include a fifth attack to your weapon?" data-i18n="include-fifth-attack">Include a 5th attack?</b>
										</label>
									</span>
									<span class="sheet-table-cell">
										<input type="number" name="attr_iterative_attack5_value" title="@{repeating_weapon_$X_iterative_attack5_value}" value="-20" max="0" />
									</span>
									<span class="sheet-table-cell">
										<input type="text" name="attr_var_iterative_attack5_macro" title="@{repeating_weapon_$X_var_iterative_attack5_macro}" value="{{attack5=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack5_value} ]] ]]}} {{damage5=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm5=[[ 1d20 + [[ @{total-attack} + @{iterative_attack5_value} ]] ]]}} {{crit_damage5=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
									</span>
									<input type="hidden" name="attr_var_iterative_attack5" value="{{attack5=@{iterative_attack5_macro}}}" />
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell">
										<label>
											<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack6" title="@{repeating_weapon_$X_toggle_iterative_attack6}" value="@{var_iterative_attack6_macro}" />
											<b title="Include a sixth attack to your weapon?" data-i18n="include-sixth-attack">Include a 6th attack?</b>
										</label>
									</span>
									<span class="sheet-table-cell">
										<input type="number" name="attr_iterative_attack6_value" title="@{repeating_weapon_$X_iterative_attack6_value}" value="-25" max="0" />
									</span>
									<span class="sheet-table-cell">
										<input type="text" name="attr_var_iterative_attack6_macro" title="@{repeating_weapon_$X_var_iterative_attack6_macro}" value="{{attack6=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack6_value} ]] ]]}} {{damage6=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm6=[[ 1d20 + [[ @{total-attack} + @{iterative_attack6_value} ]] ]]}} {{crit_damage6=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
									</span>
									<input type="hidden" name="attr_var_iterative_attack6" value="{{attack6=@{iterative_attack6_macro}}}" />
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell">
										<label>
											<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack7" title="@{repeating_weapon_$X_toggle_iterative_attack7}" value="@{var_iterative_attack7_macro}" />
											<b title="Include a seventh attack to your weapon?" data-i18n="include-seventh-attack">Include a 7th attack?</b>
										</label>
									</span>
									<span class="sheet-table-cell">
										<input type="number" name="attr_iterative_attack7_value" title="@{repeating_weapon_$X_iterative_attack7_value}" value="-30" max="0" />
									</span>
									<span class="sheet-table-cell">
										<input type="text" name="attr_var_iterative_attack7_macro" title="@{repeating_weapon_$X_var_iterative_attack7_macro}" value="{{attack7=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack7_value} ]] ]]}} {{damage7=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm7=[[ 1d20 + [[ @{total-attack} + @{iterative_attack7_value} ]] ]]}} {{crit_damage7=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
									</span>
									<input type="hidden" name="attr_var_iterative_attack7" value="{{attack7=@{iterative_attack7_macro}}}" />
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell">
										<label>
											<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack8" title="@{repeating_weapon_$X_toggle_iterative_attack8}" value="@{var_iterative_attack8_macro}" />
											<b title="Include an eighth attack to your weapon?" data-i18n="include-eighth-attack">Include an 8th attack?</b>
										</label>
									</span>
									<span class="sheet-table-cell">
										<input type="number" name="attr_iterative_attack8_value" title="@{repeating_weapon_$X_iterative_attack8_value}" value="-35" max="0" />
									</span>
									<span class="sheet-table-cell">
										<input type="text" name="attr_var_iterative_attack8_macro" title="@{repeating_weapon_$X_var_iterative_attack8_macro}" value="{{attack8=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack8_value} ]] ]]}} {{damage8=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm8=[[ 1d20 + [[ @{total-attack} + @{iterative_attack8_value} ]] ]]}} {{crit_damage8=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
									</span>
									<input type="hidden" name="attr_var_iterative_attack8" value="{{attack8=@{iterative_attack8_macro}}}" />
								</div>
								<input type="hidden" name="attr_iterative_attacks" value="@{toggle_iterative_attack2} @{toggle_iterative_attack3} @{toggle_iterative_attack4} @{toggle_iterative_attack5} @{toggle_iterative_attack6} @{toggle_iterative_attack7} @{toggle_iterative_attack8}" />
							</div>
							<div class="sheet-table sheet-options">
								<textarea style="display:none;" name="attr_var_melee_notes">{{melee_notes=@{melee-attack-notes}}}</textarea>
								<textarea style="display:none;" name="attr_var_ranged_notes">{{ranged_notes=@{ranged-attack-notes}}}</textarea>
								<textarea style="display:none;" name="attr_var_CMB_notes">{{CMB_notes=@{CMB-notes}}}</textarea>
								<textarea style="display:none;" name="attr_var_attack_notes">{{attack_notes=@{attack-notes}}}</textarea>
								<textarea style="display:none;" name="attr_var_melee_image">{{header_image=@{header_image-pf_attack-melee}}}</textarea>
								<textarea style="display:none;" name="attr_var_ranged_image">{{header_image=@{header_image-pf_attack-ranged}}}</textarea>
								<textarea style="display:none;" name="attr_var_CMB_image">{{header_image=@{header_image-pf_attack-cmb}}}</textarea>
								<textarea style="display:none;" name="attr_var_none_image">{{header_image=}}</textarea>
								<div class="sheet-table-row">
									<span class="sheet-table-cell sheet-small-label"><b title="Include these additional notes with this attack roll." data-i18n="include-notes">Include notes?</b></span>
									<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_melee_notes" value="@{var_melee_notes}" title="@{repeating_weapon_$X_toggle_melee_notes}" /><b title="Include Melee attack notes." data-i18n-title="options-attacks-melee-title" data-i18n="melee-notes"> Melee Notes</b></label></span>
									<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_ranged_notes" value="@{var_ranged_notes}" title="@{repeating_weapon_$X_toggle_ranged_notes}" /><b title="Include Ranged attack notes." data-i18n-title="options-attacks-ranged-title" data-i18n="ranged-notes"> Ranged Notes</b></label></span>
									<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_CMB_notes" value="@{var_CMB_notes}" title="@{repeating_weapon_$X_toggle_CMB_notes}" /><b title="Include CMB notes." data-i18n-title="options-attacks-cmb-title" data-i18n="combat-maneuver-bonus-notes"> CMB Notes</b></label></span>
									<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_attack_notes" value="@{var_attack_notes}" title="@{repeating_weapon_$X_toggle_attack_notes}" /><b title="Include Attack notes." data-i18n-title="options-attacks-attack-title" data-i18n="attack-notes"> Attack Notes</b></label></span>
									<span class="sheet-table-cell sheet-small-label" style="width:20%;" title="Displays the attributes included within @{macro_options}" data-i18n="macro-options">Macro Options</span>
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell sheet-small-label"><b title="Set an appropriate header image for this attack roll. note: header images must be enabled(Config tab)." data-i18n="header-image">Header image?</b></span>
									<span class="sheet-table-cell sheet-small-label" style="white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_melee_image}" title="@{repeating_weapon_$X_toggle_header_image}" /><b title="Include the Melee header image." data-i18n-title="options-attacks-melee-image-title" data-i18n="melee-image"> Melee Image</b></label></span>
									<span class="sheet-table-cell sheet-small-label" style="white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_ranged_image}" title="@{repeating_weapon_$X_toggle_header_image}" /><b title="Include the Ranged header image." data-i18n-title="options-attacks-ranged-image-title" data-i18n="ranged-image"> Ranged Image</b></label></span>
									<span class="sheet-table-cell sheet-small-label" style="white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_CMB_image}" title="@{repeating_weapon_$X_toggle_header_image}" /><b title="Include the CMB header image." data-i18n-title="options-attacks-cmb-image-title" data-i18n="combat-maneuver-bonus-image"> CMB Image</b></label></span>
									<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_none_image}" title="@{repeating_weapon_$X_toggle_header_image}" checked /><b title="Do not include a header image." data-i18n-title="options-attacks-none-title" data-i18n="none"> None</b></label></span>
									<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" name="attr_macro_options" title="@{repeating_weapon_$X_macro_options}">@{toggle_melee_notes} @{toggle_ranged_notes} @{toggle_CMB_notes} @{toggle_attack_notes} @{toggle_header_image}</textarea></span>
								</div>	
							</div>
							<textarea class="sheet-macro-text" title="@{repeating_weapon_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} ]] ]]}} {{damage=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm=[[ 1d20 + [[ @{total-attack} ]] ]]}} {{crit_damage=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}} {{type=@{type}}} {{weapon_notes=@{notes}}} @{iterative_attacks} @{macro_options}</textarea>
							<textarea style="display:none;" class="sheet-macro-text" title="@{repeating_weapon_$X_NPC-macro-text}" name="attr_NPC-macro-text">@{NPC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} ]] ]]}} {{damage=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm=[[ 1d20 + [[ @{total-attack} ]] ]]}} {{crit_damage=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}} {{type=@{type}}} {{description=@{notes}}} @{iterative_attacks} @{macro_options}</textarea>
							<div class="sheet-repeating_ids sheet-table-row">
								<span class="sheet-selectable" name="attr_row_id" />
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
		<br>
	</div>

	<div class="sheet-section sheet-section-skills" role="region" aria-label="Skills page">
		<h1 data-i18n="skills">Skills</h1>
		<div class="sheet-h2-section">
			<h2 data-i18n="skill-rank-totals">Skill Rank Totals</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_skill-ranks-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="skill-ranks">Skill Ranks</span>
				<div class="sheet-table-row">
					<input type="checkbox" class="sheet-sect-show" name="attr_BG-Skill-Use" value="1" style="display:none;"/>
					<input type="checkbox" class="sheet-sect-show" name="attr_unchained_skills-show" value="1" style="display:none;"/> 

					<span class="sheet-table-header sheet-not-sheet-show" style="position: relative;">
						<span style="position:absolute;display:block;vertical-align:top;clear:both;top: 0px;text-align:left;" data-i18n="extra-ranks">Extra ranks:</span>
						<span style="display:block;vertical-align:bottom;clear:both;" data-i18n="skill-miscellaneous">Skill Misc</span>
					</span>
					<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
					<span class="sheet-table-header sheet-divider"></span>
					<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc2</span>
					<span class="sheet-table-header sheet-divider-lg">|<br>|</span>
					<span class="sheet-table-header">
						<span data-i18n="maximum-abbrv">Max</span> 
						<input type="checkbox" class="sheet-sect-show" name="attr_unchained_skills-show" value="1" style="display:none;"/>
						<input type="checkbox" class="sheet-sect-show" name="attr_BG-Skill-Use" value="1" style="display:none;"/>
						<span class="sheet-not-sheet-show sheet-sect" style="display:inline;" data-i18n="adventure">Adventure </span><span data-i18n="skill-ranks">Skill Ranks</span>
					</span>
					<span class="sheet-table-header"></span>
					<span class="sheet-table-header">
						<span data-i18n="total">Total</span> 
						<input type="checkbox" class="sheet-sect-show" name="attr_unchained_skills-show" value="1" style="display:none;"/>
						<input type="checkbox" class="sheet-sect-show" name="attr_BG-Skill-Use" value="1" style="display:none;"/>
						<span class="sheet-not-sheet-show sheet-sect" style="display:inline;" data-i18n="adventure">Adventure </span><span data-i18n="skill-ranks">Skill Ranks</span>
					</span>
					<span class="sheet-table-header"></span>
					<span class="sheet-table-header">
						<input type="checkbox" class="sheet-sect-show" name="attr_unchained_skills-show" value="1" style="display:none;"/>
						<input type="checkbox" class="sheet-sect-show" name="attr_BG-Skill-Use" value="1" style="display:none;"/>
						<span class="sheet-not-sheet-show sheet-sect" style="display:inline;" data-i18n="adventure">Adventure </span><span data-i18n="ranks-remaining">Ranks Remaining</span>
					</span>
					<span class="sheet-table-header sheet-not-sheet-show sheet-sect"></span>
					<span class="sheet-table-header sheet-not-sheet-show sheet-sect" title="Any number of adventure skill ranks can be traded for an equal number of background skill ranks, but not vice versa." data-i18n="move-adventure-to-background">Move Adventure to Background</span>
					<span class="sheet-table-header sheet-not-sheet-show sheet-sect"></span>
					<span class="sheet-table-header sheet-sect" title="Optional: used for PF Unchained." data-i18n="background-ranks-remaining">Background Ranks Remaining</span>
					<span class="sheet-table-header sheet-sect" data-i18n="total-background-skill-ranks">Total Background Skill Ranks</span>
				</div>
				<div class="sheet-table-row">
					<input type="checkbox" class="sheet-sect-show" name="attr_BG-Skill-Use" value="1" style="display:none;"/>
					<input type="checkbox" class="sheet-sect-show" name="attr_unchained_skills-show" value="1" style="display:none;"/> 
					<span class="sheet-table-cell sheet-not-sheet-show" style="width:10%"><input style="width:8em;" type="text" title="@{Max-Skill-Ranks-Misc}" name="attr_Max-Skill-Ranks-Misc" placeholder="extra ranks" /></span>
					<span class="sheet-table-cell"><input type="number" title="@{Max-Skill-Ranks-mod}" name="attr_Max-Skill-Ranks-mod" value="0" class="sheet-calc" readonly="readonly" style="width:4em;"/></span>
					<span class="sheet-divider"></span>
					<span class="sheet-table-cell"><input type="number" title="@{Max-Skill-Ranks-Misc2}" name="attr_Max-Skill-Ranks-Misc2" value="0" style="width:4em;"/></span>
					<span class="sheet-divider-lg">|</span>
					<span class="sheet-table-cell"><input type="number" title="@{Max-Skill-Ranks}" name="attr_Max-Skill-Ranks" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">-</span>
					<span class="sheet-table-cell">
						<input type="text" title="@{Total-Skill-Ranks}" name="attr_Total-Skill-Ranks" value="(@{Core-Skill-Ranks}+@{Adventure-Skill-Ranks}+@{Consolidated-Skill-Ranks})" class="sheet-number" disabled />
						<input type="text" style="display:none; width:3.5em;" title="@{Core-Skill-Ranks}" name="attr_Core-Skill-Ranks" value="(abs(@{unchained_skills-show}-1) * (@{Acrobatics-ranks} + @{Bluff-ranks} + @{Climb-ranks} + @{Diplomacy-ranks} + @{Disable-Device-ranks} + @{Disguise-ranks} + @{Escape-Artist-ranks} + @{Fly-ranks} + @{Heal-ranks} + @{Intimidate-ranks} + @{Knowledge-Arcana-ranks} + @{Knowledge-Dungeoneering-ranks} + @{Knowledge-Local-ranks} + @{Knowledge-Nature-ranks} + @{Knowledge-Planes-ranks} + @{Knowledge-Religion-ranks} + @{Perception-ranks} + @{Ride-ranks} + @{Sense-Motive-ranks} + @{Spellcraft-ranks} + @{Stealth-ranks} + @{Survival-ranks} + @{Swim-ranks} + @{Use-Magic-Device-ranks} + @{Misc-Skill-0-ranks} + @{Misc-Skill-1-ranks} + @{Misc-Skill-2-ranks} + @{Appraise-ranks} + @{Craft-ranks} + @{Craft2-ranks} + @{Craft3-ranks} + @{Handle-Animal-ranks} + @{Knowledge-Engineering-ranks} + @{Knowledge-Geography-ranks} + @{Knowledge-History-ranks} + @{Knowledge-Nobility-ranks} + @{Linguistics-ranks} + @{Perform-ranks} + @{Perform2-ranks} + @{Perform3-ranks} + @{Profession-ranks} + @{Profession2-ranks} + @{Profession3-ranks} + @{Sleight-of-Hand-ranks} + @{Misc-Skill-3-ranks} + @{Misc-Skill-4-ranks} + @{Misc-Skill-5-ranks}))" disabled />
						<input type="text" style="display:none; width:3.5em;" title="@{Adventure-Skill-Ranks}" name="attr_Adventure-Skill-Ranks" value="(@{unchained_skills-show} * @{BG-Skill-Use}*(@{Acrobatics-ranks} + @{Bluff-ranks} + @{Climb-ranks} + @{Diplomacy-ranks} + @{Disable-Device-ranks} + @{Disguise-ranks} + @{Escape-Artist-ranks} + @{Fly-ranks} + @{Heal-ranks} + @{Intimidate-ranks} + @{Knowledge-Arcana-ranks} + @{Knowledge-Dungeoneering-ranks} + @{Knowledge-Local-ranks} + @{Knowledge-Nature-ranks} + @{Knowledge-Planes-ranks} + @{Knowledge-Religion-ranks} + @{Perception-ranks} + @{Ride-ranks} + @{Sense-Motive-ranks} + @{Spellcraft-ranks} + @{Stealth-ranks} + @{Survival-ranks} + @{Swim-ranks} + @{Use-Magic-Device-ranks} + @{Misc-Skill-0-ranks} + @{Misc-Skill-1-ranks} + @{Misc-Skill-2-ranks}))" disabled />
						<input type="text" style="display:none; width:3.5em;" title="@{Consolidated-Skill-Ranks}" name="attr_Consolidated-Skill-Ranks" value="(@{unchained_skills-show} * abs(@{BG-Skill-Use}-1) * (  @{CS-Acrobatics-ranks} + @{CS-Athletics-ranks} + @{CS-Finesse-ranks} + @{CS-Influence-ranks} + @{CS-Nature-ranks} + @{CS-Perception-ranks} + @{CS-Performance-ranks} + @{CS-Religion-ranks} + @{CS-Society-ranks} + @{CS-Spellcraft-ranks} + @{CS-Stealth-ranks} + @{CS-Survival-ranks} ))" disabled />
					</span>
					<span class="sheet-divider">=</span>
					<span class="sheet-table-cell">
						<input type="text" title="@{Skill-Ranks-Remaining}" name="attr_Skill-Ranks-Remaining" value="(@{Max-Skill-Ranks} - @{Total-Skill-Ranks} - @{adventure-skills-traded} )" class="sheet-number" disabled />
					</span>
					<span class="sheet-divider sheet-sect">&rarr;</span>
					<span class="sheet-table-cell sheet-sect"><input type="number" title="@{adventure-skills-traded}" name="attr_adventure-skills-traded" value="(@{unchained_skills-show} * @{BG-Skill-Use}* -1*floor(((@{level} * 2)-@{Total-BG-Skill-Ranks}+0.1)/(abs((@{level} * 2)-@{Total-BG-Skill-Ranks}+0.1)+0.001))*(( @{Total-BG-Skill-Ranks} - (@{level} * 2)) ) )" style="width:2.85em" disabled /></span>
					<span class="sheet-divider sheet-sect" title="Use up to Adventure Ranks Remaining as ranks in Background Skills">&rarr;</span>
					<span class="sheet-table-cell sheet-sect"><input type="text" title="@{Background-Skill-Remaining}" name="attr_BG-Skill-Ranks-Remaining" value="( ((@{level} * 2) - @{Total-BG-Skill-Ranks} + @{adventure-skills-traded}))" class="sheet-number" disabled /></span>
					<span class="sheet-table-cell sheet-sect">(&nbsp;<input type="number" title="@{Total-BG-Skill-Ranks}" name="attr_Total-BG-Skill-Ranks" value="(@{unchained_skills-show} * @{BG-Skill-Use}*(@{Appraise-ranks} + @{Artistry-ranks}+ @{Artistry2-ranks}+ @{Artistry3-ranks} + @{Craft-ranks} + @{Craft2-ranks} + @{Craft3-ranks} + @{Handle-Animal-ranks} + @{Knowledge-Engineering-ranks} + @{Knowledge-Geography-ranks} + @{Knowledge-History-ranks} + @{Knowledge-Nobility-ranks} + @{Linguistics-ranks} + @{Lore-ranks} + @{Lore2-ranks}+ @{Lore3-ranks} + @{Perform-ranks} + @{Perform2-ranks} + @{Perform3-ranks} + @{Profession-ranks} + @{Profession2-ranks} + @{Profession3-ranks} + @{Sleight-of-Hand-ranks} + @{Misc-Skill-3-ranks} + @{Misc-Skill-4-ranks} + @{Misc-Skill-5-ranks}))" disabled />&nbsp;)</span>
				</div>
			</div>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="skills">Skills</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_skills-show" value="1" style="width: 5em;margin: -0.5em -1em 0 -4em;" checked="checked" /><span></span>
			<div class="sheet-sect">

				<input type="checkbox" class="sheet-unchained-show" name="attr_unchained_skills-show" value="1" style="display:none;"/> 
				<input type="checkbox" class="sheet-consolidated-show" name="attr_BG-Skill-Use" value="0" style="display:none;"/>
				<input type="checkbox" class="sheet-bg-show" name="attr_BG-Skill-Use" value="1" style="display:none;"/>

				<input type="checkbox" name="attr_skills_tab" class="sheet-tab0 sheet-skills-tab0" value="0" title="Core Skills" style="display:none;" checked="checked" />
				<input type="checkbox" name="attr_skills_tab" class="sheet-tab1 sheet-skills-tab1" value="1" title="Adventure Skills" style="display:none;" />
				<input type="checkbox" name="attr_skills_tab" class="sheet-tab2 sheet-skills-tab2" value="2" title="Background Skills" style="display:none;" />
				<input type="checkbox" name="attr_skills_tab" class="sheet-tab3 sheet-skills-tab3" value="3" title="Consolidated Skills" style="display:none;" />
				<input type="checkbox" name="attr_skills_tab" class="sheet-tab4 sheet-skills-tab4" value="4" title="All Skills" style="display:none;" />
			
					<div class="sheet-skillsnav sheet-tabs sheet-sect" role="menubar" aria-label="skill types">
						<label class="sheet-tab sheet-tab0"><input type="radio" name="attr_skills_tab" class="sheet-tab" value="0" title="Core Skills" checked="checked" /><span data-i18n="skills">Skills</span></label>
						<label class="sheet-tab sheet-tab1"><input type="radio" name="attr_skills_tab" class="sheet-tab" value="1" title="Adventure Skills" /><span data-i18n="adventure">Adventure</span></label>
						<label class="sheet-tab sheet-tab2"><input type="radio" name="attr_skills_tab" class="sheet-tab" value="2" title="Background Skills" /><span data-i18n="background">Background</span></label>
						<label class="sheet-tab sheet-tab3"><input type="radio" name="attr_skills_tab" class="sheet-tab" value="3" title="Consolidated Skills" /><span data-i18n="consolidated">Consolidated</span></label>
						<label class="sheet-tab sheet-tab4"><input type="radio" name="attr_skills_tab" class="sheet-tab" value="4" title="All Skills" /><span data-i18n="all-skills">All Skills</span></label>
					</div>
									
				<div class="sheet-table sheet-sect sheet-skills sheet-medium-numbers">
					<span class="sheet-table-name">&nbsp;</span>
					<div class="sheet-table-row">
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" title="Class Skill" data-i18n="class-skill-abbrv">CS</span>
						<span class="sheet-table-header sheet-entry-vlong" data-i18n="skill">Skill</span>
						<span class="sheet-table-header" data-i18n="total">Total</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="ranks">Ranks</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" style="width:5em;" data-i18n="ability">Ability</span>
						<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="race">Race</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="feat">Feat</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" data-i18n="item">Item</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header sheet-entry-short" data-i18n="miscellaneous-macro-abbrv">Misc Macro</span>
						<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" style="width:5em;font-stretch:extra-condensed;" title="Class Skill Bonus, Armor Check Penalty, Size modifier, Conditions" data-i18n="class skill-bonus|armor-check-penalty|size-mod|condition-penalty-abbrv">Cl/Ac/Sz/Co&nbsp;</span>
						<span class="sheet-table-header" style="width:2em;" title="Requires Training" data-i18n="requires-training-abbrv">RT</span>
						<span class="sheet-table-header" data-i18n="macro">Macro</span>
					</div>

					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Acrobatics-Check}" type="roll" value="@{Acrobatics-macro}" name="roll_Acrobatics-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-cs}" type="checkbox" name="attr_Acrobatics-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="acrobatics">Acrobatics</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics}" type="number" name="attr_Acrobatics" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-ranks}" type="number" name="attr_Acrobatics-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Acrobatics-ability}" name="attr_Acrobatics-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-ability-mod}" type="number" name="attr_Acrobatics-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-racial}" type="number" name="attr_Acrobatics-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-feat}" type="number" name="attr_Acrobatics-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-item}" type="number" name="attr_Acrobatics-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-misc}" type="text" name="attr_Acrobatics-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Acrobatics-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-class}" type="text" name="attr_Acrobatics-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Acrobatics-ReqTrain}" type="checkbox" name="attr_Acrobatics-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Acrobatics-macro}" name="attr_Acrobatics-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Acrobatics}} {{Check=[[ @{skill-query} + [[ @{Acrobatics} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Appraise-Check}" type="roll" value="@{Appraise-macro}" name="roll_Appraise-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Appraise-cs}" type="checkbox" name="attr_Appraise-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="appraise">Appraise</span>
						<span class="sheet-table-cell"><input title="@{Appraise}" type="number" name="attr_Appraise" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Appraise-ranks}" type="number" name="attr_Appraise-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Appraise-ability}" name="attr_Appraise-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Appraise-ability-mod}" type="number" name="attr_Appraise-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Appraise-racial}" type="number" name="attr_Appraise-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Appraise-feat}" type="number" name="attr_Appraise-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Appraise-item}" type="number" name="attr_Appraise-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Appraise-misc}" type="text" name="attr_Appraise-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Appraise-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Appraise-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Appraise-class}" type="text" name="attr_Appraise-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Appraise-ReqTrain}" type="checkbox" name="attr_Appraise-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Appraise-macro}" name="attr_Appraise-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Appraise}} {{Check=[[ @{skill-query} + [[ @{Appraise} ]] ]]}}</textarea></span>
					</div> 

					<span class="sheet-table-data sheet-bg-only">&nbsp;</span>
					<span class="sheet-table-data sheet-bg-only">&nbsp;</span>
					<span class="sheet-bg-only sheet-skill-minishow" data-i18n="artistry">Artistry</span>
					<input type="checkbox" class="sheet-artistry-show sheet-bg-only" title="@{artistry-show}" name="attr_artistry-show" value="1" style="opacity: 0;width: 60px;margin: 0 -15px 0 -40px;" checked="checked" />
					<span class="sheet-bg-only"></span>
					<div class="sheet-table-row"><!--used to keep these sections from collapsing on each other when hidden--></div>
					<div class="sheet-table-row sheet-artistry sheet-bg-only">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Artistry-Check}" type="roll" value="@{Artistry-macro}" name="roll_Artistry-Check"></button></span>
						<span class="sheet-table-cell"><span title="Optional Ruleset"><input title="@{Artistry-cs}" type="checkbox" name="attr_Artistry-cs" value="3" /></span></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Artistry-name}" style="width:96%;" type="text" name="attr_Artistry-name" placeholder="Artistry" /></span>
						<span class="sheet-table-cell"><input title="@{Artistry}" type="number" name="attr_Artistry" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Artistry-ranks}" type="number" name="attr_Artistry-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Artistry-ability}" name="attr_Artistry-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Artistry-ability-mod}" type="number" name="attr_Artistry-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry-racial}" type="number" name="attr_Artistry-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry-feat}" type="number" name="attr_Artistry-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry-item}" type="number" name="attr_Artistry-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry-misc}" type="text" name="attr_Artistry-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Artistry-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Artistry-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry-class}" type="text" name="attr_Artistry-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Artistry-ReqTrain}" type="checkbox" name="attr_Artistry-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Artistry-macro}" name="attr_Artistry-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Artistry (@{Artistry-name})}} {{Check=[[ @{skill-query} + [[ @{Artistry} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-artistry sheet-bg-only">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Artistry2-Check}" type="roll" value="@{Artistry2-macro}" name="roll_Artistry2-Check"></button></span>
						<span class="sheet-table-cell"><span title="Optional Ruleset"><input title="@{Artistry2-cs}" type="checkbox" name="attr_Artistry2-cs" value="3" /></span></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Artistry2-name}" style="width:96%;" type="text" name="attr_Artistry2-name" placeholder="Artistry" /></span>
						<span class="sheet-table-cell"><input title="@{Artistry2}" type="number" name="attr_Artistry2" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Artistry2-ranks}" type="number" name="attr_Artistry2-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Artistry2-ability}" name="attr_Artistry2-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Artistry2-ability-mod}" type="number" name="attr_Artistry2-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry2-racial}" type="number" name="attr_Artistry2-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry2-feat}" type="number" name="attr_Artistry2-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry2-item}" type="number" name="attr_Artistry2-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry2-misc}" type="text" name="attr_Artistry2-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Artistry2-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Artistry2-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry2-class}" type="text" name="attr_Artistry2-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Artistry2-ReqTrain}" type="checkbox" name="attr_Artistry2-ReqTrain" value="1" /></span>
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Artistry2-macro}" name="attr_Artistry2-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Artistry (@{Artistry2-name})}} {{Check=[[ @{skill-query} + [[ @{Artistry2} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-artistry sheet-bg-only">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Artistry3-Check}" type="roll" value="@{Artistry3-macro}" name="roll_Artistry3-Check"></button></span>
						<span class="sheet-table-cell"><span title="Optional Ruleset"><input title="@{Artistry3-cs}" type="checkbox" name="attr_Artistry3-cs" value="3" /></span></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Artistry3-name}" style="width:96%;" type="text" name="attr_Artistry3-name" placeholder="Artistry" /></span>
						<span class="sheet-table-cell"><input title="@{Artistry3}" type="number" name="attr_Artistry3" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Artistry3-ranks}" type="number" name="attr_Artistry3-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Artistry3-ability}" name="attr_Artistry3-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Artistry3-ability-mod}" type="number" name="attr_Artistry3-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry3-racial}" type="number" name="attr_Artistry3-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry3-feat}" type="number" name="attr_Artistry3-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry3-item}" type="number" name="attr_Artistry3-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry3-misc}" type="text" name="attr_Artistry3-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Artistry3-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Artistry3-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Artistry3-class}" type="text" name="attr_Artistry3-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Artistry3-ReqTrain}" type="checkbox" name="attr_Artistry3-ReqTrain" value="1" /></span>
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Artistry3-macro}" name="attr_Artistry3-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Artistry (@{Artistry3-name})}} {{Check=[[ @{skill-query} + [[ @{Artistry3} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Bluff-Check}" type="roll" value="@{Bluff-macro}" name="roll_Bluff-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Bluff-cs}" type="checkbox" name="attr_Bluff-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="bluff">Bluff</span>
						<span class="sheet-table-cell"><input title="@{Bluff}" type="number" name="attr_Bluff" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Bluff-ranks}" type="number" name="attr_Bluff-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Bluff-ability}" name="attr_Bluff-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Bluff-ability-mod}" type="number" name="attr_Bluff-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Bluff-racial}" type="number" name="attr_Bluff-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Bluff-feat}" type="number" name="attr_Bluff-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Bluff-item}" type="number" name="attr_Bluff-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Bluff-misc}" type="text" name="attr_Bluff-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Bluff-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Bluff-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Bluff-class}" type="text" name="attr_Bluff-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Bluff-ReqTrain}" type="checkbox" name="attr_Bluff-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Bluff-macro}" name="attr_Bluff-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Bluff}} {{Check=[[ @{skill-query} + [[ @{Bluff} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Climb-Check}" type="roll" value="@{Climb-macro}" name="roll_Climb-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Climb-cs}" type="checkbox" name="attr_Climb-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="climb">Climb</span>
						<span class="sheet-table-cell"><input title="@{Climb}" type="number" name="attr_Climb" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Climb-ranks}" type="number" name="attr_Climb-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Climb-ability}" name="attr_Climb-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Climb-ability-mod}" type="number" name="attr_Climb-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Climb-racial}" type="number" name="attr_Climb-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Climb-feat}" type="number" name="attr_Climb-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Climb-item}" type="number" name="attr_Climb-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Climb-misc}" type="text" name="attr_Climb-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Climb-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Climb-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Climb-class}" type="text" name="attr_Climb-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Climb-ReqTrain}" type="checkbox" name="attr_Climb-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Climb-macro}" name="attr_Climb-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Climb}} {{Check=[[ @{skill-query} + [[ @{Climb} ]] ]]}}</textarea></span>
					</div>
					
					<span class="sheet-table-data sheet-bg">&nbsp;</span>
					<span class="sheet-table-data sheet-bg">&nbsp;</span>
					<span class="sheet-bg sheet-skill-minishow" data-i18n="craft">Craft</span>
					<input type="checkbox" class="sheet-craft-show sheet-bg" title="@{craft-show}" name="attr_craft-show" value="1" style="opacity: 0;width: 60px;margin: 0 -15px 0 -45px;" checked="checked" />
					<span class="sheet-bg"></span>
					<div class="sheet-table-row"><!--used to keep these sections from collapsing on each other when hidden--></div>					
					<div class="sheet-table-row sheet-craft sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Craft-Check}" type="roll" value="@{Craft-macro}" name="roll_Craft-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Craft-cs}" type="checkbox" name="attr_Craft-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Craft-name}" style="width:96%;" type="text" name="attr_Craft-name" placeholder="Craft" data-i18n-placeholder="craft" /></span>
						<span class="sheet-table-cell"><input title="@{Craft}" type="number" name="attr_Craft" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Craft-ranks}" type="number" name="attr_Craft-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Craft-ability}" name="attr_Craft-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Craft-ability-mod}" type="number" name="attr_Craft-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft-racial}" type="number" name="attr_Craft-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft-feat}" type="number" name="attr_Craft-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft-item}" type="number" name="attr_Craft-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft-misc}" type="text" name="attr_Craft-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Craft-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Craft-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft-class}" type="text" name="attr_Craft-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Craft-ReqTrain}" type="checkbox" name="attr_Craft-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Craft-macro}" name="attr_Craft-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Craft (@{Craft-name})}} {{Check=[[ @{skill-query} + [[ @{Craft} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-craft sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Craft2-Check}" type="roll" value="@{Craft2-macro}" name="roll_Craft2-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Craft2-cs}" type="checkbox" name="attr_Craft2-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Craft2-name}" style="width:96%;" type="text" name="attr_Craft2-name" placeholder="Craft" data-i18n-placeholder="craft"/></span>
						<span class="sheet-table-cell"><input title="@{Craft2}" type="number" name="attr_Craft2" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Craft2-ranks}" type="number" name="attr_Craft2-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Craft2-ability}" name="attr_Craft2-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Craft2-ability-mod}" type="number" name="attr_Craft2-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft2-racial}" type="number" name="attr_Craft2-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft2-feat}" type="number" name="attr_Craft2-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft2-item}" type="number" name="attr_Craft2-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft2-misc}" type="text" name="attr_Craft2-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Craft2-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Craft2-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft2-class}" type="text" name="attr_Craft2-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Craft2-ReqTrain}" type="checkbox" name="attr_Craft2-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Craft2-macro}" name="attr_Craft2-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Craft (@{Craft2-name})}} {{Check=[[ @{skill-query} + [[ @{Craft2} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-craft sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Craft3-Check}" type="roll" value="@{Craft3-macro}" name="roll_Craft3-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Craft3-cs}" type="checkbox" name="attr_Craft3-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Craft3-name}" style="width:96%;" type="text" name="attr_Craft3-name" placeholder="Craft" data-i18n-placeholder="craft"/></span>
						<span class="sheet-table-cell"><input title="@{Craft3}" type="number" name="attr_Craft3" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Craft3-ranks}" type="number" name="attr_Craft3-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Craft3-ability}" name="attr_Craft3-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Craft3-ability-mod}" type="number" name="attr_Craft3-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft3-racial}" type="number" name="attr_Craft3-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft3-feat}" type="number" name="attr_Craft3-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft3-item}" type="number" name="attr_Craft3-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft3-misc}" type="text" name="attr_Craft3-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Craft3-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Craft3-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Craft3-class}" type="text" name="attr_Craft3-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Craft3-ReqTrain}" type="checkbox" name="attr_Craft3-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Craft3-macro}" name="attr_Craft3-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Craft (@{Craft3-name})}} {{Check=[[ @{skill-query} + [[ @{Craft3} ]] ]]}}</textarea></span>
					</div> 
					
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Diplomacy-Check}" type="roll" value="@{Diplomacy-macro}" name="roll_Diplomacy-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-cs}" type="checkbox" name="attr_Diplomacy-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="diplomacy">Diplomacy</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy}" type="number" name="attr_Diplomacy" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-ranks}" type="number" name="attr_Diplomacy-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Diplomacy-ability}" name="attr_Diplomacy-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-ability-mod}" type="number" name="attr_Diplomacy-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-racial}" type="number" name="attr_Diplomacy-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-feat}" type="number" name="attr_Diplomacy-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-item}" type="number" name="attr_Diplomacy-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-misc}" type="text" name="attr_Diplomacy-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Diplomacy-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-class}" type="text" name="attr_Diplomacy-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Diplomacy-ReqTrain}" type="checkbox" name="attr_Diplomacy-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Diplomacy-macro}" name="attr_Diplomacy-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Diplomacy}} {{Check=[[ @{skill-query} + [[ @{Diplomacy} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Disable-Device-Check}" type="roll" value="@{Disable-Device-macro}" name="roll_Disable-Device-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-cs}" type="checkbox" name="attr_Disable-Device-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="disable-device">Disable-Device</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device}" type="number" name="attr_Disable-Device" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-ranks}" type="number" name="attr_Disable-Device-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Disable-Device-ability}" name="attr_Disable-Device-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-ability-mod}" type="number" name="attr_Disable-Device-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-racial}" type="number" name="attr_Disable-Device-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-feat}" type="number" name="attr_Disable-Device-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-item}" type="number" name="attr_Disable-Device-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-misc}" type="text" name="attr_Disable-Device-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Disable-Device-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-class}" type="text" name="attr_Disable-Device-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Disable-Device-ReqTrain}" type="checkbox" name="attr_Disable-Device-ReqTrain" value="1" checked="checked"/></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Disable-Device-macro}" name="attr_Disable-Device-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Disable-Device}} {{Check=[[ @{skill-query} + [[ @{Disable-Device} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Disguise-Check}" type="roll" value="@{Disguise-macro}" name="roll_Disguise-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Disguise-cs}" type="checkbox" name="attr_Disguise-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="disguise">Disguise</span>
						<span class="sheet-table-cell"><input title="@{Disguise}" type="number" name="attr_Disguise" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Disguise-ranks}" type="number" name="attr_Disguise-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Disguise-ability}" name="attr_Disguise-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Disguise-ability-mod}" type="number" name="attr_Disguise-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disguise-racial}" type="number" name="attr_Disguise-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disguise-feat}" type="number" name="attr_Disguise-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disguise-item}" type="number" name="attr_Disguise-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disguise-misc}" type="text" name="attr_Disguise-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Disguise-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Disguise-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Disguise-class}" type="text" name="attr_Disguise-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Disguise-ReqTrain}" type="checkbox" name="attr_Disguise-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Disguise-macro}" name="attr_Disguise-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Disguise}} {{Check=[[ @{skill-query} + [[ @{Disguise} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Escape-Artist-Check}" type="roll" value="@{Escape-Artist-macro}" name="roll_Escape-Artist-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-cs}" type="checkbox" name="attr_Escape-Artist-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="escape-artist">Escape-Artist</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist}" type="number" name="attr_Escape-Artist" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-ranks}" type="number" name="attr_Escape-Artist-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Escape-Artist-ability}" name="attr_Escape-Artist-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-ability-mod}" type="number" name="attr_Escape-Artist-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-racial}" type="number" name="attr_Escape-Artist-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-feat}" type="number" name="attr_Escape-Artist-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-item}" type="number" name="attr_Escape-Artist-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-misc}" type="text" name="attr_Escape-Artist-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Escape-Artist-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-class}" type="text" name="attr_Escape-Artist-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Escape-Artist-ReqTrain}" type="checkbox" name="attr_Escape-Artist-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Escape-Artist-macro}" name="attr_Escape-Artist-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Escape-Artist}} {{Check=[[ @{skill-query} + [[ @{Escape-Artist} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Fly-Check}" type="roll" value="@{Fly-macro}" name="roll_Fly-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Fly-cs}" type="checkbox" name="attr_Fly-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="fly">Fly</span>
						<span class="sheet-table-cell"><input title="@{Fly}" type="number" name="attr_Fly" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Fly-ranks}" type="number" name="attr_Fly-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Fly-ability}" name="attr_Fly-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Fly-ability-mod}" type="number" name="attr_Fly-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Fly-racial}" type="number" name="attr_Fly-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Fly-feat}" type="number" name="attr_Fly-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Fly-item}" type="number" name="attr_Fly-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Fly-misc}" type="text" name="attr_Fly-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Fly-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Fly-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Fly-class}" type="text" name="attr_Fly-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Fly-ReqTrain}" type="checkbox" name="attr_Fly-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Fly-macro}" name="attr_Fly-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Fly}} {{Check=[[ @{skill-query} + [[ @{Fly} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Handle-Animal-Check}" type="roll" value="@{Handle-Animal-macro}" name="roll_Handle-Animal-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-cs}" type="checkbox" name="attr_Handle-Animal-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="handle-animal">Handle-Animal</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal}" type="number" name="attr_Handle-Animal" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-ranks}" type="number" name="attr_Handle-Animal-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Handle-Animal-ability}" name="attr_Handle-Animal-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-ability-mod}" type="number" name="attr_Handle-Animal-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-racial}" type="number" name="attr_Handle-Animal-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-feat}" type="number" name="attr_Handle-Animal-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-item}" type="number" name="attr_Handle-Animal-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-misc}" type="text" name="attr_Handle-Animal-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Handle-Animal-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-class}" type="text" name="attr_Handle-Animal-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Handle-Animal-ReqTrain}" type="checkbox" name="attr_Handle-Animal-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Handle-Animal-macro}" name="attr_Handle-Animal-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Handle-Animal}} {{Check=[[ @{skill-query} + [[ @{Handle-Animal} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Heal-Check}" type="roll" value="@{Heal-macro}" name="roll_Heal-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Heal-cs}" type="checkbox" name="attr_Heal-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="heal">Heal</span>
						<span class="sheet-table-cell"><input title="@{Heal}" type="number" name="attr_Heal" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Heal-ranks}" type="number" name="attr_Heal-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Heal-ability}" name="attr_Heal-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Heal-ability-mod}" type="number" name="attr_Heal-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Heal-racial}" type="number" name="attr_Heal-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Heal-feat}" type="number" name="attr_Heal-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Heal-item}" type="number" name="attr_Heal-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Heal-misc}" type="text" name="attr_Heal-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Heal-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Heal-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Heal-class}" type="text" name="attr_Heal-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Heal-ReqTrain}" type="checkbox" name="attr_Heal-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Heal-macro}" name="attr_Heal-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Heal}} {{Check=[[ @{skill-query} + [[ @{Heal} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Intimidate-Check}" type="roll" value="@{Intimidate-macro}" name="roll_Intimidate-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Intimidate-cs}" type="checkbox" name="attr_Intimidate-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="intimidate">Intimidate</span>
						<span class="sheet-table-cell"><input title="@{Intimidate}" type="number" name="attr_Intimidate" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Intimidate-ranks}" type="number" name="attr_Intimidate-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Intimidate-ability}" name="attr_Intimidate-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Intimidate-ability-mod}" type="number" name="attr_Intimidate-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Intimidate-racial}" type="number" name="attr_Intimidate-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Intimidate-feat}" type="number" name="attr_Intimidate-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Intimidate-item}" type="number" name="attr_Intimidate-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Intimidate-misc}" type="text" name="attr_Intimidate-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Intimidate-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Intimidate-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Intimidate-class}" type="text" name="attr_Intimidate-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Intimidate-ReqTrain}" type="checkbox" name="attr_Intimidate-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Intimidate-macro}" name="attr_Intimidate-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Intimidate}} {{Check=[[ @{skill-query} + [[ @{Intimidate} ]] ]]}}</textarea></span>
					</div>
					
					<span class="sheet-table-data sheet-adventure sheet-bg">&nbsp;</span>
					<span class="sheet-table-data sheet-adventure sheet-bg">&nbsp;</span>
					<span class="sheet-adventure sheet-bg sheet-skill-minishow" data-i18n="knowledge">Knowledge</span>
					<input type="checkbox" class="sheet-knowledge-show sheet-adventure sheet-bg" title="@{knowledge-show}" name="attr_knowledge-show" value="1" style="opacity: 0;width: 85px;margin: 0 -15px 0 -70px;" checked="checked" />
					<span class="sheet-adventure sheet-bg"></span>
					<div class="sheet-table-row"><!--used to keep these sections from collapsing on each other when hidden--></div>
					<div class="sheet-table-row sheet-knowledge sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Arcana-Check}" type="roll" value="@{Knowledge-Arcana-macro}" name="roll_Knowledge-Arcana-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-cs}" type="checkbox" name="attr_Knowledge-Arcana-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-arcana">Knowledge (Arcana)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana}" type="number" name="attr_Knowledge-Arcana" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-ranks}" type="number" name="attr_Knowledge-Arcana-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Arcana-ability}" name="attr_Knowledge-Arcana-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-ability-mod}" type="number" name="attr_Knowledge-Arcana-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-racial}" type="number" name="attr_Knowledge-Arcana-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-feat}" type="number" name="attr_Knowledge-Arcana-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-item}" type="number" name="attr_Knowledge-Arcana-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-misc}" type="text" name="attr_Knowledge-Arcana-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Arcana-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-class}" type="text" name="attr_Knowledge-Arcana-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-ReqTrain}" type="checkbox" name="attr_Knowledge-Arcana-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Arcana-macro}" name="attr_Knowledge-Arcana-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Arcana}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Arcana} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Dungeoneering-Check}" type="roll" value="@{Knowledge-Dungeoneering-macro}" name="roll_Knowledge-Dungeoneering-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-cs}" type="checkbox" name="attr_Knowledge-Dungeoneering-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-dungeoneering">Knowledge (Dungeoneering)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering}" type="number" name="attr_Knowledge-Dungeoneering" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-ranks}" type="number" name="attr_Knowledge-Dungeoneering-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Dungeoneering-ability}" name="attr_Knowledge-Dungeoneering-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-ability-mod}" type="number" name="attr_Knowledge-Dungeoneering-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-racial}" type="number" name="attr_Knowledge-Dungeoneering-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-feat}" type="number" name="attr_Knowledge-Dungeoneering-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-item}" type="number" name="attr_Knowledge-Dungeoneering-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-misc}" type="text" name="attr_Knowledge-Dungeoneering-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Dungeoneering-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-class}" type="text" name="attr_Knowledge-Dungeoneering-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-ReqTrain}" type="checkbox" name="attr_Knowledge-Dungeoneering-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Dungeoneering-macro}" name="attr_Knowledge-Dungeoneering-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Dungeoneering}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Dungeoneering} ]] ]]}}</textarea></span>
					</div> 								
					<div class="sheet-table-row sheet-knowledge sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Engineering-Check}" type="roll" value="@{Knowledge-Engineering-macro}" name="roll_Knowledge-Engineering-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-cs}" type="checkbox" name="attr_Knowledge-Engineering-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-engineering">Knowledge (Engineering)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering}" type="number" name="attr_Knowledge-Engineering" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-ranks}" type="number" name="attr_Knowledge-Engineering-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Engineering-ability}" name="attr_Knowledge-Engineering-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-ability-mod}" type="number" name="attr_Knowledge-Engineering-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-racial}" type="number" name="attr_Knowledge-Engineering-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-feat}" type="number" name="attr_Knowledge-Engineering-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-item}" type="number" name="attr_Knowledge-Engineering-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-misc}" type="text" name="attr_Knowledge-Engineering-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Engineering-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-class}" type="text" name="attr_Knowledge-Engineering-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-ReqTrain}" type="checkbox" name="attr_Knowledge-Engineering-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Engineering-macro}" name="attr_Knowledge-Engineering-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Engineering}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Engineering} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Geography-Check}" type="roll" value="@{Knowledge-Geography-macro}" name="roll_Knowledge-Geography-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-cs}" type="checkbox" name="attr_Knowledge-Geography-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-geography">Knowledge (Geography)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography}" type="number" name="attr_Knowledge-Geography" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-ranks}" type="number" name="attr_Knowledge-Geography-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Geography-ability}" name="attr_Knowledge-Geography-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-ability-mod}" type="number" name="attr_Knowledge-Geography-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-racial}" type="number" name="attr_Knowledge-Geography-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-feat}" type="number" name="attr_Knowledge-Geography-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-item}" type="number" name="attr_Knowledge-Geography-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-misc}" type="text" name="attr_Knowledge-Geography-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Geography-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-class}" type="text" name="attr_Knowledge-Geography-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Geography-ReqTrain}" type="checkbox" name="attr_Knowledge-Geography-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Geography-macro}" name="attr_Knowledge-Geography-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Geography}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Geography} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-History-Check}" type="roll" value="@{Knowledge-History-macro}" name="roll_Knowledge-History-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-cs}" type="checkbox" name="attr_Knowledge-History-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-history">Knowledge (History)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History}" type="number" name="attr_Knowledge-History" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-ranks}" type="number" name="attr_Knowledge-History-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-History-ability}" name="attr_Knowledge-History-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-ability-mod}" type="number" name="attr_Knowledge-History-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-racial}" type="number" name="attr_Knowledge-History-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-feat}" type="number" name="attr_Knowledge-History-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-item}" type="number" name="attr_Knowledge-History-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-misc}" type="text" name="attr_Knowledge-History-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-History-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-class}" type="text" name="attr_Knowledge-History-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-History-ReqTrain}" type="checkbox" name="attr_Knowledge-History-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-History-macro}" name="attr_Knowledge-History-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-History}} {{Check=[[ @{skill-query} + [[ @{Knowledge-History} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Local-Check}" type="roll" value="@{Knowledge-Local-macro}" name="roll_Knowledge-Local-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-cs}" type="checkbox" name="attr_Knowledge-Local-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-local">Knowledge (Local)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local}" type="number" name="attr_Knowledge-Local" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-ranks}" type="number" name="attr_Knowledge-Local-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Local-ability}" name="attr_Knowledge-Local-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-ability-mod}" type="number" name="attr_Knowledge-Local-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-racial}" type="number" name="attr_Knowledge-Local-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-feat}" type="number" name="attr_Knowledge-Local-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-item}" type="number" name="attr_Knowledge-Local-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-misc}" type="text" name="attr_Knowledge-Local-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Local-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-class}" type="text" name="attr_Knowledge-Local-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Local-ReqTrain}" type="checkbox" name="attr_Knowledge-Local-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Local-macro}" name="attr_Knowledge-Local-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Local}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Local} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Nature-Check}" type="roll" value="@{Knowledge-Nature-macro}" name="roll_Knowledge-Nature-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-cs}" type="checkbox" name="attr_Knowledge-Nature-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-nature">Knowledge (Nature)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature}" type="number" name="attr_Knowledge-Nature" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-ranks}" type="number" name="attr_Knowledge-Nature-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Nature-ability}" name="attr_Knowledge-Nature-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-ability-mod}" type="number" name="attr_Knowledge-Nature-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-racial}" type="number" name="attr_Knowledge-Nature-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-feat}" type="number" name="attr_Knowledge-Nature-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-item}" type="number" name="attr_Knowledge-Nature-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-misc}" type="text" name="attr_Knowledge-Nature-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Nature-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-class}" type="text" name="attr_Knowledge-Nature-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nature-ReqTrain}" type="checkbox" name="attr_Knowledge-Nature-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Nature-macro}" name="attr_Knowledge-Nature-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Nature}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Nature} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Nobility-Check}" type="roll" value="@{Knowledge-Nobility-macro}" name="roll_Knowledge-Nobility-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-cs}" type="checkbox" name="attr_Knowledge-Nobility-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-nobility">Knowledge (Nobility)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility}" type="number" name="attr_Knowledge-Nobility" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-ranks}" type="number" name="attr_Knowledge-Nobility-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Nobility-ability}" name="attr_Knowledge-Nobility-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-ability-mod}" type="number" name="attr_Knowledge-Nobility-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-racial}" type="number" name="attr_Knowledge-Nobility-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-feat}" type="number" name="attr_Knowledge-Nobility-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-item}" type="number" name="attr_Knowledge-Nobility-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-misc}" type="text" name="attr_Knowledge-Nobility-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Nobility-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-class}" type="text" name="attr_Knowledge-Nobility-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-ReqTrain}" type="checkbox" name="attr_Knowledge-Nobility-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Nobility-macro}" name="attr_Knowledge-Nobility-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Nobility}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Nobility} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Planes-Check}" type="roll" value="@{Knowledge-Planes-macro}" name="roll_Knowledge-Planes-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-cs}" type="checkbox" name="attr_Knowledge-Planes-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-planes">Knowledge (Planes)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes}" type="number" name="attr_Knowledge-Planes" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-ranks}" type="number" name="attr_Knowledge-Planes-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Planes-ability}" name="attr_Knowledge-Planes-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-ability-mod}" type="number" name="attr_Knowledge-Planes-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-racial}" type="number" name="attr_Knowledge-Planes-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-feat}" type="number" name="attr_Knowledge-Planes-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-item}" type="number" name="attr_Knowledge-Planes-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-misc}" type="text" name="attr_Knowledge-Planes-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Planes-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-class}" type="text" name="attr_Knowledge-Planes-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Planes-ReqTrain}" type="checkbox" name="attr_Knowledge-Planes-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Planes-macro}" name="attr_Knowledge-Planes-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Planes}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Planes} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-knowledge sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Knowledge-Religion-Check}" type="roll" value="@{Knowledge-Religion-macro}" name="roll_Knowledge-Religion-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-cs}" type="checkbox" name="attr_Knowledge-Religion-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="knowledge-religion">Knowledge (Religion)</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion}" type="number" name="attr_Knowledge-Religion" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-ranks}" type="number" name="attr_Knowledge-Religion-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Knowledge-Religion-ability}" name="attr_Knowledge-Religion-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-ability-mod}" type="number" name="attr_Knowledge-Religion-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-racial}" type="number" name="attr_Knowledge-Religion-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-feat}" type="number" name="attr_Knowledge-Religion-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-item}" type="number" name="attr_Knowledge-Religion-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-misc}" type="text" name="attr_Knowledge-Religion-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Knowledge-Religion-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-class}" type="text" name="attr_Knowledge-Religion-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Knowledge-Religion-ReqTrain}" type="checkbox" name="attr_Knowledge-Religion-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Knowledge-Religion-macro}" name="attr_Knowledge-Religion-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Knowledge-Religion}} {{Check=[[ @{skill-query} + [[ @{Knowledge-Religion} ]] ]]}}</textarea></span>
					</div> 		
					<div class="sheet-table-row sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Linguistics-Check}" type="roll" value="@{Linguistics-macro}" name="roll_Linguistics-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Linguistics-cs}" type="checkbox" name="attr_Linguistics-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="linguistics">Linguistics</span>
						<span class="sheet-table-cell"><input title="@{Linguistics}" type="number" name="attr_Linguistics" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Linguistics-ranks}" type="number" name="attr_Linguistics-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Linguistics-ability}" name="attr_Linguistics-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Linguistics-ability-mod}" type="number" name="attr_Linguistics-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Linguistics-racial}" type="number" name="attr_Linguistics-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Linguistics-feat}" type="number" name="attr_Linguistics-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Linguistics-item}" type="number" name="attr_Linguistics-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Linguistics-misc}" type="text" name="attr_Linguistics-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Linguistics-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Linguistics-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Linguistics-class}" type="text" name="attr_Linguistics-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Linguistics-ReqTrain}" type="checkbox" name="attr_Linguistics-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Linguistics-macro}" name="attr_Linguistics-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Linguistics}} {{Check=[[ @{skill-query} + [[ @{Linguistics} ]] ]]}}</textarea></span>
					</div>

					<span class="sheet-table-data sheet-lore sheet-bg-only">&nbsp;</span>
					<span class="sheet-table-data sheet-lore sheet-bg-only">&nbsp;</span>
					<span class="sheet-lore sheet-bg-only sheet-skill-minishow" data-i18n="lore">Lore</span>
					<input type="checkbox" class="sheet-lore-show sheet-bg-only" title="@{lore-show}" name="attr_lore-show" value="1" style="opacity: 0;width: 50px;margin: 0 -15px 0 -30px;" checked="checked" />
					<span class="sheet-bg-only"></span>
					<div class="sheet-table-row"><!--used to keep these sections from collapsing on each other when hidden--></div>
					<div class="sheet-table-row sheet-lore sheet-bg-only">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Lore-Check}" type="roll" value="@{Lore-macro}" name="roll_Lore-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Lore-cs}" type="checkbox" name="attr_Lore-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Lore-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore-name" placeholder="Lore" data-i18n-placeholder="lore" /></span>
						<span class="sheet-table-cell"><input title="@{Lore}" type="number" name="attr_Lore" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Lore-ranks}" type="number" name="attr_Lore-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Lore-ability}" name="attr_Lore-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Lore-ability-mod}" type="number" name="attr_Lore-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore-racial}" type="number" name="attr_Lore-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore-feat}" type="number" name="attr_Lore-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore-item}" type="number" name="attr_Lore-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore-misc}" type="text" name="attr_Lore-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Lore-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Lore-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore-class}" type="text" name="attr_Lore-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Lore-ReqTrain}" type="checkbox" name="attr_Lore-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Lore-macro}" name="attr_Lore-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Lore (@{Lore-name})}} {{Check=[[ @{skill-query} + [[ @{Lore} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-lore sheet-bg-only">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Lore2-Check}" type="roll" value="@{Lore2-macro}" name="roll_Lore2-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Lore2-cs}" type="checkbox" name="attr_Lore2-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Lore2-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore2-name" placeholder="Lore" data-i18n-placeholder="lore" /></span>
						<span class="sheet-table-cell"><input title="@{Lore2}" type="number" name="attr_Lore2" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Lore2-ranks}" type="number" name="attr_Lore2-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Lore2-ability}" name="attr_Lore2-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Lore2-ability-mod}" type="number" name="attr_Lore2-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore2-racial}" type="number" name="attr_Lore2-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore2-feat}" type="number" name="attr_Lore2-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore2-item}" type="number" name="attr_Lore2-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore2-misc}" type="text" name="attr_Lore2-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Lore2-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Lore2-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore2-class}" type="text" name="attr_Lore2-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Lore2-ReqTrain}" type="checkbox" name="attr_Lore2-ReqTrain" value="1" checked="checked" /></span>
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Lore2-macro}" name="attr_Lore2-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Lore (@{Lore2-name})}} {{Check=[[ @{skill-query} + [[ @{Lore2} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-lore sheet-bg-only">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Lore3-Check}" type="roll" value="@{Lore3-macro}" name="roll_Lore3-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Lore3-cs}" type="checkbox" name="attr_Lore3-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Lore3-name} Optional Ruleset." style="width:96%;" type="text" name="attr_Lore3-name" placeholder="Lore" data-i18n-placeholder="lore" /></span>
						<span class="sheet-table-cell"><input title="@{Lore3}" type="number" name="attr_Lore3" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Lore3-ranks}" type="number" name="attr_Lore3-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Lore3-ability}" name="attr_Lore3-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Lore3-ability-mod}" type="number" name="attr_Lore3-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore3-racial}" type="number" name="attr_Lore3-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore3-feat}" type="number" name="attr_Lore3-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore3-item}" type="number" name="attr_Lore3-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore3-misc}" type="text" name="attr_Lore3-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Lore3-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Lore3-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Lore3-class}" type="text" name="attr_Lore3-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Lore3-ReqTrain}" type="checkbox" name="attr_Lore3-ReqTrain" value="1" checked="checked" /></span>
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Lore3-macro}" name="attr_Lore3-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Lore (@{Lore3-name})}} {{Check=[[ @{skill-query} + [[ @{Lore3} ]] ]]}}</textarea></span>
					</div>	
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Perception-Check}" type="roll" value="@{Perception-macro}" name="roll_Perception-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Perception-cs}" type="checkbox" name="attr_Perception-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="perception">Perception</span>
						<span class="sheet-table-cell"><input title="@{Perception}" type="number" name="attr_Perception" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Perception-ranks}" type="number" name="attr_Perception-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Perception-ability}" name="attr_Perception-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Perception-ability-mod}" type="number" name="attr_Perception-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perception-racial}" type="number" name="attr_Perception-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perception-feat}" type="number" name="attr_Perception-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perception-item}" type="number" name="attr_Perception-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perception-misc}" type="text" name="attr_Perception-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Perception-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Perception-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perception-class}" type="text" name="attr_Perception-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Perception-ReqTrain}" type="checkbox" name="attr_Perception-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Perception-macro}" name="attr_Perception-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Perception}} {{Check=[[ @{skill-query} + [[ @{Perception} ]] ]]}}</textarea></span>
					</div> 
					
					<span class="sheet-table-data sheet-bg">&nbsp;</span>
					<span class="sheet-table-data sheet-bg">&nbsp;</span>
					<span class="sheet-bg sheet-skill-minishow" data-i18n="perform">Perform</span>
					<input type="checkbox" class="sheet-perform-show sheet-bg" title="@{perform-show}" name="attr_perform-show" value="1" style="opacity: 0;width: 70px;margin: 0 -15px 0 -55px;" checked="checked" />
					<span class="sheet-bg"></span>
					<div class="sheet-table-row"><!--used to keep these sections from collapsing on each other when hidden--></div>
					<div class="sheet-table-row sheet-perform sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Perform-Check}" type="roll" value="@{Perform-macro}" name="roll_Perform-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Perform-cs}" type="checkbox" name="attr_Perform-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Perform-name}" style="width:96%;" type="text" name="attr_Perform-name" placeholder="Perform" data-i18n-placeholder="perform" /></span>
						<span class="sheet-table-cell"><input title="@{Perform}" type="number" name="attr_Perform" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Perform-ranks}" type="number" name="attr_Perform-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Perform-ability}" name="attr_Perform-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Perform-ability-mod}" type="number" name="attr_Perform-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform-racial}" type="number" name="attr_Perform-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform-feat}" type="number" name="attr_Perform-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform-item}" type="number" name="attr_Perform-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform-misc}" type="text" name="attr_Perform-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Perform-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Perform-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform-class}" type="text" name="attr_Perform-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Perform-ReqTrain}" type="checkbox" name="attr_Perform-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Perform-macro}" name="attr_Perform-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Perform (@{Perform-name})}} {{Check=[[ @{skill-query} + [[ @{Perform} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-perform sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Perform2-Check}" type="roll" value="@{Perform2-macro}" name="roll_Perform2-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Perform2-cs}" type="checkbox" name="attr_Perform2-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Perform2-name}" style="width:96%;" type="text" name="attr_Perform2-name" placeholder="Perform" data-i18n-placeholder="perform" /></span>
						<span class="sheet-table-cell"><input title="@{Perform2}" type="number" name="attr_Perform2" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Perform2-ranks}" type="number" name="attr_Perform2-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Perform2-ability}" name="attr_Perform2-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Perform2-ability-mod}" type="number" name="attr_Perform2-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform2-racial}" type="number" name="attr_Perform2-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform2-feat}" type="number" name="attr_Perform2-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform2-item}" type="number" name="attr_Perform2-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform2-misc}" type="text" name="attr_Perform2-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Perform2-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Perform2-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform2-class}" type="text" name="attr_Perform2-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Perform2-ReqTrain}" type="checkbox" name="attr_Perform2-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Perform2-macro}" name="attr_Perform2-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Perform (@{Perform2-name})}} {{Check=[[ @{skill-query} + [[ @{Perform2} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-perform sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Perform3-Check}" type="roll" value="@{Perform3-macro}" name="roll_Perform3-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Perform3-cs}" type="checkbox" name="attr_Perform3-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Perform3-name}" style="width:96%;" type="text" name="attr_Perform3-name" placeholder="Perform" data-i18n-placeholder="perform" /></span>
						<span class="sheet-table-cell"><input title="@{Perform3}" type="number" name="attr_Perform3" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Perform3-ranks}" type="number" name="attr_Perform3-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Perform3-ability}" name="attr_Perform3-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Perform3-ability-mod}" type="number" name="attr_Perform3-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform3-racial}" type="number" name="attr_Perform3-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform3-feat}" type="number" name="attr_Perform3-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform3-item}" type="number" name="attr_Perform3-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform3-misc}" type="text" name="attr_Perform3-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Perform3-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Perform3-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Perform3-class}" type="text" name="attr_Perform3-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Perform3-ReqTrain}" type="checkbox" name="attr_Perform3-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Perform3-macro}" name="attr_Perform3-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Perform (@{Perform3-name})}} {{Check=[[ @{skill-query} + [[ @{Perform3} ]] ]]}}</textarea></span>
					</div>
					
					<span class="sheet-table-data sheet-bg">&nbsp;</span>
					<span class="sheet-table-data sheet-bg">&nbsp;</span>
					<span class="sheet-bg sheet-skill-minishow" data-i18n="profession">Profession</span>
					<input type="checkbox" class="sheet-profession-show sheet-bg" title="@{profession-show}" name="attr_profession-show" value="1" style="opacity: 0;width: 85px;margin: 0 -15px 0 -70px;" checked="checked" />
					<span class="sheet-bg"></span>
					<div class="sheet-table-row"><!--used to keep these sections from collapsing on each other when hidden--></div>
					<div class="sheet-table-row sheet-profession sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Profession-Check}" type="roll" value="@{Profession-macro}" name="roll_Profession-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Profession-cs}" type="checkbox" name="attr_Profession-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Profession-name}" style="width:96%;" type="text" name="attr_Profession-name" placeholder="Profession" data-i18n-placeholder="profession" /></span>
						<span class="sheet-table-cell"><input title="@{Profession}" type="number" name="attr_Profession" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Profession-ranks}" type="number" name="attr_Profession-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Profession-ability}" name="attr_Profession-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Profession-ability-mod}" type="number" name="attr_Profession-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession-racial}" type="number" name="attr_Profession-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession-feat}" type="number" name="attr_Profession-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession-item}" type="number" name="attr_Profession-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession-misc}" type="text" name="attr_Profession-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Profession-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Profession-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession-class}" type="text" name="attr_Profession-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Profession-ReqTrain}" type="checkbox" name="attr_Profession-ReqTrain" value="1" checked="checked"/></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Profession-macro}" name="attr_Profession-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Profession (@{Profession-name})}} {{Check=[[ @{skill-query} + [[ @{Profession} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-profession sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Profession2-Check}" type="roll" value="@{Profession2-macro}" name="roll_Profession2-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Profession2-cs}" type="checkbox" name="attr_Profession2-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Profession2-name}" style="width:96%;" type="text" name="attr_Profession2-name" placeholder="Profession" data-i18n-placeholder="profession" /></span>
						<span class="sheet-table-cell"><input title="@{Profession2}" type="number" name="attr_Profession2" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Profession2-ranks}" type="number" name="attr_Profession2-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Profession2-ability}" name="attr_Profession2-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Profession2-ability-mod}" type="number" name="attr_Profession2-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession2-racial}" type="number" name="attr_Profession2-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession2-feat}" type="number" name="attr_Profession2-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession2-item}" type="number" name="attr_Profession2-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession2-misc}" type="text" name="attr_Profession2-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Profession2-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Profession2-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession2-class}" type="text" name="attr_Profession2-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Profession2-ReqTrain}" type="checkbox" name="attr_Profession2-ReqTrain" value="1" checked="checked"/></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Profession2-macro}" name="attr_Profession2-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Profession (@{Profession2-name})}} {{Check=[[ @{skill-query} + [[ @{Profession2} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-profession sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Profession3-Check}" type="roll" value="@{Profession3-macro}" name="roll_Profession3-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Profession3-cs}" type="checkbox" name="attr_Profession3-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Profession3-name}" style="width:96%;" type="text" name="attr_Profession3-name" placeholder="Profession" data-i18n-placeholder="profession" /></span>
						<span class="sheet-table-cell"><input title="@{Profession3}" type="number" name="attr_Profession3" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Profession3-ranks}" type="number" name="attr_Profession3-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Profession3-ability}" name="attr_Profession3-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Profession3-ability-mod}" type="number" name="attr_Profession3-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession3-racial}" type="number" name="attr_Profession3-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession3-feat}" type="number" name="attr_Profession3-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession3-item}" type="number" name="attr_Profession3-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession3-misc}" type="text" name="attr_Profession3-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Profession3-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Profession3-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Profession3-class}" type="text" name="attr_Profession3-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Profession3-ReqTrain}" type="checkbox" name="attr_Profession3-ReqTrain" value="1" checked="checked"/></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Profession3-macro}" name="attr_Profession3-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Profession (@{Profession3-name})}} {{Check=[[ @{skill-query} + [[ @{Profession3} ]] ]]}}</textarea></span>
					</div> 
					
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Ride-Check}" type="roll" value="@{Ride-macro}" name="roll_Ride-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Ride-cs}" type="checkbox" name="attr_Ride-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="ride">Ride</span>
						<span class="sheet-table-cell"><input title="@{Ride}" type="number" name="attr_Ride" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Ride-ranks}" type="number" name="attr_Ride-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Ride-ability}" name="attr_Ride-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Ride-ability-mod}" type="number" name="attr_Ride-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Ride-racial}" type="number" name="attr_Ride-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Ride-feat}" type="number" name="attr_Ride-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Ride-item}" type="number" name="attr_Ride-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Ride-misc}" type="text" name="attr_Ride-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Ride-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Ride-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Ride-class}" type="text" name="attr_Ride-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Ride-ReqTrain}" type="checkbox" name="attr_Ride-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Ride-macro}" name="attr_Ride-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Ride}} {{Check=[[ @{skill-query} + [[ @{Ride} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Sense-Motive-Check}" type="roll" value="@{Sense-Motive-macro}" name="roll_Sense-Motive-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-cs}" type="checkbox" name="attr_Sense-Motive-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="sense-motive">Sense-Motive</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive}" type="number" name="attr_Sense-Motive" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-ranks}" type="number" name="attr_Sense-Motive-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Sense-Motive-ability}" name="attr_Sense-Motive-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-ability-mod}" type="number" name="attr_Sense-Motive-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-racial}" type="number" name="attr_Sense-Motive-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-feat}" type="number" name="attr_Sense-Motive-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-item}" type="number" name="attr_Sense-Motive-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-misc}" type="text" name="attr_Sense-Motive-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Sense-Motive-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-class}" type="text" name="attr_Sense-Motive-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Sense-Motive-ReqTrain}" type="checkbox" name="attr_Sense-Motive-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Sense-Motive-macro}" name="attr_Sense-Motive-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Sense-Motive}} {{Check=[[ @{skill-query} + [[ @{Sense-Motive} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Sleight-of-Hand-Check}" type="roll" value="@{Sleight-of-Hand-macro}" name="roll_Sleight-of-Hand-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-cs}" type="checkbox" name="attr_Sleight-of-Hand-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="sleight-of-hand">Sleight-of-Hand</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand}" type="number" name="attr_Sleight-of-Hand" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-ranks}" type="number" name="attr_Sleight-of-Hand-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Sleight-of-Hand-ability}" name="attr_Sleight-of-Hand-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-ability-mod}" type="number" name="attr_Sleight-of-Hand-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-racial}" type="number" name="attr_Sleight-of-Hand-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-feat}" type="number" name="attr_Sleight-of-Hand-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-item}" type="number" name="attr_Sleight-of-Hand-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-misc}" type="text" name="attr_Sleight-of-Hand-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Sleight-of-Hand-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-class}" type="text" name="attr_Sleight-of-Hand-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-ReqTrain}" type="checkbox" name="attr_Sleight-of-Hand-ReqTrain" value="1" checked="checked"/></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Sleight-of-Hand-macro}" name="attr_Sleight-of-Hand-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Sleight-of-Hand}} {{Check=[[ @{skill-query} + [[ @{Sleight-of-Hand} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Spellcraft-Check}" type="roll" value="@{Spellcraft-macro}" name="roll_Spellcraft-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-cs}" type="checkbox" name="attr_Spellcraft-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="spellcraft">Spellcraft</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft}" type="number" name="attr_Spellcraft" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-ranks}" type="number" name="attr_Spellcraft-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Spellcraft-ability}" name="attr_Spellcraft-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-ability-mod}" type="number" name="attr_Spellcraft-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-racial}" type="number" name="attr_Spellcraft-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-feat}" type="number" name="attr_Spellcraft-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-item}" type="number" name="attr_Spellcraft-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-misc}" type="text" name="attr_Spellcraft-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Spellcraft-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-class}" type="text" name="attr_Spellcraft-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Spellcraft-ReqTrain}" type="checkbox" name="attr_Spellcraft-ReqTrain" value="1" checked="checked"/></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Spellcraft-macro}" name="attr_Spellcraft-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Spellcraft}} {{Check=[[ @{skill-query} + [[ @{Spellcraft} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Stealth-Check}" type="roll" value="@{Stealth-macro}" name="roll_Stealth-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Stealth-cs}" type="checkbox" name="attr_Stealth-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="stealth">Stealth</span>
						<span class="sheet-table-cell"><input title="@{Stealth}" type="number" name="attr_Stealth" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Stealth-ranks}" type="number" name="attr_Stealth-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Stealth-ability}" name="attr_Stealth-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Stealth-ability-mod}" type="number" name="attr_Stealth-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Stealth-racial}" type="number" name="attr_Stealth-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Stealth-feat}" type="number" name="attr_Stealth-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Stealth-item}" type="number" name="attr_Stealth-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Stealth-misc}" type="text" name="attr_Stealth-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Stealth-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Stealth-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Stealth-class}" type="text" name="attr_Stealth-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Stealth-ReqTrain}" type="checkbox" name="attr_Stealth-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Stealth-macro}" name="attr_Stealth-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Stealth}} {{Check=[[ @{skill-query} + [[ @{Stealth} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Survival-Check}" type="roll" value="@{Survival-macro}" name="roll_Survival-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Survival-cs}" type="checkbox" name="attr_Survival-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="survival">Survival</span>
						<span class="sheet-table-cell"><input title="@{Survival}" type="number" name="attr_Survival" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Survival-ranks}" type="number" name="attr_Survival-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Survival-ability}" name="attr_Survival-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Survival-ability-mod}" type="number" name="attr_Survival-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Survival-racial}" type="number" name="attr_Survival-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Survival-feat}" type="number" name="attr_Survival-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Survival-item}" type="number" name="attr_Survival-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Survival-misc}" type="text" name="attr_Survival-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Survival-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Survival-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Survival-class}" type="text" name="attr_Survival-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Survival-ReqTrain}" type="checkbox" name="attr_Survival-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Survival-macro}" name="attr_Survival-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Survival}} {{Check=[[ @{skill-query} + [[ @{Survival} ]] ]]}}</textarea></span>
					</div> 
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Swim-Check}" type="roll" value="@{Swim-macro}" name="roll_Swim-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Swim-cs}" type="checkbox" name="attr_Swim-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="swim">Swim</span>
						<span class="sheet-table-cell"><input title="@{Swim}" type="number" name="attr_Swim" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Swim-ranks}" type="number" name="attr_Swim-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Swim-ability}" name="attr_Swim-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Swim-ability-mod}" type="number" name="attr_Swim-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Swim-racial}" type="number" name="attr_Swim-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Swim-feat}" type="number" name="attr_Swim-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Swim-item}" type="number" name="attr_Swim-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Swim-misc}" type="text" name="attr_Swim-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Swim-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Swim-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Swim-class}" type="text" name="attr_Swim-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Swim-ReqTrain}" type="checkbox" name="attr_Swim-ReqTrain" value="1" /></span>			
					<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Swim-macro}" name="attr_Swim-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Swim}} {{Check=[[ @{skill-query} + [[ @{Swim} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Use-Magic-Device-Check}" type="roll" value="@{Use-Magic-Device-macro}" name="roll_Use-Magic-Device-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-cs}" type="checkbox" name="attr_Use-Magic-Device-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left" data-i18n="use-magic-device">Use Magic Device</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device}" type="number" name="attr_Use-Magic-Device" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-ranks}" type="number" name="attr_Use-Magic-Device-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Use-Magic-Device-ability}" name="attr_Use-Magic-Device-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-ability-mod}" type="number" name="attr_Use-Magic-Device-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-racial}" type="number" name="attr_Use-Magic-Device-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-feat}" type="number" name="attr_Use-Magic-Device-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-item}" type="number" name="attr_Use-Magic-Device-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-misc}" type="text" name="attr_Use-Magic-Device-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Use-Magic-Device-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-class}" type="text" name="attr_Use-Magic-Device-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Use-Magic-Device-ReqTrain}" type="checkbox" name="attr_Use-Magic-Device-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Use-Magic-Device-macro}" name="attr_Use-Magic-Device-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Use-Magic-Device}} {{Check=[[ @{skill-query} + [[ @{Use-Magic-Device} ]] ]]}}</textarea></span>
					</div>
					
					<span class="sheet-table-data sheet-adventure sheet-bg">&nbsp;</span>
					<span class="sheet-table-data sheet-adventure sheet-bg">&nbsp;</span>
					<span class="sheet-adventure sheet-bg sheet-skill-minishow" data-i18n="miscellaneous-abbrv">Misc</span>
					<input type="checkbox" class="sheet-misc-show sheet-adventure sheet-bg" title="@{misc-show}" name="attr_misc-show" value="1" style="opacity: 0;width: 50px;margin: 0 -15px 0 -35px;" checked="checked" />
					<span class="sheet-adventure sheet-bg"></span>
					<div class="sheet-table-row"><!--used to keep these sections from collapsing on each other when hidden--></div>
					<div class="sheet-table-row sheet-misc sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Misc-Skill-0-Check}" type="roll" value="@{Misc-Skill-0-macro}" name="roll_Misc-Skill-0-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-cs}" type="checkbox" name="attr_Misc-Skill-0-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-0-name}" name="attr_Misc-Skill-0-name" placeholder="Misc. Skill" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0}" type="number" name="attr_Misc-Skill-0" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-ranks}" type="number" name="attr_Misc-Skill-0-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Misc-Skill-0-ability}" name="attr_Misc-Skill-0-ability" class="sheet-select-small">
								<option value="0" data-i18n="none" selected >None</option>
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-ability-mod}" type="number" name="attr_Misc-Skill-0-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-racial}" type="number" name="attr_Misc-Skill-0-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-feat}" type="number" name="attr_Misc-Skill-0-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-item}" type="number" name="attr_Misc-Skill-0-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-misc}" type="text" name="attr_Misc-Skill-0-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Misc-Skill-0-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-class}" type="text" name="attr_Misc-Skill-0-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-0-ReqTrain}" type="checkbox" name="attr_Misc-Skill-0-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Misc-Skill-0-macro}" name="attr_Misc-Skill-0-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-0-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-0} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-misc sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Misc-Skill-1-Check}" type="roll" value="@{Misc-Skill-1-macro}" name="roll_Misc-Skill-1-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-cs}" type="checkbox" name="attr_Misc-Skill-1-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-1-name}" name="attr_Misc-Skill-1-name" placeholder="Misc. Skill" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1}" type="number" name="attr_Misc-Skill-1" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-ranks}" type="number" name="attr_Misc-Skill-1-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Misc-Skill-1-ability}" name="attr_Misc-Skill-1-ability" class="sheet-select-small">
								<option value="0" data-i18n="none" selected >None</option>
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-ability-mod}" type="number" name="attr_Misc-Skill-1-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-racial}" type="number" name="attr_Misc-Skill-1-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-feat}" type="number" name="attr_Misc-Skill-1-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-item}" type="number" name="attr_Misc-Skill-1-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-misc}" type="text" name="attr_Misc-Skill-1-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Misc-Skill-1-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-class}" type="text" name="attr_Misc-Skill-1-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-1-ReqTrain}" type="checkbox" name="attr_Misc-Skill-1-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Misc-Skill-1-macro}" name="attr_Misc-Skill-1-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-1-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-1} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-misc sheet-adventure">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Misc-Skill-2-Check}" type="roll" value="@{Misc-Skill-2-macro}" name="roll_Misc-Skill-2-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-cs}" type="checkbox" name="attr_Misc-Skill-2-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-2-name}" name="attr_Misc-Skill-2-name" placeholder="Misc. Skill" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2}" type="number" name="attr_Misc-Skill-2" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-ranks}" type="number" name="attr_Misc-Skill-2-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Misc-Skill-2-ability}" name="attr_Misc-Skill-2-ability" class="sheet-select-small">
								<option value="0" data-i18n="none" selected >None</option>
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-ability-mod}" type="number" name="attr_Misc-Skill-2-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-racial}" type="number" name="attr_Misc-Skill-2-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-feat}" type="number" name="attr_Misc-Skill-2-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-item}" type="number" name="attr_Misc-Skill-2-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-misc}" type="text" name="attr_Misc-Skill-2-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Misc-Skill-2-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-class}" type="text" name="attr_Misc-Skill-2-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-2-ReqTrain}" type="checkbox" name="attr_Misc-Skill-2-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Misc-Skill-2-macro}" name="attr_Misc-Skill-2-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-2-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-2} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-misc sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Misc-Skill-3-Check}" type="roll" value="@{Misc-Skill-3-macro}" name="roll_Misc-Skill-3-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-cs}" type="checkbox" name="attr_Misc-Skill-3-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Misc-Skill-3-name}" type="text" name="attr_Misc-Skill-3-name" placeholder="Misc. Skill" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3}" type="number" name="attr_Misc-Skill-3" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-ranks}" type="number" name="attr_Misc-Skill-3-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Misc-Skill-3-ability}" name="attr_Misc-Skill-3-ability" class="sheet-select-small">
								<option value="0" data-i18n="none" selected >None</option>
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-ability-mod}" type="number" name="attr_Misc-Skill-3-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-racial}" type="number" name="attr_Misc-Skill-3-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-feat}" type="number" name="attr_Misc-Skill-3-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-item}" type="number" name="attr_Misc-Skill-3-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-misc}" type="text" name="attr_Misc-Skill-3-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Misc-Skill-3-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-class}" type="text" name="attr_Misc-Skill-3-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-3-ReqTrain}" type="checkbox" name="attr_Misc-Skill-3-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Misc-Skill-3-macro}" name="attr_Misc-Skill-3-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-3-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-3} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-misc sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Misc-Skill-4-Check}" type="roll" value="@{Misc-Skill-4-macro}" name="roll_Misc-Skill-4-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-cs}" type="checkbox" name="attr_Misc-Skill-4-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Misc-Skill-4-name}" type="text" name="attr_Misc-Skill-4-name" placeholder="Misc. Skill" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4}" type="number" name="attr_Misc-Skill-4" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-ranks}" type="number" name="attr_Misc-Skill-4-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Misc-Skill-4-ability}" name="attr_Misc-Skill-4-ability" class="sheet-select-small">
								<option value="0" data-i18n="none" selected >None</option>
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-ability-mod}" type="number" name="attr_Misc-Skill-4-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-racial}" type="number" name="attr_Misc-Skill-4-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-feat}" type="number" name="attr_Misc-Skill-4-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-item}" type="number" name="attr_Misc-Skill-4-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-misc}" type="text" name="attr_Misc-Skill-4-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Misc-Skill-4-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-class}" type="text" name="attr_Misc-Skill-4-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-4-ReqTrain}" type="checkbox" name="attr_Misc-Skill-4-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Misc-Skill-4-macro}" name="attr_Misc-Skill-4-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-4-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-4} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-misc sheet-bg">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|Misc-Skill-5-Check}" type="roll" value="@{Misc-Skill-5-macro}" name="roll_Misc-Skill-5-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-cs}" type="checkbox" name="attr_Misc-Skill-5-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><input title="@{Misc-Skill-5-name}" type="text" name="attr_Misc-Skill-5-name" placeholder="Misc. Skill" data-i18n-placeholder="miscellaneous-skill-abbrv" style="width:96%;"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5}" type="number" name="attr_Misc-Skill-5" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-ranks}" type="number" name="attr_Misc-Skill-5-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{Misc-Skill-5-ability}" name="attr_Misc-Skill-5-ability" class="sheet-select-small">
								<option value="0" data-i18n="none" selected >None</option>
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-ability-mod}" type="number" name="attr_Misc-Skill-5-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-racial}" type="number" name="attr_Misc-Skill-5-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-feat}" type="number" name="attr_Misc-Skill-5-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-item}" type="number" name="attr_Misc-Skill-5-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-misc}" type="text" name="attr_Misc-Skill-5-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_Misc-Skill-5-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-class}" type="text" name="attr_Misc-Skill-5-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{Misc-Skill-5-ReqTrain}" type="checkbox" name="attr_Misc-Skill-5-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{Misc-Skill-5-macro}" name="attr_Misc-Skill-5-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{Misc-Skill-5-name}}} {{Check=[[ @{skill-query} + [[ @{Misc-Skill-5} ]] ]]}}</textarea></span>
					</div>
				
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Acrobatics-Check}" type="roll" value="@{CS-Acrobatics-macro}" name="roll_CS-Acrobatics-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-cs}" type="checkbox" name="attr_CS-Acrobatics-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Acrobatics (except jumping), Escape Artist, Fly, Ride" data-i18n="acrobatics">Acrobatics</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics}" type="number" name="attr_CS-Acrobatics" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-ranks}" type="number" name="attr_CS-Acrobatics-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Acrobatics-ability}" name="attr_CS-Acrobatics-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-ability-mod}" type="number" name="attr_CS-Acrobatics-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-racial}" type="number" name="attr_CS-Acrobatics-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-feat}" type="number" name="attr_CS-Acrobatics-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-item}" type="number" name="attr_CS-Acrobatics-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-misc}" type="text" name="attr_CS-Acrobatics-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Acrobatics-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Acrobatics-class}" type="text" name="attr_CS-Acrobatics-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<input title="Apply size mod to Fly checks @{CS-Acrobatics-size-mod}" type="checkbox" name="attr_CS-Acrobatics-size-mod" value="0" style="display:none;"/>
						<span class="sheet-table-cell sheet-not-sheet-show"><input title="@{CS-Acrobatics-ReqTrain}" type="checkbox" name="attr_CS-Acrobatics-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Acrobatics-macro}" name="attr_CS-Acrobatics-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Acrobatics}} {{Check=[[ @{skill-query} + [[ @{CS-Acrobatics} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Athletics-Check}" type="roll" value="@{CS-Athletics-macro}" name="roll_CS-Athletics-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-cs}" type="checkbox" name="attr_CS-Athletics-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Acrobatics (jumping), Climb, Swim" data-i18n="athletics">Athletics</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics}" type="number" name="attr_CS-Athletics" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-ranks}" type="number" name="attr_CS-Athletics-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Athletics-ability}" name="attr_CS-Athletics-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv-default" selected>&#8226;STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-ability-mod}" type="number" name="attr_CS-Athletics-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-racial}" type="number" name="attr_CS-Athletics-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-feat}" type="number" name="attr_CS-Athletics-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-item}" type="number" name="attr_CS-Athletics-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-misc}" type="text" name="attr_CS-Athletics-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Athletics-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-class}" type="text" name="attr_CS-Athletics-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Athletics-ReqTrain}" type="checkbox" name="attr_CS-Athletics-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Athletics-macro}" name="attr_CS-Athletics-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Athletics}} {{Check=[[ @{skill-query} + [[ @{CS-Athletics} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Finesse-Check}" type="roll" value="@{CS-Finesse-macro}" name="roll_CS-Finesse-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-cs}" type="checkbox" name="attr_CS-Finesse-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Disable Device, Sleight of Hand" data-i18n="finesse">Finesse</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse}" type="number" name="attr_CS-Finesse" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-ranks}" type="number" name="attr_CS-Finesse-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Finesse-ability}" name="attr_CS-Finesse-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-ability-mod}" type="number" name="attr_CS-Finesse-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-racial}" type="number" name="attr_CS-Finesse-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-feat}" type="number" name="attr_CS-Finesse-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-item}" type="number" name="attr_CS-Finesse-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-misc}" type="text" name="attr_CS-Finesse-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Finesse-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-class}" type="text" name="attr_CS-Finesse-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Finesse-ReqTrain}" type="checkbox" name="attr_CS-Finesse-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Finesse-macro}" name="attr_CS-Finesse-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Finesse}} {{Check=[[ @{skill-query} + [[ @{CS-Finesse} ]] ]]}}</textarea></span>
					</div>					
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Influence-Check}" type="roll" value="@{CS-Influence-macro}" name="roll_CS-Influence-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-cs}" type="checkbox" name="attr_CS-Influence-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Bluff, Diplomacy, Intimidate" data-i18n="influence">Influence</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Influence}" type="number" name="attr_CS-Influence" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-ranks}" type="number" name="attr_CS-Influence-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Influence-ability}" name="attr_CS-Influence-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-ability-mod}" type="number" name="attr_CS-Influence-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-racial}" type="number" name="attr_CS-Influence-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-feat}" type="number" name="attr_CS-Influence-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-item}" type="number" name="attr_CS-Influence-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-misc}" type="text" name="attr_CS-Influence-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Influence-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-class}" type="text" name="attr_CS-Influence-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Influence-ReqTrain}" type="checkbox" name="attr_CS-Influence-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Influence-macro}" name="attr_CS-Influence-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Influence}} {{Check=[[ @{skill-query} + [[ @{CS-Influence} ]] ]]}}</textarea></span>
					</div>	
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Nature-Check}" type="roll" value="@{CS-Nature-macro}" name="roll_CS-Nature-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-cs}" type="checkbox" name="attr_CS-Nature-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Handle Animal, Knowledge (dungeoneering, geography, nature)" data-i18n="nature">Nature</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Nature}" type="number" name="attr_CS-Nature" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-ranks}" type="number" name="attr_CS-Nature-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Nature-ability}" name="attr_CS-Nature-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-ability-mod}" type="number" name="attr_CS-Nature-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-racial}" type="number" name="attr_CS-Nature-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-feat}" type="number" name="attr_CS-Nature-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-item}" type="number" name="attr_CS-Nature-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-misc}" type="text" name="attr_CS-Nature-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Nature-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-class}" type="text" name="attr_CS-Nature-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Nature-ReqTrain}" type="checkbox" name="attr_CS-Nature-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Nature-macro}" name="attr_CS-Nature-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Nature}} {{Check=[[ @{skill-query} + [[ @{CS-Nature} ]] ]]}}</textarea></span>
					</div>	
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Perception-Check}" type="roll" value="@{CS-Perception-macro}" name="roll_CS-Perception-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-cs}" type="checkbox" name="attr_CS-Perception-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Perception, Sense Motive" data-i18n="perception">Perception</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Perception}" type="number" name="attr_CS-Perception" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-ranks}" type="number" name="attr_CS-Perception-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Perception-ability}" name="attr_CS-Perception-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-ability-mod}" type="number" name="attr_CS-Perception-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-racial}" type="number" name="attr_CS-Perception-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-feat}" type="number" name="attr_CS-Perception-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-item}" type="number" name="attr_CS-Perception-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-misc}" type="text" name="attr_CS-Perception-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Perception-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-class}" type="text" name="attr_CS-Perception-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Perception-ReqTrain}" type="checkbox" name="attr_CS-Perception-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Perception-macro}" name="attr_CS-Perception-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Perception}} {{Check=[[ @{skill-query} + [[ @{CS-Perception} ]] ]]}}</textarea></span>
					</div>					
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Performance-Check}" type="roll" value="@{CS-Performance-macro}" name="roll_CS-Performance-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-cs}" type="checkbox" name="attr_CS-Performance-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Disguise, Perform" data-i18n="performance">Performance</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Performance}" type="number" name="attr_CS-Performance" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-ranks}" type="number" name="attr_CS-Performance-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Performance-ability}" name="attr_CS-Performance-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv-default" selected>&#8226;CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-ability-mod}" type="number" name="attr_CS-Performance-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-racial}" type="number" name="attr_CS-Performance-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-feat}" type="number" name="attr_CS-Performance-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-item}" type="number" name="attr_CS-Performance-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-misc}" type="text" name="attr_CS-Performance-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Performance-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-class}" type="text" name="attr_CS-Performance-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Performance-ReqTrain}" type="checkbox" name="attr_CS-Performance-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Performance-macro}" name="attr_CS-Performance-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Performance}} {{Check=[[ @{skill-query} + [[ @{CS-Performance} ]] ]]}}</textarea></span>
					</div>	
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Religion-Check}" type="roll" value="@{CS-Religion-macro}" name="roll_CS-Religion-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-cs}" type="checkbox" name="attr_CS-Religion-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Knowledge (planes, religion)" data-i18n="religion">Religion</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Religion}" type="number" name="attr_CS-Religion" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-ranks}" type="number" name="attr_CS-Religion-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Religion-ability}" name="attr_CS-Religion-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-ability-mod}" type="number" name="attr_CS-Religion-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-racial}" type="number" name="attr_CS-Religion-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-feat}" type="number" name="attr_CS-Religion-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-item}" type="number" name="attr_CS-Religion-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-misc}" type="text" name="attr_CS-Religion-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Religion-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-class}" type="text" name="attr_CS-Religion-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Religion-ReqTrain}" type="checkbox" name="attr_CS-Religion-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Religion-macro}" name="attr_CS-Religion-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Religion}} {{Check=[[ @{skill-query} + [[ @{CS-Religion} ]] ]]}}</textarea></span>
					</div>												
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Society-Check}" type="roll" value="@{CS-Society-macro}" name="roll_CS-Society-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Society-cs}" type="checkbox" name="attr_CS-Society-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Knowledge (history, local, nobility), Linguistics" data-i18n="society">Society</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Society}" type="number" name="attr_CS-Society" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Society-ranks}" type="number" name="attr_CS-Society-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Society-ability}" name="attr_CS-Society-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Society-ability-mod}" type="number" name="attr_CS-Society-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Society-racial}" type="number" name="attr_CS-Society-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Society-feat}" type="number" name="attr_CS-Society-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Society-item}" type="number" name="attr_CS-Society-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Society-misc}" type="text" name="attr_CS-Society-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Society-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Society-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Society-class}" type="text" name="attr_CS-Society-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Society-ReqTrain}" type="checkbox" name="attr_CS-Society-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Society-macro}" name="attr_CS-Society-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Society}} {{Check=[[ @{skill-query} + [[ @{CS-Society} ]] ]]}}</textarea></span>
					</div>	
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Spellcraft-Check}" type="roll" value="@{CS-Spellcraft-macro}" name="roll_CS-Spellcraft-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-cs}" type="checkbox" name="attr_CS-Spellcraft-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Knowledge (arcana), Spellcraft, Use Magic Device" data-i18n="spellcraft">Spellcraft</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft}" type="number" name="attr_CS-Spellcraft" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-ranks}" type="number" name="attr_CS-Spellcraft-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Spellcraft-ability}" name="attr_CS-Spellcraft-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv-default" selected>&#8226;INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-ability-mod}" type="number" name="attr_CS-Spellcraft-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-racial}" type="number" name="attr_CS-Spellcraft-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-feat}" type="number" name="attr_CS-Spellcraft-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-item}" type="number" name="attr_CS-Spellcraft-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-misc}" type="text" name="attr_CS-Spellcraft-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Spellcraft-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-class}" type="text" name="attr_CS-Spellcraft-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Spellcraft-ReqTrain}" type="checkbox" name="attr_CS-Spellcraft-ReqTrain" value="1" checked="checked" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Spellcraft-macro}" name="attr_CS-Spellcraft-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Spellcraft}} {{Check=[[ @{skill-query} + [[ @{CS-Spellcraft} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Stealth-Check}" type="roll" value="@{CS-Stealth-macro}" name="roll_CS-Stealth-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-cs}" type="checkbox" name="attr_CS-Stealth-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Stealth" data-i18n="stealth">Stealth</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth}" type="number" name="attr_CS-Stealth" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-ranks}" type="number" name="attr_CS-Stealth-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Stealth-ability}" name="attr_CS-Stealth-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv-default" selected>&#8226;DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-ability-mod}" type="number" name="attr_CS-Stealth-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-racial}" type="number" name="attr_CS-Stealth-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-feat}" type="number" name="attr_CS-Stealth-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-item}" type="number" name="attr_CS-Stealth-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-misc}" type="text" name="attr_CS-Stealth-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Stealth-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-class}" type="text" name="attr_CS-Stealth-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Stealth-ReqTrain}" type="checkbox" name="attr_CS-Stealth-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Stealth-macro}" name="attr_CS-Stealth-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Stealth}} {{Check=[[ @{skill-query} + [[ @{CS-Stealth} ]] ]]}}</textarea></span>
					</div>
					<div class="sheet-table-row sheet-consolidated">
						<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|CS-Survival-Check}" type="roll" value="@{CS-Survival-macro}" name="roll_CS-Survival-Check"></button></span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-cs}" type="checkbox" name="attr_CS-Survival-cs" value="3" /></span>
						<span class="sheet-table-cell sheet-left"><span title="Covers Heal, Survival" data-i18n="survival">Survival</span></span>
						<span class="sheet-table-cell"><input title="@{CS-Survival}" type="number" name="attr_CS-Survival" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">=</span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-ranks}" type="number" name="attr_CS-Survival-ranks" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell">
							<select title="@{CS-Survival-ability}" name="attr_CS-Survival-ability" class="sheet-select-small">
								<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
								<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
								<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
								<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
								<option value="@{WIS-mod}" data-i18n="wisdom-abbrv-default" selected>&#8226;WIS</option>
								<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
							</select>
						</span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-ability-mod}" type="number" name="attr_CS-Survival-ability-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-racial}" type="number" name="attr_CS-Survival-racial" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-feat}" type="number" name="attr_CS-Survival-feat" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-item}" type="number" name="attr_CS-Survival-item" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-misc}" type="text" name="attr_CS-Survival-misc" value="" placeholder="# or Macro"/></span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-misc-mod}" type="number" class="sheet-calc" readonly="readonly" name="attr_CS-Survival-misc-mod" value="0" /></span>
						<span class="sheet-divider">+</span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-class}" type="text" name="attr_CS-Survival-class" value="0/0/0/0" style="width:4em;" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell"><input title="@{CS-Survival-ReqTrain}" type="checkbox" name="attr_CS-Survival-ReqTrain" value="1" /></span>			
						<span class="sheet-table-cell"><textarea class="sheet-skill-macro-text" title="@{CS-Survival-macro}" name="attr_CS-Survival-macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{subtitle}} {{name=Survival}} {{Check=[[ @{skill-query} + [[ @{CS-Survival} ]] ]]}}</textarea></span>
					</div>				
				</div>
				<div class="sheet-table sheet-center sheet-sect"><b><span data-i18n="class-skill-abbrv">CS</span></b> = <span data-i18n="class-skill">Class Skill</span> | <b><span data-i18n="requires-training-abbrv">RT</span></b> = <span data-i18n="requires-training">Requires Training</span> | <b><span data-i18n="class skill-bonus|armor-check-penalty|size-mod|condition-penalty-abbrv">Cl/Ac/Sz/Co</span></b> = <span data-i18n="class skill-bonus|armor-check-penalty|size-mod|condition-penalty">Class Skill Bonus / Armor check penalty / Size mod / Condition penalty</span></div>
				<br>		
			</div>
		</div>  
		<div class="sheet-h2-section">
			<h2 data-i18n="skill-notes">Skill Notes</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_skill-notes-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-center sheet-sect">
				<span class="sheet-table-name" data-i18n="skill-notes">Skill Notes</span>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"><textarea title="@{Skill-notes}" name="attr_Skill-notes" placeholder="Put notes about context-sensitive Skill bonuses here." data-i18n-placeholder="skill-notes-place"></textarea></span>
				</div>
			</div>
		</div>
		<br>
	</div>

	<div class="sheet-section sheet-section-inventory" role="region" aria-label="Inventory page">
		<h1 data-i18n="inventory">Inventory</h1>
		<div class="sheet-h2-section">
			<h2 data-i18n="currency">Currency</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_currency-show" value="1" style="width: 7em;margin: -0.5em -1em 0 -6em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<div class="sheet-table-row" style="vertical-align:top;">
					<div class="sheet-table-data sheet-center">
						<span class="sheet-table-name" style="padding-right:0;" title="The amount of currency carried on the character that will contribute to the load that the character has" data-i18n="carried-currency">Carried Currency</span>
						<span class="sheet-table-row-name" title="Copper pieces" style="width:10%;min-width:2em;" data-i18n="copper-pieces-abbrv">&nbsp;CP</span>
						<span class="sheet-table-data sheet-center"><input title="@{CP}" type="number" name="attr_CP" value="0"></span>
						<span class="sheet-table-row-name" title="Silver pieces" style="width:10%;min-width:2em;" data-i18n="silver-pieces-abbrv">&nbsp;SP</span>
						<span class="sheet-table-data sheet-center"><input title="@{SP}" type="number" name="attr_SP" value="0"></span>
						<span class="sheet-table-row-name" title="Gold pieces" style="width:10%;min-width:2em;" data-i18n="gold-pieces-abbrv">&nbsp;GP</span>
						<span class="sheet-table-data sheet-center"><input title="@{GP}" type="number" name="attr_GP" value="0"></span>
						<span class="sheet-table-row-name" title="Platinum pieces" style="width:10%;min-width:2em;" data-i18n="platinum-pieces-abbrv">&nbsp;PP</span>
						<span class="sheet-table-data sheet-center"><input title="@{PP}" type="number" name="attr_PP" value="0"></span>
						<span class="sheet-table-row-name" style="width:1%;min-width:0.5em;">&nbsp;</span>
					</div>
					<div class="sheet-table-data">
						&nbsp;
					</div>
					<div class="sheet-table-data sheet-center">
						<span class="sheet-table-name" title="The amount of currency not actively carried by the character" data-i18n="other-currency">Other Currency</span>
						<span class="sheet-table-row-name" title="Copper pieces" style="width:10%;min-width:2em;" data-i18n="copper-pieces-abbrv">&nbsp;CP</span>
						<span class="sheet-table-data sheet-center"><input title="@{other-CP}" type="number" name="attr_other-CP" value="0"></span>
						<span class="sheet-table-row-name" title="Silver pieces" style="width:10%;min-width:2em;" data-i18n="silver-pieces-abbrv">&nbsp;SP</span>
						<span class="sheet-table-data sheet-center"><input title="@{other-SP}" type="number" name="attr_other-SP" value="0"></span>
						<span class="sheet-table-row-name" title="Gold pieces" style="width:10%;min-width:2em;" data-i18n="gold-pieces-abbrv">&nbsp;GP</span>
						<span class="sheet-table-data sheet-center"><input title="@{other-GP}" type="number" name="attr_other-GP" value="0"></span>
						<span class="sheet-table-row-name" title="Platinum pieces" style="width:10%;min-width:2em;" data-i18n="platinum-pieces-abbrv">&nbsp;PP</span>
						<span class="sheet-table-data sheet-center"><input title="@{other-PP}" type="number" name="attr_other-PP" value="0"></span>
						<span class="sheet-table-row-name" style="width:1%;min-width:0.5em;">&nbsp;</span>
					</div>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="worn-equipment">Worn Equipment</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_worn-equipment-show" value="1" style="width: 11.25em;margin: -0.5em -1em 0 -10.25em;" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" title="The equipment currently worn by the character" data-i18n="worn-equipment" data-i18n-title="worn-equipment-title">Worn Equipment</span>
				<div class="sheet-table-row">
					<span class="sheet-table-header" style="width:7%; text-align:right;" title="The location on the body where the equipment is worn" data-i18n-title="worn-equipment-slot-title" data-i18n="slot">Slot</span>
					<span class="sheet-table-header" style="width:4%;"></span>
					<span class="sheet-table-header" style="width:35%;" title="Brief description of the item" data-i18n-title="worn-equipment-name-title" data-i18n="name">Name</span>
					<span class="sheet-table-header" style="width:20%;" title="Lengthy description of the item" data-i18n-title="worn-equipment-short-desc-title" data-i18n="short-description-abbrv">Short Desc</span>
					<span class="sheet-table-header" style="width:5%;" title="If the item has charges, this is how many remain" data-i18n-title="worn-equipment-quantity-title" data-i18n="charges">Qty Chg</span>
					<span class="sheet-table-header" style="width:5%;" title="The weight of the item" data-i18n-title="worn-equipment-weight-title" data-i18n="weight-abbrv">Wt</span>
					<span class="sheet-table-header" style="width:5%;" title="The hardness of the item that helps prevent it from taking hit point damage" data-i18n-title="worn-equipment-hardness-title" data-i18n="hardness-abbrv">Hard</span>
					<span class="sheet-table-header" style="width:5%;" title="The current hit points of the item" data-i18n-title="worn-equipment-hp-title" data-i18n="item-hit-points-abbrv">HP</span>
					<span class="sheet-table-header sheet-divider-lg">/</span>
					<span class="sheet-table-header" style="width:5%; min-width:4em;" title="The maximum possible hit points of the item" data-i18n-title="worn-equipment-hp-max-title" data-i18n="maximum-abbrv">Max</span>
					<span class="sheet-table-header" style="width:5%;" title="The value of the item measured in gold pieces" data-i18n-title="worn-equipment-value-title" data-i18n="value">Value</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="belt:">Belt:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Belt-roll" title="%{selected|worn-Belt-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Belt}}} {{description=@{worn-Belt-description}}} {{Charges/Quantity=[[@{worn-Belt-charges}]]}} {{Weight(lbs)=[[@{worn-Belt-weight}]]}} {{Hardness=[[@{worn-Belt-hardness}]]}} {{Hit Points=[[@{worn-Belt-hp}]]}} {{Max Hit Points=[[@{worn-Belt-hp|max}]]}} {{Value(gp)=[[@{worn-Belt-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt}" type="text" name="attr_worn-Belt" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt-description}" type="text" name="attr_worn-Belt-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt-charges}" type="number" name="attr_worn-Belt-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt-weight}" type="number" name="attr_worn-Belt-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt-hardness}" type="number" name="attr_worn-Belt-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt-hp}" type="number" name="attr_worn-Belt-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt-hp|max}" type="number" name="attr_worn-Belt-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Belt-value}" type="number" name="attr_worn-Belt-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="body:">Body:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Body-roll" title="%{selected|worn-Body-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Body}}} {{description=@{worn-Body-description}}} {{Charges/Quantity=[[@{worn-Body-charges}]]}} {{Weight(lbs)=[[@{worn-Body-weight}]]}} {{Hardness=[[@{worn-Body-hardness}]]}} {{Hit Points=[[@{worn-Body-hp}]]}} {{Max Hit Points=[[@{worn-Body-hp|max}]]}} {{Value(gp)=[[@{worn-Body-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body}" type="text" name="attr_worn-Body" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body-description}" type="text" name="attr_worn-Body-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body-charges}" type="number" name="attr_worn-Body-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body-weight}" type="number" name="attr_worn-Body-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body-hardness}" type="number" name="attr_worn-Body-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body-hp}" type="number" name="attr_worn-Body-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body-hp|max}" type="number" name="attr_worn-Body-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Body-value}" type="number" name="attr_worn-Body-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="chest:">Chest:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Chest-roll" title="%{selected|worn-Chest-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Chest}}} {{description=@{worn-Chest-description}}} {{Charges/Quantity=[[@{worn-Chest-charges}]]}} {{Weight(lbs)=[[@{worn-Chest-weight}]]}} {{Hardness=[[@{worn-Chest-hardness}]]}} {{Hit Points=[[@{worn-Chest-hp}]]}} {{Max Hit Points=[[@{worn-Chest-hp|max}]]}} {{Value(gp)=[[@{worn-Chest-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest}" type="text" name="attr_worn-Chest" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest-description}" type="text" name="attr_worn-Chest-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest-charges}" type="number" name="attr_worn-Chest-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest-weight}" type="number" name="attr_worn-Chest-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest-hardness}" type="number" name="attr_worn-Chest-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest-hp}" type="number" name="attr_worn-Chest-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest-hp|max}" type="number" name="attr_worn-Chest-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Chest-value}" type="number" name="attr_worn-Chest-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="eyes">Eyes:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Eyes-roll" title="%{selected|worn-Eyes-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Eyes}}} {{description=@{worn-Eyes-description}}} {{Charges/Quantity=[[@{worn-Eyes-charges}]]}} {{Weight(lbs)=[[@{worn-Eyes-weight}]]}} {{Hardness=[[@{worn-Eyes-hardness}]]}} {{Hit Points=[[@{worn-Eyes-hp}]]}} {{Max Hit Points=[[@{worn-Eyes-hp|max}]]}} {{Value(gp)=[[@{worn-Eyes-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes}" type="text" name="attr_worn-Eyes" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes-description}" type="text" name="attr_worn-Eyes-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes-charges}" type="number" name="attr_worn-Eyes-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes-weight}" type="number" name="attr_worn-Eyes-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes-hardness}" type="number" name="attr_worn-Eyes-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes-hp}" type="number" name="attr_worn-Eyes-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes-hp|max}" type="number" name="attr_worn-Eyes-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Eyes-value}" type="number" name="attr_worn-Eyes-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="feet:">Feet:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Feet-roll" title="%{selected|worn-Feet-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Feet}}} {{description=@{worn-Feet-description}}} {{Charges/Quantity=[[@{worn-Feet-charges}]]}} {{Weight(lbs)=[[@{worn-Feet-weight}]]}} {{Hardness=[[@{worn-Feet-hardness}]]}} {{Hit Points=[[@{worn-Feet-hp}]]}} {{Max Hit Points=[[@{worn-Feet-hp|max}]]}} {{Value(gp)=[[@{worn-Feet-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet}" type="text" name="attr_worn-Feet" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet-description}" type="text" name="attr_worn-Feet-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet-charges}" type="number" name="attr_worn-Feet-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet-weight}" type="number" name="attr_worn-Feet-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet-hardness}" type="number" name="attr_worn-Feet-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet-hp}" type="number" name="attr_worn-Feet-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet-hp|max}" type="number" name="attr_worn-Feet-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Feet-value}" type="number" name="attr_worn-Feet-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="hands:">Hands:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Hands-roll" title="%{selected|worn-Hands-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Hands}}} {{description=@{worn-Hands-description}}} {{Charges/Quantity=[[@{worn-Hands-charges}]]}} {{Weight(lbs)=[[@{worn-Hands-weight}]]}} {{Hardness=[[@{worn-Hands-hardness}]]}} {{Hit Points=[[@{worn-Hands-hp}]]}} {{Max Hit Points=[[@{worn-Hands-hp|max}]]}} {{Value(gp)=[[@{worn-Hands-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands}" type="text" name="attr_worn-Hands" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands-description}" type="text" name="attr_worn-Hands-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands-charges}" type="number" name="attr_worn-Hands-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands-weight}" type="number" name="attr_worn-Hands-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands-hardness}" type="number" name="attr_worn-Hands-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands-hp}" type="number" name="attr_worn-Hands-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands-hp|max}" type="number" name="attr_worn-Hands-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Hands-value}" type="number" name="attr_worn-Hands-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="head:">Head:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Head-roll" title="%{selected|worn-Head-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Head}}} {{description=@{worn-Head-description}}} {{Charges/Quantity=[[@{worn-Head-charges}]]}} {{Weight(lbs)=[[@{worn-Head-weight}]]}} {{Hardness=[[@{worn-Head-hardness}]]}} {{Hit Points=[[@{worn-Head-hp}]]}} {{Max Hit Points=[[@{worn-Head-hp|max}]]}} {{Value(gp)=[[@{worn-Head-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head}" type="text" name="attr_worn-Head" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head-description}" type="text" name="attr_worn-Head-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head-charges}" type="number" name="attr_worn-Head-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head-weight}" type="number" name="attr_worn-Head-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head-hardness}" type="number" name="attr_worn-Head-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head-hp}" type="number" name="attr_worn-Head-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head-hp|max}" type="number" name="attr_worn-Head-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Head-value}" type="number" name="attr_worn-Head-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="headband:">Headband:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Headband-roll" title="%{selected|worn-Headband-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Headband}}} {{description=@{worn-Headband-description}}} {{Charges/Quantity=[[@{worn-Headband-charges}]]}} {{Weight(lbs)=[[@{worn-Headband-weight}]]}} {{Hardness=[[@{worn-Headband-hardness}]]}} {{Hit Points=[[@{worn-Headband-hp}]]}} {{Max Hit Points=[[@{worn-Headband-hp|max}]]}} {{Value(gp)=[[@{worn-Headband-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband}" type="text" name="attr_worn-Headband" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband-description}" type="text" name="attr_worn-Headband-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband-charges}" type="number" name="attr_worn-Headband-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband-weight}" type="number" name="attr_worn-Headband-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband-hardness}" type="number" name="attr_worn-Headband-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband-hp}" type="number" name="attr_worn-Headband-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband-hp|max}" type="number" name="attr_worn-Headband-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Headband-value}" type="number" name="attr_worn-Headband-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="neck:">Neck:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Neck-roll" title="%{selected|worn-Neck-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Neck}}} {{description=@{worn-Neck-description}}} {{Charges/Quantity=[[@{worn-Neck-charges}]]}} {{Weight(lbs)=[[@{worn-Neck-weight}]]}} {{Hardness=[[@{worn-Neck-hardness}]]}} {{Hit Points=[[@{worn-Neck-hp}]]}} {{Max Hit Points=[[@{worn-Neck-hp|max}]]}} {{Value(gp)=[[@{worn-Neck-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck}" type="text" name="attr_worn-Neck" placeholder="Item Name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck-description}" type="text" name="attr_worn-Neck-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck-charges}" type="number" name="attr_worn-Neck-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck-weight}" type="number" name="attr_worn-Neck-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck-hardness}" type="number" name="attr_worn-Neck-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck-hp}" type="number" name="attr_worn-Neck-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck-hp|max}" type="number" name="attr_worn-Neck-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Neck-value}" type="number" name="attr_worn-Neck-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="ring-one">Ring 1:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Ring1-roll" title="%{selected|worn-Ring1-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Ring1}}} {{description=@{worn-Ring1-description}}} {{Charges/Quantity=[[@{worn-Ring1-charges}]]}} {{Weight(lbs)=[[@{worn-Ring1-weight}]]}} {{Hardness=[[@{worn-Ring1-hardness}]]}} {{Hit Points=[[@{worn-Ring1-hp}]]}} {{Max Hit Points=[[@{worn-Ring1-hp|max}]]}} {{Value(gp)=[[@{worn-Ring1-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1}" type="text" name="attr_worn-Ring1" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1-description}" type="text" name="attr_worn-Ring1-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1-charges}" type="number" name="attr_worn-Ring1-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1-weight}" type="number" name="attr_worn-Ring1-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1-hardness}" type="number" name="attr_worn-Ring1-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1-hp}" type="number" name="attr_worn-Ring1-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1-hp|max}" type="number" name="attr_worn-Ring1-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring1-value}" type="number" name="attr_worn-Ring1-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="ring-two">Ring 2:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Ring2-roll" title="%{selected|worn-Ring2-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Ring2}}} {{description=@{worn-Ring2-description}}} {{Charges/Quantity=[[@{worn-Ring2-charges}]]}} {{Weight(lbs)=[[@{worn-Ring2-weight}]]}} {{Hardness=[[@{worn-Ring2-hardness}]]}} {{Hit Points=[[@{worn-Ring2-hp}]]}} {{Max Hit Points=[[@{worn-Ring2-hp|max}]]}} {{Value(gp)=[[@{worn-Ring2-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2}" type="text" name="attr_worn-Ring2" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2-description}" type="text" name="attr_worn-Ring2-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2-charges}" type="number" name="attr_worn-Ring2-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2-weight}" type="number" name="attr_worn-Ring2-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2-hardness}" type="number" name="attr_worn-Ring2-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2-hp}" type="number" name="attr_worn-Ring2-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2-hp|max}" type="number" name="attr_worn-Ring2-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Ring2-value}" type="number" name="attr_worn-Ring2-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="shoulders:">Shoulders:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Shoulders-roll" title="%{selected|worn-Shoulders-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Shoulders}}} {{description=@{worn-Shoulders-description}}} {{Charges/Quantity=[[@{worn-Shoulders-charges}]]}} {{Weight(lbs)=[[@{worn-Shoulders-weight}]]}} {{Hardness=[[@{worn-Shoulders-hardness}]]}} {{Hit Points=[[@{worn-Shoulders-hp}]]}} {{Max Hit Points=[[@{worn-Shoulders-hp|max}]]}} {{Value(gp)=[[@{worn-Shoulders-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders}" type="text" name="attr_worn-Shoulders" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders-description}" type="text" name="attr_worn-Shoulders-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders-charges}" type="number" name="attr_worn-Shoulders-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders-weight}" type="number" name="attr_worn-Shoulders-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders-hardness}" type="number" name="attr_worn-Shoulders-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders-hp}" type="number" name="attr_worn-Shoulders-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders-hp|max}" type="number" name="attr_worn-Shoulders-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Shoulders-value}" type="number" name="attr_worn-Shoulders-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-data sheet-right" data-i18n="wrist:">Wrist:</span>
					<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_worn-Wrist-roll" title="%{selected|worn-Wrist-roll}" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{worn-Wrist}}} {{description=@{worn-Wrist-description}}} {{Charges/Quantity=[[@{worn-Wrist-charges}]]}} {{Weight(lbs)=[[@{worn-Wrist-weight}]]}} {{Hardness=[[@{worn-Wrist-hardness}]]}} {{Hit Points=[[@{worn-Wrist-hp}]]}} {{Max Hit Points=[[@{worn-Wrist-hp|max}]]}} {{Value(gp)=[[@{worn-Wrist-value}]]}}"></button></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist}" type="text" name="attr_worn-Wrist" placeholder="Item Name" data-i18n-placeholder="item-name"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist-description}" type="text" name="attr_worn-Wrist-description" placeholder="Short Description" data-i18n-placeholder="short-description"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist-charges}" type="number" name="attr_worn-Wrist-charges" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist-weight}" type="number" name="attr_worn-Wrist-weight" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist-hardness}" type="number" name="attr_worn-Wrist-hardness" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist-hp}" type="number" name="attr_worn-Wrist-hp" value="0"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist-hp|max}" type="number" name="attr_worn-Wrist-hp_max" value="0"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-Wrist-value}" type="number" name="attr_worn-Wrist-value" value="0"></span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell sheet-left"></span>
					<span class="sheet-table-cell sheet-left"></span>
					<span class="sheet-table-cell sheet-left"></span>
					<span class="sheet-table-data sheet-right"><b data-i18n="total">Total</b></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-total-charges}" type="number" name="attr_worn-total-charges" value="0" class="sheet-calc" readonly="readonly"></span>
					<span class="sheet-table-cell sheet-left"><input style="width:100%; min-width:4.5em;" title="@{worn-total-weight}" type="number" name="attr_worn-total-weight" value="0" class="sheet-calc" readonly="readonly"></span>
					<span class="sheet-table-cell sheet-left"><b data-i18n="pounds-abbrv">lbs.</b></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-total-hp}" type="number" name="attr_worn-total-hp" value="0" class="sheet-calc" readonly="readonly"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-total-hp|max}" type="number" name="attr_worn-total-hp_max" value="0" class="sheet-calc" readonly="readonly"></span>
					<span class="sheet-table-cell sheet-left"><input title="@{worn-total-value}" type="number" name="attr_worn-total-value" value="0" class="sheet-calc" readonly="readonly"></span>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-repeating-sect">
			<h2 data-i18n="equipment">Equipment</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_inventory-show" value="1" style="width: 8em;margin: -0.5em -1em 0 -7em;" checked="checked" /><span></span>
			<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_inventory-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
			<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_item-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" title="The items that the character has; either carried or elsewhere" data-i18n="equipment">Equipment</span>
			</div>
			<div class="sheet-table sheet-sect">
				<div class="sheet-repeating-fields">
					<fieldset class="repeating_item">
						<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
						<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize Row" name="attr_item-show" value="1" checked="checked" />
						<span class="sheet-table-cell"></span>
						<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_item_$X_item-roll}" value="@{macro-text}"></button></span>
						<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_item_$X_name}" type="text" name="attr_name" placeholder="Item Name" data-i18n-placeholder="item-name"><br><span data-i18n="name">Name</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect"><input title="@{repeating_item_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"><br><span data-i18n="short-description">Short Desc</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:8%;">
							<select title="@{repeating_item_$X_location}" name="attr_location" class="sheet-select-small sheet-entry-wide">
								<option value="0" data-i18n="carried-default" selected>&#8226;Carried</option>
								<option value="1" data-i18n="not-carried">Not Carried</option>
							</select>
							<br><span data-i18n="location">Location</span>
						</span>
						<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_item_$X_qty}" type="number" name="attr_qty" value="0" /><br /><span data-i18n="quantity-abbrv" title="Current quantity or charges. Also used to determine total item weight.">Qty</span></span>
						<span class="sheet-divider-lg" style="width:.1%;">/</span>
						<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_item_$X_qty|max" type="number" name="attr_qty_max" value="0" /><br><span data-i18n="maximum-abbrv">Max</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:.1%;"><input title="@{repeating_item_$X_weight}" type="number" name="attr_weight" value="0" step="any" /><br><span data-i18n="weight-abbrv">Wt</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_item_$X_hardness}" type="number" name="attr_hardness" value="0" step="any" min="0" /><br><span data-i18n="hardness-abbrv">Hard</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_item_$X_hp}" type="number" name="attr_hp" value="0" step="any" /><br><span data-i18n="item-hit-points-abbrv">HP</span></span>
						<span class="sheet-divider-lg" style="width:.1%;">/</span>
						<span class="sheet-table-cell sheet-small-label" style="width:.1%; min-width:4em;"><input title="@{repeating_item_$X_hp|max}" type="number" name="attr_hp_max" value="0" step="any" min="0" /><br><span data-i18n="maximum-abbrv">Max</span></span>
						<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:.1%;"><input title="@{repeating_item_$X_value}" type="number" name="attr_value" value="0" step="any" min="0" /><br><span data-i18n="value">Value</span></span>
						<div class="sheet-sect sheet-expand">
							<h4 data-i18n="description">Description</h4>
							<input type="checkbox" class="sheet-desc-show" title="@{repeating_item_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
							<h4 data-i18n="macro-text">Macro Text</h4>
							<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_item_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
							<h4 data-i18n="identification-abbrv">IDs</h4>
							<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_item_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
							
							<textarea class="sheet-desc" title="@{repeating_item_$X_description}" name="attr_description"></textarea>		
							<textarea class="sheet-macro-text" title="@{repeating_item_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>

							<div class="sheet-repeating_ids sheet-table-row">
								<span class="sheet-selectable" name="attr_row_id" />
							</div>
						</div>
					</fieldset>
				</div>
				</div>
			<div class="sheet-table sheet-sect">
					<span class="sheet-table-cell sheet-left" style="width:4%;"></span>
					<span class="sheet-table-cell sheet-left" style="width:4%;"></span>
					<span class="sheet-table-cell sheet-left" style="width:18%;"></span>
					<span class="sheet-table-cell sheet-left" style="width:40%;"></span>
					<span class="sheet-table-cell sheet-left" style="width:5%; min-width:3.5em;"></span>
					<span class="sheet-table-cell sheet-left">&nbsp;</span>
					<span class="sheet-table-data sheet-right" style="width:5%; min-width:3.5em;"><b data-i18n="totals">Totals:</b></span>
					<span class="sheet-table-cell sheet-left" style="width:5%; min-width:4.5em;"><input title="@{item_total_weight}" type="number" name="attr_item_total_weight" value="0" class="sheet-calc" readonly="readonly"></span>
					<span class="sheet-table-cell sheet-left" style="width:5%; min-width:3.5em;"><b data-i18n="pounds-abbrv">lbs.</b></span>
					<span class="sheet-table-cell sheet-left" style="width:5%; min-width:3.5em;"><input title="@{item-total-hp}" type="number" name="attr_item-total-hp" value="0" class="sheet-calc" readonly="readonly"></span>
					<span class="sheet-divider-lg">/</span>
					<span class="sheet-table-cell sheet-left" style="width:5%; min-width:4em;"><input title="@{item-total-hp|max}" type="number" name="attr_item-total-hp_max" value="0" class="sheet-calc" readonly="readonly"></span>
					<span class="sheet-table-cell sheet-left" style="width:5%; min-width:3.5em;"><input title="@{item-total-value}" type="number" name="attr_item-total-value" value="0" class="sheet-calc" readonly="readonly"></span>
				</div>
			</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="carried-weight">Carried Weight</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_carried-weight-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="carried-weight">Carried Weight</span>
				<div class="sheet-table-row">
					<span class="sheet-table-header" data-i18n="carried-currency">Carried Currency</span>
					<span class="sheet-table-header"></span>
					<span class="sheet-table-header" data-i18n="worn-equipment">Worn Equipment</span>
					<span class="sheet-table-header"></span>
					<span class="sheet-table-header" data-i18n="carried-equipment">Carried Equipment</span>
					<span class="sheet-table-header"></span>
					<span class="sheet-table-header" title="Miscellaneous weight. Player configurable" data-i18n="miscellaneous-abbrv">Misc</span>
					<span class="sheet-table-header"></span>
					<span class="sheet-table-header" title="Total weight carried by character" data-i18n="total">Total</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><input title="@{carried-currency}" type="number" name="attr_carried-currency" value="0" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{carried-worn-equipment}" type="text" name="attr_carried-worn-equipment" value="@{worn-total-weight}" disabled /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{carried-equipment}" type="text" name="attr_carried-equipment" value="@{item_total_weight}" disabled /></span>
					<span class="sheet-divider">+</span>
					<span class="sheet-table-cell"><input title="@{carried-misc}" type="number" name="attr_carried-misc" value="0" /></span>
					<span class="sheet-divider">=</span>
					<span class="sheet-table-cell"><input title="@{carried-total}" type="number" name="attr_carried-total" value="0" class="sheet-calc" readonly="readonly" /></span>
				</div>
			</div>
			<br>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="loads-and-lift">Loads and Lift</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_loads-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -10em;" /><span></span>
			<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="loads-and-lift">Loads and Lift</span>
				<div class="sheet-table-row">
					<span class="sheet-table-header" title="Bonus to Strength score for carrying capacity only" data-i18n-title="encumbrance-str-bonus-title" data-i18n="strength-bonus-abbrv">STR Bonus</span>
					<span class="sheet-table-header" title="The amount that load values will be multiplied" data-i18n-title="encumbrance-multiplier-title" data-i18n="multiplier">Multiplier</span>
					<span class="sheet-table-header" title="Miscellaneous bonus to load values" data-i18n-title="encumbrance-misc-title" data-i18n="miscellaneous-abbrv">Misc</span>
					<span class="sheet-table-header" title="At this weight of carried equipment or less, the character is unencumbered" data-i18n-title="encumbrance-light-title" data-i18n="light">Light</span>
					<span class="sheet-table-header" title="Over the light load and up to this weight, the character is moderately encumbered" data-i18n-title="encumbrance-medium-title" data-i18n="medium">Medium</span>
					<span class="sheet-table-header" title="Over the medium load and up to this weight, the character is heavily encumbered" data-i18n-title="encumbrance-heavy-title" data-i18n="heavy">Heavy</span>
					<span class="sheet-table-header" style="background-color:black;"></span>
					<span class="sheet-table-header" title="A character can lift as much as his maximum load over his head" data-i18n-title="encumbrance-above-title" data-i18n="above-head">Above Head</span>
					<span class="sheet-table-header" title="A character can lift as much as double his maximum load off the ground, but he or she can only stagger around with it" data-i18n-title="encumbrance-off-ground-title" data-i18n="off-ground">Off Ground</span>
					<span class="sheet-table-header" title="A character can generally push or drag along the ground as much as five times his maximum load" data-i18n-title="encumbrance-drag-push-title" data-i18n="drag-push">Drag &amp; Push</span>
				</div>
				<div class="sheet-table-row">
					<span class="sheet-table-cell"><input title="@{load-str-bonus}" type="number" name="attr_load-str-bonus" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{load-multiplier}" type="number" name="attr_load-multiplier" value="1" min="1" /></span>
					<span class="sheet-table-cell"><input title="@{load-misc}" type="number" name="attr_load-misc" value="0" /></span>
					<span class="sheet-table-cell"><input title="@{load-light}" type="number" name="attr_load-light" value="33" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{load-medium}" type="number" name="attr_load-medium" value="66" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{load-heavy}" type="number" name="attr_load-heavy" value="100" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell" style="background-color:black;">&nbsp;</span>
					<span class="sheet-table-cell"><input title="@{lift-above-head}" type="number" name="attr_lift-above-head" value="100" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{lift-off-ground}" type="number" name="attr_lift-off-ground" value="200" class="sheet-calc" readonly="readonly" /></span>
					<span class="sheet-table-cell"><input title="@{lift-drag-and-push}" type="number" name="attr_lift-drag-and-push" value="500" class="sheet-calc" readonly="readonly" /></span>
				</div>
			</div>
			<div class="sheet-table sheet-sect">
				<div class="sheet-table-row">
					<div class="sheet-table-row">
						<span class="sheet-table-row-name" style="width:10%;" data-i18n="current-load">Current Load</span>
						<span class="sheet-table-cell" style="width:10%;"><label class="sheet-center"><input title="@{current-load}" type="radio" value="0" name="attr_current-load" checked>&nbsp;<span data-i18n="light">Light</span></label></span>
						<span class="sheet-table-cell" style="width:10%;"><label class="sheet-center"><input title="@{current-load}" type="radio" value="1" name="attr_current-load">&nbsp;<span data-i18n="medium">Medium</span></label></span>
						<span class="sheet-table-cell" style="width:10%;"><label class="sheet-center"><input title="@{current-load}" type="radio" value="2" name="attr_current-load">&nbsp;<span data-i18n="heavy">Heavy</span></label></span>
					</div>
				</div>
			</div>
		</div>
		<br>
	</div>

	<div class="sheet-section sheet-section-spells" role="region" aria-label="Spells page">
		<h1 data-i18n="spells">Spells</h1>
		<input type="checkbox" name="attr_spellclasses_multiclassed" title="True if more than one spellcasting class" value="1" style="display:none;" />
	<!-- Spell Classes 0,1,2 -->	
		<div class="sheet-h2-section">
			<h2 data-i18n="spellcasting-classes">Spellcasting Classes</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spellclasses-show" value="1" style="width: 14em;margin: -0.5em -1em 0 -13em;" checked="checked" /><span></span>
			<div class="sheet-sect">
				<input type="checkbox" name="attr_spellclass_tab" value="0" title="Spell Class 0" class="sheet-tab0 sheet-spellclass-tab0" style="display:none;" checked="checked" />
				<input type="checkbox" name="attr_spellclass_tab" value="1" title="Spell Class 1" class="sheet-tab1 sheet-spellclass-tab1" style="display:none;" />
				<input type="checkbox" name="attr_spellclass_tab" value="2" title="Spell Class 2" class="sheet-tab2 sheet-spellclass-tab2" style="display:none;" />

			
					<div class="sheet-spellclassnav sheet-tabs" role="menubar" aria-label="spellcasting classes">
						<label class="sheet-tab sheet-tab0"><input type="radio" name="attr_spellclass_tab" class="sheet-tab" value="0" title="Spell Class 0" checked="checked"/><span data-i18n="spell-class-zero">Spell Class 0</span></label>
						<label class="sheet-tab sheet-tab1"><input type="radio" name="attr_spellclass_tab" class="sheet-tab" value="1" title="Spell Class 1"/><span data-i18n="spell-class-one">Spell Class 1</span></label>
						<label class="sheet-tab sheet-tab2"><input type="radio" name="attr_spellclass_tab" class="sheet-tab" value="2" title="Spell Class 2"/><span data-i18n="spell-class-two">Spell Class 2</span></label>
					</div>
					
	<!-- Spell Class 0 -->			
				<div class="sheet-section sheet-section-spellclass-0">
					<div class="sheet-table">
						<span class="sheet-table-name" data-i18n="caster-level">Caster Level Attributes</span>
						<div class="sheet-table-row">
							<span class="sheet-table-header" data-i18n="check">Check</span>
							<span class="sheet-table-header" data-i18n="total">Total</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" style="width:10%;" data-i18n="class">Class</span>
							<span class="sheet-table-header" style="width:15%;" data-i18n="name">Name</span>
							<span class="sheet-table-header"  data-i18n="class-level-abbrv">CL</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="buff">Buff</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="condition">Condition</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="spell-penetration-abbrv">Spell Pen</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" style="width:20%;" data-i18n="notes">Notes</span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-spellcaster-button"><button class="sheet-spellcaster-button" title="%{selected|Spell-Class-0-CL-Check}" type="roll" name="roll_Spell-Class-0-CL-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CL Check}} {{Class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{Check=[[ 1d20 + [[ @{spellclass-0-level-total} ]] ]]}} {{Spell Pen Bonus=@{spellclass-0-SP_misc}}} {{lefttext_6=@{CasterLevel-0-note}}}">&nbsp;<span data-i18n="caster-level">Caster-Level</span>&nbsp;</button></span>
							<span class="sheet-table-cell sheet-left sheet-number"><input title="@{spellclass-0-level-total}" type="number" name="attr_spellclass-0-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell">
								<select title="@{spellclass-0} Choose or enter manually" name="attr_spellclass-0" class="sheet-select-small spellclass-0" style="width:8em;margin-right:.5em">
									<option value="-1" data-i18n="select-class-or-manual-default" selected>&#8226;Select Class or enter manually</option>
									<option value="0">0</option>
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
								</select>
							</span>
							<span class="sheet-table-data sheet-entry_med"><input class="sheet-entry_med" title="@{spellclass-0-name}" type="text" name="attr_spellclass-0-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
							<span class="sheet-table-cell"><input title="@{spellclass-0-level}" type="number" name="attr_spellclass-0-level" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{spellclass-0-level-misc}" type="number" name="attr_spellclass-0-level-misc" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="sheet-calc" readonly="readonly" /></span>		
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{CasterLevel-Penalty}" name="attr_CasterLevel-Penalty" type="number" value="0" class="sheet-calc" readonly="readonly" /></span>		
							<span class="sheet-divider"></span>
							<span class="sheet-table-cell">
								<input title="@{spellclass-0-SP_misc}" name="attr_spellclass-0-SP_misc" type="number" value="0" />
								<input type="hidden" name="attr_spellclass-0-SP-mod" value="0">
							</span>		
							<span class="sheet-divider"></span>
							<span class="sheet-table-cell"><input title="@{CasterLevel-0-note}" type="text" name="attr_CasterLevel-0-note" value="" placeholder="notes" data-i18n-placeholder="notes"/></span>
						</div>
					</div>
					<div class="sheet-table" style="margin-top:2px;">
						<span class="sheet-table-name" data-i18n="concentration">Concentration Attributes</span>
						<div class="sheet-table-row">
							<span class="sheet-table-header" data-i18n="check">Check</span>
							<span class="sheet-table-header" data-i18n="total">Total</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="ability">Ability</span>
							<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header" style="width:20%;" data-i18n="notes">Notes</span>
							<span class="sheet-table-header sheet-divider">|</span>
							<span class="sheet-table-header" title="Concentration Bonus when casting defensively" data-i18n-title="cast-defensive-bonus" style="word-wrap:normal;" data-i18n="cast-defensive-bonus-abbrv">Cast Def. Bonus</span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-spellcaster-button"><button class="sheet-spellcaster-button" title="%{selected|Concentration-Check-0}" type="roll" name="roll_Concentration-Check-0" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Concentration Check}} {{Class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{Check=[[ 1d20 + [[ @{Concentration-0} ]] ]]}} {{Def Cast Bonus=@{Concentration-0-def}}} {{lefttext_6=@{Concentration-0-miscnote}}}">&nbsp;<span data-i18n="concentration-check">Concentration</span>&nbsp;</button></span>
							<span class="sheet-table-cell sheet-left sheet-number"><input title="@{Concentration-0}" type="number" name="attr_Concentration-0" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell">
								<select title="@{Concentration-0-ability}" name="attr_Concentration-0-ability">
									<option value="0" data-i18n="none-default" selected>&#8226;None</option>
									<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
									<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
									<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
									<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
									<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
									<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
								</select>
							</span>
							<span class="sheet-table-cell"><input title="@{Concentration-0-mod}" type="number" name="attr_Concentration-0-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Concentration-0-misc}" type="number" name="attr_Concentration-0-misc" value="0" /></span>
							<span class="sheet-table-cell"><input title="@{Concentration-0-miscnote}" type="text" name="attr_Concentration-0-miscnote" value="" placeholder="notes" data-i18n-placeholder="notes"/></span>
							<span class="sheet-divider-lg">|</span>
							<span class="sheet-table-cell"><input title="@{Concentration-0-def}" type="number" name="attr_Concentration-0-def" value="0" /></span>
						</div>
					</div>
					<div class="sheet-table" style="margin-top:4px;">
						<h3 data-i18n="domains">Domains / SubDomains / Bloodlines / Patrons / Schools</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_domains-show" value="1" style="width: 34.5em;margin: -0.5em -1em 0 -33em;" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="known-or-special">Known / Specialties</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="type">Type</span>
								<span class="sheet-table-header" data-i18n="name">Name</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-domaintype-0}" type="text" name="attr_spellclass-0-domaintype-0" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-domain-0}" type="text" name="attr_spellclass-0-domain-0" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-domaintype-1}" type="text" name="attr_spellclass-0-domaintype-1" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-domain-1}" type="text" name="attr_spellclass-0-domain-1" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-domaintype-2}" type="text" name="attr_spellclass-0-domaintype-2" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-domain-2}" type="text" name="attr_spellclass-0-domain-2" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
						</div>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="opposition">Opposition</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="name">Name</span><span class="sheet-table-header" data-i18n="effect">Effect</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-oppositionschool-0}" type="text" name="attr_spellclass-0-oppositionschool-0" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-oppositioneffect-0}" type="text" name="attr_spellclass-0-oppositioneffect-0" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-oppositionschool-1}" type="text" name="attr_spellclass-0-oppositionschool-1" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-oppositioneffect-1}" type="text" name="attr_spellclass-0-oppositioneffect-1" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-oppositionschool-2}" type="text" name="attr_spellclass-0-oppositionschool-2" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-oppositioneffect-2}" type="text" name="attr_spellclass-0-oppositioneffect-2" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
						</div>					
					</div>
					<div>
						<h3 data-i18n="spells-per-day">Spells Per Day</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spellsPerDay-show" value="1" style="width: 10em;margin: -0.5em -1em 0 -9em;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="spells-per-day">Spells Per Day</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="save-difficulty-class">Save DC</span>
								<span class="sheet-table-header" data-i18n="level">Level</span>
								<span class="sheet-table-header" data-i18n="uses">Uses</span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header" data-i18n="spells-per-day">Spells / Day</span>
								<span class="sheet-table-header" data-i18n="spells-per-day">Spells / Day</span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								<span class="sheet-table-header sheet-divider-lg"></span>
								<span class="sheet-table-header" data-i18n="spells-known">Spells Known</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-0-savedc}" type="number" name="attr_spellclass-0-level-0-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">0th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-0-spells-per-day}" type="number" name="attr_spellclass-0-level-0-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-0-spells-per-day|max" type="number" name="attr_spellclass-0-level-0-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-0-class}" type="number" name="attr_spellclass-0-level-0-class" value="0" /></span>
								<span class="sheet-table-cell">
									<select title="@{Concentration-0-ability}" name="attr_Concentration-0-ability" style="width:50%;">
										<option value="0" data-i18n="none-default" selected>&#8226;None</option>
										<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
										<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
										<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
										<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
										<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
										<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
									</select>
								</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-0-misc}" type="number" name="attr_spellclass-0-level-0-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-0-spells-known}" type="number" name="attr_spellclass-0-level-0-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-1-savedc}" type="number" name="attr_spellclass-0-level-1-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">1st</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-1-spells-per-day}" type="number" name="attr_spellclass-0-level-1-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-1-spells-per-day|max" type="number" name="attr_spellclass-0-level-1-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-1-class}" type="number" name="attr_spellclass-0-level-1-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-1-bonus}" type="number" name="attr_spellclass-0-level-1-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-1-misc}" type="number" name="attr_spellclass-0-level-1-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-1-spells-known}" type="number" name="attr_spellclass-0-level-1-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-2-savedc}" type="number" name="attr_spellclass-0-level-2-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">2nd</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-2-spells-per-day}" type="number" name="attr_spellclass-0-level-2-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-2-spells-per-day|max" type="number" name="attr_spellclass-0-level-2-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-2-class}" type="number" name="attr_spellclass-0-level-2-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-2-bonus}" type="number" name="attr_spellclass-0-level-2-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-2-misc}" type="number" name="attr_spellclass-0-level-2-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-2-spells-known}" type="number" name="attr_spellclass-0-level-2-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-3-savedc}" type="number" name="attr_spellclass-0-level-3-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">3rd</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-3-spells-per-day}" type="number" name="attr_spellclass-0-level-3-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-3-spells-per-day|max" type="number" name="attr_spellclass-0-level-3-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-3-class}" type="number" name="attr_spellclass-0-level-3-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-3-bonus}" type="number" name="attr_spellclass-0-level-3-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-3-misc}" type="number" name="attr_spellclass-0-level-3-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-3-spells-known}" type="number" name="attr_spellclass-0-level-3-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-4-savedc}" type="number" name="attr_spellclass-0-level-4-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">4th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-4-spells-per-day}" type="number" name="attr_spellclass-0-level-4-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-4-spells-per-day|max" type="number" name="attr_spellclass-0-level-4-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-4-class}" type="number" name="attr_spellclass-0-level-4-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-4-bonus}" type="number" name="attr_spellclass-0-level-4-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-4-misc}" type="number" name="attr_spellclass-0-level-4-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-4-spells-known}" type="number" name="attr_spellclass-0-level-4-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-5-savedc}" type="number" name="attr_spellclass-0-level-5-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">5th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-5-spells-per-day}" type="number" name="attr_spellclass-0-level-5-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-5-spells-per-day|max" type="number" name="attr_spellclass-0-level-5-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-5-class}" type="number" name="attr_spellclass-0-level-5-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-5-bonus}" type="number" name="attr_spellclass-0-level-5-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-5-misc}" type="number" name="attr_spellclass-0-level-5-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-5-spells-known}" type="number" name="attr_spellclass-0-level-5-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-6-savedc}" type="number" name="attr_spellclass-0-level-6-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">6th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-6-spells-per-day}" type="number" name="attr_spellclass-0-level-6-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-6-spells-per-day|max" type="number" name="attr_spellclass-0-level-6-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-6-class}" type="number" name="attr_spellclass-0-level-6-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-6-bonus}" type="number" name="attr_spellclass-0-level-6-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-6-misc}" type="number" name="attr_spellclass-0-level-6-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-6-spells-known}" type="number" name="attr_spellclass-0-level-6-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-7-savedc}" type="number" name="attr_spellclass-0-level-7-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">7th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-7-spells-per-day}" type="number" name="attr_spellclass-0-level-7-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-7-spells-per-day|max" type="number" name="attr_spellclass-0-level-7-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-7-class}" type="number" name="attr_spellclass-0-level-7-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-7-bonus}" type="number" name="attr_spellclass-0-level-7-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-7-misc}" type="number" name="attr_spellclass-0-level-7-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-7-spells-known}" type="number" name="attr_spellclass-0-level-7-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-8-savedc}" type="number" name="attr_spellclass-0-level-8-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">8th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-8-spells-per-day}" type="number" name="attr_spellclass-0-level-8-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-8-spells-per-day|max" type="number" name="attr_spellclass-0-level-8-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-8-class}" type="number" name="attr_spellclass-0-level-8-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-8-bonus}" type="number" name="attr_spellclass-0-level-8-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-8-misc}" type="number" name="attr_spellclass-0-level-8-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-8-spells-known}" type="number" name="attr_spellclass-0-level-8-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-9-savedc}" type="number" name="attr_spellclass-0-level-9-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">9th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-9-spells-per-day}" type="number" name="attr_spellclass-0-level-9-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-9-spells-per-day|max" type="number" name="attr_spellclass-0-level-9-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-9-class}" type="number" name="attr_spellclass-0-level-9-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-9-bonus}" type="number" name="attr_spellclass-0-level-9-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-9-misc}" type="number" name="attr_spellclass-0-level-9-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-9-spells-known}" type="number" name="attr_spellclass-0-level-9-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-divider"></span>
								<span class="sheet-table-header" data-i18n="spell-points-abbrv">SP</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-spell-points-per-day}" type="number" name="attr_spellclass-0-spell-points-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-spell-points-per-day|max" type="number" name="attr_spellclass-0-spell-points-per-day_max" value="(@{spellclass-0-spell-points-class} + [[ @{spellclass-0-spell-points-bonus} ]] + [[ @{spellclass-0-spell-points-misc} ]])" disabled /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-spell-points-class}" type="number" name="attr_spellclass-0-spell-points-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-spell-points-bonus}" type="number" name="attr_spellclass-0-spell-points-bonus" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-spell-points-misc}" type="number" name="attr_spellclass-0-spell-points-misc" value="0" /></span>
								<span class="sheet-divider"></span>
							</div>
						</div>
					</div>
					<div>
						<h3 data-i18n="spells-ranges">Spell Ranges</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spell_ranges-show" value="1" style="opacity: 0;width: 9em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -8em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="spells-ranges">Spell Ranges</span>
							<div class="sheet-table-row">
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="close">Close</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-0-close} 25 + 5/2 levels" type="number" name="attr_spellclass-0-close" value="0" readonly="readonly" /></span>
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="medium">Medium</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-0-medium} 100 + 10/level" type="number" name="attr_spellclass-0-medium" value="0" readonly="readonly" /></span>
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="long">Long</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-0-long} 400 + 40/level" type="number" name="attr_spellclass-0-long" value="0" readonly="readonly" /></span>
							</div>
						</div>
					</div>
				</div>
	<!-- Spell Class 1 -->			
				<div class="sheet-section sheet-section-spellclass-1">			
					<div class="sheet-table">
						<span class="sheet-table-name" data-i18n="caster-level">Caster Level Attributes</span>
						<div class="sheet-table-row">
							<span class="sheet-table-header" data-i18n="check">Check</span>
							<span class="sheet-table-header" data-i18n="total">Total</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" style="width:10%;" data-i18n="class">Class</span>
							<span class="sheet-table-header" style="width:15%;" data-i18n="name">Name</span>
							<span class="sheet-table-header"  data-i18n="class-level-abbrv">CL</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="buff">Buff</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="condition">Condition</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="spell-penetration-abbrv">Spell Pen</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" style="width:20%;" data-i18n="notes">Notes</span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-spellcaster-button"><button class="sheet-spellcaster-button" title="%{selected|Spell-Class-1-CL-Check}" type="roll" name="roll_Spell-Class-1-CL-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CL Check}} {{Class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{Check=[[ 1d20 + [[ @{spellclass-1-level-total} ]] ]]}} {{Spell Pen Bonus=@{spellclass-1-SP_misc}}} {{lefttext_6=@{CasterLevel-1-note}}}">&nbsp;<span data-i18n="caster-level">Caster-Level</span>&nbsp;</button></span>
							<span class="sheet-table-cell sheet-left sheet-number"><input title="@{spellclass-1-level-total}" type="number" name="attr_spellclass-1-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell">
								<select title="@{spellclass-1} Choose or enter manually" name="attr_spellclass-1" class="sheet-select-small spellclass-1" style="width:8em;margin-right:.5em">
									<option value="-1" selected>&#8226;<span data-i18n="select-class-or-manual">Select Class or enter manually</span></option>
									<option value="0">0</option>
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
								</select>
							</span>
							<span class="sheet-table-data sheet-entry_med"><input class="sheet-entry_med" title="@{spellclass-1-name}" type="text" name="attr_spellclass-1-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
							<span class="sheet-table-cell"><input title="@{spellclass-1-level}" type="number" name="attr_spellclass-1-level" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{spellclass-1-level-misc}" type="number" name="attr_spellclass-1-level-misc" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="sheet-calc" readonly="readonly" /></span>		
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{CasterLevel-Penalty}" name="attr_CasterLevel-Penalty" type="number" value="0" class="sheet-calc" readonly="readonly" /></span>		
							<span class="sheet-divider"></span>
							<span class="sheet-table-cell">
								<input title="@{spellclass-1-SP_misc}" name="attr_spellclass-1-SP_misc" type="number" value="0" />
								<input type="hidden" name="attr_spellclass-1-SP-mod" value="0">
							</span>
							<span class="sheet-divider"></span>
							<span class="sheet-table-cell"><input title="@{CasterLevel-1-note}" type="text" name="attr_CasterLevel-1-note" value="" placeholder="notes" data-i18n-placeholder="notes"/></span>
						</div>
					</div>
					<div class="sheet-table" style="margin-top:2px;">
						<span class="sheet-table-name" data-i18n="concentration">Concentration Attributes</span>
						<div class="sheet-table-row">
							<span class="sheet-table-header" data-i18n="check">Check</span>
							<span class="sheet-table-header" data-i18n="total">Total</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="ability">Ability</span>
							<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header" style="width:20%;" data-i18n="notes">Notes</span>
							<span class="sheet-table-header sheet-divider">|</span>
							<span class="sheet-table-header" title="Concentration Bonus when casting defensively" data-i18n-title="cast-defensive-bonus" style="word-wrap:normal;" data-i18n="cast-defensive-bonus-abbrv">Cast Def. Bonus</span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-spellcaster-button"><button class="sheet-spellcaster-button" title="%{selected|Concentration-Check-1}" type="roll" name="roll_Concentration-Check-1" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Concentration Check}} {{Class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{Check=[[ 1d20 + [[ @{Concentration-1} ]] ]]}} {{Def Cast Bonus=@{Concentration-1-def}}}  {{lefttext_6=@{Concentration-1-miscnote}}}">&nbsp;<span data-i18n="concentration-check">Concentration</span>&nbsp;</button></span>
							<span class="sheet-table-cell sheet-left sheet-number"><input title="@{Concentration-1}" type="number" name="attr_Concentration-1" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell">
								<select title="@{Concentration-1-ability}" name="attr_Concentration-1-ability">
									<option value="0" data-i18n="none-default" selected>&#8226;None</option>
									<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
									<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
									<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
									<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
									<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
									<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
								</select>
							</span>
							<span class="sheet-table-cell"><input title="@{Concentration-1-mod}" type="number" name="attr_Concentration-1-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Concentration-1-misc}" type="number" name="attr_Concentration-1-misc" value="0" /></span>
							<span class="sheet-table-cell"><input title="@{Concentration-1-miscnote}" type="text" name="attr_Concentration-1-miscnote" value="" placeholder="notes" data-i18n-placeholder="notes"/></span>
							<span class="sheet-divider-lg">|</span>
							<span class="sheet-table-cell"><input title="@{Concentration-1-def}" type="number" name="attr_Concentration-1-def" value="0" /></span>
						</div>
					</div>
					<div class="sheet-table" style="margin-top:4px;">
						<h3 data-i18n="domains">Domains / SubDomains / Bloodlines / Patrons / Schools</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_domains-show" value="1" style="width: 34.5em;margin: -0.5em -1em 0 -33em;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="known-or-special">Known / Specialties</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="type">Type</span>
								<span class="sheet-table-header" data-i18n="name">Name</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell "><input title="@{spellclass-1-domaintype-0}" type="text" name="attr_spellclass-1-domaintype-0" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell "><input title="@{spellclass-1-domain-0}" type="text" name="attr_spellclass-1-domain-0" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell "><input title="@{spellclass-1-domaintype-1}" type="text" name="attr_spellclass-1-domaintype-1" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell "><input title="@{spellclass-1-domain-1}" type="text" name="attr_spellclass-1-domain-1" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell "><input title="@{spellclass-1-domaintype-2}" type="text" name="attr_spellclass-1-domaintype-2" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell "><input title="@{spellclass-1-domain-2}" type="text" name="attr_spellclass-1-domain-2" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
						</div>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="opposition">Opposition</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="name">Name</span><span class="sheet-table-header" data-i18n="effect">Effect</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell "><input title="@{spellclass-1-oppositionschool-0}" type="text" name="attr_spellclass-1-oppositionschool-0" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell "><input title="@{spellclass-1-oppositioneffect-0}" type="text" name="attr_spellclass-1-oppositioneffect-0" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell "><input title="@{spellclass-1-oppositionschool-1}" type="text" name="attr_spellclass-1-oppositionschool-1" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell "><input title="@{spellclass-1-oppositioneffect-1}" type="text" name="attr_spellclass-1-oppositioneffect-1" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell "><input title="@{spellclass-1-oppositionschool-2}" type="text" name="attr_spellclass-1-oppositionschool-2" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell "><input title="@{spellclass-1-oppositioneffect-2}" type="text" name="attr_spellclass-1-oppositioneffect-2" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
						</div>					
					</div>
					<div>
						<h3 data-i18n="spells-per-day">Spells Per Day</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spellsPerDay-show" value="1" style="width: 10em;margin: -0.5em -1em 0 -9em;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="spells-per-day">Spells Per Day</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="save-difficulty-class">Save DC</span>
								<span class="sheet-table-header" data-i18n="level">Level</span>
								<span class="sheet-table-header" data-i18n="uses">Uses</span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header" data-i18n="spells-per-day">Spells / Day</span>
								<span class="sheet-table-header" data-i18n="spells-per-day">Spells / Day</span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								<span class="sheet-table-header sheet-divider-lg"></span>
								<span class="sheet-table-header" data-i18n="spells-known">Spells Known</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-0-savedc}" type="number" name="attr_spellclass-1-level-0-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">0th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-0-spells-per-day}" type="number" name="attr_spellclass-1-level-0-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-0-spells-per-day|max" type="number" name="attr_spellclass-1-level-0-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-0-class}" type="number" name="attr_spellclass-1-level-0-class" value="0" /></span>
								<span class="sheet-table-cell">
									<select title="@{Concentration-1-ability}" name="attr_Concentration-1-ability" style="width:50%;">
										<option value="0" data-i18n="none-default" selected>&#8226;None</option>
										<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
										<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
										<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
										<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
										<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
										<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
									</select>
								</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-0-misc}" type="number" name="attr_spellclass-1-level-0-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-0-spells-known}" type="number" name="attr_spellclass-1-level-0-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-1-savedc}" type="number" name="attr_spellclass-1-level-1-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">1st</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-1-spells-per-day}" type="number" name="attr_spellclass-1-level-1-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-1-spells-per-day|max" type="number" name="attr_spellclass-1-level-1-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-1-class}" type="number" name="attr_spellclass-1-level-1-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-1-bonus}" type="number" name="attr_spellclass-1-level-1-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-1-misc}" type="number" name="attr_spellclass-1-level-1-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-1-spells-known}" type="number" name="attr_spellclass-1-level-1-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-2-savedc}" type="number" name="attr_spellclass-1-level-2-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">2nd</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-2-spells-per-day}" type="number" name="attr_spellclass-1-level-2-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-2-spells-per-day|max" type="number" name="attr_spellclass-1-level-2-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-2-class}" type="number" name="attr_spellclass-1-level-2-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-2-bonus}" type="number" name="attr_spellclass-1-level-2-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-2-misc}" type="number" name="attr_spellclass-1-level-2-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-2-spells-known}" type="number" name="attr_spellclass-1-level-2-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-3-savedc}" type="number" name="attr_spellclass-1-level-3-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">3rd</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-3-spells-per-day}" type="number" name="attr_spellclass-1-level-3-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-3-spells-per-day|max" type="number" name="attr_spellclass-1-level-3-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-3-class}" type="number" name="attr_spellclass-1-level-3-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-3-bonus}" type="number" name="attr_spellclass-1-level-3-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-3-misc}" type="number" name="attr_spellclass-1-level-3-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-3-spells-known}" type="number" name="attr_spellclass-1-level-3-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-4-savedc}" type="number" name="attr_spellclass-1-level-4-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">4th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-4-spells-per-day}" type="number" name="attr_spellclass-1-level-4-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-4-spells-per-day|max" type="number" name="attr_spellclass-1-level-4-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-4-class}" type="number" name="attr_spellclass-1-level-4-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-4-bonus}" type="number" name="attr_spellclass-1-level-4-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-4-misc}" type="number" name="attr_spellclass-1-level-4-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-4-spells-known}" type="number" name="attr_spellclass-1-level-4-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-5-savedc}" type="number" name="attr_spellclass-1-level-5-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">5th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-5-spells-per-day}" type="number" name="attr_spellclass-1-level-5-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-5-spells-per-day|max" type="number" name="attr_spellclass-1-level-5-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-5-class}" type="number" name="attr_spellclass-1-level-5-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-5-bonus}" type="number" name="attr_spellclass-1-level-5-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-5-misc}" type="number" name="attr_spellclass-1-level-5-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-5-spells-known}" type="number" name="attr_spellclass-1-level-5-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-6-savedc}" type="number" name="attr_spellclass-1-level-6-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">6th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-6-spells-per-day}" type="number" name="attr_spellclass-1-level-6-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-6-spells-per-day|max" type="number" name="attr_spellclass-1-level-6-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-6-class}" type="number" name="attr_spellclass-1-level-6-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-6-bonus}" type="number" name="attr_spellclass-1-level-6-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-6-misc}" type="number" name="attr_spellclass-1-level-6-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-6-spells-known}" type="number" name="attr_spellclass-1-level-6-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-7-savedc}" type="number" name="attr_spellclass-1-level-7-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">7th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-7-spells-per-day}" type="number" name="attr_spellclass-1-level-7-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-7-spells-per-day|max" type="number" name="attr_spellclass-1-level-7-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-7-class}" type="number" name="attr_spellclass-1-level-7-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-7-bonus}" type="number" name="attr_spellclass-1-level-7-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-7-misc}" type="number" name="attr_spellclass-1-level-7-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-7-spells-known}" type="number" name="attr_spellclass-1-level-7-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-8-savedc}" type="number" name="attr_spellclass-1-level-8-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">8th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-8-spells-per-day}" type="number" name="attr_spellclass-1-level-8-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-8-spells-per-day|max" type="number" name="attr_spellclass-1-level-8-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-8-class}" type="number" name="attr_spellclass-1-level-8-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-8-bonus}" type="number" name="attr_spellclass-1-level-8-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-8-misc}" type="number" name="attr_spellclass-1-level-8-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-8-spells-known}" type="number" name="attr_spellclass-1-level-8-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-9-savedc}" type="number" name="attr_spellclass-1-level-9-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">9th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-9-spells-per-day}" type="number" name="attr_spellclass-1-level-9-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-9-spells-per-day|max" type="number" name="attr_spellclass-1-level-9-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-9-class}" type="number" name="attr_spellclass-1-level-9-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-9-bonus}" type="number" name="attr_spellclass-1-level-9-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-9-misc}" type="number" name="attr_spellclass-1-level-9-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-level-9-spells-known}" type="number" name="attr_spellclass-1-level-9-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-divider"></span>
								<span class="sheet-table-header" data-i18n="spell-points-abbrv">SP</span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-spell-points-per-day}" type="number" name="attr_spellclass-1-spell-points-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-spell-points-per-day|max" type="number" name="attr_spellclass-1-spell-points-per-day_max" value="(@{spellclass-1-spell-points-class} + [[ @{spellclass-1-spell-points-bonus} ]] + [[ @{spellclass-1-spell-points-misc} ]])" disabled /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-spell-points-class}" type="number" name="attr_spellclass-1-spell-points-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-spell-points-bonus}" type="number" name="attr_spellclass-1-spell-points-bonus" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-1-spell-points-misc}" type="number" name="attr_spellclass-1-spell-points-misc" value="0" /></span>
								<span class="sheet-divider"></span>
							</div>
						</div>
					</div>
					<div>
						<h3 data-i18n="spells-ranges">Spell Ranges</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spell_ranges-show" value="1" style="opacity: 0;width: 9em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -8em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="spells-ranges">Spell Ranges</span>
							<div class="sheet-table-row">
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="close">Close</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-1-close} 25 + 5/2 levels" type="number" name="attr_spellclass-1-close" value="0" readonly="readonly" /></span>
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="medium">Medium</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-1-medium} 100 + 10/level" type="number" name="attr_spellclass-1-medium" value="0" readonly="readonly" /></span>
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="long">Long</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-1-long} 400 + 40/level" type="number" name="attr_spellclass-1-long" value="0" readonly="readonly" /></span>
							</div>
						</div>
					</div>
				</div>
	<!-- Spell Class 2 -->			
				<div class="sheet-section sheet-section-spellclass-2">
					<div class="sheet-table">
						<span class="sheet-table-name" data-i18n="caster-level">Caster Level Attributes</span>
						<div class="sheet-table-row">
							<span class="sheet-table-header" data-i18n="check">Check</span>
							<span class="sheet-table-header" data-i18n="total">Total</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" style="width:10%;" data-i18n="class">Class</span>
							<span class="sheet-table-header" style="width:15%;" data-i18n="name">Name</span>
							<span class="sheet-table-header" data-i18n="class-level-abbrv">CL</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="buff">Buff</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="condition">Condition</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="spell-penetration-abbrv">Spell Pen</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" style="width:20%;" data-i18n="notes">Notes</span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-spellcaster-button"><button class="sheet-spellcaster-button" title="%{selected|Spell-Class-2-CL-Check}" type="roll" name="roll_Spell-Class-2-CL-Check" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CL Check}} {{Class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{Check=[[ 1d20 + [[ @{spellclass-2-level-total} ]] ]]}} {{Spell Pen Bonus=@{spellclass-2-SP_misc}}} {{lefttext_6=@{CasterLevel-2-note}}}">&nbsp;<span data-i18n="caster-level">Caster-Level</span>&nbsp;</button></span>
							<span class="sheet-table-cell sheet-left sheet-number"><input title="@{spellclass-2-level-total}" type="number" name="attr_spellclass-2-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell">
								<select title="@{spellclass-2} Choose or enter manually" name="attr_spellclass-2" class="sheet-select-small spellclass-2" style="width:8em;margin-right:.5em">
									<option value="-1" data-i18n="select-class-or-manual-default" selected>&#8226;Select Class or enter manually</option>
									<option value="0">0</option>
									<option value="1">1</option>
									<option value="2">2</option>
									<option value="3">3</option>
									<option value="4">4</option>
									<option value="5">5</option>
								</select>
							</span>
							<span class="sheet-table-data sheet-entry_med"><input class="sheet-entry_med" title="@{spellclass-2-name}" type="text" name="attr_spellclass-2-name" placeholder="Class Name" data-i18n-placeholder="class-name"></span>
							<span class="sheet-table-cell"><input title="@{spellclass-2-level}" type="number" name="attr_spellclass-2-level" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{spellclass-2-level-misc}" type="number" name="attr_spellclass-2-level-misc" value="0" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{buff_CasterLevel-total}" name="attr_buff_CasterLevel-total" type="number" value="0" class="sheet-calc" readonly="readonly" /></span>		
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{CasterLevel-Penalty}" name="attr_CasterLevel-Penalty" type="number" value="0" class="sheet-calc" readonly="readonly" /></span>		
							<span class="sheet-divider"></span>
							<span class="sheet-table-cell">
								<input title="@{spellclass-2-SP_misc}" name="attr_spellclass-2-SP_misc" type="number" value="0" />
								<input type="hidden" name="attr_spellclass-2-SP-mod" value="0">
							</span>		
							<span class="sheet-divider"></span>
							<span class="sheet-table-cell"><input title="@{CasterLevel-2-note}" type="text" name="attr_CasterLevel-2-note" value="" placeholder="notes" class="sheet-entry-wide" /></span>
						</div>
					</div>
					<div class="sheet-table" style="margin-top:2px;">
						<span class="sheet-table-name" data-i18n="concentration">Concentration Attributes</span>
						<div class="sheet-table-row">
							<span class="sheet-table-header" data-i18n="check">Check</span>
							<span class="sheet-table-header" data-i18n="total">Total</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="ability">Ability</span>
							<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
							<span class="sheet-table-header"></span>
							<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							<span class="sheet-table-header" style="width:20%;" data-i18n="notes">Notes</span>
							<span class="sheet-table-header sheet-divider">|</span>
							<span class="sheet-table-header" title="Concentration Bonus when casting defensively" data-i18n-title="cast-defensive-bonus" style="word-wrap:normal;" data-i18n="cast-defensive-bonus-abbrv">Cast Def. Bonus</span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-spellcaster-button"><button  class="sheet-spellcaster-button" title="%{selected|Concentration-Check-2}" type="roll" name="roll_Concentration-Check-2" value="@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Concentration Check}} {{Class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{Check=[[ 1d20 + [[ @{Concentration-2} ]] ]]}} {{Def Cast Bonus=@{Concentration-2-def}}} {{lefttext_7=@{Concentration-2-miscnote}}}">&nbsp;<span data-i18n="concentration-check">Concentration</span>&nbsp;</button></span>
							<span class="sheet-table-cell sheet-left sheet-number"><input title="@{Concentration-2}" type="number" name="attr_Concentration-2" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">=</span>
							<span class="sheet-table-cell">
								<select title="@{Concentration-2-ability}" name="attr_Concentration-2-ability">
									<option value="0" data-i18n="none-default" selected>&#8226;None</option>
									<option value="(@{STR-mod}">STR</option>
									<option value="(@{DEX-mod}">DEX</option>
									<option value="(@{CON-mod}">CON</option>
									<option value="(@{INT-mod}">INT</option>
									<option value="(@{WIS-mod}">WIS</option>
									<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
								</select>
							</span>
							<span class="sheet-table-cell"><input title="@{Concentration-2-mod}" type="number" name="attr_Concentration-2-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell"><input title="@{Concentration-2-misc}" type="number" name="attr_Concentration-2-misc" value="0" /></span>
							<span class="sheet-table-cell"><input title="@{Concentration-2-miscnote}" type="text" name="attr_Concentration-2-miscnote" value="" placeholder="notes" data-i18n-placeholder="notes" /></span>
							<span class="sheet-divider-lg">|</span>
							<span class="sheet-table-cell"><input title="@{Concentration-2-def}" type="number" name="attr_Concentration-2-def" value="0" /></span>
						</div>
					</div>
					<div class="sheet-table" style="margin-top:4px;">
						<h3 data-i18n="domains">Domains / SubDomains / Bloodlines / Patrons / Schools</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_domains-show" value="1" style="width: 34.5em;margin: -0.5em -1em 0 -33em;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="known-or-special">Known / Specialties</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="type">Type</span>
								<span class="sheet-table-header" data-i18n="name">Name</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-domaintype-0}" type="text" name="attr_spellclass-2-domaintype-0" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-domain-0}" type="text" name="attr_spellclass-2-domain-0" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-domaintype-1}" type="text" name="attr_spellclass-2-domaintype-1" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-domain-1}" type="text" name="attr_spellclass-2-domain-1" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-domaintype-2}" type="text" name="attr_spellclass-2-domaintype-2" value="" placeholder="(Sub)Domain/School/Bloodline/Patron" data-i18n-placeholder="domain-etc-type-example"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-domain-2}" type="text" name="attr_spellclass-2-domain-2" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
							</div>
						</div>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="opposition">Opposition</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="name">Name</span><span class="sheet-table-header" data-i18n="effect">Effect</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-oppositionschool-0}" type="text" name="attr_spellclass-2-oppositionschool-0" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-oppositioneffect-0}" type="text" name="attr_spellclass-2-oppositioneffect-0" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-oppositionschool-1}" type="text" name="attr_spellclass-2-oppositionschool-1" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-oppositioneffect-1}" type="text" name="attr_spellclass-2-oppositioneffect-1" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-oppositionschool-2}" type="text" name="attr_spellclass-2-oppositionschool-2" value="" placeholder="Name" data-i18n-placeholder="name"/></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-oppositioneffect-2}" type="text" name="attr_spellclass-2-oppositioneffect-2" value="" placeholder="Cost double or prohibited" data-i18n-placeholder="opposition-school-example"/></span>
							</div>
						</div>					
					</div>
					<div>
						<h3 data-i18n="spells-per-day">Spells Per Day</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spellsPerDay-show" value="1" style="width: 10em;margin: -0.5em -1em 0 -9em;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="spells-per-day">Spells Per Day</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header" data-i18n="save-difficulty-class">Save DC</span>
								<span class="sheet-table-header" data-i18n="level">Level</span>
								<span class="sheet-table-header" data-i18n="uses">Uses</span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header" data-i18n="spells-per-day">Spells / Day</span>
								<span class="sheet-table-header" data-i18n="spells-per-day">Spells / Day</span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								<span class="sheet-table-header sheet-divider-lg"></span>
								<span class="sheet-table-header" data-i18n="spells-known">Spells Known</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-0-savedc}" type="number" name="attr_spellclass-2-level-0-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">0th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-0-spells-per-day}" type="number" name="attr_spellclass-2-level-0-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-0-spells-per-day|max" type="number" name="attr_spellclass-2-level-0-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-0-class}" type="number" name="attr_spellclass-2-level-0-class" value="0" /></span>
								<span class="sheet-table-cell">
									<select title="@{Concentration-2-ability}" name="attr_Concentration-2-ability" style="width:50%;">
										<option value="0" data-i18n="none-default" selected>&#8226;None</option>
										<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
										<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
										<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
										<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
										<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
										<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
									</select>
								</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-0-misc}" type="number" name="attr_spellclass-2-level-0-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-0-spells-known}" type="number" name="attr_spellclass-2-level-0-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-1-savedc}" type="number" name="attr_spellclass-2-level-1-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">1st</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-1-spells-per-day}" type="number" name="attr_spellclass-2-level-1-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-1-spells-per-day|max" type="number" name="attr_spellclass-2-level-1-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-1-class}" type="number" name="attr_spellclass-2-level-1-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-1-bonus}" type="number" name="attr_spellclass-2-level-1-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-1-misc}" type="number" name="attr_spellclass-2-level-1-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-1-spells-known}" type="number" name="attr_spellclass-2-level-1-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-2-savedc}" type="number" name="attr_spellclass-2-level-2-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">2nd</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-2-spells-per-day}" type="number" name="attr_spellclass-2-level-2-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-2-spells-per-day|max" type="number" name="attr_spellclass-2-level-2-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-2-class}" type="number" name="attr_spellclass-2-level-2-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-2-bonus}" type="number" name="attr_spellclass-2-level-2-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-2-misc}" type="number" name="attr_spellclass-2-level-2-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-2-spells-known}" type="number" name="attr_spellclass-2-level-2-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-3-savedc}" type="number" name="attr_spellclass-2-level-3-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">3rd</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-3-spells-per-day}" type="number" name="attr_spellclass-2-level-3-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-3-spells-per-day|max" type="number" name="attr_spellclass-2-level-3-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-3-class}" type="number" name="attr_spellclass-2-level-3-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-3-bonus}" type="number" name="attr_spellclass-2-level-3-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-3-misc}" type="number" name="attr_spellclass-2-level-3-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-3-spells-known}" type="number" name="attr_spellclass-2-level-3-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-4-savedc}" type="number" name="attr_spellclass-2-level-4-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">4th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-4-spells-per-day}" type="number" name="attr_spellclass-2-level-4-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-4-spells-per-day|max" type="number" name="attr_spellclass-2-level-4-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-4-class}" type="number" name="attr_spellclass-2-level-4-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-4-bonus}" type="number" name="attr_spellclass-2-level-4-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-4-misc}" type="number" name="attr_spellclass-2-level-4-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-4-spells-known}" type="number" name="attr_spellclass-2-level-4-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-5-savedc}" type="number" name="attr_spellclass-2-level-5-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">5th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-5-spells-per-day}" type="number" name="attr_spellclass-2-level-5-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-5-spells-per-day|max" type="number" name="attr_spellclass-2-level-5-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-5-class}" type="number" name="attr_spellclass-2-level-5-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-5-bonus}" type="number" name="attr_spellclass-2-level-5-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-5-misc}" type="number" name="attr_spellclass-2-level-5-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-5-spells-known}" type="number" name="attr_spellclass-2-level-5-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-6-savedc}" type="number" name="attr_spellclass-2-level-6-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">6th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-6-spells-per-day}" type="number" name="attr_spellclass-2-level-6-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-6-spells-per-day|max" type="number" name="attr_spellclass-2-level-6-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-6-class}" type="number" name="attr_spellclass-2-level-6-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-6-bonus}" type="number" name="attr_spellclass-2-level-6-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-6-misc}" type="number" name="attr_spellclass-2-level-6-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-6-spells-known}" type="number" name="attr_spellclass-2-level-6-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-7-savedc}" type="number" name="attr_spellclass-2-level-7-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">7th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-7-spells-per-day}" type="number" name="attr_spellclass-2-level-7-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-7-spells-per-day|max" type="number" name="attr_spellclass-2-level-7-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-7-class}" type="number" name="attr_spellclass-2-level-7-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-7-bonus}" type="number" name="attr_spellclass-2-level-7-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-7-misc}" type="number" name="attr_spellclass-2-level-7-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-7-spells-known}" type="number" name="attr_spellclass-2-level-7-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-8-savedc}" type="number" name="attr_spellclass-2-level-8-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">8th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-8-spells-per-day}" type="number" name="attr_spellclass-2-level-8-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-8-spells-per-day|max" type="number" name="attr_spellclass-2-level-8-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-8-class}" type="number" name="attr_spellclass-2-level-8-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-8-bonus}" type="number" name="attr_spellclass-2-level-8-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-8-misc}" type="number" name="attr_spellclass-2-level-8-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-8-spells-known}" type="number" name="attr_spellclass-2-level-8-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-9-savedc}" type="number" name="attr_spellclass-2-level-9-savedc" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-header">9th</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-9-spells-per-day}" type="number" name="attr_spellclass-2-level-9-spells-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-9-spells-per-day|max" type="number" name="attr_spellclass-2-level-9-spells-per-day_max" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-9-class}" type="number" name="attr_spellclass-2-level-9-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-9-bonus}" type="number" name="attr_spellclass-2-level-9-bonus" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-9-misc}" type="number" name="attr_spellclass-2-level-9-misc" value="0" /></span>
								<span class="sheet-divider-lg">|</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-level-9-spells-known}" type="number" name="attr_spellclass-2-level-9-spells-known" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-divider"></span>
								<span class="sheet-table-header" data-i18n="spell-points-abbrv">SP</span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-spell-points-per-day}" type="number" name="attr_spellclass-2-spell-points-per-day" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-spell-points-per-day|max" type="number" name="attr_spellclass-2-spell-points-per-day_max" value="(@{spellclass-2-spell-points-class} + [[ @{spellclass-2-spell-points-bonus} ]] + [[ @{spellclass-2-spell-points-misc} ]])" disabled /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-spell-points-class}" type="number" name="attr_spellclass-2-spell-points-class" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-spell-points-bonus}" type="number" name="attr_spellclass-2-spell-points-bonus" value="0" /></span>
								<span class="sheet-table-cell"><input title="@{spellclass-2-spell-points-misc}" type="number" name="attr_spellclass-2-spell-points-misc" value="0" /></span>
								<span class="sheet-divider"></span>
							</div>
						</div>
					</div>
					<div>
						<h3 data-i18n="spells-ranges">Spell Ranges</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spell_ranges-show" value="1" style="opacity: 0;width: 9em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -8em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<span class="sheet-table-name" data-i18n="spells-ranges">Spell Ranges</span>
							<div class="sheet-table-row">
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="close">Close</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-2-close} 25 + 5/2 levels" type="number" name="attr_spellclass-2-close" value="0" readonly="readonly" /></span>
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="medium">Medium</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-2-medium} 100 + 10/level" type="number" name="attr_spellclass-2-medium" value="0" readonly="readonly" /></span>
								<span class="sheet-table-row-name sheet-spellrange-header" data-i18n="long">Long</span>
								<span class="sheet-table-cell"><input class="sheet-spellrange-data sheet-calc sheet-entry-wide" title="@{spellclass-2-long} 400 + 40/level" type="number" name="attr_spellclass-2-long" value="0" readonly="readonly" /></span>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-h2-section">
			<h2 data-i18n="spellbook">Spellbooks</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spellbooks-show" value="1" style="width: 8em;margin: -0.5em -1em 0 -7em;" checked="checked" /><span></span>
			<div class="sheet-sect sheet-table" >
				<div class="sheet-table-row">
					<div class="sheet-table-cell">
						<input type="checkbox" name="attr_spellclass-0-exists" class="sheet-sect-show" value="1" style="width:0;"/>
						<span class="sheet-not-sheet-show sheet-sect">
							<button type="roll" class="sheet-command-button" name="attr_spellbook-0-roll" value="@{spellclass-0-book}" title="%{selected|spellbook-0-roll}"><span name="attr_spellclass-0-name"></span>&nbsp;<span data-i18n="spellbook">Spellbook</span></button>
						</span>
						<input type="text" name="attr_spellclass-0-book" style="display:none;"/>
					</div>
					<div class="sheet-table-cell">
						<input type="checkbox" name="attr_spellclass-1-exists" class="sheet-sect-show" value="1" style="width:0;"/>
						<span class="sheet-not-sheet-show sheet-sect">
							<button type="roll" class="sheet-command-button" name="attr_spellbook-1-roll" value="@{spellclass-1-book}" title="%{selected|spellbook-1-roll}"><span name="attr_spellclass-1-name"></span>&nbsp;<span data-i18n="spellbook">Spellbook</span></button>
						</span>
						<input type="text" name="attr_spellclass-1-book" style="display:none;"/>
					</div>
					<div class="sheet-table-cell">
						<input type="checkbox" name="attr_spellclass-2-exists" class="sheet-sect-show" value="1" style="width:0;"/>
						<span class="sheet-not-sheet-show sheet-sect">
							<button type="roll" class="sheet-command-button" name="attr_spellbook-2-roll" value="@{spellclass-2-book}" title="%{selected|spellbook-2-roll}"><span name="attr_spellclass-2-name"></span>&nbsp;<span data-i18n="spellbook">Spellbook</span></button>
						</span>
						<input type="text" name="attr_spellclass-2-book" style="display:none;"/>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-h2-section" >
			<h4 data-i18n="spell-roll-options">Spell Roll Options</h4>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spelloptions-show" value="1" style="width: 11em;margin: -0.5em -1em 0 -9.5em;" checked="checked" /><span></span>
			<div class="sheet-table sheet-spell-options sheet-sect">
				<div class="sheet-options">
					<div class="sheet-table">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label"><b title="Include these attributes with this spell roll?" data-i18n="include-info">Include info?</b></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_school_notes" value="1" title="@{toggle_school_notes}" checked="checked" /><b title="Include School" data-i18n-title="options-spell-school-title" data-i18n="school"> School</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_level_notes" value="1" title="@{toggle_level_notes}" checked="checked" /><b title="Include Class/Level" data-i18n-title="options-spell-level-title" data-i18n="spell-level"> Spell Level</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_casting_time_notes" value="1" title="@{toggle_casting_time_notes}" checked="checked" /><b title="Include Casting Time" data-i18n-title="options-spell-casting-time-title" data-i18n="casting-time"> Casting Time</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_components_notes" value="1" title="@{toggle_components_notes}" checked="checked" /><b title="Include Components" data-i18n-title="options-spell-comp-title" data-i18n="spell-components"> Components</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_range_notes" value="1" title="@{toggle_range_notes}" checked="checked" /><b title="Include Range" data-i18n-title="options-spell-range-title" data-i18n="range"> Range</b></label></span>
						</div>
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_targets_notes" value="1" title="@{toggle_targets_notes}" checked="checked" /><b title="Include Targets/Area" data-i18n-title="options-spell-target-title" data-i18n="target"> Target</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_duration_notes" value="1" title="@{toggle_duration_notes}" checked="checked" /><b title="Include Duration" data-i18n-title="options-spell-duration-title" data-i18n="duration"> Duration</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_saving_throw_notes" value="1" title="@{toggle_saving_throw_notes}" checked="checked" /><b title="Include Saving Throw" data-i18n-title="options-spell-save-title" data-i18n="saving-throw"> Saving Throw</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_dc_notes" value="1" title="@{toggle_dc_notes}" checked="checked" /><b title="Include DC" data-i18n-title="options-spell-dc-title" data-i18n="difficulty-class-abbrv"> DC</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_sr_notes" value="1" title="@{toggle_sr_notes}" checked="checked" /><b title="Include Spell Resistance" data-i18n-title="options-spell-sr-title" data-i18n="spell-resistance-abbrv"> SR</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_description_notes" value="1" title="@{toggle_description_notes}" checked="checked" /><b title="Include Description" data-i18n-title="options-spell-desc-title" data-i18n="description"> Description</b></label></span>
						</div>
						<div class="sheet-table-row">					
							<span class="sheet-table-cell sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_casterlevel_notes" value="1" title="@{toggle_casterlevel_notes}" checked="checked" /><b title="Include Caster Level" data-i18n-title="options-spell-caster-level-title" data-i18n="caster-level"> Caster Level</b></label></span>
							<span class="sheet-table-cell sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_casterlevel_check" value="1" title="@{toggle_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check" data-i18n-title="options-spell-caster-level-chk-title" data-i18n="caster-level-check"> Caster Level Check</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_concentration_notes" value="1" title="@{toggle_Concentration_notes}" /><b title="Include Concentration" data-i18n-title="options-spell-concentration-title" data-i18n="concentration"> Concentration</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spell_concentration_check" value="1" title="@{toggle_Concentration_check}" /><b title="Roll Concentration Check" data-i18n-title="options-spell-concentration-chk-title" data-i18n="concentration-check"> Concentration Check</b></label></span>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="sheet-h2-section sheet-repeating-sect">
			<h2 data-i18n="spell-lists">Spell Lists</h2>
			<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_newspells-show" value="1" style="width: 8em;margin: -0.5em -1em 0 -7em;" checked="checked" /><span></span>
			<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_newspells-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
			<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_newspells-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
			<div class="sheet-sect">		
				<b style="margin-left:2.5em;" data-i18n="acknowledge">Acknowledge</b>
				<input type="checkbox" class="sheet-sect-show sheet-ack-button" title="Acknowledge spell migration" name="attr_ack_newspells1" value="1" style="width: 105px;margin: 0 -15px 0 -90px;" checked="checked" /><span></span>
				<div class="sheet-table sheet-sect sheet-footer" style="padding:5px; margin:5px; width:inherit; display:block;">
					<div class="sheet-row" data-i18n="spell-migration-note">
					Spells have been consolidated into one list.  You must delete old spells on the config tab in order to free up memory. 
					Delete them only AFTER verifying any macros are updated and work with the new spells.
					</div>
				</div>
			</div>
			<div class="sheet-sect">	
				<input type="checkbox" name="attr_spells_tab" value="0" title="Spell Level 0" class="sheet-tab0 sheet-spells-tab0" style="display:none;" checked="checked" />
				<input type="checkbox" name="attr_spells_tab" value="1" title="Spell Level 1" class="sheet-tab1 sheet-spells-tab1" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="2" title="Spell Level 2" class="sheet-tab2 sheet-spells-tab2" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="3" title="Spell Level 3" class="sheet-tab3 sheet-spells-tab3" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="4" title="Spell Level 4" class="sheet-tab4 sheet-spells-tab4" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="5" title="Spell Level 5" class="sheet-tab5 sheet-spells-tab5" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="6" title="Spell Level 6" class="sheet-tab6 sheet-spells-tab6" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="7" title="Spell Level 7" class="sheet-tab7 sheet-spells-tab7" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="8" title="Spell Level 8" class="sheet-tab8 sheet-spells-tab8" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="9" title="Spell Level 9" class="sheet-tab9 sheet-spells-tab9" style="display:none;" />
				<input type="checkbox" name="attr_spells_tab" value="99" title="All" class="sheet-tab99 sheet-spells-tab99" style="display:none;" />


					<div class="sheet-spellsnav sheet-tabs" role="menubar" aria-label="spells by level" data-i18n-aria-label="spells-by-level">
						<label class="sheet-tab sheet-tab0"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="0" /><span data-i18n="level">Level</span> 0</label>
						<label class="sheet-tab sheet-tab1"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="1" /><span data-i18n="level">Level</span> 1</label>
						<label class="sheet-tab sheet-tab2"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="2" /><span data-i18n="level">Level</span> 2</label>
						<label class="sheet-tab sheet-tab3"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="3" /><span data-i18n="level">Level</span> 3</label>
						<label class="sheet-tab sheet-tab4"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="4" /><span data-i18n="level">Level</span> 4</label>
						<label class="sheet-tab sheet-tab5"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="5" /><span data-i18n="level">Level</span> 5</label>
						<label class="sheet-tab sheet-tab6"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="6" /><span data-i18n="level">Level</span> 6</label>
						<label class="sheet-tab sheet-tab7"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="7" /><span data-i18n="level">Level</span> 7</label>
						<label class="sheet-tab sheet-tab8"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="8" /><span data-i18n="level">Level</span> 8</label>
						<label class="sheet-tab sheet-tab9"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="9" /><span data-i18n="level">Level</span> 9</label>
						<label class="sheet-tab sheet-tab99" style="width:4%;"><input type="radio" name="attr_spells_tab" class="sheet-tab" value="99" checked="checked" /><span data-i18n="all">All</span></label>
					</div>
					<span class="sheet-nontable-name">&nbsp;</span>
				

				<input type="checkbox" class="sheet-spellclass-tab0ignore" name="attr_spellclass_tab" value="0" style="display:none;" />
				<input type="checkbox" class="sheet-spellclass-tab1ignore" name="attr_spellclass_tab" value="1" style="display:none;" />
				<input type="checkbox" class="sheet-spellclass-tab2ignore" name="attr_spellclass_tab" value="2" style="display:none;" />			
				<div class="sheet-spells">
					<div class="sheet-repeating-fields">
						<fieldset class="repeating_spells">
							<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-delete-row">Error! You must delete this row before editing any items in this section.</span></span>
							<input type="radio" name="attr_spell_level_r" value="-1" class="sheet-section-level-new" style="display:none;" checked="checked" />
							<input type="radio" name="attr_spell_level_r" value="0" class="sheet-section-level-0" style="display:none;" />
							<input type="radio" name="attr_spell_level_r" value="1" class="sheet-section-level-1" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="2" class="sheet-section-level-2" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="3" class="sheet-section-level-3" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="4" class="sheet-section-level-4" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="5" class="sheet-section-level-5" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="6" class="sheet-section-level-6" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="7" class="sheet-section-level-7" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="8" class="sheet-section-level-8" style="display:none;" />	
							<input type="radio" name="attr_spell_level_r" value="9" class="sheet-section-level-9" style="display:none;" />
							<input type="radio" name="attr_spell_class_r" value="-1" class="sheet-section-spellclass-1" style="display:none;" checked="checked" />						
							<input type="radio" name="attr_spell_class_r" value="0" class="sheet-section-spellclass0" style="display:none;"  />				
							<input type="radio" name="attr_spell_class_r" value="1" class="sheet-section-spellclass1" style="display:none;" />	
							<input type="radio" name="attr_spell_class_r" value="2" class="sheet-section-spellclass2" style="display:none;" />
							<input type="checkbox" name="attr_prepared_state" value="1" class="sheet-section-state" style="display:none;" />
							<div class="sheet-compendium-drop-target sheet-sect sheet-spell-border sheet-nontable-repeating sheet-background-color1">
								<input type="checkbox" class="sheet-counted sheet-sect-show" name="attr_spells-show" data-i18n-title="minimize-cmd" title="Minimize Row" value="1" checked="checked" /><span></span>
								<span class="sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_spells_$X_roll}" value="@{macro-text}"></button></span>
								<span style="display:none;" class="sheet-repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_spells_$X_npc-roll}" value="@{npc-macro-text}"></button></span>
								<label class="sheet-small-label2 sheet-number"><span data-i18n="prepared">Prepared</span><input title="@{repeating_spells_$X_used}" type="number" name="attr_used" value="0"></label>
								<label class="sheet-small-label2 sheet-entry-ultimate"><span data-i18n="name">Name</span><input title="@{repeating_spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="spell-name" accept="Name"></label>
								<label class="sheet-small-label2 sheet-sect sheet-entry-vshort">
									<span data-i18n="class-number">Class #</span>
									<select title="@{repeating_spells_$X_spellclass}" name="attr_spellclass_number" style="width:3em;min-width:2em;">
										<option value="0" selected>0</option>
										<option value="1">1</option>
										<option value="2">2</option>
									</select>
								</label>
								<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="class">Class</span><input title="@{repeating_spells_$X_spellclass}" type="text" value="" name="attr_spellclass" /></label>
								<label class="sheet-small-label2 sheet-number"><span data-i18n="level">Level</span><input title="@{repeating_spells_$X_spell_level}" type="number" value="" name="attr_spell_level" /></label>
								<label class="sheet-small-label2 sheet-number"><span data-i18n="difficulty-class-abbrv">DC</span><input title="@{repeating_spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly"/></label>
								<label class="sheet-small-label2 sheet-sect sheet-entry-long"><span data-i18n="school">School</span><input title="@{repeating_spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="spell-school-place" accept="School"></label>
								<label class="sheet-small-label2 sheet-entry-long"><span data-i18n="casting-time">Cast Time</span><input title="@{repeating_spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="spell-casting-time-place" accept="Casting Time"/></label>
								<label class="sheet-small-label2 sheet-sect sheet-entry-med"><span data-i18n="spell-components">Components</span><input title="@{repeating_spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="spell-components" accept="Components"></label>
								<label class="sheet-small-label2 sheet-sect sheet-entry-long">
									<span data-i18n="range">Range</span>
									<select class="sheet-select-small" name="attr_range_pick">
										<option value="blank" data-i18n="blank" selected >Blank</option>
										<option value="close" data-i18n="close" >Close</option>
										<option value="medium" data-i18n="medium" >Medium</option>
										<option value="long" data-i18n="long" >Long</option>
										<option value="touch" data-i18n="touch" >Touch</option>
										<option value="personal" data-i18n="personal" >Personal</option>
										<option value="see_text" data-i18n="see-text" >See text</option>
										<option value="number" data-i18n="number" >Number</option>
										<option value="perlevel" data-i18n="perlevel" >Per Level</option>
										<option value="unknownrange" data-i18n="cannot-parse" >Cannot parse</option>
									</select>
								</label>
								<label class="sheet-small-label2 sheet-sect sheet-entry-med">
									<span data-i18n="range-custom">Custom Range</span>
									<input type="text" value="" name="attr_range" title="@{range}" placeholder="Flat # or # /level" data-i18n-placeholder="range-custom-place" />									
								</label>
								<label class="sheet-small-label2 sheet-sect sheet-number">
									<span data-i18n="range">Range</span>
									<input title="@{repeating_spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" class="sheet-calc" readonly="readonly">
								</label>
								<label class="sheet-small-label2 sheet-sect sheet-entry-ultimate"><span data-i18n="spell-targets-area-effect">Targets/Area/Effect</span><input title="@{repeating_spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="spell-targets-area-effect"/></label>
								<label class="sheet-small-label2 sheet-sect sheet-entry-med"><span data-i18n="duration">Duration</span><input title="@{repeating_spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/></label>
								<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="save-effect">Save Effect</span><input title="@{repeating_spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save-type" accept="Saving Throw"></label>
								<label class="sheet-small-label2 sheet-entry-short">
									<span data-i18n="spell-resistance-abbrv">SR</span>

									<select title="@{repeating_spells_$X_sr}" name="attr_sr" class="sheet-select-small" accept="Spell Resistance">
										<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
										<option value="Yes" data-i18n="yes">Yes</option>
										<option value="No" data-i18n="no">No</option>
										<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
										<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
									</select>
								</label>
								<input type="hidden" value="" name="attr_range_from_compendium" accept="Range"/>
								<input type="hidden" value="" name="attr_spell_lvlstr" accept="Level"/>
								<input type="hidden" value="" name="attr_target_from_compendium" accept="Target"/>
								<input type="hidden" value="" name="attr_area_from_compendium" accept="Area"/>
								<input type="hidden" value="" name="attr_effect_from_compendium" accept="Effect"/>
								<input type="hidden" name="attr_spell_options" value="" />
													
								<div class="sheet-sect sheet-expand">
									<div class="sheet-table">
									<h4 data-i18n="miscellaneous-abbrv">Misc</h4>

									<input type="checkbox" class="sheet-misc-show" title="@{repeating_spells_$X_spell-misc-show}" name="attr_spell-misc-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
									<h4 data-i18n="description">Description</h4>
									<input type="checkbox" class="sheet-desc-show" title="@{repeating_spells_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
									<h4 data-i18n="macro-text">Macro Text</h4>
									<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_spells_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
									<h4 data-i18n="unique-identifiers-abbrv">IDs</h4>
									<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_spells_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>

									<br>
									<div class="sheet-nontable-repeating sheet-misc">					
										<label class="sheet-small-label2 sheet-entry-short"><span data-i18n="caster-level-modifier-abbrv">CL Mod</span><input title="@{repeating_spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" placeholder="CL Mod" data-i18n-placeholder="caster-level-modifier-abbrv"/></label>
										<label class="sheet-small-label2 sheet-number"><span data-i18n="caster-level-abbrv">CL</span><input title="@{repeating_spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly"/></label>
										<span class="sheet-divider-db-lg">|</span>
										<label class="sheet-small-label2 sheet-entry-short"><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span><input title="@{repeating_spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/></label>
										<span class="sheet-divider-db-lg">|</span>
										<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span><input title="@{repeating_spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" placeholder="Spell Pen" data-i18n-placeholder="spell-penetration-modifier-abbrv"/></label>
										<label class="sheet-small-label2 sheet-number"><span data-i18n="spell-penetration-abbrv-short">SP</span><input title="@{repeating_spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /></label>
										<span class="sheet-divider-db-lg">|</span>
										<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="concentration-miscellaneous-abbrv">Conc Misc</span><input title="@{repeating_spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc"/></label>
										<label class="sheet-small-label2 sheet-number"><span data-i18n="concentration-abbrv">Conc</span><input title="@{repeating_spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /></label>
										<span class="sheet-divider-db-lg">|</span>
										<label class="sheet-small-label2 sheet-number"><span data-i18n="spell-domain-chk">Domain</span><input title="@{repeating_spells_$X_isDomain}" type="checkbox" value="1" name="attr_isDomain" /></label>
										<label class="sheet-small-label2 sheet-number"><span data-i18n="spell-mythic-chk">Mythic</span><input title="@{repeating_spells_$X_isMythic}" type="checkbox" value="1" name="attr_isMythic" /></label>
									</div>								
									<textarea class="sheet-desc" title="@{repeating_spells_$X_description}" name="attr_description" accept="Content"></textarea>
									<textarea class="sheet-macro-text" title="@{repeating_spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options}</textarea>
									<textarea style="display:none;" class="sheet-macro-text" title="@{repeating_spells_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_spell} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options}</textarea>
									<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
									</div>
								
								</div>
							</div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>
		
		</div>
		<br>
	</div>

	<div class="sheet-section sheet-section-npc sheet-page-notinall" role="region" aria-label="NPC page">
		<h1 data-i18n="npc">NPC</h1>
		<div class="sheet-compendium-drop-target">
			<div class="sheet-header-row" style="display: table;padding-left: 0;line-height: 1em;">
				<div class="sheet-sect" style="display: table-cell;width: 100%;">
					<span class="sheet-table-cell" style="width:75%;text-align:left;"><input type="text" title="character_name" name="attr_character_name" style="background-color:black;color:white;font-weight:bold;" accept="Name"/></span>
					<span class="sheet-table-data sheet-right" style="width:9%;text-align:right;">
						<b data-i18n="is-npc-check-caps">IS NPC</b><b>:</b>&nbsp;
						<input type="checkbox" title="@{is-npc}" name="attr_is_npc" value="1" style="background-color:black;color:white;font-weight:bold;vertical-align:text-top;" />
					</span>

					<span class="sheet-table-data sheet-right" style="width:5%;text-align:right;"><b data-i18n="challenge-rating-abbrv">CR</b></span>
					<span class="sheet-table-data sheet-right" style="width:5%;text-align:right;"><input type="text" title="@{npc-cr}" name="attr_npc-cr" accept="CR" style="background-color:black;color:white;font-weight:bold;vertical-align:text-top;" /></span>
				
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_mythic-adventures-show" value="1" style="display:none;" />
					<div class="sheet-sect" style="display:table-cell; vertical-align:middle; padding-bottom:2px;width:5%;">
						<span class="sheet-table-data sheet-right"><b title="Mythic Rank" data-i18n="mythic-rating-abbrv">MR</b></span>
						<span class="sheet-table-data sheet-right"><input type="text" title="npc-mythic-mr" name="attr_npc-mythic-mr" style="background-color:black;color:white;font-weight:bold;vertical-align:text-top;" /></span>
					</div>
				</div>
			</div>
			<div class="sheet-center" role="section" aria-label="top npc section">
				<div style="width:10%;">
				</div>
				<div class="sheet-table">
					<div class="sheet-table-row">
						<span class="sheet-table-cell sheet-small-label" style="width:10%;"><input type="text" name="attr_npc-xp" accept="XP" title="@{npc-xp}" placeholder="XP" data-i18n-placeholder="npc-experience-points-abbrv" /><br><span data-i18n="experience-points-abbrv">XP</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:20%;"><input title="@{gender}" type="text" name="attr_gender" placeholder="Gender" data-i18n-placeholder="gender" /><br><span data-i18n="gender">Gender</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:70%;"><input title="@{class-0-name}" type="text" name="attr_class-0-name" placeholder="Class(es)" data-i18n-placeholder="class-and-level" /><br><span data-i18n="class-and-level">Class(es) and levels</span></span>
					</div>
				</div>
			
				<div class="sheet-table">
					<div class="sheet-table-row">
						<span class="sheet-table-cell sheet-small-label" style="width:10%;"><input title="@{alignment}" type="text" name="attr_alignment" placeholder="Alignment" data-i18n-placeholder="alignment" accept="Alignment" /><br><span data-i18n="alignment">Alignment</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:15%;">
							<select title="@{size}" name="attr_size">
								<option value="-8" data-i18n="size-colossal">Colossal</option>
								<option value="-4" data-i18n="size-gargantuan">Gargantuan</option>
								<option value="-2" data-i18n="size-huge">Huge</option>
								<option value="-1" data-i18n="size-large">Large</option>
								<option value="0" data-i18n="medium-abbrv-default" selected>&#8226;Medium</option>
								<option value="1" data-i18n="size-small">Small</option>
								<option value="2" data-i18n="size-tiny">Tiny</option>
								<option value="4" data-i18n="size-diminutive">Diminutive</option>
								<option value="8" data-i18n="size-fine">Fine</option>
							</select>
							<br><span data-i18n="size">Size</span>
						</span>
						<span class="sheet-table-cell sheet-small-label" style="display:none;"><input title="@{size_display}" type="text" name="attr_size_display" value="Medium" accept="Size" /><br><span data-i18n="size">Size</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:75%;"><input title="@{npc-type}" type="text" name="attr_npc-type" placeholder="Type (sub-type)" data-i18n-placeholder="type-or-sub-type" accept="Creature Type"/><br><span data-i18n="type-or-sub-type">Type/(sub-type)</span></span>
					</div>
				</div>
				<div class="sheet-table">
					<div class="sheet-table-row">
						<span class="sheet-table-cell" style="width:10%; vertical-align: top;"><button title="%{selected|NPC-Initiative-Roll}" style="margin-top:-20px !important;" type="roll" name="roll_NPC-Initiative-Roll" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Initiative}} {{check=[[ ((1d20 + [[ @{init} ]]) + [[ {(0.01 * @{init}),0}kh1 ]]) &{tracker} ]]}}">&nbsp;<span data-i18n="initiative-abbrv">INIT</span></button></span>
						<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input type="number" title="@{init}" name="attr_init" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="initiative-abbrv">Init</span></span>
						<span class="sheet-table-cell sheet-small-label">=&nbsp;<br>&nbsp;</span>
						<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input type="number" title="@{init-ability-mod}" name="attr_init-ability-mod" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="dexterity-abbrv">DEX</span></span>
						<span class="sheet-divider sheet-small-label">+<br>&nbsp;</span>
						<span class="sheet-table-cell sheet-small-label" style="width:5%;">
						<input type="hidden" name="attr_init_compendium" accept="Init" />
						<input type="number" title="@{init-misc}" name="attr_init-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
						<span class="sheet-divider sheet-small-label">-<br>&nbsp;</span>
						<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input type="number" title="@{condition-Deafened}" name="attr_condition-Deafened" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="condition-abbrv">Cond</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:40%;"><input type="text" title="@{npc-senses}" name="attr_npc-senses" placeholder="Senses" data-i18n-placeholder="senses" accept="Senses" /><br><span data-i18n="senses">Senses</span></span>
						<span class="sheet-table-cell" style="vertical-align:top;"><button name="roll_NPC-Perception-Check" title="%{selected|NPC-Perception-Check}" type="roll" value="@{NPC-whisper} @{Perception-macro}">&nbsp;>P</button></span>
						<span class="sheet-table-cell sheet-small-label"><input title="@{Perception}" type="number" name="attr_Perception" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="perception">Perception</span></span>
						<span class="sheet-table-cell sheet-small-label"><input title="@{Perception-misc}" type="number" name="attr_Perception-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
						<span class="sheet-table-cell sheet-small-label" style="width:10%;"><input type="text" title="@{npc-aura}" name="attr_npc-aura" placeholder="Aura" data-i18n-placeholder="aura" accept="Aura" /><br><span data-i18n="aura">Aura</span></span>
					</div>
				</div>
					
				<div class="sheet-table">
					<div class="sheet-table-row">
						<span class="sheet-table-cell sheet-small-label" style="width:45%;">
							<input type="text" title="@{languages}" name="attr_languages" placeholder="Languages" data-i18n-placeholder="languages" accept="Languages" /><br><span data-i18n="languages">Languages</span>
						</span>
						<span class="sheet-table-cell sheet-small-label" style="width:45%;">
							<input type="text" title="@{SQ}" name="attr_SQ" placeholder="Add all special qualities here, listed alphabetically" data-i18n-placeholder="special-qualities-place" accept="SQ" /><br><span data-i18n="special-qualities-abbrv">SQ</span>
						</span>
					</div>
				</div>
		

			</div>
			<div role="section" aria-label="Quick Stats">
				<hr class="sheet-npc-hr sheet-margin-top" />
				<h2 data-i18n="quick-stats">QUICK STATS</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-quick_stats-show" value="1" style="width: 10em;margin: -0.5em -1em 0 -9em;" checked="checked" /><span></span>
				<hr class="sheet-npc-hr sheet-margin-bottom" />
				<div class="sheet-table sheet-sect">
					<div class="sheet-table-row">
						<span class="sheet-table-cell"><b data-i18n="strength-abbrv">STR</b><input title="@{STR-base}" type="number" name="attr_STR-base" value="10" accept="Str"/></span>
						<span class="sheet-table-cell"><b data-i18n="dexterity-abbrv">DEX</b><input title="@{DEX-base}" type="number" name="attr_DEX-base" value="10" accept="Dex"/></span>
						<span class="sheet-table-cell"><b data-i18n="constitution-abbrv">CON</b><input title="@{CON-base}" type="number" name="attr_CON-base" value="10" accept="Con"/></span>
						<span class="sheet-table-cell"><b data-i18n="intelligence-abbrv">INT</b><input title="@{INT-base}" type="number" name="attr_INT-base" value="10" accept="Int"/></span>
						<span class="sheet-table-cell"><b data-i18n="wisdom-abbrv">WIS</b><input title="@{WIS-base}" type="number" name="attr_WIS-base" value="10" accept="Wis"/></span>
						<span class="sheet-table-cell"><b data-i18n="charisma-abbrv">CHA</b><input title="@{CHA-base}" type="number" name="attr_CHA-base" value="10" accept="Cha"/></span>
						<span class="sheet-table-cell"><b>&nbsp;&nbsp;&nbsp;</b></span>
						<span class="sheet-table-cell"><b data-i18n="base-attack-bonus-abbrv">BAB</b><input title="@{bab}" type="number" name="attr_class-0-bab" value="0" /></span>
						<span class="sheet-table-cell"><b data-i18n="combat-maneuver-bonus-abbrv">CMB</b>&nbsp;<input title="@{CMB}" type="number" name="attr_CMB" value="0" class="sheet-calc" readonly="readonly" /></span>
						<span class="sheet-table-cell sheet-small-label"><input title="@{attk-CMB-misc}" type="number" name="attr_attk-CMB-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
						<span class="sheet-table-cell"><b data-i18n="combat-maneuver-defense-abbrv">CMD</b>&nbsp;<input title="@{CMD}" type="number" name="attr_CMD" value="10" class="sheet-calc" readonly="readonly" /></span>
					   <span class="sheet-table-cell sheet-small-label"><input title="@{CMD-misc}" type="number" name="attr_CMD-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
					</div>
				</div>
			</div>	
			<div role="region" aria-label="npc-defense">
				<hr class="sheet-npc-hr sheet-margin-top" />
				<h2 data-i18n="defense">DEFENSE</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-defense-show" value="1" style="width: 7em;margin: -0.5em -1em 0 -6em;" checked="checked" /><span></span>
				<hr class="sheet-npc-hr sheet-margin-bottom" />
				<div style="text-align:left;" class="sheet-sect">
					<div class="sheet-table">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label"><input type="number" title="@{AC}" name="attr_AC" value="10" class="sheet-calc" readonly="readonly" /><br><span data-i18n="armor-class-abbrv">AC</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{Touch}" type="number" name="attr_Touch" value="10" class="sheet-calc" readonly="readonly" /><br><span data-i18n="touch-armor-class-abbrv">Touch</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{Flat-Footed}" type="number" name="attr_Flat-Footed" value="10" class="sheet-calc" readonly="readonly" /><br><span data-i18n="flat-footed-armor-class-abbrv">Flat-Footed</span></span>
							<span class="sheet-divider-lg" style="text-align:right;">(<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{armor-acbonus}" type="number" name="attr_armor-acbonus" value="0" /><br><label style="text-align:center;"><input title="@{armor-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_armor-equipped" value="1" style="width:10px; height:10px;" checked="checked" /><b title="Equipped" style="font-size: 85%;" data-i18n="armor">Armor</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{shield-acbonus}" type="number" name="attr_shield-acbonus" value="0" /><br><label style="text-align:center;"><input title="@{shield-equipped}" type="checkbox" class="sheet-boldlabel-check" name="attr_shield-equipped" value="1" style="width:10px; height:10px;" checked="checked" /><b title="Equipped" style="font-size: 85%;" data-i18n="shield">Shield</b></label></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{AC-deflect}" type="number" name="attr_AC-deflect" value="0" /><br><span data-i18n="deflect">Deflect</span></span>
							<input type="checkbox" name="attr_maxdex-toggle" class="sheet-warn-show" value="1" style="display:none;" />
							<span class="sheet-table-cell sheet-small-label sheet-highlight sheet-not-sheet-show"><input title="@{AC-ability-mod}" type="number" name="attr_AC-ability-display" value="0" class="sheet-calc" readonly="readonly" /></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{AC-dodge}" type="number" name="attr_AC-dodge" value="0" /><br><span data-i18n="dodge">Dodge</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{AC-natural}" type="number" name="attr_AC-natural" value="0" /><br><span data-i18n="natural">Natural</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{AC-misc}" type="number" name="attr_AC-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{buff_AC-total}" name="attr_buff_AC-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="buff">Buff</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{AC-penalty}" type="number" name="attr_AC-penalty" value="0" max="0" class="sheet-calc" readonly="readonly"><br><span data-i18n="condition-abbrv">Cond</span></span>
							<span class="sheet-divider-lg" style="text-align:left;">)<br>&nbsp;</span>			
						</div>					
					</div>
					<div class="sheet-table">
						<div class="sheet-table-row">
						<input type="hidden" name="attr_npc_hp_compendium" accept="HP"/>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input type="number" title="@{NPC-HP}" name="attr_NPC-HP" value="0" /><br><span data-i18n="hit-points-abbrv">HP</span></span>
							<span class="sheet-divider-lg">/<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input type="number" title="@{NPC-HP|max}" name="attr_NPC-HP_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
							<span class="sheet-divider-lg" style="text-align:right;">(<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input title="@{npc-hd-num}" type="number" name="attr_npc-hd-num" value="0" /><br><span data-i18n="racial-bonus">Racial</span></span>
							<span class="sheet-divider-lg"><br><span data-i18n="dice-abbrv">d</span><br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input title="@{npc-hd} racial HD" type="number" name="attr_npc-hd" value="0" /><br><span data-i18n="hit-die-abbrv">HDie</span></span>
							<span class="sheet-divider-lg">+<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input title="@{npc-hd-num2}" type="number" name="attr_npc-hd-num2" value="0" /><br><span data-i18n="class">Class</span></span>
							<span class="sheet-divider-lg"><br><span data-i18n="secondary-dice-abbrv">d</span><br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input title="@{npc-hd2} class HD" type="number" name="attr_npc-hd2" value="0" /><br><span data-i18n="secondary-hit-die-abbrv">HDie2</span></span>
							<span class="sheet-divider-lg">+<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="text-align:left;width:15%;"><input title="@{npc-hd-misc}" type="text" name="attr_npc-hd-misc" value="0" placeholder="# or Macro"  data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input title="@{npc-hd-misc-mod}" type="number" name="attr_npc-hd-misc-mod" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="modifier-abbrv">Mod</span></span>
							<span class="sheet-divider-lg" style="text-align:left;">);<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="text-align:left;width:25%;"><input type="text" title="@{npc-heal-conditions}" name="attr_npc-heal-conditions" value="" placeholder="Heal conditions" data-i18n-placeholder="heal-conditions" /><br><span data-i18n="heal-conditions">Heal Conditions</span></span>
							<span class="sheet-divider-lg"><br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input type="number" title="@{HP-temp}" name="attr_HP-temp" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="temporary-abbrv">Temp</span></span>
							<span class="sheet-divider-lg">=<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label"><input type="number" title="@{HP-temp-misc}" name="attr_HP-temp-misc" value="0" min="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-divider-lg">+<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label"><input type="number" title="@{buff_HP-temp-total}" name="attr_buff_HP-temp-total" value="0" class="sheet-calc" /><br><span data-i18n="buff">Buff</span></span>	
							<span class="sheet-divider-lg"><br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%;"><input type="number" title="@{non-lethal-damage}" name="attr_non-lethal-damage" value="0" min="0" /><br><span data-i18n="non-lethal-abbrv">NL</span></span>
						</div>
					</div>
					<div class="sheet-table">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label"><button style="font-size:100%;" title="%{selected|NPC-Fort-Save}" type="roll" name="roll_NPC-Fort-Save" value="@{NPC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Fortitude}} {{Save=[[ 1d20 + [[ @{Fort} ]] ]]}} @{save_options}}}" data-i18n="fortitude-abbrv">Fort</button></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{Fort}" type="number" name="attr_Fort" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="total">Total</span></span>
							<span class="sheet-table-cell sheet-small-label">
							<input type="hidden" name="attr_fort_compendium" accept="Fort" />
							<input title="@{Fort-misc}" type="number" name="attr_Fort-misc" value="0"  /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-divider-lg">+<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{buff_Fort-total}" name="attr_buff_Fort-total" type="number" value="0"  class="sheet-calc" readonly="readonly" /><br><span data-i18n="buff">Buff</span></span>
							<span class="sheet-divider-lg">;<br>&nbsp;</span>	
							<span class="sheet-table-cell sheet-small-label"><button style="font-size:100%;" title="%{selected|NPC-Ref-Save}" type="roll" name="roll_NPC-Ref-Save" value="@{NPC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Reflex}} {{Save=[[ 1d20 + [[ @{Ref} ]] ]]}} @{save_options}}}" data-i18n="reflex-abbrv">Ref</button></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{Ref}" type="number" name="attr_Ref" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="total">Total</span></span>
							<input type="hidden" name="attr_ref_compendium" accept="Ref" />
							<span class="sheet-table-cell sheet-small-label"><input title="@{Ref-misc}" type="number" name="attr_Ref-misc" value="0"/><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-divider-lg">+<br>&nbsp;</span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{buff_Ref-total}" name="attr_buff_Ref-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="buff">Buff</span></span>
							<span class="sheet-divider-lg">;<br>&nbsp;</span>	
							<span class="sheet-table-cell sheet-small-label"><button style="font-size:100%;" title="%{selected|NPC-Will-Save}" type="roll" name="roll_NPC-Will-Save" value="@{NPC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Will}} {{Save=[[ 1d20 + [[ @{Will} ]] ]]}} @{save_options}}}" data-i18n="willpower-abbrv">Will</button></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{Will}" type="number" name="attr_Will" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="total">Total</span></span>
							<input type="hidden" name="attr_will_compendium" accept="Will" />
							<span class="sheet-table-cell sheet-small-label"><input title="@{Will-misc}" type="number" name="attr_Will-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-divider">+</span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{buff_Will-total}" name="attr_buff_Will-total" type="number" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="buff">Buff</span></span>
							<span class="sheet-divider-lg">;<br>&nbsp;</span>	
							<span class="sheet-table-cell sheet-small-label"><input type="text" title="@{save-notes}" name="attr_Save-notes" placeholder="Save Notes" data-i18n-placeholder="save-notes" /><br><span data-i18n="save-notes">Save Notes</span></span>
						</div>
					</div>
					<div class="sheet-table">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label"><input type="text" title="@{npc-defensive-abilities}" name="attr_npc-defensive-abilities" placeholder="Defensive abilities" data-i18n-placeholder="defensive-abilities" accept="Defensive Abilities"/><br><span data-i18n="defensive-abilities">Defensive Abilities</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{DR}" type="text" name="attr_DR" accept="DR" /><br><span data-i18n="damage-resistance-abbrv">DR</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{immunities}" type="text" name="attr_immunities" placeholder="Immuneities" data-i18n-placeholder="immunities" accept="Immune" /><br><span data-i18n="immunities">Immunities</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{resistances}" type="text" name="attr_resistances" placeholder="Resistances" data-i18n-placeholder="resistances" accept="Resist" /><br><span data-i18n="resistance">Resistances</span></span>
							<span class="sheet-table-cell sheet-small-label" style="width:5%"><input title="@{SR}" type="number" name="attr_SR" value="0" data-i18n-placeholder="spell-resistance" accept="Spell Resistance" /><br><span data-i18n="spell-resistance-abbrv">SR</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{weaknesses}" type="text" name="attr_weaknesses" placeholder="Weaknesses" data-i18n-placeholder="weaknesses" accept="Weaknesses"/><br><span data-i18n="weaknesses">Weaknesses</span></span>
						</div>
					</div>
					<div>
						<h4 data-i18n="options">Options</h4>
						<input type="checkbox" class="sheet-options-show" title="@{options_defense_options-show}" name="attr_options_defense_options-show" value="1" style="opacity:0; width:70px; height:1.5em; position:relative; top:0; left:0; margin:0 -15px 0 -55px; cursor:pointer; z-index:1;" /><span></span>
						<input type="hidden" name="attr_var_dr_notes" value="{{dr_notes=@{DR}}}" disabled />
						<input type="hidden" name="attr_var_resistances_notes" value="{{resistances_notes=@{resistances}}}" disabled />
						<input type="hidden" name="attr_var_immunities_notes" value="{{immunities_notes=@{immunities}}}" disabled />
						<input type="hidden" name="attr_var_weaknesses_notes" value="{{weaknesses_notes=@{weaknesses}}}" disabled />
						<input type="hidden" name="attr_var_sr0_notes" value="{{sr0_notes=@{SR}}}" disabled />
						<input type="hidden" name="attr_var_armor_notes" value="{{armor_notes=@{Armor-notes}}}" disabled />
						<input type="hidden" name="attr_var_save_notes" value="{{save_notes=@{Save-notes}}}" disabled />
						<input type="hidden" name="attr_var_cmd_notes" value="{{cmd_notes=@{cmd-notes}}}" disabled />
						<input type="hidden" name="attr_var_defense_notes" value="{{defense_notes=@{defense-notes}}}" disabled />	
						<div class="sheet-table sheet-options">
							<div class="sheet-table-row">
								<span class="sheet-table-cell sheet-small-label sheet-left"><b title="Include these additional attributes with saving throws?" data-i18n-placeholder="include-save-info-title" data-i18n="include-info">Include info?</b></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_dr_notes" value="@{var_dr_notes}" title="@{toggle_dr_notes}" /><b title="Show Damage Reduction" data-i18n-title="options-defenses-dr-title" data-i18n="damage-resistance-abbrv"> DR</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_resistances_notes" value="@{var_resistances_notes}" title="Show Resistances" /><b title="Show Resistances" data-i18n-title="options-defenses-resis-title" data-i18n="resistance"> Resistances</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_immunities_notes" value="@{var_immunities_notes}" title="Show Immunities" /><b title="Show Immunities" data-i18n-title="options-defenses-immun-title" data-i18n="immunities"> Immunities</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_weaknesses_notes" value="@{var_weaknesses_notes}" title="Show Weaknesses" /><b title="Show Weaknesses" data-i18n-title="options-defenses-weak-title" data-i18n="weaknesses"> Weaknesses</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_sr0_notes" value="@{var_sr0_notes}" title="@{toggle_sr0_notes}" /><b title="Show Spell Resistance" data-i18n-title="options-defenses-resis-title" data-i18n="spell-resistance-abbrv"> SR</b></label></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell sheet-small-label sheet-left">&nbsp;</span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_armor_notes" value="@{var_armor_notes}" title="@{toggle_armor_notes}" /><b title="Show Armor Notes" data-i18n-title="options-defenses-armor-title" data-i18n="armor-notes"> Armor Notes</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_save_notes" value="@{var_save_notes}" title="@{toggle_save_notes}" /><b title="Show Save Notes" data-i18n-title="options-defenses-save-title" data-i18n="save-notes"> Save Notes</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_cmd_notes" value="@{var_cmd_notes}" title="@{toggle_cmd_notes}" /><b title="Show CMD Notes" data-i18n-title="options-defenses-cmd-title" data-i18n="combat-maneuver-defense-notes"> CMD Notes</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left"><label><input type="checkbox" name="attr_toggle_defense_notes" value="@{var_defense_notes}" title="@{toggle_defense_notes}" /><b title="Show Defense Notes" data-i18n-title="options-defenses-def-title" data-i18n="defense-notes"> Defense Notes</b></label></span>
								<span class="sheet-table-cell sheet-small-label sheet-left">&nbsp;</span>
							</div>
						</div>
						<input type="hidden" name="attr_save_options" value="@{toggle_dr_notes} @{toggle_resistances_notes} @{toggle_immunities_notes} @{toggle_weaknesses_notes} @{toggle_sr0_notes} @{toggle_armor_notes} @{toggle_save_notes} @{toggle_cmd_notes} @{toggle_defense_notes}" disabled />
					</div>
				</div>
			</div>
	
			<div role="region" aria-label="npc-offense">
				<hr class="sheet-npc-hr sheet-margin-top" />
				<h2 data-i18n="offense">OFFENSE</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-offense-show" value="1" style="width: 7em;margin: -0.5em -1em 0 -6em;" checked="checked" /><span></span>
				<hr class="sheet-npc-hr sheet-margin-bottom" />
				<div style="text-align:left;" class="sheet-sect"  role="region" aria-label="npc-speed">
					<h3  data-i18n="speed">Speed</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-speed-show" value="1" style="width: 6em;margin: -0.5em -1em 0 -5em;" checked="checked" /><span></span>
					<div class="sheet-table sheet-sect">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-base}" type="number" name="attr_speed-base" value="0" step="5" /><br><span data-i18n="base-speed">Base</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-modified} by encumbrance" type="number" name="attr_speed-modified" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="encumbered-speed">Encumbered</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-run}" type="number" name="attr_speed-run" value="0" class="sheet-calc" readonly="readonly" /><br/><span data-i18n="run">Run</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-burrow}" type="number" name="attr_speed-burrow" value="0" step="5" /><br><span data-i18n="burrow-speed">Burrow</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-climb}" type="number" name="attr_speed-climb" value="0" step="5" /><br><span data-i18n="climb">Climb</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-fly}" type="number" name="attr_speed-fly" value="0" step="5" /><br><span data-i18n="fly">Fly</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-fly-maneuverability}" type="text" name="attr_speed-fly-maneuverability" placeholder="Maneuverability" data-i18n-placeholder="maneuverability" /><br><span data-i18n="maneuverability">Maneuverability</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-swim}" type="number" name="attr_speed-swim" value="0" step="5" /><br><span data-i18n="swim-speed">Swim</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-misc}" type="number" name="attr_speed-misc" value="0" step="5" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{speed-notes}" type="text" name="attr_speed-notes" placeholder="Speed Notes" data-i18n-placeholder="speed-notes" accept="Speed" /><br><span data-i18n="speed-notes">Speed Notes</span></span>
						</div>
					</div>
				</div>
				<div style="text-align:left;" class="sheet-sect"  role="region" aria-label="npc-space-reach">
					<h3 data-i18n="space-reach">Space and Reach</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-space-show" value="1" style="width: 9em;margin: -0.5em -1em 0 -8em;" checked="checked" /><span></span>
					<div class="sheet-table sheet-sect">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label sheet-sect"><input title="@{space}" type="number" name="attr_space" value="0" min="0" /><br><span data-i18n="space">Space (ft.)</span></span>
							<span class="sheet-table-cell sheet-small-label sheet-sect"><input title="@{reach}" type="number" name="attr_reach" value="0" step="5" min="0" /><br><span data-i18n="reach">Reach (ft.)</span></span>
							<span class="sheet-table-cell sheet-small-label sheet-sect"><input title="@{reach-notes}" type="text" name="attr_reach-notes" placeholder="Reach notes" data-i18n-placeholder="reach-notes" accept="Reach" /><br><span data-i18n="reach-notes">Reach Notes</span></span>
						</div>
					</div>
				</div>

				<div class="sheet-sect"  role="region" aria-label="npc-special-attacks">
					<h3 data-i18n="special-attacks">Special Attacks</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-special-attacks-show" value="1" style="width: 9em;margin: -0.5em -1em 0 -8em;" checked="checked" /><span></span>
					<textarea style="height:50px;" class="sheet-sect" title="@{npc-special-attacks}" name="attr_npc-special-attacks" placeholder="List all special combat actions here, in alphabetical order. Do not list feats." data-i18n-placeholder="npc-special-attacks-place" accept="Special Attacks"></textarea>
					<textarea style="height:50px;" class="sheet-sect" title="@{npc-spellike-ability-text}" name="attr_npc-spellike-ability-text" placeholder="Spell like abilities from compendium" data-i18n-placeholder="npc-spellike-abilities-text-place" accept="Spell-Like Abilities"></textarea>
					<textarea style="height:50px;" class="sheet-sect" title="@{npc-melee-attacks-text}" name="attr_npc-melee-attacks-text" placeholder="Melee attacks from compendium" data-i18n-placeholder="npc-melee-attacks-text-place" accept="Melee"></textarea>
					<textarea style="height:50px;" class="sheet-sect" title="@{npc-ranged-attacks-text}" name="attr_npc-ranged-attacks-text" placeholder="Ranged attacks from compendium" data-i18n-placeholder="npc-ranged-attacks-text-place" accept="Ranged"></textarea>
					<textarea style="height:50px;" class="sheet-sect" title="@{npc-spells-known-text}" name="attr_npc-spells-known-text" placeholder="Spells known abilities from compendium" data-i18n-placeholder="npc-spells-known-text-place" accept="Spells Known"></textarea>
					<textarea style="height:50px;" class="sheet-sect" title="@{npc-feats-text}" name="attr_npc-feats-text" placeholder="Feats from compendium" data-i18n-placeholder="npc-feats-text" accept="Feats"></textarea>
				</div>
				
			</div><!-- offense -->

		</div><!-- compendium import -->
		<div>
			<div role="region" aria-label="offense 2">
				<input style="display:none;" type="checkbox" class="sheet-sect-show" name="attr_npc-offense-show" value="1"  checked="checked" /><span class="sheet-not-sheet-show"></span>

	
				<div class="sheet-h3-section sheet-sect" role="region" aria-label="npc-attackbooks">
					<h3 data-i18n="attackmacro">All Attacks Macro Button</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_attacks-macro-show" value="1" style="width: 16em;margin: -0.5em -1em 0 -15em;" checked="checked" /><span></span>
					<div class="sheet-sect sheet-table" >
						<div class="sheet-table-row">
							<div class="sheet-table-cell">
								<button type="roll" class="sheet-command-button" name="attr_attacks_buttons_macro-npc" value="@{attacks-macro-npc}" title="%{selected|attacks_buttons_macro-npc}"><span data-i18n="non-player-character-attacks-abbrv">NPC Attacks</span></button>
								<input type="text" name="attr_attacks-macro-npc" value="" style="display:none;" />
							</div>
						</div>
					</div>
				</div>

				<div class="sheet-repeating-sect sheet-sect"  role="region" aria-label="npc-attacks">
					<h3 data-i18n="attacks">Attacks</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_attacks-show" value="1" style="width: 6em;margin: -0.5em -1em 0 -5em;" checked="checked" /><span></span>
					<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_attacks-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
					<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_weapon-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
					<div class="sheet-table sheet-sect">
						<span class="sheet-table-name" data-i18n="attacks">Attacks</span>
					</div>

					<div class="sheet-sect">
						<div class="sheet-repeating-fields">
							<fieldset class="repeating_weapon">
								<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
								<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" name="attr_attack-show" title="Minimize Row" value="1" checked="checked" /><span class="sheet-table-cell"></span>
								<span style="display:none;" class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_attack-roll" title="%{selected|repeating_weapon_$X_attack-roll}" value="@{macro-text}"></button></span>
								<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_attack-npc-roll" title="%{selected|repeating_weapon_$X_attack-npc-roll}" value="@{NPC-macro-text}"></button></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect"><input type="number" name="attr_enhance" title="@{repeating_weapon_$X_enhance}" value="0"  /><br><span data-i18n="enhancement-abbrv">Enh</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="padding-top: 8px;"><input type="checkbox" name="attr_masterwork" title="@{repeating_weapon_$X_masterwork}" value="1" style="width:15px;height:15px;" /><br><span data-i18n="masterwork-abbrv">Mwk</span></span>
								<span class="sheet-table-cell sheet-small-label"><input type="text" name="attr_name" title="@{repeating_weapon_$X_name}" placeholder="Name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:8%;"><input type="text" name="attr_attack" title="@{repeating_weapon_$X_attack}" placeholder="Attack Modifiers" data-i18n-placeholder="attack-modifier-abbrv" /><br><span data-i18n="attack-modifiers-abbrv">ATK Mods</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:8%;"><input type="number" name="attr_attack-mod" title="@{repeating_weapon_$X_attack-mod}" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="value-abbrv">val</span></span>
								<span class="sheet-divider sheet-sect">+</span>
								<span class="sheet-table-cell sheet-small-label" style="width:10%;">
									<select title="@{repeating_weapon_$X_attack-type}" name="attr_attack-type">
										<option value="0" data-i18n="none-default" selected>&#8226;None</option>
										<option value="@{attk-melee}" data-i18n="melee">Melee</option>
										<option value="@{attk-ranged}" data-i18n="ranged">Ranged</option>
										<option value="@{CMB}" data-i18n="combat-maneuver-bonus-abbrv">CMB</option>
									</select>
									<br><span data-i18n="attack-type-abbrv">ATK Type</span>
								</span>
								<span class="sheet-divider sheet-sect">=</span>
								<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_total-attack" title="@{repeating_weapon_$X_total-attack}" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="attack-abbrv">ATK</span></span>
								<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_crit-target" title="@{repeating_weapon_$X_crit-target}" value="20" min="0" max="20" /><br><span data-i18n="critical-abbrv">Crit</span></span>
								<span class="sheet-divider-lg" style="padding-bottom:10px;"><b>/x</b></span>
								<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_crit-multiplier" title="@{repeating_weapon_$X_crit-multiplier}" value="2" min="0" /><br><span data-i18n="multiplier-abbrv">Mult</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect">
									<select title="@{repeating_weapon_$X_proficiency}" name="attr_proficiency">
										<option value="0" data-i18n="yes-default" selected>&#8226;Yes</option>
										<option value="-4" data-i18n="no">No</option>
									</select>
									<br><span data-i18n="proficiency">Proficiency</span>
								</span>
								<div></div>	
								<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_damage-dice-num" title="@{repeating_weapon_$X_damage-dice-num}" style="width:2.8em;" value="0" min="0" /><br><span data-i18n="dice">Dice</span></span>
								<span class="sheet-divider" style="padding-bottom: 10px;" data-i18n="number-of-dice-abbrv">d</span>
								<span class="sheet-table-cell sheet-small-label" style="width:3em;"><input type="number" name="attr_damage-die" title="@{repeating_weapon_$X_damage-die}" style="width:2.8em;" value="0" min="0" /><br><span data-i18n="die">Die</span></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell sheet-small-label sheet-entry_med sheet-sect"><input type="text" name="attr_damage" title="@{repeating_weapon_$X_damage}" placeholder="Damage Modifiers" data-i18n-placeholder="damage-modifiers" /><br><span data-i18n="damage-modifier-abbrv">DMG Mods</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect"><input type="number" name="attr_damage-mod" title="@{repeating_weapon_$X_damage-mod}" value="0" style="width:2.4em;" class="sheet-calc" readonly="readonly" /><br><span data-i18n="value-abbrv">val</span></span>
								<span class="sheet-divider sheet-sect">+</span>
								<span class="sheet-table-cell sheet-small-label" style="width:8%;">
									<select title="@{repeating_weapon_$X_damage-ability}" name="attr_damage-ability" style="font-size:1em;">
										<option value="0 - [[ @{condition-sickened} ]]" data-i18n="none-default" selected>&#8226;None</option>
										<option value="floor(0.5 * @{STR-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-strength-abbrv">1/2 STR</option>
										<option value="floor(0.5 * @{DEX-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-dexterity-abbrv">1/2 DEX</option>
										<option value="floor(0.5 * @{CON-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-constitution-abbrv">1/2 CON</option>
										<option value="floor(0.5 * @{INT-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-intelligence-abbrv">1/2 INT</option>
										<option value="floor(0.5 * @{WIS-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-wisdom-abbrv">1/2 WIS</option>
										<option value="floor(0.5 * @{CHA-mod}) - [[ @{condition-sickened} ]]" data-i18n="half-charisma-abbrv">1/2 CHA</option>
										<option value="@{STR-mod} - [[ @{condition-sickened} ]]" data-i18n="strength-abbrv">STR</option>
										<option value="@{DEX-mod} - [[ @{condition-sickened} ]]" data-i18n="dexterity-abbrv">DEX</option>
										<option value="@{CON-mod} - [[ @{condition-sickened} ]]" data-i18n="constitution-abbrv">CON</option>
										<option value="@{INT-mod} - [[ @{condition-sickened} ]]" data-i18n="intelligence-abbrv">INT</option>
										<option value="@{WIS-mod} - [[ @{condition-sickened} ]]" data-i18n="wisdom-abbrv">WIS</option>
										<option value="@{CHA-mod} - [[ @{condition-sickened} ]]" data-i18n="charisma-abbrv">CHA</option>
										<option value="floor(1.5 * @{STR-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-strength-abbrv">1.5x STR</option>
										<option value="floor(1.5 * @{DEX-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-dexterity-abbrv">1.5x DEX</option>
										<option value="floor(1.5 * @{CON-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-constitution-abbrv">1.5x CON</option>
										<option value="floor(1.5 * @{INT-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-intelligence-abbrv">1.5x INT</option>
										<option value="floor(1.5 * @{WIS-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-wisdom-abbrv">1.5x WIS</option>
										<option value="floor(1.5 * @{CHA-mod}) - [[ @{condition-sickened} ]]" data-i18n="one-and-a-half-charisma-abbrv">1.5x CHA</option>
										<option value="floor(2 * @{STR-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-strength-abbrv">2x STR</option>
										<option value="floor(2 * @{DEX-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-dexterity-abbrv">2x DEX</option>
										<option value="floor(2 * @{CON-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-constitution-abbrv">2x CON</option>
										<option value="floor(2 * @{INT-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-intelligence-abbrv">2x INT</option>
										<option value="floor(2 * @{WIS-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-wisdom-abbrv">2x WIS</option>
										<option value="floor(2 * @{CHA-mod}) - [[ @{condition-sickened} ]]" data-i18n="double-charisma-abbrv">2x CHA</option>
									</select>
									<br><span data-i18n="damage-ability">DMG Ability</span>
								</span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:2em;"><input style="width:2em;" type="text" name="attr_damage-ability-max" title="@{repeating_weapon_$X_damage-ability-max} for strength bows, etc." value="" placeholder="NA" /><br/><span data-i18n="maximum-abbrv">Max</span></span>
								<span class="sheet-divider sheet-sect">=</span>
								<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_total-damage" title="@{repeating_weapon_$X_total-damage}" value="0" style="width:2.8em;" class="sheet-calc" readonly="readonly" /><br><span data-i18n="damage-abbrv">DMG</span></span>
								<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_range" title="@{repeating_weapon_$X_range}" value="0" min="0"  /><br><span data-i18n="range">Range</span></span>
								<span class="sheet-table-cell sheet-small-label"><input type="text" name="attr_type" title="@{repeating_weapon_$X_type} Damage Type" placeholder="Damage Type" data-i18n-placeholder="damage-type" style="width:3em;"/><br><span data-i18n="type">type</span></span>
								<span class="sheet-table-cell sheet-small-label"><input type="number" name="attr_ammo" title="@{repeating_weapon_$X_ammo}" value="0" style="width:2.8em;" /><br><span data-i18n="ammo">Ammo</span></span>
								<div class="sheet-table sheet-sect">
									<textarea class="sheet-weapon-notes" name="attr_notes" title="@{repeating_weapon_$X_notes}" placeholder="Weapon Notes" data-i18n-placeholder="weapon-notes" ></textarea>
									<span class="sheet-center sheet-small-label" style="display: block;" data-i18n="notes">Notes</span>
								</div>
								<div class="sheet-sect sheet-expand">	
									<h4 data-i18n="iterative-attacks" title="Add additional attacks for this weapon.">Iterative Attacks</h4>
									<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_iterative-attacks-show" value="1" style="width: 11.25em;margin: -0.5em -1em 0 -10.25em;" /><span></span>
									<h4 data-i18n="options">Options</h4>
									<input type="checkbox" class="sheet-options-show" title="@{options-show}" name="attr_options-show" value="1" style="opacity:0; width:70px; height:1.5em; position:relative; top:0; left:0; margin:0 -15px 0 -55px; cursor:pointer; z-index:1;" /><span></span>
									<h4 data-i18n="macro-text">Macro Text</h4>
									<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_weapon_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
									<h4 data-i18n="identification-abbrv">IDs</h4>
									<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_weapon_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>

									<div class="sheet-table sheet-sect sheet-iterative_attack_section">
										<span class="sheet-table-name" data-i18n="iterative-attacks">Iterative Attacks</span>
										<div class="sheet-table-row">
											<span class="sheet-table-header" style="width: 10rem;" data-i18n="include-attacks-?">Include Attack?</span>
											<span class="sheet-table-header" data-i18n="attack-modifier-abbrv">Attack Mod</span>
											<span class="sheet-table-header" data-i18n="macro-text">Macro</span>
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell">
												<label>
													<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack2" title="@{repeating_weapon_$X_toggle_iterative_attack2}" value="@{var_iterative_attack2_macro}" />
													<b title="Include a second attack to your weapon?" data-i18n="include-second-attack">Include a 2nd attack?</b>
												</label>
											</span>
											<span class="sheet-table-cell">
												<input type="number" name="attr_iterative_attack2_value" title="@{repeating_weapon_$X_iterative_attack2_value}" value="-5" max="0" />
											</span>
											<span class="sheet-table-cell">
												<input type="text" name="attr_var_iterative_attack2_macro" title="@{repeating_weapon_$X_var_iterative_attack2_macro}" value="{{attack2=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack2_value} ]] ]]}} {{damage2=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm2=[[ 1d20 + [[ @{total-attack} + @{iterative_attack2_value} ]] ]]}} {{crit_damage2=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
											</span>
											<input type="hidden" name="attr_var_iterative_attack2" value="{{attack2=@{iterative_attack2_macro}}}" />
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell">
												<label>
													<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack3" title="@{repeating_weapon_$X_toggle_iterative_attack3}" value="@{var_iterative_attack3_macro}" />
													<b title="Include a third attack to your weapon?" data-i18n="include-third-attack">Include a 3rd attack?</b>
												</label>
											</span>
											<span class="sheet-table-cell sheet-small-label">
												<input type="number" name="attr_iterative_attack3_value" title="@{repeating_weapon_$X_iterative_attack3_value}" value="-10" max="0" />
											</span>
											<span class="sheet-table-cell sheet-small-label">
												<input type="text" name="attr_var_iterative_attack3_macro" title="@{repeating_weapon_$X_var_iterative_attack3_macro}" value="{{attack3=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack3_value} ]] ]]}} {{damage3=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm3=[[ 1d20 + [[ @{total-attack} + @{iterative_attack3_value} ]] ]]}} {{crit_damage3=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
											</span>
											<input type="hidden" name="attr_var_iterative_attack3" value="{{attack3=@{iterative_attack3_macro}}}" />
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell">
												<label>
													<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack4" title="@{repeating_weapon_$X_toggle_iterative_attack4}" value="@{var_iterative_attack4_macro}" />
													<b title="Include a fourth attack to your weapon?" data-i18n="include-fourth-attack">Include a 4th attack?</b>
												</label>
											</span>
											<span class="sheet-table-cell">
												<input type="number" name="attr_iterative_attack4_value" title="@{repeating_weapon_$X_iterative_attack4_value}" value="-15" max="0" />
											</span>
											<span class="sheet-table-cell">
												<input type="text" name="attr_var_iterative_attack4_macro" title="@{repeating_weapon_$X_var_iterative_attack4_macro}" value="{{attack4=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack4_value} ]] ]]}} {{damage4=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm4=[[ 1d20 + [[ @{total-attack} + @{iterative_attack4_value} ]] ]]}} {{crit_damage4=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
											</span>
											<input type="hidden" name="attr_var_iterative_attack4" value="{{attack4=@{iterative_attack4_macro}}}" />
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell">
												<label>
													<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack5" title="@{repeating_weapon_$X_toggle_iterative_attack5}" value="@{var_iterative_attack5_macro}" />
													<b title="Include a fifth attack to your weapon?" data-i18n="include-fifth-attack">Include a 5th attack?</b>
												</label>
											</span>
											<span class="sheet-table-cell">
												<input type="number" name="attr_iterative_attack5_value" title="@{repeating_weapon_$X_iterative_attack5_value}" value="-20" max="0" />
											</span>
											<span class="sheet-table-cell">
												<input type="text" name="attr_var_iterative_attack5_macro" title="@{repeating_weapon_$X_var_iterative_attack5_macro}" value="{{attack5=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack5_value} ]] ]]}} {{damage5=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm5=[[ 1d20 + [[ @{total-attack} + @{iterative_attack5_value} ]] ]]}} {{crit_damage5=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
											</span>
											<input type="hidden" name="attr_var_iterative_attack5" value="{{attack5=@{iterative_attack5_macro}}}" />
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell">
												<label>
													<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack6" title="@{repeating_weapon_$X_toggle_iterative_attack6}" value="@{var_iterative_attack6_macro}" />
													<b title="Include a sixth attack to your weapon?" data-i18n="include-sixth-attack">Include a 6th attack?</b>
												</label>
											</span>
											<span class="sheet-table-cell">
												<input type="number" name="attr_iterative_attack6_value" title="@{repeating_weapon_$X_iterative_attack6_value}" value="-25" max="0" />
											</span>
											<span class="sheet-table-cell">
												<input type="text" name="attr_var_iterative_attack6_macro" title="@{repeating_weapon_$X_var_iterative_attack6_macro}" value="{{attack6=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack6_value} ]] ]]}} {{damage6=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm6=[[ 1d20 + [[ @{total-attack} + @{iterative_attack6_value} ]] ]]}} {{crit_damage6=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
											</span>
											<input type="hidden" name="attr_var_iterative_attack6" value="{{attack6=@{iterative_attack6_macro}}}" />
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell">
												<label>
													<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack7" title="@{repeating_weapon_$X_toggle_iterative_attack7}" value="@{var_iterative_attack7_macro}" />
													<b title="Include a seventh attack to your weapon?" data-i18n="include-seventh-attack">Include a 7th attack?</b>
												</label>
											</span>
											<span class="sheet-table-cell">
												<input type="number" name="attr_iterative_attack7_value" title="@{repeating_weapon_$X_iterative_attack7_value}" value="-30" max="0" />
											</span>
											<span class="sheet-table-cell">
												<input type="text" name="attr_var_iterative_attack7_macro" title="@{repeating_weapon_$X_var_iterative_attack7_macro}" value="{{attack7=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack7_value} ]] ]]}} {{damage7=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm7=[[ 1d20 + [[ @{total-attack} + @{iterative_attack7_value} ]] ]]}} {{crit_damage7=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
											</span>
											<input type="hidden" name="attr_var_iterative_attack7" value="{{attack7=@{iterative_attack7_macro}}}" />
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell">
												<label>
													<input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_iterative_attack8" title="@{repeating_weapon_$X_toggle_iterative_attack8}" value="@{var_iterative_attack8_macro}" />
													<b title="Include an eighth attack to your weapon?" data-i18n="include-eighth-attack">Include an 8th attack?</b>
												</label>
											</span>
											<span class="sheet-table-cell">
												<input type="number" name="attr_iterative_attack8_value" title="@{repeating_weapon_$X_iterative_attack8_value}" value="-35" max="0" />
											</span>
											<span class="sheet-table-cell">
												<input type="text" name="attr_var_iterative_attack8_macro" title="@{repeating_weapon_$X_var_iterative_attack8_macro}" value="{{attack8=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} + @{iterative_attack8_value} ]] ]]}} {{damage8=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm8=[[ 1d20 + [[ @{total-attack} + @{iterative_attack8_value} ]] ]]}} {{crit_damage8=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}}" />
											</span>
											<input type="hidden" name="attr_var_iterative_attack8" value="{{attack8=@{iterative_attack8_macro}}}" />
										</div>
										<input type="hidden" name="attr_iterative_attacks" value="@{toggle_iterative_attack2} @{toggle_iterative_attack3} @{toggle_iterative_attack4} @{toggle_iterative_attack5} @{toggle_iterative_attack6} @{toggle_iterative_attack7} @{toggle_iterative_attack8}" />
									</div>
									<div class="sheet-table sheet-options">
										<textarea style="display:none;" name="attr_var_melee_notes">{{melee_notes=@{melee-attack-notes}}}</textarea>
										<textarea style="display:none;" name="attr_var_ranged_notes">{{ranged_notes=@{ranged-attack-notes}}}</textarea>
										<textarea style="display:none;" name="attr_var_CMB_notes">{{CMB_notes=@{CMB-notes}}}</textarea>
										<textarea style="display:none;" name="attr_var_attack_notes">{{attack_notes=@{attack-notes}}}</textarea>
										<textarea style="display:none;" name="attr_var_melee_image">{{header_image=@{header_image-pf_attack-melee}}}</textarea>
										<textarea style="display:none;" name="attr_var_ranged_image">{{header_image=@{header_image-pf_attack-ranged}}}</textarea>
										<textarea style="display:none;" name="attr_var_CMB_image">{{header_image=@{header_image-pf_attack-cmb}}}</textarea>
										<textarea style="display:none;" name="attr_var_none_image">{{header_image=}}</textarea>
										<div class="sheet-table-row">
											<span class="sheet-table-cell sheet-small-label"><b title="Include these additional notes with this attack roll." data-i18n-placeholder="include-notes-attack-title" data-i18n="include-notes">Include notes?</b></span>
											<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_melee_notes" value="@{var_melee_notes}" title="@{repeating_weapon_$X_toggle_melee_notes}" /><b title="Include Melee attack notes." data-i18n-title="options-attacks-melee-title" data-i18n="melee-notes"> Melee Notes</b></label></span>
											<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_ranged_notes" value="@{var_ranged_notes}" title="@{repeating_weapon_$X_toggle_ranged_notes}" /><b title="Include Ranged attack notes." data-i18n-title="options-attacks-ranged-title" data-i18n="ranged-notes"> Ranged Notes</b></label></span>
											<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_CMB_notes" value="@{var_CMB_notes}" title="@{repeating_weapon_$X_toggle_CMB_notes}" /><b title="Include CMB notes." data-i18n-title="options-attacks-cmb-title" data-i18n="combat-maneuver-bonus-notes"> CMB Notes</b></label></span>
											<span class="sheet-table-cell sheet-small-label" style="width:15%; white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_attack_notes" value="@{var_attack_notes}" title="@{repeating_weapon_$X_toggle_attack_notes}" /><b title="Include Attack notes." data-i18n-title="options-attacks-attack-title" data-i18n="attack-notes"> Attack Notes</b></label></span>
											<span class="sheet-table-cell sheet-small-label" style="width:20%;" title="Displays the attributes included within @{macro_options}" data-i18n="macro-options">Macro Options</span>
										</div>
										<div class="sheet-table-row">
											<span class="sheet-table-cell sheet-small-label"><b title="Set an appropriate header image for this attack roll. note: header images must be enabled(Config tab)." data-i18n="header-image">Header image?</b></span>
											<span class="sheet-table-cell sheet-small-label" style="white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_melee_image}" title="@{repeating_weapon_$X_toggle_header_image}" /><b title="Include the Melee header image." data-i18n-title="options-attacks-melee-image-title" data-i18n="melee-image"> Melee Image</b></label></span>
											<span class="sheet-table-cell sheet-small-label" style="white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_ranged_image}" title="@{repeating_weapon_$X_toggle_header_image}" /><b title="Include the Ranged header image." data-i18n-title="options-attacks-ranged-image-title" data-i18n="ranged-image"> Ranged Image</b></label></span>
											<span class="sheet-table-cell sheet-small-label" style="white-space:nowrap;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_CMB_image}" title="@{repeating_weapon_$X_toggle_header_image}" /><b title="Include the CMB header image." data-i18n-title="options-attacks-cmb-image-title" data-i18n="combat-maneuver-bonus-image"> CMB Image</b></label></span>
											<span class="sheet-table-cell sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_header_image" value="@{var_none_image}" title="@{repeating_weapon_$X_toggle_header_image}" checked /><b title="Do not include a header image." data-i18n-title="options-attacks-none-title" data-i18n="none"> None</b></label></span>
											<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" name="attr_macro_options" title="@{repeating_weapon_$X_macro_options}">@{toggle_melee_notes} @{toggle_ranged_notes} @{toggle_CMB_notes} @{toggle_attack_notes} @{toggle_header_image}</textarea></span>
										</div>	
									</div>
									<textarea style="display:none;" class="sheet-macro-text" title="@{repeating_weapon_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} ]] ]]}} {{damage=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm=[[ 1d20 + [[ @{total-attack} ]] ]]}} {{crit_damage=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}} {{type=@{type}}} {{weapon_notes=@{notes}}} @{iterative_attacks} @{macro_options}</textarea>
									<textarea class="sheet-macro-text" title="@{repeating_weapon_$X_NPC-macro-text}" name="attr_NPC-macro-text">@{NPC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{attack=[[ 1d20cs>[[ @{crit-target} ]] + [[ @{total-attack} ]] ]]}} {{damage=[[ @{damage-dice-num}d@{damage-die} + [[ @{total-damage} ]] ]]}} {{crit_confirm=[[ 1d20 + [[ @{total-attack} ]] ]]}} {{crit_damage=[[ [[ (@{damage-dice-num} * (@{crit-multiplier} - 1)) ]]d@{damage-die} + [[ (@{total-damage} * (@{crit-multiplier} - 1)) ]] ]]}} {{type=@{type}}} {{description=@{notes}}} @{iterative_attacks} @{macro_options}</textarea>
									<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
									</div>
								</div>
							</fieldset>
						</div>

					</div>
				</div>
				
				<div class="sheet-sect"  role="region" aria-label="npc-spell-like-abilities">
					<h3 data-i18n="spell-like-abilities">Spell-Like Abilities</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-spell-like-abilities-show" value="1" style="width: 18em;margin: -0.5em -1em 0 -17em;" checked="checked" /><span></span>
					<div class="sheet-sect">
						<h4 data-i18n="spell-like-abilities-class-zero">Class and stat abilities based on</h4>
						<div class="sheet-table">
							<span class="sheet-table-name" data-i18n="spell-like-abilities-class-zero">Spell Like Abilities Class 0</span>
							<div class="sheet-table-row">
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="caster-level-abbrv">CL</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								<span class="sheet-table-header" data-i18n="concentration-check">Concentration Check</span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="ability">Ability</span>
								<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Spell-Class-0-CL-Check}" type="roll" name="roll_NPC-Spell-Class-0-CL-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CL Check}} {{Class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{Check=[[ 1d20 + @{spellclass-0-level} + @{spellclass-0-level-misc} ]]}}"><span data-i18n="caster-level-check-abbrv">CL Check</span></button></span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-total}" type="number" name="attr_spellclass-0-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">=</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level}" type="number" name="attr_spellclass-0-level" value="0" /></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell"><input title="@{spellclass-0-level-misc}" type="number" name="attr_spellclass-0-level-misc" value="0" /></span>
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Concentration-Check-0}" type="roll" name="roll_NPC-Concentration-Check-0" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Concentration Check}} {{Class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{Check=[[ 1d20 + @{Concentration-0} ]]}}"><span data-i18n="concentration-check-abbrv">Concentration</span></button></span>
								<span class="sheet-table-cell"><input title="@{Concentration-0}" type="number" name="attr_Concentration-0" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">=</span>
								<span class="sheet-table-cell">
									<select title="@{Concentration-0-ability}" name="attr_Concentration-0-ability">
										<option value="0" data-i18n="none-default" selected>&#8226;None</option>
										<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
										<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
										<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
										<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
										<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
										<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
									</select>
								 </span>
								<span class="sheet-table-cell"><input title="@{Concentration-0-mod}" type="number" name="attr_Concentration-0-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-divider">+</span>
								<span class="sheet-table-cell"><input title="@{Concentration-0-misc}" type="number" name="attr_Concentration-0-misc" value="0" /></span>
							</div>
						</div>
					</div>
					<div class="sheet-sect">
						<h4 data-i18n="spell-like-abilities">Spell-Like Abilities</h4>
						<div class="sheet-repeating-sect">
							<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_npc-spell-like-abilities-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
							<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_npc-spell-like-abilities-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_npc-spell-like-abilities">
								<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
								   <input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize Row" name="attr_spell-show" value="1" checked="checked" />
									<span class="sheet-table-cell"></span>
									<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_npc-spell-like-abilities_$X_roll}" value="@{macro-text}"></button></span>
									<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_npc-spell-like-abilities_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses-per-day">Uses/Day</span></span>
									<span class="sheet-table-cell sheet-small-label" style="width:25%;"><input title="@{repeating_npc-spell-like-abilities_$X_name}" type="text" name="attr_name" placeholder="Name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span>
									<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:25%;"><input title="@{repeating_npc-spell-like-abilities_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description" /><br><span data-i18n="short-description">Short Desc</span></span>
									<span class="sheet-table-cell sheet-small-label sheet-sect"><input title="@{repeating_npc-spell-like-abilities_$X_level}" type="text" name="attr_level" value="0" placeholder="Spell Level" data-i18n-placeholder="spell-level" /><br><span data-i18n="level">Level</span></span>
									<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_npc-spell-like-abilities_$X_range}" type="text" name="attr_range" value="" placeholder="Range" data-i18n-placeholder="spell-range" /><br><span data-i18n="range">Range</span></span>
									<span class="sheet-table-cell sheet-small-label sheet-sect"><input title="@{repeating_npc-spell-like-abilities_$X_duration}" type="text" name="attr_duration" value="" placeholder="Duration" data-i18n-placeholder="spell-duration" /><br><span data-i18n="duration">Duration</span></span>
									<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_npc-spell-like-abilities_$X_save}" type="text" name="attr_save" value="" placeholder="Save" data-i18n-placeholder="spell-save" /><br><span data-i18n="save">Save</span></span>
									<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:5.5em;">
										<select title="@{repeating_npc-spell-like-abilities_$X_sr}" name="attr_sr">
											<option value="" data-i18n="select-spell-resistance-default" selected>&#8226;Select SR</option>
											<option value="Yes" data-i18n="yes">Yes</option>
											<option value="No" data-i18n="no">No</option>
											<option value="Yes (Harmless)" data-i18n="yes-harmless">Yes (Harmless)</option>
											<option value="No (Harmless)" data-i18n="no-harmless">No (Harmless)</option>
										</select>
										<br><span data-i18n="spell-resistance-abbrv">SR</span>
									</span>
									<div class="sheet-sect sheet-expand">
										<h4 data-i18n="macro-text">Macro Text</h4>
										<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_npc-spell-like-abilities_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
										<h4 data-i18n="identification-abbrv">IDs</h4>
										<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_npc-spell-like-abilities_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
										
										<textarea class="sheet-macro-text" title="@{repeating_npc-spell-like-abilities_$X_macro-text}" name="attr_macro-text">@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{Level=@{level}}} {{Range=@{range}}} {{Duration=@{duration}}} {{Save=@{save}}} {{SR=@{sr}}} {{description=@{short-description}}}</textarea>

										<div class="sheet-repeating_ids sheet-table-row">
											<span class="sheet-selectable" name="attr_row_id" />
										</div>
										<hr/>
									</div>
								</fieldset>
							</div>
						</div>
					</div>
					<br/>
				</div>

				<div class="sheet-h3-section sheet-sect"  role="region" aria-label="npc-spellbooks">
					<h3 data-i18n="spellbook">Spellbooks</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_spellbooks-show" value="1" style="width: 8em;margin: -0.5em -1em 0 -7em;" checked="checked" /><span></span>
					<div class="sheet-sect sheet-table" >
						<div class="sheet-table-row">
							<div class="sheet-table-cell">
								<input type="checkbox" name="attr_spellclass-0-exists" class="sheet-sect-show" value="1" style="width:0;" />
								<span class="sheet-not-sheet-show sheet-sect">
									<button type="roll" class="sheet-command-button" name="attr_spellbook-0-roll-npc" value="@{spellclass-0-book-npc}" title="%{selected|spellbook-0-roll-npc}"><span data-i18n="non-player-character-abbrv">NPC</span>&nbsp;<span name="attr_spellclass-0-name"></span>&nbsp;<span data-i18n="spellbook">Spellbook</span></button>
								</span>
								<input type="text" name="attr_spellclass-0-book" style="display:none;"/>
							</div>
							<div class="sheet-table-cell">
								<input type="checkbox" name="attr_spellclass-1-exists" class="sheet-sect-show" value="1" style="width:0;" />
								<span class="sheet-not-sheet-show sheet-sect">
									<button type="roll" class="sheet-command-button" name="attr_spellbook-1-roll-npc" value="@{spellclass-1-book-npc}" title="%{selected|spellbook-1-roll-npc}"><span data-i18n="non-player-character-abbrv">NPC</span>&nbsp;<span name="attr_spellclass-1-name"></span>&nbsp;<span data-i18n="spellbook">Spellbook</span></button>
								</span>
								<input type="text" name="attr_spellclass-1-book" style="display:none;"/>
							</div>
							<div class="sheet-table-cell">
								<input type="checkbox" name="attr_spellclass-2-exists" class="sheet-sect-show" value="1" style="width:0;" />
								<span class="sheet-not-sheet-show sheet-sect">
									<button type="roll" class="sheet-command-button" name="attr_spellbook-2-roll-npc" value="@{spellclass-2-book-npc}" title="%{selected|spellbook-2-roll-npc}"><span data-i18n="non-player-character-abbrv">NPC</span>&nbsp;<span name="attr_spellclass-2-name"></span>&nbsp;<span data-i18n="spellbook">Spellbook</span></button>
								</span>
								<input type="text" name="attr_spellclass-2-book" style="display:none;"/>
							</div>
						</div>
					</div>
				</div>				

				<div class="sheet-sect"  role="region" aria-label="npc-spells-prepared">
					<h3 data-i18n="spells-prepared">Spells Prepared</h3>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-spell1-show" value="0" style="width: 12em;margin: -0.5em -1em 0 -11em;" /><span></span>
					<div class="sheet-sect">
						<h4 data-i18n="class">Class</h4>
						<input type="checkbox" name="attr_npc_spellclass_tab" value="0" title="Spell Class 0" class="sheet-tab0 sheet-spellclass-tab0" style="display:none;" checked="checked" />
						<input type="checkbox" name="attr_npc_spellclass_tab" value="1" title="Spell Class 1" class="sheet-tab1 sheet-spellclass-tab1" style="display:none;" />
						<input type="checkbox" name="attr_npc_spellclass_tab" value="2" title="Spell Class 2" class="sheet-tab2 sheet-spellclass-tab2" style="display:none;" />
					
						<div class="sheet-spellclassnav-npc sheet-tabs" role="menubar" aria-label="spellcasting classes npc" data-i18n-aria="class-npc-spells">
							<label class="sheet-tab sheet-tab0"><input type="radio" name="attr_npc_spellclass_tab" class="sheet-tab" value="0" title="Spell Class 0" checked="checked" /><span data-i18n="spell-class-zero">Spell Class 0</span></label>
							<label class="sheet-tab sheet-tab1"><input type="radio" name="attr_npc_spellclass_tab" class="sheet-tab" value="1" title="Spell Class 1" /><span data-i18n="spell-class-one">Spell Class 1</span></label>
							<label class="sheet-tab sheet-tab2"><input type="radio" name="attr_npc_spellclass_tab" class="sheet-tab" value="2" title="Spell Class 2" checked="checked" /><span data-i18n="spell-class-two">Spell Class 2</span></label>
						</div>
								
						<div class="sheet-section sheet-section-spellclass-0">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="spell-class-zero">Spell Class 0</span>
								<div class="sheet-table-row">
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="total">Total</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="caster-level-abbrv">CL</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
									<span class="sheet-table-header" data-i18n="concentration-check">Concentration Check</span>
									<span class="sheet-table-header" data-i18n="total">Total</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="ability">Ability</span>
									<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Spell-Class-0-CL-Check}" type="roll" name="roll_NPC-Spell-Class-0-CL-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CL Check}} {{Class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{Check=[[ 1d00 + @{spellclass-0-level} + @{spellclass-0-level-misc} ]]}}"><span data-i18n="caster-level-check-abbrv">CL Check</span></button></span>
									<span class="sheet-table-cell"><input title="@{spellclass-0-level-total}" type="number" name="attr_spellclass-0-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">=</span>
									<span class="sheet-table-cell"><input title="@{spellclass-0-level}" type="number" name="attr_spellclass-0-level" value="0" /></span>
									<span class="sheet-divider">+</span>
									<span class="sheet-table-cell"><input title="@{spellclass-0-level-misc}" type="number" name="attr_spellclass-0-level-misc" value="0" /></span>
									<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Concentration-Check-0}" type="roll" name="roll_NPC-Concentration-Check-0" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Concentration Check}} {{Class=**@{spellclass-0-name} @{spellclass-0-level}**}} {{Check=[[ 1d00 + @{Concentration-0} ]]}}"><span data-i18n="concentration-check-abbrv">Concentration</span></button></span>
									<span class="sheet-table-cell"><input title="@{Concentration-0}" type="number" name="attr_Concentration-0" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">=</span>
									<span class="sheet-table-cell">
										<select title="@{Concentration-0-ability}" name="attr_Concentration-0-ability">
											<option value="0" data-i18n="none-default" selected>&#8006;None</option>
											<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
											<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
											<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
											<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
											<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
											<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
										</select>
									 </span>
									<span class="sheet-table-cell"><input title="@{Concentration-0-mod}" type="number" name="attr_Concentration-0-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">+</span>
									<span class="sheet-table-cell"><input title="@{Concentration-0-misc}" type="number" name="attr_Concentration-0-misc" value="0" /></span>
								</div>
							</div>
						</div>			

						<div class="sheet-section sheet-section-spellclass-1">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="spell-class-one">Spell Class 1</span>
								<div class="sheet-table-row">
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="total">Total</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="caster-level-abbrv">CL</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
									<span class="sheet-table-header" data-i18n="concentration-check">Concentration Check</span>
									<span class="sheet-table-header" data-i18n="total">Total</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="ability">Ability</span>
									<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Spell-Class-1-CL-Check}" type="roll" name="roll_NPC-Spell-Class-1-CL-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CL Check}} {{Class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{Check=[[ 1d20 + @{spellclass-1-level} + @{spellclass-1-level-misc} ]]}}"><span data-i18n="caster-level-check-abbrv">CL Check</span></button></span>
									<span class="sheet-table-cell"><input title="@{spellclass-1-level-total}" type="number" name="attr_spellclass-1-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">=</span>
									<span class="sheet-table-cell"><input title="@{spellclass-1-level}" type="number" name="attr_spellclass-1-level" value="0" /></span>
									<span class="sheet-divider">+</span>
									<span class="sheet-table-cell"><input title="@{spellclass-1-level-misc}" type="number" name="attr_spellclass-1-level-misc" value="0" /></span>
									<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Concentration-Check-1}" type="roll" name="roll_NPC-Concentration-Check-1" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Concentration Check}} {{Class=**@{spellclass-1-name} @{spellclass-1-level}**}} {{Check=[[ 1d20 + @{Concentration-1} ]]}}"><span data-i18n="concentration-check-abbrv">Concentration</span></button></span>
									<span class="sheet-table-cell"><input title="@{Concentration-1}" type="number" name="attr_Concentration-1" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">=</span>
									<span class="sheet-table-cell">
										<select title="@{Concentration-1-ability}" name="attr_Concentration-1-ability">
											<option value="0" data-i18n="none-default" selected>&#8226;None</option>
											<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
											<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
											<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
											<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
											<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
											<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
										</select>
									 </span>
									<span class="sheet-table-cell"><input title="@{Concentration-1-mod}" type="number" name="attr_Concentration-1-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">+</span>
									<span class="sheet-table-cell"><input title="@{Concentration-1-misc}" type="number" name="attr_Concentration-1-misc" value="0" /></span>
								</div>
							</div>
						</div>
						<div class="sheet-section sheet-section-spellclass-2">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="spell-class-two">Spell Class 2</span>
								<div class="sheet-table-row">
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="total">Total</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="caster-level-abbrv">CL</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
									<span class="sheet-table-header" data-i18n="concentration-check">Concentration Check</span>
									<span class="sheet-table-header" data-i18n="total">Total</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="ability">Ability</span>
									<span class="sheet-table-header" data-i18n="modifier-abbrv">Mod</span>
									<span class="sheet-table-header"></span>
									<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								</div>
								<div class="sheet-table-row">
									<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Spell-Class-2-CL-Check}" type="roll" name="roll_NPC-Spell-Class-2-CL-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CL Check}} {{Class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{Check=[[ 1d20 + @{spellclass-2-level} + @{spellclass-2-level-misc} ]]}}"><span data-i18n="caster-level-check-abbrv">CL Check</span></button></span>
									<span class="sheet-table-cell"><input title="@{spellclass-2-level-total}" type="number" name="attr_spellclass-2-level-total" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">=</span>
									<span class="sheet-table-cell"><input title="@{spellclass-2-level}" type="number" name="attr_spellclass-2-level" value="0" /></span>
									<span class="sheet-divider">+</span>
									<span class="sheet-table-cell"><input title="@{spellclass-2-level-misc}" type="number" name="attr_spellclass-2-level-misc" value="0" /></span>
									<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Concentration-Check-2}" type="roll" name="roll_NPC-Concentration-Check-2" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Concentration Check}} {{Class=**@{spellclass-2-name} @{spellclass-2-level}**}} {{Check=[[ 1d20 + @{Concentration-2} ]]}}"><span data-i18n="concentration-check-abbrv">Concentration</span></button></span>
									<span class="sheet-table-cell"><input title="@{Concentration-2}" type="number" name="attr_Concentration-2" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">=</span>
									<span class="sheet-table-cell">
										<select title="@{Concentration-2-ability}" name="attr_Concentration-2-ability">
											<option value="0" data-i18n="none-default" selected>&#8226;None</option>
											<option value="@{STR-mod}" data-i18n="strength-abbrv">STR</option>
											<option value="@{DEX-mod}" data-i18n="dexterity-abbrv">DEX</option>
											<option value="@{CON-mod}" data-i18n="constitution-abbrv">CON</option>
											<option value="@{INT-mod}" data-i18n="intelligence-abbrv">INT</option>
											<option value="@{WIS-mod}" data-i18n="wisdom-abbrv">WIS</option>
											<option value="@{CHA-mod}" data-i18n="charisma-abbrv">CHA</option>
										</select>
									 </span>
									<span class="sheet-table-cell"><input title="@{Concentration-2-mod}" type="number" name="attr_Concentration-2-mod" value="0" class="sheet-calc" readonly="readonly" /></span>
									<span class="sheet-divider">+</span>
									<span class="sheet-table-cell"><input title="@{Concentration-2-misc}" type="number" name="attr_Concentration-2-misc" value="0" /></span>
								</div>
							</div>
						</div>			
					</div>
					
					<div class="sheet-sect">
						<div class="sheet-repeating-sect">
							<h4 data-i18n="spells-prepared">Spells Prepared</h4>
							<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-spell-sect-show" value="1" style="width: 12em ; margin: -0.5em -1em 0 -11em" checked="checked" /><span></span>
							<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_npc-spell2-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
							<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_npc-spells2-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
							<input type="checkbox" class="sheet-spellclass-tab0" name="attr_npc_spellclass_tab" value="0" style="display:none;" />
							<input type="checkbox" class="sheet-spellclass-tab1" name="attr_npc_spellclass_tab" value="1" style="display:none;" />
							<input type="checkbox" class="sheet-spellclass-tab2" name="attr_npc_spellclass_tab" value="2" style="display:none;" />
							<input type="checkbox" name="attr_npc_spells_tab" value="99" class="sheet-tab sheet-spell_level sheet-spells_level-tab99" checked="checked" style="display:none;" />
							<div class="sheet-npc-spells sheet-sect">

								<div class="sheet-repeating-fields">
									<fieldset class="repeating_spells">
										<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-delete-row">Error! You must delete this row before editing any items in this section.</span></span>
										<input type="radio" name="attr_spell_level_r" value="-1" class="sheet-section-level-new" style="display:none;" checked="checked" />
										<input type="radio" name="attr_spell_level_r" value="0" class="sheet-section-level-0" style="display:none;" />
										<input type="radio" name="attr_spell_level_r" value="1" class="sheet-section-level-1" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="2" class="sheet-section-level-2" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="3" class="sheet-section-level-3" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="4" class="sheet-section-level-4" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="5" class="sheet-section-level-5" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="6" class="sheet-section-level-6" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="7" class="sheet-section-level-7" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="8" class="sheet-section-level-8" style="display:none;" />	
										<input type="radio" name="attr_spell_level_r" value="9" class="sheet-section-level-9" style="display:none;" />
										<input type="radio" name="attr_spell_class_r" value="-1" class="sheet-section-spellclass-1" style="display:none;" checked="checked" />						
										<input type="radio" name="attr_spell_class_r" value="0" class="sheet-section-spellclass0" style="display:none;"  />				
										<input type="radio" name="attr_spell_class_r" value="1" class="sheet-section-spellclass1" style="display:none;" />	
										<input type="radio" name="attr_spell_class_r" value="2" class="sheet-section-spellclass2" style="display:none;" />
										<input type="checkbox" name="attr_prepared_state" value="1" class="sheet-section-state" style="display:none;" />
										<div class="sheet-compendium-drop-target sheet-sect sheet-spell-border sheet-nontable-repeating sheet-background-color1">
											<input type="checkbox" class="sheet-counted sheet-sect-show" name="attr_spells-show" data-i18n-title="minimize-cmd" title="Minimize Row" value="1" checked="checked" /><span></span>
											<span style="display:none;" class="sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_spells_$X_roll}" value="@{macro-text}"></button></span>
											<span class="sheet-repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_spells_$X_npc-roll}" value="@{npc-macro-text}"></button></span>
											<label class="sheet-small-label2 sheet-number"><span data-i18n="prepared">Prepared</span><input title="@{repeating_spells_$X_used}" type="number" name="attr_used" value="0"></label>
											<label class="sheet-small-label2 sheet-entry-ultimate"><span data-i18n="name">Name</span><input title="@{repeating_spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="spell-name" accept="Name"></label>
											<label class="sheet-small-label2 sheet-sect sheet-entry-vshort">
												<span data-i18n="class-number">Class #</span>
												<select title="@{repeating_spells_$X_spellclass}" name="attr_spellclass_number" style="width:3em;min-width:2em;">
													<option value="0" selected>0</option>
													<option value="1">1</option>
													<option value="2">2</option>
												</select>
											</label>
											<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="class">Class</span><input title="@{repeating_spells_$X_spellclass}" type="text" value="" name="attr_spellclass" /></label>
											<label class="sheet-small-label2 sheet-number"><span data-i18n="level">Level</span><input title="@{repeating_spells_$X_spell_level}" type="number" value="" name="attr_spell_level" /></label>
											<label class="sheet-small-label2 sheet-number"><span data-i18n="difficulty-class-abbrv">DC</span><input title="@{repeating_spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly"/></label>
											<label class="sheet-small-label2 sheet-sect sheet-entry-long"><span data-i18n="school">School</span><input title="@{repeating_spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="spell-school-place" accept="School"></label>
											<label class="sheet-small-label2 sheet-entry-long"><span data-i18n="casting-time">Cast Time</span><input title="@{repeating_spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="spell-casting-time-place" accept="Casting Time"/></label>
											<label class="sheet-small-label2 sheet-sect sheet-entry-med"><span data-i18n="spell-components">Components</span><input title="@{repeating_spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="spell-components" accept="Components"></label>
											<label class="sheet-small-label2 sheet-sect sheet-entry-long">
												<span data-i18n="range">Range</span>
												<select class="sheet-select-small" name="attr_range_pick">
													<option value="blank" data-i18n="blank" selected >Blank</option>
													<option value="close" data-i18n="close" >Close</option>
													<option value="medium" data-i18n="medium" >Medium</option>
													<option value="long" data-i18n="long" >Long</option>
													<option value="touch" data-i18n="touch" >Touch</option>
													<option value="personal" data-i18n="personal" >Personal</option>
													<option value="see_text" data-i18n="see-text" >See text</option>
													<option value="number" data-i18n="number" >Number</option>
													<option value="perlevel" data-i18n="perlevel" >Per Level</option>
													<option value="unknownrange" data-i18n="cannot-parse" >Cannot parse</option>
												</select>
											</label>
											<label class="sheet-small-label2 sheet-sect sheet-entry-med">
												<span data-i18n="range-custom">Custom Range</span>
												<input type="text" value="" name="attr_range" title="@{range}" placeholder="Flat # or # /level" data-i18n-placeholder="range-custom-place" />									
											</label>
											<label class="sheet-small-label2 sheet-sect sheet-number">
												<span data-i18n="range">Range</span>
												<input title="@{repeating_spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" class="sheet-calc" readonly="readonly">
											</label>
											<label class="sheet-small-label2 sheet-sect sheet-entry-ultimate"><span data-i18n="spell-targets-area-effect">Targets/Area/Effect</span><input title="@{repeating_spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="spell-targets-area-effect"/></label>
											<label class="sheet-small-label2 sheet-sect sheet-entry-med"><span data-i18n="duration">Duration</span><input title="@{repeating_spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/></label>
											<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="save-effect">Save Effect</span><input title="@{repeating_spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save-type" accept="Saving Throw"></label>
											<label class="sheet-small-label2 sheet-entry-short">
												<span data-i18n="spell-resistance-abbrv">SR</span>

												<select title="@{repeating_spells_$X_sr}" name="attr_sr" class="sheet-select-small" accept="Spell Resistance">
													<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
													<option value="Yes" data-i18n="yes">Yes</option>
													<option value="No" data-i18n="no">No</option>
													<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
													<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
												</select>
											</label>
											 
											<input type="hidden" value="" name="attr_range_from_compendium" accept="Range"/>
											<input type="hidden" value="" name="attr_spell_lvlstr" accept="Level"/>
											<input type="hidden" value="" name="attr_target_from_compendium" accept="Target"/>
											<input type="hidden" value="" name="attr_area_from_compendium" accept="Area"/>
											<input type="hidden" value="" name="attr_effect_from_compendium" accept="Effect"/>
											<input type="hidden" name="attr_spell_options" value="" />
																
											<div class="sheet-sect sheet-expand">
												<div class="sheet-table">
												<h4 data-i18n="miscellaneous-abbrv">Misc</h4>

												<input type="checkbox" class="sheet-misc-show" title="@{repeating_spells_$X_spell-misc-show}" name="attr_spell-misc-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
												<h4 data-i18n="description">Description</h4>
												<input type="checkbox" class="sheet-desc-show" title="@{repeating_spells_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
												<h4 data-i18n="macro-text">Macro Text</h4>
												<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_spells_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
												<h4 data-i18n="unique-identifiers-abbrv">IDs</h4>
												<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_spells_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
												<br>
												<div class="sheet-nontable-repeating sheet-misc">					
													<label class="sheet-small-label2 sheet-entry-short"><span data-i18n="caster-level-modifier-abbrv">CL Mod</span><input title="@{repeating_spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc" placeholder="CL Mod" data-i18n-placeholder="caster-level-modifier-abbrv"/></label>
													<label class="sheet-small-label2 sheet-number"><span data-i18n="caster-level-abbrv">CL</span><input title="@{repeating_spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly"/></label>
													<span class="sheet-divider-db-lg">|</span>
													<label class="sheet-small-label2 sheet-entry-short"><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span><input title="@{repeating_spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/></label>
													<span class="sheet-divider-db-lg">|</span>
													<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen</span><input title="@{repeating_spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc" placeholder="Spell Penetration Mod" data-i18n-placeholder="spell-penetration-modifier-abbrv"/></label>
													<label class="sheet-small-label2 sheet-number"><span data-i18n="spell-penetration-abbrv-short">SP</span><input title="@{repeating_spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /></label>
													<span class="sheet-divider-db-lg">|</span>
													<label class="sheet-small-label2 sheet-entry-med"><span data-i18n="concentration-miscellaneous-abbrv">Conc Misc</span><input title="@{repeating_spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc"/></label>
													<label class="sheet-small-label2 sheet-number"><span data-i18n="concentration-abbrv">Conc</span><input title="@{repeating_spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /></label>
													<span class="sheet-divider-db-lg">|</span>
													<label class="sheet-small-label2 sheet-number"><span data-i18n="spell-domain-chk">Domain</span><input title="@{repeating_spells_$X_isDomain}" type="checkbox" value="1" name="attr_isDomain" /></label>
													<label class="sheet-small-label2 sheet-number"><span data-i18n="spell-mythic-chk">Mythic</span><input title="@{repeating_spells_$X_isMythic}" type="checkbox" value="1" name="attr_isMythic" /></label>
												</div>								
												<textarea class="sheet-desc" title="@{repeating_spells_$X_description}" name="attr_description" accept="Content"></textarea>
												<textarea style="display:none;" class="sheet-macro-text" title="@{repeating_spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options}</textarea>
												<textarea class="sheet-macro-text" title="@{repeating_spells_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_spell} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{deafened_note=@{SpellFailureNote}}} @{spell_options}</textarea>
												<div class="sheet-repeating_ids sheet-table-row">
													<span class="sheet-selectable" name="attr_row_id" />
												</div>
											</div>
										</div>
										</div>
									</fieldset>
								</div>							
							</div>
						</div>
					</div>
					
				</div>
			
			</div>
			<div role="region" aria-label="npc-tactics">
				<hr class="sheet-npc-hr sheet-margin-top" />
				<h2 data-i18n="tactics">TACTICS</h2>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-tactics-show" value="1" style="width: 6em;margin: -0.5em -1em 0 -5em;" /><span></span>
				<hr class="sheet-npc-hr sheet-margin-bottom" />
				<div style="text-align:left;" class="sheet-sect">
					<div>
						<h3 data-i18n="before-combat">Before Combat</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-before-combat-show" value="0" style="width: 8em;margin: -0.5em -1em 0 -7em;" /><span></span>
						<textarea class="sheet-sect" title="@{npc-before-combat}" name="attr_npc-before-combat" placeholder="List any spells and/or abilities used before combat. His stats should reflect these spells." data-i18n-placeholder="before-combat-place"></textarea>
					</div>
					<div>
						<h3 data-i18n="during-combat">During Combat</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-during-combat-show" value="0" style="width: 8em;margin: -0.5em -1em 0 -7em;" /><span></span>
						<textarea class="sheet-sect" title="@{npc-during-combat}" name="attr_npc-during-combat" placeholder="List all combat tactics here, including spell, feat, and magic item use." data-i18n-placeholder="during-combat-place"></textarea>
					</div>
					<div>
						<h3 data-i18n="morale">Morale</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-morale-show" value="0" style="width: 5em;margin: -0.5em -1em 0 -4em;" checked="checked" /><span></span>
						<textarea class="sheet-sect" title="@{npc-morale}" name="attr_npc-morale" placeholder="List here under what condition the creature flees combat, if any." data-i18n-placeholder="morale-place"></textarea>
					</div>
					<div>
						<h3 data-i18n="base-statistics">Base Statistics</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-base-statistics-show" value="1" style="width: 8em;margin: -0.5em -1em 0 -7em;" checked="checked" /><span></span>
						<input class="sheet-sect" type="text" title="@{npc-base-statistics}" name="attr_npc-base-statistics" placeholder="If the creature has buffs and other effects active that modify his stats, the base stats should be quickly summarized here." data-i18n-placeholder="base-statistics-place"/>
					</div>
				</div>
			</div>
			<div role="region" aria-label="npc-statistics">
				<hr class="sheet-npc-hr sheet-margin-top" />
				<h2 data-i18n="statistics">STATISTICS</h2>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-statistics-show" value="1" style="width: 8em;margin: -0.5em -1em 0 -7em;" checked="checked" /><span></span>
				<hr class="sheet-npc-hr sheet-margin-bottom" />
				<div style="text-align:left;" class="sheet-sect">
					<div class="sheet-table">
						<div class="sheet-table-row">
							<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-STR-Check}" type="roll" name="roll_NPC-STR-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Strength}} {{Check=[[ 1d20 + [[ @{STR-mod} + @{checks-cond} ]] ]]}}"><span data-i18n="strength-abbrv">STR</span></button><input title="@{STR-base}" type="number" name="attr_STR-base" value="10" /></span>
							<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-DEX-Check}" type="roll" name="roll_NPC-DEX-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Dexterity}} {{Check=[[ 1d20 + [[ @{DEX-mod} + @{checks-cond} ]] ]]}}"><span data-i18n="dexterity-abbrv">DEX</span></button><input title="@{DEX-base}" type="number" name="attr_DEX-base" value="10" /></span>
							<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-CON-Check}" type="roll" name="roll_NPC-CON-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Constitution}} {{Check=[[ 1d20 + [[ @{CON-mod} + @{checks-cond} ]] ]]}}"><span data-i18n="constitution-abbrv">CON</span></button><input title="@{CON-base}" type="number" name="attr_CON-base" value="10" /></span>
							<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-INT-Check}" type="roll" name="roll_NPC-INT-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Intellegence}} {{Check=[[ 1d20 + [[ @{INT-mod} + @{checks-cond} ]] ]]}}"><span data-i18n="intelligence-abbrv">INT</span></button><input title="@{INT-base}" type="number" name="attr_INT-base" value="10" /></span>
							<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-WIS-Check}" type="roll" name="roll_NPC-WIS-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Wisdom}} {{Check=[[ 1d20 + [[ @{WIS-mod} + @{checks-cond} ]] ]]}}"><span data-i18n="wisdom-abbrv">WIS</span></button><input title="@{WIS-base}" type="number" name="attr_WIS-base" value="10" /></span>
							<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-CHA-Check}" type="roll" name="roll_NPC-CHA-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Charisma}} {{Check=[[ 1d20 + [[ @{CHA-mod} + @{checks-cond} ]] ]]}}"><span data-i18n="charisma-abbrv">CHA</span></button><input title="@{CHA-base}" type="number" name="attr_CHA-base" value="10" /></span>
						</div>
					</div>
					<br>
					<div class="sheet-table">
						<div class="sheet-table-row">
							<span class="sheet-table-cell sheet-small-label"><input title="@{class-0-bab}" type="number" name="attr_class-0-bab" value="0" /><br><span data-i18n="base-attack-bonus-abbrv">BAB</span></span>
							<span class="sheet-table-cell"><b>&nbsp;</b></span>
							<span class="sheet-table-cell">
								<input title="@{CMB}" type="number" name="attr_CMB" value="0" class="sheet-calc" readonly="readonly" />
								<br><button style="font-size:100%;" type="roll" title="%{selected|NPC-CMB-Check}" name="roll_NPC-CMB-Check" value="@{NPC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=CMB}} {{Check=[[ 1d20 + [[ @{CMB} ]] ]]}}"><span data-i18n="combat-maneuver-bonus-abbrv">CMB</span></button>
							</span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{attk-CMB-misc}" type="number" name="attr_attk-CMB-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-table-cell"><b>&nbsp;</b></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{CMD}" type="number" name="attr_CMD" value="10" class="sheet-calc" readonly="readonly" /><br><span data-i18n="combat-maneuver-defense-abbrv">CMD</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{CMD-misc}" type="number" name="attr_CMD-misc" value="0" /><br><span data-i18n="miscellaneous-abbrv">Misc</span></span>
							<span class="sheet-table-cell sheet-small-label"><input title="@{cmd-notes}" type="text" name="attr_CMD-notes" placeholder="Put notes about context-sensitive CMD bonuses here." data-i18n-placeholder="combat-maneuver-defense-notes-place"><br><span data-i18n="combat-maneuver-defense-notes">CMD Notes</span></span>
						</div>
					</div>
					<br>
						<div class="sheet-repeating-sect">
						<h3 data-i18n="non-player-character-feats">NPC Feats</h3>
						<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-feats-show" value="1" style="width: 7.5em;margin: -0.5em -1em 0 -6.5em;" checked="checked" /><span></span>
						<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_npc-feats-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
						<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_npcfeats-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
						<div class="sheet-table sheet-sect">
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_feat">
										<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
									<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize Row" name="attr_feat-show" value="1" checked="checked" />
									<span class="sheet-table-cell"></span>
									<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_feat_$X_npc-roll" value="@{npc-macro-text}"></button></span>
									<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_feat_$X_name}" type="text" name="attr_name" placeholder="Feat Name" data-i18n-placeholder="feat-name"><br><span data-i18n="name">Name</span></span>
									<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:32%;"><textarea class="sheet-weapon-notes" title="@{repeating_feat_$X_short-description}" name="attr_short-description" placeholder="Short Desc" data-i18n-placeholder="short-description"></textarea><br><span data-i18n="short-description">Short Desc</span></span>
									<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_feat_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="used">Used</span></span>
									<span class="sheet-divider-lg" style="width:.1%;">/<br>&nbsp;</span>
									<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_feat_$X_used|max" type="text" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
									<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_feat_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro"  data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="maximum-calculation-abbrv">Calc</span></span>
									<div class="sheet-sect sheet-expand">
										<h4 data-i18n="description">Description</h4>
										<input type="checkbox" class="sheet-desc-show" title="@{repeating_feat_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
										<h4 data-i18n="macro-text">Macro Text</h4>
										<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_feat_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
										<h4 data-i18n="identification-abbrv">IDs</h4>
										<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_feat_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
										<textarea class="sheet-desc" title="@{repeating_feat_$X_description}" name="attr_description"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_feat_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>
										<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
										</div>
									</div>
								</fieldset>
							</div>
						</div>
					</div>
						<!-- Mythic Adventures display option toggled from Config -->
						<div style="margin:0em 0em -1em 0em;padding-top:.5em;">
							<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_mythic-adventures-show" value="1" style="display:none;" />
							<div class="sheet-sect">
								<div class="sheet-repeating-sect">
									<h3 data-i18n="mythic-feats">Mythic Feats</h3>
									<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-mythic-feats-show" value="1" style="width: 9em;margin: -0.5em -1em 0 -8em;" checked="checked" /><span></span>
									<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_mythic-feats-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -22px 2px 0; z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
									<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_mythic-feats-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
									<div class="sheet-table sheet-sect">
										<span class="sheet-table-name" data-i18n="mythic-feats">Mythic Feats</span>
									</div>
									<div class="sheet-table sheet-sect">
										<div class="sheet-repeating-fields">
											<fieldset class="repeating_mythic-feat">
										<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
												<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize Row" name="attr_mythic-feat-show" value="1" checked="checked" />
												<span class="sheet-table-cell"></span>
												<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_mythic-feat_$X_npc-roll" value="@{npc-macro-text}"></button></span>
												<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_mythic-feat_$X_name}" type="text" name="attr_name" placeholder="Mythic Feat Name" data-i18n-placeholder="mythic-feat-name"><br><span data-i18n="name">Name</span></span>
												<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:32%;"><input title="@{repeating_mythic-feat_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"><br><span data-i18n="short-description">Short Desc</span></span>
												<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_mythic-feat_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
												<span class="sheet-divider-lg" style="width:.1%;">/</span>
												<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_mythic-feat_$X_used|max}" type="number" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
												<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_mythic-feat_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro"  data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
												<div class="sheet-sect sheet-expand">
													<h4 data-i18n="description">Description</h4>
													<input type="checkbox" class="sheet-desc-show" title="@{repeating_mythic-feat_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
													<h4 data-i18n="macro-text">Macro Text</h4>
													<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_mythic-feat_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
													<h4 data-i18n="identification-abbrv">IDs</h4>
													<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_mythic-feat_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>

													<textarea class="sheet-desc" title="@{repeating_mythic-feat_$X_description}" name="attr_description"></textarea>
													<textarea class="sheet-macro-text" title="@{repeating_mythic-feat_$X_npc-macro-text}" name="attr_npc-macro-text">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}}  {{name=@{name}}} {{description=@{short-description}}}</textarea>

													<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
													</div>
												</div>
											</fieldset>
										</div>
									</div>
								</div>
							</div>
						</div>
					<br>
					<div>
						<h3 data-i18n="skills">Skills</h3>
							<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-skills-show" value="1" style="width: 5em;margin: -0.5em -1em 0 -4em;" checked="checked" /><span></span>
						<div class="sheet-table sheet-sect">
							<div class="sheet-table-row">
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="name">Name</span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="name">Name</span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
								<span class="sheet-table-header"></span>
								<span class="sheet-table-header" data-i18n="name">Name</span>
								<span class="sheet-table-header" data-i18n="total">Total</span>
								<span class="sheet-table-header" data-i18n="miscellaneous-abbrv">Misc</span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Acrobatics-Check}" type="roll" value="@{NPC-whisper} @{Acrobatics-macro}" name="roll_NPC-Acrobatics-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="acrobatics">Acrobatics</span>
								<span class="sheet-table-cell"><input title="@{Acrobatics}" type="number" name="attr_Acrobatics" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Acrobatics-misc}" type="number" name="attr_Acrobatics-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Appraise-Check}" type="roll" value="@{NPC-whisper} @{Appraise-macro}" name="roll_NPC-Appraise-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="appraise">Appraise</span>
								<span class="sheet-table-cell"><input title="@{Appraise}" type="number" name="attr_Appraise" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Appraise-misc}" type="number" name="attr_Appraise-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Artistry-Check}" type="roll" value="@{NPC-whisper} @{Artistry-macro}" name="roll_NPC-Artistry-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Artistry-name}" type="text" name="attr_Artistry-name" placeholder="Artistry" data-i18n-placeholder="artistry" /></span>
								<span class="sheet-table-cell"><input title="@{Artistry}" type="number" name="attr_Artistry" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Artistry-misc}" type="number" name="attr_Artistry-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Artistry2-Check}" type="roll" value="@{NPC-whisper} @{Artistry2-macro}" name="roll_NPC-Artistry2-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Artistry2-name}" type="text" name="attr_Artistry2-name" placeholder="Artistry" data-i18n-placeholder="artistry" /></span>
								<span class="sheet-table-cell"><input title="@{Artistry2}" type="number" name="attr_Artistry2" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Artistry2-misc}" type="number" name="attr_Artistry2-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Artistry3-Check}" type="roll" value="@{NPC-whisper} @{Artistry3-macro}" name="roll_NPC-Artistry3-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Artistry3-name}" type="text" name="attr_Artistry3-name" placeholder="Artistry" data-i18n-placeholder="artistry" /></span>
								<span class="sheet-table-cell"><input title="@{Artistry3}" type="number" name="attr_Artistry3" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Artistry3-misc}" type="number" name="attr_Artistry3-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Bluff-Check}" type="roll" value="@{NPC-whisper} @{Bluff-macro}" name="roll_NPC-Bluff-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="bluff">Bluff</span>
								<span class="sheet-table-cell"><input title="@{Bluff}" type="number" name="attr_Bluff" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Bluff-misc}" type="number" name="attr_Bluff-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Climb-Check}" type="roll" value="@{NPC-whisper} @{Climb-macro}" name="roll_NPC-Climb-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="climb">Climb</span>
								<span class="sheet-table-cell"><input title="@{Climb}" type="number" name="attr_Climb" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Climb-misc}" type="number" name="attr_Climb-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Craft-Check}" type="roll" value="@{NPC-whisper} @{Craft-macro}" name="roll_NPC-Craft-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Craft-name}" type="text" name="attr_Craft-name" placeholder="Craft" data-i18n-placeholder="craft" /></span>
								<span class="sheet-table-cell"><input title="@{Craft}" type="number" name="attr_Craft" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Craft-misc}" type="number" name="attr_Craft-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Craft2-Check}" type="roll" value="@{NPC-whisper} @{Craft2-macro}" name="roll_NPC-Craft2-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Craft2-name}" type="text" name="attr_Craft2-name" placeholder="Craft 2" data-i18n-placeholder="craft" /></span>
								<span class="sheet-table-cell"><input title="@{Craft2}" type="number" name="attr_Craft2" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Craft2-misc}" type="number" name="attr_Craft2-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Craft3-Check}" type="roll" value="@{NPC-whisper} @{Craft3-macro}" name="roll_NPC-Craft3-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Craft3-name}" type="text" name="attr_Craft3-name" placeholder="Craft 3" data-i18n-placeholder="craft" /></span>
								<span class="sheet-table-cell"><input title="@{Craft3}" type="number" name="attr_Craft3" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Craft3-misc}" type="number" name="attr_Craft3-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Diplomacy-Check}" type="roll" value="@{NPC-whisper} @{Diplomacy-macro}" name="roll_NPC-Diplomacy-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="diplomacy">Diplomacy</span>
								<span class="sheet-table-cell"><input title="@{Diplomacy}" type="number" name="attr_Diplomacy" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Diplomacy-misc}" type="number" name="attr_Diplomacy-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Disable-Device-Check}" type="roll" value="@{NPC-whisper} @{Disable-Device-macro}" name="roll_NPC-Disable-Device-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="disable-device">Disable Device</span>
								<span class="sheet-table-cell"><input title="@{Disable-Device}" type="number" name="attr_Disable-Device" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Disable-Device-misc}" type="number" name="attr_Disable-Device-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Disguise-Check}" type="roll" value="@{NPC-whisper} @{Disguise-macro}" name="roll_NPC-Disguise-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="disguise">Disguise</span>
								<span class="sheet-table-cell"><input title="@{Disguise}" type="number" name="attr_Disguise" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Disguise-misc}" type="number" name="attr_Disguise-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Escape-Artist-Check}" type="roll" value="@{NPC-whisper} @{Escape-Artist-macro}" name="roll_NPC-Escape-Artist-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="escape-artist">Escape Artist</span>
								<span class="sheet-table-cell"><input title="@{Escape-Artist}" type="number" name="attr_Escape-Artist" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Escape-Artist-misc}" type="number" name="attr_Escape-Artist-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Fly-Check}" type="roll" value="@{NPC-whisper} @{Fly-macro}" name="roll_NPC-Fly-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="fly">Fly</span>
								<span class="sheet-table-cell"><input title="@{Fly}" type="number" name="attr_Fly" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Fly-misc}" type="number" name="attr_Fly-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Handle-Animal-Check}" type="roll" value="@{NPC-whisper} @{Handle-Animal-macro}" name="roll_NPC-Handle-Animal-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="handle-animal">Handle Animal</span>
								<span class="sheet-table-cell"><input title="@{Handle-Animal}" type="number" name="attr_Handle-Animal" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Handle-Animal-misc}" type="number" name="attr_Handle-Animal-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Heal-Check}" type="roll" value="@{NPC-whisper} @{Heal-macro}" name="roll_NPC-Heal-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="heal">Heal</span>
								<span class="sheet-table-cell"><input title="@{Heal}" type="number" name="attr_Heal" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Heal-misc}" type="number" name="attr_Heal-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Intimidate-Check}" type="roll" value="@{NPC-whisper} @{Intimidate-macro}" name="roll_NPC-Intimidate-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="intimidate">Intimidate</span>
								<span class="sheet-table-cell"><input title="@{Intimidate}" type="number" name="attr_Intimidate" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Intimidate-misc}" type="number" name="attr_Intimidate-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Arcana-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Arcana-macro}" name="roll_NPC-Knowledge-Arcana-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-arcana">Knowledge (Arcana)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Arcana}" type="number" name="attr_Knowledge-Arcana" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Arcana-misc}" type="number" name="attr_Knowledge-Arcana-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Dungeoneering-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Dungeoneering-macro}" name="roll_NPC-Knowledge-Dungeoneering-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-dungeoneering">Knowledge (Dungeoneering)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering}" type="number" name="attr_Knowledge-Dungeoneering" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Dungeoneering-misc}" type="number" name="attr_Knowledge-Dungeoneering-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Engineering-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Engineering-macro}" name="roll_NPC-Knowledge-Engineering-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-engineering">Knowledge (Engineering)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Engineering}" type="number" name="attr_Knowledge-Engineering" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Engineering-misc}" type="number" name="attr_Knowledge-Engineering-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Geography-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Geography-macro}" name="roll_NPC-Knowledge-Geography-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-geography">Knowledge (Geography)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Geography}" type="number" name="attr_Knowledge-Geography" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Geography-misc}" type="number" name="attr_Knowledge-Geography-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-History-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-History-macro}" name="roll_NPC-Knowledge-History-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-history">Knowledge (History)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-History}" type="number" name="attr_Knowledge-History" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-History-misc}" type="number" name="attr_Knowledge-History-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Local-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Local-macro}" name="roll_NPC-Knowledge-Local-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-local">Knowledge (Local)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Local}" type="number" name="attr_Knowledge-Local" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Local-misc}" type="number" name="attr_Knowledge-Local-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Nature-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Nature-macro}" name="roll_NPC-Knowledge-Nature-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-nature">Knowledge (Nature)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Nature}" type="number" name="attr_Knowledge-Nature" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Nature-misc}" type="number" name="attr_Knowledge-Nature-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Nobility-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Nobility-macro}" name="roll_NPC-Knowledge-Nobility-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-nobility">Knowledge (Nobility)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Nobility}" type="number" name="attr_Knowledge-Nobility" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Nobility-misc}" type="number" name="attr_Knowledge-Nobility-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Planes-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Planes-macro}" name="roll_NPC-Knowledge-Planes-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-planes">Knowledge (Planes)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Planes}" type="number" name="attr_Knowledge-Planes" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Planes-misc}" type="number" name="attr_Knowledge-Planes-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Knowledge-Religion-Check}" type="roll" value="@{NPC-whisper} @{Knowledge-Religion-macro}" name="roll_NPC-Knowledge-Religion-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="knowledge-religion">Knowledge (Religion)</span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Religion}" type="number" name="attr_Knowledge-Religion" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Knowledge-Religion-misc}" type="number" name="attr_Knowledge-Religion-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Linguistics-Check}" type="roll" value="@{NPC-whisper} @{Linguistics-macro}" name="roll_NPC-Linguistics-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="linguistics">Linguistics</span>
								<span class="sheet-table-cell"><input title="@{Linguistics}" type="number" name="attr_Linguistics" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Linguistics-misc}" type="number" name="attr_Linguistics-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Lore-Check}" type="roll" value="@{NPC-whisper} @{Lore-macro}" name="roll_NPC-Lore-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Lore-name} Optional Ruleset." type="text" name="attr_Lore-name" placeholder="Lore" data-i18n-placeholder="lore" /></span>
								<span class="sheet-table-cell"><input title="@{Lore}" type="number" name="attr_Lore" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Lore-misc}" type="number" name="attr_Lore-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Lore2-Check}" type="roll" value="@{NPC-whisper} @{Lore2-macro}" name="roll_NPC-Lore2-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Lore2-name} Optional Ruleset." type="text" name="attr_Lore2-name" placeholder="Lore" data-i18n-placeholder="lore" /></span>
								<span class="sheet-table-cell"><input title="@{Lore2}" type="number" name="attr_Lore2" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Lore2-misc}" type="number" name="attr_Lore2-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Lore3-Check}" type="roll" value="@{NPC-whisper} @{Lore3-macro}" name="roll_NPC-Lore3-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Lore3-name} Optional Ruleset." type="text" name="attr_Lore3-name" placeholder="Lore" data-i18n-placeholder="lore" /></span>
								<span class="sheet-table-cell"><input title="@{Lore3}" type="number" name="attr_Lore3" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Lore3-misc}" type="number" name="attr_Lore3-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Perception-Check}" type="roll" value="@{NPC-whisper} @{Perception-macro}" name="roll_NPC-Perception-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="perception">Perception</span>
								<span class="sheet-table-cell"><input title="@{Perception}" type="number" name="attr_Perception" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Perception-misc}" type="number" name="attr_Perception-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Perform-Check}" type="roll" value="@{NPC-whisper} @{Perform-macro}" name="roll_NPC-Perform-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Perform-name}" type="text" name="attr_Perform-name" placeholder="Perform" data-i18n-placeholder="perform" /></span>
								<span class="sheet-table-cell"><input title="@{Perform}" type="number" name="attr_Perform" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Perform-misc}" type="number" name="attr_Perform-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Perform2-Check}" type="roll" value="@{NPC-whisper} @{Perform2-macro}" name="roll_NPC-Perform2-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Perform2-name}" type="text" name="attr_Perform2-name" placeholder="Perform 2" data-i18n-placeholder="perform" /></span>
								<span class="sheet-table-cell"><input title="@{Perform2}" type="number" name="attr_Perform2" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Perform2-misc}" type="number" name="attr_Perform2-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Perform3-Check}" type="roll" value="@{NPC-whisper} @{Perform3-macro}" name="roll_NPC-Perform3-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Perform3-name}" type="text" name="attr_Perform3-name" placeholder="Perform 3" data-i18n-placeholder="perform" /></span>
								<span class="sheet-table-cell"><input title="@{Perform3}" type="number" name="attr_Perform3" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Perform3-misc}" type="number" name="attr_Perform3-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Profession-Check}" type="roll" value="@{NPC-whisper} @{Profession-macro}" name="roll_NPC-Profession-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Profession-name}" type="text" name="attr_Profession-name" placeholder="Profession" data-i18n-placeholder="profession" /></span>
								<span class="sheet-table-cell"><input title="@{Profession}" type="number" name="attr_Profession" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Profession-misc}" type="number" name="attr_Profession-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Profession2-Check}" type="roll" value="@{NPC-whisper} @{Profession2-macro}" name="roll_NPC-Profession2-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Profession2-name}" type="text" name="attr_Profession2-name" placeholder="Profession 2" data-i18n-placeholder="profession" /></span>
								<span class="sheet-table-cell"><input title="@{Profession2}" type="number" name="attr_Profession2" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Profession2-misc}" type="number" name="attr_Profession2-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Profession3-Check}" type="roll" value="@{NPC-whisper} @{Profession3-macro}" name="roll_NPC-Profession3-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input title="@{Profession3-name}" type="text" name="attr_Profession3-name" placeholder="Profession 3" data-i18n-placeholder="profession" /></span>
								<span class="sheet-table-cell"><input title="@{Profession3}" type="number" name="attr_Profession3" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Profession3-misc}" type="number" name="attr_Profession3-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Ride-Check}" type="roll" value="@{NPC-whisper} @{Ride-macro}" name="roll_NPC-Ride-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="ride">Ride</span>
								<span class="sheet-table-cell"><input title="@{Ride}" type="number" name="attr_Ride" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Ride-misc}" type="number" name="attr_Ride-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Sense-Motive-Check}" type="roll" value="@{NPC-whisper} @{Sense-Motive-macro}" name="roll_NPC-Sense-Motive-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="sense-motive">Sense Motive</span>
								<span class="sheet-table-cell"><input title="@{Sense-Motive}" type="number" name="attr_Sense-Motive" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Sense-Motive-misc}" type="number" name="attr_Sense-Motive-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Sleight-of-Hand-Check}" type="roll" value="@{NPC-whisper} @{Sleight-of-Hand-macro}" name="roll_NPC-Sleight-of-Hand-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="sleight-of-hand">Sleight of Hand</span>
								<span class="sheet-table-cell"><input title="@{Sleight-of-Hand}" type="number" name="attr_Sleight-of-Hand" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Sleight-of-Hand-misc}" type="number" name="attr_Sleight-of-Hand-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Spellcraft-Check}" type="roll" value="@{NPC-whisper} @{Spellcraft-macro}" name="roll_NPC-Spellcraft-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="spellcraft">Spellcraft</span>
								<span class="sheet-table-cell"><input title="@{Spellcraft}" type="number" name="attr_Spellcraft" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Spellcraft-misc}" type="number" name="attr_Spellcraft-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Stealth-Check}" type="roll" value="@{NPC-whisper} @{Stealth-macro}" name="roll_NPC-Stealth-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="stealth">Stealth</span>
								<span class="sheet-table-cell"><input title="@{Stealth}" type="number" name="attr_Stealth" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Stealth-misc}" type="number" name="attr_Stealth-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Survival-Check}" type="roll" value="@{NPC-whisper} @{Survival-macro}" name="roll_NPC-Survival-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="survival">Survival</span>
								<span class="sheet-table-cell"><input title="@{Survival}" type="number" name="attr_Survival" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Survival-misc}" type="number" name="attr_Survival-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Swim-Check}" type="roll" value="@{NPC-whisper} @{Swim-macro}" name="roll_NPC-Swim-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="swim">Swim</span>
								<span class="sheet-table-cell"><input title="@{Swim}" type="number" name="attr_Swim" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Swim-misc}" type="number" name="attr_Swim-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Use-Magic-Device-Check}" type="roll" value="@{NPC-whisper} @{Use-Magic-Device-macro}" name="roll_NPC-Use-Magic-Device-Check"></button></span>
								<span class="sheet-table-cell sheet-left" data-i18n="use-magic-device">Use Magic Device</span>
								<span class="sheet-table-cell"><input title="@{Use-Magic-Device}" type="number" name="attr_Use-Magic-Device" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Use-Magic-Device-misc}" type="number" name="attr_Use-Magic-Device-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Misc-Skill-0-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-0-macro}" name="roll_NPC-Misc-Skill-0-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-0-name}" name="attr_Misc-Skill-0-name" placeholder="Misc Skill 0" data-i18n-placeholder="miscellaneous-skill"/></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-0}" type="number" name="attr_Misc-Skill-0" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-0-misc}" type="number" name="attr_Misc-Skill-0-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Misc-Skill-1-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-1-macro}" name="roll_NPC-Misc-Skill-1-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-1-name}" name="attr_Misc-Skill-1-name" placeholder="Misc Skill 1" data-i18n-placeholder="miscellaneous-skill"/></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-1}" type="number" name="attr_Misc-Skill-1" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-1-misc}" type="number" name="attr_Misc-Skill-1-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Misc-Skill-2-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-2-macro}" name="roll_NPC-Misc-Skill-2-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-2-name}" name="attr_Misc-Skill-2-name" placeholder="Misc Skill 2" data-i18n-placeholder="miscellaneous-skill"/></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-2}" type="number" name="attr_Misc-Skill-2" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-2-misc}" type="number" name="attr_Misc-Skill-2-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Misc-Skill-3-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-3-macro}" name="roll_NPC-Misc-Skill-3-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-3-name}" name="attr_Misc-Skill-3-name" placeholder="Misc Skill 3" data-i18n-placeholder="miscellaneous-skill"/></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-3}" type="number" name="attr_Misc-Skill-3" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-3-misc}" type="number" name="attr_Misc-Skill-3-misc" value="0" /></span>
							</div>
							<div class="sheet-table-row">
								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Misc-Skill-4-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-4-macro}" name="roll_NPC-Misc-Skill-4-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-4-name}" name="attr_Misc-Skill-4-name" placeholder="Misc Skill 4" data-i18n-placeholder="miscellaneous-skill"/></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-4}" type="number" name="attr_Misc-Skill-4" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-4-misc}" type="number" name="attr_Misc-Skill-4-misc" value="0" /></span>

								<span class="sheet-table-cell"><button style="font-size:100%;" title="%{selected|NPC-Misc-Skill-5-Check}" type="roll" value="@{NPC-whisper} @{Misc-Skill-5-macro}" name="roll_NPC-Misc-Skill-5-Check"></button></span>
								<span class="sheet-table-cell sheet-left"><input type="text" title="@{Misc-Skill-5-name}" name="attr_Misc-Skill-5-name" placeholder="Misc Skill 5" data-i18n-placeholder="miscellaneous-skill" /></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-5}" type="number" name="attr_Misc-Skill-5" value="0" class="sheet-calc" readonly="readonly" /></span>
								<span class="sheet-table-cell"><input title="@{Misc-Skill-5-misc}" type="number" name="attr_Misc-Skill-5-misc" value="0" /></span>
							</div>
						</div>
					</div>

					<br>
					<div class="sheet-table">
						<h3 data-i18n="combat-gear">Combat Gear</h3>
							<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-cgear-show" value="1" style="width: 9.5em;margin: -0.5em -1em 0 -8em;" checked="checked" /><span></span>
						<div class="sheet-table-row sheet-sect">
							<span class="sheet-table-cell"><textarea title="@{npc-combat-gear}" name="attr_npc-combat-gear" style="height:50px;width:97%;" placeholder="Gear used in combat" data-i18n-placeholder="gear-used-place"></textarea></span>
						</div>
					</div>
					<br>
					<div class="sheet-table">
						<h3 data-i18n="other-gear">Other Gear</h3>
							<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-ogear-show" value="1" style="width: 9.5em;margin: -0.5em -1em 0 -8em;" checked="checked" /><span></span>
						<div class="sheet-table-row sheet-sect">
							<span class="sheet-table-cell"><textarea title="@{npc-other-gear}" name="attr_npc-other-gear" style="height:50px;width:97%;" placeholder="Gear not used in combat" data-i18n-placeholder="gear-not-used-place"></textarea></span>
						</div>
					</div>
				</div>
			</div>
			<div class="sheet-repeating-sect" role="region" aria-label="special abilities">
				<hr class="sheet-npc-hr sheet-margin-top" />
				<h2 data-i18n="special-abilities">SPECIAL ABILITIES</h2>
					<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_npc-special-abilities-show" value="1" style="width: 13em;margin: -0.5em -1em 0 -12em;" checked="checked" /><span></span>
					<input type="checkbox" class="sheet-sect sheet-expand-show" data-i18n-title="expand-cmd" title="Collapse or expand all rows." name="attr_npc-special-abilities-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
					<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_npc-special-abilities-column-show" data-i18n-title="column-cmd" title="Split into two columns" /><span class="sheet-sect"></span>
				<hr class="sheet-npc-hr sheet-margin-bottom" />
				<div class="sheet-table sheet-sect">
					<div class="sheet-repeating-fields">
						<fieldset class="repeating_racial-trait">
										<span class="sheet-error"><span class="sheet-pictos">!</span><span data-i18n="error-msg1">Error! You must delete this row before editing any items in this section.</span></span>
								<input type="checkbox" class="sheet-counted sheet-sect-show" data-i18n-title="minimize-cmd" title="Minimize row" name="attr_racial-trait-show" value="1" checked="checked" />
								<span class="sheet-table-cell"></span>
								<span class="sheet-table-cell sheet-repeating-rollbutton"><button type="roll" name="attr_npc-roll" title="%{selected|repeating_racial-trait_$X_npc-roll}" value="@{npc-macro-text}"></button></span>
								<span class="sheet-table-cell sheet-small-label"><input title="@{repeating_racial-trait_$X_name}" type="text" name="attr_name" placeholder="Special Ability Name" data-i18n-placeholder="special-ability-name"/><br><span data-i18n="name">Name</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:32%;"><input title="@{repeating_racial-trait_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description"/><br><span data-i18n="short-description">Short Desc</span></span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_racial-trait_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses">Uses</span></span>
								<span class="sheet-divider-lg" style="width:.1%;">/<br>/</span>
								<span class="sheet-table-cell sheet-small-label" style="width:.1%;"><input title="@{repeating_racial-trait_$X_used|max" type="number" name="attr_used_max" value="0" class="sheet-calc" readonly="readonly" /><br><span data-i18n="maximum-abbrv">Max</span></span>
								<span class="sheet-table-cell sheet-small-label sheet-sect" style="width:15%;"><input title="@{repeating_racial-trait_$X_max-calculation}" type="text" name="attr_max-calculation" value="" placeholder="# or Macro"  data-i18n-placeholder="number-or-macro-text-place" /><br><span data-i18n="maximum-calculation-abbrv">Max Calc</span></span>
							<div class="sheet-sect sheet-expand">
								<h4 data-i18n="description">Description</h4>
								<input type="checkbox" class="sheet-desc-show" title="@{repeating_racial-trait_$X_description-show}" name="attr_description-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" checked="checked" /><span></span>
								<h4 data-i18n="macro-text">Macro Text</h4>
								<input type="checkbox" class="sheet-macro-text-show" title="@{repeating_racial-trait_$X_macro-text-show}" name="attr_macro-text-show" value="1" style="opacity: 0;width: 8em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -6.5em;cursor: pointer;z-index: 1;" /><span></span>
								<h4 data-i18n="identification-abbrv">IDs</h4>
								<input type="checkbox" class="sheet-repeating_ids-show" title="@{repeating_racial-trait_$X_ids-show}" name="attr_ids-show" value="1" style="opacity: 0;width: 3.25em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -2em;cursor: pointer;z-index: 1;" /><span></span>
								
								<textarea class="sheet-desc" title="@{repeating_racial-trait_$X_description}" name="attr_description"></textarea>		
								<textarea class="sheet-macro-text" title="@{repeating_racial-trait_$X_npc-macro-text}" name="attr_npc-macro-text">@{NPC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{description=@{short-description}}}</textarea>

								<div class="sheet-repeating_ids sheet-table-row">
										<span class="sheet-selectable" name="attr_row_id" />
								</div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>

		</div>
	</div>

	<div class="sheet-section sheet-section-config sheet-page-notinall" role="complementary" aria-label="Configuration page">
		<h1 data-i18n="configuration">Configuration</h1>
			<div class="sheet-header_images">
				<h2 data-i18n="header-image">Header Images</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_header_images-show" value="1" style="width: 10em;margin: -0.5em -1em 0 -9em;" /><span></span>
				<div class="sheet-table sheet-sect">
					<span class="sheet-table-name" data-i18n="header-image">Header Images</span>
					<span style="display:table-caption;" data-i18n="config-header-image-info">Header images are iconic images that appear in the header of roll templates. All macros on the sheet include <b>{{header_image=<i>image attriubute</i>}}</b>. Each roll template has a specific image attribute that works with the options below. i.e. The Spells roll template would use <b>{{header_image=@{header_image-pf_spell}}}</b> Attack images can be set from within each weapon's "Options" section. Hover over the template names below to learn the specific image attributes. You can substitute images for any roll template by using the URL column below or using the syntax <b>{{header_image=<i>[name](url)</i>}}</b></span>
					<div class="sheet-table-row">
						<span class="sheet-table-header" style="min-width:100px;" data-i18n="roll-template">Roll Template</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" title="Do not include a header image." data-i18n="none">None</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" title="Include the default header image." data-i18n="default">Default</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" title="Include a custom header image using the provided URL." data-i18n="custom">Custom</span>
						<span class="sheet-table-header"></span>
						<span class="sheet-table-header" title="Used for custom header images." data-i18n="uniform-resource-locater-abbrv">URL</span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell" title="Macros must include {{header_image=@{header_image-pf_spell}}}">pf_spell</span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_spell" value="" title="@{header_image-pf_spell}" checked="checked" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_spell" value="[default](http://imgur.com/9yjOsAD.png)" title="@{header_image-pf_spell}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_spell" value="[custom](@{header_image-pf_spell-url})" title="@{header_image-pf_spell}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" style="width:80%;" name="attr_header_image-pf_spell-url" title="@{header_image-pf_spell-url}">http://imgur.com/9yjOsAD.png</textarea></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell" title="Macros must include {{header_image=@{header_image-pf_attack-melee}}}">pf_attack (melee)</span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-melee" value="" title="@{header_image-pf_attack-melee}" checked="checked" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-melee" value="[default](http://i.imgur.com/AGq5VBG.png)" title="@{header_image-pf_attack}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-melee" value="[custom](@{header_image-pf_attack-melee-url})" title="@{header_image-pf_attack}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" style="width:80%;" name="attr_header_image-pf_attack-melee-url" title="@{header_image-pf_attack-melee-url}">http://i.imgur.com/AGq5VBG.png</textarea></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell" title="Macros must include {{header_image=@{header_image-pf_attack-ranged}}}">pf_attack (ranged)</span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-ranged" value="" title="@{header_image-pf_attack-ranged}" checked="checked" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-ranged" value="[default](http://imgur.com/58j2e8P.png)" title="@{header_image-pf_attack}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-ranged" value="[custom](@{header_image-pf_attack-ranged-url})" title="@{header_image-pf_attack}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" style="width:80%;" name="attr_header_image-pf_attack-ranged-url" title="@{header_image-pf_attack-ranged-url}">http://imgur.com/58j2e8P.png</textarea></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell" title="Macros must include {{header_image=@{header_image-pf_attack-cmb}}}">pf_attack (cmb)</span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-cmb" value="" title="@{header_image-pf_attack-cmb}" checked="checked" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-cmb" value="[default](http://imgur.com/RUJfMGe.png)" title="@{header_image-pf_attack}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_attack-cmb" value="[custom](@{header_image-pf_attack-cmb-url})" title="@{header_image-pf_attack}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" style="width:80%;" name="attr_header_image-pf_attack-cmb-url" title="@{header_image-pf_attack-cmb-url}">http://imgur.com/RUJfMGe.png</textarea></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell" title="Macros must include {{header_image=@{header_image-pf_defense}}}">pf_defense</span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_defense" value="" title="@{header_image-pf_defense}" checked="checked" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_defense" value="[default](http://imgur.com/02fV6wh.png)" title="@{header_image-pf_defense}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_defense" value="[custom](@{header_image-pf_defense-url})" title="@{header_image-pf_defense}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" style="width:80%;" name="attr_header_image-pf_defense-url" title="@{header_image-pf_defense-url}">http://imgur.com/02fV6wh.png</textarea></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell" title="Macros must include {{header_image=@{header_image-pf_generic}}}">pf_generic</span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_generic" value="" title="@{header_image-pf_generic}" checked="checked" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_generic" value="[default](http://imgur.com/phw1eFB.png)" title="@{header_image-pf_generic}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_generic" value="[custom](@{header_image-pf_generic-url})" title="@{header_image-pf_generic}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" style="width:80%;" name="attr_header_image-pf_generic-url" title="@{header_image-pf_generic-url}">http://imgur.com/phw1eFB.png</textarea></span>
					</div>
					<div class="sheet-table-row">
						<span class="sheet-table-cell" title="Macros must include {{header_image=@{header_image-pf_block}}}">pf_block</span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_block" value="" title="@{header_image-pf_block}" checked="checked" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_block" value="[default](http://imgur.com/nBnv4DL.png)" title="@{header_image-pf_block}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><input type="radio" name="attr_header_image-pf_block" value="[custom](@{header_image-pf_block-url})" title="@{header_image-pf_block}" /></span>
						<span class="sheet-divider"></span>
						<span class="sheet-table-cell"><textarea class="sheet-weapon-notes" style="width:80%;" name="attr_header_image-pf_block-url" title="@{header_image-pf_block-url}">http://imgur.com/nBnv4DL.png</textarea></span>
					</div>
				</div>
			<br>
			</div>  
			<div class="sheet-unchained">
				<h2 data-i18n="pathfinder-unchained">Pathfinder Unchained</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_pathfinder-unchained-show" value="1" style="width: 14em;margin: -0.5em -1em 0 -13em;" checked="checked" /><span></span>
				<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="pathfinder-unchained">Pathfinder Unchained</span>
					<div class="sheet-table-row">
						<input type="checkbox" class="sheet-sect-show" name="attr_unchained_skills-show" value="1" style="display:none;" />
						<span class="sheet-table-cell sheet-left sheet-not-sheet-show">
							<label>
								<span title="Use the Unchained Skills variants.">
									<input type="checkbox" title="@{unchained_skills-show}" name="attr_unchained_skills-show" value="1" /><span class="sheet-not-sheet-show" data-i18n="toggle-unchained-skills"> Display/Enable Unchained Skills</span>
								</span>
							</label>
							<label>
								<span title="In the wound thresholds variant, a character divides her hit point total into four quarters, and takes penalties whenever she's not in her top quarter.">
									<input type="checkbox" title="@{wound_threshold-show}" name="attr_wound_threshold-show" value="1" /><span class="sheet-not-sheet-show" data-i18n="toggle-wound-threshold"> Display Wound Thresholds.</span>
								</span>
							</label>
						</span>
						<span class="sheet-table-cell sheet-left sheet-sect">	
							<label>
								<span title="Consolidated skills ranks are awarded at 1/2 normal skill points.">
									<input type="radio" title="@{BG-Skill-Use}" name="attr_BG-Skill-Use" value="0" /><span class="sheet-not-sheet-show" data-i18n="toggle-consolidated-skills"> Enable Consolidated Skills.</span>
								</span>
							</label>
							<label>
								<span title="Background skills ranks are awarded at a rate of two per level and can be spent on any background skill.">
									<input type="radio" title="@{BG-Skill-Use}" name="attr_BG-Skill-Use" value="1" /><span data-i18n="toggle-background-skills"> Enable Background Skills.</span>
								</span>
							</label>
						</span>
					</div>
				</div>
				<br>
			</div>
			<div class="sheet-mythic-adventures">
				<h2 data-i18n="pathfinder-mythic-adventures">Pathfinder Mythic Adventures</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_pathfinder-mythic-adventures-show" value="1" style="width: 19em;margin: -0.5em -1em 0 -18em;" checked="checked" /><span></span>
				<div class="sheet-table sheet-sect">
					<span class="sheet-table-name" data-i18n="pathfinder-mythic-adventures">Pathfinder Mythic Adventures</span>
					<div class="sheet-table-row">
						<span class="sheet-table-cell sheet-left">
							<label>
								<span title="Use Mythic Adventures.">
									<input type="checkbox" title="@{mythic-adventures-show}" name="attr_mythic-adventures-show" value="1" /><span class="sheet-not-sheet-show" data-i18n="toggle-mythic-adventures"> Display/Enable Mythic Adventures Character Sheet Items</span>
								</span>
							</label>
						</span>
					</div>
				</div>
				<br>
			</div>
			<div class="sheet-psionics">
				<h2 data-i18n="pathfinder-psionics">Pathfinder Psionics</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_pathfinder-psionics-show" value="1" style="width: 13em;margin: -0.5em -1em 0 -12em;" checked="checked" /><span></span>
				<div class="sheet-table sheet-sect">
					<span class="sheet-table-name" data-i18n="pathfinder-psionics">Pathfinder Psionics</span>
					<div class="sheet-table-row">
						<span class="sheet-table-cell sheet-left">
							<label>
								<span title="Use Psionics.">
									<input type="checkbox" title="@{psionics-show}" name="attr_psionics-show" value="1" /><span class="sheet-not-sheet-show" data-i18n="toggle-psionics"> Display/Enable Psionics Character Sheet Items</span>
								</span>
							</label>
						</span>
					</div>
				</div>
				<br>
			</div>
			<div class="sheet-roll_template_info">
				<h2 data-i18n="roll-template-info">Roll Template Info</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_roll-template-info-show" value="1" style="opacity: 0;width: 12.5em;height: 1.5em;position: relative;top: 0;left: 0;margin: -0.5em -1em 0 -11.5em;cursor: pointer;z-index: 1;" /><span></span>
				<div class="sheet-table sheet-sect">
					<div class="sheet-table sheet-options" style="background-color:#FFFFFF;">
						<span class="sheet-table-name" data-i18n="configuration">Configuration</span>	
						<span class="sheet-table-row">
							<span class="sheet-table-cell" style="width:30%;padding: 5px 5px 5px 20px; margin-top:5px;">
								<input type="hidden" name="attr_var_accessible_flag" value="{{accessible=true}}" />
								<label><input type="checkbox" name="attr_toggle_accessible_flag" value="@{var_accessible_flag}" title="@{toggle_accessible_flag}"/><span class="sheet-not-sheet-show" data-i18n="use-simple-templates"> Use Simple Templates</span></label>
							</span>
							<span class="sheet-table-cell" style="width:30%;padding: 5px 5px 5px 20px; margin-top:5px;">
								<input type="hidden" name="attr_var_rounded_flag" value="{{rounded=rounded}}" />
								<label><input type="checkbox" name="attr_toggle_rounded_flag" value="@{var_rounded_flag}" title="@{toggle_rounded_flag}"/><span class="sheet-not-sheet-show" data-i18n="use-round-corners-on-simple-templates"> Round Corners on non simple template.</span></label>
							</span>
							<span class="sheet-table-cell" style="width:30%;padding: 5px 5px 5px 20px; margin-top:5px;">
								<label><input type="checkbox" name="attr_hide_unprepared_in_spellbook" value="1" title="@{hide_unprepared_in_spellbook}"/><span class="sheet-not-sheet-show" data-i18n="spellbook-only-prepared-spells"> Show only prepared spells in spellbook</span></label>
							</span>
							<span class="sheet-table-cell" style="width:30%;padding: 5px 5px 5px 5px; margin-top:5px;">
							<label>
								<span data-i18n="heading-border-colors">Heading background and outlines:</span>
								<select title="@{rolltemplate_color}" name="attr_rolltemplate_color" style="width:8em;display:inline;">
									<option value="" data-i18n="black-default" selected>&#8226;Black</option>
									<option value="white" data-i18n="white">white</option>
									<option value="grey" data-i18n="grey">grey</option>
									<option value="darkgrey" data-i18n="dark-grey">darkgrey</option>
									<option value="pink" data-i18n="pink">pink</option>
									<option value="darkpink" data-i18n="dark-pink">darkpink</option>
									<option value="red" data-i18n="red">red</option>
									<option value="darkred" data-i18n="dark-red">darkred</option>
									<option value="orange" data-i18n="orange">orange</option>
									<option value="darkorange" data-i18n="dark-orange">darkorange</option>
									<option value="yellow" data-i18n="yellow">yellow</option>
									<option value="darkyellow" data-i18n="dark-yellow">darkyellow</option>
									<option value="green" data-i18n="green">green</option>
									<option value="darkgreen" data-i18n="dark-green">darkgreen</option>
									<option value="teal" data-i18n="teal">teal</option>
									<option value="darkteal" data-i18n="dark-teal">darkteal</option>
									<option value="cyan" data-i18n="cyan">cyan</option>
									<option value="darkcyan" data-i18n="dark-cyan">darkcyan</option>
									<option value="azure" data-i18n="azure">azure</option>
									<option value="darkazure" data-i18n="dark-azure">darkazure</option>
									<option value="blue" data-i18n="blue">blue</option>
									<option value="darkblue" data-i18n="dark-blue">darkblue</option>
									<option value="purple" data-i18n="purple">purple</option>
									<option value="darkpurple" data-i18n="dark-purple">darkpurple</option>
									<option value="violet" data-i18n="violet">violet</option>
									<option value="darkviolet" data-i18n="dark-violet">darkviolet</option>
									</select>
								</label>
							</span>
						</span>
					</div>
					<div class="sheet-table sheet-options" style="background-color:#FFFFFF;">
						<span class="sheet-table-name" data-i18n="roll-template-info">Roll Template Info</span>	
						<span class="sheet-table-row">
							<span class="sheet-table-cell" style="padding: 20px; margin-top:5px;">
								<span data-i18n="config-roll-template-info1">Roll templates use a combination of predetermined HTML, CSS, and macro-text to format the output of macros.  Roll templates included in the Pathfinder sheet: <b>pf_spell, pf_attack, pf_defense, pf_generic, and pf_block</b></span><br><br>
								<span style="display:block; text-align:center;" data-i18n="config-roll-template-info2"><b>Macro roll template syntax: </b>&{template:<b>roll template name</b>} {{<b>key</b>=<b>value</b>}}</span><br>
								<span data-i18n="config-roll-template-info3">Below is a list of each roll template along with it's defined properties(keys). Keys can only be used once within a macro. A key that is not defined may still be included in the macro and will be displayed on a new row as determined by the roll template. i.e. {{foo=foo}} Property values may consist of text, attributes, in-line rolls, images, hyperlinks, etc., or any combination of such values.</span><br>
								<span data-i18n="config-roll-template-info4">Each has a @{toggle_accessible_flag} , this makes the following string appear or not: {{accessible=true}}. If accessible is set, then an alternate rolltemplate is used that does not uses divs or tables but only labels and spans, which some users may find easier to use. This can also be set globally by checking "use simple templates"</span>
							</span>
						</span>
					</div>
					<hr>
					<div class="sheet-table sheet-options">
						<span class="sheet-table-row">
							<span class="sheet-table-cell" style="vertical-align:top;">
								<button type="roll" value="@{pf_spell_example}" name="roll_pf_spell_example" title="Display pf_spell example"></button>
							<span data-i18n="config-roll-template-pf_spell"><b data-i18n="spell-roll-template">Spell Roll Template </b>(pf_spell)<br>Used for all spell-based sheet rolls. Primarily formatted to emulate a typical spell stat-block. (<b>note:</b> @{spell_options} is used by the sheet to enable the toggling of spell attributes and contains ALL pf_spell specific properties.)
							</span></span><br>
							<span class="sheet-table-cell" style="width:50%;">
								<textarea name="attr_pf_spell_example" title="pf_spell macro">@{PC-whisper} &{template:pf_spell} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=name of roll}} {{name_link=www.url.com}} {{subtitle=subtitle}} {{school=school}} {{level=level}} {{casting_time=casting time}} {{components=components}} {{range=range}} {{targets=targets}} {{duration=duration}} {{saving_throw=saving throw}} {{dc= 10}} {{dc1}} {{dc2}} {{sr=sr}} {{attack=[[1d20cs>10]]}} {{crit_confirm=[[1d20]]}} {{damage=[[1d6]]}} {{crit_damage=[[1d6]]}} {{attack2=[[1d20cs>10]]}} {{crit_confirm2=[[1d20]]}} {{damage2=[[1d6]]}} {{crit_damage2=[[1d6]]}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}}</textarea><br>
							</span>
						</span>
					</div>
					<hr>
					<div class="sheet-table sheet-options">
						<span class="sheet-table-row">
							<span class="sheet-table-cell" style="vertical-align:top;">
								<button type="roll" value="@{pf_attack_example}" name="roll_pf_attack_example" title="Display pf_attack example"></button>
							<span data-i18n="config-roll-template-pf_attack"><b data-i18n="attack-roll-template">Attack Roll Template </b>(pf_attack)<br>Used for attacks. 2 column format except for the "description" property. (<b>note:</b> @{macro_options} is used by the sheet to enable the toggling of notes related to attacks and contains the properties for @{melee_notes}, @{ranged_notes}, @{cmb_notes}, and @{attack_notes}.)
							</span></span><br>
							<span class="sheet-table-cell" style="width:50%;">
								<textarea name="attr_pf_attack_example" title="pf_attack macro">@{PC-whisper} &{template:pf_attack} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee} @{header_image-pf_attack-ranged} @{header_image-pf_attack-cmb}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=name of roll}} {{name_link=www.url.com}} {{subtitle=subtitle}} {{attack=[[1d20cs>10]]}} {{crit_confirm=[[1d20]]}} {{damage=[[1d6]]}} {{crit_damage=[[1d6]]}} {{attack(2-8)}} {{crit_confirm(2-8)}} {{damage(2-8)}} {{crit_damage(2-8)}} {{melee_notes=melee notes}} {{ranged_notes=ranged notes}} {{CMB_notes=cmb notes}} {{attack_notes=attack notes}} {{weapon_notes=@{notes}}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}}</textarea><br>
							</span>
						</span>
					</div>
					<hr>
					<div class="sheet-table sheet-options">
						<span class="sheet-table-row">
							<span class="sheet-table-cell" style="vertical-align:top;">
								<button type="roll" value="@{pf_defense_example}" name="roll_pf_defense_example" title="Display pf_defense example"></button>
							<span data-i18n="config-roll-template-pf_defense"><b data-i18n="defense-roll-template">Defense Roll Template </b>(pf_defense)<br>Used for Saving Throws. (<b>note:</b> @{macro_options} is used by the sheet to enable the toggling of notes related to defense and contains the properties for @{dr_notes}, @{resistances_notes}, @{immunities_notes}, @{weaknesses_notes}, @{sr_notes}, @{armor_notes}, @{save_notes}, @{cmd_notes}, and @{defense-notes}.)
							</span></span><br>	
							<span class="sheet-table-cell" style="width:50%;">
								<textarea name="attr_pf_defense_example" title="pf_defense macro">@{PC-whisper} &{template:pf_defense} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_defense}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=name of roll}} {{name_link=www.url.com}} {{subtitle=subtitle}} {{dr_notes}} {{resistances_notes}} {{immunities_notes}} {{weaknesses_notes}} {{sr_notes}} {{armor_notes}} {{save_notes}} {{cmd_notes}} {{defense_notes}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}}</textarea><br>
							</span>
						</span>
					</div>
					<hr>
					<div class="sheet-table sheet-options">
						<span class="sheet-table-row">
							<span class="sheet-table-cell" style="vertical-align:top;">
								<button type="roll" value="@{pf_generic_example}" name="roll_pf_generic_example" title="Display pf_generic example"></button>
							<span data-i18n="config-roll-template-pf_generic"><b data-i18n="generic-roll-template">Generic Roll Template </b>(pf_generic)<br>Used for Ability checks, Initiative, Spell Failure Check, Skill Checks, Concentration Check, Caster Level Check. 2 column format, except for righttext_X(1-10), lefttext_X(1-10), and the description keys.
							</span></span><br>	
							<span class="sheet-table-cell" style="width:50%;">
								<textarea name="attr_pf_generic_example" title="pf_generic macro">@{PC-whisper} &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=name of roll}} {{name_link=www.url.com}} {{subtitle=subtitle}} {{check=[[1d20]]}} {{righttext_1=right aligned text}} {{lefttext_1=left aligned text}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}} {{foo=foo}}</textarea><br>
							</span>
						</span>
					</div>
					<hr>
					<div class="sheet-table sheet-options">
						<span class="sheet-table-row">
							<span class="sheet-table-cell" style="vertical-align:top;">
								<button type="roll" value="@{pf_block_example}" name="roll_pf_block_example" title="Display pf_block example"></button>
							<span data-i18n="config-roll-template-pf_block"><b data-i18n="block-roll-template">Block Text Roll Template </b>(pf_block)<br>Used for Class Abilities, Feats, Inventory, Racial Traits, Traits. Key/Property names are not shown in this template. Best for long blocks of text.
							</span></span><br>	
							<span class="sheet-table-cell" style="width:50%;">
								<textarea name="attr_pf_block_example" title="pf_block macro">@{PC-whisper} &{template:pf_block} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=name of roll}} {{name_link=www.url.com}} {{subtitle=subtitle}} {{=just some text}} {{description=descriptive text will span both columns and wrap as needed.}}</textarea><br>
							</span>
						</span>
					</div>
					<hr>
				</div>
			</div>
			<div class="sheet-sheetconfig">
				<h2 data-i18n="sheet-configuration">Sheet configuration</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_pathfinder-sheetconfig-show" value="1" style="width: 13em;margin: -0.5em -1em 0 -12em;" checked="checked" /><span></span>
				<div class="sheet-table sheet-sect">
				<span class="sheet-table-name" data-i18n="sheet-configuration">Sheet configuration</span>
					<div class="sheet-table">				                
						<span class="sheet-table-cell sheet-left">
							<label>
								<span data-i18n="enable-skill-check-query">Enable Skill Check Query?</span>
								<span title="Skill Checks will include a query for Roll, Take 10, or Take 20.">
									<select name="attr_skill-query">
										<option value="1d20" data-i18n="no" selected>No</option>
										<option value="?{Roll or Take 10/20?|Roll,1d20|Take 10,10 [take 10]|Take 20,20 [take 20]}" data-i18n="yes">Yes</option>
									</select>
								</span>
							</label>
						</span>				
						<span class="sheet-table-cell sheet-left">
							<label>
								<span data-i18n="whisper-non-player-character-rolls">NPC rolls: Whisper to GM or broadcast publicly</span>
								<span title="All NPC rolls will be whispered to the GM.">
									<select name="attr_NPC-whisper">
										<option value="&nbsp;" data-i18n="public-rolls">Public Rolls</option>
										<option value="/w gm" data-i18n="whisper-to-game-master" selected>Whisper GM</option>
									</select>
								</span>				
							</label>
						</span>
						<span class="sheet-table-cell sheet-left">
							<label>
								<span data-i18n="whisper-character-rolls">PC rolls: Whisper to GM or broadcast publicly</span>
								<span title="All PC rolls will be whispered to the GM.">
									<select name="attr_PC-whisper">
										<option value="&nbsp;" data-i18n="public-rolls" selected>Public Rolls</option>
										<option value="/w gm" data-i18n="whisper-to-game-master">Whisper GM</option>
									</select>
								</span>
							</label>
						</span>
					</div>
					<div class="sheet-table">
						<span class="sheet-table-cell sheet-left">
							<label>
								<span title="Syncs @{NPC-HP} to @{HP} if using @{HP} for npc/monster hit points.">
									<input type="checkbox" title="@{sync_npc_pc_hp}" name="attr_sync_npc_pc_hp" value="1" checked="checked" /> 
									<span class="sheet-not-sheet-show" data-i18n="link-hit-points-npc-to-pc">Editing NPC HP updates PC HP</span>
								</span>
							</label>
						</span>
					</div>			
				</div>
			<br>	
			</div>
			<div class="sheet-cleanup">
				<h2 data-i18n="cleanup-old-attributes">Cleanup old attributes</h2>
				<input type="checkbox" class="sheet-sect-show" title="Click to expand" data-i18n-title="showsect-cmd" name="attr_pathfinder-sheetcleanup-show" value="1" style="width: 15em;margin: -0.5em -1em 0 -14em;" checked="checked" /><span></span>
				<div class="sheet-table sheet-sect">
					<span class="sheet-table-name" data-i18n="migrations-completed">Migrations Completed</span>
					<div class="sheet-table-row">
						<span class="sheet-table-cell sheet-left"><input type="checkbox" title="@{migrated_spells}" name="attr_migrated_spells" value="1" /><span class="sheet-not-sheet-show" title="Spells migrated. If you have not deleted original spells you can remigrate. To remigrate, delete all spells on spells tab and uncheck, then press refresh." data-i18n="spells-migrated">Spells Migrated</span></span>
						<span class="sheet-table-cell sheet-left"><input type="checkbox" value="1" checked="checked" disabled readonly /><span class="sheet-not-sheet-show" title="Buffs migrated to Buffs repeating section. Cannot be remigrated." data-i18n="buffs-migrated">Buffs Migrated</span></span>
						<span class="sheet-table-cell sheet-left"><input type="checkbox" value="1" checked="checked" disabled readonly /><span class="sheet-not-sheet-show" title="Attack and damage effects migrated to Buffs. Cannot be remigrated." data-i18n="combat-effects-migrated">Combat Effects Migrated</span></span>
					</div>
				</div>
				<div class="sheet-table sheet-sect">
					<span class="sheet-table-name" data-i18n="update-spell-macros">Update spell macros</span>
					<span class="sheet-table-row sheet-selectable">
						<span data-i18n="config-update-spell-macros-info1">This is a mapping of old spell ids to new spell ids for use in upgrading macros.</span><br />
						<span style="vertical-align:top;"><button class="sheet-blank-roll-button" title="Print ID Mapping to chat so you can copy to clipboard" style="font-size: 85%;" type="roll" name="attr_row_idmap_roll" value="/w @{character_name} @{spellmap}">
						<span data-i18n="post-identification-numbers"> Post IDs</span></button></span>
						<span name="attr_spellmap" class="sheet-selectable" style="width: 90%;height: auto;float: right;"></span>
					</span><br />
				</div>	
				<div class="sheet-table sheet-sect">
					<span class="sheet-table-name" data-i18n="cleanup-old-spell-lists">Cleanup old spell lists</span>
					<span class="sheet-table-row" data-i18n="config-update-spell-macros-info2">
						Click Modify for each spell level and delete all the old spell lists to eliminate old redundant attributes and possibly speed up your sheet.
						Once you delete the below you will not be able to re-migrate the spells.
					</span>
					<div class="sheet-sect">
		<!-- Spells Level 0 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-0-spells">Level 0 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-0-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-0-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-0-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-0-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-0-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-0-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-0-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-0-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-0-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-0-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-0-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-0-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-0-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-0-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-0-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 1 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-1-spells">Level 1 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-1-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-1-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-1-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-1-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-1-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-1-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-1-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-1-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-1-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-1-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-1-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-1-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-1-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-1-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-1-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 2 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-2-spells">Level 2 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-2-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-2-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-2-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-2-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-2-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-2-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-2-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-2-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-2-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-2-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-2-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-2-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-2-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-2-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-2-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 3 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-3-spells">Level 3 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-3-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-3-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-3-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-3-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-3-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-3-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-3-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-3-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-3-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-3-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-3-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-3-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-3-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-3-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-3-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 4 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-4-spells">Level 4 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-4-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-4-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-4-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-4-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-4-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-4-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-4-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-4-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-4-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-4-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-4-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-4-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-4-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-4-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-4-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 5 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-5-spells">Level 5 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-5-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-5-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-5-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-5-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-5-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-5-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-5-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-5-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-5-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-5-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-5-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-5-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-5-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-5-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-5-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 6 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-6-spells">Level 6 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-6-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-6-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-6-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-6-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-6-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-6-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-6-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-6-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-6-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-6-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-6-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-6-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-6-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-6-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-6-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 7 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-7-spells">Level 7 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-7-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-7-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-7-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-7-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-7-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-7-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-7-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-7-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-7-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-7-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-7-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-7-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-7-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-7-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-7-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
												<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 8 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-8-spells">Level 8 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-8-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-8-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-8-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-8-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-8-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-8-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-8-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-8-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-8-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-8-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-8-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-8-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-8-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-8-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-8-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>
		<!-- Spells Level 9 -->			
						<div class="sheet-sect">
							<div class="sheet-table">
								<span class="sheet-table-name" data-i18n="level-9-spells">Level 9 Spells</span>
							</div>
							<div class="sheet-repeating-fields">
								<fieldset class="repeating_lvl-9-spells">
									<div class="sheet-compendium-drop-target">
										<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_lvl-9-spells_$X_spells-show}" name="attr_spells-show" value="1" checked="checked" />
										<span class="sheet-table-data sheet-center"></span>
										<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_lvl-9-spells_$X_roll}" value="@{macro-text}"></button></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_used}" type="number" name="attr_used" value="0" ><br><span data-i18n="prepared">Prepped</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_name}" type="text" value="" name="attr_name" placeholder="Spell Name" data-i18n-placeholder="name" accept="Name"><br><span data-i18n="name">Name</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label">
											<select title="@{repeating_lvl-9-spells_$X_spellclass}" name="attr_spellclass">
												<option value="@{spellclass-0-name}" data-i18n="class-0" selected>Class 0</option>
												<option value="@{spellclass-1-name}" data-i18n="class-1">Class 1</option>
												<option value="@{spellclass-2-name}" data-i18n="class-2">Class 2</option>
											</select>
											<input type="hidden" name="attr_spellclass_number" value="0" />
										<br><span data-i18n="class">Class</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label" style="width:5%;"><input title="@{repeating_lvl-9-spells_$X_spell_level}" type="number" value="0" name="attr_spell_level" /><br><span data-i18n="level">Level</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_school}" type="text" value="" name="attr_school" placeholder="Spell School [descriptor]" data-i18n-placeholder="school" accept="School"><br><span data-i18n="school">School</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_cast-time}" type="text" value="" name="attr_cast-time" placeholder="Casting Time" data-i18n-placeholder="casting-time" accept="Casting Time"/><br><span data-i18n="casting-time">Casting Time</span></span>
										
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_DC_misc}" type="number" value="0" name="attr_DC_misc" placeholder="DC Mod" data-i18n-placeholder="difficulty-class-modifier-abbrv"/> <br><span data-i18n="difficulty-class-modifier-abbrv">DC Mod</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_savedc}" type="number" value="0" name="attr_savedc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="difficulty-class-abbrv">DC</span></span>			
										<div></div>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_components}" type="text" value="" name="attr_components" placeholder="Components" data-i18n-placeholder="components" accept="Components"><br><span data-i18n="components">Components</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_range}" type="text" value="" name="attr_range" placeholder="Range" data-i18n-placeholder="range" accept="Range"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_range_numeric}" type="number" value="0" name="attr_range_numeric" placeholder="0" data-i18n-placeholder="range" class="sheet-calc" readonly="readonly"><br><span data-i18n="range">Range</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<input title="@{repeating_lvl-9-spells_$X_targets}" type="text" value="" name="attr_targets" placeholder="Targets/Area/Effect" data-i18n-placeholder="targets-area-effect" accept="Target">
											<br><span data-i18n="targets-area-effect">Targets/Area/Effect</span>
										</span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_duration}" type="text" value="" name="attr_duration" placeholder="Duration" data-i18n-placeholder="duration" accept="Duration"/><br><span data-i18n="duration">Duration</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_lvl-9-spells_$X_save}" type="text" value="" name="attr_save" placeholder="Save Effect" data-i18n-placeholder="save" accept="Saving Throw"><br><span data-i18n="save-effect">Save Effect</span></span>
										<span class="sheet-table-data sheet-center sheet-small-label sheet-sect">
											<select title="@{repeating_lvl-9-spells_$X_sr}" name="attr_sr" accept="Spell Resistance">
												<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
												<option value="Yes" data-i18n="yes">Yes</option>
												<option value="No" data-i18n="no">No</option>
												<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
												<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
											</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
										</span>
										
										<div class="sheet-sect sheet-expand">
											<div class="sheet-table sheet-spell-misc">					
												<span class="sheet-table-data" style="width:15%;"></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_CL_misc}" type="number" value="0" name="attr_CL_misc"/> <br><span data-i18n="caster-level-modifier-abbrv">CL Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_casterlevel}" type="number" value="0" name="attr_casterlevel" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="caster-level-abbrv">CL</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_Concentration_misc}" type="number" value="0" name="attr_Concentration_misc" /> <br><span data-i18n="concentration-modifier-abbrv">Conc Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_Concentration-mod}" type="number" value="0" name="attr_Concentration-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="concentration-abbrv">Conc</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_cast_def-mod}" type="number" value="0" name="attr_cast_def-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-abbrv">Cast Def</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_cast_def_dc}" type="number" value="0" name="attr_cast_def_dc" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="cast-defensively-difficulty-class-abbrv">Cast Def DC</span></span>
												<span class="sheet-table-data sheet-divider-lg" >|<br>&nbsp;</span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_SP_misc}" type="number" value="0" name="attr_SP_misc"/> <br><span data-i18n="spell-penetration-modifier-abbrv">Spell Pen Mod</span></span>
												<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_lvl-9-spells_$X_SP-mod}" type="number" value="0" name="attr_SP-mod" class="sheet-calc" readonly="readonly" /> <br><span data-i18n="spell-penetration-abbrv">Spell Pen</span></span>
												<span class="sheet-table-data" style="width:15%;"></span>
											</div>
											
											<textarea class="sheet-desc" title="@{repeating_lvl-9-spells_$X_description}" name="attr_description" accept="Content"></textarea>
											<textarea class="sheet-macro-text" title="@{repeating_lvl-9-spells_$X_macro-text}" name="attr_macro-text">@{PC-whisper} &{template:pf_spell} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}</textarea>
											<input type="hidden" name="attr_var_casterlevel_check" value="{{casterlevel_chk=[[ 1d20 + [[ @{casterlevel} ]] ]] }}" />
											<input type="hidden" name="attr_var_spellPen_check" value="{{spellPen_chk=[[ 1d20 + [[  @{SP-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_Concentration_check" value="{{Concentration_chk=[[ 1d20 + [[ @{Concentration-mod} ]] ]] }}" />
											<input type="hidden" name="attr_var_cast_def_check" value="{{cast_def_chk=[[ (1d20 + @{cast_def-mod})cs> [[ @{cast_def_dc} ]]cf<[[ @{cast_def_dc} - 1 ]] ]] }}" />
											<input type="hidden" name="attr_spell_options" value="{{cast_def=[[ @{cast_def_dc} ]] }}{{Concentration=[[ @{Concentration-mod} ]] }}{{spellPen=[[ @{SP-mod} ]] }}{{casterlevel=[[ @{casterlevel} ]] }}{{sr=@{sr}}}{{saving_throw=@{save}}}{{duration=@{duration}}}{{targets=@{targets}}}{{range=@{range}}}{{components=@{components}}}{{dc= [[ @{savedc} ]] }}{{casting_time=@{cast-time}}}{{school=@{school}}}{{level= @{spellclass} @{spell_level}}}@{toggle_casterlevel_check}@{toggle_spellPen_check}@{toggle_Concentration_check}@{toggle_cast_def_check}" />											

											<div class="sheet-options sheet-table">
												<div class="sheet-table-row">
													<span class="sheet-table-data sheet-center sheet-small-label" style="padding-left:10px;"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_casterlevel_check" value="@{var_casterlevel_check}" title="@{repeating_lvl-9-spells_$X_casterlevel_check}" checked="checked" /><b title="Roll Caster Level Check"><span data-i18n="caster-level-check">Caster Level Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_spellPen_check" value="@{var_spellPen_check}" title="@{repeating_lvl-9-spells_$X_SP_check}" /><b title="Roll Spell Penetration Check"> <span data-i18n="spell-penetration-check">Spell Penetration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_Concentration_check" value="@{var_Concentration_check}" title="@{repeating_lvl-9-spells_$X_Concentration_check}" /><b title="Roll Concentration Check"> <span data-i18n="concentration-check">Concentration Check</span></b></label></span>
													<span class="sheet-table-data sheet-center sheet-small-label"><label><input type="checkbox" class="sheet-boldlabel-check" name="attr_toggle_cast_def_check" value="@{var_cast_def_check}" title="@{repeating_lvl-9-spells_$X_cast_def_check}" /><b title="Roll Cast Defensively Check"> <span data-i18n="cast-defensively-check">Cast Defensively Check</span></b></label></span>
												</div>
											</div>
											
											<div class="sheet-repeating_ids sheet-table-row">												
											<span class="sheet-selectable" name="attr_row_id" />
											</div>
										</div>
									</div>
								</fieldset>
							</div>
						</div>

				<!-- NPC Spells 1 -->
							<div class="sheet-sect">
								<div class="sheet-table">
									<span class="sheet-table-name" data-i18n="non-player-character-class-one-spells">NPC Class 1 Spells</span>
								</div>
								<div class="sheet-repeating-sect">
								<b data-i18n="spells">Spells</b>
									<input type="checkbox" class="sheet-sect-show" title="@{npc-spell1-sect-show}" name="attr_npc-spell1-sect-show" value="1" style="width:70px; margin:0 -15px 0 -55px;" checked="checked" /><span></span>
									<input type="checkbox" class="sheet-sect sheet-expand-show" title="Collapse or expand all rows." name="attr_npc-spell1-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
									<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_npc-spells1-column-show" title="Two or one column rows" /><span class="sheet-sect"></span>
								<div class="sheet-sect">
									<div class="sheet-repeating-fields">
										<fieldset class="repeating_npc-spells1">
											<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_npc-spells1_$X_spells1-show}" name="attr_spells1-show" value="1" checked="checked" />
											<span class="sheet-table-data sheet-center"></span>
											<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_npc-spells1_$X_roll}" value="@{macro-text}"></button></span>
											<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_npc-spells1_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses-per-day">Uses/Day</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label" style="width:20%;"><input title="@{repeating_npc-spells1_$X_name}" type="text" name="attr_name" placeholder="Name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect" style="width:25%;"><input title="@{repeating_npc-spells1_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description" /><br><span data-i18n="short-description">Short Desc</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_npc-spells1_$X_level}" type="text" name="attr_level" value="" placeholder="Spell Level" data-i18n-placeholder="level" /><br><span data-i18n="level">Level</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_npc-spells1_$X_range}" type="text" name="attr_range" value="" placeholder="Range" data-i18n-placeholder="range" /><br><span data-i18n="range">Range</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_npc-spells1_$X_duration}" type="text" name="attr_duration" value="" placeholder="Duration" data-i18n-placeholder="duration" /><br><span data-i18n="duration">Duration</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_npc-spells1_$X_save}" type="text" name="attr_save" value="" placeholder="Save" data-i18n-placeholder="save" /><br><span data-i18n="save">Save</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect" style="width:5.5em;">
												<select title="@{repeating_npc-spells1_$X_sr}" name="attr_sr">
													<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
													<option value="Yes" data-i18n="yes">Yes</option>
													<option value="No" data-i18n="no">No</option>
													<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
													<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
												</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
											</span>
											<div class="sheet-sect sheet-expand">
												<textarea class="sheet-macro-text" title="@{repeating_npc-spells1_$X_macro-text}" name="attr_macro-text">@{NPC-whisper} &{template:pf_generic} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{Level=@{level}}} {{Range=@{range}}} {{Duration=@{duration}}} {{Save=@{save}}} {{SR=@{sr}}} {{description=@{short-description}}}</textarea>
												<div class="sheet-repeating_ids sheet-table-row">
											<span class="sheet-selectable" name="attr_row_id" />
												</div>
												<hr/>
											</div>
										</fieldset>
									</div>
								</div>
							</div>
							</div>
			<!-- NPC Spells 2 -->
							<div class="sheet-sect">
								<div class="sheet-table">
									<span class="sheet-table-name" data-i18n="non-player-character-class-two-spells">NPC Class 2 Spells</span>
								</div>								
								<div class="sheet-repeating-sect">
								<b data-i18n="spells">Spells</b>
									<input type="checkbox" class="sheet-sect-show" title="@{npc-spell2-sect-show}" name="attr_npc-spell2-sect-show" value="1" style="width:70px; margin:0 -15px 0 -55px;" checked="checked" /><span></span>
									<input type="checkbox" class="sheet-sect sheet-expand-show" title="Collapse or expand all rows." name="attr_npc-spell2-expand-show" value="1" style="opacity: 0;height: 1.5em;width: 20px; margin: 0px -20px 2px 0;z-index: 1;cursor: help;" /><span class="sheet-sect"></span>
									<input type="checkbox" class="sheet-sect sheet-split-column-show" value="1" name="attr_npc-spells2-column-show" title="Two or one column rows" /><span class="sheet-sect"></span>
								<div class="sheet-sect">
									<div class="sheet-repeating-fields">
										<fieldset class="repeating_npc-spells2">
											<input type="checkbox" class="sheet-counted sheet-sect-show" title="@{repeating_npc-spells2_$X_spells2-show}" name="attr_spells2-show" value="1" checked="checked" />
											<span class="sheet-table-data sheet-center"></span>
											<span class="sheet-table-data sheet-center sheet-repeating-rollbutton"><button type="roll" name="attr_roll" title="%{selected|repeating_npc-spells2_$X_roll}" value="@{macro-text}"></button></span>
											<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_npc-spells2_$X_used}" type="number" name="attr_used" value="0" /><br><span data-i18n="uses-per-day">Uses/Day</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label" style="width:20%;"><input title="@{repeating_npc-spells2_$X_name}" type="text" name="attr_name" placeholder="Name" data-i18n-placeholder="name" /><br><span data-i18n="name">Name</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect" style="width:25%;"><input title="@{repeating_npc-spells2_$X_short-description}" type="text" name="attr_short-description" placeholder="Short Description" data-i18n-placeholder="short-description" /><br><span data-i18n="short-description">Short Desc</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_npc-spells2_$X_level}" type="text" name="attr_level" value="" placeholder="Spell Level" data-i18n-placeholder="level" /><br><span data-i18n="level">Level</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_npc-spells2_$X_range}" type="text" name="attr_range" value="" placeholder="Range" data-i18n-placeholder="range" /><br><span data-i18n="range">Range</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect"><input title="@{repeating_npc-spells2_$X_duration}" type="text" name="attr_duration" value="" placeholder="Duration" data-i18n-placeholder="duration" /><br><span data-i18n="duration">Duration</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label"><input title="@{repeating_npc-spells2_$X_save}" type="text" name="attr_save" value="" placeholder="Save" data-i18n-placeholder="save" /><br><span data-i18n="save">Save</span></span>
											<span class="sheet-table-data sheet-center sheet-small-label sheet-sect" style="width:5.5em;">
												<select title="@{repeating_npc-spells2_$X_sr}" name="attr_sr">
													<option value="" data-i18n="not-applicable-abbrv-default" selected>&#8226;N/A</option>
													<option value="Yes" data-i18n="yes">Yes</option>
													<option value="No" data-i18n="no">No</option>
													<option value="Yes (Harmless)" data-i18n="save-yes-harmless">Yes (Harmless)</option>
													<option value="No (Harmless)" data-i18n="save-no-harmless">No (Harmless)</option>
												</select>
											<br><span data-i18n="spell-resistance-abbrv">SR</span>
											</span>
											<div class="sheet-sect sheet-expand">
												<textarea class="sheet-macro-text" title="@{repeating_npc-spells2_$X_macro-text}" name="attr_macro-text">@{NPC-whisper} &{template:pf_generic} {{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_generic}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{name}}} {{Level=@{level}}} {{Range=@{range}}} {{Duration=@{duration}}} {{Save=@{save}}} {{SR=@{sr}}} {{description=@{short-description}}}</textarea>
												<div class="sheet-repeating_ids sheet-table-row">
											<span class="sheet-selectable" name="attr_row_id" />
												</div>
												<hr/>
											</div>
										</fieldset>									
									</div>
								</div>
							</div>
							</div>
					</div>
				</div>  		
			<br/>
			</div>	
		</div>
</div>


<div class="sheet-footer"role="contentinfo" aria-label="Help links">
	<div class="sheet-table">
		<div class="sheet-table-row">
			<span class="sheet-table-cell"><span data-i18n="footer-info">Created by Samuel Marino w/contributions by Vince, Chris Buchholz, Magik, James W. | Last updated:</span> <i>07.18.16'&nbsp;v:0.56&nbsp;</i>v.<input type="text" style="width:2.5em; height:1.4em; vertical-align:top; padding:0px 2px 0 2px; border:none;" name="attr_PFSheet_Version" value="0" class="sheet-calc" readonly="readonly" title="A non-blank version indicates attributes have been successfully recalculated."></span>
		</div>
		<div class="sheet-table-row">
			<label style="font-size:inherit;font-weight:inherit;"><b data-i18n="questions-feedback">Questions/Feedback?:</b><span class="sheet-selectable" style="padding-left:1em;">http://tinyurl.com/PF-Thread</span></label>
			<label style="font-size:inherit;font-weight:inherit;margin-left:3em;"><b data-i18n="sheet-guide">Wiki 'how to use' Sheet Guide:</b><span class="sheet-selectable" style="padding-left:1em;">http://tinyurl.com/Sheet-Guide</span></label>
			<label style="font-size:inherit;font-weight:inherit;margin-left:3em;"><b data-i18n="help-translate">Help translate:</b><span class="sheet-selectable" style="padding-left:1em;">http://tinyurl.com/trans-pf-sheet</span></label>
		</div>
	</div>
</div>


<div class="sheet-section sheet-section-roll_templates" role="complementary">
	<!-- Spell Roll Templates -->
	<rolltemplate class="sheet-rolltemplate-pf_spell">
		{{^accessible}}
		<div class="sheet-roll-table sheet-roll-color sheet-rolltemplate-pf_spell {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}">
			<div class="sheet-roll-header" style="width:100%">
				<span class="sheet-left">
					{{#character_name}}
					{{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
					{{^character_id}}{{character_name}}{{/character_id}}
					{{#name}}:{{/name}}
					{{/character_name}}
					{{#name}}
					{{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
					{{^name_link}}{{name}}{{/name_link}}
					{{/name}}
				</span>
					{{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
					{{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
			</div>
			<div class="sheet-roll-group">
				{{#level}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="spell-level">Spell Level</span>:**&nbsp;{{#spellclass}}{{spellclass}}{{/spellclass}},&nbsp;{{level}}</div></div>{{/level}}
				{{#school}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="school">School</span>:**&nbsp;{{school}}</div></div>{{/school}}
				{{#casting_time}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="casting-time">Casting Time</span>:**&nbsp;{{casting_time}}</div></div>{{/casting_time}}
				{{#components}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="spell-components">Components</span>:**&nbsp;{{components}}</div></div>{{/components}}
				{{#range}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="range">Range</span>:**&nbsp;
						{{#close}}{{range}}&nbsp;(<span data-i18n="close">Close</span>){{/close}}
						{{#medium}}{{range}}&nbsp;(<span data-i18n="medium">Medium</span>){{/medium}}
						{{#long}}{{range}}&nbsp;(<span data-i18n="long">Long</span>){{/long}}
						{{#see_text}}<span data-i18n="see-text">See text</span>{{/see_text}}
						{{#personal}}<span data-i18n="personal">Personal</span>{{/personal}}
						{{#touch}}<span data-i18n="touch">Touch</span>{{/touch}}
						{{#number}}{{range}}{{/number}}
						{{#perlevel}}{{range}}{{#rangetext}}&nbsp;({{rangetext}}&nbsp;<span data-i18n="perlevel">Per Level</span>){{/rangetext}}{{/perlevel}}
						{{^perlevel}}{{#rangetext}}({{rangetext}}){{/rangetext}}{{/perlevel}}
				</div></div>{{/range}}
				{{#targets}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="effects-target">Effects/Target</span>:**&nbsp;{{targets}}</div></div>{{/targets}}
				{{#duration}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="duration">Duration</span>:**&nbsp;{{duration}}</div></div>{{/duration}}
				{{#sr}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="spell-resistance">Spell Resistance</span>:**&nbsp;{{sr}}</div></div>{{/sr}}
			</div>
			<div style="display:table;width:100%;">
				<div class="sheet-roll-group2">
					{{#saving_throw}}<div class="sheet-roll-row">
						<div class="sheet-roll-cell">**<span data-i18n="saving-throw">Saving Throw</span>:**&nbsp;{{saving_throw}}</div>
						{{#dc}}<div class="sheet-roll-cell">**<span data-i18n="difficulty-class-abbrv">DC</span>:**&nbsp;{{dc}}</div>{{/dc}}
					</div>{{/saving_throw}}
					{{^casterlevel_chk}}{{#casterlevel}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="caster-level">Caster Level</span>:**</div><div class="sheet-roll-cell">{{casterlevel}}</div></div>
						{{#sr}}{{#spellPen}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:1em">**<span data-i18n="overcome-spell-resistance-abbrv">Overcome SR</span>:** +{{spellPen}}</div><div class="sheet-roll-cell"></div></div>{{/spellPen}}{{/sr}}
					{{/casterlevel}}{{/casterlevel_chk}}
					{{^Concentration_chk}}{{#Concentration}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="concentration">Concentration</span>:**</div><div class="sheet-roll-cell">**+**{{Concentration}}</div></div>
						{{#cast_defDC}}
							<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:1em">**<span data-i18n="cast-defensively">Cast Defensively</span>**&nbsp;
							{{#cast_def}}**+**{{cast_def}}{{/cast_def}}</div>
							<div class="sheet-roll-cell">**<span data-i18n="difficulty-class-abbrv">DC</span>:**&nbsp;{{cast_defDC}}</div></div>
						{{/cast_defDC}}
					{{/Concentration}}{{/Concentration_chk}}
				</div>
				<div class="sheet-roll-group2">
				
					{{#casterlevel_chk}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<label data-i18n="rolls">Rolls</label>**</div></div>{{/casterlevel_chk}}
					{{^casterlevel_chk}}{{#Concentration_chk}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<label data-i18n="rolls">Rolls</label>**</div></div>{{/Concentration_chk}}{{/casterlevel_chk}}
					
					{{#casterlevel_chk}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="caster-level-check">Caster Level Check</span>** {{#casterlevel}}&nbsp;(<span data-i18n="level">{{casterlevel}}</span>){{/casterlevel}}</div><div class="sheet-roll-cell">**=**{{casterlevel_chk}}</div></div>
						{{#sr}}{{#spellPen}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:1em">**<span data-i18n="overcome-spell-resistance-abbrv">Overcome SR</span>:**&nbsp;**+**{{spellPen}}</div><div class="sheet-roll-cell"></div></div>{{/spellPen}}{{/sr}}
					{{/casterlevel_chk}}

					{{#Concentration_chk}}
						<div class="sheet-roll-row">
							<div class="sheet-roll-cell">**<span data-i18n="concentration-check">Concentration Check</span>{{#Concentration}}**&nbsp;**+**{{Concentration}}{{/Concentration}}</div>
							<div class="sheet-roll-cell">**=**{{Concentration_chk}}</div>
						</div>
						{{#cast_defDC}}
							<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:1em">**<span data-i18n="cast-defensively">Cast Defensively</span>**&nbsp;
							{{#cast_def}}**+**{{cast_def}}{{/cast_def}}</div>
							<div class="sheet-roll-cell">**<span data-i18n="difficulty-class-abbrv">DC</span>:**&nbsp;{{cast_defDC}}</div></div>
						{{/cast_defDC}}
					{{/Concentration_chk}}
					

					{{#attack}}
					<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack">Attack</span>**</div><div class="sheet-roll-cell">{{attack}}</div></div>
					{{#crit_confirm}}{{#rollWasCrit() attack}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm}}</div></div>{{/rollWasCrit() attack}}{{/crit_confirm}}
					{{#damage}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage}}</div></div>{{/damage}}
					{{#crit_damage}}{{#rollWasCrit() attack}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage}}</div></div>{{/rollWasCrit() attack}}{{/crit_damage}}
					{{/attack}}
					{{^attack}}{{#damage}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage}}</div></div>{{/damage}}{{/attack}}
					
					{{#attack2}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-2">Attack 2</span>**</div><div class="sheet-roll-cell">{{attack2}}</div></div>
						{{#crit_confirm2}}{{#rollWasCrit() attack2}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm2}}</div></div>{{/rollWasCrit() attack2}}{{/crit_confirm2}}
						{{#damage2}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage2}}</div></div>{{/damage2}}
						{{#crit_damage2}}{{#rollWasCrit() attack2}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage2}}</div></div>{{/rollWasCrit() attack2}}{{/crit_damage2}}
					{{/attack2}}
					{{^attack2}}{{#damage2}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage2}}</div></div>{{/damage2}}{{/attack2}}

					{{#attack3}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-3">Attack 3</span>**</div><div class="sheet-roll-cell">{{attack3}}</div></div>
						{{#crit_confirm3}}{{#rollWasCrit() attack3}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm3}}</div></div>{{/rollWasCrit() attack3}}{{/crit_confirm3}}
						{{#damage3}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage3}}</div></div>{{/damage3}}
						{{#crit_damage3}}{{#rollWasCrit() attack3}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage3}}</div></div>{{/rollWasCrit() attack3}}{{/crit_damage3}}
					{{/attack3}}
					{{^attack3}}{{#damage3}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage3}}</div></div>{{/damage3}}{{/attack3}}

					{{#attack4}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-4">Attack 4</span>**</div><div class="sheet-roll-cell">{{attack4}}</div></div>
						{{#crit_confirm4}}{{#rollWasCrit() attack4}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm4}}</div></div>{{/rollWasCrit() attack4}}{{/crit_confirm4}}
						{{#damage4}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage4}}</div></div>{{/damage4}}
						{{#crit_damage4}}{{#rollWasCrit() attack4}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage4}}</div></div>{{/rollWasCrit() attack4}}{{/crit_damage4}}
					{{/attack4}}
					{{^attack4}}{{#damage4}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage4}}</div></div>{{/damage4}}{{/attack4}}

					{{#allprops() color accessible rounded spellclass cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange attack damage crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4}}
					<div class="sheet-roll-row"><div class="sheet-roll-cell">**{{key}}**:</div><div class="sheet-roll-cell">{{value}}</div></div>
					{{/allprops() color accessible rounded spellclass cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange attack damage crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4}}
				</div>
			</div>
			{{#description}}
				<div class="sheet-roll-group">
					<div class="sheet-roll-row"><div class="sheet-roll-cell">{{description}}</div></div>
				</div>
			{{/description}}
			{{#deafened_note}}
				<div class="sheet-roll-group">
					<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="deafened">Deafened</span>:** 
					<span data-i18n="condition-deafened-spellonly">Has a 20% chance of spell failure when casting spells with verbal components.</span></div></div>
				</div>
			{{/deafened_note}}
			
		</div>
		{{/accessible}}
		{{#accessible}}
		<div class="sheet-roll-accessible sheet-roll-color {{#color}}color-{{color}}{{/color}}">
			<h3 class="sheet-roll-header">
				{{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
				{{#name}}{{name}}{{/name}}
			</h3>
			{{#subtitle}}<h4>{{subtitle}}</h4>{{/subtitle}}
			<h4>Spell Details</h4>
			{{#level}}<label>**<span data-i18n="spell-level">Spell Level</span>:**<span>{{#spellclass}}&nbsp;{{spellclass}},{{/spellclass}}&nbsp;{{level}}</span></label>{{/level}}
			{{#school}}<label>**<span data-i18n="school">School</span>:**<span>{{school}}</span></label>{{/school}}
			{{#casting_time}}<label>**<span data-i18n="casting-time">Casting Time</span>:**<span>{{casting_time}}</span></label>{{/casting_time}}
			{{#components}}<label>**<span data-i18n="spell-components">Components</span>:**<span>{{components}}</span></label>{{/components}}
			{{#range}}<label>**<span data-i18n="range">Range</span>:**<span>
					{{#close}}{{range}} (<span data-i18n="close">Close</span>){{/close}}
					{{#medium}}{{range}} (<span data-i18n="medium">Medium</span>){{/medium}}
					{{#long}}{{range}} (<span data-i18n="long">Long</span>){{/long}}
					{{#see_text}}<span data-i18n="see-text">See text</span>{{/see_text}}
					{{#personal}}<span data-i18n="personal">Personal</span>{{/personal}}
					{{#touch}}<span data-i18n="touch">Touch</span>{{/touch}}
					{{#number}}{{range}}{{/number}}
					{{#perlevel}}{{range}} {{#rangetext}}({{rangetext}} <span data-i18n="perlevel">Per Level</span>){{/rangetext}}{{/perlevel}}
					{{^perlevel}}{{#rangetext}}({{rangetext}}){{/rangetext}}{{/perlevel}}
				</span>
			</label>{{/range}}

			{{#targets}}<label>**<span data-i18n="effects-target">Effects/Target</span>:**<span>{{targets}}</span></label>{{/targets}}
			{{#duration}}<label>**<span data-i18n="duration">Duration</span>:**<span>{{duration}}</span></label>{{/duration}}
			{{#sr}}<label>**<span data-i18n="spell-resistance">Spell Resistance</span>:**<span>{{sr}}</span></label>{{/sr}}
			{{#saving_throw}}<label>**<span data-i18n="saving-throw">Saving Throw</span>:** <span>{{saving_throw}}</span>
				{{#dc}}<span class="sheet-right">**<span data-i18n="difficulty-class-abbrv">DC</span>**<span>{{dc}}</span></label></span>{{/dc}}
			{{/saving_throw}}

			{{^casterlevel_chk}}{{#casterlevel}}
				<label>**<span data-i18n="caster-level">Caster Level</span>:**<span class="sheet-right">{{casterlevel}}</span></label>
				{{#sr}}{{#spellPen}}<label style="text-indent:1em">**<span data-i18n="overcome-spell-resistance-abbrv">Overcome SR</span>**<span>+{{spellPen}}</span></label>{{/spellPen}}{{/sr}}
			{{/casterlevel}}{{/casterlevel_chk}}
			
			{{^Concentration_chk}}{{#Concentration}}
				<label>**<span data-i18n="concentration">Concentration</span> **<span class="sheet-right">**+**{{Concentration}}</span></label>
				{{#cast_defDC}}<label style="text-indent:1em">
					<span>**<span data-i18n="cast-defensively">Cast Defensively</span>:**&nbsp;{{#cast_def}}**+**{{cast_def}}{{/cast_def}}</span>
					<span class="sheet-right">**<span data-i18n="difficulty-class-abbrv">DC</span>**&nbsp;{{cast_defDC}}</span>
				</label>{{/cast_defDC}}
			{{/Concentration}}{{/Concentration_chk}}
			
			{{#casterlevel_chk}}<h4 data-i18n="rolls">Rolls</h4>{{/casterlevel_chk}}
			{{^casterlevel_chk}}{{#Concentration_chk}}<h4>Rolls</h4>{{/Concentration_chk}}{{/casterlevel_chk}}
			
			{{#casterlevel_chk}}<label>**<span data-i18n="caster-level-check">Caster Level Check</span>** {{#casterlevel}}(<span data-i18n="level">Level</span>&nbsp;{{casterlevel}}){{/casterlevel}}<span class="sheet-right"> **=**{{casterlevel_chk}}</span></label>
				{{#sr}}{{#spellPen}}<label style="text-indent:1em"> **<span data-i18n="overcome-spell-resistance-abbrv">Overcome SR</span>: <span>+**{{spellPen}}</span></label>{{/spellPen}}{{/sr}}
			{{/casterlevel_chk}}
			{{#Concentration_chk}}<label>**<span data-i18n="concentration-check">Concentration Check</span>** {{#Concentration}}**+**{{Concentration}}{{/Concentration}}<span class="sheet-right">**=**{{Concentration_chk}}</span></label>
				{{#cast_defDC}}<label style="text-indent:1em">
					<span>**<span data-i18n="cast-defensively">Cast Defensively</span>:**&nbsp;{{#cast_def}}**+**{{cast_def}}{{/cast_def}}</span>
					<span class="sheet-right">**<span data-i18n="difficulty-class-abbrv">DC</span>**&nbsp;{{cast_defDC}}</span>
				</label>{{/cast_defDC}}
			{{/Concentration_chk}}
			
			
			{{#attack}}
				<h4>Attack:</h4>
				<label>**<span data-i18n="attack">Attack</span>:**<span class="sheet-right">{{attack}}</span></label>
				{{#crit_confirm}}{{#rollWasCrit() attack}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm}}</span></label>{{/rollWasCrit() attack}}{{/crit_confirm}}
				{{#damage}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage}}</span></label>{{/damage}}
				{{#crit_damage}}{{#rollWasCrit() attack}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage}}</span></label>{{/rollWasCrit() attack}}{{/crit_damage}}
			{{/attack}}
			{{^attack}}
				{{#damage}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage}}</span></label>{{/damage}}
			{{/attack}}

			{{#attack2}}
				<h4>Attack 2:</h4>
				<label>**<span data-i18n="attack-2">Attack 2</span>:**<span class="sheet-right">{{attack2}}</span></label>
				{{#crit_confirm2}}{{#rollWasCrit() attack2}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm2}}</span></label>{{/rollWasCrit() attack2}}{{/crit_confirm2}}
				{{#damage2}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage2}}</span></label>{{/damage2}}
				{{#crit_damage2}}{{#rollWasCrit() attack2}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage2}}</span></label>{{/rollWasCrit() attack2}}{{/crit_damage2}}
			{{/attack2}}
			{{^attack2}}
				{{#damage2}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage2}}</span></label>{{/damage2}}
			{{/attack2}}

			{{#attack3}}
				<h4>Attack 3:</h4>
				<label>**<span data-i18n="attack-3">Attack 3</span>:**<span class="sheet-right">{{attack3}}</span></label>
				{{#crit_confirm3}}{{#rollWasCrit() attack3}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm3}}</span></label>{{/rollWasCrit() attack3}}{{/crit_confirm3}}
				{{#damage3}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage3}}</span></label>{{/damage3}}
				{{#crit_damage3}}{{#rollWasCrit() attack3}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage3}}</span></label>{{/rollWasCrit() attack3}}{{/crit_damage3}}
			{{/attack3}}
			{{^attack3}}
				{{#damage3}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage3}}</span></label>{{/damage3}}
			{{/attack3}}

			{{#attack4}}
				<h4>Attack 4:</h4>
				<label>**<span data-i18n="attack-4">Attack 4</span>:**<span class="sheet-right">{{attack4}}</span></label>
				{{#crit_confirm4}}{{#rollWasCrit() attack4}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm4}}</span></label>{{/rollWasCrit() attack4}}{{/crit_confirm4}}
				{{#damage4}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage4}}</span></label>{{/damage4}}
				{{#crit_damage4}}{{#rollWasCrit() attack4}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage4}}</span></label>{{/rollWasCrit() attack4}}{{/crit_damage4}}
			{{/attack4}}
			{{^attack4}}
				{{#damage4}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage4}}</span></label>{{/damage4}}
			{{/attack4}}

			{{#allprops() color accessible rounded spellclass cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange attack damage crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 }}
				<label>**{{key}}**:<span class="sheet-right">{{value}}</span></label>
			{{/allprops() color accessible rounded spellclass cast_defDC header_image character_name character_id name_link subtitle deafened_note school level casterlevel rangetext norangetext casting_time components range targets duration saving_throw dc sr Concentration spellPen cast_def Concentration_chk spellPen_chk casterlevel_chk description close medium long see_text personal touch number perlevel blank unknownrange attack damage crit_confirm crit_damage attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 }}
			{{#description}}<h4 data-i18n="description">Description</h4><span>{{description}}</span>{{/description}}
			{{#deafened_note}}<h4 data-i18n="deafened">Deafened</h4>
				<label><span data-i18n="condition-deafened-spellonly">Has a 20% chance of spell failure when casting spells with verbal components.</span></label>
			{{/deafened_note}}
		</div>
		{{/accessible}}	
	</rolltemplate>

	<!-- Attack Roll Templates -->
	<rolltemplate class="sheet-rolltemplate-pf_attack">
		{{^accessible}}
		<div class="sheet-roll-table sheet-roll-color sheet-rolltemplate-pf_attack {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}">
			<div class="sheet-roll-header" style="width:100%">
				<span class="sheet-left">
					{{#character_name}}
					{{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
					{{^character_id}}{{character_name}}{{/character_id}}
					{{#name}}:{{/name}}
					{{/character_name}}
					{{#name}}
					{{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
					{{^name_link}}{{name}}{{/name_link}}
					{{/name}}
				</span>
					{{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}

					{{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
			</div>
			
			<div style="display:table;width:100%;">
				<div class="sheet-roll-group2">
					{{#attack}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack">Attack</span>**</div><div class="sheet-roll-cell">{{attack}}</div></div>
						{{#crit_confirm}}{{#rollWasCrit() attack}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm}}</div></div>{{/rollWasCrit() attack}}{{/crit_confirm}}
						{{#damage}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage}}</div></div>{{/damage}}
						{{#crit_damage}}{{#rollWasCrit() attack}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage}}</div></div>{{/rollWasCrit() attack}}{{/crit_damage}}
					{{/attack}}
					{{^attack}}{{#damage}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage}}</div></div>{{/damage}}{{/attack}}
					
					{{#attack2}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-2">Attack 2</span>**</div><div class="sheet-roll-cell">{{attack2}}</div></div>
						{{#crit_confirm2}}{{#rollWasCrit() attack2}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm2}}</div></div>{{/rollWasCrit() attack2}}{{/crit_confirm2}}
						{{#damage2}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage2}}</div></div>{{/damage2}}
						{{#crit_damage2}}{{#rollWasCrit() attack2}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage2}}</div></div>{{/rollWasCrit() attack2}}{{/crit_damage2}}
					{{/attack2}}
					{{^attack2}}{{#damage2}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage2}}</div></div>{{/damage2}}{{/attack2}}

					{{#attack3}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-3">Attack 3</span>**</div><div class="sheet-roll-cell">{{attack3}}</div></div>
						{{#crit_confirm3}}{{#rollWasCrit() attack3}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm3}}</div></div>{{/rollWasCrit() attack3}}{{/crit_confirm3}}
						{{#damage3}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage3}}</div></div>{{/damage3}}
						{{#crit_damage3}}{{#rollWasCrit() attack3}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage3}}</div></div>{{/rollWasCrit() attack3}}{{/crit_damage3}}
					{{/attack3}}
					{{^attack3}}{{#damage3}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage3}}</div></div>{{/damage3}}{{/attack3}}

					{{#attack4}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-4">Attack 4</span>**</div><div class="sheet-roll-cell">{{attack4}}</div></div>
						{{#crit_confirm4}}{{#rollWasCrit() attack4}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm4}}</div></div>{{/rollWasCrit() attack4}}{{/crit_confirm4}}
						{{#damage4}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage4}}</div></div>{{/damage4}}
						{{#crit_damage4}}{{#rollWasCrit() attack4}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage4}}</div></div>{{/rollWasCrit() attack4}}{{/crit_damage4}}
					{{/attack4}}
					{{^attack4}}{{#damage4}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage4}}</div></div>{{/damage4}}{{/attack4}}

					{{#attack5}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-5">Attack 5</span>**</div><div class="sheet-roll-cell">{{attack5}}</div></div>
						{{#crit_confirm5}}{{#rollWasCrit() attack5}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm5}}</div></div>{{/rollWasCrit() attack5}}{{/crit_confirm5}}
						{{#damage5}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage5}}</div></div>{{/damage5}}
						{{#crit_damage5}}{{#rollWasCrit() attack5}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage5}}</div></div>{{/rollWasCrit() attack5}}{{/crit_damage5}}
					{{/attack5}}
					{{^attack5}}{{#damage5}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage5}}</div></div>{{/damage5}}{{/attack5}}

					{{#attack6}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-6">Attack 6</span>**</div><div class="sheet-roll-cell">{{attack6}}</div></div>
						{{#crit_confirm6}}{{#rollWasCrit() attack6}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm6}}</div></div>{{/rollWasCrit() attack6}}{{/crit_confirm6}}
						{{#damage6}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage6}}</div></div>{{/damage6}}
						{{#crit_damage6}}{{#rollWasCrit() attack6}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage6}}</div></div>{{/rollWasCrit() attack6}}{{/crit_damage6}}
					{{/attack6}}
					{{^attack6}}{{#damage6}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage6}}</div></div>{{/damage6}}{{/attack6}}

					{{#attack7}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-7">Attack 7</span>**</div><div class="sheet-roll-cell">{{attack7}}</div></div>
						{{#crit_confirm7}}{{#rollWasCrit() attack7}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm7}}</div></div>{{/rollWasCrit() attack7}}{{/crit_confirm7}}
						{{#damage7}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage7}}</div></div>{{/damage7}}
						{{#crit_damage7}}{{#rollWasCrit() attack7}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage7}}</div></div>{{/rollWasCrit() attack7}}{{/crit_damage7}}
					{{/attack7}}
					{{^attack7}}{{#damage7}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage7}}</div></div>{{/damage7}}{{/attack7}}

					{{#attack8}}
						<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-8">Attack 8</span>**</div><div class="sheet-roll-cell">{{attack8}}</div></div>
						{{#crit_confirm8}}{{#rollWasCrit() attack8}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-confirm">Crit Confirm</span>**</div><div class="sheet-roll-cell">{{crit_confirm8}}</div></div>{{/rollWasCrit() attack8}}{{/crit_confirm8}}
						{{#damage8}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">{{damage8}}</div></div>{{/damage8}}
						{{#crit_damage8}}{{#rollWasCrit() attack8}}<div class="sheet-roll-row"><div class="sheet-roll-cell" style="text-indent:0.5em">**<span data-i18n="critical-damage">Crit Damage</span>**</div><div class="sheet-roll-cell">+{{crit_damage8}}</div></div>{{/rollWasCrit() attack8}}{{/crit_damage8}}
					{{/attack8}}
					{{^attack8}}{{#damage8}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage">Damage</span>**</div><div class="sheet-roll-cell">+{{damage8}}</div></div>{{/damage8}}{{/attack8}}

					{{#type}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="type">Type</span>**:</div><div class="sheet-roll-cell">{{type}}</div></div>{{/type}}
					
					{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 damage8 crit_confirm8 crit_damage8 melee_notes ranged_notes CMB_notes attack_notes type weapon_notes }}
					<div class="sheet-roll-row"><div class="sheet-roll-cell">**{{key}}**:</div><div class="sheet-roll-cell">{{value}}</div></div>
					{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 damage8 crit_confirm8 crit_damage8 melee_notes ranged_notes CMB_notes attack_notes type weapon_notes }}
				</div>
			</div>
			<div class="sheet-roll-group">
				{{#melee_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="melee-notes">Melee Notes</span>:** {{melee_notes}}</div></div>{{/melee_notes}}
				{{#ranged_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="ranged-notes">Ranged Notes</span>:** {{ranged_notes}}</div></div>{{/ranged_notes}}
				{{#CMB_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="combat-maneuver-base-notes">CMB Notes</span>:** {{CMB_notes}}</div></div>{{/CMB_notes}}
				{{#attack_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="attack-notes">Attack Notes</span>:** {{attack_notes}}</div></div>{{/attack_notes}}
				{{#weapon_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="weapon-notes">Weapon Notes</span>:** {{weapon_notes}}</div></div>{{/weapon_notes}}
				{{#description}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{description}}</div></div>{{/description}}
			</div>
		</div>
		{{/accessible}}
		{{#accessible}}
		<div class="sheet-roll-accessible sheet-roll-color {{#color}}color-{{color}}{{/color}}">
			<h3 class="sheet-roll-header">
				{{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
				{{#name}}{{name}}{{/name}}
			</h3>
			{{#subtitle}}<h4>{{subtitle}}</h4>{{/subtitle}}
			{{#attack}}
				<h4>Attack:</h4>
				<label>**<span data-i18n="attack">Attack</span>:**<span class="sheet-right">{{attack}}</span></label>
				{{#crit_confirm}}{{#rollWasCrit() attack}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm}}</span></label>{{/rollWasCrit() attack}}{{/crit_confirm}}
				{{#damage}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage}}</span></label>{{/damage}}
				{{#crit_damage}}{{#rollWasCrit() attack}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage}}</span></label>{{/rollWasCrit() attack}}{{/crit_damage}}
			{{/attack}}
			{{^attack}}
				{{#damage}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage}}</span></label>{{/damage}}
			{{/attack}}

			{{#attack2}}
				<h4>Attack 2:</h4>
				<label>**<span data-i18n="attack-2">Attack 2</span>:**<span class="sheet-right">{{attack2}}</span></label>
				{{#crit_confirm2}}{{#rollWasCrit() attack2}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm2}}</span></label>{{/rollWasCrit() attack2}}{{/crit_confirm2}}
				{{#damage2}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage2}}</span></label>{{/damage2}}
				{{#crit_damage2}}{{#rollWasCrit() attack2}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage2}}</span></label>{{/rollWasCrit() attack2}}{{/crit_damage2}}
			{{/attack2}}
			{{^attack2}}
				{{#damage2}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage2}}</span></label>{{/damage2}}
			{{/attack2}}

			{{#attack3}}
				<h4>Attack 3:</h4>
				<label>**<span data-i18n="attack-3">Attack 3</span>:**<span class="sheet-right">{{attack3}}</span></label>
				{{#crit_confirm3}}{{#rollWasCrit() attack3}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm3}}</span></label>{{/rollWasCrit() attack3}}{{/crit_confirm3}}
				{{#damage3}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage3}}</span></label>{{/damage3}}
				{{#crit_damage3}}{{#rollWasCrit() attack3}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage3}}</span></label>{{/rollWasCrit() attack3}}{{/crit_damage3}}
			{{/attack3}}
			{{^attack3}}
				{{#damage3}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage3}}</span></label>{{/damage3}}
			{{/attack3}}

			{{#attack4}}
				<h4>Attack 4:</h4>
				<label>**<span data-i18n="attack-4">Attack 4</span>:**<span class="sheet-right">{{attack4}}</span></label>
				{{#crit_confirm4}}{{#rollWasCrit() attack4}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm4}}</span></label>{{/rollWasCrit() attack4}}{{/crit_confirm4}}
				{{#damage4}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage4}}</span></label>{{/damage4}}
				{{#crit_damage4}}{{#rollWasCrit() attack4}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage4}}</span></label>{{/rollWasCrit() attack4}}{{/crit_damage4}}
			{{/attack4}}
			{{^attack4}}
				{{#damage4}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage4}}</span></label>{{/damage4}}
			{{/attack4}}

			{{#attack5}}
				<h4>Attack 5:</h4>
				<label>**<span data-i18n="attack-5">Attack 5</span>:**<span class="sheet-right">{{attack5}}</span></label>
				{{#crit_confirm5}}{{#rollWasCrit() attack5}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm5}}</span></label>{{/rollWasCrit() attack5}}{{/crit_confirm5}}
				{{#damage5}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage5}}</span></label>{{/damage5}}
				{{#crit_damage5}}{{#rollWasCrit() attack5}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage5}}</span></label>{{/rollWasCrit() attack5}}{{/crit_damage5}}
			{{/attack5}}
			{{^attack5}}
				{{#damage5}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage5}}</span></label>{{/damage5}}
			{{/attack5}}

			{{#attack6}}
				<h4>Attack 6:</h4>
				<label>**<span data-i18n="attack-6">Attack 6</span>:**<span class="sheet-right">{{attack6}}</span></label>
				{{#crit_confirm6}}{{#rollWasCrit() attack6}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm6}}</span></label>{{/rollWasCrit() attack6}}{{/crit_confirm6}}
				{{#damage6}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage6}}</span></label>{{/damage6}}
				{{#crit_damage6}}{{#rollWasCrit() attack6}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage6}}</span></label>{{/rollWasCrit() attack6}}{{/crit_damage6}}
			{{/attack6}}
			{{^attack6}}
				{{#damage6}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage6}}</span></label>{{/damage6}}
			{{/attack6}}

			{{#attack7}}
				<h4>Attack 7:</h4>
				<label>**<span data-i18n="attack-7">Attack 7</span>:**<span class="sheet-right">{{attack7}}</span></label>
				{{#crit_confirm7}}{{#rollWasCrit() attack7}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm7}}</span></label>{{/rollWasCrit() attack7}}{{/crit_confirm7}}
				{{#damage7}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage7}}</span></label>{{/damage7}}
				{{#crit_damage7}}{{#rollWasCrit() attack7}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage7}}</span></label>{{/rollWasCrit() attack7}}{{/crit_damage7}}
			{{/attack7}}
			{{^attack7}}
				{{#damage7}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage7}}</span></label>{{/damage7}}
			{{/attack7}}

			{{#attack8}}
				<h4>Attack 8:</h4>
				<label>**<span data-i18n="attack-8">Attack 8</span>:**<span class="sheet-right">{{attack8}}</span></label>
				{{#crit_confirm8}}{{#rollWasCrit() attack8}}<label>**<span data-i18n="critical-confirm">Crit Confirm</span>**<span class="sheet-right">{{crit_confirm8}}</span></label>{{/rollWasCrit() attack8}}{{/crit_confirm8}}
				{{#damage8}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">{{damage8}}</span></label>{{/damage8}}
				{{#crit_damage8}}{{#rollWasCrit() attack8}}<label>**<span data-i18n="critical-damage">Crit Damage</span>**<span class="sheet-right">+{{crit_damage8}}</span></label>{{/rollWasCrit() attack8}}{{/crit_damage8}}
			{{/attack8}}
			{{^attack8}}
				{{#damage8}}<label>**<span data-i18n="damage">Damage</span>**<span class="sheet-right">+{{damage8}}</span></label>{{/damage8}}
			{{/attack8}}

			{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 damage8 crit_confirm8 crit_damage8 melee_notes ranged_notes CMB_notes attack_notes type weapon_notes}}
			<label>**{{key}}**:<span class="sheet-right">{{value}}</span></label>
			{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle attack damage crit_confirm crit_damage description attack2 damage2 crit_confirm2 crit_damage2 attack3 damage3 crit_confirm3 crit_damage3 attack4 damage4 crit_confirm4 crit_damage4 attack5 damage5 crit_confirm5 crit_damage5 attack6 damage6 crit_confirm6 crit_damage6 attack7 damage7 crit_confirm7 crit_damage7 attack8 damage8 crit_confirm8 crit_damage8 melee_notes ranged_notes CMB_notes attack_notes type weapon_notes}}

			{{#type}}<label>**<span data-i18n="type">Type</span>**:<span class="sheet-right">{{type}}</span></label>{{/type}}

			{{#melee_notes}}<label>**<span data-i18n="melee-notes">Melee Notes</span>:<span>{{melee_notes}}</span></label>{{/melee_notes}}
			{{#ranged_notes}}<label>**<span data-i18n="ranged-notes">Ranged Notes</span>:<span>{{ranged_notes}}</span></label>{{/ranged_notes}}
			{{#CMB_notes}}<label>**<span data-i18n="combat-maneuver-base-notes">CMB Notes</span>:<span>{{CMB_notes}}</span></label>{{/CMB_notes}}
			{{#attack_notes}}<label>**<span data-i18n="attack">Attack Notes</span>:<span>{{attack_notes}}</span></label>{{/attack_notes}}
			{{#weapon_notes}}<label>**<span data-i18n="weapon-notes">Weapon Notes</span>:<span>{{weapon_notes}}</span></label>{{/weapon_notes}}

			{{#description}}<h4 data-i18n="description">Description</h4><span>{{description}}</span>{{/description}}
		</div>
		{{/accessible}}
	</rolltemplate>

	<!-- Defense Roll Templates -->
	<rolltemplate class="sheet-rolltemplate-pf_defense">
		{{^accessible}}
		<div class="sheet-roll-table sheet-roll-color sheet-rolltemplate-pf_defense {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}">
			<div class="sheet-roll-header" style="width:100%">
				<span class="sheet-left">
					{{#character_name}}
					{{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
					{{^character_id}}{{character_name}}{{/character_id}}
					{{#name}}:{{/name}}
					{{/character_name}}
					{{#name}}
					{{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
					{{^name_link}}{{name}}{{/name_link}}
					{{/name}}
				</span>
				{{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}

				{{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}

			</div>
			<div class="sheet-roll-group">
				{{#dr_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="damage-resistance-abbrv">DR</span>:** {{dr_notes}}</div></div>{{/dr_notes}}
				{{#resistances_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="resistance">Resistances</span>:** {{resistances_notes}}</div></div>{{/resistances_notes}}
				{{#immunities_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="immunities">Immunities</span>:** {{immunities_notes}}</div></div>{{/immunities_notes}}
				{{#weaknesses_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="weaknesses">Weaknesses</span>:** {{weaknesses_notes}}</div></div>{{/weaknesses_notes}}
				{{#sr0_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="spell-resistance-abbrv">Spell Resistances</span>:** {{sr0_notes}}</div></div>{{/sr0_notes}}
				{{#armor_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="armor-notes">Armor Notes</span>:** {{armor_notes}}</div></div>{{/armor_notes}}
				{{#save_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="save-notes">Save Notes</span>:** {{save_notes}}</div></div>{{/save_notes}}
				{{#cmd_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="combat-maneuver-defense-notes">CMD Notes</span>:** {{cmd_notes}}</div></div>{{/cmd_notes}}
				{{#defense_notes}}<div class="sheet-roll-row"><div class="sheet-roll-cell">**<span data-i18n="defense-notes">Defensive Notes</span>:** {{defense_notes}}</div></div>{{/defense_notes}}
			</div>
			<div style="display:table;width:100%;">
				<div class="sheet-roll-group2">
					{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description}}
					<div class="sheet-roll-row"><div class="sheet-roll-cell">**{{key}}**:</div><div class="sheet-roll-cell">{{value}}</div></div>
					{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description}}
				</div>
			</div>
			<div class="sheet-roll-group">
				{{#description}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{description}}</div></div>{{/description}}
			</div>
		</div>
		{{/accessible}}
		{{#accessible}}
		<div class="sheet-roll-accessible sheet-roll-color {{#color}}color-{{color}}{{/color}}">
			<h3 class="sheet-roll-header">
				{{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
				{{#name}}{{name}}{{/name}}
			</h3>
			{{#subtitle}}<h4>{{subtitle}}</h4>{{/subtitle}}
			{{#dr_notes}}<label>**<span data-i18n="damage-resistance">DR</span>:**<span>{{dr_notes}}</span></label>{{/dr_notes}}
			{{#resistances_notes}}<label>**<span data-i18n="reistances">Resistances</span>:**<span>{{resistances_notes}}</span></label>{{/resistances_notes}}
			{{#immunities_notes}}<label>**<span data-i18n="immunities">Immunities</span>:**<span>{{immunities_notes}}</span></label>{{/immunities_notes}}
			{{#weaknesses_notes}}<label>**<span data-i18n="weaknesses">Weaknesses</span>:**<span>{{weaknesses_notes}}</span></label>{{/weaknesses_notes}}
			{{#sr0_notes}}<label>**<span data-i18n="spell-resistance-abbrv">Spell Resist</span>:**<span>{{sr0_notes}}</span></label>{{/sr0_notes}}
			{{#armor_notes}}<label>**<span data-i18n="armor-notes">Armor</span>:**<span>{{armor_notes}}</span></label>{{/armor_notes}}
			{{#save_notes}}<label>**<span data-i18n="save-notes">Saves</span>:**<span>{{save_notes}}</span></label>{{/save_notes}}
			{{#cmd_notes}}<label>**<span data-i18n="combat-maneuver-defense-notes">CMD</span>:**<span>{{cmd_notes}}</span></label>{{/cmd_notes}}
			{{#defense_notes}}<label>**<span data-i18n="defense-notes">Defenses</span>:**<span>{{defense_notes}}</span></label>{{/defense_notes}}
			{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description}}
			<label>**{{key}}**:<span>{{value}}</span></label>
			{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle dr_notes resistances_notes immunities_notes weaknesses_notes sr0_notes armor_notes save_notes cmd_notes defense_notes description}}
			{{#description}}<h4 data-i18n="description">Description</h4><span>{{description}}</span>{{/description}}
		</div>
		{{/accessible}}
	</rolltemplate>

	<!-- Generic Roll Templates -->
	<rolltemplate class="sheet-rolltemplate-pf_generic">
		{{^accessible}}
		<div class="sheet-roll-table sheet-roll-color sheet-rolltemplate-pf_generic {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}">
			<div class="sheet-roll-header">
				<span class="sheet-left">
					{{#character_name}}
					{{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
					{{^character_id}}{{character_name}}{{/character_id}}
					{{#name}}:{{/name}}
					{{/character_name}}
					{{#name}}
					{{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
					{{^name_link}}{{name}}{{/name_link}}
					{{/name}}
				</span>
				{{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}
				{{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}
			</div>
			
			<div class="sheet-roll-group">
				{{#lefttext_1}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_1}}</div></div>{{/lefttext_1}}
				{{#righttext_1}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_1}}</div></div>{{/righttext_1}}
				{{#lefttext_2}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_2}}</div></div>{{/lefttext_2}}
				{{#righttext_2}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_2}}</div></div>{{/righttext_2}}
				{{#lefttext_3}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_3}}</div></div>{{/lefttext_3}}
				{{#righttext_3}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_3}}</div></div>{{/righttext_3}}
				{{#lefttext_4}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_4}}</div></div>{{/lefttext_4}}
				{{#righttext_4}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_4}}</div></div>{{/righttext_4}}
				{{#lefttext_5}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_5}}</div></div>{{/lefttext_5}}
				{{#righttext_5}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_5}}</div></div>{{/righttext_5}}
			</div>
			
			<div style="display:table;width:100%;">
				<div class="sheet-roll-group2">
				{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle init_notes description righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 }}
				<div class="sheet-roll-row"><div class="sheet-roll-cell">**{{key}}**</div><div class="sheet-roll-cell">{{value}}</div></div>
				{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle init_notes description righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 }}
				</div>
			</div>
			
			<div class="sheet-roll-group">

				{{#lefttext_6}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_6}}</div></div>{{/lefttext_6}}
				{{#righttext_6}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_6}}</div></div>{{/righttext_6}}
				{{#lefttext_7}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_7}}</div></div>{{/lefttext_7}}
				{{#righttext_7}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_7}}</div></div>{{/righttext_7}}
				{{#lefttext_8}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_8}}</div></div>{{/lefttext_8}}
				{{#righttext_8}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_8}}</div></div>{{/righttext_8}}
				{{#lefttext_9}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_9}}</div></div>{{/lefttext_9}}
				{{#righttext_9}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_9}}</div></div>{{/righttext_9}}
				{{#lefttext_10}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{lefttext_10}}</div></div>{{/lefttext_10}}
				{{#righttext_10}}<div class="sheet-roll-row"><div class="sheet-roll-cell sheet-right">{{righttext_10}}</div></div>{{/righttext_10}}

				{{#description}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{description}}</div></div>{{/description}}
			</div>
		</div>
		{{/accessible}}
		{{#accessible}}
		<div class="sheet-roll-accessible sheet-roll-color {{#color}}color-{{color}}{{/color}}">
			<h3 class="sheet-roll-header">
				{{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
				{{#name}}{{name}}{{/name}}
			</h3>
			{{#subtitle}}<h4>{{subtitle}}</h4>{{/subtitle}}
			{{#lefttext_1}}<label><span>{{lefttext_1}}</span></label>{{/lefttext_1}}
			{{#righttext_1}}<label><span class="sheet-right">{{righttext_1}}</span></label>{{/righttext_1}}
			{{#lefttext_2}}<label><span>{{lefttext_2}}</span></label>{{/lefttext_2}}
			{{#righttext_2}}<label><span class="sheet-right">{{righttext_2}}</span></label>{{/righttext_2}}
			{{#lefttext_3}}<label><span>{{lefttext_3}}</span></label>{{/lefttext_3}}
			{{#righttext_3}}<label><span class="sheet-right">{{righttext_3}}</span></label>{{/righttext_3}}
			{{#lefttext_4}}<label><span>{{lefttext_4}}</span></label>{{/lefttext_4}}
			{{#righttext_4}}<label><span class="sheet-right">{{righttext_4}}</span></label>{{/righttext_4}}
			{{#lefttext_5}}<label><span>{{lefttext_5}}</span></label>{{/lefttext_5}}
			{{#righttext_5}}<label><span class="sheet-right">{{righttext_5}}</span></label>{{/righttext_5}}
			{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle init_notes description righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 }}
			<label><span>**{{key}}**</span><span class="sheet-right">{{value}}</span></label>
			{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle init_notes description righttext_1 lefttext_1 righttext_2 lefttext_2 righttext_3 lefttext_3 righttext_4 lefttext_4 righttext_5 lefttext_5 righttext_6 lefttext_6 righttext_7 lefttext_7 righttext_8 lefttext_8 righttext_9 lefttext_9 righttext_10 lefttext_10 }}
			{{#lefttext_6}}<label><span>{{lefttext_6}}</span></label>{{/lefttext_6}}
			{{#righttext_6}}<label><span class="sheet-right">{{righttext_6}}</span></label>{{/righttext_6}}
			{{#lefttext_7}}<label><span>{{lefttext_7}}</span></label>{{/lefttext_7}}
			{{#righttext_7}}<label><span class="sheet-right">{{righttext_7}}</span></label>{{/righttext_7}}
			{{#lefttext_8}}<label><span>{{lefttext_8}}</span></label>{{/lefttext_8}}
			{{#righttext_8}}<label><span class="sheet-right">{{righttext_8}}</span></label>{{/righttext_8}}
			{{#lefttext_9}}<label><span>{{lefttext_9}}</span></label>{{/lefttext_9}}
			{{#righttext_9}}<label><span class="sheet-right">{{righttext_9}}</span></label>{{/righttext_9}}
			{{#lefttext_10}}<label><span>{{lefttext_10}}</span></label>{{/lefttext_10}}
			{{#righttext_10}}<label><span class="sheet-right">{{righttext_10}}</span></label>{{/righttext_10}}

			{{#description}}<h4 data-i18n="description">Description</h4><span>{{description}}</span>{{/description}}
		</div>
		{{/accessible}}
	</rolltemplate>

	<!-- Block Text Roll Templates -->
	<rolltemplate class="sheet-rolltemplate-pf_block">
		{{^accessible}}
		<div class="sheet-roll-table sheet-roll-color sheet-rolltemplate-pf_block {{#color}}color-{{color}}{{/color}} {{#rounded}}rounded{{/rounded}}">
			<div class="sheet-roll-header" style="width:100%">
				<span class="sheet-left">
					{{#character_name}}
					{{#character_id}}[{{character_name}}](https://journal.roll20.net/character/{{character_id}}){{/character_id}}
					{{^character_id}}{{character_name}}{{/character_id}}
					{{#name}}:{{/name}}
					{{/character_name}}
					{{#name}}
					{{#name_link}}[{{name}}]({{name_link}}){{/name_link}}
					{{^name_link}}{{name}}{{/name_link}}
					{{/name}}
				</span>
					{{#header_image}}<span class="sheet-header-image">{{header_image}}</span>{{/header_image}}

					{{#subtitle}}<span class="sheet-subtitle">{{subtitle}}</span>{{/subtitle}}

			</div>
			<div class="sheet-roll-group">		
				{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle description long}}
				<div class="sheet-roll-row"><div class="sheet-roll-cell">{{value}}</div></div>
				{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle description long}}
			</div>
			<div class="sheet-roll-group">

				{{#description}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{description}}</div></div>{{/description}}
				{{#long}}<div class="sheet-roll-row"><div class="sheet-roll-cell">{{long}}</div></div>{{/long}}

			</div>
		</div>
		{{/accessible}}
		{{#accessible}}
		<div class="sheet-roll-accessible sheet-roll-color {{#color}}color-{{color}}{{/color}}">
			<h3 class="sheet-roll-header">
				{{#character_name}}{{character_name}}{{#name}}: {{/name}}{{/character_name}}
				{{#name}}{{name}}{{/name}}
			</h3>
			{{#subtitle}}<h4>{{subtitle}}</h4>{{/subtitle}}
			{{#allprops() color accessible rounded header_image character_name character_id name_link subtitle description }}
			<label>**{{key}}**<span>{{value}}</span></label>
			{{/allprops() color accessible rounded header_image character_name character_id name_link subtitle description }}
			{{#description}}<h4 data-i18n="description">Description</h4><span>{{description}}</span>{{/description}}
		</div>
		{{/accessible}}
	</rolltemplate>
	</div>

</div>


<script type="text/worker">
/*
var randomInteger=function(){'use strict';};
var getSectionIDs=function(){'use strict';};
var getAttrs=function(){'use strict';};
var setAttrs=function(){'use strict';};
var on=function(){'use strict';};
var generateRowID = function(){'use strict';};
var _ = _ || (function(){
	'use strict';
	return  {
		bind:0,
		each:0,
		map:0,
		reduce:0,
		chain:0,
		filter:0,
		mapObject:0
	};
}());


/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron

var TAS = TAS || (function () {
    'use strict';

    var version = '0.2.4',
        lastUpdate = 1457098091,

        loggingSettings = {
            debug: {
                key: 'debug',
                title: 'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label: '#F2EF40',
                    bgText: '#FFFEB7',
                    text: '#7732A2'
                }
            },
            error: {
                key: 'error',
                title: 'Error',
                color: {
                    bgLabel: '#C11713',
                    label: 'white',
                    bgText: '#C11713',
                    text: 'white'
                }
            },
            warn: {
                key: 'warn',
                title: 'Warning',
                color: {
                    bgLabel: '#F29140',
                    label: 'white',
                    bgText: '#FFD8B7',
                    text: 'black'
                }
            },
            info: {
                key: 'info',
                title: 'Info',
                color: {
                    bgLabel: '#413FA9',
                    label: 'white',
                    bgText: '#B3B2EB',
                    text: 'black'
                }
            },
            notice: {
                key: 'notice',
                title: 'Notice',
                color: {
                    bgLabel: '#33C133',
                    label: 'white',
                    bgText: '#ADF1AD',
                    text: 'black'
                }
            },
            log: {
                key: 'log',
                title: 'Log',
                color: {
                    bgLabel: '#f2f240',
                    label: 'black',
                    bgText: '#ffff90',
                    text: 'black'
                }
            },
            callstack: {
                key: 'TAS',
                title: 'function',
                color: {
                    bgLabel: '#413FA9',
                    label: 'white',
                    bgText: '#B3B2EB',
                    text: 'black'
                }
            },
            callstack_async: {
                key: 'TAS',
                title: 'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label: 'white',
                    bgText: '#413FA9',
                    text: 'white'
                }
            },
            TAS: {
                key: 'TAS',
                title: 'TAS',
                color: {
                    bgLabel: 'grey',
                    label: 'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText: 'grey',
                    text: 'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },


        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },

        callstackRegistry = [],
    queuedUpdates = {}, //< Used for delaying saves till the last moment.

    complexType = function (o) {
        switch (typeof o) {
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: ' + (o.name ? o.name + '()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : (_.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },

    dataLogger = function (primaryLogger, secondaryLogger, data) {
        _.each(data, function (m) {
            var type = complexType(m);
            switch (type) {
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('[' + type + ']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('[' + type + ']: ' + m);
                    break;
                default:
                    primaryLogger('[' + type + ']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
    },


    colorLog = function (options) {
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';

        coloredLoggerFunction = function (message) {
            console.log(
                '%c ' + label + ': %c ' + message + ' ',
                'background-color: ' + lBGColor + ';color: ' + lTxtColor + '; font-weight:bold;',
                'background-color: ' + mBGColor + ';color: ' + mTxtColor + ';'
            );
        };
        return function () {
            if ('TAS' === key || config.logging[key]) {
                dataLogger(coloredLoggerFunction, function (m) { console.log(m); }, _.toArray(arguments));
            }
        };
    },

    logDebug = colorLog(loggingSettings.debug),
    logError = colorLog(loggingSettings.error),
    logWarn = colorLog(loggingSettings.warn),
    logInfo = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog = colorLog(loggingSettings.log),
    log = colorLog(loggingSettings.TAS),
    logCS = colorLog(loggingSettings.callstack),
    logCSA = colorLog(loggingSettings.callstack_async),

    registerCallstack = function (callstack, label) {
        var idx = _.findIndex(callstackRegistry, function (o) {
            return (_.difference(o.stack, callstack).length === _.difference(callstack, o.stack).length) &&
                _.difference(o.stack, callstack).length === 0 &&
                o.label === label;
        });
        if (-1 === idx) {
            idx = callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },

    setConfigOption = function (options) {
        var newconf = _.defaults(options, config);
        newconf.logging = _.defaults(
            (options && options.logging) || {},
            config.logging
        );
        config = newconf;
    },

    debugMode = function () {
        config.logging.debug = true;
        config.debugMode = true;
    },

    getCallstack = function () {
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')), function (l) {
                return l.replace(/\s+.*$/, '');
            });
        return stack;
    },
    logCallstackSub = function (cs) {
        var matches, csa;
        _.find(cs, function (line) {
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if (matches) {
                csa = callstackRegistry[matches[1]];
                logCSA('====================' + (csa.label ? '> ' + csa.label + ' <' : '') + '====================');
                logCallstackSub(csa.stack);
                return true;
            }
            logCS(line);
            return false;
        });
    },
    logCallstack = function () {
        var cs;
        if (config.debugMode) {
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },


    wrapCallback = function (label, callback, context) {
        var callstack;
        if ('function' === typeof label) {
            context = callback;
            callback = label;
            label = undefined;
        }
        if (!config.debugMode) {
            return (function (cb, ctx) {
                return function () {
                    cb.apply(ctx || {}, arguments);
                };
            }(callback, context));
        }

        callstack = getCallstack();
        callstack.shift();

        return (function (cb, ctx, cs, lbl) {
            var ctxref = registerCallstack(cs, lbl);

            /*jshint -W054 */
            return new Function('cb', 'ctx', 'TASlog',
                "return function TAS_CALLSTACK_" + ctxref + "(){" +
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));" +
                    "cb.apply(ctx||{},arguments);" +
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)'));" +
                "};")(cb, ctx, log);
            /*jshint +W054 */
        }(callback, context, callstack, label));
    },


    prepareUpdate = function (attribute, value) {
        queuedUpdates[attribute] = value;
    },

    applyQueuedUpdates = function () {
        setAttrs(queuedUpdates);
        queuedUpdates = {};
    },

    namesFromArgs = function (args, base) {
        return _.chain(args)
            .reduce(function (memo, attr) {
                if ('string' === typeof attr) {
                    memo.push(attr);
                } else if (_.isArray(args) || _.isArguments(args)) {
                    memo = namesFromArgs(attr, memo);
                }
                return memo;
            }, (_.isArray(base) && base) || [])
            .uniq()
            .value();
    },

    addId = function (obj, value) {
        Object.defineProperty(obj, 'id', {
            value: value,
            writeable: false,
            enumerable: false
        });
    },

    addProp = function (obj, prop, value, fullname) {
        (function () {
            var pname = (_.contains(['S', 'F', 'I', 'D'], prop) ? '_' + prop : prop),
                full_pname = fullname || prop,
                pvalue = value;

            _.each(['S', 'I', 'F'], function (p) {
                if (!_.has(obj, p)) {
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if (!_.has(obj, 'D')) {
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10), function (m, d) {
                        Object.defineProperty(m, d, {
                            value: {},
                            enumerable: true,
                            readonly: true
                        });
                        return m;
                    }, {}),
                    enumerable: false,
                    readonly: true
                });
            }


            // Raw value
            Object.defineProperty(obj, pname, {
                enumerable: true,
                set: function (v) {
                    if (v !== pvalue) {
                        pvalue = v;
                        prepareUpdate(full_pname, v);
                    }
                },
                get: function () {
                    return pvalue;
                }
            });

            // string value
            Object.defineProperty(obj.S, pname, {
                enumerable: true,
                set: function (v) {
                    var val = v.toString();
                    if (val !== pvalue) {
                        pvalue = val;
                        prepareUpdate(full_pname, val);
                    }
                },
                get: function () {
                    return pvalue.toString();
                }
            });

            // int value
            Object.defineProperty(obj.I, pname, {
                enumerable: true,
                set: function (v) {
                    var val = parseInt(v, 10) || 0;
                    if (val !== pvalue) {
                        pvalue = val;
                        prepareUpdate(full_pname, val);
                    }
                },
                get: function () {
                    return parseInt(pvalue, 10) || 0;
                }
            });

            // float value
            Object.defineProperty(obj.F, pname, {
                enumerable: true,
                set: function (v) {
                    var val = parseFloat(v) || 0;
                    if (val !== pvalue) {
                        pvalue = val;
                        prepareUpdate(full_pname, val);
                    }
                },
                get: function () {
                    return parseFloat(pvalue) || 0;
                }
            });
            _.each(_.range(10), function (d) {
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function (v) {
                        var val = (parseFloat(v) || 0).toFixed(d);
                        if (val !== pvalue) {
                            pvalue = val;
                            prepareUpdate(full_pname, val);
                        }
                    },
                    get: function () {
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });

        }());
    },

    repeating = function (section) {
        return (function (s) {
            var sectionName = s,
                attrNames = [],
                fieldNames = [],
                operations = [],
                after = [],

            repAttrs = function TAS_Repeating_Attrs() {
                attrNames = namesFromArgs(arguments, attrNames);
                return this;
            },
            repFields = function TAS_Repeating_Fields() {
                fieldNames = namesFromArgs(arguments, fieldNames);
                return this;
            },
            repReduce = function TAS_Repeating_Reduce(func, initial, final, context) {
                operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repMap = function TAS_Repeating_Map(func, final, context) {
                operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repEach = function TAS_Repeating_Each(func, final, context) {
                operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
                operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repAfter = function TAS_Repeating_After(callback, context) {
                after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
                return this;
            },
            repExecute = function TAS_Repeating_Execute(callback, context) {
                var rowSet = {},
                    attrSet = {},
                    fieldIds = [],
                    fullFieldNames = [];

                repAfter(callback, context);

                // call each operation per row.
                // call each operation's final
                getSectionIDs("repeating_" + sectionName, function (ids) {
                    fieldIds = ids;
                    fullFieldNames = _.reduce(fieldIds, function (memo, id) {
                        return memo.concat(_.map(fieldNames, function (name) {
                            return 'repeating_' + sectionName + '_' + id + '_' + name;
                        }));
                    }, []);
                    getAttrs(_.uniq(attrNames.concat(fullFieldNames)), function (values) {
                        _.each(attrNames, function (aname) {
                            if (values.hasOwnProperty(aname)) {
                                addProp(attrSet, aname, values[aname]);
                            }
                        });

                        rowSet = _.reduce(fieldIds, function (memo, id) {
                            var r = {};
                            addId(r, id);
                            _.each(fieldNames, function (name) {
                                var fn = 'repeating_' + sectionName + '_' + id + '_' + name;
                                addProp(r, name, values[fn], fn);
                            });

                            memo[id] = r;

                            return memo;
                        }, {});

                        _.each(operations, function (op) {
                            var res;
                            switch (op.type) {
                                case 'tap':
                                    _.bind(op.final, op.context, rowSet, attrSet)();
                                    break;

                                case 'each':
                                    _.each(rowSet, function (r) {
                                        _.bind(op.func, op.context, r, attrSet, r.id, rowSet)();
                                    });
                                    _.bind(op.final, op.context, rowSet, attrSet)();
                                    break;

                                case 'map':
                                    res = _.map(rowSet, function (r) {
                                        return _.bind(op.func, op.context, r, attrSet, r.id, rowSet)();
                                    });
                                    _.bind(op.final, op.context, res, rowSet, attrSet)();
                                    break;

                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet, function (r) {
                                        res = _.bind(op.func, op.context, res, r, attrSet, r.id, rowSet)();
                                    });
                                    _.bind(op.final, op.context, res, rowSet, attrSet)();
                                    break;
                            }
                        });

                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after, function (op) {
                            _.bind(op.callback, op.context)();
                        });
                    });
                });
            };

            return {
                attrs: repAttrs,
                attr: repAttrs,

                column: repFields,
                columns: repFields,
                field: repFields,
                fields: repFields,

                reduce: repReduce,
                inject: repReduce,
                foldl: repReduce,

                map: repMap,
                collect: repMap,

                each: repEach,
                forEach: repEach,

                tap: repTap,
                'do': repTap,

                after: repAfter,
                last: repAfter,
                done: repAfter,

                execute: repExecute,
                go: repExecute,
                run: repExecute
            };
        }(section));
    },


    repeatingSimpleSum = function (section, field, destination) {
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function (m, r) {
                return m + (r.F[field]);
            }, 0, function (t, r, a) {
                a.S[destination] = t;
            })
            .execute();
    };

    console.log('%c..*`*..*`*.  The Aaron Sheet  v' + version + '  .*`*..*`*..', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
    console.log('%c..*`*..*`*.  Last update: ' + (new Date(lastUpdate * 1000)) + '  .*`*..*`*..', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');


    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
        repeating: repeating,

        /* Configuration */
        config: setConfigOption,

        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        _fn: wrapCallback,

        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());

/* ---- END: TheAaronSheet.js ---- */
TAS.config({ logging: { debug: false} });
//TAS.debugMode();


var ExExp = ExExp || (function () {
    'use strict';

    var rollOperator
    , parseExpression = function (s, until) {
        var untilCb = (typeof until === "function" ? until : function (tok) {
            return (tok == until);
        })

        // constants
        , ARG_COUNTS = { 'abs': 1, 'ceil': 1, 'floor': 1, 'round': 1, 'max': [1], 'min': [1] }
        , BINARY_PRECEDENCE = {
            '?': 1, ':': 2, '||': 3, '&&': 4, '|': 5, '^': 6
            , '&': 7, '=': 8, '==': 8, '!=': 8, '>=': 9, '>': 9
            , '<': 9, '<=': 9, '<<': 10, '>>': 10, '+': 11, '-': 11
            , '*': 12, '/': 12, '%': 12
            , '**': 14
            , 't': 98, 'd': 99
        }
        , UNARY_PRECEDENCE = {
            '!': 13
            , '~': 13
            , '-': 13
        }
        , CLOSERS = {
            '(': ")"
            , '{': "}"
        }

        // local variables
        , operators = [{ 'precedence': 0 }], operands = []
		,  tableExp, m, err, operand;

        // helper functions
        function getToken(s) {
           var m;
           if (!s) {
                return s;
            }

 
            function retVal(tokType, matchObj) {
                return {
                    'type': tokType
                    , 'text': matchObj[0]
                    , 'match': matchObj
                };
            }

            m = s.match(/^\s+/);
            if (m) {
                return retVal("whitespace", m);
            }
            m = s.match(/^(abs|ceil|floor|round|max|min)[(]/);
            if (m) {
                return retVal("function", m);
            }
            m = s.match(/^[({]/);
            if (m) {
                return retVal("opengroup", m);
            }
            m = s.match(/^[)}]/);
            if (m) {
                return retVal("closegroup", m);
            }
            m = s.match(/^((\d+(\.\d+)?)|(\.\d+))/);
            if (m) {
                return retVal("number", m);
            }
            m = s.match(/^['"]/);
            if (m) {
                return retVal("quote", m);
            }
            m = s.match(/^((\|\|)|(&&)|(==)|(!=)|(>=)|(<=)|(<<)|(>>)|(\*\*)|[?:|\^&=><%!~])/);
            if (m) {
                return retVal("extoperator", m);
            }
            m = s.match(/^[\-+*\/td]/);
            if (m) {
                return retVal("baseoperator", m);
            }
            m = s.match(/^\[([^\]]+)\]/);
            if (m) {
                return retVal("label", m);
            }
            m = s.match(/^\$\{([^'"\($\}][^}]*)\}/);
            if (m) {
                return retVal("variable", m);
            }
            m = s.match(/^\$\{/);
            if (m) {
                return retVal("openvariable", m);
            }

            return {
                'type': "raw"
                , 'text': s.charAt(0)
            };
        }

        function popToken(state) {
            state.tok = getToken(state.s);
            if (state.tok) {
                state.s = state.s.substring(state.tok.text.length);
            }
            return state;
        }

        function popString(state, delim) {
            var i = -1
                , j = i
				,retval;
            // find first index of delim not preceded by an odd number of backslashes
            while (((i - j) & 1) === 0) {
                i = state.s.indexOf(delim, i + 1);
                if (i < 0) {
                    return;
                }
                j = i - 1;
                while ((j >= 0) && (state.s.charAt(j) === '\\')) {
                    j--;
                }
            }
            // unescape string to be returned
            function replaceEscapes(s) {
                return s.replace(/\\n/g, "\n")
                    .replace(/\\r/g, "\r")
                    .replace(/\\t/g, "\t")
                    .replace(/\\/g, "");
            }
            retval = state.s.substring(0, i)
                .split("\\\\")
                .map(replaceEscapes)
                .join("\\");
            // point state delim, then pop off the delimiter token
            state.s = state.s.substring(i);
            popToken(state);
            return retval;
        }

        function popOperator() {
            var op = operators.pop(),
              right = operands.pop(),
			  left,cond,datatype;
            if (op.unary) {
                operands.push({
                    'type': (op.type === "baseoperator" ? "unop" : "unopex")
                    , 'datatype': right.datatype
                    , 'operator': op.text
                    , 'operand': right
                });
                return;
            }
            left = operands.pop();
            if (op.text !== ":") {
  
                if (op.text === "d" || op.text === "t") {
                    datatype = "number";
                } else if (left.datatype === right.datatype) {
                    datatype = left.datatype;
                } else if ((left.datatype === "string") || (right.datatype === "string")) {
                    datatype = "string";
                }
                operands.push({
                    'type': (op.type === "baseoperator" ? "binop" : "binopex")
                    , 'datatype': datatype
                    , 'operator': op.text
                    , 'left': left
                    , 'right': right
                    , 'mods': op.mods
                    , 'label': op.label
                });
                return;
            }
            op = operators.pop();
            if (op.text !== "?") {
                return "Error: Expected ? but got " + op.text;
            }
            cond = operands.pop();
            operands.push({
                'type': "cond"
                , 'cond': cond
                , 'left': left
                , 'right': right
                , 'datatype': (left.datatype === right.datatype ? left.datatype : undefined)
            });
        }

        function pushOperator(op) {
            var err;
            op.precedence = (op.unary ? UNARY_PRECEDENCE[op.text] : BINARY_PRECEDENCE[op.text]) || 0;
            while (operators[operators.length - 1].precedence >= op.precedence) {
                err = popOperator();
                if (err) {
                    return err;
                }
            }
            operators.push(op);
        }

        function argListUntil(tok) {
            return (tok === ',') || (tok === ')');
        }

        function parseHelper() {
            var err,func,argCounts , minArgs, maxArgs, str,args,argTree, opener, closer, operand, varExp;

            popToken(s);
            if (!s.tok) {
                return "Error: Unrecognized token: " + s.s.split(" ", 1)[0];
            }
            while (s.tok.type === "whitespace") {
                popToken(s);
                if (!s.tok) {
                    return "Error: Unrecognized token: " + s.s.split(" ", 1)[0];
                }
            }
            switch (s.tok.type) {
                case "function":
                    func = s.tok.match[1];
                    argCounts = ARG_COUNTS[func];
                    if (argCounts === undefined) {
                        return "Error: Unrecognized function: " + func;
                    }
                    if (Array.isArray(argCounts)) {
                        minArgs = argCounts[0];
                        maxArgs = argCounts[1];
                    } else {
                        minArgs = argCounts;
                        maxArgs = argCounts;
                    }
                    args = [];
                    while ((s.tok) && (s.tok.text !== ')')) {
                        argTree = parseExpression(s, argListUntil);
                        if (typeof (argTree) === "string") {
                            return argTree;
                        } // error
                        args.push(argTree);
                        if (!s.tok) {
                            return "Error: Unterminated function: " + func;
                        }
                        if (!argListUntil(s.tok.text)) {
                            return "Error: Expected ',' or ')' to continue/close '" + func + "(', but got '" + s.tok.text + "'";
                        }
                    }
                    if (minArgs < 0) {
                        minArgs = args.length;
                    }
                    if (isNaN(maxArgs) || maxArgs < 0) {
                        maxArgs = args.length;
                    }
                    if (args.length < minArgs) {
                        return "Error: Function '" + func + "' requires at least " + minArgs + " argument(s)";
                    }
                    if (args.length > maxArgs) {
                        return "Error: Function '" + func + "' requires at most " + maxArgs + " argument(s)";
                    }
                    operands.push({
                        'type': "function"
                        , 'datatype': "number"
                        , 'function': func
                        , 'args': args
                    });
                    return;
                case "number":
                    operands.push({
                        'type': "number"
                        , 'datatype': "number"
                        , 'value': parseFloat(s.tok.text)
                    });
                    return;
                case "variable":
                    operands.push({
                        'type': "variable"
                        , 'value': s.tok.match[1]
                    });
                    return;
                case "quote":
                    str = popString(s, s.tok.text);
                    if (typeof (str) !== "string") {
                        return "Error: Unterminated string";
                    }
                    operands.push({
                        'type': "string"
                        , 'datatype': "string"
                        , 'value': str
                    });
                    return;
                case "opengroup":
                    opener = s.tok.text;
                    closer = CLOSERS[opener];
                    operand = parseExpression(s, closer);
                    if (typeof (operand) === "string") {
                        return operand;
                    } // error
                    operands.push(operand);
                    if (s.tok.text !== closer) {
                        return "Error: Expected '" + closer + "' to close '" + opener + "', but got '" + s.tok.text + "'";
                    }
                    return;
                case "openvariable":
                    varExp = parseExpression(s, "}");
                    if (typeof (varExp) === "string") {
                        return varExp;
                    } // error
                    if (s.tok.text !== "}") {
                        return "Error: Expected '}' to close '${', but got '" + s.tok.text + "'";
                    }
                    operands.push({
                        'type': "variable"
                        , 'value': varExp
                    });
                    return;
                case "extoperator":
                case "baseoperator":
                    if (!UNARY_PRECEDENCE[s.tok.text]) {
                        return "Error: " + s.tok.text + " is not a unary operator";
                    }
                    s.tok.unary = true;
                    err = pushOperator(s.tok);
                    if (err) {
                        return err;
                    }
                    return parseHelper();
            }
            return "Error: Unrecognized token: " + s.tok.text + (s.tok.type === "raw" ? s.s.split(" ", 1)[0] : "");
        }

        // if we were given a string, construct a state object
        if (typeof (s) === "string") {
            s = {
                's': s
            };
        }


	
        // push operators and operands to their respective stacks, building sub-ASTs in the operand stack as needed
        err = parseHelper();
        if (err) {
            return err;
        }
        for (popToken(s) ; (s.tok) && (!untilCb(s.tok.text)) && ((until) || (s.tok.type !== "raw")) ; popToken(s)) {
            switch (s.tok.type) {
                case "extoperator":
                case "baseoperator":
                    rollOperator = (s.tok.text === "d" ? s.tok : null);
                    err = pushOperator(s.tok);
                    if (err) {
                        return err;
                    }
                    if ((rollOperator) && (s.s.charAt(0) === 'F')) {
                        operands.push({
                            'type': "rollspec"
                            , 'value': "F"
                        });
                        s.s = s.s.substring(1);
                    } else if (s.tok.text === "t") {
                        if (s.s.charAt(0) !== '[') {
                            return "Error: 't' operator requires '[table]' argument";
                        }
                        m = s.s.match(/^\[([^'"$(\]][^\]]*)\]/);

                        if (m) {
                            tableExp = m[1];
                            s.s = s.s.substring(m[0].length);
                        } else {
                            s.s = s.s.substring(1);
                            tableExp = parseExpression(s, "]");
                            if (typeof (tableExp) === "string") {
                                return tableExp;
                            } // error
                            if (s.tok.text !== "]") {
                                return "Error: Expected ']' to close 't[', but got '" + s.tok.text + "'";
                            }
                        }
                        operands.push({
                            'type': "tablename"
                            , 'value': tableExp
                        });
                    } else {
                        err = parseHelper();
                        if (err) {
                            return err;
                        }
                    }
                    if (rollOperator) {
                        m = s.s.match(/^[acdfhkloprs0-9<=>!]+/);
                        if (m) {
                            rollOperator.mods = m[0];
                            s.s = s.s.substring(m[0].length);
                        }
                    }
                    break;
                case "label":
                    if ((operators.length > 0) && (operators[operators.length - 1].text === "d")) {
                        // set label on "d" operator instead of operand (e.g. "1d6[foo]" is "(1d6)[foo]", not "1d(6[foo])")
                        operators[operators.length - 1].label = s.tok.match[1];
                        break;
                    }
                    operand = operands.pop();
                    if (operand) {
                        operand.label = s.tok.match[1];
                        operands.push(operand);
                    }
                    break;
            }
        }
        // no more input; collapse remaining operators and operands into a single AST
        while (operators.length > 1) {
            err = popOperator();
            if (err) {
                return err;
            }
        }

        return operands.pop();
    },

    write = function (s) {
        TAS.debug("EXEXP:" + s);
    },


    sendCommand = function (chunks, asts, evalResults, labels) {
        //infinite loop
        //TAS.debug("at sendCommand");
        //TAS.debug(chunks, asts, evalResults, labels);
        // constants
        var FUNCTION_FUNCTIONS = {
            'abs': Math.abs
            , 'ceil': Math.ceil
            , 'floor': Math.floor
            , 'round': Math.round
            , 'max': Math.max
            , 'min': Math.min
        }
        , BINARY_FUNCTIONS = {
            '||': function (x, y) {
                return x || y;
            }
            , '&&': function (x, y) {
                return x && y;
            }
            , '|': function (x, y) {
                return x | y;
            }
            , '^': function (x, y) {
                return x ^ y;
            }
            , '&': function (x, y) {
                return x & y;
            }
            , '=': function (x, y) {
                return x == y;
            }
            , '==': function (x, y) {
                return x == y;
            }
            , '!=': function (x, y) {
                return x != y;
            }
            , '>=': function (x, y) {
                return x >= y;
            }
            , '>': function (x, y) {
                return x > y;
            }
            , '<': function (x, y) {
                return x < y;
            }
            , '<=': function (x, y) {
                return x <= y;
            }
            , '<<': function (x, y) {
                return x << y;
            }
            , '>>': function (x, y) {
                return x >> y;
            }
            , '+': function (x, y) {
                return x + y;
            }
            , '-': function (x, y) {
                return x - y;
            }
            , '*': function (x, y) {
                return x * y;
            }
            , '/': function (x, y) {
                return x / y;
            }
            , '%': function (x, y) {
                return x % y;
            }
            , '**': Math.pow
            , 'd': function (x, y) {
                var retval = 0, i=0;
                for ( i = 0; i < x; i++) {
                    retval += randomInteger(y);
                }
                return retval;
            }
        }
        , UNARY_FUNCTIONS = {
            '!': function (x) {
                return !x;
            }
            , '~': function (x) {
                return ~x;
            }
            , '-': function (x) {
                return -x;
            }
        }


        // local variables
        , references = {}
		, unevalRefs = []
		, evalReqs = []
		, i=0,t,err
		, doSubstitution=false, label
		, newUneval = []
		, r
		, retval
		;


        // helper functions
        function lazyEval(t, labels, references, unevalRefs, evalReqs, force) {
            //alert(' at lazyEval, t: ' + t + ', t.type:'+t.type);
            var x, y, args = [], i = 0,forceSubtrees; 
            if (t.label) {
                labels[t.label] = t;
            }

            switch (t.type) {
                case "number":
                case "rollspec":
                    t.baseValid = true;
                    return t;
                case "string":
                    return t;
                case "tablename":
                    if (typeof (t.value) !== "string") {
                        x = lazyEval(t.value, labels, references, unevalRefs, evalReqs, true);
                        if (typeof (x) === "string") {
                            return x;
                        } // error
                        if (x.type === "number") {
                            // number node; coerce to string
                            x.value = "" + x.value;
                            x.type = "string";
                        }
                        if (x.type !== "string") {
                            // unable to fully evaluate table name
                            if (t.baseValid) {
                                t.baseValid = false;
                            }
                            unevalRefs.push(t.value);
                            return t;
                        }
                        // successfully evaluated table name
                        t.value = x.value;
                    }
                    // if we got here, t.value is the name of a rollable table
                    t.baseValid = true;
                    return t;
                case "function":
                    for (i = 0; i < t.args.length; i++) {
                        x = lazyEval(t.args[i], labels, references, unevalRefs, evalReqs, true);
                        if (typeof (x) === "string") {
                            return x;
                        } // error
                        if (x.type === "string") {
                            x.value = parseFloat(x.value);
                            x.type = "number";
                        }
                        if (x.type !== "number") {
                            // unable to fully evaluate argument
                            if (t.baseValid) {
                                t.baseValid = false;
                            }
                            return t;
                        }
                        args.push(x.value);
                    }
                    // successfully evaluated all arguments
                    t.type = "number";
                    t.datatype = "number";
                    t.value = FUNCTION_FUNCTIONS[t["function"]].apply(args, args);
                    for ( i = 0; i < t.args.length; i++) {
                        if (t.args[i].label) {
                            labels[t.args[i].label] = t.args[i];
                        }
                    }
                    delete t["function"];
                    delete t.args;
                    t.baseValid = true;
                    return t;
                case "unop":
                case "unopex":
                    force = force || (t.type !== "unop");
                    x = lazyEval(t.operand, labels, references, unevalRefs, evalReqs, force);
                    if (typeof (x) === "string") {
                        return x;
                    } // error
                    if (force) {
                        if (x.type !== "number") {
                            // unable to fully evaluate operand
                            if (t.baseValid) {
                                t.baseValid = false;
                            }
                            return t;
                        }
                        // successfully evaluated operand
                        t.type = "number";
                        t.datatype = "number";
                        t.value = UNARY_FUNCTIONS[t.operator](x.value);
                        delete t.operator;
                        if (t.operand.label) {
                            labels[t.operand.label] = x;
                        }
                        delete t.operand;
                        t.baseValid = true;
                    } else {
                        t.baseValid = x.baseValid;
                    }
                    return t;
                case "binop":
                case "binopex":
                    force = force || (t.type !== "binop") || (t.left.datatype === "string") || (t.right.datatype === "string");
                    forceSubtrees = force || (t.operator === "d") || (t.operator === "t");
                    //TAS.debug('left is: ' + t.left + ', right is:' + t.right);
                    x = lazyEval(t.left, labels, references, unevalRefs, evalReqs, forceSubtrees);
                    y = lazyEval(t.right, labels, references, unevalRefs, evalReqs, forceSubtrees);
                    //TAS.debug(x);
                    //TAS.debug(y);
                    force = true;
                    /*********************didn't work until i commented out, now seems to have no effect ********************************/
                    if (typeof x === "string") {
                        //TAS.debug(x);
                        return x;
                    } // error
                    if (typeof y === "string") {
                        //TAS.debug(y);
                        return y;
                    } // error
                    /****************************************************/
                    if (force) {
                        if ((x.type !== "number") && (x.type !== "string")) {
                            // unable to fully evaluate left operand
                            if (t.baseValid) {
                                t.baseValid = false;
                            }
                            return t;
                        }
                        if ((y.type !== "number") && (y.type !== "string") && (y.type !== "rollspec") && (y.type !== "tablename")) {
                            // unable to fully evaluate right operand
                            if (t.baseValid) {
                                t.baseValid = false;
                            }
                            return t;
                        }
                        if ((y.type === "rollspec") && (t.operator !== "d")) {
                            return "Rollspec operand is only compatible with 'd' operator";
                        }
                        if ((t.operator === "t") && (y.type !== "tablename")) {
                            return "'t' operator requires tablename operand";
                        }
                        // successfully evaluated both operands
                        if ((t.operator === "t") || ((t.operator === "d") && (t.mods))) {
                            // operator is rollable table or is roll with mods; must submit to base system for evaluation
                            evalReqs.push(t);
                            return t;
                        }
                        //TAS.debug('about to call binary');
                        t.value = BINARY_FUNCTIONS[t.operator](x.value, y.value);
                        delete t.operator;
                        if (t.left.label) {
                            labels[t.left.label] = x;
                        }
                        delete t.left;
                        if (t.right.label) {
                            labels[t.right.label] = y;
                        }
                        delete t.right;
                        t.type = (typeof (t.value) === "string" ? "string" : "number");
                        t.datatype = t.type;
                        t.baseValid = (t.datatype === "number");
                    } else if ((x.datatype === "number") && (y.datatype === "number")) {
                        t.datatype = "number";
                        t.baseValid = true;
                    }
                    return t;
                case "cond":
                    x = lazyEval(t.cond, labels, references, unevalRefs, evalReqs, true);
                    if (typeof (x) === "string") {
                        return x;
                    } // error
                    if ((x.type !== "number") && (x.type !== "string")) {
                        // unable to fully evaluate condition
                        t.baseValid = false;
                        return t;
                    }
                    // successfully evaluated condition; replace t with t.left or t.right as appropriate
                    y = (x.value ? t.left : t.right);
                    if (t.cond.label) {
                        labels[t.cond.label] = x;
                    }
                    delete t.cond;
                    delete t.left;
                    delete t.right;

					_.each(y,function(k){
						 t[k] = y[k];
					});

					
                    return lazyEval(t, labels, references, unevalRefs, evalReqs, force);
                case "variable":
                    if (typeof (t.value) !== "string") {
                        x = lazyEval(t.value, labels, references, unevalRefs, evalReqs, true);
                        if (typeof (x) === "string") {
                            return x;
                        } // error
                        if (x.type === "number") {
                            // number node; coerce to string
                            x.value = "" + x.value;
                            x.type = "string";
                        }
                        if (x.type !== "string") {
                            // unable to fully evaluate variable name
                            if (t.baseValid) {
                                t.baseValid = false;
                            }
                            unevalRefs.push(t.value);
                            return t;
                        }
                        // successfully evaluated variable name
                        t.value = x.value;
                    }
                    // if we got here, t.value is the name of a variable
                    if ((labels[t.value]) && ((labels[t.value].type === "string") || (labels[t.value].type === "number"))) {
                        // variable exists and has been fully evaluated
                        t.type = labels[t.value].type;
                        t.datatype = labels[t.value].datatype;
                        t.baseValid = labels[t.value].baseValid;
                        t.value = labels[t.value].value;
                    } else {
                        // variable not yet defined or not yet fully evaluated
                        if (!references[t.value]) {
                            references[t.value] = [];
                        }
                        references[t.value].push(t);
                        if (t.baseValid) {
                            t.baseValid = false;
                        }
                    }
                    return t;
                default:
                    return "Unknown node type: " + t.type;
            }
        }

        function hasUnevaluatedLabels(t) {
			var i=0;
            // base types: fully evaluated
            if ((t.type === "number") || (t.type === "string") || (t.type === "rollspec")) {
                return false;
            }

            // if we got here, node is unevaluated
            if (t.label) {
                return true;
            }

            // node has no label; check children
            switch (t.type) {
                case "function":
                    for ( i = 0; i < t.args.length; i++) {
                        if (hasUnevaluatedLabels(t.args[i])) {
                            return true;
                        }
                    }
                    return false;
                case "tablename":
                case "variable":
                    if (typeof (t.value) === "string") {
                        return false;
                    }
                    return hasUnevaluatedLabels(t.value);
                case "unop":
                case "unopex":
                    return hasUnevaluatedLabels(t.operand);
                case "cond":
                    if (hasUnevaluatedLabels(t.cond)) {
                        return true;
                    }
					//don't fall through
                    if (hasUnevaluatedLabels(t.left)) {
                        return true;
                    }
                    return hasUnevaluatedLabels(t.right);
                case "binop":
                case "binopex":
                    if (hasUnevaluatedLabels(t.left)) {
                        return true;
                    }
                    return hasUnevaluatedLabels(t.right);
            }
        }

        function flattenAST(t) {
            var retval;

            switch (t.type) {
                case "number":
                case "rollspec":
                    retval = t.value || 0;
                    break;
                case "tablename":
                    retval = "[" + t.value + "]";
                    break;
                case "unop":
                    retval = "(" + t.operator + flattenAST(t.operand) + ")";
                    break;
                case "binop":
                    retval = "(" + flattenAST(t.left) + t.operator + flattenAST(t.right) + (t.mods || "") + ")";
                    if ((t.label) && (t.operator === "d")) {
                        retval += "[" + t.label + "]";
                    }
                    break;
                default:
                    return "Unknown node type: " + t.type;
            }

            return retval;
        }

        function astToCmd(t) {
            if (t.type === "string") {
                return t.value;
            }
            var retval = flattenAST(t);
            return retval;
        }

        function reportError(err) {
            ExExp.write("Error: " + err);
            return "";
        }

        //BEGIN
        // substitute in results of base evaluation
        for ( i = 0; i < evalResults.length; i++) {
            t = evalResults[i][0];
            delete t.operator;
            delete t.left;
            delete t.right;
            t.type = "number";
            t.datatype = "number";
            t.value = evalResults[i][1];
            t.baseValid = true;
        }

        // traverse ASTs, collapsing as much as possible
        for ( i = 0; i < asts.length; i++) {
            if (asts[i].baseValid) {
                continue;
            } // can be handled by base expression evaluator
            if ((asts[i].type === "string") || (asts[i].type === "number")) {
                continue;
            } // tree is fully evaluated
            err = lazyEval(asts[i], labels, references, unevalRefs, evalReqs, false);
            if (typeof (err) === "string") {
                return reportError(err);
            }
        }

        // do variable substitution; repeat until we don't make any more progress
        doSubstitution = true;
        while (doSubstitution) {
            doSubstitution = false;
            // substitute in values for variables for which we already have names

			for (label in references){
				if (references.hasOwnProperty(label)) {
					if (!labels[label]) {
						return reportError("Variable '" + label + "' not defined");
					}
					if ((labels[label].type !== "string") && (labels[label].type !== "number")) {
						// variable exists but not yet evaluated; try to evaluate
						err = lazyEval(labels[label], labels, references, unevalRefs, evalReqs, true);
						if (typeof (err) === "string") {
							return reportError(err);
						}
					}
					else if ((labels[label].type === "string") || (labels[label].type === "number")) {
						// variable fully evaluated; substitute it in
						for ( i = 0; i < references[label].length; i++) {
							references[label][i].type = labels[label].type;
							references[label][i].datatype = labels[label].datatype;
							references[label][i].value = labels[label].value;
							references[label][i].baseValid = labels[label].baseValid;
						}
						delete references[label];
						doSubstitution = true;
					}
				}
			}


            // try to get names for variables and tables with unevaluated names
            while (unevalRefs.length > 0) {
                r = lazyEval(unevalRefs.shift(), labels, references, unevalRefs, evalReqs, true);
                if (typeof (r) === "string") {
                    return reportError(err);
                }
                if ((r.type === "string") || (r.type === "number")) {
                    doSubstitution = true;
                } else {
                    newUneval.push(r);
                }
            }
            unevalRefs = newUneval;

        }

        // flatten fully evaluated ASTs into strings and splice into chunks
        for ( i = asts.length - 1; i >= 0; i--) {
            if ((!asts[i].baseValid) && (asts[i].type !== "number") && (asts[i].type !== "string")) {
                continue;
            }
            if ((unevalRefs.length > 0) & (hasUnevaluatedLabels(asts[i]))) {
                continue;
            }
            chunks.splice(i, 2, (chunks[i] || "") + astToCmd(asts.splice(i, 1)[0]) + (chunks[i + 1] || ""));
        }

        if (evalReqs.length > 0) {
            TAS.error("Cannot evaluate");
            return "";
        }
        if (asts.length > 0) {
            // need to finish evaluating some ASTs; recurse directly
            //TAS.debug("sendCommand (recurse), asts.length=" + asts.length + ", asts[0].baseValid=" + asts[0].baseValid + ", asts[0].type=" + asts[0].type);
            if (!(asts.length == 1 && asts[0].type == "binop") ){
                // HACK! minus (probably) in front; no math needed
                return sendCommand(chunks, asts, [], labels);
            }
        }        
		// if we got here, we're done evaluating everything; submit results 
        retval = chunks.join("");

        return retval;
    },


    handleExpression = function (msg) {
        //replace spaces. replace "-" in front with "0-", replace "(-" with "(0-"
        //also replace leading + with '', and replace (+  with (0+
		var  chunks = [], asts = [], cmd, state, ast;
        msg=msg.replace(/\s/g, '').replace(/^-/,'0-').replace(/\(-/g, '(0-' ).replace(/^\+/,'').replace(/\(\+/g, '(0+' );
        cmd = msg;
        state = {
            's': cmd
        };
        //TAS.debug(msg);
        ast = parseExpression(state, null);
        //TAS.debug(ast);
        if (typeof (ast) === "string") {
            ExExp.write("could not parse" + msg);
            return "";
        }
        asts.push(ast);
        state.s = (state.tok) ? (state.tok.text + state.s) : state.s;
        //  ((state.tok || {'text': ""}).text || "") + state.s;
        chunks.push(state.s);
        return sendCommand(chunks, asts, [], {});
    };


    return {
        write: write,
        handleExpression: handleExpression
    };
}());


var SWUtils = SWUtils || (function () {
    'use strict';

    /*no macro calls, dropdowns, or keep  highest/lowest more than 1
    * currently support floor, abs, kh1, kl1 , also extended: ceil, round, max, min
    */
    var validNumericStr = function (preeval) {
        var anyIllegal = preeval.match(/\||\?|&|\{|\}|k[h,l][^1]/);
        if (anyIllegal) {
            return false;
        }

        anyIllegal = preeval.replace(/floor|ceil|round|abs|max|min|kh1|kl1/g, '');
        anyIllegal = anyIllegal.match(/[a-zA-Z]/);
        if (anyIllegal) {
            return false;
        }
        return true;
    },

    /* searchAndReplaceFields
     * Examines a string for instances of @{fieldname}, and then searches the sheet for those values
     * then replaces the instances in the string with the values of those fields.
     * Because it is a search and replace, if there are no @{fieldname} values, then it will return the same string back.
     * If there is an error, it will return an empty string "".
     *
     * @fromfield = string containing one or more @{fieldname}
     * @callback = method accepting 1 parameter , this parameter will be the result of the search and replace in the fromfield.
     * the end result should be evaluable to a number (not a macro string that is sent to chat)
     *   e.g.: replaces  [[ and ]] with ( and ) , ensures only kl1 or kh1 (not kh2 or more etc),
     *         no strings except valid functions like floor, ceil, etc, according to validNumericStr
     */
    searchAndReplaceFields = function (fromfield, callback) {
        if (typeof callback !== "function") {
            return;
        }
        if (!fromfield) {
            callback(null);
            return;
        }
        try {
            var i, numfields, fieldnames = [], matches = [];
            fromfield = fromfield.split("selected|").join("");
            fromfield = fromfield.split("target|").join("");

            matches = fromfield.match(/(@\{([^}]+)\})(?!.*\1)/g);
            if (!matches) {
                callback(fromfield);
                return;
            }
            numfields = matches.length;

            fieldnames = [numfields];
            for (i = 0; i < numfields; i++) {
                fieldnames[i] = matches[i].replace("@{", "").replace("}", "");
            }
            //TAS.debug("fieldnames=" + fieldnames + ", numfields=" + numfields);
            getAttrs(fieldnames, function (values) {
                var evalstr = fromfield, replacements = [numfields],initialsplit;
                try {
                    for (i = 0; i < numfields; i++) {
                        replacements[i] = values[fieldnames[i]];
                    }
                    for (i = 0; i < numfields; i++) {
                        //easier than escaping special regex and double escaping $ just split and join less buggy
                        //if there is anything else in the string, put parenthesis around it.
                        initialsplit= evalstr.split(matches[i]);
                        if (initialsplit.length===2 && !initialsplit[0] && !initialsplit[1]){
                            evalstr = initialsplit.join(replacements[i]);
                        } else {
                            evalstr = initialsplit.join("("+replacements[i]+")");
                        }

                    }
                } catch (err) {
                    TAS.error("searchAndReplaceFields", err);
                    evalstr = null;
                } finally {
                    callback(evalstr);
                }
            });
        } catch (err) {
            TAS.error("searchAndReplaceFields", err);
            callback(null);
        }
    },

	convertKL1KH1toMinMax = function(str){
		var matches;
		//TAS.debug("at convertKL1KH1toMinMax for "+str) ;
		if (str) {
			matches = str.match(/(\{[^}]+\})(kh1|kl1)(?!.*\1)/g);
			//TAS.debug("matches are:",matches);
			if (matches && matches.length > 0){
				str = _.reduce(matches,function(memo,match){
					var isMin=/kl1$/.test(match),
					 isMax=/kh1$/.test(match),
					 newFunc=isMin?"min":(isMax?"max":""),
					 newMatch=match.slice(1,match.length-4),
					 replaceStr=newFunc+"("+newMatch+")"
					 ;
					 return memo.replace(match,replaceStr);
				},str);
			}
		}
		return str;
	},
    /* evaluateExpression
    *  reads in the string, evaluates it until we find a number, then passes that number to the callback.
    *  @exprStr= A string containing a mathematical expression, possibly containing references to fields such as @{myfield}
    *  @callback = a function taking one parameter, either a number or empty string .
    */
    evaluateExpression = function (exprStr, callback) {
        //TAS.debug("entered evaluateExpression; exprStr=" + exprStr + ", callback=" + callback);

        if (typeof callback !== "function") {
            return;
        }
		if (exprStr==="" || exprStr === null || typeof exprStr==="null" || exprStr===undefined || typeof exprStr=== "undefined"){
			callback(0);
		}
        //TAS.debug("calling searchAndReplaceFields with values=" + exprStr);
        searchAndReplaceFields(exprStr, function (replacedStr) {
            var evaluated,newexprStr;
            //TAS.debug("search and replace of " + exprStr + " resulted in " + replacedStr);
			if (replacedStr===null){
				callback(0);
			}
            replacedStr = replacedStr.replace(/\s+/g, '').replace(/\[\[/g, "(").replace(/\]\]/g, ")").replace(/\[/g, "(").replace(/\]/g, ")");
			try {
				newexprStr = convertKL1KH1toMinMax(replacedStr);
				//TAS.debug("replacedStr is now "+newexprStr);
				if (newexprStr !== replacedStr) {
					replacedStr=newexprStr;
				}
			} catch (kl1err) {
				TAS.error("error from replacedKH1KL1",kl1err) ;
			}

            if (!isNaN(Number(replacedStr)) && isFinite(replacedStr)) {
				//TAS.debug("replacedStr starts with a number:" + replacedStr);
				//check that nothing is after number
				try{
					evaluated = parseFloat(replacedStr);
					if (!isNaN(evaluated)) { callback(evaluated); }
				} catch (err3){
					TAS.error("error trying to convert to number:"+err3);
				}
            }
            
            if (typeof replacedStr !== "undefined" && replacedStr !== null && validNumericStr(replacedStr)) {
				
                evaluated = ExExp.handleExpression(replacedStr);
                //TAS.debug("sending back " + evaluated);
                callback(evaluated);
            } else {
                TAS.error("cannot evaluate this to number: " + exprStr);
                callback(null);
            }
        });
    },


    /* evaluateAndSetString
     * Searches the readField for any instances of @{field} and replaces them with a value
     * then writes the resulting string to the writeField.
     *
     * @readField = the field that contains the string to evaluate, like a field containing a macro
     * @writeField = the field to write the evaluated value of readField to
    * @ensureValidExpr = the field should POTENTIALLY be evaluable to a number, it does not have to finish the evaluation,
    */
    evaluateAndSetString = function (readField, writeField, ensureValidExpr) {
        //TAS.debug("entered evaluateAndSetString; readField=" + readField + ", writeField=" + writeField + ", ensureValidExpr=" + ensureValidExpr);
        if (!writeField || !readField) {
            return;
        }
        getAttrs([readField], ensureValidExpr, function (values) {
            //TAS.debug("calling searchAndReplaceFields with values=" + values[readField]);
            searchAndReplaceFields(values[readField], function (replacedStr) {
                var setter = {};
                if (typeof replacedStr !== "undefined" && replacedStr !== null) {
                    setter[writeField] = replacedStr;
                    setAttrs(setter);
                }
            });
        });
    },

    /* evaluateAndSetNumber
    * Examines the string in readField, and tests to see if it is a number
    * if it's a number immediately write it to writeField.
    * if not, then replace any @{field} references with numbers, and then evaluate it
    * as a mathematical expression till we find a number.
    *
    * note this is NOT recursive, you can't point one field of
    *
    * @readField {string}= field to read containing string to parse
    * @writeField {string}= field to write to
    * @dontForceOnBlank {boolean}= False (default): if writeField is empty overwrite no matter what,
    *               True: if writeField empty, then write only if readField evaluates to other than defaultVal||0.
    * @defaultVal {number}= optional, default to set if we cannot evaluate the field. If none set to 0.
    *
    */
    evaluateAndSetNumber = function (readField, writeField, defaultVal, callback) {
		//TAS.debug("at evaluateAndSetNumber");
        getAttrs([readField, writeField], function (values) {
            var setter = {}, 
                trueDefault = defaultVal || 0,
                currVal = parseInt(values[writeField], 10),
                hasCallback=(typeof callback ==="function"),
                value = Number(values[readField]);
			if (typeof values[readField] === "undefined"){	
				value=0;
				setter[writeField] = value;
				if (hasCallback){
					setAttrs(setter,{},callback(value));
				} else {
					setAttrs(setter);
				}
			} else if (!isNaN(value)) {
                //TAS.debug("it was a number");
                if (currVal !== value) {
                    //TAS.debug({ "function": "evaluateAndSetNumber", "currVal": currVal, "newVal": value });
                    setter[writeField] = value;
                    if (hasCallback){
                        setAttrs(setter,{},callback(value));
                    } else {
                        setAttrs(setter);
                    }
                }
            } else {
                //TAS.debug("ok evaluate " + values[readField]);
                evaluateExpression(values[readField], function (value2) {
                    //TAS.debug("came back with " + value2 + ", is it NaN?:" + isNaN(value2));
                    //look for ( and ) at beginning and end

                    value2 = isNaN(value2) ? trueDefault : value2;
                    if (isNaN(currVal) || currVal !== value2) {
                        //TAS.debug({ "function": "evaluateAndSetNumber", "currVal": currVal, "newVal": value2 });
                        setter[writeField] = value2;
                        if (hasCallback){
                            setAttrs(setter,{},callback(value2));
                        } else {
                            setAttrs(setter);
                        }
                    }
                });
            }
        });
    },

    /* setAttributeNumber
    * use if you have to clone the fieldToUpdate name due to a loop that would be outside getAttrs
    */
    setAttributeNumber = function (fieldToUpdate, newVal) {
        getAttrs([fieldToUpdate], function (v) {
            //TAS.debug("setAttributeNumber setting with " + newVal);
            //TAS.debug(v);
            var setter = {},
            val = parseInt(v[fieldToUpdate], 10);
            if (newVal !== val || isNaN(val)) {
                setter[fieldToUpdate] = newVal;
                setAttrs(setter);
            }
        });
    },
    setNumber = function (fieldToUpdate, fieldToRead) {
        getAttrs([fieldToUpdate,fieldToRead], function (v) {
            var setter = {}
                ,val = parseInt(v[fieldToUpdate], 10)
                ,newVal = parseInt(v[fieldToRead],10)||0;
            if (newVal !== val || isNaN(val)) {
                setter[fieldToUpdate] = newVal;
                setAttrs(setter);
            }
        });
    },


   /* copyStaticNumberFieldToRepeating
    * Copies a number from a field outside a repeating section to the fields inside a repeating section
    * For instance, if you have a field @{FOO} and when it is updated you want to update all field in
    * the repeating_bar section, and they are named repeating_bar_$X_foo_copy
    *   then you would call with parameters ("bar","foo","foo","_copy")
    *
    * @repeatingSection = sectioname without "repeating_"
    * @copyFromField = Field to copy from
    * @fieldToUpdatePartialName = the partial name (everything after repeating_<name>_$X_   except a postpended string )
    *       if this is null, then use the copyFromField (if you set the name to be the same with a postpended string at the end)
    * @postPend = a postpend string at the end of the fieldname in the repeating section , such as "-copy"
    */
    copyStaticNumberFieldToRepeating = function (repeatingSection, copyFromField, fieldToUpdatePartialName) {
        if (!fieldToUpdatePartialName) { fieldToUpdatePartialName = copyFromField + "-copy"; }
        getAttrs([copyFromField], function (attrs) {
            var val = parseInt(attrs[copyFromField], 10) || 0;
            getSectionIDs("repeating_" + repeatingSection, function (ids) {
                ids.forEach(function (id) {
                    setAttributeNumber("repeating_" + repeatingSection + "_" + id + "_" + fieldToUpdatePartialName, val);
                });
            });
        });
    },

   /* getReferencedAttributeValue
    * by passing the value of a dropdown that has string references to abilities,
     * this determines what ability / field it references, finds that field in
     * the sheet, and calls the callback function passing the value in.
     * If new dropdowns are made, ensure the fields referenced are in the
     * findAbilityInString method.
     *
     * @readField {string| = the attribute name of dropdown we are looking at
     * @synchrousFindAttributeFunc {function} takes value of @readField and says what the lookup field is.
     * @callback {function} = a function that takes one integer parameter, which is the value the dropdown selection represents
     */
    getReferencedAttributeValue = function (readField, synchrousFindAttributeFunc, callback) {
        if (!readField || (callback && typeof callback !== "function") || typeof synchrousFindAttributeFunc !== "function") {
            return;
        }
        getAttrs([readField], function (values) {
            var fieldToFind = values[readField], foundField;
            if (typeof fieldToFind === "undefined" || fieldToFind === null) {
                callback("");
            } else if (fieldToFind === "0" || fieldToFind === 0 || fieldToFind.indexOf("0") === 0) {
                //select = none
                callback(0);
            } else {
                foundField = synchrousFindAttributeFunc(fieldToFind);
                getAttrs([foundField], function (v) {
                    var valueOf = parseInt(v[foundField], 10) || 0;
                    callback(valueOf, foundField);
                });
            }
        });
    },


    /* handleDropdown
     * Looks at a dropdown, evaluates the number the selected item refers to, and then
     * sets the writeFields with that number.
     *
     * @readField {string} = the dropdpown field
     * @writeFields {string or Array} = Fields to write the value to
     * @synchrousFindAttributeFunc {function} takes value of @readField and says what the lookup field is.
     * @callback {function} =  (optional) if we need to update the field, call this function
     *         with the value we set as the only parameter.
     */
    handleDropdown = function (readField, writeFields, synchrousFindAttributeFunc, callback, silently) {
        var params = { silent: false };
        if (silently) {
            params.silent = true;
        }
        SWUtils.getReferencedAttributeValue(readField, synchrousFindAttributeFunc, function (valueOf) {
            if (Array.isArray(writeFields) && writeFields.length == 1) {
                writeFields = writeFields[0];
            }
            if (typeof writeFields === "string") {
                getAttrs([writeFields], function (v) {
                    var currValue = parseInt(v[writeFields], 10), setter = {};
                    //TAS.debug("handledropdown, readField:" + readField + ", currValue:" + currValue + ", newValue:" + valueOf);
                    if (currValue !== valueOf || isNaN(currValue)) {
                        //TAS.debug("handledropdown", readField, lookupField, currValue, valueOf);
                        //TAS.debug("handledropdown, readField:" + readField + ", currValue:" + currValue + ", newValue:" + valueOf);
                        setter[writeFields] = valueOf;
                        setAttrs(setter, params);
                    }
                    if (typeof callback === "function") {
                        callback(valueOf, currValue);
                    }
                });
            } else if (Array.isArray(writeFields)) {
                getAttrs(writeFields, function (v) {
                    var i = 0, setany = 0, setter = {};
                    for (i = 0; i < writeFields.length; i++) {
                        if (parseInt(v[writeFields[i]], 10) !== valueOf) {
                            setter[writeFields[i]] = valueOf;
                            setany++;
                        }
                    }
                    if (setany) {
                        setAttrs(setter, params);
                        if (typeof callback === "function") {
                            callback(valueOf);
                        }
                    }
                });
            }
        });
    },


    getRowTotal = function (fields, bonus, penalties, totalIsFloat, callback) {
        var readFields = fields;
        if (!fields || (! Array.isArray(fields)) || fields.length === 0 || typeof callback !== "function") { return; }
        if (penalties && Array.isArray(penalties) && penalties.length > 0 ) {
            readFields = readFields.concat(penalties);
        }
        getAttrs(readFields, function (v) {
            var currValue = parseInt(v[fields[0]], 10),
            newValue = 0, penalty = 0, i; //, setter = {}
            for (i = 1; i < fields.length; i++) {
                newValue += parseFloat(v[fields[i]]) || 0;
            }
            if (bonus && !isNaN(parseInt(bonus,10))) { newValue += parseFloat(bonus); }
            if (penalties) {
                for (i = 0; i < penalties.length; i++) {
                    penalty += parseFloat(v[penalties[i]]) || 0;
                }
                newValue -= penalty;
            }
            if (!totalIsFloat) {
                newValue = Math.floor(newValue);
            }
            if (isNaN(currValue) || currValue !== newValue) {
                callback(newValue,v);
            }
        });
    },

    /* updateRowTotal
    * Adds up numbers and puts it in the first field of the fields array.
    * All numbers are added up as FLOATS, and then FLOOR is used to round the sum down
    * @fields {Array}= array of field names, first element (fields[0]) MUST be the total field , rest are the fields to add up.
    * Updates total field if the total is not the same as the number in the total, or if the current value is not a number.
    * @bonus {number} = a number that is added
    * @penalties {Array} = array of fieldnames to be subtracted from the total.
    */
    updateRowTotal = function (fields, bonus, penalties, totalIsFloat, params) {
        getRowTotal(fields,bonus,penalties,totalIsFloat,function(newValue){
            var setter={};
            setter[fields[0]] = newValue;
            if (params !== null && typeof params !== "undefined"){
                setAttrs(setter,params);
            } else {
                setAttrs(setter);
            }
        });
     },

     //replace any characters that are regex reserved
     regForRegEscape = /[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|\~\!\@\#]/g,
     escapeRegExp = function(str) {
		if (str){
			return str.replace(regForRegEscape, "\\$&");
		 }
		 return "";
     },
	 
	 //for the character or player name in the link to a rollbutton or macro.
	 
	 macroCallEscapes =  [[/\{\{/g ,  '&#123;&#123;'], [/\}\}/g, '&#125;&#125;' ],
	 [/\(/g, '&#40;'], [/\)/g, '&#41;']   ,[/\,/g, '&#44;'] ,[/\?/g, '&#63;'] ,[/'/g, '&#39;'] ,[/"/g, '&#34;'], [/\=/g, '&#61;']  ],

     escapeMacroCall = function(str){
		 if (str){
			return _.reduce(macroCallEscapes,function(currStr,pair){
					 return currStr.replace(pair[0],pair[1]);
				 },str);
		 }
		 return "";
     },


     rollTemplateEscapes = [[/\{\{/g ,  '&#123;&#123;'], [/\}\}/g, '&#125;&#125;' ]] ,
	 //, [/\(/g ,'&#40;'], [/\)/g ,'&#41;']   ,[/\,/g, ,'&#44;'] ,[/\?/g, ,'&#63;'] ,[/'/g, ,'&#39;'] ,[/"/g, ,'&#34;'], [/\=/g, '&#61;']  ],
		 
     escapeRollTemplate = function(str){
		 if (str){
			return _.reduce(rollTemplateEscapes,function(currStr,pair){
					 return currStr.replace(pair[0],pair[1]);
				 },str);
		 }
		 return "";
     },

	 
	 
	 pushOrConcat = function( array1, stringOrArray) {
		if (Array.isArray(stringOrArray)){
			array1=array1.concat(stringOrArray);
		} else {
			array1.push(stringOrArray);
		}
		return array1;
	}
    ;

     //replace {{ , and }}
    // rollTemplateEscapes = {  '&#123;&#123;':/\{\{/g, '&#125;&#125;':/\}\}/g  } ,
            //return _.reduce(rollTemplateEscapes,
         // function(memostr,tomatchreg,repstr){
        //  return memostr.replace(tomatchreg,repstr);
         // },str); }

    return {
        util: {
            validNumericStr: validNumericStr

        }
        , searchAndReplaceFields: searchAndReplaceFields
        , evaluateExpression: evaluateExpression
        , evaluateAndSetString: evaluateAndSetString
        , evaluateAndSetNumber: evaluateAndSetNumber
        , copyStaticNumberFieldToRepeating: copyStaticNumberFieldToRepeating
        , setAttributeNumber: setAttributeNumber
        , getReferencedAttributeValue: getReferencedAttributeValue
        , handleDropdown: handleDropdown
        , getRowTotal:getRowTotal
        , updateRowTotal:updateRowTotal
		, convertKL1KH1toMinMax:convertKL1KH1toMinMax
        , setNumber:setNumber
        , escapeRegExp:escapeRegExp
        , escapeRollTemplate:escapeRollTemplate
		, pushOrConcat:pushOrConcat

    };
}());


var PFSheet = PFSheet || (function () {
    'use strict';

    var version = 0.56,

    /***************************************Lists of Fields ************************************************************/
    //add any new repeating sections here. This is the word after "repeating_"
    repeatingSections = [
         "weapon", "class-ability", "feat", "racial-trait", "trait", "item"
         , "npc-spell-like-abilities"
        , "mythic-ability", "mythic-feat", "buff", "spells"
    ],
    //repeating sections that have used and used|max fields
    repeatingMaxUseSections = [
        "class-ability", "feat", "racial-trait", "trait", "npc-spell-like-abilities", "mythic-ability", "mythic-feat"
    ],

    abilities = ["STR", "DEX", "CON", "INT", "WIS", "CHA"],
    abilityMods = ["STR-mod", "DEX-mod", "CON-mod", "INT-mod", "WIS-mod", "CHA-mod"],
    //all possible buffs, add any new ones here
    buffColumns = [
        "STR", "DEX", "CON", "INT", "WIS", "CHA", "Ranged", "Melee", "DMG", "AC", "Touch", "CMD", "HP-temp"
        , "Fort", "Will", "Ref", "Check", "CasterLevel"
    ],
    //all columns in Classes grid
    classColumns = ["hp", "fchp", "skill", "fcskill", "fcalt", "bab", "Fort", "Ref", "Will", "level"],
    //the classes available
    classRows = ["0", "1", "2", "3", "4", "5"],
    //GENERIC dropdowns that use handleDropdpown
    //fieldname of dropdown, and fieldname of the number field to update,
    dropdowns = {
        "HP-ability": "HP-ability-mod"
        , "init-ability": "init-ability-mod"
        , "Fort-ability": "Fort-ability-mod"
        , "Ref-ability": "Ref-ability-mod"
        , "Will-ability": "Will-ability-mod"
        , "melee-ability": "melee-ability-mod"
        , "ranged-ability": "ranged-ability-mod"
        , "CMB-ability": "CMB-ability-mod"
    },
    //Special defense tab dropdowns (since they are synced across each other)
    //fieldname of dropdown, and fieldname of the number field to update,
    defenseDropdowns = {
        "AC-ability": "AC-ability-mod"
        , "FF-ability": "FF-DEX"
        , "CMD-ability1": "CMD-STR"
        , "CMD-ability2": "CMD-DEX"
        , "CMD-ability": "FF-CMD-DEX"
    },
    saveTypes = ["Fort", "Ref", "Will"],

	backgroundCoreSkills = [
		"Appraise", "Craft", "Craft2", "Craft3", "Handle-Animal"
		, "Knowledge-Engineering", "Knowledge-Geography", "Knowledge-History"
		, "Knowledge-Nobility", "Perform", "Perform2", "Perform3"
		, "Profession", "Profession2", "Profession3", "Sleight-of-Hand"
		, "Misc-Skill-3", "Misc-Skill-4", "Misc-Skill-5"
	],
	//NEW skills for background in Unchained
	backgroundOnlySkills = ["Artistry", "Artistry2", "Artistry3", "Lore", "Lore2", "Lore3"],
	adventureSkills = [
		"Acrobatics", "Bluff", "Climb", "Diplomacy", "Disable-Device"
		, "Disguise", "Escape-Artist", "Fly", "Heal", "Intimidate"
		, "Linguistics", "Knowledge-Arcana", "Knowledge-Dungeoneering"
		, "Knowledge-Local", "Knowledge-Nature", "Knowledge-Planes"
		, "Knowledge-Religion", "Perception", "Ride", "Sense-Motive"
		, "Spellcraft", "Stealth", "Survival", "Swim", "Use-Magic-Device"
		, "Misc-Skill-0", "Misc-Skill-1", "Misc-Skill-2"
	],
	backgroundSkills = _.sortBy(backgroundCoreSkills.concat(backgroundOnlySkills), function(skill){return skill;}),
	allCoreSkills = _.sortBy(adventureSkills.concat(backgroundCoreSkills), function(skill){return skill;}),
	//consolidated skills for Unchained
	consolidatedSkills = [
		"CS-Acrobatics", "CS-Athletics", "CS-Finesse", "CS-Influence", "CS-Nature", "CS-Perception"
		, "CS-Performance", "CS-Religion", "CS-Society", "CS-Spellcraft", "CS-Stealth", "CS-Survival"
	],
    //skills that depend on size, and 1 or 2:
    //  1 is the normal size modifier in size_skill, 2 is size_skill_double
    sizeSkills = { "Fly": 1, "Stealth": 2, "CS-Stealth": 2 },
    //the 3 spell classes at top of spells page
    spellClassIndexes = ["0", "1", "2"],
    //events for those 3 classes
    //first is event string, second is array of methods to call, each much take classidx as first/only param
   //spell levels for repeating spell sections
    spellLevels = ["0", "1", "2", "3", "4", "5", "6", "7", "8", "9"],
    //events for repeating spells
    //first is event string, second is array of methods to call, each much take spell level as first/only param
    wornEquipmentRows = ["Belt", "Body", "Chest", "Eyes", "Feet", "Hands", "Head", "Headband", "Neck", "Ring1", "Ring2", "Shoulders", "Wrist"],
    wornEquipmentColumns = ["charges", "weight", "hp", "hp_max", "value"],
    defenseArmorShieldRows = ["armor", "armor2", "armor3", "shield", "shield2", "shield3"],
    defenseArmorShieldColumns = ["equipped", "acbonus", "max-dex", "acp", "spell-fail", "proficiency"],

    /****************************UTILITIES ************************************/

    /* findAbilityInString
     * For dropdowns, this looks at the <option value="xxxx"> pass the value to here.
     *
     * Looks at a string for instances of an ability modifier DEX-mod, STR-mod,  etc and returns the modifier it finds.
     * Note the order checked is the same as the order they traditionally appear in: STR-mod,DEX-mod,CON-mod,INT-mod,WIS-mod,CHA-mod
     * Also checks for regular abilities without mod, and other items that appear in dropdowns.
     * if none is found, or if the first character is "0", return ""
     */
    findAbilityInString = function (fieldToFind) {
        if (!fieldToFind) { fieldToFind = ""; }
        else if (fieldToFind.indexOf("0") === 0) { fieldToFind = ""; }
        else if (fieldToFind.indexOf("STR-mod") >= 0) { fieldToFind = "STR-mod"; }
        else if (fieldToFind.indexOf("DEX-mod") >= 0) { fieldToFind = "DEX-mod"; }
        else if (fieldToFind.indexOf("CON-mod") >= 0) { fieldToFind = "CON-mod"; }
        else if (fieldToFind.indexOf("INT-mod") >= 0) { fieldToFind = "INT-mod"; }
        else if (fieldToFind.indexOf("WIS-mod") >= 0) { fieldToFind = "WIS-mod"; }
        else if (fieldToFind.indexOf("CHA-mod") >= 0) { fieldToFind = "CHA-mod"; }
        else if (fieldToFind.indexOf("melee") >= 0) { fieldToFind = "attk-melee"; }
        else if (fieldToFind.indexOf("Melee") >= 0) { fieldToFind = "attk-melee"; }
        else if (fieldToFind.indexOf("ranged") >= 0) { fieldToFind = "attk-ranged"; }
        else if (fieldToFind.indexOf("Ranged") >= 0) { fieldToFind = "attk-ranged"; }
        else if (fieldToFind.indexOf("CMB") >= 0) { fieldToFind = "CMB"; }
        else if (fieldToFind.indexOf("STR") >= 0) { fieldToFind = "STR"; }
        else if (fieldToFind.indexOf("DEX") >= 0) { fieldToFind = "DEX"; }
        else if (fieldToFind.indexOf("CON") >= 0) { fieldToFind = "CON"; }
        else if (fieldToFind.indexOf("INT") >= 0) { fieldToFind = "INT"; }
        else if (fieldToFind.indexOf("WIS") >= 0) { fieldToFind = "WIS"; }
        else if (fieldToFind.indexOf("CHA") >= 0) { fieldToFind = "CHA"; }
        return fieldToFind;
    },

    /* findMultiplier
     * for damage dropdown in attack items, look at string for dropdown
     * and return number of the multiplier: .5, 1, 1.5, 2, etc
     *
     * @str = the value of the damage ability
     * @returns = a number indicating the multiplier for the ability mod
    */
    findMultiplier = function (str) {
        var retNum;
        if (!str) { return 0; }
        if (str.indexOf("1.5") >= 0) { retNum = 1.5; }
        else if (str.indexOf(".5") >= 0) { retNum = 0.5; }
        else if (str.indexOf("1/2") >= 0) { retNum = 0.5; }
        else if (str.indexOf("3/2") >= 0) { retNum = 1.5; }
        else if (str.indexOf("1 1/2") >= 0) { retNum = 1.5; }
        else if (str.indexOf("2") >= 0) { retNum = 2; }
        else { retNum = 1; }
        return retNum;
    },


    /* handleDropdown
     * Looks at a dropdown selected value, finds the matching attribute value, and then
     * sets the writeFields with that number.
     *
     * @readField {string} = the dropdpown field
     * @writeFields {string or Array} = One string or an array of strings that are fields to write the value to
     * @callback {function} optional = if we need to update the field, call this function
     *       with the value we set as 1st param,
     *   If writeField is a string not an Array, then set old value as 2nd param (could be NaN)
     */
    handleDropdown = function (readField, writeFields, callback, silently) {
        SWUtils.handleDropdown(readField, writeFields, findAbilityInString, callback, silently);
    },

    /****************************************REPEATING SECTION SUPPORT *****************/
    /* if id is not empty, then returns the ID with an underscore on the right.
    */
    getRepeatingIDStr = function (id) {
        var idStr = "";
        if (id) { idStr = id + "_"; }
        return idStr;
    },

    isBadRowId = function (section, id, nullok) {
        //TAS.debug("TRACE: isBadRowId section:" + section + ", id:" + id + ", null ok?:" + nullok);
        if (!nullok && (id === null || id === undefined || typeof id === "undefined" )) {
            return true;
        }
        if (id === section) {
            return true;
        }
        if (/spell|weapon|class|ability|feat|attack|damage|trait|racial|mythic|psionic/i.test(id) ){
            //var matches = id.match(/spell|weapon|class|ability|feat|trait|racial|mythic|psionic/i);
            //TAS.notice("found error in id");
            //TAS.debug(matches);
            return true;
        }
        return false;
    },

    /* setRowIds
    *  sets the ID fields and new_flag fields for all rows in the section
    * @section {string} = the fieldset name after "section_"
    * @forceReset {forceReset} = if true set the ID even if new_flag is not set.
    */
    setRowIds = function (section) {
        getSectionIDs("repeating_" + section, function (ids) {
            //TAS.debug("setRowIds, section:"+section);
            //TAS.debug(ids);
            var setter={};
            _.each(ids,function(id){
				if (!isBadRowId(section, id, false)) {
					setter[ "repeating_" + section + "_" + id + "_row_id"] = id;
				}
            });
            setAttrs(setter);
        });
    },


    /*********************************** NOTES ****************************************/

    /* updates notes for damage row of grid
    * UPDATED TO JUST ERASE THIS FIELD.
    */
    handleSizeChange = function (size, currsize) {
		TAS.debug("do something with size from "+currsize+" to "+size);
    },

    /***********************************  MULTI PAGE ****************************************/
	updateNPCFromCompendium = function(eventInfo){
		getAttrs(["npc-cr"],function(v){
			var newCR = "",matches;
			if (v["npc-cr"]){
				matches = v["npc-cr"].match(/\d+/);
				if (matches){
					newCR=matches[0];
					if (newCR !== v["npc-cr"]){
						setAttrs({"npc-cr":newCR},{silent:true});
					}
				}
			}
		});
		getAttrs(["npc_hp_compendium"],function(v){
			var newHP=0,plus=0,hpstring=v["npc_hp_compendium"],matches,setter={};
			newHP=parseInt(hpstring,10)||0;
			if (!isNaN(newHP)){
				setter["NPC-HP"]=newHP;
				setter["NPC-HP_max"]=newHP;
			}
			if (hpstring.indexOf("(")>0){
				hpstring = hpstring.slice(hpstring.indexOf("(")+1);
				matches = hpstring.match(/^\s*(\d+)\s*d\s*(\d+)\s*/);
				//TAS.debug("matches",matches);
				if (matches[1]){
					//TAS.debug("there are "+ matches[1] +" hd");
					setter["npc-hd-num"]=matches[1];
				}
				if (matches[2]){
					//TAS.debug("hd type is d"+ matches[2]);
					setter["npc-hd"]=matches[2];
				}
				hpstring = hpstring.slice(matches.index+matches[0].length);
				matches = hpstring.match(/^\+\s*(\d+)\s*\)/);
				if (matches[1]){
					plus=matches[1];
					setter["npc-hd-misc"]=plus;
					setter["hd-misc-mod"]=plus;
				}
			}
			if (_.size(setter)>0){
				setAttrs(setter,{silent:true});
			}
		});
		getAttrs(["init_compendium"],function(v){
			//TAS.notice("at updatenpcFromCompendium, init is :"+v["init_compendium"]);
			var numberATEnd;
			if (/\d+$/.test(v["init_compendium"])){
				//TAS.notice("finding number at end + or - :",v["init_compendium"].match(/[\-\+]\d+$/));
				numberATEnd=parseInt(v["init_compendium"].match(/[\-\+]\d+$/),10);
				if (isNaN(numberATEnd)){
					//TAS.notice("finding number at end alone:",v["init_compendium"].match(/\d+$/));
					numberATEnd=parseInt(v["init_compendium"].match(/\d+$/),10);
				}
			} else if (/\d+/.test(v["init_compendium"])){
				//TAS.notice("find any number:"+v["init_compendium"].match(/\d+/));
				numberATEnd=parseInt(v["init_compendium"].match(/\d+/),10);
			}
			if (!isNaN(numberATEnd)){
				setAttrs({"init-misc":numberATEnd});
			}	
		});
		getAttrs(["fort_compendium","ref_compendium","will_compendium"],function(v){
			var fort=parseInt(v["fort_compendium"],10)||0
			, ref=parseInt(v["ref_compendium"],10)||0
			, will=parseInt(v["will_compendium"],10)||0;
			setAttrs({"Fort-misc":fort,"Ref-misc":ref,"Will-misc":will});
		});
		
	},
    /*updateSize
    * When size attribute is changed, update CMD-size, size_display, size_skill, size_skill_double
    */
    updateSizeFromText = function (eventInfo) {
        getAttrs(["size", "size_display"], function (v) {
            var currSize = parseInt(v.size, 10) || 0,
                sizeDisplay = v["size_display"],
                size = 0, cmbsize = 0, skillSize = 0, doubleSkill = 0;
            //TAS.debug("updateSizeFromText","sizeDisplay",sizeDisplay,"currsize",currSize);
            if (!sizeDisplay) { return; }
            sizeDisplay = sizeDisplay.toLowerCase();
            switch (sizeDisplay) {
                case "medium": break;
                case "colossal": size = -8; skillSize = -8; break;
                case "gargantuan": size = -4; skillSize = -6; break;
                case "huge": size = -2; skillSize = -4; break;
                case "large": size = -1; skillSize = -2; break;
                case "small": size = 1; skillSize = 2; break;
                case "tiny": size = 2; skillSize = 4; break;
                case "diminutive": size = 4; skillSize = 6; break;
                case "fine": size = 8; skillSize = 8; break;
                default:
                    return;
            }
            //TAS.debug("updateSizeFromText","badsize",badsize,"size",size,"skillSize",skillSize);
            doubleSkill = 2 * skillSize;
            cmbsize = size * -1;
            if (size !== currSize) {
                setAttrs({ "size": size, "size_skill": skillSize, "CMD-size": cmbsize, "size_skill_double": doubleSkill });
				//do not call handlesize change - this is the first update from compendium
            }

        });
    },
    updateSize = function () {
        getAttrs(["size", "CMD-size", "size_display"], function (v) {
            var size = parseInt(v.size, 10) || 0, currsize = (parseInt(v["CMD-size"], 10) || 0) * -1,
                cmbsize = 0, skillSize = 0, doubleSkill = 0, sizeDisplay = "Medium";

            switch (size) {
                case 0: break;
                case -8: skillSize = -8; sizeDisplay = "Colossal"; break;
                case -4: skillSize = -6; sizeDisplay = "Gargantuan"; break;
                case -2: skillSize = -4; sizeDisplay = "Huge"; break;
                case -1: skillSize = -2; sizeDisplay = "Large"; break;
                case 1: skillSize = 2; sizeDisplay = "Small"; break;
                case 2: skillSize = 4; sizeDisplay = "Tiny"; break;
                case 4: skillSize = 6; sizeDisplay = "Diminutive"; break;
                case 8: skillSize = 8; sizeDisplay = "Fine"; break;
                default:
                    return;
            }
            doubleSkill = 2 * skillSize;
            cmbsize = size * -1;
            if (size !== currsize) {
                setAttrs({ "size_skill": skillSize, "CMD-size": cmbsize, "size_skill_double": doubleSkill });
                setAttrs({ "size_display": sizeDisplay }, { silent: true });
                handleSizeChange(size, currsize);
            } else if (v["size_display"] !== sizeDisplay) {
                //fix size display for old sheets
                setAttrs({ "size_display": sizeDisplay }, { silent: true });
            }
        });
    },
    updateDrainCheckbox = function () {
        getAttrs(["condition-Drained","condition_is_drained"],function(v){
            var levels=parseInt(v["condition-Drained"],10)||0, drained = parseInt(v["condition_is_drained"],10)||0;
            if (levels !==0 && drained===0 ) {
                setAttrs({"condition_is_drained":"1"},{silent:true});
            } else if (levels ===0 && drained !== 0) {
                setAttrs({"condition_is_drained":"0"},{silent:true});
            }
        });
    },

    /* updateConditionCheckPenalty - handles changes to skill and ability checks due to conditions AND buffs.
    * Reads in condition that affect Ability and Skill checks and updates condition fields.
    * checks-cond, Phys-skills-cond, Perception-cond.
    */
    updateConditionCheckPenalty = function () {
        getAttrs(["condition-Blinded", "condition-Fear", "condition-Drained", "condition-Sickened", "condition-Wounds"
        , "checks-cond", "Phys-skills-cond", "Perception-cond", "buff_Check-total", "wound_threshold-show"
        , "CasterLevel-Penalty"]
            , function (v) {
                //there is no Fascinated, if we add it then:
                //,"condition-Fascinated" -4 to perception
                var buffCheck = parseInt(v["buff_Check-total"], 10) || 0
                , drained = parseInt(v["condition-Drained"], 10) || 0
                , fear = -1 * (parseInt(v["condition-Fear"], 10) || 0)
                , sick = -1 * (parseInt(v["condition-Sickened"], 10) || 0)
                , wounds = (parseInt(v["wound_threshold-show"],10)||0) * (-1) * (parseInt(v["condition-Wounds"], 10) || 0)
                , allSkillsMod = buffCheck + drained + fear + sick + wounds
                , casterlevel = drained + wounds
                , blindedMod = -2 * (parseInt(v["condition-Blinded"], 10) || 0)
                , currAllSkills = parseInt(v["checks-cond"], 10)
                , currPhysSkills = parseInt(v["Phys-skills-cond"], 10)
                , currPerSkills = parseInt(v["Perception-cond"], 10)
                , currCaster = parseInt(v["CasterLevel-Penalty"], 10)
                , setter = {}, setAny = 0;

                if (allSkillsMod !== currAllSkills || isNaN(currAllSkills)) {
                    setter["checks-cond"] = allSkillsMod;
                    setAny = 1;
                }

                if (blindedMod !== currPhysSkills || isNaN(currPhysSkills)) {
                    setter["Phys-skills-cond"] = blindedMod;
                    setAny = 1;
                }
                if (blindedMod !== currPerSkills || isNaN(currPerSkills)) {
                    setter["Perception-cond"] = blindedMod;
                    setAny = 1;
                }
                if (casterlevel !== currCaster || isNaN(currCaster)) {
                    setter["CasterLevel-Penalty"] = casterlevel;
                    setAny = 1;
                }
                //TAS.debug("about to set " + setter);
                if (setAny) {
                    setAttrs(setter);
                }
            });
    },

    /***********************************  CORE  PAGE ****************************************/

    /**ABILITIES ****/
    /* updateAbility
     * Updates the final ability score, ability modifier, condition column based on entries in ability grid plus conditions and buffs.
     * Also sets unconscious flag if ability damage is >= ability score.
     * Note: Ability value is not affected by damage and penalties, instead only modifier is affected.
     * @ability {string} 3 letter abbreviation for one of the 6 ability scores.
     */
    updateAbility = function (ability, columnUpdated, columnVal, silently) {
        getAttrs([ability + "-base", ability + "-enhance", ability + "-misc", ability + "-damage", ability + "-penalty"
            , ability + "-drain", ability, ability + "-mod", ability + "-cond", "buff_" + ability + "-total", "condition-Helpless"], function (values) {
                var base = (parseInt(values[ability + "-base"], 10) || 0) +
                        (parseInt(values[ability + "-enhance"], 10) || 0) +
                        (parseInt(values[ability + "-misc"], 10) || 0) +
                        (parseInt(values[ability + "-drain"], 10) || 0) +
                        (columnUpdated === "buff" ? columnVal : (parseInt(values["buff_" + ability + "-total"], 10) || 0))
                    , dmg = Math.floor(Math.abs(parseInt(values[ability + "-damage"], 10) || 0) / 2)
                    , pen = Math.floor(Math.abs(parseInt(values[ability + "-penalty"], 10) || 0) / 2)
                    , cond = (columnUpdated === "cond" ? columnVal : (Math.floor(Math.abs(parseInt(values[ability + "-cond"], 10) || 0) / 2)))
                    , currAbility = parseInt(values[ability], 10)
                    , currMod = parseInt(values[ability + "-mod"], 10)
                    , mod = Math.floor((base - 10) / 2) - dmg - pen - cond
                , setAny = 0, setter = {}
                , params = { silent: false };
                if (ability === "DEX" && (parseInt(values["condition-Helpless"],10)||0) === 1) {
                    //TAS.debug("you are helpless");
                    base=0;
                    mod=-5;
                }
                if (currAbility !== base || isNaN(currAbility)) { setter[ability] = base; setAny = 1; }
                if (currMod !== mod || isNaN(currMod)) { setter[ability + "-mod"] = mod; setAny = 1; }

                if (setAny) {
                    //TAS.debug({ "function": updateAbility, "ability": ability, "currAbility": currAbility, "currMod": currMod, "newAbility": base, "newMod": mod });
                    if (silently) { params.silent = true; }
                    setAttrs(setter, params);
                }
            });
    },


    /* updateConditionAbilityPenalty - for ability penalties, not "ability check" penalties
    * Sets DEX-cond and STR-cond for fatigued, entangled, and grappled
    */
    updateConditionAbilityPenalty = function () {
        getAttrs(["STR-cond", "DEX-cond", "condition-Fatigued", "condition-Entangled", "condition-Grappled"], function (v) {
            var setter = {}, setAny = 0
            , strMod = (parseInt(v["condition-Fatigued"], 10) || 0)
            , dexMod = (parseInt(v["condition-Entangled"], 10) || 0) +
                       (parseInt(v["condition-Grappled"], 10) || 0) + strMod
            , dexAbMod = dexMod * -2
            , strAbMod = strMod * -2;
            if (dexAbMod !== (parseInt(v["DEX-cond"], 10) || 0)) {
                setter["DEX-cond"] = dexAbMod;
                setAny = 1;
            }
            if (strAbMod !== (parseInt(v["STR-cond"], 10) || 0)) {
                setter["STR-cond"] = strAbMod;
                setAny = 1;
            }
            if (setAny) {
                setAttrs(setter);//,{silent:true});
                //short circuit
                //updateAbility("DEX", "cond", dexMod);
                //updateAbility("STR", "cond", strMod);
            }
        });
    },


    /***BUFFS *****/
    setBuffExistsFlag = function(col,val){
        //TAS.debug("at setBuffExistsFlag: col="+col+", val="+val);
        var field="buff_"+col+"_exists";
        //TAS.debug("setBuffExistsFlag looking for  "+field);
        getAttrs([field],function(v){
            var setter={};
            if (val !==0 && v[field]!="1"){
                setter[field]="1";
                setAttrs(setter,{silent:true});
            } else if (val===0 && v[field]=="1"){
                setter[field]="";
                setAttrs(setter,{silent:true});
            }
        });
    },
    updateBuffTotals = function (col) {
        //TAS.debug("attrs=" + 'buff_' + col + '-total', "fields=" + 'buff-' + col + ', buff-enable_toggle')
        //var isAbility=(abilities.indexOf(col)>=0);
        TAS.repeating('buff')
            .attrs('buff_' + col + '-total')
            .fields('buff-' + col, 'buff-enable_toggle', 'buff-' + col + '-show')
            .reduce(function (m, r) {
                //TAS.debug("buff-" + col + "=" + r.I['buff-' + col], "buff-enable_toggle=" + r.I['buff-enable_toggle'], "buff-" + col + "-show=" + r.I['buff-' + col + '-show']);
                var tempM=(r.I['buff-' + col] * (r.I['buff-enable_toggle'] & r.I['buff-' + col + '-show']));
                //if (!(isAbility&&tempM<0)){
                m.mod += tempM;
                return m;
            }, {
                mod: 0
            }, function (m, r, a) {
                a.S['buff_' + col + '-total'] = m.mod;
                setBuffExistsFlag(col,m.mod);
            })
            .execute();
        // var attribList = ["buffs"];
        // buffColumns.forEach(function (col) {
            // attribList.push("buff_" + col + "-total");
        // });

        // SWUtils.updateRowTotal(attribList);
    },

    setBuff = function(id,col){
        var idStr = getRepeatingIDStr(id)
        , prefix = "repeating_buff_" + idStr+"buff-"+col;
        //TAS.debug("prefix=" + prefix);
        if (abilities.indexOf(col)>=0){
            //set error flag if they set ability buff to a negative number
            //TAS.debug("we are setting an ability");
            SWUtils.evaluateAndSetNumber(prefix + "_macro-text", prefix,0,function(newval){
                var toggleErr=prefix+"_error",setter={};

                getAttrs([toggleErr],function(v){
                    if (newval<0 && v[toggleErr]!="1"){
                        setter[toggleErr]="1";
                        setAttrs(setter,{silent:true});
                    } else if (newval >0 && v[toggleErr]!="0"){
                        setter[toggleErr]="0";
                        setAttrs(setter,{silent:true});
                    }
                });

            });
        } else {
            SWUtils.evaluateAndSetNumber(prefix + "_macro-text", prefix);
        }
    },

    /* recalculateAllBuffs */
    recalculateAllBuffs = function () {
        getSectionIDs("repeating_buff", function (idarray) { // get the repeating set
            //TAS.debug("idarray.length=" + idarray.length);
            if (idarray.length > 0) {
                _.each(idarray, function (currentID) { // loop through the set
                    //TAS.debug("currentID=" + currentID);
                    buffColumns.forEach(function (col) {
                        setBuff(currentID,col);
                    });
                });
            }
        });

        buffColumns.forEach(function (col) {
            PFSheet.updateBuffTotals(col);
        });
    },

    copyOldBuffToNewBuff = function (attribList) {
        // This routine will generate a new repeating_buff entry using the old attribute data if it is populated
        getAttrs(attribList, function (v) {
            var buffData = [],
            hasMacro = false, showStr = ""
            , newRowId = "", newRowAttrs = {}, setters = {}, i, j, targetAttribList = [];


            // Check for existing data in old buff attributes
            attribList.forEach(function (attrib) {
                buffData[attrib] = v[attrib];
                //TAS.debug("old " + attrib + ":", buffData[attrib]);
                if (typeof buffData[attrib] !== "undefined" && attrib.indexOf("macro") > 0) { hasMacro = true; } //&& buffData[attrib].length > 0
            });
            //TAS.debug(buffData);
            if (hasMacro || (typeof buffData[attribList[0]] !== "undefined" && buffData[attribList[0]].length > 0)) { // If the Name or a macro-text is populated
                newRowId = generateRowID();


                // Construct target attribute list
                targetAttribList = ["repeating_buff_" + newRowId + "_buff-name"];
                for (j = 0; j < buffColumns.length; j++) {
                    targetAttribList.push("repeating_buff_" + newRowId + "_buff-" + buffColumns[j] + "_macro-text");
                }
                targetAttribList.push("repeating_buff_" + newRowId + "_buff-enable_toggle");
                targetAttribList.push("repeating_buff_" + newRowId + "_buff-notes");
                //TAS.debug("new targetAttribList=" + targetAttribList);


                // Create new repeating_buff entry
                //TAS.debug("targetAttribList.length=" + targetAttribList.length);
                for (i = 0; i < targetAttribList.length; i++) {
                    if (typeof buffData[attribList[i]] !== "undefined") {
                        newRowAttrs[targetAttribList[i]] = buffData[attribList[i]];
                        // Enable "show" for populated attribute
                        if (targetAttribList[i].indexOf("macro") > 0) {
                            showStr = targetAttribList[i].replace("_macro-text", "-show");
                            //TAS.debug("showStr=" + showStr);
                            newRowAttrs[showStr] = "1";
                        } else if (targetAttribList[i].indexOf("notes") > 0 && buffData[attribList[i]].length > 0) {
                            showStr = targetAttribList[i].replace("buff-notes", "description-show");
                            //TAS.debug("showStr=" + showStr);
                            newRowAttrs[showStr] = "1";
                        }
                    }
                }
                //TAS.debug("Creating new repeating entry", newRowAttrs);
                setAttrs(newRowAttrs);


                // Wipe out old data
                for (i = 0; i < attribList.length; i++) {
                    setters[attribList[i]] = "";
                }
                //TAS.warn("Wiping out old buff data", setters);
                setAttrs(setters);
            }
        });
    },


    /* Migrate to new repeating entry buff system */
    migrateBuffs = function () {
        //getAttrs(["migrated_buffs"],function(vm){
        //  if (vm["migrated_buffs"]=="1") {return;}
        var i, j, attribList = [];
        for (i = 1; i <= 10; i++) {
            // Contruct old buff attribute list
            attribList = ["buff" + i + "_Name"]; // start a new list
            for (j = 0; j < buffColumns.length; j++) {
                attribList.push("buff" + i + "_" + buffColumns[j] + "_macro-text");
            }
            attribList.push("buff" + i + "_Toggle");
            attribList.push("buff" + i + "-notes");
            //TAS.debug("old attribList=" + attribList);
            copyOldBuffToNewBuff(attribList);
        }
        setAttrs({"migrated_buffs":"1"});
        // Delete obsoleted attributes (there isn't a means to do this yet)
        //buffs_1-5-show
        //buffs_6-10-show
    },



    /***SPEED *****/

    /* updateModifiedSpeed
     * updates the modified speed and run values
     *
     */
    updateModifiedSpeed = function () {
        var attribList = ["current-load", "speed-base", "speed-modified", "speed-run", "load-heavy", "carried-total", "race", "speed-source", "run-mult"];
        defenseArmorShieldRows.forEach(function (row) {
            attribList.push(row + "-equipped");
            attribList.push(row + "-type");
        });
        getAttrs(attribList, function (v) {
            var currMod = parseInt(v["speed-modified"], 10) || 0,
            currRun = parseInt(v["speed-run"], 10) || 0,
            load = parseInt(v["current-load"], 10) || 0,
            base = parseInt(v["speed-base"], 10) || 0,
            heavy = parseInt(v["load-heavy"], 10) || 0,
            carried = parseInt(v["carried-total"], 10) || 0,
            speedDropdown = parseInt(v["speed-source"],10) || 0,
            origRunMult = isNaN(parseInt(v["run-mult"],10))?4:parseInt(v["run-mult"],10),
            newSpeed= base, newLoadSpeed= base, newArmorSpeed= base,
            runMult=origRunMult,
            newRun=base*runMult,
            isDwarf=false, inHeavy=false, inMedium=false;
            //TAS.debug("speed-modified=" + currMod + ", speed-run=" + currRun + ", current-load=" + load + ", speed-base=" + base + ", load-heavy=" + heavy + ", carried-total=" + carried);

            // #0: Armor, Shield & Load
            // #1: Armor & Shield only
            // #2: Load only
            // #3: None
            if (speedDropdown === 3) {
                newSpeed = base;
            } else {
                if (speedDropdown === 0 || speedDropdown === 2) {
                    if (load > 0) { //Medium Or Heavy load
                        if (carried > heavy) {
                            newLoadSpeed = 5;
                            newRun = 5;
                            runMult = 0;
                        } else {
                            if (base <= 5) { newLoadSpeed = 5; }
                            else if (base % 15 == 0) { newLoadSpeed = base * 2 / 3; }
                            else if ((base + 5) % 15 == 0) { newLoadSpeed = (base + 5) * 2 / 3; }
                            else { newLoadSpeed = ((base + 10) * 2 / 3) - 5; }

                            if (load > 1) { runMult -=1; } //Heavy load
                        }
                    } else { //Light load
                        newLoadSpeed = base;
                    }
                }
                //TAS.debug("newLoadSpeed=" + newLoadSpeed + ", newRun=" + newRun + ", runMult=" + runMult);

                //TAS.debug("race=" + v.race + ", armor-type=" + v["armor-type"] + ", armor-equipped=" + v["armor-equipped"] +
                //          ", armor2-type=" + v["armor2-type"] + ", armor2-equipped=" + v["armor2-equipped"] +
                //          ", armor3-type=" + v["armor3-type"] + ", armor3-equipped=" + v["armor3-equipped"]);
                if (speedDropdown === 0 || speedDropdown === 1) {
                    isDwarf = typeof v.race === "undefined" ? false : v.race.toLowerCase().indexOf("dwarf") >= 0;
                    inHeavy = (v["armor-type"] == "Heavy" && (v["armor-equipped"] == "1" || typeof v["armor-equipped"] === "undefined")) ||
                        (v["armor2-type"] == "Heavy" && (v["armor2-equipped"] == "1" || typeof v["armor2-equipped"] === "undefined")) ||
                        (v["armor3-type"] == "Heavy" && (v["armor3-equipped"] == "1" || typeof v["armor3-equipped"] === "undefined"));
                    inMedium = (v["armor-type"] == "Medium" && (v["armor-equipped"] == "1" || v["armor-equipped"] === "undefined")) ||
                        (v["armor2-type"] == "Medium" && (v["armor2-equipped"] == "1" || typeof v["armor2-equipped"] === "undefined")) ||
                        (v["armor3-type"] == "Medium" && (v["armor3-equipped"] == "1" || typeof v["armor3-equipped"] === "undefined"));
                    //TAS.debug("inHeavy=" + inHeavy + ", inMedium=" + inMedium + ", isDwarf=" + isDwarf);
                    if (inHeavy && runMult === origRunMult ) { runMult -= 1; } // Max x3 run in heavy armor
                    if (!isDwarf && (inHeavy || inMedium)) {
                        if (base <= 5) { newArmorSpeed = 5; }
                        else if (base % 15 == 0) { newArmorSpeed = base * 2 / 3; }
                        else if ((base + 5) % 15 == 0) { newArmorSpeed = (base + 5) * 2 / 3; }
                        else { newArmorSpeed = ((base + 10) * 2 / 3) - 5; }
                    } else {
                        newArmorSpeed = base;
                    }
                }
                //TAS.debug("newArmorSpeed=" + newArmorSpeed + ", runMult=" + runMult);
                newSpeed = Math.min(newLoadSpeed, newArmorSpeed);
                //TAS.debug("newSpeed=" + newSpeed + ", runMult=" + runMult);
            }

            if (runMult > 0) { newRun = newSpeed * runMult; }
            //TAS.debug("newRun=" + newRun);

            if (currMod !== newSpeed) { setAttrs({ "speed-modified": newSpeed }); }
            if (currRun !== newRun) { setAttrs({ "speed-run": newRun }); }
        });
    },

    /* updateGrapple
    * Ensures Grapple and Pin are mutually exclusive
    */
    updateGrapple = function () {
        getAttrs(["condition-Pinned", "condition-Grappled"], function (values) {
            if (values["condition-Pinned"] !== "0" && values["condition-Grappled"] !== "0") {
                setAttrs({ "condition-Pinned": "0" });
            } else {
                //user hit either pinned and it undid grapple, or hit grapple first time.
                updateConditionAbilityPenalty();
            }
        });
    },

    /* updatePin
    * Ensures Grapple and Pin are mutually exclusive
    */
    updatePin = function () {
        getAttrs(["condition-Pinned", "condition-Grappled"], function (values) {
            if (values["condition-Pinned"] !== "0" && values["condition-Grappled"] !== "0") {
                setAttrs({ "condition-Grappled": "0" });
            } else {
                //user hit grapple and it  undid pinned, or hit pinned first time.
                updateConditionAbilityPenalty();
            }
        });
    },


    /* updateInit
     * updates the init
     */
    updateInit = function () {
        SWUtils.updateRowTotal(["init", "init-ability-mod", "init-trait", "init-misc"], 0, ["condition-Deafened"]);
    },

    /*setWoundLevel sets would level based on current HP when you already have all fields.
    * sets  @{condition-Wounds} based on :
    *@hp current hp
    *@grazed {int} hp  value for grazed level
    *@wounded {int} hp value for wounded level
    *@critical {int} hp value for critical level
    *@currWounds {int}  value of @{condition-Wounds}
    */
    setWoundLevel = function(hp,grazed,wounded,critical,currWounds){
        var setWounds=0;
        if (hp <= grazed){
            if (hp > wounded) {
                setWounds=1;
            } else if (hp > critical) {
                setWounds=2;
            } else {
                setWounds=3;
            }
        }
        if (setWounds !== currWounds) {
            setAttrs({"condition-Wounds":setWounds});
        }
    },

    /*setWoundLevelLookup - looks up data needed to set current would level.
    * calls setWoundLevel
    * @hp {int} the current hit points. will look up if this is not set.
    */
    setWoundLevelLookup = function(hp){
        getAttrs(["HP","HP_grazed","HP_wounded","HP_critical","condition-Wounds"],function(v){
            if (isNaN(parseInt(hp,10))) {hp=parseInt(v["HP"],10)||0;}
            setWoundLevel(hp, parseInt(v["HP_grazed"],10)||0, parseInt(v["HP_wounded"],10)||0
            , parseInt(v["HP_critical"],10)||0, parseInt(v["condition-Wounds"],10)||0 );
        });
    },

    /*setWoundThreshholds - sets wound thresholds when you already have hp data.
    * Also calls setWoundLevel
    * @hp {int} = current hit points @{HP}
    * @maxHP {int} = max hp @{HP|max}
    * @currWoundLevel {int} = @{condition-Wounds}
    * @abilityMod {int} = usually @{CON-mod} or mod of whataver ability is used. 0 if no ability (like undead)
    */
    setWoundThreshholds = function(hp,maxHP,currWoundLevel,abilityMod) {
        var grazed=Math.floor(maxHP * 0.75)
            ,wounded=Math.floor(maxHP * 0.5)
            ,critical=Math.floor(maxHP * 0.25)
            ,disabled=(abilityMod>0?abilityMod:0) * -1;
        getAttrs(["HP_grazed","HP_wounded","HP_critical","HP_disabled"],function(v){
            var setter={},setAny=1;
            if ((parseInt(v["HP_grazed"],10)||0) !== grazed){
                setter["HP_grazed"]=grazed;
                setAny=1;
            }
            if ((parseInt(v["HP_wounded"],10)||0) !== wounded){
                setter["HP_wounded"]=wounded;
                setAny=1;
            }
            if ((parseInt(v["HP_critical"],10)||0) !== critical){
                setter["HP_critical"]=critical;
                setAny=1;
            }
            if ((parseInt(v["HP_disabled"],10)||0) !== disabled){
                setter["HP_disabled"]=disabled;
                setAny=1;
            }
            if (setAny){
                setAttrs(setter,{silent:true});
            }
        });
        setWoundLevel(hp,grazed,wounded,critical,currWoundLevel);
    },

    /*setWoundThreshholdsLookup
    * Sets wound thresholds by looking up values for "are we even useing wound threshold rules?" and the max hit points.
    * Calls the other setWoundThresholds
    * If Wound Threshholds are not used, makes sure that condition-Wounds is set to 0.
    */
    setWoundThreshholdsLookup = function(eventInfo){
        getAttrs(["HP","HP_max","wound_threshold-show","condition-Wounds","HP-ability-mod"],function(v){
            if (v["wound_threshold-show"]=="1") {
                setWoundThreshholds(parseInt(v["HP"],10)||0,parseInt(v["HP_max"],10)||0,parseInt(v["condition-Wounds"],10)||0,parseInt(v["HP-ability-mod"],10)||0);
            } else if ( (parseInt(v["condition-Wounds"],10)||0 ) > 0) {
                setAttrs({"condition-Wounds":"0"});
            }
        });
    },

    /* updateCurrHP- when updating hp, check nonLethalDmg level and wound threshold levels
    */
    updateCurrHP = function (hp,nonLethalDmg,usesWounds,hpAbility,hpAbilityMod,staggered,syncNPCHP) {
        //TAS.notice("at updateCurrHP");
        //TAS.debug("hp",hp,"NLD",nonLethalDmg,"usesWounds",usesWounds,"hpAbility",hpAbility,"hpAbilityMod",hpAbilityMod,"staggered",staggered);
        //TAS.debug("value is: " + (hp + (usesWounds?(1+hpAbilityMod):0)) );
        if (syncNPCHP) {
            setAttrs({"NPC-HP":hp},{silent:true});
        }
        if ( hpAbility != "0") {
            if ( nonLethalDmg >= (hp + (usesWounds?(1+hpAbilityMod):0)))  {
                setAttrs({"condition-Staggered":"1"});
            } else if (staggered=="1"){
                setAttrs({"condition-Staggered":"0"});
            }
        }
        if (usesWounds){
            setWoundLevelLookup(hp);
        }

    },

    /* updateCurrHPLookup - looks up data and calls updateCurrHP */
    updateCurrHPLookup = function() {
        getAttrs(["HP","non-lethal-damage","wound_threshold-show","HP-ability","HP-ability-mod","condition-Staggered","sync_npc_pc_hp"] , function(v) {
            //TAS.debug(v);
            updateCurrHP(parseInt(v["HP"],10)||0, parseInt(v["non-lethal-damage"],10)||0, v["wound_threshold-show"]=="1"?1:0
                ,v["HP-ability"], parseInt(v["HP-ability-mod"],10)||0, v["condition-Staggered"], parseInt(v["sync_npc_pc_hp"],10)||0 );
        });
    },

    /* updateMaxHP
     * sets max HP
     * @forceReset {boolean} = recalculates max HP and sets HP to it.
     */
    updateMaxHP = function (forceReset) {
        getAttrs(["HP","HP_max", "HP-ability", "HP-ability-mod", "level", "total-hp", "total-mythic-hp"
            , "condition-Drained", "HP-formula-mod", "HP-misc", "mythic-adventures-show", "sync_npc_pc_hp"
            , "wound_threshold-show", "condition-Wounds", "non-lethal-damage", "condition-Staggered"], function (v) {
            var abilityMod= parseInt(v["HP-ability-mod"], 10) || 0
                , newHPMax = (( abilityMod * (parseInt(v["level"], 10) || 0)) +
                     (parseInt(v["total-hp"], 10) || 0) +
                     (parseInt(v["HP-misc"], 10) || 0) +
                     (parseInt(v["HP-formula-mod"], 10) || 0) +
                     (5 * (parseInt(v["condition-Drained"], 10) || 0)))
                 + (v["mythic-adventures-show"] == "1" ? (parseInt(v["total-mythic-hp"], 10) || 0) : 0  )
                , currHPMax = parseInt(v["HP_max"], 10) || 0
                , currHP= parseInt(v["HP"],10)||0
                , nonLethal = parseInt(v["non-lethal-damage"],10)||0
                , newHP=0;
            if (forceReset || currHPMax !== newHPMax)  {
                newHP =  forceReset?newHPMax:(currHP + newHPMax - currHPMax);
                setAttrs({ "HP_max": newHPMax,  "HP":newHP },{silent:true});
                if (v["wound_threshold-show"] == "1") {
                    setWoundThreshholds(newHP,newHPMax,parseInt(v["condition-Wounds"],10)||0,abilityMod);
                }
                if (forceReset && nonLethal !== 0 ) {
                    setAttrs({"non-lethal-damage":0},{silent:true});
                    nonLethal=0;
                } else if (nonLethal > 0) {
                    //hardcode usesWounds to 0 since we just called setWoundThresholds which will do the same.
                    updateCurrHP (newHP, nonLethal, 0, v["HP-ability"], abilityMod, v["condition-Staggered"]);
                }
            }
        });
    },


    /* updateTempMaxHP
     * sets temp hp
     */
    updateTempMaxHP = function (forceReset) {
        getAttrs([ "HP-temp","HP-temp_max","HP-temp-misc", "buff_HP-temp-total"], function (v) {
            var  newHPTempMax = (parseInt(v["HP-temp-misc"], 10) || 0) + (parseInt(v["buff_HP-temp-total"], 10) || 0)
                ,currHPTemp = parseInt(v["HP-temp"],10)||0
                ,newHPTemp = forceReset?newHPTempMax:(currHPTemp + newHPTempMax - currHPTemp)
               ;
            if (forceReset || newHPTemp !== currHPTemp) {
                setAttrs({"HP-temp":newHPTemp,"HP-temp_max":newHPTempMax});
            }
        });
    },

    /*******************************NPC PAGE  *********************************************/

    /* updateNPCMaxHP
    * updates the NPC hp,
    * also PC hp, if config page says to
    */
    updateNPCMaxHP = function () {
        getAttrs(["NPC-HD", "NPC-HD-num", "NPC-HD2", "NPC-HD-num2", "NPC-HD-misc-mod", "NPC-HP_max", "NPC-HP", "sync_npc_pc_hp","wound_threshold-show","condition-Wounds"], function (v) {
            var newmaxhp = Math.floor(((parseInt(v["NPC-HD"], 10) || 0) + 1) / 2 * (parseInt(v["NPC-HD-num"], 10) || 0))
                    + Math.floor(((parseInt(v["NPC-HD2"], 10) || 0) + 1) / 2 * (parseInt(v["NPC-HD-num2"], 10) || 0))
                    + (parseInt(v["NPC-HD-misc-mod"], 10) || 0),
                currmaxhp = parseInt(v["NPC-HP_max"], 10) || 0,
                currhp = parseInt(v["NPC-HP"], 10) || 0,
                updatehp = parseInt(v.sync_npc_pc_hp, 10) || 0,
                newhp=currhp,
                setter = {}, setAny = 0;
            //TAS.debug("HHHHHHHHHHHHHHHHHHHHHHHHH updateNPCMaxHP, hp:" + hp + ", maxhp:" + maxhp);
            //TAS.debug(v);
            if (newmaxhp !== currmaxhp) {
                newhp=currhp+ newmaxhp - currmaxhp;
                setter["NPC-HP_max"] = newmaxhp;
                setter["NPC-HP"]= newhp;
                if (updatehp) {
                    setter["HP_max"] = newmaxhp;
                    setter["HP"]= newhp;
                }
                setAny = 1;
            }
            if (setAny) { setAttrs(setter,{silent:true}); }
            if (v["wound_threshold-show"]=="1"){
                //can we use the modifier as ability modifier, it has extra in it from toughness or racial.
                //parseInt(v["NPC-HD-misc-mod"], 10) || 0
                setWoundThreshholds(newhp,newmaxhp,parseInt(v["condition-Wounds"],10)||0,0);
            }
        });
    },

    updateCurrNPCHP = function () {
        getAttrs(["NPC-HP","sync_npc_pc_hp","wound_threshold-show"] , function(v) {
            var npchp = parseInt("NPC-HP",10)||0;
            //TAS.debug(v);
            //call updatecurrhp to see if wound threshold needs setting. pass "0" for ability
            //updateCurrHP(parseInt(v["NPC-HP"],10)||0,0,v["wound_threshold-show"]=="1"?1:0,"0",0,0,0);
            if (v["sync_npc_pc_hp"]=="1") {
                setAttrs({"HP":npchp},{silent:true});
            }
        });
    },

    /***********************************CLASS PAGE ***********************************/


    /* updateClassInformation
     * Updates totals at bottom of Class Information grid
     *
     * @col the unique part of the string for the cell modified:
     *   hp, fchp, bab, skill, fcskill, alt, Fort, Ref, Will, level
     */
    updateClassInformation = function (col) {
        if (!col) { return; }
        if (col === "fchp") { col = "hp"; }
        var getFields = [], totalColName,
            col0Name = "class-0-" + col, col1Name = "class-1-" + col, col2Name = "class-2-" + col
            , col3Name = "class-3-" + col, col4Name = "class-4-" + col, col5Name = "class-5-" + col
            , col0NameTwo, col1NameTwo, col2NameTwo, col3NameTwo, col4NameTwo, col5NameTwo;
        totalColName = (col === "bab" || col === "level") ? col : "total-" + col;
        getFields = [totalColName, col0Name, col1Name, col2Name, col3Name, col4Name, col5Name];
        if (col !== "skill") {
            if (col === "hp") {
                col0NameTwo = "class-0-fc" + col;
                col1NameTwo = "class-1-fc" + col;
                col2NameTwo = "class-2-fc" + col;
                col3NameTwo = "class-3-fc" + col;
                col4NameTwo = "class-4-fc" + col;
                col5NameTwo = "class-5-fc" + col;
                getFields = getFields.concat([col0NameTwo, col1NameTwo, col2NameTwo, col3NameTwo, col4NameTwo, col5NameTwo]);
            }
            //TAS.debug(getFields);
            SWUtils.updateRowTotal(getFields);
        } else {
            col0NameTwo = "class-0-level";
            col1NameTwo = "class-1-level";
            col2NameTwo = "class-2-level";
            col3NameTwo = "class-3-level";
            col4NameTwo = "class-4-level";
            col5NameTwo = "class-5-level";
            getFields = getFields.concat([col0NameTwo, col1NameTwo, col2NameTwo, col3NameTwo, col4NameTwo, col5NameTwo]);
            //TAS.debug(getFields);
            getAttrs(getFields, function (v) {
                var setter = {}, currTot,
                tot = Math.floor((parseFloat(v[col0Name], 10) || 0) * (parseInt(v[col0NameTwo], 10) || 0) +
                        (parseFloat(v[col1Name], 10) || 0) * (parseInt(v[col1NameTwo], 10) || 0) +
                        (parseFloat(v[col2Name], 10) || 0) * (parseInt(v[col2NameTwo], 10) || 0) +
                        (parseFloat(v[col3Name], 10) || 0) * (parseInt(v[col3NameTwo], 10) || 0) +
                        (parseFloat(v[col4Name], 10) || 0) * (parseInt(v[col4NameTwo], 10) || 0) +
                        (parseFloat(v[col5Name], 10) || 0) * (parseInt(v[col5NameTwo], 10) || 0));
                currTot = parseInt(v[totalColName], 10);
                //TAS.debug("tot is " + tot + ", currtot = " + currTot);
                if (isNaN(currTot) || tot !== currTot) {
                    setter[totalColName] = tot;
                    setAttrs(setter);
                }
            });
        }
    },


    /*****MYTHIC ***************/

    /* updateMythicPathInformation
    * Updates total at bottom of Mythic Path Information grid
    */
    updateMythicPathInformation = function () {
        getAttrs(["mythic-tier", "mythic-hp", "total-mythic-hp"], function (values) {
            var tot = (parseInt(values["mythic-tier"], 10) || 0) * (parseInt(values["mythic-hp"], 10) || 0),
            currTot = parseInt(values["total-mythic-hp"], 10) || 0;
            //TAS.debug("tot=" + tot + ", currTot=" + currTot);
            if (currTot !== tot) { setAttrs({ "total-mythic-hp": tot }); }
        });
    },

    /* updateTierMythicPower
    * sets tier mp
    */
    updateTierMythicPower = function () {
        //TAS.debug("entered updateTierMythicPower");
        getAttrs(["tier-mythic-power", "mythic-tier"], function (values) {
            var totalTier = 3 + 2 * (parseInt(values["mythic-tier"], 10) || 0),
            curr = parseInt(values["tier-mythic-power"], 10) || 0;
            //TAS.debug("totalTier=" + totalTier + ", curr=" + curr);
            if (curr !== totalTier) { setAttrs({ "tier-mythic-power": totalTier }); }
        });
    },

    /*****PSIONIC ***************/

    updatePsionicBonusPower = function () {
        getAttrs(["selected-ability-psionic-power", "psionic-level-total", "ability-psionic-power"], function (v) {
            SWUtils.evaluateExpression(v["selected-ability-psionic-power"], function (value) {
                var ability =(typeof value !== "undefined" && value !== null && !isNaN(value)) ? (parseInt(value, 10) || 0) : 0
                ,currentTotal = parseInt(v["ability-psionic-power"], 10) || 0
                ,newTotal = Math.floor(ability * (parseInt(v["psionic-level-total"], 10) || 0) * 0.5);
                //TAS.debug("ability=" + ability, "newTotal=" + newTotal, "currentTotal=" + currentTotal);
                if (currentTotal !== newTotal) { setAttrs({ "ability-psionic-power": newTotal }); }
            });
        });
    },

    /***********************************DEFENSE PAGE ***********************************/

    /*updateConditionDefensePenalty
    * Updates the AC-penalty and CMD-penalty field based on conditions
    *only difference is CMD penalty affected by energy drain for some reason
    */
    updateConditionDefensePenalty = function (eventInfo) {
        getAttrs(["AC-penalty","CMD-penalty","condition-Blinded", "condition-Cowering", "condition-Stunned"
            ,"condition-Pinned", "condition-Wounds","condition-Drained"],function(v){
            var subTotPenalty= -1 * ( (parseInt(v["condition-Blinded"],10)||0) +
                     (parseInt(v["condition-Cowering"],10)||0) + (parseInt(v["condition-Stunned"],10)||0) +
                     (parseInt(v["condition-Pinned"],10)||0) + (parseInt(v["condition-Wounds"],10)||0) )
                , drained = parseInt(v["condition-Drained"],10)||0
                , AC = parseInt(v["AC-penalty"],10)||0
                , CMD = parseInt(v["CMD-penalty"],10)||0
                , newCMD = drained + subTotPenalty
                , setter={}, setAny=0;
                if (AC !== subTotPenalty) {
                    setter["AC-penalty"]=subTotPenalty;
                    setAny=1;
                }
                if (CMD !== newCMD) {
                    setter["CMD-penalty"]=newCMD;
                    setAny=1;
                }
                if (setAny) {
                    setAttrs(setter);
                }
        });
    },


    /* updateDefenses
     * updates the top grid of AC, Touch AC, Flat Footed AC, CMD, Flat Footed CMD
     * http://paizo.com/pathfinderRPG/prd/coreRulebook/combat.html#combat-maneuver-defense
     * A creature can also add any circumstance, deflection, dodge, insight, luck, morale, profane, and sacred bonuses to AC to its CMD.
     * Any penalties to a creature's AC also apply to its CMD
     *
     */
    updateDefenses = function (eventInfo) {
        getAttrs(["AC-ability-mod", "FF-DEX", "AC-penalty", "CMD-penalty", "size", "max-dex",
            "AC-dodge", "AC-natural", "AC-deflect", "AC-misc", "buff_AC-total", "buff_Touch-total", 
			"buff_CMD-total","CMD-DEX", "FF-CMD-DEX", "CMD-STR", "bab", "CMD-misc",
            "AC", "Touch", "Flat-Footed", "CMD", "FF-CMD", "AC-ability", "FF-ability",
			"CMD-ability","CMD-ability1", "CMD-ability2",  "AC-armor", "AC-shield",
            "condition-Blinded", "condition-Pinned", "condition-Stunned", "condition-Cowering", 
			"condition-Drained","condition-Flat-Footed","AC-ability-display", "FF-DEX-display", 
			"CMD-DEX-display", "FF-CMD-DEX-display","maxdex-toggle","nodex-toggle","uncanny_dodge"], function (v) {
                //TAS.debug("AAAAAAAAAAAAt update defenses");
                //TAS.debug(v);
                var size = parseInt(v["size"], 10) || 0,
                    dodge = parseInt(v["AC-dodge"], 10) || 0,
                    deflect = parseInt(v["AC-deflect"], 10) || 0,
                    miscAC = parseInt(v["AC-misc"], 10) || 0,
                    condPenalty = parseInt(v["AC-penalty"], 10) || 0,
                    buffs = parseInt(v["buff_AC-total"], 10) || 0,
                    buffsTouch = parseInt(v["buff_Touch-total"], 10) || 0,
                    buffsCMD = parseInt(v["buff_CMD-total"], 10) || 0,
                    armor = parseInt(v["AC-armor"], 10) || 0,
                    shield = parseInt(v["AC-shield"], 10) || 0,
                    natural = parseInt(v["AC-natural"], 10) || 0,
                    bab = parseInt(v["bab"], 10) || 0,
                    miscCMD = parseInt(v["CMD-misc"], 10) || 0,
                    maxDex = parseInt(v["max-dex"], 10),
                    ability = parseInt(v["AC-ability-mod"], 10) || 0,
                    ffAbility = parseInt(v["FF-DEX"], 10) || 0,
                    cmdAbility1 = parseInt(v["CMD-STR"], 10) || 0,
                    cmdAbility2 = parseInt(v["CMD-DEX"], 10) || 0,
                    cmdFFAbility2 = parseInt(v["FF-CMD-DEX"], 10) || 0,
                    cmdPenalty = parseInt(v["CMD-penalty"], 10) || 0,
                    blinded = (parseInt(v["condition-Blinded"], 10) || 0) ? 1 : 0,
                    pinned = (parseInt(v["condition-Pinned"], 10) || 0) ? 1 : 0,
                    stunned = (parseInt(v["condition-Stunned"], 10) || 0) ? 1 : 0,
                    ffed = (parseInt(v["condition-Flat-Footed"], 10) || 0) ? 1 : 0,
                    cowering = (parseInt(v["condition-Cowering"], 10) || 0) ? 1 : 0,
                    dexModShowLimit = 0,
                    currDexModLimit = parseInt(v["maxdex-toggle"],10)||0,
                    noDexShowLimit = 0,
                    currNoDexLimit = parseInt(v["nodex-toggle"],10)||0,
                    ac=10,touch=10,ff=10,cmd=10,cmdFF=10,
                    currAC = parseInt(v["AC"], 10),
                    currTouch = parseInt(v["Touch"], 10),
                    currFF = parseInt(v["Flat-Footed"], 10),
                    currCMD = parseInt(v["CMD"], 10),
                    currCMDFF = parseInt(v["FF-CMD"], 10),
                    uncannyAbility= findAbilityInString(v["FF-ability"]),
                    uncannyCMDability=findAbilityInString(v["CMD-ability"]),
                    acAbility = findAbilityInString(v["AC-ability"]),
                    cmdAbilityDDval=findAbilityInString(v["CMD-ability2"]),
                    currUncanny = parseInt(v["uncanny_dodge"],10)||0,
                    currCMDUncanny = parseInt(v["uncanny_cmd_dodge"],10)||0,
                    setter = {}, setAny = 0
                    ;

                //TAS.debug("DDDDDDDDDD updateDefenses size:" + size + ", dodge:" + dodge + ", misc:" + miscAC + ", def:" + 
				//deflect + ", cond:" + condPenalty + ", buff:" + buffs + ", armor:" + armor + ", shield:" + shield +
                  // ", natural:"+natural+", bab:"+bab+", miscCMD:"+miscCMD+", maxDex:"+maxDex+", stunned:"+stunned+", ability:"+ability+
                  // ", ffAbility:"+ffAbility+", cmdAbility1:"+cmdAbility1+",cmdAbility2:"+cmdAbility2 // +", cmdFFAbility2:"+cmdFFAbility2
                  // + ", blinded: "+blinded+", pinned:"+pinned +", cowering:"+cowering+", flat footed:"+ffed
                // +", ac ability :"+ acAbility +", FF ability :"+uncannyAbility+", CMD1 ability :"+v["CMD-ability1"]
                // +", CMD2 ability :"+cmdAbilityDDval + "ff cmd2 ability: " + uncannyCMDability
                 // +", uncannyAbility: "+ uncannyAbility +", currUncanny:"+currUncanny +", currdexmaxshow:"+currDexModLimit
                  // );

                maxDex = isNaN(maxDex) ? 99 : maxDex; //cannot do "||0" since 0 is falsy but a valid number
                if ((maxDex) < ability){
                    //assume ability, FF-ability, CMD-ability2 all set the same (or to "none" for ff)
                    dexModShowLimit=1;
                }
                //TAS.debug("maxDex:" + maxDex);
                if (acAbility === "DEX-mod" && maxDex < 99 && maxDex >= 0) {
                    ability = Math.min(ability, maxDex);
                    //TAS.debug("AC-ability is DEX-mod, ability=" + ability);
                }
                if (uncannyAbility === "DEX-mod" && maxDex < 99 && maxDex >= 0) {
                    ffAbility = Math.min(ffAbility, maxDex);
                    //TAS.debug("FF-ability is DEX-mod, ffAbility=" + ffAbility);
                }
                if (cmdAbilityDDval === "DEX-mod" && maxDex < 99 && maxDex >= 0) {
                    cmdAbility2 = Math.min(cmdAbility2, maxDex);
                    //TAS.debug("CMD-ability2 is DEX-mod, cmdAbility2=" + cmdAbility2);
                }
                if (uncannyCMDability === "DEX-mod" && maxDex < 99 && maxDex >= 0) {
                    cmdFFAbility2 = Math.min(cmdFFAbility2, maxDex);
                    //TAS.debug("CMD-ability is DEX-mod, cmdFFAbility2=" + cmdFFAbility2);
                }


                //if ability is below zero, FF dex adj must be set to negative too
                //ffability dropdown should be None or the same as dex ability
                //if not then it doesn't make sense
                if (ability < 0 && ffAbility > ability ) {
                    ffAbility= ability;
                }
                if (cmdAbility2 < 0 && cmdFFAbility2 > cmdAbility2 ) {
                    cmdFFAbility2= cmdAbility2;
                }

                //has uncanny dodge? - this checks dropdown not value
                if (uncannyAbility && currUncanny===0){
                    //TAS.debug("switching to uncanny");
                    setter["uncanny_dodge"]="1";
                    setAny=1;
                    currUncanny=1;
                } else if (!uncannyAbility && currUncanny ===1){
                    //TAS.debug("switching from uncanny");
                    setter["uncanny_dodge"]="0";
                    setAny=1;
                    currUncanny=0;
                }
                if (uncannyCMDability && currCMDUncanny===0){
                    //TAS.debug("switching to cmd uncanny");
                    setter["uncanny_cmd_dodge"]="1";
                    setAny=1;
                    currCMDUncanny=1;
                } else if (!uncannyCMDability && currCMDUncanny ===1){
                    //TAS.debug("switching from cmd uncanny");
                    setter["uncanny_cmd_dodge"]="0";
                    setAny=1;
                    currCMDUncanny=0;
                }

                //lose Dex: you lose your bonus (and dodge) - not the same as flat footed
                //Must be applied even if your bonus is not dex :
                //http://paizo.com/paizo/faq/v5748nruor1fm#v5748eaic9qdi

                //flat footed : lose dex unless uncanny
                //blinded: lose dex unless uncanny
                //pinned, cowering, stunned : always lose dex
                if  (pinned || cowering || stunned)  {
                    ffAbility = Math.min(0, ffAbility);
                    dexModShowLimit=1;
                    ability = ffAbility;
                    cmdFFAbility2 = Math.min(0, cmdFFAbility2);
                    cmdAbility2 = cmdFFAbility2;
                    dodge = 0;
                    noDexShowLimit=1;
                } else if  (blinded || ffed) {
                    //TAS.debug("we are blinded or flat footed uncanny:"+currUncanny+", cmd uncan:"+currCMDUncanny);
                    if (!currUncanny && !currCMDUncanny){
                        dexModShowLimit=1;
                        dodge = 0;
                        noDexShowLimit=1;
                    }
                    ability = ffAbility;
                    cmdAbility2 = cmdFFAbility2;
                }


                ac = 10 + armor + shield + natural + size + dodge + ability + deflect + miscAC + condPenalty + buffs;
                touch = 10 + size + dodge + ability + deflect + miscAC + condPenalty + buffsTouch;
                ff = 10 + armor + shield + natural + size + ffAbility + deflect + miscAC + condPenalty + buffs + (currUncanny ? dodge : 0);
                cmd = 10 + bab + cmdAbility1 + cmdAbility2 + (-1 * size) + dodge + deflect + miscCMD + cmdPenalty + buffsCMD;
                cmdFF = 10 + bab + cmdAbility1 + cmdFFAbility2 + (-1 * size) + deflect + miscCMD + cmdPenalty + buffsCMD + (currCMDUncanny ? dodge : 0);

                //TAS.debug("ac=" + ac + ", touch=" + touch + ", ff=" + ff + ", cmd=" + cmd + ", cmdFF=" + cmdFF);


                //TAS.debug("currAC=" + currAC + ", currTouch=" + currTouch + ", currFF=" + currFF + ", currCMD=" + currCMD + ", currCMDFF=" + currCMDFF);
                //default 10
                if (ac !== currAC || isNaN(currAC)) { setter["AC"] = ac; setAny += 1; }
                if (touch !== currTouch || isNaN(currTouch)) { setter["Touch"] = touch; setAny += 1; }
                if (ff !== currFF || isNaN(currFF)) { setter["Flat-Footed"] = ff; setAny += 1; }
                if (cmd !== currCMD || isNaN(currCMD)) { setter["CMD"] = cmd; setAny += 1; }
                if (cmdFF !== currCMDFF || isNaN(currCMDFF)) { setter["FF-CMD"] = cmdFF; setAny += 1; }
                //default 0
                if (ability !== (parseInt(v["AC-ability-display"], 10))) { setter["AC-ability-display"] = ability; setAny += 1;
                    //TAS.debug("setting AC-ability-display to "+ability); 
					}
                if (ffAbility !== (parseInt(v["FF-DEX-display"], 10))) { setter["FF-DEX-display"] = ffAbility; setAny += 1;
                    //TAS.debug("setting FF-DEX-display to "+ffAbility); 
					}
                if (cmdAbility2 !== (parseInt(v["CMD-DEX-display"], 10))) { setter["CMD-DEX-display"] = cmdAbility2; setAny += 1;
                    //TAS.debug("setting CMD-DEX-display to "+cmdAbility2);
					}
                if (cmdFFAbility2 !== (parseInt(v["FF-CMD-DEX-display"], 10))) { setter["FF-CMD-DEX-display"] = cmdFFAbility2; setAny += 1; }

                if (dexModShowLimit !== currDexModLimit){
                    setter["maxdex-toggle"]=dexModShowLimit;
                    setAny=1;
                }
                if (noDexShowLimit !== currNoDexLimit ){
                    setter["nodex-toggle"]=noDexShowLimit;
                    setAny=1;
                }

                if (setAny) {
                    setAttrs(setter);
                }

            });
    },

    /*handleDefenseDropdown
    * All dropdowns in the defense grid: AC, flat footed AC, touch, CMD, flat footed CMD.
    * calls handledropdown then calls updateDefenses.
    *
    * NOTE: due to the way eventInfo.sourceAttribute is populated if the change comes from the autocalc code, the value is
    * lower case, so you must check either BOTH the regular and all lowercase, or just change it to lower case before comparing to be sure
    *
    * @dropdownField {string} = fieldname of dropdown, FROM eventInfo.sourceAttribute
    */
    handleDefenseDropdown = function (dropdownField) {
        //TAS.debug("at handleDefenseDropdown:" + dropdownField);
        switch (dropdownField.toLowerCase()) {
            case "cmd-ability1":
                handleDropdown("CMD-ability1", "CMD-STR",function(newv,oldv){
                    if (newv !== oldv || newv < 0 || oldv < 0) {
                        updateDefenses();
                    }
                });
                break;
            case "ac-ability":
                handleDropdown("AC-ability", "AC-ability-mod",function(newv,oldv){
                    if (newv !== oldv || newv < 0 || oldv < 0) {
                        updateDefenses();
                    }
                });
                break;
            case "cmd-ability2":
                handleDropdown("CMD-ability2", "CMD-DEX",function(newv,oldv){
                    if (newv !== oldv || newv < 0 || oldv < 0) {
                        updateDefenses();
                    }
                });
                break;
            case "ff-ability":
                handleDropdown("FF-ability", "FF-DEX",function(){updateDefenses();});
                break;
            case "cmd-ability":
                handleDropdown("CMD-ability", "FF-CMD-DEX",function(){updateDefenses();});
                break;
        }
    },

    /*updateArmor
     * updates total AC and penalty and max dex
     * if not proficient sets attack penalty
    * for backward compatibility, proficiency is string and 0 is proficient, anything else non proficient
     */
    updateArmor = function () {
        var attribList = ["acp", "max-dex", "AC-armor", "AC-shield", "spell-fail", "acp-attack-mod", "max-dex-source", "acp-source", "current-load"];
        defenseArmorShieldRows.forEach(function (row) {
            defenseArmorShieldColumns.forEach(function (column) {
                attribList.push(row + "-" + column);
            });
        });
        //TAS.debug("at updateArmor");
        getAttrs(attribList, function (v) {
            //TAS.debug(v);
            var acp = 0, maxDex = 99, minAcp = 0, acA = 0, acS = 0, sp = 0, atk = 0
               , subAC = 0, subD = 0, subAcp = 0, nonProf = 0, subsp = 0
               , currACP = 0, currMaxDex = 99, currACArmor = 0, currACShield = 0, currSpellFail = 0, currAtkMod = 0
               , maxDexDropdown = parseInt(v["max-dex-source"], 10) || 0
               , acpDropdown = parseInt(v["acp-source"], 10)||0
               , setAny = 0
               , currentLoad = parseInt(v["current-load"], 10) || 0
               , setter = {}
            ;

            defenseArmorShieldRows.forEach(function (row) {
                if (v[row + "-equipped"] == "1") {
                    subAC = parseInt(v[row + "-acbonus"], 10) || 0;
                    subD = parseInt(v[row + "-max-dex"], 10); subD = isNaN(subD) ? 99 : subD; //cannot do "or 0" since 0 is valid but falsy
                    subAcp = parseInt(v[row + "-acp"], 10) || 0;
                    nonProf = parseInt(v[row + "-proficiency"], 10) || 0;//assume proficient 0 is messing with it //prof=isNaN(prof)?0:prof;//cannot do "||0" since 0 is valid but falsy
                    subsp = parseInt(v[row + "-spell-fail"], 10) || 0;
                    if (row.indexOf("armor") >= 0){
                        acA += subAC;
                    } else {
                        acS += subAC;
                    }
                    maxDex = Math.min(subD, maxDex);
                    acp += subAcp;
                    sp += subsp;
                    if (nonProf) { atk += subAcp; }
                    //TAS.debug("row=" + row + ", subAC=" + subAC + ", subD=" + subD + ", subAcp=" + subAcp + ", nonProf=" + nonProf + ", subsp=" + subsp + ", acA=" + acA + ", maxDex=" + maxDex + ", acp=" + acp + ", sp=" + sp + ", atk=" + atk);
                }
            });
            minAcp = acp;
            // #0: Armor, Shield & Load
            // #1: Armor & Shield only
            // #2: Load only
            // #3: None
            if (maxDexDropdown == 0 || maxDexDropdown == 2) {
                if (maxDexDropdown == 2) { maxDex = 99; }

                //carry capacity / encumbrance / load affect on max dex
                //TAS.debug("currentLoad=" + currentLoad);
                if (currentLoad == 1) { // under medium encumbrance load
                    maxDex = Math.min(maxDex, 3);
                    //TAS.debug("medium load adjusted maxDex=" + maxDex);
                } else if (currentLoad == 2) { // under heavy encumbrance load
                    maxDex = Math.min(maxDex, 1);
                    //TAS.debug("heavy load adjusted maxDex=" + maxDex);
                }
            } else if (maxDexDropdown == 3) {
                maxDex = 99;
            }

            // #0: Armor, Shield & Load
            // #1: Armor & Shield only
            // #2: Load only
            // #3: None
            if (acpDropdown == 0 || acpDropdown == 2) {
                if (acpDropdown == 2) { minAcp = 0; }

                //carry capacity / encumbrance / load affect on max dex
                //TAS.debug("currentLoad=" + currentLoad);
                if (currentLoad == 1) { // under medium encumbrance load
                    minAcp = Math.min(minAcp, -3 );
                    //TAS.debug("medium load adjusted acp=" + minAcp);
                } else if (currentLoad == 2) { // under heavy encumbrance load
                    minAcp = Math.min(minAcp, -6 );
                    //TAS.debug("heavy load adjusted acp=" + minAcp);
                }
            } else if (acpDropdown == 3) {
                minAcp = 0;
            }

            currACP = parseInt(v.acp, 10) || 0;
            currMaxDex = parseInt(v["max-dex"], 10);//cannot do "||0" since 0 is valid but falsy
            //TAS.debug("currMaxDex:" + currMaxDex);
            currMaxDex = isNaN(currMaxDex) ? 99 : currMaxDex;

            currACArmor = parseInt(v["AC-armor"], 10) || 0;
            currACShield = parseInt(v["AC-shield"], 10) || 0;
            currSpellFail = parseInt(v["spell-fail"], 10) || 0;
            currAtkMod = parseInt(v["acp-attack-mod"], 10) || 0;

            //TAS.debug(v);
            //TAS.debug("curr atk mod:" + currAtkMod + ", curr acp:" + currACP + ", new acp:" + acp + ", currMaxDex:" + currMaxDex + ", new maxdex:" + maxDex);

            if (currACP !== minAcp) { setter["acp"] = minAcp; setAny = 1; }
            if (currMaxDex !== maxDex) { setter["max-dex"] = maxDex; setAny = 1; }
            if (currACArmor !== acA) { setter["AC-armor"] = acA; setAny = 1; }
            if (currACShield !== acS) { setter["AC-shield"] = acS; setAny = 1; }
            if (currSpellFail !== sp) { setter["spell-fail"] = sp; setAny = 1; }
            if (currAtkMod !== atk) { setter["acp-attack-mod"] = atk; setAny = 1; }
            if (setAny) {
                setAttrs(setter);
            }
        });
    },

    /*updateConditionsSavePenalty
    *  applies conditions to saves.
    */
    updateConditionsSavePenalty = function () {
        getAttrs(["condition-Fear", "condition-Sickened", "condition-Drained", "condition-Wounds", "saves-cond"], function (v) {
            var fear = parseInt(v["condition-Fear"], 10) || 0,
                sickened = parseInt(v["condition-Sickened"], 10) || 0,
                drained = parseInt(v["condition-Drained"], 10) || 0,
                wounds = parseInt(v["condition-Wounds"], 10) || 0,
                currCond = parseInt(v["saves-cond"], 10) || 0,
                newCond = drained - fear - sickened - wounds;
            if (currCond !== newCond) {
                setAttrs({ "saves-cond": newCond });
            }
        });
    },

    /* updateSave
    * updates the saves for a character
    * @save = type of save: Fort, Ref, Will  (first character capitalized)
    */
    updateSave = function (save) {
        SWUtils.updateRowTotal([save, "total-" + save, save + "-ability-mod", save + "-trait", save + "-enhance", save + "-resist", save + "-misc", "saves-cond", "buff_" + save + "-total"]);
    },


    /***********************************ATTACKS PAGE ***********************************/

    /*******TOP GRID **********/
    attackGridFields = {
        "Melee": { "size": "size", "atk": "attk-melee", "buff": "buff_Melee-total", "abilityMod": "melee-ability-mod", "misc": "attk-melee-misc" }
        , "Ranged": { "size": "size", "atk": "attk-ranged", "buff": "buff_Ranged-total", "abilityMod": "ranged-ability-mod", "misc": "attk-ranged-misc" }
        , "CMB": { "size": "CMD-size", "atk": "CMB", "buff": "buff_Melee-total", "abilityMod": "CMB-ability-mod", "misc": "attk-CMB-misc" }
    },


     /* updateDamage - conditions and buffs
      * calculates damage mod in top grid
    */
     updateDamage = function () {
        SWUtils.updateRowTotal(["DMG-mod", "buff_DMG-total"], 0, ["condition-Sickened"]);
     },

    /* updateConditionAttackPenalty
     *
     * updates the attk-penalty for attacks based on conditions (including wearing armor you are not proficient in)
     */
    updateConditionAttackPenalty = function () {
        var adds = ["attk-penalty", "condition-Invisible", "acp-attack-mod", "condition-Drained"]
            , subtracts = ["condition-Dazzled", "condition-Entangled", "condition-Grappled"
            , "condition-Fear", "condition-Sickened", "condition-Prone"
            , "condition-Wounds"];
        SWUtils.updateRowTotal(adds, 0, subtracts);
    },

    /* updates notes for attack grid
    */
    updateConditionAttackNote = function () {
        //grapple-attack-note
        //inivsible-attack-note

        getAttrs(["condition-Grappled", "condition-Invisible"], function (v) {
            var setter = {}, setAny = 0, gnote="", cnote="";
            if (v["condition-Grappled"] != "0") {
                gnote = "+" + v["condition-Grappled"] + " grapple";
            }
            if (v["condition-Invisible"] != "0") {
                cnote = "vs sighted, +ignore dex";
            }
            if ( v["attk-CMB-cnote"] !== gnote) {
                setter["attk-CMB-cnote"] = gnote;
                setAny = 1;
            }
            if ( v["attk-cnote"] !== cnote) {
                setter["attk-cnote"] = cnote;
                setAny = 1;
            }
            setAttrs(setter,{silent:true});
        });
    },


    /* updateAttack - updates one row of attack grid,
     * Updates the attack type totals at top of attack page for one row of grid
     *
    * @attype = the type of attack: Melee, Ranged, CMB  IS CASE SENSITIVE
     */
    updateAttack = function (attype, eventInfo) {
        if (eventInfo && eventInfo.sourceAttribute.toLowerCase() === "buff_melee-total") {
            updateAttack("CMB");
        }
        SWUtils.updateRowTotal([attackGridFields[attype].atk, "bab", "attk-penalty"
            , attackGridFields[attype].abilityMod, attackGridFields[attype].misc
            , attackGridFields[attype].size, attackGridFields[attype].buff]);
    },


    /****Attack and Damage Effect section ********/
    /* handles the attacks effects row
    */
    updateAttackEffectTotals = function () {
        getAttrs(["attk-effect-total",
            "attk-effect_mod_1", "attk-effect_mod_1_Toggle", "attk-effect_mod_2", "attk-effect_mod_2_Toggle",
            "attk-effect_mod_3", "attk-effect_mod_3_Toggle", "attk-effect_mod_4", "attk-effect_mod_4_Toggle"], function (v) {
                var attkEffectTot = ((v["attk-effect_mod_1_Toggle"] == "1") ? (parseInt(v["attk-effect_mod_1"], 10) || 0) : 0) +
                    ((v["attk-effect_mod_2_Toggle"] == "1") ? (parseInt(v["attk-effect_mod_2"], 10) || 0) : 0) +
                    ((v["attk-effect_mod_3_Toggle"] == "1") ? (parseInt(v["attk-effect_mod_3"], 10) || 0) : 0) +
                    ((v["attk-effect_mod_4_Toggle"] == "1") ? (parseInt(v["attk-effect_mod_4"], 10) || 0) : 0),
                currAttk = parseInt(v["attk-effect-total"], 10) || 0,
                setters = {};
                if (isNaN(currAttk) || currAttk !== attkEffectTot) {
                    setters["attk-effect-total"] = attkEffectTot;
                    setAttrs(setters);
                }
            });
    },

    /* handles the damage effects row
    */
    updateDMGEffectTotals = function () {
        getAttrs(["dmg-effect-total",
            "dmg-effect_mod_1", "dmg-effect_mod_1_Toggle", "dmg-effect_mod_2", "dmg-effect_mod_2_Toggle",
            "dmg-effect_mod_3", "dmg-effect_mod_3_Toggle", "dmg-effect_mod_4", "dmg-effect_mod_4_Toggle"], function (v) {
                var dmgEffectTot = ((v["dmg-effect_mod_1_Toggle"] == "1") ? (parseInt(v["dmg-effect_mod_1"], 10) || 0) : 0) +
                    ((v["dmg-effect_mod_2_Toggle"] == "1") ? (parseInt(v["dmg-effect_mod_2"], 10) || 0) : 0) +
                    ((v["dmg-effect_mod_3_Toggle"] == "1") ? (parseInt(v["dmg-effect_mod_3"], 10) || 0) : 0) +
                    ((v["dmg-effect_mod_4_Toggle"] == "1") ? (parseInt(v["dmg-effect_mod_4"], 10) || 0) : 0),
                currDmg = parseInt(v["dmg-effect-total"], 10) || 0,
                setters = {};
                if (isNaN(currDmg) || currDmg !== dmgEffectTot) {
                    setters["dmg-effect-total"] = dmgEffectTot;
                    setAttrs(setters);
                }
            });
    },



    /********* REPEATING WEAPON FIELDSET *********/
    /*handleRepeatingAttackDropdown
    */
    handleRepeatingAttackDropdown = function (id, eventInfo) {
        var idStr = getRepeatingIDStr(id), prefix = "repeating_weapon_" + idStr;
        //TAS.debug("TRACE:handleRepeatingAttackDropdown id:" + id + ", eventInfo is");
        //TAS.debug(eventInfo);
        //TAS.debug("TRACE end");
        if (isBadRowId("weapon", id, true)) {
            //TAS.error("handleRepeatingAttackDropdown, invalid id:" + id);
            return;
        }
        handleDropdown(prefix + "attack-type", prefix + "attack-type-mod");
    },

    /* handleRepeatingDamageDropdown
    * this is a special case of dropdown, because it contains a possible multiplier Damage ability dropdown.
    * better to split this into two
    */
    handleRepeatingDamageDropdown = function (id) {
        var idStr = getRepeatingIDStr(id)
        , readField = id ? "repeating_weapon_" + idStr + "damage-ability" : "repeating_weapon_damage-ability"
        , writeField = id ? readField + "-mod" : "repeating_weapon_damage-ability-mod";
        if (isBadRowId("weapon", id, true)) {
            //TAS.error("handleRepeatingDamageDropdown, invalid id:" + id);
            return;
        }
        getAttrs([readField, writeField], function (v) {
            var ability = findAbilityInString(v[readField]),
                mult = findMultiplier(v[readField]);
            getAttrs([ability], function (v2) {
                var basemod = parseInt(v2[ability], 10) || 0,
                    dmgmod = Math.floor(basemod * mult),
                    currentmod = parseInt(v[writeField], 10) || 0,
                    setter = {};
                if (dmgmod !== currentmod) {
                    setter[writeField] = dmgmod;
                    setAttrs(setter);
                    //short circuit
                    //updateRepeatingWeaponDamage(id,"damage-ability-mod",value);
                }
            });
        });
    },

    /* updateRepeatingWeaponAttack - calculates total-attack
    * also updates attk-effect-total-copy
    * @id {string} optional = id of row, if blank we are within the context of the row
    * @overrideAttr {string} optional = if we are passing in a value this is the fieldname after "repeating_weapon_"
    * @overrideValue {number} optional = if overrideAttr then this should be a number usually int but it won't check
    */
    updateRepeatingWeaponAttack = function (id, eventInfo) {
        //is it faster to not do the idstr each time? try it with ?:
        var idStr = getRepeatingIDStr(id)
        , enhanceField = "repeating_weapon_" + idStr + "enhance"
        , mwkField = "repeating_weapon_" + idStr + "masterwork"
        , attkTypeModField = "repeating_weapon_" + idStr + "attack-type-mod"
        , profField = "repeating_weapon_" + idStr + "proficiency"
        , attkMacroModField = "repeating_weapon_" + idStr + "attack-mod"
        , totalAttackField = "repeating_weapon_" + idStr + "total-attack"
        ;

        if (isBadRowId("weapon", id, true)) {
            TAS.error("updateRepeatingWeaponAttack, invalid id:" + id);
            return;
        }


        getAttrs([enhanceField, mwkField, attkTypeModField,  profField, attkMacroModField, totalAttackField], function (v) {
            var enhance = (parseInt(v[enhanceField], 10) || 0)
                , masterwork = (parseInt(v[mwkField], 10) || 0)
                , attkTypeMod = (parseInt(v[attkTypeModField], 10) || 0)
                , prof = (parseInt(v[profField], 10) || 0)
                , attkMacroMod = (parseInt(v[attkMacroModField], 10) || 0)
                , currTotalAttack = (parseInt(v[totalAttackField], 10) || 0)
                , newTotalAttack = 0
                , setter = {};

            newTotalAttack = Math.max(enhance, masterwork) + attkTypeMod + prof + attkMacroMod;
            if (newTotalAttack !== currTotalAttack || isNaN(currTotalAttack)) {
                setter[totalAttackField] = newTotalAttack;
                setAttrs(setter, { silent: true });
            }
        });
    },

    /* loops trough all rows and calls updateRepeatingWeaponAttack */
    updateRepeatingWeaponAttacks = function (eventInfo) {
        getSectionIDs("repeating_weapon", function (ids) {
            ids.forEach(function (id) {
                if (isBadRowId("weapon", id, false)) {
                    TAS.error("updateRepeatingWeaponAttack, invalid id:" + id);
                    return;
                }
                updateRepeatingWeaponAttack(id, eventInfo);
            });
        });
    },

    /* updateRepeatingWeaponDamage - updates total-damage
    * also updates  dmg-effect-total-copy and DMG-mod-copy
    */
    updateRepeatingWeaponDamage = function (id, eventInfo) {
        var idStr = getRepeatingIDStr(id),
            maxname = "repeating_weapon_" + idStr + "damage-ability-max",
            modname = "repeating_weapon_" + idStr + "damage-ability-mod",
            buffsCondsCopyField = "repeating_weapon_" + idStr + "DMG-mod-copy",
            totalDamageField="repeating_weapon_" + idStr + "total-damage",
            enhanceField="repeating_weapon_" + idStr + "enhance",
            dmgAddField= "repeating_weapon_" + idStr + "damage-mod";
        if (isBadRowId("weapon", id, true)) {
            TAS.error("updateRepeatingWeaponDamage, invalid id:" + id);
            return;
        }
        getAttrs([maxname, modname, buffsCondsCopyField, "DMG-mod", totalDamageField,enhanceField, dmgAddField], function (v) {
            var setter = {}, 
                max = parseInt(v[maxname], 10),
                ability = parseInt(v[modname], 10) || 0,
                dmgBuffsConds = parseInt(v["DMG-mod"], 10) || 0,
                currDmgMod = parseInt(v[buffsCondsCopyField], 10) || 0,
                currTotalDmg = parseInt(v[totalDamageField], 10) ,
                dmgAdditional = parseInt(v[dmgAddField], 10) || 0,
                enhance = parseInt(v[enhanceField], 10) || 0,
                totalDamage=0;
            if (isNaN(max)|| max <= 0 ) { max = 9999; }
            ability = Math.min(max, ability) ;
            totalDamage=ability + dmgBuffsConds+dmgAdditional+enhance;
            if (totalDamage !== currTotalDmg || isNaN(currTotalDmg)){
                setter[totalDamageField]=totalDamage;
            }
            if (dmgBuffsConds !== currDmgMod) {
                setter[buffsCondsCopyField] = dmgBuffsConds;
            }
            if (_.size(setter)>0) {
                setAttrs(setter, { silent: true });
            }
        });
    },

    /*  loops trough all rows and calls updateRepeatingWeaponDamage */
    updateRepeatingWeaponDamages = function (eventInfo) {
        getSectionIDs("repeating_weapon", function (ids) {
            ids.forEach(function (id) {
                updateRepeatingWeaponDamage(id, eventInfo);
            });
        });
    },


    /*****************************************SKILLS PAGE ********************************/

    /* updateMaxSkills Calculates maximum skill ranks. Minimum 1 per level.
    *  divides by 2 if using consolidated skills
    */
    updateMaxSkills = function (eventInfo) {
        getAttrs(["total-skill", "total-fcskill", "INT-mod", "level", "Max-Skill-Ranks-mod", "Max-Skill-Ranks", "Max-Skill-Ranks-Misc2",
            "unchained_skills-show", "BG-Skill-Use"], function (v) {
                var intMod = parseInt(v["INT-mod"], 10) || 0,
                    classSkills = parseInt(v["total-skill"], 10) || 0,
                    otherMod = parseInt(v["Max-Skill-Ranks-Misc2"], 10) || 0,
                    level = parseInt(v.level, 10) || 0,
                    fcSkills = parseInt(v["total-fcskill"], 10) || 0,
                    extra = parseInt(v["Max-Skill-Ranks-mod"], 10) || 0,
                    currSkills = parseInt(v["Max-Skill-Ranks"], 10) || 0,
                    totIntMod, classPlusInt, totAllSkills,
                    setter = {}, setAny = 0;
                totIntMod = intMod * level;
                classPlusInt = classSkills + totIntMod;
                if (v["unchained_skills-show"] == "1" && (!v["BG-Skill-Use"] || v["BG-Skill-Use"] == "0")) {
                    classPlusInt = Math.floor(classPlusInt / 2);
                }
                if (classPlusInt < level) { classPlusInt = level; }
                totAllSkills = classPlusInt + fcSkills + extra + otherMod;
                if (currSkills !== totAllSkills) { setter["Max-Skill-Ranks"] = totAllSkills; setAny++; }
                if (setAny) { setAttrs(setter); }
            });
    },


    /*verifyHasSkill
    * Checks to see if you should bother updating the skill after an event.
    * @skill {string} = the skill name
    * @callback {function} = a function that takes a a boolean as a first parameter.
    *   called with true if you should update, or false if not.
    */
    verifyHasSkill = function (skill, callback) {
        var first3, first4, core = false, bg = false, cs = false;
        if (skill && typeof callback === "function") {
            first4 = skill.slice(0, 4).toLowerCase();
            first3 = first4.slice(0, 3);
            if (first3 === 'cs-') {
                cs = true;
            } else if (first4 === 'arti' || first4 === 'lore') {
                bg = true;
            } else {
                core = true;
            }

            getAttrs(["BG-Skill-Use", "unchained_skills-show"], function (v) {
                var retval = false;
                //TAS.debug("verifyHasSkill",skill,"first4",first4,"cs",cs,"bg",bg,"core",core,"getAttrs",v);
                if (core) {
                    if  (v["unchained_skills-show"] == "0" || v["BG-Skill-Use"] == "1") {
                        retval = true;
                    }
                } else if (bg) {
                    if (v["unchained_skills-show"] == "1" && v["BG-Skill-Use"] == "1") {
                        retval = true;
                    }
                } else {
                    if (v["unchained_skills-show"] == "1" && v["BG-Skill-Use"] == "0") {
                        retval = true;
                    }
                }
                //TAS.debug("verifyHasSkill: returning "+retval);
                callback(retval);
            });
        }
    },

    /* updates one  skill row
    * @skill {string} skill to update, must have same capitalization as on HTML
    * @ability {string} {optional} = the value of the ability dropdown
    * @abilityMod {string} {optional} = the value of the ability mod
    */
    updateSkill = function (skill,silently) {
        var csNm = skill + "-cs",
        ranksNm = skill + "-ranks",
        classNm = skill + "-class",
        abNm = skill + "-ability",
        modNm = skill + "-ability-mod",
        racialNm = skill + "-racial",
        featNm = skill + "-feat",
        itemNm = skill + "-item",
        miscNm = skill + "-misc-mod";
        //rtNm = skill + "-ReqTrain";
        verifyHasSkill(skill, function (hasSkill) {
            if (hasSkill) {
                getAttrs([skill, csNm, ranksNm, classNm, abNm, modNm, racialNm, featNm, itemNm, miscNm, //rtNm
                "size_skill", "size_skill_double", "acp", "checks-cond", "Phys-skills-cond", "Perception-cond"], function (v) {

                    var skillSize = 0, adj, skillTot = 0, setter = {}, mods = "", setAny = 0, cond = 0,
                    cs = parseInt(v[csNm], 10) || 0,
                    currSkill = parseInt(v[skill], 10),//no default
                    ranks = parseInt(v[ranksNm], 10) || 0,
                    //rt = parseInt(v[rtNm], 10) || 0,
                    allCond = parseInt(v["checks-cond"], 10) || 0,
                    abilityName = findAbilityInString(v[abNm]),
                    physCond = 0, perCond = 0,
                    params = {silent:false};

                    if (ranks && cs) {
                        skillTot += 3;
                        mods = "3/";
                    } else {
                        mods = "0/";
                    }
                    if (abilityName === "DEX-mod" || abilityName === "STR-mod") {
                        adj = parseInt(v["acp"], 10) || 0;
                        skillTot += adj;
                        mods += adj + "/";
                    } else {
                        mods += "0/";
                    }
                    skillSize = sizeSkills[skill];
                    if (skillSize) {
                        if (skillSize === 1) {
                            adj = parseInt(v["size_skill"], 10) || 0;
                            skillTot += adj;
                            mods += adj + "/";
                        } else if (skillSize === 2) {
                            adj = parseInt(v["size_skill_double"], 10) || 0;
                            skillTot += adj;
                            mods += adj + "/";
                        }
                    } else {
                        mods += "0/";
                    }
                    if (abilityName === "DEX-mod" || abilityName === "STR-mod") {
                        physCond = parseInt(v["Phys-skills-cond"], 10) || 0;
                    }
                    if (skill === "Perception" || skill === "CS-Perception") {
                        perCond = parseInt(v["Perception-cond"], 10) || 0;
                    }
                    cond = allCond + physCond + perCond;
                    mods += cond;

                    skillTot += ranks + cond + (parseInt(v[modNm], 10) || 0) + (parseInt(v[racialNm], 10) || 0) +
                        (parseInt(v[featNm], 10) || 0) + (parseInt(v[itemNm], 10) || 0) + (parseInt(v[miscNm], 10) || 0);

                    if (currSkill !== skillTot) {
                        setter[skill] = skillTot;
                        setAny++;
                    }


                    if ((v[classNm] || "0/0/0/0") !== mods) {
                        setter[classNm] = mods;
                        setAny++;
                    }
                    if (setAny) {
                        //TAS.debug({"function":"updateSkill","currSkill":currSkill,"newSkill":skillTot,"oldmods":v[classNm],"mods":mods });
                        if (silently) {
                            params.silent=true;
                        }
                        setAttrs(setter,params);
                    }
                });
            }
        });
    },

    /******ITEMS PAGE ********/
    /* migrateMaxDexAndACP  on defense page
    * sets old dropdown values to new ones, make sure to only call this if version > 0 (did not hit recalc button)
    * we only care if they set it to none, all others leave as armor and load.
    */
    migrateMaxDexAndACP = function(){
        getAttrs(["max-dex-source","acp-source"],function(v){
            var newAcp=0, newMaxDex=0, currAcp=v["acp-source"], currMaxDex=v["max-dex-source"];
            if (currMaxDex=="9999") { newMaxDex=3; }
            if (currAcp=="0") {newAcp=3;}
            setAttrs({"acp-source":newAcp,"max-dex-source":newMaxDex});
        });
    },

    /* updateWornEquipment
     * updates the totals for worn equipment
     *
    * col can be: charges, weight, hp, hp_max, or value (see wornEquipmentColumns)
     */
    updateWornEquipment = function (col) {
        var attribList = ["worn-total-" + col];
        wornEquipmentRows.forEach(function (slot) {
            attribList.push("worn-" + slot + "-" + col);
        });
        SWUtils.updateRowTotal(attribList,null,null,true);
    },

    updateRepeatingItems = function () {
        TAS.repeating('item')
            .attrs('item_total_weight', 'item-total-hp', 'item-total-hp_max', 'item-total-value')
            .fields('weight', 'qty', 'qty_max', 'location', 'hp', 'hp_max', 'value')
            .reduce(function (m, r) {
                if (r.I.qty > 0 && r.I.location == 0) {
                    if (r.I.qty_max == 0) {
                        m.weight += r.F.weight * r.I.qty;
                    } else {
                        m.weight += r.F.weight;
                    }
                }
                m.hp += r.I.hp;
                m.hp_max += r.I.hp_max;
                m.value += r.I.value;
                return m;
            }, {
                weight: 0,
                hp: 0,
                hp_max: 0,
                value: 0
            }, function (m, r, a) {
                a.S['item_total_weight'] = m.weight;
                a.S['item-total-hp'] = m.hp;
                a.S['item-total-hp_max'] = m.hp_max;
                a.S['item-total-value'] = m.value;
            })
            .execute();
    },

    /* updateCarriedCurrency
     * updates the total for carried currency
     *
     */
    updateCarriedCurrency = function () {
        getAttrs(["CP", "SP", "GP", "PP", "carried-currency"], function (v) {
            var curr = parseInt(v["carried-currency"], 10) || 0,
            carried = ((parseInt(v["CP"], 10) || 0) + (parseInt(v["SP"], 10) || 0) + (parseInt(v["GP"], 10) || 0) + (parseInt(v["PP"], 10) || 0)) / 50;
            //TAS.debug("curr=" + curr + ", carried=" + carried);
            if (curr !== carried) { setAttrs({ "carried-currency": carried }); }
        });
    },

    /* updateCarriedTotal
     * updates the total for carried weight
     */
    updateCarriedTotal = function () {
        getAttrs(["carried-currency", "item_total_weight", "worn-total-weight", "carried-misc", "carried-total"], function (v) {
            var curr = parseFloat(v["carried-total"], 10) || 0,
            carried = ((parseFloat(v["carried-currency"], 10) || 0) * 100 + (parseFloat(v["item_total_weight"], 10) || 0) * 100 + (parseFloat(v["worn-total-weight"], 10) || 0) * 100 + (parseFloat(v["carried-misc"], 10) || 0) * 100) / 100; // Fix bad javascript math
            //TAS.debug("curr=" + curr + ", carried=" + carried);
            //carried = Math.round(carried);
            if (curr !== carried) { setAttrs({ "carried-total": carried }); }
        });
    },

    /* updateCurrentLoad
     * updates the current load radio button
     */
    updateCurrentLoad = function () {
        getAttrs(["load-light", "load-medium", "current-load", "carried-total"], function (v) {
            var curr = parseInt(v["current-load"], 10) || 0,
            carried = parseInt(v["carried-total"], 10) || 0,
            light = parseInt(v["load-light"], 10) || 0,
            medium = parseInt(v["load-medium"], 10) || 0;
            //TAS.debug("current-load=" + curr + ", carried-total=" + carried + ", load-light=" + light + ", load-medium=" + medium);
            if (carried <= light) {
                //TAS.debug("light load");
                if (curr !== 0) { setAttrs({ "current-load": 0 }); }
            } else if (carried <= medium) {
                //TAS.debug("medium load");
                if (curr !== 1) { setAttrs({ "current-load": 1 }); }
            } else {
                //TAS.debug("heavy load");
                if (curr !== 2) { setAttrs({ "current-load": 2 }); }
            }
        });
    },

    // Returns the carrying capacity for a given strength score and load type
    // Will recursively calculate for strength scores over 29
    getCarryingCapacity = function (str, load) {
        var l, m, h, r;
        switch (str) {
            case 0: l = 0; m = 0; h = 0; break;
            case 1: l = 3; m = 6; h = 10; break;
            case 2: l = 6; m = 13; h = 20; break;
            case 3: l = 10; m = 20; h = 30; break;
            case 4: l = 13; m = 26; h = 40; break;
            case 5: l = 16; m = 33; h = 50; break;
            case 6: l = 20; m = 40; h = 60; break;
            case 7: l = 23; m = 46; h = 70; break;
            case 8: l = 26; m = 53; h = 80; break;
            case 9: l = 30; m = 60; h = 90; break;
            case 10: l = 33; m = 66; h = 100; break;
            case 11: l = 38; m = 76; h = 115; break;
            case 12: l = 43; m = 86; h = 130; break;
            case 13: l = 50; m = 100; h = 150; break;
            case 14: l = 58; m = 116; h = 175; break;
            case 15: l = 66; m = 133; h = 200; break;
            case 16: l = 76; m = 153; h = 230; break;
            case 17: l = 86; m = 173; h = 260; break;
            case 18: l = 100; m = 200; h = 300; break;
            case 19: l = 116; m = 233; h = 350; break;
            case 20: l = 133; m = 266; h = 400; break;
            case 21: l = 153; m = 306; h = 460; break;
            case 22: l = 173; m = 346; h = 520; break;
            case 23: l = 200; m = 400; h = 600; break;
            case 24: l = 233; m = 466; h = 700; break;
            case 25: l = 266; m = 533; h = 800; break;
            case 26: l = 306; m = 613; h = 920; break;
            case 27: l = 346; m = 693; h = 1040; break;
            case 28: l = 400; m = 800; h = 1200; break;
            case 29: l = 466; m = 933; h = 1400; break;
            default:
                l = getCarryingCapacity(str - 10, "light") * 4;
                m = getCarryingCapacity(str - 10, "medium") * 4;
                h = getCarryingCapacity(str - 10, "heavy") * 4;
                break;
        }
        switch (load){
            case "light":r=l;break;
            case "medium":r=m;break;
            case "heavy":r=h;break;
        }
        return r;
    },

    /* updateLoadsAndLift
    * updates the load and lift numbers
    */
    updateLoadsAndLift = function () {
        getAttrs(["STR", "size", "legs", "load-light", "load-medium", "load-heavy", "lift-above-head", "lift-off-ground", "lift-drag-and-push",
            "load-str-bonus", "load-multiplier", "load-misc"], function (v) {
            var str = parseInt(v["STR"], 10) || 0,
            size = parseInt(v["size"], 10) || 0,
            legs = parseInt(v["legs"], 10) || 0,
            light = parseInt(v["load-light"], 10) || 0,
            medium = parseInt(v["load-medium"], 10) || 0,
            heavy = parseInt(v["load-heavy"], 10) || 0,
            aboveHead = parseInt(v["lift-above-head"], 10) || 0,
            offGround = parseInt(v["lift-off-ground"], 10) || 0,
            drag = parseInt(v["lift-drag-and-push"], 10) || 0,
            strMod = parseInt(v["load-str-bonus"], 10) || 0,
            loadMult = parseInt(v["load-multiplier"], 10) || 0,
            mult = 1,
            misc = parseInt(v["load-misc"], 10) || 0,
            l = getCarryingCapacity(str + strMod, "light") + misc,
            m = getCarryingCapacity(str + strMod, "medium") + misc,
            h = getCarryingCapacity(str + strMod, "heavy") + misc,
            a , o , d , setter = {}, setAny = 0;

            if (loadMult < 1) { loadMult = 1; }
            loadMult--;

            //TAS.debug("STR=" + str + ", legs=" + legs + ", load-light=" + light + ", load-medium=" + medium + ", load-heavy=" + heavy + ", lift-above-head=" + aboveHead + ", lift-off-ground=" + offGround + ", lift-drag-and-push=" + drag + ", load-str-bonus=" + strMod + ", load-multiplier=" + loadMult + ", load-misc=" + misc);

            if (legs == 2) {
                switch (size) {
                    case -8: mult = 16; break;
                    case -4: mult = 8; break;
                    case -2: mult = 4; break;
                    case -1: mult = 2; break;
                    case 1: mult = 3 / 4; break;
                    case 2: mult = 1 / 2; break;
                    case 4: mult = 1 / 4; break;
                    case 8: mult = 1 / 8; break;
                    default: mult=1;
                }
            } else if (legs == 4) {
                switch (size) {
                    case -8: mult = 24; break;
                    case -4: mult = 12; break;
                    case -2: mult = 6; break;
                    case -1: mult = 3; break;
                    case 0: mult = 1.5; break;
                    case 1: mult = 1; break;
                    case 2: mult = 3 / 4; break;
                    case 4: mult = 1 / 2; break;
                    case 8: mult = 1 / 4; break;
                    default: mult=1.5;
                }
            }
            mult += loadMult;
            l *= mult; m *= mult; h *= mult;
            a = h; o = h * 2; d = h * 5;

            //TAS.debug("new light load=" + l + ", new medium load=" + m + ", new heavy load=" + h + ", new above head=" + a + ", new off ground=" + o + ", new drag=" + d);
            if (light !== l) { setter["load-light"] = l; setAny = 1; }
            if (medium !== m) { setter["load-medium"] = m; setAny = 1; }
            if (heavy !== h) { setter["load-heavy"] = h; setAny = 1; }
            if (aboveHead !== a) { setter["lift-above-head"] = a; setAny = 1; }
            if (offGround !== o) { setter["lift-off-ground"] = o; setAny = 1; }
            if (drag !== d) { setter["lift-drag-and-push"] = d; setAny = 1; }
            if (setAny) { setAttrs(setter); }
        });
    },

    /***************************************** SPELL PAGE ****************************************/

    /**************************************** Spell Classes top section **************************************/

    /* calculateSpellRanges - returns {close:x, medium:y , long:z} for casterlevel */
    calculateSpellRanges = function (casterlevel) {
        casterlevel = casterlevel || 0;
        return {
            close: 25 + (5 * (Math.floor(casterlevel / 2)))
            , medium: 100 + (10 * casterlevel)
            , "long": 400 + (40 * casterlevel)
        };
    },

    findSpellRange = function (range, rangedropdown, casterlevel) {
        var newRange =0
		,ranges=calculateSpellRanges(casterlevel);
        casterlevel = casterlevel || 0;
		if (!rangedropdown){
			return 0;
		} 
		if (rangedropdown[0]==="{") {
			rangedropdown = rangedropdown.slice(2,rangedropdown.indexOf("="));
		}
		
        //TAS.debug("at find SpellRange. rangetext:"+range +", rangedropdown:"+rangedropdown+", area:"+area+", casterlevel:"+casterlevel);
        switch (rangedropdown) {
            case 'touch':
            case 'personal':
                newRange=0;
                break;
            case 'number':
            case 'custom':
                newRange = parseInt(range,10)||0;
                break;
            case 'perlevel':
                newRange=(parseInt(range,10)||0) * casterlevel;
                break;
            case 'close':
                newRange=ranges.close;
                break;
            case 'medium':
                newRange=ranges.medium;
                break;
            case 'long':
                newRange=ranges["long"];
                break;
            case 'see text':
            case 'blank':
                newRange="";
                break;
            default:
                newRange="";
                break;
        }
        //TAS.debug("returning range "+newRange+" for "+rangedropdown);
        return newRange;
    },


    /* ifSpellClassExists - returns whether a base spell level is filled in or not
    * @classIdx int = 0,1,2
    */
    ifSpellClassExists = function (classidx, callback) {
        //TAS.debug("ifSpellClassExists",classIdx,typeof callback);
        getAttrs(["spellclass-"+classidx+"-exists"], function (v) {
            if (v["spellclass-"+classidx+"-exists"]=="1") {
                if (typeof callback === "function") {
                    callback();
                } else {
                    TAS.error("ifSpellClassExists", "callback is not a function!: " + typeof callback);
                }
            }
        });
    },


    /* updates spellclasses_multiclassed flag */
    updateMultiClassedCasterFlag = function (dummy, eventInfo){
        getAttrs(["spellclass-0-exists", "spellclass-1-exists","spellclass-2-exists"], function(v){
            var multiclassed = parseInt(v["spellclasses_multiclassed"],10)||0;
            if ( ((parseInt(v["spellclass-0-exists"],10)||0) + (parseInt(v["spellclass-1-exists"],10)||0) + (parseInt(v["spellclass-2-exists"],10)||0))  > 1){
                if(!multiclassed) {
                    setAttrs({"spellclasses_multiclassed":"1"});
                }
            } else if (multiclassed) {
                setAttrs({"spellclasses_multiclassed":"0"});
            }
        });
    },



    /*updateCasterLevel - updates spellclass-X-level-total minimum of 1 if spellclass-X-level is >0
    * @classIdx int = 0,1,2
    * @classlevel int optional = override for class level, use this if you know it and sheet attribute might not be updated yet.
    */
    updateCasterLevel = function (classidx, eventInfo, classlevel) {
        //TAS.notice("at updateCasterLevel");
        getAttrs(["spellclass-" + classidx + "-level", "spellclass-" + classidx + "-level-total", "spellclass-" + classidx + "-level-misc"
        , "buff_CasterLevel-total", "CasterLevel-Penalty", "spellclass-"+classidx+"-exists"], function(v){
            //TAS.debug(v);
            var baseLevel = classlevel||(parseInt(v["spellclass-" + classidx + "-level"],10)||0)
            , totalLevel=parseInt(v["spellclass-" + classidx + "-level-total"],10)||0
            , casterlevel=baseLevel+(parseInt(v["spellclass-" + classidx + "-level-misc"],10)||0)+(parseInt(v["buff_CasterLevel-total"],10)||0)+(parseInt(v["CasterLevel-Penalty"],10)||0)
            , spellClassExists = parseInt(v["spellclass-"+classidx+"-exists"],10)||0
            , setter={}, setAny=0;
            //if has spells then minimum level is 1 no matter what minuses apply
            if (casterlevel<=0 ){
                if (baseLevel > 0) {casterlevel=1;}
                else {casterlevel=0;}
            }
            if (casterlevel !== totalLevel) {
                setter["spellclass-" + classidx + "-level-total"]=casterlevel;
                setAny=1;
            }
            //TAS.debug("casterlevel="+casterlevel+",baselevel="+baseLevel+", spellClassExists="+spellClassExists);
            if (baseLevel>0) {
                //TAS.debug("baselevel > 0 so set spellclass exists");
                if (spellClassExists ===0) {
                    setter["spellclass-"+classidx+"-exists"]="1";
                    setAny=1;
                }
            }else if (spellClassExists===1) {
                setter["spellclass-"+classidx+"-exists"]="0";
                setAny=1;
            }
            //TAS.debug(setter);
            if (setAny) { setAttrs(setter);}
        });
    },

    /*updateCasterLevels - updates all 3 caster levels due to buffs or debuffs */
    updateCasterLevels = function(dummy, eventInfo){
        updateCasterLevel(0,eventInfo);
        updateCasterLevel(1,eventInfo);
        updateCasterLevel(2,eventInfo);
    },

    /* updateCasterFromClassLevel - update level on SPELL page when updated on CLASS page,
    * but not vice versa
    * @classidx {number} = the row on the CLASS GRID starting with 0
    */
    updateCasterFromClassLevel = function (classidx, eventInfo, force) {
        var spellclassdropdown0 = "spellclass-0", spellclassdropdown1 = "spellclass-1", spellclassdropdown2 = "spellclass-2";
        getAttrs([spellclassdropdown0, spellclassdropdown1, spellclassdropdown2], function (va) {
            var spellclassidx, spellclasslevelField, classlevelField, prefix,classNameField;
            if (parseInt(va[spellclassdropdown0], 10) === classidx) { spellclassidx = 0; }
            else if (parseInt(va[spellclassdropdown1], 10) === classidx) { spellclassidx = 1; }
            else if (parseInt(va[spellclassdropdown2], 10) === classidx) { spellclassidx = 2; }
            else { return; }
            prefix = "spellclass-" + spellclassidx;
            spellclasslevelField = prefix + "-level";
            classlevelField = "class-" + classidx + "-level";
            classNameField = "class-"+classidx+"-name";
            getAttrs([spellclasslevelField, classlevelField, classNameField], function (v) {
                var setter = {}, newCasterLevel = parseInt(v[classlevelField], 10) || 0
                , currCasterLevel = parseInt(v[spellclasslevelField], 10)
                ;
                if (newCasterLevel !== currCasterLevel || isNaN(currCasterLevel) || force) {
                    setter[spellclasslevelField] = newCasterLevel;
                    setter[prefix+"-name"]=v[classNameField];
                    setAttrs(setter,{silent:true});
                    updateCasterLevel(classidx, eventInfo, newCasterLevel);
                }
            });
        });
    },

    /*updateCasterRanges - updates the ranges at the top for this spellcasting class
    */
    updateCasterRanges = function (spellclassidx, eventInfo, force) {
        //TAS.debug("at updateCasterRanges, spellclass:" + spellclassidx);
        var prefix = "spellclass-" + spellclassidx
          , lvlField = prefix + "-level-total"
          , closeField = prefix + "-close"
          , medField = prefix + "-medium"
          , longField = prefix + "-long";
        getAttrs([lvlField, closeField, medField, longField], function (v) {
            //TAS.debug(v);
            var level = (parseInt(v[lvlField], 10) || 0)
            , ranges = calculateSpellRanges(level)
            , closeRng = parseInt(v[closeField], 10) || 0
            , medRng = parseInt(v[medField], 10) || 0
            , longRng = parseInt(v[longField], 10) || 0
            , setter = {};
            //TAS.debug(level,closeRng,medRng,longRng,ranges);
            if (force || ranges.close !== closeRng || ranges.medium !== medRng || ranges["long"] !== longRng) {
                setter[closeField] = ranges.close;
                setter[medField] = ranges.medium;
                setter[longField] = ranges["long"];
                setAttrs(setter);
            }
        });
    },

    /* handleCasterClassDropdown - sets spell class name and level from dropdown
    * When the spell class dropdown is changed to one of the 5 classes, update the spellclass name and level.
    */
    handleCasterClassDropdown = function (spellclassidx,eventInfo) {
        //TAS.debug("handleCasterClassDropdown","level is :"+spellclassidx);
        var spellclassdropdown = "spellclass-" + spellclassidx
            ,spellclasslevel = "spellclass-" + spellclassidx + "-level";
        getAttrs([spellclassdropdown, spellclasslevel], function (va) {
            //TAS.debug(va);
            var classidx = (parseInt(va[spellclassdropdown], 10))
                , currClassLevel = parseInt(va[spellclasslevel], 10)
                , spellclassname, classname, classlevel;
            if (isNaN(classidx) || !va[spellclassdropdown] || va[spellclassdropdown] == "-1") {
                return;
            }
            spellclassname = "spellclass-" + spellclassidx + "-name";
            classname = "class-" + classidx + "-name";
            classlevel = "class-" + classidx + "-level";
            getAttrs([classname, classlevel, spellclassname], function (v) {
                var setter = {}, setAny = 0, updateLevel=0, newClassLevel = parseInt(v[classlevel], 10) || 0;
                if (v[classname] && v[classname] !== v[spellclassname]) {
                    setter[spellclassname] = v[classname];
                    setAny = 1;
                }
                if (currClassLevel !== newClassLevel || isNaN(currClassLevel)) {
                    setter[spellclasslevel] = newClassLevel;
                    updateLevel = 1;
                    setAny = 1;
                }
                if (setAny) {
                    setAttrs(setter,{silent:true});
                    updateCasterLevel(spellclassidx,eventInfo,newClassLevel);
                }
            });

        });
    },


    /*  updateCastingPenaltyNote - for condition deafened update penalty note on DEFENSE PAGE
    */
    updateCastingPenaltyNote = function () {
		getAttrs(["condition-Deafened"],function(v){
			if (v["condition-Deafened"]=="4") {
				setAttrs({"SpellFailureNote":"Yes"},{silent:true});
			} else {
				setAttrs({"SpellFailureNote":""},{silent:true});
			}
		});
     },

    /* handleConcentrationAbilityDropdown - updates spell related ability modifier for spell class
    * @classidx {number} = 0,1,2 the spellclass
    */
    handleConcentrationAbilityDropdown = function (classidx) {
        handleDropdown("Concentration-" + classidx + "-ability", "Concentration-" + classidx + "-mod");
    },


    /* updateConcentration - updates concentration for spellclass
    * @classidx {number} = 0,1,2 the spellclass
    */
    updateConcentration = function (classidx) {
        SWUtils.updateRowTotal(["Concentration-" + classidx, "spellclass-" + classidx + "-level-total", "Concentration-" + classidx + "-mod",
            "Concentration-" + classidx + "-misc"],0,null,false,{silent:true});
    },

    /*updateClassSpellPenetration
    */
    updateClassSpellPenetration = function (classidx) {
        SWUtils.updateRowTotal(["spellclass-" + classidx + "-SP-mod", "spellclass-" + classidx + "-SP_misc",
            "spellclass-" + classidx + "-level-total"],0,null,false,{silent:true});
    },


    /*********************************** SPELLS PER DAY section *************************************/

    /* updateSaveDCs - update save DCs on left  column of Spells Per Day grid
    * @classidx {number} = 0,1,2 the spellclass
    */
    updateSaveDCs = function (classidx) {
        getAttrs(["Concentration-" + classidx + "-mod", "spellclass-" + classidx + "-level-0-savedc"], function (v) {
            var mod= parseInt(v["Concentration-" + classidx + "-mod"], 10) || 0,
                dcLvlZero = 10 + mod,
                currDC = parseInt(v["spellclass-" + classidx + "-level-0-savedc"], 10),
                setter = {}, i;
            //if 0 is different then rest are different. if 0 is same, rest are same.
            if (currDC !== dcLvlZero || isNaN(currDC) ) {
                setter["spellclass-" + classidx + "-level-0-savedc"] = dcLvlZero;
                for (i = 1; i < 10; i++) {
                    setter["spellclass-" + classidx + "-level-" + i + "-savedc"] = dcLvlZero + i;
                }
                setAttrs(setter,{silent:true});
            }
        });
    },

    /* updateBonusSpells
    * updates Bonus Spells for the class
    * It looks at the attribute, not the attribute mod. So it does not change with ability damage or penalties.
    */
    updateBonusSpells = function (classidx, eventInfo) {
        var conAbility = "Concentration-" + classidx + "-ability";
        getAttrs([conAbility, "INT", "WIS", "CHA", "STR", "DEX", "CON"], function (v) {
            //eliminate the modifier, we just want @{INT} not @{INT-mod}
            var abilityName = findAbilityInString(v[conAbility]).replace("-mod", "")
                , abilityVal = parseInt(v[abilityName], 10)
                , fields = {}, bonusSpells, bonusName, i
                , prefix = "spellclass-" + classidx + "-level-";
            if (isNaN(abilityVal)) {
                return;
            }
            if (abilityVal >= 12) {
                //abilityVal -= 1;
                for (i = 1; i < 10; i++) {
                    //newRaw = Math.max(0, abilityVal - 10 - (2 * (i - 1)));
                    //bonusSpells = Math.ceil(newRaw / 8);
                    bonusSpells = Math.floor(Math.max(Math.floor((abilityVal - 10) / 2) + 4 - i, 0) / 4);
                    bonusName = prefix + i + "-bonus";
                    fields[bonusName] = bonusSpells;
                }
            } else {
                for (i = 1; i < 10; i++) {
                    bonusName = prefix + i + "-bonus";
                    fields[bonusName] = 0;
                }
            }
            setAttrs(fields, { silent: true });
        });
    },

    /* updateMaxSpellsPerDay
    */
    updateMaxSpellsPerDay = function (classidx, spelllvl) {
        SWUtils.updateRowTotal(["spellclass-" + classidx + "-level-" + spelllvl + "-spells-per-day_max"
            , "spellclass-" + classidx + "-level-" + spelllvl + "-class"
            , "spellclass-" + classidx + "-level-" + spelllvl + "-bonus"
            , "spellclass-" + classidx + "-level-" + spelllvl + "-misc"]);
    },
 
    /********************************** SPELL LISTS *****************************************/
    //classes without their own spell lists
    //hunter handled special by parseCompendiumSpell
    classesUsingOtherSpellLists = {
        "arcanist":"wizard"
        , "investigator":"alchemist"
        , "warpriest":"cleric"
    },
    spellOptionAttributes = [ "school", "cast-time", "duration", "save", "sr"
		, "range_numeric", "targets", "description"
		, "Concentration-mod", "savedc", "SP-mod", "range_pick", "range"
		, "spell_level", "spellclass", "casterlevel", "components", "spellclass_number"
        ],
	spellOptionHelperAttributes = ["spellclass_number","SP_misc","CL_misc","Concentration_misc"],
    //all fields that are printed to rolltemplate by spell options except "description"
    spellOptionAttributesNoDescription = _.filter(spellOptionAttributes,function(field){
		return (field !== "description") ;
	}),

    //fields that user can toggle options on and off, plus concentration defensive casting value
    spellToggleFields = ["toggle_spell_school_notes"
		, "toggle_spell_casting_time_notes"
		, "toggle_spell_duration_notes"
		, "toggle_spell_saving_throw_notes"
		, "toggle_spell_sr_notes"
		, "toggle_spell_range_notes"
		, "toggle_spell_targets_notes"
		, "toggle_spell_description_notes"
		, "toggle_spell_concentration_notes"
		, "toggle_spell_concentration_check"
		, "toggle_spell_casterlevel_notes"
		, "toggle_spell_casterlevel_check"
		, "toggle_spell_level_notes" 
		, "toggle_spell_components_notes"],
		
	nonRepeatingOptionFields = [
		 "Concentration-0-def"
		, "Concentration-1-def"
		, "Concentration-2-def"
        ],
	spellToggleGetAttrsFields = spellToggleFields.concat(nonRepeatingOptionFields),

    //text for rolltemplate for spell options
	//KEY MUST BE SAME for REGEX to work
    spellOptions = {school:"{{school=REPLACE}}"
        , casting_time:"{{casting_time=REPLACE}}"
        , components:"{{components=REPLACE}}"
        , duration:"{{duration=REPLACE}}"
        , saving_throw:"{{saving_throw=REPLACE}}"
        , sr:"{{sr=REPLACE}}"
        , casterlevel:"{{casterlevel=[[ REPLACE ]]}}"
        , range:"{{range=REPLACE}}"
        , targets:"{{targets=REPLACE}}"
        , Concentration:"{{Concentration=[[ REPLACE ]]}}"
        , description:"{{description=REPLACE}}"
        , dc:"{{dc=[[ REPLACE ]]}}"
        , spellPen:"{{spellPen=[[ REPLACE ]]}}"
        , range_pick:"{{REPLACE=range_pick}}"
        , rangetext:"{{rangetext=REPLACE}}"
        , level:"{{level=REPLACE}}"    
		, spellclass:"{{spellclass=REPLACE}}"
        , cast_def:"{{cast_def=[[ REPLACE ]]}}"
        , cast_defDC:"{{cast_defDC=[[ REPLACE ]]}}"
		, concentrationNote:"{{concentrationNote=REPLACE}}"
		, spellPenNote:"{{spellPenNote=REPLACE}}"
        , casterlevel_chk:"{{casterlevel_chk=[[ 1d20 + REPLACE ]]}}"
        , Concentration_chk:"{{Concentration_chk=[[ 1d20 + REPLACE ]]}}"
    },
	
	isReversed = function(spellOptionKey){
		return spellOptionKey === "range_pick";
	},

	//update - grab everything between equals, so we can replace ones that are blank as well.
	//grabs {{xxx=}} or {{=xxx}} and makes sure before is start of line or }} and after is end of line or {{
	//depends on the KEY matching the rolltemplate key that is passed in.
	//otherwise must use:
	// not reversed: outputstr.slice(2,outputstr.indexOf("=")-1)
	// reversed: +outputstr.slice(outputstr.lastIndexOf("=")+1,outputstr.length-2)
    spellOptionRegex = _.mapObject(spellOptions,function(outputstr,key){
		if (!isReversed(key)){
			return new RegExp( "\\s*((?=\\{\\{)|(?=^))\\{\\{"
				+ key + "\\=.*?\\}\\}\\s*((?=\\{\\{)|(?=$))");
		}
		return new RegExp( "((?=\\{\\{)|(?=^))\\s*\\{\\{\\.*?\\="
			+ key + "\\}\\}\\s*((?=\\{\\{)|(?=$))");
	}),

    spellOptionEventsPlayer = [ "school", "cast-time", "components", "duration", "save", "sr", "range", "targets"],
    spellOptionEventToToggleMap={
		 school:"toggle_spell_school_notes", "cast-time":"toggle_spell_casting_time_notes"
		 , components:"toggle_spell_components_notes", duration:"toggle_spell_duration_notes"
		 , save:"toggle_spell_saving_throw_notes", sr:"toggle_spell_sr_notes"
		 , range:"toggle_spell_range_notes", targets:"toggle_spell_targets_notes"
	},

	isBlank=function(attr,newValue){
		if (!newValue) { return true; }
		switch(attr){
			case 'sr':
				return ( !( /^y/i.test(newValue)));
			case 'save':
			case 'saving_throw':
				return ( (/^n/i.test(newValue) || /harmless/i.test(newValue)) && !(/and|or/i.test(newValue)) );
			default:
				return false;
		}
	},

    /********************************* REPEATING SPELL FUNCTIONS ***********************************/

    updateAttackMacros = function () {
        var baseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=Attacks}}"
        , npcBaseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_attack-melee}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=NPC Attacks}}";
        getSectionIDs("repeating_weapon", function(idarray) {
            if (!idarray || idarray.length===0){
                var attrs = {};
                attrs["attacks-macro"] = baseMacro ;
                attrs["attacks-macro-npc"] = npcBaseMacro ;
                setAttrs(attrs);
                return;
            }
            getAttrs(["_reporder_repeating_weapon"], function(repValues) {
                var atkattrs =[];
                _.each(idarray,function(id) {
                    atkattrs.push("repeating_weapon_"+id+"_attack-type");
                    atkattrs.push("repeating_weapon_"+id+"_name");
                });
				
                getAttrs(atkattrs, function(values) {
                    var repList ,orderedList,attackIDList ,melee = "",ranged = "",cmb = "",misc = "",attrs = {}
                    ,NPCmelee = "",NPCranged = "",NPCcmb = "",NPCmisc = "";
                    if (!_.isUndefined(repValues._reporder_repeating_weapon) && repValues._reporder_repeating_weapon != "") {
                        repList=repValues._reporder_repeating_weapon.split(",");
                        repList = _.map(repList,function(ID) { return ID.toLowerCase(); });
                    }
                    orderedList = _.union(repList,idarray);
                    attackIDList = _.object(_.map(orderedList,function(id) {
                        return [id,values["repeating_weapon_"+id+"_attack-type"]];
                    }));
					orderedList = _.filter(orderedList,function(ID){
						if (typeof values["repeating_weapon_"+ID+"_name"] == "undefined" 
						   || typeof values["repeating_weapon_"+ID+"_attack-type"] == "undefined") {
							return false;
						}
						return true;
					});

                    //TAS.debug(attackIDList);
                    _.each(orderedList, function(ID) {
						var temproll="",NPCtemproll="",value="" ,
                        attackName=values["repeating_weapon_"+ID+"_name"];

                        if (attackName.search(/\[.*\]/) !== -1) {
                            attackName = attackName.slice(attackName.indexOf('[')+1,attackName.indexOf(']'));
                        }
						
                        temproll=" ["+attackName+"](~@{character_id}|repeating_weapon_"+ID+"_attack-roll)";
                         NPCtemproll =" ["+attackName+"](~@{character_id}|repeating_weapon_"+ID+"_attack-npc-roll)";
                        if (attackIDList[ID]) {
                             value = findAbilityInString( attackIDList[ID]);
                            switch(value){
                                case 'attk-melee':
                                    melee += temproll;
                                    NPCmelee += NPCtemproll;
                                    break;
                                case 'attk-ranged':
                                    ranged += temproll;
                                    NPCranged += NPCtemproll;
                                    break;
                                case 'CMB':
                                    cmb += temproll;
                                    NPCcmb += NPCtemproll;
                                    break;
                                default:
                                    misc += temproll;
                                    NPCmisc += NPCtemproll;
                            }
                        }
                    });
                    if (melee) {melee = " {{**Melee**}} {{" + melee.trim() + "}}";}
                    if (ranged){ranged = " {{**Ranged**}} {{" + ranged.trim() + "}}";}
                    if (cmb){cmb = " {{**Combat Maneuvers**}} {{" + cmb.trim() + "}}";}
                    if (misc){misc = " {{**Misc**}} {{" + misc.trim() + "}}";}
                    if (NPCmelee) {NPCmelee = " {{**Melee**}} {{" + NPCmelee.trim() + "}}";}
                    if (NPCranged){NPCranged = " {{**Ranged**}} {{" + NPCranged.trim() + "}}";}
                    if (NPCcmb){NPCcmb = " {{**Combat Maneuvers**}} {{" + NPCcmb.trim() + "}}";}
                    if (NPCmisc){NPCmisc = " {{**Misc**}} {{" + NPCmisc.trim() + "}}";}


                    attrs["attacks-macro"] = baseMacro + melee + ranged + cmb + misc;
                    attrs["attacks-macro-npc"] = npcBaseMacro + NPCmelee + NPCranged + NPCcmb + NPCmisc;
                    setAttrs(attrs);
                });
            });
        });
    },


    updateSpellbookMacros = function () {
        //TAS.debug("at updateSpellbookMacros");
        var class0BaseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-0-name} Spells}}"
        , class1BaseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-1-name} Spells}}"
        , class2BaseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=@{spellclass-2-name} Spells}}"
        , npcClass0BaseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=NPC @{spellclass-0-name} Spells}}"
        , npcClass1BaseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=NPC @{spellclass-1-name} Spells}}"
        , npcClass2BaseMacro = "/w \"@{character_name}\" &{template:pf_generic} @{toggle_accessible_flag} @{toggle_rounded_flag}{{color=@{rolltemplate_color}}} {{header_image=@{header_image-pf_block}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} {{name=NPC @{spellclass-2-name} Spells}}"
        ;
		getAttrs(["hide_unprepared_in_spellbook"],function(configV){
			var hideUnprepared = parseInt(configV["hide_unprepared_in_spellbook"],10)||0;
			getSectionIDs("repeating_spells", function(idarray) {
				var attrs = {};
				//TAS.debug(idarray);
				if (!idarray || idarray.length === 0){
					attrs["spellclass-0-book"] = class0BaseMacro ;
					attrs["spellclass-1-book"] = class1BaseMacro ;
					attrs["spellclass-2-book"] = class2BaseMacro ;
					attrs["spellclass-0-book-npc"] = npcClass0BaseMacro ;
					attrs["spellclass-1-book-npc"] = npcClass1BaseMacro ;
					attrs["spellclass-2-book-npc"] = npcClass2BaseMacro ;
					setAttrs(attrs);
					return;
				}

				getAttrs(["_reporder_repeating_spells"], function(repValues) {
					//TAS.debug(repValues);
					var spellAttrs =[];
					_.each(idarray,function(id) {
						spellAttrs.push("repeating_spells_"+id+"_spell_level");
						spellAttrs.push("repeating_spells_"+id+"_spellclass_number");
						spellAttrs.push("repeating_spells_"+id+"_name");
						if (hideUnprepared){
							spellAttrs.push("repeating_spells_"+id+"_used");
						}
					});
					//TAS.debug(spellAttrs);
					getAttrs(spellAttrs, function(values) {
						//TAS.debug(values);
						var orderedList,repList,filteredIds, spellIDList, spellsArray, npcSpellsArray, attrs = {};
						if (!_.isUndefined(repValues._reporder_repeating_spells) && repValues._reporder_repeating_spells != "") {
							repList = repValues._reporder_repeating_spells.split(",");
							repList = _.map(repList,function(ID) { return ID.toLowerCase(); });
							orderedList =  _.intersection( _.union(repList,idarray),idarray);
							//orderedList = _.union(repList,idarray);
						}
						else {
							orderedList = idarray;
						}

						//remove bad ids
						filteredIds = _.filter(orderedList,function(id){
							var num = parseInt(values["repeating_spells_"+id+"_spell_level"],10)
							, lvl = parseInt(values["repeating_spells_"+id+"_spellclass_number"],10);
							//TAS.log("for id " + id+", classis :" +num+", lvl is :"+lvl);
							if ( isNaN(num) || isNaN(lvl)) {
									 TAS.warn("updateMacros, id " + id + " is not valid");
									return false;
								}
							return true;
						});
						//remove unprepared spells
						if (hideUnprepared){
							filteredIds = _.filter(filteredIds,function(id){
								var isPrep=parseInt(values["repeating_spells_"+id+"_used"],10)||0;
								if (isPrep>0){ return true;}
								return false;
							});
						}

						spellIDList = _.object(_.map(filteredIds,function(id) {
							return [id,{ level: values["repeating_spells_"+id+"_spell_level"], spellClass: values["repeating_spells_"+id+"_spellclass_number"] }];
						}));
						spellsArray = [["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];
						npcSpellsArray = [["","","","","","","","","",""],["","","","","","","","","",""],["","","","","","","","","",""]];
						_.each(filteredIds, function(ID) {
							var spellClass,spellName,level;
							if (_.isUndefined(spellIDList[ID].spellClass)){
								spellClass = 0;
							} else {
								spellClass = parseInt(spellIDList[ID].spellClass,10);
							}

							if (_.isUndefined(spellIDList[ID].level)){
								level = 0;
							} else {
								level = parseInt(spellIDList[ID].level,10);
							}

							spellName=values["repeating_spells_"+ID+"_name"];

							if (spellName.search(/\[.*\]/) !== -1) {
								spellName = spellName.slice(spellName.indexOf('[')+1,spellName.indexOf(']'));
							}

							spellsArray[spellClass][level] += " ["+spellName+" (@{repeating_spells_"+ID+"_used})](~@{character_id}|repeating_spells_"+ID+"_roll)";
							npcSpellsArray[spellClass][level] += " ["+spellName+" (@{repeating_spells_"+ID+"_used})](~@{character_id}|repeating_spells_"+ID+"_npc-roll)";
						});

						_.each(spellsArray, function(lvls, spellClass) {
							_.each(lvls, function(text,lvl) {
								if (text !== "")
								{
									spellsArray[spellClass][lvl] = " {{Level " + lvl + "&nbsp;&nbsp;&nbsp;[ @{spellclass-"+spellClass+"-level-"+lvl+"-spells-per-day}/@{spellclass-"+spellClass+"-level-"+lvl+"-spells-per-day|max} ] }} {{" + text.trim() + "}}";
								}
							});
						});
						_.each(npcSpellsArray, function(lvls, spellClass) {
							_.each(lvls, function(text,lvl) {
								if (text !== "")
								{
									npcSpellsArray[spellClass][lvl] = " {{Level " + lvl + "}} {{" + text.trim() + "}}";
								}
							});
						});

						//TAS.debug(spellsArray);

						attrs["spellclass-0-book"] = class0BaseMacro + spellsArray[0][0] + spellsArray[0][1] + spellsArray[0][2] + spellsArray[0][3] + spellsArray[0][4] + spellsArray[0][5] + spellsArray[0][6] + spellsArray[0][7] + spellsArray[0][8] + spellsArray[0][9];
						attrs["spellclass-1-book"] = class1BaseMacro + spellsArray[1][0] + spellsArray[1][1] + spellsArray[1][2] + spellsArray[1][3] + spellsArray[1][4] + spellsArray[1][5] + spellsArray[1][6] + spellsArray[1][7] + spellsArray[1][8] + spellsArray[1][9];
						attrs["spellclass-2-book"] = class2BaseMacro + spellsArray[2][0] + spellsArray[2][1] + spellsArray[2][2] + spellsArray[2][3] + spellsArray[2][4] + spellsArray[2][5] + spellsArray[2][6] + spellsArray[2][7] + spellsArray[2][8] + spellsArray[2][9];
						attrs["spellclass-0-book-npc"] = npcClass0BaseMacro + npcSpellsArray[0][0] + npcSpellsArray[0][1] + npcSpellsArray[0][2] + npcSpellsArray[0][3] + npcSpellsArray[0][4] + npcSpellsArray[0][5] + npcSpellsArray[0][6] + npcSpellsArray[0][7] + npcSpellsArray[0][8] + npcSpellsArray[0][9];
						attrs["spellclass-1-book-npc"] = npcClass1BaseMacro + npcSpellsArray[1][0] + npcSpellsArray[1][1] + npcSpellsArray[1][2] + npcSpellsArray[1][3] + npcSpellsArray[1][4] + npcSpellsArray[1][5] + npcSpellsArray[1][6] + npcSpellsArray[1][7] + npcSpellsArray[1][8] + npcSpellsArray[1][9];
						attrs["spellclass-2-book-npc"] = npcClass2BaseMacro + npcSpellsArray[2][0] + npcSpellsArray[2][1] + npcSpellsArray[2][2] + npcSpellsArray[2][3] + npcSpellsArray[2][4] + npcSpellsArray[2][5] + npcSpellsArray[2][6] + npcSpellsArray[2][7] + npcSpellsArray[2][8] + npcSpellsArray[2][9];
						setAttrs(attrs);
					});
				});
			});
		});
    },


	/* deleteOption - removes option text from string and adds {{key=}} */
	deleteOption = function(optionText, optionKey){
		var repStr= isReversed(optionKey) ?"{{="+optionKey+"}}":"{{"+optionKey+"=}}";
		//TAS.debug("deleteOption optionKey"+optionKey+", spellOptionRegex[optionKey]:"+spellOptionRegex[optionKey]+", repStr:"+repStr);
		if (optionKey && optionText && spellOptionRegex[optionKey]){
			optionText= optionText.replace(spellOptionRegex[optionKey],repStr);
		}
		return optionText;
	},

    /* updateSpellOption - updates an existing @{spell_options} text for a row depending on the field updated
	* If save or spell resist is none, then don't print DC either.
	*/
    updateSpellOption = function(eventInfo,fieldUpdated){
        var fieldName="repeating_spells_"+fieldUpdated
		, toggleField = spellOptionEventToToggleMap[fieldUpdated];
        getAttrs([fieldName, "repeating_spells_spell_options", "repeating_spells_spell_lvlstr", toggleField, "repeating_spells_SP-mod" , "repeating_spells_savedc"],function(v){
            var optionText=v["repeating_spells_spell_options"], newValue=v[fieldName]||"", setter={};
            //make sure we are not updating from compendium
			//this works it is just fast enough that it will not do anything since parseCompendiumSpell is not done.
            if ((!v["repeating_spells_spell_lvlstr"]) && optionText){
				if (v[toggleField]=="1") {
					switch(fieldUpdated){
						case 'school':
							optionText = optionText.replace(spellOptionRegex.school, spellOptions.school.replace("REPLACE",SWUtils.escapeRollTemplate(newValue) ) );
							break;
						case 'cast-time':
							optionText = optionText.replace(spellOptionRegex.casting_time, spellOptions.casting_time.replace("REPLACE",SWUtils.escapeRollTemplate(newValue)) );
							break;
						case 'components':
							optionText = optionText.replace(spellOptionRegex.components, spellOptions.components.replace("REPLACE",SWUtils.escapeRollTemplate(newValue)) );
							break;
						case 'duration':
							optionText = optionText.replace(spellOptionRegex.duration, spellOptions.duration.replace("REPLACE",SWUtils.escapeRollTemplate(newValue)) );
							break;
						case 'range':
							optionText = optionText.replace(spellOptionRegex.range, spellOptions.range.replace("REPLACE",SWUtils.escapeRollTemplate(newValue)) );
							break;
						case 'targets':
							optionText = optionText.replace(spellOptionRegex.targets, spellOptions.targets.replace("REPLACE",SWUtils.escapeRollTemplate(newValue)) );
							break;
						case 'save':
							if ( isBlank('saving_throw',newValue) ) {
								optionText = deleteOption(optionText,"saving_throw");
							} else {
								optionText = optionText.replace(spellOptionRegex.saving_throw,spellOptions.saving_throw.replace("REPLACE",SWUtils.escapeRollTemplate(newValue)) );
							}
							break;
						case  'sr':
							if ( isBlank('sr',newValue) ) {
								optionText = deleteOption(optionText,"sr");
							} else {
								optionText = optionText.replace(spellOptionRegex.sr,spellOptions.sr.replace("REPLACE",newValue) );
							}
							break;
					}
					setter["repeating_spells_spell_options"]=optionText;
					setAttrs(setter,{silent:true});
				}
            }
        });
    },

    /* resetSpellOptions - resets entire @{spell_options} text for a spell row
    */
	getSpellOptionsText = function(id,eventInfo,toggleValues,rowValues) {
		var  prefix = "repeating_spells_"  + getRepeatingIDStr(id)
		, customConcentration= parseInt(rowValues[prefix+"Concentration_misc"],10)||0
		, customCasterlevel =  parseInt(rowValues[prefix+"CL_misc"],10)||0
		, classNum = parseInt(rowValues[prefix + "spellclass_number"],10)
		, spellLevel = parseInt(rowValues[prefix+"spell_level"], 10)
		, casterlevel = parseInt(rowValues[prefix + "casterlevel"],10)
		, concentrationMod = parseInt(rowValues[prefix+"Concentration-mod"],10)
		, defDC = 15+(spellLevel * 2)
		, defMod = parseInt(rowValues["Concentration-"+classNum+"-def"],10)||0
		, optionText = "", newValue="";
		
		if ( isNaN(classNum) || isNaN(spellLevel) ) {
			TAS.warn("cannot set options for spell! id:"+id +"  class or level are not numbers");
			return "";
		}
		if(toggleValues.showschool){
			optionText+=spellOptions.school.replace("REPLACE",SWUtils.escapeRollTemplate(rowValues[prefix+"school"]));
		}
		if(toggleValues.showlevel){
			optionText+=spellOptions.spellclass.replace("REPLACE",SWUtils.escapeRollTemplate(rowValues[prefix+"spellclass"]));
			optionText+=spellOptions.level.replace("REPLACE",spellLevel);
		}
		if(toggleValues.showcasting_time){
			optionText+=spellOptions.casting_time.replace("REPLACE",SWUtils.escapeRollTemplate(rowValues[prefix+"cast-time"]));
		}
		if(toggleValues.showcomponents){
			optionText+=spellOptions.components.replace("REPLACE",SWUtils.escapeRollTemplate(rowValues[prefix+"components"]));
		}

		if (toggleValues.showsaving_throw) {
			newValue=rowValues[prefix+"save"]||"";
			if (isBlank('saving_throw',newValue)){
				optionText+="{{saving_throw=}}";
			} else {
				optionText+=spellOptions.saving_throw.replace("REPLACE",SWUtils.escapeRollTemplate(newValue));
			}
			optionText+=spellOptions.dc.replace("REPLACE",parseInt(rowValues[prefix+"savedc"],10)||0);
		}
		
		if(toggleValues.showrange){
			optionText+=spellOptions.range_pick.replace("REPLACE",rowValues[prefix+"range_pick"]||"blank");
			optionText+=spellOptions.range.replace("REPLACE",parseInt(rowValues[prefix+"range_numeric"],10)||0);
			optionText+=spellOptions.rangetext.replace("REPLACE",SWUtils.escapeRollTemplate(rowValues[prefix+"range"]||""));
		}
		if(toggleValues.showtargets){
			optionText+=spellOptions.targets.replace("REPLACE",SWUtils.escapeRollTemplate(rowValues[prefix+"targets"]));
		}
		if(toggleValues.showduration){
			optionText+=spellOptions.duration.replace("REPLACE",SWUtils.escapeRollTemplate(rowValues[prefix+"duration"]));
		}
		if(toggleValues.showsr){
			newValue=rowValues[prefix+"sr"]||"";
			if ( isBlank("sr",newValue) ) {
				optionText += "{{sr=}}";
			} else {
				optionText+=spellOptions.sr.replace("REPLACE",newValue);
			}
		}
		if(toggleValues.showcasterlevel && customCasterlevel){
			optionText+=spellOptions.casterlevel.replace("REPLACE",casterlevel);
		} else {
			optionText+="{{casterlevel=}}";
		}
		if(toggleValues.showcasterlevel_check){
			optionText+=spellOptions.casterlevel_chk.replace("REPLACE",casterlevel);
		}
		if (toggleValues.showcasterlevel||toggleValues.showcasterlevel_check){
			newValue=parseInt(rowValues[prefix+"SP-mod"],10)||0;
			if (newValue===0){
				optionText+="{{spellPen=}}";
			} else {
				optionText+=spellOptions.spellPen.replace("REPLACE",newValue);	
			}
		}
		if(toggleValues.showconcentration && customConcentration){
			optionText+=spellOptions.Concentration.replace("REPLACE",concentrationMod);
		} else {
			optionText+="{{Concentration=}}";
		}
		if(toggleValues.showconcentration_check){
			optionText+=spellOptions.Concentration_chk.replace("REPLACE",concentrationMod);
		}
		if (toggleValues.showconcentration||toggleValues.showconcentration_check){
			if (defMod>0){
				optionText+=spellOptions.cast_def.replace("REPLACE",defMod);
			} else {
				optionText+="{{cast_def=}}";
			}
			optionText+=spellOptions.cast_defDC.replace("REPLACE",defDC);
		}
		if(toggleValues.showdescription){
			optionText+=spellOptions.description.replace("REPLACE","@{description}");
		} else {
			optionText+="{{description=}}";
		}
		//TAS.debug("returning :"+optionText);
		return optionText;		
	},

    resetSpellOptions = function(id,eventInfo){
        var prefix = "repeating_spells_"  + getRepeatingIDStr(id)
            , allFields;
		//TAS.debug("at resetSpellOptions");
		allFields= _.chain(spellOptionAttributesNoDescription)
			.union(spellOptionHelperAttributes)
			.flatten(true)
			.map(function(field){
				return prefix+field;})
			.union(spellToggleGetAttrsFields)
			.flatten(true)
			.value();
        getAttrs(allFields,function(v){
			var toggleValues = _.chain( spellToggleFields)
				.reduce(function(memo,attr){
					memo['show'+attr.slice(13).replace('_notes','')]=(parseInt(v[attr],10)||0);
					return memo;
					}, {} )
				.extend( { "Concentration-0-def": (parseInt(v["Concentration-0-def"],10)||0)
					, "Concentration-1-def":(parseInt(v["Concentration-1-def"],10)||0)
					, "Concentration-2-def":(parseInt(v["Concentration-2-def"],10)||0)
					} )
				.value()
			, optionText=""
            , setter={};
			
			optionText = getSpellOptionsText(id,eventInfo,toggleValues,v);
            //TAS.debug("resetSpellOptions","About to set",setter);
			setter["repeating_spells_"  + getRepeatingIDStr(id) + "spell_options"]=optionText;

			setAttrs(setter,{silent:true});
        });
    },


    /*resetAllSpellsOptions - updates repeating_spells_spell_options for all spells.*/
    resetAllSpellsOptions = function(eventInfo,callback){
       //TAS.debug("at resetAllSpellsOptions");
       getAttrs(spellToggleGetAttrsFields,function(tv){
            var showDescription = parseInt(tv["toggle_spell_description_notes"],10)||0
			, optionFields=   spellOptionAttributesNoDescription.concat(spellOptionHelperAttributes)
			, toggleValues = _.chain(spellToggleFields )
				.reduce(function(memo,attr){
					memo['show'+attr.slice(13).replace('_notes','')]=(parseInt(tv[attr],10)||0);
					return memo;
					}, {} )
				.extend( { "Concentration-0-def": (parseInt(tv["Concentration-0-def"],10)||0)
					, "Concentration-1-def":(parseInt(tv["Concentration-1-def"],10)||0)
					, "Concentration-2-def":(parseInt(tv["Concentration-2-def"],10)||0)
					} )
				.value();
            //if (showDescription){
            //    optionFields=optionFields.concat(["description"]);
            //}
            getSectionIDs("repeating_spells",function(ids){
                var fields = _.map(ids,function(id){
                    var prefix = "repeating_spells_"  + getRepeatingIDStr(id),
                        rowFields= _.map(optionFields,function(field){
                            return prefix+field;
                        });
                        return rowFields;
                });
                fields = _.flatten(fields,true);
				
                getAttrs(fields,function(v){
                    var setter={};
                    //TAS.log(v);
                    _.each(ids,function(id){
						var optionText = getSpellOptionsText(id,eventInfo,toggleValues,v);
						//TAS.debug("options for "+id+" are "+optionText);
						setter["repeating_spells_"  + getRepeatingIDStr(id) + "spell_options"]=optionText;
					});
					//TAS.debug("resetSpellOptions , About to set",setter);

                    if (typeof callback === "function"){
                        setAttrs(setter,{silent:true},callback);
                    } else {
                        setAttrs(setter,{silent:true});
                    }
                });
            });
        });

    },

    /* updateSpellsCasterLevelRelated - updates all spells when level or concentration or spell penetration is updated */
    updateSpellsCasterLevelRelated = function(classIdx,eventInfo,callback) {
        if (!(classIdx >=0 && classIdx<=2)|| isNaN(parseInt(classIdx,10))) {return;}
        var updateDefensiveCasting = eventInfo?(/concentration\-[012]\-def$/i.test(eventInfo.sourceAttribute)):true;
        getSectionIDs("repeating_spells",function(ids){
            var fields = ["spellclass-"+classIdx+"-level-total", "spellclasses_multiclassed", "Concentration-"+classIdx+"-misc", "spellclass-"+classIdx+"-name"
            , "spellclass-"+classIdx+"-SP_misc", "Concentration-"+classIdx+"-def", "Concentration-"+classIdx+"-mod"];
            _.each(ids,function(id){
                var prefix = "repeating_spells_"  + getRepeatingIDStr(id);
                fields=fields.concat([ prefix + "casterlevel", prefix + "CL_misc"     //, prefix + "cast_def-mod"
                    , prefix + "spell_class_r", prefix + "spellclass_number", prefix + "spellclass"
                    , prefix + "range", prefix + "range_numeric", prefix + "range_pick"
                    , prefix + "SP-mod", prefix + "SP_misc", prefix + "Concentration_misc", prefix + "Concentration-mod"
                    , prefix + "spell_options"]);
                });
            //TAS.debug(fields);
            getAttrs(fields,function(v){
                var classLevel = parseInt(v["spellclass-"+classIdx+"-level-total"],10)||0
                , abilityMod = parseInt(v["Concentration-"+classIdx+"-mod"],10)||0
                , multiclassed = parseInt(v["spellclasses_multiclassed"],10)||0
                , defMod = parseInt(v["Concentration-" + classIdx + "-def"], 10)
                , classConcentrationMisc = parseInt(v["Concentration-"+classIdx+"-misc"],10)||0
                , classSPMisc = parseInt(v["Concentration-"+classIdx+"-SP_misc"],10)||0
                , classNumSetter={}
                , setter={};
                //TAS.debug(v);
                if (classLevel > 0) {
                    _.each(ids,function(id){
                        var prefix = "repeating_spells_"  + getRepeatingIDStr(id)
                            , classNum=parseInt(v[prefix+"spellclass_number"],10)
                            , classRadio=parseInt(v[prefix + "spell_class_r"],10)
                            , chosenRange = v[prefix+"range_pick"]||""
                            , currRange = parseInt(v[prefix + "range_numeric"], 10)||0
                            , spellConcentrationMisc = parseInt(v[prefix + "Concentration_misc"],10)||0
                            , optionText = v[prefix + "spell_options"]
                            , setOption=0
                            , casterlevel=0, newcasterlevel=0, newConcentration=0, newSP=0, newClassName="",newRange = 0
                            ;
                        if (isNaN(classNum)){
                            TAS.warn("class is blank, set to class 0");
                            classNum=0;
                            classNumSetter[prefix+"spellclass_number"]=0;
                        } else if (!multiclassed || classNum===classIdx ) {
                            if (classNum !== classRadio || isNaN(classRadio) ) {
                                setter[prefix + "spell_class_r"] = classNum;
                            }
                            newClassName= v["spellclass-"+classIdx+"-name"];
                            if (newClassName !== v[prefix + "spellclass"]) {
                                setter[prefix + "spellclass"]=newClassName;
                                if (optionText){
                                    optionText = optionText.replace(spellOptionRegex.spellclass, spellOptions.spellclass.replace("REPLACE",SWUtils.escapeRollTemplate(v[prefix+"spellclass"]) ));
                                    setOption=1;
                                }
                            }

                            casterlevel = parseInt(v[prefix + "casterlevel"],10);
                            newcasterlevel = classLevel + (parseInt(v[prefix + "CL_misc"],10)||0);
                            if (newcasterlevel < 1) {
                                newcasterlevel=1;
                            }
                            if (newcasterlevel !== casterlevel || isNaN(casterlevel)) {
                                casterlevel = newcasterlevel;
                                setter[prefix + "casterlevel"]=newcasterlevel;
                                if (optionText){
                                    optionText = optionText.replace(spellOptionRegex.casterlevel,spellOptions.casterlevel.replace("REPLACE",newcasterlevel) );
                                    optionText = optionText.replace(spellOptionRegex.casterlevel_chk,spellOptions.casterlevel_chk.replace("REPLACE",newcasterlevel) );
                                    setOption=1;
                                }
                            }

                            newRange = findSpellRange(v[prefix + "range"],chosenRange, casterlevel)||0;
                            if (newRange !== currRange ) {
                                setter[prefix + "range_numeric"] = newRange;
                                if (optionText){
                                    optionText = optionText.replace(spellOptionRegex.range,spellOptions.range.replace("REPLACE",newRange) );
                                    setOption=1;
                                }
                            }
                            if (updateDefensiveCasting && optionText){
                                optionText = optionText.replace(spellOptionRegex.cast_def,spellOptions.cast_def.replace("REPLACE",defMod) );
                                setOption=1;
                            }

                            newConcentration = newcasterlevel + abilityMod + classConcentrationMisc +spellConcentrationMisc;
                            if (newConcentration !== (parseInt(v[prefix + "Concentration-mod"],10)||0) ) {
                                setter[prefix + "Concentration-mod"]=newConcentration;
                                if (optionText){
                                    optionText = optionText.replace(spellOptionRegex.Concentration,spellOptions.Concentration.replace("REPLACE",newConcentration) );
                                    optionText = optionText.replace(spellOptionRegex.Concentration_chk,spellOptions.Concentration_chk.replace("REPLACE",newConcentration) );
                                    setOption=1;
                                }
                            }

                            newSP = classSPMisc + (parseInt(v[prefix + "SP_misc"],10)||0);
                            if (newSP !== (parseInt(v[prefix + "SP-mod"],10)||0) ) {
                                setter[prefix + "SP-mod"]=newSP;
                                if (optionText) {
                                    optionText = optionText.replace(spellOptionRegex.spellPen,spellOptions.spellPen.replace("REPLACE",newSP));
                                    setOption=1;
                                }
                            }

                            if (setOption){
                                //TAS.debug("setting option for id "+ id +" to "+optionText);
                                setter[prefix+"spell_options"]=optionText;
                            }

                        }
                    });
                    //TAS.debug(setter);
                    if (_.size(classNumSetter)>0){
                        setAttrs(classNumSetter);
                    }
                    if (_.size(setter)>0){
                        setAttrs(setter,{silent:true},function(){if (typeof callback === "function"){callback();}});
                    } else if (typeof callback === "function") {
                        callback();
                    }

                }
            });
        });
    },

    /* updateSpellsCasterAbilityRelated - updates all spells when caster ability or DCs are updated */
    updateSpellsCasterAbilityRelated = function(classIdx,eventInfo,callback){
        if (!(classIdx >=0 && classIdx<=2)|| isNaN(parseInt(classIdx,10))) {return;}
        //var updateAbility = eventInfo?(/^concentration\-[012]\-mod$/i.test(eventInfo.sourceAttribute)):true;
        getSectionIDs("repeating_spells",function(ids){
            var fields = ["Concentration-"+classIdx+"-mod","Concentration-"+classIdx+"-misc","spellclasses_multiclassed"];
            //TAS.debug("updateSpellsCasterAbilityRelated",classIdx,eventInfo);
            //TAS.debug(ids);
            _.each(ids,function(id){
                var prefix = "repeating_spells_" +  getRepeatingIDStr(id);
                fields=fields.concat([prefix+"spellclass_number",prefix+"spell_level"
                        ,prefix+"spell_level_r" ,prefix+"spellclass_number"
                        ,prefix+"casterlevel"       ,prefix+"DC_misc"
                        ,prefix+"savedc"            ,prefix+"Concentration-mod"
                        ,prefix+"Concentration_misc",prefix+"spell_options"
                    ]);
            });
            getAttrs(fields,function(v){
                var abilityMod = parseInt(v["Concentration-"+classIdx+"-mod"],10)||0
                , classConcentrationMisc = parseInt(v["Concentration-"+classIdx+"-misc"],10)||0
                , multiclassed = parseInt(v["spellclasses_multiclassed"],10)||0
                , newConcentration = 0, casterlevel = 0
                , setter={};
                //TAS.debug(v);
                _.each(ids,function(id){
                    var spellLevel=0, spellLevelRadio=0, newDC=0
                    , prefix = "repeating_spells_" +  getRepeatingIDStr(id)
                    , optionText = v[prefix+"spell_options"]
                    , setOption=0
                    , spellConcentrationMisc = parseInt(v[prefix+"Concentration_misc"],10)||0;
                    if (!multiclassed || parseInt(v[prefix+"spellclass_number"],10)===classIdx ) {
                        spellLevel = parseInt(v[prefix+"spell_level"],10);
                        spellLevelRadio = parseInt(v[prefix+"spell_level_r"],10);
                        if (isNaN(spellLevel) ) {
                            TAS.warn("spell level is NaN for "+prefix);
                            if (spellLevelRadio != -1 || isNaN(spellLevelRadio)) {
                                setter[prefix+"spell_level_r"] = "-1";
                                setter[prefix+"savedc"]="";
                            }
                        } else {
                            if (spellLevel !==  spellLevelRadio || isNaN(spellLevelRadio) ) {
                                setter[prefix+"spell_level_r"] = spellLevel;
                            }
                            newDC = 10 + spellLevel + abilityMod + (parseInt(v[prefix+"DC_misc"],10)||0);
                            if (newDC !== (parseInt(v[prefix+"savedc"],10)||0)) {
                                setter[prefix+"savedc"]=newDC;
                                if (optionText){
                                    optionText = optionText.replace(spellOptionRegex.dc,spellOptions.dc.replace("REPLACE",newDC) );
                                    setOption=1;
                                }
                            }

                            casterlevel = parseInt(v[prefix+"casterlevel"],10)||0;
                            if (!isNaN(casterlevel)){
                                newConcentration = casterlevel + abilityMod + classConcentrationMisc + spellConcentrationMisc;
                                if (newConcentration !== (parseInt(v[prefix+"Concentration-mod"],10)||0)) {
                                    setter[prefix+"Concentration-mod"]=newConcentration;
                                    if (optionText){
                                        optionText = optionText.replace(spellOptionRegex.Concentration,spellOptions.Concentration.replace("REPLACE",newConcentration) );
                                        optionText = optionText.replace(spellOptionRegex.Concentration_chk,spellOptions.Concentration_chk.replace("REPLACE",newConcentration) );
                                        setOption=1;
                                    }
                                }
                            } else {
                                TAS.warn("spell casterlevel is NaN for "+prefix);
                                if ((parseInt(v[prefix+"Concentration-mod"],10)||0)!==0){
                                    setter[prefix+"Concentration-mod"]="";
                                }
                            }
                        }
                        if (setOption){
                            //TAS.debug("setting option for id "+ id +" to "+optionText);
                            setter[prefix+"spell_options"]=optionText;
                        }
                    }
                });
                //TAS.debug(setter);
                if (_.size(setter)>0){
                    setAttrs(setter,{silent:true},function(){if (typeof callback === "function"){callback();}});
                } else if (typeof callback === "function") {
                    callback();
                }

            });
        });
    },

    /*updateSpell - updates a spell
    * @eventInfo optional, if not present forces recalc of everything
    * @id optional, pass id if looping through list of IDs. Null if context is row itself.
    */
    updateSpell = function(eventInfo,id) {
        var idStr = getRepeatingIDStr(id)
            , prefix = "repeating_spells_"  + idStr
            , classNameField = prefix + "spellclass"
            , classRadioField = prefix + "spell_class_r"
            , classNumberField = prefix + "spellclass_number"
            , casterlevelField = prefix + "casterlevel"
            , spellLevelField = prefix + "spell_level"
            , spellLevelRadioField = prefix + "spell_level_r"
            , dcMiscField = prefix + "DC_misc"
            , currDCField = prefix + "savedc"
            , fields = [classNumberField, classRadioField, classNameField, casterlevelField, prefix + "CL_misc", prefix + "spellclass_number"
                , prefix + "range_pick" , prefix + "range", prefix + "range_numeric", prefix + "SP-mod", prefix + "SP_misc"
                , prefix + "Concentration_misc", prefix + "Concentration-mod"
                , prefix + "spell_options"
                , spellLevelField, spellLevelRadioField, dcMiscField, currDCField
                , "spellclass-0-level-total" ,"spellclass-1-level-total" ,"spellclass-2-level-total"
                , "spellclass-0-SP_misc", "spellclass-1-SP_misc", "spellclass-2-SP_misc"
                , "Concentration-0-mod", "Concentration-1-mod", "Concentration-2-mod"
                , "Concentration-0-misc", "Concentration-1-misc", "Concentration-2-misc"
                , "Concentration-0-def", "Concentration-1-def", "Concentration-2-def"
                , "spellclass-0-name", "spellclass-1-name", "spellclass-2-name"];

        getAttrs(fields,function(v){
            var  baseClassNum = parseInt(v[prefix + "spellclass_number"],10)
            , classNum =baseClassNum||0
            , classRadio = parseInt(v[classRadioField],10)
            , currClassName="", className=""
            , baseSpellLevel = parseInt(v[spellLevelField], 10)
            , spellLevel= baseSpellLevel||0
            , spellLevelRadio = parseInt(v[spellLevelRadioField], 10)
            , currCasterLevel=parseInt(v[prefix + "casterlevel"],10)
            , casterlevel =currCasterLevel||0
            , spellAbilityMod = parseInt(v["Concentration-" + classNum + "-mod"],10)||0
            , newDC =10
            , currRange=parseInt(v[prefix+"range_numeric"],10)||0
            , currChosenRange = v[prefix+"range_pick"]||"blank"
            , newSP = 0, newConcentration = 0
            , updateClass= false, updateClassLevel=false, updateRange=false, updateSP=false
            , updateConcentration=false, updateSpellLevel=false, updateDC=false
            , updateStr="", tempMatches
			, hadToSetClass =false, spellLevelUndefined=false			
            , newRange=0
            , setter={}, setAny=0;
            //TAS.debug("At updateSpell");
            //TAS.debug(v);

            //cannot perform calculations
            if ( isNaN(baseClassNum) && isNaN(baseSpellLevel) ) {
                TAS.warn("cannot update spell! id:"+id +" both class and level are not numbers");
                return;
            }
            //if looping through with id then force update of all fields.
            if (!eventInfo){
                updateClass=true;
            }
            //if class is not set, then set to default class 0
            if (isNaN(baseClassNum)){
                //force to zero?
                setter[classNumberField] = classNum;
                updateClass=true;
				hadToSetClass=true;
            }

            if (classNum !== classRadio) {
                setter[classRadioField] = classNum;
                updateClass=true;
            }

            if (!updateClass && eventInfo) {
                updateStr=eventInfo.sourceAttribute.toLowerCase();
                tempMatches = updateStr.match(/lvlstr|range_pick|range|sp_misc|cl_misc|spellclass_number|spell_level|dc_misc|concen/);
                if (tempMatches && tempMatches[0]) {
                    switch (tempMatches[0]) {
						case 'range_pick':
                        case 'range':
                            updateRange=true;
							break;
                        case 'sp_misc' : updateSP=true; break;
                        case 'cl_misc' : updateClassLevel=true; break;
                        case 'spellclass_number' : updateClass=true; break;
                        case 'concen' : updateConcentration=true; break;
                        case 'spell_level' : updateSpellLevel=true; break;
                        case 'dc_misc': updateDC = true; break;
						case 'lvlstr': updateClass = true; 
							updateClassLevel=true; 
							updateConcentration=true; 
							updateSP=true;
							updateDC = true; 
							updateRange=true;
							break;
                        default: updateClass=true;//unknown just update all
                    }
                } else {
					//if we called from parseCompendiumSpell then it's lvlstr
                    TAS.warn("Unimportant field updated, do not update row: "+eventInfo.sourceAttribute);
                    return;
                }
            }


            if (isNaN(baseSpellLevel)){
                if (spellLevelRadio !== -1) {
                    setter[spellLevelRadioField]="-1";
                }
				spellLevelUndefined=true;
            } else if (spellLevel !== spellLevelRadio) {
                setter[spellLevelRadioField]=spellLevel;
                updateSpellLevel = true;
            }

            //classname
            className= v["spellclass-"+classNum+"-name"];
            if (updateClass) {
                currClassName = v[classNameField];
                if (currClassName !== className) {
                    setter[classNameField]=className;
                    setAny=1;
                }
            }

            if (isNaN(currCasterLevel)){
                updateClassLevel=true;
            }

            //set caster level
            if (updateClass || updateClassLevel) {
                casterlevel = (parseInt(v["spellclass-" + classNum + "-level-total"],10)||0) + (parseInt(v[prefix + "CL_misc"],10)||0);
                if (casterlevel < 1) { casterlevel = 1;}
                if (currCasterLevel !== casterlevel || isNaN(currCasterLevel)) {
                    setter[prefix + "casterlevel"]=casterlevel;
                    updateClassLevel=true;
                }
            }


            if ( !(spellLevelUndefined) && (updateClass || updateSpellLevel || updateDC)) {
				newDC = 10+spellLevel + spellAbilityMod + (parseInt(v[dcMiscField],10)||0);
				if (newDC !== (parseInt(v[currDCField],10)||0)) {
					setter[currDCField]=newDC;
				}
            }

            if (updateClass || updateClassLevel || updateConcentration) {
                newConcentration = casterlevel + spellAbilityMod + (parseInt(v["Concentration-" + classNum + "-misc"],10)||0) + (parseInt(v[prefix + "Concentration_misc"],10)||0);
                if (newConcentration !== (parseInt(v[prefix + "Concentration-mod"],10)||0) ) {
                    setter[prefix + "Concentration-mod"]=newConcentration;
                }
            }

            if (updateClass || updateRange || updateClassLevel){
                newRange = findSpellRange(v[prefix + "range"],currChosenRange, casterlevel)||0;
                if (newRange !== currRange) {
                    setter[prefix + "range_numeric"] = newRange;
                }
            }

            if (updateClass || updateSP || updateClassLevel ) {
                newSP = (parseInt(v["spellclass-" + classNum + "-SP_misc"],10)||0) + (parseInt(v[prefix + "SP_misc"],10)||0);
                if (newSP !== (parseInt(v[prefix + "SP-mod"],10)||0) ) {
                    setter[prefix + "SP-mod"]=newSP;
               }
            }

            if (_.size(setter)>0){
                setAttrs(setter,{silent:true},function(){
					//TAS.debug("done setting, check spell options");
					if (!spellLevelUndefined){
						//TAS.debug("updateSpell - made changes - Calling resetSpellOptions from updateSpell");
						resetSpellOptions(id,eventInfo);
						//if class or level changed update macro
						if ( hadToSetClass || updateSpellLevel ){
							updateSpellbookMacros();
						}
					}
                });
            } else {
				//TAS.debug("Nothing to set , double check spell options");
				if (!spellLevelUndefined && (id||eventInfo) ){
					//TAS.debug("updateSpell - no changes - call resetSpellOptions from updateSpell");
					resetSpellOptions(id,eventInfo);
				}
			}
        });
    },


    /*updateAllSpells - updates all spells*/
    updateAllSpells = function() {
        getSectionIDs("repeating_spells",function(ids){
            _.each(ids,function(id){
                if (!isBadRowId("repeating_spells",id)){
                    //TAS.debug("processing id: " + id);
                    updateSpell(null,id);
                }
            });
        });
    },


    /* parseSpellRangeText - Initial parse of a string from spell , it returns the value to set in the dropdown,
    * plus whether to run the range text through a secondary parse for numbers.
	* returns object with keys: dropdown, useorig, number, rangetext
	* (number only returned if number is a flat number)
	* {"dropdown":newRangeDropdown,"useorig":useOrigRangeText,"number":flatRange,"rangetext":newRangeText}
    */
    parseSpellRangeText = function (range, area) {
        var newRangeDropdown = "", tempRange = 0, tempMatches, tempMatches2, useOrigRangeText = false
            , flatRange=-1, areaRange, newRangeText="";
        //TAS.debug("at parseSpellRangeText: range:"+range+", area:"+area);
        try {
            if (!range) {
                //if range is blank, use the number in area/effect/targets since it will be "30ft emanation" or something similar
                if (!area) {
                    return {"dropdown":"blank","useorig":false,"rangetext":"","number":0};
                }
                areaRange = parseSpellRangeText(area, null);
                if (areaRange.dropdown==="unknownrange"){
                    areaRange.dropdown="blank";
                }
                if (!(areaRange.dropdown==="number"||areaRange.dropdown==="perlevel")){
                    areaRange.useorig=false;
                    areaRange.rangetext="";
                }
                return areaRange;

            }

            range = range.toLowerCase();
            //TAS.debug("range:"+range+", newRangeDropdown:"+newRangeDropdown);
            //unlimited use area
            //TAS.debug("look for unlimited");
            if (!newRangeDropdown && range==="unlimited"){
                //TAS.debug("found unlimited");
                areaRange = parseSpellRangeText(area, null);
                if (areaRange.dropdown==="unknownrange"){
                    newRangeDropdown="blank";
                } else {
                    newRangeDropdown = areaRange.dropdown;
                    if (! /short|medium|long/.test(newRangeDropdown)){
                        useOrigRangeText=areaRange.useorig;
                        if (useOrigRangeText && areaRange.rangetext){
                            range=areaRange.rangetext;
                        }
                    }
                }
            }
            if (!newRangeDropdown ){
                //and or or - use the value after if there is one.
                tempMatches =range.match(/(.*?)\s+(or|and)\s+/);
                if(tempMatches && tempMatches[1]){
                    areaRange= parseSpellRangeText(range.substring( tempMatches[0].length), null);
                    if (areaRange && (!(areaRange.dropdown==="unknownrange" || areaRange.dropdown==="blank"))){
                        newRangeDropdown = areaRange.dropdown;
                        if (areaRange.rangetext){
                            if (newRangeDropdown==="number"){
                                //flip so number is first so parseInt works
                                if (areaRange.rangetext){
                                    range= areaRange.rangetext  +" "+ tempMatches[2]   + " "+ tempMatches[1] ;
                                } else  {
                                    range=areaRange.number  +" ft. "+ tempMatches[2]   + " "+ tempMatches[1] ;
                                }
                            } else if(newRangeDropdown==="perlevel") {
                                //must add /level when it is and/or
                                if (areaRange.rangetext){
                                    range= areaRange.rangetext  +"/level "+ tempMatches[2]   + " "+ tempMatches[1] ;
                                } else  {
                                    range=areaRange.number  +"ft. /level  "+ tempMatches[2]   + " "+ tempMatches[1] ;
                                }
                            } else {
                                range=  tempMatches[1] +" "+ tempMatches[2] + " "+ areaRange.rangetext;
                            }
                        }
                        useOrigRangeText=true;
                    }
                }
            }

            if (!newRangeDropdown ) {
                if (range==="you"){
                    newRangeDropdown="personal";
                } else {
                    tempMatches = range.match(/close|short|medium|long|touch|see text|personal|special|\/level/);
                    if (tempMatches && tempMatches[0]) {
                        switch (tempMatches[0]) {
                            case 'close':
                            case 'medium':
                            case 'long':
                            case 'personal':
                            case 'touch':
                            case 'see text':
                                newRangeDropdown = tempMatches[0];
                                break;
                            case 'short':
                                newRangeDropdown = "close";
                                break;
                            case 'special':
                                newRangeDropdown = "see_text";
                                break;
                            case '/level':
                                tempMatches2 = range.match(/(\d+)(\D*)\/level/);
                                if (tempMatches2 && tempMatches2[1]) {
                                    tempRange = parseInt(tempMatches2[1], 10) || 0;
                                    range = tempMatches2[1] + (tempMatches2[2]||"");
                                    useOrigRangeText = true;
                                    newRangeDropdown="perlevel";
                                    flatRange=tempRange;
                                }
                                break;
                        }
                    }
                }
            }
            if (!newRangeDropdown){
                //number in front usually emanation, line, cone, etc
                tempRange = parseInt(range, 10);
                if (!isNaN(tempRange) && tempRange >= 0) {
                    newRangeDropdown="number";
                    flatRange=tempRange;
                    useOrigRangeText=true;
                } else {
                    //number in middle after "more than" or "within"
                    tempMatches2 = range.match(/within\s|more\sthan\s/);
                    if (tempMatches2 && tempMatches2[0]) {
                        range = range.substring(tempMatches2[0].index + tempMatches2[0].length);
                        tempRange = parseInt(range,10);
                        if (tempRange>=0){
                            newRangeDropdown="number";
                            flatRange=tempRange;
                            useOrigRangeText=true;
                        }
                    }
                }
            }
            if (!newRangeDropdown && area){
                areaRange= parseSpellRangeText(area,null);
                newRangeDropdown=areaRange.dropdown;
                if (newRangeDropdown==="number"||newRangeDropdown==="perlevel"){
                    useOrigRangeText=true;
                    range=areaRange.rangetext;
                }
            }

        } catch (errorParsing) {
            TAS.error("parseSpellRangeText, error",errorParsing);
            newRangeDropdown="unknownrange";
            useOrigRangeText=true;
        }
        if (!newRangeDropdown){
            newRangeDropdown="unknownrange";
            useOrigRangeText=true;
        }
        if (useOrigRangeText === true) {
            if (newRangeDropdown !== "unknownrange") {
                //erase everything in parenthesis - also ltrim and rtrim
                newRangeText = range.replace(/\s*\(.*?\)/,'').replace(/^\s+/,'').replace(/\s+$/,'').replace('feet','ft.');
            } else {
                newRangeText = range;
            }
        }
        //TAS.debug("returning: newRangeDropdown:"+newRangeDropdown+", origtext?:"+useOrigRangeText+", flatrange:"+flatRange + ", rangetext:"+newRangeText);
        return {"dropdown":newRangeDropdown,"useorig":useOrigRangeText,"number":flatRange,"rangetext":newRangeText};
    },


    /* parseCompendiumSpell - gets level and class from repeating_spells_spell_lvlstr then updates spell
    * matches class name in compendium against current spell classes in this order:
    * spell class already selected by spell dropdown, spellclass0, spellclass1, spellclass2
    * then sets spell level to the matching level for that class
    * if it cannot find then sets class name to the class level string and updates silently.
    */
    parseCompendiumSpell = function(eventInfo) {
        //TAS.debug("at parseCompendiumSpell ");
        getAttrs(["repeating_spells_spell_lvlstr", "spellclass-0-name","spellclass-1-name","spellclass-2-name"
            , "repeating_spells_range_from_compendium", "repeating_spells_target_from_compendium"
            , "repeating_spells_area_from_compendium","repeating_spells_effect_from_compendium"
        ],function(v){
            var levelStrBase=v["repeating_spells_spell_lvlstr"]
            , rangeText= v["repeating_spells_range_from_compendium"]
            , areaEffectText = (v["repeating_spells_target_from_compendium"] || "")
               + (v["repeating_spells_area_from_compendium"] || "")
               + (v["repeating_spells_effect_from_compendium"] || "" )
            , classesInital=[], classes=[] ,originalClasses=["","",""]
            , classMatch="", level=0, idx=-1
            , foundMatch=false
            , setSilent={}, i=0
            , classesToMatch ={}, tempclassname="",newRangeSettings
            , hasHunter=false, hasDruid=false, hasRanger=false
            , minHunterSpellLevel=99, hunterIdx=99
            , counter=0
			, callUpdateSpell=true
            ;
            if (levelStrBase) {
                try {
                    levelStrBase= levelStrBase.toLowerCase();
                    //get first word in names of classes (since users may put archetypes or other variables in)
                    //if (currClass) {classesToMatch[0]=currClass.toLowerCase().replace(/^\s+/,"").match(/\w[^\d]+/)[0];}
                    if (v["spellclass-0-name"]) {
                        tempclassname=v["spellclass-0-name"].toLowerCase().replace(/^\s+/,"").match(/\w+/)[0];
                        classesToMatch[tempclassname] = 0;
                        originalClasses[0]=tempclassname;
                        if (/hunter/.test(tempclassname)) {
                            hasHunter=true;
                            hunterIdx=0;
                        } else if (/druid/.test(tempclassname)) {
                            hasDruid=true;
                        } else if (/ranger/.test(tempclassname)){
                            hasRanger=true;
                        }
                    }
                    if (v["spellclass-1-name"]) {
                        tempclassname=v["spellclass-1-name"].toLowerCase().replace(/^\s+/,"").match(/\w+/)[0];
                        classesToMatch[tempclassname] = 1;
                        originalClasses[1]=tempclassname;
                        if (/hunter/.test(tempclassname)) {
                            hasHunter=true;
                            hunterIdx=1;
                        } else if (/druid/.test(tempclassname)) {
                            hasDruid=true;
                        } else if (/ranger/.test(tempclassname)){
                            hasRanger=true;
                        }
                    }
                    if (v["spellclass-2-name"]) {
                        tempclassname=v["spellclass-2-name"].toLowerCase().replace(/^\s+/,"").match(/\w+/)[0];
                        classesToMatch[tempclassname] = 2;
                        originalClasses[2]=tempclassname;
                        if (/hunter/.test(tempclassname)) {
                            hasHunter=true;
                            hunterIdx=2;
                        } else if (/druid/.test(tempclassname)) {
                            hasDruid=true;
                        } else if (/ranger/.test(tempclassname)){
                            hasRanger=true;
                        }
                    }
                    if (!(hasHunter && (hasDruid || hasRanger))){
                        //if user is hunter AND other theer it's based on then can't tell.

                        if (_.size(classesToMatch)>0) {

                            //add the translated classes from classesUsingOtherSpellLists
                            _.each(classesToMatch,function(classindex,classname){
                                _.each(classesUsingOtherSpellLists,function(toclass,fromclass){
                                    if (classname.indexOf(fromclass)>=0){
                                        classesToMatch[toclass]= classindex;
                                    }
                                });
                            });

                            //from spell: first split on comma between classes, then on spaces between classname and level
                            classesInital=levelStrBase.split(/\s*,\s*/);
                            classes = _.map(classesInital,function(a){
                                return a.split(/\s+/);
                            });
                            for (i=0;i<classes.length;i++){
                                classes[i][1]=(parseInt(classes[i][1],10)||0);
                            }
                            //classes example: [["sorcerer/wizard","2"],["summoner","1"],["inquisitor","3"],["magus","2"]]
                            if (hasHunter){
                                for (i=0;i<classes.length;i++){
                                    if (/druid|ranger/.test(classes[i][0]) && classes[i][1] < minHunterSpellLevel){
                                        minHunterSpellLevel=classes[i][1];
                                        classMatch=classes[i][0];
                                    }
                                }
                                if (minHunterSpellLevel < 99) {
                                    counter++;
                                    foundMatch=true;
                                    level = minHunterSpellLevel;
                                    idx=hunterIdx;
                                }
                            }
                            _.each(classesToMatch,function(classindex,classname){
                                for (i=0;i<classes.length;i++){
                                    //TAS.debug("comparing compendium "+classes[i][0]+" with character "+ classname+" index "+classindex);
                                    //classes on left because it can be longer and have multiple class names such as cleric/druid
                                    if (classes[i][0].indexOf(classname)>=0) {
                                        counter++;
                                        if (!foundMatch){
                                            classMatch=originalClasses[classindex];
                                            level = classes[i][1];
                                            idx=classindex;
                                            foundMatch=true;
                                        }
                                    }
                                }
                            });
                        }
                    }
                } catch (err) {
                    classMatch="";
                }

                if(counter > 1 || !foundMatch){
                    TAS.warn("parseCompendiumSpell: did not find class match");
                    //leave at current choice if there is one
                    setSilent["repeating_spells_spell_level"]="";
                    setSilent["repeating_spells_spell_level_r"]=-1;
                    setSilent["repeating_spells_spell_class_r"]=-1;
                    setSilent["repeating_spells_spellclass_number"]="";
                    setSilent["repeating_spells_spellclass"]=levelStrBase;
					callUpdateSpell=false;
                } else {
                    //TAS.debug("found match! "+classMatch+", level:"+level+", idx:"+idx);
                    //setter["repeating_spells_spellclass_number"]=idx;
					setSilent["repeating_spells_spellclass_number"]=idx;
                    setSilent["repeating_spells_spell_level"]=level;
                    setSilent["repeating_spells_spell_level_r"]=level;
                    setSilent["repeating_spells_spellclass"]=classMatch;
                    setSilent["repeating_spells_spell_class_r"]=idx;
                }
            }

            if (rangeText) {
                //TAS.debug("parse compendium range text is :"+rangeText);
                try {
                    newRangeSettings= parseSpellRangeText(rangeText,areaEffectText);
                    //TAS.debug("the new range settings are: ");
                    //TAS.debug(newRangeSettings);
                    setSilent["repeating_spells_range_pick"]=newRangeSettings.dropdown;
                    setSilent["repeating_spells_range"]=newRangeSettings.rangetext;
                } catch (err2) {
                    TAS.error(err2);
                    setSilent["repeating_spells_range"]=rangeText.replace(/\s*\(..*/,'');
                    setSilent["repeating_spells_range_pick"]="unknownrange";
                }
            }

            if (areaEffectText) {
                setSilent["repeating_spells_targets"]=areaEffectText;
            }

            setSilent["repeating_spells_spell_lvlstr"]="";
            setSilent["repeating_spells_range_from_compendium"]="";
            setSilent["repeating_spells_target_from_compendium"]="";
            setSilent["repeating_spells_area_from_compendium"]="";
            setSilent["repeating_spells_effect_from_compendium"]="";

            if (_.size(setSilent)>0){
                setAttrs(setSilent,{silent:true},function(){
					//TAS.debug("parseCompendiumSpell Got back from updating compendium spell");
					if (callUpdateSpell) {
						//TAS.debug("parseCompendiumSpell found class level match, calling updateSpell with event",eventInfo);
						updateSpell(eventInfo);
					}
				});
            }
        });
    },

	resetSpellsPrepared = function(){
        getSectionIDs("repeating_spells",function(ids){
			var fieldarray=[];
            _.each(ids,function(id){
				var idstr=getRepeatingIDStr(id);
                if (!isBadRowId("repeating_spells",id)){
                    fieldarray.push( "repeating_spells_"+ idstr+"spells_used" );
					fieldarray.push( "repeating_spells_"+ idstr+"prepared_state");
                }
            });
			getAttrs(fieldarray,function(v){
				var setter={};
				_.each(ids,function(id){
					var idstr=getRepeatingIDStr(id);
					if ((parseInt(v["repeating_spells_"+ idstr+"spells_used"] ,10)||0) >0 && 
							(parseInt(v["repeating_spells_"+ idstr+"prepared_state"],10)||0)===0) {
						setter["repeating_spells_"+ idstr+"prepared_state"]=1;
					} else if ((parseInt(v["repeating_spells_"+ idstr+"spells_used"] ,10)||0) ===0 && 
							(parseInt(v["repeating_spells_"+ idstr+"prepared_state"],10)||0)!=0) {
						setter["repeating_spells_"+ idstr+"prepared_state"]=0;
					}
				});	
				if (_.size(setter)){
					setAttrs(setter,{silent:true});
				}
			});
        });
	},

    /*********************************ROW ********************************************/

    /*setRowId - updates new_flag and id for a row.
    * Within row context of a repeating section item,
    * if _new_flag is blank or 0 then call handleRepeatingRowOrdering
    * @section {string} = the name of the repeating section that appears after "repeating_"
    * @eventinfo = from the event that launched this
    */
    setRowId = function (section, eventInfo) {
		try{
			if ((!eventInfo || !eventInfo.sourceAttribute) && (! /ids\-show/i.test(eventInfo.sourceAttribute))) { return; }
			var startIdx = 0, endIdx=0, newid="", fieldName = eventInfo.sourceAttribute.replace("ids-show","row_id"), setter={};
			if (section){
				startIdx = 11 + section.length;
			} else {
				startIdx = eventInfo.sourceAttribute.indexOf("_",10)+1;
			}
			endIdx = eventInfo.sourceAttribute.indexOf("_",startIdx);
			if (startIdx > 0 && endIdx > startIdx  )  {
				newid = eventInfo.sourceAttribute.slice(startIdx,endIdx);
				setter[fieldName]=newid;
				setAttrs(setter,{silent:true});
			}
		} catch (err){
			TAS.error("got error",err);
		}
    },

    setIsNPC = function(){
        getAttrs(["npc-hd","npc-hd2","npc-cr"],function(v){
            if ((parseInt(v["npc-hd"],10)||0) > 0 || (parseInt(v["npc-hd2"],10)||0)>0 || (v["npc-cr"] )){
                setAttrs({"is_npc":"1"});
            }
        });
    },



    /******************************************** EVENTS ********************************************/
    abilityEventsAuto = "change:REPLACE-cond",
    abilityEventsPlayer = "change:REPLACE-base change:REPLACE-enhance change:REPLACE-misc change:REPLACE-temp change:REPLACE-damage change:REPLACE-penalty change:REPLACE-drain",
    saveEventsAuto = "change:saves-cond change:total-REPLACE change:REPLACE-ability-mod",
    saveEventsPlayer = "change:REPLACE-trait change:REPLACE-enhance change:REPLACE-resist change:REPLACE-misc",
    skillEventsAuto = "change:acp change:checks-cond change:phys-skills-cond change:REPLACE-ability-mod change:REPLACE-misc-mod",
    skillEventsPlayer = "change:REPLACE-cs change:REPLACE-ranks change:REPLACE-racial change:REPLACE-feat change:REPLACE-item",
    defenseEventsAuto = "change:bab change:ac-penalty change:cmd-penalty change:size change:ac-shield change:ac-armorchange:ac-ability-mod change:ff-dex change:cmd-dex change:ff-cmd-dex change:cmd-str change:max-dex",
    defenseEventsPlayer = "change:ff-dex change:ac-penalty change:cmd-penalty change:size change:ac-dodge change:ac-natural change:ac-deflect change:ac-misc change:cmd-misc",
    defenseEventsEither = "change:size change:AC-ability change:FF-ability change:CMD-ability1 change:CMD-ability2 change:CMD-ability",



    /*************************************** Events to Methods ***************************************************/

    conditionEventsEither={
          "change:condition-grappled": [updateGrapple, updateConditionAttackPenalty, updateConditionAttackNote]
        , "change:condition-pinned": [updatePin, updateConditionDefensePenalty]
        , "change:condition-wounds": [updateConditionCheckPenalty, updateConditionsSavePenalty, updateConditionAttackPenalty, updateConditionDefensePenalty]
    },
    conditionEventsPlayer = {
         "change:condition-Sickened": [updateDamage, updateConditionCheckPenalty, updateConditionsSavePenalty, updateConditionAttackPenalty]
        , "change:condition-stunned": [updateDefenses, updateConditionDefensePenalty]
        , "change:condition-Flat-Footed": [updateDefenses]
        , "change:condition-deafened": [updateInit, updateCastingPenaltyNote]
        , "change:condition-fatigued": [updateConditionAbilityPenalty]
        , "change:condition-entangled": [updateConditionAbilityPenalty, updateConditionAttackPenalty]
        , "change:condition-drained": [updateDrainCheckbox, updateMaxHP, updateConditionCheckPenalty, updateConditionsSavePenalty, updateConditionAttackPenalty, updateConditionDefensePenalty]
        , "change:condition-fear": [updateConditionCheckPenalty, updateConditionsSavePenalty, updateConditionAttackPenalty]
        , "change:condition-blinded": [updateConditionCheckPenalty, updateConditionDefensePenalty]
        , "change:condition-cowering": [updateConditionDefensePenalty]
        , "change:condition-invisible": [updateConditionAttackNote, updateDefenses, updateConditionDefensePenalty, updateConditionAttackPenalty]
        , "change:condition-dazzled": [updateConditionAttackPenalty]
        , "change:condition-prone": [updateConditionAttackPenalty]
    },
    // events pass in the column updated macro-text is "either", buffs are auto only
    buffEvents={
         "Ranged":[updateAttack],"Melee":[updateAttack],"DMG":[updateDamage]
        ,"Fort":[updateSave],"Will":[updateSave],"Ref":[updateSave]
        ,"STR":[updateAbility], "DEX":[updateAbility], "CON":[updateAbility], "INT":[updateAbility], "WIS":[updateAbility], "CHA":[updateAbility]
    },
    // events do NOT pass in column updated
    buffEventsNoParam={
         "AC":[updateDefenses],"Touch":[updateDefenses],"CMD":[updateDefenses]
        ,"HP-temp":[updateTempMaxHP],"Check":[updateConditionCheckPenalty]
    },
    // events for updates to top of class page, each one calls isSpellClassExists
    spellcastingClassEventsAuto = {
          "change:concentration-REPLACE-mod": [updateBonusSpells, updateSaveDCs, updateConcentration, updateSpellsCasterAbilityRelated]
        , "change:spellclass-REPLACE-level-total": [updateConcentration, updateClassSpellPenetration, updateCasterRanges, updateSpellsCasterLevelRelated]
    },
    spellcastingClassEventsEither = {
          "change:concentration-REPLACE-ability": [handleConcentrationAbilityDropdown, updateBonusSpells]
    },
	//when ready:
	//change:concentration-REPLACE-misc  change:CasterLevel-REPLACE-note
    spellcastingClassEventsPlayer = {
          "change:concentration-REPLACE-misc": [updateConcentration, updateSpellsCasterLevelRelated]
        , "change:concentration-REPLACE-def": [updateSpellsCasterLevelRelated]
        , "change:spellclass-REPLACE-SP_misc": [updateClassSpellPenetration, updateSpellsCasterLevelRelated]
    },
    // events for updates to top of class page even if no spellcasting class exists
    spellcastingClassEventsIgnoreLevel = {
          "change:spellclass-REPLACE-level-misc": [updateCasterLevel]
        , "change:spellclass-REPLACE": [handleCasterClassDropdown]
        , "change:spellclass-REPLACE-level": [updateCasterLevel, updateMultiClassedCasterFlag]
        , "change:buff_CasterLevel-total change:condition-Drained change:CasterLevel-Penalty": [updateCasterLevels]
    },
    //events for updateBonusSpells section CLASSIDX is the 0-2 classes, SPELLLEVEL is 0-9
    spellcastingClassEventsPerSpellLevel = "change:spellclass-CLASSIDX-level-SPELLLEVEL-class change:spellclass-CLASSIDX-level-SPELLLEVEL-bonus change:spellclass-CLASSIDX-level-SPELLLEVEL-misc",
    //events for spell repeating rows
    repeatingSpellEventsPlayer = {
          "change:repeating_spells:DC_misc change:repeating_spells:Concentration_misc change:repeating_spells:range change:repeating_spells:range_pick change:repeating_spells:CL_misc change:repeating_spells:SP_misc": [updateSpell]
          , "change:repeating_spells:spell_lvlstr": [parseCompendiumSpell]
    },
    repeatingSpellEventsEither = {
        "change:repeating_spells:spellclass_number change:repeating_spells:spell_level": [updateSpell]
    },

    /**********************************************  MIGRATIONS  **********************************/


    migrateSpellRanges = function(callback) {
        TAS.debug("at migrateSpellRanges ");
		getAttrs(["spellranges_migrated"],function(m){
			if (m["spellranges_migrated"]=="1"){
				if (typeof callback === "function"){
					callback();
				} else {
					return;
				}
			}
			getSectionIDs("repeating_spells",function(ids){
				var fields = [];
				_.each(ids,function(id){
					var prefix = "repeating_spells_"  + getRepeatingIDStr(id);
					fields=fields.concat([ prefix + "casterlevel", prefix + "range", prefix + "range_numeric", prefix + "range_pick", prefix + "targets", prefix+"name"]);
					});
				//TAS.debug(fields);
				getAttrs(fields,function(v){
					var  setter={};
					//TAS.debug(v);
					_.each(ids,function(id){
						var prefix = "repeating_spells_"  + getRepeatingIDStr(id)
							, casterlevel = parseInt(v[prefix + "casterlevel"],10)||1
							, chosenRange = v[prefix+"range_pick"]
							, rangeText = v[prefix+"range"]||""
							, areaEffect = v[prefix+"targets"]||""
							, name = v[prefix+"name"]
							, newRange = 0, rangeUpdates
							, resetDropdown=false
							;
	
						//if dropdown is blank but text filled in try to migrate
						if (!chosenRange && !rangeText){
							setter[prefix+"range"]="";
							setter[prefix+"range_numeric"]=0;
							setter[prefix+"range_pick"]="blank";
						} else if (((!chosenRange) || chosenRange==="blank") && rangeText) {
							rangeUpdates = parseSpellRangeText(rangeText,areaEffect);
							if (rangeUpdates){
								chosenRange = rangeUpdates.dropdown;
								if (chosenRange==="number"||chosenRange==="perlevel" || rangeUpdates.useorig) {
									rangeText = rangeUpdates.rangeText;
								} 
								newRange = findSpellRange(rangeText,chosenRange, casterlevel)||0;
							} else {
								//error
								chosenRange="unknownrange";
								newRange=0;
							}
							//else just keep range text in case they have something they want to keep
							setter[prefix+"range"]=rangeText;
							setter[prefix+"range_numeric"]=newRange;
							setter[prefix+"range_pick"]=chosenRange;
						} 
					});
					if (_.size(setter)>0){
						if (typeof callback === "function"){
							setAttrs(setter,{silent:true},callback());
						} else {
							setAttrs(setter,{silent:true});
						}
					} else if (typeof callback === "function"){
						callback();
					}
					setAttrs({"spellranges_migrated":"1"},{silent:true});

				});
			});
		});
	},




    /*  handleOldSpellClassDropdown - determines spell class from class dropdown in the spell repeating row
    */
    handleOldSpellClassDropdown = function (selected, class0name, class1name, class2name) {
        if (!selected) { return 0; } //it is undefined if it is default set to the first one
        if (selected.indexOf("0") >= 0) { return 0; }
        if (selected.indexOf("1") >= 0) { return 1; }
        if (selected.indexOf("2") >= 0) { return 2; }
        if (selected === class0name) { return 0; }
        if (selected === class1name) { return 1; }
        if (selected === class2name) { return 2; }
        return 0;
    },

    updateOldSpell = function (section, id, eventInfo, forceRange,callback) {
        if (section.indexOf("lvl")!=0 && section.indexOf("npc")!=0) { return; }
        var idStr = getRepeatingIDStr(id)
            ,isNPC = section.indexOf("npc")>=0?1:0
            ,prefix = "repeating_" + section + "_" + idStr
            ,spellclassField = prefix + "spellclass"
            ,spellLevelField = isNPC?(prefix + "level"):(prefix + "spell_level")
        ;
        getAttrs([spellLevelField, spellclassField, "spellclass-0-name", "spellclass-1-name", "spellclass-2-name"], function (va) {
            var currSpellLevel = parseInt(va[spellLevelField], 10)
                , spellLevel = isNPC?(isNaN(currSpellLevel)?0:currSpellLevel):(isNaN(currSpellLevel) ? parseInt(section.substring(4), 10) : currSpellLevel)
                , classNum = isNPC?(section.indexOf("1")>=0?0:(section.indexOf("2")>=0?1:0)):(handleOldSpellClassDropdown(va[spellclassField], va["spellclass-0-name"], va["spellclass-1-name"], va["spellclass-2-name"]) || 0)
                , hiddenclassNumField = prefix + "spellclass_number"
                , spellDefCastDCField = prefix + "cast_def_dc"
                , spellDefConField = prefix + "cast_def-mod"
                , spellDCField = prefix + "savedc"
                , spellDCUserField = prefix + "DC_misc"
                , spellCLField = prefix + "casterlevel"
                , spellCLUserField = prefix + "CL_misc"
                , spellConField = prefix + "Concentration-mod"
                , spellConUserField = prefix + "Concentration_misc"
                , spellSpellPenField = prefix + "SP-mod"
                , spellSpellPenUserField = prefix + "SP_misc"
                , classCLField = "spellclass-" + classNum + "-level-total"
                , classDCField = "spellclass-" + classNum + "-level-" + spellLevel + "-savedc"
                , classConField = "Concentration-" + classNum
                , classDefConField = "Concentration-" + classNum + "-def"
                , classSpellPenField = "spellclass-" + classNum + "-SP-mod"
                , spellRangeText = prefix + "range"
                , spellRangeNum = prefix + "range_numeric"
                , spellRangeTarget = prefix + "targets";

            getAttrs([hiddenclassNumField, spellDCField, spellDCUserField, spellCLField, spellCLUserField
                , spellConField, spellConUserField, spellDefConField, spellDefCastDCField
                , spellSpellPenField, spellSpellPenUserField, classDCField, classCLField
                , classConField, classDefConField, classSpellPenField
                , spellRangeText, spellRangeNum, spellRangeTarget], function (v) {
                    var newDC, newCL, newCon, newDefCon, newSpellPen
                    , currDC = parseInt(v[spellDCField], 10)
                    , currCL = parseInt(v[spellCLField], 10)
                    , currCon = parseInt(v[spellConField], 10)
                    , currDefCon = parseInt(v[spellDefConField], 10)
                    , currdefDC = parseInt(v[spellDefCastDCField], 10)
                    , currSpellPen = parseInt(v[spellSpellPenField], 10)
                    , classDC = (parseInt(v[classDCField], 10) || 0)
                    , classCL = (parseInt(v[classCLField], 10) || 0)
                    , classCon = (parseInt(v[classConField], 10) || 0)
                    , classDefConMod = (parseInt(v[classDefConField], 10) || 0)
                    , classSpellPen = (parseInt(v[classSpellPenField], 10) || 0)
                    , defDC = 15 + (spellLevel * 2)
                    , currClassNum = parseInt(v[hiddenclassNumField], 10)
                    , currRange = parseInt(v[spellRangeNum], 10)
                    , newRange = 0
                    , setter = {}, setAny = 0
                    , classLevelDelta = 0
                    , updateRange = false
                    ;
                    if (classNum !== currClassNum || isNaN(currClassNum)) {
                        setter[hiddenclassNumField] = classNum;
                        setAny = 1;
                        //updateRange = true;
                    }
                    //prepare for migration of npc spells
                    if (isNPC){
                        if (classNum===0) {
                            //set dropdown
                            setter["spellclass"]="@{spellclass-0-name}";
                            if ( ! va["spellclass-0-name"] ) {
                                setter["spellclass-0-name"]="NPC 1";
                            }
                            setAny = 1;
                        } else if (classNum===1) {
                            setter["spellclass"]="@{spellclass-1-name}";
                            if ( ! va["spellclass-1-name"] ) {
                                setter["spellclass-1-name"]="NPC 2";
                            }
                            setAny=1;
                        }
                    }
                    if (!isNaN(spellLevel) && (currSpellLevel !== spellLevel || isNaN(currSpellLevel))) {
                        setter[spellLevelField] = spellLevel;
                        setAny = 1;
                    }

                    newCL = (parseInt(v[spellCLUserField], 10) || 0) + classCL;
                    if (newCL !== currCL || isNaN(currCL)) {
                        setter[spellCLField] = newCL;
                        setAny = 1;
                        updateRange = true;
                    }
                    if (defDC !== currdefDC || isNaN(currdefDC)) {
                        setter[spellDefCastDCField] = defDC;
                        setAny = 1;
                    }
                    classLevelDelta = newCL - classCL;
                    newDC = (parseInt(v[spellDCUserField], 10) || 0) + classDC;
                    if (newDC !== currDC || isNaN(currDC)) {
                        setter[spellDCField] = newDC;
                        setAny = 1;
                    }
                    newCon = (parseInt(v[spellConUserField], 10) || 0) + classCon + classLevelDelta;
                    if (newCon !== currCon || isNaN(currCon)) {
                        setter[spellConField] = newCon;
                        setAny = 1;
                    }
                    newDefCon = newCon + classDefConMod;
                    if (newDefCon !== currDefCon || isNaN(currDefCon)) {
                        setter[spellDefConField] = newDefCon;
                        setAny = 1;
                    }
                    newSpellPen = classSpellPen + (parseInt(v[spellSpellPenUserField], 10) || 0) + classLevelDelta;
                    if (newSpellPen !== currSpellPen || isNaN(currSpellPen)) {
                        setter[spellSpellPenField] = newSpellPen;
                        setAny = 1;
                    }
                    if (updateRange || forceRange || isNaN(currRange)) {
                        newRange = findSpellRange(v[spellRangeText], newCL);
                        if (isNaN(newRange)) {
                            if (isNaN(currRange)){
                                newRange=-1;
                            } else {
                                newRange = currRange;
                                currRange--;
                            }
                        }
                        if (newRange !== currRange || isNaN(currRange)) {
                            setter[spellRangeNum] = newRange;
                            setAny = 1;
                        }
                    }

                    if (setAny) {
                        setAttrs(setter, { silent: true } );
                    }
                    //cannot wait for callback of setAttrs since it will not call if there were no changes.
                    if (typeof callback === "function") {
                        callback();
                    }
                });
        });

    },


    //all user editable fields
    spellUserFieldDefaults= {
         "spellclass_number":{"type":"int","val":0},"used":{"type":"int","val":0},"spell_level":{"type":"int","val":-1}
        ,"CL_misc":{"type":"int","val":0},"SP_misc":{"type":"int","val":0},"Concentration_misc":{"type":"int","val":0}
        ,"range":{"type":"text","val":""},"name":{"type":"text","val":""}
        ,"school":{"type":"text","val":""},"cast-time":{"type":"text","val":""},"components":{"type":"text","val":""}
        ,"targets":{"type":"text","val":""},"duration":{"type":"text","val":""},"save":{"type":"text","val":""}
        ,"sr":{"type":"text","val":""},"description":{"type":"text","val":""}
        ,"macro-text":{"type":"text","val":"@{PC-whisper} &{template:pf_spell} {{color}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}"}
        ,"npc-macro-text":{"type":"text","val":"@{NPC-whisper} &{template:pf_spell} {{color}} {{header_image=@{header_image-pf_spell}}} {{name=@{name}}} {{character_name=@{character_name}}} {{character_id=@{character_id}}} {{subtitle}} @{spell_options}"}
        ,"isDomain":{"type":"checkbox","val":"0"}
    },

    /* migrateSpells - moves spells from repeating-lvl-*-spells and npc spells to repeating_spells */
    migrateSpells = function(){

        var migrateCheckedSpells = function () {
            getAttrs(["migrated_spells"],function(vm){
                if (vm["migrated_spells"]=="1"){return;}

                var countofSpells=0, spellsUpdated=0, spellUserFields=[],
                countofSections=12, sectionsCounted=0,
                idmap = {},
                sectionsToMigrate = [
                    "lvl-0-spells", "lvl-1-spells", "lvl-2-spells", "lvl-3-spells", "lvl-4-spells"
                  , "lvl-5-spells", "lvl-6-spells", "lvl-7-spells", "lvl-8-spells", "lvl-9-spells"
                  , "npc-spells1", "npc-spells2"
                ],
                finishUp = function() {
                    setAttrs({"spellmap":JSON.stringify(idmap)});
                },
                updateAtEnd ,
                migrateSpell = function(section,id,callback) {
                    var prefix=""
                        ,prefixLen=0
                        ,oldAttribList=[];
                    if (id === undefined || id === null || section === undefined || section === null) {
                        callback();
                        return;
                    }
                    prefix = "repeating_"+section+"_"+id+"_";
                    prefixLen=prefix.length;

                    _.each(spellUserFields,function(field){
                        oldAttribList.push(prefix+field);
                    });
                    //TAS.debug(oldAttribList);
                    getAttrs(oldAttribList,function(v){
                        var spellLevel= 0
                            ,newId=""
                            ,newPrefix= ""
                            ,setter={}
                            ,allNonBlank=true;

                        //undefined for any attribute indicates it is outlined in red
                        //for some reason checking name and === works better than checking typeof
                        if (v[prefix+"name"]===undefined  ){
                            TAS.error("cannot migrate " + id);
                            updateAtEnd();
                            return;
                        }
                        //if any are null or undefined skip this row,
                        _.each(v,function(val){
							//saw some that were undefined but typeof came back something else? how?
                            if (val === undefined || val===null || typeof val === "undefined" || typeof val==="null"  ) {
                                TAS.error("cannot migrate " + id);
                                updateAtEnd();
                                return;
                            }
                            if (val!=="" || (parseInt(val,10)||0)!==0){
                                allNonBlank=false;
                            }
                        });
                        //if all are blank or zero then skip this row
                        if (allNonBlank){
                            TAS.error("cannot migrate " + id);
                            updateAtEnd();
                            return;
                        }
                        //passed check, so generate new id and attribute list
                        newId=generateRowID();
                        //TAS.debug("Passed test, migrating " + id +" to new "+newId);
                        newPrefix="repeating_spells_"+newId+"_";
                        idmap["repeating_"+section+"_"+id+"_"]= "repeating_spells_"+newId+"_";
                        _.each(v,function(val,field){
                            var  col = field.substring(prefixLen);
                            switch (spellUserFieldDefaults[col].type) {
                                case 'int':
                                    setter[newPrefix+col] = parseInt(val,10)||0;
                                    break;
                                case 'text':
                                    setter[newPrefix+col] = val;
                                    break;
                                case 'checkbox':
                                    setter[newPrefix+col] = val;
                                    break;
                                default:
                                    setter[newPrefix+col] = val;
                            }
                        });
                        spellLevel=parseInt(v[prefix+"spell_level"],10);
                        //redo spell level since default is -1 instead of 0
                        if (isNaN(spellLevel)){
                            setter[newPrefix+"spell_level"]="";
                            setter[newPrefix+"spell_level_r"]=-1;
                        } else {
                            setter[newPrefix+"spell_level"]=spellLevel;
                            setter[newPrefix+"spell_level_r"]=spellLevel;
                        }
                        setter[newPrefix+"spell_class_r"] = parseInt(v[prefix+"spellclass_number"],10)||0;
                        //TAS.notice("Setting "+newPrefix+"spellclass_number:"+ setter[newPrefix+"spellclass_number"] +", spell_level_r:"+setter[newPrefix+"spell_level"]+" and ensure undefined old level "+ setter[prefix+"spell_level"]+" for spell new "+setter[newPrefix+"name"]+", old:" + v[prefix+"name"]);
                        //TAS.log(setter);

                        setAttrs(setter,{silent:true},function(){
                            updateAtEnd();
                            return;
                        });
                    });
                },

                migrateUpdatedSpells = function() {
                    _.each(sectionsToMigrate,function(section){
                        var repeatingsection="repeating_"+section ;
                        getSectionIDs(repeatingsection,function(ids){
                            var goodIds=_.filter(ids,function(id){
                                if (isBadRowId(section,id,false)){
                                    spellsUpdated++;
                                    return false;
                                }
                                return true;
                            });
                            _.each(goodIds,function(id){
                                migrateSpell(section, id,  function(){
                                    //TAS.debug("at callback");
                                });
                            });
                        });
                    });
                },

                updateOldSpells = function() {
                    //re-update each spell before migrating, in case some are very old.
                    _.each(sectionsToMigrate,function(section){
                        var repeatingsection="repeating_"+section ;
                        getSectionIDs(repeatingsection,function(ids){
                            var goodIds=_.filter(ids,function(id){
                                if (isBadRowId(section,id,false)){
                                    spellsUpdated++;
                                    return false;
                                }
                                return true;
                            });
                            _.each(goodIds,function(id){
                                updateOldSpell(section,id,null,true,function(){
                                    spellsUpdated++;
                                    if (spellsUpdated === countofSpells){
                                        migrateUpdatedSpells();
                                    }
                                });
                            });
                        });
                    });
                }
                ;


                //create array from keys from spellUserFieldDefaults
                _.each(spellUserFieldDefaults,function(defMap,field){
                    spellUserFields.push(field);
                });

                //get total count of spells to migrate
                _.each(sectionsToMigrate,function(section){
                    getSectionIDs("repeating_" + section ,function(ids){
                        countofSpells+= ids.length;
                        sectionsCounted++;
                        if (sectionsCounted === countofSections) {
                            updateAtEnd = _.after(countofSpells,function(){
                                //TAS.debug("called updateAtEnd");
                                finishUp();});
                            //TAS.debug("there are "+ countofSpells + " spells to migrate!");
                            updateOldSpells();
                        }
                    });
                });
                setAttrs({"migrated_spells":"1"});

            });
        };



        getAttrs(["migrated_spells"],function (vm){
            if (vm["migrated_spells"]=="1"){return;}
            migrateCheckedSpells();
        });
    },

    migrateCombatEffectsToBuffs = function () {
        // This routine will generate new repeating_buff entries using the attack and damage effects
        //then delete the old attack and damage effects
        var setter={}, setterToClear={}
        , copyToBuff = function(type,v){
            var i=0,toggleField="",typeField="",modField,mod,prefix="",newRowId="",midfix="",migratedAny=0;
            for (i=1;i<5;i++){
                modField=type+"-effect_mod_"+i;
                toggleField=modField+"_Toggle";
                typeField=modField+"_type";
                mod=parseInt(v[modField],10);
                if (mod){
                    newRowId = generateRowID();
                    prefix="repeating_buff_" + newRowId + "_buff-";
                    setter[prefix+"name"]=(v[typeField]||(type+" effect "+i));
                    //attk-effect_mod_1_type
                    setter[prefix+"enable_toggle"]=v[toggleField];
                    setter[prefix+"notes"]="Migrated from "+type+"-effect_mod_"+i;
                    if (type==="attk"){
                        setter[prefix+"Ranged_macro-text"]=v[modField];
                        setter[prefix+"Melee_macro-text"]=v[modField];
                        setter[prefix+"Ranged-show"]="1";
                        setter[prefix+"Melee-show"]="1";
                    } else {
                        setter[prefix+"DMG_macro-text"]=v[modField];
                        setter[prefix+"DMG-show"]="1";
                    }
                    midfix="-effect_mod_"+i;
                    setterToClear[type+midfix]="";
                    setterToClear[type+midfix+"_type"]="";
                    setterToClear[type+midfix+"_Toggle"]="0";
                    migratedAny=1;
                }
            }
            return migratedAny;
        }
        , effectFields=[ "attk-effect-total", "dmg-effect-total"
            , "attk-effect_mod_1", "attk-effect_mod_1_Toggle","attk-effect_mod_1_type"
            , "attk-effect_mod_2", "attk-effect_mod_2_Toggle","attk-effect_mod_2_type"
            , "attk-effect_mod_3", "attk-effect_mod_3_Toggle","attk-effect_mod_3_type"
            , "attk-effect_mod_4", "attk-effect_mod_4_Toggle","attk-effect_mod_4_type"
            , "dmg-effect_mod_1", "dmg-effect_mod_1_Toggle","dmg-effect_mod_1_type"
            , "dmg-effect_mod_2", "dmg-effect_mod_2_Toggle","dmg-effect_mod_2_type"
            , "dmg-effect_mod_3", "dmg-effect_mod_3_Toggle","dmg-effect_mod_3_type"
            , "dmg-effect_mod_4", "dmg-effect_mod_4_Toggle","dmg-effect_mod_4_type"
            ];
        getAttrs(effectFields,function(v){
            var setterToZeroOut={},zeroAny=0;
            copyToBuff("attk",v);
            copyToBuff("dmg",v);
            setter["migrated_effects"]="1";
            setAttrs(setter,{silent:true},function(){
                updateBuffTotals("Ranged");
                updateBuffTotals("Melee");
                updateBuffTotals("DMG");
            });
            setAttrs(setterToClear,{silent:true});
            if ((parseInt(v["attk-effect-total"],10)||0)!==0){
                setterToZeroOut["attk-effect-total"]=0;
                zeroAny=1;
            }
            if ((parseInt(v["dmg-effect-total"],10)||0)!==0){
                setterToZeroOut["dmg-effect-total"]=0;
                zeroAny=1;
            }
            if (zeroAny){
                setAttrs(setterToZeroOut,{silent:true});
            }
        });
    },

    /* migrateClassSkill - updates the class skill checkbox from that long string to a number 0 or 3
        from the original sheet */
    migrateClassSkill = function (skill) {
        var csNm = skill + "-cs";
        getAttrs([csNm], function (v) {
            var cs = 0, setter = {};
            cs = parseInt(v[csNm], 10);
            if (isNaN(cs)) {
                if (v[csNm] == "0") { cs = 0; }
                else if (v[csNm]) { cs = 3; }
                else if (!v[csNm]) { cs = 0; }
                if (cs === 3) {
                    //TAS.debug({"function":"migrateClassSkill","raw":v[csNm],"cs":cs});
                    setter[csNm] = cs;
                    setAttrs(setter);
                }
            }
        });
    },
    migrateClassSkillArray = function (skills) {
        skills.forEach(function (skill) {
            migrateClassSkill(skill);
        });
    },
    /* migrateClassSkills calls migrateClassSkill for all skills */
    migrateClassSkills = function () {
        getAttrs(["unchained_skills-show", "BG-Skill-Use"], function (uv) {
            if (uv["unchained_skills-show"] == "1") {
                if (uv["BG-Skill-Use"] == "1") {
                    migrateClassSkillArray(allCoreSkills);
                    migrateClassSkillArray(backgroundOnlySkills);
                } else {
                    migrateClassSkillArray(consolidatedSkills);
                }
            } else {
                migrateClassSkillArray(allCoreSkills);
            }
        });
    },

    /************************************** RECALCULATES AND RESETS **********************************************/
    /* recalculateRepeatingWeapons-  recalculates all repeating weapons rows.   */
    recalculateRepeatingWeapons = function () {
        getAttrs(["DMG-mod"], function (v) {
            getSectionIDs("repeating_weapon", function (ids) {
                ids.forEach(function (id, index) {
                    var prefix = "repeating_weapon_" + id + "_";
                    if (isBadRowId("weapon", id, false)) {
                        TAS.error("recalculateRepeatingWeapons, invalid id:" + id + ", index:" + index);
                        return;
                    }
                    //TAS.debug("TRACE: recalculateRepeatingWeapons id=" + id);
                    //SWUtils.setAttributeNumber(prefix + "attk-effect-total-copy", (parseInt(v["attk-effect-total"], 10) || 0));
                    //SWUtils.setAttributeNumber(prefix + "dmg-effect-total-copy", (parseInt(v["dmg-effect-total"], 10) || 0));
                    SWUtils.setAttributeNumber(prefix + "DMG-mod-copy", (parseInt(v["DMG-mod"], 10) || 0));
                    SWUtils.evaluateAndSetNumber(prefix + "damage", prefix + "damage-mod");
                    SWUtils.evaluateAndSetNumber(prefix + "attack", prefix + "attack-mod");
                    handleRepeatingAttackDropdown(id);
                    handleRepeatingDamageDropdown(id);
                    updateRepeatingWeaponAttack(id);
                    updateRepeatingWeaponDamage(id);
                });
            });
        });
    },

    /* recalculateRepeatingMaxUsed - Parses the macro text "...max-calculation" in the repeating items
    * (such as class-abilities, feats, traits, racial-traits)
    * and sets the used|max value.
    * Loops through all rows in the given repeating section.
    * @section {string}= the name of the section after the word "repeating_"
    */
    recalculateRepeatingMaxUsed = function (section) {
        getSectionIDs("repeating_" + section, function (ids) {
            ids.forEach(function (id, index) {
                var prefix = "repeating_" + section + "_" + id;
                if (isBadRowId(section, id, false)) {
                    TAS.error("recalculateRepeatingMaxUsed, invalid id:" + id + ", index:" + index);
                    return;
                }
                SWUtils.evaluateAndSetNumber(prefix + "_max-calculation", prefix + "_used_max");
            });
        });
    },

    recalculateSkillArray = function (skills) {
        skills.forEach(function (skill) {
            handleDropdown(skill + "-ability", skill + "-ability-mod");
            SWUtils.evaluateAndSetNumber(skill+"-misc", skill+"-misc-mod");
            updateSkill(skill,true);
        });
    },
    /* recalculateSkills - updates ALL skills  - calls handleDropdown for ability then updateSkill
    *  */
    recalculateSkills = function () {
        getAttrs(["unchained_skills-show", "BG-Skill-Use"], function (v) {
            if (v["unchained_skills-show"] == "1") {
                if (v["BG-Skill-Use"] == "1") {
                    recalculateSkillArray(allCoreSkills);
                    recalculateSkillArray(backgroundOnlySkills);
                } else {
                    recalculateSkillArray(consolidatedSkills);
                }
            } else {
                recalculateSkillArray(allCoreSkills);
            }
        });
    },


    /* recalculateSheet - all pages in sheet!  */
    recalculateSheet = function (oldversion) {
        if (oldversion < 0.45) {
            getAttrs(["migrated_spells"],function(vm){
                if (vm["migrated_spells"]!="1") {migrateSpells();}
            });
		}			
       if (oldversion < 0.54){
            migrateSpellRanges(resetAllSpellsOptions(null, updateAllSpells(null)));

	   }		
        if (oldversion < 0.15) {

            abilities.forEach(function (attr) {
                updateAbility(attr, null);
            });

            _.each(dropdowns, function (value, key) {
                handleDropdown(key, value);
            });
            classColumns.forEach(function (col) {
                updateClassInformation(col);
            });

            updateInit();

            SWUtils.evaluateAndSetNumber("NPC-HD-misc", "NPC-HD-misc-mod");
            updateCasterLevels();

            updateNPCMaxHP();

            updateSave("Fort");
            updateSave("Ref");
            updateSave("Will");
            updateConditionDefensePenalty();
            updateArmor();
            updateConditionAttackPenalty();
            updateAttack("Melee");
            updateAttack("Ranged");
            updateAttack("CMB");
        }
        if (oldversion < 0.16) {
            SWUtils.evaluateAndSetNumber("Max-Skill-Ranks-Misc", "Max-Skill-Ranks-mod");
            updateMaxSkills();
        }
        if (oldversion < 0.17) {
            //skills fixed in 0.17
            if (oldversion > 0) {
                //redo
                updateSkill("CS-Perception");
            }
            updateConditionAbilityPenalty();
            recalculateRepeatingMaxUsed("class-ability");
            recalculateRepeatingMaxUsed("feat");
            recalculateRepeatingMaxUsed("racial-trait");
            recalculateRepeatingMaxUsed("trait");
        }
        if (oldversion < 0.18) {
            if (oldversion > 0) {
                migrateClassSkills();
            }
        }
        if (oldversion < 0.19) {
            updateDamage();
            //handleSizeChange();
        }
        if (oldversion < 0.20) {
            recalculateRepeatingWeapons();

        }
        if (oldversion < 0.21) {
            _.each(defenseDropdowns, function (value, key) {
                handleDefenseDropdown(key);
            });
            updateDefenses();
        }

        if (oldversion < 0.31) {
            updateConditionCheckPenalty();
            updateConditionDefensePenalty();
        }
        if (oldversion < 0.32) {
            ifSpellClassExists(0, function () {
                handleCasterClassDropdown(0);
                handleConcentrationAbilityDropdown(0);
                updateCasterLevel(0);
                updateConcentration(0);
                updateSaveDCs(0);
            });
            ifSpellClassExists(1, function () {
                handleCasterClassDropdown(1);
                handleConcentrationAbilityDropdown(1);
                updateCasterLevel(1);
                updateConcentration(1);
                updateSaveDCs(1);
            });
            ifSpellClassExists(2, function () {
                handleCasterClassDropdown(2);
                handleConcentrationAbilityDropdown(2);
                updateCasterLevel(2);
                updateConcentration(2);
                updateSaveDCs(2);
            });
        }
        if (oldversion < 0.33) {
            recalculateRepeatingMaxUsed("mythic-ability");
            recalculateRepeatingMaxUsed("mythic-feat");
        }

        if (oldversion < 0.37) {
            updateLoadsAndLift();
            if (oldversion >0) {
                migrateMaxDexAndACP();
            }
        }
        if (oldversion < 0.4) {
            // Find old buff data then create repeating_buff entries for them then clear out old attributes
            migrateBuffs();
            recalculateAllBuffs();
            updateSize();
        }
        if (oldversion < 0.41 ) {
            buffColumns.forEach(function (col) {
                PFSheet.updateBuffTotals(col);
            });
            //updateArmor();
        }
        if (oldversion < 0.42 ) {
            //updateArmor();
            wornEquipmentColumns.forEach(function (column) {
                updateWornEquipment(column);
            });
            updateRepeatingItems();
            updateCarriedTotal();
            updateCurrentLoad();
        }
        if (oldversion < 0.43 ) {
            updateModifiedSpeed();
        }
        if (oldversion < 0.45) {
            
            //updateSpells(null, null,true);
            SWUtils.evaluateAndSetNumber("HP-formula-macro-text", "HP-formula-mod");
            updateTempMaxHP();
            updateMaxHP();
            updateCurrHP();
            migrateCombatEffectsToBuffs();
        }
        if (oldversion < 0.5) {
            _.each(repeatingSections,function(section){
                setRowIds(section);
            });
        }
        if (oldversion < 0.52) {
            updateCasterLevels();
            recalculateSkills();
            updateArmor();
            updateDefenses();
            setIsNPC();
        }
        if (oldversion < 0.54){
			if (oldversion > 0){
				migrateSpellRanges(resetAllSpellsOptions(null, updateAllSpells(null)));
			} else {
				resetAllSpellsOptions(null, updateAllSpells(null));
			}
			updateCastingPenaltyNote();
            updateSpellbookMacros();
            updateAttackMacros();
			resetSpellsPrepared();
        }
		if (oldversion < 0.55) {
			resetAllSpellsOptions();
		}		
		
		
    },


    /* checkForUpdate looks at current version of page in PFSheet_Version and compares to code PFSheet.version
    *  calls recalulateSheet if versions don't match or if recalculate button was pressed.
    */
    checkForUpdate = function () {
        getAttrs(["PFSheet_Version", "PFSheet_forcesync", "recalc1"], function (v) {
            var setter = {}, currVer = 0, setAny = 0, recalc = false;
            currVer = parseFloat(v["PFSheet_Version"], 10) || 0;


			TAS.notice("Attributes at version: " + currVer);

            if (currVer !== version) {
				if (currVer > 0) {
	console.log('%c|(>   Upgrading Pathfinder character sheet to '+ version+' <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
					
				}
                recalc = true;
                setter["PFSheet_Version"] = version;
                setAny = 1;
            }
            if (v["recalc1"] && v["recalc1"] == "1") {
                currVer = -1;
                recalc = true;
                setter["recalc1"] = 0;
                setAny = 1;
            }
            if (v["PFSheet_forcesync"] && v["PFSheet_forcesync"] != "0") {
                currVer = -1;
                recalc = true;
                setter["PFSheet_forcesync"] = 0;
                setAny = 1;
            }
            if (recalc) {
                recalculateSheet(currVer);
            }
            if (setAny) {
                setAttrs(setter,{silent:true});
            }
        });
    }

    ;
try {	
 console.log('%c|(>         ,## /##                   <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
 console.log('%c|(>        /#/ /  ##                  <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
 console.log('%c|(>       / / /    ##                 <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
 console.log('%c|(>        | ##___#/                  <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
 console.log('%c|(>        | ##       athfinder       <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
 console.log('%c|(>     #  | ##    sheet version      <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
 console.log('%c|(>      ### /           '+("0000" + version.toFixed(2) ).slice(-5)+
       '        <)|', 'background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
} catch (er4){
	TAS.notice("Pathfinder sheet version " + version);
}	

    return {
        lists: {
            repeatingSections: repeatingSections,
            repeatingMaxUseSections: repeatingMaxUseSections,
            abilities: abilities,
            abilityEventsAuto: abilityEventsAuto,
            abilityEventsPlayer: abilityEventsPlayer,
            abilityMods: abilityMods,
            conditionEventsEither: conditionEventsEither,
            conditionEventsPlayer: conditionEventsPlayer,
            buffColumns: buffColumns,
            dropdowns: dropdowns,
            defenseDropdowns: defenseDropdowns,
            buffEvents:buffEvents,
            buffEventsNoParam:buffEventsNoParam,
            saveTypes: saveTypes,
            saveEventsAuto: saveEventsAuto,
            saveEventsPlayer: saveEventsPlayer,
            classColumns: classColumns,
            classRows: classRows,
            allCoreSkills: allCoreSkills,
            backgroundOnlySkills: backgroundOnlySkills,
            consolidatedSkills: consolidatedSkills,
            sizeSkills: sizeSkills,
            skillEventsAuto: skillEventsAuto,
            skillEventsPlayer: skillEventsPlayer,
            spellClassIndexes: spellClassIndexes,
            spellcastingClassEventsAuto: spellcastingClassEventsAuto,
            spellcastingClassEventsPlayer: spellcastingClassEventsPlayer,
            spellcastingClassEventsEither: spellcastingClassEventsEither,
            spellLevels: spellLevels,
            repeatingSpellEventsPlayer: repeatingSpellEventsPlayer,
            repeatingSpellEventsEither: repeatingSpellEventsEither,
            spellcastingClassEventsIgnoreLevel: spellcastingClassEventsIgnoreLevel,
            spellcastingClassEventsPerSpellLevel: spellcastingClassEventsPerSpellLevel,
            wornEquipmentRows: wornEquipmentRows,
            wornEquipmentColumns: wornEquipmentColumns,
            defenseArmorShieldRows: defenseArmorShieldRows,
            defenseArmorShieldColumns: defenseArmorShieldColumns,
            defenseEventsAuto:defenseEventsAuto,
            defenseEventsEither:defenseEventsEither,
            defenseEventsPlayer:defenseEventsPlayer,
            spellToggleFields:spellToggleFields,
            spellOptionEventsPlayer:spellOptionEventsPlayer
        },
        util: {
            findAbilityInString: findAbilityInString,
            findMultiplier: findMultiplier,
            handleDropdown: handleDropdown,
            isBadRowId: isBadRowId
        },
        recalc: {
            recalculateSkills: recalculateSkills
        },
        version: version,
        updateSize: updateSize,
        updateSizeFromText: updateSizeFromText,
		updateNPCFromCompendium: updateNPCFromCompendium,
		setIsNPC: setIsNPC,
        updateAbility: updateAbility,
        updateModifiedSpeed: updateModifiedSpeed,
        updateGrapple: updateGrapple,
        updatePin: updatePin,
        updateBuffTotals: updateBuffTotals,
        setBuff: setBuff,
        updateInit: updateInit,
        updateMaxHP: updateMaxHP,
        updateTempMaxHP: updateTempMaxHP,
        updateCurrHP: updateCurrHP,
        updateCurrHPLookup:updateCurrHPLookup,
        setWoundThreshholdsLookup: setWoundThreshholdsLookup,
        updateClassInformation: updateClassInformation,
        updateMythicPathInformation: updateMythicPathInformation,
        updateTierMythicPower: updateTierMythicPower,
        updatePsionicBonusPower: updatePsionicBonusPower,
        updateDefenses: updateDefenses,
        updateArmor: updateArmor,
        updateConditionsSavePenalty: updateConditionsSavePenalty,
        updateSave: updateSave,
        updateConditionDefensePenalty: updateConditionDefensePenalty,
        updateDrainCheckbox:updateDrainCheckbox,
        handleDefenseDropdown: handleDefenseDropdown,
        updateAttack: updateAttack,
        updateDamage: updateDamage,
        handleSizeChange: handleSizeChange,
        updateConditionAttackPenalty: updateConditionAttackPenalty,
        updateConditionAttackNote: updateConditionAttackNote,
        handleRepeatingDamageDropdown: handleRepeatingDamageDropdown,
        handleRepeatingAttackDropdown: handleRepeatingAttackDropdown,
        updateRepeatingWeaponAttack: updateRepeatingWeaponAttack,
        updateRepeatingWeaponDamage: updateRepeatingWeaponDamage,
        updateRepeatingWeaponAttacks: updateRepeatingWeaponAttacks,
        updateRepeatingWeaponDamages: updateRepeatingWeaponDamages,
        updateConditionCheckPenalty: updateConditionCheckPenalty,
        updateConditionAbilityPenalty: updateConditionAbilityPenalty,
        updateMaxSkills: updateMaxSkills,
        updateSkill: updateSkill,
        verifyHasSkill: verifyHasSkill,
        updateNPCMaxHP: updateNPCMaxHP,
        updateCurrNPCHP: updateCurrNPCHP,
        updateWornEquipment: updateWornEquipment,
        updateRepeatingItems:updateRepeatingItems,
        updateCarriedCurrency: updateCarriedCurrency,
        updateCarriedTotal: updateCarriedTotal,
        updateCurrentLoad: updateCurrentLoad,
        updateLoadsAndLift: updateLoadsAndLift,
        handleCasterClassDropdown: handleCasterClassDropdown,
        handleConcentrationAbilityDropdown: handleConcentrationAbilityDropdown,
        updateCasterRanges: updateCasterRanges,
        updateConcentration: updateConcentration,
        updateMultiClassedCasterFlag: updateMultiClassedCasterFlag,
        updateCasterLevel: updateCasterLevel,
        updateCasterLevels: updateCasterLevels,
        updateSaveDCs: updateSaveDCs,
        updateBonusSpells: updateBonusSpells,
        updateClassSpellPenetration: updateClassSpellPenetration,
        updateMaxSpellsPerDay: updateMaxSpellsPerDay,
        updateCasterFromClassLevel: updateCasterFromClassLevel,
        ifSpellClassExists: ifSpellClassExists,
        updateSpell: updateSpell,
        parseCompendiumSpell:parseCompendiumSpell,
        updateSpellsCasterLevelRelated: updateSpellsCasterLevelRelated,
        updateSpellsCasterAbilityRelated: updateSpellsCasterAbilityRelated,
        updateCastingPenaltyNote: updateCastingPenaltyNote,
        updateAllSpells: updateAllSpells,
        setRowId:setRowId,
        checkForUpdate: checkForUpdate,
        updateSpellbookMacros: updateSpellbookMacros,
        updateAttackMacros: updateAttackMacros,
        resetAllSpellsOptions:resetAllSpellsOptions,
        updateSpellOption:updateSpellOption
    };
	

}());


var PFEventHandler = PFEventHandler || (function () {
    'use strict';

    //sheet
    on("sheet:opened",
        TAS.callback(function eventSheetOpened() {
			//eventInfo has undefined values for this event.
            PFSheet.checkForUpdate();
        })
    );
    on("change:recalc1",
        TAS.callback(function eventRecaluateSheet(eventInfo) {
            if (eventInfo.sourceType === "player" ) {
				TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                PFSheet.checkForUpdate();
            }
        })
    );

    //ABILITY SCORES
    _.each(PFSheet.lists.abilities, function (ability) {
        on((PFSheet.lists.abilityEventsAuto.replace(/REPLACE/g, ability)),
            TAS.callback(function eventUpdateAbility(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                if (eventInfo.sourceType!=="player" ){
                    PFSheet.updateAbility(ability, eventInfo);
                }
            })
        );
        on((PFSheet.lists.abilityEventsPlayer.replace(/REPLACE/g, ability)),
            TAS.callback(function eventUpdateAbilityPlayerUpdated(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                if (eventInfo.sourceType==="player" ){
                    PFSheet.updateAbility(ability, eventInfo);
                }
            })
        );
        on("change:condition-Helpless" ,
            TAS.callback(function eventUpdateAbilityHelpless(eventInfo){
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                if (eventInfo.sourceType==="player" ){
                    PFSheet.updateAbility("DEX", eventInfo);
                }
            })
        );
    });

    //CONDITIONS
    _.each(PFSheet.lists.conditionEventsPlayer, function (functions, eventToWatch) {
        _.each(functions, function (methodToCall) {
            on(eventToWatch,
                TAS.callback(function eventConditionEvents(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    if (eventInfo.sourceType==="player" ){
                        methodToCall(eventInfo);
                    }
                })
            );
        });
    });
    _.each(PFSheet.lists.conditionEventsEither, function (functions, eventToWatch) {
        _.each(functions, function (methodToCall) {
            on(eventToWatch,
                TAS.callback(function eventConditionEvents(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    methodToCall(eventInfo);
                })
            );
        });
    });

    on("change:Perception-cond",
        TAS.callback(function eventUpdateSkillPerceptionCond(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateSkill("Perception", eventInfo);
            PFSheet.updateSkill("CS-Perception", eventInfo);
        })
    );
    on("change:acp-attack-mod",
        TAS.callback(function eventUpdateConditionAttackPenalty(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateConditionAttackPenalty();
        })
    );

    //BUFFS
    _.each(PFSheet.lists.buffColumns, function (col) {
        //Evaluate macro text upon change
        var eventToWatch = "change:repeating_buff:buff-" + col + "_macro-text";
        on(eventToWatch,
            TAS.callback(function eventBuffMacroText(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " for column " + col + ", event: " + eventInfo.sourceType);
                PFSheet.setBuff(null,col);
                //SWUtils.evaluateAndSetNumber("repeating_buff_buff-" + col + "_macro-text", "repeating_buff_buff-" + col);
            })
        );

        //Update total for a buff upon Mod change
        eventToWatch = "change:repeating_buff:buff-" + col + " change:repeating_buff:buff-" + col + "-show";
        on(eventToWatch,
            TAS.callback(function eventBuffMod(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                if (eventInfo.sourceType!=="player" || /show/i.test(eventInfo.sourceAttribute)){
                    PFSheet.updateBuffTotals(col);
                }
            })
        );
    });

    on("change:repeating_buff:buff-enable_toggle remove:repeating_buff",
        TAS.callback(function eventUpdateBuffToggle(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType!=="player" || /toggle/i.test(eventInfo.sourceAttribute) ) {
                _.each(PFSheet.lists.buffColumns, function (col) {
                    PFSheet.updateBuffTotals(col);
                });
            }
        })
    );

    //generic easy buff total updates
    _.each(PFSheet.lists.buffEvents,function(functions,col){
        var eventToWatch="change:buff_"+col+"-total";
        _.each(functions,function(methodToCall){
            on(eventToWatch,
                TAS.callback(function eventBuffTotal(eventInfo){
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    if (eventInfo.sourceType !== "player"){
                        methodToCall(col,eventInfo);
                    }
                })
            );
        });
    });
    _.each(PFSheet.lists.buffEventsNoParam,function(functions,col){
        var eventToWatch="change:buff_"+col+"-total";
        _.each(functions,function(methodToCall){
            on(eventToWatch,
                TAS.callback(function eventBuffTotal(eventInfo){
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    if (eventInfo.sourceType !== "player"){
                        methodToCall(col,eventInfo);
                    }
                })
            );
        });
    });


    //SKILLS
    on("change:total-skill change:total-fcskill change:int-mod change:level change:max-skill-ranks-mod change:Max-Skill-Ranks-Misc2 change:unchained_skills-show change:BG-Skill-Use",
        TAS.callback(function eventUpdateMaxSkills(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType !== "player" || /misc2/i.test(eventInfo.sourceAttribute)) {
                PFSheet.updateMaxSkills(eventInfo);
            }
        })
    );
    on("change:max-skill-ranks-misc",
        TAS.callback(function eventMaxSkillRanksMisc(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            SWUtils.evaluateAndSetNumber("Max-Skill-Ranks-Misc", "Max-Skill-Ranks-mod");
        })
    );
    //each skill has a dropdown handler and a skill update handler
    //concat them all up, only happens once so no big deal
    _.each(PFSheet.lists.allCoreSkills.concat(PFSheet.lists.backgroundOnlySkills).concat(PFSheet.lists.consolidatedSkills), function (skill) {
        on((PFSheet.lists.skillEventsAuto.replace(/REPLACE/g, skill)),
            TAS.callback(function eventSkillsAuto(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event for " + skill+", "+eventInfo.sourceType);
                if (eventInfo.sourceType !== "player" ) {
                    PFSheet.updateSkill(skill, eventInfo);
                }
            })
        );
        on((PFSheet.lists.skillEventsPlayer.replace(/REPLACE/g, skill)),
            TAS.callback(function eventSkillsPlayer(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event for " + skill+", "+eventInfo.sourceType);
                if (eventInfo.sourceType === "player" ) {
                    PFSheet.updateSkill(skill, eventInfo);
                }
            })
        );
        on("change:" + skill + "-ability",
            TAS.callback(function eventSkillDropdownAbility(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                PFSheet.verifyHasSkill(skill, function (hasSkill) {
                    if (hasSkill) {
                        PFSheet.util.handleDropdown(skill + "-ability", skill + "-ability-mod");
                    }
                });
            })
        );
        on("change:"+ skill + "-misc",
            TAS.callback(function eventSkillMacroAbility(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                PFSheet.verifyHasSkill(skill, function (hasSkill) {
                    if (hasSkill) {
                        SWUtils.evaluateAndSetNumber(skill+"-misc", skill+"-misc-mod");
                    }
                });
            })
        );
    });

    //skills affected by size
    _.each(PFSheet.lists.sizeSkills, function (mult, skill) {
        if (mult === 1) {
            on("change:size_skill",
                TAS.callback(function eventUpdateSizeSkill(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    if (eventInfo.sourceType !== "player" ) {
                        PFSheet.updateSkill(skill, eventInfo);
                    }
                })
            );
        } else if (mult === 2) {
            on("change:size_skill_double",
                TAS.callback(function eventUpdateSizeSkillDouble(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    if (eventInfo.sourceType !== "player" ) {
                        PFSheet.updateSkill(skill, eventInfo);
                    }
                })
            );
        }
    });


    //init
    on("change:init-ability-mod change:init-trait change:init-misc",
        TAS.callback(function eventUpdateInit(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType!=="player" || /trait|misc/i.test(eventInfo.sourceAttribute)){
                PFSheet.updateInit();
            }
        })
    );

    //speed
    on("change:current-load change:speed-base change:load-heavy change:carried-total change:race change:armor-equipped change:armor2-equipped change:armor3-equipped change:armor-type change:armor2-type change:armor3-type change:speed-source change:run-mult",
        TAS.callback(function eventUpdateModifiedSpeed(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateModifiedSpeed();
        })
    );

    //hp
    on("change:hp-ability-mod change:level change:total-hp change:total-mythic-hp change:hp-formula-mod change:HP-misc",
        TAS.callback(function eventUpdateHP(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" || eventInfo.sourceAttribute !== "hp-misc" ) {
                PFSheet.updateMaxHP();
            }
        })
    );


    on("change:mythic-adventures-show",
        TAS.callback(function eventUpdateHP(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                getAttrs(["total-mythic-hp"],function(v){
                    if ((parseInt(v["total-mythic-hp"],10)||0)>0) {
                        PFSheet.updateMaxHP();
                    }
                });
            }
        })
    );
    on("change:hp-temp-misc",
        TAS.callback(function eventUpdateTempHP(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                PFSheet.updateTempMaxHP();
            }
        })
    );
    on("change:HP_reset",
        TAS.callback(function eventResetHP(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType  );
            if (eventInfo.sourceType === "player" ) {
                PFSheet.updateMaxHP(true);
                PFSheet.updateTempMaxHP(true);
                setAttrs({"HP_reset":"0"},{silent:true});
            }
        })
    );
    on("change:HP change:non-lethal-damage",
        TAS.callback(function eventUpdateHP(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                //note: ok to only go with player, since condition-drained will call updatemaxhp directly
                PFSheet.updateCurrHPLookup(eventInfo);
            }
        })
    );
    on("change:NPC-HP",
        TAS.callback(function eventUpdateNPCHP(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                PFSheet.updateCurrNPCHP(eventInfo);
            }
        })
    );


    on("change:hp-formula-macro-text",
        TAS.callback(function eventHPFormulaMacroText(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            SWUtils.evaluateAndSetNumber("HP-formula-macro-text", "HP-formula-mod");
        })
    );
    on("change:wound_threshold-show",
        TAS.callback(function eventResetConditionWounds(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                PFSheet.setWoundThreshholdsLookup(eventInfo);
            }
        })
    );

    //CLASSES
    //NOTE: classes are set by player only now, but if we implement autocalc fracional advancement, then
    // it will be updated via sheetworker (unless we directly call updateClassInformation)
    _.each(PFSheet.lists.classColumns, function (col) {
        var eventsToWatch = _.map(PFSheet.lists.classRows, function (row) {
            return "change:class-" + row + "-" + col;
        }).join(" ");
        on(eventsToWatch,
            TAS.callback(function eventUpdateClassInformation(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                if (eventInfo.sourceType === "player" ) {
                    PFSheet.updateClassInformation(col, eventInfo);
                }
            })
        );
        if (col === "level") {
            on(eventsToWatch,
                TAS.callback(function eventUpdateClassInformationLevel(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    if (eventInfo.sourceType === "player" ) {
                        PFSheet.updateClassInformation("skill", eventInfo);
                    }
                })
            );
        }
    });
    //rows class level updates spell class level
    _.each(PFSheet.lists.classRows, function (row) {
        on("change:class-" + row + "-level",
            TAS.callback(function eventUpdateSpellcasterLevel(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                if (eventInfo.sourceType === "player" ) {
                    PFSheet.updateCasterFromClassLevel(parseInt(row, 10), eventInfo);
                }
            })
        );
    });

    //GENERIC DROPDOWNS
    _.each(PFSheet.lists.dropdowns, function (write, read) {
        on("change:" + read,
            TAS.callback(function eventGenericDropdowns(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                PFSheet.util.handleDropdown(read, write);
            })
        );
    });
    //DEFENSE DROPDOWNS
    _.each(PFSheet.lists.defenseDropdowns, function (write, read) {
        on("change:" + read,
            TAS.callback(function eventHandleDefenseDropdown(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                PFSheet.handleDefenseDropdown(read);
            })
        );
    });
    //Spell Resistance
    on("change:SR-macro-text",
        TAS.callback(function eventSRMacroText(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            SWUtils.evaluateAndSetNumber("SR-macro-text", "SR");
        })
    );

    //mythic path and power
    on("change:mythic-tier change:mythic-hp",
        TAS.callback(function eventUpdateMythicPathInformation(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType==="player"){
                PFSheet.updateMythicPathInformation();
                PFSheet.updateTierMythicPower();
            }
        })
    );

    //mythic path
    on("change:mythic-hp",
        TAS.callback(function eventUpdateTierMythicPower(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType==="player"){
                PFSheet.updateMythicPathInformation();
            }
        })
    );
    on("change:misc-mythic-power change:tier-mythic-power",
        TAS.callback(function eventUpdateMythicPower(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType==="player" || /tier/i.test(eventInfo.sourceAttribute)) {
                SWUtils.updateRowTotal(["mythic-power_max", "tier-mythic-power", "misc-mythic-power"]);
            }
        })
    );

    //psionics
    on("change:psionic-level change:psionic-level-misc",
        TAS.callback(function eventUpdatePsionicLevel(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType==="player"){
                SWUtils.updateRowTotal(["psionic-level-total", "psionic-level", "psionic-level-misc"]);
            }
        })
    );
    on("change:class-psionic-power change:ability-psionic-power change:misc-psionic-power",
        TAS.callback(function eventUpdatePsionicPower(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType==="player" || /ability/i.test(eventInfo.sourceAttribute)){
                SWUtils.updateRowTotal(["psionic-power_max", "class-psionic-power", "ability-psionic-power", "misc-psionic-power"]);
            }
        })
    );
    on("change:selected-ability-psionic-power change:psionic-level-total",
        TAS.callback(function eventUpdatePsionicBonusPower(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType !== "player") {
                PFSheet.updatePsionicBonusPower();
            }
        })
    );

    //defenses
    on(PFSheet.lists.defenseEventsAuto,
        TAS.callback(function eventUpdateDefenses(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType !== "player" ) {
                PFSheet.updateDefenses(eventInfo);
            }
        })
    );
    on(PFSheet.lists.defenseEventsPlayer,
        TAS.callback(function eventUpdateDefenses(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                PFSheet.updateDefenses(eventInfo);
            }
        })
    );
    on(PFSheet.lists.defenseEventsEither,
        TAS.callback(function eventUpdateDefenses(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateDefenses(eventInfo);
        })
    );


    on("change:max-dex-source change:acp-source change:current-load",
        TAS.callback(function eventUpdateArmor(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateArmor(eventInfo.sourceAttribute);
        })
    );
    _.each(PFSheet.lists.defenseArmorShieldRows, function (row) {
        _.each(PFSheet.lists.defenseArmorShieldColumns, function (column) {
            var eventToWatch = "change:" + row + "-" + column;
            on(eventToWatch,
                TAS.callback(function eventUpdateDefenseArmorShield(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    PFSheet.updateArmor(eventInfo.sourceAttribute);
                })
            );
        });
    });

    //saves
    _.each(PFSheet.lists.saveTypes, function (save) {
        var eventToWatch = PFSheet.lists.saveEventsAuto.replace(/REPLACE/g, save);
        on(eventToWatch,
            TAS.callback(function eventUpdateSave(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event for " + save +": " + eventInfo.sourceType);
                if (eventInfo.sourceType !== "player"){
                    PFSheet.updateSave(save, eventInfo);
                }
            })
        );
    });
    _.each(PFSheet.lists.saveTypes, function (save) {
        var eventToWatch = PFSheet.lists.saveEventsPlayer.replace(/REPLACE/g, save);
        on(eventToWatch,
            TAS.callback(function eventUpdateSave(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event for " + save +": " + eventInfo.sourceType);
                if (eventInfo.sourceType==="player"){
                    PFSheet.updateSave(save, eventInfo);
                }
            })
        );
    });

    //attacks
    on("change:bab change:size change:melee-ability-mod change:attk-melee-misc change:attk-penalty",
        TAS.callback(function eventUpdateMeleeAttack(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if ((eventInfo.sourceType==="player" && /misc/i.test(eventInfo.sourceAttribute)) || /size/i.test(eventInfo.sourceAttribute) || eventInfo.sourceType!=="player") {
                PFSheet.updateAttack("Melee");
            }
        })
    );
    on("change:bab change:size change:ranged-ability-mod change:attk-ranged-misc change:attk-penalty",
        TAS.callback(function eventUpdateRangedAttack(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if ((eventInfo.sourceType==="player" && /misc/i.test(eventInfo.sourceAttribute)) || /size/i.test(eventInfo.sourceAttribute) || eventInfo.sourceType!=="player") {
                PFSheet.updateAttack("Ranged");
            }
            PFSheet.updateAttack("Ranged");
        })
    );
    on("change:bab change:CMD-size change:cmb-ability-mod change:attk-cmb-misc change:attk-penalty",
        TAS.callback(function eventUpdateCmbAttack(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if ((eventInfo.sourceType==="player" && /misc/i.test(eventInfo.sourceAttribute)) || /size/i.test(eventInfo.sourceAttribute) || eventInfo.sourceType!=="player") {
                PFSheet.updateAttack("CMB");
            }
        })
    );


    //repeating weapons
    /************************** CAN WE DELETE THESE TWO????????????**********************/

    on("change:dmg-mod",
        TAS.callback(function eventUpdateRepeatingWeaponDamageTotal(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateRepeatingWeaponDamages();
        })
    );

    on("change:repeating_weapon:attack-type-mod change:repeating_weapon:attack-mod",
        TAS.callback(function eventUpdateRepeatingWeaponAttack(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType!=="player" ){
                PFSheet.updateRepeatingWeaponAttack(null, eventInfo);
            }
        })
    );
    on("change:repeating_weapon:masterwork change:repeating_weapon:proficiency",
        TAS.callback(function eventUpdateRepeatingWeaponAttack(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType==="player" ){
                PFSheet.updateRepeatingWeaponAttack(null, eventInfo);
            }
        })
    );
    on("change:repeating_weapon:damage-ability-mod change:repeating_weapon:damage-mod change:repeating_weapon:damage-ability-max",
        TAS.callback(function eventUpdateRepeatingWeaponDamage(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType!=="player" || /damage-ability-max/i.test(eventInfo.sourceAttribute)){
                PFSheet.updateRepeatingWeaponDamage();
            }
        })
    );

    on("change:repeating_weapon:attack-type",
        TAS.callback(function eventHandleRepeatingAttackDropdown(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.handleRepeatingAttackDropdown(null, eventInfo);
        })
    );
    on("change:repeating_weapon:damage-ability",
        TAS.callback(function eventHandleRepeatingDamageDropdown(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.handleRepeatingDamageDropdown();
        })
    );
    on("change:repeating_weapon:damage",
        TAS.callback(function eventRepeatingWeaponDamage(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            SWUtils.evaluateAndSetNumber("repeating_weapon_damage", "repeating_weapon_damage-mod");
        })
    );
    on("change:repeating_weapon:attack",
        TAS.callback(function eventRepeatingWeaponAttack(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            SWUtils.evaluateAndSetNumber("repeating_weapon_attack", "repeating_weapon_attack-mod");
        })
    );

    on("change:repeating_weapon:enhance",
        TAS.callback(function eventUpdateRepeatingWeaponAttackAndDamage(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                PFSheet.updateRepeatingWeaponAttack(null, eventInfo);
                PFSheet.updateRepeatingWeaponDamage();
            }
        })
    );

    //size
    on("change:size",
        TAS.callback(function eventUpdateSize(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateSize();
        })
    );
    //compendium copy will fire this one
    on("change:size_display",
        TAS.callback(function eventUpdateSizeText(eventInfo) {
            if (eventInfo.sourceType==="player"){
				TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                PFSheet.updateSizeFromText(eventInfo);
            }
        })
    );
	on("change:npc_hp_compendium",
		TAS.callback(function eventUpdateNPCPage(eventInfo){
			if (eventInfo.sourceType==="player"){
				TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
				PFSheet.updateNPCFromCompendium(eventInfo);
			}
		})
	);

	on("change:size_display change:npc-cr change:npc-hd change:npc-hd2",
		TAS.callback(function eventUpdateNPCPage2(eventInfo){
			if(eventInfo.sourceType==="player"){
				TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
				PFSheet.setIsNPC();
			}
		})
	);

    //GENERIC REPEATING LISTS USED MAX
    _.each(PFSheet.lists.repeatingMaxUseSections, function (section) {
        var eventToWatch = "change:repeating_" + section + ":max-calculation";
        on(eventToWatch,
            TAS.callback(function eventRepeatingMaxUseSections(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                SWUtils.evaluateAndSetNumber("repeating_" + section + "_max-calculation", "repeating_" + section + "_used_max");
            })
        );
    });

    //npc sheet
    on("change:npc-hd change:npc-hd-num change:npc-hd2 change:npc-hd-num2 change:npc-hd-misc-mod",
        TAS.callback(function eventupdateNPCMaxHP(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" || /hd-misc-mod/i.test(eventInfo.sourceAttribute) ) {
                PFSheet.updateNPCMaxHP();
            }
        })
    );
    on("change:npc-hd-misc",
        TAS.callback(function eventNpcHdMisc(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            SWUtils.evaluateAndSetNumber("NPC-HD-misc", "NPC-HD-misc-mod");
        })
    );

    //items
    _.each(PFSheet.lists.wornEquipmentRows, function (row) {
        _.each(PFSheet.lists.wornEquipmentColumns, function (column) {
            var eventToWatch = "change:worn-" + row + "-" + column;
            on(eventToWatch,
                TAS.callback(function eventUpdateWornEquipmentTotal(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    PFSheet.updateWornEquipment(column);
                })
            );
        });
    });
    on('change:repeating_item:weight change:repeating_item:qty change:repeating_item:qty_max change:repeating_item:location',
        TAS.callback(function eventUpdateItemTotalWeight(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            TAS.repeating('item')
                .attrs('item_total_weight')
                .fields('weight', 'qty', 'qty_max', 'location')
                .reduce(function (m, r) {
                    if (r.I.qty > 0 && r.I.location == 0) {
                        if (r.I.qty_max == 0) {
                            m.weight += r.F.weight * r.I.qty;
                        } else {
                            m.weight += r.F.weight;
                        }
                    }
                    return m;
                }, {
                    weight: 0
                }, function (m, r, a) {
                    a.S['item_total_weight'] = m.weight;
                })
                .execute();
        })
    );
    on('change:repeating_item:hp change:repeating_item:hp_max',
        TAS.callback(function eventUpdateItemTotalHp(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            TAS.repeating('item')
                .attrs('item-total-hp', 'item-total-hp_max')
                .fields('hp', 'hp_max')
                .reduce(function (m, r) {
                    m.hp += r.I.hp;
                    m.hp_max += r.I.hp_max;
                    return m;
                }, {
                    hp: 0,
                    hp_max: 0
                }, function (m, r, a) {
                    a.S['item-total-hp'] = m.hp;
                    a.S['item-total-hp_max'] = m.hp_max;
                })
                .execute();
        })
    );
    on('change:repeating_item:value',
        TAS.callback(function eventUpdateItemTotalValue(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);

            TAS.repeating('item')
                .attrs('item-total-value')
                .fields('value')
                .reduce(function (m, r) {
                    m.value += r.I.value;
                    return m;
                }, {
                    value: 0
                }, function (m, r, a) {
                    a.S['item-total-value'] = m.value;
                })
                .execute();
        })
    );
    on('remove:repeating_item',
        TAS.callback(function eventRemoveItem(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                PFSheet.updateRepeatingItems();
            }
        })
    );
    on('change:CP change:SP change:GP change:PP',
        TAS.callback(function eventUpdateCarriedCurrency(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateCarriedCurrency();
        })
    );
    on('change:carried-currency change:item_total_weight change:worn-total-weight change:carried-misc',
        TAS.callback(function eventUpdateCarriedTotal(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateCarriedTotal();
        })
    );
    on('change:load-light change:carried-total',
        TAS.callback(function eventUpdateCurrentLoad(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateCurrentLoad();
        })
    );
    on("change:STR change:size change:legs change:load-str-bonus change:load-multiplier change:load-misc",
        TAS.callback(function eventUpdateLoadsAndLift(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            PFSheet.updateLoadsAndLift();
        })
    );

    //SPELLS
    //spellclass section (3 tabs at top of spell page)
    _.each(PFSheet.lists.spellClassIndexes, function (spellClassIdx) {
        var numberIdx = parseInt(spellClassIdx, 10)||0;
        _.each(PFSheet.lists.spellcastingClassEventsEither, function (functions, event) {
            var eventToWatch = event.replace(/REPLACE/g, numberIdx);
            _.each(functions, function (methodToCall) {
                on(eventToWatch,
                    TAS.callback(function eventSpellcasterClassSpecificUpdate(eventInfo) {
                        TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                        PFSheet.ifSpellClassExists(numberIdx, _.bind(methodToCall, {}, numberIdx, eventInfo));
                    })
                );
            });
        });
    });
    _.each(PFSheet.lists.spellClassIndexes, function (spellClassIdx) {
        var numberIdx = parseInt(spellClassIdx, 10)||0;
        _.each(PFSheet.lists.spellcastingClassEventsPlayer, function (functions, event) {
            var eventToWatch = event.replace(/REPLACE/g, numberIdx);
            _.each(functions, function (methodToCall) {
                on(eventToWatch,
                    TAS.callback(function eventSpellcasterClassSpecificUpdatePlayerOnly(eventInfo) {
                        if (eventInfo.sourceType === "player" ) {
                            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                            PFSheet.ifSpellClassExists(numberIdx, _.bind(methodToCall, {}, numberIdx, eventInfo));
                        }
                    })
                );
            });
        });
    });
    _.each(PFSheet.lists.spellClassIndexes, function (spellClassIdx) {
        var numberIdx = parseInt(spellClassIdx, 10)||0;
        _.each(PFSheet.lists.spellcastingClassEventsAuto, function (functions, event) {
            var eventToWatch = event.replace(/REPLACE/g, numberIdx);
            _.each(functions, function (methodToCall) {
                on(eventToWatch,
                    TAS.callback(function eventSpellcasterClassSpecificUpdateAuto(eventInfo) {
                        if (eventInfo.sourceType != "player" ) {
                            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                            PFSheet.ifSpellClassExists(numberIdx, _.bind(methodToCall, {}, numberIdx, eventInfo));
                        }
                    })
                );
            });
        });
    });

    //ignore level means do not call "ifSpellClassExists" first
    _.each(PFSheet.lists.spellClassIndexes, function (spellClassIdx) {
        var numberIdx = parseInt(spellClassIdx, 10);
        _.each(PFSheet.lists.spellcastingClassEventsIgnoreLevel, function (functions, event) {
            var eventToWatch = event.replace(/REPLACE/g, numberIdx);
            _.each(functions, function (methodToCall) {
                on(eventToWatch,
                    TAS.callback(function eventSpellcasterClassUpdate(eventInfo) {
                        TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                        methodToCall(numberIdx, eventInfo);
                    })
                );
            });
        });
    });


    //all repeating spell updates

    _.each(PFSheet.lists.repeatingSpellEventsPlayer, function (functions, eventToWatch) {
        _.each(functions, function (methodToCall) {
            on(eventToWatch,
                TAS.callback(function eventRepeatingSpellsPlayer(eventInfo) {
                    if (eventInfo.sourceType==="player"){
                        TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                        methodToCall(eventInfo);
                    }
                })
            );
        });
    });


    _.each(PFSheet.lists.spellOptionEventsPlayer, function (fieldToWatch) {
            var eventToWatch="change:repeating_spells:"+fieldToWatch;
            on(eventToWatch,
                TAS.callback(function eventOptionsRepeatingSpellsPlayer(eventInfo) {
                    if (eventInfo.sourceType==="player"){
                        TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                        PFSheet.updateSpellOption(eventInfo,fieldToWatch);
                    }
                })
            );
    });


    _.each(PFSheet.lists.repeatingSpellEventsEither, function (functions, eventToWatch) {
        _.each(functions, function (methodToCall) {
            on(eventToWatch,
                TAS.callback(function eventRepeatingSpellsEither(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    methodToCall(eventInfo);
                })
            );
        });
    });

    //spells per day
    _.each(PFSheet.lists.spellClassIndexes, function (spellClassIdx) {
        var classNumber = parseInt(spellClassIdx, 10);
        _.each(PFSheet.lists.spellLevels, function (spellLevel) {
            var spellNumber = parseInt(spellLevel, 10)
            , eventToWatch = PFSheet.lists.spellcastingClassEventsPerSpellLevel.replace(/CLASSIDX/g, spellClassIdx).replace(/SPELLLEVEL/g, spellNumber);
            on(eventToWatch,
                TAS.callback(function eventSpellsPerDay(eventInfo) {
                    TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                    PFSheet.ifSpellClassExists(classNumber, _.bind(PFSheet.updateMaxSpellsPerDay, {}, classNumber, spellNumber));
                })
            );
        });
    });

    //update the spell options
    _.each(PFSheet.lists.spellToggleFields, function (toggleField) {
        on("change:"+toggleField,
            TAS.callback(function toggleField(eventInfo){
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                PFSheet.resetAllSpellsOptions(eventInfo);
            })
        );
    });


    //REPEATING SECTIONS set IDs
    _.each(PFSheet.lists.repeatingSections, function (section) {
        var eventToWatch = "change:repeating_" + section + ":ids-show";
        on(eventToWatch,
            TAS.callback(function eventCheckIsNewRow(eventInfo) {
                TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
                if (eventInfo.sourceType === "player" ) {
					getAttrs(["repeating_"+section+"_ids-show"],function(v){
						if (v["repeating_"+section+"_ids-show"]=="1"){
							 PFSheet.setRowId(section, eventInfo);
						}
					});
                }
            })
        );
    });

    //reset based on config changes
    on("change:unchained_skills-show change:BG-Skill-Use",
        TAS.callback(function eventResetUnchainedSkills(eventInfo) {
            TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
            if (eventInfo.sourceType === "player" ) {
                PFSheet.recalc.recalculateSkills();
            }
        })
    );

    on("remove:repeating_weapon change:repeating_weapon:attack-type change:_reporder_repeating_weapon", function(eventInfo) {
        TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
        PFSheet.updateAttackMacros();
    });

    on("remove:repeating_spells  change:repeating_spells:spellclass_number change:repeating_spells:spell_level change:_reporder_repeating_spells", function(eventInfo) {
        TAS.debug("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
        PFSheet.updateSpellbookMacros();
    });
	
	//check if spell is prepared and set prepared_state
	on("change:repeating_spells:used", function() {
		getAttrs(["repeating_spells_used","repeating_spells_prepared_state","hide_unprepared_in_spellbook"], function(values) {
			TAS.debug("Number Prepared: " + values.repeating_spells_used+", prepared flag:"+values.repeating_spells_prepared_state );
			if ((parseInt(values.repeating_spells_used,10)||0) >0  && (parseInt(values.repeating_spells_prepared_state,10)||0)===0 ) {
				setAttrs({repeating_spells_prepared_state: 1},{silent:true},function(){
					if (values["hide_unprepared_in_spellbook"]=="1"){PFSheet.updateSpellbookMacros();}
				});
			}
			else if ((parseInt(values.repeating_spells_used,10)||0) === 0 && (parseInt(values.repeating_spells_prepared_state,10)||0)!=0 ) {
				setAttrs({repeating_spells_prepared_state: 0},{silent:true},function(){
					if (values["hide_unprepared_in_spellbook"]=="1"){PFSheet.updateSpellbookMacros();}
				});
			}
		});
	});	
		
	on("change:expandall", function(eventInfo){
		TAS.log("change:expandall, caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
		getAttrs(["expandall","unchained-show","bg-show"],function(v){
			TAS.log("expandall",v);
			var skilltab="4",tabsetter={},othersetter={};
			if (v["expandall"]=="1"){
				if (v["sheet-unchained-show"]=="1" && v["sheet-bg-show"]!="1"){
					skilltab="3";
				}
				tabsetter={tab:"99", abilities_tab:"99", skills_tab:skilltab, spellclass_tab:"0", spells_tab:"99", npc_spellclass_tab:"0"};
				TAS.log("setting tabsetter non silent:",tabsetter);
				setAttrs(tabsetter);
				othersetter={"conditions-show":"1", "buffstop-show":"1", "character-details-show":"1", "ability-scores-show":"1", "health-and-wounds-show":"1",
					"initiative-and-speeds-show":"1", "experience-and-hero-points-show":"1", "class-info-show":"1", "mythic-info-show":"1", "psionic-info-show":"1", 
					"abilities-show":"1", "feats-expand-show":"0", "feat-column-show":"0", "class-ability-expand-show":"0", "class-ability-column-show":"0",
					"racial-trait-expand-show":"0","racial-trait-column-show":"0", "traits-expand-show":"0", "traits-column-show":"0","defense-values-show":"1", 
					"special-defenses-show":"1", "armor-penalties-show":"1", "saves-show":"1", "armor-shield-show":"1", "defense-notes-show":"1", 
					"attack-bonuses-show":"1", "attack-notes-show":"1", "attack-options-show":"1", "attacks-show":"1", "attacks-expand-show":"0", "weapon-column-show":"0",
					"skills-show":"1", "skill-ranks-show":"1", "skill-notes-show":"1", "misc-show":"1","artistry-show":"1", "knowledge-show":"1", "lore-show":"1", 
					"perform-show":"1", "profession-show":"1","currency-show":"1", "worn-equipment-show":"1", "inventory-show":"1", "carried-weight-show":"1", 
					"loads-show":"1","spellclasses-show":"1", "spelloptions-show":"1", "newspells-show":"1", "domains-show":"1","spellsPerDay-show":"1","spell_ranges-show":"1"};
				TAS.log("setting other silent:", othersetter);
				setAttrs(othersetter,{silent:true});
			}
		});
	});
	

	on("change:tab change:abilities_tab change:skills_tab change:spellclass_tab change:spells_tab change:npc_spellclass_tab",function(eventInfo){
		TAS.log("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
		getAttrs(["tab","abilities_tab","skills_tab","spellclass_tab","spells_tab","npc_spellclass_tab"],function(v){
			TAS.log("caught tab change, current values are:", v);
		});
	});
	
	on("change:conditions-show change:buffstop-show change:character-details-show change:ability-scores-show change:health-and-wounds-show change:initiative-and-speeds-show change:experience-and-hero-points-show change:class-info-show change:mythic-info-show change:psionic-info-show change:abilities-show change:feats-expand-show change:feat-column-show change:class-ability-expand-show change:class-ability-column-show change:racial-trait-expand-show change:racial-trait-column-show change:traits-expand-show change:traits-column-show change:defense-values-show change:special-defenses-show change:armor-penalties-show change:saves-show change:armor-shield-show change:defense-notes-show change:attack-bonuses-show change:attack-notes-show change:attack-options-show change:attacks-show change:attacks-expand-show change:weapon-column-show change:skills-show change:skill-ranks-show change:skill-notes-show change:misc-show change:artistry-show change:knowledge-show change:lore-show change:perform-show change:profession-show change:currency-show change:worn-equipment-show change:inventory-show change:carried-weight-show change:loads-show change:spellclasses-show change:spelloptions-show change:newspells-show change:domains-show change:spellsPerDay-show change:spell_ranges-show",
	function(eventInfo){
		TAS.log("caught " + eventInfo.sourceAttribute + " event: " + eventInfo.sourceType);
	});
	
}());

</script>
<!-- Empire of the Petal Throne Character Sheet CSS */ -->
<!-- Version 1.5.1 -->

<div class="ept">

  <!-- Hidden Values -->
  <input type='hidden' class='profession-select' name='attr_profession' value='Warrior' />

  <h2 class="title"><span class="underline">Empire of the Petal Throne</span>: Character Reference Sheet</h2>

  <!-- Characteristics Section -->
  <div class="section grid-16">
    <!-- GRID row 1 -->
    <span class="flex-row grid-16-span-8"><label data-i18n="character-u">Character</label><input class="fill" type="text" name="attr_character_name" placeholder="(character name)" title="@{Character}"/></span>
    <span class="flex-row grid-16-span-8"><label data-i18n="player-u">Player</label><input class="fill" type="text" name="attr_player_name" placeholder="(player name)" title="@{Player}"/></span>
    <!-- GRID row 2 -->
    <span class="flex-row grid-16-span-4">
      <label data-i18n="profession-u">Profession</label>
      <select class="profession-select fill" name="attr_profession" title="@{Profession}">
        <option value="Warrior" selected="selected">Warrior</option>
        <option value="Priest">Priest</option>
        <option value="Magic-User">Magic User</option>
      </select>
    </span>
    <span class="flex-row grid-16-span-4"><label data-i18n="race-u">Race</label><input class="fill" type="text" name="attr_race" value="Human"/></span>
    <!-- <span class="flex-row grid-16-span-6"><label data-i18n="profession-u">Profession</label><input class="fill" type="text" name="attr_profession" title="@{Profession}" /></span> -->
    <span class="flex-row grid-16-span-5">
      <label data-i18n="alignment-u">Alignment</label>
      <select class="fill" name="attr_alignment" title="@{Alignment}">
        <option value="Stability">Good/Stability</option>
        <option value="Change">Evil/Change</option>
        <option value="Neutral">Neutral</option>
      </select>
    </span>
    <span class="flex-row grid-16-span-3">
      <label data-i18n="diety-u">Diety</label>
      <select class="fill" name="attr_diety" title="@{Diety}">
        <option disabled>Good Gods/Gods of Stability:</option>
          <option value="Hnalla">Hnalla</option>
          <option value="Karakan">Karakan</option>
          <option value="Thumis">Thumis</option>
          <option value="Avanthe">Avanthe</option>
          <option value="Blkhanu">Blkhanu</option>
        <option disabled>Cohorts of Good Gods/Cohorts of Stability:</option>
          <option value="Dra">Dra</option>
          <option value="Chegarra">Chegarra</option>
          <option value="Ketengku">Ketengku</option>
          <option value="Dilinala">Dilinala</option>
          <option value="Qon">Qon</option>
        <option disabled>Evil Gods/Gods of Change:</option>
          <option value="Hry y">Hry y</option>
          <option value="Vimuhla">Vimuhla</option>
          <option value="Ksarul">Ksarul</option>
          <option value="Sarku">Sarku</option>
          <option value="Dlamelish">Dlamelish</option>
        <option disabled>Cohorts of Evil Gods/Cohorts of Change:</option>
          <option value="Wuru">Wuru</option>
          <option value="Chiteng">Chiteng</option>
          <option value="Gruganu">Gruganu</option>
          <option value="Durritlamish">Durritlamish</option>
          <option value="Hrihayal">Hrihayal</option>
      </select>
    </span>
    <!-- <span class="flex-row grid-16-span-5"><label data-i18n="alignment-u">Alignment</label><input class="fill" type="text" name="attr_alignment" title="@{Alignment}" /></span> -->
    <!-- GRID row 3 -->
    <span class="flex-row grid-16-span-6"><label data-i18n="nationality-u">Nationality</label><input class="fill" type="text" name="attr_nationality" /></span>
    <span class="flex-row grid-16-span-5"><label data-i18n="clan-u">Clan</label><input class="fill" type="text" name="attr_clan" title="@{Clan}" /></span>
    <span class="flex-row grid-16-span-3"><label data-i18n="gender-u">Gender</label><input class="fill" type="text" name="attr_gender" /></span>
    <span class="flex-row grid-16-span-2"><label data-i18n="age-u">Age</label><input class="fill nospin" type="number" name="attr_age" min="1" /></span>
  </div>

  <div class="section grid-16">
    <!-- GRID row 4 -->
    <span class="flex-row grid-16-span-12">&nbsp;</span>
    <span class="flex-row grid-16-span-4 label" data-i18n="saves-u">Savings Throws</span>
    <!-- GRID row 5 -->
    <span class="flex-row grid-16-span-2"><label data-i18n="level-u">Level</label><input class="fill" type="number" name="attr_level" title="@{Level}" value="1" step="1" /></span>
    <span class="flex-row grid-16-span-4"><label data-i18n="xp-u">Experience</label><input class="fill nospin" type="number" name="attr_xp" title="@{Experience}" value="0" min="0" /></span>
    <span class="flex-row grid-16-span-3"><label class="small">(</label><span class="fill worker" name="attr_xp_next"></span><label class="small">next&nbsp;lvl.)</label></span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="xpBonus-u">(XP&nbsp;+/-</label><span class="fill worker" name="attr_xp_modifier" title="@{XPMod}"></span><span class="small">%)</span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="poison-u">Poison</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Savings Throw vs Pioson}} {{subtitle= for @{character_name}}} {{savingthrow=[[1d20]]}} {{savevs=[[@{Save_v_Poison}]]}}" name="roll_save_v_poison"></button></span>
    <!-- <span class="flex-row grid-16-span-2"><input class="fill nospin" type="number" name="attr_save_v_poison" title="@{Save_v_Poison}" min="1" max="20" step="1" /></span> -->
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_save_v_poison"></span></span>
    <!-- GRID row 6 -->
    <span class="flex-row grid-16-span-3"><label data-i18n="hits-u">Hits</label><input class="fill" type="number" name="attr_hits" title="@{Hits}" step="1" /><label class="small">hp</label></span>
    <span class="flex-row grid-16-span-4"><label>/</label><input class="fill nospin" type="number" name="attr_current_hits" title="@{Current_Hits}" step="1"/><label class="small">max. hp</label></span>
    <span class="flex-row grid-16-span-4"><label data-i18n="ac-u">Armour&nbsp;Class</label><input class="fill" type="number" name="attr_ac" /></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="spells-u">Spells</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Savings Throw vs Spells}} {{subtitle= for @{character_name}}} {{savingthrow=[[1d20]]}} {{savevs=[[@{Save_v_Spells}]]}}" name="roll_save_v_spells"></button></span>
    <!-- <span class="flex-row grid-16-span-2"><input class="fill nospin" type="number" name="attr_save_v_spells" title="@{Save_v_Spellls}" min="1" max="20" step="1" /></span> -->
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_save_v_spells"></span></span>
    <!-- GRID row 7 -->
    <span class="flex-row grid-16-span-3"><label data-i18n="movement-u">Movement</label><span class="fill worker" name="attr_movement"></span></span>
    <!-- <span class="flex-row grid-16-span-4"><label data-i18n="weight-car-u">Weight&nbsp;Car.</label><input class="fill nospin" type="number" name="attr_weight_car" min="0" step="1" /></span> -->
    <span class="flex-row grid-16-span-4"><label data-i18n="weight-car-u">Weight&nbsp;Carried</label><span class="fill worker" name="attr_weight_car"></span></span>
    <!-- <span class="flex-row grid-16-span-4"><label data-i18n="weight-cap-u">Weight&nbsp;Capacity</label><input class="fill nospin" type="number" name="attr_total_weight_cap" min="0" step="1" /></span> -->
    <span class="flex-row grid-16-span-4"><label data-i18n="weight-cap-u">Weight&nbsp;Capacity</label><span class="fill worker" name="attr_total_weight_cap"></span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="paralysis-u">Paralysis/ Hypnosis</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Savings Throw vs Paralysis/Hypnosis}} {{subtitle= for @{character_name}}} {{savingthrow=[[1d20]]}} {{savevs=[[@{Save_v_Paralysis}]]}}" name="roll_save_v_paralysis"></button></span>
    <!-- <span class="flex-row grid-16-span-2"><input class="fill nospin" type="number" name="attr_save_v_paralysis" title="@{Save_v_Paralysis}" min="1" max="20" step="1" /></span> -->
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_save_v_paralysis"></span></span>
    <!-- GRID row 8 -->
    <span class="flex-row grid-16-span-12">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="eyes-u">Eyes</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Savings Throw vs Eyes}} {{subtitle= for @{character_name}}} {{savingthrow=[[1d20]]}} {{savevs=[[@{Save_v_Eyes}]]}}" name="roll_save_v_eyes"></button></span>
    <!-- <span class="flex-row grid-16-span-2"><input class="fill nospin" type="number" name="attr_save_v_eyes" title="@{Save_v_Eyes}" min="1" max="20" step="1" /></span> -->
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_save_v_eyes"></span></span>
  </div>
  <!-- END Characteristics Section -->

  <!-- Talent Section -->
  <div class="section grid-16">
    <!-- GRID row 9 -->
    <span class="grid-16-span-2 label" data-i18n="talent-u">Talent</span>
    <span class="grid-16-span-1 label small" data-i18n="score-u">Score</span>
    <span class="grid-16-span-1 label small" data-i18n="hitbonus-u">+/-&nbsp;To&nbsp;Hit</span>
    <span class="grid-16-span-1 label small" data-i18n="damagebonus-u">+/-&nbsp;Damage</span>
    <span class="grid-16-span-7 label small" data-i18n="special-u">Special</span>
    <span class="flex-row grid-16-span-4 label" data-i18n="checks-u">Checks</span>
    <!-- GRID row 10 -->
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="strength-u">Strength</label></span>
    <span class="flex-row grid-16-span-1"><input class="fill nospin" type="number" name="attr_strength" title="@{Strength}" min="1" max="100" step='1' /></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_strength_hit"></span></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_strength_damage"></span></span>
    <span class="flex-row grid-16-span-6"><span class="fill worker-text" name="attr_strength_special"></span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="find_door-u">Find Secret Doors</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Checks to Find Secret Doors}} {{subtitle= for @{character_name}}} {{check=[[1d100]]}} {{checks=[[@{find_door}]]}}" name="roll_find_door"></button></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_find_door"></span><span class="small">%</span></span>
    <!-- GRID row 11 -->
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="intelligence-u">Intelligence</label></span>
    <span class="flex-row grid-16-span-1"><input class="fill nospin" type="number" name="attr_intelligence" title="@{Intelligence}" min="1" max="100" step='1' /></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_intelligence_hit"></span></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_intelligence_damage"></span></span>
    <span class="flex-row grid-16-span-6"><span class="fill worker-text" name="attr_intelligence_special"></span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="detect_traps-u">Detect Traps</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Checks to Detect Traps}} {{subtitle= for @{character_name}}} {{check=[[1d100]]}} {{checks=[[@{detect_traps}]]}}" name="roll_detect_traps"></button></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_detect_traps"></span><span class="small">%</span></span>
    <!-- GRID row 12 -->
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="constitution-u">Constitution</label></span>
    <span class="flex-row grid-16-span-1"><input class="fill nospin" type="number" name="attr_constitution" title="@{Constitution}" min="1" max="100" step='1' /></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_constitution_hit"></span></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_constitution_damage"></span></span>
    <span class="flex-row grid-16-span-6"><span class="fill worker-text" name="attr_constitution_special"></span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="revivification-u">Revivification</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Checks for Revivification}} {{subtitle= for @{character_name}}} {{check=[[1d100]]}} {{checks=[[@{Revivification}]]}}" name="roll_revivification"></button></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_revivification"></span><span class="small">%</span></span>
    <!-- GRID row 13 -->
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="psychicability-u">Psychic&nbsp;Ability</label></span>
    <span class="flex-row grid-16-span-1"><input class="fill nospin" type="number" name="attr_psychicability" title="@{Psychic Ability}" min="1" max="100" step='1' /></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker"></span></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker"></span></span>
    <span class="flex-row grid-16-span-6"><span class="fill worker-text" name="attr_psychicability_special"></span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="chance_spell_working-u">Chance of Spell Working</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Checks Chance of Spell Working}} {{subtitle= for @{character_name}}} {{check=[[1d100]]}} {{checks=[[@{Chance_Spell_Working}]]}}" name="roll_chance_spell_working"></button></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_chance_spell_working"></span><span class="small">%</span></span>
    <!-- GRID row 14 -->
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="dexterity-u">Dexterity</label></span>
    <span class="flex-row grid-16-span-1"><input class="fill nospin" type="number" name="attr_dexterity" title="@{Dexterity}" min="1" max="100" step='1' /></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_dexterity_hit"></span></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_dexterity_damage"></span></span>
    <span class="flex-row grid-16-span-6"><span class="fill worker-text" name="attr_dexterity_special"></span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="chance_wrong_target-u">Attacks/Spells Hit Wrong Target</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Checks if Attack/Spell Hit Wrong Target}} {{subtitle= for @{character_name}}} {{checkwrong=[[1d100]]}} {{checks=[[@{Wrong_Target}]]}}" name="roll_wrong_target"></button></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_wrong_target"></span><span class="small">%</span></span>

    <!-- GRID row 15 -->
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="comliness-u">Comliness</label></span>
    <span class="flex-row grid-16-span-1"><input class="fill nospin" type="number" name="attr_comliness" title="@{Comliness}" min="1" max="100" step='1' /></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker"></span></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker"></span></span>
    <span class="flex-row grid-16-span-6"><span class="fill worker-text" name="attr_comliness_special"></span></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="struggle-u">Struggle</label></span>
    <span class="flex-row grid-16-span-1"><button type="roll" value="&{template:ept} {{title=Struggle}} {{subtitle= for @{character_name}}} {{struggle=[[1d100]]}} {{stuggle_stat=[[@{struggle}]]}} {{stuggle_floor=[[@{struggle}-20]]}}" name="roll_struggle"></button></span>
    <span class="flex-row grid-16-span-1"><span class="fill worker" name="attr_struggle"></span><span class="small">%</span></span>
    <!-- GRID row 16 -->
    <span class="flex-row grid-16-span-3"><label class="small" data-i18n="other-bonus-u">Other Bonus<br />(non-weapon)</label></span>
    <span class="flex-row grid-16-span-1"><input class="fill" name="attr_weap_bonus_hit" type="number" min="0" max="4" step='1' /></span>
    <span class="flex-row grid-16-span-1"><input class="fill" name="attr_weap_bonus_damage" type="number" min="0" max="3" step='1' /></span>
    <span class="flex-row grid-16-span-6"><input class="fill" name="attr_weap_bonus_special" type="text" /></span>
    <span class="flex-row grid-16-span-5">&nbsp;</span>
    <!-- GRID row 17 -->
    <span class="flex-row grid-16-span-2"><label class="small" data-i18n="total-u">Total</label></span>
    <span class="flex-row grid-16-span-1">&nbsp;</span>
    <span class="flex-row grid-16-span-1"><span class="fill thick worker" name="attr_total_hit"></span></span>
    <span class="flex-row grid-16-span-1"><span class="fill thick worker" name="attr_total_damage"></span></span>
    <span class="flex-row grid-16-span-6">&nbsp;</span>
    <span class="flex-row grid-16-span-5">&nbsp;</span>
  </div>
  <!-- END  Talent Section -->

  <!-- Skills Section -->
  <div class="skills section">

    <!-- <input type="checkbox" class="switch-list-check" name="attr_lists_checkboxes_switch" value="1" /> -->
    <div class="sticky-header grid-16">
        <label class="label" data-i18n="skills-u">Skills</label>
        <label class="switch edit-play">
          <input type="checkbox" class="switch-edit-play" name="attr_play_edit_switch" value="1">
          <div class="slider round">
            <span class="on">Play</span>
            <span class="off">Edit</span>
          </div>
        </label>
    </div>

    <input type="checkbox" class="switch-edit-play" name="attr_play_edit_switch" value="1" />

    <div class="grid-16 extra-space number-of-skills">
      <span class="flex-row grid-16-span-3"><label data-i18n="org-skills-u">Original&nbsp;Skills</label><input class="fill nospin" type="number" name="attr_orig_skills" /></span>
      <span class="flex-row grid-16-span-2">(<span class="fill worker" name="attr_skills_group_1"></span><label data-i18n="class-1-u">Group&nbsp;I</label></span>
      <span class="flex-row grid-16-span-2"><span class="fill worker" name="attr_skills_group_2"></span><label data-i18n="class-2-u">Group&nbsp;II</label></span>
      <span class="flex-row grid-16-span-2"><span class="fill worker" name="attr_skills_group_3"></span><label data-i18n="class-3-u">Group&nbsp;III)</label></span>
      <span class="flex-row grid-16-span-4"><label data-i18n="prof-skill-u">Profssional&nbsp;Skill</label><input class="fill nospin" type="number" name="attr_prof_skill"  /></span>
      <span class="flex-row grid-16-span-3">(<span class="fill worker" name="attr_skills_number_of"></span><label data-i18n="of-first-u">&nbsp;of&nbsp;first)</label><span class="fill worker" name="attr_of_number"></span>)</span>
    </div>

    <div class="grid-16">
      <div class="plebian grid-16-span-3">
        <label class="flex-row label" data-i18n="plebian-u">Group I: Plebian</label>
        <div class="checklist">
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-baker" value="yes" />
            <label class="skill-label" data-i18n="baker-u">Baker</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-barber" value="yes" />
            <label class="skill-label" data-i18n="barber-u">Barber</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-bootmaker" value="yes" />
            <label class="skill-label" data-i18n="bootmaker-u">Bootmaker</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-bricklayer" value="yes" />
            <label class="skill-label" data-i18n="bricklayer-u">Bricklayer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-butcher" value="yes" />
            <label class="skill-label" data-i18n="butcher-u">Butcher</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-carpenter" value="yes" />
            <label class="skill-label" data-i18n="carpenter-u">Carpenter</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-carpet-maker" value="yes" />
            <label class="skill-label" data-i18n="carpet-maker-u">Carpet-Maker</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-cook" value="yes" />
            <label class="skill-label" data-i18n="cook-u">Cook</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-dyer" value="yes" />
            <label class="skill-label" data-i18n="dyer-u">Dyer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-farmer" value="yes" />
            <label class="skill-label" data-i18n="farmer-u">Farmer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-fisherman" value="yes" />
            <label class="skill-label" data-i18n="fisherman-u">Fisherman</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-glass-blower" value="yes" />
            <label class="skill-label" data-i18n="glass-blower-u">Glass-Blower</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-grocer" value="yes" />
            <label class="skill-label" data-i18n="grocer-u">Grocer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-mason" value="yes" />
            <label class="skill-label" data-i18n="mason-u">Mason</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-merchant" value="yes" />
            <label class="skill-label" data-i18n="merchant-u">Merchant</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-miner" value="yes" />
            <label class="skill-label" data-i18n="miner-u">Miner</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-paper-ink-maker" value="yes" />
            <label class="skill-label" data-i18n="paper-ink-maker-u">Paper-Ink-Maker</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-perfumer" value="yes" />
            <label class="skill-label" data-i18n="perfumer-u">Perfumer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-potter" value="yes" />
            <label class="skill-label" data-i18n="potter-u">Potter</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-rope-and-net-maker" value="yes" />
            <label class="skill-label" data-i18n="rope-and-net-maker-u">Rope and Net Maker</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-sail-maker" value="yes" />
            <label class="skill-label" data-i18n="sail-maker-u">Sail Maker</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-tailor" value="yes" />
            <label class="skill-label" data-i18n="tailor-u">Tailor</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-tanner" value="yes" />
            <label class="skill-label" data-i18n="tanner-u">Tanner</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-weaver" value="yes" />
            <label class="skill-label" data-i18n="weaver-u">Weaver</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-wine-maker" value="yes" />
            <label class="skill-label" data-i18n="wine-maker-u">Wine-Maker</label>
          </div>
        </div>
        <fieldset class="flex-row repeating_plebianskills">
          <input class="fill" type="text" name="attr_plebianskill" />
        </fieldset>
      </div>

      <div class="skilled grid-16-span-3">
        <label class="flex-row label" data-i18n="skilled-u">Group II: Skilled</label>
        <div class="checklist">
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-animal-trainer" value="yes" />
            <label class="skill-label" data-i18n="animal-trainer-u">Animal-Trainer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-bird-trainer" value="yes" />
            <label class="skill-label" data-i18n="bird-trainer-u">Bird-Trainer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-fletcher" value="yes" />
            <label class="skill-label" data-i18n="fletcher-u">Fletcher</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-hunter" value="yes" />
            <label class="skill-label" data-i18n="hunter-u">Hunter</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-jeweler-goldsmith" value="yes" />
            <label class="skill-label" data-i18n="jeweler-goldsmith-u">Jeweler-Goldsmith</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-mountaineer" value="yes" />
            <label class="skill-label" data-i18n="mountaineer-u">Mountaineer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-sailor" value="yes" />
            <label class="skill-label" data-i18n="sailor-u">Sailor</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-scribe-Accountant" value="yes" />
            <label class="skill-label" data-i18n="scribe-Accountant-u">Scribe-Accountant</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-ship-builder" value="yes" />
            <label class="skill-label" data-i18n="ship-builder-u">Ship-Builder</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-ship-captain" value="yes" />
            <label class="skill-label" data-i18n="ship-captain-u">Ship-Captain</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-slaver" value="yes" />
            <label class="skill-label" data-i18n="slaver-u">Slaver</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-smith-armourer" value="yes" />
            <label class="skill-label" data-i18n="smith-armourer-u">Smith-Armourer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-swimmer-diver" value="yes" />
            <label class="skill-label" data-i18n="swimmer-diver-u">Swimmer-Diver</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-wheelwright" value="yes" />
            <label class="skill-label" data-i18n="wheelwright-u">Wheelwright</label>
          </div>
        </div>
        <fieldset class="flex-row repeating_skilledskills">
          <input class="fill" type="text" name="attr_skilledskill" />
        </fieldset>
      </div>

      <div class="noble grid-16-span-3">
        <label class="flex-row label" data-i18n="noble-u">Group III: Noble</label>
        <div class="checklist">
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-alchemist" value="yes" />
            <label class="skill-label" data-i18n="alchemist-u">Alchemist</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-artist-sculptor" value="yes" />
            <label class="skill-label" data-i18n="artist-sculptor-u">Artist-Sculptor</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-assassin-spy-tracker" value="yes" />
            <label class="skill-label" data-i18n="assassin-spy-tracker-u">Assassin-Spy-Tracker</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-astronomer-navigator" value="yes" />
            <label class="skill-label" data-i18n="astronomer-navigator-u">Astronomer-Navigator</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-author" value="yes" />
            <label class="skill-label" data-i18n="author-u">Author</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-botanist" value="yes" />
            <label class="skill-label" data-i18n="botanist-u">Botanist</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-courtesan-Don-Juan" value="yes" />
            <label class="skill-label" data-i18n="courtesan-Don-Juan-u">Courtesan/Don Juan</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-dancer" value="yes" />
            <label class="skill-label" data-i18n="dancer-u">Dancer</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-engineer-architect" value="yes" />
            <label class="skill-label" data-i18n="engineer-architect-u">Engineer-Architect</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-geologist" value="yes" />
            <label class="skill-label" data-i18n="geologist-u">Geologist</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-interpreter" value="yes" />
            <label class="skill-label" data-i18n="interpreter-u">Interpreter</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-mathematician" value="yes" />
            <label class="skill-label" data-i18n="mathematician-u">Mathematician</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-musician " value="yes" />
            <label class="skill-label" data-i18n="musician-u">Musician</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-orator" value="yes" />
            <label class="skill-label" data-i18n="orator-u">Orator</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-physician" value="yes" />
            <label class="skill-label" data-i18n="physician-u">Physician</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-poet" value="yes" />
            <label class="skill-label" data-i18n="poet-u">Poet</label>
          </div>
          <div class="skill-set">
            <input class="skill-checkbox" type="checkbox" name="attr_skill-scholar" value="yes" />
            <label class="skill-label" data-i18n="scholar-u">Scholar</label>
          </div>
        </div>
        <fieldset class="flex-row repeating_nobleskills">
          <input class="fill" type="text" name="attr_nobleskill" />
        </fieldset>
      </div>

      <div class="professional grid-16-span-4">
        <div class="prof-skill-select flex-row">
          <span class="flex-row label-prof"><label class="label" data-i18n="prof-u">Prof.:</label>
            <label class="label label-profession-warrior" data-i18n="professional-warrior-u">: Warrior</label>
            <label class="label label-profession-priest" data-i18n="professional-priest-u">: Priest</label>
            <label class="label label-profession-magicuser" data-i18n="professional-magicuser-u">: Magic&nbsp;User</label>
          </span>
        </div>
        <div class="checklist">
          <div class="profession-warrior">
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-spearman" value="yes" />
              <label class="skill-label" data-i18n="spearman-u">Spearman</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-mace-flail" value="yes" />
              <label class="skill-label" data-i18n="mace-flail-u">Mace/Flail</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-axeman" value="yes" />
              <label class="skill-label" data-i18n="axeman-u">Axeman</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-swordsman" value="yes" />
              <label class="skill-label" data-i18n="swordsman-u">Swordsman</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-slinger" value="yes" />
              <label class="skill-label" data-i18n="slinger-u">Slinger</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-bola-slinger" value="yes" />
              <label class="skill-label" data-i18n="bola-slinger-u">Bola-Slinger</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-crossbowman" value="yes" />
              <label class="skill-label" data-i18n="crossbowman-u">Crossbowman</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-bowman" value="yes" />
              <label class="skill-label" data-i18n="bowman-u">Bowman</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-broadsword-dagger" value="yes" />
              <label class="skill-label" data-i18n="broadsword-dagger-u">Broadsword &amp; Dagger</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-sapper" value="yes" />
              <label class="skill-label" data-i18n="sapper-u">Sapper</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-artilleryman" value="yes" />
              <label class="skill-label" data-i18n="artilleryman-u">Artilleryman</label>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-strategist" value="yes" />
              <label class="skill-label" data-i18n="strategist-u">Strategist</label>
            </div>
          </div>
          <div class="profession-priest">
            <input class="language-checkbox profession-language hide-input" type="checkbox" name="attr_skill-2-mod-languages" value="yes" />
            <div class="skill-set">
              <input class="skill-checkbox profession-language" type="checkbox" name="attr_skill-2-mod-languages" value="yes" />
              <label class="skill-label prof-level-1 profession-language" data-i18n="2-mod-languages-u">Two Modern Languages</label>
              <!-- <i class="mod-languages small">Select two modern languages</i> -->
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-tsolyani" /><label class="skill-label">Tsolyani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-salarvyani" /><label class="skill-label">Salarvyani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-mu-ugalavyani" /><label class="skill-label">Mu&nbsp;Ugalavyani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-livyani" /><label class="skill-label">Livyani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-yan-koryani" /><label class="skill-label">Yan&nbsp;Koryani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-saa-allaqiyani" /><label class="skill-label">Saa&nbsp;Allaqiyani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-milumanayani" /><label class="skill-label">Milumanayani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-pechani" /><label class="skill-label">Pechani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_mod-language-ghatoni" /><label class="skill-label">Ghatoni</label></div>
            </div>
            <input class="language-checkbox profession-language hide-input" type="checkbox" name="attr_skill-2-anc-languages" value="yes" />
            <div class="skill-set">
              <input class="skill-checkbox profession-language" type="checkbox" name="attr_skill-2-anc-languages" value="yes" />
              <label class="skill-label prof-level-1 profession-language" data-i18n="2-anc-languages-u">Two Ancient Languages</label>
              <!-- <i class="anc-languages small">Select two ancient languages</i> -->
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-tsolyani" /><label class="skill-label">Classical&nbsp;Tsolyani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-engsvanyali" /><label class="skill-label">Engsvanyali</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-bednalljan" /><label class="skill-label">Bednalljan</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-ksaruli" /><label class="skill-label">Ksaruli</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-llyani" /><label class="skill-label">Llyani</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-mihalli" /><label class="skill-label">Mihalli</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-n-lyssa" /><label class="skill-label">N&nbsp;lyssa</label></div>
              <div class="prof-level-2 profession-language"><input class="skill-checkbox" type="checkbox" name="attr_anc-language-classical-tsaqw" /><label class="skill-label">Tsaqw</label></div>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-produce-light" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="produce-light-u">Produce Light</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c1-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c1-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c1-3"/> -->
                <label>/day, 10 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-detect-evil-good" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="detect-evil-good-u">Detect Evil/Good</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c2-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c2-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c2-3"/> -->
                <label>/day, 2 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-cure-light-wound" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="cure-light-wound-u">Cure Light Wound</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c3-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c3-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c3-3"/> -->
                <label>/day</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-esp" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="esp-u">ESP</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c4-1"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c4-2"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c4-3"/>
                <label>/day, 2 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-telepathy" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="telepathy-u">Telepathy</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c5-1"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c5-2"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c5-3"/>
                <label>/day, 1 turn</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-protection-evil-good" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="protection-evil-good-u">Protection Evil/Good</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c6-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c6-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c6-3"/> -->
                <label>/day, 3 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-cure-serious-wound" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="cure-serious-wound-u">Cure Serious Wound</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c7-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c7-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c7-3"/> -->
                <label>/day</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-control-person" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="control-person-u">Control Person</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c8-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c8-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c8-3"/> -->
                <label>/day, 3 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-remove-curse" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="remove-curse-u">Remove Curse</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c9-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c9-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c9-3"/> -->
                <label>/day</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-revivify" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="revivify-u">Revivify</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-c10-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c10-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-c10-3"/> -->
                <!-- <label>/week (8th level or below) /day (above 8th level)</label> -->
                <label><span class="fill text-label" name="attr_revivify_per_week_day"></span></label>
              </span>
            </div>
          </div>
          <div class="profession-magicuser">
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-control-self" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="control-self-u">Control Self</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu1-1"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu1-2"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu1-3"/> -->
                <label>/day</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-illusionist" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="illusionist-u">Illusionist</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu2-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu2-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu2-3"/> -->
                <label>/day, 3 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-clairaudience" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="clairaudience-u">Clairaudience</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu3-1"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu3-2"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu3-3"/>
                <label>/day, 2 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-clairvoyance" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="clairvoyance-u">Clairvoyance</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu4-1"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu4-2"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu4-3"/>
                <label>/day, 2 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-telekinesis" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="telekinesis-u">Telekinesis</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu5-1"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu5-2"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu5-3"/> -->
                <label>/day</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-astrologer" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="astrologer-u">Astrologer</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu6-1"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu6-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu6-3"/> -->
                <label>Usable repeatedly</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-medium" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="medium-u">Medium</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu7-1"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu7-2"/>
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu7-3"/>
                <label>/day</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-nature-control" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="nature-control-u">Nature Control</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu8-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu8-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu8-3"/> -->
                <label>/day, 3 turns</label>
              </span>
            </div>
            <div class="skill-set">
               <input class="skill-checkbox" type="checkbox" name="attr_skill-necromancer" value="yes" />
               <label class="skill-label prof-level-1" data-i18n="necromancer-u">Necromancer</label>
               <span class="flex-row prof-level-2 spell-slots-row">
                 <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu9-1"/>
                 <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu9-2"/> -->
                 <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu9-3"/> -->
                 <label>/day, 6 turns</label>
               </span>
             </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-control-underground-creatures" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="control-underworld-u">Control Underworld Creature</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu10-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu10-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu10-3"/> -->
                <label>/day, 6 turns</label>
              </span>
            </div>
            <div class="skill-set">
              <input class="skill-checkbox" type="checkbox" name="attr_skill-the-grey-hand" value="yes" />
              <label class="skill-label prof-level-1" data-i18n="the-grey-hand-u">The Grey Hand</label>
              <span class="flex-row prof-level-2 spell-slots-row">
                <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu11-1"/>
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu11-2"/> -->
                <!-- <input class="spell-slot" type="checkbox" name="attr_spell-splot-mu11-3"/> -->
                <label>/day</label>
              </span>
            </div>
          </div>
        </div>
        <fieldset class="flex-row repeating_professionalskills">
          <input class="fill" type="text" name="attr_professionalskill" />
        </fieldset>
      </div>

      <div class="profession-bonus-spells grid-16-span-3">
        <div class="">
          <label class="label" data-i18n="bonus-spells-u">Bonus Spells</label>
          <div class="checklist">
            <!-- <input type='text' class='max-spell-group' name='attr_max_spell_group' value='3' /> -->
            <input class="skill-checkbox-bonus-groupi hide-input" type="checkbox" name="attr_bonus-spells-group-i" value="yes" />
            <input type='checkbox' class='can_bonus_spell groupi hide-input' name='attr_can_groupi' value="1" />
            <div class="skill-set bonus-group groupi">
              <input class="skill-checkbox" type="checkbox" name="attr_bonus-spells-group-i" value="yes" />
              <label class="label skill-label prof-level-1" data-i18n="bonus-spells-groupi-u">Group I</label>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-1-calm" value="yes" /><label class="skill-label" data-i18n="1-calm-u">1.&nbsp;Calm</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-2-create-food-and-drink" value="yes" /><label class="skill-label" data-i18n="2-create-food-and-drink-u">2.&nbsp;Create&nbsp;food&nbsp;and&nbsp;drink</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-3-creatures" value="yes" /><label class="skill-label" data-i18n="3-creatures-u">3.&nbsp;Creatures</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-4-curse/bless" value="yes" /><label class="skill-label" data-i18n="4-curse/bless-u">4.&nbsp;Curse/bless</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-5-disbelieve-and-dispel" value="yes" /><label class="skill-label" data-i18n="5-disbelieve-and-dispel-u">5.&nbsp;Disbelieve&nbsp;and&nbsp;dispel</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-6-dispel-evil/good" value="yes" /><label class="skill-label" data-i18n="6-dispel-evil/good-u">6.&nbsp;Dispel&nbsp;evil/good</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-7-door-control" value="yes" /><label class="skill-label" data-i18n="7-door-control-u">7.&nbsp;Door&nbsp;control</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-8-fear" value="yes" /><label class="skill-label" data-i18n="8-fear-u">8.&nbsp;Fear</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-9-heal-minor-wounds" value="yes" /><label class="skill-label" data-i18n="9-heal-minor-wounds-u">9.&nbsp;Heal&nbsp;minor&nbsp;wounds</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-10-levitate" value="yes" /><label class="skill-label" data-i18n="10-levitate-u">10.&nbsp;Levitate</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-11-light" value="yes" /><label class="skill-label" data-i18n="11-light-u">11.&nbsp;Light</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-12-locate-gold-and-gems" value="yes" /><label class="skill-label" data-i18n="12-locate-gold-and-gems-u">12.&nbsp;Locate&nbsp;gold&nbsp;and&nbsp;gems</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-13-locate-objects" value="yes" /><label class="skill-label" data-i18n="13-locate-objects-u">13.&nbsp;Locate&nbsp;objects</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-14-madness" value="yes" /><label class="skill-label" data-i18n="14-madness-u">14.&nbsp;Madness</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-15-plague" value="yes" /><label class="skill-label" data-i18n="15-plague-u">15.&nbsp;Plague</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-16-protection-from-evil/good" value="yes" /><label class="skill-label" data-i18n="16-protection-from-evil/good-u">16.&nbsp;Protection&nbsp;from&nbsp;evil/good</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-17-shadows" value="yes" /><label class="skill-label" data-i18n="17-shadows-u">17.&nbsp;Shadows</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-18-seeing-other-planes" value="yes" /><label class="skill-label" data-i18n="18-seeing-other-planes-u">18.&nbsp;Seeing&nbsp;other&nbsp;planes</label></span>
            </div>
            <input class="skill-checkbox-bonus-groupii hide-input" type="checkbox" name="attr_bonus-spells-group-ii" value="yes" />
            <input type='checkbox' class='can_bonus_spell groupii hide-input' name='attr_can_groupii' value="1" />
            <div class="skill-set bonus-group groupii">
              <input class="skill-checkbox" type="checkbox" name="attr_bonus-spells-group-ii" value="yes" />
              <label class="label skill-label prof-level-1" data-i18n="bonus-spells-groupii-u">Group II</label>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-1-charm-creature" value="yes" /><label class="skill-label" data-i18n="1-charm-creature-u">1.&nbsp;Charm&nbsp;creature</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-2-cold" value="yes" /><label class="skill-label" data-i18n="2-cold-u">2.&nbsp;Cold</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-3-creatures" value="yes" /><label class="skill-label" data-i18n="3-creatures-u">3.&nbsp;Creatures</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-4-cure-disease" value="yes" /><label class="skill-label" data-i18n="4-cure-disease-u">4.&nbsp;Cure&nbsp;disease</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-5-dispel-magic" value="yes" /><label class="skill-label" data-i18n="5-dispel-magic-u">5.&nbsp;Dispel&nbsp;magic</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-6-extra-vision" value="yes" /><label class="skill-label" data-i18n="6-extra-vision-u">6.&nbsp;Extra-Vision</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-7-the-hands-of-kra-the-mighty" value="yes" /><label class="skill-label" data-i18n="7-the-hands-of-kra-the-mighty-u">7.&nbsp;The&nbsp;Hands&nbsp;of&nbsp;Kra&nbsp;the&nbsp;Mighty</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-8-heal-serious-wounds" value="yes" /><label class="skill-label" data-i18n="8-heal-serious-wounds-u">8.&nbsp;Heal&nbsp;serious&nbsp;wounds</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-9-invisibility" value="yes" /><label class="skill-label" data-i18n="9-invisibility-u">9.&nbsp;Invisibility</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-10-neutralize-poison" value="yes" /><label class="skill-label" data-i18n="10-neutralize-poison-u">10.&nbsp;Neutralize&nbsp;poison</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-11-paralysis" value="yes" /><label class="skill-label" data-i18n="11-paralysis-u">11.&nbsp;Paralysis</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-12-petrefaction" value="yes" /><label class="skill-label" data-i18n="12-petrefaction-u">12.&nbsp;Petrefaction</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-13-sleep" value="yes" /><label class="skill-label" data-i18n="13-sleep-u">13.&nbsp;Sleep</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-14-slow/haste" value="yes" /><label class="skill-label" data-i18n="14-slow/haste-u">14.&nbsp;Slow/haste</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-15-transmutation" value="yes" /><label class="skill-label" data-i18n="15-transmutation-u">15.&nbsp;Transmutation</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-16-the-vapour-of-death" value="yes" /><label class="skill-label" data-i18n="16-the-vapour-of-death-u">16.&nbsp;The&nbsp;Vapour&nbsp;of&nbsp;Death</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-17-withering" value="yes" /><label class="skill-label" data-i18n="17-withering-u">17.&nbsp;Withering</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-18-zoomorphy" value="yes" /><label class="skill-label" data-i18n="18-zoomorphy-u">18.&nbsp;Zoomorphy</label></span>
            </div>
            <input class="skill-checkbox-bonus-groupiii hide-input" type="checkbox" name="attr_bonus-spells-group-iii" value="yes" />
            <input type='checkbox' class='can_bonus_spell groupiii hide-input' name='attr_can_groupiii' value="1" />
            <div class="skill-set bonus-group groupiii">
              <input class="skill-checkbox" type="checkbox" name="attr_bonus-spells-group-iii" value="yes" />
              <label class="label skill-label prof-level-1" data-i18n="bonus-spells-groupiii-u">Group III</label>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-1-apparitions" value="yes" /><label class="skill-label" data-i18n="1-apparitions-u">1.&nbsp;Apparitions</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-2-change-self-or-others" value="yes" /><label class="skill-label" data-i18n="2-change-self-or-others-u">2.&nbsp;Change&nbsp;self&nbsp;or&nbsp;others</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-3-control-terrain" value="yes" /><label class="skill-label" data-i18n="3-control-terrain-u">3.&nbsp;Control&nbsp;Terrain</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-4-create-one-very-powerful-creature" value="yes" /><label class="skill-label" data-i18n="4-create-one-very-powerful-creature-u">4.&nbsp;Create&nbsp;one&nbsp;very&nbsp;powerful&nbsp;creature</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-5-the-demon" value="yes" /><label class="skill-label" data-i18n="5-the-demon-u">5.&nbsp;The&nbsp;Demon</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-6-doomkill" value="yes" /><label class="skill-label" data-i18n="6-doomkill-u">6.&nbsp;Doomkill</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-7-enchanted-armour-and-weapons:" value="yes" /><label class="skill-label" data-i18n="7-enchanted-armour-and-weapons:-u">7.&nbsp;Enchanted&nbsp;armour&nbsp;and&nbsp;weapons:</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-8-the-energy-bolt" value="yes" /><label class="skill-label" data-i18n="8-the-energy-bolt-u">8.&nbsp;The&nbsp;energy&nbsp;bolt</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-9-fly" value="yes" /><label class="skill-label" data-i18n="9-fly-u">9.&nbsp;Fly</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-10-the-infernal-barrier" value="yes" /><label class="skill-label" data-i18n="10-the-infernal-barrier-u">10.&nbsp;The&nbsp;infernal&nbsp;barrier</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-11-invulnerability" value="yes" /><label class="skill-label" data-i18n="11-invulnerability-u">11.&nbsp;Invulnerability</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-12-mind-bar" value="yes" /><label class="skill-label" data-i18n="12-mind-bar-u">12.&nbsp;Mind-Bar</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-13-quest" value="yes" /><label class="skill-label" data-i18n="13-quest-u">13.&nbsp;Quest</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-14-rase-the-dead" value="yes" /><label class="skill-label" data-i18n="14-rase-the-dead-u">14.&nbsp;Rase&nbsp;the&nbsp;dead</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-15-reincarnation" value="yes" /><label class="skill-label" data-i18n="15-reincarnation-u">15.&nbsp;Reincarnation</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-16-research" value="yes" /><label class="skill-label" data-i18n="16-research-u">16.&nbsp;Research</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-17-sending-of-evil" value="yes" /><label class="skill-label" data-i18n="17-sending-of-evil-u">17.&nbsp;Sending&nbsp;of&nbsp;evil</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-18-shield-of-defense" value="yes" /><label class="skill-label" data-i18n="18-shield-of-defense-u">18.&nbsp;Shield&nbsp;of&nbsp;defense</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-19-the-silver-halo-of-soul-stealing" value="yes" /><label class="skill-label" data-i18n="19-the-silver-halo-of-soul-stealing-u">19.&nbsp;The&nbsp;Silver&nbsp;Halo&nbsp;of&nbsp;Soul&nbsp;Stealing</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-20-teleportation" value="yes" /><label class="skill-label" data-i18n="20-teleportation-u">20.&nbsp;Teleportation</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-21-walls" value="yes" /><label class="skill-label" data-i18n="21-walls-u">21.&nbsp;Walls</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-22-weather-control" value="yes" /><label class="skill-label" data-i18n="22-weather-control-u">22.&nbsp;Weather&nbsp;Control</label></span>
              <span class="flex-row prof-level-2 skillcheckset"><input class="skill-checkbox" type="checkbox" name="attr_skill-bonus-spell-23-wish" value="yes" /><label class="skill-label" data-i18n="23-wish">	23.&nbsp;Wish</label></span>
            </div>
          </div>
        </div>
        <fieldset class="flex-row repeating_bonusspellslist">
          <input class="fill" type="text" name="attr_bonusspell" />
        </fieldset>
      </div>
    </div>
  </div> <!-- END  Skills Section -->


  <!-- Equipment Section -->
  <div class="equipment section equipment-subsection">
    <div class="flex-row grid-16-span-16 label"><label data-i18n="equipment-u">Equipment</label></div>

    <div class="equipment-money sheet-equipment-subsection">
      <div class="grid-16 equipment-labels">
        <span class="grid-16-span-4 label"><label class="" data-i18n="coin-u">Coin</label></span>
        <span class="grid-16-span-2"><label class="" data-i18n="carried-u">Carried</label></span>
        <span class="grid-16-span-2"><label class="" data-i18n="coin-carrid-location-u">Locaton Carried</label></span>
        <span class="grid-16-span-3"><label class="" data-i18n="coin-stored-u">Stored</label></span>
        <span class="grid-16-span-3"><label class="" data-i18n="coin-stored-location-u">Locaton(s) Stored</label></span>
        <span class="grid-16-span-2"><label class="" data-i18n="coin-total-u">Total</label></span>
      </div>
      <div class="grid-16 equip-row">
        <span class="flex-row grid-16-span-1"></span>
        <label class="flex-row grid-16-span-3 fill left small" data-i18n="kaitar-u">Kaitar (gold)</label>
        <input class="flex-row grid-16-span-2 fill nospin right" type="number" name="attr_coin_carried_kaitar" value="0" min="0" />
        <input class="flex-row grid-16-span-2 fill" type="text" name="attr_coin_carried_kaitar_note" />
        <input class="flex-row grid-16-span-3 fill nospin right" type="number" name="attr_coin_stored_kaitar" value="0" min="0"" />
        <input class="flex-row grid-16-span-3 fill" type="text" name="attr_coin_wealth_kaitar_note" />
        <input class="flex-row grid-16-span-2 worker fill nospin right" type="text" name="attr_coin_total_kaitar" value="@{coin_carried_kaitar}+@{coin_stored_kaitar}" disabled="true" />
      </div>
      <div class="grid-16 equip-row">
        <span class="flex-row grid-16-span-1"></span>
        <label class="flex-row grid-16-span-3 fill left small" data-i18n="hlash-u">Hlash (silver)</label>
        <input class="flex-row grid-16-span-2 fill nospin right" type="number" name="attr_coin_carried_hlash" value="0" min="0" />
        <input class="flex-row grid-16-span-2 fill" type="text" name="attr_coin_carried_hlash_note" />
        <input class="flex-row grid-16-span-3 fill nospin right" type="number" name="attr_coin_stored_hlash" value="0" min="0" />
        <input class="flex-row grid-16-span-3 fill" type="text" name="attr_coin_wealth_hlash_note" />
        <input class="flex-row grid-16-span-2 worker fill nospin right" type="text" name="attr_coin_total_hlash" value="@{coin_carried_hlash}+@{coin_stored_hlash}" disabled="true" />
      </div>
      <div class="grid-16 equip-row">
        <span class="flex-row grid-16-span-1"></span>
        <label class="flex-row grid-16-span-3 fill left small" ddata-i18n="qirgal-u">Qirgal (copper)</label>
        <input class="flex-row grid-16-span-2 fill nospin right" type="number" name="attr_coin_carried_qirgal" value="0" min="0" />
        <input class="flex-row grid-16-span-2 fill" type="text" name="attr_coin_carried_qirgal_note" />
        <input class="flex-row grid-16-span-3 fill nospin right" type="number" name="attr_coin_stored_qirgal" value="0" min="0" />
        <input class="flex-row grid-16-span-3 fill" type="text" name="attr_coin_wealth_qirgal_note" />
        <input class="flex-row grid-16-span-2 worker fill nospin right" type="text" name="attr_coin_total_qirgal" value="@{coin_carried_qirgal}+@{coin_stored_qirgal}" disabled="true" />
      </div>
      <div class="grid-16 equip-row">
        <span class="flex-row grid-16-span-1"></span>
        <label class="flex-row grid-16-span-3 fill left small" ddata-i18n="coin-totals-u">Totals in Kaitar</label>
        <input class="flex-row grid-16-span-2 worker fill nospin right" type="text" name="attr_coins_carried_total" value="@{coin_carried_kaitar}+@{coin_carried_hlash}/20+@{coin_carried_qirgal}/400" disabled="true" />
        <span class="flex-row grid-16-span-2"></span>
        <input class="flex-row grid-16-span-3 worker fill nospin right" type="text" name="attr_coins_stored_total" value="@{coin_stored_kaitar}+@{coin_stored_hlash}/20+@{coin_stored_qirgal}/400" disabled="true" />
        <span class="flex-row grid-16-span-3"></span>
        <input class="flex-row grid-16-span-2 worker fill nospin right" type="text" name="attr_coins_total_total" value="@{coin_total_kaitar}+@{coin_total_hlash}/20+@{coin_total_qirgal}/400" disabled="true" />
      </div>
      <div class="grid-16 equip-row">
        <span class="flex-row grid-16-span-1"></span>
        <label class="flex-row grid-16-span-3 fill left small" ddata-i18n="coin-weight-u">Total Weight in K.</label>
        <input class="flex-row grid-16-span-2 worker fill nospin right" type="text" name="attr_coins_carried_weight" value="@{coin_carried_kaitar}+@{coin_carried_hlash}+@{coin_carried_qirgal}" disabled="true" />
      </div>
    </div>

    <div class="equipment-items equipment-subsection">
      <div class="grid-16 equipment-labels">
        <span class="flex-row grid-16-span-5 label"><label class="" data-i18n="otherequipprop-u">Other Equipment and Property</label></span>
        <span class="flex-row grid-16-span-1"><label class="" data-i18n="acbonus-u">+/-<br />AC</label></span>
        <span class="flex-row grid-16-span-1"><label class="" data-i18n="tohitbonus-u">+/- To&nbsp;Hit</label></span>
        <span class="flex-row grid-16-span-1"><label class="" data-i18n="damagebonus-u">+/-&nbsp;Dmg.</label></span>
        <span class="flex-row grid-16-span-2"><label class="" data-i18n="damage-u">Damage</label></span>
        <span class="flex-row grid-16-span-1"><label class="" data-i18n="wieght-u">Wgt. Ea.</label></span>
        <span class="flex-row grid-16-span-1"><label class="" data-i18n="numberabbr-u">No.</label></span>
        <!-- <span class="flex-row grid-16-span-1"><label class="" data-i18n="wieghttotal-u">Wgt. Tot.</label></span> -->
        <span class="flex-row grid-16-span-1"><label class="" data-i18n="worn-u">Worn/ Carried</label></span>
        <span class="flex-row grid-16-span-1"><label class="" data-i18n="wieghtcap-u">Wgt. Cap.</label></span>
        <span class="flex-row grid-16-span-2"><label class="" data-i18n="location-u">Location</label></span>
      </div>
      <fieldset class="repeating_property">
        <div class="grid-16">
          <input class="flex-row grid-16-span-5" type="text" name="attr_item_name" />
          <input class="flex-row grid-16-span-1 nospin" type="number" name="attr_item_ac_bonus" />
          <input class="flex-row grid-16-span-1 nospin" type="number" name="attr_item_hit_bonus" />
          <input class="flex-row grid-16-span-1 nospin" type="number" name="attr_item_damage_bonus" />
          <input class="flex-row grid-16-span-2 center" type="text" name="attr_item_damage" />
          <input class="flex-row grid-16-span-1 nospin right" type="number" name="attr_item_weight" />
          <input class="flex-row grid-16-span-1 right" type="number" name="attr_item_number" value="1" />
          <!-- <input class="flex-row grid-16-span-1 nospin right" type="number" name="attr_weight_total" /> -->
          <!-- <span class="flex-row grid-16-span-1 worker right" name="attr_weight_total"></span> -->
          <input class="flex-row grid-16-span-1" type="checkbox" name="attr_item_worn" />
          <input class="flex-row grid-16-span-1 nospin right" type="number" name="attr_weight_cap" />
          <input class="flex-row grid-16-span-2" type="text" name="attr_item_location" />
        </div>
      </fieldset>
    </div>
  </div> <!-- END Equipment Section -->

  <!--  Misc. Section  -->
  <div class="misc section">
    <div class="flex-row">
      <label class="fill" data-i18n="misc-u">Miscellaneous</label>
    </div>
    <fieldset class="flex-row repeating_misc">
      <input class="fill" type="text" name="attr_misc" />
    </fieldset>
  </div> <!-- END Misc. Section -->

</div>

<!-- Sheet Workers  -->
<script type="text/worker">

  // Talent based calulations
  on("change:profession change:strength change:intelligence change:constitution change:psychicability change:dexterity change:comliness change:level change:weap_bonus_hit change:weap_bonus_damage sheet:opened", function() {
    getAttrs(["STRENGTH","INTELLIGENCE","CONSTITUTION","PSYCHICABILITY","DEXTERITY","COMLINESS","PROFESSION","LEVEL","WEAP_BONUS_HIT","WEAP_BONUS_DAMAGE"], function(values) {
      let profession = values.PROFESSION
      let strength = parseInt(values.STRENGTH)||0;
      let intelligence = parseInt(values.INTELLIGENCE)||0;
      let constitution = parseInt(values.CONSTITUTION)||0;
      let psychicability = parseInt(values.PSYCHICABILITY)||0;
      let dexterity = parseInt(values.DEXTERITY)||0;
      let comliness = parseInt(values.COMLINESS)||0;
      let level = parseInt(values["LEVEL"]) || 0;
      let xp_modifier = 0;
      let find_door = 0;
      let detect_traps = 0;
      let revivification = 0;
      let chance_spell_working = 0;
      let wrong_target = 0;
      let struggle = 0;
      let total_hit = parseInt(values.WEAP_BONUS_HIT)||0;
      let total_damage = parseInt(values.WEAP_BONUS_DAMAGE)||0;
      let max_spell_group = 3;
      let can_groupi = 1;
      let can_groupii = 1;
      let can_groupiii = 1;

      // Strength modifiers
      let strength_hit = parseInt(0);
      let strength_damage = parseInt(0);
      let strength_special = "";
      if (strength < 1 || strength > 100) {
        strength_hit = 0;
        strength_damage = 0;
        strength_special = "That can't be right! Talents are 1 to 100.";
      } else if (strength <= 40) {
        strength_hit = -1;
        strength_damage = 0;
        strength_special = "Weak.";
      } else if (strength <= 60) {
        strength_hit = 0;
        strength_damage = 0;
        strength_special = "Average.";
      } else if (strength <= 80) {
        strength_hit = 1;
        strength_damage = 0;
        strength_special = "Strong.";
      } else if (strength <= 95) {
        strength_hit = 1;
        strength_damage = 1;
        strength_special = "Powerful.";
      } else {
        strength_hit = 2;
        strength_damage = 2;
        strength_special = "Superb.";
      }
      total_hit = total_hit + strength_hit;
      total_damage = total_damage + strength_damage;

      // Intelligene modifiers
      let intelligence_hit = parseInt(0);
      let intelligence_damage = parseInt(0);
      let intelligence_special = "";
      if (intelligence < 1 || intelligence > 100) {
        intelligence_hit = 0;
        intelligence_damage = 0;
        intelligence_special = "That can't be right! Talents are 0 to 100.";
      } else if (intelligence <= 20) {
        intelligence_hit = -1;
        intelligence_damage = -1;
        intelligence_special = "Stupid. Can't use Eyes or tech. Group I spells only.";
        max_spell_group = 1;
      } else if (intelligence <= 40) {
        intelligence_hit = 0;
        intelligence_damage = -1;
        intelligence_special = "Dumb. Group I and II spells only.";
        max_spell_group = 2;
      } else if (intelligence <= 60) {
        intelligence_hit = 0;
        intelligence_damage = 0;
        intelligence_special = "Average.";
      } else if (intelligence <= 80) {
        intelligence_hit = 1;
        intelligence_damage = 0;
        intelligence_special = "Smart. Easily uses Eyes and spells.";
      } else if (intelligence <= 95) {
        intelligence_hit = 1;
        intelligence_damage = 1;
        intelligence_special = "Brilliant. Easily uses Eyes and spells.";
        // intelligence_special = "Brilliant. Easily uses Eyes and spells. 40% find secret doors.";
        find_door = 40;
      } else {
        intelligence_hit = 2;
        intelligence_damage = 2;
        // intelligence_special = "Genius. Easily uses Eyes and spells. 60% find secret doors, 40% detect traps.";
        intelligence_special = "Genius. Easily uses Eyes and spells.";
        find_door = 60;
        detect_traps = 40;
      }
      total_hit = total_hit + intelligence_hit;
      total_damage = total_damage + intelligence_damage;

      // Constitution modifiers
      let constitution_hit = parseInt(0);
      let constitution_damage = parseInt(0);
      let constitution_special = "";
      if (constitution < 1 || constitution > 100) {
        constitution_hit = 0;
        constitution_damage = 0;
        constitution_special = "That can't be right! Talents are 0 to 100.";
      } else if (constitution <= 20) {
        constitution_hit = -2;
        constitution_damage = 0;
        constitution_special = "Weakling. 40% healing spell or Eye will not work.";
        revivification = 30;
      } else if (constitution <= 40) {
        constitution_hit = -1;
        constitution_damage = 0;
        constitution_special = "Puny. 20% healing spell or Eye will not work.";
        revivification = 40;
      } else if (constitution <= 60) {
        constitution_hit = 0;
        constitution_damage = 0;
        constitution_special = "Average.";
        revivification = 60;
      } else if (constitution <= 80) {
        constitution_hit = 1;
        constitution_damage = 0;
        // constitution_special = "Healthy. 60% chance revivification.";
        constitution_special = "Healthy.";
        revivification = 60;
      } else if (constitution <= 95) {
        constitution_hit = 1;
        constitution_damage = 1;
        // constitution_special = "Very Healthy. 70% chance revivification.";
        constitution_special = "Very Healthy.";
        revivification = 70;
      } else {
        constitution_hit = 2;
        constitution_damage = 1;
        // constitution_special = "Robust. 90% revivification, +1 from healing spells.";
        constitution_special = "Robust. +1 from healing spells.";
        revivification = 90;
    }
      total_hit = total_hit + constitution_hit;
      total_damage = total_damage + constitution_damage;

      // Psychibabilty modifiers
      let psychicability_hit = parseInt(0);
      let psychicability_damage = parseInt(0);
      let psychicability_special = "";
      if (psychicability < 1 || psychicability > 100) {
        psychicability_special = "That can't be right! Talents are 0 to 100.";
      } else if (psychicability <= 20) {
        psychicability_special = "Non-Psychic. Can't use spells or magic.";
        max_spell_group = 0;
      } else if (psychicability <= 40) {
        psychicability_special = "Barley Psychic. Group I and II spells only.";
        if (max_spell_group > 2) { max_spell_group = 2; }
      } else if (psychicability <= 60) {
        psychicability_special = "Average";
      } else if (psychicability <= 80) {
        // psychicability_special = "Somewhat Psychic. +5% chance of spells working.";
        psychicability_special = "Somewhat Psychic.";
        chance_spell_working = 5;
      } else if (psychicability <= 95) {
        // psychicability_special = "Quite Psychic. +10% chance of spells working.";
        psychicability_special = "Quite Psychic.";
        chance_spell_working = 10;
      } else {
        // psychicability_special = "Highly Psychic. +15% chance of spells working.";
        psychicability_special = "Highly Psychic.";
        chance_spell_working = 15;
      }

      // Chance of Spells Working
      if (profession == "Warrior") {
        chance_spell_working = 40 + chance_spell_working;
      } else {
        if (level == 1) {
          chance_spell_working = 40 + chance_spell_working;
        } else if (level == 2) {
          chance_spell_working = 50 + chance_spell_working;
        } else if (level == 3) {
          chance_spell_working = 60 + chance_spell_working;
        } else if (level == 4) {
          chance_spell_working = 70 + chance_spell_working;
        } else if (level == 5) {
          chance_spell_working = 80 + chance_spell_working;
        } else if (level == 6) {
          chance_spell_working = 85 + chance_spell_working;
        } else if (level == 7) {
          chance_spell_working = 90 + chance_spell_working;
        } else if (level == 8) {
          chance_spell_working = 95 + chance_spell_working;
        } else if (level >= 9) {
          chance_spell_working = 100;
        }
      }

      // Dexterity modifiers
      let dexterity_hit = parseInt(0);
      let dexterity_damage = parseInt(0);
      let dexterity_special = "";
      if (dexterity < 1 || dexterity > 100) {
        dexterity_hit = 0;
        dexterity_damage = 0;
        dexterity_special = "That can't be right! Talents are 0 to 100.";
      } else if (dexterity <= 20) {
        dexterity_hit = -1;
        dexterity_damage = -1;
        // dexterity_special = "All Thumbs. 20% attacks/spells hit wrong target.";
        dexterity_special = "All Thumbs.";
        wrong_target = 20;
      } else if (dexterity <= 40) {
        dexterity_hit = -1;
        dexterity_damage = 0;
        // dexterity_special = "Clumbsy. 10% attacks/spells hit wrong target.";
        dexterity_special = "Clumbsy.";
        wrong_target = 10;
      } else if (dexterity <= 60) {
        dexterity_hit = 0;
        dexterity_damage = 0;
        dexterity_special = "Average";
      } else if (dexterity <= 80) {
        dexterity_hit = 1;
        dexterity_damage = 0;
        dexterity_special = "Clever";
      } else if (dexterity <= 95) {
        dexterity_hit = 1;
        dexterity_damage = 1;
        dexterity_special = "Dexterous";
      } else {
        dexterity_hit = 2;
        dexterity_damage = 1;
        dexterity_special = "Agile";
      }
      total_hit = total_hit + dexterity_hit;
      total_damage = total_damage + dexterity_damage;

      // Comliness modifiers
      let comliness_hit = parseInt(0);
      let comliness_damage = parseInt(0);
      let comliness_special = "";
      if (comliness < 1 || comliness > 100) {
        comliness_special = "That can't be right! Talents are 0 to 100.";
      } else if  (comliness <= 10) {
        comliness_special = "Hideous";
      } else if (comliness <= 20) {
        comliness_special = "Ugly";
      } else if (comliness <= 50) {
        comliness_special = "Average";
      } else if (comliness <= 70) {
        comliness_special = "Goodlooking";
      } else if (comliness <= 80) {
        comliness_special = "Very Goodlooking";
      } else if (comliness <= 90) {
        comliness_special = "Handsome/Beautiful";
      } else if (comliness <= 95) {
        comliness_special = "Very Handsome/Beautiful";
      } else {
        comliness_special = "Wildly Handsome/Beautiful";
      }

      // Calculate XP Bonus
      if ( profession == "Warrior") {
        if ( strength > 95 ){
          if ( constitution < 96 ){
            xp_modifier = 10;
          } else {
            xp_modifier = 15;
          }
        } else if ( strength > 80 ) {
          if ( constitution < 96 ){
            xp_modifier = 5;
          } else {
            xp_modifier = 10;
          }
        }
      } else if ( profession == "Priest") {
        if ( intelligence > 95 ){
          if ( constitution < 96 ){
            xp_modifier = 10;
          } else {
            xp_modifier = 15;
          }
        } else if ( intelligence > 80 ) {
          if ( constitution < 96 ){
            xp_modifier = 5;
          } else {
            xp_modifier = 10;
          }
        }
      } else if ( profession == "Magic-User") {
        if ( intelligence > 95 ){
          if ( constitution < 96 ){
            xp_modifier = 10;
          } else {
            xp_modifier = 15;
          }
        } else if ( intelligence > 80 ) {
          if ( constitution < 96 ){
            xp_modifier = 5;
          } else {
            xp_modifier = 10;
          }
        }
      }

      // Calculate struggle
      if (strength >= 1 && strength <= 100 && intelligence >= 1 && intelligence <= 100 && dexterity >= 1 && dexterity <= 100) {
        struggle = Math.round((strength+intelligence+dexterity)/3);
      }

      // Set Spell Group Checkboxes
      if (max_spell_group == 3) {
        can_groupi = 1;
        can_groupii = 1;
        can_groupiii = 1;
      } else if (max_spell_group == 2) {
        can_groupi = 1;
        can_groupii = 1;
        can_groupiii = 0;
      } else if (max_spell_group == 1) {
        can_groupi = 1;
        can_groupii = 0;
        can_groupiii = 0;
      } else {
        can_groupi = 0;
        can_groupii = 0;
        can_groupiii = 0;
      }

      setAttrs({
        strength_hit: strength_hit,
        strength_damage: strength_damage,
        strength_special: strength_special,
        intelligence_hit: intelligence_hit,
        intelligence_damage: intelligence_damage,
        intelligence_special: intelligence_special,
        constitution_hit: constitution_hit,
        constitution_damage: constitution_damage,
        constitution_special: constitution_special,
        psychicability_special: psychicability_special,
        dexterity_hit: dexterity_hit,
        dexterity_damage: dexterity_damage,
        dexterity_special: dexterity_special,
        comliness_special: comliness_special,
        xp_modifier: xp_modifier,
        find_door: find_door,
        detect_traps: detect_traps,
        revivification: revivification,
        chance_spell_working: chance_spell_working,
        wrong_target: wrong_target,
        struggle: struggle,
        total_hit: total_hit,
        total_damage: total_damage,
        max_spell_group: max_spell_group,
        can_groupi: can_groupi,
        can_groupii: can_groupii,
        can_groupiii: can_groupiii
      });
  	});
  });

  // Calculate Weight Carried
  /* ===== PARAMETERS ==========
  destinations = the name of the attribute that stores the total quantity
          can be a single attribute, or an array: ['total_cost', 'total_weight']
          If more than one, the matching fields must be in the same order.
      section = name of repeating fieldset, without the repeating_
      fields = the name of the attribute field to be summed
            destination and fields both can be a single attribute: 'weight'
            or an array of attributes: ['weight','number','equipped']
  */
  const repeatingSum = (destinations, section, fields) => {
      if (!Array.isArray(destinations)) destinations = [destinations.replace(/\s/g, '').split(',')];
      if (!Array.isArray(fields)) fields = [fields.replace(/\s/g, '').split(',')];
      getSectionIDs(`repeating_${section}`, idArray => {
          const attrArray = idArray.reduce((m, id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))], []);
          getAttrs([...attrArray], v => {
              const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
              const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
              const output = {};
              destinations.forEach((destination, index) => {
                  output[destination] = idArray.reduce((total, id) => total + getValue(section, id, fields[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * getValue(section, id, mult), 1), 0);
              });
              setAttrs(output);
          });
      });
  };
  // on('change:repeating_property:weight_total remove:repeating_property sheet:opened', function() {
  // 	repeatingSum("weight_car","property","weight_total");
  // });
  on('change:repeating_property remove:repeating_property sheet:opened', function() {
  	repeatingSum("weight_car","property",["item_weight","item_number","item_worn"]);
  });  on('change:repeating_property remove:repeating_property sheet:opened', function() {
  	repeatingSum("total_weight_cap","property",["weight_cap","item_number","item_worn"]);
  });

  // on('change:repeating_armour remove:repeating_armour', function() {
  // 	repeatingSum("armour_weight", "armour",["armour_piece","armour_worn"]);
  // });

  // Calculate Movement based on Weight Carried
  on("change:weight_car sheet:opened", function() {
    getAttrs(["WEIGHT_CAR"], function(values) {
      let weight_carried = parseInt(values["WEIGHT_CAR"]) || 0;
      let movement = "";
      if (weight_carried <= 13000) { movement = '12"'; }
      else if (weight_carried <= 17300) { movement = '9"'; }
      else if (weight_carried <= 26000) { movement = '6"'; }
      // else if (weight_carried <= 52000) { movement = '3"'; }
      else { movement = '!!!';}
      setAttrs({ movement: movement });
    });
  });

  // XP Next + Savings Throws + Revivify per day or weeek
  on("change:level change:profession sheet:opened", function() {
      getAttrs(["LEVEL","PROFESSION"], function(values) {
      let level = parseInt(values["LEVEL"]) || 0;
      let xp_next = 0;
      let profession = values.PROFESSION;
      let save_v_poison = 12;
      let save_v_spells = 16;
      let save_v_paralysis = 13;
      let save_v_eyes = 15;
      let per_week_day = "";

      // XP Next
      if (profession == "Magic-User") {
        if (level == 1) {
          xp_next = 2001;
        } else if (level == 2) {
          xp_next = 40001;
        } else if (level == 3) {
          xp_next = 80001;
        } else if (level == 4) {
          xp_next = 16001;
        } else if (level == 5) {
          xp_next = 32001;
        } else if (level == 6) {
          xp_next = 64001;
        } else if (level == 7) {
          xp_next = 110001;
        } else if (level == 8) {
          xp_next = 200001;
        } else {
          xp_next = 200001 + (10000 * (level-8));
        }
      } else {
        if (level == 1) {
          xp_next = 2001;
        } else if (level == 2) {
          xp_next = 40001;
        } else if (level == 3) {
          xp_next = 80001;
        } else if (level == 4) {
          xp_next = 16001;
        } else if (level == 5) {
          xp_next = 32001;
        } else if (level == 6) {
          xp_next = 64001;
        } else if (level == 7) {
          xp_next = 120001;
        } else if (level == 8) {
          xp_next = 240001;
        } else {
          xp_next = 240001 + (10000 * (level-8));
        }
      }

      // Savings Throws
      if (profession == "Warrior") {
        if (level <= 3) {
          save_v_poison = 12;
          save_v_spells = 16;
          save_v_paralysis = 13;
          save_v_eyes = 15;
        } else if (level <= 6) {
          save_v_poison = 10;
          save_v_spells = 14;
          save_v_paralysis = 12;
          save_v_eyes = 13;
        } else if (level <= 9) {
          save_v_poison = 8;
          save_v_spells = 11;
          save_v_paralysis = 10;
          save_v_eyes = 11;
        } else {
          save_v_poison = 7;
          save_v_spells = 10;
          save_v_paralysis = 9;
          save_v_eyes = 10;
        }
      } else {
        if (level <= 4) {
          save_v_poison = 13;
          save_v_spells = 15;
          save_v_paralysis = 14;
          save_v_eyes = 14;
        } else if (level <= 7) {
          save_v_poison = 11;
          save_v_spells = 12;
          save_v_paralysis = 13;
          save_v_eyes = 12;
        } else if (level <= 10) {
          save_v_poison = 9;
          save_v_spells = 9;
          save_v_paralysis = 11;
          save_v_eyes = 10;
        } else {
          save_v_poison = 8;
          save_v_spells = 7;
          save_v_paralysis = 10;
          save_v_eyes = 7;
        }
      }

      // Revivify per day or weeek
      if (level <= 8) { per_week_day = '/week'; }
      else { per_week_day = '/day'; }

      setAttrs({
        xp_next: xp_next,
        save_v_poison: save_v_poison,
        save_v_spells: save_v_spells,
        save_v_paralysis: save_v_paralysis,
        save_v_eyes: save_v_eyes,
        revivify_per_week_day: per_week_day
      });
    });
  });

  // Set number of skills
  on("change:orig_skills change:prof_skill sheet:opened", function() {
    getAttrs(["ORIG_SKILLS","PROF_SKILL"], function(values) {
      let orig_skills = parseInt(values["ORIG_SKILLS"]) || 0;
      let prof_skill = parseInt(values["PROF_SKILL"]) || 0;
      let skills_group_1 = 0;
      let skills_group_2 = 0;
      let skills_group_3 = 0;
      let skills_number_of = 0;
      let of_number = 0;

      if ( orig_skills <= 0 ) {
        skills_group_1 = 0;
        skills_group_2 = 0;
        skills_group_3 = 0;
      } else if ( orig_skills <= 35 ) {
        skills_group_1 = 1;
      } else if ( orig_skills <= 60 ) {
        skills_group_1 = 1;
        skills_group_2 = 1;
      } else if ( orig_skills <= 80 ) {
        skills_group_1 = 1;
        skills_group_2 = 1;
        skills_group_3 = 1;
      } else if ( orig_skills <= 90 ) {
        skills_group_1 = 2;
        skills_group_2 = 2;
        skills_group_3 = 1;
      } else if ( orig_skills <= 95 ) {
        skills_group_1 = 3;
        skills_group_2 = 2;
        skills_group_3 = 2;
      } else {
        skills_group_1 = 4;
        skills_group_2 = 3;
        skills_group_3 = 3;
      }

      if ( prof_skill == 0  ) {
      } else if ( prof_skill <= 20 ) {
        skills_number_of = 2;
        of_number = 3;
      } else if ( prof_skill <= 50 ) {
        skills_number_of = 3;
        of_number = 4;
      } else if ( prof_skill <= 80 ) {
        skills_number_of = 4;
        of_number = 5;
      } else if ( prof_skill <= 95 ) {
        skills_number_of = 5;
        of_number = 6;
      } else {
        skills_number_of = 5;
        of_number = 7;
      }

      setAttrs({
        skills_group_1: skills_group_1,
        skills_group_2: skills_group_2,
        skills_group_3: skills_group_3,
        skills_number_of: skills_number_of,
        of_number: of_number
      });
    });
  });

</script>
<!-- END charsheet EPT -->


<!-- Roll Templates -->
<rolltemplate class="sheet-rolltemplate-ept">
  <div class="sheet-template-container">
    <div class="sheet-header">
      {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
      {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
    </div>

    {{#savingthrow}}
      <div class="sheet-content">
        <div class="sheet-key">Throw: </div>
        <div class="sheet-value">{{savingthrow}}</div>
        <div class="sheet-key">Target (or over): </div>
        <div class="sheet-value">{{savevs}}</div>
        {{#rollLess() savingthrow savevs}}
          <div class="sheet-desc">Failure!</div>
        {{/rollLess() savingthrow savevs}}
        {{#rollBetween() savingthrow savevs 100}}
          <div class="sheet-desc">Success!</div>
        {{/rollBetween() savingthrow savevs 100}}
      </div>
    {{/savingthrow}}

    {{#check}}
      <div class="sheet-content">
        <div class="sheet-key">Checks with: </div>
        <div class="sheet-value">{{check}}</div>
        <div class="sheet-key">Target (or under): </div>
        <div class="sheet-value">{{checks}}</div>
        {{#rollGreater() check checks}}
          <div class="sheet-desc">Failure!</div>
        {{/rollGreater() check checks}}
        {{#rollBetween() check 1 checks}}
          <div class="sheet-desc">Success!</div>
        {{/rollBetween() check 1 checks}}
      </div>
    {{/check}}

    {{#checkwrong}}
      <div class="sheet-content">
        <div class="sheet-key">Checks with: </div>
        <div class="sheet-value">{{checkwrong}}</div>
        <div class="sheet-key">Target (over): </div>
        <div class="sheet-value">{{checks}}</div>
        {{#rollGreater() checkwrong checks}}
          <div class="sheet-desc">Does not miss!</div>
        {{/rollGreater() checkwrong checks}}
        {{#rollBetween() checkwrong 1 checks}}
          <div class="sheet-desc">Misses!</div>
        {{/rollBetween() checkwrong 1 checks}}
      </div>
    {{/checkwrong}}

    {{#struggle}}
      <div class="sheet-content">
        <div class="sheet-key">Struggles with a: </div>
        <div class="sheet-value">{{struggle}}</div>
        <div class="sheet-key">Target (or under): </div>
        <div class="sheet-value">{{stuggle_stat}}</div>
        <div class="sheet-key">Stuggle Floor: </div>
        <div class="sheet-value">{{stuggle_floor}}</div>
        {{#rollBetween() struggle stuggle_floor stuggle_stat}}
          <div class="sheet-desc">Opponent gets a save!</div>
          <div class="sheet-desc">(roll Save against Paralysis/Hypnosis)</div>
        {{/rollBetween() struggle stuggle_floor stuggle_stat}}
        {{#rollLess() struggle stuggle_floor}}
          <div class="sheet-desc">Success!</div>
        {{/rollLess() struggle stuggle_floor}}
        {{#rollGreater() struggle stuggle_stat}}
          <div class="sheet-desc">Failure!</div>
        {{/rollGreater() struggle stuggle_stat}}
      </div>
    {{/struggle}}


  </div>
</rolltemplate>
<!-- END Roll Templates -->

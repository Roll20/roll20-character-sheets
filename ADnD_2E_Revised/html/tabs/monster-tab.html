<div class="sheet-tab-content sheet-section-monster-page">
    <h3>Monster Info</h3>

    <div class="sheet-body">
        <div class='sheet-3colrow'>
            <div class='sheet-col'>
                <table class="sheet-table-nowrap sheet-table-full-width-column2">
                    <tr>
                        <th>Name:</th>
                        <td><input type="text" name="attr_character_name" title="@{character_name}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Climate/Terrain:</th>
                        <td><input type="text" name="attr_climateterrain" title="@{climateterrain}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Frequency:</th>
                        <td><input type="text" name="attr_frequency" title="@{frequency}" class="sheet-table-dynamic" list="monster-frequency"><span></span></td>
                    </tr>
                    <tr>
                        <th>Organization:</th>
                        <td><input type="text" name="attr_organization" title="@{organization}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Activity Cycle:</th>
                        <td><input type="text" name="attr_cycle" title="@{cycle}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Diet:</th>
                        <td><input type="text" name="attr_diet" title="@{diet}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Intelligence:</th>
                        <td><input type="text" name="attr_monsterintelligence" title="@{monsterintelligence}" class="sheet-table-dynamic" list="monster-intelligence"><span></span></td>
                    </tr>
                    <tr>
                        <th>Treasure:</th>
                        <td><input type="text" name="attr_treasure" title="@{treasure}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Alignment:</th>
                        <td><input type="text" name="attr_monsteralignment" title="@{monsteralignment}" class="sheet-table-dynamic"></td>
                    </tr>
                </table>
            </div>
            <div class='sheet-col'>
                <table class="sheet-table-nowrap sheet-table-full-width-column2">
                    <tr>
                        <th><button type="roll" name="roll_surprisemon" title="@{surprisemon}" style="margin: 0 0 0 -4px" value="/w gm &{template:2Einversecheck} {{checkvs=Surprise Check}} {{character=@{character_name}}} {{checkroll=[[1d10+(@{misc-mod})]]}} {{checktarget=[[3]]}} {{color=brown}}">Surprise</button></th>
                        <td><button type="roll" name="roll_monmorale" title="@{monmorale}" style="margin: 0" value="/w gm &{template:2Echeck} {{checkvs=Morale Check}} {{character=@{character_name}}} {{checkroll=[[2d10-(@{misc-mod})]]}} {{checktarget=[[@{monstermorale}]]}} {{color=brown}}">Morale</button></td>
                    </tr>
                    <tr>
                        <th>No. Appearing:</th>
                        <td><input type="text" name="attr_appearing" title="@{appearing}" class="sheet-short"></td>
                    </tr>
                    <tr>
                        <th>Armor Class:</th>
                        <td><input type="text" name="attr_monsterarmor" title="@{monsterarmor}" class="sheet-short"></td>
                    </tr>
                    <tr>
                        <th>Movement:</th>
                        <td><input type="text" name="attr_movement" title="@{movement}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Hit Dice:</th>
                        <td>
                            <table>
                                <tr>
                                    <td class="sheet-td-dynamic70"><input type="number" name="attr_hitdice" title="@{hitdice}" class="sheet-table-dynamic"></td>
                                    <td style="width: 0;">&plusmn;</td>
                                    <td class="sheet-td-dynamic30"><input type="number" name="attr_monsterhpextra" title="@{monsterhpextra}" class="sheet-table-dynamic" value="0"></td>
                                    <td class="sheet-centering-padding-2">|</td>
                                    <td><input type="number" name="attr_monsterhitdice-reroll" title="@{monsterhitdice-reroll}" class="sheet-minish" value="0" min="0" max="7"></td>
                                    <td><button type="roll" name="roll_monsterhitpoints" title="%{monsterhitpoints}" value="/gmroll [@{character_name} Hit Points] (@{hitdice}d8r<@{monsterhitdice-reroll}) + (@{monsterhpextra})"></button></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <th>Hit Points:</th>
                        <td>
                            <table>
                                <tr>
                                    <td class="sheet-td-dynamic50"><input type="number" name="attr_HP" title="@{HP}" class="sheet-table-dynamic" placeholder="Current"></td>
                                    <td class="sheet-centering-padding-5" style="width: 0;">/</td>
                                    <td class="sheet-td-dynamic50"><input type="number" name="attr_HP_max" title="@{HP|max}" class="sheet-table-dynamic" placeholder="Max"></td>
                                </tr>
                            </table>
                        </td>
                    </tr>
                    <tr>
                        <th>THAC0:</th>
                        <td><input type="text" name="attr_monsterthac0" title="@{monsterthac0}" class="sheet-short"></td>
                    </tr>
                    <tr>
                        <th># of Attacks:</th>
                        <td><input type="text" name="attr_monsteratknum" title="@{monsteratknum}" class="sheet-short"></td>
                    </tr>
                    <tr>
                        <th>Attack 1:</th>
                        <td><input type="text" name="attr_monsterdmg" title="@{monsterdmg}" class="sheet-table-dynamic"></td>
                    </tr>
                </table>
            </div>
            <div class='sheet-col'>
                <table class="sheet-table-nowrap sheet-table-full-width-column2">
                    <tr>
                        <th></th>
                        <td><input class="sheet-collapse sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Attack 2:</th>
                        <td><input type="text" name="attr_monsterdmg2" title="@{monsterdmg2}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Attack 3:</th>
                        <td><input type="text" name="attr_monsterdmg3" title="@{monsterdmg3}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Special Atk:</th>
                        <td><input type="text" name="attr_monsterspecattacks" title="@{monsterspecattacks}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Special Def:</th>
                        <td><input type="text" name="attr_monsterspecdefenses" title="@{monsterspecdefenses}" class="sheet-table-dynamic"></td>
                    </tr>
                    <tr>
                        <th>Magic Res:</th>
                        <td>
                            <input type="text" name="attr_monstermagicresist" title="@{monstermagicresist}" class="sheet-short"><label>%</label>
                            <button type="roll" name="roll_monstermagicresist" title="%{monstermagicresist}" value="/w gm &{template:2Echeck} {{checkvs=Save with Magic Resistance}} {{character=@{character_name}}} {{checkroll=[[1d100cs1cf100-(@{misc-mod})]]%}} {{checktarget=[[@{monstermagicresist}]]%}} {{color=orange}}">Roll</button>
                        </td>
                    </tr>
                    <tr>
                        <th>Size:</th>
                        <td><input type="text" name="attr_monstersize" title="@{monstersize}" class="sheet-table-dynamic" list="monster-size"><span></span></td>
                    </tr>
                    <tr>
                        <th>Morale:</th>
                        <td><input type="text" name="attr_monstermorale" title="@{monstermorale}" class="sheet-table-dynamic" list="monster-morale"><span></span></td>
                    </tr>
                    <tr>
                        <th>XP Value:</th>
                        <td><input type="text" name="attr_monsterxp" title="@{monsterxp}" class="sheet-table-dynamic"></td>
                    </tr>
                </table>
            </div>
        </div>
        <br>
        <table>
            <tr>
                <td class="sheet-padding-right"><button type="roll" name="roll_monthac0" title="%{monthac0}" value="@{wtype} strikes AC [[(@{monsterthac0})-(1d20+(@{misc-mod}))]]">THAC0</button></td>
                <td class="sheet-padding-right"><button type="roll" name="roll_mondmg" title="%{mondmg}" value="@{wtype} inflicts [[(@{monsterdmg})+(@{misc-mod})]] damage!">Attack 1</button></td>
                <td class="sheet-padding-right"><button type="roll" name="roll_mondmg2" title="%{mondmg2}" value="@{wtype} inflicts [[(@{monsterdmg2})+(@{misc-mod})]] damage!">Attack 2</button></td>
                <td class="sheet-padding-right"><button type="roll" name="roll_mondmg3" title="%{mondmg3}" value="@{wtype} inflicts [[(@{monsterdmg3})+(@{misc-mod})]] damage!">Attack 3</button></td>
                <td class="sheet-padding-right"><button type="roll" name="roll_spcatk" title="%{spcatk}" value="@{wtype} @{monsterspecattacks}">Special Attack</button></td>
                <td><input type="text" name="attr_monsterini" title="@{monsterini}" class="sheet-short"></td>
                <td><button type="roll" name="roll_monini" title="%{monini}" value="/gmroll [[{1d10cs1cf10+(@{monsterini} [Speed])-(@{misc-mod}), {1}}kh1]] [Initiative (@{character_name})]&{tracker}">Initiative</button></td>
            </tr>
            <tr>
                <td colspan="2"><button type="action" name="act_grenade-miss" class="btn sheet-action-button-roll">Grenade-like miss!</button></td>
            </tr>
        </table>
        <br>

        <h4>Additional Monster attacks</h4>
        <div>
            <fieldset name="repeating_monsterweapons" title="@{weapons}" class="repeating_monsterweapons">
                <table>
                    <thead class="sheet-default-header sheet-collapse sheet-show-first">
                    <tr>
                        <th title="Attack / Weapon">Attack / Weapon</th>
                        <th title="Number of attacks per round"># of<br>Attack</th>
                        <th colspan="2" title="To Hit Armor Class 0">THAC0</th>
                        <th colspan="2" title="Damage">Dam S/M</th>
                        <th colspan="2" title="Damage">Dam L</th>
                        <th colspan="2" title="Special attack damage">Special Attack</th>
                        <th colspan="2" title="Speed factor">Speed</th>
                    </tr>
                    </thead>
                    <tr class="sheet-centering">
                        <td>
                            <input type="text" name="attr_weaponname" title="@{repeating_monsterweapons_$X_weaponname}" class="sheet-middle sheet-chrome" list="all-weapons">
                            <input type="text" name="attr_weaponname" title="@{repeating_monsterweapons_$X_weaponname}" class="sheet-middle sheet-firefox" list="all-weapons-ff"><span></span>
                        </td>
                        <td><input type="text" name="attr_attacknum" title="@{repeating_monsterweapons_$X_attacknum}" class="sheet-table-dynamic" value="1"></td>
                        <td><input type="text" name="attr_ThAC0" title="@{repeating_monsterweapons_$X_ThAC0}" class="sheet-short" value="20"></td>
                        <td><button type="roll" name="roll_hit1" title="%{repeating_monsterweapons_$X_hit1}" value="@{wtype} hits an AC of [[ [[@{ThAC0}]]-(1d20+(@{misc-mod})) ]] using their @{weaponname}">Hit</button></td>
                        <td><input type="text" name="attr_damsm" title="@{repeating_monsterweapons_$X_damsm}" class="sheet-shortish"></td>
                        <td><button type="roll" name="roll_damsm" title="%{repeating_monsterweapons_$X_damsm}" value="@{wtype} rolls [[(@{damsm})+(@{misc-mod})]] damage using their @{weaponname} (vs. Small/Medium)"></button></td>
                        <td><input type="text" name="attr_daml" title="@{repeating_monsterweapons_$X_daml}" class="sheet-shortish"></td>
                        <td><button type="roll" name="roll_daml" title="%{repeating_monsterweapons_$X_daml}" value="@{wtype} rolls [[(@{daml})+(@{misc-mod})]] damage using their @{weaponname} (vs. Large)"></button></td>
                        <td style="width: 100%"><input type="text" name="attr_damspecial" title="@{repeating_monsterweapons_$X_damspecial}" style="width: 100%"></td>
                        <td><button type="roll" name="roll_damspecial" title="%{repeating_monsterweapons_$X_damspecial}" value="@{wtype} @{damspecial}"></button></td>
                        <td><input type="text" name="attr_weapspeed" title="@{repeating_monsterweapons_$X_weapspeed}" class="sheet-small"></td>
                        <td><button type="roll" name="roll_init" title="%{repeating_monsterweapons_$X_init}" value="/gmroll [[{1d10cs1cf10+(@{weapspeed} [Weapon])-(@{misc-mod}), {1}}kh1]] [Initiative (@{weaponname})]&{tracker}">Initiative</button></td>
                    </tr>
                </table>
            </fieldset>
        </div>
        <br>
        <details>
            <summary><strong>Monster wizard spells</strong></summary>
            <table class="sheet-default-header-first-row sheet-inline-5">
                <tr>
                    <td>Wizard caster level</td>
                </tr>
                <tr>
                    <td><input type="text" name="attr_level-wizard" title="@{level-wizard}" class="sheet-display" placeholder="Select level" list="monster-level-select"><span></span></td>
                </tr>
            </table>
            insert_wizard-spell-template.html_(wizmonster,@{wtype} )
            <br>
        </details>
        <details>
            <summary><strong>Monster priest spells</strong></summary>
            <table class="sheet-default-header-first-row sheet-inline-5">
                <tr>
                    <td>Priest caster level</td>
                </tr>
                <tr>
                    <td><input type="text" name="attr_level-priest" title="@{level-priest}" class="sheet-display" placeholder="Select level" list="monster-level-select"><span></span></td>
                </tr>
            </table>
            insert_priest-spell-template.html_(primonster,@{wtype} )
        </details>
        <br>

        <button type="action" name="act_saving-throws-monster" class="btn">Set Monster Saving Throws</button>
        insert_saving-throws.html_(mon,@{character_name})
        <details>
            <summary>Monster saving throw notes. DMG p. 92</summary>
            <p>All creatures save against poison and death magic at a level equal to the number of their Hit Dice. Intelligent monsters save versus all other attacks at this level as well.</p>
            <p>Creatures with no intelligence (even less than animal intelligence) save at a level equal to half the number of their Hit Dice. Any additions to their Hit Dice are counted as well, at the rate of one die for every four points or fraction thereof. Thus, an intelligent creature with 5 + 6 Hit Dice would save at 7th level (5 Hit Dice + 2 more dice for 6 extra hit points). A non-intelligent beast of the same Hit Dice would save against all but poison and death at 4th level (round up).</p>
            <p>Most monsters use the Warrior group table to determine their save. However, those that have abilities of other classes use the most favorable saving throw. A creature able to fight and use a large number of spells could use either the Warrior or Wizard groups, whichever was better for a particular saving throw. Creatures that lack fighting ability use the group that most closely resembles their own abilities. A fungus-creature that can only cast spells would use the Wizard group table to determine saving throws.</p>
        </details>
        <br>
        <h4>Description</h4>
        <textarea name="attr_monsterdesc" title="@{monsterdesc}" placeholder="Description"></textarea>
        <br>
        <h4>Combat</h4>
        <textarea name="attr_monstercombat" title="@{monstercombat}"></textarea>
        <br>
        <h4>Habitat/Society</h4>
        <textarea name="attr_monsterhabitat" title="@{monsterhabitat}"></textarea>
        <br>
        <h4>Ecology</h4>
        <textarea name="attr_monsterecology" title="@{monsterecology}"></textarea>
    </div>

</div>
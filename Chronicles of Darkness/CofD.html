<!-- BACKGROUND AND CONTAINER -->
<div class="background">

    <!-- HIDDEN STYLING ATTRS -->
    <input type="hidden" class="type" name="attr_sheettype" value="mortal1" />
    <input type="hidden" class="game-line" name="attr_game_line" value="mortal" />
    <input type="hidden" class="edition" name="attr_edition" value="1" />
    <input type="hidden" class="entity" name="attr_entity" value="corporeal" />

    <!-- SHEET OPTIONS & PAGE TABS-->
    <input type="hidden" class="page" name="attr_pagenumber" value="1" />
    <button type="action" class="toggle page-settings" name="act_page_settings" data-i18n="settings">Settings</button>
    <button type="action" class="toggle page-1" name="act_page_1" data-i18n="page-1">Page 1</button>
    <button type="action" class="toggle page-2" name="act_page_2" data-i18n="page-2">Page 2</button>
    <button type="action" class="toggle page-3" name="act_page_3" data-i18n="page-3">Page 3</button>
    <button type="action" class="toggle page-scars-variations 2nd" name="act_page_scars-variations" data-i18n="scars-variations">Scars and Variations</button>
    <button type="action" class="toggle page-conditions 2nd" name="act_page_conditions" data-i18n="conditions">Conditions</button>

    <div class="spacer"></div>

    <div class="page settings">
        <div class="spacer"></div>
        <div class="spacer"></div>

        <div class="edition-label" data-i18n="first-edition">1st Edition</div>

        <div>
            <button type="action" class="toggle active-mortal1" name="act_sheet_type_mortal1" title="Mortal" data-i18n="chronicles-of-darkness">Chronicles of Darkness</button>
            <button type="action" class="toggle active-vampire1" name="act_sheet_type_vampire1" title="Vampire" data-i18n="vampire-the-requiem">Vampire the Requiem</button>
            <button type="action" class="toggle active-werewolf1" name="act_sheet_type_werewolf1" title="Werewolf" data-i18n="werewolf-the-forsaken">Werewolf the Forsaken</button>
            <button type="action" class="toggle active-mage1" name="act_sheet_type_mage1" title="Mage" data-i18n="mage-the-awakening">Mage the Awakening</button>
            <button type="action" class="toggle active-promethean1" name="act_sheet_type_promethean1" title="Promethean" data-i18n="promethean-the-create">Promethean the Created</button>
            <button type="action" class="toggle active-changeling1" name="act_sheet_type_changeling1" title="Changeling" data-i18n="changeling-the-lost">Changeling the Lost</button>
            <button type="action" class="toggle active-hunter1" name="act_sheet_type_hunter1" title="Hunter" data-i18n="hunter-the-vigil">Hunter the Vigil</button>
            <button type="action" class="toggle active-geist1" name="act_sheet_type_geist1" title="Geist" data-i18n="geist-the-sin-eaters">Geist the Sin-Eaters</button>
            <button type="action" class="toggle active-mummy1" name="act_sheet_type_mummy1" title="Mummy" data-i18n="mummy-the-curse">Mummy the Curse</button>
            <button type="action" class="toggle active-homebrew1" name="act_sheet_type_homebrew1" title="Homebrew" data-i18n="homebrew">Homebrew</button>
        </div>

        <div class="spacer"></div>

        <div class="edition-label" data-i18n="second-edition">2nd Edition</div>

        <div>
            <button type="action" class="toggle active-mortal2" name="act_sheet_type_mortal2" title="Mortal" data-i18n="chronicles-of-darkness">Chronicles of Darkness</button>
            <button type="action" class="toggle active-mortal2-ghost" name="act_sheet_type_mortal2-ghost" title="Mortal - Ghost">
                <span data-i18n="chronicles-of-darkness">Chronicles of Darkness</span> - <span data-i18n="ghost">Ghost</span>
            </button>
            <button type="action" class="toggle active-mortal2-organization" name="act_sheet_type_mortal2-organization" title="Mortal - Organization">
                <span data-i18n="chronicles-of-darkness">Chronicles of Darkness</span> - <span data-i18n="organization">Organization</span>
            </button>
            <button type="action" class="toggle active-vampire2" name="act_sheet_type_vampire2" title="Vampire" data-i18n="vampire-the-requiem">Vampire the Requiem</button>
            <button type="action" class="toggle active-werewolf2" name="act_sheet_type_werewolf2" title="Werewolf" data-i18n="werewolf-the-forsaken">Werewolf the Forsaken</button>
            <button type="action" class="toggle active-mage2" name="act_sheet_type_mage2" title="Mage" data-i18n="mage-the-awakening">Mage the Awakening</button>
            <button type="action" class="toggle active-promethean2" name="act_sheet_type_promethean2" title="Promethean" data-i18n="promethean-the-create">Promethean the Created</button>
            <button type="action" class="toggle active-changeling2" name="act_sheet_type_changeling2" title="Changeling" data-i18n="changeling-the-lost">Changeling the Lost</button> 
            <button type="action" class="toggle active-geist2" name="act_sheet_type_geist2" title="Geist" data-i18n="geist-the-sin-eaters">Geist the Sin-Eaters</button>
            <button type="action" class="toggle active-geist2-geist" name="act_sheet_type_geist2-geist" title="Geist - Geist">
                <span data-i18n="geist-the-sin-eaters">Geist the Sin-Eaters</span> - <span data-i18n="geist">Geist</span>
            </button>
            <button type="action" class="toggle active-geist2-organization" name="act_sheet_type_geist2-organization" title="Geist - Krewe">
                <span data-i18n="geist-the-sin-eaters">Geist the Sin-Eaters</span> - <span data-i18n="krewe">Krewe</span>
            </button>
            <!-- <button type="action" class="toggle active-mummy2" name="mummy2" title="Mummy" data-i18n="mummy-the-curse">Mummy the Curse</button> -->
            <button type="action" class="toggle active-demon" name="act_sheet_type_demon" title="Demon" data-i18n="demon-the-descent">Demon the Descent</button>
            <button type="action" class="toggle active-beast" name="act_sheet_type_beast" title="Beast" data-i18n="beast-the-primordial">Beast the Primordial</button>
            <button type="action" class="toggle active-homebrew2" name="act_sheet_type_homebrew2" title="Homebrew" data-i18n="homebrew">Homebrew</button>
            <button type="action" class="toggle active-deviant-the-renegades" name="act_sheet_type_deviant-the-renegades" title="Deviant" data-i18n="deviant-the-renegades">Deviant the Renegades</button>
            <button type="action" class="toggle active-hunter2" name="act_sheet_type_hunter2" title="Hunter" data-i18n="hunter-the-vigil">Hunter the Vigil</button>
        </div>


        <div class="spacer"></div>
        <div class="edition-label" data-i18n="second-edition-translation-guides">2nd Edition: Translation Guides</div>
        <div>
            <button type="action" class="toggle active-wod-demon2" name="act_sheet_type_wod-demon2" title="WoD Demon" data-i18n="demon-the-fallen">Demon the Fallen</button>
        </div>


        <div class="game-line homebrew">
            <div class="spacer"></div>
            <div class="spacer"></div>
            <div class="subheader">Homebrew Labels</div>
            <div>
                <span data-i18n="virtue">Virtue</span>:
                <input type="text" name="attr_homebrew_virtue" value="Virtue">
            </div>
            <div>
                <span data-i18n="vice">Vice</span>:
                <input type="text" name="attr_homebrew_vice" value="Vice">
            </div>
            <div>
                <span data-i18n="age">Age</span>:
                <input type="text" name="attr_homebrew_age" value="Age">
            </div>
            <div>
                <span data-i18n="faction">Faction</span>:
                <input type="text" name="attr_homebrew_faction" value="Faction">
            </div>
            <div>
                <span data-i18n="group-name">Group Name</span>:
                <input type="text" name="attr_homebrew_group_name" value="Group Name">
            </div>
            <div>
                <span data-i18n="abilities">Abilities</span>:
                <input type="text" name="attr_homebrew_abilities" value="Abilities">
            </div>
            <div>
                <span data-i18n="morality">Morality</span>:
                <input type="text" name="attr_homebrew_morality" value="Morality">
            </div>
            <div>
                <span data-i18n="rank">Rank</span>:
                <input type="text" name="attr_homebrew_rank" value="Rank">
            </div>
            <div>
                <span data-i18n="resource">Resource</span>:
                <input type="text" name="attr_homebrew_resource" value="Resource">
            </div>
        </div>

        <div>
            <div class="spacer"></div>
            <div class="spacer"></div>
            <div class="subheader" data-i18n="dark-eras-skills">Dark Eras Skills</div>
            <div>
                <span class="checkbox">
                    <input type="hidden" class="flag" name="attr_archery_era">
                    <button type="action" name="act_archery_era"></button>
                    <button type="action" class="toggle" name="act_archery_era">
                        <span data-i18n="archery">Archery</span> (<span data-i18n="removes">removes</span> <span data-i18n="firearms">Firearms</span>)
                    </button>
                </span>
            </div>
            <div>
                <span class="checkbox">
                    <input type="hidden" class="flag" name="attr_ride_era">
                    <button type="action" name="act_ride_era"></button>
                    <button type="action" class="toggle" name="act_ride_era">
                        <span data-i18n="ride">Ride</span> (<span data-i18n="removes">removes</span> <span data-i18n="drive">Drive</span>)
                    </button>
                </span>
            </div>
            <div>
                <span class="checkbox">
                    <input type="hidden" class="flag" name="attr_enigmas_era">
                    <button type="action" name="act_enigmas_era"></button>
                    <button type="action" class="toggle" name="act_enigmas_era">
                        <span data-i18n="enigmas">Enigmas</span> (<span data-i18n="removes">removes</span> <span data-i18n="computer">Computer</span>)
                    </button>
                </span>
            </div>
        </div>

        <div class="organization-inverse">
            <div class="spacer"></div>
            <div class="spacer"></div>

            <div class="subheader" data-i18n="custom-attribute-settings">Customizable Attribute Settings</div>
            <span data-i18n="defense-trait">Defense Trait</span>:<select name="attr_defense_select">
                <option data-i18n="defense-qm" value="" disabled selected hidden>Defense?</option>
                <option value="lowest" data-i18n="lowest">Lowest</option>
                <option value="highest" data-i18n="highest">Highest</option>
                <option value="wits" data-i18n="wits">Wits</option>
                <option value="dexterity" data-i18n="dexterity">Dexterity</option>
                <option value="lowest_plus_athletics" data-i18n="lowest-plus-ath">Lowest + Athletics</option>
                <option value="lowest_plus_brawl" data-i18n="lowest-plus-brawl">Lowest + Brawl</option>
                <option value="lowest_plus_weaponry" data-i18n="lowest-plus-weapon">Lowest + Weaponry</option>
            </select><br><br>
            <div>
                <span data-i18n="base-size">Base Size</span>:
                <input type="number" name="attr_base_size" value="5" />
                <span class="checkbox">
                    <input type="hidden" class="flag" name="attr_giant">
                    <button type="action" name="act_giant"></button>
                    <button type="action" class="toggle" name="act_giant" data-i18n="giant">Giant</button>
                </span>
                <span class="checkbox">
                    <input type="hidden" class="flag" name="attr_small_framed">
                    <button type="action" name="act_small_framed"></button>
                    <button type="action" class="toggle" name="act_small_framed" data-i18n="small-framed">Small Framed</button>
                </span>
            </div>
            <br>
            <span data-i18n="bonus-health-levels">Bonus Health Levels</span>:<input type="number" name="attr_bonus_health" value="0" /><br><br>
            <span data-i18n="bonus-willpower-point">Bonus Willpower Points</span>:<input type="number" name="attr_bonus_willpower" value="0" /><br><br>
            <span class="game-line changeling2 "><span data-i18n="bonus-clarity-points">Bonus Clarity Points</span>:<input type="number" name="attr_bonus_moralhealth" value="0" /><br><br></span>
            <span class="game-line deviant-the-renegades"><span data-i18n="bonus-stability-points">Bonus Stability Points</span>:<input type="number" name="attr_bonus_moralhealth" value="0" /><br><br></span>
            <span data-i18n="species-factor">Species Factor</span>: <input type="number" name="attr_species_factor" value="5" />
            <span data-i18n="fleet-of-foot">Fleet of Foot</span>: <input type="number" name="attr_fleet_of_foot" value="0" /><br><br>
            <span data-i18n="fast-reflexes">Fast Reflexes</span>: <input type="number" name="attr_fast_reflexes" value="0" />
            <span data-i18n="iron-stamina">Iron Stamina</span>: <input type="number" name="attr_iron_stamina" value="0" />
            <div class="spacer"></div>
            <div>
                <span class="checkbox deviant-the-renegades-inverse">
                    <input type="hidden" class="flag" name="attr_vitae_counter" value="0">
                    <button type="action" name="act_vitae_counter"></button>
                    <button type="action" class="toggle" name="act_vitae_counter" data-i18n="resource-counter">Replace Resource Checkboxes with Counter</button>
                </span>
            </div>
        </div>
    </div>

    <div class="background-image"></div>

    <!-- DICE ROLLER -->
    <div class="page page1 diceroller">
        <input type="hidden" class="rollstyle" name="attr_rollstyle" value="sheet" />
        <input type="hidden" class="rolltype-select" name="attr_rolltype_select" value="normal" />
        <div class="diceroller-grid">
            <div class="subheader" data-i18n="dice-roller-u">DICE ROLLER</div>
            <div class="corporeal span">
                <button type="roll" class="inline-flex" name="roll_initiative" data-i18n="initiative" value="&{template:wod-initiative} {{name=@{character_name}}} {{dexterity=@{dexterity}}} {{composure=@{composure}}} {{fastReflexes=@{fast_reflexes}}} {{initiativePenalty=@{initiative_penalty}}} {{result=[[1d10 + @{dexterity} + @{composure} + @{fast_reflexes} + @{initiative_penalty} &{tracker}]]}}">
                    Initiative
                </button>
            </div>
            <div class="ephemeral span">
                <button type="roll" class="inline-flex" name="roll_initiative" data-i18n="initiative" value="&{template:wod-initiative} {{name=@{character_name}}} {{finesse=@{finesse}}} {{resistance=@{resistance}}} {{fastReflexes=@{fast_reflexes}}} {{initiativePenalty=@{initiative_penalty}}} {{result=[[1d10 + @{finesse} + @{resistance} + @{fast_reflexes} + @{initiative_penalty} &{tracker}]]}}">
                    Initiative
                </button>
            </div>
            <div class="rollcontainer">
                <button type="roll" class="rollstyle sheet" name="roll_sheet" value="&{template:wod} {{name=@{character_name}}} {{dicePool=@{dice_pool}}} {{dicePoolHtml=@{dice_pool_html}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{woundpenalty=[[@{wound_penalty}]]}} {{result=[[{((?{@{modifiermacro}|0}+@{wound_penalty}+@{dice_pool})@{rolltype}"></button>
                <button type="roll" class="rollstyle attack" name="roll_attack" value="&{template:wod-attack} {{name=@{character_name}}} {{strength=@{strength}}} {{dexterity=@{dexterity}}} {{brawl=@{brawl}}} {{weaponry=@{weaponry}}} {{firearms=@{firearms}}} {{athletics=@{athletics}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{woundpenalty=[[@{wound_penalty}]]}} {{wpen=[[@{weapon_penalty}]]}} {{apen=[[@{armor_penalty}]]}} @{attack}@{rolltype}"></button>
                <button type="roll" class="rollstyle simple" name="roll_simple" value="&{template:wod-simple} {{name=@{character_name}}} {{option=?{@{dicepoolmacro}|0}}} {{result=[[{(?{@{dicepoolmacro}|1}@{rolltype}"></button>
            </div>
            <div class="diceroller-options">
                <button type="action" class="toggle rollstyle-sheet" name="act_rollstyle_sheet" data-i18n="sheet-roll">Sheet Roll</button>
                <button type="action" class="toggle rollstyle-attack" name="act_rollstyle_attack" data-i18n="attack-roll">Attack Roll</button>
                <button type="action" class="toggle rollstyle-simple" name="act_rollstyle_simple" data-i18n="simple-roll">Simple Roll</button>
            </div>
            <div class="rolldisplay">
                <textarea type="text" class="rollstyle sheet" name="attr_rolldisplay"></textarea>
                <div class="rollstyle attack">Attack</div>
                <div class="rollstyle simple">Simple</div>
            </div>
            <div class="diceroller-options">
                <button type="action" class="toggle rolltype-chance" name="act_rolltype_select_chance" data-i18n="chance">Chance</button>
                <button type="action" class="toggle rolltype-normal" name="act_rolltype_select_normal" data-i18n="normal">Normal</button>
                <button type="action" class="toggle rolltype-9-again" name="act_rolltype_select_9-again" data-i18n="9-again">9-Again</button>
                <button type="action" class="toggle rolltype-8-again" name="act_rolltype_select_8-again" data-i18n="8-again">8-Again</button>
                <button type="action" class="toggle rolltype-dont-reroll" name="act_rolltype_select_dont-reroll" data-i18n="dont-reroll">Don't Reroll 10s</button>
                <button type="action" class="toggle rolltype-chance-rote" name="act_rolltype_select_chance-rote" data-i18n="chance-rote">Chance Rote</button>
                <button type="action" class="toggle rolltype-rote" name="act_rolltype_select_rote" data-i18n="rote">Rote</button>
            </div>
        </div>
    </div>

    <!-- HEADER -->
    <div class="page page1 page2 page3 scars-variations conditions logo">
        <img class="game-line mortal" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/chroniclesofdarkness.png">
        <img class="game-line vampire" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/vampire.png">
        <img class="game-line werewolf" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/werewolf.png">
        <img class="game-line mage" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/mage.png">
        <img class="game-line promethean" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/promethean.png">
        <img class="game-line changeling" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/changeling.png">
        <img class="game-line geist" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/geist20200815.png">
        <img class="game-line hunter1" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/hunter.png">
        <img class="game-line hunter2" src="https://raw.githubusercontent.com/AdolfoDomingues/roll20-character-sheets/a12c1ec9260b279368ccd3f1e6e43d973c12aa67/Chronicles%20of%20Darkness/images/hunter2.png">
        <img class="game-line demon" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/DtD_logo.png">
        <img class="game-line wod-demon" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/DtF_logo.png">
        <img class="game-line deviant-the-renegades" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/Deviant.png">
    </div>

    <!-- PAGE 1 -->
    <div class="page page1">
        <!-- CHARACTER INFO FIELDS -->
        <div class="info-grid">
            <!-- Row 1 -->
            <div class="input-label">
                <span data-i18n="name">Name</span>:
            </div>
            <input type="text" name="attr_character_name">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="game-line mortal vampire1 werewolf1 mage promethean1 changeling1 geist1 geist2-geist geist2-organization mummy1 hunter demon wod-demon"><span data-i18n="virtue">Virtue</span>:</span>
                <span class="game-line vampire2"><span data-i18n="mask">Mask</span>:</span>
                <span class="game-line werewolf2"><span data-i18n="blood">Blood</span>:</span>
                <span class="game-line beast"><span data-i18n="life">Life</span>:</span>
                <span class="game-line promethean2"><span data-i18n="elpis">Elpis</span>:</span>
                <span class="game-line changeling2"><span data-i18n="needle">Needle</span>:</span>
                <span class="game-line geist2"><span data-i18n="root">Root</span>:</span>
                <span class="game-line deviant-the-renegades"><span data-i18n="conviction">Conviction</span>:</span>
                <span class="game-line homebrew"><span name="attr_homebrew_virtue"></span>:</span>
            </div>
            <input type="text" name="attr_Virtue">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="game-line mortal1 mortal2"><span data-i18n="age">Age</span>:</span>
                <span class="ephemeral"><span data-i18n="ban">Ban</span>:</span>
                <span class="game-line mortal2-organization geist2-organization"><span data-i18n="doctrine">Doctrine</span>:</span>
                <span class="game-line vampire"><span data-i18n="clan">Clan</span>:</span>
                <span class="game-line werewolf"><span data-i18n="auspice">Auspice</span>:</span>
                <span class="game-line mage"><span data-i18n="path">Path</span>:</span>
                <span class="game-line promethean"><span data-i18n="lineage">Lineage</span>:</span>
                <span class="game-line changeling"><span data-i18n="seeming">Seeming</span>:</span>
                <span class="game-line geist1"><span data-i18n="archetype">Archetype</span>:</span>
                <span class="game-line geist2"><span data-i18n="geist">Geist</span>:</span>
                <span class="game-line mummy"><span data-i18n="decree">Decree</span>:</span>
                <span class="game-line demon"><span data-i18n="incarnation">Incarnation</span>:</span>
                <span class="game-line beast"><span data-i18n="family">Family</span>:</span>
                <span class="game-line hunter1"><span data-i18n="profession">Profession</span>:</span>
                <span class="game-line hunter2"><span data-i18n="cell">Cell</span>:</span>
                <span class="game-line wod-demon"><span data-i18n="house">House</span>:</span>
                <span class="game-line deviant-the-renegades"><span data-i18n="origin">Origin</span>:</span>
                <span class="game-line homebrew"><span name="attr_homebrew_age"></span>:</span>
            </div>
            <input type="text" name="attr_Age">
            <!-- Row 2 -->
            <div class="input-label">
                <span class="game-line mortal1 mortal2 mortal2-ghost vampire werewolf mage promethean changeling geist1 geist2 mummy hunter demon homebrew wod-demon deviant-the-renegades"><span data-i18n="player">Player</span>:</span>
                <span class="game-line geist2-geist"><span data-i18n="sin-eater">Sin-Eater</span>:</span>
                <span class="game-line geist2-organization"><span data-i18n="archetype">Archetype</span>:</span>
            </div>
            <input type="text" name="attr_Player">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="game-line mortal1 mortal2 mortal2-ghost vampire1 werewolf1 mage promethean1 changeling1 geist1 geist2-geist mummy1 hunter demon wod-demon"><span data-i18n="vice">Vice</span>:</span>
                <span class="game-line mortal2-organization geist2-organization"><span data-i18n="creed">Creed</span>:</span>
                <span class="game-line vampire2"><span data-i18n="dirge">Dirge</span>:</span>
                <span class="game-line werewolf2"><span data-i18n="bone">Bone</span>:</span>
                <span class="game-line beast"><span data-i18n="legend">Legend</span>:</span>
                <span class="game-line promethean2"><span data-i18n="torment">Torment</span>:</span>
                <span class="game-line changeling2"><span data-i18n="thread">Thread</span>:</span>
                <span class="game-line geist2"><span data-i18n="bloom">Bloom</span>:</span>
                <span class="game-line deviant-the-renegades"><span data-i18n="loyalty">Loyalty</span>:</span>
                <span class="game-line homebrew"><span name="attr_homebrew_vice"></span>:</span>
            </div>
            <input type="text" name="attr_Vice">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="game-line mortal1 mortal2 wod-demon"><span data-i18n="faction">Faction</span>:</span>
                <span class="ephemeral"><span data-i18n="bane">Bane</span>:</span>
                <span class="game-line mortal2-organization geist2-organization"><span data-i18n="doctrine">Doctrine</span>:</span>
                <span class="game-line vampire"><span data-i18n="bloodline">Bloodline</span>:</span>
                <span class="game-line werewolf"><span data-i18n="tribe">Tribe</span>:</span>
                <span class="game-line mage"><span data-i18n="order">Order</span>:</span>
                <span class="game-line promethean"><span data-i18n="refinement">Refinement</span>:</span>
                <span class="game-line changeling"><span data-i18n="kith">Kith</span>:</span>
                <span class="game-line geist1"><span data-i18n="threshold">Threshold</span>:</span>
                <span class="game-line geist2"><span data-i18n="burden">Burden</span>:</span>
                <span class="game-line mummy"><span data-i18n="guild">Guild</span>:</span>
                <span class="game-line demon"><span data-i18n="agenda">Agenda</span>:</span>
                <span class="game-line beast"><span data-i18n="hunger">Hunger</span>:</span>
                <span class="game-line hunter"><span data-i18n="conspiracy">Conspiracy</span>:</span>
                <span class="game-line deviant-the-renegades"><span data-i18n="clade">Clade</span>:</span>
                <span class="game-line homebrew"><span name="attr_homebrew_faction"></span>:</span>
            </div>
            <input type="text" name="attr_Faction">
            <!-- Row 3 -->
            <div class="input-label">
                <span data-i18n="cronicle">Chronicle</span>:
            </div>
            <input type="text" name="attr_Chronicle">
            <div class="spacer"></div>
            <div class="input-label">
                <span data-i18n="concept">Concept</span>:
            </div>
            <input type="text" name="attr_Concept">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="game-line mortal1 mortal2"><span data-i18n="group-name">Group Name</span>:</span>
                <span class="game-line mortal2-ghost"><span data-i18n="nickname">Nickname</span>:</span>
                <span class="game-line mortal2-organization geist2-organization"><span data-i18n="doctrine">Doctrine</span>:</span>
                <span class="game-line vampire"><span data-i18n="covenant">Covenant</span>:</span>
                <span class="game-line werewolf"><span data-i18n="lodge">Lodge</span>:</span>
                <span class="game-line mage"><span data-i18n="legacy">Legacy</span>:</span>
                <span class="game-line promethean1"><span data-i18n="athanor">Athanor</span>:</span>
                <span class="game-line promethean2"><span data-i18n="role">Role</span>:</span>
                <span class="game-line changeling"><span data-i18n="court">Court</span>:</span>
                <span class="game-line geist1 geist2"><span data-i18n="krewe">Krewe</span>:</span>
                <span class="game-line geist2-geist"><span data-i18n="trigger">Trigger</span>:</span>
                <span class="game-line hunter"><span data-i18n="compact">Compact</span>:</span>
                <span class="game-line mummy"><span data-i18n="judge">Judge</span>:</span>
                <span class="game-line demon"><span data-i18n="catalyst">Catalyst</span>:</span>
                <span class="game-line beast"><span data-i18n="horror">Horror</span>:</span>
                <span class="game-line wod-demon"><span data-i18n="visage">Visage</span>:</span>
                <span class="game-line deviant-the-renegades"><span data-i18n="forms">Forms</span>:</span>
                <span class="game-line homebrew"><span name="attr_homebrew_group_name"></span>:</span>
            </div>
            <input type="text" name="attr_GroupName">
        </div>

        <div class="spacer"></div>

        <!-- ATTRIBUTE FIELDS -->
        <div class="corporeal">
            <div class="section-header" data-i18n="attributes-u">ATTRIBUTES</div>
            <div class="attributes">
                <div class="attributes-category power" data-i18n="power">Power</div>
                <div class="attributes-category finesse" data-i18n="finesse">Finesse</div>
                <div class="attributes-category resistance" data-i18n="resistance">Resistance</div>
                <div class="mental border"></div>
                <div class="power mental label">
                    <input type="hidden" class="flag" name="attr_intelligence_flag" value="0" />
                    <button type="action" class="toggle" name="act_intelligence" data-i18n="intelligence">Intelligence</button>
                </div>
                <div class="power mental dots">
                    <input type="hidden" name="attr_intelligence" value="1" />
                    <button type="action" class="dot zero" name="act_intelligence-0">×</button>
                    <button type="action" class="dot" name="act_intelligence-1"></button>
                    <button type="action" class="dot ne-1" name="act_intelligence-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_intelligence-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_intelligence-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_intelligence-5"></button>
                </div>
                <div class="finesse mental label">
                    <input type="hidden" class="flag" name="attr_wits_flag" value="0" />
                    <button type="action" class="toggle" name="act_wits" data-i18n="wits">Wits</button>
                </div>
                <div class="finesse mental dots">
                    <input type="hidden" name="attr_wits" value="1" />
                    <button type="action" class="dot zero" name="act_wits-0">×</button>
                    <button type="action" class="dot" name="act_wits-1"></button>
                    <button type="action" class="dot ne-1" name="act_wits-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_wits-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_wits-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_wits-5"></button>
                </div>
                <div class="resistance mental label">
                    <input type="hidden" class="flag" name="attr_resolve_flag" value="0" />
                    <button type="action" class="toggle" name="act_resolve" data-i18n="resolve">Resolve</button>
                </div>
                <div class="resistance mental dots">
                    <input type="hidden" name="attr_resolve" value="1" />
                    <button type="action" class="dot zero" name="act_resolve-0">×</button>
                    <button type="action" class="dot" name="act_resolve-1"></button>
                    <button type="action" class="dot ne-1" name="act_resolve-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_resolve-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_resolve-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_resolve-5"></button>
                </div>
                <div class="physical border"></div>
                <div class="power physical label">
                    <input type="hidden" class="flag" name="attr_strength_flag" value="0" />
                    <button type="action" class="toggle" name="act_strength" data-i18n="strength">Strength</button>
                </div>
                <div class="power physical dots">
                    <input type="hidden" name="attr_strength" value="1" />
                    <button type="action" class="dot zero" name="act_strength-0">×</button>
                    <button type="action" class="dot" name="act_strength-1"></button>
                    <button type="action" class="dot ne-1" name="act_strength-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_strength-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_strength-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_strength-5"></button>
                </div>
                <div class="finesse physical label">
                    <input type="hidden" class="flag" name="attr_dexterity_flag" value="0" />
                    <button type="action" class="toggle" name="act_dexterity" data-i18n="dexterity">Dexterity</button>
                </div>
                <div class="finesse physical dots">
                    <input type="hidden" name="attr_dexterity" value="1" />
                    <button type="action" class="dot zero" name="act_dexterity-0">×</button>
                    <button type="action" class="dot" name="act_dexterity-1"></button>
                    <button type="action" class="dot ne-1" name="act_dexterity-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_dexterity-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_dexterity-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_dexterity-5"></button>
                </div>
                <div class="resistance physical label">
                    <input type="hidden" class="flag" name="attr_stamina_flag" value="0" />
                    <button type="action" class="toggle" name="act_stamina" data-i18n="stamina">Stamina</button>
                </div>
                <div class="resistance physical dots">
                    <input type="hidden" name="attr_stamina" value="1" />
                    <button type="action" class="dot zero" name="act_stamina-0">×</button>
                    <button type="action" class="dot" name="act_stamina-1"></button>
                    <button type="action" class="dot ne-1" name="act_stamina-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_stamina-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_stamina-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_stamina-5"></button>
                </div>
                <div class="social border"></div>
                <div class="power social label">
                    <input type="hidden" class="flag" name="attr_presence_flag" value="0" />
                    <button type="action" class="toggle" name="act_presence" data-i18n="presence">Presence</button>
                </div>
                <div class="power social dots">
                    <input type="hidden" name="attr_presence" value="1" />
                    <button type="action" class="dot zero" name="act_presence-0">×</button>
                    <button type="action" class="dot" name="act_presence-1"></button>
                    <button type="action" class="dot ne-1" name="act_presence-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_presence-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_presence-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_presence-5"></button>
                </div>
                <div class="finesse social label">
                    <input type="hidden" class="flag" name="attr_manipulation_flag" value="0" />
                    <button type="action" class="toggle" name="act_manipulation" data-i18n="manipulation">Manipulation</button>
                </div>
                <div class="finesse social dots">
                    <input type="hidden" name="attr_manipulation" value="1" />
                    <button type="action" class="dot zero" name="act_manipulation-0">×</button>
                    <button type="action" class="dot" name="act_manipulation-1"></button>
                    <button type="action" class="dot ne-1" name="act_manipulation-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_manipulation-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_manipulation-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_manipulation-5"></button>
                </div>
                <div class="resistance social label">
                    <input type="hidden" class="flag" name="attr_composure_flag" value="0" />
                    <button type="action" class="toggle" name="act_composure" data-i18n="composure">Composure</button>
                </div>
                <div class="resistance social dots">
                    <input type="hidden" name="attr_composure" value="1" />
                    <button type="action" class="dot zero" name="act_composure-0">×</button>
                    <button type="action" class="dot" name="act_composure-1"></button>
                    <button type="action" class="dot ne-1" name="act_composure-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_composure-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_composure-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_composure-5"></button>
                </div>
            </div>
        </div>

        <!-- SIMPLE ATTRIBUTE FIELDS -->
        <!-- ephemeral and organization -->
        <div class="corporeal-inverse columns">
            <div class="simple-attribute">
                <div class="subheader">
                    <input type="hidden" class="flag" name="attr_power_flag" value="0" />
                    <button type="action" class="toggle" name="act_power" data-i18n="power">Power</button>
                </div>
                <div class="dots spread">
                    <input type="hidden" name="attr_power" value="1" />
                    <button type="action" class="dot" name="act_power-1"></button>
                    <button type="action" class="dot ne-1" name="act_power-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_power-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_power-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_power-5"></button>
                    <span class="vertical-separator"></span>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_power-6"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_power-7"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_power-8"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_power-9"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_power-10"></button>
                    <span class="game-line mortal2-ghost vertical-separator"></span>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10" name="act_power-11"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11" name="act_power-12"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12" name="act_power-13"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13" name="act_power-14"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14" name="act_power-15"></button>
                </div>
            </div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="simple-attribute">
                <div class="subheader">
                    <input type="hidden" class="flag" name="attr_finesse_flag" value="0" />
                    <button type="action" class="toggle" name="act_finesse" data-i18n="finesse">Finesse</button>
                </div>
                <div class="dots spread">
                    <input type="hidden" name="attr_finesse" value="1" />
                    <button type="action" class="dot" name="act_finesse-1"></button>
                    <button type="action" class="dot ne-1" name="act_finesse-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_finesse-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_finesse-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_finesse-5"></button>
                    <span class="vertical-separator"></span>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_finesse-6"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_finesse-7"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_finesse-8"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_finesse-9"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_finesse-10"></button>
                    <span class="game-line mortal2-ghost vertical-separator"></span>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10" name="act_finesse-11"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11" name="act_finesse-12"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12" name="act_finesse-13"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13" name="act_finesse-14"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14" name="act_finesse-15"></button>
                </div>
            </div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="simple-attribute">
                <div class="subheader">
                    <input type="hidden" class="flag" name="attr_resistance_flag" value="0" />
                    <button type="action" class="toggle" name="act_resistance" data-i18n="resistance">Resistance</button>
                </div>
                <div class="dots spread">
                    <input type="hidden" name="attr_resistance" value="1" />
                    <button type="action" class="dot" name="act_resistance-1"></button>
                    <button type="action" class="dot ne-1" name="act_resistance-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_resistance-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_resistance-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_resistance-5"></button>
                    <span class="vertical-separator"></span>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_resistance-6"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_resistance-7"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_resistance-8"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_resistance-9"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_resistance-10"></button>
                    <span class="game-line mortal2-ghost vertical-separator"></span>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10" name="act_resistance-11"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11" name="act_resistance-12"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12" name="act_resistance-13"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13" name="act_resistance-14"></button>
                    <button type="action" class="game-line mortal2-ghost dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14" name="act_resistance-15"></button>
                </div>
            </div>
        </div>

        <div class="el_spacer"></div>

        <div class="flex">
            <!-- SKILL FIELDS -->
            <div class="corporeal skills">
                <input type="hidden" class="archery-era" name="attr_archery_era">
                <input type="hidden" class="ride-era" name="attr_ride_era">
                <input type="hidden" class="enigmas-era" name="attr_enigmas_era">
                <div class="section-header" data-i18n="skills-u">SKILLS</div>
                <div class="subheader" data-i18n="mental">Mental</div>
                <div class="subsubheader" data-i18n="unskilled-min3">(-3 unskilled)</div>
                <div>
                    <input type="hidden" class="flag" name="attr_academics_flag" value="0" />
                    <button type="action" class="toggle" name="act_academics" data-i18n="academics">Academics</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_academics" value="0" />
                    <button type="action" class="dot zero" name="act_academics-0">×</button>
                    <button type="action" class="dot" name="act_academics-1"></button>
                    <button type="action" class="dot ne-1" name="act_academics-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_academics-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_academics-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_academics-5"></button>
                </div>
                <div class="not-enigmas-era">
                    <input type="hidden" class="flag" name="attr_computer_flag" value="0" />
                    <button type="action" class="toggle" name="act_computer" data-i18n="computer">Computer</button>
                </div>
                <div class="not-enigmas-era dots">
                    <input type="hidden" name="attr_computer" value="0" />
                    <button type="action" class="dot zero" name="act_computer-0">×</button>
                    <button type="action" class="dot" name="act_computer-1"></button>
                    <button type="action" class="dot ne-1" name="act_computer-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_computer-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_computer-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_computer-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_crafts_flag" value="0" />
                    <button type="action" class="toggle" name="act_crafts" data-i18n="crafts">Crafts</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_crafts" value="0" />
                    <button type="action" class="dot zero" name="act_crafts-0">×</button>
                    <button type="action" class="dot" name="act_crafts-1"></button>
                    <button type="action" class="dot ne-1" name="act_crafts-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_crafts-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_crafts-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_crafts-5"></button>
                </div>
                <div class="is-enigmas-era">
                    <input type="hidden" class="flag" name="attr_enigmas_flag" value="0" />
                    <button type="action" class="toggle" name="act_enigmas" data-i18n="enigmas">Enigmas</button>
                </div>
                <div class="is-enigmas-era dots">
                    <input type="hidden" name="attr_enigmas" value="0" />
                    <button type="action" class="dot zero" name="act_enigmas-0">×</button>
                    <button type="action" class="dot" name="act_enigmas-1"></button>
                    <button type="action" class="dot ne-1" name="act_enigmas-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_enigmas-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_enigmas-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_enigmas-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_investigation_flag" value="0" />
                    <button type="action" class="toggle" name="act_investigation" data-i18n="investigation">Investigation</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_investigation" value="0" />
                    <button type="action" class="dot zero" name="act_investigation-0">×</button>
                    <button type="action" class="dot" name="act_investigation-1"></button>
                    <button type="action" class="dot ne-1" name="act_investigation-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_investigation-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_investigation-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_investigation-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_medicine_flag" value="0" />
                    <button type="action" class="toggle" name="act_medicine" data-i18n="medicine">Medicine</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_medicine" value="0" />
                    <button type="action" class="dot zero" name="act_medicine-0">×</button>
                    <button type="action" class="dot" name="act_medicine-1"></button>
                    <button type="action" class="dot ne-1" name="act_medicine-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_medicine-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_medicine-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_medicine-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_occult_flag" value="0" />
                    <button type="action" class="toggle" name="act_occult" data-i18n="occult">Occult</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_occult" value="0" />
                    <button type="action" class="dot zero" name="act_occult-0">×</button>
                    <button type="action" class="dot" name="act_occult-1"></button>
                    <button type="action" class="dot ne-1" name="act_occult-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_occult-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_occult-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_occult-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_politics_flag" value="0" />
                    <button type="action" class="toggle" name="act_politics" data-i18n="politics">Politics</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_politics" value="0" />
                    <button type="action" class="dot zero" name="act_politics-0">×</button>
                    <button type="action" class="dot" name="act_politics-1"></button>
                    <button type="action" class="dot ne-1" name="act_politics-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_politics-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_politics-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_politics-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_science_flag" value="0" />
                    <button type="action" class="toggle" name="act_science" data-i18n="science">Science</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_science" value="0" />
                    <button type="action" class="dot zero" name="act_science-0">×</button>
                    <button type="action" class="dot" name="act_science-1"></button>
                    <button type="action" class="dot ne-1" name="act_science-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_science-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_science-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_science-5"></button>
                </div>
                <div class="subheader" data-i18n="physical">Physical</div>
                <div class="subsubheader" data-i18n="unskilled-min1">(-1 unskilled)</div>
                <div class="is-archery-era">
                    <input type="hidden" class="flag" name="attr_archery_flag" value="0" />
                    <button type="action" class="toggle" name="act_archery" data-i18n="archery">Archery</button>
                </div>
                <div class="is-archery-era dots">
                    <input type="hidden" name="attr_archery" value="0" />
                    <button type="action" class="dot zero" name="act_archery-0">×</button>
                    <button type="action" class="dot" name="act_archery-1"></button>
                    <button type="action" class="dot ne-1" name="act_archery-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_archery-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_archery-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_archery-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_athletics_flag" value="0" />
                    <button type="action" class="toggle" name="act_athletics" data-i18n="athletics">Athletics</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_athletics" value="0" />
                    <button type="action" class="dot zero" name="act_athletics-0">×</button>
                    <button type="action" class="dot" name="act_athletics-1"></button>
                    <button type="action" class="dot ne-1" name="act_athletics-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_athletics-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_athletics-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_athletics-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_brawl_flag" value="0" />
                    <button type="action" class="toggle" name="act_brawl" data-i18n="brawl">Brawl</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_brawl" value="0" />
                    <button type="action" class="dot zero" name="act_brawl-0">×</button>
                    <button type="action" class="dot" name="act_brawl-1"></button>
                    <button type="action" class="dot ne-1" name="act_brawl-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_brawl-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_brawl-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_brawl-5"></button>
                </div>
                <div class="not-ride-era">
                    <input type="hidden" class="flag" name="attr_drive_flag" value="0" />
                    <button type="action" class="toggle" name="act_drive" data-i18n="drive">Drive</button>
                </div>
                <div class="not-ride-era dots">
                    <input type="hidden" name="attr_drive" value="0" />
                    <button type="action" class="dot zero" name="act_drive-0">×</button>
                    <button type="action" class="dot" name="act_drive-1"></button>
                    <button type="action" class="dot ne-1" name="act_drive-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_drive-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_drive-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_drive-5"></button>
                </div>
                <div class="not-archery-era">
                    <input type="hidden" class="flag" name="attr_firearms_flag" value="0" />
                    <button type="action" class="toggle" name="act_firearms" data-i18n="firearms">Firearms</button>
                </div>
                <div class="not-archery-era dots">
                    <input type="hidden" name="attr_firearms" value="0" />
                    <button type="action" class="dot zero" name="act_firearms-0">×</button>
                    <button type="action" class="dot" name="act_firearms-1"></button>
                    <button type="action" class="dot ne-1" name="act_firearms-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_firearms-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_firearms-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_firearms-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_larceny_flag" value="0" />
                    <button type="action" class="toggle" name="act_larceny" data-i18n="larceny">Larceny</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_larceny" value="0" />
                    <button type="action" class="dot zero" name="act_larceny-0">×</button>
                    <button type="action" class="dot" name="act_larceny-1"></button>
                    <button type="action" class="dot ne-1" name="act_larceny-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_larceny-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_larceny-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_larceny-5"></button>
                </div>
                <div class="is-ride-era">
                    <input type="hidden" class="flag" name="attr_ride_flag" value="0" />
                    <button type="action" class="toggle" name="act_ride" data-i18n="ride">Ride</button>
                </div>
                <div class="is-ride-era dots">
                    <input type="hidden" name="attr_ride" value="0" />
                    <button type="action" class="dot zero" name="act_ride-0">×</button>
                    <button type="action" class="dot" name="act_ride-1"></button>
                    <button type="action" class="dot ne-1" name="act_ride-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_ride-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_ride-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_ride-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_stealth_flag" value="0" />
                    <button type="action" class="toggle" name="act_stealth" data-i18n="stealth">Stealth</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_stealth" value="0" />
                    <button type="action" class="dot zero" name="act_stealth-0">×</button>
                    <button type="action" class="dot" name="act_stealth-1"></button>
                    <button type="action" class="dot ne-1" name="act_stealth-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_stealth-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_stealth-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_stealth-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_survival_flag" value="0" />
                    <button type="action" class="toggle" name="act_survival" data-i18n="survival">Survival</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_survival" value="0" />
                    <button type="action" class="dot zero" name="act_survival-0">×</button>
                    <button type="action" class="dot" name="act_survival-1"></button>
                    <button type="action" class="dot ne-1" name="act_survival-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_survival-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_survival-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_survival-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_weaponry_flag" value="0" />
                    <button type="action" class="toggle" name="act_weaponry" data-i18n="weaponry">Weaponry</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_weaponry" value="0" />
                    <button type="action" class="dot zero" name="act_weaponry-0">×</button>
                    <button type="action" class="dot" name="act_weaponry-1"></button>
                    <button type="action" class="dot ne-1" name="act_weaponry-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_weaponry-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_weaponry-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_weaponry-5"></button>
                </div>
                <div class="subheader" data-i18n="social">Social</div>
                <div class="subsubheader" data-i18n="unskilled-min1">(-1 unskilled)</div>
                <div>
                    <input type="hidden" class="flag" name="attr_animalken_flag" value="0" />
                    <button type="action" class="toggle" name="act_animalken" data-i18n="animalken">Animal Ken</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_animalken" value="0" />
                    <button type="action" class="dot zero" name="act_animalken-0">×</button>
                    <button type="action" class="dot" name="act_animalken-1"></button>
                    <button type="action" class="dot ne-1" name="act_animalken-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_animalken-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_animalken-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_animalken-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_empathy_flag" value="0" />
                    <button type="action" class="toggle" name="act_empathy" data-i18n="empathy">Empathy</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_empathy" value="0" />
                    <button type="action" class="dot zero" name="act_empathy-0">×</button>
                    <button type="action" class="dot" name="act_empathy-1"></button>
                    <button type="action" class="dot ne-1" name="act_empathy-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_empathy-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_empathy-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_empathy-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_expression_flag" value="0" />
                    <button type="action" class="toggle" name="act_expression" data-i18n="expression">Expression</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_expression" value="0" />
                    <button type="action" class="dot zero" name="act_expression-0">×</button>
                    <button type="action" class="dot" name="act_expression-1"></button>
                    <button type="action" class="dot ne-1" name="act_expression-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_expression-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_expression-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_expression-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_intimidation_flag" value="0" />
                    <button type="action" class="toggle" name="act_intimidation" data-i18n="intimidation">Intimidation</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_intimidation" value="0" />
                    <button type="action" class="dot zero" name="act_intimidation-0">×</button>
                    <button type="action" class="dot" name="act_intimidation-1"></button>
                    <button type="action" class="dot ne-1" name="act_intimidation-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_intimidation-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_intimidation-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_intimidation-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_persuasion_flag" value="0" />
                    <button type="action" class="toggle" name="act_persuasion" data-i18n="persuasion">Persuasion</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_persuasion" value="0" />
                    <button type="action" class="dot zero" name="act_persuasion-0">×</button>
                    <button type="action" class="dot" name="act_persuasion-1"></button>
                    <button type="action" class="dot ne-1" name="act_persuasion-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_persuasion-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_persuasion-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_persuasion-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_socialize_flag" value="0" />
                    <button type="action" class="toggle" name="act_socialize" data-i18n="socialize">Socialize</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_socialize" value="0" />
                    <button type="action" class="dot zero" name="act_socialize-0">×</button>
                    <button type="action" class="dot" name="act_socialize-1"></button>
                    <button type="action" class="dot ne-1" name="act_socialize-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_socialize-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_socialize-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_socialize-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_streetwise_flag" value="0" />
                    <button type="action" class="toggle" name="act_streetwise" data-i18n="streetwise">Streetwise</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_streetwise" value="0" />
                    <button type="action" class="dot zero" name="act_streetwise-0">×</button>
                    <button type="action" class="dot" name="act_streetwise-1"></button>
                    <button type="action" class="dot ne-1" name="act_streetwise-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_streetwise-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_streetwise-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_streetwise-5"></button>
                </div>
                <div>
                    <input type="hidden" class="flag" name="attr_subterfuge_flag" value="0" />
                    <button type="action" class="toggle" name="act_subterfuge" data-i18n="subterfuge">Subterfuge</button>
                </div>
                <div class="dots">
                    <input type="hidden" name="attr_subterfuge" value="0" />
                    <button type="action" class="dot zero" name="act_subterfuge-0">×</button>
                    <button type="action" class="dot" name="act_subterfuge-1"></button>
                    <button type="action" class="dot ne-1" name="act_subterfuge-2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_subterfuge-3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_subterfuge-4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_subterfuge-5"></button>
                </div>
            </div>

            <div class="corporeal horizontal-spacer"></div>

            <!-- OTHER TRAITS -->
            <div class="grow">
                <div class="corporeal section-header" data-i18n="other-traits-u">OTHER TRAITS</div>
                <div class="flex">
                    <!-- !geist2-geist -->
                    <div class="game-line mortal vampire werewolf mage promethean changeling hunter geist1 geist2 geist2-organization mummy demon beast homebrew wod-demon grow deviant-the-renegades">
                        <div class="columns">
                            <!-- MERITS -->
                            <div>
                                <div class="subheader" data-i18n="merits">Merits</div>
                                <fieldset class="repeating_merits">
                                    <div class="input-group">
                                        <input type="text" name="attr_merit_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit" value="0">
                                            <button type="action" class="dot zero" name="act_merit-0">&times;</button>
                                            <button type="action" class="dot" name="act_merit-1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit-2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit-3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit-4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit-5"></button>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                            <div class="horizontal-spacer"></div>
                            <!-- OTHER TRAITS -->
                            <div>
                                <div class="subheader">
                                    <span class="game-line mortal1 mortal2 deviant-the-renegades" data-i18n="other">Other</span>
                                    <span class="organization" data-i18n="ceremonies">Ceremonies</span>
                                    <span class="game-line vampire" data-i18n="disciplines">Disciplines</span>
                                    <span class="game-line werewolf" data-i18n="gifts-rites">Gifts/Rites</span>
                                    <span class="game-line mage" data-i18n="arcana">Arcana</span>
                                    <span class="game-line promethean" data-i18n="transmutations">Transmutations</span>
                                    <span class="game-line changeling" data-i18n="contracts">Contracts</span>
                                    <span class="game-line geist1" data-i18n="manifestations">Manifestations</span>
                                    <span class="game-line geist2" data-i18n="haunts">Haunts</span>
                                    <span class="game-line mummy" data-i18n="pillars">Pillars</span>
                                    <span class="game-line demon" data-i18n="embeds-explo">Embeds/Exploits</span>
                                    <span class="game-line beast" data-i18n="nightmares-atavisms">Nightmares/Atavisms</span>
                                    <span class="game-line hunter" data-i18n="endowments">Endowments</span>
                                    <span class="ephemeral" data-i18n="influences">Influences</span>
                                    <span class="game-line wod-demon" data-i18n="lore">Lores</span>
                                    <span class="game-line homebrew" name="attr_homebrew_abilities"></span>
                                </div>
                                <fieldset class="repeating_abilities">
                                    <div class="input-group">
                                        <span>
                                            <input type="hidden" class="flag" name="attr_ability_flag">
                                            <button type="action" class="radio" name="act_ability"></button>
                                        </span>
                                        <input type="hidden" class="flag" name="attr_ability_flag">
                                        <input type="text" class="toggle" name="attr_ability_name" />
                                        <div class="game-line mortal vampire werewolf mage promethean changeling1 hunter geist1 geist2 geist2-organization mummy demon beast homebrew wod-demon grow deviant-the-renegades">
                                            <div class="dots">
                                                <input type="hidden" name="attr_ability" value="0">
                                                <button type="action" class="dot zero" name="act_ability-0">&times;</button>
                                                <button type="action" class="dot" name="act_ability-1"></button>
                                                <button type="action" class="dot ne-1" name="act_ability-2"></button>
                                                <button type="action" class="dot ne-1 ne-2" name="act_ability-3"></button>
                                                <button type="action" class="dot ne-1 ne-2 ne-3" name="act_ability-4"></button>
                                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_ability-5"></button>
                                            </div>
                                        </div>
                                    </div>
                                </fieldset>
                            </div>
                        </div>
                        <!-- NUMINA AND MANIFESTATIONS -->
                        <div class="ephemeral columns">
                            <div>
                                <div class="subheader">
                                    <span data-i18n="numina">Numina</span>
                                </div>
                                <div>
                                    <fieldset class="repeating_numina">
                                        <div class="input-group">
                                            <input type="text" name="attr_numina" />
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                            <div class="horizontal-spacer"></div>
                            <div>
                                <div class="subheader">
                                    <span data-i18n="ephemeral-manifestations">Manifestations</span>
                                </div>
                                <div>
                                    <fieldset class="repeating_ephemeral-manifestations">
                                        <div class="input-group">
                                            <input type="text" name="attr_ephemeral-manifestations" />
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                        <!-- !mortal2-organization !geist2-geist !geist2-organization -->
                        <div class="game-line mortal1 mortal2 mortal2-ghost vampire werewolf mage promethean changeling hunter geist1 geist2 mummy demon beast homebrew wod-demon deviant-the-renegades">
                            <div class="el_spacer"></div>
                            <input type="hidden" name="attr_attack" value="{{attack_name=@{attack_name0}}} {{weapon_damage=@{attack_damage0}}} {{range=@{attack_range0}}} @{attack_type0}">
                            <div class="weapongrid">
                                <div></div>
                                <div data-i18n="weapon-attack">Weapon/Attack</div>
                                <div data-i18n="type">Type</div>
                                <div data-i18n="damage-short">Dmg</div>
                                <div data-i18n="range">Range</div>
                                <div data-i18n="magnitude-short">Mag</div>
                                <div data-i18n="initiative-short">Ini</div>
                                <div data-i18n="strength-short">Str</div>
                                <div data-i18n="size-short">Sz</div>

                                <div>
                                    <input type="hidden" name="attr_attack_0_value" value="{{attack_name=@{attack_name0}}} {{weapon_damage=@{attack_damage0}}} {{range=@{attack_range0}}} @{attack_type0}">
                                    <input type="hidden" class="flag" name="attr_attack_0_flag" value="1">
                                    <button type="action" class="radio" name="act_attack_0"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_attack_0_flag" value="1">
                                    <input type="text" name="attr_attack_name0" class="toggle" disabled="disabled" value="@{unarmedmacro}" />
                                </div>
                                <div class="selectcontainer">
                                    <select name="attr_attack_type0">
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{bra=1}} {{result=[[{((@{attack_damage0}+@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl" checked="checked">Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage0}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                    </select>
                                </div>
                                <div><input type="text" name="attr_attack_damage0" value="0" /></div>
                                <div><input type="text" name="attr_attack_range0" disabled="disabled" value="-" /></div>
                                <div><input type="text" name="attr_attack_magazine0" disabled="disabled" value="-" /></div>
                                <div><input type="text" name="attr_attack_initiative0" disabled="disabled" value="0" /></div>
                                <div><input type="text" name="attr_attack_strength0" disabled="disabled" value="0" /></div>
                                <div><input type="text" name="attr_attack_size0" disabled="disabled" value="-" /></div>

                                <div>
                                    <input type="hidden" name="attr_attack_1_value" value="{{attack_name=@{attack_name1}}} {{weapon_damage=@{attack_damage1}}} {{range=@{attack_range1}}} @{attack_type1}">
                                    <input type="hidden" class="flag" name="attr_attack_1_flag" value="0">
                                    <button type="action" class="radio" name="act_attack_1"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_attack_1_flag">
                                    <input type="text" name="attr_attack_name1" class="toggle" />
                                </div>
                                <div class="selectcontainer">
                                    <select name="attr_attack_type1">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{bra=1}} {{result=[[{((@{attack_damage1}+@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage1}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                    </select>
                                </div>
                                <div><input type="text" name="attr_attack_damage1" /></div>
                                <div><input type="text" name="attr_attack_range1" /></div>
                                <div><input type="text" name="attr_attack_magazine1" /></div>
                                <div><input type="text" name="attr_attack_initiative1" /></div>
                                <div><input type="text" name="attr_attack_strength1" /></div>
                                <div><input type="text" name="attr_attack_size1" /></div>

                                <div>
                                    <input type="hidden" name="attr_attack_2_value" value="{{attack_name=@{attack_name2}}} {{weapon_damage=@{attack_damage2}}} {{range=@{attack_range2}}} @{attack_type2}">
                                    <input type="hidden" class="flag" name="attr_attack_2_flag" value="0">
                                    <button type="action" class="radio" name="act_attack_2"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_attack_2_flag">
                                    <input type="text" name="attr_attack_name2" class="weaponstat name toggle" />
                                </div>
                                <div class="selectcontainer">
                                    <select name="attr_attack_type2">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{bra=1}} {{result=[[{((@{attack_damage2}+@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage2}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                    </select>
                                </div>
                                <div><input type="text" name="attr_attack_damage2" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_range2" class="weaponstat range" /></div>
                                <div><input type="text" name="attr_attack_magazine2" class="weaponstat mag" /></div>
                                <div><input type="text" name="attr_attack_initiative2" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_strength2" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_size2" class="weaponstat" /></div>

                                <div>
                                    <input type="hidden" name="attr_attack_3_value" value="{{attack_name=@{attack_name3}}} {{weapon_damage=@{attack_damage3}}} {{range=@{attack_range3}}} @{attack_type3}">
                                    <input type="hidden" class="flag" name="attr_attack_3_flag" value="0">
                                    <button type="action" class="radio" name="act_attack_3"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_attack_3_flag">
                                    <input type="text" name="attr_attack_name3" class="weaponstat name toggle" />
                                </div>
                                <div class="selectcontainer">
                                    <select name="attr_attack_type3">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{bra=1}} {{result=[[{((@{attack_damage3}+@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage3}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                    </select>
                                </div>
                                <div><input type="text" name="attr_attack_damage3" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_range3" class="weaponstat range" /></div>
                                <div><input type="text" name="attr_attack_magazine3" class="weaponstat mag" /></div>
                                <div><input type="text" name="attr_attack_initiative3" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_strength3" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_size3" class="weaponstat" /></div>

                                <div>
                                    <input type="hidden" name="attr_attack_4_value" value="{{attack_name=@{attack_name4}}} {{weapon_damage=@{attack_damage4}}} {{range=@{attack_range4}}} @{attack_type4}">
                                    <input type="hidden" class="flag" name="attr_attack_4_flag" value="0">
                                    <button type="action" class="radio" name="act_attack_4"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_attack_4_flag">
                                    <input type="text" name="attr_attack_name4" class="weaponstat name toggle" />
                                </div>
                                <div class="selectcontainer">
                                    <select name="attr_attack_type4">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{bra=1}} {{result=[[{((@{attack_damage4}+@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage4}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl">Brawl</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee">Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun">Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown">Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse">Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse">Melee* (Fighting Finesse)</option>
                                    </select>
                                </div>
                                <div><input type="text" name="attr_attack_damage4" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_range4" class="weaponstat range" /></div>
                                <div><input type="text" name="attr_attack_magazine4" class="weaponstat mag" /></div>
                                <div><input type="text" name="attr_attack_initiative4" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_strength4" class="weaponstat" /></div>
                                <div><input type="text" name="attr_attack_size4" class="weaponstat" /></div>
                            </div>
                            <div class="el_spacer"></div>
                            <div class="armorgrid">
                                <div></div>
                                <div data-i18n="armor">Armor</div>
                                <div data-i18n="rating">Rating</div>
                                <div data-i18n="strength-short">Str</div>
                                <div data-i18n="defence-short">Def</div>
                                <div data-i18n="speed-short">Spd</div>
                                <div data-i18n="description-armor">Description</div>

                                <div class="checkbox">
                                    <input type="hidden" name="attr_armor_flag0">
                                    <button type="action" name="act_armor_flag0"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_armor_flag0" value="0">
                                    <input type="text" class="toggle" name="attr_armor_name0" />
                                </div>
                                <div><input type="text" name="attr_armor_ballistic0" />/<input type="text" name="attr_armor_general0" /></div>
                                <div><input type="text" name="attr_armor_strength0" /></div>
                                <div><input type="text" name="attr_armor_defense0" /></div>
                                <div><input type="text" name="attr_armor_speed0" /></div>
                                <div><input type="text" name="attr_armor_description0" /></div>

                                <div class="checkbox">
                                    <input type="hidden" name="attr_armor_flag1">
                                    <button type="action" name="act_armor_flag1"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_armor_flag1" value="0">
                                    <input type="text" class="toggle" name="attr_armor_name1" />
                                </div>
                                <div><input type="text" name="attr_armor_ballistic1" />/<input type="text" name="attr_armor_general1" /></div>
                                <div><input type="text" name="attr_armor_strength1" /></div>
                                <div><input type="text" name="attr_armor_defense1" /></div>
                                <div><input type="text" name="attr_armor_speed1" /></div>
                                <div><input type="text" name="attr_armor_description1" /></div>

                                <div class="checkbox">
                                    <input type="hidden" name="attr_armor_flag2">
                                    <button type="action" name="act_armor_flag2"></button>
                                </div>
                                <div>
                                    <input type="hidden" class="flag" name="attr_armor_flag2" value="0">
                                    <input type="text" class="toggle" name="attr_armor_name2" />
                                </div>
                                <div><input type="text" name="attr_armor_ballistic2" />/<input type="text" name="attr_armor_general2" /></div>
                                <div><input type="text" name="attr_armor_strength2" /></div>
                                <div><input type="text" name="attr_armor_defense2" /></div>
                                <div><input type="text" name="attr_armor_speed2" /></div>
                                <div><input type="text" name="attr_armor_description2" /></div>
                            </div>
                        </div>
                   </div>
                    <div class="game-line geist2-geist grow">
                        <div class="columns">
                            <div>
                                <div class="subheader">
                                    <span data-i18n="remembrances">Remembrances</span>
                                </div>
                                <textarea class="h-100" name="attr_remembrances"></textarea>
                            </div>
                            <div class="horizontal-spacer"></div>
                            <div>
                                <div class="subheader">
                                    <span data-i18n="crisis-point-triggers">Crisis Point Triggers</span>
                                </div>
                                <div class="subsubheader">
                                    <span data-i18n="hazy">Hazy</span>
                                </div>
                                <div class="input-group">
                                    <input type="text" name="attr_trigger_1"/>
                                </div>
                                <div class="el_spacer"></div>
                                <div class="subsubheader">
                                    <span data-i18n="vague">Vague</span>
                                </div>
                                <div class="input-group">
                                    <input type="text" name="attr_trigger_2"/>
                                </div>
                                <div class="el_spacer"></div>
                                <div class="subsubheader">
                                    <span data-i18n="specific">Specific</span>
                                </div>
                                <div class="input-group">
                                    <input type="text" name="attr_trigger_3"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="horizontal-spacer"></div>
                    <div>
                        <div class="subheader">
                            <span class="corporeal" data-i18n="health">Health</span>
                            <span class="ephemeral" data-i18n="corpus">Corpus</span>
                            <span class="game-line mortal2-organization" data-i18n="membership">Membership</span>
                            <span class="game-line geist2-organization" data-i18n="congregation">Congregation</span>
                        </div>
                        <div>
                            <div class="healthboxes">
                                <input type="hidden" name="attr_health" class="if" />
                                <div class="healthbox">
                                    <input type="hidden" name="attr_healthbox_1" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_1"></button>
                                </div>
                                <div class="healthbox ne-1">
                                    <input type="hidden" name="attr_healthbox_2" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_2"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2">
                                    <input type="hidden" name="attr_healthbox_3" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_3"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3">
                                    <input type="hidden" name="attr_healthbox_4" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_4"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4">
                                    <input type="hidden" name="attr_healthbox_5" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_5"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5">
                                    <input type="hidden" name="attr_healthbox_6" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_6"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6">
                                    <input type="hidden" name="attr_healthbox_7" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_7"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7">
                                    <input type="hidden" name="attr_healthbox_8" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_8"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8">
                                    <input type="hidden" name="attr_healthbox_9" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_9"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9">
                                    <input type="hidden" name="attr_healthbox_10" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_10"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10">
                                    <input type="hidden" name="attr_healthbox_11" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_11"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11">
                                    <input type="hidden" name="attr_healthbox_12" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_12"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12">
                                    <input type="hidden" name="attr_healthbox_13" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_13"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13">
                                    <input type="hidden" name="attr_healthbox_14" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_14"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14">
                                    <input type="hidden" name="attr_healthbox_15" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_15"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14 ne-15">
                                    <input type="hidden" name="attr_healthbox_16" value="0" />
                                    <button type="action" class="damage" name="act_healthbox_16"></button>
                                </div>
                            </div>
                            <div class="corporeal dots">
                                <input type="hidden" name="attr_health" class="if" />
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14 ne-15"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6"></div>
                                <div class="healthbox ne-2 ne-3 ne-4 ne-5"></div>
                                <div class="healthbox ne-2 ne-3 ne-4"></div>
                                <div class="healthbox ne-2 ne-3"></div>
                                <span class="healthbox ne-2" name="attr_wound_penalty_1">-1</span>
                                <span class="healthbox" name="attr_wound_penalty_2">-2</span>
                                <span class="healthbox" name="attr_wound_penalty_3">-3</span>
                            </div>
                        </div>
                        <div class="el_spacer"></div>
                        <!-- !mortal2-organization !geist2-geist !giest2-organization -->
                        <div class="game-line mortal1 mortal2 mortal2-ghost vampire werewolf mage promethean changeling hunter geist1 geist2 mummy demon beast homebrew wod-demon deviant-the-renegades">
                            <div class="subheader" data-i18n="willpower">Willpower</div>
                            <div class="checkboxes">
                                <input type="hidden" name="attr_willpower" class="if" />
                                <div class="checkbox">
                                    <input type="hidden" name="attr_willpower_box1" />
                                    <button type="action" name="act_willpower_box1"></button>
                                </div>
                                <div class="checkbox ne-1">
                                    <input type="hidden" name="attr_willpower_box2" />
                                    <button type="action" name="act_willpower_box2"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2">
                                    <input type="hidden" name="attr_willpower_box3" />
                                    <button type="action" name="act_willpower_box3"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2 ne-3">
                                    <input type="hidden" name="attr_willpower_box4" />
                                    <button type="action" name="act_willpower_box4"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2 ne-3 ne-4">
                                    <input type="hidden" name="attr_willpower_box5" />
                                    <button type="action" name="act_willpower_box5"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2 ne-3 ne-4 ne-5">
                                    <input type="hidden" name="attr_willpower_box6" />
                                    <button type="action" name="act_willpower_box6"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6">
                                    <input type="hidden" name="attr_willpower_box7" />
                                    <button type="action" name="act_willpower_box7"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7">
                                    <input type="hidden" name="attr_willpower_box8" />
                                    <button type="action" name="act_willpower_box8"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8">
                                    <input type="hidden" name="attr_willpower_box9" />
                                    <button type="action" name="act_willpower_box9"></button>
                                </div>
                                <div class="checkbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9">
                                    <input type="hidden" name="attr_willpower_box10" />
                                    <button type="action" name="act_willpower_box10"></button>
                                </div>
                            </div>
                            <div class="el_spacer"></div>
                        </div>
                        <!-- !mortal2-organization !geist2 !geist2-geist !geist2-organization -->
                        <div class="game-line mortal1 mortal2 mortal2-ghost vampire werewolf mage promethean changeling hunter geist1 mummy demon beast homebrew wod-demon deviant-the-renegades">
                            <div class="subheader">
                                <span class="game-line mortal1 hunter1" data-i18n="morality">Morality</span>
                                <span class="game-line mortal2 mortal2-ghost hunter2" data-i18n="integrity">Integrity</span>
                                <span class="game-line vampire" data-i18n="humanity">Humanity</span>
                                <span class="game-line promethean1" data-i18n="humanity">Humanity</span>
                                <span class="game-line promethean2" data-i18n="pilgrimage">Pilgrimage</span>
                                <span class="game-line werewolf" data-i18n="harmony">Harmony</span>
                                <span class="game-line mage" data-i18n="wisdom">Wisdom</span>
                                <span class="game-line changeling" data-i18n="clarity">Clarity</span>
                                <span class="game-line geist1" data-i18n="synergy">Synergy</span>
                                <span class="game-line mummy" data-i18n="memory">Memory</span>
                                <span class="game-line demon" data-i18n="cover">Cover</span>
                                <span class="game-line beast" data-i18n="satiety">Satiety</span>
                                <span class="game-line wod-demon" data-i18n="demon-torment">Torment</span>
                                <span class="game-line deviant-the-renegades" data-i18n="stability">Stability</span>
                                <span class="game-line homebrew" name="attr_homebrew_morality"></span>
                            </div>
                            <div class="game-line changeling2 deviant-the-renegades healthboxes">
                                <input type="hidden" name="attr_moralhealth" class="if" />
                                <div class="healthbox">
                                    <input type="hidden" name="attr_moralhealthbox_1" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_1"></button>
                                </div>
                                <div class="healthbox ne-1">
                                    <input type="hidden" name="attr_moralhealthbox_2" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_2"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2">
                                    <input type="hidden" name="attr_moralhealthbox_3" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_3"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3">
                                    <input type="hidden" name="attr_moralhealthbox_4" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_4"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4">
                                    <input type="hidden" name="attr_moralhealthbox_5" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_5"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5">
                                    <input type="hidden" name="attr_moralhealthbox_6" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_6"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6">
                                    <input type="hidden" name="attr_moralhealthbox_7" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_7"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7">
                                    <input type="hidden" name="attr_moralhealthbox_8" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_8"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8">
                                    <input type="hidden" name="attr_moralhealthbox_9" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_9"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9">
                                    <input type="hidden" name="attr_moralhealthbox_10" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_10"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10">
                                    <input type="hidden" name="attr_moralhealthbox_11" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_11"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11">
                                    <input type="hidden" name="attr_moralhealthbox_12" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_12"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12">
                                    <input type="hidden" name="attr_moralhealthbox_13" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_13"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13">
                                    <input type="hidden" name="attr_moralhealthbox_14" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_14"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14">
                                    <input type="hidden" name="attr_moralhealthbox_15" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_15"></button>
                                </div>
                                <div class="healthbox ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14 ne-15">
                                    <input type="hidden" name="attr_moralhealthbox_16" value="0" />
                                    <button type="action" class="damage" name="act_moralhealthbox_16"></button>
                                </div>
                            </div>
                            <div class="changeling2-inverse dots deviant-the-renegades-inverse">
                                <input type="hidden" name="attr_morality" />
                                <button type="action" class="dot zero" name="act_morality-0">×</button>
                                <button type="action" class="dot" name="act_morality-1"></button>
                                <button type="action" class="dot ne-1" name="act_morality-2"></button>
                                <button type="action" class="dot ne-1 ne-2" name="act_morality-3"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3" name="act_morality-4"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_morality-5"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_morality-6"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_morality-7"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_morality-8"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_morality-9"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_morality-10"></button>
                                <button type="action" class="dot zero" name="act_morality-0">×</button>
                            </div>

                            <!-- Demon the Fallen Torment-->
                            <div class= "game-line wod-demon">
                                <div class="subheader">
                                    <span data-i18n="temporary-torment">Temporary</span>
                                </div>

                                <div class="dots">
                                    <input type="hidden" name="attr_temporary-torment" />
                                    <button type="action" class="dot zero" name="act_temporary-torment-0">×</button>
                                    <button type="action" class="dot" name="act_temporary-torment-1"></button>
                                    <button type="action" class="dot ne-1" name="act_temporary-torment-2"></button>
                                    <button type="action" class="dot ne-1 ne-2" name="act_temporary-torment-3"></button>
                                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_temporary-torment-4"></button>
                                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_temporary-torment-5"></button>
                                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_temporary-torment-6"></button>
                                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_temporary-torment-7"></button>
                                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_temporary-torment-8"></button>
                                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_temporary-torment-9"></button>
                                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_temporary-torment-10"></button>
                                    <button type="action" class="dot zero" name="act_temporary-torment-0">×</button>
                                </div>
                            </div>
                            <!-- Demon the Fallen Torment End -->

                            <div class="el_spacer"></div>
                        </div>
                        <!-- !mortal1 !mortal2 -->
                        <div class="game-line mortal2-ghost mortal2-organization vampire werewolf mage promethean changeling geist mummy demon beast homebrew wod-demon deviant-the-renegades">
                            <div class="subheader">
                                <input type="hidden" class="flag" name="attr_potency_flag" value="0" />
                                <button type="action" class="toggle ephemeral" name="act_potency" data-i18n="rank">Rank</button>
                                <button type="action" class="toggle game-line mortal2-organization" name="act_potency" data-i18n="standing">Standing</button>
                                <button type="action" class="toggle game-line vampire" name="act_potency" data-i18n="blood-potency">Blood Potency</button>
                                <button type="action" class="toggle game-line werewolf" name="act_potency" data-i18n="primal-urge">Primal Urge</button>
                                <button type="action" class="toggle game-line mage" name="act_potency" data-i18n="gnosis">Gnosis</button>
                                <button type="action" class="toggle game-line promethean" name="act_potency" data-i18n="azoth">Azoth</button>
                                <button type="action" class="toggle game-line changeling" name="act_potency" data-i18n="wyrd">Wyrd</button>
                                <button type="action" class="toggle game-line geist1" name="act_potency" data-i18n="psyche">Psyche</button>
                                <button type="action" class="toggle game-line geist2" name="act_potency" data-i18n="synergy">Synergy</button>
                                <button type="action" class="toggle game-line geist2-organization" name="act_potency" data-i18n="esotery">Esotery</button>
                                <button type="action" class="toggle game-line mummy" name="act_potency" data-i18n="sekhem">Sekhem</button>
                                <button type="action" class="toggle game-line demon" name="act_potency" data-i18n="primum">Primum</button>
                                <button type="action" class="toggle game-line beast" name="act_potency" data-i18n="lair">Lair</button>
                                <button type="action" class="toggle game-line wod-demon" name="act_potency" data-i18n="faith">Faith</button>
                                <button type="action" class="toggle game-line deviant-the-renegades" name="act_potency" data-i18n="acclimation">Acclimation</button>
                                <button type="action" class="toggle game-line homebrew" name="act_potency">
                                    <span name="attr_homebrew_rank"></span>
                                </button>
                            </div>
                            <div class="dots">
                                <input type="hidden" name="attr_potency" value="1" />
                                <button type="action" class="dot zero" name="act_potency-0">×</button>
                                <button type="action" class="dot" name="act_potency-1"></button>
                                <button type="action" class="dot ne-1" name="act_potency-2"></button>
                                <button type="action" class="dot ne-1 ne-2" name="act_potency-3"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3" name="act_potency-4"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_potency-5"></button>
                                <button type="action" class="ephemeral-inverse deviant-the-renegades-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_potency-6"></button>
                                <button type="action" class="ephemeral-inverse deviant-the-renegades-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_potency-7"></button>
                                <button type="action" class="ephemeral-inverse deviant-the-renegades-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_potency-8"></button>
                                <button type="action" class="ephemeral-inverse deviant-the-renegades-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_potency-9"></button>
                                <button type="action" class="ephemeral-inverse deviant-the-renegades-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_potency-10"></button>
                                <button type="action" class="dot zero" name="act_potency-0">×</button>
                            </div>
                            <div class="game-line wod-demon">
                                <div class="subheader">
                                    <div class="checkboxes">
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box1" />
                                            <button type="action" name="act_faith-temp_box1"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box2" />
                                            <button type="action" name="act_faith-temp_box2"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box3" />
                                            <button type="action" name="act_faith-temp_box3"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box4" />
                                            <button type="action" name="act_faith-temp_box4"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box5" />
                                            <button type="action" name="act_faith-temp_box5"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box6" />
                                            <button type="action" name="act_faith-temp_box6"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box7" />
                                            <button type="action" name="act_faith-temp_box7"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box8" />
                                            <button type="action" name="act_faith-temp_box8"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box9" />
                                            <button type="action" name="act_faith-temp_box9"></button>
                                        </div>
                                        <div class="checkbox">
                                            <input type="hidden" name="attr_faith-temp_box10" />
                                            <button type="action" name="act_faith-temp_box10"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="el_spacer"></div>
                        </div>
                        <div class="game-line changeling2">
                            <div class="subheader">
                                <input type="hidden" class="flag" name="attr_goblin-debt_flag" value="0" />
                                <button type="action" class="toggle" name="act_goblin-debt" data-i18n="goblin-debt">Goblin Debt</button>
                                </button>
                            </div>
                            <div class="dots">
                                <input type="hidden" name="attr_goblin-debt" value="0" />
                                <button type="action" class="dot zero" name="act_goblin-debt-0">×</button>
                                <button type="action" class="dot" name="act_goblin-debt-1"></button>
                                <button type="action" class="dot ne-1" name="act_goblin-debt-2"></button>
                                <button type="action" class="dot ne-1 ne-2" name="act_goblin-debt-3"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3" name="act_goblin-debt-4"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_goblin-debt-5"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_goblin-debt-6"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_goblin-debt-7"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_goblin-debt-8"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_goblin-debt-9"></button>
                                <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_goblin-debt-10"></button>
                                <button type="action" class="dot zero" name="act_goblin-debt-0">×</button>
                            </div>
                            <br>
                        </div>
                        <div class="game-line mortal geist2-organization">
                            <div class="subheader" data-i18n="conditions">Conditions</div>
                            <div>
                                <input type="text" name="attr_conditions1" />
                            </div>
                            <div>
                                <input type="text" name="attr_conditions2" />
                            </div>
                            <div>
                                <input type="text" name="attr_conditions3" />
                            </div>
                            <div>
                                <input type="text" name="attr_conditions4" />
                            </div>
                            <div class="el_spacer"></div>
                        </div>
                        <!-- !mortal1 !mortal2 !mortal2-organization !geist2-geist !geist2-organization !wod-demon-->
                        <div class="game-line mortal2-ghost vampire werewolf mage promethean changeling geist1 geist2 demon homebrew">
                            <div class="subheader">
                                <span class="game-line vampire" data-i18n="vitae">Vitae</span>
                                <span class="game-line mortal2-ghost werewolf" data-i18n="essence">Essence</span>
                                <span class="game-line mage" data-i18n="mana">Mana</span>
                                <span class="game-line promethean" data-i18n="pyros">Pyros</span>
                                <span class="game-line changeling" data-i18n="glamour">Glamour</span>
                                <span class="game-line geist" data-i18n="plasm">Plasm</span>
                                <span class="game-line demon" data-i18n="aether">Aether</span>
                                <span class="game-line homebrew" name="attr_homebrew_resource"></span>
                            </div>
                            <input type="hidden" class="if" name="attr_vitae_counter">
                            <div class="eq-1 vitae">
                                <input type="number" min="0" name="attr_vitae" />
                            </div>
                            <div class="ne-1 checkboxes">
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box1" />
                                    <button type="action" name="act_vitae_box1"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box2" />
                                    <button type="action" name="act_vitae_box2"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box3" />
                                    <button type="action" name="act_vitae_box3"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box4" />
                                    <button type="action" name="act_vitae_box4"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box5" />
                                    <button type="action" name="act_vitae_box5"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box6" />
                                    <button type="action" name="act_vitae_box6"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box7" />
                                    <button type="action" name="act_vitae_box7"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box8" />
                                    <button type="action" name="act_vitae_box8"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box9" />
                                    <button type="action" name="act_vitae_box9"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box10" />
                                    <button type="action" name="act_vitae_box10"></button>
                                </div>
                            </div>
                            <div class="ne-1 checkboxes">
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box11" />
                                    <button type="action" name="act_vitae_box11"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box12" />
                                    <button type="action" name="act_vitae_box12"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box13" />
                                    <button type="action" name="act_vitae_box13"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box14" />
                                    <button type="action" name="act_vitae_box14"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box15" />
                                    <button type="action" name="act_vitae_box15"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box16" />
                                    <button type="action" name="act_vitae_box16"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box17" />
                                    <button type="action" name="act_vitae_box17"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box18" />
                                    <button type="action" name="act_vitae_box18"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box19" />
                                    <button type="action" name="act_vitae_box19"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box20" />
                                    <button type="action" name="act_vitae_box20"></button>
                                </div>
                            </div>
                            <div class="ne-1 game-line mortal2-ghost geist homebrew checkboxes">
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box21" />
                                    <button type="action" name="act_vitae_box21"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box22" />
                                    <button type="action" name="act_vitae_box22"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box23" />
                                    <button type="action" name="act_vitae_box23"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box24" />
                                    <button type="action" name="act_vitae_box24"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box25" />
                                    <button type="action" name="act_vitae_box25"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box26" />
                                    <button type="action" name="act_vitae_box26"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box27" />
                                    <button type="action" name="act_vitae_box27"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box28" />
                                    <button type="action" name="act_vitae_box28"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box29" />
                                    <button type="action" name="act_vitae_box29"></button>
                                </div>
                                <div class="checkbox">
                                    <input type="hidden" name="attr_vitae_box30" />
                                    <button type="action" name="act_vitae_box30"></button>
                                </div>
                            </div>
                            <div class="el_spacer"></div>
                        </div>
                        <div class="corporeal">
                            <div class="subheader" data-i18n="specializations">Specializations</div>
                            <div>
                                <input type="text" name="attr_specializations1" />
                            </div>
                            <div>
                                <input type="text" name="attr_specializations2" />
                            </div>
                            <div>
                                <input type="text" name="attr_specializations3" />
                            </div>
                            <div>
                                <input type="text" name="attr_specializations4" />
                            </div>
                            <div class="el_spacer"></div>
                        </div>
                        <!-- DEMON THE FALLEN THRALLS  -->
                        <div class="game-line wod-demon columns">
                            <div>
                                <div class="subheader">
                                    <span data-i18n="followers">Followers</span>
                                </div>
                                <div>
                                    <div class="columns">
                                        <div class="input-label">
                                            <span data-i18n="name">Name</span>:
                                        </div>
                                        <div class="input-label">
                                            <span data-i18n="faith">Faith</span>:
                                        </div>
                                    </div>
                                    <fieldset class="repeating_members">
                                        <div class="input-group">
                                                
                                                        <input type="text" name="attr_name" />

                                 
                                        </div>
                                    </fieldset>
                                </div>
                            </div>
                        </div>
                        <div class="game-line geist2-geist">
                            <div class="subheader" data-i18n="innate-key">Innate Key</div>
                            <div>
                                <input type="text" name="attr_innate_key" />
                            </div>
                            <div class="el_spacer"></div>
                        </div>
                        <div class="organization-inverse">
                            <div class="derived">
                                <span data-i18n="size">Size</span>:<input type="number" name="attr_size" value="@{base_size}+@{giant}-@{small_framed}" disabled="disabled" />
                            </div>
                            <div class="derived">
                                <span data-i18n="speed">Speed</span>:<input type="number" name="attr_speed" value="@{species_factor}+@{speed_base}+@{speed_penalty}+@{fleet_of_foot}" disabled="disabled" />
                            </div>
                            <div class="derived">
                                <span data-i18n="defense">Defense</span>:<input type="number" name="attr_defense" value="@{defense_base}+@{defense_penalty}" disabled="disabled"/>
                            </div>
                            <div class="derived">
                                <span data-i18n="armor">Armor</span>:<input type="number" name="attr_balistic_armor_display" value="@{balistic_armor}" disabled="disabled"/>/<input type="number" name="attr_general_armor_display" value="@{general_armor}" disabled="disabled" />
                            </div>
                            <div class="derived">
                                <span data-i18n="initiative">Initiative</span>:<input type="number" name="attr_initiative" value="@{initiative_base}+@{initiative_penalty}+@{fast_reflexes}" disabled="disabled" />
                            </div>
                        </div>
                        <!-- !geist2-geist -->
                        <div class="game-line mortal vampire werewolf mage promethean changeling hunter geist1 geist2 geist2-organization mummy demon beast homebrew deviant-the-renegades wod-demon">
                            <div class="2nd input-group">
                                <span class="preserve-whitespace"><span data-i18n="beats">Beats</span>: </span>
                                <div class="checkboxes">
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_box1" />
                                        <button type="action" name="act_beat_box1"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_box2" />
                                        <button type="action" name="act_beat_box2"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_box3" />
                                        <button type="action" name="act_beat_box3"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_box4" />
                                        <button type="action" name="act_beat_box4"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_box5" />
                                        <button type="action" name="act_beat_box5"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group">
                                <span data-i18n="experience">Experience</span>
                                <span>:</span>
                                <input type="text" name="attr_experience">
                            </div>
                        </div>
                        <div class="game-line mage2 promethean2 hunter2 geist2 demon vampire">
                            <div class="input-group">
                                <div class="flex">
                                    <span data-i18n="arcane" class="game-line mage2">Arcane</span>
                                    <span data-i18n="vitriol" class="game-line promethean2">Vitriol</span>
                                    <span data-i18n="practical" class="game-line hunter2">Practical</span>
                                    <span data-i18n="synergy" class="game-line geist2">Synergy</span>
                                    <span data-i18n="cover" class="game-line demon">Cover</span>
                                    <span data-i18n="blood" class="game-line vampire">Blood</span>
                                    <span class="preserve-whitespace"> </span>
                                    <span data-i18n="beats">Beats</span>
                                    <span>:</span>
                                </div>
                                <div class="checkboxes">
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_alt_box1" />
                                        <button type="action" name="act_beat_alt_box1"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_alt_box2" />
                                        <button type="action" name="act_beat_alt_box2"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_alt_box3" />
                                        <button type="action" name="act_beat_alt_box3"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_alt_box4" />
                                        <button type="action" name="act_beat_alt_box4"></button>
                                    </div>
                                    <div class="checkbox">
                                        <input type="hidden" name="attr_beat_alt_box5" />
                                        <button type="action" name="act_beat_alt_box5"></button>
                                    </div>
                                </div>
                            </div>
                            <div class="input-group">
                                <div class="flex">
                                    <span data-i18n="arcane" class="game-line mage2">Arcane</span>
                                    <span data-i18n="vitriol" class="game-line promethean2">Vitriol</span>
                                    <span data-i18n="practical" class="game-line hunter2">Practical</span>
                                    <span data-i18n="synergy" class="game-line geist2">Synergy</span>
                                    <span data-i18n="cover" class="game-line demon">Cover</span>
                                    <span data-i18n="blood" class="game-line vampire">Blood</span>
                                    <span class="preserve-whitespace"> </span>
                                    <span data-i18n="experience">Experience</span>
                                    <span>:</span>
                                </div>
                                <input type="text" name="attr_experience_alt">
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!-- MEMBERS AND REGALIA -->
        <div class="organization columns">
            <div>
                <div class="subheader">
                    <span data-i18n="members">Members</span>
                </div>
                <div>
                    <fieldset class="repeating_members">
                        <div class="input-group">
                            <input type="text" name="attr_member" />
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="horizontal-spacer"></div>
            <div>
                <div class="subheader">
                    <span data-i18n="regalia">Regalia</span>
                </div>
                <div>
                    <fieldset class="repeating_regalia">
                        <div class="input-group">
                            <input type="text" name="attr_regalia" />
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>



    </div>

    <!-- PAGE 2 -->
    <div class="page page2">

        <div class="leftcolumn" style="width: 447px;">

            <fieldset class="repeating_custom1">
                <div class="sheet-customroll">
                    <span data-i18n="roll">Roll</span>:
                    <input type="text" class="name" name="attr_customRollName1">
                    <span data-i18n="action">Action</span>:
                        <select name="attr_customRollAction1">
                            <option value="Reflexive" data-i18n="reflexive">Reflexive</option>
                            <option value="Instant" selected="selected" data-i18n="instant">Instant</option>
                            <option value="Extended" data-i18n="extended">Extended</option>
                            <option value="Contested" data-i18n="contested">Contested</option>
                            <option value="Resisted" data-i18n="resisted">Resisted</option>
                        </select>
                    <div class="rollcontainer">
                        <button type="roll" name="roll_customRoll1" value="&{template:wod-3part} {{name=@{character_name}}} {{roll_name=@{customRollName1}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{part1=@{part1name_1}}} {{part2=@{part2name_1}}} {{part3=@{part3name_1}}} {{part1pool=@{part1pool_1}}} {{part2pool=@{part2pool_1}}} {{part3pool=@{part3pool_1}}} {{result=[[{((?{@{modifiermacro}|0}+(@{part1pool_1}+0)+(@{part2pool_1}+0)+(@{part3pool_1}+0))@{rolltype}"></button>
                    </div>
                    <br>
                    <span data-i18n="source">Source</span>:
                    <input type="text" class="name" name="attr_source1">
                    p <input type="text" class="partpool" name="attr_pnum1" style="width: 40px;">
                    <br>
                    <input type="text" class="partname" name="attr_part1name_1" /><input type="text" class="partpool" name="attr_part1pool_1" /><span>+</span><input type="text" class="partname" name="attr_part2name_1" /><input type="text" class="partpool" name="attr_part2pool_1" /><span>+</span><input type="text" class="partname" name="attr_part3name_1" /><input type="text" class="partpool" name="attr_part3pool_1" />
                    <br>
                    <textarea rows="2" cols="40" name="attr_part1text_1"></textarea>
                </div>
            </fieldset>

        </div>
        <div class="rightcolumn" style="width: 447px;">

            <fieldset class="repeating_custom2">
                <div class="sheet-customroll">
                    <span data-i18n="roll">Roll</span>:
                    <input type="text" class="name" name="attr_customRollName2">
                    <span data-i18n="action">Action</span>:
                        <select name="attr_customRollAction2">
                            <option value="Reflexive" data-i18n="reflexive">Reflexive</option>
                            <option value="Instant" selected="selected" data-i18n="instant">Instant</option>
                            <option value="Extended" data-i18n="extended">Extended</option>
                            <option value="Contested" data-i18n="contested">Contested</option>
                            <option value="Resisted" data-i18n="resisted">Resisted</option>
                        </select>
                    <div class="rollcontainer">
                        <button type="roll" name="roll_customRoll2" value="&{template:wod-3part} {{name=@{character_name}}} {{roll_name=@{customRollName2}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{part1=@{part1name_2}}} {{part2=@{part2name_2}}} {{part3=@{part3name_2}}} {{part1pool=@{part1pool_2}}} {{part2pool=@{part2pool_2}}} {{part3pool=@{part3pool_2}}} {{result=[[{((?{@{modifiermacro}|0}+(@{part1pool_2}+0)+(@{part2pool_2}+0)+(@{part3pool_2}+0))@{rolltype}"></button>
                    </div>
                    <br>
                    <span data-i18n="source">Source</span>:
                    <input type="text" class="name" name="attr_source2">
                    p <input type="text" class="partpool" name="attr_pnum2">
                    <br>
                    <input type="text" class="partname" name="attr_part1name_2" /><input type="text" class="partpool" name="attr_part1pool_2" /><span>+</span><input type="text" class="partname" name="attr_part2name_2" /><input type="text" class="partpool" name="attr_part2pool_2" /><span>+</span><input type="text" class="partname" name="attr_part3name_2" /><input type="text" class="partpool" name="attr_part3pool_2" />
                    <br>
                    <textarea rows="2" cols="40" name="attr_part1text_2"></textarea>
                </div>
            </fieldset>

        </div>
    </div>

    <!-- PAGE 3 -->
    <div class="page page3" style="width: 100%;">

        <div class="leftcolumn">
            <div class="1st">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="flaws">Flaws</span><br>
                    <textarea rows="2" cols="40" name="attr_flaws"></textarea>
                </div>
                <br>
            </div>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="allies">Allies</span><br>
                <textarea rows="2" cols="40" name="attr_allies"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="contacts">Contacts</span><br>
                <textarea rows="2" cols="40" name="attr_contacts"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="fame">Fame</span><br>
                <textarea rows="2" cols="40" name="attr_fame"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="gear-carried">Gear(Carried)</span><br>
                <textarea rows="2" cols="40" name="attr_gear"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="vehicles">Vehicles</span><br>
                <textarea rows="2" cols="40" name="attr_vehicles"></textarea>
            </div>
            <br>
            <div class="game-line vampire">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="herd">Herd</span><br>
                    <textarea rows="2" cols="40" name="attr_herd"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="rites-miracles">Rites/Miracles</span><br>
                    <textarea rows="2" cols="40" name="attr_rites"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line werewolf">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="fetishes">Fetishes</span><br>
                    <textarea rows="2" cols="40" name="attr_fetishes"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line mage">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="active-spells">Active Spells</span><br>
                    <textarea rows="2" cols="40" name="attr_activespells"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="nimbus">Nimbus</span><br>
                    <textarea rows="2" cols="40" name="attr_nimbus"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="dedicated-magic-tools">Dedicated Magical Tools</span><br>
                    <textarea rows="2" cols="40" name="attr_dedicatedmagicaltools"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="familiar">Familiar</span><br>
                    <textarea rows="2" cols="40" name="attr_familiar"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line promethean">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="bestowment">Bestowment</span><br>
                    <textarea rows="2" cols="40" name="attr_bestowment"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="trait-affinities">Trait Affinities</span><br>
                    <textarea rows="2" cols="40" name="attr_traitaffinities"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="promethean-boon">Promethean Boon</span><br>
                    <textarea rows="2" cols="40" name="attr_prometheanboon"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="repute">Repute</span><br>
                    <textarea rows="2" cols="40" name="attr_repute"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line changeling">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="seeming-blessing">Seeming Blessing</span><br>
                    <textarea rows="2" cols="40" name="attr_seemingblessing"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="token">Token</span><br>
                    <textarea rows="2" cols="40" name="attr_token"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line changeling1">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="entitlement">Entitlement</span><br>
                    <textarea rows="2" cols="40" name="attr_entitlement"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="goblin-contracts">Goblin Contracts</span><br>
                    <textarea rows="2" cols="40" name="attr_goblincontract"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line changeling2">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="fae-mount">Fae Mount</span><br>
                    <textarea rows="2" cols="40" name="attr_fae-mount"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="frailties">Frailties</span><br>
                    <textarea rows="2" cols="40" name="attr_frailties"></textarea>
                </div>
                <br>                
            </div>
            <div class="game-line geist1">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="keystone-memento">Keystone Memento</span><br>
                    <textarea rows="2" cols="40" name="attr_ketystonemomento"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="mementos">Mementos</span><br>
                    <textarea rows="2" cols="40" name="attr_mementos"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line geist2">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="touchstones">Touchstones</span><br>
                    <textarea rows="2" cols="40" name="attr_touchstones"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="remembrance-traits">Remembrance Traits</span><br>
                    <textarea rows="2" cols="40" name="attr_remembrancetraits"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line mummy">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="affinities">Affinities</span><br>
                    <textarea rows="2" cols="40" name="attr_affinities"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="cult">Cult</span><br>
                    <textarea rows="2" cols="40" name="attr_culgitt"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="status">Status</span><br>
                    <textarea rows="2" cols="40" name="attr_status"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line demon">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="glitches">Glitches</span><br>
                    <textarea rows="2" cols="40" name="attr_glitches"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="pacts">Pacts</span><br>
                    <textarea rows="2" cols="40" name="attr_pacts"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="interlocks">Interlocks</span><br>
                    <textarea rows="2" cols="40" name="attr_interlocks"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line beast">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="satiety-preferences">Satiety Preferences</span><br>
                    <textarea rows="2" cols="40" name="attr_satietypreferences"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="lessons">Lessons</span><br>
                    <textarea rows="2" cols="40" name="attr_lessons"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="brood">Brood</span><br>
                    <textarea rows="2" cols="40" name="attr_brood"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line wod-demon">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="apocalyptic-form">Apocalyptic Form</span><br>
                    <textarea rows="2" cols="40" name="attr_apocalyptic-form"></textarea>
                </div>
            </div>
            <fieldset class="repeating_infoleft">
                <div class="sheet-customroll">
                    <input type="text" class="title" name="attr_titleleft"/><br>
                    <textarea rows="2" cols="40" name="attr_textleft"></textarea>
                </div>
                <br>
            </fieldset>
        </div>

        <div class="rightcolumn">
            <div class="1st">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="derangements">Derangements</span><br>
                    <textarea rows="2" cols="40" name="attr_derangments"></textarea>
                </div>
                <br>
            </div>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="mentor">Mentor</span><br>
                <textarea rows="2" cols="40" name="attr_mentor"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="resources">Resources</span><br>
                <textarea rows="2" cols="40" name="attr_resources"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="retainer">Retainer</span><br>
                <textarea rows="2" cols="40" name="attr_retainer"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="equipment-owned">Equipment(Owned)</span><br>
                <textarea rows="2" cols="40" name="attr_equipment"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader game-line mortal1 mortal2 wod-demon deviant-the-renegades" data-i18n="residence">Residence</span>
                <span class="subheader game-line mortal2-ghost" data-i18n="anchors">Anchors</span>
                <span class="subheader game-line vampire" data-i18n="haven">Haven</span>
                <span class="subheader game-line werewolf" data-i18n="totem">Totem</span>
                <span class="subheader game-line mage" data-i18n="sanctum">Sanctum</span>
                <span class="subheader game-line mummy" data-i18n="tomb">Tomb</span>
                <span class="subheader game-line promethean" data-i18n="lair">Lair</span>
                <span class="subheader game-line changeling" data-i18n="hollow">Hollow</span>
                <span class="subheader game-line geist1" data-i18n="haunt">Haunt</span>
                <span class="subheader game-line geist2" data-i18n="cenote">Cenote</span>
                <span class="subheader game-line demon" data-i18n="bolthole">Bolthole</span>
                <span class="subheader game-line beast" data-i18n="lair">Lair</span>
                <br>
                <textarea rows="2" cols="40" name="attr_residence"></textarea>
            </div>
            <br>
            <div class="game-line vampire">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="status">Status</span><br>
                    <textarea rows="2" cols="40" name="attr_status"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="viniculum">Vinculum</span><br>
                    <textarea rows="2" cols="40" name="attr_viniculum"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line werewolf">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="status">Status</span><br>
                    <textarea rows="2" cols="40" name="attr_status"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line mage">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="spells-cast-self">Spells Cast Upon Self</span><br>
                    <textarea rows="2" cols="40" name="attr_spellscastuponself"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="paradox-marks">Paradox Marks</span><br>
                    <textarea rows="2" cols="40" name="attr_paradoxmarks"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="enchanted-items">Enchanted Items</span><br>
                    <textarea rows="2" cols="40" name="attr_enchanteditems"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="thrall">Thrall</span><br>
                    <textarea rows="2" cols="40" name="attr_thrall"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line promethean">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="disfigurements">Disfigurements</span><br>
                    <textarea rows="2" cols="40" name="attr_disfigurements"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="language">Language</span><br>
                    <textarea rows="2" cols="40" name="attr_language"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="redeemed-boon">Redeemed Boon</span><br>
                    <textarea rows="2" cols="40" name="attr_redeemedboon"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="residual-memory">Residual Memory</span><br>
                    <textarea rows="2" cols="40" name="attr_residualmemory"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line changeling">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="seeming-curse">Seeming Curse</span><br>
                    <textarea rows="2" cols="40" name="attr_seemingcurse"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="kith-ability">Kith Ability</span><br>
                    <textarea rows="2" cols="40" name="attr_kithability"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="pledges">Pledges</span><br>
                    <textarea rows="2" cols="40" name="attr_pledges"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="mantle">Mantle</span><br>
                    <textarea rows="2" cols="40" name="attr_mantle"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line geist1">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="keys">Keys</span><br>
                    <textarea rows="2" cols="40" name="attr_keys"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="krewe">Krewe</span><br>
                    <textarea rows="2" cols="40" name="attr_krewe"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line geist2">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="keys">Keys</span><br>
                    <textarea rows="2" cols="40" name="attr_keys"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="mementos">Mementos</span><br>
                    <textarea rows="2" cols="40" name="attr_mementos"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line mummy">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="utterances">Utterances</span><br>
                    <textarea rows="2" cols="40" name="attr_utterances"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="vessels">Vessels</span><br>
                    <textarea rows="2" cols="40" name="attr_vessels"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="witnesses">Witnesses</span><br>
                    <textarea rows="2" cols="40" name="attr_witnesses"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line demon">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="demonic-form-abilities">Demonic Form Abilities</span><br>
                    <textarea rows="2" cols="40" name="attr_demonicform"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="gadgets">Gadgets</span><br>
                    <textarea rows="2" cols="40" name="attr_gadgets"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="covers">Covers</span><br>
                    <textarea rows="2" cols="40" name="attr_covers"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line beast">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="horror">Horror</span><br>
                    <textarea rows="2" cols="40" name="attr_horror"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="family-ties">Family Ties</span><br>
                    <textarea rows="2" cols="40" name="attr_familyties"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="lair-traits">Lair Traits</span><br>
                    <textarea rows="2" cols="40" name="attr_lairtraits"></textarea>
                </div>
                <br>
            </div>
            <div class="game-line wod-demon">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="pacts">Pacts</span><br>
                    <textarea rows="2" cols="40" name="attr_pacts"></textarea>
                </div>
            </div>
            <fieldset class="repeating_inforight">
                <div class="sheet-customroll">
                    <input type="text" class="title" name="attr_titleright"/><br>
                    <textarea rows="2" cols="40" name="attr_textright"></textarea>
                </div>
                <br>
            </fieldset>
        </div>

    </div>

    <!-- PAGE4, FOR DEVIANTSA WHO HAVE SCARS AND VARIATIONS -->
    <div class="page scars-variations">
        <div class="hint">
            <span data-i18n="hint">Hint</span>:
            <span data-i18n="scar-hint">Activation Method</span>
            <br>
            <br>
            <div class="hint">
                <span data-i18n="hint">Hint</span>:
                <span data-i18n="delete-scar-variation">In order to delete a Condition:</span>
                <ol>
                    <li data-i18n="delete-condition-step1">please use "Modify" button;</li>
                    <li data-i18n="delete-condition-step2">press on the red "trash" icon;</li>
                    <li data-i18n="delete-condition-step3">press on the "Done" button.</li>
                </ol>
            </div>
        </div>

        <div class="section-header" style="margin-bottom:30px;" data-i18n="scars">Scars</div>
        <!-- SCARS  -->
        <fieldset class="repeating_scar">
            <div>

                <div class="rollcontainer">
                    <button type="roll" name="roll_ScarRoll1"
                        value="&{template:wod-3part} {{name=@{character_name}}} {{roll_name=@{scar-title}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{part1=@{variationType}}} {{part2=Acclimation}} {{part1pool=@{scar_dicepool}}} {{part2pool=@{potency}}} {{result=[[{((?{@{modifiermacro}|0}+(@{scar_dicepool}+0)+(@{potency}+0))@{rolltype}"></button>
                </div>

                <!-- Title -->
                <h3>
                    <span data-i18n="name">Name</span><span>:</span>
                    <input type="text" name="attr_scar-title" style="width: 280px;" placeholder="....." />
                </h3>

                <!-- Magnitude -->
                <div class="attributes" style="padding: 0;">
                    <input type="hidden" class="flag" name="attr_magnitude_flag">
                    <div>
                        <h3><span data-i18n="magnitude">Magnitude</span><span>:</span></h3>
                    </div>
                    <div class="magnitude dots" style="grid-column: 3;">
                        <input type="hidden" name="attr_magnitude" value="0">
                        <button type="action" class="dot zero" name="act_magnitude-0">&times;</button>
                        <button type="action" class="dot" name="act_magnitude-1"></button>
                        <button type="action" class="dot ne-1" name="act_magnitude-2"></button>
                        <button type="action" class="dot ne-1 ne-2" name="act_magnitude-3"></button>
                        <button type="action" class="dot ne-1 ne-2 ne-3" name="act_magnitude-4"></button>
                        <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_magnitude-5"></button>
                    </div>
                </div>

                <!-- Activation Method -->
                <h4><span data-i18n="activation-method">Activation Method</span><span>:</span>
                    <select name="attr_variationAttribute">
                        <option value="Controlled" data-i18n="controlled">Controlled</option>
                        <option value="Involuntary" data-i18n="involuntary">Involuntary</option>
                        <option value="Persistent" data-i18n="persistent">Persistent</option>
                    </select>
                </h4>

                <!-- Overt -->
                <h4><span data-i18n="overt">Overt</span><span>:</span>
                    <select name="attr_variationOvert">
                        <option value="Subtle" data-i18n="subtle">Overt</option>
                        <option value="Overt" data-i18n="overt">Subtle</option>
                    </select>


                    <!-- Scar Type  -->
                    <span data-i18n="type">Type</span><span>:</span>
                    <select name="attr_variationType">
                        <option value="Mental Dicepool" data-i18n="mental" name="mental">Mental</option>
                        <option value="Physical Dicepool" selected="physical" name="physical">Physical</option>
                        <option value="Social Dicepool" data-i18n="social" name="social">Social</option>
                    </select>
                </h4>


                <!-- Scar Dicepool (The part that is commented is for future roller implementation, please do no delete)  -->
                <h4><span data-i18n="dice-pool">Dicepool</span><span>:</span>
                    <input type="number" min="0" style="margin-bottom: 15px;" name="attr_scar_dicepool" />
                </h4>
                <!-- [IN THE FUTURE, THE SCAR WILL HAVE A BUTTON TO BE ROLLED]
                        <h3><span value = "dicepool-preview">Acclimation + Composure</span></h3>
                    -->

                <!-- Keyword/Deviations -->
                <h4><span data-i18n="keyword-deviant">Keywords/Deviantions</span><span>:</span></h4>
                <input type="text" style="width: 100%; margin-bottom: 15px;" name="attr_deviations" />

                <!-- Entangled Variations -->
                <h4><span data-i18n="entangled-variations">Entangled Variations</span><span>:</span></h4>
                <input type="text" style="width: 100%; margin-bottom: 15px;" name="attr_scar_variation" />

                <!-- Notes -->
                <h4><span data-i18n="notes">Notes</span><span>:</span></h4>
                <textarea name="attr_scar-notes" placeholder=""></textarea>
            </div>
        </fieldset>

        <!-- VARIATIONS  -->
        <div class="section-header" style="margin-bottom:30px;" data-i18n="variations">Variations</div>

        <fieldset class="repeating_variation">
            <div>


                <div class="rollcontainer">
                    <button type="roll" name="roll_ScarRoll1"
                        value="&{template:wod-3part} {{name=@{character_name}}} {{roll_name=@{variation-title}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{part1=Scar Finesse}} {{part2=Acclimation}} {{part3=Magnitude}}  {{part1pool=@{scar_finesse}}} {{part2pool=@{potency}}} {{part3pool=@{magnitude}}}  {{result=[[{((?{@{modifiermacro}|0}+(@{composure}+0)+(@{scar_finesse}+0)+(@{potency}+0)+(@{magnitude}+0))@{rolltype}"></button>
                </div>


                <!-- Title -->
                <h3>
                    <span data-i18n="name">Name</span><span>:</span>
                    <input type="text" name="attr_variation-title" style="width: 280px;" placeholder="....." />
                </h3>

                <!-- Magnitude -->
                <div class="attributes" style="padding: 0;">
                    <input type="hidden" class="flag" name="attr_magnitude_flag">
                    <div>
                        <h3><span data-i18n="magnitude">Magnitude</span><span>:</span></h3>
                    </div>
                    <div class="magnitude dots" style="grid-column: 3;">
                        <input type="hidden" name="attr_magnitude" value="0">
                        <button type="action" class="dot zero" name="act_magnitude-0">&times;</button>
                        <button type="action" class="dot" name="act_magnitude-1"></button>
                        <button type="action" class="dot ne-1" name="act_magnitude-2"></button>
                        <button type="action" class="dot ne-1 ne-2" name="act_magnitude-3"></button>
                        <button type="action" class="dot ne-1 ne-2 ne-3" name="act_magnitude-4"></button>
                        <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_magnitude-5"></button>
                    </div>
                </div>


                <!-- Overt -->
                <h4><span data-i18n="overt">Overt</span><span>:</span>
                    <select name="attr_variationOvert">
                        <option value="Subtle" data-i18n="subtle">Overt</option>
                        <option value="Overt" data-i18n="overt">Subtle</option>
                    </select>

                    <!-- Scar Power -->
                    <h4>
                        <span data-i18n="dice-pool">Dicepool</span><span>:</span>
                        <input type="number" min="0" name="attr_scar_finesse" />
                    </h4>

                    <!-- [IN THE FUTURE, THE VARIATION WILL HAVE A BUTTON TO BE ROLLED]
                        <h3><span value = "dicepool-preview">Acclimation + Composure</span></h3>
                    -->

                    <!-- Keyword/Deviations -->
                    <h4><span data-i18n="keyword-deviant">Keywords/Deviantions</span><span>:</span></h4>
                    <input type="text" style="width: 100%; margin-bottom: 15px;" name="attr_deviations" />

                    <!-- Notes -->
                    <h4><span data-i18n="notes">Notes</span><span>:</span></h4>
                    <textarea name="attr_scar-notes" placeholder=""></textarea>
            </div>
        </fieldset>

    </div>

    <!-- PAGE 4, CONDITIONS -->
    <div class="page conditions">
        <div class="hint">
            <span data-i18n="hint">Hint</span>:
            <span data-i18n="add-conditions">
                Try adding conditions with the "+Add" button.
            </span>
            <br/>
            <span data-i18n="add-conditions-details">
                You will be able to specify a title, a description,
                a resolution condition and a beat condition.
            </span>
        </div>
        <div class="hint">
            <span data-i18n="hint">Hint</span>:
            <span data-i18n="delete-condition">In order to delete a Condition:</span>
            <ol>
                <li data-i18n="delete-condition-step1">please use "Modify" button;</li>
                <li data-i18n="delete-condition-step2">press on the red "trash" icon;</li>
                <li data-i18n="delete-condition-step3">press on the "Done" button.</li>
            </ol>
        </div>
        <fieldset class="repeating_conditions">
            <div class="condition">
                <!-- Title -->
                <h3><input type="text" class="title" name="attr_condition-title" placeholder="....."/></h3>

                <!-- Description -->
                <textarea class="description" name="attr_condition-description" placeholder=""></textarea>

                <!-- Resolution -->
                <h4><span data-i18n="resolution">Resolution</span><span>:</span></h4>
                <textarea name="attr_condition-resolution" placeholder=""></textarea>

                <!-- Beat -->
                <h4><span data-i18n="beat">Beat</span><span>:</span></h4>
                <textarea name="attr_condition-beat" placeholder=""></textarea>
            </div>
        </fieldset>
    </div>

    <!-- HIDDEN FIELDS AND FORMULAS -->
    <input type="hidden" name="attr_version" value="0" />
    <input type="hidden" name="attr_0" value="0" />

    <input type="hidden" name="attr_balistic_armor" value="((@{armor_ballistic0}+0)*@{armor_flag0})+((@{armor_ballistic1}+0)*@{armor_flag1})+((@{armor_ballistic2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_general_armor" value="((@{armor_general0}+0)*@{armor_flag0})+((@{armor_general1}+0)*@{armor_flag1})+((@{armor_general2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_defense_penalty" value="((@{armor_defense0}+0)*@{armor_flag0})+((@{armor_defense1}+0)*@{armor_flag1})+((@{armor_defense2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_speed_penalty" value="((@{armor_speed0}+0)*@{armor_flag0})+((@{armor_speed1}+0)*@{armor_flag1})+((@{armor_speed2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_initiative_penalty" value="0" />
    <input type="hidden" name="attr_weapon_penalty" value="0" />
    <input type="hidden" name="attr_armor_penalty" value="0" />
    <input type="hidden" name="attr_wound_penalty" value="0" />
    <input type="hidden" name="attr_defense_base" />
    <input type="hidden" name="attr_dice_pool_attributes" value="" />
    <input type="hidden" name="attr_dice_pool_html" value="" />
    <input type="hidden" name="attr_dice_pool" value="0" />
    <input type="hidden" name="attr_rolltype" value=")d10!cs>10}>8]]}}" />
    <!-- Translation handles for sheetworkers -->
    <span style="display: none" data-i18n="dice-pool">Dice Pool</span>
    <span style="display: none" data-i18n="modifiers">Modifiers</span>
    <span style="display: none" data-i18n="unarmed">Unarmed</span>

    </div>

    <div class="footer" style="font-size: 10px; color: rgb(165, 165, 165); width: 1070px;">
        <span data-i18n="copyright">&copy;2015 CCP hf. Chronicles of Darkness, Vampire: the Requiem, Werewolf: the Forsaken, Mage: the Awakening, Promethean: the Created, Changeling: the Lost, Geist: the Sin-Eaters, Mummy: the Cursed are trademarks of CCP hf, in the U.S.A. and other countries. All CCP hf characters and character names, and the distinctive likeness thereof, are trademarks of CCP hf.</span>
    </div>


    <div class="rolltemplates">
    <!-- ROLL TEMPLATES -->
    <rolltemplate class="sheet-rolltemplate-wod">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span> {{dicePool}}</th></tr>
            <tr>
                <td>
                    {{dicePoolHtml}}
                    {{#^rollTotal() woundpenalty 0}}
                    <div>
                        <span data-i18n="wound">Wound</span> <span data-i18n="penalty">Penalty</span>({{woundpenalty}})
                    </div>
                    {{/^rollTotal() woundpenalty 0}}
                    {{#^rollTotal() mod 0}}
                    <div>
                        <span data-i18n="modifiers">Modifiers</span>({{mod}})
                    </div>
                    {{/^rollTotal() mod 0}}
                </td>
            </tr>
            <tr>
                <td class="result">{{result}} <span data-i18n="successes">Successes</span></td>
            </tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>

    <rolltemplate class="sheet-rolltemplate-wod-simple">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span></th></tr>
            <tr><td>
                {{option}} <span data-i18n="dice-for">dice for</span><br>
            </td></tr>
            <tr>
                <td class="result">{{result}} <span data-i18n="successes">Successes</span></td>
            </tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>

    <rolltemplate class="sheet-rolltemplate-wod-3part">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span>{{#roll_name}} {{roll_name}}{{/roll_name}}</th></tr>
            <tr><td>
                {{#part1}}
                    {{part1}}({{part1pool}})<br>
                {{/part1}}
                {{#part2}}
                    {{part2}}({{part2pool}})<br>
                {{/part2}}
                {{#part3}}
                    {{part3}}({{part3pool}})<br>
                {{/part3}}
                {{#^rollTotal() woundpenalty 0}}
                    <span data-i18n="wound">Wound</span> <span data-i18n="penalty">Penalty</span>({{woundpenalty}})
                {{/^rollTotal() woundpenalty 0}}
                {{#^rollTotal() mod 0}}
                    <span data-i18n="modifiers">Modifiers</span>({{mod}})
                {{/^rollTotal() mod 0}}
            </td></tr>
            <tr>
                <td class="result">{{result}} <span data-i18n="successes">Successes</span></td>
            </tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>

    <rolltemplate class="sheet-rolltemplate-wod-initiative">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span> <span data-i18n="initiative">Initiative</span></th></tr>
            <tr><td>
                {{#dexterity}}
                    <span data-i18n="dexterity">Dexterity</span>({{dexterity}})<br>
                {{/dexterity}}
                {{#composure}}
                    <span data-i18n="composure">Composure</span>({{composure}})<br>
                {{/composure}}
                {{#finesse}}
                <span data-i18n="finesse">Finesse</span>({{finesse}})<br>
                {{/finesse}}
                {{#resistance}}
                    <span data-i18n="resistance">Resistance</span>({{resistance}})<br>
                {{/resistance}}
                {{#^rollTotal() fastReflexes 0}}
                    <span data-i18n="fast-reflexes">Fast Reflexes</span>({{fastReflexes}})<br>
                {{/^rollTotal() fastReflexes 0}}
                {{#^rollTotal() initiativePenalty 0}}
                    <span data-i18n="initiative">Initiative</span> <span data-i18n="penalty">Penalty</span>({{initiativePenalty}})<br>
                {{/^rollTotal() initiativePenalty 0}}
            </td></tr>
            <tr>
                <td class="result"><span data-i18n="initiative">Initiative</span> {{result}}</td>
            </tr>
            <tr>
                <td class="specialrollflag"></td>
            </tr>
        </table>
    </rolltemplate>

    <rolltemplate class="sheet-rolltemplate-wod-attack">
        <table>
            <tr><th>{{name}} <span data-i18n="makes-a">makes a</span> {{attack_name}} <span data-i18n="attack">attack</span></th></tr>
            <tr><td>
                {{#str}}
                    <span data-i18n="strength">Strength</span>({{strength}})<br>
                {{/str}}
                {{#dex}}
                    <span data-i18n="dexterity">Dexterity</span>({{dexterity}})<br>
                {{/dex}}
                {{#bra}}
                    <span data-i18n="brawl">Brawl</span>({{brawl}})<br>
                {{/bra}}
                {{#wea}}
                    <span data-i18n="weaponry">Weaponry</span>({{weaponry}})<br>
                {{/wea}}
                {{#fir}}
                    <span data-i18n="firearms">Firearms</span>({{firearms}})<br>
                {{/fir}}
                {{#ath}}
                    <span data-i18n="athletics">Athletics</span>({{athletics}})<br>
                {{/ath}}
                {{#1st}}
                    {{attack_name}}({{weapon_damage}})<br>
                {{/1st}}
                {{#^rollTotal() apen 0}}
                    <span data-i18n="armor">Armor</span> <span data-i18n="penalty">Penalty</span>({{apen}})<br>
                {{/^rollTotal() apen 0}}
                {{#^rollTotal() wpen 0}}
                    <span data-i18n="weapon">Weapon</span> <span data-i18n="penalty">Penalty</span>({{wpen}})<br>
                {{/^rollTotal() wpen 0}}
                {{#^rollTotal() woundpenalty 0}}
                    <span data-i18n="wound">Wound</span> <span data-i18n="penalty">Penalty</span>({{woundpenalty}})
                {{/^rollTotal() woundpenalty 0}}
                {{#^rollTotal() mod 0}}
                    <span data-i18n="modifiers">Modifiers</span>({{mod}})<br>
                {{/^rollTotal() mod 0}}
                {{#rollTotal() result 0}}
                    <span data-i18n="and-misses-with">and misses with</span>...<br>
                    <tr>
                        <td class="result hit">{{result}} <span data-i18n="successes">Successes</span></td>
                    </tr>
                {{/rollTotal() result 0}}
                {{#rollGreater() result 0}}
                    <span data-i18n="and-hits-for">and hits for</span><br>
                    <tr>
                        <td class="result miss">{{result}}{{#2nd}} + {{weapon_damage}}{{/2nd}} <span data-i18n="damage">Damage</span></td>
                    </tr>
                {{/rollGreater() result 0}}
            </td></tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>
    </div>

    <script type="text/worker">
        var attributes = ["intelligence","wits","resolve","strength","dexterity","stamina","presence","manipulation","composure","power","finesse","resistance"];
        var mentalSkills = ["academics","computer","crafts","enigmas","investigation","medicine","occult","politics","science"];
        var physicalSkills = ["archery","athletics","brawl","drive","firearms","larceny","ride","stealth","survival","weaponry"];
        var socialSkills = ["animalken","empathy","expression","intimidation","persuasion","socialize","streetwise","subterfuge"];
        var skills = [ ...mentalSkills, ...physicalSkills, ...socialSkills ];
        var normalStats = [ ...attributes, ...skills ];
        var allStats = [ ...attributes, ...skills, "potency" ];
        var potencyTranslationKeys = {
            mortal1:"", mortal2:"", "mortal2-ghost":"rank", "mortal2-organization":"standing",
            vampire1:"blood-potency", vampire2:"blood-potency",
            werewolf1:"primal-urge", werewolf2:"primal-urge",
            mage1:"gnosis", mage2:"gnosis",
            promethean1:"azoth", promethean2:"azoth",
            changeling1:"wyrd", changeling2:"wyrd",
            demon:"primum", beast:"lair", hunter:"",
            "wod-demon2":"faith",
            "deviant-the-renegades":"acclimation",
            geist1:"psyche", geist2:"synergy", "geist2-geist":"rank", "geist2-organization":"esotery",
            mummy1:"sekhem"
        };

        allStats.forEach((attr) => {
            on(`change:${attr}`, (eventInfo) => {
                const source = eventInfo.sourceAttribute;

                updateDicePool();

                if (["resolve", "composure", "resistance", "finesse"].includes(source)) {
                    updateWillpower();
                };

                if (source === "wits" || source === "composure" || source === "potency") {
                    updateMoralHealth();
                };

                var speedStats = ["dexterity","strength","power","finesse"];
                if (speedStats.includes(source)) {
                    updateSpeed();
                }

                var defenseStats = ["wits", "dexterity", "athletics", "brawl", "weaponry", "potency", "power", "finesse"];
                if (defenseStats.includes(source)) {
                    updateDefense();
                };

                var initiativeStats = ["dexterity", "composure", "finesse", "resistance", "finesse", "resistance"]
                if (initiativeStats.includes(source)) {
                    updateInitiative();
                }

                if (["stamina", "resilience", "resistance"].includes(source)) {
                    updateHealth();
                };
            
            });

            // Toggle roll selections
            on(`clicked:${attr}`, () => {
                updateDicePoolAttributes(attr);
            });
        });

        on("clicked:repeating_abilities:ability", (eventInfo) => {
            const id = eventInfo.sourceAttribute.match(/repeating_abilities_(.*)_ability/)[1];
            updateDicePoolAttributes(eventInfo.sourceAttribute);
        });

        on("change:attack", function() {
            updateAttacks();
        });

        ["_initiative0","_initiative1","_initiative2","_initiative3","_initiative4","_strength0","_strength1","_strength2","_strength3","_strength4"].forEach((attr) => {
            on(`change:attack${attr}`, (eventInfo) => {
                updateAttacks();
            });
        });

        ["","_flag0","_flag1","_flag2","_strength0","_strength1","_strength2"].forEach((attr) => {
            on(`change:armor${attr}`, (eventInfo) => {
                updateAttacks();
            });
        });

        on("change:health", function() {
            updateAttacks();
        });

        [...Array(16).keys()].forEach((attr) => {//healthbox nr. 1 through 16
            on(`change:healthbox_${attr+1}`, (eventInfo) => {
                const source = eventInfo.sourceAttribute;
                console.log(source);
                updateAttacks();
            });
        });

        on("change:base_size change:giant change:small_framed change:bonus_health", function() {
            updateHealth();
        });

        const listDotTraits = ["discipline","arcana"];
        const listDotAttrs = listDotTraits
            .reduce((attrs, trait) => [
                ...attrs,
                ...new Array(16)
                    .fill(1)
                    .map((_, index) => `${trait}${index + 1}`)
            ], []);
        const dotAttrs = [
            ...attributes,
            ...skills,
            ...listDotAttrs,
            "repeating_merits:merit",
            "repeating_abilities:ability",
            "repeating_scar:magnitude",
            "repeating_variation:magnitude",
            "morality",
            "potency",
            "goblin-debt",
            "temporary-torment"
        ];

        // Set hidden attr on dot button click
        dotAttrs.forEach(attr => {
            new Array(16).fill(1).forEach((_, dot) => {
                on(`clicked:${attr}-${dot}`, () => {

                    setAttrs({
                        [attr.replace(":","_")]: dot
                    });
                });
            });
        });

        // trait name and depth (number of distinct healthbox states)
        const healthTraits = { "healthbox": 4, "moralhealthbox": 4 };
        // Create array of all health attribute names, with values 1 through 24 for each health trait.
        const healthAttrs = Object.keys(healthTraits)
            .reduce((attrs, trait) => ({
                ...attrs,
                ...new Array(24)
                    .fill(1)
                    .map((_, index) => `${trait}_${index + 1}`)
                    .reduce((traitAttrs, traitAttr) => ({ ...traitAttrs, [traitAttr]: healthTraits[trait] }), {})
            }), {});

        // Register button click event for each health attribute
        Object.entries(healthAttrs).forEach(([attr, depth]) => {
            console.log(attr, depth);
            on(`clicked:${attr}`, () => {
                // Increment / cycle corresponding attribute value
                getAttrs([attr], (v) => {
                    const healthValue = parseInt(v[attr]) || 0;
                    setAttrs({
                        [attr]: (healthValue + 1) % depth
                    });
                });
            });
        });

        const checkboxSeriesAttributes = ["willpower", "vitae", "beat", "beat_alt", "faith-temp", "repeating_scar:overt"];
        const checkboxAttributes = [
            ...checkboxSeriesAttributes
                .map((checkboxSeriesAttribute) => new Array(30)
                    .fill(1)
                    .map((_, index) => `${checkboxSeriesAttribute}_box${index + 1}`)
                )
                .reduce((allEvents, thisEvents) => [...allEvents, ...thisEvents], []),
            "archery_era",
            "ride_era",
            "enigmas_era",
            "giant",
            "small_framed",
            "vitae_counter",
            "armor_flag0",
            "armor_flag1",
            "armor_flag2"
        ];
        checkboxAttributes.forEach((checkboxAttribute) => {
            on(`clicked:${checkboxAttribute}`, () => {
                getAttrs([checkboxAttribute], (values) => {
                    const checkboxValue = ["1","on"].includes(values[checkboxAttribute]);
                    setAttrs({
                        [checkboxAttribute]: checkboxValue ? "0" : "1"
                    })
                });
            });
        });

        const radioSeriesAttributes = ["attack"];
        radioSeriesAttributes.forEach((radioSeriesAttribute) => {
            const radioAttributes = new Array(5)
                .fill(1)
                .map((_, index) => `${radioSeriesAttribute}_${index}`);

            radioAttributes.forEach((radioAttribute) => {
                on(`clicked:${radioAttribute}`, () => {
                    getAttrs([`${radioAttribute}_value`], (values) => {
                        const clearFlags = radioAttributes
                            .map((clearRadioAttribute) => `${clearRadioAttribute}_flag`)
                            .reduce((acc, flag) => ({ ...acc, [flag]: "0" }), {});
                        setAttrs({
                            [radioSeriesAttribute]: values[`${radioAttribute}_value`],
                            ...clearFlags,
                            [`${radioAttribute}_flag`]: "1"
                        });
                    });
                });
            });
        });

        const pages = ["settings", "1", "2", "3", "scars-variations", "conditions"];
        pages.forEach((page) => {
            on(`clicked:page_${page}`, () => {
                setAttrs({
                    "pagenumber": page
                });
            });
        });

        const sheettypes = [
            "mortal1","vampire1","werewolf1","mage1","promethean1","changeling1","hunter1","geist1","mummy1","homebrew1",
            "mortal2","mortal2-ghost","vampire2","werewolf2","mage2","promethean2","changeling2","hunter2","geist2","geist2-geist","mummy2","demon","beast","homebrew2","wod-demon2","deviant-the-renegades",
            "mortal2-organization","geist2-organization"
        ];
        sheettypes.forEach(sheettype => {
            on(`clicked:sheet_type_${sheettype}`, function () {
                const gameLine = getGameLine(sheettype);
                const edition = getEdition(sheettype);
                const entity = getEntity(sheettype);

                setAttrs({
                    "sheettype": sheettype,
                    "game_line": gameLine,
                    "edition": edition,
                    "entity": entity
                });
            });
        });

        const rollstyles = ["sheet", "attack", "simple"];
        rollstyles.forEach((rollstyle) => {
            on(`clicked:rollstyle_${rollstyle}`, () => {
                setAttrs({
                    "rollstyle": rollstyle
                });
            });
        });

        const rolltypes = ["chance", "normal", "9-again", "8-again", "dont-reroll", "rote", "chance-rote"];
        rolltypes.forEach((rolltype) => {
            on(`clicked:rolltype_select_${rolltype}`, () => {
                setAttrs({
                    "rolltype_select": rolltype
                });
            });
        });

        on("sheet:opened change:sheettype", function() {
            updateHealth();
            updateSpeed();
            updateDefaultDefense();
            updateInitiative();
            updateRollType();
            const resetRollFlagAttrs = resetRollFlags();

            setAttrs({
                ...resetRollFlagAttrs
            }, { silent: true });
        });

        on("change:bonus_willpower", function() {
            updateWillpower();
        });

        on("change:bonus_moralhealth", function() {
            updateMoralHealth();
        });

        on("change:defense_select", function() {
            updateDefense();
        });

        on("change:iron_stamina", function() {
            getAttrs(["iron_stamina"], function(v) {
                const ironStamina = parseInt(v.iron_stamina, 10) || 0;
                const woundPenalties = getWoundPenalties(ironStamina);

                setAttrs(woundPenalties);
            });
        });

        on("change:rolltype_select", function() {
            updateRollType();
        });

        // Version update for new or modified attributes
        on("sheet:opened", function() {
            const version1Attrs = ["sheettype"];
            const version2Attrs = ["iron_stamina"];
            const version3Attrs = ["small_framed", "attack", "attack_0_value", "attack_1_value", "attack_2_value", "attack_3_value", "attack_4_value"];
            const version4Attrs = ["age", "player", "chronicle"];
            const version5Attrs = [
                "animalism", "auspex", "celerity", "dominate", "majesty", "nightmare", "obfuscate", "protean", "resilience", "vigor", "crúac", "thebansorcery",
                "death", "fate", "forces", "life", "matter", "mind", "prime", "spirit", "space", "time",
                ...["merit","othertrait","discipline","arcana"]
                    .map((listName) => new Array(16)
                        .fill(1)
                        .map((_, index) => `${listName}${index + 1}`)
                        .map((item) => [item, `${item}_name`])
                    )
                    .flat(2)
            ];
            const versionAttrs = ["version", ...version1Attrs, ...version2Attrs, ...version3Attrs, ...version4Attrs, ...version5Attrs]
                .filter((value, index, arr) => arr.indexOf(value) === index);

            getAttrs(versionAttrs, function(v) {
                const version = parseInt(v.version) || 0;
                var attrs = {};

                // get attribute updates for each version until the sheet has completed all steps
                // NOTE: to maintain backwards compatibility with sheets predating the version attribute, all steps will be performed for new sheets
                if (version < 1) {
                    if (v.sheettype !== "mortal1") {
                        attrs["game_line"] = getGameLine(v.sheettype);
                        attrs["edition"] = getEdition(v.sheettype);
                    }
                    attrs["version"] = 1;
                }

                if (version < 2) {
                    const woundPenalties = getWoundPenalties(v["iron_stamina"]);
                    attrs = {
                        ...attrs,
                        ...woundPenalties,
                        "version": 2
                    };
                }

                if (version < 3) {
                    let attackIndex = 0;
                    switch(v["attack"]) {
                        case v["attack_0_value"]:
                            attackIndex = 0;
                            break;
                        case v["attack_1_value"]:
                            attackIndex = 1;
                            break;
                        case v["attack_2_value"]:
                            attackIndex = 2;
                            break;
                        case v["attack_3_value"]:
                            attackIndex = 3;
                            break;
                        case v["attack_4_value"]:
                            attackIndex = 4;
                            break;
                    }
                    attrs = {
                        ...attrs,
                        "small_framed": Number(v["small_framed"]) === -1 ? "1" : "0",
                        "attack": v[`attack_${attackIndex}_value`],
                        "attack_0_flag": attackIndex === 0 ? "1" : "0",
                        "attack_1_flag": attackIndex === 1 ? "1" : "0",
                        "attack_2_flag": attackIndex === 2 ? "1" : "0",
                        "attack_3_flag": attackIndex === 3 ? "1" : "0",
                        "attack_4_flag": attackIndex === 4 ? "1" : "0",
                        "version": 3
                    };
                }

                if (version < 4) {
                    attrs = {
                        ...attrs,
                        "age": v["chronicle"],
                        "chronicle": v["player"],
                        "player": v["age"],
                        "version": 4
                    };
                }

                if (version < 5) {
                    attrs = {
                        ...attrs,
                        ...[
                            "animalism", "auspex", "celerity", "dominate", "majesty", "nightmare", "obfuscate", "protean", "resilience", "vigor", "crúac", "thebansorcery",
                            "death", "fate", "forces", "life", "matter", "mind", "prime", "spirit", "space", "time"
                        ]
                            .map((abilityName) => ({
                                id: generateRowID(),
                                name: getTranslationByKey(abilityName) || abilityName,
                                value: Number(v[abilityName]) || 0
                            }))
                            .filter(({ value }) => Boolean(value))
                            .reduce((acc, { id, name, value }) => ({
                                ...acc,
                                [`repeating_abilities_${id}_ability_name`]: name,
                                [`repeating_abilities_${id}_ability`]: value
                            }), {}),
                        ...[
                            { oldName: "merit", newName: "merit", sectionName: "merits" },
                            { oldName: "othertrait", newName: "ability", sectionName: "abilities" },
                            { oldName: "discipline", newName: "ability", sectionName: "abilities" },
                            { oldName: "arcana", newName: "ability", sectionName: "abilities" }
                        ]
                            .map(({ oldName, newName, sectionName }) => new Array(16)
                                .fill(1)
                                .map((_, index) => `${oldName}${index + 1}`)
                                .filter((item) => v[`${item}_name`])
                                .map((item) => ({
                                    sectionName,
                                    entryName: newName,
                                    id: generateRowID(),
                                    name: v[`${item}_name`],
                                    value: Number(v[item]) || 0
                                }))
                            )
                            .flat()
                            .reduce((acc, { sectionName, entryName, id, name, value }) => ({
                                ...acc,
                                [`repeating_${sectionName}_${id}_${entryName}_name`]: name,
                                [`repeating_${sectionName}_${id}_${entryName}`]: value
                            }), {}),
                        "version": 5
                    };
                }

                if (Object.keys(attrs).length) {
                    setAttrs(attrs);
                }
            });
        });

        // ---------------------------------- Translation functions ------------------------------------------
        on("sheet:opened", function(){
            setAttrs({
                dicepoolmacro: getTranslationByKey("dice-pool"),
                modifiermacro: getTranslationByKey("modifiers"),
                unarmedmacro: getTranslationByKey("unarmed")
            });
        });

        // --------------------------------------------------------------------------------------------------


        var tryParse = function(s) {
            try {
                return JSON.parse(s);
            }
            catch(e) {
                return null;
            }
        }

        var getAttributeType = function(attribute) {
            if (attributes.includes(attribute)) {
                return "attribute";
            }
            if (skills.includes(attribute)) {
                return "skill";
            }
            if (/repeating_abilities_.*_ability/.test(attribute)) {
                return "ability";
            }
            if (attribute === "potency") {
                return "potency";
            }
            return "power";
        }

        var getUnskilledPenalty = function(attribute) {
            if (mentalSkills.includes(attribute)) {
                return -3;
            }
            if (physicalSkills.includes(attribute)) {
                return -1;
            }
            if (socialSkills.includes(attribute)) {
                return -1;
            }
            return 0;
        }

        var getGameLine = function(sheettype) {
            switch (sheettype) {
                case "mortal1":
                case "mortal2":
                case "mortal2-organization":
                case "mortal2-ghost":
                    return "mortal";
                case "vampire1":
                case "vampire2":
                    return "vampire";
                case "werewolf1":
                case "werewolf2":
                    return "werewolf";
                case "mage1":
                case "mage2":
                    return "mage";
                case "promethean1":
                case "promethean2":
                    return "promethean";
                case "changeling1":
                case "changeling2":
                    return "changeling";
                case "geist1":
                case "geist2":
                case "geist2-geist":
                case "geist2-organization":
                    return "geist";
                case "hunter":
                case "hunter1":
                case "hunter2":
                    return "hunter";
                case "mummy1":
                case "mummy2":
                    return "mummy";
                case "demon":
                    return "demon";
                case "beast":
                    return "beast";
                case "homebrew1":
                case "homebrew2":
                    return "homebrew";
                case "wod-demon2":
                    return "wod-demon";
                case "deviant-the-renegades":
                    return "deviant-the-renegades";
            }
        }

        var getEdition = function(sheettype) {
            switch (sheettype) {
                case "mortal1":
                case "vampire1":
                case "werewolf1":
                case "mage1":
                case "promethean1":
                case "changeling1":
                case "geist1":
                case "hunter1":
                case "mummy1":
                case "homebrew1":
                    return 1;
                case "mortal2":
                case "vampire2":
                case "werewolf2":
                case "mage2":
                case "promethean2":
                case "changeling2":
                case "geist2":
                case "geist2-geist":
                case "hunter2":
                case "mummy2":
                case "demon":
                case "beast":
                case "homebrew2":
                case "mortal2-organization":
                case "geist2-organization":
                case "mortal2-ghost":
                case "wod-demon2":
                case "deviant-the-renegades":
                    return 2;
            }
        }

        var getEntity = function(sheettype) {
            switch (sheettype) {
                case "mortal1":
                case "vampire1":
                case "werewolf1":
                case "mage1":
                case "promethean1":
                case "changeling1":
                case "hunter1":
                case "geist1":
                case "mummy1":
                case "homebrew1":
                case "mortal2":
                case "vampire2":
                case "werewolf2":
                case "mage2":
                case "promethean2":
                case "changeling2":
                case "hunter2":
                case "geist2":
                case "mummy2":
                case "demon":
                case "beast":
                case "homebrew2":
                case "wod-demon2":
                case "deviant-the-renegades":
                default:
                    return "corporeal";
                case "mortal2-ghost":
                case "geist2-geist":
                    return "ephemeral";
                case "mortal2-organization":
                case "geist2-organization":
                    return "organization";
            }
        }

        var updateDicePoolAttributes = function(attribute) {
            attribute = attribute.toLowerCase();
            getSectionIDs("abilities", (abilityIds) => {
                const abilityAttributes = abilityIds
                    .map((abilityId) => `repeating_abilities_${abilityId}_ability`);
                const abilityValueAttributes = [
                    ...abilityAttributes,
                    ...abilityAttributes
                        .map((abilityAttribute) => `${abilityAttribute}_name`)
                ];
                getAttrs([...allStats, ...abilityValueAttributes, "dice_pool_attributes", "sheettype", "homebrew_rank"], (v) => {
                    // Update roll stats collection
                    let poolAttributes = v["dice_pool_attributes"]
                        .split(",")
                        .filter((poolAttribute) => poolAttribute);
    
                    if (poolAttributes.includes(attribute)) {
                        // Remove attribute from roll
                        poolAttributes = poolAttributes.filter((poolAttribute) => poolAttribute !== attribute);
                    }
                    else {
                        // Add attribute to roll
                        poolAttributes = poolAttributes.concat(attribute);
    
                        // Cap stats by type
                        const poolAttributeTypes = poolAttributes
                            .map((poolAttribute) => ({ poolAttribute, type: getAttributeType(poolAttribute) }));
                        poolAttributes = poolAttributeTypes.filter((x) => x.type === "attribute").reverse().slice(0, 2).reverse()
                            .concat(poolAttributeTypes.filter((x) => x.type === "skill").reverse().slice(0, 1).reverse())
                            .concat(poolAttributeTypes.filter((x) => x.type === "ability").reverse().slice(0, 1).reverse())
                            .concat(poolAttributeTypes.filter((x) => x.type === "power").reverse().slice(0, 1).reverse())
                            .concat(poolAttributeTypes.filter((x) => x.type === "potency").reverse().slice(0, 1).reverse())
                            .map((x) => x.poolAttribute);
                    }
    
                    // Create HTML for roll template
                    const dicePoolHtml = getSheetDicePoolHtml(poolAttributes, v);
    
                    // Create dice pool for roll
                    const dicePool = getSheetDicePool(poolAttributes, v);
    
                    // Create display for dice roller
                    const rollDisplay = poolAttributes
                        .map((poolAttribute) => v[`${poolAttribute}_name`] || getAttributeTranslation(poolAttribute, v["sheettype"], v["homebrew_rank"]))
                        .join(" +\n");
    
                    // Determine flag values
                    const flags = [...allStats, ...abilityAttributes]
                        .map((flagAttribute) => ({
                            "flag": `${flagAttribute}_flag`,
                            "value": poolAttributes.includes(flagAttribute) ? 1 : 0
                        }))
                        .reduce((all, next) => ({ ...all, [next.flag]: next.value }), {});
    
                    setAttrs({
                        ["dice_pool_attributes"]: poolAttributes.join(","),
                        ["dice_pool_html"]: dicePoolHtml,
                        ["dice_pool"]: dicePool,
                        ["rolldisplay"]: rollDisplay,
                        ...flags,
                    });
                });
            });
        }

        var updateDicePool = function() {
            getAttrs([...allStats, "dice_pool_attributes", "sheettype", "homebrew_rank"], (values) => {
                const poolAttributes = values["dice_pool_attributes"]
                    .split(",")
                    .filter(poolAttribute => poolAttribute);

                const dicePoolHtml = getSheetDicePoolHtml(poolAttributes, values);
                const dicePool = getSheetDicePool(poolAttributes, values);

                setAttrs({
                    ["dice_pool_html"]: dicePoolHtml,
                    ["dice_pool"]: dicePool
                });
            });
        }

        var getSheetDicePoolHtml = function(poolAttributes, values) {
            return poolAttributes
                .map((poolAttribute) => ({
                    label: values[`${poolAttribute}_name`] || getAttributeTranslation(poolAttribute, values["sheettype"], values["homebrew_rank"]),
                    value: getAttributePool(poolAttribute, values)
                }))
                .map((stat) => `<div>${stat.label} (${stat.value})</div>`)
                .join("");
        }

        var getAttributeTranslation = function(attribute, sheettype, homebrewRank) {
            switch (getAttributeType(attribute)) {
                case "potency":
                    return getTranslationByKey(potencyTranslationKeys[sheettype]) || homebrewRank;
                default:
                    return getTranslationByKey(attribute);
            }
        }

        var getAttributePool = function(attribute, values) {
            return Number(values[attribute]) || getUnskilledPenalty(attribute);
        }

        var getSheetDicePool = function(poolAttributes, values) {
            const sum = poolAttributes
                .map((poolAttribute) => getAttributePool(poolAttribute, values))
                .reduce((sum, value) => sum + value, 0)

            return Math.max(sum, 1);
        }

        var updateHealth = function() {
            getAttrs(["stamina","resistance","base_size","giant","small_framed","sheettype","entity","bonus_health"], function(v) {
                var health = 1;
                switch (v.entity) {
                    case "corporeal":
                        health = Number(v.stamina) + Number(v.base_size) + Number(v.giant) + Number(v.small_framed) + Number(v.bonus_health);
                        break;
                    case "ephemeral":
                        health = (Number(v.resistance) || 1) + (Number(v.base_size) || 1) + Number(v.giant) + Number(v.small_framed) + Number(v.bonus_health);
                        break;
                    case "organization":
                        health = 5 + (Number(v.resistance) || 1);
                        break;
                }
                setAttrs({
                    health: health
                });
            });
        }

        var updateWillpower = function() {
            getAttrs(["resolve","composure","bonus_willpower", "resistance", "finesse", "entity"], function(v) {      
                var willpower = 0;
                switch (v.entity) {
                    case "ephemeral":
                        willpower = parseInt(v.resistance, 10) + parseInt(v.finesse, 10) + parseInt(v.bonus_willpower, 10);
                        break;
                    case "corporeal":
                    default:
                        willpower = parseInt(v.resolve, 10) + parseInt(v.composure, 10) + parseInt(v.bonus_willpower, 10);
                        break;
                }
                setAttrs({
                    willpower: willpower
                });
            });
        };

        var updateMoralHealth = function() {
            getAttrs(["wits","composure", "potency", "bonus_moralhealth","sheettype"], function(v) {
                if (v.sheettype == "changeling2"){
                    var moralhealth = parseInt(v.wits, 10) + parseInt(v.composure, 10) + parseInt(v.bonus_moralhealth);
                    setAttrs({
                        moralhealth: moralhealth
                    });              
                }
                else if (v.sheettype == "deviant-the-renegades"){
                    var moralhealth = parseInt(v.potency, 10) + 5 + parseInt(v.bonus_moralhealth);
                    setAttrs({
                        moralhealth: moralhealth
                    });
                }
            });
        }

        var updateAttacks = function() {
            getAttrs(["strength","attack","iron_stamina","attack_initiative0","attack_initiative1","attack_initiative2","attack_initiative3","attack_initiative4","attack_strength0","attack_strength1","attack_strength2","attack_strength3","attack_strength4","armor_flag0","armor_flag1","armor_flag2","armor_strength0","armor_strength1","armor_strength2","health","healthbox_1","healthbox_2","healthbox_3","healthbox_4","healthbox_5","healthbox_6","healthbox_7","healthbox_8","healthbox_9","healthbox_10","healthbox_11","healthbox_12","healthbox_13","healthbox_14","healthbox_15","healthbox_16"], function(v) {
                var str = parseInt(v.strength, 10);
                var regex = /attack_type(.)/;
                var atknum = v.attack.match(regex)[1];
                var init = isNaN(v["attack_initiative" + atknum]) === false && v["attack_initiative" + atknum] != "" ? v["attack_initiative" + atknum] : 0;
                var wpen = str < v["attack_strength" + atknum] ? str - v["attack_strength" + atknum] : 0;
                var apen = 0;
                if(v.armor_flag0 != 0 && str < parseInt(v.armor_strength0)) {apen = apen + (str - parseInt(v.armor_strength0));};
                if(v.armor_flag1 != 0 && str < parseInt(v.armor_strength1)) {apen = apen + (str - parseInt(v.armor_strength1));};
                if(v.armor_flag2 != 0 && str < parseInt(v.armor_strength2)) {apen = apen + (str - parseInt(v.armor_strength2));};
                var wound_penalty = 0;
                var ironStamina = parseInt(v.iron_stamina, 10);
                if(v["healthbox_" + v.health] != 0) {
                    wound_penalty = -3 + Math.min(ironStamina, 3);
                }
                else if(v["healthbox_" + (v.health - 1)] != 0) {
                    wound_penalty = -2 + Math.min(ironStamina, 2);
                }
                else if(v["healthbox_" + (v.health - 2)] != 0) {
                    wound_penalty = -1 + Math.min(ironStamina, 1);
                }
                setAttrs({
                    weapon_penalty: wpen,
                    armor_penalty: apen,
                    initiative_penalty: init,
                    wound_penalty: wound_penalty
                });
            });
        }

        var updateSpeed = function() {
            getAttrs(["entity","strength","dexterity","power","finesse"], function(v) {
                var speed;
                switch(v.entity) {
                    case "corporeal":
                    default:
                        var strength = parseInt(v.strength) || 1;
                        var dexterity = parseInt(v.dexterity) || 1;
                        speed = strength + dexterity;
                        break;
                    case "ephemeral":
                        var power = parseInt(v.power) || 1;
                        var finesse = parseInt(v.finesse) || 1;
                        speed = power + finesse;
                        break;
                }

                setAttrs({speed_base: speed});
            });
        }

        var updateDefense = function() {
            getAttrs(["defense_select","entity","athletics","brawl","dexterity","weaponry","wits","potency","power","finesse"], function(v) {
                var defense;
                switch(v.entity) {
                    case "corporeal":
                    default:
                        defense = getCorporealDefense(v);
                        break;
                    case "ephemeral":
                        defense = getEphemeralDefense(v);
                        break;
                }
                setAttrs({defense_base: defense});
            });
        }

        var getCorporealDefense = function(v) {
            var dexterity = parseInt(v.dexterity, 10) || 0;
            var wits = parseInt(v.wits, 10) || 10;

            switch (v.defense_select) {
                case "lowest":
                    return Math.min(dexterity, wits);
                case "highest":
                    return Math.max(dexterity, wits);
                case "wits":
                    return wits;
                case "dexterity":
                    return dexterity;
                case "lowest_plus_athletics":
                    var athletics = parseInt(v.athletics, 10) || 0;
                    return Math.min(dexterity, wits) + athletics;
                case "lowest_plus_brawl":
                    var brawl = parseInt(v.brawl, 10) || 10; // PRD-1407
                    return Math.min(dexterity, wits) + brawl;
                case "lowest_plus_weaponry":
                    var weaponry = parseInt(v.weaponry, 10) || 10; // PRD-1407
                    return Math.min(dexterity, wits) + weaponry;
            }
        }

        var getEphemeralDefense = function(v) {
            var rank = parseInt(v.potency) || 1;
            var power = parseInt(v.power) || 1;
            var finesse = parseInt(v.finesse) || 1;

            if (rank === 1) {
                return Math.max(power, finesse);
            }

            return Math.min(power, finesse);
        }

        var updateDefaultDefense = function() {
            getAttrs(["sheettype", "defense_select"], function(v) {
                var defense;
                if (getEdition(v.sheettype) === 2) {
                    defense = "lowest_plus_athletics";
                }
                else {
                    defense = "lowest";
                }
                if (v.defense_select === defense) {
                    return updateDefense();
                }

                setAttrs({defense_select: defense});
            });
        }

        var updateInitiative = function() {
            getAttrs(["entity", "dexterity", "composure", "finesse", "resistance"], function(v) {
                var initiative;
                switch(v.entity) {
                    case "corporeal":
                    default:
                        var dexterity = parseInt(v.dexterity) || 1;
                        var composure = parseInt(v.composure) || 1;
                        initiative = dexterity + composure;
                        break;
                    case "ephemeral":
                        var finesse = parseInt(v.finesse) || 1;
                        var resistance = parseInt(v.resistance) || 1;
                        initiative = finesse + resistance;
                        break;
                }

                setAttrs({initiative_base: initiative});
            });
        }

        var getWoundPenalties = function(ironStamina) {
            var maxPenalty = Math.min(ironStamina, 3) - 3;

            // Whitespace instead of empty string to avoid displaying default value
            return {
                "wound_penalty_1": Math.min(maxPenalty + 2, 0) || " ",
                "wound_penalty_2": Math.min(maxPenalty + 1, 0) || " ",
                "wound_penalty_3": Math.min(maxPenalty, 0) || " "
            };
        }

        var updateRollType = function() {
            getAttrs(["rolltype_select","sheettype","attack_type0","attack_type1","attack_type2","attack_type3","attack_type4"], function(v) {
                var update = {};
                var isSecondEdition = getEdition(v.sheettype) === 2;
                var value;
                switch (v.rolltype_select) {
                    case "chance":
                        if (isSecondEdition) {
                            value = "*0+1)d10cf<1}>10]]}} {{chance=1}}";
                        }
                        else {
                            value = "*0+1)d10!cf<1}>10]]}} {{chance=1}}";
                        }
                        break;
                    case "normal":
                    default:
                        value = ")d10!cs>10}>8]]}}";
                        break;
                    case "9-again":
                        value = ")d10!>9cs>9}>8]]}} {{9again=1}}";
                        break;
                    case "8-again":
                        value = ")d10!>8cs>8}>8]]}} {{8again=1}}";
                        break;
                    case "dont-reroll":
                        value = ")d10cs>10}>8]]}}";
                        break;
                    case "rote":
                        value = ")d10ro<7}>8]]}}";
                        break;
                    case "chance-rote":
                        if (isSecondEdition) {
                            value = "*0+1)d10ro<7cf<1}>10]]}} {{chance=1}}";
                        }
                        else {
                            value = "*0+1)d10!ro<7cf<1}>10]]}} {{chance=1}}";
                        }
                        break;
                }
                update["rolltype"] = value;
                // (PRD-1406) Check that attack type is correlated to edition
                for(var i = 0; i < 5; i++) {
                    if(isSecondEdition) {
                        switch(v[`attack_type${i}`]) {
                            // Brawl
                            case "{{1st=1}} {{str=1}} {{bra=1}} {{result=[[{((@{attack_damage${i}}+@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Melee
                            case "{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage${i}}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Gun
                            case "{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Thrown
                            case "{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Brawl* (Fighting Finesse)
                            case "{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Melee* (Fighting Finesse)
                            case "{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                        }
                    } else {
                        switch(v[`attack_type${i}`]) {
                            // Brawl
                            case "{{2nd=1}} {{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{str=1}} {{bra=1}} {{result=[[{((@{attack_damage${i}}+@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Melee
                            case "{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage${i}}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Gun
                            case "{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Thrown
                            case "{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Brawl* (Fighting Finesse)
                            case "{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Melee* (Fighting Finesse)
                            case "{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                        }
                    }
                }
                setAttrs(update, {silent: true});
            });
        }

        var resetRollFlags = function() {
            var flagValues = allStats
                .map((attribute) => `${attribute}_flag`)
                .reduce((attrs, flag) => ({ ...attrs, [flag]: "" }), {});

            return {
                "dice_pool_attributes": "",
                "dice_pool_html": "",
                "dice_pool": 0,
                "rolldisplay": "",
                "rollstyle": "sheet",
                "rolltype_select": "normal",
                ...flagValues
            };
        }
    </script>

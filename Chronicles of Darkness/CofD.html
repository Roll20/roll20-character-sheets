<!-- BACKGROUND AND CONTAINER -->
<div class="background">

    <!-- HIDDEN STYLING ATTRS -->
    <input type="hidden" class="type" name="attr_sheettype" value="mortal1" />
    <input type="hidden" class="game-line" name="attr_game_line" value="mortal" />
    <input type="hidden" class="edition" name="attr_edition" value="1" />
    <input type="hidden" class="entity" name="attr_entity" value="corporeal" />
    
    <!-- SHEET OPTIONS & PAGE TABS-->
    <input type="hidden" class="page" name="attr_pagenumber" value="1" />
    <button type="action" class="toggle page-settings" name="act_page_settings" data-i18n="settings">Settings</button>
    <button type="action" class="toggle page-1" name="act_page_1" data-i18n="page-1">Page 1</button>
    <button type="action" class="toggle page-2" name="act_page_2" data-i18n="page-2">Page 2</button>
    <button type="action" class="toggle page-3" name="act_page_3" data-i18n="page-3">Page 3</button>
    
    <div class="spacer"></div>
    
    <div class="page settings">
        <div class="spacer"></div>
        <div class="spacer"></div>
    
        <div class="edition-label" data-i18n="first-edition">1st Edition</div>
    
        <div>
            <button type="action" class="toggle active-mortal1" name="act_sheet_type_mortal1" title="Mortal" data-i18n="chronicles-of-darkness">Chronicles of Darkness</button>
    
            <button type="action" class="toggle active-vampire1" name="act_sheet_type_vampire1" title="Vampire" data-i18n="vampire-the-requiem">Vampire the Requiem</button>
    
            <button type="action" class="toggle active-werewolf1" name="act_sheet_type_werewolf1" title="Werewolf" data-i18n="werewolf-the-forsaken">Werewolf the Forsaken</button>
    
            <button type="action" class="toggle active-mage1" name="act_sheet_type_mage1" title="Mage" data-i18n="mage-the-awakening">Mage the Awakening</button>
            
            <button type="action" class="toggle active-promethean1" name="act_sheet_type_promethean1" title="Promethean" data-i18n="promethean-the-create">Promethean the Created</button>
            
            <button type="action" class="toggle active-changeling1" name="act_sheet_type_changeling1" title="Changeling" data-i18n="changeling-the-lost">Changeling the Lost</button>
    
            <button type="action" class="toggle active-hunter" name="act_sheet_type_hunter" title="Hunter" data-i18n="hunter-the-vigil">Hunter the Vigil</button>
    
            <button type="action" class="toggle active-geist1" name="act_sheet_type_geist1" title="Geist" data-i18n="geist-the-sin-eaters">Geist the Sin Eaters</button>
            
            <button type="action" class="toggle active-mummy1" name="act_sheet_type_mummy1" title="Mummy" data-i18n="mummy-the-curse">Mummy the Curse</button>
        </div>
    
        <div class="spacer"></div>
        
        <div class="edition-label" data-i18n="second-edition">2nd Edition</div>
    
        <div>
            <button type="action" class="toggle active-mortal2" name="act_sheet_type_mortal2" title="Mortal" data-i18n="chronicles-of-darkness">Chronicles of Darkness</button>

            <button type="action" class="toggle active-mortal2-organization" name="act_sheet_type_mortal2-organization" title="Mortal - Organization">
                <span data-i18n="chronicles-of-darkness">Chronicles of Darkness</span> - <span data-i18n="organization">Organization</span>
            </button>
    
            <button type="action" class="toggle active-vampire2" name="act_sheet_type_vampire2" title="Vampire" data-i18n="vampire-the-requiem">Vampire the Requiem</button>
    
            <button type="action" class="toggle active-werewolf2" name="act_sheet_type_werewolf2" title="Werewolf" data-i18n="werewolf-the-forsaken">Werewolf the Forsaken</button>
    
            <button type="action" class="toggle active-mage2" name="act_sheet_type_mage2" title="Mage" data-i18n="mage-the-awakening">Mage the Awakening</button>
            
            <button type="action" class="toggle active-promethean2" name="act_sheet_type_promethean2" title="Promethean" data-i18n="promethean-the-create">Promethean the Created</button>
            
            <button type="action" class="toggle active-changeling2" name="act_sheet_type_changeling2" title="Changeling" data-i18n="changeling-the-lost">Changeling the Lost</button>
    
            <!-- <button type="action" class="toggle active-hunter2" name="act_sheet_type_hunter2" title="Hunter" data-i18n="hunter-the-vigil">Hunter the Vigil</button> -->
    
            <button type="action" class="toggle active-geist2" name="act_sheet_type_geist2" title="Geist" data-i18n="geist-the-sin-eaters">Geist the Sin-Eaters</button>

            <button type="action" class="toggle active-geist2-geist" name="act_sheet_type_geist2-geist" title="Geist - Geist">
                <span data-i18n="geist-the-sin-eaters">Geist the Sin-Eaters</span> - <span data-i18n="geist">Geist</span>
            </button>

            <button type="action" class="toggle active-geist2-organization" name="act_sheet_type_geist2-organization" title="Geist - Krewe">
                <span data-i18n="geist-the-sin-eaters">Geist the Sin-Eaters</span> - <span data-i18n="krewe">Krewe</span>
            </button>
    
            <!-- <button type="action" class="toggle active-mummy2" name="mummy2" title="Mummy" data-i18n="mummy-the-curse">Mummy the Curse</button> -->
    
            <button type="action" class="toggle active-demon" name="act_sheet_type_demon" title="Demon" data-i18n="demon-the-descent">Demon the Descent</button>
    
            <button type="action" class="toggle active-beast" name="act_sheet_type_beast" title="Beast" data-i18n="beast-the-primordial">Beast the Primordial</button>
    
            <!-- <button type="action" class="toggle active-deviant" name="act_sheet_type_deviant" title="Deviant" data-i18n="deviant-the-renegades">Deviant the Renegades</button> -->
        </div>
    
        <div class="organization-inverse">
            <div class="spacer"></div>
            <div class="spacer"></div>
    
            <span class="subheader" data-i18n="custom-attribute-settings" >Customizable Attribute Settings</span>
            <br>
            <span data-i18n="defense-trait" >Defense Trait: </span><select name="attr_defense_select">
                <option data-i18n="defense-qm" value="" disabled selected hidden>Defense?</option>
                <option value="lowest" data-i18n="lowest" >Lowest</option>
                <option value="highest" data-i18n="highest" >Highest</option>
                <option value="wits" data-i18n="wits" >Wits</option>
                <option value="dexterity" data-i18n="dexterity" >Dexterity</option>
                <option value="lowest_plus_athletics" data-i18n="lowest-plus-ath" >Lowest + Athletics</option>
                <option value="lowest_plus_brawl" data-i18n="lowest-plus-brawl" >Lowest + Brawl</option>
                <option value="lowest_plus_weaponry" data-i18n="lowest-plus-weapon" >Lowest + Weaponry</option>
            </select><br><br>
            <span data-i18n="base-size" >Base Size</span>: <input type="number" name="attr_base_size" value="5" />
            <input type="checkbox" class="checkbox" name="attr_giant" value="1" /><span></span><span data-i18n="giant" > Giant</span>
            <input type="checkbox" class="checkbox" name="attr_small_framed" value="-1" /><span></span><span data-i18n="small-framed" > Small Framed</span><br><br>
            <span data-i18n="bonus-health-levels" >Bonus Health Levels</span>:<input type="number" name="attr_bonus_health" value="0" /><br><br>
            <span data-i18n="bonus-willpower-point" >Bonus Willpower Points</span>:<input type="number" name="attr_bonus_willpower" value="0" /><br><br>
            <span class="changeling2"><span data-i18n="bonus-clarity-points" >Bonus Clarity Points:</span><input type="number" name="attr_bonus_moralhealth" value="0" /><br><br></span>
            <span data-i18n="species-factor" >Species Factor</span>: <input type="number" name="attr_species_factor" value="5" />
            <span data-i18n="fleet-of-foot" >Fleet of Foot</span>: <input type="number" name="attr_fleet_of_foot" value="0" /><br><br>
            <span data-i18n="fast-reflexes" >Fast Reflexes</span>: <input type="number" name="attr_fast_reflexes" value="0" />
            <span data-i18n="iron-stamina" >Iron Stamina</span>: <input type="number" name="attr_iron_stamina" value="0" />
        </div>
    </div>
    
    <div class="background-image"></div>
    
    <!-- DICE ROLLER -->
    <div class="page page1 diceroller">
        <input type="hidden" class="rollstyle" name="attr_rollstyle" value="sheet" />
        <input type="hidden" class="rolltype-select" name="attr_rolltype_select" value="normal" />
        <table>
            <tbody>
                <tr>
                    <th colspan="2" class="sheet-bottom" data-i18n="dice-roller-u">DICE ROLLER</th>
                </tr>
                <tr>
                    <td colspan="2" class="initiative">
                        <button type="roll" class="toggle active" name="roll_initiative" data-i18n="roll-initiative" value="&{template:wod-initiative} {{name=@{character_name}}} {{dexterity=@{dexterity}}} {{composure=@{composure}}} {{fastReflexes=@{fast_reflexes}}} {{initiativePenalty=@{initiative_penalty}}} {{result=[[1d10 + @{dexterity} + @{composure} + @{fast_reflexes} + @{initiative_penalty} &{tracker}]]}}">
                            Roll Initiative
                        </button>
                    </td>
                </tr>
                <tr>
                    <td rowspan="3" class="rollcontainer">
                        <button type="roll" class="rollstyle sheet" name="roll_sheet" value="&{template:wod} {{name=@{character_name}}} {{dicePool=@{dice_pool}}} {{dicePoolHtml=@{dice_pool_html}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{woundpenalty=[[@{wound_penalty}]]}} {{result=[[{((?{@{modifiermacro}|0}+@{wound_penalty}+@{dice_pool})@{rolltype}"></button>
                        <button type="roll" class="rollstyle attack" name="roll_attack" value="&{template:wod-attack} {{name=@{character_name}}} {{strength=@{strength}}} {{dexterity=@{dexterity}}} {{brawl=@{brawl}}} {{weaponry=@{weaponry}}} {{firearms=@{firearms}}} {{athletics=@{athletics}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{woundpenalty=[[@{wound_penalty}]]}} {{wpen=[[@{weapon_penalty}]]}} {{apen=[[@{armor_penalty}]]}} @{attack}@{rolltype}"></button>
                        <button type="roll" class="rollstyle simple" name="roll_simple" value="&{template:wod-simple} {{name=@{character_name}}} {{option=?{@{dicepoolmacro}|0}}} {{result=[[{(?{@{dicepoolmacro}|1}@{rolltype}"></button>
                    </td>
                    <td>
                        <button type="action" class="toggle rollstyle-sheet" name="act_rollstyle_sheet" data-i18n="sheet-roll">Sheet Roll</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="action" class="toggle rollstyle-attack" name="act_rollstyle_attack" data-i18n="attack-roll">Attack Roll</button>
                    </td>
                </tr>
                <tr>
                    <td class="bottom">
                        <button type="action" class="toggle rollstyle-simple" name="act_rollstyle_simple" data-i18n="simple-roll">Simple Roll</button>
                    </td>
                </tr>
                <tr>
                    <td rowspan="7" class="rolldisplay">
                        <textarea type="text" class="rollstyle sheet" name="attr_rolldisplay"></textarea>
                        <div class="rollstyle attack">Attack</div>
                        <div class="rollstyle simple">Simple</div>
                    </td>
                    <td>
                        <button type="action" class="toggle rolltype-chance" name="act_rolltype_select_chance" data-i18n="chance">Chance</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="action" class="toggle rolltype-normal" name="act_rolltype_select_normal" data-i18n="normal">Normal</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="action" class="toggle rolltype-9-again" name="act_rolltype_select_9-again" data-i18n="9-again">9-Again</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="action" class="toggle rolltype-8-again" name="act_rolltype_select_8-again" data-i18n="8-again">8-Aagain</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="action" class="toggle rolltype-dont-reroll" name="act_rolltype_select_dont-reroll" data-i18n="dont-reroll">Don't Reroll 10s</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="action" class="toggle rolltype-chance-rote" name="act_rolltype_select_chance-rote" data-i18n="chance-rote">Chance Rote</button>
                    </td>
                </tr>
                <tr>
                    <td>
                        <button type="action" class="toggle rolltype-rote" name="act_rolltype_select_rote" data-i18n="rote">Rote</button>
                    </td>
                </tr>
            </tbody>
        </table>
    </div>
    
    <!-- HEADER -->
    <div class="page page1 page2 page3 header">
        <img class="mortal" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/chroniclesofdarkness.png">
        <img class="vampire" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/vampire.png">
        <img class="werewolf" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/werewolf.png">
        <img class="mage" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/mage.png">
        <img class="promethean" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/promethean.png">
        <img class="changeling" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/changeling.png">
        <img class="geist" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/geist.png">
        <img class="hunter" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/hunter.png">
        <img class="demon" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Chronicles%20of%20Darkness/images/DtD_logo.png">
        <!-- <img class="deviant" src=""> -->
    </div>
    
    <!-- PAGE 1 -->
    <div class="page page1">
        <!-- CHARACTER INFO FIELDS -->
        <div class="info-grid">
            <!-- Row 1 -->
            <div class="input-label">
                <span data-i18n="name">Name:</span>
            </div>
            <input type="text" name="attr_character_name">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="mortal vampire1 werewolf1 mage promethean1 changeling1 geist1 geist2-geist geist2-organization mummy1 hunter demon" data-i18n="virtue" >Virtue:</span>
                <span class="vampire2" data-i18n="mask" >Mask:</span>
                <span class="werewolf2" data-i18n="blood" >Blood:</span>
                <span class="beast" data-i18n="life" >Life:</span>
                <span class="promethean2" data-i18n="elpis" >Elpis:</span>
                <span class="changeling2" data-i18n="needle" >Needle:</span>
                <span class="geist2" data-i18n="root" >Root:</span>
            </div>
            <input type="text" name="attr_Virtue">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="mortal1 mortal2" data-i18n="age" >Age:</span>
                <span class="ephemeral" data-i18n="ban" >Ban:</span>
                <span class="mortal2-organization geist2-organization" data-i18n="doctrine" >Doctrine:</span>
                <span class="vampire" data-i18n="clan" >Clan:</span>
                <span class="werewolf" data-i18n="auspice" >Auspice:</span>
                <span class="mage" data-i18n="path" >Path:</span>
                <span class="promethean" data-i18n="lineage" >Lineage:</span>
                <span class="changeling" data-i18n="seeming" >Seeming:</span>
                <span class="geist1" data-i18n="archtype" >Archetype:</span>
                <span class="geist2" data-i18n="geist-c" >Geist:</span>
                <span class="mummy" data-i18n="decree" >Decree:</span>
                <span class="demon" data-i18n="incarnation" >Incarnation:</span>
                <span class="beast" data-i18n="family" >Family:</span>
                <span class="hunter" data-i18n="profession" >Profession:</span>
            </div>
            <input type="text" name="attr_Chronicle">
            <!-- Row 2 -->
            <div class="input-label">
                <span class="mortal1 mortal2 vampire werewolf mage promethean changeling geist1 geist2 mummy hunter demon" data-i18n="player">Player:</span>
                <span class="geist2-geist" data-i18n="sin-eater-c" >Sin-Eater:</span>
                <span class="geist2-organization" data-i18n="archtype">Archetype:</span>
            </div>
            <input type="text" name="attr_Age">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="mortal1 mortal2 vampire1 werewolf1 mage promethean1 changeling1 geist1 geist2-geist mummy1 hunter demon" data-i18n="vice" >Vice:</span>
                <span class="mortal2-organization geist2-organization" data-i18n="creed" >Creed:</span>
                <span class="vampire2" data-i18n="dirge" >Dirge:</span>
                <span class="werewolf2" data-i18n="bone" >Bone:</span>
                <span class="beast" data-i18n="legend" >Legend:</span>
                <span class="promethean2" data-i18n="torment" >Torment:</span>
                <span class="changeling2" data-i18n="thread" >Thread:</span>
                <span class="geist2" data-i18n="bloom" >Bloom:</span>
            </div>
            <input type="text" name="attr_Vice">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="mortal1 mortal2" data-i18n="faction" >Faction:</span>
                <span class="ephemeral" data-i18n="bane" >Bane:</span>
                <span class="mortal2-organization geist2-organization" data-i18n="doctrine" >Doctrine:</span>
                <span class="vampire" data-i18n="bloodline" >Bloodline:</span>
                <span class="werewolf" data-i18n="tribe" >Tribe:</span>
                <span class="mage" data-i18n="order" >Order:</span>
                <span class="promethean" data-i18n="refinement" >Refinement:</span>
                <span class="changeling" data-i18n="kith" >Kith:</span>
                <span class="geist1" data-i18n="threshold" >Threshold:</span>
                <span class="geist2" data-i18n="burden" >Burden:</span>
                <span class="mummy" data-i18n="guild" >Guild:</span>
                <span class="demon" data-i18n="agenda" >Agenda:</span>
                <span class="beast" data-i18n="hunger" >Hunger:</span>
                <span class="hunter" data-i18n="compact" >Compact/Conspiracy:</span>
            </div>
            <input type="text" name="attr_Faction">
            <!-- Row 3 -->
            <div class="input-label">
                <span data-i18n="cronicle">Chronicle:</span>
            </div>
            <input type="text" name="attr_Player">
            <div class="spacer"></div>
            <div class="input-label">
                <span data-i18n="concept">Concept:</span>
            </div>
            <input type="text" name="attr_Concept">
            <div class="spacer"></div>
            <div class="input-label">
                <span class="mortal1 mortal2" data-i18n="group-name" >Group Name:</span>
                <span class="mortal2-organization geist2-organization" data-i18n="doctrine" >Doctrine:</span>
                <span class="vampire" data-i18n="covenant" >Covenant:</span>
                <span class="werewolf" data-i18n="lodge" >Lodge:</span>
                <span class="mage" data-i18n="legacy" >Legacy:</span>
                <span class="promethean1" data-i18n="athanor" >Athanor:</span>
                <span class="promethean2" data-i18n="role" >Role:</span>
                <span class="changeling" data-i18n="court" >Court:</span>
                <span class="geist1 geist2" data-i18n="krewe-c" >Krewe:</span>
                <span class="geist2-geist" data-i18n="trigger-c" >Trigger:</span>
                <span class="mummy" data-i18n="judge" >Judge:</span>
                <span class="demon" data-i18n="catalyst" >Catalyst:</span>
                <span class="beast" data-i18n="horror" >Horror:</span>
            </div>
            <input type="text" name="attr_GroupName">
        </div>
    
        <div class="spacer"></div>
    
        <!-- ATTRIBUTE FIELDS -->
        <div class="corporeal">
            <div class="section-header" data-i18n="attributes-u">ATTRIBUTES</div>
            <div class="attributes">
                <div class="attributes-category power">Power</div>
                <div class="attributes-category finesse">Finesse</div>
                <div class="attributes-category resistance">Resistance</div>
                <div class="power mental label">
                    <input type="hidden" class="flag" name="attr_intelligence_flag" value="0" />
                    <button type="action" class="toggle" name="act_intelligence" data-i18n="intelligence">Intelligence</button>
                </div>
                <div class="power mental dots">
                    <input type="hidden" name="attr_intelligence" value="1" />
                    <button type="action" class="dot zero" name="act_intelligence_0">×</button>
                    <button type="action" class="dot" name="act_intelligence_1"></button>
                    <button type="action" class="dot ne-1" name="act_intelligence_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_intelligence_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_intelligence_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_intelligence_5"></button>
                </div>
                <div class="finesse mental label">
                    <input type="hidden" class="flag" name="attr_wits_flag" value="0" />
                    <button type="action" class="toggle" name="act_wits" data-i18n="wits">Wits</button>
                </div>
                <div class="finesse mental dots">
                    <input type="hidden" name="attr_wits" value="1" />
                    <button type="action" class="dot zero" name="act_wits_0">×</button>
                    <button type="action" class="dot" name="act_wits_1"></button>
                    <button type="action" class="dot ne-1" name="act_wits_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_wits_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_wits_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_wits_5"></button>
                </div>
                <div class="resistance mental label">
                    <input type="hidden" class="flag" name="attr_resolve_flag" value="0" />
                    <button type="action" class="toggle" name="act_resolve" data-i18n="resolve">Resolve</button>
                </div>
                <div class="resistance mental dots">
                    <input type="hidden" name="attr_resolve" value="1" />
                    <button type="action" class="dot zero" name="act_resolve_0">×</button>
                    <button type="action" class="dot" name="act_resolve_1"></button>
                    <button type="action" class="dot ne-1" name="act_resolve_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_resolve_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_resolve_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_resolve_5"></button>
                </div>
                <div class="mental border"></div>
                <div class="power physical label">
                    <input type="hidden" class="flag" name="attr_strength_flag" value="0" />
                    <button type="action" class="toggle" name="act_strength" data-i18n="strength">Strength</button>
                </div>
                <div class="power physical dots">
                    <input type="hidden" name="attr_strength" value="1" />
                    <button type="action" class="dot zero" name="act_strength_0">×</button>
                    <button type="action" class="dot" name="act_strength_1"></button>
                    <button type="action" class="dot ne-1" name="act_strength_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_strength_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_strength_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_strength_5"></button>
                </div>
                <div class="finesse physical label">
                    <input type="hidden" class="flag" name="attr_dexterity_flag" value="0" />
                    <button type="action" class="toggle" name="act_dexterity" data-i18n="dexterity">Dexterity</button>
                </div>
                <div class="finesse physical dots">
                    <input type="hidden" name="attr_dexterity" value="1" />
                    <button type="action" class="dot zero" name="act_dexterity_0">×</button>
                    <button type="action" class="dot" name="act_dexterity_1"></button>
                    <button type="action" class="dot ne-1" name="act_dexterity_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_dexterity_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_dexterity_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_dexterity_5"></button>
                </div>
                <div class="resistance physical label">
                    <input type="hidden" class="flag" name="attr_stamina_flag" value="0" />
                    <button type="action" class="toggle" name="act_stamina" data-i18n="stamina">Stamina</button>
                </div>
                <div class="resistance physical dots">
                    <input type="hidden" name="attr_stamina" value="1" />
                    <button type="action" class="dot zero" name="act_stamina_0">×</button>
                    <button type="action" class="dot" name="act_stamina_1"></button>
                    <button type="action" class="dot ne-1" name="act_stamina_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_stamina_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_stamina_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_stamina_5"></button>
                </div>
                <div class="physical border"></div>
                <div class="power social label">
                    <input type="hidden" class="flag" name="attr_presence_flag" value="0" />
                    <button type="action" class="toggle" name="act_presence" data-i18n="presence">Presence</button>
                </div>
                <div class="power social dots">
                    <input type="hidden" name="attr_presence" value="1" />
                    <button type="action" class="dot zero" name="act_presence_0">×</button>
                    <button type="action" class="dot" name="act_presence_1"></button>
                    <button type="action" class="dot ne-1" name="act_presence_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_presence_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_presence_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_presence_5"></button>
                </div>
                <div class="finesse social label">
                    <input type="hidden" class="flag" name="attr_manipulation_flag" value="0" />
                    <button type="action" class="toggle" name="act_manipulation" data-i18n="manipulation">Manipulation</button>
                </div>
                <div class="finesse social dots">
                    <input type="hidden" name="attr_manipulation" value="1" />
                    <button type="action" class="dot zero" name="act_manipulation_0">×</button>
                    <button type="action" class="dot" name="act_manipulation_1"></button>
                    <button type="action" class="dot ne-1" name="act_manipulation_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_manipulation_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_manipulation_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_manipulation_5"></button>
                </div>
                <div class="resistance social label">
                    <input type="hidden" class="flag" name="attr_composure_flag" value="0" />
                    <button type="action" class="toggle" name="act_composure" data-i18n="composure">Composure</button>
                </div>
                <div class="resistance social dots">
                    <input type="hidden" name="attr_composure" value="1" />
                    <button type="action" class="dot zero" name="act_composure_0">×</button>
                    <button type="action" class="dot" name="act_composure_1"></button>
                    <button type="action" class="dot ne-1" name="act_composure_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_composure_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_composure_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_composure_5"></button>
                </div>
                <div class="social border"></div>
            </div>
        </div>
    
        <!-- SIMPLE ATTRIBUTE FIELDS -->
        <!-- ephemeral and organization -->
        <div class="corporeal-inverse columns">
            <div class="simple-attribute">
                <div class="subheader">
                    <input type="hidden" class="flag" name="attr_power_flag" value="0" />
                    <button type="action" class="toggle" name="act_power" data-i18n="power">Power</button>
                </div>
                <div class="dots spread">
                    <input type="hidden" name="attr_power" value="1" />
                    <button type="action" class="dot" name="act_power_1"></button>
                    <button type="action" class="dot ne-1" name="act_power_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_power_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_power_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_power_5"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_power_6"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_power_7"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_power_8"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_power_9"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_power_10"></button>
                </div>
            </div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="simple-attribute">
                <div class="subheader">
                    <input type="hidden" class="flag" name="attr_finesse_flag" value="0" />
                    <button type="action" class="toggle" name="act_finesse" data-i18n="finesse">Finesse</button>
                </div>
                <div class="dots spread">
                    <input type="hidden" name="attr_finesse" value="1" />
                    <button type="action" class="dot" name="act_finesse_1"></button>
                    <button type="action" class="dot ne-1" name="act_finesse_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_finesse_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_finesse_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_finesse_5"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_finesse_6"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_finesse_7"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_finesse_8"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_finesse_9"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_finesse_10"></button>
                </div>
            </div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="horizontal-spacer"></div>
            <div class="simple-attribute">
                <div class="subheader">
                    <input type="hidden" class="flag" name="attr_resistance_flag" value="0" />
                    <button type="action" class="toggle" name="act_resistance" data-i18n="resistance">Resistance</button>
                </div>
                <div class="dots spread">
                    <input type="hidden" name="attr_resistance" value="1" />
                    <button type="action" class="dot" name="act_resistance_1"></button>
                    <button type="action" class="dot ne-1" name="act_resistance_2"></button>
                    <button type="action" class="dot ne-1 ne-2" name="act_resistance_3"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3" name="act_resistance_4"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_resistance_5"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_resistance_6"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_resistance_7"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_resistance_8"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_resistance_9"></button>
                    <button type="action" class="dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_resistance_10"></button>
                </div>
            </div>
        </div>
    
        <div class="el_spacer"></div>
    
        <div class="flex">
            <!-- SKILL FIELDS -->
            <div class="corporeal skills">
                <table>
                    <tbody>
                        <tr>
                            <th class="section-header" colspan="2" data-i18n="skills-u">SKILLS</th>
                        </tr>
                        <tr>
                            <td class="subheader" colspan="2" data-i18n="mental">Mental</td>
                        </tr>
                        <tr>
                            <td class="subsubheader" colspan="2" data-i18n="unskilled-min3">(-3 unskilled)</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_academics_flag" value="0" />
                                <button type="action" class="toggle" name="act_academics" data-i18n="academics">Academics</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Academics" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Academics" value="1" /><span></span><input type="radio" class="dot" name="attr_Academics" value="2" /><span></span><input type="radio" class="dot" name="attr_Academics" value="3" /><span></span><input type="radio" class="dot" name="attr_Academics" value="4" /><span></span><input type="radio" class="dot" name="attr_Academics" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_computer_flag" value="0" />
                                <button type="action" class="toggle" name="act_computer" data-i18n="computer">Computer</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Computer" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Computer" value="1" /><span></span><input type="radio" class="dot" name="attr_Computer" value="2" /><span></span><input type="radio" class="dot" name="attr_Computer" value="3" /><span></span><input type="radio" class="dot" name="attr_Computer" value="4" /><span></span><input type="radio" class="dot" name="attr_Computer" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_crafts_flag" value="0" />
                                <button type="action" class="toggle" name="act_crafts" data-i18n="crafts">Crafts</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Crafts" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Crafts" value="1" /><span></span><input type="radio" class="dot" name="attr_Crafts" value="2" /><span></span><input type="radio" class="dot" name="attr_Crafts" value="3" /><span></span><input type="radio" class="dot" name="attr_Crafts" value="4" /><span></span><input type="radio" class="dot" name="attr_Crafts" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_investigation_flag" value="0" />
                                <button type="action" class="toggle" name="act_investigation" data-i18n="investigation">Investigation</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Investigation" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Investigation" value="1" /><span></span><input type="radio" class="dot" name="attr_Investigation" value="2" /><span></span><input type="radio" class="dot" name="attr_Investigation" value="3" /><span></span><input type="radio" class="dot" name="attr_Investigation" value="4" /><span></span><input type="radio" class="dot" name="attr_Investigation" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_medicine_flag" value="0" />
                                <button type="action" class="toggle" name="act_medicine" data-i18n="medicine">Medicine</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Medicine" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Medicine" value="1" /><span></span><input type="radio" class="dot" name="attr_Medicine" value="2" /><span></span><input type="radio" class="dot" name="attr_Medicine" value="3" /><span></span><input type="radio" class="dot" name="attr_Medicine" value="4" /><span></span><input type="radio" class="dot" name="attr_Medicine" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_occult_flag" value="0" />
                                <button type="action" class="toggle" name="act_occult" data-i18n="occult">Occult</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Occult" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Occult" value="1" /><span></span><input type="radio" class="dot" name="attr_Occult" value="2" /><span></span><input type="radio" class="dot" name="attr_Occult" value="3" /><span></span><input type="radio" class="dot" name="attr_Occult" value="4" /><span></span><input type="radio" class="dot" name="attr_Occult" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_politics_flag" value="0" />
                                <button type="action" class="toggle" name="act_politics" data-i18n="politics">Politics</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Politics" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Politics" value="1" /><span></span><input type="radio" class="dot" name="attr_Politics" value="2" /><span></span><input type="radio" class="dot" name="attr_Politics" value="3" /><span></span><input type="radio" class="dot" name="attr_Politics" value="4" /><span></span><input type="radio" class="dot" name="attr_Politics" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_science_flag" value="0" />
                                <button type="action" class="toggle" name="act_science" data-i18n="science">Science</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Science" value="-3" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Science" value="1" /><span></span><input type="radio" class="dot" name="attr_Science" value="2" /><span></span><input type="radio" class="dot" name="attr_Science" value="3" /><span></span><input type="radio" class="dot" name="attr_Science" value="4" /><span></span><input type="radio" class="dot" name="attr_Science" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td class="subheader" colspan="2" data-i18n="physical">Physical</td>
                        </tr>
                        <tr>
                            <td class="subsubheader" colspan="2" data-i18n="unskilled-min1">(-1 Unskilled)</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_athletics_flag" value="0" />
                                <button type="action" class="toggle" name="act_athletics" data-i18n="athletics">Athletics</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Athletics" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Athletics" value="1" /><span></span><input type="radio" class="dot" name="attr_Athletics" value="2" /><span></span><input type="radio" class="dot" name="attr_Athletics" value="3" /><span></span><input type="radio" class="dot" name="attr_Athletics" value="4" /><span></span><input type="radio" class="dot" name="attr_Athletics" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_brawl_flag" value="0" />
                                <button type="action" class="toggle" name="act_brawl" data-i18n="brawl">Brawl</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Brawl" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Brawl" value="1" /><span></span><input type="radio" class="dot" name="attr_Brawl" value="2" /><span></span><input type="radio" class="dot" name="attr_Brawl" value="3" /><span></span><input type="radio" class="dot" name="attr_Brawl" value="4" /><span></span><input type="radio" class="dot" name="attr_Brawl" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_drive_flag" value="0" />
                                <button type="action" class="toggle" name="act_drive" data-i18n="drive">Drive</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Drive" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Drive" value="1" /><span></span><input type="radio" class="dot" name="attr_Drive" value="2" /><span></span><input type="radio" class="dot" name="attr_Drive" value="3" /><span></span><input type="radio" class="dot" name="attr_Drive" value="4" /><span></span><input type="radio" class="dot" name="attr_Drive" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_firearms_flag" value="0" />
                                <button type="action" class="toggle" name="act_firearms" data-i18n="firearms">Firearms</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Firearms" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Firearms" value="1" /><span></span><input type="radio" class="dot" name="attr_Firearms" value="2" /><span></span><input type="radio" class="dot" name="attr_Firearms" value="3" /><span></span><input type="radio" class="dot" name="attr_Firearms" value="4" /><span></span><input type="radio" class="dot" name="attr_Firearms" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_larceny_flag" value="0" />
                                <button type="action" class="toggle" name="act_larceny" data-i18n="larceny">Larceny</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Larceny" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Larceny" value="1" /><span></span><input type="radio" class="dot" name="attr_Larceny" value="2" /><span></span><input type="radio" class="dot" name="attr_Larceny" value="3" /><span></span><input type="radio" class="dot" name="attr_Larceny" value="4" /><span></span><input type="radio" class="dot" name="attr_Larceny" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_stealth_flag" value="0" />
                                <button type="action" class="toggle" name="act_stealth" data-i18n="stealth">Stealth</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Stealth" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Stealth" value="1" /><span></span><input type="radio" class="dot" name="attr_Stealth" value="2" /><span></span><input type="radio" class="dot" name="attr_Stealth" value="3" /><span></span><input type="radio" class="dot" name="attr_Stealth" value="4" /><span></span><input type="radio" class="dot" name="attr_Stealth" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_survival_flag" value="0" />
                                <button type="action" class="toggle" name="act_survival" data-i18n="survival">Survival</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Survival" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Survival" value="1" /><span></span><input type="radio" class="dot" name="attr_Survival" value="2" /><span></span><input type="radio" class="dot" name="attr_Survival" value="3" /><span></span><input type="radio" class="dot" name="attr_Survival" value="4" /><span></span><input type="radio" class="dot" name="attr_Survival" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_weaponry_flag" value="0" />
                                <button type="action" class="toggle" name="act_weaponry" data-i18n="weaponry">Weaponry</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Weaponry" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Weaponry" value="1" /><span></span><input type="radio" class="dot" name="attr_Weaponry" value="2" /><span></span><input type="radio" class="dot" name="attr_Weaponry" value="3" /><span></span><input type="radio" class="dot" name="attr_Weaponry" value="4" /><span></span><input type="radio" class="dot" name="attr_Weaponry" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td class="subheader" colspan="2" data-i18n="social">Social</td>
                        </tr>
                        <tr>
                            <td class="subsubheader" colspan="2" data-i18n="unskilled-min1">(-1 Unskilled)</td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_animalken_flag" value="0" />
                                <button type="action" class="toggle" name="act_animalken" data-i18n="animalken">Animal Ken</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_AnimalKen" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_AnimalKen" value="1" /><span></span><input type="radio" class="dot" name="attr_AnimalKen" value="2" /><span></span><input type="radio" class="dot" name="attr_AnimalKen" value="3" /><span></span><input type="radio" class="dot" name="attr_AnimalKen" value="4" /><span></span><input type="radio" class="dot" name="attr_AnimalKen" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_empathy_flag" value="0" />
                                <button type="action" class="toggle" name="act_empathy" data-i18n="empathy">Empathy</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Empathy" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Empathy" value="1" /><span></span><input type="radio" class="dot" name="attr_Empathy" value="2" /><span></span><input type="radio" class="dot" name="attr_Empathy" value="3" /><span></span><input type="radio" class="dot" name="attr_Empathy" value="4" /><span></span><input type="radio" class="dot" name="attr_Empathy" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_expression_flag" value="0" />
                                <button type="action" class="toggle" name="act_expression" data-i18n="expression">Expression</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Expression" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Expression" value="1" /><span></span><input type="radio" class="dot" name="attr_Expression" value="2" /><span></span><input type="radio" class="dot" name="attr_Expression" value="3" /><span></span><input type="radio" class="dot" name="attr_Expression" value="4" /><span></span><input type="radio" class="dot" name="attr_Expression" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_intimidation_flag" value="0" />
                                <button type="action" class="toggle" name="act_intimidation" data-i18n="intimidation">Intimidation</button>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Intimidation" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Intimidation" value="1" /><span></span><input type="radio" class="dot" name="attr_Intimidation" value="2" /><span></span><input type="radio" class="dot" name="attr_Intimidation" value="3" /><span></span><input type="radio" class="dot" name="attr_Intimidation" value="4" /><span></span><input type="radio" class="dot" name="attr_Intimidation" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_persuasion_flag" value="0" />
                                <button type="action" class="toggle" name="act_persuasion" data-i18n="persuasion">Persuasion</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Persuasion" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Persuasion" value="1" /><span></span><input type="radio" class="dot" name="attr_Persuasion" value="2" /><span></span><input type="radio" class="dot" name="attr_Persuasion" value="3" /><span></span><input type="radio" class="dot" name="attr_Persuasion" value="4" /><span></span><input type="radio" class="dot" name="attr_Persuasion" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_socialize_flag" value="0" />
                                <button type="action" class="toggle" name="act_socialize" data-i18n="socialize">Socialize</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Socialize" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Socialize" value="1" /><span></span><input type="radio" class="dot" name="attr_Socialize" value="2" /><span></span><input type="radio" class="dot" name="attr_Socialize" value="3" /><span></span><input type="radio" class="dot" name="attr_Socialize" value="4" /><span></span><input type="radio" class="dot" name="attr_Socialize" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_streetwise_flag" value="0" />
                                <button type="action" class="toggle" name="act_streetwise" data-i18n="streetwise">Streetwise</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Streetwise" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Streetwise" value="1" /><span></span><input type="radio" class="dot" name="attr_Streetwise" value="2" /><span></span><input type="radio" class="dot" name="attr_Streetwise" value="3" /><span></span><input type="radio" class="dot" name="attr_Streetwise" value="4" /><span></span><input type="radio" class="dot" name="attr_Streetwise" value="5" /><span></span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <input type="hidden" class="flag" name="attr_subterfuge_flag" value="0" />
                                <button type="action" class="toggle" name="act_subterfuge" data-i18n="subterfuge">Subterfuge</button>
                            </td>
                            <td>
                                <input type="radio" class="dot zero" name="attr_Subterfuge" value="-1" checked="checked" /><span></span><input type="radio" class="dot" name="attr_Subterfuge" value="1" /><span></span><input type="radio" class="dot" name="attr_Subterfuge" value="2" /><span></span><input type="radio" class="dot" name="attr_Subterfuge" value="3" /><span></span><input type="radio" class="dot" name="attr_Subterfuge" value="4" /><span></span><input type="radio" class="dot" name="attr_Subterfuge" value="5" /><span></span>
                            </td>
                        </tr>
                    </tbody>
                </table>
            </div>
    
            <div class="corporeal horizontal-spacer"></div>
    
            <!-- OTHER TRAITS -->
            <div class="grow">
                <div class="corporeal section-header" data-i18n="other-traits-u">OTHER TRAITS</div>
                <div class="flex">
                    <div class="ephemeral-inverse grow">
                        <div class="columns">
                            <!-- MERITS -->
                            <div>
                                <div class="subheader" data-i18n="merits">Merits</div>
                                <div class="input-list">
                                    <div class="input-group">
                                        <input type="text" name="attr_merit1_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit1" value="0">
                                            <button type="action" class="dot zero" name="act_merit1_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit1_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit1_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit1_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit1_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit1_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit2_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit2" value="0">
                                            <button type="action" class="dot zero" name="act_merit2_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit2_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit2_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit2_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit2_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit2_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit3_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit3" value="0">
                                            <button type="action" class="dot zero" name="act_merit3_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit3_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit3_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit3_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit3_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit3_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit4_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit4" value="0">
                                            <button type="action" class="dot zero" name="act_merit4_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit4_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit4_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit4_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit4_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit4_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit5_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit5" value="0">
                                            <button type="action" class="dot zero" name="act_merit5_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit5_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit5_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit5_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit5_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit5_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit6_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit6" value="0">
                                            <button type="action" class="dot zero" name="act_merit6_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit6_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit6_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit6_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit6_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit6_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit7_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit7" value="0">
                                            <button type="action" class="dot zero" name="act_merit7_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit7_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit7_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit7_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit7_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit7_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit8_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit8" value="0">
                                            <button type="action" class="dot zero" name="act_merit8_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit8_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit8_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit8_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit8_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit8_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit9_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit9" value="0">
                                            <button type="action" class="dot zero" name="act_merit9_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit9_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit9_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit9_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit9_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit9_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit10_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit10" value="0">
                                            <button type="action" class="dot zero" name="act_merit10_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit10_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit10_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit10_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit10_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit10_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit11_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit11" value="0">
                                            <button type="action" class="dot zero" name="act_merit11_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit11_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit11_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit11_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit11_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit11_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit12_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit12" value="0">
                                            <button type="action" class="dot zero" name="act_merit12_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit12_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit12_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit12_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit12_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit12_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit13_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit13" value="0">
                                            <button type="action" class="dot zero" name="act_merit13_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit13_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit13_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit13_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit13_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit13_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit14_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit14" value="0">
                                            <button type="action" class="dot zero" name="act_merit14_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit14_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit14_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit14_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit14_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit14_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit15_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit15" value="0">
                                            <button type="action" class="dot zero" name="act_merit15_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit15_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit15_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit15_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit15_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit15_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_merit16_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_merit16" value="0">
                                            <button type="action" class="dot zero" name="act_merit16_0">&times;</button>
                                            <button type="action" class="dot" name="act_merit16_1"></button>
                                            <button type="action" class="dot ne-1" name="act_merit16_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_merit16_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_merit16_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_merit16_5"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class="horizontal-spacer"></div>
                            <!-- OTHER TRAITS -->
                            <div class="mortal werewolf promethean changeling geist mummy hunter demon beast">
                                <div class="subheader">
                                    <span class="mortal1 mortal2" data-i18n="other" >Other</span>
                                    <span class="organization" data-i18n="ceremonies" >Ceremonies</span>
                                    <span class="werewolf" data-i18n="gifts-rites" >Gifts/Rites</span>
                                    <span class="promethean" data-i18n="transmutations" >Transmutations</span>
                                    <span class="changeling" data-i18n="contracts" >Contracts</span>
                                    <span class="geist1" data-i18n="manifestations" >Manifestations</span>
                                    <span class="geist2" data-i18n="haunts" >Haunts</span>
                                    <span class="mummy" data-i18n="pillars" >Pillars</span>
                                    <span class="demon" data-i18n="embeds-explo" >Embeds/Exploits</span>
                                    <span class="beast" data-i18n="nightmares-atavisms" >Nightmares/Atavisms</span>
                                    <span class="hunter" data-i18n="endowments" >Endowments</span>
                                </div>
                                <div class="input-list">
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait1_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait1" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait1_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait1_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait1_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait1_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait1_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait1_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait2_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait2" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait2_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait2_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait2_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait2_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait2_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait2_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait3_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait3" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait3_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait3_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait3_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait3_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait3_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait3_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait4_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait4" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait4_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait4_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait4_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait4_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait4_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait4_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait5_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait5" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait5_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait5_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait5_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait5_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait5_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait5_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait6_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait6" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait6_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait6_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait6_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait6_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait6_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait6_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait7_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait7" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait7_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait7_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait7_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait7_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait7_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait7_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait8_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait8" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait8_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait8_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait8_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait8_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait8_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait8_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait9_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait9" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait9_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait9_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait9_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait9_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait9_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait9_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait10_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait10" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait10_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait10_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait10_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait10_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait10_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait10_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait11_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait11" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait11_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait11_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait11_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait11_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait11_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait11_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait12_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait12" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait12_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait12_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait12_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait12_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait12_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait12_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait13_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait13" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait13_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait13_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait13_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait13_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait13_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait13_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait14_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait14" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait14_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait14_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait14_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait14_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait14_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait14_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait15_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait15" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait15_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait15_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait15_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait15_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait15_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait15_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_othertrait16_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_othertrait16" value="0">
                                            <button type="action" class="dot zero" name="act_othertrait16_0">&times;</button>
                                            <button type="action" class="dot" name="act_othertrait16_1"></button>
                                            <button type="action" class="dot ne-1" name="act_othertrait16_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_othertrait16_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_othertrait16_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_othertrait16_5"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- DISCIPLINES -->
                            <div class="vampire">
                                <div class="subheader">
                                    <span data-i18n="disciplines" >Disciplines</span>
                                </div>
                                <div class="input-list">
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Animalism_flag" value="0" />
                                        <button type="action" class="toggle" name="act_animalism" data-i18n="animalism">Animalism</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Animalism" value="0">
                                            <button type="action" class="dot zero" name="act_Animalism_0">&times;</button>
                                            <button type="action" class="dot" name="act_Animalism_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Animalism_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Animalism_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Animalism_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Animalism_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Auspex_flag" value="0" />
                                        <button type="action" class="toggle" name="act_auspex" data-i18n="auspex">Auspex</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Auspex" value="0">
                                            <button type="action" class="dot zero" name="act_Auspex_0">&times;</button>
                                            <button type="action" class="dot" name="act_Auspex_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Auspex_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Auspex_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Auspex_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Auspex_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Celerity_flag" value="0" />
                                        <button type="action" class="toggle" name="act_celerity" data-i18n="celerity">Celerity</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Celerity" value="0">
                                            <button type="action" class="dot zero" name="act_Celerity_0">&times;</button>
                                            <button type="action" class="dot" name="act_Celerity_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Celerity_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Celerity_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Celerity_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Celerity_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Dominate_flag" value="0" />
                                        <button type="action" class="toggle" name="act_dominate" data-i18n="dominate">Dominate</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Dominate" value="0">
                                            <button type="action" class="dot zero" name="act_Dominate_0">&times;</button>
                                            <button type="action" class="dot" name="act_Dominate_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Dominate_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Dominate_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Dominate_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Dominate_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Majesty_flag" value="0" />
                                        <button type="action" class="toggle" name="act_majesty" data-i18n="majesty">Majesty</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Majesty" value="0">
                                            <button type="action" class="dot zero" name="act_Majesty_0">&times;</button>
                                            <button type="action" class="dot" name="act_Majesty_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Majesty_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Majesty_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Majesty_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Majesty_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Nightmare_flag" value="0" />
                                        <button type="action" class="toggle" name="act_nightmare" data-i18n="nightmare">Nightmare</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Nightmare" value="0">
                                            <button type="action" class="dot zero" name="act_Nightmare_0">&times;</button>
                                            <button type="action" class="dot" name="act_Nightmare_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Nightmare_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Nightmare_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Nightmare_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Nightmare_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Obfuscate_flag" value="0" />
                                        <button type="action" class="toggle" name="act_obfuscate" data-i18n="obfuscate">Obfuscate</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Obfuscate" value="0">
                                            <button type="action" class="dot zero" name="act_Obfuscate_0">&times;</button>
                                            <button type="action" class="dot" name="act_Obfuscate_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Obfuscate_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Obfuscate_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Obfuscate_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Obfuscate_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Protean_flag" value="0" />
                                        <button type="action" class="toggle" name="act_protean" data-i18n="protean">Protean</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Protean" value="0">
                                            <button type="action" class="dot zero" name="act_Protean_0">&times;</button>
                                            <button type="action" class="dot" name="act_Protean_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Protean_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Protean_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Protean_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Protean_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Resilience_flag" value="0" />
                                        <button type="action" class="toggle" name="act_resilience" data-i18n="resilience">Resilience</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Resilience" value="0">
                                            <button type="action" class="dot zero" name="act_Resilience_0">&times;</button>
                                            <button type="action" class="dot" name="act_Resilience_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Resilience_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Resilience_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Resilience_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Resilience_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Vigor_flag" value="0" />
                                        <button type="action" class="toggle" name="act_vigor" data-i18n="vigor">Vigor</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Vigor" value="0">
                                            <button type="action" class="dot zero" name="act_Vigor_0">&times;</button>
                                            <button type="action" class="dot" name="act_Vigor_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Vigor_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Vigor_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Vigor_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Vigor_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Crúac_flag" value="0" />
                                        <button type="action" class="toggle" name="act_crúac" data-i18n="crúac">Crúac</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Crúac" value="0">
                                            <button type="action" class="dot zero" name="act_Crúac_0">&times;</button>
                                            <button type="action" class="dot" name="act_Crúac_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Crúac_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Crúac_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Crúac_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Crúac_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_ThebanSorcery_flag" value="0" />
                                        <button type="action" class="toggle" name="act_ThebanSorcery" data-i18n="thebansorcery">Theban Sorcery</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_ThebanSorcery" value="0">
                                            <button type="action" class="dot zero" name="act_ThebanSorcery_0">&times;</button>
                                            <button type="action" class="dot" name="act_ThebanSorcery_1"></button>
                                            <button type="action" class="dot ne-1" name="act_ThebanSorcery_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_ThebanSorcery_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_ThebanSorcery_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_ThebanSorcery_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_discipline1_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_discipline1" value="0">
                                            <button type="action" class="dot zero" name="act_discipline1_0">&times;</button>
                                            <button type="action" class="dot" name="act_discipline1_1"></button>
                                            <button type="action" class="dot ne-1" name="act_discipline1_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_discipline1_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_discipline1_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_discipline1_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_discipline2_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_discipline2" value="0">
                                            <button type="action" class="dot zero" name="act_discipline2_0">&times;</button>
                                            <button type="action" class="dot" name="act_discipline2_1"></button>
                                            <button type="action" class="dot ne-1" name="act_discipline2_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_discipline2_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_discipline2_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_discipline2_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_discipline3_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_discipline3" value="0">
                                            <button type="action" class="dot zero" name="act_discipline3_0">&times;</button>
                                            <button type="action" class="dot" name="act_discipline3_1"></button>
                                            <button type="action" class="dot ne-1" name="act_discipline3_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_discipline3_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_discipline3_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_discipline3_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_discipline4_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_discipline4" value="0">
                                            <button type="action" class="dot zero" name="act_discipline4_0">&times;</button>
                                            <button type="action" class="dot" name="act_discipline4_1"></button>
                                            <button type="action" class="dot ne-1" name="act_discipline4_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_discipline4_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_discipline4_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_discipline4_5"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <!-- ARCANA -->
                            <div class="mage">
                                <div class="subheader">
                                    <span class="mage" data-i18n="arcana" >Arcana</span>
                                </div>
                                <div class="input-list">
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Death_flag" value="0" />
                                        <button type="action" class="toggle" name="act_death" data-i18n="death">Death</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Death" value="0">
                                            <button type="action" class="dot zero" name="act_Death_0">&times;</button>
                                            <button type="action" class="dot" name="act_Death_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Death_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Death_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Death_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Death_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Fate_flag" value="0" />
                                        <button type="action" class="toggle" name="act_fate" data-i18n="fate">Fate</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Fate" value="0">
                                            <button type="action" class="dot zero" name="act_Fate_0">&times;</button>
                                            <button type="action" class="dot" name="act_Fate_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Fate_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Fate_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Fate_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Fate_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Forces_flag" value="0" />
                                        <button type="action" class="toggle" name="act_forces" data-i18n="forces">Forces</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Forces" value="0">
                                            <button type="action" class="dot zero" name="act_Forces_0">&times;</button>
                                            <button type="action" class="dot" name="act_Forces_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Forces_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Forces_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Forces_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Forces_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Life_flag" value="0" />
                                        <button type="action" class="toggle" name="act_life" data-i18n="life">Life</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Life" value="0">
                                            <button type="action" class="dot zero" name="act_Life_0">&times;</button>
                                            <button type="action" class="dot" name="act_Life_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Life_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Life_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Life_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Life_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Matter_flag" value="0" />
                                        <button type="action" class="toggle" name="act_matter" data-i18n="matter">Matter</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Matter" value="0">
                                            <button type="action" class="dot zero" name="act_Matter_0">&times;</button>
                                            <button type="action" class="dot" name="act_Matter_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Matter_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Matter_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Matter_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Matter_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Mind_flag" value="0" />
                                        <button type="action" class="toggle" name="act_mind" data-i18n="mind">Mind</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Mind" value="0">
                                            <button type="action" class="dot zero" name="act_Mind_0">&times;</button>
                                            <button type="action" class="dot" name="act_Mind_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Mind_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Mind_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Mind_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Mind_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Prime_flag" value="0" />
                                        <button type="action" class="toggle" name="act_prime" data-i18n="prime">Prime</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Prime" value="0">
                                            <button type="action" class="dot zero" name="act_Prime_0">&times;</button>
                                            <button type="action" class="dot" name="act_Prime_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Prime_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Prime_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Prime_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Prime_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Spirit_flag" value="0" />
                                        <button type="action" class="toggle" name="act_spirit" data-i18n="spirit">Spirit</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Spirit" value="0">
                                            <button type="action" class="dot zero" name="act_Spirit_0">&times;</button>
                                            <button type="action" class="dot" name="act_Spirit_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Spirit_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Spirit_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Spirit_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Spirit_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Space_flag" value="0" />
                                        <button type="action" class="toggle" name="act_space" data-i18n="space">Space</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Space" value="0">
                                            <button type="action" class="dot zero" name="act_Space_0">&times;</button>
                                            <button type="action" class="dot" name="act_Space_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Space_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Space_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Space_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Space_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="hidden" class="flag" name="attr_Time_flag" value="0" />
                                        <button type="action" class="toggle" name="act_time" data-i18n="time">Time</button>
                                        <div class="dots">
                                            <input type="hidden" name="attr_Time" value="0">
                                            <button type="action" class="dot zero" name="act_Time_0">&times;</button>
                                            <button type="action" class="dot" name="act_Time_1"></button>
                                            <button type="action" class="dot ne-1" name="act_Time_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_Time_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_Time_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_Time_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_arcana1_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_arcana1" value="0">
                                            <button type="action" class="dot zero" name="act_arcana1_0">&times;</button>
                                            <button type="action" class="dot" name="act_arcana1_1"></button>
                                            <button type="action" class="dot ne-1" name="act_arcana1_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_arcana1_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_arcana1_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_arcana1_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_arcana2_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_arcana2" value="0">
                                            <button type="action" class="dot zero" name="act_arcana2_0">&times;</button>
                                            <button type="action" class="dot" name="act_arcana2_1"></button>
                                            <button type="action" class="dot ne-1" name="act_arcana2_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_arcana2_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_arcana2_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_arcana2_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_arcana3_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_arcana3" value="0">
                                            <button type="action" class="dot zero" name="act_arcana3_0">&times;</button>
                                            <button type="action" class="dot" name="act_arcana3_1"></button>
                                            <button type="action" class="dot ne-1" name="act_arcana3_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_arcana3_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_arcana3_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_arcana3_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_arcana4_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_arcana4" value="0">
                                            <button type="action" class="dot zero" name="act_arcana4_0">&times;</button>
                                            <button type="action" class="dot" name="act_arcana4_1"></button>
                                            <button type="action" class="dot ne-1" name="act_arcana4_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_arcana4_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_arcana4_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_arcana4_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_arcana5_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_arcana5" value="0">
                                            <button type="action" class="dot zero" name="act_arcana5_0">&times;</button>
                                            <button type="action" class="dot" name="act_arcana5_1"></button>
                                            <button type="action" class="dot ne-1" name="act_arcana5_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_arcana5_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_arcana5_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_arcana5_5"></button>
                                        </div>
                                    </div>
                                    <div class="input-group">
                                        <input type="text" name="attr_arcana6_name" />
                                        <div class="dots">
                                            <input type="hidden" name="attr_arcana6" value="0">
                                            <button type="action" class="dot zero" name="act_arcana6_0">&times;</button>
                                            <button type="action" class="dot" name="act_arcana6_1"></button>
                                            <button type="action" class="dot ne-1" name="act_arcana6_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_arcana6_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_arcana6_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_arcana6_5"></button>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="corporeal el_spacer"></div>
                        <table class="corporeal weapontable">
                            <tr class="wpnheader">
                                <td data-i18n="weapon-attack" >Weapon/Attack</td><td data-i18n="type" >Type</td><td data-i18n="damage-short" >Dmg</td><td data-i18n="range" >Range</td><td data-i18n="magnitude-short" >Mag</td><td data-i18n="initiative-short" >Ini</td><td data-i18n="strength-short" >Str</td><td data-i18n="size-short">Sz</td>
                            </tr>
                            <tr>
                                <td><input type="radio" class="sheet-weapon" name="attr_attack" value="{{attack_name=@{attack_name0}}} {{weapon_damage=@{attack_damage0}}} {{range=@{attack_range0}}} @{attack_type0}" checked="checked" /><span></span>
                                    <input type="text" name="attr_attack_name0" class="weaponstat name" disabled="disabled" value="@{unarmedmacro}" /></td>
                                <td class="selectcontainer">
                                    <select name="attr_attack_type0">
                                        <option value="{{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" checked="checked" data-i18n="brawl" >Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage0}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage0}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                    </select>
                                </td>
                                <td><input type="text" name="attr_attack_damage0" class="weaponstat" value="0" /></td>
                                <td><input type="text" name="attr_attack_range0" class="weaponstat range" disabled="disabled" value="-" /></td>
                                <td><input type="text" name="attr_attack_magazine0" class="weaponstat mag" disabled="disabled" value="-" /></td>
                                <td><input type="text" name="attr_attack_initiative0" class="weaponstat" disabled="disabled" value="0" /></td>
                                <td><input type="text" name="attr_attack_strength0" class="weaponstat" disabled="disabled" value="0" /></td>
                                <td><input type="text" name="attr_attack_size0" class="weaponstat" disabled="disabled" value="-" /></td>
                            </tr>
                            <tr>
                                <td><input type="radio" class="sheet-weapon" name="attr_attack" value="{{attack_name=@{attack_name1}}} {{weapon_damage=@{attack_damage1}}} {{range=@{attack_range1}}} @{attack_type1}" /><span></span>
                                    <input type="text" name="attr_attack_name1" class="weaponstat name" /></td>
                                <td class="selectcontainer">
                                    <select name="attr_attack_type1">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option value="{{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl" >Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage1}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                    </select>
                                </td>
                                <td><input type="text" name="attr_attack_damage1" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_range1" class="weaponstat range" /></td>
                                <td><input type="text" name="attr_attack_magazine1" class="weaponstat mag" /></td>
                                <td><input type="text" name="attr_attack_initiative1" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_strength1" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_size1" class="weaponstat" /></td>
                            </tr>
                            <tr>
                                <td><input type="radio" class="sheet-weapon" name="attr_attack" value="{{attack_name=@{attack_name2}}} {{weapon_damage=@{attack_damage2}}} {{range=@{attack_range2}}} @{attack_type2}" /><span></span>
                                    <input type="text" name="attr_attack_name2" class="weaponstat name" /></td>
                                <td class="selectcontainer">
                                    <select name="attr_attack_type2">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option value="{{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl" >Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage2}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage2}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                    </select>
                                </td>
                                <td><input type="text" name="attr_attack_damage2" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_range2" class="weaponstat range" /></td>
                                <td><input type="text" name="attr_attack_magazine2" class="weaponstat mag" /></td>
                                <td><input type="text" name="attr_attack_initiative2" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_strength2" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_size2" class="weaponstat" /></td>
                            </tr>
                            <tr>
                                <td><input type="radio" class="sheet-weapon" name="attr_attack" value="{{attack_name=@{attack_name3}}} {{weapon_damage=@{attack_damage3}}} {{range=@{attack_range3}}} @{attack_type3}" /><span></span>
                                    <input type="text" name="attr_attack_name3" class="weaponstat name" /></td>
                                <td class="selectcontainer">
                                    <select name="attr_attack_type3">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option value="{{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl" >Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage3}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage3}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                    </select>
                                </td>
                                <td><input type="text" name="attr_attack_damage3" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_range3" class="weaponstat range" /></td>
                                <td><input type="text" name="attr_attack_magazine3" class="weaponstat mag" /></td>
                                <td><input type="text" name="attr_attack_initiative3" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_strength3" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_size3" class="weaponstat" /></td>
                            </tr>
                            <tr>
                                <td><input type="radio" class="sheet-weapon" name="attr_attack" value="{{attack_name=@{attack_name4}}} {{weapon_damage=@{attack_damage4}}} {{range=@{attack_range4}}} @{attack_type4}" /><span></span>
                                    <input type="text" name="attr_attack_name4" class="weaponstat name" /></td>
                                <td class="selectcontainer">
                                    <select name="attr_attack_type4">
                                        <option value="{{result=[[{((?{@{modifiermacro}|0})" checked="checked"></option>
                                        <option value="{{str=1}} {{bra=1}} {{result=[[{((@{strength}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl" >Brawl</option>
                                        <option class="1st" value="{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage4}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="1st" value="{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage4}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee" >Melee</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="gun" >Gun</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="thrown" >Thrown</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="brawl-fight-finesse" >Brawl* (Fighting Finesse)</option>
                                        <option class="2nd" value="{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})" data-i18n="melee-fight-finesse" >Melee* (Fighting Finesse)</option>
                                    </select>
                                </td>
                                <td><input type="text" name="attr_attack_damage4" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_range4" class="weaponstat range" /></td>
                                <td><input type="text" name="attr_attack_magazine4" class="weaponstat mag" /></td>
                                <td><input type="text" name="attr_attack_initiative4" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_strength4" class="weaponstat" /></td>
                                <td><input type="text" name="attr_attack_size4" class="weaponstat" /></td>
                            </tr>
                        </table>
                        <div class="corporeal el_spacer"></div>
                        <table class="corporeal weapontable armortable">
                            <tr class="wpnheader">
                                <td data-i18n="armor" >Armor</td><td data-i18n="rating" >Rating</td><td data-i18n="strength-short" >Str</td><td data-i18n="defence-short" >Def</td><td data-i18n="speed-short" >Spd</td><td data-i18n="description-armor" >Description</td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="sheet-weapon" name="attr_armor_flag0" value="1" /><span></span>
                                    <input type="text" name="attr_armor_name0" class="weaponstat name" /></td>
                                <td><input type="text" name="attr_armor_ballistic0" class="weaponstat" />/<input type="text" name="attr_armor_general0" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_strength0" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_defense0" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_speed0" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_description0" class="weaponstat desc" /></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="sheet-weapon" name="attr_armor_flag1" value="1" /><span></span>
                                    <input type="text" name="attr_armor_name1" class="weaponstat name" /></td>
                                <td><input type="text" name="attr_armor_ballistic1" class="weaponstat" />/<input type="text" name="attr_armor_general1" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_strength1" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_defense1" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_speed1" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_description1" class="weaponstat desc" /></td>
                            </tr>
                            <tr>
                                <td><input type="checkbox" class="sheet-weapon" name="attr_armor_flag2" value="1" /><span></span>
                                    <input type="text" name="attr_armor_name2" class="weaponstat name" /></td>
                                <td><input type="text" name="attr_armor_ballistic2" class="weaponstat" />/<input type="text" name="attr_armor_general2" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_strength2" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_defense2" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_speed2" class="weaponstat" /></td>
                                <td><input type="text" name="attr_armor_description2" class="weaponstat desc" /></td>
                            </tr>
                        </table>
                    </div>
                    <div class="geist2-geist grow">
                        <div class="columns">
                            <div>
                                <div class="subheader">
                                    <span data-i18n="remembrances">Remembrances</span>
                                </div>
                                <textarea class="h-100" name="attr_remembrances"></textarea>
                            </div>
                            <div class="horizontal-spacer"></div>
                            <div>
                                <div class="subheader">
                                    <span data-i18n="crisis-point-triggers">Crisis Point Triggers</span>
                                </div>
                                <div class="subsubheader">
                                    <span data-i18n="hazy">Hazy</span>
                                </div>
                                <div class="input-group">
                                    <input type="text" name="attr_trigger_1"/>
                                </div>
                                <div class="el_spacer"></div>
                                <div class="subsubheader">
                                    <span data-i18n="vague">Vague</span>
                                </div>
                                <div class="input-group">
                                    <input type="text" name="attr_trigger_1"/>
                                </div>
                                <div class="el_spacer"></div>
                                <div class="subsubheader">
                                    <span data-i18n="specific">Specific</span>
                                </div>
                                <div class="input-group">
                                    <input type="text" name="attr_trigger_1"/>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="horizontal-spacer"></div>
                    <table class="dottable">
                        <tr>
                            <td class="subheader">
                                <span class="corporeal" data-i18n="health">Health</span>
                                <span class="ephemeral" data-i18n="corpus">Corpus</span>
                                <span class="mortal2-organization" data-i18n="membership">Membership</span>
                                <span class="geist2-organization" data-i18n="congregation">Congregation</span>
                            </td>
                        </tr>
                        <tr>
                            <td>
                                <div class="dots">
                                    <input type="hidden" name="attr_health" class="if" />
                                    <div>
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_1" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_1"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_2" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_2"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_3" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_3"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_4" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_4"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_5" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_5"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_6" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_6"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_7" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_7"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_8" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_8"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_9" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_9"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_10" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_10"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_11" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_11"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_12" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_12"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_13" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_13"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_14" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_14"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_15" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_15"></button>
                                        </div>
                                    </div>
                                    <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14 ne-15">
                                        <div>
                                            <button class="dot active"></button>
                                        </div>
                                        <div class="healthbox">
                                            <input type="hidden" name="attr_healthbox_16" value="0" />
                                            <button type="action" class="damage" name="act_healthbox_16"></button>
                                        </div>
                                    </div>
                                </div>
                                <div class="corporeal dots">
                                    <input type="hidden" name="attr_health" class="if" />
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14 ne-15"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6 ne-7"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5 ne-6"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4 ne-5"></div>
                                    <div class="healthbox ne-2 ne-3 ne-4"></div>
                                    <div class="healthbox ne-2 ne-3"></div>
                                    <span class="healthbox ne-2" name="attr_wound_penalty_1">-1</span>
                                    <span class="healthbox" name="attr_wound_penalty_2">-2</span>
                                    <span class="healthbox" name="attr_wound_penalty_3">-3</span>
                                </div>
                            </td>
                        </tr>
                        <tr>
                            <td class="el_spacer"></td>
                        </tr>
                        <tbody class="corporeal">
                            <tr>
                                <td class="subheader" data-i18n="willpower">Willpower</td>
                            </tr>
                            <tr>
                                <td class="variablecontainer">
                                    <input type="hidden" name="attr_willpower_flag">
                                    <input type="radio" class="dot" name="attr_willpower" value="1" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box1"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="2" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box2"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="3" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box3"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="4" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box4"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="5" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box5"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="6" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box6"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="7" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box7"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="8" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box8"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="9" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box9"><span></span></span><input type="radio" class="dot" name="attr_willpower" value="10" /><span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_willpower_box10"><span></span></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="spacer"></td>
                            </tr>
                        </tbody>
                        <tbody class="mortal1 mortal2 vampire werewolf mage promethean changeling hunter geist1 mummy demon beast">
                            <tr>
                                <td class="subheader">
                                    <span class="mortal1 hunter1" data-i18n="morality" >Morality</span>
                                    <span class="mortal2 hunter2" data-i18n="integrity" >Integrity</span>
                                    <span class="vampire" data-i18n="humanity" >Humanity</span>
                                    <span class="promethean1" data-i18n="humanity" >Humanity</span>
                                    <span class="promethean2" data-i18n="pilgrimage" >Pilgrimage</span>
                                    <span class="werewolf" data-i18n="harmony" >Harmony</span>
                                    <span class="mage" data-i18n="wisdom" >Wisdom</span>
                                    <span class="changeling" data-i18n="clarity" >Clarity</span>
                                    <span class="geist1" data-i18n="synergy" >Synergy</span>
                                    <span class="mummy" data-i18n="memory" >Memory</span>
                                    <span class="demon" data-i18n="cover" >Cover</span>
                                    <span class="beast" data-i18n="satiety" >Satiety</span>
                                </td>
                            </tr>
                            <tr class="changeling2">
                                <td>
                                    <div class="dots">
                                        <input type="hidden" name="attr_moralhealth" class="if" />
                                        <div>
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_1" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_1"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_2" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_2"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_3" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_3"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_4" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_4"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_5" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_5"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_6" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_6"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_7" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_7"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_8" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_8"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_9" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_9"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_10" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_10"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_11" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_11"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_12" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_12"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_13" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_13"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_14" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_14"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_15" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_15"></button>
                                            </div>
                                        </div>
                                        <div class="ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9 ne-10 ne-11 ne-12 ne-13 ne-14 ne-15">
                                            <div>
                                                <button class="dot active"></button>
                                            </div>
                                            <div class="healthbox">
                                                <input type="hidden" name="attr_moralhealthbox_16" value="0" />
                                                <button type="action" class="damage" name="act_moralhealthbox_16"></button>
                                            </div>
                                        </div>
                                    </div>
                                </td>
                            </tr>
                            <tr class="changeling2-inverse">
                                <td style="text-align: center;">
                                    <input type="radio" class="dot" name="attr_morality" value="1" /><span></span><input type="radio" class="dot" name="attr_morality" value="2" /><span></span><input type="radio" class="dot" name="attr_morality" value="3" /><span></span><input type="radio" class="dot" name="attr_morality" value="4" /><span></span><input type="radio" class="dot" name="attr_morality" value="5" /><span></span><input type="radio" class="dot" name="attr_morality" value="6" /><span></span><input type="radio" class="dot" name="attr_morality" value="7" checked="checked" /><span></span><input type="radio" class="dot" name="attr_morality" value="8" /><span></span><input type="radio" class="dot" name="attr_morality" value="9" /><span></span><input type="radio" class="dot" name="attr_morality" value="10" /><span></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="el_spacer"></td>
                            </tr>
                        </tbody>
                        <tr class="mortal1 mortal2">
                            <td>
                                <table>
                                    <tr>
                                        <td class="subheader" data-i18n="conditions">Conditions</td>
                                    </tr>
                                    <tr>
                                        <td class="rowtext"><input type="text" name="attr_conditions1" /></td>
                                    </tr>
                                    <tr>
                                        <td class="rowtext"><input type="text" name="attr_conditions2" /></td>
                                    </tr>
                                    <tr>
                                        <td class="rowtext"><input type="text" name="attr_conditions3" /></td>
                                    </tr>
                                    <tr>
                                        <td class="rowtext"><input type="text" name="attr_conditions4" /></td>
                                    </tr>
                                    <tr>
                                        <td class="el_spacer"></td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr class="mortal2-organization vampire werewolf mage promethean changeling geist mummy demon beast">
                            <td>
                                <table class="potency">
                                    <tr>
                                        <td class="subheader">
                                            <input type="hidden" class="flag" name="attr_potency_flag" value="0" />
                                            <button type="action" class="toggle ephemeral" name="act_potency" data-i18n="rank">Rank</button>
                                            <button type="action" class="toggle mortal2-organization" name="act_potency" data-i18n="standing">Standing</button>
                                            <button type="action" class="toggle vampire" name="act_potency" data-i18n="blood-potency" >Blood Potency</button>
                                            <button type="action" class="toggle werewolf" name="act_potency" data-i18n="primal-urge" >Primal Urge</button>
                                            <button type="action" class="toggle mage" name="act_potency" data-i18n="gnosis" >Gnosis</button>
                                            <button type="action" class="toggle promethean" name="act_potency" data-i18n="azoth" >Azoth</button>
                                            <button type="action" class="toggle changeling" name="act_potency" data-i18n="wyrd" >Wyrd</button>
                                            <button type="action" class="toggle geist1" name="act_potency" data-i18n="psyche" >Psyche</button>
                                            <button type="action" class="toggle geist2" name="act_potency" data-i18n="synergy" >Synergy</button>
                                            <button type="action" class="toggle geist2-organization" name="act_potency" data-i18n="esotery">Esotery</button>
                                            <button type="action" class="toggle mummy" name="act_potency" data-i18n="sekhem" >Sekhem</button>
                                            <button type="action" class="toggle demon" name="act_potency" data-i18n="primum" >Primum</button>
                                            <button type="action" class="toggle beast" name="act_potency" data-i18n="lair" >Lair</button>
                                        </td>
                                    </tr>
                                    <tr>
                                        <td>
                                            <div class="dots">
                                            <input type="hidden" name="attr_potency" value="1" />
                                            <button type="action" class="dot" name="act_potency_1"></button>
                                            <button type="action" class="dot ne-1" name="act_potency_2"></button>
                                            <button type="action" class="dot ne-1 ne-2" name="act_potency_3"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3" name="act_potency_4"></button>
                                            <button type="action" class="dot ne-1 ne-2 ne-3 ne-4" name="act_potency_5"></button>
                                            <button type="action" class="ephemeral-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5" name="act_potency_6"></button>
                                            <button type="action" class="ephemeral-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6" name="act_potency_7"></button>
                                            <button type="action" class="ephemeral-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7" name="act_potency_8"></button>
                                            <button type="action" class="ephemeral-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8" name="act_potency_9"></button>
                                            <button type="action" class="ephemeral-inverse dot ne-1 ne-2 ne-3 ne-4 ne-5 ne-6 ne-7 ne-8 ne-9" name="act_potency_10"></button>
                                            </div>
                                        </td>
                                    </tr>
                                </table>
                            </td>
                        </tr>
                        <tr>
                            <td class="el_spacer"></td>
                        </tr>
                        <tbody class="vampire werewolf mage promethean changeling geist1 geist2 mummy demon beast">
                            <tr>
                                <td>
                                    <table class="potency">
                                        <tr>
                                            <td class="subheader">
                                                <span class="vampire" data-i18n="vitae" >Vitae</span>
                                                <span class="werewolf" data-i18n="essence" >Essence</span>
                                                <span class="mage" data-i18n="mana" >Mana</span>
                                                <span class="promethean" data-i18n="pyros" >Pyros</span>
                                                <span class="changeling" data-i18n="glamour" >Glamour</span>
                                                <span class="geist" data-i18n="plasm" >Plasm</span>
                                                <span class="demon" data-i18n="aether" >Aether</span>
                                            </td>
                                        </tr>
                                        <tr class="vitae">
                                            <td class="vitae">
                                                <span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box1"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box2"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box3"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box4"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box5"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box6"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box7"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box8"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box9"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box10"><span></span></span>
                                            </td>
                                        </tr>
                                        <tr class="vitae">
                                            <td class="vitae">
                                                <span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box11"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box12"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box13"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box14"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box15"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box16"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box17"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box18"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box19"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box20"><span></span></span>
                                            </td>
                                        </tr>
                                        <tr class="vitae geist">
                                            <td class="vitae">
                                                <span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box21"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box22"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box23"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box24"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box25"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box26"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box27"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box28"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box29"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_vitae_box30"><span></span></span>
                                            </td>
                                        </tr>
                                    </table>
                                </td>
                            </tr>
                            <tr>
                                <td class="el_spacer"></td>
                            </tr>
                        </tbody>
                        <tbody class="corporeal">
                            <tr>
                                <td class="subheader" data-i18n="specializations">Specializations</td>
                            </tr>
                            <tr>
                                <td class="rowtext"><input type="text" name="attr_specializations1" /></td>
                            </tr>
                            <tr>
                                <td class="rowtext"><input type="text" name="attr_specializations2" /></td>
                            </tr>
                            <tr>
                                <td class="rowtext"><input type="text" name="attr_specializations3" /></td>
                            </tr>
                            <tr>
                                <td class="rowtext"><input type="text" name="attr_specializations4" /></td>
                            </tr>
                            <tr>
                                <td class="el_spacer"></td>
                            </tr>
                        </tbody>
                        <tbody class="geist2-geist">
                            <tr>
                                <td class="subheader" data-i18n="innate-key">Innate Key</td>
                            </tr>
                            <tr>
                                <td class="rowtext">
                                    <input type="text" name="attr_innate_key" />
                                </td>
                            </tr>
                            <tr>
                                <td class="el_spacer"></td>
                            </tr>
                        </tbody>
                        <tbody class="organization-inverse">
                            <tr>
                                <td class="derived">
                                    <span data-i18n="size">Size</span>:<input type="number" name="attr_size" value="@{base_size}+@{giant}+@{small_framed}" disabled="disabled" />
                                </td>
                            </tr>
                            <tr>
                                <td class="derived">
                                    <span data-i18n="speed">Speed</span>:<input type="number" name="attr_speed" value="@{species_factor}+@{speed_base}+@{speed_penalty}+@{fleet_of_foot}" disabled="disabled" />
                                    <span class="vampire">/<input type="number" name="attr_speedwcelerity" value="((1+@{Celerity})*(@{speed}))" disabled="disabled" /></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="derived"><span data-i18n="defense">Defense</span>:<input type="number" name="attr_defense" value="@{defense_base}+@{defense_penalty}" disabled="disabled"/>
                                    <span class="vampire">+<input type="number" name="attr_celeritydefensebonus" value="@{celerity}" disabled="disabled" /></span>
                                </td>
                            </tr>
                            <tr>
                                <td class="derived">
                                    <span data-i18n="armor">Armor</span>:<input type="number" name="attr_balistic_armor_display" value="@{balistic_armor}" disabled="disabled"/>/<input type="number" name="attr_general_armor_display" value="@{general_armor}" disabled="disabled" />
                                </td>
                            </tr>
                            <tr>
                                <td class="derived">
                                    <span data-i18n="initiative">Initiative</span>:<input type="number" name="attr_initiative" value="@{initiative_base}+@{initiative_penalty}+@{fast_reflexes}" disabled="disabled" />
                                    <span class="vampire1">+<input type="number" name="attr_celerityinitbonus" value="@{celerity}" disabled="disabled" /></span>
                                </td>
                            </tr>
                        </tbody>
                        <tbody  class="ephemeral-inverse">
                            <tr>
                                <td>
                                    <div class="input-group">
                                        <span data-i18n="experience">Experience</span>
                                        <span>:</span>
                                        <input type="text" name="attr_experience">
                                    </div>
                                </td>
                            </tr>
                            <tr>
                                <td><span class="2nd"><span data-i18n="beats">Beats</span>: <span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_beat_box1"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_beat_box2"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_beat_box3"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_beat_box4"><span></span></span><span class="healthboxcontainer"><input type="checkbox" class="checkbox" name="attr_beat_box5"><span></span></span></span></td>
                            </tr>
                        </tbody>
                    </table>
                </div>
            </div>
        </div>
    
        <div class="organization spacer"></div>
    
        <!-- MEMBERS AND REGALIA -->
        <div class="organization columns">
            <div>
                <div class="subheader">
                    <span data-i18n="members">Members</span>
                </div>
                <div>
                    <fieldset class="repeating_members">
                        <div class="input-group">
                            <input type="text" name="attr_member" />
                        </div>
                    </fieldset>
                </div>
            </div>
            <div class="horizontal-spacer"></div>
            <div>
                <div class="subheader">
                    <span data-i18n="regalia">Regalia</span>
                </div>
                <div>
                    <fieldset class="repeating_regalia">
                        <div class="input-group">
                            <input type="text" name="attr_regalia" />
                        </div>
                    </fieldset>
                </div>
            </div>
        </div>
    </div>
    
    <!-- PAGE 2 -->
    <div class="page page2">
    
        <div class="leftcolumn" style="width: 447px;">
    
            <fieldset class="repeating_custom1">
                <div class="sheet-customroll">
                    <span data-i18n="roll-d">Roll:</span>
                    <input type="text" class="name" name="attr_customRollName1">
                    <span  data-i18n="action-d">Action: </span>
                        <select name="attr_customRollAction1">
                            <option value="Reflexive" data-i18n="reflexive" >Reflexive</option>
                            <option value="Instant" selected="selected" data-i18n="instant" >Instant</option>
                            <option value="Extended" data-i18n="extended" >Extended</option>
                            <option value="Contested" data-i18n="contested" >Contested</option>
                        </select>
                    <div class="rollcontainer">
                        <button type="roll" name="roll_customRoll1" value="&{template:wod-3part} {{name=@{character_name}}} {{roll_name=@{customRollName1}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{part1=@{part1name_1}}} {{part2=@{part2name_1}}} {{part3=@{part3name_1}}} {{part1pool=@{part1pool_1}}} {{part2pool=@{part2pool_1}}} {{part3pool=@{part3pool_1}}} {{result=[[{((?{@{modifiermacro}|0}+(@{part1pool_1}+0)+(@{part2pool_1}+0)+(@{part3pool_1}+0))@{rolltype}" ></button>
                    </div>
                    <br>
                    <span data-i18n="source-d">Source: </span>
                    <input type="text" class="name" name="attr_source1">
                    p <input type="text" class="partpool" name="attr_pnum1" style="width: 40px;">
                    <br>
                    <input type="text" class="partname" name="attr_part1name_1" /><input type="text" class="partpool" name="attr_part1pool_1" /><span>+</span><input type="text" class="partname" name="attr_part2name_1" /><input type="text" class="partpool" name="attr_part2pool_1" /><span>+</span><input type="text" class="partname" name="attr_part3name_1" /><input type="text" class="partpool" name="attr_part3pool_1" />
                    <br>
                    <textarea rows="2" cols="40" name="attr_part1text_1"></textarea>
                </div>
            </fieldset>
    
        </div>
        <div class="rightcolumn" style="width: 447px;">
    
            <fieldset class="repeating_custom2">
                <div class="sheet-customroll">
                    <span  data-i18n="roll-d">Roll:</span>
                    <input type="text" class="name" name="attr_customRollName2">
                    <span  data-i18n="action-d">Action: </span>
                        <select name="attr_customRollAction2">
                            <option value="Reflexive" data-i18n="reflexive" >Reflexive</option>
                            <option value="Instant" selected="selected" data-i18n="instant" >Instant</option>
                            <option value="Extended" data-i18n="extended" >Extended</option>
                            <option value="Contested" data-i18n="contested" >Contested</option>
                        </select>
                    <div class="rollcontainer">
                        <button type="roll" name="roll_customRoll2" value="&{template:wod-3part} {{name=@{character_name}}} {{roll_name=@{customRollName2}}} {{mod=[[?{@{modifiermacro}|0}]]}} {{part1=@{part1name_2}}} {{part2=@{part2name_2}}} {{part3=@{part3name_2}}} {{part1pool=@{part1pool_2}}} {{part2pool=@{part2pool_2}}} {{part3pool=@{part3pool_2}}} {{result=[[{((?{@{modifiermacro}|0}+(@{part1pool_2}+0)+(@{part2pool_2}+0)+(@{part3pool_2}+0))@{rolltype}" ></button>
                    </div>
                    <br>
                    <span  data-i18n="source-d">Source: </span>
                    <input type="text" class="name" name="attr_source2">
                    p <input type="text" class="partpool" name="attr_pnum2">
                    <br>
                    <input type="text" class="partname" name="attr_part1name_2" /><input type="text" class="partpool" name="attr_part1pool_2" /><span>+</span><input type="text" class="partname" name="attr_part2name_2" /><input type="text" class="partpool" name="attr_part2pool_2" /><span>+</span><input type="text" class="partname" name="attr_part3name_2" /><input type="text" class="partpool" name="attr_part3pool_2" />
                    <br>
                    <textarea rows="2" cols="40" name="attr_part1text_2"></textarea>
                </div>
            </fieldset>
    
        </div>
    </div>
    
    <!-- PAGE 3 -->
    <div class="page page3" style="width: 100%;">
    
        <div class="leftcolumn">
        <div class="sheet-customroll">
                <span class="subheader" data-i18n="flaws" >Flaws</span><br>
                <textarea rows="2" cols="40" name="attr_flaws"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="allies" >Allies</span><br>
                <textarea rows="2" cols="40" name="attr_allies"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="contacts" >Contacts</span><br>
                <textarea rows="2" cols="40" name="attr_contacts"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="fame" >Fame</span><br>
                <textarea rows="2" cols="40" name="attr_fame"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="gear-carried" >Gear(Carried)</span><br>
                <textarea rows="2" cols="40" name="attr_gear"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="vehicles" >Vehicles</span><br>
                <textarea rows="2" cols="40" name="attr_vehicles"></textarea>
            </div>
            <br>
            <div class="vampire">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="herd" >Herd</span><br>
                    <textarea rows="2" cols="40" name="attr_herd"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="rites-miracles" >Rites/Miracles</span><br>
                    <textarea rows="2" cols="40" name="attr_rites"></textarea>
                </div>
                <br>
            </div>
            <div class="werewolf">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="fetishes" >Fetishes</span><br>
                    <textarea rows="2" cols="40" name="attr_fetishes"></textarea>
                </div>
                <br>
            </div>
            <div class="mage">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="active-spells" >Active Spells</span><br>
                    <textarea rows="2" cols="40" name="attr_activespells"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="nimbus" >Nimbus</span><br>
                    <textarea rows="2" cols="40" name="attr_nimbus"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="dedicated-magic-tools" >Dedicated Magical Tools</span><br>
                    <textarea rows="2" cols="40" name="attr_dedicatedmagicaltools"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="familiar" >Familiar</span><br>
                    <textarea rows="2" cols="40" name="attr_familiar"></textarea>
                </div>
                <br>
            </div>
            <div class="promethean">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="bestowment" >Bestowment</span><br>
                    <textarea rows="2" cols="40" name="attr_bestowment"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="trait-affinities" >Trait Affinities</span><br>
                    <textarea rows="2" cols="40" name="attr_traitaffinities"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="promethean-boon" >Promethean Boon</span><br>
                    <textarea rows="2" cols="40" name="attr_prometheanboon"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="repute" >Repute</span><br>
                    <textarea rows="2" cols="40" name="attr_repute"></textarea>
                </div>
                <br>
            </div>
            <div class="changeling">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="entitlement" >Entitlement</span><br>
                    <textarea rows="2" cols="40" name="attr_entitlement"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="seeming-blessing" >Seeming Blessing</span><br>
                    <textarea rows="2" cols="40" name="attr_seemingblessing"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="goblin-contracts" >Goblin Contracts</span><br>
                    <textarea rows="2" cols="40" name="attr_goblincontract"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="harvest" >Harvest</span><br>
                    <textarea rows="2" cols="40" name="attr_harvest"></textarea>
                </div>
                <br>
            </div>
            <div class="geist1">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="keystone-memento" >Keystone Memento</span><br>
                    <textarea rows="2" cols="40" name="attr_ketystonemomento"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="mementos" >Mementos</span><br>
                    <textarea rows="2" cols="40" name="attr_mementos"></textarea>
                </div>
                <br>
            </div>
            <div class="geist2">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="touchstones" >Touchstones</span><br>
                    <textarea rows="2" cols="40" name="attr_touchstones"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="remembrance-traits" >Remembrance Traits</span><br>
                    <textarea rows="2" cols="40" name="attr_remembrancetraits"></textarea>
                </div>
                <br>
            </div>
            <div class="mummy">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="affinities" >Affinities</span><br>
                    <textarea rows="2" cols="40" name="attr_affinities"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="cult" >Cult</span><br>
                    <textarea rows="2" cols="40" name="attr_culgitt"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="status" >Status</span><br>
                    <textarea rows="2" cols="40" name="attr_status"></textarea>
                </div>
                <br>
            </div>
            <div class="demon">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="glitches" >Glitches</span><br>
                    <textarea rows="2" cols="40" name="attr_glitches"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="pacts" >Pacts</span><br>
                    <textarea rows="2" cols="40" name="attr_pacts"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="interlocks" >Interlocks</span><br>
                    <textarea rows="2" cols="40" name="attr_interlocks"></textarea>
                </div>
                <br>
            </div>
            <div class="beast">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="satiety-preferences" >Satiety Preferences</span><br>
                    <textarea rows="2" cols="40" name="attr_satietypreferences"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="lessons" >Lessons</span><br>
                    <textarea rows="2" cols="40" name="attr_lessons"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="brood" >Brood</span><br>
                    <textarea rows="2" cols="40" name="attr_brood"></textarea>
                </div>
                <br>
            </div>
            <fieldset class="repeating_infoleft">
                <div class="sheet-customroll">
                    <input type="text" class="title" name="attr_titleleft"/><br>
                    <textarea rows="2" cols="40" name="attr_textleft"></textarea>
                </div>
                <br>
            </fieldset>
        </div>
    
        <div class="rightcolumn">
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="derangements" >Derangements</span><br>
                <textarea rows="2" cols="40" name="attr_derangments"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="mentor" >Mentor</span><br>
                <textarea rows="2" cols="40" name="attr_mentor"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="resources" >Resources</span><br>
                <textarea rows="2" cols="40" name="attr_resources"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="retainer" >Retainer</span><br>
                <textarea rows="2" cols="40" name="attr_retainer"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader" data-i18n="equipment-owned" >Equipment(Owned)</span><br>
                <textarea rows="2" cols="40" name="attr_equipment"></textarea>
            </div>
            <br>
            <div class="sheet-customroll">
                <span class="subheader mortal1 mortal2" data-i18n="residence" >Residence</span>
                <span class="subheader vampire" data-i18n="haven" >Haven</span>
                <span class="subheader werewolf" data-i18n="totem" >Totem</span>
                <span class="subheader mage" data-i18n="sanctum" >Sanctum</span>
                <span class="subheader mummy" data-i18n="tomb" >Tomb</span>
                <span class="subheader promethean" data-i18n="lair" >Lair</span>
                <span class="subheader changeling" data-i18n="hollow" >Hollow</span>
                <span class="subheader geist1" data-i18n="haunt" >Haunt</span>
                <span class="subheader geist2" data-i18n="cenote" >Cenote</span>
                <span class="subheader demon" data-i18n="bolthole" >Bolthole</span>
                <span class="subheader beast" data-i18n="lair" >Lair</span>
                <br>
                <textarea rows="2" cols="40" name="attr_residence"></textarea>
            </div>
            <br>
            <div class="vampire">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="status" >Status</span><br>
                    <textarea rows="2" cols="40" name="attr_status"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="viniculum" >Viniculum</span><br>
                    <textarea rows="2" cols="40" name="attr_viniculum"></textarea>
                </div>
                <br>
            </div>
            <div class="werewolf">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="status" >Status</span><br>
                    <textarea rows="2" cols="40" name="attr_status"></textarea>
                </div>
                <br>
            </div>
            <div class="mage">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="spells-cast-self" >Spells Cast Upon Self</span><br>
                    <textarea rows="2" cols="40" name="attr_spellscastuponself"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="paradox-marks" >Paradox Marks</span><br>
                    <textarea rows="2" cols="40" name="attr_paradoxmarks"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="enchanted-items" >Enchanted Items</span><br>
                    <textarea rows="2" cols="40" name="attr_enchanteditems"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="thrall" >Thrall</span><br>
                    <textarea rows="2" cols="40" name="attr_thrall"></textarea>
                </div>
                <br>
            </div>
            <div class="promethean">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="disfigurements" >Disfigurements</span><br>
                    <textarea rows="2" cols="40" name="attr_disfigurements"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="language" >Language</span><br>
                    <textarea rows="2" cols="40" name="attr_language"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="redeemed-boon" >Redeemed Boon</span><br>
                    <textarea rows="2" cols="40" name="attr_redeemedboon"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="residual-memory" >Residual Memory</span><br>
                    <textarea rows="2" cols="40" name="attr_residualmemory"></textarea>
                </div>
                <br>
            </div>
            <div class="changeling">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="kith-ability" >Kith Ability</span><br>
                    <textarea rows="2" cols="40" name="attr_kithability"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="seeming-curse" >Seeming Curse</span><br>
                    <textarea rows="2" cols="40" name="attr_seemingcurse"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="pledges" >Pledges</span><br>
                    <textarea rows="2" cols="40" name="attr_pledges"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="mantle" >Mantle</span><br>
                    <textarea rows="2" cols="40" name="attr_mantle"></textarea>
                </div>
                <br>
            </div>
            <div class="geist1">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="keys" >Keys</span><br>
                    <textarea rows="2" cols="40" name="attr_keys"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="krewe" >Krewe</span><br>
                    <textarea rows="2" cols="40" name="attr_krewe"></textarea>
                </div>
                <br>
            </div>
            <div class="geist2">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="keys" >Keys</span><br>
                    <textarea rows="2" cols="40" name="attr_keys"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="mementos" >Mementos</span><br>
                    <textarea rows="2" cols="40" name="attr_mementos"></textarea>
                </div>
                <br>
            </div>
            <div class="mummy">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="utterances" >Utterances</span><br>
                    <textarea rows="2" cols="40" name="attr_utterances"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="vessels" >Vessels</span><br>
                    <textarea rows="2" cols="40" name="attr_vessels"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="witnesses" >Witnesses</span><br>
                    <textarea rows="2" cols="40" name="attr_witnesses"></textarea>
                </div>
                <br>
            </div>
            <div class="demon">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="demonic-form-abilities" >Demonic Form Abilities</span><br>
                    <textarea rows="2" cols="40" name="attr_demonicform"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="gadgets" >Gadgets</span><br>
                    <textarea rows="2" cols="40" name="attr_gadgets"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="covers" >Covers</span><br>
                    <textarea rows="2" cols="40" name="attr_covers"></textarea>
                </div>
                <br>
            </div>
            <div class="beast">
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="horror" >Horror</span><br>
                    <textarea rows="2" cols="40" name="attr_horror"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="family-ties" >Family Ties</span><br>
                    <textarea rows="2" cols="40" name="attr_familyties"></textarea>
                </div>
                <br>
                <div class="sheet-customroll">
                    <span class="subheader" data-i18n="lair-traits" >Lair Traits</span><br>
                    <textarea rows="2" cols="40" name="attr_lairtraits"></textarea>
                </div>
                <br>
            </div>
            <fieldset class="repeating_inforight">
                <div class="sheet-customroll">
                    <input type="text" class="title" name="attr_titleright"/><br>
                    <textarea rows="2" cols="40" name="attr_textright"></textarea>
                </div>
                <br>
            </fieldset>
        </div>
    
    </div>
    
    <!-- HIDDEN FIELDS AND FORMULAS -->
    <input type="hidden" name="attr_version" value="0" />
    <input type="hidden" name="attr_0" value="0" />

    <input type="hidden" name="attr_balistic_armor" value="((@{armor_ballistic0}+0)*@{armor_flag0})+((@{armor_ballistic1}+0)*@{armor_flag1})+((@{armor_ballistic2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_general_armor" value="((@{armor_general0}+0)*@{armor_flag0})+((@{armor_general1}+0)*@{armor_flag1})+((@{armor_general2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_defense_penalty" value="((@{armor_defense0}+0)*@{armor_flag0})+((@{armor_defense1}+0)*@{armor_flag1})+((@{armor_defense2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_speed_penalty" value="((@{armor_speed0}+0)*@{armor_flag0})+((@{armor_speed1}+0)*@{armor_flag1})+((@{armor_speed2}+0)*@{armor_flag2})" />
    <input type="hidden" name="attr_initiative_penalty" value="0" />
    <input type="hidden" name="attr_weapon_penalty" value="0" />
    <input type="hidden" name="attr_armor_penalty" value="0" />
    <input type="hidden" name="attr_wound_penalty" value="0" />
    <input type="hidden" name="attr_defense_base" />
    <input type="hidden" name="attr_dice_pool_attributes" value="" />
    <input type="hidden" name="attr_dice_pool_html" value="" />
    <input type="hidden" name="attr_dice_pool" value="0" />
    <input type="hidden" name="attr_rolltype" value=")d10!cs>10}>8]]}}" />
    <!-- Translation handles for sheetworkers -->
    <span style="display: none" data-i18n="dice-pool">Dice Pool</span>
    <span style="display: none" data-i18n="modifiers">Modifiers</span>
    <span style="display: none" data-i18n="unarmed">Unarmed</span>
    
    </div>
    
    <div class="footer" style="font-size: 10px; color: rgb(165, 165, 165); width: 1070px;">
        <span data-i18n="copyright">&copy;2015 CCP hf. Chronicles of Darkness, Vampire: the Requiem, Werewolf: the Forsaken, Mage: the Awakening, Promethean: the Created, Changeling: the Lost, Geist: the Sin Eaters, Mummy: the Cursed are trademarks of CCP hf, in the U.S.A. and other countries. All CCP hf characters and character names, and the distinctive likeness thereof, are trademarks of CCP hf.</span>
    </div>
    
    
    <div class="rolltemplates">
    <!-- ROLL TEMPLATES -->
    <rolltemplate class="sheet-rolltemplate-wod">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span> {{dicePool}}</th></tr>
            <tr>
                <td>
                    {{dicePoolHtml}}
                    {{#^rollTotal() woundpenalty 0}}
                    <div>
                        <span data-i18n="wound">Wound</span> <span data-i18n="penalty">Penalty</span>({{woundpenalty}})
                    </div>
                    {{/^rollTotal() woundpenalty 0}}
                    {{#^rollTotal() mod 0}}
                    <div>
                        <span data-i18n="modifiers">Modifiers</span>({{mod}})
                    </div>
                    {{/^rollTotal() mod 0}}
                </td>
            </tr>
            <tr>
                <td class="result">{{result}} <span data-i18n="successes">Successes</span></td>
            </tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>
    
    <rolltemplate class="sheet-rolltemplate-wod-simple">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span></th></tr>
            <tr><td>
                {{option}} <span data-i18n="dice-for">dice for</span><br>
            </td></tr>
            <tr>
                <td class="result">{{result}} <span data-i18n="successes">Successes</span></td>
            </tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>
    
    <rolltemplate class="sheet-rolltemplate-wod-3part">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span>{{#roll_name}} {{roll_name}}{{/roll_name}}</th></tr>
            <tr><td>
                {{#part1}}
                    {{part1}}({{part1pool}})<br>
                {{/part1}}
                {{#part2}}
                    {{part2}}({{part2pool}})<br>
                {{/part2}}
                {{#part3}}
                    {{part3}}({{part3pool}})<br>
                {{/part3}}
                {{#^rollTotal() woundpenalty 0}}
                    <span data-i18n="wound">Wound</span> <span data-i18n="penalty">Penalty</span>({{woundpenalty}})
                {{/^rollTotal() woundpenalty 0}}
                {{#^rollTotal() mod 0}}
                    <span data-i18n="modifiers">Modifiers</span>({{mod}})
                {{/^rollTotal() mod 0}}
            </td></tr>
            <tr>
                <td class="result">{{result}} <span data-i18n="successes">Successes</span></td>
            </tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>
    
    <rolltemplate class="sheet-rolltemplate-wod-initiative">
        <table>
            <tr><th>{{name}} <span data-i18n="rolls">rolls</span> <span data-i18n="initiative">Initiative</span></th></tr>
            <tr><td>
                {{#dexterity}}
                    <span data-i18n="dexterity">Dexterity</span>({{dexterity}})<br>
                {{/dexterity}}
                {{#composure}}
                    <span data-i18n="composure">Composure</span>({{composure}})<br>
                {{/composure}}
                {{#^rollTotal() fastReflexes 0}}
                    <span data-i18n="fast-reflexes">Fast Reflexes</span>({{fastReflexes}})<br>
                {{/^rollTotal() fastReflexes 0}}
                {{#^rollTotal() initiativePenalty 0}}
                    <span data-i18n="initiative">Initiative</span> <span data-i18n="penalty">Penalty</span>({{initiativePenalty}})<br>
                {{/^rollTotal() initiativePenalty 0}}
            </td></tr>
            <tr>
                <td class="result"><span data-i18n="initiative">Initiative</span> {{result}}</td>
            </tr>
            <tr>
                <td class="specialrollflag"></td>
            </tr>
        </table>
    </rolltemplate>
    
    <rolltemplate class="sheet-rolltemplate-wod-attack">
        <table>
            <tr><th>{{name}} <span data-i18n="makes-a">makes a</span> {{attack_name}} <span data-i18n="attack">attack</span></th></tr>
            <tr><td>
                {{#str}}
                    <span data-i18n="strength">Strength</span>({{strength}})<br>
                {{/str}}
                {{#dex}}
                    <span data-i18n="dexterity">Dexterity</span>({{dexterity}})<br>
                {{/dex}}
                {{#bra}}
                    <span data-i18n="brawl">Brawl</span>({{brawl}})<br>
                {{/bra}}
                {{#wea}}
                    <span data-i18n="weaponry">Weaponry</span>({{weaponry}})<br>
                {{/wea}}
                {{#fir}}
                    <span data-i18n="firearms">Firearms</span>({{firearms}})<br>
                {{/fir}}
                {{#ath}}
                    <span data-i18n="athletics">Athletics</span>({{athletics}})<br>
                {{/ath}}
                {{#1st}}
                    {{attack_name}}({{weapon_damage}})<br>
                {{/1st}}
                {{#^rollTotal() apen 0}}
                    <span data-i18n="armor">Armor</span> <span data-i18n="penalty">Penalty</span>({{apen}})<br>
                {{/^rollTotal() apen 0}}
                {{#^rollTotal() wpen 0}}
                    <span data-i18n="weapon">Weapon</span> <span data-i18n="penalty">Penalty</span>({{wpen}})<br>
                {{/^rollTotal() wpen 0}}
                {{#^rollTotal() woundpenalty 0}}
                    <span data-i18n="wound">Wound</span> <span data-i18n="penalty">Penalty</span>({{woundpenalty}})
                {{/^rollTotal() woundpenalty 0}}
                {{#^rollTotal() mod 0}}
                    <span data-i18n="modifiers">Modifiers</span>({{mod}})<br>
                {{/^rollTotal() mod 0}}
                {{#rollTotal() result 0}}
                    <span data-i18n="and-misses-with">and misses with</span>...<br>
                    <tr>
                        <td class="result hit">{{result}} <span data-i18n="successes">Successes</span></td>
                    </tr>
                {{/rollTotal() result 0}}
                {{#rollGreater() result 0}}
                    <span data-i18n="and-hits-for">and hits for</span><br>
                    <tr>
                        <td class="result miss">{{result}}{{#2nd}} + {{weapon_damage}}{{/2nd}} <span data-i18n="damage">Damage</span></td>
                    </tr>
                {{/rollGreater() result 0}}
            </td></tr>
            <tr>
                <td class="specialrollflag">
                    {{#chance}}
                        0C
                    {{/chance}}
                    {{#9again}}
                        9A
                    {{/9again}}
                    {{#8again}}
                        8A
                    {{/8again}}
                </td>
            </tr>
        </table>
    </rolltemplate>
    </div>
    
    <script type="text/worker">
        var attributes = ["intelligence","wits","resolve","strength","dexterity","stamina","presence","manipulation","composure","power","finesse","resistance"];
        var mentalSkills = ["academics","computer","crafts","investigation","medicine","occult","politics","science"];
        var physicalSkills = ["athletics","brawl","drive","firearms","larceny","stealth","survival","weaponry"];
        var socialSkills = ["animalken","empathy","expression","intimidation","persuasion","socialize","streetwise","subterfuge"];
        var skills = [ ...mentalSkills, ...physicalSkills, ...socialSkills ];
        var normalStats = [ ...attributes, ...skills ];
        var powers = ["animalism","auspex","celerity","dominate","majesty","nightmare","obfuscate","protean","resilience","vigor","crúac","thebansorcery","death","fate","forces","life","matter","mind","prime","spirit","space","time"];
        var allStats = [ ...attributes, ...skills, ...powers, "potency" ];
        var potencyTranslationKeys = {
            mortal1:"", mortal2:"", "mortal2-organization":"standing",
            vampire1:"blood-potency", vampire2:"blood-potency",
            werewolf1:"primal-urge", werewolf2:"primal-urge",
            mage1:"gnosis", mage2:"gnosis",
            promethean1:"azoth", promethean2:"azoth",
            changeling1:"wyrd", changeling2:"wyrd",
            demon:"primum", beast:"lair", hunter:"",
            geist1:"psyche", geist2:"synergy", "geist2-geist":"rank", "geist2-organization":"esotery",
            mummy1:"sekhem"
        };
        
        allStats.forEach((attr) => {
            on(`change:${attr}`, (eventInfo) => {
                const source = eventInfo.sourceAttribute;

                updateDicePool();
    
                if (["resolve", "composure"].includes(source)) {
                    updateWillpower();
                };
    
                if (source === "wits" || source === "composure") {
                    updateMoralHealth();
                };

                var speedStats = ["dexterity","strength","power","finesse"];
                if (speedStats.includes(source)) {
                    updateSpeed();
                }
    
                var defenseStats = ["wits", "dexterity", "athletics", "brawl", "weaponry", "potency", "power", "finesse"];
                if (defenseStats.includes(source)) {
                    updateDefense();
                };

                var initiativeStats = ["dexterity", "composure", "finesse", "resistance"]
                if (initiativeStats.includes(source)) {
                    updateInitiative();
                }
    
                if (["stamina", "resilience", "resistance"].includes(source)) {
                    updateHealth();
                };
            });
    
            // Toggle roll selections
            on(`clicked:${attr}`, () => {
                updateDicePoolAttributes(attr);
            });
        });
    
        on("change:attack", function() {
            updateAttacks();
        });
    
        ["_initiative0","_initiative1","_initiative2","_initiative3","_initiative4","_strength0","_strength1","_strength2","_strength3","_strength4"].forEach((attr) => {
            on(`change:attack${attr}`, (eventInfo) => {
                updateAttacks();
            });
        });
    
        ["","_flag0","_flag1","_flag2","_strength0","_strength1","_strength2"].forEach((attr) => {
            on(`change:armor${attr}`, (eventInfo) => {
                updateAttacks();
            });
        });
    
        on("change:health", function() {
            updateAttacks();
        });
    
        [...Array(16).keys()].forEach((attr) => {//healthbox nr. 1 through 16
            on(`change:healthbox_${attr+1}`, (eventInfo) => {
                const source = eventInfo.sourceAttribute;
                console.log(source);
                updateAttacks();
            });
        });
    
        on("change:base_size change:giant change:small_framed change:bonus_health", function() {
            updateHealth();
        });
    
        const listDotTraits = ["merit","othertrait","discipline","arcana"];
        const listDotAttrs = listDotTraits
            .reduce((attrs, trait) => [
                ...attrs,
                ...new Array(16)
                    .fill(1)
                    .map((_, index) => `${trait}${index + 1}`)
            ], []);
        const dotAttrs = [
            ...attributes,
            ...listDotAttrs,
            ...powers,
            "potency"
        ];
    
        // Set hidden attr on dot button click
        dotAttrs.forEach(attr => {
            new Array(11).fill(1).forEach((_, dot) => {
                on(`clicked:${attr}_${dot}`, () => {
                    setAttrs({
                        [attr]: dot
                    });
                });
            });
        });
    
        // trait name and depth (number of distinct healthbox states)
        const healthTraits = { "healthbox": 4, "moralhealthbox": 3 };
        // Create array of all health attribute names, with values 1 through 24 for each health trait.
        const healthAttrs = Object.keys(healthTraits)
            .reduce((attrs, trait) => ({
                ...attrs,
                ...new Array(24)
                    .fill(1)
                    .map((_, index) => `${trait}_${index + 1}`)
                    .reduce((traitAttrs, traitAttr) => ({ ...traitAttrs, [traitAttr]: healthTraits[trait] }), {})
            }), {});
    
        // Register button click event for each health attribute
        Object.entries(healthAttrs).forEach(([attr, depth]) => {
            console.log(attr, depth);
            on(`clicked:${attr}`, () => {
                // Increment / cycle corresponding attribute value
                getAttrs([attr], (v) => {
                    const healthValue = parseInt(v[attr]) || 0;
                    setAttrs({
                        [attr]: (healthValue + 1) % depth
                    });
                });
            });
        });

        const pages = ["settings", "1", "2", "3"];
        pages.forEach((page) => {
            on(`clicked:page_${page}`, () => {
                setAttrs({
                    "pagenumber": page
                });
            });
        });
    
        const sheettypes = [
            "mortal1","vampire1","werewolf1","mage1","promethean1","changeling1","hunter","geist1","mummy1",
            "mortal2","vampire2","werewolf2","mage2","promethean2","changeling2","hunter2","geist2","geist2-geist","mummy2","demon","beast",
            "mortal2-organization","geist2-organization"
        ];
        sheettypes.forEach(sheettype => {
            on(`clicked:sheet_type_${sheettype}`, function () {
                const gameLine = getGameLine(sheettype);
                const edition = getEdition(sheettype);
                const entity = getEntity(sheettype);
                
                setAttrs({
                    "sheettype": sheettype,
                    "game_line": gameLine,
                    "edition": edition,
                    "entity": entity
                });
            });
        });

        const rollstyles = ["sheet", "attack", "simple"];
        rollstyles.forEach((rollstyle) => {
            on(`clicked:rollstyle_${rollstyle}`, () => {
                setAttrs({
                    "rollstyle": rollstyle
                });
            });
        });
        
        const rolltypes = ["chance", "normal", "9-again", "8-again", "dont-reroll", "rote", "chance-rote"];
        rolltypes.forEach((rolltype) => {
            on(`clicked:rolltype_select_${rolltype}`, () => {
                setAttrs({
                    "rolltype_select": rolltype
                });
            });
        });
    
        on("sheet:opened change:sheettype", function() {
            updateHealth();
            updateSpeed();
            updateDefaultDefense();
            updateInitiative();
            updateRollType();
            const resetRollFlagAttrs = resetRollFlags();
    
            setAttrs({
                ...resetRollFlagAttrs
            }, { silent: true });
        });
    
        on("change:bonus_willpower", function() {
            updateWillpower();
        });
    
        on("change:bonus_moralhealth", function() {
            updateMoralHealth();
        });
    
        on("change:defense_select", function() {
            updateDefense();
        });
    
        on("change:iron_stamina", function() {
            getAttrs(["iron_stamina"], function(v) {
                const ironStamina = parseInt(v.iron_stamina, 10) || 0;
                const woundPenalties = getWoundPenalties(ironStamina);
    
                setAttrs(woundPenalties);
            });
        });
    
        on("change:rolltype_select", function() {
            updateRollType();
        });
    
        // Version update for new or modified attributes
        on("sheet:opened", function() {
            getAttrs(["version", "sheettype", "iron_stamina"], function(v) {
                const version = parseInt(v.version) || 0;
                var attrs = {};
    
                // get attribute updates for each version until the sheet has completed all steps
                // NOTE: to maintain backwards compatibility with sheets predating the version attribute, all steps will be performed for new sheets
                if (version < 1) {
                    if (v.sheettype !== "mortal1") {
                        attrs["game_line"] = getGameLine(v.sheettype);
                        attrs["edition"] = getEdition(v.sheettype);
                    }
                    attrs["version"] = 1;
                }
                
                if (version < 2) {
                    const woundPenalties = getWoundPenalties(v["iron_stamina"]);
                    attrs = {
                        ...attrs,
                        ...woundPenalties,
                        "version": 2
                    };
                }
                
    
                if (Object.keys(attrs).length) {
                    setAttrs(attrs);
                }
            });
        });

        // ---------------------------------- Translation functions ------------------------------------------
        on("sheet:opened", function(){
            setAttrs({
                dicepoolmacro: getTranslationByKey("dice-pool"),
                modifiermacro: getTranslationByKey("modifiers"),
                unarmedmacro: getTranslationByKey("unarmed")
            });
        });
    
        // --------------------------------------------------------------------------------------------------
    

        var tryParse = function(s) {
            try {
                return JSON.parse(s);
            }
            catch(e) {
                return null;
            }
        }

        var getAttributeType = function(attribute) {
            if (attributes.includes(attribute)) {
                return "attribute";
            }
            if (skills.includes(attribute)) {
                return "skill";
            }
            if (attribute === "potency") {
                return "potency";
            }
            return "power";
        }

        var getUnskilledPenalty = function(attribute) {
            if (mentalSkills.includes(attribute)) {
                return -3;
            }
            if (physicalSkills.includes(attribute)) {
                return -1;
            }
            if (socialSkills.includes(attribute)) {
                return -1;
            }
            return 0;
        }

        var getGameLine = function(sheettype) {
            switch (sheettype) {
                case "mortal1":
                case "mortal2":
                case "mortal2-organization":
                    return "mortal";
                case "vampire1":
                case "vampire2":
                    return "vampire";
                case "werewolf1":
                case "werewolf2":
                    return "werewolf";
                case "mage1":
                case "mage2":
                    return "mage";
                case "promethean1":
                case "promethean2":
                    return "promethean";
                case "changeling1":
                case "changeling2":
                    return "changeling";
                case "geist1":
                case "geist2":
                case "geist2-geist":
                case "geist2-organization":
                    return "geist";
                case "hunter":
                case "hunter2":
                    return "hunter";
                case "mummy1":
                case "mummy2":
                    return "mummy";
                case "demon":
                    return "demon";
                case "beast":
                    return "beast";
            }
        }
    
        var getEdition = function(sheettype) {
            switch (sheettype) {
                case "mortal1":
                case "vampire1":
                case "werewolf1":
                case "mage1":
                case "promethean1":
                case "changeling1":
                case "geist1":
                case "hunter":
                case "mummy1":
                    return 1;
                case "mortal2":
                case "vampire2":
                case "werewolf2":
                case "mage2":
                case "promethean2":
                case "changeling2":
                case "geist2":
                case "geist2-geist":
                case "hunter2":
                case "mummy2":
                case "demon":
                case "beast":
                case "mortal2-organization":
                case "geist2-organization":
                    return 2;
            }
        }
        
        var getEntity = function(sheettype) {
            switch (sheettype) {
                case "mortal1":
                case "vampire1":
                case "werewolf1":
                case "mage1":
                case "promethean1":
                case "changeling1":
                case "hunter":
                case "geist1":
                case "mummy1":
                case "mortal2":
                case "vampire2":
                case "werewolf2":
                case "mage2":
                case "promethean2":
                case "changeling2":
                case "hunter2":
                case "geist2":
                case "mummy2":
                case "demon":
                case "beast":
                default:
                    return "corporeal";
                case "geist2-geist":
                    return "ephemeral";
                case "mortal2-organization":
                case "geist2-organization":
                    return "organization";
            }
        }

        var updateDicePoolAttributes = function(attribute) {
            getAttrs([...allStats, "dice_pool_attributes", "sheettype"], (v) => {
                // Update roll stats collection
                let poolAttributes = v["dice_pool_attributes"]
                    .split(",")
                    .filter((poolAttribute) => poolAttribute);

                if (poolAttributes.includes(attribute)) {
                    // Remove attribute from roll
                    poolAttributes = poolAttributes.filter((poolAttribute) => poolAttribute !== attribute);
                }
                else {
                    // Add attribute to roll
                    poolAttributes = poolAttributes.concat(attribute);

                    // Cap stats by type
                    const poolAttributeTypes = poolAttributes
                        .map((poolAttribute) => ({ poolAttribute, type: getAttributeType(poolAttribute) }));
                    poolAttributes = poolAttributeTypes.filter((x) => x.type === "attribute").reverse().slice(0, 2).reverse()
                        .concat(poolAttributeTypes.filter((x) => x.type === "skill").reverse().slice(0, 1).reverse())
                        .concat(poolAttributeTypes.filter((x) => x.type === "power").reverse().slice(0, 1).reverse())
                        .concat(poolAttributeTypes.filter((x) => x.type === "potency").reverse().slice(0, 1).reverse())
                        .map((x) => x.poolAttribute);
                }

                // Create HTML for roll template
                const dicePoolHtml = getSheetDicePoolHtml(poolAttributes, v);

                // Create dice pool for roll
                const dicePool = getSheetDicePool(poolAttributes, v);
                console.log("pool", dicePool);

                // Create display for dice roller
                const rollDisplay = poolAttributes
                    .map((poolAttribute) => getAttributeTranslation(poolAttribute, v.sheettype))
                    .join(" +\n");

                // Determine flag values
                const flags = allStats
                    .map((flagAttribute) => ({
                        "flag": `${flagAttribute}_flag`,
                        "value": poolAttributes.includes(flagAttribute) ? 1 : 0
                    }))
                    .reduce((all, next) => ({ ...all, [next.flag]: next.value }), {});

                setAttrs({
                    ["dice_pool_attributes"]: poolAttributes.join(","),
                    ["dice_pool_html"]: dicePoolHtml,
                    ["dice_pool"]: dicePool,
                    ["rolldisplay"]: rollDisplay,
                    ...flags,
                });
            });
        }

        var updateDicePool = function() {
            getAttrs([...allStats, "dice_pool_attributes", "sheettype"], (values) => {
                const poolAttributes = values["dice_pool_attributes"].split(",");

                const dicePoolHtml = getSheetDicePoolHtml(poolAttributes, values);
                const dicePool = getSheetDicePool(poolAttributes, values);

                setAttrs({
                    ["dice_pool_html"]: dicePoolHtml,
                    ["dice_pool"]: dicePool
                });
            });
        }

        var getSheetDicePoolHtml = function(poolAttributes, values) {
            return poolAttributes
                .map((poolAttribute) => ({
                    label: getAttributeTranslation(poolAttribute, values["sheettype"]),
                    value: getAttributePool(poolAttribute, values)
                }))
                .map((stat) => `<div>${stat.label} (${stat.value})</div>`)
                .join("");
        }

        var getAttributeTranslation = function(attribute, sheettype) {
            const translationKey = getAttributeType(attribute) === "potency"
                ? potencyTranslationKeys[sheettype]
                : attribute;

            return getTranslationByKey(translationKey);
        }

        var getAttributePool = function(attribute, values) {
            return Number(values[attribute]) || getUnskilledPenalty(attribute);
        }

        var getSheetDicePool = function(poolAttributes, values) {
            const sum = poolAttributes
                .map((poolAttribute) => getAttributePool(poolAttribute, values))
                .reduce((sum, value) => sum + value, 0)
            
            return Math.max(sum, 1);
        }
    
        var updateHealth = function() {
            getAttrs(["stamina","resistance","base_size","giant","small_framed","sheettype","entity","resilience","bonus_health"], function(v) {
                var health = 1;
                switch (v.entity) {
                    case "corporeal":
                        health = parseInt(v.stamina, 10) + parseInt(v.base_size, 10) + parseInt(v.giant, 10) + parseInt(v.small_framed, 10) + parseInt(v.bonus_health, 10);
                        if(v.sheettype.indexOf("vampire2")) {
                            health = health + parseInt(v.resilience, 10);
                        }
                        break;
                    case "ephemeral":
                        health = parseInt(v.resistance || 1) + parseInt(v.base_size || 1) + parseInt(v.giant || 0) + parseInt(v.small_framed || 0) + parseInt(v.bonus_health || 0);
                        break;
                    case "organization":
                        health = 5 + parseInt(v.resistance || 1);
                        break;
                }
                setAttrs({
                    health: health
                });
            });
        }
    
        var updateWillpower = function() {
            getAttrs(["resolve","composure","bonus_willpower"], function(v) {
                var willpower = parseInt(v.resolve, 10) + parseInt(v.composure, 10) + parseInt(v.bonus_willpower, 10);
                setAttrs({
                    willpower: willpower
                });
            });
        };
    
        var updateMoralHealth = function() {
            getAttrs(["wits","composure","bonus_moralhealth","sheettype"], function(v) {
                if (v.sheettype == "changeling2"){
                    var moralhealth = parseInt(v.wits, 10) + parseInt(v.composure, 10) + parseInt(v.bonus_moralhealth);
                    setAttrs({
                        moralhealth: moralhealth
                    });
                }
            });
        }
    
        var updateAttacks = function() {
            getAttrs(["strength","attack","iron_stamina","attack_initiative0","attack_initiative1","attack_initiative2","attack_initiative3","attack_initiative4","attack_strength0","attack_strength1","attack_strength2","attack_strength3","attack_strength4","armor_flag0","armor_flag1","armor_flag2","armor_strength0","armor_strength1","armor_strength2","health","healthbox_1","healthbox_2","healthbox_3","healthbox_4","healthbox_5","healthbox_6","healthbox_7","healthbox_8","healthbox_9","healthbox_10","healthbox_11","healthbox_12","healthbox_13","healthbox_14","healthbox_15","healthbox_16"], function(v) {
                var str = parseInt(v.strength, 10);
                var regex = /attack_type(.)/;
                var atknum = v.attack.match(regex)[1];
                var init = isNaN(v["attack_initiative" + atknum]) === false && v["attack_initiative" + atknum] != "" ? v["attack_initiative" + atknum] : 0;
                var wpen = str < v["attack_strength" + atknum] ? str - v["attack_strength" + atknum] : 0;
                var apen = 0;
                if(v.armor_flag0 != 0 && str < parseInt(v.armor_strength0)) {apen = apen + (str - parseInt(v.armor_strength0));};
                if(v.armor_flag1 != 0 && str < parseInt(v.armor_strength1)) {apen = apen + (str - parseInt(v.armor_strength1));};
                if(v.armor_flag2 != 0 && str < parseInt(v.armor_strength2)) {apen = apen + (str - parseInt(v.armor_strength2));};
                var wound_penalty = 0;
                var ironStamina = parseInt(v.iron_stamina, 10);
                if(v["healthbox_" + v.health] != 0) {
                    wound_penalty = -3 + Math.min(ironStamina, 3);
                }
                else if(v["healthbox_" + (v.health - 1)] != 0) {
                    wound_penalty = -2 + Math.min(ironStamina, 2);
                }
                else if(v["healthbox_" + (v.health - 2)] != 0) {
                    wound_penalty = -1 + Math.min(ironStamina, 1);
                }
                setAttrs({
                    weapon_penalty: wpen,
                    armor_penalty: apen,
                    initiative_penalty: init,
                    wound_penalty: wound_penalty
                });
            });
        }

        var updateSpeed = function() {
            getAttrs(["entity","strength","dexterity","power","finesse"], function(v) {
                var speed;
                switch(v.entity) {
                    case "corporeal":
                    default:
                        var strength = parseInt(v.strength) || 1;
                        var dexterity = parseInt(v.dexterity) || 1;
                        speed = strength + dexterity;
                        break;
                    case "ephemeral":
                        var power = parseInt(v.power) || 1;
                        var finesse = parseInt(v.finesse) || 1;
                        speed = power + finesse;
                        break;
                }

                setAttrs({speed_base: speed});
            });
        }
    
        var updateDefense = function() {
            getAttrs(["defense_select","entity","athletics","brawl","dexterity","weaponry","wits","potency","power","finesse"], function(v) {
                var defense;
                switch(v.entity) {
                    case "corporeal":
                    default:
                        defense = getCorporealDefense(v);
                        break;
                    case "ephemeral":
                        defense = getEphemeralDefense(v);
                        break;
                }
                setAttrs({defense_base: defense});
            });
        }

        var getCorporealDefense = function(v) {
            var dexterity = parseInt(v.dexterity, 10) || 0;
            var wits = parseInt(v.wits, 10) || 10;
            
            switch (v.defense_select) {
                case "lowest":
                    return Math.min(dexterity, wits);
                case "highest":
                    return Math.max(dexterity, wits);
                case "wits":
                    return wits;
                case "dexterity":
                    return dexterity;
                case "lowest_plus_athletics":
                    var athletics = parseInt(v.athletics, 10) || 0;
                    return Math.min(dexterity, wits) + athletics;
                case "lowest_plus_brawl":
                    var brawl = parseInt(v.brawl, 10) || 10; // PRD-1407
                    return Math.min(dexterity, wits) + brawl;
                case "lowest_plus_weaponry":
                    var weaponry = parseInt(v.weaponry, 10) || 10; // PRD-1407
                    return Math.min(dexterity, wits) + weaponry;
            }
        }

        var getEphemeralDefense = function(v) {
            var rank = parseInt(v.potency) || 1;
            var power = parseInt(v.power) || 1;
            var finesse = parseInt(v.finesse) || 1;
            
            if (rank === 1) {
                return Math.max(power, finesse);
            }

            return Math.min(power, finesse);
        }
    
        var updateDefaultDefense = function() {
            getAttrs(["sheettype", "defense_select"], function(v) {
                var defense;
                if (getEdition(v.sheettype) === 2) {
                    defense = "lowest_plus_athletics";
                }
                else {
                    defense = "lowest";
                }
                if (v.defense_select === defense) {
                    return updateDefense();
                }
                
                setAttrs({defense_select: defense});
            });
        }

        var updateInitiative = function() {
            getAttrs(["entity", "dexterity", "composure", "finesse", "resistance"], function(v) {
                var initiative;
                switch(v.entity) {
                    case "corporeal":
                    default:
                        var dexterity = parseInt(v.dexterity) || 1;
                        var composure = parseInt(v.composure) || 1;
                        initiative = dexterity + composure;
                        break;
                    case "ephemeral":
                        var finesse = parseInt(v.finesse) || 1;
                        var resistance = parseInt(v.resistance) || 1;
                        initiative = finesse + resistance;
                        break;
                }

                setAttrs({initiative_base: initiative});
            });
        }
    
        var getWoundPenalties = function(ironStamina) {
            var maxPenalty = Math.min(ironStamina, 3) - 3;
    
            // Whitespace instead of empty string to avoid displaying default value
            return {
                "wound_penalty_1": Math.min(maxPenalty + 2, 0) || " ",
                "wound_penalty_2": Math.min(maxPenalty + 1, 0) || " ",
                "wound_penalty_3": Math.min(maxPenalty, 0) || " "
            };
        }
    
        var updateRollType = function() {
            getAttrs(["rolltype_select","sheettype","attack_type0","attack_type1","attack_type2","attack_type3","attack_type4"], function(v) {
                var update = {};
                var isSecondEdition = getEdition(v.sheettype) === 2;
                var value;
                switch (v.rolltype_select) {
                    case "chance":
                        if (isSecondEdition) {
                            value = "*0+1)d10cf<1}>10]]}} {{chance=1}}";
                        }
                        else {
                            value = "*0+1)d10!cf<1}>10]]}} {{chance=1}}";
                        }
                        break;
                    case "normal":
                    default:
                        value = ")d10!cs>10}>8]]}}";
                        break;
                    case "9-again":
                        value = ")d10!>9cs>9}>8]]}} {{9again=1}}";
                        break;
                    case "8-again":
                        value = ")d10!>8cs>8}>8]]}} {{8again=1}}";
                        break;
                    case "dont-reroll":
                        value = ")d10cs>10}>8]]}}";
                        break;
                    case "rote":
                        value = ")d10ro<7}>8]]}}";
                        break;
                    case "chance-rote":
                        if (isSecondEdition) {
                            value = "*0+1)d10ro<7cf<1}>10]]}} {{chance=1}}";
                        }
                        else {
                            value = "*0+1)d10!ro<7cf<1}>10]]}} {{chance=1}}";
                        }
                        break;
                }
                update["rolltype"] = value;
                // (PRD-1406) Check that attack type is correlated to edition
                for(var i = 0; i < 5; i++) {
                    if(isSecondEdition) {
                        switch(v[`attack_type${i}`]) {
                            // Melee
                            case "{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage${i}}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Gun
                            case "{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Thrown
                            case "{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Brawl* (Fighting Finesse)
                            case "{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Melee* (Fighting Finesse)
                            case "{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                        }
                    } else {
                        switch(v[`attack_type${i}`]) {
                            // Melee
                            case "{{2nd=1}} {{str=1}} {{wea=1}} {{result=[[{((@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{str=1}} {{wea=1}} {{result=[[{((@{attack_damage${i}}+@{strength}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Gun
                            case "{{2nd=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{fir=1}} {{result=[[{((@{attack_damage${i}}+@{dexterity}+@{firearms}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Thrown
                            case "{{2nd=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{ath=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{athletics}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Brawl* (Fighting Finesse)
                            case "{{2nd=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{bra=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{brawl}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                            // Melee* (Fighting Finesse)
                            case "{{2nd=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})":
                                update[`attack_type${i}`] = "{{1st=1}} {{dex=1}} {{wea=1}} {{result=[[{((@{attack_damage1}+@{dexterity}+@{weaponry}+?{@{modifiermacro}|0}+@{wound_penalty}+@{weapon_penalty}+@{armor_penalty})";
                                break;
                        }
                    }
                }
                setAttrs(update, {silent: true});
            });
        }

        var resetRollFlags = function() {
            var flagValues = allStats
                .map((attribute) => `${attribute}_flag`)
                .reduce((attrs, flag) => ({ ...attrs, [flag]: "" }), {});
            
            return {
                ["dice_pool_attributes"]: "",
                ["dice_pool_html"]: "",
                ["dice_pool"]: 0,
                ["rolldisplay"]: "",
                ...flagValues
            };
        }
    </script>
    
<p>
	<input value="0" name="attr_fix1Done" type="hidden">
	<div style="width: 100%">
		<h3 style="margin-bottom: 10px;text-align:center;font-size: 3em">Character Record Sheet</h3>		
	</div>
	<div class='sheet-3colrow'>
		<div style="margin-right:15px" class='sheet-col sheet-details'>
			<table style="width: 100%">
				<tr><td><p>Player</p></td><td><input type="text" class="sheet-standard" name="attr_Player"/></td></tr>
				<tr><td><p>Character</p></td><td><input  class="sheet-standard" type="text" name="attr_Name"/></td></tr>
				<tr><td><p>Nationality</p></td><td><input  class="sheet-standard" type="text" name="attr_Nationality"/></td></tr>
				<tr><td><p>Gender</p></td><td><input type="text" class="sheet-standard"  name="attr_Gender"/></td></tr>
			</table>
		</div>
		<div class='sheet-col sheet-details'>
			<table style="width: 100%">
				<tr><td><p>Age</p></td><td><input  class="sheet-standard"  style="text-align: center" type="text" name="attr_Age"/></td></tr>
				<tr><td><p>Service Branch</p></td><td><div><input  class="sheet-standard" style="text-align: center" type="text" name="attr_Service_Branch"/></td></tr>
				<tr><td><p>Weight</p></td><td><input  class="sheet-standard" style="text-align: center" type="text" name="attr_Weight"/></td></tr>
				<tr><td><p>Throw Range</p></td><td><input  class="sheet-standard" style="text-align: center" READONLY type="text" name="attr_Throw_Range"/></td></tr>
			</table>
		</div>
		<div class='sheet-col sheet-details'>
			<table style="width: 100%">
				<tr><td><p>Initiative</p></td><td><input style="text-align: center" type="text" name="attr_Initiative"/></td></tr>
				<tr><td><p>Rank</p></td><td><input  class="sheet-standard" style="text-align: center" type="text" name="attr_Rank"/></td></tr>
				<tr><td><p>Rads</p></td><td><input  class="sheet-standard" style="text-align: center" type="text" name="attr_Rads"/></td></tr>			
				<tr><td><p>Load</p></td><td><input  class="sheet-standard" READONLY style="text-align: center" type="text" name="attr_Load"/></td></tr>						
			</table>
		</div>
	</div>
	<div>
	<div style="padding: 10px;margin-top:10px;border: 1px solid black;width:100%">
		<h2 style="text-align: center">Attributes and Skills</h2>
		<div class='sheet-3colrow'>
			<input type="text" style="display:none" name="attr_diffoptions" value="?{Difficulty?|Average,[[2]]|Easy,[[4]]|Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]]}">
			<div style="margin-right:15px" class='sheet-col'>
				<table style="width:100%" >
				
					<tr><td><b>Strength</b></td><td><input type="number"  value="0" name="attr_Strength" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Strength}}}  {{os=[[floor(@{Strength}*@{diffoptions})-10]]}} {{cf=[[floor(@{Strength}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor(@{Strength}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Strength}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Aircraft Mechanic</td><td><input type="number"  value="0" name="attr_Aircraft_Mechanic" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Aircraft_Mechanic}+@{Strength}}}  {{os=[[floor((@{Aircraft_Mechanic}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Aircraft_Mechanic}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Aircraft_Mechanic}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Aircraft Mechanic}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Archery</td><td><input type="number"  value="0" name="attr_Archery" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Archery}+@{Strength}}}  {{os=[[floor((@{Archery}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Archery}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Archery}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Archery}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Armed Martial Arts</td><td><input type="number"  value="0" name="attr_Armed_Martial_Arts" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Armed_Martial_Arts}+@{Strength}}}  {{os=[[floor((@{Armed_Martial_Arts}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Armed_Martial_Arts}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Armed_Martial_Arts}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Armed Martial Arts}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Autogun</td><td><input type="number"  value="0" name="attr_Autogun" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Autogun}+@{Strength}}}  {{os=[[floor((@{Autogun}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Autogun}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Autogun}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Autogun}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Grenade Launcher</td><td><input type="number"  value="0" name="attr_Grenade_Launcher" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Grenade_Launcher}+@{Strength}}}  {{os=[[floor((@{Grenade_Launcher}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Grenade_Launcher}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Grenade_Launcher}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Grenade_Launcher}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Heavy Artillery</td><td><input type="number"  value="0" name="attr_Heavy_Artillery" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Heavy_Artillery}+@{Strength}}}  {{os=[[floor((@{Heavy_Artillery}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Heavy_Artillery}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Heavy_Artillery}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Heavy Artillery}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Heavy Gun</td><td><input type="number"  value="0" name="attr_Heavy_Gun" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Heavy_Gun}}}  {{os=[[((@{Heavy_Gun}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[((@{Heavy_Gun}+@{Strength})*@{diffoptions})+10]]}}    {{success=[[(@{Heavy_Gun}+@{Strength})*@{diffoptions}]]}} {{roll=[[1d20]]}} {{skillname=Heavy Gun}}" /></td></tr>
					<tr><td>Mechanic</td><td><input type="number"  value="0" name="attr_Mechanic" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Mechanic}+@{Strength}}}  {{os=[[floor((@{Mechanic}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Mechanic}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Mechanic}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Mechanic}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Small Arms (Pistol)</td><td><input type="number"  value="0" name="attr_Small_Arms_Pistol" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Small_Arms_Pistol}+@{Strength}}}  {{os=[[floor((@{Small_Arms_Pistol}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Small_Arms_Pistol}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Small_Arms_Pistol}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Small Arms (Pistol)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Small Arms (Rifle)</td><td><input type="number"  value="0" name="attr_Small_Arms_Rifle" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Small_Arms_Rifle}+@{Strength}}}  {{os=[[floor((@{Small_Arms_Rifle}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Small_Arms_Rifle}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Small_Arms_Rifle}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Small Arms (Rifle)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Thrown Weapon</td><td><input type="number"  value="0" name="attr_Thrown_Weapon" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Thrown_Weapon}+@{Strength}}}  {{os=[[floor((@{Thrown_Weapon}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Thrown_Weapon}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Thrown_Weapon}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Thrown Weapon}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Unarmed Martial Arts</td><td><input type="number"  value="0" name="attr_Unarmed_Martial_Arts" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Unarmed_Martial_Arts}+@{Strength}}}  {{os=[[floor((@{Unarmed_Martial_Arts}+@{Strength})*@{diffoptions})-10]]}} {{cf=[[floor((@{Unarmed_Martial_Arts}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Unarmed_Martial_Arts}+@{Strength})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Unarmed Martial Arts}} {{diff=[[@{diffoptions}]]}}" /></td></tr>

				

				</table>	
				

					<fieldset class="repeating_strSkills">
					<input style="width:152px;display:inline-block" type="text" name="attr_skillName" />
					<input style="display:inline-block"  value="0" type="number" name="attr_skillValue" />
					<button style="display:inline-block;margin-left:13px" type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{skillValue}+@{Strength}}}  {{os=[[floor(((@{skillValue}+@{Strength})*@{diffoptions}))-10]]}} {{cf=[[floor(((@{skillValue}+@{Strength})*@{diffoptions}))+10]]}}    {{success=[[floor((@{skillValue}+@{Strength})*@{diffoptions})]]}} {{roll=[[1d20]]}} {{skillname=@{skillName}}} {{diff=[[@{diffoptions}]]}}" />
					</fieldset>
				
				
				<br />
				
				<table style="width:100%" >

					<tr><td><b>Education</b></td><td><input type="number"  value="0" name="attr_Education" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Education}}}  {{os=[[floor(@{Education}*@{diffoptions})-10]]}} {{cf=[[floor(@{Education}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor(@{Education}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Education}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Biology</td><td><input type="number"  value="0" name="attr_Biology" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Biology}+@{Education}}}  {{os=[[floor((@{Biology}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Biology}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Biology}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Biology}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Chemistry</td><td><input type="number"  value="0" name="attr_Chemistry" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Chemistry}+@{Education}}}  {{os=[[floor((@{Chemistry}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Chemistry}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Chemistry}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Chemistry}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Civil Engineer</td><td><input type="number"  value="0" name="attr_Civil_Engineer" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Civil_Engineer}+@{Education}}}  {{os=[[floor((@{Civil_Engineer}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Civil_Engineer}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Civil_Engineer}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Civil Engineer}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Computer</td><td><input type="number"  value="0" name="attr_Computer" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Computer}+@{Education}}}  {{os=[[floor((@{Computer}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Computer}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Computer}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Computer}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Electronics</td><td><input type="number"  value="0" name="attr_Electronics" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Electronics}+@{Education}}}  {{os=[[floor((@{Electronics}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Electronics}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Electronics}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Electronics}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Excavation</td><td><input type="number"  value="0" name="attr_Excavation" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Excavation}+@{Education}}}  {{os=[[floor((@{Excavation}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Excavation}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Excavation}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Excavation}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Geology</td><td><input type="number"  value="0" name="attr_Geology" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Geology}+@{Education}}}  {{os=[[floor((@{Geology}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Geology}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Geology}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Geology}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Medical (Diagnosis)</td><td><input type="number"  value="0" name="attr_Medical_Diagnosis" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Medical_Diagnosis}+@{Education}}}  {{os=[[floor((@{Medical_Diagnosis}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Medical_Diagnosis}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Medical_Diagnosis}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Medical (Diagnosis)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Medical (Trauma Aid)</td><td><input type="number"  value="0" name="attr_Medical_Trauma_Aid" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Medical_Trauma_Aid}+@{Education}}}  {{os=[[floor((@{Medical_Trauma_Aid}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Medical_Trauma_Aid}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Medical_Trauma_Aid}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Medical (Trauma Aid)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Medical (Surgery)</td><td><input type="number"  value="0" name="attr_Medical_Surgery" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Medical_Surgery}+@{Education}}}  {{os=[[floor((@{Medical_Surgery}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Medical_Surgery}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Medical_Surgery}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Medical (Surgery)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Metallurgy</td><td><input type="number"  value="0" name="attr_Metallurgy" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Metallurgy}+@{Education}}}  {{os=[[floor((@{Metallurgy}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Metallurgy}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Metallurgy}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Metallurgy}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Meteorology</td><td><input type="number"  value="0" name="attr_Meteorology" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Meteorology}+@{Education}}}  {{os=[[floor((@{Meteorology}+@{Education})*@{diffoptions})-10]]}} {{cf=[[floor((@{Meteorology}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Meteorology}+@{Education})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Meteorology}} {{diff=[[@{diffoptions}]]}}" /></td></tr>



				</table>
					<fieldset class="repeating_eduSkills">
					<input style="width:152px;display:inline-block" type="text" name="attr_skillName" />
					<input value="0" style="display:inline-block" type="number" name="attr_skillValue" />
					<button style="display:inline-block;margin-left:13px" type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{skillValue}+@{Education}}}  {{os=[[floor(((@{skillValue}+@{Education})*@{diffoptions}))-10]]}} {{cf=[[floor(((@{skillValue}+@{Education})*@{diffoptions}))+10]]}}    {{success=[[floor((@{skillValue}+@{Education})*@{diffoptions})]]}} {{roll=[[1d20]]}} {{skillname=@{skillName}}} {{diff=[[@{diffoptions}]]}}" />
					</fieldset>				
				
			</div>
			<div style="margin-right:15px" class='sheet-col'>
			
				<table style="width:100%" >
					<tr><td style="width:161px"><b>Constitution</b> </td><td><input type="number"  value="0" name="attr_Constitution" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Constitution}}}  {{os=[[floor(@{Constitution}*@{diffoptions})-10]]}} {{cf=[[floor(@{Constitution}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor(@{Constitution}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Constitution}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Climbing</td><td><input type="number"  value="0" name="attr_Climbing" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Climbing}+@{Constitution}}}  {{os=[[floor((@{Climbing}+@{Constitution})*@{diffoptions})-10]]}} {{cf=[[floor((@{Climbing}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Climbing}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Climbing}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Combat Engineer</td><td><input type="number"  value="0" name="attr_Combat_Engineer" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Combat_Engineer}+@{Constitution}}}  {{os=[[floor((@{Combat_Engineer}+@{Constitution})*@{diffoptions})-10]]}} {{cf=[[floor((@{Combat_Engineer}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Combat_Engineer}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Combat Engineer}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Parachute</td><td><input type="number"  value="0" name="attr_Parachute" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Parachute}+@{Constitution}}}  {{os=[[floor((@{Parachute}+@{Constitution})*@{diffoptions})-10]]}} {{cf=[[floor((@{Parachute}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Parachute}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Parachute}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Riding</td><td><input type="number"  value="0" name="attr_Riding" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Riding}+@{Constitution}}}  {{os=[[floor((@{Riding}+@{Constitution})*@{diffoptions})-10]]}} {{cf=[[floor((@{Riding}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Riding}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Riding}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Scuba </td><td><input type="number"  value="0" name="attr_Scuba" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Scuba}+@{Constitution}}}  {{os=[[floor((@{Scuba}+@{Constitution})*@{diffoptions})-10]]}} {{cf=[[floor((@{Scuba}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Scuba}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Scuba}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Small Watercraft</td><td><input type="number"  value="0" name="attr_Small_Watercraft" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Small_Watercraft}+@{Constitution}}}  {{os=[[floor((@{Small_Watercraft}+@{Constitution})*@{diffoptions})-10]]}} {{cf=[[floor((@{Small_Watercraft}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Small_Watercraft}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Small Watercraft}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Swimming</td><td><input type="number"  value="0" name="attr_Swimming" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Swimming}+@{Constitution}}}  {{os=[[floor((@{Swimming}+@{Constitution})*@{diffoptions})-10]]}} {{cf=[[floor((@{Swimming}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Swimming}+@{Constitution})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Swimming}} {{diff=[[@{diffoptions}]]}}" /></td></tr>

				</table>
					<fieldset class="repeating_conSkills">
					<input style="width:161px;display:inline-block" type="text" name="attr_skillName" />
					<input value="0" style="display:inline-block" type="number" name="attr_skillValue" />
					<button style="display:inline-block;margin-left:7px" type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{skillValue}+@{Constitution}}}  {{os=[[floor(((@{skillValue}+@{Constitution})*@{diffoptions}))-10]]}} {{cf=[[floor(((@{skillValue}+@{Constitution})*@{diffoptions}))+10]]}}    {{success=[[floor((@{skillValue}+@{Constitution})*@{diffoptions})]]}} {{roll=[[1d20]]}} {{skillname=@{skillName}}} {{diff=[[@{diffoptions}]]}}" />
					</fieldset>	
				<br />
				<table style="width:100%" >

					<tr><td><b>Charisma</b></td><td><input type="number"  value="0" name="attr_Charisma" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Charisma}}}  {{os=[[floor(@{Charisma}*@{diffoptions})-10]]}} {{cf=[[floor(@{Charisma}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor(@{Charisma}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Charisma}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Disguise </td><td><input type="number"  value="0" name="attr_Disguise" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Disguise}+@{Charisma}}}  {{os=[[floor((@{Disguise}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Disguise}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Disguise}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Disguise}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Instruction</td><td><input type="number"  value="0" name="attr_Instruction" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Instruction}+@{Charisma}}}  {{os=[[floor((@{Instruction}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Instruction}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Instruction}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Instruction}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Interrogation</td><td><input type="number"  value="0" name="attr_Interrogation" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Interrogation}+@{Charisma}}}  {{os=[[floor((@{Interrogation}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Interrogation}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Interrogation}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Interrogation}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language1_Name" />)</td><td><input type="number"  value="0" name="attr_Language1" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language1}+@{Charisma}}}  {{os=[[floor((@{Language1}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language1}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language1}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language1_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language2_Name" />)</td><td><input type="number"  value="0" name="attr_Language2" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language2}+@{Charisma}}}  {{os=[[floor((@{Language2}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language2}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language2}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language2_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language3_Name" />)</td><td><input type="number"  value="0" name="attr_Language3" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language3}+@{Charisma}}}  {{os=[[floor((@{Language3}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language3}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language3}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language3_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language4_Name" />)</td><td><input type="number"  value="0" name="attr_Language4" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language4}+@{Charisma}}}  {{os=[[floor((@{Language4}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language4}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language4}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language4_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text"class="sheet-Langauge-Skill" name="attr_Language5_Name" />)</td><td><input type="number"  value="0" name="attr_Language5" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language5}+@{Charisma}}}  {{os=[[floor((@{Language5}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language5}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language5}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language5_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language6_Name" />)</td><td><input type="number"  value="0" name="attr_Language6" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language6}+@{Charisma}}}  {{os=[[floor((@{Language6}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language6}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language6}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language6_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill"name="attr_Language7_Name" />)</td><td><input type="number"  value="0" name="attr_Language7" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language7}+@{Charisma}}}  {{os=[[floor((@{Language7}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language7}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language7}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language7_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language8_Name" />)</td><td><input type="number"  value="0" name="attr_Language8" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language8}+@{Charisma}}}  {{os=[[floor((@{Language8}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language8}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language8}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language8_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language9_Name" />)</td><td><input type="number"  value="0" name="attr_Language9" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language9}+@{Charisma}}}  {{os=[[floor((@{Language9}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language9}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language9}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language9_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Language(<input type="text" class="sheet-Langauge-Skill" name="attr_Language10_Name" />)</td><td><input type="number"  value="0" name="attr_Language10" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Language10}+@{Charisma}}}  {{os=[[floor((@{Language10}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Language10}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Language10}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Language (@{Language10_Name})}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Leadership</td><td><input type="number"  value="0" name="attr_Leadership" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Leadership}+@{Charisma}}}  {{os=[[floor((@{Leadership}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Leadership}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Leadership}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Leadership}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Persuasion</td><td><input type="number"  value="0" name="attr_Persuasion" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Persuasion}+@{Charisma}}}  {{os=[[floor((@{Persuasion}+@{Charisma})*@{diffoptions})-10]]}} {{cf=[[floor((@{Persuasion}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Persuasion}+@{Charisma})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Persuasion}} {{diff=[[@{diffoptions}]]}}" /></td></tr>

				
				</table>
					<fieldset class="repeating_charSkills">
					<input style="width:162px;display:inline-block" type="text" name="attr_skillName" />
					<input value="0" style="display:inline-block" type="number" name="attr_skillValue" />
					<button style="display:inline-block;margin-left:8px" type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{skillValue}+@{Charisma}}}  {{os=[[floor(((@{skillValue}+@{Charisma})*@{diffoptions}))-10]]}} {{cf=[[floor(((@{skillValue}+@{Charisma})*@{diffoptions}))+10]]}}    {{success=[[floor((@{skillValue}+@{Charisma})*@{diffoptions})]]}} {{roll=[[1d20]]}} {{skillname=@{skillName}}} {{diff=[[@{diffoptions}]]}}" />
					</fieldset>	

			</div>
			<div style="margin-right:15px" class='sheet-col'>
			
				<table style="width:100%" >			
				
					<tr><td class="sheet-skillname"><b>Agility</b></td><td><input type="number"  value="0" name="attr_Agility" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Agility}}}  {{os=[[floor(@{Agility}*@{diffoptions})-10]]}} {{cf=[[floor(@{Agility}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor(@{Agility}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Agility}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Acrobatics</td><td><input type="number"  value="0" name="attr_Acrobatics" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Acrobatics}+@{Agility}}}  {{os=[[floor((@{Acrobatics}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Acrobatics}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Acrobatics}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Acrobatics}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Forgery</td><td><input type="number"  value="0" name="attr_Forgery" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Forgery}+@{Agility}}}  {{os=[[floor((@{Forgery}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Forgery}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Forgery}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Forgery}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Grnd Vehicle (Motorcycle) </td><td><input type="number"  value="0" name="attr_Ground_Vehicle_Motorcycle" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Ground_Vehicle_Motorcycle}+@{Agility}}}  {{os=[[floor((@{Ground_Vehicle_Motorcycle}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Ground_Vehicle_Motorcycle}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Ground_Vehicle_Motorcycle}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Ground Vehicle (Motorcycle)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Grnd Vehicle (Tracked)</td><td><input type="number"  value="0" name="attr_Ground_Vehicle_Tracked" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Ground_Vehicle_Tracked}+@{Agility}}}  {{os=[[floor((@{Ground_Vehicle_Tracked}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Ground_Vehicle_Tracked}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Ground_Vehicle_Tracked}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Ground (Vehicle Tracked)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Grnd Vehicle (Wheeled)</td><td><input type="number"  value="0" name="attr_Ground_Vehicle_Wheeled" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Ground_Vehicle_Wheeled}+@{Agility}}}  {{os=[[floor((@{Ground_Vehicle_Wheeled}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Ground_Vehicle_Wheeled}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Ground_Vehicle_Wheeled}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Ground (Vehicle Wheeled)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Gunsmith</td><td><input type="number"  value="0" name="attr_Gunsmith" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Gunsmith}+@{Agility}}}  {{os=[[floor((@{Gunsmith}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Gunsmith}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Gunsmith}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Gunsmith}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Hovercraft</td><td><input type="number"  value="0" name="attr_Hovercraft" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Hovercraft}+@{Agility}}}  {{os=[[floor((@{Hovercraft}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Hovercraft}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Hovercraft}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Hovercraft}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Intrusion</td><td><input type="number"  value="0" name="attr_Intrusion" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Intrusion}+@{Agility}}}  {{os=[[floor((@{Intrusion}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Intrusion}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Intrusion}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Intrusion}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Machinist</td><td><input type="number"  value="0" name="attr_Machinist" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Machinist}+@{Agility}}}  {{os=[[floor((@{Machinist}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Machinist}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Machinist}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Machinist}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Pilot (Fixed-Wing)</td><td><input type="number"  value="0" name="attr_Pilot_Fixed-Wing" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Pilot_Fixed-Wing}+@{Agility}}}  {{os=[[floor((@{Pilot_Fixed-Wing}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Pilot_Fixed-Wing}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Pilot_Fixed-Wing}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Pilot (Fixed-Wing)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Pilot (Rotary-Wing)</td><td><input type="number"  value="0" name="attr_Pilot_Rotary-Wing" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Pilot_Rotary-Wing}+@{Agility}}}  {{os=[[floor((@{Pilot_Rotary-Wing}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Pilot_Rotary-Wing}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Pilot_Rotary-Wing}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Pilot (Rotary-Wing)}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Snow Skiing</td><td><input type="number"  value="0" name="attr_Snow_Skiing" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Snow_Skiing}+@{Agility}}}  {{os=[[floor((@{Snow_Skiing}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Snow_Skiing}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Snow_Skiing}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Snow Skiing}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Stealth</td><td><input type="number"  value="0" name="attr_Stealth" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Stealth}+@{Agility}}}  {{os=[[floor((@{Stealth}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Stealth}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Stealth}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Stealth}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Tac Missile</td><td><input type="number"  value="0" name="attr_Tac_Missile" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Tac_Missile}+@{Agility}}}  {{os=[[floor((@{Tac_Missile}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Tac_Missile}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Tac_Missile}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Tac. Missile}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
					<tr><td>Warhead</td><td><input type="number"  value="0" name="attr_Warhead" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Warhead}+@{Agility}}}  {{os=[[floor((@{Warhead}+@{Agility})*@{diffoptions})-10]]}} {{cf=[[floor((@{Warhead}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Warhead}+@{Agility})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Warhead}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				</table>
					<fieldset class="repeating_aglSkills">
					<input style="width:150px;display:inline-block" type="text" name="attr_skillName" />
					<input value="0" style="display:inline-block" type="number" name="attr_skillValue" />
					<button style="display:inline-block;margin-left:14px" type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{skillValue}+@{Agility}}}  {{os=[[floor(((@{skillValue}+@{Agility})*@{diffoptions}))-10]]}} {{cf=[[floor(((@{skillValue}+@{Agility})*@{diffoptions}))+10]]}}    {{success=[[floor((@{skillValue}+@{Agility})*@{diffoptions})]]}} {{roll=[[1d20]]}} {{skillname=@{skillName}}} {{diff=[[@{diffoptions}]]}}" />
					</fieldset>					
			<br />
			<table style="width:100%" >	
			
			
				<tr><td class="sheet-skillname"><b>Intelligence</b></td><td><input type="number"  value="0" name="attr_Intelligence" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Intelligence}}}  {{os=[[floor(@{Intelligence}*@{diffoptions})-10]]}} {{cf=[[floor(@{Intelligence}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor(@{Intelligence}*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname=Intelligence}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				<tr><td>Farming</td><td><input type="number"  value="0" name="attr_Farming" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Farming}+@{Intelligence}}}  {{os=[[floor((@{Farming}+@{Intelligence})*@{diffoptions})-10]]}} {{cf=[[floor((@{Farming}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Farming}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Farming}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				<tr><td>Forward Observer</td><td><input type="number"  value="0" name="attr_Forward_Observer" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Forward_Observer}+@{Intelligence}}}  {{os=[[floor((@{Forward_Observer}+@{Intelligence})*@{diffoptions})-10]]}} {{cf=[[floor((@{Forward_Observer}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Forward_Observer}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Forward Observer}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				<tr><td>Navigation</td><td><input type="number"  value="0" name="attr_Navigation" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Navigation}+@{Intelligence}}}  {{os=[[floor((@{Navigation}+@{Intelligence})*@{diffoptions})-10]]}} {{cf=[[floor((@{Navigation}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Navigation}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Navigation}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				<tr><td>Observation</td><td><input type="number"  value="0" name="attr_Observation" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Observation}+@{Intelligence}}}  {{os=[[floor((@{Observation}+@{Intelligence})*@{diffoptions})-10]]}} {{cf=[[floor((@{Observation}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Observation}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Observation}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				<tr><td>Scrounging</td><td><input type="number"  value="0" name="attr_Scrounging" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Scrounging}+@{Intelligence}}}  {{os=[[floor((@{Scrounging}+@{Intelligence})*@{diffoptions})-10]]}} {{cf=[[floor((@{Scrounging}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Scrounging}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Scrounging}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				<tr><td>Survival</td><td><input type="number"  value="0" name="attr_Survival" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Survival}+@{Intelligence}}}  {{os=[[floor((@{Survival}+@{Intelligence})*@{diffoptions})-10]]}} {{cf=[[floor((@{Survival}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Survival}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Survival}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
				<tr><td>Tracking</td><td><input type="number"  value="0" name="attr_Tracking" /></td><td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{Tracking}+@{Intelligence}}}  {{os=[[floor((@{Tracking}+@{Intelligence})*@{diffoptions})-10]]}} {{cf=[[floor((@{Tracking}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })+10]]}}    {{success=[[floor((@{Tracking}+@{Intelligence})*?{Difficulty?| Average,[[2]]|Easy, [[4]] |Difficult,[[1]]|Formidable,[[0.5]]|Impossible,[[0.25]] })]]}} {{roll=[[1d20]]}} {{skillname= Tracking}} {{diff=[[@{diffoptions}]]}}" /></td></tr>
			
			</table>
					<fieldset class="repeating_intSkills">
					<input style="width:149px;display:inline-block" type="text" name="attr_skillName" />
					<input value="0" style="display:inline-block" type="number" name="attr_skillValue" />
					<button style="display:inline-block;margin-left:16px" type="roll" value="&{template:skillRoll} {{name=@{Name}}} {{skillvalue=@{skillValue}+@{Intelligence}}}  {{os=[[floor(((@{skillValue}+@{Intelligence})*@{diffoptions}))-10]]}} {{cf=[[floor(((@{skillValue}+@{Intelligence})*@{diffoptions}))+10]]}}    {{success=[[floor((@{skillValue}+@{Intelligence})*@{diffoptions})]]}} {{roll=[[1d20]]}} {{skillname=@{skillName}}} {{diff=[[@{diffoptions}]]}}" />
					</fieldset>	
			
			</div>			
		</div>		
	</div>
	<br />
	<div class='sheet-3colrow'>
		<div  class='sheet-col'>
			<div style="border: 1px solid black; width:100%">
				<div style="width:100%">
					<div style="width: 100%;padding: 5px;">
						<h3 style="text-align: center">Contacts</h3>
						<textarea style="width: 90%" rows="20" name="attr_Contacts" ></textarea>
					</div>
				</div>	
				<div style="padding: 5px;border-top: 1px solid black">
					<h3 style="text-align: center">Dervied Values</h3>
					<table style="width: 100%">
						<tr>
							<td>Initative</rd>
							<td colspan="3"><input READONLY style="width: 55px" type="text" name="attr_Initiative" /><button type="roll" value="&{template:default} {{name=Initiatve}} {{roll=[[@{Initiative} &{tracker}]]}}" /></td>	
						</tr>					
						<tr>
							<td></td><td></td>
							<td>Unarmed</td>
						</tr>
						<tr>
							<td>Throw Range</td>
							<td><input READONLY style="text-align: center;" type="number" name="attr_throw_range"></td>
							<td>Damage</td>
						</tr>
						<tr>
							<td>Load</td>
							<td><input READONLY style="text-align: center;" type ="number" name="attr_Load"/></td>
							<td><input READONLY type="text" style="text-align: center; width: 55px" name="attr_unarmed_damage"/></td>
						</tr>
	
					</table>
				</div>
			</div>
			<div style="margin-top: 5px">
				<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Twilight-2000-v2.2/twlogo.png" />
			</div>

		</div><!--Col1-->
		<div style="padding: 5px; width:29%" class='sheet-col'>
			<h3 style="text-align: center">Hit Capacity<button type="roll" name="roll_hitloc" value="value='&{template:Hit-Location} {{roll=[[1d10]]}}" /></h3>
			<br />
			<table style="width: 109%;margin-left: -10px;">
				<thead>
					<tr>
						<th>Current</th>
						<th>Scratch</th>
						<th>Slight</th>						
						<th>Serious</th>						
						<th>Critical</th>						
					</tr>					
				</thead>
				<tbody>
					<tr>
						<td >Head</td>
						<td style="text-align: center"><input type="checkbox" name="attr__head_scratch_chk"></td>
						<td style="text-align: center"><input type="checkbox" name="attr_head_slight_chk" /></td>												
						<td style="text-align: center"><input type="checkbox" name="attr_head_serious_chk" /></td>						
						<td style="text-align: center"><input  type="checkbox" name="attr_head_critical_chk" /></td>						
					</tr>
					<tr>
						<td><input type="number"  value="0" name="attr_head_curr" /></td>
						<td><input READONLY type="text" class="sheet-hc"  name="attr_head_scratch" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_head_slight" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_head_serious" /></td>						
						<td><input  READONLY type="text" class="sheet-hc" name="attr_head_critical" /></td>
					</tr>
					<tr><td>Chest</td>
						<td style="text-align: center"><input type="checkbox" name="attr__chest_scratch_chk"></td>
						<td style="text-align: center"><input type="checkbox" name="attr_chest_slight_chk" /></td>												
						<td style="text-align: center"><input type="checkbox" name="attr_chest_serious_chk" /></td>						
						<td style="text-align: center"><input  type="checkbox" name="attr_chest_critical_chk" /></td>					
					</tr>
					<tr>
						<td><input type="number"  value="0" name="attr_chest_curr" /></td>
						<td><input READONLY type="text" class="sheet-hc" name="attr_chest_scratch" /></td>											
						<td><input  READONLY type="text" class="sheet-hc"  name="attr_chest_slight" /></td>									<td><input READONLY type="text"  class="sheet-hc"  name="attr_chest_serious" /></td>						
						<td><input READONLY type="text" class="sheet-hc"  name="attr_chest_critical" /></td>
					</tr>					
					<tr><td >Abdomen</td>
						<td style="text-align: center"><input type="checkbox" name="attr__Abdomen_scratch_chk"></td>
						<td style="text-align: center"><input type="checkbox" name="attr_Abdomen_slight_chk" /></td>												
						<td style="text-align: center"><input type="checkbox" name="attr_Abdomen_serious_chk" /></td>						
						<td style="text-align: center"><input  type="checkbox" name="attr_Abdomen_critical_chk" /></td>					
					</tr>					
					</tr>
					<tr>
						<td><input  type="number" name="attr_Abdomen_curr" /></td>
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_scratch" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_slight" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_serious" /></td>						
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_critical" /></td>
					</tr>										
					<tr><td >Right Arm</td>
						<td style="text-align: center"><input type="checkbox" name="attr__right_arm_scratch_chk"></td>
						<td style="text-align: center"><input type="checkbox" name="attr_right_arm_slight_chk" /></td>												
						<td style="text-align: center"><input type="checkbox" name="attr_right_arm_serious_chk" /></td>						
						<td style="text-align: center"><input  type="checkbox" name="attr_right_arm_critical_chk" /></td>						
					</tr>
					
					<tr>
						<td><input  type="number" name="attr_right_arm_curr" /></td>
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_scratch" /></td>												
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_slight" /></td>												
						<td><input  READONLY type="text" class="sheet-hc"name="attr_other_serious" /></td>						
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_critical" /></td>
					</tr>										
					<tr><td >Left Arm</td>
						<td style="text-align: center"><input type="checkbox" name="attr__left_arm_scratch_chk"></td>
						<td style="text-align: center"><input type="checkbox" name="attr_left_arm_slight_chk" /></td>												
						<td style="text-align: center"><input type="checkbox" name="attr_left_arm_serious_chk" /></td>						
						<td style="text-align: center"><input  type="checkbox" name="attr_left_arm_critical_chk" /></td>						
					</tr>
					<tr>
						<td><input  type="number" name="attr_left_arm_curr" /></td>
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_scratch" /></td>												
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_slight" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_serious" /></td>						
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_critical" /></td>
					</tr>			
					<tr><td >Right Leg</td>
						<td style="text-align: center"><input type="checkbox" name="attr_right_leg_scratch_chk"></td>
						<td style="text-align: center"><input type="checkbox" name="attr_right_leg_slight_chk" /></td>												
						<td style="text-align: center"><input type="checkbox" name="attr_right_leg_serious_chk" /></td>						
						<td style="text-align: center"><input  type="checkbox" name="attr_right_leg_critical_chk" /></td>					
					</tr>
					<tr>
						<td><input type="number"  value="0" name="attr_right_leg_curr" /></td>
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_scratch" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_slight" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_serious" /></td>						
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_critical" /></td>
					</tr>	
					<tr><td >Left Leg</td>
						<td style="text-align: center"><input type="checkbox" name="attr_left_leg_scratch_chk"></td>
						<td style="text-align: center"><input type="checkbox" name="attr_left_leg_slight_chk" /></td>												
						<td style="text-align: center"><input type="checkbox" name="attr_left_leg_serious_chk" /></td>						
						<td style="text-align: center"><input  type="checkbox" name="attr_left_leg_critical_chk" /></td>										
					</tr>
					<tr>
						<td><input type="number"  value="0" name="attr_left_leg_curr" /></td>
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_scratch" /></td>												
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_slight" /></td>												
						<td><input READONLY type="text" class="sheet-hc"name="attr_other_serious" /></td>						
						<td><input READONLY type="text" class="sheet-hc" name="attr_other_critical" /></td>
					</tr>

				</tbody>
			</table>
		</div ><!--Col2-->
		<div class='sheet-col'>
			<div style="width: 100%; padding: 5px">
				<h3 style="text-align: center">Equipment</h3>
				<textarea style="width: 90%; height: 380px;"  name="attr_Equipment" ></textarea>
				
			</div>
		</div name="col3"><!--Col3-->
		
	</div><!--Parent-->
	<br />
	<div style="padding: 5px; border: 1px solid black">
		<h3 style="text-align: center; margin-bottom: 5px;">Missile Weapon Data</h3>
		<table style="width: 100%">
		<thead>
			<tr>
				<th colspan="3"></th>
				<th>Recoil</th>				
				<th colspan="5"></th>
				<th style="border-bottom: 1px solid black" colspan="4">Mag.</th>
				<th style="border-bottom: 1px solid black"  colspan="2">Recoil</th>
				<th></th>
				<th></th>
			</tr>
			<tr>
				<th></th>
				<th>Weapon</th>
				<th>Asset</th>
				<th>Mod.</th>				
				<th>ROF</th>
				<th colspan="2">Damage</th>
				<th>PEN</th>			
				<th>Bulk</th>			
				<th title="Mag. Capacity">Full</th>				
				<th title="Current Rnds.">Current</th>
				<th style="text-align:center" title="Number of Mags.">#</th>
				<th>SS</th>			
				<th>Burst</th>			
				<th>Rng.</th>			
			</tr>
		</thead>		
		<tbody>
		<tr>
			<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{weapon_asset_1}}}  {{os=[[((floor(@{weapon_asset_1}*@{diffoptions}))+@{weapon_hit_mod_1})-10]]}} {{cf=[[((floor(@{weapon_asset_1}*@{diffoptions}))+@{weapon_hit_mod_1})+10]]}}   {{success=[[(floor(@{weapon_asset_1}*@{diffoptions}))+@{weapon_hit_mod_1}]]}} {{roll=[[1d20]]}} {{skillname=@{weapon_name_1}}}  {{diff=[[@{diffoptions}]]}}"/></td>
			<td><input class="sheet-weapon_name" type="text" name="attr_weapon_name_1"></td>
			<td><input type="number"  value="0" name="attr_weapon_asset_1" value="0"></td>
			<td><input type="number"  value="0" name="attr_weapon_hit_mod_1"></td>
			<td><input style="width: 55px;" type="text" name="attr_weapon_rof_1"></td>
			<td><input type="number"  value="0" name="attr_weapon_damage_1"></td>			
			<td><button type="roll"  value="@{missdam1}"/></td>			
			<td><input class="sheet-weapon_pen" type="text" name="attr_weapon_PEN_1"></td>			
			<td><input type="number"  value="0" name="attr_weapon_bulk_1"></td>			
			<td><input type="number"  title="Mag. Capacity" value="0" name="attr_weapon_mag_full_1"></td>			
			<td><input type="number"  title="Current Rnds." value="0" name="attr_weapon_mag_cur_1"></td>
			<td><input type="number"   title="Number of Mags."  value="0" name="attr_weapon_mag_total_1"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_ss_1"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_burst_1"></td>			
			<td><input class="sheet-weapon_range" type="number" name="attr_weapon_range_1"></td>
		</tr>
		<tr>
			<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{weapon_asset_2}}}  {{os=[[((floor(@{weapon_asset_2}*@{diffoptions}))+@{weapon_hit_mod_2})-10]]}} {{cf=[[((floor(@{weapon_asset_2}*@{diffoptions}))+@{weapon_hit_mod_2})+10]]}}   {{success=[[(floor(@{weapon_asset_2}*@{diffoptions}))+@{weapon_hit_mod_2}]]}} {{roll=[[1d20]]}} {{skillname=@{weapon_name_2}}}  {{diff=[[@{diffoptions}]]}}"/></td>
			<td><input class="sheet-weapon_name" type="text" name="attr_weapon_name_2"></td>
			<td><input type="number"  value="0" name="attr_weapon_asset_2" value="0"></td>
			<td><input type="number"  value="0" name="attr_weapon_hit_mod_2"></td>
			<td><input style="width: 55px;"  type="text" name="attr_weapon_rof_2"></td>
			<td><input type="number"  value="0" name="attr_weapon_damage_2"></td>			
			<td><button type="roll"  value="@{missdam2}"/></td>			
			<td><input class="sheet-weapon_pen" type="text" name="attr_weapon_PEN_2"></td>			
			<td><input type="number"  value="0" name="attr_weapon_bulk_2"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_full_2"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_cur_2"></td>
			<td><input type="number"  value="0" name="attr_weapon_mag_total_2"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_ss_2"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_burst_2"></td>			
			<td><input class="sheet-weapon_range" type="number" name="attr_weapon_range_2"></td>
		</tr>			
		<tr>
			<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{weapon_asset_3}}}  {{os=[[((floor(@{weapon_asset_3}*@{diffoptions}))+@{weapon_hit_mod_3})-10]]}} {{cf=[[((floor(@{weapon_asset_3}*@{diffoptions}))+@{weapon_hit_mod_3})+10]]}}   {{success=[[(floor(@{weapon_asset_3}*@{diffoptions}))+@{weapon_hit_mod_3}]]}} {{roll=[[1d20]]}} {{skillname=@{weapon_name_3}}}  {{diff=[[@{diffoptions}]]}}"/></td>
			<td><input class="sheet-weapon_name" type="text" name="attr_weapon_name_3"></td>
			<td><input type="number"  value="0" name="attr_weapon_asset_3" value="0"></td>
			<td><input type="number"  value="0" name="attr_weapon_hit_mod_3"></td>
			<td><input style="width: 55px;" type="text" name="attr_weapon_rof_3"></td>
			<td><input type="number"  value="0" name="attr_weapon_damage_3"></td>			
			<td><button type="roll"  value="@{missdam3}"/></td>			
			<td><input class="sheet-weapon_pen" type="text" name="attr_weapon_PEN_3"></td>			
			<td><input type="number"  value="0" name="attr_weapon_bulk_3"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_full_3"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_cur_3"></td>
			<td><input type="number"  value="0" name="attr_weapon_mag_total_3"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_ss_3"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_burst_3"></td>			
			<td><input class="sheet-weapon_range" type="number" name="attr_weapon_range_3"></td>
		</tr>			
		<tr>
			<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{weapon_asset_4}}}  {{os=[[((floor(@{weapon_asset_4}*@{diffoptions}))+@{weapon_hit_mod_4})-10]]}} {{cf=[[((floor(@{weapon_asset_4}*@{diffoptions}))+@{weapon_hit_mod_4})+10]]}}   {{success=[[(floor(@{weapon_asset_4}*@{diffoptions}))+@{weapon_hit_mod_4}]]}} {{roll=[[1d20]]}} {{skillname=@{weapon_name_4}}}  {{diff=[[@{diffoptions}]]}}"/></td>
			<td><input class="sheet-weapon_name" type="text" name="attr_weapon_name_4"></td>
			<td><input type="number"  value="0" name="attr_weapon_asset_4" value="0"></td>
			<td><input type="number"  value="0" name="attr_weapon_hit_mod_4"></td>
			<td><input style="width: 55px;" type="text" name="attr_weapon_rof_4"></td>
			<td><input type="number"  value="0" name="attr_weapon_damage_4"></td>			
			<td><button type="roll"  value="@{missdam4}"/></td>			
			<td><input class="sheet-weapon_pen" type="text" name="attr_weapon_PEN_4"></td>			
			<td><input type="number"  value="0" name="attr_weapon_bulk_4"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_full_4"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_cur_4"></td>
			<td><input type="number"  value="0" name="attr_weapon_mag_total_4"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_ss_4"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_burst_4"></td>			
			<td><input class="sheet-weapon_range" type="number" name="attr_weapon_range_4"></td>
		</tr>			
		<tr>
			<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{weapon_asset_5}}}  {{os=[[((floor(@{weapon_asset_5}*@{diffoptions}))+@{weapon_hit_mod_5})-10]]}} {{cf=[[((floor(@{weapon_asset_5}*@{diffoptions}))+@{weapon_hit_mod_5})+10]]}}   {{success=[[(floor(@{weapon_asset_5}*@{diffoptions}))+@{weapon_hit_mod_5}]]}} {{roll=[[1d20]]}} {{skillname=@{weapon_name_5}}}  {{diff=[[@{diffoptions}]]}}"/></td>
			<td><input class="sheet-weapon_name" type="text" name="attr_weapon_name_5"></td>
			<td><input type="number"  value="0" name="attr_weapon_asset_5" value="0"></td>
			<td><input type="number"  value="0" name="attr_weapon_hit_mod_5"></td>
			<td><input style="width: 55px;" type="text" name="attr_weapon_rof_5"></td>
			<td><input type="number"  value="0" name="attr_weapon_damage_5"></td>			
			<td><button type="roll"  value="@{missdam5}"/></td>			
			<td><input class="sheet-weapon_pen" type="text" name="attr_weapon_PEN_5"></td>			
			<td><input type="number"  value="0" name="attr_weapon_bulk_5"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_full_5"></td>			
			<td><input type="number"  value="0" name="attr_weapon_mag_cur_5"></td>
			<td><input type="number"  value="0" name="attr_weapon_mag_total_5"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_ss_5"></td>
			<td><input type="number"  value="0" name="attr_weapon_recoil_burst_5"></td>			
			<td><input class="sheet-weapon_range" type="number" name="attr_weapon_range_5"></td>
		</tr>	

		</tbody>
		</table>

			<textarea name="attr_missdam1" style="display:none">&{template:missile-damage} {{weapon=@{weapon_name_1}}}  {{base=[[@{weapon_damage_1}]]}} {{damage1=[[(@{weapon_damage_1}-?{mods|0})d6]]}}  {{damage2=[[1d6-1]]}}

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>

			<textarea name="attr_missdam2" style="display:none">&{template:missile-damage} {{weapon=@{weapon_name_2}}}  {{base=[[@{weapon_damage_2}]]}} {{damage1=[[(@{weapon_damage_2}-?{mods|0})d6]]}}  {{damage2=[[1d6-1]]}}

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>

			<textarea name="attr_missdam3" style="display:none">&{template:missile-damage} {{weapon=@{weapon_name_3}}}  {{base=[[@{weapon_damage_3}]]}} {{damage1=[[(@{weapon_damage_3}-?{mods|0})d6]]}}  {{damage2=[[1d6-1]]}}

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>

			<textarea name="attr_missdam4" style="display:none">&{template:missile-damage} {{weapon=@{weapon_name_4}}}  {{base=[[@{weapon_damage_4}]]}} {{damage1=[[(@{weapon_damage_4}-?{mods|0})d6]]}}  {{damage2=[[1d6-1]]}}

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>


			<textarea name="attr_missdam5" style="display:none">&{template:missile-damage} {{weapon=@{weapon_name_5}}}  {{base=[[@{weapon_damage_5}]]}} {{damage1=[[(@{weapon_damage_5}-?{mods|0})d6]]}}  {{damage2=[[1d6-1]]}}

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>

	</div>
	

	<br />	
	<div class='sheet-2colrow'>		
		<div class='sheet-col'>
			<div style="border: 1px solid black;padding-bottom:15px;">
				<h3 style="text-align: center">Burst Calculator</h3>			
				<table style="margin-left: 53px;">
				<thead>
				<tr>
					<th>
						# of <br />Bursts
					</th>
					<th>ROF</th>
					<th>Range</th>
					<th>Recoil</th>			
					<th># of<br />Rolls</th>			
				</tr>
				</thead>
				<tbody>
				<tr>
					<td><input  type="number"  title='Base' value="0" name="attr_number_of_bursts" /></td>
					<td>
						<select name="attr_burst_rof" style="width: 55px;margin-bottom:0px">
							<option selected="selected" value="3">3</option>
							<option value="5">5</option>
							<option value="10">10</option>
						</select>
					</td>				
					<td>
					<select name="attr_burst_range" style="width: 100px;margin-bottom:0px">
						<option selected="selectected">Short</option>
						<option>Medium</option>
						<option>Long</option>
						<option>Extreme</option>				
					</select>
					</td>
					<td><input type="number"  value="0" name="attr_burst_recoil" /></td>						
					<td><input type="number"  value="0" READONLY name="attr_burst_rolls" /></td>	
				</tr>
				</tbody>
				</table>
			</div>
			<br>
			<div class="sheet-fullBrdr">
				<h3 style="text-align: center">Explosion Calculator</h3>
				<div class="sheet-cvGrid">
					<span class="sheet-label">Base CV</span>
					<div><input type="number"  value="0" name="attr_baseCv" /></div>
					<span  class="sheet-label">CV @ Range</span>
					<div><input type="text"  class="sheet-cvRanges" readonly name="attr_cvRanges" /></div>
				</div>
				<div class="sheet-cvGrid2">
					<span class="sheet-label">CV</span>
					<div><input type="number"  value="0" name="attr_cv" /></div>
					<div><button type="action" name="act_explosion">t</button></div>
				</div>	
			</div>	
		</div>
		<div class='sheet-col' style="border: 1px solid black;padding-bottom:15px;">
			<h3 style="text-align: center; ">Melee Weapon Data</h3>
			<table style="width: 100%">
					<thead>
						<tr>
							<th colspan="2"></th>
							<th>Damage</th> 	
							<th></th>
							<th></th>
						</tr>
						<tr>
							<th></th>
							<th>Weapon</th>
							<th>Bonus</th>
							<th>Hit Mod.</th>				
							<th colspan="2">Damage</th>
							<th>Wt.</th>			
						</tr>
					</thead>	
					<tbody>
					<tr>
						<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{Strength}+@{Armed_Martial_Arts}}}  {{os=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_1}-10]]}} {{cf=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_1}+10]]}}   {{success=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_1}]]}} {{roll=[[1d20]]}} {{skillname=@{melee_weapon_name_1}}} {{diff=[[@{diffoptions}]]}} {{hitMod=@{melee_weapon_hit_mod_1}}}"/></td>
						<td><input style="width:85px;" type="text" name="attr_melee_weapon_name_1"></td>
						<td>
							<select style="width: 80px; margin-bottom: 0px" name="attr_damage_bonus_1" >
								<option value="">None</option>
								<option value="(floor(@{Strength}/2))">Str/2</option>
								<option value="@{Strength}">Str</option>					
							</select>
						</td>			
						<td><input type="number"  value="0" name="attr_melee_weapon_hit_mod_1"></td>
						<td><input style="width: 55px" type="text" name="attr_melee_weapon_damage_1"></td>			
						<td><button type="roll"  value="@{mldam1}"/></td>			
						<td><input type="number"  value="0" name="attr_melee_weapon_wt_1"></td>			
					</tr>
					<tr>
						<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{Strength}+@{Armed_Martial_Arts}}}  {{os=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_2}-10]]}} {{cf=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_2}+10]]}}   {{success=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_2}]]}} {{roll=[[1d20]]}} {{skillname=@{melee_weapon_name_2}}} {{diff=[[@{diffoptions}]]}}  {{hitMod=@{melee_weapon_hit_mod_2}}} "/></td>
						<td><input style="width:85px;" type="text" name="attr_melee_weapon_name_2"></td>
						<td>
							<select style="width: 80px; margin-bottom: 0px" name="attr_damage_bonus_2" >
								<option value="">None</option>
								<option value="(floor(@{Strength}/2))">Str/2</option>
								<option value="@{Strength}">Str</option>					
							</select>
						</td>			
						<td><input type="number"  value="0" name="attr_melee_weapon_hit_mod_2"></td>
						<td><input style="width: 55px" type="text" name="attr_melee_weapon_damage_2"></td>			
						<td><button type="roll"  value="@{mldam2}"/></td>			
						<td><input type="number"  value="0" name="attr_melee_weapon_wt_2"></td>			
					</tr>	
					<tr>
						<td><button type="roll" value="&{template:skillRoll} {{name=@{Name}}}{{skillvalue=@{Strength}+@{Armed_Martial_Arts}}}  {{os=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_3}-10]]}} {{cf=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_3}+10]]}}   {{success=[[(floor(@{Strength}+@{Armed_Martial_Arts}))*@{diffoptions}+@{melee_weapon_hit_mod_3}]]}} {{roll=[[1d20]]}} {{skillname=@{melee_weapon_name_3}}} {{diff=[[@{diffoptions}]]}}  { {{hitMod=@{melee_weapon_hit_mod_3}}}"/></td>
						<td><input style="width:85px;" type="text" name="attr_melee_weapon_name_3"></td>
						<td>
							<select style="width: 80px; margin-bottom: 0px" name="attr_damage_bonus_3" >
								<option value="">None</option>
								<option value="(floor(@{Strength}/2))">Str/2</option>
								<option value="@{Strength}">Str</option>					
							</select>
						</td>			
						<td><input type="number"  value="0" name="attr_melee_weapon_hit_mod_3"></td>
						<td><input style="width: 55px" type="text" name="attr_melee_weapon_damage_3"></td>			
						<td><button type="roll"  value="@{mldam3}"/></td>			
						<td><input type="number"  value="0" name="attr_melee_weapon_wt_3"></td>			
					</tr>					
					</tbody>					
			</table>

			<textarea name="attr_mldam1" style="display:none">&{template:melee-damage} {{weapon=@{melee_weapon_name_1}}}  {{damage=[[@{melee_weapon_damage_1}+@{damage_bonus_1}]]}}    

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>

			<textarea name="attr_mldam2" style="display:none">&{template:melee-damage} {{weapon=@{melee_weapon_name_3}}}  {{damage=[[@{melee_weapon_damage_3}+@{damage_bonus_3}]]}}    

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>

			<textarea name="attr_mldam3" style="display:none">&{template:melee-damage} {{weapon=@{melee_weapon_name_3}}}  {{damage=[[@{melee_weapon_damage_3}+@{damage_bonus_3}]]}}    

value='&{template:Hit-Location} {{roll=[[1d10]]}}</textarea>




		</div>
	
	</div>	
	
	
</p>


<rolltemplate class="sheet-rolltemplate-melee-damage">
    <table class="skillRoll" style="border 1px black">
        <tr><th colspan="2">{{weapon}}</th></tr>
		<!--<tr><td>Base</td><td>{{base}}</td></tr>		
		<tr><td>Damage1</td><td>{{damage1}}</td><tr>
		<tr><td>Damage2</td><td>{{damage2}}</td><tr>-->
		<tr>
				<td class="template_label"><b>Damage:</b></td> 
				<td class="template_value"> {{damage}}</td>
		
		</tr>
		<tr>
		</tr>
    </table>
</rolltemplate>



<rolltemplate class="sheet-rolltemplate-missile-damage">
    <table class="skillRoll" style="border 1px black">
        <tr><th colspan="2">{{weapon}}</th></tr>
		<!--<tr><td>Base</td><td>{{base}}</td></tr>		
		<tr><td>Damage1</td><td>{{damage1}}</td><tr>
		<tr><td>Damage2</td><td>{{damage2}}</td><tr>-->
        <tr>
			<tr>
				<td class="template_label"><b>Damage:</b></td> 
				{{#rollLess() base 0}}
					<td class="template_value"> {{damage2}}</td>
				{{/rollLess() base 0}}
				{{#^rollLess() base 0}}				
					<td class="template_value"> {{damage1}}</td>
				{{/^rollLess() base 0}}				
			</tr>
			
       </tr>
		<tr>
		</tr>
    </table>
</rolltemplate>


<rolltemplate class="sheet-rolltemplate-Hit-Location">
	<table class="skillRoll" style="border 1px black">
		<tr><th colspan="1">Hit location roll</th></tr>
		<tr>
			{{#rollTotal() roll 1}}<td style="text-align: center">{{roll}} Hit on the Head</td>{{/rollTotal() roll 1}}
			{{#rollTotal() roll 2}}<td style="text-align: center">{{roll}} Hit on the Right Arm</td>{{/rollTotal() roll 2}}		
			{{#rollTotal() roll 3}}<td style="text-align: center">{{roll}} Hit on the Left Arm</td>{{/rollTotal() roll 3}}
			{{#rollTotal() roll 4}}<td style="text-align: center">{{roll}} Hit on the Chest</td>{{/rollTotal() roll 4}}
			{{#rollBetween() roll 5 6}}<td style="text-align: center">{{roll}} Hit on the Abdomen</td>{{/rollBetween() roll 5 6}}
			{{#rollBetween() roll 7 8}}<td style="text-align: center">{{roll}} Hit on the Right Leg</td>{{/rollBetween() roll 7 8}}
			{{#rollBetween() roll 9 10}}<td style="text-align: center">{{roll}} Hit on the Right Leg</td>{{/rollBetween() roll 9 10}}				
		</tr>
	</table>
</rolltemplate>








<rolltemplate class="sheet-rolltemplate-skillRoll">
    <table class="skillRoll" style="width: 100%; border 1px black">
        <!--<tr><th>{{name}}</th></tr>-->

		<tr><th colspan="2">{{name}}</th></tr>
		<tr><th colspan="2">Skill Roll:&nbsp;{{skillname}}</th></tr>
		<!--<tr><th colspan="2">{{skillname}}</th></tr>	-->	
		<!--<tr><td>os</td><td>{{os}}</td></td>
		<tr><td>CF</td><td>{{cf}}</td></td>-->
        <tr>
			<tr>
				<td class="template_label"><b>Asset:</b> </td> 
				<td class="sheet-rolltemplate-skillRoll-template_value"> ({{skillvalue}})&nbsp; x{{diff}} {{#hitMod}} + {{hitMod}} {{/hitMod}} = {{success}}</td>
			</tr>
			
       </tr>
        <tr>
            <td class="template_label"><b>Rolled:</b></td>
            <td class="sheet-rolltemplate-skillRoll-template_value">&nbsp;{{roll}}</td>
        </tr>
		<tr>
		 <td class="template_label"><b>Result:</b></td>
			
		 <!-- Check for out standing success -->
		{{#^rollGreater() roll os}}
			{{#rollTotal() roll 20}}
				<td class="sheet-rolltemplate-skillRoll-template_value">Failure</td>
			{{/rollTotal() roll 20}}
			{{#^rollTotal() roll 20}}
				<td class="sheet-rolltemplate-skillRoll-template_value">Outstanding Success</td>
			{{/^rollTotal() roll 20}}			
		{{/^rollGreater() roll os}}
		 
		{{#rollGreater() roll os}} 
			{{#rollLess() roll cf}}
				{{#rollGreater() roll success}}
					<!-- Failure -->
					{{#rollTotal() roll 1}}
						<td class="sheet-rolltemplate-skillRoll-template_value">Success</td>				
					{{/rollTotal() roll 1}}					
					{{#^rollTotal() roll 1}}
						<td class="sheet-rolltemplate-skillRoll-template_value">Failure</td>				
					{{/^rollTotal() roll 1}}					
				{{/rollGreater() roll success}}
				{{#^rollGreater() roll success}}
					{{#rollTotal() roll 20}}
						<td class="sheet-rolltemplate-skillRoll-template_value">Failure</td>
					{{/rollTotal() roll 20}}	
					<!-- Success -->
					{{#^rollTotal() roll 20}}					
						<td class="sheet-rolltemplate-skillRoll-template_value">Success</td>				
					{{/^rollTotal() roll 20}}						
				{{/^rollGreater() roll success}}			
			{{/rollLess() roll cf}}	
		{{/rollGreater() roll os}}		
		
		{{#^rollLess() roll cf}}		
			<!--Catastrophic Failure: -->
			<td class="sheet-rolltemplate-skillRoll-template_value">Catastrophic Failure</td>			
		{{/^rollLess() roll cf}}
		</tr>
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-explosion">
    <div class="sheet-template-container">
		<div class="sheet-header">
			<div>{{name}}</div>
			<div>CV:{{cv}}</div>
		</div>
        <div class="sheet-results">
			<span class="sheet-label">Damage:</span> {{damage}} <span class="sheet-rolltemplate-explosion-dmgsprd">{{computed::damagespread}}</span>
			<h4>Frags</h4>
			<!--<h4>Primary frags d10 roll {{computed::primfrag}}</h4>
			<h4>Secondry frags d10 roll {{computed::secfrag}}</h4>	
			<h4>Primary D6 roll for # that hit  {{computed::pfragnum}}</h4>
			<h4>Secodndry D6 roll for # that hit  {{computed::sfragnum}}</h4>-->
			<h4>Primary (Dam: 2D6 Pen:1)</h4>
			{{#rollLess() computed::pfrags 1}}
				<div>None</div>
			{{/rollLess() computed::pfrags 1}}	
			{{#rollGreater() computed::pfrags 0}}
				<div>1. {{computed::hitloc1}}</div>
			{{/rollGreater() computed::pfrags 0}}
			{{#rollGreater() computed::pfrags 1}}
				<div>2. {{computed::hitloc2}}</div>
			{{/rollGreater() computed::pfrags 1}}
			{{#rollGreater() computed::pfrags 2}}
				<div>3. {{computed::hitloc3}}</div>
			{{/rollGreater() computed::pfrags 2}}
			{{#rollGreater() computed::pfrags 3}}
				<div>4. {{computed::hitloc5}}</div>
			{{/rollGreater() computed::pfrags 3}}						
			{{#rollGreater() computed::pfrags 4}}
				<div>5. {{computed::hitloc5}}</div>
			{{/rollGreater() computed::pfrags 4}}
			{{#rollGreater() computed::pfrags 5}}
				<div>6. {{computed::hitloc6}}</div>
			{{/rollGreater() computed::pfrags 5}}

			<h4>Secondry (Dam: 1D6 Pen:0)</h4>
			{{#rollLess() computed::sfrags 1}}
				<div>None</div>
			{{/rollLess() computed::sfrags 1}}				
			{{#rollGreater() computed::sfrags 0}}
				<div>1. {{computed::hitloc3}}</div>
			{{/rollGreater() computed::sfrags 0}}
			{{#rollGreater() computed::sfrags 1}}
				<div>2. {{computed::hitloc6}}</div>
			{{/rollGreater() computed::sfrags 1}}
			{{#rollGreater() computed::sfrags 2}}
				<div>3. {{computed::hitloc5}}</div>
			{{/rollGreater() computed::sfrags 2}}
			{{#rollGreater() computed::sfrags 3}}
				<div>4. {{computed::hitloc4}}</div>
			{{/rollGreater() computed::sfrags 3}}						
			{{#rollGreater() computed::sfrags 4}}
				<div>5. {{computed::hitloc2}}</div>
			{{/rollGreater() computed::sfrags 4}}
			{{#rollGreater() computed::sfrags 5}}
				<div>6. {{computed::hitloc1}}</div>
			{{/rollGreater() computed::sfrags 5}}



			
			 
        </div>
    </div>
</rolltemplate>


	
<!-- workers -->
<script type="text/worker">




    on('clicked:explosion', (info) => {
        startRoll("&{template:explosion} {{allrolls=[[1D10+1D6+1D6+1D10+1D10+1D10+1D10+1D10+1D10]]}} {{pfrags=[[0]]}}  {{sfrags=[[0]]}}{{hitloc1=[[0]]}} {{hitloc2=[[0]]}}  {{hitloc3=[[0]]}}  {{hitloc4=[[0]]}}  {{hitloc5=[[0]]}}  {{hitloc6=[[0]]}} {{damagespread=[[0]]}} {{cv=[[@{cv}]]}}    {{name=Explosion}}  {{damage=[[@{cv}D6]]}}", (results) => {
            
			const allResults = results.results.allrolls.result;		
			const allRolls = results.results.allrolls.rolls;
			console.log("allRolls "+JSON.stringify(allRolls))
			const fragRoll = allRolls[0].results[0];
			console.log("fragRoll  "+fragRoll);	
			console.log("type");
			console.log(typeof fragRoll);			
			const pFragNum = allRolls[1].results[0];	
			const sFragNum = allRolls[2].results[0];
			const locRoll1 = allRolls[3].results[0];
			const locRoll2 = allRolls[4].results[0];
			const locRoll3 = allRolls[5].results[0];
			const locRoll4 = allRolls[6].results[0];
			const locRoll5 = allRolls[7].results[0];
			const locRoll6 = allRolls[8].results[0];
			/*const damageRolls = results.results.damage.result;
			console.log("damageRolls: "+JSON.stringify(damageRolls));
			var damage=0;
			for(i=0; i<damageRolls.length; i++){
				damage=damage + damageRolls[i];
			}*/
			const damage = results.results.damage.result;
			const locdamage = Math.floor(damage/7);
			const damageremain = damage%7;	
			const damagespread = " ("+locdamage + " per loc. +" + damageremain + " pts)"
			const pFrags = getPFrags(fragRoll,pFragNum);
			console.log("pFrags "+pFrags);						
			const sFrags = getSFrags(fragRoll,sFragNum);
			console.log("sFrags "+sFrags);						
			const hitLoc1 = getHitloc(locRoll1);
			const hitLoc2 = getHitloc(locRoll2);
			const hitLoc3 = getHitloc(locRoll3);
			const hitLoc4 = getHitloc(locRoll4);
			const hitLoc5 = getHitloc(locRoll5);
			const hitLoc6 = getHitloc(locRoll6);
			
            finishRoll(
                results.rollId,
                {
					pfrags:pFrags,
					sfrags:sFrags,
					hitloc1:hitLoc1,
					hitloc2:hitLoc3,
					hitloc3:hitLoc3,
					hitloc4:hitLoc4,
					hitloc5:hitLoc5,
					hitloc6:hitLoc6,					
					damagespread: damagespread					
                }
            );
        });
    });


	function getHitloc(roll){
		switch (roll){
			case 1:
				return "Head";		
			case 2:
			console.log("marker 2");			
				return  "Right Arm (FQ)";
			case 3:
				return "Left Arm (FQ)";
			case 4:
				return "Chest (FQ)";				
			case 5:
				return "Abdomen (Chest)";
			case 6:
				return "Abdomen (Chest)";
			case 7:
				return "Right Leg (Abdomen)";
			case 8:
				return "Right Leg (HQ)";
			case 9:
				return  "Left Leg (HQ)";
			case 10:
				return "Left Leg (HQ)";
		}
	}

	function getPFrags(primFrag,pFragNum){
		let frags = 0;
		switch (true){
			case (primFrag >= 1 && primFrag <= 3):
				frags = pFragNum;
				break;
			case (primFrag >= 4 && primFrag <= 6):
				frags = 1;
				break;
			case (primFrag >= 7 && primFrag <= 10):
				frags = 0;				
				break;							
		}
		console.log("prim frags "+frags);
		return frags;
	}

	function getSFrags(secFrag,sFragNum){
		let frags = 0;
		switch (true){
			case (secFrag >= 1 && secFrag <= 2):
				frags = sFragNum;
				break;
			case (secFrag >= 3 &&secFrag <= 4):
				frags = 1;
				break;
			case (secFrag >= 5 && secFrag <= 10):
				frags = 0;				
				break;							
		}
		console.log("sec frags "+frags);		
		return frags;	
	}



on('sheet:opened',function(){
		
	getAttrs(["fix1Done","strength", "constitution"], function(pvalue) {		
		
		
		let fix1Done=parseInt(pvalue.fix1Done);
		console.log("fix1Done: "+fix1Done );
		
		if (fix1Done==0){
	
			console.log("************ start capacities caclulation ************");
		str = JSON.stringify(pvalue, null, 4); // (Optional) beautiful indented output.
console.log("pvalue");
console.log(str);
			var constitution =  parseInt(pvalue.constitution);
			console.log("constitution:"+constitution);
			var strength =  parseInt(pvalue.strength);
			console.log("strength: "+strength);
			var head_hc =constitution*2;

			var chest_hc=(constitution+strength)*3;
			var other_hc = (constitution+strength)*2;

			setAttrs({head_scratch: "1-"+Math.floor(head_hc*0.5),head_slight: ""+(Math.floor(head_hc*0.5)+1)+"- "+head_hc,head_serious: ""+(head_hc+1)+" - "+(head_hc*2),head_critical: ""+(head_hc*2+1)+"+"});
			setAttrs({chest_scratch: "1-"+Math.floor(chest_hc*0.5),chest_slight: ""+(Math.floor(chest_hc*0.5)+1)+"- "+chest_hc,chest_serious: ""+(chest_hc+1)+" - "+(chest_hc*2),chest_critical: ""+(chest_hc*2+1)+"+"});  
			setAttrs({other_scratch: "1-"+Math.floor(other_hc*0.5),other_slight: ""+(Math.floor(other_hc*0.5)+1)+"- "+other_hc,other_serious: ""+(other_hc+1)+" - "+(other_hc*2),other_critical: ""+(other_hc*2+1)+"+"});
			setAttrs({fix1Done:1});
		}
		
	});		
})


//VC at range calculator
    on("change:baseCv", function() {
	    getAttrs(["baseCv"], function(pvalue){
				
			let cur_cv = Math.floor(parseInt(pvalue.baseCv)/2);
			let rng_cnt = 2;
			let rng_str = "";
			
			while (cur_cv >= 1) {
				 rng_str = rng_str + rng_cnt+" SQ: "+cur_cv+ ", ";
				 rng_cnt++;
				 cur_cv = Math.floor(cur_cv/2);
			}
			
			setAttrs({cvRanges:rng_str});	    });
    });



//unarmed combat damage
    on("change:strength change:unarmed_martial_arts", function() {
	    getAttrs(["strength","unarmed_martial_arts" ,"unarmed_damage"
				], function(pvalue) {
			console.log("************ start unarmed combat calc************");
			var unarmed_skill =  parseInt(pvalue.unarmed_martial_arts);
			var strength =  parseInt(pvalue.strength);
			var udamage =  Math.floor((unarmed_skill * strength)/10);
			console.log("udamage "+udamage);
			if(udamage < 1){
				udamage = 1;
			}
			setAttrs({unarmed_damage:udamage});
	    });
    });

//weight
    on("change:strength change:agility", function() {
	    getAttrs(["strength", "agility", "weight"
				], function(pvalue) {
			console.log("************ start capacities caclulation ************");
			var agility =  parseInt(pvalue.agility);
			var strength =  parseInt(pvalue.strength);
			var male_weight = 80+(strength-agility);
			var female_weight = 65+(strength-agility);
			setAttrs({weight: "" + male_weight + "kgs" + "/ " + female_weight + "kgs"});
	    });
    });
//set location hit capacities load and throw range
    on("change:strength change:constitution", function() {
	    getAttrs(["strength", "constitution", "head_scratch","head_slight","head_serious","head_critical",
		          "head_scratch","head_slight","head_serious","head_critical",
				  "load","throw_range"
				], function(pvalue) {
			console.log("************ start capacities caclulation ************");
			var constitution =  parseInt(pvalue.constitution);
			var strength =  parseInt(pvalue.strength);
			var head_hc =constitution*2;

			var chest_hc=(constitution+strength)*3;
			var other_hc = (constitution+strength)*2;

			setAttrs({head_scratch: "1-"+Math.floor(head_hc*0.5),head_slight: ""+(Math.floor(head_hc*0.5)+1)+"- "+head_hc,head_serious: ""+(head_hc+1)+" - "+(head_hc*2),head_critical: ""+(head_hc*2+1)+"+"});
			setAttrs({chest_scratch: "1-"+Math.floor(chest_hc*0.5),chest_slight: ""+(Math.floor(chest_hc*0.5)+1)+"- "+chest_hc,chest_serious: ""+(chest_hc+1)+" - "+(chest_hc*2),chest_critical: ""+(chest_hc*2+1)+"+"});  
			setAttrs({other_scratch: "1-"+Math.floor(other_hc*0.5),other_slight: ""+(Math.floor(other_hc*0.5)+1)+"- "+other_hc,other_serious: ""+(other_hc+1)+" - "+(other_hc*2),other_critical: ""+(other_hc*2+1)+"+"}); 
			setAttrs({load: chest_hc,throw_range:strength*4});
	    });
    });





on("change:number_of_bursts change:burst_rof  change:burst_range change:burst_recoil", function() {
	    getAttrs(["number_of_bursts", "burst_rof", "burst_range", "burst_recoil", "burst_rolls", "strength"], function(pvalue) {
				console.log("************ start number  burst rolls ************");
				var charStrength = parseInt(pvalue.strength);
				var noBursts = parseInt(pvalue.number_of_bursts);
				var burstRof = parseInt(pvalue.burst_rof);
				var burstRecoil = parseInt(pvalue.burst_recoil);
				var totRnds = noBursts * burstRof;
				var rangeMod = 0;
				var burstMod = 0; 
				var rangeLoss = 0;
				var burstLoss = 0;
				var recoilLoss = 0;
				var totalLoss = 0;
				var totRolls = 0;
				var totalRecoil = 0;
				
				if (pvalue.burst_range == "Short"){
					rangeMod = 0;
					console.log("short");
				}
				if (pvalue.burst_range == "Medium"){
					rangeMod = 1;
					console.log("medium");
				}				
				if (pvalue.burst_range == "Long"){
					rangeMod = 2;
					console.log("long");
				}								
				if (pvalue.burst_range == "Extreme"){
					rangeMod = 3;				
				}								
				console.log(" range mod is " + rangeMod);
				
	
				
				rangeLoss = rangeMod*burstMod;
				console.log(" rangleLoss is " + rangeLoss);
				
				
				console.log(" number of bursts " + noBursts);
				console.log(" burst recoil  " + burstRecoil);
				console.log(" Strength " + charStrength);
	
				var x = noBursts*burstRecoil;
				console.log("total Recoil before strength" + x);
				
				totalRecoil = x-charStrength;
				
				
				if (totalRecoil < 0){
	
					totalRecoil = 0;
				}
				
				if (burstRof == 10){
					totalRecoil = totalRecoil*2;
				}
				console.log("total Recoil after mods" + totalRecoil );
				
				totalLoss = totalRecoil +rangeMod;
				console.log("total Loss=" + totalLoss );
				
				var y = burstRof-totalLoss;
				
				if(y < 1 &&  burstRof < 10){
					y = 1;
				}
				if(y < 3 &&  burstRof == 10){
					y = 2;
				}				
				
				
				totRolls = y*noBursts;
				
				
				
				setAttrs({burst_rolls: totRolls });				
				
				console.log("rounds to roll" + totRolls);
				
				console.log("**** Done Burst Calc ******");
				
				
				
				
	    });
    });



</script>





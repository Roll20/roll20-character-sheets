<link rel="stylesheet" href="styles.css">

<div class="border">
    <h1 class="legend">Legend</h1><h1 class="werx">Werx</h1>
    <input type="hidden" class="sheet-tabstoggle" name="attr_sheetTab" value="character" />
    <div class="button-position">
        <button type="action" name="act_character" class="sheet-button0">Character</button>
        <button type="action" name="act_actions" class="sheet-button1">skills</button>
    </div>


    <div class="sheet-actions">
        <div class="sheet-actions-style">
            <h4 class="skill-level0">Level 0</h4> 
            <div class="skill-container0">
                <fieldset class="repeating_skills0">  
                    <div class="options">
                        <input type="checkbox" class="show details">
                        <button type="roll" class="testname no-roll">
                            <span name="attr_skill-name0"></span>
                        </button>
                        <div class="opt-select"><span>Name:</span> 
                            <input type="text" name="attr_skill-name0">
                        </div>
                        <div class="opt-select"><span>Spell School(meta):</span>
                            <select name="attr_skillschool0">
                                <option value="none">None</option>
                                <option value="Light">Light</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Tarot">Tarot</option>
                                <option value="Rune">Rune</option>
                                <option value="Mind">Mind</option>
                                <option value="Spirit">Spirit</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Spell School(emote):</span>
                            <select name="attr_skillschool0">
                                <option value="none">None</option>
                                <option value="Love">Love</option>
                                <option value="Hate">Hate</option>
                                <option value="Courage">Courage</option>
                                <option value="Fear">Fear</option>
                                <option value="Hope">Hope</option>
                                <option value="Despair">Despair</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Technique school:</span>
                            <select name="attr_skillschool0">
                                <option value="none">None</option>
                                <option value="Blades">Blades</option>
                                <option value="Blunt">Blunt</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Martial_Arts">Martial Arts</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Fabrications:</span>
                            <select name="attr_skillschool0">
                                <option value="none">None</option>
                                <option value="Consumables">Consumables</option>
                                <option value="Gems">Gems</option>
                                <option value="Deployable">Deployable</option>
                                <option value="Augmentation">Augmentation</option>
                            </select>
                        </div>
                        <div class="opt-select">
                            <input type="checkbox" class="toggle-type-a"> Possession: <input type="text" class="show-type-a"> <br> 
                            <input type="checkbox" class="toggle-type-b"> Guardian: <input type="text" class="show-type-b"> <br>
                        </div>
                        <div class="opt-select"><span>Stamina Cost:</span>
                        <input type="number">
                        </div>
                        <div class="opt-select">
                            <span>Description: </span> 
                            <textarea class="desc" name="attr_skilldesc0" placeholder="Description of skill"></textarea> 
                        </div>
                    </div>
                </fieldset>
            </div>
            <h4 class="skill-level1">Level 1</h4> 
            <div class="skill-container1">
                <fieldset class="repeating_skills1">  
                    <div class="options">
                        <input type="checkbox" class="show details">
                        <button type="roll" class="testname no-roll">
                            <span name="attr_skill-name1"></span>
                        </button>
                        <div class="opt-select"><span>Name:</span> 
                            <input type="text" name="attr_skill-name1">
                        </div>
                        <div class="opt-select"><span>Spell School(meta):</span>
                            <select name="attr_skillschool1">
                                <option value="none">None</option>
                                <option value="Light">Light</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Tarot">Tarot</option>
                                <option value="Rune">Rune</option>
                                <option value="Mind">Mind</option>
                                <option value="Spirit">Spirit</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Spell School(emote):</span>
                            <select name="attr_skillschool1">
                                <option value="none">None</option>
                                <option value="Love">Love</option>
                                <option value="Hate">Hate</option>
                                <option value="Courage">Courage</option>
                                <option value="Fear">Fear</option>
                                <option value="Hope">Hope</option>
                                <option value="Despair">Despair</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Technique school:</span>
                            <select name="attr_skillschool1">
                                <option value="none">None</option>
                                <option value="Blades">Blades</option>
                                <option value="Blunt">Blunt</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Martial_Arts">Martial Arts</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Fabrications:</span>
                            <select name="attr_skillschool1">
                                <option value="none">None</option>
                                <option value="Consumables">Consumables</option>
                                <option value="Gems">Gems</option>
                                <option value="Deployable">Deployable</option>
                                <option value="Augmentation">Augmentation</option>
                            </select>
                        </div>
                        <div class="opt-select">
                            <input type="checkbox" class="toggle-type-a"> Possession: <input type="text" class="show-type-a"> <br> 
                            <input type="checkbox" class="toggle-type-b"> Guardian: <input type="text" class="show-type-b"> <br>
                        </div>
                        <div class="opt-select"><span>Stamina Cost:</span>
                        <input type="number">
                        </div>
                        <div class="opt-select">
                            <span>Description: </span> 
                            <textarea class="desc" name="attr_skilldesc1" placeholder="Description of skill"></textarea> 
                        </div>
                    </div>
                </fieldset>
            </div>
            <h4 class="skill-level2">Level 2</h4> 
            <div class="skill-container2">
                <fieldset class="repeating_skills2">  
                    <div class="options">
                        <input type="checkbox" class="show details">
                        <button type="roll" class="testname no-roll">
                            <span name="attr_skill-name2"></span>
                        </button>
                        <div class="opt-select"><span>Name:</span> 
                            <input type="text" name="attr_skill-name2">
                        </div>
                        <div class="opt-select"><span>Spell School(meta):</span>
                            <select name="attr_skillschool2">
                                <option value="none">None</option>
                                <option value="Light">Light</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Tarot">Tarot</option>
                                <option value="Rune">Rune</option>
                                <option value="Mind">Mind</option>
                                <option value="Spirit">Spirit</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Spell School(emote):</span>
                            <select name="attr_skillschool2">
                                <option value="none">None</option>
                                <option value="Love">Love</option>
                                <option value="Hate">Hate</option>
                                <option value="Courage">Courage</option>
                                <option value="Fear">Fear</option>
                                <option value="Hope">Hope</option>
                                <option value="Despair">Despair</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Technique school:</span>
                            <select name="attr_skillschool2">
                                <option value="none">None</option>
                                <option value="Blades">Blades</option>
                                <option value="Blunt">Blunt</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Martial_Arts">Martial Arts</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Fabrications:</span>
                            <select name="attr_skillschool2">
                                <option value="none">None</option>
                                <option value="Consumables">Consumables</option>
                                <option value="Gems">Gems</option>
                                <option value="Deployable">Deployable</option>
                                <option value="Augmentation">Augmentation</option>
                            </select>
                        </div>
                        <div class="opt-select">
                            <input type="checkbox" class="toggle-type-a"> Possession: <input type="text" class="show-type-a"> <br> 
                            <input type="checkbox" class="toggle-type-b"> Guardian: <input type="text" class="show-type-b"> <br>
                        </div>
                        <div class="opt-select"><span>Stamina Cost:</span>
                        <input type="number">
                        </div>
                        <div class="opt-select">
                            <span>Description: </span> 
                            <textarea class="desc" name="attr_skilldesc2" placeholder="Description of skill"></textarea> 
                        </div>
                    </div>
                </fieldset>
            </div>
            <h4 class="skill-level3">Level 3</h4> 
            <div class="skill-container3">
                <fieldset class="repeating_skills3">  
                    <div class="options">
                        <input type="checkbox" class="show details">
                        <button type="roll" class="testname no-roll">
                            <span name="attr_skill-name3"></span>
                        </button>
                        <div class="opt-select"><span>Name:</span> 
                            <input type="text" name="attr_skill-name3">
                        </div>
                        <div class="opt-select"><span>Spell School(meta):</span>
                            <select name="attr_skillschool3">
                                <option value="none">None</option>
                                <option value="Light">Light</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Tarot">Tarot</option>
                                <option value="Rune">Rune</option>
                                <option value="Mind">Mind</option>
                                <option value="Spirit">Spirit</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Spell School(emote):</span>
                            <select name="attr_skillschool3">
                                <option value="none">None</option>
                                <option value="Love">Love</option>
                                <option value="Hate">Hate</option>
                                <option value="Courage">Courage</option>
                                <option value="Fear">Fear</option>
                                <option value="Hope">Hope</option>
                                <option value="Despair">Despair</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Technique school:</span>
                            <select name="attr_skillschool3">
                                <option value="none">None</option>
                                <option value="Blades">Blades</option>
                                <option value="Blunt">Blunt</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Martial_Arts">Martial Arts</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Fabrications:</span>
                            <select name="attr_skillschool3">
                                <option value="none">None</option>
                                <option value="Consumables">Consumables</option>
                                <option value="Gems">Gems</option>
                                <option value="Deployable">Deployable</option>
                                <option value="Augmentation">Augmentation</option>
                            </select>
                        </div>
                        <div class="opt-select">
                            <input type="checkbox" class="toggle-type-a"> Possession: <input type="text" class="show-type-a"> <br> 
                            <input type="checkbox" class="toggle-type-b"> Guardian: <input type="text" class="show-type-b"> <br>
                        </div>
                        <div class="opt-select"><span>Stamina Cost:</span>
                        <input type="number">
                        </div>
                        <div class="opt-select">
                            <span>Description: </span> 
                            <textarea class="desc" name="attr_skilldesc3" placeholder="Description of skill"></textarea> 
                        </div>
                    </div>
                </fieldset>
            </div>
            <h4 class="skill-level4">Level 4</h4> 
            <div class="skill-container4">
                <fieldset class="repeating_skills4">  
                    <div class="options">
                        <input type="checkbox" class="show details">
                        <button type="roll" class="testname no-roll">
                            <span name="attr_skill-name4"></span>
                        </button>
                        <div class="opt-select"><span>Name:</span> 
                            <input type="text" name="attr_skill-name4">
                        </div>
                        <div class="opt-select"><span>Spell School(meta):</span>
                            <select name="attr_skillschool4">
                                <option value="none">None</option>
                                <option value="Light">Light</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Tarot">Tarot</option>
                                <option value="Rune">Rune</option>
                                <option value="Mind">Mind</option>
                                <option value="Spirit">Spirit</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Spell School(emote):</span>
                            <select name="attr_skillschool4">
                                <option value="none">None</option>
                                <option value="Love">Love</option>
                                <option value="Hate">Hate</option>
                                <option value="Courage">Courage</option>
                                <option value="Fear">Fear</option>
                                <option value="Hope">Hope</option>
                                <option value="Despair">Despair</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Technique school:</span>
                            <select name="attr_skillschool4">
                                <option value="none">None</option>
                                <option value="Blades">Blades</option>
                                <option value="Blunt">Blunt</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Martial_Arts">Martial Arts</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Fabrications:</span>
                            <select name="attr_skillschool4">
                                <option value="none">None</option>
                                <option value="Consumables">Consumables</option>
                                <option value="Gems">Gems</option>
                                <option value="Deployable">Deployable</option>
                                <option value="Augmentation">Augmentation</option>
                            </select>
                        </div>
                        <div class="opt-select">
                            <input type="checkbox" class="toggle-type-a"> Possession: <input type="text" class="show-type-a"> <br> 
                            <input type="checkbox" class="toggle-type-b"> Guardian: <input type="text" class="show-type-b"> <br>
                        </div>
                        <div class="opt-select"><span>Stamina Cost:</span>
                        <input type="number">
                        </div>
                        <div class="opt-select">
                            <span>Description: </span> 
                            <textarea class="desc" name="attr_skilldesc4" placeholder="Description of skill"></textarea> 
                        </div>
                    </div>
                </fieldset>
            </div>
            <h4 class="skill-level5">Level 5</h4> 
            <div class="skill-container5">
                <fieldset class="repeating_skills5">  
                    <div class="options">
                        <input type="checkbox" class="show details">
                        <button type="roll" class="testname no-roll">
                            <span name="attr_skill-name5"></span>
                        </button>
                        <div class="opt-select"><span>Name:</span> 
                            <input type="text" name="attr_skill-name5">
                        </div>
                        <div class="opt-select"><span>Spell School(meta):</span>
                            <select name="attr_skillschool5">
                                <option value="none">None</option>
                                <option value="Light">Light</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Tarot">Tarot</option>
                                <option value="Rune">Rune</option>
                                <option value="Mind">Mind</option>
                                <option value="Spirit">Spirit</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Spell School(emote):</span>
                            <select name="attr_skillschool5">
                                <option value="none">None</option>
                                <option value="Love">Love</option>
                                <option value="Hate">Hate</option>
                                <option value="Courage">Courage</option>
                                <option value="Fear">Fear</option>
                                <option value="Hope">Hope</option>
                                <option value="Despair">Despair</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Technique school:</span>
                            <select name="attr_skillschool5">
                                <option value="none">None</option>
                                <option value="Blades">Blades</option>
                                <option value="Blunt">Blunt</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Martial_Arts">Martial Arts</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Fabrications:</span>
                            <select name="attr_skillschool5">
                                <option value="none">None</option>
                                <option value="Consumables">Consumables</option>
                                <option value="Gems">Gems</option>
                                <option value="Deployable">Deployable</option>
                                <option value="Augmentation">Augmentation</option>
                            </select>
                        </div>
                        <div class="opt-select">
                            <input type="checkbox" class="toggle-type-a"> Possession: <input type="text" class="show-type-a"> <br> 
                            <input type="checkbox" class="toggle-type-b"> Guardian: <input type="text" class="show-type-b"> <br>
                        </div>
                        <div class="opt-select"><span>Stamina Cost:</span>
                        <input type="number">
                        </div>
                        <div class="opt-select">
                            <span>Description: </span> 
                            <textarea class="desc" name="attr_skilldesc5" placeholder="Description of skill"></textarea> 
                        </div>
                    </div>
                </fieldset>
            </div>
            <h4 class="skill-level6">Level 6</h4> 
            <div class="skill-container6">
                <fieldset class="repeating_skills6">  
                    <div class="options">
                        <input type="checkbox" class="show details">
                        <button type="roll" class="testname no-roll">
                            <span name="attr_skill-name6"></span>
                        </button>
                        <div class="opt-select"><span>Name:</span> 
                            <input type="text" name="attr_skill-name6">
                        </div>
                        <div class="opt-select"><span>Spell School(meta):</span>
                            <select name="attr_skillschool6">
                                <option value="none">None</option>
                                <option value="Light">Light</option>
                                <option value="Shadow">Shadow</option>
                                <option value="Tarot">Tarot</option>
                                <option value="Rune">Rune</option>
                                <option value="Mind">Mind</option>
                                <option value="Spirit">Spirit</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Spell School(emote):</span>
                            <select name="attr_skillschool6">
                                <option value="none">None</option>
                                <option value="Love">Love</option>
                                <option value="Hate">Hate</option>
                                <option value="Courage">Courage</option>
                                <option value="Fear">Fear</option>
                                <option value="Hope">Hope</option>
                                <option value="Despair">Despair</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Technique school:</span>
                            <select name="attr_skillschool6">
                                <option value="none">None</option>
                                <option value="Blades">Blades</option>
                                <option value="Blunt">Blunt</option>
                                <option value="Ranged">Ranged</option>
                                <option value="Martial_Arts">Martial Arts</option>
                            </select>
                        </div>
                        <div class="opt-select"><span>Fabrications:</span>
                            <select name="attr_skillschool6">
                                <option value="none">None</option>
                                <option value="Consumables">Consumables</option>
                                <option value="Gems">Gems</option>
                                <option value="Deployable">Deployable</option>
                                <option value="Augmentation">Augmentation</option>
                            </select>
                        </div>
                        <div class="opt-select">
                            <input type="checkbox" class="toggle-type-a"> Possession: <input type="text" class="show-type-a"> <br> 
                            <input type="checkbox" class="toggle-type-b"> Guardian: <input type="text" class="show-type-b"> <br>
                        </div>
                        <div class="opt-select"><span>Stamina Cost:</span>
                        <input type="number">
                        </div>
                        <div class="opt-select">
                            <span>Description: </span> 
                            <textarea class="desc" name="attr_skilldesc6" placeholder="Description of skill"></textarea> 
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>    
    </div> 



        <div class="player sheet-character">
            <div class="topplayer">
                <div class="playername">Player name</div>
                <div class="charactername">Character name</div>
                <div class="inputplayer"><input type="text" name="attr_Player-Name"></div> 
                <div class="inputcharacter"><input type="text" name="attr_character_name"></div>
                <div class="race"> Race <input class="inputrace" type="text" name="attr_Race"></div>
                <div class="class"> Class <input type="text" name="attr_Class"></div>
                <div class="level"> Level <input type="number" name="attr_level" value="1"></div>
                <input type="hidden" name="attr_dicesize" value="6">
                <div class="NextLevel">Xp/Ap <input type="text" name="attr_To-Next-Level"></div>
            </div>

            <h2>Character skills <p>Check box if Trained</p></h2> 
            <div class="playerskills">
                <button type="roll" value="/roll @{logic}1d@{attr_dicesize} + ?{modifiers?|0}d6"  name="logic_roll" class="logic center no-roll">Logic</button>
                <button type="roll" value="/roll @{personality}d6 + ?{modifiers?|0}d6" name="personality_roll" class="personality no-roll">Personality</button>
                <button type="roll" value="/roll @{athleticism}d6 + ?{modifiers?|0}d6" name="athleticism_roll" class="Athleticism no-roll">Athleticism</button>
                <button type="roll" value="/roll @{stealthiness}d6 + ?{modifiers?|0}d6" name="stealthiness_roll" class="stealthiness no-roll">Stealthiness</button>
                <div class="inputlogic center"><input type="number" name="attr_logic" value="1"> <input type="checkbox" name="attr_IsTrained_Logic" value="1"></div>
                <div class="inputpersonality center"><input type="number" name="attr_personality" value="1"> <input type="checkbox" name="attr_IsTrained_personality" value="1"></div>
                <div class="inputathleticism center"><input type="number" name="attr_athleticism" value="1"> <input type="checkbox" name="attr_IsTrained_athleticism" value="1"></div>
                <div class="inputstealthiness center"><input type="number" name="attr_stealthiness" value="1"> <input type="checkbox" name="attr_IsTrained_stealthiness" value="1"></div>
                <button type="roll" value="/roll @{senses}d6 + ?{modifiers?|0}d6" name="senses_roll" class="senses center no-roll">Senses</button>
                <button type="roll" value="/roll @{manual-coordination}d6 + ?{modifiers?|0}d6" name="mc_roll" class="manual-coordination no-roll">Manual Coordination</button>
                <button type="roll" value="/roll @{navigation}d6 + ?{modifiers?|0}d6" name="navigation_roll" class="navigation no-roll">Navigation</button>
                <button type="roll" value="/roll @{resistance}d6 + ?{modifiers?|0}d6" name="resistance_roll" class="resistance no-roll">Resistance</button>
                <div class="inputsenses center"><input type="number" name="attr_senses" value="1"> <input type="checkbox" name="attr_IsTrained_senses" value="1"></div>
                <div class="inputMC center"><input type="number" name="attr_manual-coordination" value="1"> <input type="checkbox" name="attr_IsTrained_manual" value="1"></div>
                <div class="inputnavigation center"><input type="number" name="attr_navigation" value="1"> <input type="checkbox" name="attr_IsTrained_navigation" value="1"></div>
                <div class="inputresistance center"><input type="number" name="attr_resistance" value="1"> <input type="checkbox" name="attr_IsTrained_resistance" value="1"></div>
            </div>

            <div class="playergen">
            <!-- Generic character stats -->
                <div class="HP">Hit Points</div>
                <div class="stamina center">Stamina</div>
                <div class="MH">Main Hand</div>
                <div class="armor center">Armor</div>
                <div class="BH center">Base Hit</div>
                <div class="inputHP center"><input type="number" name="attr_hitPoints"></div>
                <div class="inputstamina center"><input type="number" name="attr_Stamina"></div>
                <div class="inputmh center"><input type="text" name="attr_Main-Hand"></div>
                <div class="inputarmor center"><input type="text" name="attr_Armor"></div>
                <div class="inputbh center"><input type="number" name="attr_Base-Hit"></div>
                <div class="movement">Movement</div>
                <button type="roll" value="/roll @{Onset}d6 + ?{modifiers?|0}d6 &{tracker}" name="onset_roll" class="onset center no-roll">Onset</button>
                <div class="OH center">Off Hand</div>
                <div class="shield center">Shield</div>
                <div class="AR center">AR</div>
                <div class="inputmovement center"><input type="number" name="attr_Movement"></div>
                <div class="inputonset center"><input type="number" name="attr_Onset"></div>
                <div class="inputoh center"><input type="text" name="attr_Off-Hand"></div>
                <div class="inputshield center"><input type="text" name="attr_Shield"></div>
                <div class="inputar center"><input type="number" name="attr_AR"></div>
            </div>
        </div>
    <h3>Items</h3>
    <fieldset class="repeating_items">
        <input type="number" name="attr_itemquantity" placeholder="#"><input type="text" name="attr_item" placeholder="item name">
    </fieldset>
    <h3>Race Abilities</h3>
    <fieldset class="repeating_racials">
        <input type="text" name="attr_racialname" placeholder="Name of ability"> <input type="text" name="attr_racialndesc" placeholder="Description of ability"> 
    </fieldset>    
    <h3>Class Abilities</h3>
    <fieldset class="repeating_class">
        <input type="text" name="attr_classname" placeholder="Name of ability"> <input type="text" name="attr_classdesc" placeholder="Description of ability">
    </fieldset> 
    <h3>Additional Abilities</h3>
    <fieldset class="repeating_additional">
        <input type="text" name="attr_additional" placeholder="Name of ability"> <input type="text" name="attr_addidesc" placeholder="Description of ability">
    </fieldset> 

    <rolltemplate class="sheet-rolltemplate-basic">
        <h2 class="sheet-template-title">{{title}}</h2>
        <div class="sheet-template-title">Roll:</div>
        <div class="sheet-roll-result">{{roll}}</div>
        
    </rolltemplate>

    <script type="text/worker">
        const buttonlist = ["character", "actions"];
        buttonlist.forEach(button => {
            on(`clicked:${button}`, function() {
                setAttrs({
                    sheetTab: button
                });
            });
        });

        on('change:level change:athleticism', function(){
            getAttrs(['level', 'athleticism'], function(values) {
                let levels = parseInt(values.level) || 1;
                let ath = parseInt(values.athleticism) || 1;
                
                let hit_points = ath * levels + 1;
                
                setAttrs({
                    hitpoints: hit_points
                });
            });
        });
        
    </script>
</div>


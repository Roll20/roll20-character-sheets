div.sheet-epoquesIncarnation,
div.sheet-tab4 > .sheet-simulacreVecus
    width: 100%
    flex-wrap: wrap
    margin-top: 10px
    align-content: baseline

%fullwidthWrap10top
    width: 100%
    flex-wrap: wrap
    margin-top: 10px

div.sheet-quetesEsoteriques,
div.sheet-savoirsEsoteriques
    @extend %fullwidthWrap10top

div.sheet-epoquesIncarnation > .repcontainer > .repitem > div:not(:first-of-type),
div.sheet-tab4 > .sheet-simulacreVecus > div > div,
div.sheet-savoirsEsoteriques
    border-left: 2px solid var(--titre)

div.sheet-epoquesIncarnation,
div.sheet-tab4 > .sheet-simulacreVecus
    &> h1
        font-family: "Kodchasan"
        width: calc((100% / 3) - 10px)
        font-size: 18px
        line-height: 40px
        background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, .8)), url("#{$roll20_repository}/img/fondTitre.png"), linear-gradient(to right, rgba(208, 175, 152, 1), rgba(208, 175, 152, .5))
        background-repeat: no-repeat
        background-position-y: 0, calc(100% + -25%), 0
        background-size: auto, 100% auto, auto
        color: white
        text-shadow: 2px 3px 5px black
        padding-left: 10px

%soustitrePage
    font-family: "Kodchasan"
    width: calc(100% - 10px)
    font-size: 18px
    line-height: 40px
    background-image: linear-gradient(to right, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, .8)), url("#{$roll20_repository}/img/fondTitre.png"), linear-gradient(to right, rgba(208, 175, 152, 1), rgba(208, 175, 152, .5))
    background-repeat: no-repeat
    background-position-y: 0, calc(100% + -25%), 0
    background-size: auto, 100% auto, auto
    color: white
    text-shadow: 2px 3px 5px black
    padding-left: 10px

div.sheet-quetesEsoteriques > h1,
div.sheet-savoirsEsoteriques > h1
    @extend %soustitrePage

%soustitreGris
    font-family: "Kodchasan"
    width: 100%
    font-size: 18px
    flex-wrap: nowrap
    line-height: 40px
    background-image: linear-gradient( to right, rgba(255, 255, 255, 0) 50%, rgba(255, 255, 255, .8)), url("#{$roll20_repository}/img/fondTitreNB.png"), linear-gradient(to right, rgba(48, 59, 56, .5), rgba(48, 59, 56, .5))
    background-repeat: no-repeat
    background-position-y: 0, calc(90%), 0
    background-size: auto, 100% auto, auto
    justify-content: flex-start
    align-items: center
    text-shadow: 2px 3px 5px black
    color: white    
    padding-left: 10px

div.sheet-titre > h1
    @extend %soustitreGris

%pageWrap100
    width: 100%
    flex-wrap: wrap

div.sheet-epoquesIncarnation > .repcontainer
    @extend %pageWrap100

    &> .repitem
        width: 100%
        flex-wrap: nowrap

div.sheet-quetesEsoteriques,
div.sheet-savoirsEsoteriques
    &> .repcontainer
        @extend %pageWrap100

        &> .repitem
            @extend %pageWrap100

//- Fin de la digression

div.sheet-epoquesIncarnation > .repcontainer > .repitem:not(:first-of-type)
    border-top: 5px double var(--titre)

div.sheet-savoirsEsoteriques,
div.sheet-quetesEsoteriques
    &> .repcontainer > .repitem
        justify-content: space-between
        margin-bottom: 5px

//- Commun avec tab4-combat (pas tout)
%tiersStartNowrap
    width: calc(100% / 3)
    flex-wrap: wrap
    align-content: flex-start
    justify-content: space-between
    padding-bottom: 5px

div.sheet-epoquesIncarnation > .repcontainer > .repitem > div:not(:first-of-type)
    @extend %tiersStartNowrap

div.sheet-epoquesIncarnation > .repcontainer > .repitem > div:last-of-type > div
    width: 100%
    flex-wrap: wrap
    align-content: flex-start
    justify-content: space-between

div.sheet-epoquesIncarnation > .repcontainer > .repitem > div label
    width: 30px
    height: 30px

    &> input[type="checkbox"]
        position: absolute
        opacity: 0
        width: 30px
        height: 30px

        &~ span
            width: 100%
            &::before
                display: flex
                width: 100%
                height: 28px
                content: "+"
                align-items: center
                justify-content: center
                background-image: linear-gradient(cssfun("rgba", "var(--blanc), .5"), cssfun("rgba", "var(--blanc), .5"))
                border: 1px solid var(--brun)
                font-size: 20px
                transition: all .2s

        &:checked ~ span::before
            content: "-"
            box-shadow: 0 0 5px black inset

    &.sheet-checkSign input
        position: absolute
        width: 25px
        height: 25px
        opacity: 0

        &~ span
            width: 25px
            margin-top: 2px
            margin-bottom: 2px

            &::before
                content: ""
                width: 100%
                height: 23px
                border: 1px solid black
                font-size: 28px
                line-height: 23px
                color: black
                border-radius: 5px
        &:checked ~ span::before
            content: $tick


%incarnationsSelectStyle
    padding: 0
    padding-left: 2px
    border: 0
    border-bottom: 1px dotted var(--brun)
    font-size: 14px
    font-weight: bold
    background: transparent
    height: 30px
    padding-top: 12px

%incarnationsTextStyle
    width: calc(100% - 95px)
    @extend %incarnationsSelectStyle

%incarnationsNumberStyle
    height: 30px
    width: 30px
    border-radius: 25px
    border: 2px solid var(--brun)
    text-align: center
    margin-left: auto
    margin-right: 3px


div.sheet-epoquesIncarnation > .repcontainer > .repitem > div
    & select
        @extend %incarnationsSelectStyle

    &:nth-of-type(2) select
        width: calc(100% - 30px)
    &:nth-of-type(3) select
        width: calc(100% - 60px)

    & input[type="text"]
        @extend %incarnationsTextStyle

        &.sheet-perso
            display: none

    & label.sheet-checkSign ~ input[type="text"]
        width: calc(100% - 95px)

    & input[type="number"]
        @extend %incarnationsNumberStyle

    & .sheet-autoex
        display: none
        background-image: linear-gradient(cssfun('rgba', 'var(--blanc), .5'), cssfun('rgba', 'var(--blanc), .5'))
        border-bottom: 1px dotted var(--brun)
        border-right: 1px dotted var(--brun)
        margin-right: 1px
        &> textarea
            background: transparent

    & button[type="roll"]
        @include dice(--dice, 5px)
        background-size: contain
        &::before
            content: ""

    & input[type="hidden"]
        &[value="perso"] ~ input[type="text"].sheet-perso
            display: flex
            width: 100%
            padding-left: 2px
            min-width: 0
        &[value="1"] ~ div.sheet-autoex
            display: flex


div.sheet-savoirsEsoteriques > .repcontainer > .repitem,
div.sheet-quetesEsoteriques > .repcontainer > .repitem
    &> select
        width: calc(100% - 50px - 40px)
        padding: 0
        border: 0
        border-bottom: 1px dotted var(--brun)
        font-weight: bold
        font-size: 13px
        background: transparent
        height: 30px
        padding-top: 12px

    &> input[type="text"]
        display: none
        width: 100%
        padding: 0
        padding-left: 2px
        border: 0
        border-bottom: 1px dotted var(--brun)
        font-size: 14px
        font-weight: bold
        background: transparent
        height: 30px
        padding-top: 12px

    &> input[type="hidden"][value="0"] ~ input[type="text"]
        display: flex

    &> input[type="number"]
        @include roundNumber(--brun)
        margin-left: auto
        margin-right: 3px

    &> button[type="roll"]
        @include dice(--dice, 5px)
        background-size: contain
        &::before
            content: ""
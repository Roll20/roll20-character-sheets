<!-- --------------------------------- -->
<!-- ----- FEUILLE DE PERSONNAGE ----- -->
<!-- --------------------------------- -->
    <div class="notes">
        <textarea class="mes_notes" name="attr_notes" spellcheck="false" placeholder="Mon carnet de route..."></textarea>
    </div>
	<!-- Page de personnage -->
	<div class="personnage">
		<!-- Image personnage -->
		<!-- <div class="portrait">
			<img name="attr_character_avatar">
			<img name="attr_character_token">
		</div> -->
        <!-- Section informations -->
		<div class="wrapper_info">
            <div class="titre_fiche">Fiche de personnage</div>
            <div class="logo"></div>
            <div class="nom">Nom :</div>
            <div class="race">Race :</div>            
            <div class="classe">Classe :</div>
            <div class="ev">Énergie Vitale :</div>
            <div class="mana">Mana :</div>
            <div class="psi">Ψ :</div>
            <div class="nom_data"><input type="text" class="input_fiche" name="attr_character_name"></div>
            <div class="race_data"><input type="text" class="input_fiche" name="attr_race"></div>
            <div class="classe_data"><input type="text" class="input_fiche" name="attr_classe"></div>
            <div class="ev_data"><input type="number" class="input_stats" name="attr_hp" placeholder="0" min="0" max="20" title="Énergie Vitale actuelle"> / <input type="number" class="input_stats" title="Énergie Vitale maximum" name="attr_hpmax" placeholder="0" min="0" max="20"></div>
            <div class="mana_data"><input type="number" class="input_stats" name="attr_mana" placeholder="0" min="0" max="20" title="Mana actuelle"> / <input type="number" class="input_stats" title="Mana maximum" name="attr_manamax" placeholder="0" min="0" max="20"></div>
            <div class="psi_data"><input type="number" class="input_stats" name="attr_psi_actuelle" placeholder="0" min="0" max="20" title="Psi actuelle"> / <input type="number" class="input_stats" name="attr_psi" title="Psi maximum" placeholder="0" min="0" max="20" readonly /><button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Ψ (@{psi_actuelle})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{score=[[@{psi_actuelle} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Psi"></button></div>
        </div>
        <br>
        <br>

        <!-- Section Statistiques -->
        <div class="talent">
            <div class="wrapper_stats_title">
                <div class="stat_titre">Talent du personnage :</div>
                <div class="stat_titre_data"><textarea class="talent_perso" name="attr_talent_perso" spellcheck="false" placeholder="Notez ici votre talent...."></textarea></div>
            </div>
            <div class="wrapper_stats">
                <div class="stat_force_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Force (@{force})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{score=[[@{force} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Force"></button></div>
                <div class="stat_dexterite_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Dextérité (@{dexterite})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{dexterite} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Dextérité"></button></div>
                <div class="stat_intelligence_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Intelligence (@{intelligence})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{intelligence} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet d'Intelligence"></button></div>
                <div class="stat_charisme_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Charisme (@{charisme})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{charisme} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Charisme"></button></div>
                <div class="stat_courage_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Courage (@{courage})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{courage} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Courage"></button></div>
                <div class="stat_attaque_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Attaque (@{attaque})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{attaque} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet d'Attaque"></button></div>
                <div class="stat_volonte_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Volonté (@{volonte})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{volonte} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Volonté"></button></div>
                <div class="stat_endurance_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Endurance (@{endurance})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{endurance} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet d'Endurance"></button></div>
                <div class="stat_constitution_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Constitution (@{constitution})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{constitution} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Constitution"></button></div>
                <div class="stat_persuasion_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Persuasion (@{persuasion})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{persuasion} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Persuasion"></button></div>
                <div class="stat_perception_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Perception (@{perception})}} {{subtitle_d=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{perception} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Perception"></button></div>
                <div class="stat_parade_dice"><button class="roll_dice" type="roll" name="roll_Lancer" value="&{template:ito} {{title=Parade (@{parade})}} {{subtitle=Modificateur : ?{Modificateur|0}}} {{sauvegarde=oui}} {{score=[[@{parade} + ?{Modificateur|0}]]}} {{result=[[D20]]}}" title="Jet de Parade"></button></div>
                <div class="stat_force">Force <span class="petit">(FOR)</span></div>
                <div class="stat_dexterite">Dextérité <span class="petit">(DEX)</span></div>
                <div class="stat_intelligence">Intelligence <span class="petit">(INT)</span></div>
                <div class="stat_charisme">Charisme <span class="petit">(CHA)</span></div>
                <div class="stat_courage">Courage <span class="petit">(COU)</span></div>
                <div class="stat_attaque">Attaque <span class="petit">(ATQ)</span></div>
                <div class="stat_volonte">Volonté <span class="petit">(VOL)</span></div>
                <div class="stat_endurance">Endurance <span class="petit">(END)</span></div>
                <div class="stat_constitution">Constitution <span class="petit">(CONS)</span></div>
                <div class="stat_persuasion">Persuasion <span class="petit">(PERS)</span></div>
                <div class="stat_perception">Perception <span class="petit">(PERC)</span></div>
                <div class="stat_parade">Parade <span class="petit">(PRD)</span></div>
                <div class="stat_force_data"><input type="number" class="input_stats" name="attr_force" placeholder="0" title="Force" min="0" max="20"></div>
                <div class="stat_dexterite_data"><input type="number" class="input_stats" name="attr_dexterite" placeholder="0" title="Dextérité" min="0" max="20"></div>
                <div class="stat_intelligence_data"><input type="number" class="input_stats" name="attr_intelligence" placeholder="0" title="Intelligence" min="0" max="20"></div>
                <div class="stat_charisme_data"><input type="number" class="input_stats" name="attr_charisme" placeholder="0" title="Charisme" min="0" max="20"></div>
                <div class="stat_volonte_data"><input type="number" class="input_stats" name="attr_volonte" placeholder="0" title="Volonté" min="0" max="20"></div>
                <div class="stat_endurance_data"><input type="number" class="input_stats" name="attr_endurance" placeholder="0" title="Endurance" min="0" max="20"></div>
                <div class="stat_constitution_data"><input type="number" class="input_stats" name="attr_constitution" placeholder="0" title="Constitution" min="0" max="20"></div>
                <div class="stat_persuasion_data"><input type="number" class="input_stats" name="attr_persuasion" placeholder="0" title="Persuasion" min="0" max="20"></div>
                <div class="stat_courage_data"><input type="number" class="input_stats" name="attr_courage" placeholder="0" title="Courage" min="0" max="20"></div>
                <div class="stat_perception_data"><input type="number" class="input_stats" name="attr_perception" placeholder="0" title="Perception" min="0" max="20"></div>
                <div class="stat_attaque_data"><input type="number" class="input_stats" name="attr_attaque" placeholder="0" title="Attaque" min="0" max="20"></div>
                <div class="stat_parade_data"><input type="number" class="input_stats" name="attr_parade" placeholder="0" title="Parade" min="0" max="20"></div>
            </div>
            <div class="wrapper_stats_bonus_titre">
				<div class="stat_bonus_titre">Bonus</div>
			</div>
            <div class="wrapper_stats_bonus">
                <div class="stat_perception_bonus">Initiative</div>
                <div class="stat_dexterite_bonus">Mouvement</div>
                <div class="stat_force_bonus">Dégâts Physiques</div>
                <div class="stat_volonte_bonus">Dégâts Magiques</div>
                <div class="stat_constitution_bonus">Protection physique</div>
                <div class="stat_endurance_bonus">Protection magique</div>
                <div class="stat_perception_bonus_data"><input type="number" class="input_stats" name="attr_perception_bonus" placeholder="0" title="Bonus d'Initiative" readonly /></div>
                <div class="stat_dexterite_bonus_data"><input type="number" class="input_stats" name="attr_dexterite_bonus" placeholder="0" title="Bonus de Mouvement" readonly /></div>
                <div class="stat_force_bonus_data"><input type="number" class="input_stats" name="attr_force_bonus" placeholder="0" title="Bonus aux dégâts Physiques" readonly /></div>
                <div class="stat_constitution_bonus_data"><input type="number" class="input_stats" name="attr_constitution_bonus" placeholder="0" title="Bonus de Protection physique" readonly /></div>
                <div class="stat_volonte_bonus_data"><input type="number" class="input_stats" name="attr_volonte_bonus" placeholder="0" title="Bonus aux dégâts Magiques" readonly /></div>
                <div class="stat_endurance_bonus_data"><input type="number" class="input_stats" name="attr_endurance_bonus" placeholder="0" title="Bonus de Protection magique" readonly /></div>
            </div>
        </div>
        <br>
        <br>

        <!-- Section dés -->
        <div class="dice">
            <div class="wrapper_roll_dice">
                <div class="roll_d4">
                    <button class="roll_d4" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{character_name}}} {{subtitle_d=D4}} {{degats=oui}}{{result=[[D4]]}}" title="Lancer un D4 "></button>
                </div>
                <div class="roll_d6">
                    <button class="roll_d6" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{character_name}}} {{subtitle_d=D6}} {{degats=oui}}{{result=[[D6]]}}" title="Lancer un D6"></button>
                </div>
                <div class="roll_d8">
                    <button class="roll_d8" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{character_name}}} {{subtitle_d=D8}} {{degats=oui}}{{result=[[D8]]}}" title="Lancer un D8"></button>
                </div>
                <div class="roll_d10">
                    <button class="roll_d10" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{character_name}}} {{subtitle_d=D10}} {{degats=oui}}{{result=[[D10]]}}" title="Lancer un D10"></button>
                </div>
                <div class="roll_d12">
                    <button class="roll_d12" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{character_name}}} {{subtitle_d=D12}} {{degats=oui}}{{result=[[D12]]}}" title="Lancer un D12"></button>
                </div>
                <div class="roll_d20">
                    <button class="roll_d20" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{character_name}}} {{subtitle_d=D20}} {{degats=oui}}{{result=[[D20]]}}" title="Lancer un D20"></button>
                </div>
                <div class="roll_d100">
                    <button class="roll_chance" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{character_name}}} {{subtitle_d=D100}} {{degats=oui}}{{result=[[D100]]}}" title="Lancer un D100"></button>
                </div>
            </div>
            <div class="wrapper_roll">
                <div class="roll_d4">
                    <span class="lettre">D</span>4
                </div>
                <div class="roll_d6">
                    <span class="lettre">D</span>6
                </div>
                <div class="roll_d8">
                    <span class="lettre">D</span>8
                </div>
                <div class="roll_d10">
                    <span class="lettre">D</span>10
                </div>
                <div class="roll_d12">
                    <span class="lettre">D</span>12
                </div>
                <div class="roll_d20">
                    <span class="lettre">D</span>20
                </div>
                <div class="roll_d100">
                    <span class="lettre">D</span>100
                </div>
            </div>
        </div>
        <br>
        <br>

        <!-- Section Équipement -->
        <div class="equipement">
            <div class="wrapper_equipement_title">
                <div class="equipement_titre">ÉQUIPEMENT</div>
            </div>
            <div class="wrapper_equipement">
                <div class="or">ORII</div>
                <div class="argent">ARGII</div>
                <div class="cuivre">CUVRII</div>
                <div class="armes">Armes du personnage</div>
                <div class="armures">Armures du personnage</div>
                <div class="materiel">Matériel et Inventaire</div>
                <div class="or_data"><input type="number" class="input_money" name="attr_ORII" placeholder="0" title="ORII" min="0"></div>
                <div class="argent_data"><input type="number" class="input_money" name="attr_ARGII" placeholder="0" title="ARGII" min="0"></div>
                <div class="cuivre_data"><input type="number" class="input_money" name="attr_CUVRII" placeholder="0" title="CUVRII" min="0"></div>
                <div class="armes_data_1">
                    <input type="text" class="info_armes" name="attr_armes_data_1">
                    <input type="number" class="input_arme_data" name="attr_arme1_nbr" placeholder="0" min="1" max="9">
                    D
                    <input type="number" class="input_arme_data2" name="attr_arme1_d" placeholder="4" min="4" max="20">
                    <button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{armes_data_1}}} {{subtitle=oui}} {{degats=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{des=@{arme1_nbr}D@{arme1_d}}} {{result=[[?{Modificateur|0} + @{arme1_nbr}D@{arme1_d}]]}}" title="Jet de dégâts"></button>
                </div>
                <div class="armes_data2">
                    <input type="text" class="info_armes" name="attr_armes_data_2">
                    <input type="number" class="input_arme_data" name="attr_arme2_nbr" placeholder="0" min="1" max="9">
                    D
                    <input type="number" class="input_arme_data2" name="attr_arme2_d" placeholder="4" min="4" max="20">
                    <button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{armes_data_2}}} {{subtitle=oui}} {{degats=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{des=@{arme2_nbr}D@{arme2_d}}} {{result=[[?{Modificateur|0} + @{arme2_nbr}D@{arme2_d}]]}}" title="Jet de dégâts"></button>
                </div>
                <div class="armes_data3">
                    <input type="text" class="info_armes" name="attr_armes_data_3">
                    <input type="number" class="input_arme_data" name="attr_arme3_nbr" placeholder="0" min="1" max="9">
                    D
                    <input type="number" class="input_arme_data2" name="attr_arme3_d" placeholder="4" min="4" max="20">
                    <button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{armes_data_3}}} {{subtitle=oui}} {{degats=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{des=@{arme3_nbr}D@{arme3_d}}} {{result=[[?{Modificateur|0} + @{arme3_nbr}D@{arme3_d}]]}}" title="Jet de dégâts"></button>
                </div>
                <div class="armes_data4">
                    <input type="text" class="info_armes" name="attr_armes_data_4">
                    <input type="number" class="input_arme_data" name="attr_arme4_nbr" placeholder="0" min="1" max="9">
                    D
                    <input type="number" class="input_arme_data2" name="attr_arme4_d" placeholder="4" min="4" max="20">
                    <button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{armes_data_4}}} {{subtitle=oui}} {{degats=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{des=@{arme4_nbr}D@{arme4_d}}} {{result=[[?{Modificateur|0} + @{arme4_nbr}D@{arme4_d}]]}}" title="Jet de dégâts"></button>
                </div>
                <div class="armes_data5">
                    <input type="text" class="info_armes" name="attr_armes_data_5">
                    <input type="number" class="input_arme_data" name="attr_arme5_nbr" placeholder="0" min="1" max="9">
                    D
                    <input type="number" class="input_arme_data2" name="attr_arme5_d" placeholder="4" min="4" max="20">
                    <button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{armes_data_5}}} {{subtitle=oui}} {{degats=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{des=@{arme5_nbr}D@{arme5_d}}} {{result=[[?{Modificateur|0} + @{arme5_nbr}D@{arme5_d}]]}}" title="Jet de dégâts"></button>
                </div>
                <div class="armes_data6">
                    <input type="text" class="info_armes" name="attr_armes_data_6">
                    <input type="number" class="input_arme_data" name="attr_arme6_nbr" placeholder="0" min="1" max="9">
                    D
                    <input type="number" class="input_arme_data2" name="attr_arme6_d" placeholder="4" min="4" max="20">
                    <button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{armes_data_6}}} {{subtitle=oui}} {{degats=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{des=@{arme6_nbr}D@{arme6_d}}} {{result=[[?{Modificateur|0} + @{arme6_nbr}D@{arme6_d}]]}}" title="Jet de dégâts"></button>
                </div>
                <div class="armes_data7">
                    <input type="text" class="info_armes" name="attr_armes_data_7">
                    <input type="number" class="input_arme_data" name="attr_arme7_nbr" placeholder="0" min="1" max="9">
                    D
                    <input type="number" class="input_arme_data2" name="attr_arme_d" placeholder="4" min="4" max="20">
                    <button class="roll_dice_armes" type="roll" name="roll_Lancer" value="&{template:ito} {{title=@{armes_data_7}}} {{subtitle=oui}} {{degats=oui}} {{mod=[[?{Modificateur|0}]]}} {{mod_affiche=?{Modificateur|0}}} {{des=@{arme7_nbr}D@{arme7_d}}} {{result=[[?{Modificateur|0} + @{arme7_nbr}D@{arme7_d}]]}}" title="Jet de dégâts"></button>
                </div>
                <div class="armures_data"><textarea class="notes" name="attr_armures_data" spellcheck="false"></textarea></div>
                <div class="materiel_data"><textarea class="notes" name="attr_materiel_data" spellcheck="false"></textarea></div>
            </div>
        </div>
        <br>
        <br>
        
         <!-- Section Compétences -->
        <div class="competence">
            <div class="wrapper_comp_title">
                <div class="comp_titre">Compétences et Malus du héros</div>
            </div>
            <div class="wrapper_comp">
                <div class="comp_ambidextrie">Ambidextrie <span class="petit">(ATQ / PRD)</span></div>
                <div class="comp_armes_deux_mains">Armes à deux mains <span class="petit">(ATQ / PRD)</span></div>
                <div class="comp_armes_de_tir">Armes de tir <span class="petit">(DEX)</span></div>
                <div class="comp_bouclier">Bouclier <span class="petit">(PRD)</span></div>
                <div class="comp_artisan">Artisan - Bois <span class="petit">(DEX / INT)</span></div>
                <div class="comp_brasseur">Brasseur <span class="petit">(INT)</span></div>
                <div class="comp_combat_mains_nues">Combat à mains nues <span class="petit">(ATQ / PRD / DEX)</span></div>
                <div class="comp_cuisiner">Cuisiner <span class="petit">(INT)</span></div>
                <div class="comp_denicheur">Dénicheur <span class="petit">(PERC)</span></div>
                <div class="comp_desamorcage">Désamorçage <span class="petit">(INT)</span></div>
                <div class="comp_dressage">Dressage <span class="petit">(INT)</span></div>
                <div class="comp_erudit">Érudit <span class="petit">(INT)</span></div>
                <div class="comp_evasion">Évasion <span class="petit">(DEX)</span></div>
                <div class="comp_frappe_furtive">Frappe furtive <span class="petit">(ATQ)</span></div>
                <div class="comp_ingenieur">Ingénieur <span class="petit">(INT)</span></div>
                <div class="comp_intimidation">Intimidation <span class="petit">(CHA / PERS)</span></div>
                <div class="comp_langage_monstre">Langage des monstres <span class="petit">(INT)</span></div>
                <div class="comp_maitres_armes">Maître d'armes <span class="petit">(ATQ / PRD)</span></div>
                <div class="comp_meconnaissable">Méconnaissable <span class="petit">(CHA / PERS)</span></div>
                <div class="comp_mefiance">Méfiance <span class="petit">(PERC)</span></div>
                <div class="comp_natation">Natation <span class="petit">(END)</span></div>
                <div class="comp_orientation">Orientation <span class="petit">(INT)</span></div>
                <div class="comp_pistage">Pistage <span class="petit">(PERC)</span></div>
                <div class="comp_premiers_soins">Premiers soins <span class="petit">(INT)</span></div>
                <div class="comp_runique">Runique <span class="petit">(INT)</span></div>
                <div class="comp_autre_competence_1"><input type="text" class="input_competences_autre" name="attr_nom_competence_1" placeholder="Autre..."></div>
                <div class="comp_armes_une_main">Armes à une main <span class="petit">(ATQ / PRD)</span></div>
                <div class="comp_armes_hast">Armes d'hast <span class="petit">(ATQ / PRD)</span></div>
                <div class="comp_armes_jet">Armes de jet <span class="petit">(DEX)</span></div>
                <div class="comp_alchimie">Alchimie <span class="petit">(INT)</span></div>
                <div class="comp_barde">Barde <span class="petit">(INT)</span></div>
                <div class="comp_chevaucher">Chevaucher <span class="petit">(DEX)</span></div>
                <div class="comp_comprehension_animale">Compréhension animale <span class="petit">(INT)</span></div>
                <div class="comp_crochetage">Crochetage <span class="petit">(DEX)</span></div>
                <div class="comp_debrouillard">Débrouillard <span class="petit">(INT)</span></div>
                <div class="comp_discretion">Discrétion <span class="petit">(DEX)</span></div>
                <div class="comp_detection">Détection <span class="petit">(PERC)</span></div>
                <div class="comp_eloquence">Éloquence <span class="petit">(CHA / PERS)</span></div>
                <div class="comp_escalade">Escalade <span class="petit">(END)</span></div>
                <div class="comp_forgeron">Forgeron <span class="petit">(INT)</span></div>
                <div class="comp_herboristerie">Herboristerie <span class="petit">(INT)</span></div>
                <div class="comp_instinct_survie">Instinct de survie <span class="petit">(VOL)</span></div>
                <div class="comp_invincible_combat">Invincible au combat <span class="petit">(ATQ / PRD)</span></div>
                <div class="comp_leader">Leader <span class="petit">(CHA / PERS)</span></div>
                <div class="comp_marchandage">Marchandage <span class="petit">(CHA / PERS)</span></div>
                <div class="comp_medecine">Médecine <span class="petit">(INT)</span></div>
                <div class="comp_mental_acier">Mental d'acier <span class="petit">(VOL)</span></div>
                <div class="comp_observation">Observation <span class="petit">(PERC)</span></div>
                <div class="comp_pacifiste">Pacifiste <span class="petit">(CHA / PERS)</span></div>
                <div class="comp_repos_guerrier">Repos du guerrier <span class="petit">(CONS)</span></div>
                <div class="comp_vol_tire">Vol à la tire <span class="petit">(DEX)</span></div>
                <div class="comp_autre_competence_2"><input type="text" class="input_competences_autre" name="attr_nom_competence_2" placeholder="Autre..."></div>
                <!-- Data Compétences -->
                <div class="comp_ambidextrie_data"><input type="text" class="input_competences" name="attr_ambidextrie"></div>
                <div class="comp_armes_deux_mains_data"><input type="text" class="input_competences" name="attr_armes_deux_mains"></div>
                <div class="comp_armes_de_tir_data"><input type="text" class="input_competences" name="attr_armes_de_tir"></div>
                <div class="comp_bouclier_data"><input type="text" class="input_competences" name="attr_bouclier"></div>
                <div class="comp_artisan_data"><input type="text" class="input_competences" name="attr_artisan"></div>
                <div class="comp_brasseur_data"><input type="text" class="input_competences" name="attr_brasseur"></div>
                <div class="comp_combat_mains_nues_data"><input type="text" class="input_competences" name="attr_combat_mains_nues"></div>
                <div class="comp_cuisiner_data"><input type="text" class="input_competences" name="attr_cuisiner"></div>
                <div class="comp_denicheur_data"><input type="text" class="input_competences" name="attr_denicheur"></div>
                <div class="comp_desamorcage_data"><input type="text" class="input_competences" name="attr_desamorcage"></div>
                <div class="comp_dressage_data"><input type="text" class="input_competences" name="attr_dressage"></div>
                <div class="comp_erudit_data"><input type="text" class="input_competences" name="attr_erudit"></div>
                <div class="comp_evasion_data"><input type="text" class="input_competences" name="attr_evasion"></div>
                <div class="comp_frappe_furtive_data"><input type="text" class="input_competences" name="attr_frappe_furtive"></div>
                <div class="comp_ingenieur_data"><input type="text" class="input_competences" name="attr_ingenieur"></div>
                <div class="comp_intimidation_data"><input type="text" class="input_competences" name="attr_intimidation"></div>
                <div class="comp_langage_monstre_data"><input type="text" class="input_competences" name="attr_langage_monstre"></div>
                <div class="comp_maitres_armes_data"><input type="text" class="input_competences" name="attr_maitres_armes"></div>
                <div class="comp_meconnaissable_data"><input type="text" class="input_competences" name="attr_meconnaissable"></div>
                <div class="comp_mefiance_data"><input type="text" class="input_competences" name="attr_mefiance"></div>
                <div class="comp_natation_data"><input type="text" class="input_competences" name="attr_natation"></div>
                <div class="comp_orientation_data"><input type="text" class="input_competences" name="attr_orientation"></div>
                <div class="comp_pistage_data"><input type="text" class="input_competences" name="attr_pistage"></div>
                <div class="comp_premiers_soins_data"><input type="text" class="input_competences" name="attr_premiers_soins"></div>
                <div class="comp_runique_data"><input type="text" class="input_competences" name="attr_runique"></div>
                <div class="comp_autre_competence_1_data"><input type="text" class="input_competences" name="attr_valeur_competence_1"></div>
                <div class="comp_armes_une_main_data"><input type="text" class="input_competences" name="attr_armes_une_main"></div>
                <div class="comp_armes_hast_data"><input type="text" class="input_competences" name="attr_armes_hast"></div>
                <div class="comp_armes_jet_data"><input type="text" class="input_competences" name="attr_armes_jet"></div>
                <div class="comp_alchimie_data"><input type="text" class="input_competences" name="attr_alchimie"></div>
                <div class="comp_barde_data"><input type="text" class="input_competences" name="attr_barde"></div>
                <div class="comp_chevaucher_data"><input type="text" class="input_competences" name="attr_chevaucher"></div>
                <div class="comp_comprehension_animale_data"><input type="text" class="input_competences" name="attr_comprehension_animale"></div>
                <div class="comp_crochetage_data"><input type="text" class="input_competences" name="attr_crochetage"></div>
                <div class="comp_debrouillard_data"><input type="text" class="input_competences" name="attr_debrouillard"></div>
                <div class="comp_discretion_data"><input type="text" class="input_competences" name="attr_discretion"></div>
                <div class="comp_detection_data"><input type="text" class="input_competences" name="attr_detection"></div>
                <div class="comp_eloquence_data"><input type="text" class="input_competences" name="attr_eloquence"></div>
                <div class="comp_escalade_data"><input type="text" class="input_competences" name="attr_escalade"></div>
                <div class="comp_forgeron_data"><input type="text" class="input_competences" name="attr_forgeron"></div>
                <div class="comp_herboristerie_data"><input type="text" class="input_competences" name="attr_herboristerie"></div>
                <div class="comp_instinct_survie_data"><input type="text" class="input_competences" name="attr_instinct_survie"></div>
                <div class="comp_invincible_combat_data"><input type="text" class="input_competences" name="attr_invincible_combat"></div>
                <div class="comp_leader_data"><input type="text" class="input_competences" name="attr_leader"></div>
                <div class="comp_marchandage_data"><input type="text" class="input_competences" name="attr_marchandage"></div>
                <div class="comp_medecine_data"><input type="text" class="input_competences" name="attr_medecine"></div>
                <div class="comp_mental_acier_data"><input type="text" class="input_competences" name="attr_mental_acier"></div>
                <div class="comp_observation_data"><input type="text" class="input_competences" name="attr_observation"></div>
                <div class="comp_pacifiste_data"><input type="text" class="input_competences" name="attr_pacifiste"></div>
                <div class="comp_repos_guerrier_data"><input type="text" class="input_competences" name="attr_repos_guerrier"></div>
                <div class="comp_vol_tire_data"><input type="text" class="input_competences" name="attr_vol_tire"></div>
                <div class="comp_autre_competence_2_data"><input type="text" class="input_competences" name="attr_valeur_competence_2"></div>
            </div>
            <!-- Malus -->
            <div class="wrapper_comp">
                <div class="comp_agoraphobie">Agoraphobie <span class="petit_rouge">(VOL)</div>
                <div class="comp_bagarreur">Bagarreur <span class="petit_rouge">(VOL)</div>
                <div class="comp_coureur_jupon">Coureur de jupons <span class="petit_rouge">(VOL)</div>
                <div class="comp_gourmandise">Gourmandise <span class="petit_rouge">(VOL)</div>
                <div class="comp_insomniaque">Insomniaque <span class="petit_rouge">(CONS)</div>
                <div class="comp_junkie">Junkie <span class="petit_rouge">(VOL)</div>
                <div class="comp_mephitique">Méphitique <span class="petit_rouge">(CHA / PERS)</div>
                <div class="comp_naif">Naïf <span class="petit_rouge">(INT)</div>
                <div class="comp_penible">Pénible <span class="petit_rouge">(VOL)</div>
                <div class="comp_radin">Radin <span class="petit_rouge">(CHA / PERS)</div>
                <div class="comp_xenophobe">Xénophobe <span class="petit_rouge">(CHA / PERS)</div>
                <div class="comp_autre_malus_1"><input type="text" class="input_defaut_autre" name="attr_nom_malus_1" placeholder="Autre..."></div>
                <div class="comp_alcoolique">Alcoolique <span class="petit_rouge">(VOL)</div>
                <div class="comp_coeur_artichaut">Coeur d'artichaut <span class="petit_rouge">(VOL)</div>
                <div class="comp_fantomes_passe">Fantômes du passé <span class="petit_rouge">(VOL)</div>
                <div class="comp_impulsif">Impulsif <span class="petit_rouge">(VOL)</div>
                <div class="comp_introverti">Introverti <span class="petit_rouge">(CHA / PERS)</div>
                <div class="comp_maladroit">Maladroit <span class="petit_rouge">(DEX)</div>
                <div class="comp_misogyne_misandre">Misogyne / Misandre <span class="petit_rouge">(CHA / PERS)</div>
                <div class="comp_orgueilleux">Orgueilleux <span class="petit_rouge">(CHA)</div>
                <div class="comp_phobique">Phobique <span class="petit_rouge">(VOL)</div>
                <div class="comp_recherche">Recherché <span class="petit_rouge">(CHA / PERS)</div>
                <div class="comp_sanguinaire">Sanguinaire <span class="petit_rouge">(VOL)</div>
                <div class="comp_autre_malus_2"><input type="text" class="input_defaut_autre" name="attr_nom_malus_2" placeholder="Autre..."></div>
                <!-- Data malus -->
                <div class="comp_agoraphobie_data"><input type="text" class="input_competences_rouge" name="attr_agoraphobie"></div>
                <div class="comp_bagarreur_data"><input type="text" class="input_competences_rouge" name="attr_bagarreur"></div>
                <div class="comp_coureur_jupon_data"><input type="text" class="input_competences_rouge" name="attr_coureur_jupon"></div>
                <div class="comp_gourmandise_data"><input type="text" class="input_competences_rouge" name="attr_gourmandise"></div>
                <div class="comp_insomniaque_data"><input type="text" class="input_competences_rouge" name="attr_insomniaque"></div>
                <div class="comp_junkie_data"><input type="text" class="input_competences_rouge" name="attr_junkie"></div>
                <div class="comp_mephitique_data"><input type="text" class="input_competences_rouge" name="attr_mephitique"></div>
                <div class="comp_naif_data"><input type="text" class="input_competences_rouge" name="attr_naif"></div>
                <div class="comp_penible_data"><input type="text" class="input_competences_rouge" name="attr_penible"></div>
                <div class="comp_radin_data"><input type="text" class="input_competences_rouge" name="attr_radin"></div>
                <div class="comp_xenophobe_data"><input type="text" class="input_competences_rouge" name="attr_xenophobe"></div>
                <div class="comp_autre_malus_1_data"><input type="text" class="input_competences_rouge" name="attr_valeur_malus_1"></div>
                <div class="comp_alcoolique_data"><input type="text" class="input_competences_rouge" name="attr_alcoolique"></div>
                <div class="comp_coeur_artichaut_data"><input type="text" class="input_competences_rouge" name="attr_coeur_artichaut"></div>
                <div class="comp_fantomes_passe_data"><input type="text" class="input_competences_rouge" name="attr_fantomes_passe"></div>
                <div class="comp_impulsif_data"><input type="text" class="input_competences_rouge" name="attr_impulsif"></div>
                <div class="comp_introverti_data"><input type="text" class="input_competences_rouge" name="attr_introverti"></div>
                <div class="comp_maladroit_data"><input type="text" class="input_competences_rouge" name="attr_maladroit"></div>
                <div class="comp_misogyne_misandre_data"><input type="text" class="input_competences_rouge" name="attr_misogyne_misandre"></div>
                <div class="comp_orgueilleux_data"><input type="text" class="input_competences_rouge" name="attr_orgueilleux"></div>
                <div class="comp_phobique_data"><input type="text" class="input_competences_rouge" name="attr_phobique"></div>
                <div class="comp_recherche_data"><input type="text" class="input_competences_rouge" name="attr_recherche"></div>
                <div class="comp_sanguinaire_data"><input type="text" class="input_competences_rouge" name="attr_sanguinaire"></div>
                <div class="comp_autre_malus_2_data"><input type="text" class="input_competences_rouge" name="attr_valeur_malus_2"></div>

            </div>
        </div>
</div>
	

<rolltemplate class="sheet-rolltemplate-ito">
    <div class="sheet-container">
      <div class="sheet-header">
        {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
        {{#subtitle}}
			{{#rollTotal() mod 0}}
				<div class="sheet-subtitle">{{des}}</div>
			{{/rollTotal() mod 0}}
			{{#^rollTotal() mod 0}}
				{{#rollGreater() mod 0}}
					<div class="sheet-subtitle">{{des}} +{{mod_affiche}}</div>
				{{/rollGreater() mod 0}}
				{{#^rollGreater() mod 0}}
					<div class="sheet-subtitle">{{des}} {{mod_affiche}}</div>
				{{/^rollGreater() mod 0}}
			{{/^rollTotal() mod 0}}
		{{/subtitle}}
		{{#subtitle_d}}
			<div class="sheet-subtitle">{{subtitle_d}}</div>
		{{/subtitle_d}}
      </div>
      {{#sauvegarde}}
          <div class="sheet-content">
              {{#rollTotal() result 1}}
              <div class="sheet-result" style="color: #00bd00;">1</div>
              <div class="sheet-feedback-reussite">Réussite</div>
              {{/rollTotal() result 1}}
              {{#rollTotal() result 2}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">2</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">2</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 2}}
              {{#rollTotal() result 3}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">3</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">3</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 3}}
              {{#rollTotal() result 4}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">4</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">4</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 4}}
              {{#rollTotal() result 5}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">5</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">5</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 5}}
              {{#rollTotal() result 6}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">6</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">6</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 6}}
              {{#rollTotal() result 7}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">7</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">7</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 7}}
              {{#rollTotal() result 8}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">8</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">8</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 8}}
              {{#rollTotal() result 9}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">9</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">9</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 9}}
              {{#rollTotal() result 10}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">10</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">10</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 10}}
              {{#rollTotal() result 11}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">11</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">11</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 11}}
              {{#rollTotal() result 12}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">12</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">12</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 12}}
              {{#rollTotal() result 13}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">13</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">13</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 13}}
              {{#rollTotal() result 14}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">14</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">14</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 14}}
              {{#rollTotal() result 15}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">15</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">15</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 15}}
              {{#rollTotal() result 16}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">16</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">16</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 16}}
              {{#rollTotal() result 17}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">17</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">17</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 17}}
              {{#rollTotal() result 18}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">18</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">18</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 18}}
              {{#rollTotal() result 19}}
              {{#rollGreater() result score}}<div class="sheet-result" style="color: red;">19</div>{{/rollGreater() result score}}
              {{#^rollGreater() result score}}<div class="sheet-result" style="color: #00bd00;">19</div>{{/^rollGreater() result score}}
              {{/rollTotal() result 19}}
              {{#rollTotal() result 20}}
              <div class="sheet-result" style="color: red;">20</div>
              <div class="sheet-feedback-echec">Échec</div>
              {{/rollTotal() result 20}}
              {{#rollGreater() result score}}
              {{#^rollTotal() result 20}}
              {{#^rollTotal() result 1}}
              <div class="sheet-feedback-echec">Échec</div>
              {{/^rollTotal() result 1}}
              {{/^rollTotal() result 20}}
              {{/rollGreater() result score}}
              {{#^rollGreater() result score}}
              {{#^rollTotal() result 20}}
              {{#^rollTotal() result 1}}
              <div class="sheet-feedback-reussite">Réussite</div>
              {{/^rollTotal() result 1}}
              {{/^rollTotal() result 20}}
              {{/^rollGreater() result score}}
          </div>
      {{/sauvegarde}}
      {{#degats}}
	<div class="sheet-content">
		<div class="sheet-result-degats">{{result}}</div>
	</div>
	{{/degats}}
</rolltemplate>



<!-- SCRIPT -->

<!-- PSI -->
<script type="text/worker">
	on("sheet:opened change:force change:volonte change:endurance", function() {
    
        getAttrs(["force", "volonte", "endurance"], function(values) {
             let force = parseInt(values["force"]) || 0;
			 let volonte = parseInt(values["volonte"]) || 0;
			 let endurance = parseInt(values["endurance"]) || 0;
			 let psi = Math.ceil((force+volonte+endurance)/3);
             
                
                setAttrs({
                "psi" : psi
            });
        });
    });

</script>

<!-- Bonus -->
<script type="text/worker">
    on("sheet:opened change:force", function() {
    
        getAttrs(["force"], function(values) {
             let force = parseInt(values["force"]) || 0;
             
                if (force == 20) force_bonus = 5;
                else if (force == 19) force_bonus = 4;
                else if (force == 18) force_bonus = 4;
                else if (force == 17) force_bonus = 3;
                else if (force == 16) force_bonus = 3;
                else if (force == 15) force_bonus = 2;
                else if (force == 14) force_bonus = 2;
                else if (force == 13) force_bonus = 1;
                else if (force == 12) force_bonus = 1;
                else if (force == 11) force_bonus = 0;
                else if (force == 10) force_bonus = 0;
                else if (force == 9) force_bonus = 0;
                else if (force == 8) force_bonus = -1;
                else if (force == 7) force_bonus = -1;
                else if (force == 6) force_bonus = -2;
                else if (force == 5) force_bonus = -2;
                else if (force == 4) force_bonus = -3;
                else if (force == 3) force_bonus = -3;
                else if (force == 2) force_bonus = -4;
                else if (force == 1) force_bonus = -4;
                else force_bonus = 0;
                
                setAttrs({
                "force_bonus" : force_bonus
            });
        });
    });

    on("sheet:opened change:dexterite", function() {
    
        getAttrs(["dexterite"], function(values) {
             let dexterite = parseInt(values["dexterite"]) || 0;
             
                if (dexterite == 20) dexterite_bonus = 5;
                else if (dexterite == 19) dexterite_bonus = 4;
                else if (dexterite == 18) dexterite_bonus = 4;
                else if (dexterite == 17) dexterite_bonus = 3;
                else if (dexterite == 16) dexterite_bonus = 3;
                else if (dexterite == 15) dexterite_bonus = 2;
                else if (dexterite == 14) dexterite_bonus = 2;
                else if (dexterite == 13) dexterite_bonus = 1;
                else if (dexterite == 12) dexterite_bonus = 1;
                else if (dexterite == 11) dexterite_bonus = 0;
                else if (dexterite == 10) dexterite_bonus = 0;
                else if (dexterite == 9) dexterite_bonus = 0;
                else if (dexterite == 8) dexterite_bonus = -1;
                else if (dexterite == 7) dexterite_bonus = -1;
                else if (dexterite == 6) dexterite_bonus = -2;
                else if (dexterite == 5) dexterite_bonus = -2;
                else if (dexterite == 4) dexterite_bonus = -3;
                else if (dexterite == 3) dexterite_bonus = -3;
                else if (dexterite == 2) dexterite_bonus = -4;
                else if (dexterite == 1) dexterite_bonus = -4;
                else dexterite_bonus = 0;
                
                setAttrs({
                "dexterite_bonus" : dexterite_bonus
            });
        });
    });

    on("sheet:opened change:intelligence", function() {
    
        getAttrs(["intelligence"], function(values) {
             let intelligence = parseInt(values["intelligence"]) || 0;
             
                if (intelligence == 20) intelligence_bonus = 5;
                else if (intelligence == 19) intelligence_bonus = 4;
                else if (intelligence == 18) intelligence_bonus = 4;
                else if (intelligence == 17) intelligence_bonus = 3;
                else if (intelligence == 16) intelligence_bonus = 3;
                else if (intelligence == 15) intelligence_bonus = 2;
                else if (intelligence == 14) intelligence_bonus = 2;
                else if (intelligence == 13) intelligence_bonus = 1;
                else if (intelligence == 12) intelligence_bonus = 1;
                else if (intelligence == 11) intelligence_bonus = 0;
                else if (intelligence == 10) intelligence_bonus = 0;
                else if (intelligence == 9) intelligence_bonus = 0;
                else if (intelligence == 8) intelligence_bonus = -1;
                else if (intelligence == 7) intelligence_bonus = -1;
                else if (intelligence == 6) intelligence_bonus = -2;
                else if (intelligence == 5) intelligence_bonus = -2;
                else if (intelligence == 4) intelligence_bonus = -3;
                else if (intelligence == 3) intelligence_bonus = -3;
                else if (intelligence == 2) intelligence_bonus = -4;
                else if (intelligence == 1) intelligence_bonus = -4;
                else intelligence_bonus = 0;
                
                setAttrs({
                "intelligence_bonus" : intelligence_bonus
            });
        });
    });

    on("sheet:opened change:charisme", function() {
    
        getAttrs(["charisme"], function(values) {
             let charisme = parseInt(values["charisme"]) || 0;
             
                if (charisme == 20) charisme_bonus = 5;
                else if (charisme == 19) charisme_bonus = 4;
                else if (charisme == 18) charisme_bonus = 4;
                else if (charisme == 17) charisme_bonus = 3;
                else if (charisme == 16) charisme_bonus = 3;
                else if (charisme == 15) charisme_bonus = 2;
                else if (charisme == 14) charisme_bonus = 2;
                else if (charisme == 13) charisme_bonus = 1;
                else if (charisme == 12) charisme_bonus = 1;
                else if (charisme == 11) charisme_bonus = 0;
                else if (charisme == 10) charisme_bonus = 0;
                else if (charisme == 9) charisme_bonus = 0;
                else if (charisme == 8) charisme_bonus = -1;
                else if (charisme == 7) charisme_bonus = -1;
                else if (charisme == 6) charisme_bonus = -2;
                else if (charisme == 5) charisme_bonus = -2;
                else if (charisme == 4) charisme_bonus = -3;
                else if (charisme == 3) charisme_bonus = -3;
                else if (charisme == 2) charisme_bonus = -4;
                else if (charisme == 1) charisme_bonus = -4;
                else charisme_bonus = 0;
                
                setAttrs({
                "charisme_bonus" : charisme_bonus
            });
        });
    });

    on("sheet:opened change:volonte", function() {
    
        getAttrs(["volonte"], function(values) {
             let volonte = parseInt(values["volonte"]) || 0;
             
                if (volonte == 20) volonte_bonus = 5;
                else if (volonte == 19) volonte_bonus = 4;
                else if (volonte == 18) volonte_bonus = 4;
                else if (volonte == 17) volonte_bonus = 3;
                else if (volonte == 16) volonte_bonus = 3;
                else if (volonte == 15) volonte_bonus = 2;
                else if (volonte == 14) volonte_bonus = 2;
                else if (volonte == 13) volonte_bonus = 1;
                else if (volonte == 12) volonte_bonus = 1;
                else if (volonte == 11) volonte_bonus = 0;
                else if (volonte == 10) volonte_bonus = 0;
                else if (volonte == 9) volonte_bonus = 0;
                else if (volonte == 8) volonte_bonus = -1;
                else if (volonte == 7) volonte_bonus = -1;
                else if (volonte == 6) volonte_bonus = -2;
                else if (volonte == 5) volonte_bonus = -2;
                else if (volonte == 4) volonte_bonus = -3;
                else if (volonte == 3) volonte_bonus = -3;
                else if (volonte == 2) volonte_bonus = -4;
                else if (volonte == 1) volonte_bonus = -4;
                else volonte_bonus = 0;
                
                setAttrs({
                "volonte_bonus" : volonte_bonus
            });
        });
    });

    on("sheet:opened change:endurance", function() {
    
        getAttrs(["endurance"], function(values) {
             let endurance = parseInt(values["endurance"]) || 0;
             
                if (endurance == 20) endurance_bonus = 5;
                else if (endurance == 19) endurance_bonus = 4;
                else if (endurance == 18) endurance_bonus = 4;
                else if (endurance == 17) endurance_bonus = 3;
                else if (endurance == 16) endurance_bonus = 3;
                else if (endurance == 15) endurance_bonus = 2;
                else if (endurance == 14) endurance_bonus = 2;
                else if (endurance == 13) endurance_bonus = 1;
                else if (endurance == 12) endurance_bonus = 1;
                else if (endurance == 11) endurance_bonus = 0;
                else if (endurance == 10) endurance_bonus = 0;
                else if (endurance == 9) endurance_bonus = 0;
                else if (endurance == 8) endurance_bonus = -1;
                else if (endurance == 7) endurance_bonus = -1;
                else if (endurance == 6) endurance_bonus = -2;
                else if (endurance == 5) endurance_bonus = -2;
                else if (endurance == 4) endurance_bonus = -3;
                else if (endurance == 3) endurance_bonus = -3;
                else if (endurance == 2) endurance_bonus = -4;
                else if (endurance == 1) endurance_bonus = -4;
                else endurance_bonus = 0;
                
                setAttrs({
                "endurance_bonus" : endurance_bonus
            });
        });
    });

    on("sheet:opened change:constitution", function() {
    
        getAttrs(["constitution"], function(values) {
             let constitution = parseInt(values["constitution"]) || 0;
             
                if (constitution == 20) constitution_bonus = 5;
                else if (constitution == 19) constitution_bonus = 4;
                else if (constitution == 18) constitution_bonus = 4;
                else if (constitution == 17) constitution_bonus = 3;
                else if (constitution == 16) constitution_bonus = 3;
                else if (constitution == 15) constitution_bonus = 2;
                else if (constitution == 14) constitution_bonus = 2;
                else if (constitution == 13) constitution_bonus = 1;
                else if (constitution == 12) constitution_bonus = 1;
                else if (constitution == 11) constitution_bonus = 0;
                else if (constitution == 10) constitution_bonus = 0;
                else if (constitution == 9) constitution_bonus = 0;
                else if (constitution == 8) constitution_bonus = -1;
                else if (constitution == 7) constitution_bonus = -1;
                else if (constitution == 6) constitution_bonus = -2;
                else if (constitution == 5) constitution_bonus = -2;
                else if (constitution == 4) constitution_bonus = -3;
                else if (constitution == 3) constitution_bonus = -3;
                else if (constitution == 2) constitution_bonus = -4;
                else if (constitution == 1) constitution_bonus = -4;
                else constitution_bonus = 0;
                
                setAttrs({
                "constitution_bonus" : constitution_bonus
            });
        });
    });

    on("sheet:opened change:persuasion", function() {
    
        getAttrs(["persuasion"], function(values) {
             let persuasion = parseInt(values["persuasion"]) || 0;
             
                if (persuasion == 20) persuasion_bonus = 5;
                else if (persuasion == 19) persuasion_bonus = 4;
                else if (persuasion == 18) persuasion_bonus = 4;
                else if (persuasion == 17) persuasion_bonus = 3;
                else if (persuasion == 16) persuasion_bonus = 3;
                else if (persuasion == 15) persuasion_bonus = 2;
                else if (persuasion == 14) persuasion_bonus = 2;
                else if (persuasion == 13) persuasion_bonus = 1;
                else if (persuasion == 12) persuasion_bonus = 1;
                else if (persuasion == 11) persuasion_bonus = 0;
                else if (persuasion == 10) persuasion_bonus = 0;
                else if (persuasion == 9) persuasion_bonus = 0;
                else if (persuasion == 8) persuasion_bonus = -1;
                else if (persuasion == 7) persuasion_bonus = -1;
                else if (persuasion == 6) persuasion_bonus = -2;
                else if (persuasion == 5) persuasion_bonus = -2;
                else if (persuasion == 4) persuasion_bonus = -3;
                else if (persuasion == 3) persuasion_bonus = -3;
                else if (persuasion == 2) persuasion_bonus = -4;
                else if (persuasion == 1) persuasion_bonus = -4;
                else persuasion_bonus = 0;
                
                setAttrs({
                "persuasion_bonus" : persuasion_bonus
            });
        });
    });

    on("sheet:opened change:courage", function() {
    
        getAttrs(["courage"], function(values) {
             let courage = parseInt(values["courage"]) || 0;
             
                if (courage == 20) courage_bonus = 5;
                else if (courage == 19) courage_bonus = 4;
                else if (courage == 18) courage_bonus = 4;
                else if (courage == 17) courage_bonus = 3;
                else if (courage == 16) courage_bonus = 3;
                else if (courage == 15) courage_bonus = 2;
                else if (courage == 14) courage_bonus = 2;
                else if (courage == 13) courage_bonus = 1;
                else if (courage == 12) courage_bonus = 1;
                else if (courage == 11) courage_bonus = 0;
                else if (courage == 10) courage_bonus = 0;
                else if (courage == 9) courage_bonus = 0;
                else if (courage == 8) courage_bonus = -1;
                else if (courage == 7) courage_bonus = -1;
                else if (courage == 6) courage_bonus = -2;
                else if (courage == 5) courage_bonus = -2;
                else if (courage == 4) courage_bonus = -3;
                else if (courage == 3) courage_bonus = -3;
                else if (courage == 2) courage_bonus = -4;
                else if (courage == 1) courage_bonus = -4;
                else courage_bonus = 0;
                
                setAttrs({
                "courage_bonus" : courage_bonus
            });
        });
    });

    on("sheet:opened change:perception", function() {
    
        getAttrs(["perception"], function(values) {
             let perception = parseInt(values["perception"]) || 0;
             
                if (perception == 20) perception_bonus = 5;
                else if (perception == 19) perception_bonus = 4;
                else if (perception == 18) perception_bonus = 4;
                else if (perception == 17) perception_bonus = 3;
                else if (perception == 16) perception_bonus = 3;
                else if (perception == 15) perception_bonus = 2;
                else if (perception == 14) perception_bonus = 2;
                else if (perception == 13) perception_bonus = 1;
                else if (perception == 12) perception_bonus = 1;
                else if (perception == 11) perception_bonus = 0;
                else if (perception == 10) perception_bonus = 0;
                else if (perception == 9) perception_bonus = 0;
                else if (perception == 8) perception_bonus = -1;
                else if (perception == 7) perception_bonus = -1;
                else if (perception == 6) perception_bonus = -2;
                else if (perception == 5) perception_bonus = -2;
                else if (perception == 4) perception_bonus = -3;
                else if (perception == 3) perception_bonus = -3;
                else if (perception == 2) perception_bonus = -4;
                else if (perception == 1) perception_bonus = -4;
                else perception_bonus = 0;
                
                setAttrs({
                "perception_bonus" : perception_bonus
            });
        });
    });

    on("sheet:opened change:attaque", function() {
    
        getAttrs(["attaque"], function(values) {
             let attaque = parseInt(values["attaque"]) || 0;
             
                if (attaque == 20) attaque_bonus = 5;
                else if (attaque == 19) attaque_bonus = 4;
                else if (attaque == 18) attaque_bonus = 4;
                else if (attaque == 17) attaque_bonus = 3;
                else if (attaque == 16) attaque_bonus = 3;
                else if (attaque == 15) attaque_bonus = 2;
                else if (attaque == 14) attaque_bonus = 2;
                else if (attaque == 13) attaque_bonus = 1;
                else if (attaque == 12) attaque_bonus = 1;
                else if (attaque == 11) attaque_bonus = 0;
                else if (attaque == 10) attaque_bonus = 0;
                else if (attaque == 9) attaque_bonus = 0;
                else if (attaque == 8) attaque_bonus = -1;
                else if (attaque == 7) attaque_bonus = -1;
                else if (attaque == 6) attaque_bonus = -2;
                else if (attaque == 5) attaque_bonus = -2;
                else if (attaque == 4) attaque_bonus = -3;
                else if (attaque == 3) attaque_bonus = -3;
                else if (attaque == 2) attaque_bonus = -4;
                else if (attaque == 1) attaque_bonus = -4;
                else attaque_bonus = 0;
                
                setAttrs({
                "attaque_bonus" : attaque_bonus
            });
        });
    });

    on("sheet:opened change:parade", function() {
    
        getAttrs(["parade"], function(values) {
             let parade = parseInt(values["parade"]) || 0;
             
                if (parade == 20) parade_bonus = 5;
                else if (parade == 19) parade_bonus = 4;
                else if (parade == 18) parade_bonus = 4;
                else if (parade == 17) parade_bonus = 3;
                else if (parade == 16) parade_bonus = 3;
                else if (parade == 15) parade_bonus = 2;
                else if (parade == 14) parade_bonus = 2;
                else if (parade == 13) parade_bonus = 1;
                else if (parade == 12) parade_bonus = 1;
                else if (parade == 11) parade_bonus = 0;
                else if (parade == 10) parade_bonus = 0;
                else if (parade == 9) parade_bonus = 0;
                else if (parade == 8) parade_bonus = -1;
                else if (parade == 7) parade_bonus = -1;
                else if (parade == 6) parade_bonus = -2;
                else if (parade == 5) parade_bonus = -2;
                else if (parade == 4) parade_bonus = -3;
                else if (parade == 3) parade_bonus = -3;
                else if (parade == 2) parade_bonus = -4;
                else if (parade == 1) parade_bonus = -4;
                else parade_bonus = 0;
                
                setAttrs({
                "parade_bonus" : parade_bonus
            });
        });
    });
    </script>

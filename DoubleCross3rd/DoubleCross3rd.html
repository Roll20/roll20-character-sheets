<div class="sheet-wrap">
	<input type="hidden" name="attr_chk_syndrome_type" class="sheet-check-syndrome" value="">
	<input type="hidden" name="attr_syndrome_01" class="sheet-check-syndrome-01" value="">
	<input type="hidden" name="attr_syndrome_02" class="sheet-check-syndrome-02" value="">
	<input type="hidden" name="attr_syndrome_03" class="sheet-check-syndrome-03" value="">

	<input type="hidden" name="attr_template_name" value="{{name=@{character_name}}} " />

	<div class="sheet-header">
		<div class="sheet-free-dice">
			<input type="text" name="attr_free_dice1" value="2" placeholder="0"/>
			<span>dx</span>
			<input type="number" name="attr_free_dice2" value="10" placeholder="0" />
			<span>+</span>
			<input type="number" name="attr_free_dice3" value="0" placeholder="0" />
			<button type="action" name="act_diceroll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name} {{dxroll=[[(@{free_dice1})dx@{free_dice2}+0@{free_dice3}]]}}"></button>
			<span class="sheet-dot"></span>
			<input type="text" name="attr_free_dice" value="1D10" placeholder="0" />
			<button type="action" name="act_diceroll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name} {{dxroll=[[@{free_dice}]]}}"></button>
		</div>

		<div class="sheet-codename">
			<strong>CODE NAME.</strong>
			<input type="text" name="attr_code_name" placeholder="Code name..."/>
		</div>
		<div class="sheet-username">
			<strong>PLAYER.</strong>
			<input type="text" name="attr_player_name" placeholder="Player name..."/>
		</div>
		<div class="sheet-chname">
			<input type="text" name="attr_character_name" placeholder="Character Name..."/>
		</div>
		<div class="sheet-header-profile">
			<div>
				<strong data-i18n="i_works">웍스</strong>
				<input type="text" name="attr_works" value="" />
			</div>
			<div>
				<strong data-i18n="i_cover">커버</strong>
				<input type="text" name="attr_cover" value="" />
			</div>
			<div>
				<strong data-i18n="i_use_exp">소비경험점</strong>
				<input type="text" name="attr_use_exp" value="" placeholder="0" />
			</div>
			
			<div>
				<strong data-i18n="i_age">나이</strong>
				<input type="text" name="attr_age" value="" />
			</div>
			<div>
				<strong data-i18n="i_gender">성별</strong>
				<input type="text" name="attr_gender" value="" />
			</div>
			<div>
				<strong data-i18n="i_weight">체중</strong>
				<input type="text" name="attr_weight" value="" />
			</div>
			<div>
				<strong data-i18n="i_height">신장</strong>
				<input type="text" name="attr_height" value="" />
			</div>
			<div>
				<strong data-i18n="i_blood">혈액형</strong>
				<input type="text" name="attr_blood" value="" />
			</div>
			<div>
				<strong data-i18n="i_star">별자리</strong>
				<input type="text" name="attr_star" value="" />
			</div>
		</div>
	</div>

	<div class="sheet-select-sydrom">
		<div class="sheet-syndrom-type">
			<div class="sheet-syndrom-type-text sheet-syndrom-0"><em>---</em> BREED</div>
			<div class="sheet-syndrom-type-text sheet-syndrom-1"><em>PURE</em> BREED</div>
			<div class="sheet-syndrom-type-text sheet-syndrom-2"><em>CROSS</em> BREED</div>
			<div class="sheet-syndrom-type-text sheet-syndrom-3"><em>TRI</em> BREED</div>
		</div>
		<div class="sheet-item-group">
			<div class="sheet-item">
				<select name="attr_syndrome_01">
					<option value="0">-</option>
					<option value="1" data-i18n="i_syndrome_item_1">엔젤 헤일로</option>
					<option value="2" data-i18n="i_syndrome_item_2">발로르</option>
					<option value="3" data-i18n="i_syndrome_item_3">블랙 독</option>
					<option value="4" data-i18n="i_syndrome_item_4">브람 스토커</option>
					<option value="5" data-i18n="i_syndrome_item_5">키마이라</option>
					<option value="6" data-i18n="i_syndrome_item_6">엑자일</option>
					<option value="7" data-i18n="i_syndrome_item_7">하누만</option>
					<option value="8" data-i18n="i_syndrome_item_8">모르페우스</option>
					<option value="9" data-i18n="i_syndrome_item_9">노이만</option>
					<option value="10" data-i18n="i_syndrome_item_10">오르쿠스</option>
					<option value="11" data-i18n="i_syndrome_item_11">샐러맨더</option>
					<option value="12" data-i18n="i_syndrome_item_12">솔라리스</option>
					<option value="13" data-i18n="i_syndrome_item_13">우로보로스</option>
					<option value="13" data-i18n="i_syndrome_item_14">아자토스</option>
				</select>
			</div>
			<div class="sheet-item">
				<select name="attr_syndrome_02">
					<option value="0">-</option>
					<option value="1" data-i18n="i_syndrome_item_1">엔젤 헤일로</option>
					<option value="2" data-i18n="i_syndrome_item_2">발로르</option>
					<option value="3" data-i18n="i_syndrome_item_3">블랙 독</option>
					<option value="4" data-i18n="i_syndrome_item_4">브람 스토커</option>
					<option value="5" data-i18n="i_syndrome_item_5">키마이라</option>
					<option value="6" data-i18n="i_syndrome_item_6">엑자일</option>
					<option value="7" data-i18n="i_syndrome_item_7">하누만</option>
					<option value="8" data-i18n="i_syndrome_item_8">모르페우스</option>
					<option value="9" data-i18n="i_syndrome_item_9">노이만</option>
					<option value="10" data-i18n="i_syndrome_item_10">오르쿠스</option>
					<option value="11" data-i18n="i_syndrome_item_11">샐러맨더</option>
					<option value="12" data-i18n="i_syndrome_item_12">솔라리스</option>
					<option value="13" data-i18n="i_syndrome_item_13">우로보로스</option>
					<option value="13" data-i18n="i_syndrome_item_14">아자토스</option>
				</select>
			</div>
			<div class="sheet-item">
				<select name="attr_syndrome_03">
					<option value="0">-</option>
					<option value="1" data-i18n="i_syndrome_item_1">엔젤 헤일로</option>
					<option value="2" data-i18n="i_syndrome_item_2">발로르</option>
					<option value="3" data-i18n="i_syndrome_item_3">블랙 독</option>
					<option value="4" data-i18n="i_syndrome_item_4">브람 스토커</option>
					<option value="5" data-i18n="i_syndrome_item_5">키마이라</option>
					<option value="6" data-i18n="i_syndrome_item_6">엑자일</option>
					<option value="7" data-i18n="i_syndrome_item_7">하누만</option>
					<option value="8" data-i18n="i_syndrome_item_8">모르페우스</option>
					<option value="9" data-i18n="i_syndrome_item_9">노이만</option>
					<option value="10" data-i18n="i_syndrome_item_10">오르쿠스</option>
					<option value="11" data-i18n="i_syndrome_item_11">샐러맨더</option>
					<option value="12" data-i18n="i_syndrome_item_12">솔라리스</option>
					<option value="13" data-i18n="i_syndrome_item_13">우로보로스</option>
					<option value="13" data-i18n="i_syndrome_item_14">아자토스</option>
				</select>
			</div>
		</div>
	</div>

	<div class="sheet-mid-section">
		<div class="sheet-life">
			<div class="sheet-tit" data-i18n="i_life_path">라이프패스</div>
			<div class="sheet-life-group">
				<div>
					<div>
						<strong data-i18n="i_birth">출신</strong>
						<input type="text" name="attr_birth_txt" value="" />
					</div>
					<div>
						<strong data-i18n="i_experience">경험</strong>
						<input type="text" name="attr_experience_txt" value="" />
					</div>

					<div>
						<strong data-i18n="i_reunion">해후</strong>
						<input type="text" name="attr_reunion" value="" />
					</div>

					<div>
						<strong data-i18n="i_awaken">각성</strong>
						<input type="text" name="attr_awaken" value="" />
					</div>

					<div>
						<strong data-i18n="i_compulsion">충동</strong>
						<input type="text" name="attr_compulsion" value="" />
					</div>

					<div>
						<strong><input type="text" name="attr_craving_tit" value="욕망" class="sheet-tac"/></strong>
						<input type="text" name="attr_craving" value="" />
					</div>
				</div>
			</div>
		</div>

		<div class="sheet-other">
			<div class="sheet-rand-side">
				<div>
					<strong data-i18n="i_money">상비화</strong>
					<input type="text" name="attr_money" value="(@{spec04}*2)+(@{spec04_02}*2)" placeholder="0" disabled="true" />
				</div>
				<div>
					<strong data-i18n="i_goods">재산</strong>
					<input type="text" name="attr_goods" value="" placeholder="0" />
				</div>
			</div>

			<div class="sheet-hp">
				<strong data-i18n="i_hp">HP</strong>
				<div class="sheet-nowtotal">
					<input type="number" name="attr_hp" value="" placeholder="0" /><span>/</span>
					<input type="number" name="attr_hp_total" value="" placeholder="0" readonly class="sheet-total" />
					<span>+</span>
					<input type="number" name="attr_hp_mod" value="" placeholder="0" class="sheet-total" />
					<span>=</span>
					<input type="number" name="attr_hp_max" value="" placeholder="0" readonly class="sheet-total" />
				</div>
				<div class="sheet-hp-graph">
					<input type="hidden" name="attr_hp_per" class="sheet-graph-per" value="" />
					<div class="sheet-graph-box">
						<div class="sheet-bar"><span></span></div>
					</div>
				</div>
			</div>

			<div class="sheet-move-group">
				<div class="sheet-math">
					<strong data-i18n="i_move">행동치</strong>
					<input type="number" name="attr_move_default" value="" placeholder="0" readonly />
					<span>+</span>
					<input type="number" name="attr_move_modify" value="" placeholder="0" />
					<span>=</span>
					<input type="number" name="attr_move_max" value="" placeholder="0" readonly />
				</div>
				<div>
					<strong data-i18n="i_fight_move">전투이동</strong>
					<input type="number" name="attr_fight_move" value="" placeholder="0"/>
				</div>
				<div>
					<strong data-i18n="i_full_move">전력이동</strong>
					<input type="number" name="attr_full_move" value="" placeholder="0"/>
				</div>
			</div>
		</div>
	</div>

	<div class="sheet-reduction-section">
		<div class="sheet-tit" data-i18n="i_reduction">침식치</div>
		<div class="sheet-form">
			<input type="number" name="attr_add_reduction" value="0" placeholder="0" class="sheet-point" />
			<span>+</span>
			<input type="number" name="attr_base_reduction" value="0" placeholder="0"/>
			<span>=</span>
			<input type="number" name="attr_reduction" readonly value="0" placeholder="0" />
			<span>/</span>
			<input type="number" name="attr_reduction_max" value="200" class="sheet-max"/>
			<input type="hidden" name="attr_hide_reduction" value="" />
		</div>

		<div>
			<input type="hidden" name="attr_reduction_per" class="sheet-graph-per" value="" />
			<div class="sheet-graph-box">
				<div class="sheet-bar"><span></span></div>
			</div>
		</div>

		<div class="sheet-ohter">
			<strong data-i18n="i_add_dice">추가 주사위</strong>
			<input type="number" name="attr_add_dice" value="0" placeholder="0"/>
		</div>
		<div class="sheet-ohter">
			<strong data-i18n="i_add_effect_level">추가 레벨</strong>
			<input type="number" name="attr_effect_level" value="0" placeholder="0"/>
		</div>
	</div>

	<div class="sheet-spec-group">
		<div class="sheet-item">
			<div class="sheet-tit">
				<input type="hidden" name="attr_spec01_dice" value="(@{spec01}+@{add_dice})" disabled="true"/>
				<div class="sheet-act">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_body}}} {{dxroll=[[@{spec01_dice}dx@{spec01_critical}]]}}"></button>
					<strong data-i18n="i_body">육체</strong>
				</div>
				<div class="sheet-cmm-spec">
					<input type="number" name="attr_spec01_modify" value="0" placeholder="0" class="sheet-point"/>
					<span>+</span>
					<input type="number" name="attr_spec01_base" value="0" placeholder="0"/>
					<div class="sheet-cri">
						<span>Cri.</span>
						<input type="number" name="attr_spec01_critical" value="10" />
					</div>
				</div>
				<div class="sheet-circle-graph">
					<input type="hidden" name="attr_spec01_per" value="100" class="sheet-graph-per" />
					<input type="text" name="attr_spec01" value="@{spec01_base}+@{spec01_modify}" disabled="true" placeholder="0" class="sheet-total" readonly/>
					<div class="sheet-circle"></div>
				</div>
			</div>

			<div class="sheet-skill-box">
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_blanche}}} {{dxroll=[[@{spec01_dice}dx@{spec01_critical}+@{spec01_01}]]}}" data-i18n="i_blanche">백병</button>
					<div class="sheet-txt">
					</div>
					<div>
						<input type="number" name="attr_spec01_01" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_dodge}}} {{dxroll=[[@{spec01_dice}dx@{spec01_critical}+@{spec01_02}]]}}" data-i18n="i_dodge">회피</button>
					<div class="sheet-txt">
					</div>
					<div>
						<input type="number" name="attr_spec01_02" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<fieldset class="repeating_skill01">
					<div class="sheet-skill">
						<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_driving}:@{rowid-spec01_repeat_txt}}} {{dxroll=[[@{spec01_dice}dx@{spec01_critical}+@{rowid-spec01_repeat}]]}}" data-i18n="i_driving">운전</button>
						<div class="sheet-txt">
							<input type="text" name="attr_spec01_repeat_txt" value="" />
						</div>
						<div>
							<input type="number" name="attr_spec01_repeat" value="0" placeholder="0" />
							<span>Lv</span>
						</div>
					</div>
				</fieldset>
			</div>
		</div>

		<div class="sheet-item">
			<div class="sheet-tit">
				<input type="hidden" name="attr_spec02_dice" value="(@{spec02}+@{add_dice})" disabled="true"/>
				<div class="sheet-act">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_sense}}} {{dxroll=[[@{spec02_dice}dx@{spec02_critical}]]}}"></button>
					<strong data-i18n="i_sense">감각</strong>
				</div>
				<div class="sheet-cmm-spec">
					<input type="number" name="attr_spec02_modify" value="0" placeholder="0" class="sheet-point"/>
					<span>+</span>
					<input type="number" name="attr_spec02_base" value="0" placeholder="0"/>
					<div class="sheet-cri">
						<span>Cri.</span>
						<input type="number" name="attr_spec02_critical" value="10" />
					</div>
				</div>
				<div class="sheet-circle-graph">
					<input type="hidden" name="attr_spec02_per" value="100" class="sheet-graph-per" />
					<input type="text" name="attr_spec02" value="@{spec02_base}+@{spec02_modify}" disabled="true" placeholder="0" class="sheet-total" readonly/>
					<div class="sheet-circle"></div>
				</div>
			</div>

			<div class="sheet-skill-box">
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_gunnery}}} {{dxroll=[[@{spec02_dice}dx@{spec02_critical}+@{spec02_01}]]}}" data-i18n="i_gunnery">사격</button>
					<div class="sheet-txt"></div>
					<div>
						<input type="number" name="attr_spec02_01" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_sensory}}} {{dxroll=[[@{spec02_dice}dx@{spec02_critical}+@{spec02_02}]]}}" data-i18n="i_sensory">지각</button>
					<div class="sheet-txt"></div>
					<div>
						<input type="number" name="attr_spec02_02" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<fieldset class="repeating_skill02">
					<div class="sheet-skill">
						<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_art}:@{rowid-spec02_repeat_txt}}} {{dxroll=[[@{spec02_dice}dx@{spec02_critical}+@{rowid-spec02_repeat}]]}}" data-i18n="i_art">예술</button>
						<div class="sheet-txt">
							<input type="text" name="attr_spec02_repeat_txt" value="" />
						</div>
						<div>
							<input type="number" name="attr_spec02_repeat" value="0" placeholder="0" />
							<span>Lv</span>
						</div>
					</div>
				</fieldset>
			</div>
		</div>

		<div class="sheet-item">
			<div class="sheet-tit">
				<input type="hidden" name="attr_spec03_dice" value="(@{spec03}+@{add_dice})" disabled="true"/>
				<div class="sheet-act">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_mind}}} {{dxroll=[[@{spec03_dice}dx@{spec03_critical}]]}}"></button>
					<strong data-i18n="i_mind">정신</strong>
				</div>
				<div class="sheet-cmm-spec">
					<input type="number" name="attr_spec03_modify" value="0" placeholder="0" class="sheet-point"/>
					<span>+</span>
					<input type="number" name="attr_spec03_base" value="0" placeholder="0"/>
					<div class="sheet-cri">
						<span>Cri.</span>
						<input type="number" name="attr_spec03_critical" value="10" />
					</div>
				</div>
				<div class="sheet-circle-graph">
					<input type="hidden" name="attr_spec03_per" value="100" class="sheet-graph-per" />
					<input type="text" name="attr_spec03" value="@{spec03_base}+@{spec03_modify}" disabled="true" placeholder="0" class="sheet-total" readonly/>
					<div class="sheet-circle"></div>
				</div>
			</div>

			<div class="sheet-skill-box">
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_RC}}} {{dxroll=[[@{spec03_dice}dx@{spec03_critical}+@{spec03_01}]]}}" data-i18n="i_RC">RC</button>
					<div class="sheet-txt">
					</div>
					<div>
						<input type="number" name="attr_spec03_01" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_will}}} {{dxroll=[[@{spec03_dice}dx@{spec03_critical}+@{spec03_02}]]}}" data-i18n="i_will">의지</button>
					<div class="sheet-txt">
					</div>
					<div>
						<input type="number" name="attr_spec03_02" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<fieldset class="repeating_skill03">
					<div class="sheet-skill">
						<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_knowledge}:@{rowid-spec03_repeat_txt}}} {{dxroll=[[@{spec03_dice}dx@{spec03_critical}+@{rowid-spec03_repeat}]]}}" data-i18n="i_knowledge">지식</button>
						<div class="sheet-txt">
							<input type="text" name="attr_spec03_repeat_txt" value="" />
						</div>
						<div>
							<input type="number" name="attr_spec03_repeat" value="0" placeholder="0" />
							<span>Lv</span>
						</div>
					</div>
				</fieldset>
			</div>
		</div>

		<div class="sheet-item">
			<div class="sheet-tit">
				<input type="hidden" name="attr_spec04_dice" value="(@{spec04}+@{add_dice})" disabled="true"/>
				<div class="sheet-act">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_social}}} {{dxroll=[[@{spec04_dice}dx@{spec04_critical}]]}}"></button>
					<strong data-i18n="i_social">사회</strong>
				</div>
				<div class="sheet-cmm-spec">
					<input type="number" name="attr_spec04_modify" value="0" placeholder="0" class="sheet-point"/>
					<span>+</span>
					<input type="number" name="attr_spec04_base" value="0" placeholder="0"/>
					<div class="sheet-cri">
						<span>Cri.</span>
						<input type="number" name="attr_spec04_critical" value="10" />
					</div>
				</div>
				<div class="sheet-circle-graph">
					<input type="hidden" name="attr_spec04_per" value="100" class="sheet-graph-per" />
					<input type="text" name="attr_spec04" value="@{spec04_base}+@{spec04_modify}" disabled="true" placeholder="0" class="sheet-total" readonly/>
					<div class="sheet-circle"></div>
				</div>
			</div>

			<div class="sheet-skill-box">
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_bargaining}}} {{dxroll=[[@{spec04_dice}dx@{spec04_critical}+@{spec04_01}]]}}" data-i18n="i_bargaining">교섭</button>
					<div class="sheet-txt">
					</div>
					<div>
						<input type="number" name="attr_spec04_01" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<div class="sheet-skill">
					<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_raise}}} {{dxroll=[[@{spec04_dice}dx@{spec04_critical}+@{spec04_02}]]}}" data-i18n="i_raise">조달</button>
					<div class="sheet-txt">
					</div>
					<div>
						<input type="number" name="attr_spec04_02" value="0" placeholder="0" />
						<span>Lv</span>
					</div>
				</div>
				<fieldset class="repeating_skill04">
					<div class="sheet-skill">
						<button type="action" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{i_information}:@{rowid-spec04_repeat_txt}}} {{dxroll=[[@{spec04_dice}dx@{spec04_critical}+@{rowid-spec04_repeat}]]}}" data-i18n="i_information">정보</button>
						<div class="sheet-txt">
							<input type="text" name="attr_spec04_repeat_txt" value="" />
						</div>
						<div>
							<input type="number" name="attr_spec04_repeat" value="0" placeholder="0" />
							<span>Lv</span>
						</div>
					</div>
				</fieldset>
			</div>
		</div>
	</div>


	<div class="sheet-data-section">
		<input type="hidden" name="attr_chk_flip_state_lois" class="sheet-chk-flip-state" value="" />
		<div class="sheet-flip-title">
			<input type="checkbox" name="attr_chk_flip_state_lois" value="1" />
			<strong data-i18n="i_lois">로이스</strong>
		</div>
		<div class="sheet-flip-content">
			<div class="sheet-sub-title" data-i18n="i_d_lois">D 로이스</div>
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-dic"></div>
						<div class="sheet-no">No.</div>
						<div class="sheet-name" data-i18n="i_name">이름</div>
						<div data-i18n="i_descript">설명</div>
					</div>
				</div>
				<div class="sheet-row">
					<div class="sheet-dic"><button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name} {{title=@{lois0_tit}}}{{subtitle=@{i_d_lois} | No.@{lois0_number}}}{{desc=@{lois0_desc}}}"></button></div>
					<div class="sheet-no"><input type="text" name="attr_lois0_number" value="" class="sheet-tac" /></div>
					<div class="sheet-name"><input type="text" name="attr_lois0_tit" value="" class="sheet-tac" /></div>
					<div><input type="text" name="attr_lois0_desc" value="" /></div>
				</div>
			</div>


			<div class="sheet-sub-title" data-i18n="i_e_lois">E 로이스</div>
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-flip"></div>
						<div class="sheet-dic"></div>
						<div data-i18n="i_title">명칭</div>
						<div class="sheet-tim" data-i18n="i_timing">타이밍</div>
						<div class="sheet-spe" data-i18n="i_spec">기능</div>
						<div class="sheet-har" data-i18n="i_difficulty">난이도</div>
						<div class="sheet-target" data-i18n="i_target">대상</div>
						<div class="sheet-dis" data-i18n="i_range">사거리</div>
						<div class="sheet-reu" data-i18n="i_impulse">충동</div>
					</div>
				</div>
				<div class="sheet-tbody">
					<fieldset class="repeating_easyeffect">
						<div class="sheet-table-item">
							<input type="hidden" class="sheet-chk-flip" name="attr_elois_eff_view" value="" />
							<div class="sheet-row">
								<div class="sheet-flip"><input type="checkbox" class="sheet-effect-eff-view" name="attr_elois_eff_view" value="1" /></div>
								<div class="sheet-dic">
									<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{elois_tit}}}{{subtitle=@{i_e_lois}}}{{desc=@{elois_eff}}}{{tim=@{elois_tim}}}{{func=@{elois_spe}}}{{har=@{elois_har}}}{{tar=@{elois_tar}}}{{dis=@{elois_dis}}}{{impulse=@{elois_reu}}}"></button>
								</div>
								<div><input type="text" name="attr_elois_tit" value="" /></div>
								<div class="sheet-tim"><input type="text" name="attr_elois_tim" value="" class="sheet-tac" /></div>
								<div class="sheet-spe"><input type="text" name="attr_elois_spe" value="" class="sheet-tac" /></div>
								<div class="sheet-har"><input type="text" name="attr_elois_har" value="" class="sheet-tac" /></div>
								<div class="sheet-target"><input type="text" name="attr_elois_tar" value="" class="sheet-tac" /></div>
								<div class="sheet-dis"><input type="text" name="attr_elois_dis" value="" class="sheet-tac" /></div>
								<div class="sheet-reu"><input type="text" name="attr_elois_reu" value="" class="sheet-tac" /></div>
							</div>
							<div class="sheet-flip-item-content"><textarea name="attr_elois_eff" data-i18n-placeholder="i_detail_input"></textarea></div>
						</div>
					</fieldset>
				</div>
			</div>

			<div class="sheet-sub-title" data-i18n="i_lois">로이스</div>
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-titus">T</div>
						<div class="sheet-dic"></div>
						<div class="sheet-rel" data-i18n="i_relation">관계</div>
						<div class="sheet-name" data-i18n="i_title">명칭</div>
						<div class="sheet-emot" data-i18n="i_emotion_positive">긍정적 감정</div>
						<div class="sheet-emot" data-i18n="i_emotion_negative">부정적 감정</div>
						<div data-i18n="i_descript">설명</div>
						
					</div>
				</div>
				<div class="sheet-tbody">
					<div class="sheet-row sheet-fixed">
						<div class="sheet-titus"><input type="checkbox" name="attr_lois1_use" value="1" /></div>
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{lois1_tit}}}{{subtitle=@{i_titas}}}{{emotion=@{lois1_emot_good}}}{{emotion2=@{lois1_emot_bad}}}{{rel=@{lois1_rel}}}{{desc=@{lois1_desc}}}{{function=[[?{@{i_effect_txt}|@{i_titas_action_0},0|@{i_titas_action_1},1|@{i_titas_action_2},2|@{i_titas_action_3},3|@{i_titas_action_4},4}]]}}{{roll1d10=[[1d10]]}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_lois1_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_lois1_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois1_emot_good_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois1_emot_good" value="" class="sheet-tac"/>
							</div>
						</div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois1_emot_bad_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois1_emot_bad" value="" class="sheet-tac"/>
							</div>
						</div>
						<div>
							<input type="text" name="attr_lois1_desc" value="" />
						</div>
						
					</div>
					<div class="sheet-row sheet-fixed">
						<div class="sheet-titus"><input type="checkbox" name="attr_lois2_use" value="1" /></div>
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{lois2_tit}}}{{subtitle=@{i_titas}}}{{emotion=@{lois2_emot_good}}}{{emotion2=@{lois2_emot_bad}}}{{rel=@{lois2_rel}}}{{desc=@{lois2_desc}}}{{function=[[?{@{i_effect_txt}|@{i_titas_action_0},0|@{i_titas_action_1},1|@{i_titas_action_2},2|@{i_titas_action_3},3|@{i_titas_action_4},4}]]}}{{roll1d10=[[1d10]]}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_lois2_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_lois2_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois2_emot_good_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois2_emot_good" value="" class="sheet-tac"/>
							</div>
						</div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois2_emot_bad_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois2_emot_bad" value="" class="sheet-tac"/>
							</div>
						</div>
						<div>
							<input type="text" name="attr_lois2_desc" value="" />
						</div>
						
					</div>
					<div class="sheet-row sheet-fixed">
						<div class="sheet-titus"><input type="checkbox" name="attr_lois3_use" value="1" /></div>
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{lois3_tit}}}{{subtitle=@{i_titas}}}{{emotion=@{lois3_emot_good}}}{{emotion2=@{lois3_emot_bad}}}{{rel=@{lois3_rel}}}{{desc=@{lois3_desc}}}{{function=[[?{@{i_effect_txt}|@{i_titas_action_0},0|@{i_titas_action_1},1|@{i_titas_action_2},2|@{i_titas_action_3},3|@{i_titas_action_4},4}]]}}{{roll1d10=[[1d10]]}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_lois3_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_lois3_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois3_emot_good_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois3_emot_good" value="" class="sheet-tac"/>
							</div>
						</div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois3_emot_bad_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois3_emot_bad" value="" class="sheet-tac"/>
							</div>
						</div>
						<div>
							<input type="text" name="attr_lois3_desc" value="" />
						</div>
						
					</div>

					<div class="sheet-fixed-line"></div>

					<div class="sheet-row">
						<div class="sheet-titus"><input type="checkbox" name="attr_lois4_use" value="1" /></div>
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{lois4_tit}}}{{subtitle=@{i_titas}}}{{emotion=@{lois4_emot_good}}}{{emotion2=@{lois4_emot_bad}}}{{rel=@{lois4_rel}}}{{desc=@{lois4_desc}}}{{function=[[?{@{i_effect_txt}|@{i_titas_action_0},0|@{i_titas_action_1},1|@{i_titas_action_2},2|@{i_titas_action_3},3|@{i_titas_action_4},4}]]}}{{roll1d10=[[1d10]]}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_lois4_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_lois4_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois4_emot_good_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois4_emot_good" value="" class="sheet-tac"/>
							</div>
						</div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois4_emot_bad_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois4_emot_bad" value="" class="sheet-tac"/>
							</div>
						</div>
						<div>
							<input type="text" name="attr_lois4_desc" value="" />
						</div>
						
					</div>
					<div class="sheet-row">
						<div class="sheet-titus"><input type="checkbox" name="attr_lois5_use" value="1" /></div>
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{lois5_tit}}}{{subtitle=@{i_titas}}}{{emotion=@{lois5_emot_good}}}{{emotion2=@{lois5_emot_bad}}}{{rel=@{lois5_rel}}}{{desc=@{lois5_desc}}}{{function=[[?{@{i_effect_txt}|@{i_titas_action_0},0|@{i_titas_action_1},1|@{i_titas_action_2},2|@{i_titas_action_3},3|@{i_titas_action_4},4}]]}}{{roll1d10=[[1d10]]}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_lois5_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_lois5_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois5_emot_good_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois5_emot_good" value="" class="sheet-tac"/>
							</div>
						</div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois5_emot_bad_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois5_emot_bad" value="" class="sheet-tac"/>
							</div>
						</div>
						<div>
							<input type="text" name="attr_lois5_desc" value="" />
						</div>
						
					</div>
					<div class="sheet-row">
						<div class="sheet-titus"><input type="checkbox" name="attr_lois6_use" value="1" /></div>
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{lois6_tit}}}{{subtitle=@{i_titas}}}{{emotion=@{lois6_emot_good}}}{{emotion2=@{lois6_emot_bad}}}{{rel=@{lois6_rel}}}{{desc=@{lois6_desc}}}{{function=[[?{@{i_effect_txt}|@{i_titas_action_0},0|@{i_titas_action_1},1|@{i_titas_action_2},2|@{i_titas_action_3},3|@{i_titas_action_4},4}]]}}{{roll1d10=[[1d10]]}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_lois6_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_lois6_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois6_emot_good_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois6_emot_good" value="" class="sheet-tac"/>
							</div>
						</div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois6_emot_bad_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois6_emot_bad" value="" class="sheet-tac"/>
							</div>
						</div>
						<div>
							<input type="text" name="attr_lois6_desc" value="" />
						</div>
					</div>
					<div class="sheet-row">
						<div class="sheet-titus"><input type="checkbox" name="attr_lois7_use" value="1" /></div>
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{lois7_tit}}}{{subtitle=@{i_titas}}}{{emotion=@{lois7_emot_good}}}{{emotion2=@{lois7_emot_bad}}}{{rel=@{lois7_rel}}}{{desc=@{lois7_desc}}}{{function=[[?{@{i_effect_txt}|@{i_titas_action_0},0|@{i_titas_action_1},1|@{i_titas_action_2},2|@{i_titas_action_3},3|@{i_titas_action_4},4}]]}}{{roll1d10=[[1d10]]}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_lois7_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_lois7_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois7_emot_good_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois7_emot_good" value="" class="sheet-tac"/>
							</div>
						</div>
						<div class="sheet-emot">
							<div>
								<input type="checkbox" name="attr_lois7_emot_bad_check" value="1" />
								<span></span>
								<input type="text" name="attr_lois7_emot_bad" value="" class="sheet-tac"/>
							</div>
						</div>
						<div>
							<input type="text" name="attr_lois7_desc" value="" />
						</div>
						
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="sheet-data-section">
		<input type="hidden" name="attr_chk_flip_state_memory" class="sheet-chk-flip-state" value=""/>
		<div class="sheet-flip-title">
			<input type="checkbox" name="attr_chk_flip_state_memory" value="1" />
			<strong data-i18n="i_memory">메모리</strong>
		</div>
		<div class="sheet-flip-content">
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-dic"></div>
						<div class="sheet-rel" data-i18n="i_relation">관계</div>
						<div class="sheet-name" data-i18n="i_title">명칭</div>
						<div class="sheet-emot" data-i18n="i_emotion">감정</div>
						<div data-i18n="i_descript">설명</div>
					</div>
				</div>
				<div class="sheet-tbody">
					<div class="sheet-row">
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name} {{title=@{memory1_tit}}}{{subtitle=@{memory1_rel} | @{memory1_emot}}}{{desc=@{memory1_desc}}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_memory1_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_memory1_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot"><input type="text" name="attr_memory1_emot" value="" class="sheet-tac"/></div>
						<div><input type="text" name="attr_memory1_desc" value="" /></div>
					</div>
					<div class="sheet-row">
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name} {{title=@{memory2_tit}}}{{subtitle=@{memory2_rel} | @{memory2_emot}}}{{desc=@{memory2_desc}}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_memory2_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_memory2_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot"><input type="text" name="attr_memory2_emot" value="" class="sheet-tac"/></div>
						<div><input type="text" name="attr_memory2_desc" value="" /></div>
					</div>
					<div class="sheet-row">
						<div class="sheet-dic">
							<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name} {{title=@{memory3_tit}}}{{subtitle=@{memory3_rel} | @{memory3_emot}}}{{desc=@{memory3_desc}}}"></button>
						</div>
						<div class="sheet-rel"><input type="text" name="attr_memory3_rel" value="" class="sheet-tac"/></div>
						<div class="sheet-name"><input type="text" name="attr_memory3_tit" value="" class="sheet-tac"/></div>
						<div class="sheet-emot"><input type="text" name="attr_memory3_emot" value="" class="sheet-tac"/></div>
						<div><input type="text" name="attr_memory3_desc" value="" /></div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="sheet-data-section">
		<input type="hidden" name="attr_chk_flip_state_effect" class="sheet-chk-flip-state" value="" />
		<div class="sheet-flip-title">
			<input type="checkbox" name="attr_chk_flip_state_effect" value="1" />
			<strong data-i18n="i_effect">이펙트</strong>
		</div>
		<div class="sheet-flip-content">
			<div class="sheet-sub-title" data-i18n="i_effect">이펙트</div>
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-flip"></div>
						<div class="sheet-dic"></div>
						<div data-i18n="i_title">명칭</div>
						<div class="sheet-lv">Lv</div>
						<div class="sheet-tim" data-i18n="i_timing">타이밍</div>
						<div class="sheet-spe" data-i18n="i_spec">기능</div>
						<div class="sheet-har" data-i18n="i_difficulty">난이도</div>
						<div class="sheet-target" data-i18n="i_target">대상</div>
						<div class="sheet-dis" data-i18n="i_range">사거리</div>
						<div class="sheet-reu" data-i18n="i_reduction">침식치</div>
						<div class="sheet-lim" data-i18n="i_limit">제한</div>
					</div>
				</div>
				<div class="sheet-tbody sheet-txt-small">
					<div class="sheet-table-item sheet-fixed">
						<input type="hidden" class="sheet-chk-flip" name="attr_effect_fix01_eff_view" value="" />
						<div class="sheet-row">
							<div class="sheet-flip"><input type="checkbox" class="sheet-effect-eff-view" name="attr_effect_fix01_eff_view" value="1" /></div>
							<div class="sheet-dic">
								<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{i_base_effect_01_tit}}}{{desc=@{i_base_effect_01_eff}}}{{f_lv=[[@{effect_fix01_lv}+@{effect_level}]]}}{{f_tim=@{i_base_effect_01_tim}}}{{f_func=@{effect_fix01_spe}}}{{f_har=@{effect_fix01_har}}}{{f_tar=@{i_base_effect_01_tar}}}{{f_dis=@{i_base_effect_01_dis}}}{{f_reu=@{i_base_effect_01_reu}}}{{f_lim=@{effect_fix01_lim}}}{{fixed01_dice=[[(@{effect_fix01_lv}+@{effect_level})d10]]}}"></button>
							</div>
							<div><input type="text" name="attr_effect_fix01_tit" data-i18n-placeholder="i_base_effect_01_tit" value="" disabled/></div>
							<div class="sheet-lv">
								<input type="number" name="attr_effect_fix01_lv" value="1" placeholder="0" class="sheet-tac"/>
								<span class="sheet-dash">/</span>
								<input type="number" name="attr_effect_fix01_lv_max" value="3" placeholder="0" class="sheet-tac sheet-max"/>
							</div>
							<div class="sheet-tim"><input type="text" name="attr_effect_fix01_tim" data-i18n-placeholder="i_base_effect_01_tim" value="" disabled class="sheet-tac"/></div>
							<div class="sheet-spe"><input type="text" name="attr_effect_fix01_spe" value="-" class="sheet-tac" readonly/></div>
							<div class="sheet-har"><input type="text" name="attr_effect_fix01_har" value="-" class="sheet-tac" readonly/></div>
							<div class="sheet-target"><input type="text" name="attr_effect_fix01_tar" data-i18n-placeholder="i_base_effect_01_tar" value="" class="sheet-tac" disabled/></div>
							<div class="sheet-dis"><input type="text" name="attr_effect_fix01_dis" data-i18n-placeholder="i_base_effect_01_dis" value="" class="sheet-tac" disabled/></div>
							<div class="sheet-reu"><input type="text" name="attr_effect_fix01_reu" data-i18n-placeholder="i_base_effect_01_reu" value="" class="sheet-tac" disabled/></div>
							<div class="sheet-lim"><input type="text" name="attr_effect_fix01_lim" value="-" class="sheet-tac" /></div>
						</div>
						<div class="sheet-flip-item-content"><textarea name="attr_effect_fix01_eff" data-i18n-placeholder="i_base_effect_01_eff" disabled></textarea></div>
					</div>

					<div class="sheet-table-item sheet-fixed">
						<input type="hidden" class="sheet-chk-flip" name="attr_effect_fix02_eff_view" value="" />
						<div class="sheet-row">
							<div class="sheet-flip"><input type="checkbox" class="sheet-effect-eff-view" name="attr_effect_fix02_eff_view" value="1" /></div>
							<div class="sheet-dic">
								<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{i_base_effect_02_tit}}}{{desc=@{i_base_effect_02_eff}}}{{lv=[[@{effect_fix02_lv}+@{effect_level}]]}}{{tim=@{i_base_effect_02_tim}}}{{f_func=@{effect_fix02_spe}}}{{har=@{i_base_effect_02_har}}}{{tar=@{i_base_effect_02_tar}}}{{dis=@{i_base_effect_02_dis}}}{{reu=@{effect_fix02_reu}}}{{lim=@{effect_fix02_lim}}}"></button>
							</div>
							<div><input type="text" name="attr_effect_fix02_tit" data-i18n-placeholder="i_base_effect_02_tit" value="" disabled/></div>
							<div class="sheet-lv">
								<input type="number" name="attr_effect_fix02_lv" value="1" placeholder="0" class="sheet-tac"/>
								<span class="sheet-dash">/</span>
								<input type="number" name="attr_effect_fix02_lv_max" value="1" placeholder="0" class="sheet-tac sheet-max"/>
							</div>
							<div class="sheet-tim"><input type="text" name="attr_effect_fix02_tim" data-i18n-placeholder="i_base_effect_02_tim" value="" disabled class="sheet-tac"/></div>
							<div class="sheet-spe"><input type="text" name="attr_effect_fix02_spe" value="-" class="sheet-tac" readonly/></div>
							<div class="sheet-har"><input type="text" name="attr_effect_fix02_har" data-i18n-placeholder="i_base_effect_02_har" value="" disabled class="sheet-tac"/></div>
							<div class="sheet-target"><input type="text" name="attr_effect_fix02_tar" data-i18n-placeholder="i_base_effect_02_tar" value="" disabled class="sheet-tac"/></div>
							<div class="sheet-dis"><input type="text" name="attr_effect_fix02_dis" data-i18n-placeholder="i_base_effect_02_dis" value="" disabled class="sheet-tac"/></div>
							<div class="sheet-reu"><input type="text" name="attr_effect_fix02_reu" value="0" class="sheet-tac" readonly placeholder="0"/></div>
							<div class="sheet-lim"><input type="text" name="attr_effect_fix02_lim" value="-" class="sheet-tac" /></div>
						</div>
						<div class="sheet-flip-item-content"><textarea name="attr_effect_fix02_eff" data-i18n-placeholder="i_base_effect_02_eff" disabled></textarea></div>
					</div>

					<div class="sheet-fixed-line"></div>

					<fieldset class="repeating_effect">
						<div class="sheet-table-item">
							<input type="hidden" class="sheet-chk-flip" name="attr_effect_repeeat_eff_view" value="" />
							<div class="sheet-row">
								<div class="sheet-flip"><input type="checkbox" class="sheet-effect-eff-view" name="attr_effect_repeeat_eff_view" value="1" /></div>
								<div class="sheet-dic">
									<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{effect_repeeat_tit}}}{{desc=@{effect_repeeat_eff}}}{{lv=[[@{effect_repeeat_lv}+@{effect_level}]]}}{{tim=@{effect_repeeat_tim}}}{{func=@{effect_repeeat_spe}}}{{har=@{effect_repeeat_har}}}{{tar=@{effect_repeeat_tar}}}{{dis=@{effect_repeeat_dis}}}{{reu=@{effect_repeeat_reu}}}{{lim=@{effect_repeeat_lim}}}"></button>
								</div>
								<div><input type="text" name="attr_effect_repeeat_tit" value="" /></div>
								<div class="sheet-lv">
									<input type="number" name="attr_effect_repeeat_lv" value="0" placeholder="0" class="sheet-tac sheet-now"/>
									<span class="sheet-dash">/</span>
									<input type="number" name="attr_effect_repeeat_lv_max" value="0" placeholder="0" class="sheet-tac sheet-total"/>
								</div>
								<div class="sheet-tim"><input type="text" name="attr_effect_repeeat_tim" value="" class="sheet-tac"/></div>
								<div class="sheet-spe"><input type="text" name="attr_effect_repeeat_spe" value="" class="sheet-tac"/></div>
								<div class="sheet-har"><input type="text" name="attr_effect_repeeat_har" value="" class="sheet-tac"/></div>
								<div class="sheet-target"><input type="text" name="attr_effect_repeeat_tar" value="" class="sheet-tac"/></div>
								<div class="sheet-dis"><input type="text" name="attr_effect_repeeat_dis" value="" class="sheet-tac"/></div>
								<div class="sheet-reu"><input type="text" name="attr_effect_repeeat_reu" value="" class="sheet-tac" placeholder="0"/></div>
								<div class="sheet-lim"><input type="text" name="attr_effect_repeeat_lim" value="" class="sheet-tac" /></div>
							</div>
							<div class="sheet-flip-item-content"><textarea name="attr_effect_repeeat_eff" data-i18n-placeholder="i_detail_input"></textarea></div>
						</div>
					</fieldset>
				</div>
			</div>

			<div class="sheet-sub-title" data-i18n="i_easy_effect">이지 이펙트</div>
			<div class="sheet-flip-sub-content">
				<div class="sheet-table">
					<div class="sheet-thead">
						<div class="sheet-row">
							<div class="sheet-flip"></div>
							<div class="sheet-dic"></div>
							<div data-i18n="i_title">명칭</div>
							<div class="sheet-lv">Lv</div>
							<div class="sheet-tim" data-i18n="i_timing">타이밍</div>
							<div class="sheet-spe" data-i18n="i_spec">기능</div>
							<div class="sheet-har" data-i18n="i_difficulty">난이도</div>
							<div class="sheet-target" data-i18n="i_target">대상</div>
							<div class="sheet-dis" data-i18n="i_range">사거리</div>
							<div class="sheet-reu" data-i18n="i_reduction">침식치</div>
							<div class="sheet-lim" data-i18n="i_limit">제한</div>
						</div>
					</div>
					<div class="sheet-tbody sheet-txt-small">
						<fieldset class="repeating_easyeffect">
							<div class="sheet-table-item">
								<input type="hidden" class="sheet-chk-flip" name="attr_easy_effect_repeat_eff_view" value="" />
								<div class="sheet-row">
									<div class="sheet-flip"><input type="checkbox" class="sheet-effect-eff-view" name="attr_easy_effect_repeat_eff_view" value="1" /></div>
									<div class="sheet-dic">
										<button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{easy_effect_repeat_tit}}}{{subtitle=@{i_easy_effect}}}{{desc=@{easy_effect_repeat_eff}}}{{lv=[[@{easy_effect_repeat_lv}+@{effect_level}]]}}{{tim=@{easy_effect_repeat_tim}}}{{func=@{easy_effect_repeat_spe}}}{{har=@{easy_effect_repeat_har}}}{{tar=@{easy_effect_repeat_tar}}}{{dis=@{easy_effect_repeat_dis}}}{{reu=@{easy_effect_repeat_reu}}}{{lim=@{easy_effect_repeat_lim}}}"></button>
									</div>
									<div><input type="text" name="attr_easy_effect_repeat_tit" value="" /></div>
									<div class="sheet-lv">
										<input type="number" name="attr_easy_effect_repeat_lv" value="0" placeholder="0" class="sheet-tac sheet-now"/>
										<span class="sheet-dash">/</span>
										<input type="number" name="attr_easy_effect_repeat_lv_max" value="0" placeholder="0" class="sheet-tac sheet-total"/>
									</div>
									<div class="sheet-tim"><input type="text" name="attr_easy_effect_repeat_tim" value="" class="sheet-tac" /></div>
									<div class="sheet-spe"><input type="text" name="attr_easy_effect_repeat_spe" value="" class="sheet-tac" /></div>
									<div class="sheet-har"><input type="text" name="attr_easy_effect_repeat_har" value="" class="sheet-tac" /></div>
									<div class="sheet-target"><input type="text" name="attr_easy_effect_repeat_tar" value="" class="sheet-tac" /></div>
									<div class="sheet-dis"><input type="text" name="attr_easy_effect_repeat_dis" value="" class="sheet-tac" /></div>
									<div class="sheet-reu"><input type="text" name="attr_easy_effect_repeat_reu" value="" class="sheet-tac"  placeholder="0"/></div>
									<div class="sheet-lim"><input type="text" name="attr_easy_effect_repeat_lim" value="" class="sheet-tac" /></div>
								</div>
								<div class="sheet-flip-item-content"><textarea name="attr_easy_effect_repeat_eff" data-i18n-placeholder="i_detail_input"></textarea></div>
							</div>
						</fieldset>
					</div>
				</div>
			</div>
		</div>
	</div>

	<div class="sheet-data-section">
		<input type="hidden" name="attr_chk_flip_state_combo" class="sheet-chk-flip-state" value=""/>
		<div class="sheet-flip-title">
			<input type="checkbox" name="attr_chk_flip_state_combo" value="1" />
			<strong data-i18n="i_combo">콤보</strong>
		</div>
		<div class="sheet-flip-content">
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-flip"></div>
						<div class="sheet-dic"></div>
						<div data-i18n="i_title">명칭</div>
						<div data-i18n="i_timing" class="sheet-tim">타이밍</div>
						<div data-i18n="i_spec" class="sheet-spe">기능</div>
						<div data-i18n="i_difficulty" class="sheet-har">난이도</div>
						<div data-i18n="i_target" class="sheet-target">대상</div>
						<div data-i18n="i_range" class="sheet-dis">사거리</div>
						<div data-i18n="i_reduction" class="sheet-reu">침식치</div>
						<div data-i18n="i_limit" class="sheet-lim">제한</div>
						<div data-i18n="i_attack" class="sheet-attack">공격력</div>
					</div>
				</div>
				<div class="sheet-tbody sheet-txt-small">
					<fieldset class="repeating_combo">
						<div class="sheet-table-item">
							<input type="hidden" class="sheet-chk-flip" name="attr_combo_eff_view" value="" />
							<div class="sheet-row sheet-row-side">
								<div class="sheet-flip"><input type="checkbox" class="sheet-effect-eff-view" name="attr_combo_eff_view" value="1" /></div>
								<div class="sheet-dic">
									<button type="action" class="sheet-dice" name="act_diceroll" value="&{template:Dx3Dice} @{template_name} {{title=@{rowid-combo_tit}}} {{dxroll=[[@{rowid-combo_dice}dx@{rowid-combo_dice_ciri}+@{rowid-combo_dice_mod}]]}} {{tim=@{rowid-combo_tim}}} {{func=@{rowid-combo_spe}}} {{har=@{rowid-combo_har}}} {{tar=@{rowid-combo_tar}}} {{dis=@{rowid-combo_dis}}} {{reu=@{rowid-combo_reu}}} {{limit=@{rowid-combo_limit}}} {{attack=@{rowid-combo_attack}}} {{material=@{rowid-combo_material}}} {{effect=@{rowid-combo_eff}}}"></button>
								</div>
								<div><input type="text" name="attr_combo_tit" value="" /></div>
								<div class="sheet-tim"><input type="text" name="attr_combo_tim" value="" class="sheet-tac"/></div>
								<div class="sheet-spe"><input type="text" name="attr_combo_spe" value="" class="sheet-tac"/></div>
								<div class="sheet-har"><input type="text" name="attr_combo_har" value="" class="sheet-tac"/></div>
								<div class="sheet-target"><input type="text" name="attr_combo_tar" value="" class="sheet-tac"/></div>
								<div class="sheet-dis"><input type="text" name="attr_combo_dis" value="" class="sheet-tac"/></div>
								<div class="sheet-reu"><input type="text" name="attr_combo_reu" value="" class="sheet-tac" placeholder="0"/></div>
								<div class="sheet-lim"><input type="text" name="attr_combo_limit" value="" class="sheet-tac" /></div>
								<div class="sheet-attack"><input type="text" name="attr_combo_attack" value="" class="sheet-tac" /></div>
							</div>
							<div class="sheet-row-side">
								<div class="sheet-th" data-i18n="i_dice_txt">다이스</div>
								<div class="sheet-custom">
									<input type="hidden" name="attr_combo_dice" value="(@{combo_dice_count}+@{add_dice})" disabled="true" readonly/>
									<input type="number" name="attr_combo_dice_count" value="0" placeholder="0" class="sheet-tac sheet-modify" title="다이스 갯수">
									<span>dx</span>
									<input type="number" name="attr_combo_dice_ciri" value="10" placeholder="10" class="sheet-tac sheet-modify" />
									<span>+</span>
									<input type="number" name="attr_combo_dice_mod" value="0" placeholder="0" class="sheet-tac sheet-modify"/>
								</div>
							</div>

							<div class="sheet-flip-item-content">
								<input type="text" name="attr_combo_material" value=""  data-i18n-placeholder="i_material_effect"/>
								<textarea name="attr_combo_eff" data-i18n-placeholder="i_detail_input"></textarea>
							</div>
						</div>
					</fieldset>
				</div>
			</div>
		</div>
	</div>

	<div class="sheet-data-section">
		<input type="hidden" name="attr_chk_flip_state_item" class="sheet-chk-flip-state" value="" />
		<div class="sheet-flip-title">
			<input type="checkbox" name="attr_chk_flip_state_item" value="1" />
			<strong data-i18n="i_item">아이템</strong>
		</div>
		<div class="sheet-flip-content">
			<div class="sheet-sub-title" data-i18n="i_weapon">무기</div>
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-dic"></div>
						<div class="sheet-name" data-i18n="i_title">명칭</div>
						<div class="sheet-cate" data-i18n="i_kind">종류</div>
						<div class="sheet-spe" data-i18n="i_spec">기능</div>
						<div class="sheet-mark" data-i18n="i_mark">명중</div>
						<div class="sheet-dam" data-i18n="i_damage">공격</div>
						<div class="sheet-def" data-i18n="i_guard">장갑치</div>
						<div class="sheet-dist" data-i18n="i_range">사거리</div>
						<div class="sheet-cost" data-i18n="i_money">상비화</div>
						<div class="sheet-exp" data-i18n="i_exp">경험점</div>
						<div data-i18n="i_explanation">해설</div>
					</div>
				</div>
				<div class="sheet-tbody">
					<fieldset class="repeating_weapon">
						<div class="sheet-row">
							<div class="sheet-dic"><button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{weapon_repeat_tit}}}{{subtitle=@{weapon_repeat_cate}}}{{desc=@{weapon_repeat_com}}}{{func=@{weapon_repeat_spe}}}{{mark=@{weapon_repeat_mark}}}{{dam=@{weapon_repeat_dam}}}{{def=@{weapon_repeat_def}}}{{dist=@{weapon_repeat_dist}}}"></button></div>
							<div class="sheet-name"><input type="text" name="attr_weapon_repeat_tit" value="" /></div>
							<div class="sheet-cate"><input type="text" name="attr_weapon_repeat_cate" value="" class="sheet-tac"/></div>
							<div class="sheet-spe"><input type="text" name="attr_weapon_repeat_spe" value="" class="sheet-tac"/></div>
							<div class="sheet-mark"><input type="text" name="attr_weapon_repeat_mark" value="" class="sheet-tac"/></div>
							<div class="sheet-dam"><input type="text" name="attr_weapon_repeat_dam" value="" class="sheet-tac" placeholder="0"/></div>
							<div class="sheet-def"><input type="text" name="attr_weapon_repeat_def" value="" class="sheet-tac" placeholder="0"/></div>
							<div class="sheet-dist"><input type="text" name="attr_weapon_repeat_dist" value="" class="sheet-tac" placeholder="0"/></div>
							<div class="sheet-cost"><input type="text" name="attr_weapon_repeat_cost" value="" class="sheet-tac" placeholder="0"/></div>
							<div class="sheet-exp"><input type="text" name="attr_weapon_repeat_exp" value="" class="sheet-tac" placeholder="0"/></div>
							<div><input type="text" name="attr_weapon_repeat_com" value="" /></div>
						</div>
					</fieldset>
				</div>
			</div>

			<div class="sheet-sub-title" data-i18n="i_defen">방어구</div>
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-dic"></div>
						<div class="sheet-name" data-i18n="i_title">명칭</div>
						<div class="sheet-cate" data-i18n="i_kind">종류</div>
						<div class="sheet-dot" data-i18n="i_dodge">회피</div>
						<div class="sheet-act" data-i18n="i_act">행동</div>
						<div class="sheet-def" data-i18n="i_guard">방어</div>
						<div class="sheet-cost" data-i18n="i_money">상비화</div>
						<div class="sheet-exp" data-i18n="i_exp">경험점</div>
						<div data-i18n="i_explanation">해설</div>
					</div>
				</div>
				<div class="sheet-tbody">
					<fieldset class="repeating_defen">
						<div class="sheet-row">
							<div class="sheet-dic"><button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{defen_repeat_tit}}}{{subtitle=@{defen_repeat_cate}}}{{desc=@{defen_repeat_com}}}{{dot=@{defen_repeat_dot}}}{{act=@{defen_repeat_act}}}{{amo=@{defen_repeat_def}}}"></button></div>
							<div class="sheet-name"><input type="text" name="attr_defen_repeat_tit" value="" class="sheet-tac"/></div>
							<div class="sheet-cate"><input type="text" name="attr_defen_repeat_cate" value="" class="sheet-tac"/></div>
							<div class="sheet-dot"><input type="text" name="attr_defen_repeat_dot" value="" class="sheet-tac"/></div>
							<div class="sheet-act"><input type="text" name="attr_defen_repeat_act" value="" class="sheet-tac"/></div>
							<div class="sheet-def"><input type="text" name="attr_defen_repeat_def" value="" class="sheet-tac" placeholder="0"/></div>
							<div class="sheet-cost"><input type="text" name="attr_defen_repeat_cost" value="" class="sheet-tac" placeholder="0"/></div>
							<div class="sheet-exp"><input type="text" name="attr_defen_repeat_exp" value="" class="sheet-tac" placeholder="0"/></div>
							<div><input type="text" name="attr_defen_repeat_com" value="" /></div>
						</div>
					</fieldset>
				</div>
			</div>


			<div class="sheet-sub-title" data-i18n="i_disposable_item">일회성 아이템</div>
			<div class="sheet-table">
				<div class="sheet-thead">
					<div class="sheet-row">
						<div class="sheet-dic"></div>
						<div class="sheet-name" data-i18n="i_title">명칭</div>
						<div class="sheet-cate" data-i18n="i_kind">종류</div>
						<div class="sheet-spe" data-i18n="i_spec">기능</div>
						<div class="sheet-cost" data-i18n="i_money">상비화</div>
						<div class="sheet-exp" data-i18n="i_exp">경험점</div>
						<div data-i18n="i_explanation">해설</div>
					</div>
				</div>
				<div class="sheet-tbody">
					<fieldset class="repeating_defen">
						<div class="sheet-row">
							<div class="sheet-dic"><button type="roll" class="sheet-dice" value="&{template:Dx3Dice} @{template_name}{{title=@{item_repeat_tit}}}{{subtitle=@{item_repeat_cate}}}{{desc=@{item_repeat_com}}}{{func=@{item_repeat_func}}}"></button></div>
							<div class="sheet-name"><input type="text" name="attr_item_repeat_tit" value="" class="sheet-tac"/></div>
							<div class="sheet-cate"><input type="text" name="attr_item_repeat_cate" value="" class="sheet-tac"/></div>
							<div class="sheet-spe"><input type="text" name="attr_item_repeat_func" value="" class="sheet-tac"/></div>
							<div class="sheet-cost"><input type="text" name="attr_item_repeat_cost" value="" class="sheet-tac" placeholder="0"/></div>
							<div class="sheet-exp"><input type="text" name="attr_item_repeat_exp" value="" class="sheet-tac" placeholder="0"/></div>
							<div><input type="text" name="attr_item_repeat_com" value="" /></div>
						</div>
					</fieldset>
				</div>
			</div>

		</div>
	</div>

	<div class="sheet-data-section">
		<input type="hidden" name="attr_chk_flip_state_memo" class="sheet-chk-flip-state" value="" />
		<div class="sheet-flip-title">
			<input type="checkbox" name="attr_chk_flip_state_memo" value="1" />
			<strong data-i18n="i_memo">메모</strong>
		</div>
		<div class="sheet-flip-content">
			<textarea name="attr_memo" class="sheet-memo"></textarea>
		</div>
	</div>

	<div class="sheet-copyright">ダブルクロス UNOFFICIAL Character Sheet. Resource Design by F.E.A.R & Resource Make by @Dansak & Sheet by. @Tateck</div>
</div>

<!-- 스크립트 작업 -->

<script type="text/worker">
	function getreduction_effect(type) {
		var data = {0:0,1:0}; // 1 - 다이스 / 2 - 이펙트 레벨

		if(type >= 60) { // 침식치 60 이상
			data[0] = 1;
		}
		if(type >= 80) { // 침식치 80 이상
			data[0] = 2;
		}
		if(type >= 100) { // 침식치 100 이상
			data[0] = 3;
			data[1] = 1;
		}
		if(type >= 130) { // 침식치 130 이상
			data[0] = 4;
		}
		if(type >= 160) { // 침식치 160 이상
			data[1] = 2;
		}
		if(type >= 190) { // 침식치 190 이상
			data[0] = 5;
		}
		if(type >= 220) { // 침식치 220 이상
			data[1] = 3;
		}
		if(type >= 260) { // 침식치 260 이상
			data[0] = 6;
		}
		if(type >= 300) { // 침식치 300 이상
			data[0] = 7;
		}

		return data;
	}

	function dx(triggermsg) {
		//var varcou = 0;
		var finallynum = 0;
		var returnStr = '';
		var returnFinall = 0;

		// 괄호안의 문자 추출하기 : 사전 계산 필요
		let temp_nm = triggermsg.match(/\(.*\)/gi);
		if(temp_nm === undefined || temp_nm === null) {} else {
			temp_nm += "";
			let trans_num = eval(temp_nm);
			triggermsg = triggermsg.replace(temp_nm, trans_num);
		}

		var match = /^(\d+)(dx)(\d+|)(((\+|-)(\d+)|)((\+|-)(\d+)|))$/i.exec(triggermsg); //Algorithm [0]2dx8-2+10,[1]2,[2]dx,[3]8,[4]-2+10,[5]-2,[6]-,[7]2,[8]+10,[9]+,[10]10 
		if(match === undefined || match === null || match.length < 5) {
			return 0;
		}
		if (match[3] == "" || match[3] == "0") { match[3] = 10 }
		if (match[3] < 2) {match[3]=2;}

		for (var round = 1; round > 0; round--) {
			[match, round, returnStr, finallynum] = dxroll(match, round, returnStr, finallynum);
		}
		//returnStr = returnStr.replace(/[,][ ]+]/ig, ']');
		if (match[6] == '+') {
			for (var i = 0; i < Number(match[7]); i++) {
				finallynum++;
			}
		}
		if (match[6] == '-') {
			for (var i = 0; i < Number(match[7]); i++) {
				finallynum--;
			}
		}
		if (match[9] == '+') {
			for (var i = 0; i < Number(match[10]); i++) {
				finallynum++;
			}
		}
		
		if (match[9] == '-') {
			for (var i = 0; i < Number(match[10]); i++) {
				finallynum--;
			}
		}
		
		// 최종 텍스트 출력 부분
		//returnStr += match[4] + ' → ' + finallynum;
		var add_tag = "";
		if(match[4]) {
			let temp_04 = 0;
			eval("temp_04 = "+match[4]);
			temp_04 = temp_04 > 0 ? "+" + temp_04 : temp_04;
			console.log(match[4] + " / " + temp_04);
			var add_tag = "〔"+temp_04+"〕";
		}
		
		returnStr = returnStr + add_tag;
		returnFinall = finallynum;

		var result = [returnFinall, returnStr, triggermsg];
		return result;
	}

	function dxroll(match, round, returnStr, finallynum) {
		var result = 0;
		var rollnum = match[1];
		match[1] = 0;
		var varcou = "";
		var varsu = "";
		var varsu_add = "";
		for (var i = 0; i < rollnum; i++) {
			varcou = Math.floor(Math.random() * 10) + 1;
			if (varcou > result) { result = varcou }
			if (varcou >= Number(match[3])) {
				result = 10;
				match[1]++;
			}
			varsu += (varsu_add + varcou);
			varsu_add = ", ";
		}
		returnStr += '〔'+ result + ' → ' + varsu + '〕';
		finallynum += Number(result);
		if (match[1] >= 1) {
			round++;
			//returnStr += '+ ';
		}
		return [match, round, returnStr, finallynum];
	}

	// 신드롬 및 웍스 체크 부분 (기본 능력치 / HP / 행동치)
	on("change:syndrome_01 change:syndrome_02 change:syndrome_03", function() {
		getAttrs(["syndrome_01", "syndrome_02", "syndrome_03"], function(values) {
			var type = 0;
			var mod = 1;

			if(values.syndrome_01 > 0) {
				if(type > 0) { mod = 1; /* 크로스 브리드 */ }
				else { mod = 2; /* 퓨어 브리드 */ }
				type ++;
			}
			if(values.syndrome_02 > 0) {
				if(type > 0) { mod = 1; /* 크로스 브리드 */ }
				else { mod = 2; /* 퓨어 브리드 */ }
				type ++;
			}
			if(values.syndrome_03 > 0) {
				if(type > 0) { mod = 1; /* 크로스 브리드*/ }
				else if(type > 1) { mod = 1; /* 트라이 브리드 : 마지막 신드롬은 합산하지 않는다.*/ }
				else { mod = 2; /* 퓨어 브리드 */ }
				type ++;
			}

			setAttrs({chk_syndrome_type:type});
		});
	});

	on("change:reduction change:reduction_max change:base_reduction change:add_reduction", function() {
		getAttrs(["reduction", "reduction_max", "base_reduction", "add_reduction"], function(values) {
			
			// 최종 침식치
			var b_reduction = values.base_reduction * 1;
			var t_reduction = b_reduction + (values.add_reduction *1);
			setAttrs({reduction:t_reduction});
			var chk_reduction = t_reduction > values.reduction_max ? values.reduction_max : t_reduction;
			setAttrs({hide_reduction:chk_reduction});

			// 침식치 별 수정 효과 (이펙트 레벨 및 최종 다이스 효과)
			// -- 이펙트 다이스 효과는 콤보에서만 설정하도록 한다.
			var red_effect = getreduction_effect(t_reduction);
			var add_dice = red_effect[0]; // 판정 다이스 업
			var add_lv = red_effect[1]; // 이펙트 레벨업

			// 1) 이펙트 레벨 합산
			setAttrs({effect_level:add_lv});

			// 2) 추가 다이스
			setAttrs({add_dice:add_dice});

			let max = values.reduction_max;
			let now = values.reduction;
			let pers = (now == 0 || max == 0) ? 0 : now/max*100;
			pers = Math.floor(pers);
			setAttrs({reduction_per: pers});
		});
	});

	on("change:hp change:hp_mod change:hp_total", function() {
		getAttrs(["hp", "hp_max", "hp_total", "hp_mod"], function(values) {
			let mod = values.hp_mod;
			let total = values.hp_total;
			let max = (total*1) + (mod*1);

			let now = values.hp;
			let pers = (now == 0 || max == 0) ? 0 : now/max*100;
			pers = Math.floor(pers);
			setAttrs({hp_per: pers});
			setAttrs({hp_max: max});
		});
	});

	on("change:spec01_base change:spec01_modify change:spec02_base change:spec02_modify change:spec03_base change:spec03_modify change:spec04_base change:spec04_modify ", function() {
		getAttrs(["spec01_base", "spec01_modify", "spec02_base", "spec02_modify", "spec03_base", "spec03_modify", "spec04_base", "spec04_modify", "move_modify"], function(values) {
			let i_spec01 = (values.spec01_base * 1) + (values.spec01_modify * 1);
			let i_spec02 = (values.spec02_base * 1) + (values.spec02_modify * 1);
			let i_spec03 = (values.spec03_base * 1) + (values.spec03_modify * 1);
			let i_spec04 = (values.spec04_base * 1) + (values.spec04_modify * 1);
			let total_spec = i_spec01 + i_spec02 + i_spec03 + i_spec04;

			let i_spec01_per = 100-Math.floor((i_spec01 == 0 || total_spec == 0) ? 0 : i_spec01/total_spec*100);
			let i_spec02_per = 100-Math.floor((i_spec02 == 0 || total_spec == 0) ? 0 : i_spec02/total_spec*100);
			let i_spec03_per = 100-Math.floor((i_spec03 == 0 || total_spec == 0) ? 0 : i_spec03/total_spec*100);
			let i_spec04_per = 100-Math.floor((i_spec04 == 0 || total_spec == 0) ? 0 : i_spec04/total_spec*100);

			setAttrs({spec01_per: i_spec01_per});
			setAttrs({spec02_per: i_spec02_per});
			setAttrs({spec03_per: i_spec03_per});
			setAttrs({spec04_per: i_spec04_per});

			/* HP 설정 (육체 * 2 + 정신 + 20) */
			var t_hp = (i_spec01*2) + i_spec03 + 20;
			setAttrs({hp_total:t_hp});

			/* 행동치 기본 (감각 * 2 + 정신 + 수정치) */
			var t_move = (i_spec02*2) + i_spec03;
			setAttrs({move_default:t_move});

			/* 행동치 최대 (기본 + 수정치) */
			t_move = t_move + (values.move_modify * 1);
			setAttrs({move_max:t_move});

			/* 전투이동 (행동치 최대 + 5) */
			setAttrs({fight_move:(t_move + 5)});

			/* 전력이동 (전투이동 * 2) */
			setAttrs({full_move:(t_move + 5)*2});
		});
	});

	const parseTriggerName = function(string){
		let match = string.replace(/^clicked:/,'').match(/(?:(repeating_[^_]+)_([^_]+)_)?(.+)/);
		match.shift();
		return match;
	};

	on("clicked:diceroll clicked:repeating_skill01:diceroll clicked:repeating_skill02:diceroll  clicked:repeating_skill03:diceroll clicked:repeating_skill04:diceroll clicked:repeating_combo:diceroll", (eventInfo) => {
		let [section,rowID,field] = parseTriggerName(eventInfo.triggerName);
		let templateStr = eventInfo.htmlAttributes.value;

		if (typeof(rowID) != 'undefined') {
			let repeat_idx = section+"_"+rowID+"_";
			templateStr = templateStr.replaceAll('rowid-', repeat_idx);
		}
		templateStr += "{{dice_result=[[0]]}}";
		templateStr += "{{dice_detail=[[0]]}}";
		templateStr += "{{dice_orig=[[0]]}}";

		startRoll(templateStr, (results) => {
			let dx_str = results.results.dxroll.expression;
			let result_comp = {};
			let dice_result = dx(dx_str);

			if(dice_result == 0) { 
				result_comp.dice_result = results.results.dxroll.result;
				result_comp.dice_orig = dx_str;
			} else {
				result_comp.dice_result = dice_result[0];
				result_comp.dice_detail = dice_result[1];
				result_comp.dice_orig = dice_result[2];
			}
			finishRoll(results.rollId,result_comp);
		});
	});

	on("sheet:opened", function(eventInfo){
		setAttrs({i_body:getTranslationByKey("i_body")});
		setAttrs({i_blanche:getTranslationByKey("i_blanche")});
		setAttrs({i_dodge:getTranslationByKey("i_dodge")});
		setAttrs({i_driving:getTranslationByKey("i_driving")});
		
		setAttrs({i_sense:getTranslationByKey("i_sense")});
		setAttrs({i_gunnery:getTranslationByKey("i_gunnery")});
		setAttrs({i_sensory:getTranslationByKey("i_sensory")});
		setAttrs({i_art:getTranslationByKey("i_art")});

		setAttrs({i_mind:getTranslationByKey("i_mind")});
		setAttrs({i_RC:getTranslationByKey("i_RC")});
		setAttrs({i_will:getTranslationByKey("i_will")});
		setAttrs({i_knowledge:getTranslationByKey("i_knowledge")});

		setAttrs({i_social:getTranslationByKey("i_social")});
		setAttrs({i_bargaining:getTranslationByKey("i_bargaining")});
		setAttrs({i_raise:getTranslationByKey("i_raise")});
		setAttrs({i_information:getTranslationByKey("i_information")});

		setAttrs({i_lois:getTranslationByKey("i_lois")});
		setAttrs({i_d_lois:getTranslationByKey("i_d_lois")});
		setAttrs({i_e_lois:getTranslationByKey("i_e_lois")});
		
		setAttrs({i_titas:getTranslationByKey("i_titas")});
		setAttrs({i_effect_txt:getTranslationByKey("i_effect_txt")});
		setAttrs({i_titas_action_0:getTranslationByKey("i_titas_action_0")});
		setAttrs({i_titas_action_1:getTranslationByKey("i_titas_action_1")});
		setAttrs({i_titas_action_2:getTranslationByKey("i_titas_action_2")});
		setAttrs({i_titas_action_3:getTranslationByKey("i_titas_action_3")});
		setAttrs({i_titas_action_4:getTranslationByKey("i_titas_action_4")});
		
		setAttrs({i_base_effect_01_tit:getTranslationByKey("i_base_effect_01_tit")});
		setAttrs({i_base_effect_01_tim:getTranslationByKey("i_base_effect_01_tim")});
		setAttrs({i_base_effect_01_tar:getTranslationByKey("i_base_effect_01_tar")});
		setAttrs({i_base_effect_01_dis:getTranslationByKey("i_base_effect_01_dis")});
		setAttrs({i_base_effect_01_reu:getTranslationByKey("i_base_effect_01_reu")});
		setAttrs({i_base_effect_01_eff:getTranslationByKey("i_base_effect_01_eff")});

		setAttrs({i_base_effect_02_tit:getTranslationByKey("i_base_effect_02_tit")});
		setAttrs({i_base_effect_02_tim:getTranslationByKey("i_base_effect_02_tim")});
		setAttrs({i_base_effect_02_tar:getTranslationByKey("i_base_effect_02_tar")});
		setAttrs({i_base_effect_02_dis:getTranslationByKey("i_base_effect_02_dis")});
		setAttrs({i_base_effect_02_har:getTranslationByKey("i_base_effect_02_har")});
		setAttrs({i_base_effect_02_eff:getTranslationByKey("i_base_effect_02_eff")});

		setAttrs({i_easy_effect:getTranslationByKey("i_easy_effect")});
	});
</script>

<!-- Roll 템플릿 -->
<rolltemplate class="sheet-rolltemplate-Dx3Dice">
	<div class="sheet-template">
		{{#name}}<div class="sheet-chname">{{name}}</div>{{/name}}
		{{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
		{{#^computed::dice_orig}}
			{{#spec}}<div class="sheet-sub-title">{{spec}}</div>{{/spec}}
		{{/^computed::dice_orig}}
		{{#subtitle}}<div class="sheet-sub-title">{{subtitle}}</div>{{/subtitle}}


		{{#computed::dice_result}}
			{{#^rollTotal() computed::dice_result 0}}
				{{#computed::dice_orig}}
					<div class="sheet-sub-title">{{#spec}}{{spec}} | {{/spec}}{{computed::dice_orig}}</div>
				{{/computed::dice_orig}}
				<div class="sheet-dicegroup">
					<div class="sheet-dicearea">
						{{computed::dice_result}}
					</div>
					{{#computed::dice_detail}}
						{{#^rollTotal() computed::dice_detail 0}}
							<div class="sheet-dicedetail">
								{{computed::dice_detail}}
							</div>
						{{/^rollTotal() computed::dice_detail 0}}
					{{/computed::dice_detail}}
				</div>
			{{/^rollTotal() computed::dice_result 0}}
		{{/computed::dice_result}}

		{{#function}}
			<!-- 타이타스 효과 출력 -->
			<div class="sheet-tatus">
				{{#rollTotal() function 0}}
					<span data-i18n="i_titas_subj_0">판정 직전 선언</span>
					<strong data-i18n="i_titas_desc_0">모든 행동판정 주사위 +10개</strong>
				{{/rollTotal() function 0}}
				{{#rollTotal() function 1}}
					<span data-i18n="i_titas_subj_1">판정 직후 선언, 대결상대 달성치 결정된 뒤에도 가능</span>
					<strong><em data-i18n="i_titas_desc_1">판정 달성치에 +</em>{{roll1d10}}</strong>
				{{/rollTotal() function 1}}
				{{#rollTotal() function 2}}
					<span data-i18n="i_titas_subj_2">판정 직전 선언</span>
					<strong data-i18n="i_titas_desc_2">행동판정 크리티컬 -1</strong>
					<span class="sheet-notice" data-i18n="i_titas_side_2">하한치 2</span>
				{{/rollTotal() function 2}}
				{{#rollTotal() function 3}}
					<span data-i18n="i_titas_subj_3">전투불능 직후 선언</span>
					<strong data-i18n="i_titas_desc_3">전투불능 상태에서 부활</strong>
					<span class="sheet-notice" data-i18n="i_titas_side_3">HP 【육체】+10 회복</span>
				{{/rollTotal() function 3}}
				{{#rollTotal() function 4}}
					<span data-i18n="i_titas_subj_4">언제든 선언</span>
					<strong data-i18n="i_titas_desc_4">패널티 제거</strong>
					<span class="sheet-notice" data-i18n="i_titas_side_4">BS, 주사위 등 범위는 GM과 협의</span>
				{{/rollTotal() function 4}}
			</div>
		{{/function}}

		{{#material}}<div class="sheet-mid-title">{{material}}</div>{{/material}}
		<div class="sheet-info">
			{{#lv}}<span><strong>Lv</strong> {{lv}}</span>{{/lv}}
			{{#tim}}<p><strong data-i18n="i_timing">타이밍</strong><span>{{tim}}</span></p>{{/tim}}
			{{#har}}<p><strong data-i18n="i_difficulty">난이도</strong><span>{{har}}</span></p>{{/har}}
			{{#tar}}<p><strong data-i18n="i_target">대상</strong><span>{{tar}}</span></p>{{/tar}}
			{{#dis}}<p><strong data-i18n="i_range">사거리</strong><span>{{dis}}</span></p>{{/dis}}
			{{#limit}}<p><strong data-i18n="i_limit">제한</strong><span>{{limit}}</span></p>{{/limit}}
			{{#attack}}<p><strong data-i18n="i_attack">공격력</strong><span>{{attack}}</span></p>{{/attack}}
			{{#reu}}<p><strong data-i18n="i_reduction">침식치</strong><span>{{reu}}</span></p>{{/reu}}
			{{#impulse}}<p><strong data-i18n="i_impulse">충동</strong><span>{{impulse}}</span></p>{{/impulse}}

			{{#func}}<span><strong data-i18n="i_spec">기능</strong> {{func}}</span>{{/func}}
			{{#mark}}<span><strong data-i18n="i_mark">명중</strong> {{mark}}</span>{{/mark}}
			{{#dam}}<span><strong data-i18n="i_damage">공격</strong> {{dam}}</span>{{/dam}}
			{{#def}}<span><strong data-i18n="i_guard">방어</strong> {{def}}</span>{{/def}}
			{{#dist}}<span><strong data-i18n="i_range">사거리</strong> {{dist}}</span>{{/dist}}

			{{#dot}}<span><strong data-i18n="i_dodge">회피</strong> {{dot}}</span>{{/dot}}
			{{#act}}<span><strong data-i18n="i_act">행동</strong> {{act}}</span>{{/act}}
			{{#amo}}<span><strong data-i18n="i_guard">방어</strong> {{amo}}</span>{{/amo}}

			{{#emotion}}<p><strong data-i18n="i_emot_positive">+감정</strong><span>{{emotion}}</span></p>{{/emotion}}
			{{#emotion2}}<p><strong data-i18n="i_emot_negative">-감정</strong><span>{{emotion2}}</span></p>{{/emotion2}}
			{{#rel}}<p><strong data-i18n="i_relation">관계</strong><span>{{rel}}</span></p>{{/rel}}

			{{#f_lv}}<p><strong>Lv</strong><span>{{f_lv}}</span></p>{{/f_lv}}
			{{#f_tim}}<p><strong data-i18n="i_timing">타이밍</strong><span>{{f_tim}}</span></p>{{/f_tim}}
			{{#f_func}}<span><strong data-i18n="i_spec">기능</strong> {{func}}</span>{{/f_func}}
			{{#f_har}}<p><strong data-i18n="i_difficulty">난이도</strong><span>{{f_har}}</span></p>{{/f_har}}
			{{#f_tar}}<p><strong data-i18n="i_target">대상</strong><span>{{f_tar}}</span></p>{{/f_tar}}
			{{#f_dis}}<p><strong data-i18n="i_range">사거리</strong><span>{{f_dis}}</span></p>{{/f_dis}}
			{{#f_reu}}<p><strong data-i18n="i_reduction">침식치</strong><span>{{f_reu}}</span></p>{{/f_reu}}
			{{#f_lim}}<p><strong data-i18n="i_limit">제한</strong><span>{{f_lim}}</span></p>{{/f_lim}}
		</div>
		{{#effect}}<div class="sheet-descript">{{effect}}</div>{{/effect}}
		{{#desc}}<div class="sheet-descript">{{desc}}</div>{{/desc}}

	</div>
</rolltemplate>
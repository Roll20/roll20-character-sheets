<input name="attr_version" type="hidden" value="3.3"/><input name="attr_latest_versioning_upgrade" type="hidden" value="3"/><div class="dropzone compendium-drop-target creatures pregens" data-licensedsheet="attr_licensedsheet"><input name="attr_drop_name" type="hidden" value="" accept="Name"/><input name="attr_drop_data" type="hidden" value="" accept="data"/><input name="attr_drop_content" type="hidden" value="" accept="Content"/><input name="attr_drop_category" type="hidden" value="" accept="Category"/><div><input name="attr_settings_toggle" type="hidden" value=""/><input name="attr_sheet_type" type="hidden" value="character"/><input name="attr_character_type" type="hidden" value="knight"/><div class="grid tabs"><div class="col sheet-type grid"><label class="character" data-i18n-title="sheet: character"><input name="attr_sheet_type" title="@{sheet_type}" type="radio" value="character" ${selectedKeyWord}="${selectedKeyWord}"/><span class="capitalize text-center" data-i18n="character"></span></label><label class="character" data-i18n-title="sheet: holdings"><input name="attr_sheet_type" title="@{sheet_type}" type="radio" value="holdings" ${selectedKeyWord}="${selectedKeyWord}"/><span class="capitalize text-center" data-i18n="holdings"></span></label></div><div class="col settings grid"><label data-i18n-title="settings"><input name="attr_settings_toggle" title="@{settings_toggle}" type="checkbox" value="settings"/><span class="pictos text-lowercase text-center">y</span></label></div></div><div class="npc grid"><div class="grid name"><label data-i18n-title="character name"><input data-i18n-placeholder="character name" name="attr_character_name" title="@{character_name}" type="text" value="" accept="character_name"/></label><div class="grid auto-flow-col align-end"><h2 class="small-caps ellipse" data-i18n="type" data-i18n-title="type"></h2><label data-i18n-title="type"><input data-i18n-placeholder="type" name="attr_type" title="@{type}" type="text" value="" accept="type"/></label></div></div><div class="characteristics grid mb"><div class="grid core auto-flow-col"><div class="grid row centered"><button class="uppercase" data-i18n="siz" name="roll_size" type="roll" value="&{template:rolls} {{header=^{size}}} {{dice=[[{1d20+({@{size}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{size}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{size}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="size"><input name="attr_size" placeholder="#" title="@{size}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="dex" name="roll_dexterity" type="roll" value="&{template:rolls} {{header=^{dexterity}}} {{dice=[[{1d20+({@{dexterity}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{dexterity}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{dexterity}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="dexterity"><input name="attr_dexterity" placeholder="#" title="@{dexterity}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="str" name="roll_strength" type="roll" value="&{template:rolls} {{header=^{strength}}} {{dice=[[{1d20+({@{strength}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{strength}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{strength}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="strength"><input name="attr_strength" placeholder="#" title="@{strength}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="con" name="roll_constitution" type="roll" value="&{template:rolls} {{header=^{constitution}}} {{dice=[[{1d20+({@{constitution}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{constitution}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{constitution}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="constitution"><input name="attr_constitution" placeholder="#" title="@{constitution}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="app" name="roll_appearance" type="roll" value="&{template:rolls} {{header=^{appearance}}} {{dice=[[{1d20+({@{appearance}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{appearance}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{appearance}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="appearance"><input name="attr_appearance" placeholder="#" title="@{appearance}" type="number" value="0"/></label></div></div></div><div class="grid statistic auto-flow-col"><div class="col"><h2 class="text-primary small-caps ellipse" data-i18n="health" data-i18n-title="health"></h2><div class="table"><div class="header 2column"><h3 class="small-caps text-left" data-i18n="statistic"></h3><div class="flex-center"><h3 class="small-caps" data-i18n="value"></h3></div></div><div class="body"><div class="row grid 2column"><h3 class="text-left" data-i18n="hit points"></h3><label data-i18n-title="hit points"><input data-i18n-placeholder="hit points" name="attr_hit_points" title="@{hit_points}" type="text" value="" accept="hit_points"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="knockdown"></h3><label data-i18n-title="knockdown"><input data-i18n-placeholder="knockdown" name="attr_knockdown" title="@{knockdown}" type="text" value="" accept="knockdown"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="major wound"></h3><label data-i18n-title="major wound"><input data-i18n-placeholder="major wound" name="attr_major_wound" title="@{major_wound}" type="text" value="" accept="major_wound"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="unconscious"></h3><label data-i18n-title="unconscious"><input data-i18n-placeholder="unconscious" name="attr_unconscious" title="@{unconscious}" type="text" value="" accept="unconscious"/></label></div></div></div></div><div class="col"><h2 class="text-primary small-caps ellipse" data-i18n="other" data-i18n-title="other"></h2><div class="table"><div class="header 2column"><h3 class="small-caps text-left" data-i18n="statistic"></h3><div class="flex-center"><h3 class="small-caps" data-i18n="value"></h3></div></div><div class="body"><div class="row grid 2column"><h3 class="text-left" data-i18n="movement"></h3><label data-i18n-title="movement"><input data-i18n-placeholder="movement" name="attr_movement" title="@{movement}" type="text" value="" accept="movement"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="armor points"></h3><label data-i18n-title="armor points"><input data-i18n-placeholder="armor points" name="attr_armor_points" title="@{armor_points}" type="text" value="" accept="armor_points"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="glory award"></h3><label data-i18n-title="glory award"><input data-i18n-placeholder="glory award" name="attr_glory_award" title="@{glory_award}" type="text" value="" accept="glory_award"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="healing rate"></h3><label data-i18n-title="healing rate"><input data-i18n-placeholder="healing rate" name="attr_healing_rate" title="@{healing_rate}" type="text" value="" accept="healing_rate"/></label></div></div></div></div></div><input type="hidden" name="attr_hide_npc_knight_attributes" value="1"/><div class="grid statistic auto-flow-col"><div class="col"><h2 class="text-primary small-caps ellipse" data-i18n="knight" data-i18n-title="knight"></h2><div class="table"><div class="header 2column"><h3 class="small-caps text-left" data-i18n="statistic"></h3><div class="flex-center"><h3 class="small-caps" data-i18n="value"></h3></div></div><div class="body"><div class="row grid 2column"><h3 class="text-left" data-i18n="knight value"></h3><label data-i18n-title="knight value"><input data-i18n-placeholder="knight value" name="attr_knight_value" title="@{knight_value}" type="text" value="" accept="knight_value"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="ransom"></h3><label data-i18n-title="ransom"><input data-i18n-placeholder="ransom" name="attr_ransom" title="@{ransom}" type="text" value="" accept="ransom"/></label></div></div></div></div><div class="col"><h2 class="text-primary small-caps ellipse" data-i18n="other" data-i18n-title="other"></h2><div class="table"><div class="header 2column"><h3 class="small-caps text-left" data-i18n="statistic"></h3><div class="flex-center"><h3 class="small-caps" data-i18n="value"></h3></div></div><div class="body"><div class="row grid 2column"><h3 class="text-left" data-i18n="morale loss"></h3><label data-i18n-title="morale loss"><input data-i18n-placeholder="morale loss" name="attr_morale_loss" title="@{morale_loss}" type="text" value="" accept="morale_loss"/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="valorous modifier"></h3><label data-i18n-title="valorous modifier"><input data-i18n-placeholder="valorous modifier" name="attr_valorous_modifier" title="@{valorous_modifier}" type="text" value="" accept="valorous_modifier"/></label></div></div></div></div></div></div><div class="grid attacks"><input type="hidden" name="attr_hide_attacks" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="attacks"></h1><div class="chevron"><input type="checkbox" name="attr_hide_attacks"/><span>^</span></div></div><div class="table damage hide"><div class="grid header"><h3 class="small-caps text-left" data-i18n="damage type"></h3><h3 class="small-caps center" data-i18n="damage"></h3></div><div class="grid body"><div class="row align-center"><input class="hidden" name="attr_brawling_damage" type="hidden" value="0"/><h3 class="text-left" data-i18n="brawling damage"></h3><span class="display text-center uppercase" name="attr_brawling_damage"></span><button class="d20 capitalize" name="roll_brawling-damage" type="roll" value="&{template:rolls} {{header=^{brawling damage}}} {{damage=[[(@{brawling_damage}+(?{Damage Modifier|0}))]]}}">t</button></div><div class="row align-center"><input class="hidden" name="attr_brawling_damage_open" type="hidden" value="0"/><h3 class="text-left" data-i18n="brawling (open hand)"></h3><span class="display text-center uppercase" name="attr_brawling_damage_open"></span><button class="d20 capitalize" name="roll_brawling-damage-open" type="roll" value="&{template:rolls} {{header=^{brawling (open hand)}}} {{damage=[[(@{brawling_damage_open}+(?{Damage Modifier|0}))]]}}">t</button></div><div class="row align-center"><input class="hidden" name="attr_character_damage" type="hidden" value="0"/><h3 class="text-left" data-i18n="character damage"></h3><span class="display text-center uppercase" name="attr_character_damage"></span><button class="d20 capitalize" name="roll_character-damage" type="roll" value="&{template:rolls} {{header=^{character damage}}} {{damage=[[(@{character_damage}+(?{Damage Modifier|0}))]]}}">t</button></div><div class="row align-center"><input class="hidden" name="attr_critical_damage" type="hidden" value="4D6"/><h3 class="text-left" data-i18n="critical damage"></h3><span class="display text-center uppercase" name="attr_critical_damage"></span><button class="d20 capitalize" name="roll_critical-damage" type="roll" value="&{template:rolls} {{header=^{critical damage}}} {{damage=[[(@{critical_damage}+(?{Damage Modifier|0}))]]}}">t</button></div></div></div><div class="repeating-container table hide"><div class="grid header"><h3 class="small-caps text-left" data-i18n="weapon"></h3><h3 class="small-caps text-left" data-i18n="skill"></h3><h3 class="small-caps center" data-i18n="damage"></h3></div><div class="grid body"><div class="row align-center"><h3 class="text-left" data-i18n="brawling"></h3><span class="capitalize" data-i18n="brawling"></span><span class="display text-center" name="attr_brawling_damage"></span><button class="d20 capitalize" name="roll_brawling-damage" type="roll" value="&{template:rolls} {{header=^{brawling}}} {{dice=[[{1d20+({@{brawling}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{brawling}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{brawling}+(?{Modifier|0}),0}kl1)]]}} {{damage=[[(@{brawling_damage}+(?{Modifier|0}))]]}}">t</button></div><div class="row align-center"><h3 class="text-left" data-i18n="brawling (open hand)"></h3><span class="capitalize" data-i18n="brawling"></span><span class="display text-center" name="attr_brawling_damage_open"></span><button class="d20 capitalize" name="roll_brawling-damage-open" type="roll" value="&{template:rolls} {{header=^{brawling (open hand)}}} {{dice=[[{1d20+({@{brawling}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{brawling}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{brawling}+(?{Modifier|0}),0}kl1)]]}} {{damage=[[(@{brawling_damage_open}+(?{Modifier|0}))]]}}">t</button></div></div><fieldset class="repeating_attacks"><div class="row grid"><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><div class="grid auto-flow-col"><select name="attr_skill" title="@{skill}" value="@{battle}"><option data-i18n="battle" value="@{battle}"></option><option data-i18n="bow" value="@{bow}"></option><option data-i18n="brawling" value="@{brawling}"></option><option data-i18n="charge" value="@{charge}"></option><option data-i18n="crossbow" value="@{crossbow}"></option><option data-i18n="hafted" value="@{hafted}"></option><option data-i18n="two-handed hafted" value="@{two-handed_hafted}"></option><option data-i18n="horsemanship" value="@{horsemanship}"></option><option data-i18n="spear" value="@{spear}"></option><option data-i18n="sword" value="@{sword}"></option><option data-i18n="thrown weapon" value="@{thrown_weapon}"></option><option data-i18n="other" value="@{target_value}"></option></select><input type="hidden" name="attr_skill"/><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label></div><label data-i18n-title="damage" title="damage"><input name="attr_damage" placeholder="5d6+5" title="@{damage}" type="text" value=""/></label><button class="d20 capitalize" name="roll_attack" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{skill}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{skill}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{skill}+(?{Modifier|0}),0}kl1)]]}} {{damage=[[(@{damage}+(?{Damage Modifier|0}))]]}}">t</button></div></fieldset></div></div><div class="grid skills"><input type="hidden" name="attr_hide_skills" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="skills"></h1><div class="chevron"><input type="checkbox" name="attr_hide_skills"/><span>^</span></div></div><div class="grid combat-skills hide"><div class="row grid"><button class="capitalize" data-i18n="battle" title="battle" name="roll_battle" type="roll" value="&{template:rolls} {{header=^{battle}}} {{dice=[[{1d20+({@{battle}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{battle}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{battle}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="battle"><input name="attr_battle" placeholder="#" title="@{battle}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="bow" title="bow" name="roll_bow" type="roll" value="&{template:rolls} {{header=^{bow}}} {{dice=[[{1d20+({@{bow}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{bow}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{bow}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="bow"><input name="attr_bow" placeholder="#" title="@{bow}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="brawling" title="brawling" name="roll_brawling" type="roll" value="&{template:rolls} {{header=^{brawling}}} {{dice=[[{1d20+({@{brawling}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{brawling}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{brawling}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="brawling"><input name="attr_brawling" placeholder="#" title="@{brawling}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="charge" title="charge" name="roll_charge" type="roll" value="&{template:rolls} {{header=^{charge}}} {{dice=[[{1d20+({@{charge}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{charge}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{charge}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="charge"><input name="attr_charge" placeholder="#" title="@{charge}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="crossbow" title="crossbow" name="roll_crossbow" type="roll" value="&{template:rolls} {{header=^{crossbow}}} {{dice=[[{1d20+({@{crossbow}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{crossbow}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{crossbow}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="crossbow"><input name="attr_crossbow" placeholder="#" title="@{crossbow}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="hafted" title="hafted" name="roll_hafted" type="roll" value="&{template:rolls} {{header=^{hafted}}} {{dice=[[{1d20+({@{hafted}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{hafted}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{hafted}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="hafted"><input name="attr_hafted" placeholder="#" title="@{hafted}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="two-handed hafted" title="two-handed hafted" name="roll_two-handed-hafted" type="roll" value="&{template:rolls} {{header=^{two-handed hafted}}} {{dice=[[{1d20+({@{two-handed_hafted}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{two-handed_hafted}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{two-handed_hafted}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="two-handed hafted"><input name="attr_two-handed_hafted" placeholder="#" title="@{two-handed_hafted}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="horsemanship" title="horsemanship" name="roll_horsemanship" type="roll" value="&{template:rolls} {{header=^{horsemanship}}} {{dice=[[{1d20+({@{horsemanship}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{horsemanship}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{horsemanship}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="horsemanship"><input name="attr_horsemanship" placeholder="#" title="@{horsemanship}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="spear" title="spear" name="roll_spear" type="roll" value="&{template:rolls} {{header=^{spear}}} {{dice=[[{1d20+({@{spear}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{spear}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{spear}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="spear"><input name="attr_spear" placeholder="#" title="@{spear}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="sword" title="sword" name="roll_sword" type="roll" value="&{template:rolls} {{header=^{sword}}} {{dice=[[{1d20+({@{sword}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{sword}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{sword}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="sword"><input name="attr_sword" placeholder="#" title="@{sword}" type="number" value="0"/></label></div><div class="row grid"><button class="capitalize" data-i18n="thrown weapon" title="thrown weapon" name="roll_thrown-weapon" type="roll" value="&{template:rolls} {{header=^{thrown weapon}}} {{dice=[[{1d20+({@{thrown_weapon}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{thrown_weapon}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{thrown_weapon}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="thrown weapon"><input name="attr_thrown_weapon" placeholder="#" title="@{thrown_weapon}" type="number" value="0"/></label></div></div><div class="row hide"><h2 class="small-caps ellipse" data-i18n="other" data-i18n-title="other"></h2></div><div class="repeating-container hide"><fieldset class="repeating_skills"><div class="grid auto-flow-col 3columns"><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_target-value" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{target_value}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{target_value}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{target_value}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></fieldset></div></div><div class="personality-traits"><input type="hidden" name="attr_hide_personality_traits" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="personality traits"></h1><div class="chevron"><input type="checkbox" name="attr_hide_personality_traits"/><span>^</span></div></div><div class="row 2autocolumn hide"><h2 data-i18n="religious virtues"></h2><label data-i18n-title="religious virtues"><input data-i18n-placeholder="religious virtues" name="attr_religious_virtues" title="@{religious_virtues}" type="text" value=""/></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="chaste check" title="chaste check"><input name="attr_chaste_check" title="@{chaste_check}" type="checkbox" value="chaste check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="chaste" title="chaste" name="roll_chaste" type="roll" value="&{template:rolls} {{header=^{chaste}}} {{dice=[[{1d20+({@{chaste}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{chaste}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{chaste}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="chaste"><input name="attr_chaste" placeholder="#" title="@{chaste}" type="number" value="0"/></label><span>/</span><label data-i18n-title="lustful"><input name="attr_lustful" placeholder="#" title="@{lustful}" type="number" value="0"/></label><button class="capitalize" data-i18n="lustful" title="lustful" name="roll_lustful" type="roll" value="&{template:rolls} {{header=^{lustful}}} {{dice=[[{1d20+({@{lustful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{lustful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{lustful}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="lustful check" title="lustful check"><input name="attr_lustful_check" title="@{lustful_check}" type="checkbox" value="lustful check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="energetic check" title="energetic check"><input name="attr_energetic_check" title="@{energetic_check}" type="checkbox" value="energetic check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="energetic" title="energetic" name="roll_energetic" type="roll" value="&{template:rolls} {{header=^{energetic}}} {{dice=[[{1d20+({@{energetic}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{energetic}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{energetic}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="energetic"><input name="attr_energetic" placeholder="#" title="@{energetic}" type="number" value="0"/></label><span>/</span><label data-i18n-title="lazy"><input name="attr_lazy" placeholder="#" title="@{lazy}" type="number" value="0"/></label><button class="capitalize" data-i18n="lazy" title="lazy" name="roll_lazy" type="roll" value="&{template:rolls} {{header=^{lazy}}} {{dice=[[{1d20+({@{lazy}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{lazy}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{lazy}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="lazy check" title="lazy check"><input name="attr_lazy_check" title="@{lazy_check}" type="checkbox" value="lazy check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="forgiving check" title="forgiving check"><input name="attr_forgiving_check" title="@{forgiving_check}" type="checkbox" value="forgiving check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="forgiving" title="forgiving" name="roll_forgiving" type="roll" value="&{template:rolls} {{header=^{forgiving}}} {{dice=[[{1d20+({@{forgiving}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{forgiving}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{forgiving}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="forgiving"><input name="attr_forgiving" placeholder="#" title="@{forgiving}" type="number" value="0"/></label><span>/</span><label data-i18n-title="vengeful"><input name="attr_vengeful" placeholder="#" title="@{vengeful}" type="number" value="0"/></label><button class="capitalize" data-i18n="vengeful" title="vengeful" name="roll_vengeful" type="roll" value="&{template:rolls} {{header=^{vengeful}}} {{dice=[[{1d20+({@{vengeful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{vengeful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{vengeful}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="vengeful check" title="vengeful check"><input name="attr_vengeful_check" title="@{vengeful_check}" type="checkbox" value="vengeful check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="generous check" title="generous check"><input name="attr_generous_check" title="@{generous_check}" type="checkbox" value="generous check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="generous" title="generous" name="roll_generous" type="roll" value="&{template:rolls} {{header=^{generous}}} {{dice=[[{1d20+({@{generous}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{generous}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{generous}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="generous"><input name="attr_generous" placeholder="#" title="@{generous}" type="number" value="0"/></label><span>/</span><label data-i18n-title="selfish"><input name="attr_selfish" placeholder="#" title="@{selfish}" type="number" value="0"/></label><button class="capitalize" data-i18n="selfish" title="selfish" name="roll_selfish" type="roll" value="&{template:rolls} {{header=^{selfish}}} {{dice=[[{1d20+({@{selfish}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{selfish}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{selfish}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="selfish check" title="selfish check"><input name="attr_selfish_check" title="@{selfish_check}" type="checkbox" value="selfish check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="honest check" title="honest check"><input name="attr_honest_check" title="@{honest_check}" type="checkbox" value="honest check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="honest" title="honest" name="roll_honest" type="roll" value="&{template:rolls} {{header=^{honest}}} {{dice=[[{1d20+({@{honest}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{honest}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{honest}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="honest"><input name="attr_honest" placeholder="#" title="@{honest}" type="number" value="0"/></label><span>/</span><label data-i18n-title="deceitful"><input name="attr_deceitful" placeholder="#" title="@{deceitful}" type="number" value="0"/></label><button class="capitalize" data-i18n="deceitful" title="deceitful" name="roll_deceitful" type="roll" value="&{template:rolls} {{header=^{deceitful}}} {{dice=[[{1d20+({@{deceitful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{deceitful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{deceitful}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="deceitful check" title="deceitful check"><input name="attr_deceitful_check" title="@{deceitful_check}" type="checkbox" value="deceitful check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="just check" title="just check"><input name="attr_just_check" title="@{just_check}" type="checkbox" value="just check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="just" title="just" name="roll_just" type="roll" value="&{template:rolls} {{header=^{just}}} {{dice=[[{1d20+({@{just}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{just}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{just}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="just"><input name="attr_just" placeholder="#" title="@{just}" type="number" value="0"/></label><span>/</span><label data-i18n-title="arbitrary"><input name="attr_arbitrary" placeholder="#" title="@{arbitrary}" type="number" value="0"/></label><button class="capitalize" data-i18n="arbitrary" title="arbitrary" name="roll_arbitrary" type="roll" value="&{template:rolls} {{header=^{arbitrary}}} {{dice=[[{1d20+({@{arbitrary}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{arbitrary}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{arbitrary}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="arbitrary check" title="arbitrary check"><input name="attr_arbitrary_check" title="@{arbitrary_check}" type="checkbox" value="arbitrary check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="merciful check" title="merciful check"><input name="attr_merciful_check" title="@{merciful_check}" type="checkbox" value="merciful check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="merciful" title="merciful" name="roll_merciful" type="roll" value="&{template:rolls} {{header=^{merciful}}} {{dice=[[{1d20+({@{merciful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{merciful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{merciful}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="merciful"><input name="attr_merciful" placeholder="#" title="@{merciful}" type="number" value="0"/></label><span>/</span><label data-i18n-title="cruel"><input name="attr_cruel" placeholder="#" title="@{cruel}" type="number" value="0"/></label><button class="capitalize" data-i18n="cruel" title="cruel" name="roll_cruel" type="roll" value="&{template:rolls} {{header=^{cruel}}} {{dice=[[{1d20+({@{cruel}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{cruel}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{cruel}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="cruel check" title="cruel check"><input name="attr_cruel_check" title="@{cruel_check}" type="checkbox" value="cruel check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="modest check" title="modest check"><input name="attr_modest_check" title="@{modest_check}" type="checkbox" value="modest check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="modest" title="modest" name="roll_modest" type="roll" value="&{template:rolls} {{header=^{modest}}} {{dice=[[{1d20+({@{modest}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{modest}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{modest}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="modest"><input name="attr_modest" placeholder="#" title="@{modest}" type="number" value="0"/></label><span>/</span><label data-i18n-title="proud"><input name="attr_proud" placeholder="#" title="@{proud}" type="number" value="0"/></label><button class="capitalize" data-i18n="proud" title="proud" name="roll_proud" type="roll" value="&{template:rolls} {{header=^{proud}}} {{dice=[[{1d20+({@{proud}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{proud}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{proud}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="proud check" title="proud check"><input name="attr_proud_check" title="@{proud_check}" type="checkbox" value="proud check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="prudent check" title="prudent check"><input name="attr_prudent_check" title="@{prudent_check}" type="checkbox" value="prudent check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="prudent" title="prudent" name="roll_prudent" type="roll" value="&{template:rolls} {{header=^{prudent}}} {{dice=[[{1d20+({@{prudent}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{prudent}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{prudent}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="prudent"><input name="attr_prudent" placeholder="#" title="@{prudent}" type="number" value="0"/></label><span>/</span><label data-i18n-title="reckless"><input name="attr_reckless" placeholder="#" title="@{reckless}" type="number" value="0"/></label><button class="capitalize" data-i18n="reckless" title="reckless" name="roll_reckless" type="roll" value="&{template:rolls} {{header=^{reckless}}} {{dice=[[{1d20+({@{reckless}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{reckless}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{reckless}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="reckless check" title="reckless check"><input name="attr_reckless_check" title="@{reckless_check}" type="checkbox" value="reckless check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="spiritual check" title="spiritual check"><input name="attr_spiritual_check" title="@{spiritual_check}" type="checkbox" value="spiritual check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="spiritual" title="spiritual" name="roll_spiritual" type="roll" value="&{template:rolls} {{header=^{spiritual}}} {{dice=[[{1d20+({@{spiritual}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{spiritual}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{spiritual}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="spiritual"><input name="attr_spiritual" placeholder="#" title="@{spiritual}" type="number" value="0"/></label><span>/</span><label data-i18n-title="worldly"><input name="attr_worldly" placeholder="#" title="@{worldly}" type="number" value="0"/></label><button class="capitalize" data-i18n="worldly" title="worldly" name="roll_worldly" type="roll" value="&{template:rolls} {{header=^{worldly}}} {{dice=[[{1d20+({@{worldly}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{worldly}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{worldly}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="worldly check" title="worldly check"><input name="attr_worldly_check" title="@{worldly_check}" type="checkbox" value="worldly check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="temperate check" title="temperate check"><input name="attr_temperate_check" title="@{temperate_check}" type="checkbox" value="temperate check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="temperate" title="temperate" name="roll_temperate" type="roll" value="&{template:rolls} {{header=^{temperate}}} {{dice=[[{1d20+({@{temperate}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{temperate}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{temperate}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="temperate"><input name="attr_temperate" placeholder="#" title="@{temperate}" type="number" value="0"/></label><span>/</span><label data-i18n-title="indulgent"><input name="attr_indulgent" placeholder="#" title="@{indulgent}" type="number" value="0"/></label><button class="capitalize" data-i18n="indulgent" title="indulgent" name="roll_indulgent" type="roll" value="&{template:rolls} {{header=^{indulgent}}} {{dice=[[{1d20+({@{indulgent}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{indulgent}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{indulgent}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="indulgent check" title="indulgent check"><input name="attr_indulgent_check" title="@{indulgent_check}" type="checkbox" value="indulgent check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="trusting check" title="trusting check"><input name="attr_trusting_check" title="@{trusting_check}" type="checkbox" value="trusting check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="trusting" title="trusting" name="roll_trusting" type="roll" value="&{template:rolls} {{header=^{trusting}}} {{dice=[[{1d20+({@{trusting}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{trusting}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{trusting}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="trusting"><input name="attr_trusting" placeholder="#" title="@{trusting}" type="number" value="0"/></label><span>/</span><label data-i18n-title="suspicious"><input name="attr_suspicious" placeholder="#" title="@{suspicious}" type="number" value="0"/></label><button class="capitalize" data-i18n="suspicious" title="suspicious" name="roll_suspicious" type="roll" value="&{template:rolls} {{header=^{suspicious}}} {{dice=[[{1d20+({@{suspicious}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{suspicious}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{suspicious}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="suspicious check" title="suspicious check"><input name="attr_suspicious_check" title="@{suspicious_check}" type="checkbox" value="suspicious check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="valorous check" title="valorous check"><input name="attr_valorous_check" title="@{valorous_check}" type="checkbox" value="valorous check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="valorous" title="valorous" name="roll_valorous" type="roll" value="&{template:rolls} {{header=^{valorous}}} {{dice=[[{1d20+({@{valorous}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{valorous}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{valorous}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="valorous"><input name="attr_valorous" placeholder="#" title="@{valorous}" type="number" value="0"/></label><span>/</span><label data-i18n-title="cowardly"><input name="attr_cowardly" placeholder="#" title="@{cowardly}" type="number" value="0"/></label><button class="capitalize" data-i18n="cowardly" title="cowardly" name="roll_cowardly" type="roll" value="&{template:rolls} {{header=^{cowardly}}} {{dice=[[{1d20+({@{cowardly}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{cowardly}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{cowardly}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="cowardly check" title="cowardly check"><input name="attr_cowardly_check" title="@{cowardly_check}" type="checkbox" value="cowardly check"/><span class="pictos">3</span></label></div><div class="repeating-container hide"><fieldset class="repeating_traits"><div class="row"><label class="styled-checkbox grid" data-i18n-title="check" title="check"><input name="attr_check" title="@{check}" type="checkbox" value="check"/><span class="pictos">3</span></label><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_target-value" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{target_value}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{target_value}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{target_value}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></fieldset></div></div><div class="grid passions"><input type="hidden" name="attr_hide_passions" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="passions"></h1><div class="chevron"><input type="checkbox" name="attr_hide_passions"/><span>^</span></div></div><div class="repeating-container hide"><fieldset class="repeating_passions"><div class="grid auto-flow-col 3columns"><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_target-value" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{target_value}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{target_value}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{target_value}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></fieldset></div></div><div class="grid abilities"><input type="hidden" name="attr_hide_abilities" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="abilities"></h1><div class="chevron"><input type="checkbox" name="attr_hide_abilities"/><span>^</span></div></div><div class="repeating-container hide"><fieldset class="repeating_abilities"><div class="row grid flags"><input class="flag" name="attr_flag" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><div class="row grid 2autocolumn"><h2 data-i18n="name"></h2><span class="display bottom-border" name="attr_name"></span><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label></div><div class="row notes"><span class="display" name="attr_notes"></span><textarea data-i18n-placeholder="notes" name="attr_notes" placeholder="notes"></textarea></div></div></fieldset></div></div><div class="equipment grid gap 2column"><div class="grid gap col"><input type="hidden" name="attr_hide_equipment" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="equipment"></h1><div class="chevron"><input type="checkbox" name="attr_hide_equipment"/><span>^</span></div></div><div class="repeating-container hide"><fieldset class="repeating_equipment"><div class="row grid flags"><input class="flag" name="attr_flag" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="name" data-i18n-title="name"></h2><span class="display bottom-border" name="attr_name"></span><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label></div><div class="row grid"><div class="grid gap category"><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="category" data-i18n-title="category"></h2><span class="display bottom-border" name="attr_category"></span><label data-i18n-title="category"><input data-i18n-placeholder="category" name="attr_category" title="@{category}" type="text" value=""/></label></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="value" data-i18n-title="value"></h2><span class="display bottom-border" name="attr_value"></span><label data-i18n-title="value"><input data-i18n-placeholder="value" name="attr_value" title="@{value}" type="text" value=""/></label></div></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="period restriction" data-i18n-title="period restriction"></h2><span class="display bottom-border" name="attr_period restriction"></span><label data-i18n-title="period restriction"><input data-i18n-placeholder="period restriction" name="attr_period_restriction" title="@{period_restriction}" type="text" value=""/></label></div></div><div class="row notes"><span class="display" name="attr_notes"></span><textarea data-i18n-placeholder="notes" name="attr_notes" placeholder="notes"></textarea></div></div></fieldset></div></div><div class="grid gap col"><input type="hidden" name="attr_hide_arms" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="arms"></h1><div class="chevron"><input type="checkbox" name="attr_hide_arms"/><span>^</span></div></div><div class="repeating-container hide"><fieldset class="repeating_arms"><div class="row grid flags"><input class="flag" name="attr_flag" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="name" data-i18n-title="name"></h2><span class="display bottom-border" name="attr_name"></span><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label></div><div class="row grid"><div class="grid gap category"><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="category" data-i18n-title="category"></h2><span class="display bottom-border" name="attr_category"></span><label data-i18n-title="category"><input data-i18n-placeholder="category" name="attr_category" title="@{category}" type="text" value=""/></label></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="value" data-i18n-title="value"></h2><span class="display bottom-border" name="attr_value"></span><label data-i18n-title="value"><input data-i18n-placeholder="value" name="attr_value" title="@{value}" type="text" value=""/></label></div></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="period restriction" data-i18n-title="period restriction"></h2><span class="display bottom-border" name="attr_period restriction"></span><label data-i18n-title="period restriction"><input data-i18n-placeholder="period restriction" name="attr_period_restriction" title="@{period_restriction}" type="text" value=""/></label></div></div><div class="row notes"><span class="display" name="attr_notes"></span><textarea data-i18n-placeholder="notes" name="attr_notes" placeholder="notes"></textarea></div></div></fieldset></div></div></div><div class="grid"><input type="hidden" name="attr_hide_description" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="description"></h1><div class="chevron"><input type="checkbox" name="attr_hide_description"/><span>^</span></div></div><div class="grid description gap hide"><input class="flag" name="attr_flag_description" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><span class="display" name="attr_description"></span><textarea data-i18n-placeholder="description" name="attr_description" placeholder="description"></textarea></div></div></div><div class="character grid"><div class="grid info"><div class="col img"><img class="logo knight" alt="King Arthur Pendragon Knight's Character Sheet" src="https://github.com/Roll20/roll20-character-sheets/blob/master/Pendragon6thEdition/src/pendragonlogo.png?raw=true/pendragonlogo.png"/></div><div class="col"><div class="personal-data"><div class="header"><h1 data-i18n="personal data"></h1></div><div class="grid 2column age"><div class="col 2autocolumn"><h2 data-i18n="character name"></h2><label data-i18n-title="character name"><input data-i18n-placeholder="character name" name="attr_character_name" title="@{character_name}" type="text" value=""/></label></div><div class="col 2autocolumn"><h2 data-i18n="age"></h2><label data-i18n-title="age"><input data-i18n-placeholder="age" name="attr_age" title="@{age}" type="text" value=""/></label></div><div class="col 2autocolumn"><h2 class="text-accent small-caps ellipse" data-i18n="session glory" data-i18n-title="session glory"></h2><label data-i18n-title="session glory"><input name="attr_session_glory" placeholder="#" title="@{session_glory}" type="number" value="0"/></label></div></div><div class="grid 2autocolumn"><h2 data-i18n="distinctive features"></h2><label data-i18n-title="distinctive features"><input data-i18n-placeholder="distinctive features" name="attr_distinctive_features" title="@{distinctive_features}" type="text" value=""/></label></div><div class="grid 2column"><div class="col 2autocolumn"><h2 data-i18n="lord"></h2><label data-i18n-title="lord"><input data-i18n-placeholder="lord" name="attr_lord" title="@{lord}" type="text" value=""/></label></div><div class="col 2autocolumn"><h2 data-i18n="class"></h2><label data-i18n-title="class"><input data-i18n-placeholder="class" name="attr_class" title="@{class}" type="text" value=""/></label></div></div><div class="grid 2column"><div class="col 2autocolumn"><h2 data-i18n="culture"></h2><label data-i18n-title="culture"><input data-i18n-placeholder="culture" name="attr_culture" title="@{culture}" type="text" value=""/></label></div><div class="col 2autocolumn"><h2 data-i18n="religion"></h2><label data-i18n-title="religion"><input data-i18n-placeholder="religion" name="attr_religion_name" title="@{religion_name}" type="text" value=""/></label></div></div><div class="grid 2column"><div class="col 2autocolumn"><h2 data-i18n="homeland"></h2><label data-i18n-title="homeland"><input data-i18n-placeholder="homeland" name="attr_homeland" title="@{homeland}" type="text" value=""/></label></div><div class="col 2autocolumn"><h2 data-i18n="current home"></h2><label data-i18n-title="current home"><input data-i18n-placeholder="current home" name="attr_current_home" title="@{current_home}" type="text" value=""/></label></div></div><div class="grid 2autocolumn"><h2 data-i18n="heraldry"></h2><label data-i18n-title="heraldry"><input data-i18n-placeholder="heraldry" name="attr_heraldry" title="@{heraldry}" type="text" value=""/></label></div><div class="grid 2autocolumn"><h2 data-i18n="motto"></h2><label data-i18n-title="motto"><input data-i18n-placeholder="motto" name="attr_motto" title="@{motto}" type="text" value=""/></label></div></div></div></div><div class="row character-body"><div class="col grid"><div class="current-hit-points grid"><input type="hidden" name="attr_hide_hp_wounds" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="HP &amp; Wounds"></h1><div class="chevron"><input type="checkbox" name="attr_hide_hp_wounds"/><span>^</span></div></div><div class="row grid current-hp 2column hide"><div class="col 2autocolumn debilitated"><h2 class="uppercase" data-i18n="current hp"></h2><label data-i18n-title="current hp"><input name="attr_current_hp" placeholder="#" title="@{current_hp}" type="number" value="0"/></label></div><div class="col 2autocolumn debilitated"><h2 data-i18n="debilitated?"></h2><label class="styled-checkbox grid" data-i18n-title="debilitated?" title="debilitated?"><input name="attr_debilitated?" title="@{debilitated?}" type="checkbox" value="debilitated?"/><span class="pictos">3</span></label></div></div><div class="row grid wounds hide"><div class="row grid 2autocolumn"><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="aggravation damage" data-i18n-title="aggravation damage"></h2></div><label data-i18n-title="aggravation damage"><input data-i18n-placeholder="aggravation damage" name="attr_aggravation_damage" title="@{aggravation_damage}" type="text" value=""/></label></div><div class="row grid 2autocolumn"><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="deterioration damage" data-i18n-title="deterioration damage"></h2></div><label data-i18n-title="deterioration damage"><input data-i18n-placeholder="deterioration damage" name="attr_deterioration_damage" title="@{deterioration_damage}" type="text" value=""/></label></div><div class="row grid headers"><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="wounds" data-i18n-title="wounds"></h2></div><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="dmg" data-i18n-title="dmg"></h2></div><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="description" data-i18n-title="description"></h2></div></div><div class="repeating-container"><fieldset class="repeating_wounds"><div class="row grid"><label data-i18n-title="wound"><input name="attr_wound" placeholder="#" title="@{wound}" type="number" value="0"/></label><label data-i18n-title="dmg"><input name="attr_dmg" placeholder="#" title="@{dmg}" type="number" value="0"/></label><label data-i18n-title="description"><input data-i18n-placeholder="description" name="attr_description" title="@{description}" type="text" value=""/></label></div></fieldset></div></div></div><div class="personality-traits"><input type="hidden" name="attr_hide_personality_traits" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="personality traits"></h1><div class="chevron"><input type="checkbox" name="attr_hide_personality_traits"/><span>^</span></div></div><div class="row 2autocolumn hide"><h2 data-i18n="religious virtues"></h2><label data-i18n-title="religious virtues"><input data-i18n-placeholder="religious virtues" name="attr_religious_virtues" title="@{religious_virtues}" type="text" value=""/></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="chaste check" title="chaste check"><input name="attr_chaste_check" title="@{chaste_check}" type="checkbox" value="chaste check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="chaste" title="chaste" name="roll_chaste" type="roll" value="&{template:rolls} {{header=^{chaste}}} {{dice=[[{1d20+({@{chaste}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{chaste}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{chaste}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="chaste"><input name="attr_chaste" placeholder="#" title="@{chaste}" type="number" value="0"/></label><span>/</span><label data-i18n-title="lustful"><input name="attr_lustful" placeholder="#" title="@{lustful}" type="number" value="0"/></label><button class="capitalize" data-i18n="lustful" title="lustful" name="roll_lustful" type="roll" value="&{template:rolls} {{header=^{lustful}}} {{dice=[[{1d20+({@{lustful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{lustful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{lustful}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="lustful check" title="lustful check"><input name="attr_lustful_check" title="@{lustful_check}" type="checkbox" value="lustful check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="energetic check" title="energetic check"><input name="attr_energetic_check" title="@{energetic_check}" type="checkbox" value="energetic check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="energetic" title="energetic" name="roll_energetic" type="roll" value="&{template:rolls} {{header=^{energetic}}} {{dice=[[{1d20+({@{energetic}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{energetic}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{energetic}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="energetic"><input name="attr_energetic" placeholder="#" title="@{energetic}" type="number" value="0"/></label><span>/</span><label data-i18n-title="lazy"><input name="attr_lazy" placeholder="#" title="@{lazy}" type="number" value="0"/></label><button class="capitalize" data-i18n="lazy" title="lazy" name="roll_lazy" type="roll" value="&{template:rolls} {{header=^{lazy}}} {{dice=[[{1d20+({@{lazy}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{lazy}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{lazy}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="lazy check" title="lazy check"><input name="attr_lazy_check" title="@{lazy_check}" type="checkbox" value="lazy check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="forgiving check" title="forgiving check"><input name="attr_forgiving_check" title="@{forgiving_check}" type="checkbox" value="forgiving check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="forgiving" title="forgiving" name="roll_forgiving" type="roll" value="&{template:rolls} {{header=^{forgiving}}} {{dice=[[{1d20+({@{forgiving}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{forgiving}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{forgiving}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="forgiving"><input name="attr_forgiving" placeholder="#" title="@{forgiving}" type="number" value="0"/></label><span>/</span><label data-i18n-title="vengeful"><input name="attr_vengeful" placeholder="#" title="@{vengeful}" type="number" value="0"/></label><button class="capitalize" data-i18n="vengeful" title="vengeful" name="roll_vengeful" type="roll" value="&{template:rolls} {{header=^{vengeful}}} {{dice=[[{1d20+({@{vengeful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{vengeful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{vengeful}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="vengeful check" title="vengeful check"><input name="attr_vengeful_check" title="@{vengeful_check}" type="checkbox" value="vengeful check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="generous check" title="generous check"><input name="attr_generous_check" title="@{generous_check}" type="checkbox" value="generous check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="generous" title="generous" name="roll_generous" type="roll" value="&{template:rolls} {{header=^{generous}}} {{dice=[[{1d20+({@{generous}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{generous}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{generous}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="generous"><input name="attr_generous" placeholder="#" title="@{generous}" type="number" value="0"/></label><span>/</span><label data-i18n-title="selfish"><input name="attr_selfish" placeholder="#" title="@{selfish}" type="number" value="0"/></label><button class="capitalize" data-i18n="selfish" title="selfish" name="roll_selfish" type="roll" value="&{template:rolls} {{header=^{selfish}}} {{dice=[[{1d20+({@{selfish}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{selfish}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{selfish}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="selfish check" title="selfish check"><input name="attr_selfish_check" title="@{selfish_check}" type="checkbox" value="selfish check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="honest check" title="honest check"><input name="attr_honest_check" title="@{honest_check}" type="checkbox" value="honest check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="honest" title="honest" name="roll_honest" type="roll" value="&{template:rolls} {{header=^{honest}}} {{dice=[[{1d20+({@{honest}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{honest}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{honest}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="honest"><input name="attr_honest" placeholder="#" title="@{honest}" type="number" value="0"/></label><span>/</span><label data-i18n-title="deceitful"><input name="attr_deceitful" placeholder="#" title="@{deceitful}" type="number" value="0"/></label><button class="capitalize" data-i18n="deceitful" title="deceitful" name="roll_deceitful" type="roll" value="&{template:rolls} {{header=^{deceitful}}} {{dice=[[{1d20+({@{deceitful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{deceitful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{deceitful}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="deceitful check" title="deceitful check"><input name="attr_deceitful_check" title="@{deceitful_check}" type="checkbox" value="deceitful check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="just check" title="just check"><input name="attr_just_check" title="@{just_check}" type="checkbox" value="just check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="just" title="just" name="roll_just" type="roll" value="&{template:rolls} {{header=^{just}}} {{dice=[[{1d20+({@{just}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{just}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{just}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="just"><input name="attr_just" placeholder="#" title="@{just}" type="number" value="0"/></label><span>/</span><label data-i18n-title="arbitrary"><input name="attr_arbitrary" placeholder="#" title="@{arbitrary}" type="number" value="0"/></label><button class="capitalize" data-i18n="arbitrary" title="arbitrary" name="roll_arbitrary" type="roll" value="&{template:rolls} {{header=^{arbitrary}}} {{dice=[[{1d20+({@{arbitrary}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{arbitrary}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{arbitrary}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="arbitrary check" title="arbitrary check"><input name="attr_arbitrary_check" title="@{arbitrary_check}" type="checkbox" value="arbitrary check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="merciful check" title="merciful check"><input name="attr_merciful_check" title="@{merciful_check}" type="checkbox" value="merciful check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="merciful" title="merciful" name="roll_merciful" type="roll" value="&{template:rolls} {{header=^{merciful}}} {{dice=[[{1d20+({@{merciful}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{merciful}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{merciful}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="merciful"><input name="attr_merciful" placeholder="#" title="@{merciful}" type="number" value="0"/></label><span>/</span><label data-i18n-title="cruel"><input name="attr_cruel" placeholder="#" title="@{cruel}" type="number" value="0"/></label><button class="capitalize" data-i18n="cruel" title="cruel" name="roll_cruel" type="roll" value="&{template:rolls} {{header=^{cruel}}} {{dice=[[{1d20+({@{cruel}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{cruel}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{cruel}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="cruel check" title="cruel check"><input name="attr_cruel_check" title="@{cruel_check}" type="checkbox" value="cruel check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="modest check" title="modest check"><input name="attr_modest_check" title="@{modest_check}" type="checkbox" value="modest check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="modest" title="modest" name="roll_modest" type="roll" value="&{template:rolls} {{header=^{modest}}} {{dice=[[{1d20+({@{modest}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{modest}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{modest}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="modest"><input name="attr_modest" placeholder="#" title="@{modest}" type="number" value="0"/></label><span>/</span><label data-i18n-title="proud"><input name="attr_proud" placeholder="#" title="@{proud}" type="number" value="0"/></label><button class="capitalize" data-i18n="proud" title="proud" name="roll_proud" type="roll" value="&{template:rolls} {{header=^{proud}}} {{dice=[[{1d20+({@{proud}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{proud}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{proud}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="proud check" title="proud check"><input name="attr_proud_check" title="@{proud_check}" type="checkbox" value="proud check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="prudent check" title="prudent check"><input name="attr_prudent_check" title="@{prudent_check}" type="checkbox" value="prudent check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="prudent" title="prudent" name="roll_prudent" type="roll" value="&{template:rolls} {{header=^{prudent}}} {{dice=[[{1d20+({@{prudent}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{prudent}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{prudent}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="prudent"><input name="attr_prudent" placeholder="#" title="@{prudent}" type="number" value="0"/></label><span>/</span><label data-i18n-title="reckless"><input name="attr_reckless" placeholder="#" title="@{reckless}" type="number" value="0"/></label><button class="capitalize" data-i18n="reckless" title="reckless" name="roll_reckless" type="roll" value="&{template:rolls} {{header=^{reckless}}} {{dice=[[{1d20+({@{reckless}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{reckless}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{reckless}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="reckless check" title="reckless check"><input name="attr_reckless_check" title="@{reckless_check}" type="checkbox" value="reckless check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="spiritual check" title="spiritual check"><input name="attr_spiritual_check" title="@{spiritual_check}" type="checkbox" value="spiritual check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="spiritual" title="spiritual" name="roll_spiritual" type="roll" value="&{template:rolls} {{header=^{spiritual}}} {{dice=[[{1d20+({@{spiritual}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{spiritual}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{spiritual}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="spiritual"><input name="attr_spiritual" placeholder="#" title="@{spiritual}" type="number" value="0"/></label><span>/</span><label data-i18n-title="worldly"><input name="attr_worldly" placeholder="#" title="@{worldly}" type="number" value="0"/></label><button class="capitalize" data-i18n="worldly" title="worldly" name="roll_worldly" type="roll" value="&{template:rolls} {{header=^{worldly}}} {{dice=[[{1d20+({@{worldly}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{worldly}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{worldly}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="worldly check" title="worldly check"><input name="attr_worldly_check" title="@{worldly_check}" type="checkbox" value="worldly check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="temperate check" title="temperate check"><input name="attr_temperate_check" title="@{temperate_check}" type="checkbox" value="temperate check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="temperate" title="temperate" name="roll_temperate" type="roll" value="&{template:rolls} {{header=^{temperate}}} {{dice=[[{1d20+({@{temperate}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{temperate}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{temperate}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="temperate"><input name="attr_temperate" placeholder="#" title="@{temperate}" type="number" value="0"/></label><span>/</span><label data-i18n-title="indulgent"><input name="attr_indulgent" placeholder="#" title="@{indulgent}" type="number" value="0"/></label><button class="capitalize" data-i18n="indulgent" title="indulgent" name="roll_indulgent" type="roll" value="&{template:rolls} {{header=^{indulgent}}} {{dice=[[{1d20+({@{indulgent}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{indulgent}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{indulgent}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="indulgent check" title="indulgent check"><input name="attr_indulgent_check" title="@{indulgent_check}" type="checkbox" value="indulgent check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="trusting check" title="trusting check"><input name="attr_trusting_check" title="@{trusting_check}" type="checkbox" value="trusting check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="trusting" title="trusting" name="roll_trusting" type="roll" value="&{template:rolls} {{header=^{trusting}}} {{dice=[[{1d20+({@{trusting}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{trusting}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{trusting}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="trusting"><input name="attr_trusting" placeholder="#" title="@{trusting}" type="number" value="0"/></label><span>/</span><label data-i18n-title="suspicious"><input name="attr_suspicious" placeholder="#" title="@{suspicious}" type="number" value="0"/></label><button class="capitalize" data-i18n="suspicious" title="suspicious" name="roll_suspicious" type="roll" value="&{template:rolls} {{header=^{suspicious}}} {{dice=[[{1d20+({@{suspicious}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{suspicious}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{suspicious}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="suspicious check" title="suspicious check"><input name="attr_suspicious_check" title="@{suspicious_check}" type="checkbox" value="suspicious check"/><span class="pictos">3</span></label></div><div class="row traits hide"><label class="styled-checkbox grid" data-i18n-title="valorous check" title="valorous check"><input name="attr_valorous_check" title="@{valorous_check}" type="checkbox" value="valorous check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="valorous" title="valorous" name="roll_valorous" type="roll" value="&{template:rolls} {{header=^{valorous}}} {{dice=[[{1d20+({@{valorous}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{valorous}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{valorous}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="valorous"><input name="attr_valorous" placeholder="#" title="@{valorous}" type="number" value="0"/></label><span>/</span><label data-i18n-title="cowardly"><input name="attr_cowardly" placeholder="#" title="@{cowardly}" type="number" value="0"/></label><button class="capitalize" data-i18n="cowardly" title="cowardly" name="roll_cowardly" type="roll" value="&{template:rolls} {{header=^{cowardly}}} {{dice=[[{1d20+({@{cowardly}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{cowardly}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{cowardly}+(?{Modifier|0}),0}kl1)]]}}"></button><label class="styled-checkbox grid" data-i18n-title="cowardly check" title="cowardly check"><input name="attr_cowardly_check" title="@{cowardly_check}" type="checkbox" value="cowardly check"/><span class="pictos">3</span></label></div><div class="repeating-container hide"><fieldset class="repeating_traits"><div class="row"><label class="styled-checkbox grid" data-i18n-title="check" title="check"><input name="attr_check" title="@{check}" type="checkbox" value="check"/><span class="pictos">3</span></label><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_target-value" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{target_value}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{target_value}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{target_value}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></fieldset></div></div><div class="passions grid"><input type="hidden" name="attr_hide_passions" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="passions"></h1><div class="chevron"><input type="checkbox" name="attr_hide_passions"/><span>^</span></div></div><div class="repeating-container hide"><fieldset class="repeating_passions"><div class="row"><label class="styled-checkbox grid" data-i18n-title="check" title="check"><input name="attr_check" title="@{check}" type="checkbox" value="check"/><span class="pictos">3</span></label><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_target-value" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{target_value}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{target_value}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{target_value}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></fieldset></div></div><div class="grid squire"><input type="hidden" name="attr_hide_squire" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="squire"></h1><div class="chevron"><input type="checkbox" name="attr_hide_squire"/><span>^</span></div></div><div class="grid body hide"><div class="grid 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="name" data-i18n-title="name"></h3></div><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_squire_name" title="@{squire_name}" type="text" value=""/></label></div><div class="grid age"><div class="grid 2autocolumn"> <div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="age" data-i18n-title="age"></h3></div><label data-i18n-title="age"><input data-i18n-placeholder="age" name="attr_squire_age" title="@{squire_age}" type="text" value=""/></label></div><div class="grid skill"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="skill" data-i18n-title="skill"></h3></div><label data-i18n-title="squire skill"><input name="attr_squire_skill" placeholder="#" title="@{squire_skill}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_squire-skill" type="roll" value="&{template:rolls} {{header=^{squire}}}  ^{skill}}} {{dice=[[{1d20+({@{squire_skill}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{squire_skill}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{squire_skill}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></div><div class="repeating-container"><fieldset class="repeating_squire_skills"><div class="row"><label class="styled-checkbox grid" data-i18n-title="check" title="check"><input name="attr_check" title="@{check}" type="checkbox" value="check"/><span class="pictos">3</span></label><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><label data-i18n-title="skill"><input name="attr_skill" placeholder="#" title="@{skill}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_skill" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{skill}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{skill}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{skill}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></fieldset></div><div class="row grid"><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="squire notes" data-i18n-title="squire notes"></h2></div><div class="grid notes"><input class="flag" name="attr_flag_squire_notes" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><span class="display" name="attr_squire_notes"></span><textarea data-i18n-placeholder="squire notes" name="attr_squire_notes" placeholder="squire notes"></textarea></div></div></div></div></div><div class="col grid gold-left-border"><div class="characteristics grid"><input type="hidden" name="attr_hide_characteristics" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="characteristics"></h1><div class="chevron"><input type="checkbox" name="attr_hide_characteristics"/><span>^</span></div></div><div class="grid core hide"><div class="grid row centered"><button class="uppercase" data-i18n="siz" name="roll_size" type="roll" value="&{template:rolls} {{header=^{size}}} {{dice=[[{1d20+({@{size}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{size}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{size}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="size"><input name="attr_size" placeholder="#" title="@{size}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="dex" name="roll_dexterity" type="roll" value="&{template:rolls} {{header=^{dexterity}}} {{dice=[[{1d20+({@{dexterity}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{dexterity}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{dexterity}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="dexterity"><input name="attr_dexterity" placeholder="#" title="@{dexterity}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="str" name="roll_strength" type="roll" value="&{template:rolls} {{header=^{strength}}} {{dice=[[{1d20+({@{strength}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{strength}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{strength}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="strength"><input name="attr_strength" placeholder="#" title="@{strength}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="con" name="roll_constitution" type="roll" value="&{template:rolls} {{header=^{constitution}}} {{dice=[[{1d20+({@{constitution}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{constitution}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{constitution}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="constitution"><input name="attr_constitution" placeholder="#" title="@{constitution}" type="number" value="0"/></label></div></div><div class="grid row centered"><button class="uppercase" data-i18n="app" name="roll_appearance" type="roll" value="&{template:rolls} {{header=^{appearance}}} {{dice=[[{1d20+({@{appearance}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{appearance}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{appearance}+(?{Modifier|0}),0}kl1)]]}}"></button><div class="shield mt"><label data-i18n-title="appearance"><input name="attr_appearance" placeholder="#" title="@{appearance}" type="number" value="0"/></label></div></div></div><div class="row grid 2column statistic hide"><div class="row"><h2 class="text-primary small-caps ellipse" data-i18n="health" data-i18n-title="health"></h2><div class="table"><div class="grid header 2column"><h3 class="small-caps text-left" data-i18n="statistic"></h3><div class="flex-center"><h3 class="small-caps" data-i18n="value"></h3></div></div><div class="grid body"><div class="row grid 2column"><h3 class="text-left" data-i18n="hit points"></h3><span class="text-center" name="attr_hit_points"></span></div><div class="row grid 2column"><h3 class="text-left" data-i18n="knockdown"></h3><span class="text-center" name="attr_knockdown"></span></div><div class="row grid 2column"><h3 class="text-left" data-i18n="major wound"></h3><span class="text-center" name="attr_major_wound"></span></div><div class="row grid 2column"><h3 class="text-left" data-i18n="unconscious"></h3><span class="text-center" name="attr_unconscious"></span></div></div></div></div><div class="row"><h2 class="text-primary small-caps ellipse" data-i18n="other" data-i18n-title="other"></h2><div class="table"><div class="grid header 2column"><h3 class="small-caps text-left" data-i18n="statistic"></h3><div class="flex-center"><h3 class="small-caps" data-i18n="value"></h3></div></div><div class="grid body"><div class="row grid 2column"><h3 class="text-left" data-i18n="movement"></h3><span class="text-center" name="attr_movement"></span></div><div class="row grid 2column"><h3 class="text-left" data-i18n="armor points"></h3><label data-i18n-title="armor points"><input data-i18n-placeholder="armor points" name="attr_armor_points" title="@{armor_points}" type="text" value=""/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="current glory"></h3><label data-i18n-title="current glory"><input data-i18n-placeholder="current glory" name="attr_current_glory" title="@{current_glory}" type="text" value=""/></label></div><div class="row grid 2column"><h3 class="text-left" data-i18n="healing rate"></h3><span class="text-center" name="attr_healing_rate"></span></div></div></div></div></div></div><div class="grid skills"><input type="hidden" name="attr_hide_skills" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="skills"></h1><div class="chevron"><input type="checkbox" name="attr_hide_skills"/><span>^</span></div></div><div class="grid body 2column core-skills hide"><div class="row col-3 awareness undefined"><label class="styled-checkbox grid" data-i18n-title="awareness check" title="awareness check"><input name="attr_awareness_check" title="@{awareness_check}" type="checkbox" value="awareness check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="awareness" title="awareness" name="roll_awareness" type="roll" value="&{template:rolls} {{header=^{awareness}}} {{dice=[[{1d20+({@{awareness}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{awareness}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{awareness}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="awareness"><input name="attr_awareness" placeholder="#" title="@{awareness}" type="number" value="0"/></label></div><div class="row col-3 chirurgery undefined"><label class="styled-checkbox grid" data-i18n-title="chirurgery check" title="chirurgery check"><input name="attr_chirurgery_check" title="@{chirurgery_check}" type="checkbox" value="chirurgery check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="chirurgery" title="chirurgery" name="roll_chirurgery" type="roll" value="&{template:rolls} {{header=^{chirurgery}}} {{dice=[[{1d20+({@{chirurgery}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{chirurgery}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{chirurgery}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="chirurgery"><input name="attr_chirurgery" placeholder="#" title="@{chirurgery}" type="number" value="0"/></label></div><div class="row col-3 compose undefined"><label class="styled-checkbox grid" data-i18n-title="compose check" title="compose check"><input name="attr_compose_check" title="@{compose_check}" type="checkbox" value="compose check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="compose" title="compose" name="roll_compose" type="roll" value="&{template:rolls} {{header=^{compose}}} {{dice=[[{1d20+({@{compose}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{compose}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{compose}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="compose"><input name="attr_compose" placeholder="#" title="@{compose}" type="number" value="0"/></label></div><div class="row col-3 courtesy undefined"><label class="styled-checkbox grid" data-i18n-title="courtesy check" title="courtesy check"><input name="attr_courtesy_check" title="@{courtesy_check}" type="checkbox" value="courtesy check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="courtesy" title="courtesy" name="roll_courtesy" type="roll" value="&{template:rolls} {{header=^{courtesy}}} {{dice=[[{1d20+({@{courtesy}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{courtesy}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{courtesy}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="courtesy"><input name="attr_courtesy" placeholder="#" title="@{courtesy}" type="number" value="0"/></label></div><div class="row col-3 dancing undefined"><label class="styled-checkbox grid" data-i18n-title="dancing check" title="dancing check"><input name="attr_dancing_check" title="@{dancing_check}" type="checkbox" value="dancing check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="dancing" title="dancing" name="roll_dancing" type="roll" value="&{template:rolls} {{header=^{dancing}}} {{dice=[[{1d20+({@{dancing}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{dancing}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{dancing}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="dancing"><input name="attr_dancing" placeholder="#" title="@{dancing}" type="number" value="0"/></label></div><div class="row col-3 falconry undefined"><label class="styled-checkbox grid" data-i18n-title="falconry check" title="falconry check"><input name="attr_falconry_check" title="@{falconry_check}" type="checkbox" value="falconry check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="falconry" title="falconry" name="roll_falconry" type="roll" value="&{template:rolls} {{header=^{falconry}}} {{dice=[[{1d20+({@{falconry}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{falconry}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{falconry}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="falconry"><input name="attr_falconry" placeholder="#" title="@{falconry}" type="number" value="0"/></label></div><div class="row col-3 fashion undefined"><label class="styled-checkbox grid" data-i18n-title="fashion check" title="fashion check"><input name="attr_fashion_check" title="@{fashion_check}" type="checkbox" value="fashion check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="fashion" title="fashion" name="roll_fashion" type="roll" value="&{template:rolls} {{header=^{fashion}}} {{dice=[[{1d20+({@{fashion}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{fashion}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{fashion}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="fashion"><input name="attr_fashion" placeholder="#" title="@{fashion}" type="number" value="0"/></label></div><div class="row col-3 first aid undefined"><label class="styled-checkbox grid" data-i18n-title="first aid check" title="first aid check"><input name="attr_first_aid_check" title="@{first_aid_check}" type="checkbox" value="first aid check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="first aid" title="first aid" name="roll_first-aid" type="roll" value="&{template:rolls} {{header=^{first aid}}} {{dice=[[{1d20+({@{first_aid}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{first_aid}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{first_aid}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="first aid"><input name="attr_first_aid" placeholder="#" title="@{first_aid}" type="number" value="0"/></label></div><div class="row col-3 flirting undefined"><label class="styled-checkbox grid" data-i18n-title="flirting check" title="flirting check"><input name="attr_flirting_check" title="@{flirting_check}" type="checkbox" value="flirting check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="flirting" title="flirting" name="roll_flirting" type="roll" value="&{template:rolls} {{header=^{flirting}}} {{dice=[[{1d20+({@{flirting}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{flirting}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{flirting}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="flirting"><input name="attr_flirting" placeholder="#" title="@{flirting}" type="number" value="0"/></label></div><div class="row col-3 folklore undefined"><label class="styled-checkbox grid" data-i18n-title="folklore check" title="folklore check"><input name="attr_folklore_check" title="@{folklore_check}" type="checkbox" value="folklore check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="folklore" title="folklore" name="roll_folklore" type="roll" value="&{template:rolls} {{header=^{folklore}}} {{dice=[[{1d20+({@{folklore}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{folklore}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{folklore}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="folklore"><input name="attr_folklore" placeholder="#" title="@{folklore}" type="number" value="0"/></label></div><div class="row col-3 gaming undefined"><label class="styled-checkbox grid" data-i18n-title="gaming check" title="gaming check"><input name="attr_gaming_check" title="@{gaming_check}" type="checkbox" value="gaming check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="gaming" title="gaming" name="roll_gaming" type="roll" value="&{template:rolls} {{header=^{gaming}}} {{dice=[[{1d20+({@{gaming}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{gaming}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{gaming}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="gaming"><input name="attr_gaming" placeholder="#" title="@{gaming}" type="number" value="0"/></label></div><div class="row col-3 hunting undefined"><label class="styled-checkbox grid" data-i18n-title="hunting check" title="hunting check"><input name="attr_hunting_check" title="@{hunting_check}" type="checkbox" value="hunting check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="hunting" title="hunting" name="roll_hunting" type="roll" value="&{template:rolls} {{header=^{hunting}}} {{dice=[[{1d20+({@{hunting}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{hunting}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{hunting}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="hunting"><input name="attr_hunting" placeholder="#" title="@{hunting}" type="number" value="0"/></label></div><div class="row col-3 intrigue undefined"><label class="styled-checkbox grid" data-i18n-title="intrigue check" title="intrigue check"><input name="attr_intrigue_check" title="@{intrigue_check}" type="checkbox" value="intrigue check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="intrigue" title="intrigue" name="roll_intrigue" type="roll" value="&{template:rolls} {{header=^{intrigue}}} {{dice=[[{1d20+({@{intrigue}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{intrigue}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{intrigue}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="intrigue"><input name="attr_intrigue" placeholder="#" title="@{intrigue}" type="number" value="0"/></label></div><div class="row col-3 literacy undefined"><label class="styled-checkbox grid" data-i18n-title="literacy check" title="literacy check"><input name="attr_literacy_check" title="@{literacy_check}" type="checkbox" value="literacy check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="literacy" title="literacy" name="roll_literacy" type="roll" value="&{template:rolls} {{header=^{literacy}}} {{dice=[[{1d20+({@{literacy}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{literacy}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{literacy}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="literacy"><input name="attr_literacy" placeholder="#" title="@{literacy}" type="number" value="0"/></label></div><div class="row col-3 orate undefined"><label class="styled-checkbox grid" data-i18n-title="orate check" title="orate check"><input name="attr_orate_check" title="@{orate_check}" type="checkbox" value="orate check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="orate" title="orate" name="roll_orate" type="roll" value="&{template:rolls} {{header=^{orate}}} {{dice=[[{1d20+({@{orate}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{orate}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{orate}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="orate"><input name="attr_orate" placeholder="#" title="@{orate}" type="number" value="0"/></label></div><div class="row col-3 play instrument undefined"><label class="styled-checkbox grid" data-i18n-title="play instrument check" title="play instrument check"><input name="attr_play_instrument_check" title="@{play_instrument_check}" type="checkbox" value="play instrument check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="play instrument" title="play instrument" name="roll_play-instrument" type="roll" value="&{template:rolls} {{header=^{play instrument}}} {{dice=[[{1d20+({@{play_instrument}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{play_instrument}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{play_instrument}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="play instrument"><input name="attr_play_instrument" placeholder="#" title="@{play_instrument}" type="number" value="0"/></label></div><div class="row col-3 recognize undefined"><label class="styled-checkbox grid" data-i18n-title="recognize check" title="recognize check"><input name="attr_recognize_check" title="@{recognize_check}" type="checkbox" value="recognize check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="recognize" title="recognize" name="roll_recognize" type="roll" value="&{template:rolls} {{header=^{recognize}}} {{dice=[[{1d20+({@{recognize}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{recognize}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{recognize}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="recognize"><input name="attr_recognize" placeholder="#" title="@{recognize}" type="number" value="0"/></label></div><div class="row col-3 religion undefined"><label class="styled-checkbox grid" data-i18n-title="religion check" title="religion check"><input name="attr_religion_check" title="@{religion_check}" type="checkbox" value="religion check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="religion" title="religion" name="roll_religion" type="roll" value="&{template:rolls} {{header=^{religion}}} {{dice=[[{1d20+({@{religion}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{religion}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{religion}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="religion"><input name="attr_religion" placeholder="#" title="@{religion}" type="number" value="0"/></label></div><div class="row col-3 singing undefined"><label class="styled-checkbox grid" data-i18n-title="singing check" title="singing check"><input name="attr_singing_check" title="@{singing_check}" type="checkbox" value="singing check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="singing" title="singing" name="roll_singing" type="roll" value="&{template:rolls} {{header=^{singing}}} {{dice=[[{1d20+({@{singing}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{singing}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{singing}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="singing"><input name="attr_singing" placeholder="#" title="@{singing}" type="number" value="0"/></label></div><div class="row col-3 stewardship undefined"><label class="styled-checkbox grid" data-i18n-title="stewardship check" title="stewardship check"><input name="attr_stewardship_check" title="@{stewardship_check}" type="checkbox" value="stewardship check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="stewardship" title="stewardship" name="roll_stewardship" type="roll" value="&{template:rolls} {{header=^{stewardship}}} {{dice=[[{1d20+({@{stewardship}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{stewardship}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{stewardship}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="stewardship"><input name="attr_stewardship" placeholder="#" title="@{stewardship}" type="number" value="0"/></label></div></div><div class="grid body 2column combat-skills hide"><div class="row subheader mt flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="combat skills" data-i18n-title="combat skills"></h2></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="battle check" title="battle check"><input name="attr_battle_check" title="@{battle_check}" type="checkbox" value="battle check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="battle" title="battle" name="roll_battle" type="roll" value="&{template:rolls} {{header=^{battle}}} {{dice=[[{1d20+({@{battle}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{battle}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{battle}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="battle"><input name="attr_battle" placeholder="#" title="@{battle}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="bow check" title="bow check"><input name="attr_bow_check" title="@{bow_check}" type="checkbox" value="bow check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="bow" title="bow" name="roll_bow" type="roll" value="&{template:rolls} {{header=^{bow}}} {{dice=[[{1d20+({@{bow}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{bow}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{bow}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="bow"><input name="attr_bow" placeholder="#" title="@{bow}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="brawling check" title="brawling check"><input name="attr_brawling_check" title="@{brawling_check}" type="checkbox" value="brawling check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="brawling" title="brawling" name="roll_brawling" type="roll" value="&{template:rolls} {{header=^{brawling}}} {{dice=[[{1d20+({@{brawling}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{brawling}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{brawling}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="brawling"><input name="attr_brawling" placeholder="#" title="@{brawling}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="charge check" title="charge check"><input name="attr_charge_check" title="@{charge_check}" type="checkbox" value="charge check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="charge" title="charge" name="roll_charge" type="roll" value="&{template:rolls} {{header=^{charge}}} {{dice=[[{1d20+({@{charge}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{charge}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{charge}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="charge"><input name="attr_charge" placeholder="#" title="@{charge}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="crossbow check" title="crossbow check"><input name="attr_crossbow_check" title="@{crossbow_check}" type="checkbox" value="crossbow check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="crossbow" title="crossbow" name="roll_crossbow" type="roll" value="&{template:rolls} {{header=^{crossbow}}} {{dice=[[{1d20+({@{crossbow}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{crossbow}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{crossbow}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="crossbow"><input name="attr_crossbow" placeholder="#" title="@{crossbow}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="hafted check" title="hafted check"><input name="attr_hafted_check" title="@{hafted_check}" type="checkbox" value="hafted check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="hafted" title="hafted" name="roll_hafted" type="roll" value="&{template:rolls} {{header=^{hafted}}} {{dice=[[{1d20+({@{hafted}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{hafted}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{hafted}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="hafted"><input name="attr_hafted" placeholder="#" title="@{hafted}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="two-handed hafted check" title="two-handed hafted check"><input name="attr_two-handed_hafted_check" title="@{two-handed_hafted_check}" type="checkbox" value="two-handed hafted check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="two-handed hafted" title="two-handed hafted" name="roll_two-handed-hafted" type="roll" value="&{template:rolls} {{header=^{two-handed hafted}}} {{dice=[[{1d20+({@{two-handed_hafted}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{two-handed_hafted}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{two-handed_hafted}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="two-handed hafted"><input name="attr_two-handed_hafted" placeholder="#" title="@{two-handed_hafted}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="horsemanship check" title="horsemanship check"><input name="attr_horsemanship_check" title="@{horsemanship_check}" type="checkbox" value="horsemanship check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="horsemanship" title="horsemanship" name="roll_horsemanship" type="roll" value="&{template:rolls} {{header=^{horsemanship}}} {{dice=[[{1d20+({@{horsemanship}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{horsemanship}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{horsemanship}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="horsemanship"><input name="attr_horsemanship" placeholder="#" title="@{horsemanship}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="spear check" title="spear check"><input name="attr_spear_check" title="@{spear_check}" type="checkbox" value="spear check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="spear" title="spear" name="roll_spear" type="roll" value="&{template:rolls} {{header=^{spear}}} {{dice=[[{1d20+({@{spear}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{spear}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{spear}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="spear"><input name="attr_spear" placeholder="#" title="@{spear}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="sword check" title="sword check"><input name="attr_sword_check" title="@{sword_check}" type="checkbox" value="sword check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="sword" title="sword" name="roll_sword" type="roll" value="&{template:rolls} {{header=^{sword}}} {{dice=[[{1d20+({@{sword}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{sword}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{sword}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="sword"><input name="attr_sword" placeholder="#" title="@{sword}" type="number" value="0"/></label></div><div class="row col-3"><label class="styled-checkbox grid" data-i18n-title="thrown weapon check" title="thrown weapon check"><input name="attr_thrown_weapon_check" title="@{thrown_weapon_check}" type="checkbox" value="thrown weapon check"/><span class="pictos">3</span></label><button class="capitalize" data-i18n="thrown weapon" title="thrown weapon" name="roll_thrown-weapon" type="roll" value="&{template:rolls} {{header=^{thrown weapon}}} {{dice=[[{1d20+({@{thrown_weapon}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{thrown_weapon}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{thrown_weapon}+(?{Modifier|0}),0}kl1)]]}}"></button><label data-i18n-title="thrown weapon"><input name="attr_thrown_weapon" placeholder="#" title="@{thrown_weapon}" type="number" value="0"/></label></div></div><div class="row subheader mt flex-center hide"><h2 class="text-accent small-caps ellipse" data-i18n="other" data-i18n-title="other"></h2></div><div class="repeating-container hide"><fieldset class="repeating_skills"><div class="row"><label class="styled-checkbox grid" data-i18n-title="check" title="check"><input name="attr_check" title="@{check}" type="checkbox" value="check"/><span class="pictos">3</span></label><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label><button class="d20 capitalize" name="roll_target-value" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{target_value}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{target_value}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{target_value}+(?{Modifier|0}),0}kl1)]]}}">t</button></div></fieldset></div></div><div class="grid attacks"><input type="hidden" name="attr_hide_attacks" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="attacks"></h1><div class="chevron"><input type="checkbox" name="attr_hide_attacks"/><span>^</span></div></div><div class="table damage hide"><div class="grid header"><h3 class="small-caps text-left" data-i18n="damage type"></h3><h3 class="small-caps center" data-i18n="damage"></h3></div><div class="grid body"><div class="row align-center"><input class="hidden" name="attr_brawling_damage" type="hidden" value="0"/><h3 class="text-left" data-i18n="brawling damage"></h3><span class="display text-center uppercase" name="attr_brawling_damage"></span><button class="d20 capitalize" name="roll_brawling-damage" type="roll" value="&{template:rolls} {{header=^{brawling damage}}} {{damage=[[(@{brawling_damage}+(?{Damage Modifier|0}))]]}}">t</button></div><div class="row align-center"><input class="hidden" name="attr_brawling_damage_open" type="hidden" value="0"/><h3 class="text-left" data-i18n="brawling (open hand)"></h3><span class="display text-center uppercase" name="attr_brawling_damage_open"></span><button class="d20 capitalize" name="roll_brawling-damage-open" type="roll" value="&{template:rolls} {{header=^{brawling (open hand)}}} {{damage=[[(@{brawling_damage_open}+(?{Damage Modifier|0}))]]}}">t</button></div><div class="row align-center"><input class="hidden" name="attr_character_damage" type="hidden" value="0"/><h3 class="text-left" data-i18n="character damage"></h3><span class="display text-center uppercase" name="attr_character_damage"></span><button class="d20 capitalize" name="roll_character-damage" type="roll" value="&{template:rolls} {{header=^{character damage}}} {{damage=[[(@{character_damage}+(?{Damage Modifier|0}))]]}}">t</button></div><div class="row align-center"><input class="hidden" name="attr_critical_damage" type="hidden" value="4D6"/><h3 class="text-left" data-i18n="critical damage"></h3><span class="display text-center uppercase" name="attr_critical_damage"></span><button class="d20 capitalize" name="roll_critical-damage" type="roll" value="&{template:rolls} {{header=^{critical damage}}} {{damage=[[(@{critical_damage}+(?{Damage Modifier|0}))]]}}">t</button></div></div></div><div class="repeating-container table hide"><div class="grid header"><h3 class="small-caps text-left" data-i18n="weapon"></h3><h3 class="small-caps text-left" data-i18n="skill"></h3><h3 class="small-caps center" data-i18n="damage"></h3></div><div class="grid body"><div class="row align-center"><h3 class="text-left" data-i18n="brawling"></h3><span class="capitalize" data-i18n="brawling"></span><span class="display text-center" name="attr_brawling_damage"></span><button class="d20 capitalize" name="roll_brawling-damage" type="roll" value="&{template:rolls} {{header=^{brawling}}} {{dice=[[{1d20+({@{brawling}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{brawling}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{brawling}+(?{Modifier|0}),0}kl1)]]}} {{damage=[[(@{brawling_damage}+(?{Modifier|0}))]]}}">t</button></div><div class="row align-center"><h3 class="text-left" data-i18n="brawling (open hand)"></h3><span class="capitalize" data-i18n="brawling"></span><span class="display text-center" name="attr_brawling_damage_open"></span><button class="d20 capitalize" name="roll_brawling-damage-open" type="roll" value="&{template:rolls} {{header=^{brawling (open hand)}}} {{dice=[[{1d20+({@{brawling}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{brawling}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{brawling}+(?{Modifier|0}),0}kl1)]]}} {{damage=[[(@{brawling_damage_open}+(?{Modifier|0}))]]}}">t</button></div></div><fieldset class="repeating_attacks"><div class="row grid"><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label><div class="grid auto-flow-col"><select name="attr_skill" title="@{skill}" value="@{battle}"><option data-i18n="battle" value="@{battle}"></option><option data-i18n="bow" value="@{bow}"></option><option data-i18n="brawling" value="@{brawling}"></option><option data-i18n="charge" value="@{charge}"></option><option data-i18n="crossbow" value="@{crossbow}"></option><option data-i18n="hafted" value="@{hafted}"></option><option data-i18n="two-handed hafted" value="@{two-handed_hafted}"></option><option data-i18n="horsemanship" value="@{horsemanship}"></option><option data-i18n="spear" value="@{spear}"></option><option data-i18n="sword" value="@{sword}"></option><option data-i18n="thrown weapon" value="@{thrown_weapon}"></option><option data-i18n="other" value="@{target_value}"></option></select><input type="hidden" name="attr_skill"/><label data-i18n-title="target value"><input name="attr_target_value" placeholder="#" title="@{target_value}" type="number" value="0"/></label></div><label data-i18n-title="damage" title="damage"><input name="attr_damage" placeholder="5d6+5" title="@{damage}" type="text" value=""/></label><button class="d20 capitalize" name="roll_attack" type="roll" value="&{template:rolls} {{header=@{name}}} {{dice=[[{1d20+({@{skill}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{skill}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{skill}+(?{Modifier|0}),0}kl1)]]}} {{damage=[[(@{damage}+(?{Damage Modifier|0}))]]}}">t</button></div></fieldset></div></div></div></div><div class="row grid mb"><div class="horse grid"><input type="hidden" name="attr_hide_horses" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="horses"></h1><div class="chevron"><input type="checkbox" name="attr_hide_horses"/><span>^</span></div></div><div class="body grid hide"><div class="col grid"><div class="row grid 2column"><div class="flex-center">   <h2 class="text-accent small-caps ellipse" data-i18n="warhorse" data-i18n-title="warhorse"></h2></div><div class="grid 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="type" data-i18n-title="type"></h3></div><label data-i18n-title="warhorse type"><input data-i18n-placeholder="warhorse type" name="attr_warhorse_type" title="@{warhorse_type}" type="text" value=""/></label></div></div><div class="grid 2column attributes"><div class="row grid 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="armor" data-i18n-title="armor"></h3></div><label data-i18n-title="armor"><input data-i18n-placeholder="armor" name="attr_warhorse_armor" title="@{warhorse_armor}" type="text" value=""/></label></div><div class="row grid 2autocolumn"><div class="flex-center"><button class="uppercase" data-i18n="siz" name="roll_warhorse-siz" type="roll" value="&{template:rolls} {{header=^{warhorse siz}}} {{dice=[[{1d20+({@{warhorse_siz}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{warhorse_siz}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{warhorse_siz}+(?{Modifier|0}),0}kl1)]]}}"></button></div><label data-i18n-title="siz"><input name="attr_warhorse_siz" placeholder="#" title="@{warhorse_siz}" type="number" value="0"/></label></div><div class="row grid 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="move" data-i18n-title="move"></h3></div><label data-i18n-title="move"><input name="attr_warhorse_move" placeholder="#" title="@{warhorse_move}" type="number" value="0"/></label></div><div class="row grid 2autocolumn"><div class="flex-center"><button class="uppercase" data-i18n="dex" name="roll_warhorse-dex" type="roll" value="&{template:rolls} {{header=^{warhorse dex}}} {{dice=[[{1d20+({@{warhorse_dex}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{warhorse_dex}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{warhorse_dex}+(?{Modifier|0}),0}kl1)]]}}"></button></div><label data-i18n-title="dex"><input name="attr_warhorse_dex" placeholder="#" title="@{warhorse_dex}" type="number" value="0"/></label></div><div class="row grid 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="damage" data-i18n-title="damage"></h3></div><div class="grid 2column"><div class="grid 2autocolumn"><div class="flex-center"><button class="d20 capitalize" name="roll_warhorse-damage" type="roll" value="&{template:rolls} {{header=^{damage}}} {{damage=[[(@{warhorse_damage}+(?{Damage Modifier|0}))]]}}">t</button></div><label data-i18n-title="damage" title="damage"><input name="attr_warhorse_damage" placeholder="3D6" title="@{warhorse_damage}" type="text" value="3D6"/></label></div><div class="grid 2autocolumn"><div class="flex-center"><button class="d20 capitalize" name="roll_warhorse_charge_damage" type="roll" value="&{template:rolls} {{header=^{charge damage}}} {{damage=[[(@{warhorse_charge_damage}+(?{Damage Modifier|0}))]]}}">t</button></div><label data-i18n-title="charge damage" title="charge damage"><input name="attr_warhorse_charge_damage" placeholder="6D6" title="@{warhorse_charge_damage}" type="text" value="6D6"/></label></div></div></div><div class="row grid 2autocolumn"><div class="flex-center"><button class="uppercase" data-i18n="str" name="roll_warhorse-str" type="roll" value="&{template:rolls} {{header=^{warhorse str}}} {{dice=[[{1d20+({@{warhorse_str}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{warhorse_str}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{warhorse_str}+(?{Modifier|0}),0}kl1)]]}}"></button></div><label data-i18n-title="str"><input name="attr_warhorse_str" placeholder="#" title="@{warhorse_str}" type="number" value="0"/></label></div><div class="row grid 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="hp" data-i18n-title="hp"></h3></div><label data-i18n-title="hp"><input name="attr_warhorse_hp" placeholder="#" title="@{warhorse_hp}" type="number" value="0"/></label></div><div class="row grid 2autocolumn"><div class="flex-center"><button class="uppercase" data-i18n="con" name="roll_warhorse-con" type="roll" value="&{template:rolls} {{header=^{warhorse con}}} {{dice=[[{1d20+({@{warhorse_con}+(?{Modifier|0})-20,0}kh1),1d0+20}kl1 [Roll]]]}} {{threshold=[[{@{warhorse_con}+(?{Modifier|0}),20}kl1[Threshold]]]}} {{fumbleVal=[[20+({@{warhorse_con}+(?{Modifier|0}),0}kl1)]]}}"></button></div><label data-i18n-title="con"><input name="attr_warhorse_con" placeholder="#" title="@{warhorse_con}" type="number" value="0"/></label></div></div></div><div class="col grid gold-left-border"><div class="other-horses grid gold-bottom-border"><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="other horses" data-i18n-title="other horses"></h2></div><div class="grid notes"><input class="flag" name="attr_flag_other_horses" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><span class="display" name="attr_other_horses"></span><textarea data-i18n-placeholder="other horses" name="attr_other_horses" placeholder="other horses"></textarea></div></div><div class="joust-score"><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="joust score" data-i18n-title="joust score"></h2></div><div class="row 2column"><div class="col 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="win" data-i18n-title="win"></h3></div><label data-i18n-title="win"><input name="attr_win" placeholder="#" title="@{win}" type="number" value="0"/></label></div><div class="col 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="losses" data-i18n-title="losses"></h3></div><label data-i18n-title="losses"><input name="attr_losses" placeholder="#" title="@{losses}" type="number" value="0"/></label></div></div></div></div></div><div class="row grid"><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="equestrian notes" data-i18n-title="equestrian notes"></h2></div><div class="grid notes"><input class="flag" name="attr_flag_equestrian_notes" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><span class="display" name="attr_equestrian_notes"></span><textarea data-i18n-placeholder="equestrian notes" name="attr_equestrian_notes" placeholder="equestrian notes"></textarea></div></div></div><div class="equipment grid gap 2column"><div class="grid gap col"><input type="hidden" name="attr_hide_equipment" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="equipment"></h1><div class="chevron"><input type="checkbox" name="attr_hide_equipment"/><span>^</span></div></div><div class="repeating-container hide"><fieldset class="repeating_equipment"><div class="row grid flags"><input class="flag" name="attr_flag" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="name" data-i18n-title="name"></h2><span class="display bottom-border" name="attr_name"></span><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label></div><div class="row grid"><div class="grid gap category"><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="category" data-i18n-title="category"></h2><span class="display bottom-border" name="attr_category"></span><label data-i18n-title="category"><input data-i18n-placeholder="category" name="attr_category" title="@{category}" type="text" value=""/></label></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="value" data-i18n-title="value"></h2><span class="display bottom-border" name="attr_value"></span><label data-i18n-title="value"><input data-i18n-placeholder="value" name="attr_value" title="@{value}" type="text" value=""/></label></div></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="period restriction" data-i18n-title="period restriction"></h2><span class="display bottom-border" name="attr_period restriction"></span><label data-i18n-title="period restriction"><input data-i18n-placeholder="period restriction" name="attr_period_restriction" title="@{period_restriction}" type="text" value=""/></label></div></div><div class="row notes"><span class="display" name="attr_notes"></span><textarea data-i18n-placeholder="notes" name="attr_notes" placeholder="notes"></textarea></div></div></fieldset></div></div><div class="grid gap col"><input type="hidden" name="attr_hide_arms" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="arms"></h1><div class="chevron"><input type="checkbox" name="attr_hide_arms"/><span>^</span></div></div><div class="repeating-container hide"><fieldset class="repeating_arms"><div class="row grid flags"><input class="flag" name="attr_flag" title="Settings toggle" type="checkbox" value="true" checked="checked"/><span class="pictos">p</span><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="name" data-i18n-title="name"></h2><span class="display bottom-border" name="attr_name"></span><label data-i18n-title="name"><input data-i18n-placeholder="name" name="attr_name" title="@{name}" type="text" value=""/></label></div><div class="row grid"><div class="grid gap category"><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="category" data-i18n-title="category"></h2><span class="display bottom-border" name="attr_category"></span><label data-i18n-title="category"><input data-i18n-placeholder="category" name="attr_category" title="@{category}" type="text" value=""/></label></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="value" data-i18n-title="value"></h2><span class="display bottom-border" name="attr_value"></span><label data-i18n-title="value"><input data-i18n-placeholder="value" name="attr_value" title="@{value}" type="text" value=""/></label></div></div><div class="row grid 2autocolumn"><h2 class="small-caps ellipse" data-i18n="period restriction" data-i18n-title="period restriction"></h2><span class="display bottom-border" name="attr_period restriction"></span><label data-i18n-title="period restriction"><input data-i18n-placeholder="period restriction" name="attr_period_restriction" title="@{period_restriction}" type="text" value=""/></label></div></div><div class="row notes"><span class="display" name="attr_notes"></span><textarea data-i18n-placeholder="notes" name="attr_notes" placeholder="notes"></textarea></div></div></fieldset></div></div></div></div></div><div class="holdings grid"><div class="col"><div class="mb"><input type="hidden" name="attr_hide_knightly_event" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="knightly event"></h1><div class="chevron"><input type="checkbox" name="attr_hide_knightly_event"/><span>^</span></div></div><div class="family-history hide"><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="born" data-i18n-title="born"></h3></div><label data-i18n-title="born"><input data-i18n-placeholder="born" name="attr_born" title="@{born}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="squired" data-i18n-title="squired"></h3></div><label data-i18n-title="squired"><input data-i18n-placeholder="squired" name="attr_squired" title="@{squired}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="knighted" data-i18n-title="knighted"></h3></div><label data-i18n-title="knighted"><input data-i18n-placeholder="knighted" name="attr_knighted" title="@{knighted}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="landed" data-i18n-title="landed"></h3></div><label data-i18n-title="landed"><input data-i18n-placeholder="landed" name="attr_landed" title="@{landed}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="round table" data-i18n-title="round table"></h3></div><label data-i18n-title="round table"><input data-i18n-placeholder="round table" name="attr_round_table" title="@{round_table}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="ennobled" data-i18n-title="ennobled"></h3></div><label data-i18n-title="ennobled"><input data-i18n-placeholder="ennobled" name="attr_ennobled" title="@{ennobled}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="died" data-i18n-title="died"></h3></div><label data-i18n-title="died"><input data-i18n-placeholder="died" name="attr_died" title="@{died}" type="text" value=""/></label></div></div></div><div class="mb"><input type="hidden" name="attr_hide_passive_glory" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="passive glory"></h1><div class="chevron"><input type="checkbox" name="attr_hide_passive_glory"/><span>^</span></div></div><div class="annual-glory hide"><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="ideals" data-i18n-title="ideals"></h3></div><label data-i18n-title="ideals"><input data-i18n-placeholder="ideals" name="attr_passive_glory_ideals" title="@{passive_glory_ideals}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="fair appeal" data-i18n-title="fair appeal"></h3></div><label data-i18n-title="fair appeal"><input data-i18n-placeholder="fair appeal" name="attr_passive_glory_fair_appeal" title="@{passive_glory_fair_appeal}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="traits &amp; passions" data-i18n-title="traits &amp; passions"></h3></div><label data-i18n-title="traits &amp; passions"><input data-i18n-placeholder="traits &amp; passions" name="attr_passive_glory_traits_&amp;_passions" title="@{passive_glory_traits_&amp;_passions}" type="text" value=""/></label></div><div class="row 2autocolumn"><div class="flex-center"><h3 class="bold uppercase ellipse" data-i18n="estate glory" data-i18n-title="estate glory"></h3></div><label data-i18n-title="estate glory"><input data-i18n-placeholder="estate glory" name="attr_passive_glory_estate_glory" title="@{passive_glory_estate_glory}" type="text" value=""/></label></div><div class="row 2autocolumn"><h2 class="text-primary small-caps text-accent" data-i18n="total glory"></h2><label data-i18n-title="total glory"><input data-i18n-placeholder="total glory" name="attr_total_glory" title="@{total_glory}" type="text" value=""/></label></div></div></div><input type="hidden" name="attr_hide_holdings" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="holdings"></h1><div class="chevron"><input type="checkbox" name="attr_hide_holdings"/><span>^</span></div></div><div class="holdings-row hide"><div class="row 2autocolumn mb"><h2 class="text-accent small-caps ellipse" data-i18n="currency" data-i18n-title="currency"></h2><label data-i18n-title="currency"><input data-i18n-placeholder="currency" name="attr_currency" title="@{currency}" type="text" value=""/></label></div><div class="row"><textarea name="attr_holdings"></textarea></div></div></div><div class="col gold-left-border"><input type="hidden" name="attr_hide_history_events" value="1"/><div class="header grid auto-flow-col collapsible"><h1 data-i18n="history &amp; events"></h1><div class="chevron"><input type="checkbox" name="attr_hide_history_events"/><span>^</span></div></div><div class="character-history hide"><div class="row 2autocolumn"> <h2 class="text-accent small-caps ellipse" data-i18n="current game year" data-i18n-title="current game year"></h2><label data-i18n-title="current game year"><input data-i18n-placeholder="current game year" name="attr_current_game_year" title="@{current_game_year}" type="text" value=""/></label></div><div class="row events"><h2 class="text-accent small-caps ellipse" data-i18n="important event" data-i18n-title="important event"></h2><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="date" data-i18n-title="date"></h2></div><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="glory" data-i18n-title="glory"></h2></div><div class="flex-center"><h2 class="text-accent small-caps ellipse" data-i18n="total" data-i18n-title="total"></h2></div></div><div class="repeating-container"><fieldset class="repeating_events"><div class="row events"><label data-i18n-title="event"><input data-i18n-placeholder="event" name="attr_event" title="@{event}" type="text" value=""/></label><label data-i18n-title="date"><input data-i18n-placeholder="date" name="attr_date" title="@{date}" type="text" value=""/></label><label data-i18n-title="glory"><input data-i18n-placeholder="glory" name="attr_glory" title="@{glory}" type="text" value=""/></label><label data-i18n-title="total"><input data-i18n-placeholder="total" name="attr_total" title="@{total}" type="text" value=""/></label></div></fieldset></div></div></div></div><div class="grid settings"><div class="grid auto-flow-col gap row"><div class="col"><h1 data-i18n="character sheet type"></h1><select class="bold" name="attr_sheet_select" value="knight"><option data-i18n="knight" value="knight" selected="selected"></option><option data-i18n="npc" value="npc"></option></select></div></div><div class="grid 2column row"><div class="col gap"><h1 data-i18n="hide sections"></h1><div class="grid 2column"><div class="grid 2autocolumn"><h2 class="capitalize" data-i18n="npc knight attributes"></h2><label class="styled-checkbox grid" data-i18n-title="hide npc knight attributes" title="hide npc knight attributes"><input name="attr_hide_npc_knight_attributes" title="@{hide_npc_knight_attributes}" type="checkbox" value="hide npc knight attributes"/><span class="pictos">3</span></label></div></div></div></div></div></div></div><div class="compendium_warning"><span data-i18n="accepting drop">ACCEPTING DROP FROM COMPENDIUM</span></div><div class="footer"><div class="div"><span class="mr">© 2023 Chaosium Inc.</span><span class="mr">Version</span><span name="attr_version"></span></div></div><div class="rolltemplates"><rolltemplate class="sheet-rolltemplate-rolls"><div class="sheet-template-container"><!-- - Display a header on the template ---><div class="sheet-template-header">{{#header}}{{header}}{{/header}}</div><!-- - Display the dice roll in the template ---><div class="sheet-template-body">{{#luck}}<div class="sheet-template-row sheet-template-roll"><div class="sheet-template-col"><span>{{luck}} </span><span data-i18n="luck"></span></div>{{#calamity}}<div class="sheet-template-col"><span>{{calamity}} </span><span data-i18n="Benefit/Calamity"></span></div>{{/calamity}}</div>{{/luck}}
{{#dice}}<div class="sheet-template-row sheet-template-roll"><div class="sheet-template-col"><span>{{dice}} </span><span data-i18n="rolled"></span></div>{{/dice}}
{{#threshold}}<div class="sheet-template-col"><span>{{threshold}} </span><span data-i18n="threshold"></span></div>{{/threshold}}
{{#dice}}<div class="sheet-template-row sheet-result-row"><!-- Modified skill is greater than 19-->{{#rollGreater() threshold 19}}
{{#rollGreater() dice 19}}			<div class="sheet-rollResult"> <span data-i18n="Critical"></span></div>			{{/rollGreater() dice 19}}
    			{{#^rollGreater() dice 19}}			<div class="sheet-rollResult"> <span data-i18n="Success"></span></div>			{{/^rollGreater() dice 19}}
    		{{/rollGreater() threshold 19}}
    		{{#^rollGreater() threshold 19}}
    			{{#rollBetween() dice fumbleVal 20}}<div class="sheet-rollResult"> <span data-i18n="Fumble"></span></div>			{{/rollBetween() dice fumbleVal 20}}
    			{{#^rollBetween() dice fumbleVal 20}}
    				{{#rollTotal() dice threshold}}<div class="sheet-rollResult"> <span data-i18n="Critical"></span></div>				{{/rollTotal() dice threshold}}				
    				{{#^rollTotal() dice threshold}}
    					{{#rollGreater() dice threshold}}<div class="sheet-rollResult"> <span data-i18n="Failure"></span></div>					{{/rollGreater() dice threshold}}
    					{{#^rollGreater() dice threshold}}      <div class="sheet-rollResult"> <span class="text-center" data-i18n="Success"></span></div>					{{/^rollGreater() dice threshold}}
    				{{/^rollTotal() dice threshold}}
    			{{/^rollBetween() dice fumbleVal 20}}
    		{{/^rollGreater() threshold 19}}</div>{{/dice}}
{{#damage}}<div class="sheet-template-row sheet-template-damage">{{damage}}<br/><span data-i18n="damage"></span></div>{{/damage}}</div>{{#desc}}<div class="sheet-template-row"><span class="sheet-template-desc">{{desc}}</span></div>{{/desc}}</div></div></rolltemplate></div><script type="text/worker">const characteristics = {
  movement: ["strength", "dexterity"],
  hp: ["size", "constitution"],
  unconscious: ["hit_points"],
  knockdown: ["size"],
  majorWound: ["constitution"],
  healingRate: ["constitution"],
  brawlDamage: ["strength", "size"],
};

const repeatingSections = [
  "abilities",
  "equipment",
  "arms",
  "attacks",
  "passions",
  "skills",
  "traits",
];

const personalityTraits = {
  chaste: "lustful",
  energetic: "lazy",
  forgiving: "vengeful",
  generous: "selfish",
  honest: "deceitful",
  just: "arbitrary",
  merciful: "cruel",
  modest: "proud",
  prudent: "reckless",
  spiritual: "worldly",
  temperate: "indulgent",
  trusting: "suspicious",
  valorous: "cowardly",
};

const traits = [
  ...Object.keys(personalityTraits),
  ...Object.values(personalityTraits),
];

const skills = [
  "awareness",
  "chirurgery",
  "compose",
  "courtesy",
  "dancing",
  "falconry",
  "fashion",
  "first aid",
  "flirting",
  "folklore",
  "gaming",
  "hunting",
  "intrigue",
  "literacy",
  "orate",
  "play instrument",
  "recognize",
  "religion",
  "singing",
  "stewardship",
];

const combatSkills = [
  "battle",
  "bow",
  "brawling",
  "charge",
  "crossbow",
  "hafted",
  "two-handed hafted",
  "horsemanship",
  "spear",
  "sword",
  "thrown weapon",
];
const convertIntegerNegative = (number) =>
  number > 0 ? -Math.abs(number) : number;

const convertIntegersNegatives = (numbers) => {
  for (let [key, value] of Object.entries(numbers)) {
    numbers[key] = convertIntegerNegative(value);
  }
  return numbers;
};

const findRepeatingField = (trigger) => trigger.split("_")[1];

const getReprowid = (trigger) => {
  const split = trigger.split("_");
  return `${split[0]}_${split[1]}_${split[2]}`;
};

const getReprowAttribute = (key) => {
  const reprowid = getReprowid(key);
  return key.split(`${reprowid}_`)[1];
};

const getTranslations = (translationKeys) => {
  let translations = {};
  translationKeys.forEach(
    (key) => (translations[`${key}`] = getTranslationByKey(key))
  );
  return translations;
};

const parseInteger = (string) => parseFloat(string) || 0;

const parseIntegers = (numbers) => {
  for (let [key, value] of Object.entries(numbers)) {
    numbers[key] = parseFloat(value) || 0;
  }
  return numbers;
};

const sliceAttr = (attribute) => attribute.slice(2, -1);

const sumIntegers = (numbers) => numbers.reduce((a, b) => a + b, 0);

const attrName = (name) => name?.replace(/ /g, "_").toLowerCase();
//When performing calculations in King Arthur Pendragon, round
//0.5 and higher fractions upward and lesser fractions downward.
//For example, a character with a Damage value of 4.43 would
//have an effective value of 4, while a character with a Damage val-
//ue of 4.5 would have a 5.
const round = (sum) => (sum % 1 >= 0.5 ? Math.ceil(sum) : Math.floor(sum));

const total = (v) =>
  Object.values(v).reduce((partialSum, a) => partialSum + parseFloat(a), 0);

const updateBrawling = () => {
  const brawlingDamage = (values) => {
    //Brawl Damage =  (STR+SIZ)/6
    const damage = round(total(values) / 6);
    return {
      character_damage: `${damage}D6`,
      brawling_damage: `${damage}`,
      brawling_damage_open: `${round(damage / 2)}`,
    };
  };

  getAttrs(characteristics.brawlDamage, (values) => {
    setAttrs(brawlingDamage(values));
  });
};

characteristics.brawlDamage.forEach((attr) => {
  on(`change:${attr}`, () => updateBrawling());
});

characteristics.movement.forEach((attr) => {
  on(`change:${attr}`, () => {
    getAttrs(characteristics.movement, (values) => {
      //Movement Rate = [(STR + DEX) /2] + 5
      setAttrs({
        movement: round(total(values) / 2) + 5,
      });
    });
  });
});

characteristics.healingRate.forEach((attr) => {
  on(`change:${attr}`, ({ newValue }) => {
    //Healing Rate = CON/5
    setAttrs({
      healing_rate: round(newValue / 5),
    });
  });
});

characteristics.hp.forEach((attr) => {
  on(`change:${attr}`, () => {
    getAttrs(characteristics.hp, (values) => {
      //Total Hit Points = CON+SIZ
      setAttrs({
        hit_points: total(values),
      });
    });
  });
});

characteristics.unconscious.forEach((attr) => {
  on(`change:${attr}`, () =>
    getAttrs(characteristics.unconscious, (values) => {
      //Unconscious = Total Hit Points/4
      setAttrs({
        unconscious: round(total(values) / 4),
      });
    })
  );
});

characteristics.knockdown.forEach((attr) => {
  on(`change:${attr}`, ({ newValue }) => {
    setAttrs({
      knockdown: newValue,
    });
  });
});

characteristics.majorWound.forEach((attr) => {
  on(`change:${attr}`, ({ newValue }) => {
    setAttrs({
      [`major_wound`]: newValue,
    });
  });
});

on(`change:sheet_select`, ({ newValue }) => {
  setAttrs({
    sheet_type: newValue === "knight" ? "character" : newValue,
    character_type: "knight",
  });
});

on(`change:repeating_events:new_glory`, ({ triggerName }) => {
  const repeatingRow = getReprowid(triggerName);

  getSectionIDs("events", (idArray) => {
    let characteristics = [];
    idArray.forEach((id) =>
      characteristics.push(`repeating_events_${id}_new_glory`)
    );

    getAttrs(characteristics, (values) => {
      const parsedNums = parseIntegers(values);
      const gloryValues = Object.values(parsedNums);
      const sum = sumIntegers(gloryValues);

      setAttrs({
        glory_total: sum,
        [`${repeatingRow}_total_glory`]: sum,
      });
    });
  });
});
const versioningAttr = "latest_versioning_upgrade";

on("sheet:opened", () => {
  // setAttrs({ latest_versioning_upgrade: 3.2 }); //used for testing versioning
  getAttrs([versioningAttr], (v) => {
    versioning(parseFloat(v[versioningAttr]) || 1);
  });
});

const versionTwoFour = () => {
  getAttrs(["halfed"], (values) => {
    if (values.halfed) {
      setAttrs({
        hafted: values.halfed,
      });
    }
  });
};

const renameSectionAttrTargetValue = (section, attribute) => {
  getSectionIDs(section, (ids) => {
    const map = ids.map((id) => `${section}_${id}_${attribute}`);

    getAttrs(map, (v) => {
      let update = {};
      map.forEach((e) => {
        const rowId = getReprowid(e);

        if (v[`${e}`]) {
          update[`${rowId}_target_value`] = v[`${e}`];
        }
      });
      setAttrs(update);
    });
  });
};

const versionTwoFive = () => {
  renameSectionAttrTargetValue("repeating_passion", "passion");
  renameSectionAttrTargetValue("repeating_directed-trait", "trait");
  renameSectionAttrTargetValue("repeating_skills", "skill");
};

const versionTwoFiveTwo = () => {
  getAttrs(["play", "sing"], (v) => {
    const update = {};

    if (v.play) {
      update["play instrument"] = v.play;
    }

    if (v.sing) {
      update.singing = v.sing;
    }

    setAttrs(update);
  });
};

const versionTwoFiveThree = () => {
  const renameSectionAttr = (section, attribute) => {
    getSectionIDs(section, (ids) => {
      const map = ids.map((id) => `${section}_${id}_${attribute}`);
      getAttrs(map, (v) => {
        let update = {};
        map.forEach((e) => {
          const rowId = getReprowid(e);
          update[`${rowId}_name`] = v[`${e}`] ? v[`${e}`] : "";
          update[`${rowId}_flag`] = false;
        });
        setAttrs(update);
      });
    });
  };

  renameSectionAttr("repeating_equipment", "equipment");
  renameSectionAttr("repeating_arms", "equipment");
};

const versionThreeTwoOne = () => {
  const section = "repeating_passions";
  getSectionIDs(section, (ids) => {
    const map = ids.map((id) =>
      ["name", "target_value"].map((e) => `${section}_${id}_${e}`)
    );

    map.forEach((e) => {
      getAttrs(e, (v) => {
        const name = v[`${e[0]}`];
        const targetValue = v[`${e[1]}`];
        if (targetValue === 0) {
          getSectionIDs("repeating_passion", (oldIds) => {
            const oldMap = oldIds.map((id) =>
              ["name", "passion"].map((e) => `repeating_passion_${id}_${e}`)
            );

            oldMap.forEach((oldE) => {
              getAttrs(oldE, (oldV) => {
                if (oldV[`${oldE[0]}`] === name) {
                  setAttrs({
                    [`${e[1]}`]: oldV[`${oldE[1]}`],
                  });
                }
              });
            });
          });
        }
      });
    });
  });
};

const versionThreeZero = () => {
  const renameRepeatingSectionName = (section, newName, targetValue) => {
    const attrs = ["name", "target_value", "check"];

    getSectionIDs(section, (ids) => {
      const map = ids.map((id) =>
        [...attrs, targetValue].map((e) => `repeating_${section}_${id}_${e}`)
      );

      map.forEach((e) => {
        getAttrs(e, (v) => {
          const newSection = getRow(newName);
          let update = {};
          Object.entries(v).forEach(([key, value]) => {
            const attr = getReprowAttribute(key);

            if (attr === targetValue) {
              update[`${newSection}_target_value`] = value;
              return;
            }

            update[`${newSection}_${attr}`] = value;
          });
          setAttrs(update);
        });
      });
    });
  };

  renameRepeatingSectionName("passion", "passions", "passion");
  renameRepeatingSectionName("direct-trait", "traits", "trait");

  const setNPCAbilityFlagFalse = () => {
    getSectionIDs("repeating_abilities", (ids) => {
      const map = ids.map((id) => `repeating_abilities_${id}_flag`);
      let update = {};
      map.forEach((e) => (update[e] = false));
      setAttrs(update);
    });
  };

  setNPCAbilityFlagFalse();
};

const versionThreeTwo = () => {
  renameSectionAttrTargetValue("repeating_attacks", "other_skill");
  renameSectionAttrTargetValue("repeating_skills", "skill");
  renameSectionAttrTargetValue("repeating_traits", "traits");
  renameSectionAttrTargetValue("repeating_passions", "passion");

  getAttrs(["glory_won", "armor"], (v) => {
    const update = {};
    if (v["glory_won"]) {
      update["glory_award"] = v["glory_won"];
    }
    if (v["armor"]) {
      update["armor_points"] = v["armor"];
    }

    setAttrs(update);
  });
};

const versioning = async (version) => {
  const updateMessage = (v) =>
    console.log(
      `%c Pendragon 6th Edition is updating to ${v}`,
      "color: orange; font-weight:bold"
    );

  switch (true) {
    case version < 1:
      versioning(1);
      updateMessage(1);
      break;
    case version < 2.4:
      updateMessage(2.4);
      versionTwoFour();
      versioning(2.4);
      break;
    case version < 2.41:
      updateMessage(2.41);
      updateBrawling();
      versioning(2.41);
      break;
    case version < 2.5:
      updateMessage(2.5);
      versionTwoFive();
      versioning(2.5);
      break;
    case version < 2.52:
      updateMessage(2.52);
      versionTwoFiveTwo();
      versioning(2.52);
      break;
    case version < 2.53:
      updateMessage(2.53);
      versionTwoFiveThree();
      versioning(2.53);
      break;
    case version < 3:
      updateMessage(3);
      versionThreeZero();
      versioning(3);
      break;
    case version < 3.2:
      updateMessage(3.2);
      versionThreeTwo();
      versioning(3.2);
      break;
    case version < 3.21:
      updateMessage(3.21);
      versionThreeTwoOne();
      versioning(3.21);
      break;
    default:
      console.log(
        `%c Pendragon 6th Edition is update to date.`,
        "color: green; font-weight:bold"
      );
      setAttrs({ version, [`${versioningAttr}`]: version });
  }
};
const dropWarning = (v) => {
  console.log(
    `%c Pendragon 6th Edition: ${v}`,
    "color: orange; font-weight:bold"
  );
};

const handle_equipment = (page) => handle_item(page, getRow("equipment"));

const handle_arms = (page) => handle_item(page, getRow("arms"));

const handle_character = (page) => {
  const attrs = [
    "appearance",
    "armor_points",
    "constitution",
    "dexterity",
    "healing_rate",
    "hit_points",
    "knockdown",
    "major_wound",
    "movement",
    "size",
    "strength",
    "unconscious",
    "squire_name",
    "squire_age",
    "squire_skill",
    "squire_note",
  ];

  const update = getStaticUpdate(attrs, page);
  update["character_name"] = page.name;

  try {
    if (page.data.arms) {
      const arms = processDataArrays(page.data.arms, (data) =>
        update_item(data, getRow("arms"))
      );
      Object.assign(update, arms);
    }
    if (page.data.attacks) {
      const attacks = processDataArrays(page.data.attacks, (data) =>
        update_attack(data)
      );
      Object.assign(update, attacks);
    }

    if (page.data.passions) {
      const passions = processDataArrays(
        page.data.passions,
        updateSection("passions")
      );
      Object.assign(update, passions);
    }

    if (page.data.skills) {
      const dataSkills = update_mix_section(page.data.skills, "skills", [
        ...skills,
        ...combatSkills,
      ]);
      Object.assign(update, dataSkills);
    }

    if (page.data.traits) {
      const dataTraits = update_mix_section(page.data.traits, "traits", traits);
      Object.assign(update, dataTraits);
    }
    if (page.data.squire_notes) {
      update["flag_squire_notes"] = false;
    }

    setAttrs(update, {
      silent: true,
    });
  } catch (error) {
    console.warn(error);
  }
};

const handle_items = (page) => {
  const subcategory = page.data["subcategory"];

  switch (subcategory) {
    case "Armor":
      handle_arms(page);
      break;
    case "Animal":
    case "Service":
    case "Item":
      handle_equipment(page);
      break;
    case "Shield":
      handle_arms(page);
      break;
    case "Horse Armor":
      handle_arms(page);
      break;
    case "Ranged Weapon":
    case "Weapon":
      handle_weapon(page);
      handle_arms(page);
      break;
    default:
      dropWarning(`Unknown subcategory: ${subcategory}`);
  }
};

const dropAttrs = ["drop_name", "drop_data", "drop_content"];

const handle_drop = () => {
  getAttrs(dropAttrs, (v) => {
    if (!v.drop_name || !v.drop_data) {
      return;
    }

    const page = {
      name: v.drop_name,
      data: parseJSON(v.drop_data) ?? v.drop_data,
      content: v.drop_content,
    };

    const { Category } = page.data;

    switch (Category) {
      case "Creatures":
        resetRepeatingRows(repeatingSections);
        resetSkillList(page.data.skills);
        handle_npc(page);
        break;
      case "Horses":
        handle_horse(page);
        break;
      case "Items":
        handle_items(page);
        break;
      case "Squires":
        handle_squire(page);
        break;
      case "Pre-gens":
        resetRepeatingRows(repeatingSections);
        resetSkillList(page.data.skills);
        handle_character(page);
        break;
      default:
        dropWarning(`Unknown category: ${Category}`);
    }

    setAttrs(
      {
        drop_name: "",
        drop_data: "",
        drop_content: "",
        drop_category: "",
      },
      {
        silent: true,
      }
    );
  });
};

["data"].forEach((attr) => {
  on(`change:drop_${attr}`, () => {
    handle_drop();
  });
});
const getRepUpdate = (attrs, row, page) => {
  let update = {};

  attrs.forEach((attr) => {
    if (page?.[attr] ?? page?.data?.[attr]) {
      update[`${row}_${attr}`] =
        page[attr] ?? roll20Attribute(attr, page.data[attr]);
    }
  });

  if (attrs.includes("notes")) {
    update[`${row}_flag`] = false;
  }

  return update;
};
const getRow = (section) => `repeating_${section}_${generateRowID()}`;
const getStaticUpdate = (attrs, page) => {
  let update = {};

  attrs.forEach((attr) => {
    if (page?.[attr] ?? page?.data?.[attr]) {
      update[attr] = page[attr] ?? roll20Attribute(attr, page.data[attr]);
    }
  });

  return update;
};
const handle_horse = (page) => {
  const attrs = [
    "armor",
    "charge_damage",
    "con",
    "damage",
    "dex",
    "hp",
    "move",
    "siz",
    "str",
    "type",
  ];
  const warHorseAttrs = attrs.map((attr) => `warhorse_${attr}`);
  let update = getStaticUpdate([...warHorseAttrs, "equestrian_notes"], page);
  update["warhorse_type"] = page.name;
  update["flag_equestrian_notes"] = false;

  if (!update["warhorse_charge_damage"]) {
    update["warhorse_charge_damage"] = "0";
  }

  setAttrs(update);
};
const handle_item = (page, row) => {
  const update = update_item(page, row);
  setAttrs(update);
};
const handle_npc = (page) => {
  const attrs = [
    "size",
    "dexterity",
    "strength",
    "constitution",
    "appearance",
    "type",
    "hit_points",
    "knockdown",
    "major_wound",
    "unconscious",
    "movement",
    "armor_points",
    "current_glory",
    "healing_rate",
    "glory_award",
    "description",
    "movement  ",
    "valorous modifier",
  ];

  const update = getStaticUpdate(attrs, page);

  update["character_name"] = page.name;
  update["sheet_type"] = "npc";
  update["flag_description"] = false;

  ["equipment", "arms", "abilities"].forEach((section) => {
    const data = page.data[section];
    if (data) {
      const sectionUpdate = processDataArrays(data, (data) =>
        update_item(data, getRow(section))
      );
      Object.assign(update, sectionUpdate);
    } else update[`hide_${section}`] = "on";
  });

  if (page.data.attacks) {
    const attacks = processDataArrays(page.data.attacks, (data) =>
      update_attack(data)
    );
    Object.assign(update, attacks);

    const parsed = parseJSON(page.data.attacks);
    const attackSkills = parsed
      .filter(({ skill, target_value }) => skill && target_value)
      .map(({ skill, target_value }) => ({
        name: skill.toLowerCase(),
        target_value,
      }));

    if (attackSkills.length > 0) {
      const askills = update_mix_section(attackSkills, "skills", combatSkills);
      Object.assign(update, askills);
    }
  } else {
    update["hide_attacks"] = "on";
  }

  if (page.data.skills) {
    const dataSkills = update_mix_section(
      page.data.skills,
      "skills",
      combatSkills
    );
    Object.assign(update, dataSkills);
  } else {
    update["hide_skills"] = "on";
  }

  if (page.data.passions) {
    const passions = processDataArrays(
      page.data.passions,
      updateSection("passions")
    );
    Object.assign(update, passions);
  } else {
    update["hide_passions"] = "on";
  }

  if (page.data.traits) {
    const dataTraits = update_mix_section(page.data.traits, "traits", traits);
    Object.entries(personalityTraits).forEach(([positive, negative]) => {
      const keys = Object.keys(dataTraits);
      if (keys.includes(positive) && !keys.includes(negative)) {
        const targetValue = dataTraits[positive];
        dataTraits[negative] = 20 - targetValue;
      } else if (!keys.includes(positive) && keys.includes(negative)) {
        const targetValue = dataTraits[negative];
        dataTraits[positive] = 20 - targetValue;
      } else if (!keys.includes(positive) && !keys.includes(negative)) {
        dataTraits[positive] = 10;
        dataTraits[negative] = 10;
      }
    });

    Object.assign(update, dataTraits);
  } else {
    update["hide_personality_traits"] = "on";
  }

  setAttrs(update, {
    silent: true,
  });
};
const handle_squire = (page) => {
  const attrs = ["squire_age", "squire_skill", "squire_notes"];
  const update = getStaticUpdate(attrs, page);
  update["squire_name"] = page.name;
  update["flag_squire_notes"] = false;
  setAttrs(update);
};
const handle_weapon = (page) => {
  const update = update_attack(page);
  setAttrs(update);
};
const parseJSON = (jsonString) => {
  try {
    if (typeof jsonString === "object") {
      return jsonString;
    }

    return JSON.parse(jsonString);
  } catch (e) {
    console.log(`Error parsing JSON: ${jsonString}`);
    return undefined;
  }
};
const processDataArrays = (array, callback) => {
  if (array === undefined) {
    return;
  }
  const parsed = typeof array === "string" ? parseJSON(array) : array;
  const map = parsed.map((e) => callback(e));
  return map?.reduce((acc, val) => ({ ...acc, ...val }));
};
const resetRepeatingRows = (sections) => {
  sections.forEach((section) => {
    getSectionIDs(`repeating_${section}`, (ids) => {
      ids.forEach((id) => {
        removeRepeatingRow(`repeating_${section}_${id}`);
      });
    });
  });
};
const resetSkillList = (npcSkills) => {
  const update = {};
  const addSkill = (skill) => (update[skill] = 0);

  if (npcSkills) {
    const skillList = parseJSON(npcSkills);
    const names = skillList.map(({ name }) => name?.toLowerCase());
    [...skills, ...combatSkills].forEach((skill) => {
      if (!names.includes(skill)) {
        addSkill(skill);
      }
    });
  } else {
    [...skills, ...combatSkills].forEach((skill) => addSkill(skill));
  }

  setAttrs(update);
};
const roll20Attribute = (attr, value) => {
  if (attr === "skill") {
    return `@{${attrName(value)}}`;
  }

  return value;
};
const update_attack = (attack) => {
  const row = getRow("attacks");
  const attrs = ["name", "target_value"];

  const { damage, damage_type, target_value, skill } = attack.data ?? attack;
  const update = getRepUpdate(attrs, row, attack);

  if (!skill && target_value) {
    update[`${row}_skill`] = "@{target_value}";
  }

  if (skill) {
    update[`${row}_skill`] = `@{${skill?.toLowerCase()}}`;
  }

  const type = damage_type?.toLowerCase();

  const modifier = damage ? `+${damage}` : "";
  try {
    if (["brawling", "character"].includes(type)) {
      const attr = `${type}_damage`;
      getAttrs([attr], (v) => {
        if (v) {
          setAttrs({ [`${row}_damage`]: `${v[attr]}${modifier}` });
        } else {
          dropWarning(`Unknown damage type: ${damage_type}`);
        }
      });
    } else if (["horse"].includes(type)) {
      getAttrs(
        ["warhorse_charge_damage", "warhorse_damage"],
        ({ warhorse_charge_damage, warhorse_damage }) => {
          if (warhorse_charge_damage || warhorse_damage) {
            const damage = warhorse_charge_damage || warhorse_damage;

            setAttrs({
              [`${row}_damage`]: `${damage}${modifier}`,
            });
          } else {
            dropWarning(`Could not get values for warhorse damage`);
          }
        }
      );
    } else if (damage?.toLowerCase() === "special") {
      update[`${row}_damage`] = 0;
    } else if (damage) {
      update[`${row}_damage`] = damage;
    }
  } catch (error) {
    console.warn(error);
  }

  return update;
};
const update_item = (page, row) => {
  let update = getRepUpdate(
    ["name", "value", "notes", "period_restriction"],
    row,
    page
  );

  if (page?.data?.["subcategory"]) {
    update[`${row}_category`] = page.data["subcategory"];
  }

  return update;
};
const updateSection = (section) => {
  return (data) => update_section(data, section);
};

const update_section = (page, section) => {
  const row = getRow(section);
  const attrs = ["name", "target_value"];
  return getRepUpdate(attrs, row, page);
};
const update_mix_section = (data, section, staticArray) => {
  if (data === undefined) {
    return;
  }

  const parsedData = parseJSON(data);
  const update = {};

  parsedData?.forEach(({ name, target_value }) => {
    const isStaticSkill = staticArray.includes(name?.toLowerCase());

    if (isStaticSkill) {
      update[attrName(name)] = target_value;
    } else {
      const custom = processDataArrays(
        [{ name, target_value }],
        updateSection(section)
      );
      Object.assign(update, custom);
    }
  });

  return update;
};
</script>
<!--
Updated 05/09/2019
-->


<script type="text/worker">

function sheetlog(logstring) {
	//Makes an easily filterable log entry for debugging purposes.
	console.log("SHEETLOG: "+logstring);
}


function update_damagemod() {
	sheetlog("Updating damage modifier");
	
	getAttrs(["othermod", "damageserious","damagefatal","facedown","headshot","unfamiliar","noinstruction","wrongtools","complextask","neverdone","underattack","drunkdruggedtired","secretly","obscured"], function(values) {

		var setvalue=0;
		var damagetotal=0;
		if(Number(values.damagefatal)==-6) {
			damagetotal=-6;
			setAttrs({
				damageserious: -3
			});
		} else if (Number(values.damageserious)==-3) {
			damagetotal=-3;
		}
		setvalue=setvalue+damagetotal;
		setvalue=setvalue+Number(values.facedown);
		setvalue=setvalue+Number(values.headshot);
		setvalue=setvalue+Number(values.unfamiliar);
		setvalue=setvalue+Number(values.noinstruction);
		setvalue=setvalue+Number(values.wrongtools);
		setvalue=setvalue+Number(values.complextask);
		setvalue=setvalue+Number(values.neverdone);
		setvalue=setvalue+Number(values.underattack);
		setvalue=setvalue+Number(values.drunkdruggedtired);
		setvalue=setvalue+Number(values.secretly);
		setvalue=setvalue+Number(values.obscured);
		setvalue=setvalue+Number(values.othermod);
		
		setAttrs({
			finalmodifier: setvalue
		});
	});
}

function clear_mods() {
	setAttrs({
		damageserious: 0,
		damagefatal: 0,
		facedown: 0,
		headshot: 0,
		unfamiliar: 0,
		noinstruction: 0,
		wrongtools: 0,
		complextask: 0,
		neverdone: 0,
		underattack: 0,
		drunkdruggedtired: 0,
		secretly: 0,
		obscured: 0,
		othermod: 0,
		finalmodifier: 0
	});
}

function update_culturalfamiliarity() {
	sheetlog("Updating cultural familiarity");
	
	getAttrs(["education"], function(values) {
	
		var education = Number(values.education);
		var setvalue = Math.floor(education/3);
		setAttrs({
			culturalfamiliarity: setvalue
		});
	});
	
}

function update_hp() {
	sheetlog("Updating hp");
	
	getAttrs(["body"], function(values) {
	
		var body = Number(values.body);
		var setmax = Math.floor(body*5);
		var sethalf = Math.floor(body*2.5);
		var setdeath = Math.floor(body);
		setAttrs({
			startinghits: setmax,
			seriouslywounded: sethalf,
			deathsave: setdeath
		});
	});
	
}

function update_skill_rollable_byname(sourceattr) {	
	getAttrs([sourceattr, "education"], function(values) {
	    sheetlog("Updating Rollable for " + sourceattr + " by name.");
		var sourceattrroll = sourceattr + "roll";
		var sourceattrflag = sourceattr + "flag";
		var education = Number(values.education);
		var newvalue = Number(values[sourceattr]);
		var culturalfamiliarity = Math.floor(education/3);
		
	if (culturalfamiliarity==0||sourceattr=="interface") {
		setflag = " ";
		setroll = newvalue;		
	} else if(newvalue==0) {
		setflag = culturalfamiliarity;
		setroll = culturalfamiliarity;
	} else if (newvalue<culturalfamiliarity) {
		setflag = " ";
		setroll = newvalue;
	} else {
		setflag = " ";
		setroll = newvalue;
	}
	
	setAttrs({
			[sourceattrroll]: setroll,
			[sourceattrflag]: setflag
		});	
	});
}

function update_allskills() {
	update_skill_rollable_byname("brawling");
	update_skill_rollable_byname("evasion");
	update_skill_rollable_byname("meleeweapon");
	update_skill_rollable_byname("marksmanship");
	update_skill_rollable_byname("concentration");
	update_skill_rollable_byname("perception");
	update_skill_rollable_byname("tracking");
	update_skill_rollable_byname("driving");
	update_skill_rollable_byname("athletics");
	update_skill_rollable_byname("stealth");
	update_skill_rollable_byname("bribery");
	update_skill_rollable_byname("conversation");
	update_skill_rollable_byname("humanperception");
	update_skill_rollable_byname("interrogation");
	update_skill_rollable_byname("persuasion");
	update_skill_rollable_byname("basictech");
	update_skill_rollable_byname("cybertech");
	update_skill_rollable_byname("firstaid");
	update_skill_rollable_byname("playinstrument");
	update_skill_rollable_byname("localexpert");
	update_skill_rollable_byname("interface");
}

// Below are event listeners that call appropriate functions

on('sheet:opened',function() {
	sheetlog("Sheet opened");
	update_damagemod();
	update_culturalfamiliarity();
	update_hp();
	update_allskills();
});


on("change:othermod change:damageserious change:damagefatal change:facedown change:headshot change:unfamiliar change:noinstruction change:wrongtools change:complextask change:neverdone change:underattack change:drunkdruggedtired change:secretly change:obscured", function() {
	sheetlog("Modifier Changed");
	update_damagemod();
});

on("change:education", function() {
	sheetlog("Education Changed");
	update_culturalfamiliarity();
	update_allskills();
});

on("change:body", function() {
	sheetlog("Body Changed");
	update_hp();
});

on("change:interface change:brawling change:evasion change:meleeweapon change:marksmanship change:concentration change:perception change:tracking change:driving change:athletics change:stealth change:bribery change:conversation change:humanperception change:interrogation change:persuasion change:basictech change:cybertech change:firstaid change:playinstrument change:localexpert", function(eventInfo) {
	sheetlog(eventInfo.sourceAttribute + " Changed");
	update_skill_rollable_byname(eventInfo.sourceAttribute);
});

on("clicked:clearmods", function() {
	sheetlog("Clearmods Clicked");
	clear_mods();
	update_damagemod();
});

</script>

<input type="checkbox" name="attr_gmhidecheckbox" class="sheet-hidable-gm-switch">
<div class="sheet-hidable-playersection">
  <input type="radio" name="selecttab" class="tab tab1" value="1" CHECKED>
  <span class="tab">Sheet</span>
  <input type="radio" name="selecttab" class="tab tab2" value="2">
  <span class="tab">Actions</span>
  <input type="radio" name="selecttab" class="tab tab3" value="3">
  <span class="tab">Cyberware</span>
  <input type="radio" name="selecttab" class="tab tab4" value="4">
  <span class="tab">Gear</span>
  <input type="radio" name="selecttab" class="tab tab5" value="5">
  <span class="tab">Lifepath</span>
  <input type="radio" name="selecttab" class="tab tab6" value="6">
  <span class="tab">Settings</span>
  <div class="tab-content tab1">
    <div class="sectionbox borderred widthpercent100">
      <div class="sectionbox widthpercent100">
        <div class="sectionbox widthpercent33">Character Name<br>
          <input type="text" name="attr_charactername">
        </div>
        <div class="sectionbox widthpercent33">Character Role<br>
          <input type="text" name="attr_characterrole">
        </div>
        <div class="sectionbox widthpercent33">Player Name<br>
          <input type="text" name="attr_playername">
        </div>
      </div>
    </div>
    <div class="sectionbox borderred widthpercent100">
      <h3>Attributes</h3>
      <div class="sectionbox widthpercent100">
        <div class="sectionbox widthpercent10"> INT<br>
          <input type="number" name="attr_int">
        </div>
        <div class="sectionbox widthpercent10"> REF<br>
          <input type="number" name="attr_ref">
        </div>
        <div class="sectionbox widthpercent10"> DEX<br>
          <input type="number" name="attr_dex">
        </div>
        <div class="sectionbox widthpercent10"> TECH<br>
          <input type="number" name="attr_tech">
        </div>
        <div class="sectionbox widthpercent10"> COOL<br>
          <input type="number" name="attr_cool">
        </div>
        <div class="sectionbox widthpercent10"> WILL<br>
          <input type="number" name="attr_will">
        </div>
        <div class="sectionbox widthpercent10"> LUCK<br>
          <input type="number" name="attr_luck">
        </div>
        <div class="sectionbox widthpercent10"> MOVE<br>
          <input type="number" name="attr_move">
        </div>
        <div class="sectionbox widthpercent10"> BODY<br>
          <input type="number" name="attr_body">
        </div>
        <div class="sectionbox widthpercent10"> EMP<br>
          <input type="number" name="attr_emp">
        </div>
      </div>
    </div>
    <div class="sectionbox borderred widthpercent100">
      <div class="sectionbox widthpercent33"> Starting Hits
        <input type="number" name="attr_startinghits" readonly>
      </div>
      <div class="sectionbox widthpercent33"> Seriously Wounded
        <input type="number" name="attr_seriouslywounded" readonly>
      </div>
      <div class="sectionbox widthpercent33"> Death Save
        <input type="number" name="attr_deathsave" readonly>
      </div>
    </div>
    <div class="sectionbox borderred widthpercent50">
      <h3>Skills</h3>
      <div class="sectionbox widthpercent50">
        <h4>Fighting Skills</h4>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
			<button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Brawling}} {{roll=[[@{dex} + @{brawlingroll} + @{finalmodifier} + 1d10]]}}">Brawling</button>
          
          <div class="skillvalue">
            <input type="number" name="attr_brawling" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_brawlingroll">
            <span name="attr_brawlingflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
			<button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Evasion}} {{roll=[[@{dex} + @{evasionroll} + @{finalmodifier} + 1d10]]}}">Evasion</button>
 
          <div class="skillvalue">
            <input type="number" name="attr_evasion" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_evasionroll">
            <span name="attr_evasionflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Melee Weapon}} {{roll=[[@{dex} + @{meleeweaponroll} + @{finalmodifier} + 1d10]]}}">Melee Weapon</button>
          <div class="skillvalue">
            <input type="number" name="attr_meleeweapon" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_meleeweaponroll">
            <span name="attr_meleeweaponflag"></span> </div>
        </div>
        <h4>Ranged Weapon Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Marksmanship}} {{roll=[[@{ref} + @{marksmanshiproll} + @{finalmodifier} + 1d10]]}}">Marksmanship</button>
          <div class="skillvalue">
            <input type="number" name="attr_marksmanship" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_marksmanshiproll">
            <span name="attr_marksmanshipflag"></span> </div>
        </div>
        <h4>Awareness Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Concentration}} {{roll=[[@{will} + @{concentrationroll} + @{finalmodifier} + 1d10]]}}">Concentration</button>
          <div class="skillvalue">
            <input type="number" name="attr_concentration" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_concentrationroll">
            <span name="attr_concentrationflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
           <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Perception}} {{roll=[[@{int} + @{perceptionroll} + @{finalmodifier} + 1d10]]}}">Perception</button>
          <div class="skillvalue">
            <input type="number" name="attr_perception" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_perceptionroll">
            <span name="attr_perceptionflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Tracking}} {{roll=[[@{int} + @{trackingroll} + @{finalmodifier} + 1d10]]}}">Tracking</button>
          <div class="skillvalue">
            <input type="number" name="attr_tracking" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_trackingroll">
            <span name="attr_trackingflag"></span> </div>
        </div>
        <h4>Control Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Driving}} {{roll=[[@{ref} + @{drivingroll} + @{finalmodifier} + 1d10]]}}">Driving</button>
          <div class="skillvalue">
            <input type="number" name="attr_driving" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_drivingroll">
            <span name="attr_drivingflag"></span> </div>
        </div>
        <h4>Body Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Athletics}} {{roll=[[@{dex} + @{athleticsroll} + @{finalmodifier} + 1d10]]}}">Athletics</button>
          <div class="skillvalue">
            <input type="number" name="attr_athletics" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_athleticsroll">
            <span name="attr_athleticsflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Stealth}} {{roll=[[@{dex} + @{stealthroll} + @{finalmodifier} + 1d10]]}}">Stealth</button>
          <div class="skillvalue">
            <input type="number" name="attr_stealth" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_stealthroll">
            <span name="attr_stealthflag"></span> </div>
        </div>
        <h4>Netrunning Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Interface}} {{roll=[[@{interfaceroll} + @{finalmodifier} + 1d10]]}}">Interface</button>
          <div class="skillvalue">
            <input type="number" name="attr_interface" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_interfaceroll">
            <span name="attr_interfaceflag"></span> </div>
        </div>
      </div>
      <div class="sectionbox widthpercent50">
        <h4>Social Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Bribery}} {{roll=[[@{cool} + @{briberyroll} + @{finalmodifier} + 1d10]]}}">Bribery</button>
          <div class="skillvalue">
            <input type="number" name="attr_bribery" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_briberyroll">
            <span name="attr_briberyflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Conversation}} {{roll=[[@{emp} + @{conversationroll} + @{finalmodifier} + 1d10]]}}">Conversation</button>
          <div class="skillvalue">
            <input type="number" name="attr_conversation" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_conversationroll">
            <span name="attr_conversationflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Human Perception}} {{roll=[[@{emp} + @{humanperceptionroll} + @{finalmodifier} + 1d10]]}}">Human Perception</button>
          <div class="skillvalue">
            <input type="number" name="attr_humanperception" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_humanperceptionroll">
            <span name="attr_humanperceptionflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Interrogation}} {{roll=[[@{cool} + @{interrogationroll} + @{finalmodifier} + 1d10]]}}">Interrogation</button>
          <div class="skillvalue">
            <input type="number" name="attr_interrogation" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_interrogationroll">
            <span name="attr_interrogationflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Persuasion}} {{roll=[[@{cool} + @{persuasionroll} + @{finalmodifier} + 1d10]]}}">Persuasion</button>
          <div class="skillvalue">
            <input type="number" name="attr_persuasion" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_persuasionroll">
            <span name="attr_persuasionflag"></span> </div>
        </div>
        <h4>Technique Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Basic Tech}} {{roll=[[@{tech} + @{basictechroll} + @{finalmodifier} + 1d10]]}}">Basic Tech</button>
          <div class="skillvalue">
            <input type="number" name="attr_basictech" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_basictechroll">
            <span name="attr_basictechflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Cybertech}} {{roll=[[@{tech} + @{cybertechroll} + @{finalmodifier} + 1d10]]}}">Cybertech</button>
          <div class="skillvalue">
            <input type="number" name="attr_cybertech" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_cybertechroll">
            <span name="attr_cybertechflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=First Aid}} {{roll=[[@{tech} + @{firstaidroll} + @{finalmodifier} + 1d10]]}}">First Aid</button>
          <div class="skillvalue">
            <input type="number" name="attr_firstaid" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_firstaidroll">
            <span name="attr_firstaidflag"></span> </div>
        </div>
        <h4>Performance Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Play Instrument}} {{roll=[[@{emp} + @{playinstrumentroll} + @{finalmodifier} + 1d10]]}}">Play Instrument</button>
          <div class="skillvalue">
            <input type="number" name="attr_playinstrument" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_playinstrumentroll">
            <span name="attr_playinstrumentflag"></span> </div>
        </div>
        <h4>Education Skills</h4>
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Education}} {{roll=[[@{int} + @{education} + @{finalmodifier} + 1d10]]}}">Education</button>
          <div class="skillvalue">
            <input type="number" name="attr_education" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_educationroll">
            <span name="attr_educationflag"></span> </div>
        </div>
        
        <!-- BEGIN SKILL ROW -->
        <div class="sectionbox widthpercent100">
          <button class="invisible-button" type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Local Expert}} {{roll=[[@{int} + @{localexpertroll} + @{finalmodifier} + 1d10]]}}">Local Expert</button>
          <div class="skillvalue">
            <input type="number" name="attr_localexpert" value="0">
          </div>
          <div class="skillflag">
            <input type="hidden" name="attr_localexpertroll">
            <span name="attr_localexpertflag"></span> </div>
        </div>
        Cultural Familiarity
        <input type="number" name="attr_culturalfamiliarity" readonly>
        <h4>Reputation</h4>
        Reputation
        <input type="number" name="attr_reputation" value="0">
      </div>
    </div>
    <div class="sectionbox borderred widthpercent50">
      <div class="sectionbox borderbottom widthpercent100">
        <h3>Weapons</h3>
        Name 1
        <input type="text" name="attr_weapon1name" value="Weapon One">
        Damage 1
        <input type="number" name="attr_weapon1damage" value="0">
        d6<br>
        Skill 1
        <select name="attr_weapon1skill">
          <option value="{{@{ref}+@{marksmanshiproll}}}">Marksmanship</option>
          <option value="{{@{ref}+@{meleeweaponroll}}}">Melee Weapon</option>
		  <option value="{{@{interfaceroll}}}">Uses Interface</option>
        </select>
      </div>
      <div class="sectionbox borderbottom widthpercent100"> Name 2
        <input type="text" name="attr_weapon2name" value="Weapon Two">
        Damage 2
        <input type="number" name="attr_weapon2damage" value="0">
        d6<br>
        Skill 2
        <select name="attr_weapon2skill">
          <option value="{{@{ref}+@{marksmanshiproll}}}">Marksmanship</option>
          <option value="{{@{ref}+@{meleeweaponroll}}}">Melee Weapon</option>
		  <option value="{{@{interfaceroll}}}">Uses Interface</option>
        </select>
      </div>
      <div class="sectionbox borderbottom widthpercent100">
        <h3>Weapons</h3>
        Name 3
        <input type="text" name="attr_weapon3name" value="Weapon One">
        Damage 3
        <input type="number" name="attr_weapon3damage" value="0">
        d6<br>
        Skill 3
        <select name="attr_weapon3skill">
          <option value="{{@{ref}+@{marksmanshiproll}}}">Marksmanship</option>
          <option value="{{@{ref}+@{meleeweaponroll}}}">Melee Weapon</option>
		  <option value="{{@{interfaceroll}}}">Uses Interface</option>
        </select>
      </div>
      <div class="sectionbox widthpercent100">
        <h3>Weapons</h3>
        Name 4
        <input type="text" name="attr_weapon4name" value="Weapon One">
        Damage 4
        <input type="number" name="attr_weapon4damage" value="0">
        d6<br>
        Skill 4
        <select name="attr_weapon4skill">
          <option value="{{@{ref}+@{marksmanshiproll}}}">Marksmanship</option>
          <option value="{{@{ref}+@{meleeweaponroll}}}">Melee Weapon</option>
		  <option value="{{@{interfaceroll}}}">Uses Interface</option>
        </select>
      </div>
    </div>
	<div class="sectionbox borderred widthpercent50">
      <h3>Armor</h3>
      Armor Type
      <input type="text" name="attr_armortype" value="Armor Type">
      <br>
      Head Armor
      <input type="number" name="attr_headarmor" value="0">
      Body Armor
      <input type="number" name="attr_bodyarmor" value="0">
    </div>
    
  </div>
  <div class="tab-content tab2">
    <div class="sectionbox borderred widthpercent50">
      <h3>Damage Level</h3>
      <div class="sectionbox widthpercent50">
        <input class="wordlist" type="checkbox" id="attr_damageserious" name="attr_damageserious" value="-3">
        <label class="wordlist" for="attr_damageserious">Serious Wounds</label>
      </div>
      <div class="sectionbox widthpercent50">
        <input class="wordlist" type="checkbox" id="attr_damagefatal" name="attr_damagefatal" value="-6">
        <label class="wordlist" for="attr_damagefatal">Fatal Wounds</label>
      </div>
      <h3>Other Modifiers</h3>
      <div class="sectionbox widthpercent50">
        <input class="wordlist" type="checkbox" id="attr_facedown" name="attr_facedown" value="-3">
        <label class="wordlist" for="attr_facedown">Facedown</label>
        <input class="wordlist" type="checkbox" id="attr_headshot" name="attr_headshot" value="-6">
        <label class="wordlist" for="attr_headshot">Headshot</label>
        <input class="wordlist" type="checkbox" id="attr_unfamiliar" name="attr_unfamiliar" value="-4">
        <label class="wordlist" for="attr_unfamiliar">Unfamiliar Equipment</label>
        <input class="wordlist" type="checkbox" id="attr_noinstruction" name="attr_noinstruction" value="-2">
        <label class="wordlist" for="attr_noinstruction">No&nbsp;Instructions</label>
        <input class="wordlist" type="checkbox" id="attr_wrongtools" name="attr_wrongtools" value="-2">
        <label class="wordlist" for="attr_wrongtools">Wrong&nbsp;Tools</label>
        <input class="wordlist" type="checkbox" id="attr_complextask" name="attr_complextask" value="-3">
        <label class="wordlist" for="attr_complextask">Complex&nbsp;Task</label>
      </div>
      <div class="sectionbox widthpercent50">
        <input class="wordlist" type="checkbox" id="attr_neverdone" name="attr_neverdone" value="-1">
        <label class="wordlist" for="attr_neverdone">Never&nbsp;Done&nbsp;Before</label>
        <input class="wordlist" type="checkbox" id="attr_underattack" name="attr_underattack" value="-3">
        <label class="wordlist" for="attr_underattack">Under&nbsp;Stress&nbsp;or&nbsp;Attack</label>
        <input class="wordlist" type="checkbox" id="attr_drunkdruggedtired" name="attr_drunkdruggedtired" value="-4">
        <label class="wordlist" for="attr_drunkdruggedtired">Drunk/Drugged/Tired</label>
        <input class="wordlist" type="checkbox" id="attr_secretly" name="attr_secretly" value="-4">
        <label class="wordlist" for="attr_secretly">Performing&nbsp;Secretly</label>
        <input class="wordlist" type="checkbox" id="attr_obscured" name="attr_obscured" value="-4">
        <label class="wordlist" for="attr_obscured">Dark&nbsp;or&nbsp;Obscured</label>
        <label>Other:&nbsp;&nbsp;
          <input type="number" name="attr_othermod">
        </label>
      </div>
      <div class="sectionbox widthpercent100">
        <h3>Final Modifier</h3>
        <input type="number" name="attr_finalmodifier" readonly>
        <button type="action" name="act_clearmods">Clear</button>
      </div>
    </div>
    <div class="sectionbox widthpercent30 borderred">
      <h3>Damage Taken</h3>
      <input type="radio" class="dmg" name="attr_dmg" value="0" checked="checked">
      <span></span>Undamaged <br>
      <input type="radio" class="dmg" name="attr_dmg" value="1">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="2">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="3">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="4">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="5">
      <span></span> &nbsp;
      <input type="radio" class="dmg" name="attr_dmg" value="6">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="7">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="8">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="9">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="10">
      <span></span> <br>
      <input type="radio" class="dmg" name="attr_dmg" value="11">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="12">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="13">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="14">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="15">
      <span></span> &nbsp;
      <input type="radio" class="dmg" name="attr_dmg" value="16">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="17">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="18">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="19">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="20">
      <span></span> <br>
      <input type="radio" class="dmg" name="attr_dmg" value="21">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="22">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="23">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="24">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="25">
      <span></span> &nbsp;
      <input type="radio" class="dmg" name="attr_dmg" value="26">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="27">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="28">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="29">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="30">
      <span></span> <br>
      <input type="radio" class="dmg" name="attr_dmg" value="31">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="32">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="33">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="34">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="35">
      <span></span> &nbsp;
      <input type="radio" class="dmg" name="attr_dmg" value="36">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="37">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="38">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="39">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="40">
      <span></span> <br>
      <input type="radio" class="dmg" name="attr_dmg" value="41">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="42">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="43">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="44">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="45">
      <span></span> &nbsp;
      <input type="radio" class="dmg" name="attr_dmg" value="46">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="47">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="48">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="49">
      <span></span>
      <input type="radio" class="dmg" name="attr_dmg" value="50">
      <span></span> <br>
      <input type="number" name="attr_startinghits" readonly>
      -
      <input type="number" name="attr_dmg" readonly>
      =
      <input type="number" name="attr_remaininghits" value="@{startinghits}-@{dmg}" disabled="true" readonly>
    </div>
	<div class="sectionbox widthpercent20 borderred">
      <h3>Luck Spent</h3>
      <input type="radio" class="luck" name="attr_luckspent" value="0" checked="checked">
      <span></span>None <br>
      <input type="radio" class="luck" name="attr_luckspent" value="1">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="2">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="3">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="4">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="5">
      <span></span> <br>
      <input type="radio" class="luck" name="attr_luckspent" value="6">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="7">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="8">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="9">
      <span></span>
      <input type="radio" class="luck" name="attr_luckspent" value="10">
      <span></span> <br>
      <input type="number" name="attr_luck" readonly>
      -
      <input type="number" name="attr_luckspent" readonly>
      =
      <input type="number" name="attr_remainingluck" value="@{luck}-@{luckspent}" disabled="true" readonly>
    </div>
    <div class="sectionbox widthpercent50 borderred">
      <h3>Reputation</h3>
      <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Reputation Check}} {{roll=[[1d10]]}} {{footer=Compare this result to your reputation of @{reputation}. If under, the people you have met have heard of you.}}" name="roll_reputation">Reputation Check</button>
      <br>
      <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Facedown}} {{roll=[[@{cool} + @{reputation} + 1d10]]}} {{footer=If you win a facedown, the opponent must run or suffer a -3 to all actions if they stay.}}" name="roll_facedown">Facedown</button>
    </div>
    <div class="sectionbox widthpercent25 borderred">
      <h3>Death</h3>
      <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Death Save}} {{roll=[[?{Roll Number?|1} - 1 + 1d10]]}}" name="roll_deathsave">Death Save</button>
    </div>
    <div class="sectionbox widthpercent25 borderred">
      <h3>Initiative</h3>
      <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Initiative}} {{roll=[[@{ref} + 1d10]]}}" name="roll_deathsave">Initiative</button>
    </div>
    <div class="sectionbox widthpercent100 borderred">
      <h3>Attacks</h3>
      <div class="sectionbox borderblue widthpercent25">
        <h4><span name="attr_weapon1name"></span></h4>
        <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=@{weapon1name}}} {{roll=[[@{weapon1skill} + @{finalmodifier} + 1d10]]}}" name="roll_weapon1">Attack</button>
        <button type="roll" value="@{charactername} does [[@{weapon1damage}d6]] damage with @{weapon1name}." name="roll_weapon1damage">Damage</button>
      </div>
      <div class="sectionbox borderblue widthpercent25">
        <h4><span name="attr_weapon2name"></span></h4>
        <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=@{weapon2name}}} {{roll=[[@{weapon2skill} + @{finalmodifier} + 1d10]]}}" name="roll_weapon2">Attack</button>
        <button type="roll" value="@{charactername} does [[@{weapon2damage}d6]] damage with @{weapon2name}." name="roll_weapon2damage">Damage</button>
      </div>
      <div class="sectionbox borderblue widthpercent25">
        <h4><span name="attr_weapon3name"></span></h4>
        <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=@{weapon3name}}} {{roll=[[@{weapon3skill} + @{finalmodifier} + 1d10]]}}" name="roll_weapon3">Attack</button>
        <button type="roll" value="@{charactername} does [[@{weapon3damage}d6]] damage with @{weapon3name}." name="roll_weapon3damage">Damage</button>
      </div>
      <div class="sectionbox borderblue widthpercent25">
        <h4><span name="attr_weapon4name"></span></h4>
        <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=@{weapon4name}}} {{roll=[[@{weapon4skill} + @{finalmodifier} + 1d10]]}}" name="roll_weapon4">Attack</button>
        <button type="roll" value="@{charactername} does [[@{weapon4damage}d6]] damage with @{weapon4name}." name="roll_weapon4damage">Damage</button>
      </div> <br>
      <div class="sectionbox borderblue widthpercent25">
        <h4>Brawling</h4>
        <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Brawling}} {{roll=[[@{dex} + @{brawlingroll} + @{finalmodifier} + 1d10]]}}" name="roll_brawling">Brawling</button>
      </div>
      <div class="sectionbox borderblue widthpercent25">
        <h4>Suppressive Fire</h4>
        <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Suppressive Fire}} {{roll=[[@{ref} + @{marksmanshiproll} + @{finalmodifier} + 1d10]]}}" name="roll_suppressivefire">Suppressive Fire</button>
      </div>
    </div>
    <div class="sectionbox borderred widthpercent100">
      <h3>Skill Rolls</h3>
      <div class="sectionbox widthpercent100">
        <div class="sectionbox widthpercent50">
          <h4>Fighting Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Brawling}} {{roll=[[@{dex} + @{brawlingroll} + @{finalmodifier} + 1d10]]}} ">Brawling</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Evasion}} {{roll=[[@{dex} + @{evasionroll} + @{finalmodifier} + 1d10]]}}">Evasion</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Melee Weapon}} {{roll=[[@{dex} + @{meleeweaponroll} + @{finalmodifier} + 1d10]]}}">Melee Weapon</button>
          <h4>Ranged Weapon Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Marksmanship}} {{roll=[[@{ref} + @{marksmanshiproll} + @{finalmodifier} + 1d10]]}}">Marksmanship</button>
          <h4>Awareness Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Concentration}} {{roll=[[@{will} + @{concentrationroll} + @{finalmodifier} + 1d10]]}}">Concentration</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Perception}} {{roll=[[@{int} + @{perceptionroll} + @{finalmodifier} + 1d10]]}}">Perception</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Tracking}} {{roll=[[@{int} + @{trackingroll} + @{finalmodifier} + 1d10]]}}">Tracking</button>
          <h4>Control Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Driving}} {{roll=[[@{ref} + @{drivingroll} + @{finalmodifier} + 1d10]]}}">Driving</button>
          <h4>Body Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Athletics}} {{roll=[[@{dex} + @{athleticsroll} + @{finalmodifier} + 1d10]]}}">Athletics</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Stealth}} {{roll=[[@{dex} + @{stealthroll} + @{finalmodifier} + 1d10]]}}">Stealth</button>
          <h4>Netrunning Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Interface}} {{roll=[[@{interfaceroll} + @{finalmodifier} + 1d10]]}}">Interface</button>
        </div>
        <div class="sectionbox widthpercent50">
          <h4>Social Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Bribery}} {{roll=[[@{cool} + @{briberyroll} + @{finalmodifier} + 1d10]]}}">Bribery</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Conversation}} {{roll=[[@{emp} + @{conversationroll} + @{finalmodifier} + 1d10]]}}">Conversation</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Human Perception}} {{roll=[[@{emp} + @{humanperceptionroll} + @{finalmodifier} + 1d10]]}}">Human Perception</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Interrogation}} {{roll=[[@{cool} + @{interrogationroll} + @{finalmodifier} + 1d10]]}}">Interrogation</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Persuasion}} {{roll=[[@{cool} + @{persuasionroll} + @{finalmodifier} + 1d10]]}}">Persuasion</button>
          <h4>Technique Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Basic Tech}} {{roll=[[@{tech} + @{basictechroll} + @{finalmodifier} + 1d10]]}}">Basic Tech</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Cybertech}} {{roll=[[@{tech} + @{cybertechroll} + @{finalmodifier} + 1d10]]}}">Cybertech</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=First Aid}} {{roll=[[@{tech} + @{firstaidroll} + @{finalmodifier} + 1d10]]}}">First Aid</button>
          <h4>Performance Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Play Instrument}} {{roll=[[@{emp} + @{playinstrumentroll} + @{finalmodifier} + 1d10]]}}">Play Instrument</button>
          <h4>Education Skills</h4>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Education}} {{roll=[[@{int} + @{education} + @{finalmodifier} + 1d10]]}}">Education</button>
          <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Local Expert}} {{roll=[[@{int} + @{localexpertroll} + @{finalmodifier} + 1d10]]}}">Local Expert</button>
        </div>
      </div>
    </div>
	<div class="sectionbox widthpercent100 borderred">
	  <input type="checkbox" class="role-netrunner-checkbox hidden-checkbox" name="attr_shownetrunner">
		<div class="role-netrunner">
			<h3>Netrunner Actions</h3>

			<div class="sectionbox widthpercent100 borderblue">
			<h4>Program Modifiers</h4>
			<div class="sectionbox widthpercent50">
			Current Speed: <select name="attr_netrunnerspd">
			  <option value="0" SELECTED>Default - +0</option>
			  <option value="4">Speedy Gonzalvez - +4</option>
			</select> <br>
			</div>
			<div class="sectionbox widthpercent50">
			Program Attack: <select name="attr_netrunnerprogramattack">
			  <option value="0" SELECTED>Default - +0</option>
			  <option value="2">Banhammer - +2</option>
			</select> <br>
				</div>
			</div>
			
			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Scanner}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=Scanner uses a MEAT ACTION to find systems in the area. The higher the check, the more and further away are the spotted systems (at GM discretion).}}" name="roll_scanner">Scanner</button>

			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Back Door}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=A NET action to break through the password for a system. Check result must exceed the DV of the password. Roll not needed if the password is already known.}}" name="roll_backdoor">Back Door</button>
			
			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Pathfinder}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=Use a NET action to map out a system. The higher the check, the more is learned. Tells you about the system you broke into, but doesn't give the DV of anything. Deeper floors are harder to map. Information obtained is at GM discretion.}}" name="roll_pathfinder">Pathfinder</button>
			
			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Slide}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=Slide is used to escape a Black ICE program. A successful Slide vs the ICE Perception + 1d10 allows escape to an adjacent floor, so long as there isn't a password or other net obstruction on the floors. May only be attempted once per turn. and may not be attempted preemptively.}}" name="roll_slide">Slide</button>			

			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Zap}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=A NET attack against a program or netrunner. DV is the programs Defense Value + 1d10 or the Netrunners Interface + 1d10. A successful attack does 1d6 damage to the programs REZ or directly to the netrunner brain.}}" name="roll_zap">Zap</button>			
			
			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Eye-Dee}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=Attempts to identify a found piece of data and its value as a NET action. Roll is against the DV of the item, which is set by the GM.}}" name="roll_eyedee">Eye-Dee</button>			
			
			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Control}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=An attempt to control meat devices as a NET action. The DV that must be exceeded is based on the DV of the control node. Once control is taken, orders are given to the meat devices through use of NET actions. Another netrunner may try to take back control by exceeding a DV equal to the original control check.}}" name="roll_control">Control</button>			

			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Virus}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=A NET action that is only usable on the last level of the elevator. A stronger virus requires a higher DV. Writing a virus faster also increases the DV. This action may take as many NET actions as the GM determines. The DV to destroy the virus is equal to the check.}}" name="roll_virus">Virus</button>	
			
			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Cloak}} {{roll=[[@{interface} + @{finalmodifier} + 1d10]]}} {{footer=A NET action to hide the netrunner, and any virus, in the system. The result of the check becomes the DV for another netrunner to use Pathfinder to break the cloak.}}" name="roll_cloak">Cloak</button>	

			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Initial Black Ice Encounter}} {{roll=[[@{netrunnerspd} + @{interface} + @{finalmodifier} + 1d10]]}} {{footer=On the initial encounter with black ice, when the ICE automatically attacks the netrunner upon reaching a level, SPD is added to the roll made by the netrunner. Future attacks by the netrunner use Zap or Program Attack.}}" name="roll_initialblackice">Initial Black ICE Encounter</button>	
			
			<button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Program Attack}} {{roll=[[@{netrunnerprogramattack} + @{interface} + @{finalmodifier} + 1d10]]}} {{footer=This attack uses the additional ATT given by a program. Other than that, it is the same as Zap. Some programs also increase the damage done on a successful attack, or limit valid targets (ex. Programs Only).}}" name="roll_programattack">Program Attack</button>	
			

		</div>
	  
	  
	</div>
  </div>
  <div class="tab-content tab3">
    <div class="sectionbox widthpercent100">
      <h3>Cyberware</h3>
      <div class="sectionbox widthpercent100">
        <div class="sectionbox widthpercent50">
          <h3>
            <input type="text" name="attr_cyberware1name" value="Cyberware One">
          </h3>
          <textarea rows="4" cols="20" name="attr_cyberware1description"></textarea>
        </div>
        <div class="sectionbox widthpercent50">
          <h3>
            <input type="text" name="attr_cyberware2name" value="Cyberware Two">
          </h3>
          <textarea rows="4" cols="20" name="attr_cyberware2description"></textarea>
        </div>
      </div>
      <div class="sectionbox widthpercent100">
        <div class="sectionbox widthpercent50">
          <h3>
            <input type="text" name="attr_cyberware3name" value="Cyberware Three">
          </h3>
          <textarea rows="4" cols="20" name="attr_cyberware3description"></textarea>
        </div>
        <div class="sectionbox widthpercent50">
          <h3>
            <input type="text" name="attr_cyberware4name" value="Cyberware Four">
          </h3>
          <textarea rows="4" cols="20" name="attr_cyberware4description"></textarea>
        </div>
      </div>
    </div>
  </div>
  <div class="tab-content tab4">
    <div class="sectionbox">
      <h3>Gear</h3>
      <div class="sectionbox widthpercent33"> Gear 1
        <textarea rows="4" cols="20" name="attr_gear1"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Gear 2
        <textarea rows="4" cols="20" name="attr_gear2"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Gear 3
        <textarea rows="4" cols="20" name="attr_gear3"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Gear 4
        <textarea rows="4" cols="20" name="attr_gear4"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Gear 5
        <textarea rows="4" cols="20" name="attr_gear5"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Gear 6
        <textarea rows="4" cols="20" name="attr_gear6"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Gear 7
        <textarea rows="4" cols="20" name="attr_gear7"></textarea>
      </div>
      <div class="sectionbox widthpercent33"> Gear 8
        <textarea rows="4" cols="20" name="attr_gear8"></textarea>
      </div>
      <div class="sectionbox widthpercent33"> Gear 9
        <textarea rows="4" cols="20" name="attr_gear9"></textarea>
      </div>
    </div>
  </div>
  <div class="tab-content tab5">
    <div class="sectionbox">
      <h3>Lifepath</h3>
      <div class="sectionbox widthpercent33"> Background
        <textarea rows="4" cols="20" name="attr_lifepathbackground"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Motivation
        <textarea rows="4" cols="20" name="attr_lifepathmotivation"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Goals
        <textarea rows="4" cols="20" name="attr_lifepathgoals"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Friends
        <textarea rows="4" cols="20" name="attr_lifepathfriends"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Enemies
        <textarea rows="4" cols="20" name="attr_lifepathenemies"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Romance
        <textarea rows="4" cols="20" name="attr_lifepathromance"></textarea>
        <br>
      </div>
      <div class="sectionbox widthpercent33"> Personality
        <textarea rows="4" cols="20" name="attr_lifepathpersonality"></textarea>
      </div>
    </div>
  </div>
  <div class="tab-content tab6"> This tab not yet styled, but all functions work. <br>
    <hr>
    Color for Roll Template
    <select name="attr_templatecolor">
      <option value="charactername-black" SELECTED>Black</option>
      <option value="charactername-red">Red</option>
      <option value="charactername-blue">Blue</option>
      <option value="charactername-green">Green</option>
      <option value="charactername-yellow">Yellow</option>
      <option value="charactername-purple">Purple</option>
      <option value="charactername-magenta">Magenta</option>
      <option value="charactername-bronze">Bronze</option>
    </select>
    <br>
    <hr>
    <button type="roll" value="&{template:jsk1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Skillname}} {{roll=[[@{dex} + @{brawlingroll} + @{finalmodifier} + 1d10]]}} {{footer=This is how footer text will look, if there is any such text on the action being taken.}}">Test Roll</button>
    <br>
    <hr>
    <input type="checkbox" id="gmbutton" class="sheet-gm-checkbox" name="attr_gmhidecheckbox">Click here to access GM tools. This will hide the player section.
	<hr>
	<hr>
	Role sections
	<br>
	  (Click the checkbox below to activate special role sections. Currently, only Netrunner is available.)
	<br>
	<input type="checkbox" class="role-netrunner-checkbox" name="attr_shownetrunner">Netrunner
	  
  </div>
</div>
<div class="sheet-hidable-gmonlyview">
  <h1>GM Only View</h1>
  <div class="sectionbox borderred">
    <h3>Raw Rolls</h3>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-20 + 1d10]]}} ">-20</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-19 + 1d10]]}} ">-19</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-18 + 1d10]]}} ">-18</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-17 + 1d10]]}} ">-17</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-16 + 1d10]]}} ">-16</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-15 + 1d10]]}} ">-15</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-14 + 1d10]]}} ">-14</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-13 + 1d10]]}} ">-13</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-12 + 1d10]]}} ">-12</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-11 + 1d10]]}} ">-11</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-10 + 1d10]]}} ">-10</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-9 + 1d10]]}} ">-9</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-8 + 1d10]]}} ">-8</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-7 + 1d10]]}} ">-7</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-6 + 1d10]]}} ">-6</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-5 + 1d10]]}} ">-5</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-4 + 1d10]]}} ">-4</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-3 + 1d10]]}} ">-3</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-2 + 1d10]]}} ">-2</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[-1 + 1d10]]}} ">-1</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[0 + 1d10]]}} ">Unmodified</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[1 + 1d10]]}} ">+1</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[2 + 1d10]]}} ">+2</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[3 + 1d10]]}} ">+3</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[4 + 1d10]]}} ">+4</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[5 + 1d10]]}} ">+5</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[6 + 1d10]]}} ">+6</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[7 + 1d10]]}} ">+7</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[8 + 1d10]]}} ">+8</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[9 + 1d10]]}} ">+9</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[10 + 1d10]]}} ">+10</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[11 + 1d10]]}} ">+11</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[12 + 1d10]]}} ">+12</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[13 + 1d10]]}} ">+13</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[14 + 1d10]]}} ">+14</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[15 + 1d10]]}} ">+15</button>
    <br>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[16 + 1d10]]}} ">+16</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[17 + 1d10]]}} ">+17</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[18 + 1d10]]}} ">+18</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[19 + 1d10]]}} ">+19</button>
    <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=GM Roll}} {{header=NPC Action}} {{roll=[[20 + 1d10]]}} ">+20</button>
  </div>
  <div class="sectionbox widthpercent100 borderred">
    <h3>NPC Grunts</h3>
	<div class="npc-holder">
    <div class="sectionbox widthpercent100">
      <div class="sectionbox widthpercent10 borderblack">Edit</div>
      <div class="sectionbox widthpercent10 borderblack">Name</div>
      <div class="sectionbox widthpercent10 borderblack">Initiative</div>
      <div class="sectionbox widthpercent10 borderblack">Skill</div>
      <div class="sectionbox widthpercent10 borderblack">Skill</div>
      <div class="sectionbox widthpercent10 borderblack">Skill</div>
      <div class="sectionbox widthpercent10 borderblack">Skill</div>
      <div class="sectionbox widthpercent10 borderblack">Penalty</div>
      <div class="sectionbox widthpercent10 borderblack">DMG1</div>
      <div class="sectionbox widthpercent10 borderblack">DMG2</div>
    </div>
    <fieldset class="repeating_npclist">
      <div class="sectionbox widthpercent100">
        <div class="sectionbox widthpercent10 bordergray">
          <input class="npc-hidable" type="checkbox" name="attr_repeating_editmodecheckbox">
        </div>
        <div class="sectionbox widthpercent10 bordergray">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_name">
        </div>
        <div class="sectionbox widthpercent10 bordergray">
  		  <button type="roll" name="roll_repeating_npc_skill1" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=@{repeating_npc_name}}} {{header=NPC Initiative}} {{roll=[[@{repeating_npc_initiative_roll} + @{repeating_npc_penalty} + 1d10]]}}"> <span>Initiative</span> </button>
		</div>
        <div class="sectionbox widthpercent10 bordergray">
          <button type="roll" name="roll_repeating_npc_skill1" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=@{repeating_npc_name}}} {{header=@{repeating_npc_skill1}}} {{roll=[[@{repeating_npc_skill1_roll} + @{repeating_npc_penalty} + 1d10]]}}"> <span name="attr_repeating_npc_skill1"></span> </button>
        </div>
        <div class="sectionbox widthpercent10 bordergray">
          <button type="roll" name="roll_repeating_npc_skill2" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=@{repeating_npc_name}}} {{header=@{repeating_npc_skill2}}} {{roll=[[@{repeating_npc_skill2_roll} + @{repeating_npc_penalty} + 1d10]]}}"> <span name="attr_repeating_npc_skill2"></span> </button>
        </div>
        <div class="sectionbox widthpercent10 bordergray">
          <button type="roll" name="roll_repeating_npc_skill3" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=@{repeating_npc_name}}} {{header=@{repeating_npc_skill3}}} {{roll=[[@{repeating_npc_skill3_roll} + @{repeating_npc_penalty} + 1d10]]}}"> <span name="attr_repeating_npc_skill3"></span> </button>
        </div>
        <div class="sectionbox widthpercent10 bordergray">
          <button type="roll" name="roll_repeating_npc_skill4" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{charactername=@{repeating_npc_name}}} {{header=@{repeating_npc_skill4}}} {{roll=[[@{repeating_npc_skill4_roll} + @{repeating_npc_penalty} + 1d10]]}}"> <span name="attr_repeating_npc_skill4"></span> </button>
        </div>
        <div class="sectionbox widthpercent10 bordergray">
			<select class="sheet-npc-hidable" name="attr_repeating_npc_penalty">
			  <option value="20">+20</option>
			  <option value="19">+19</option>
			  <option value="18">+18</option>
			  <option value="17">+17</option>
			  <option value="16">+16</option>
			  <option value="15">+15</option>
			  <option value="14">+14</option>
			  <option value="13">+13</option>
			  <option value="12">+12</option>
			  <option value="11">+11</option>
			  <option value="10">+10</option>
			  <option value="9">+9</option>
			  <option value="8">+8</option>
			  <option value="7">+7</option>
			  <option value="6">+6</option>
			  <option value="5">+5</option>
			  <option value="4">+4</option>
			  <option value="3">+3</option>
			  <option value="2">+2</option>
			  <option value="1">+1</option>
			  <option value="0" SELECTED>0</option>
			  <option value="-1">-1</option>
			  <option value="-2">-2</option>
			  <option value="-3">-3</option>
			  <option value="-4">-4</option>
			  <option value="-5">-5</option>
			  <option value="-6">-6</option>
			  <option value="-7">-7</option>
			  <option value="-8">-8</option>
			  <option value="-9">-9</option>
			  <option value="-10">-10</option>
			  <option value="-11">-11</option>
			  <option value="-12">-12</option>
			  <option value="-13">-13</option>
			  <option value="-14">-14</option>
			  <option value="-15">-15</option>
			  <option value="-16">-16</option>
			  <option value="-17">-17</option>
			  <option value="-18">-18</option>
			  <option value="-18">-19</option>
			  <option value="-18">-20</option>
			</select>
        </div>
        <div class="sectionbox widthpercent10 bordergray">
		  <button type="roll" name="roll_repeating_npc_dmg1" value="@{repeating_npc_name} does [[@{repeating_npc_dmg1_roll}d6]] damage with @{repeating_npc_dmg1}."><span name="attr_repeating_npc_dmg1"></span></button>
        </div>
        <div class="sectionbox widthpercent10 bordergray">
		  <button type="roll" name="roll_repeating_npc_dmg2" value="@{repeating_npc_name} does [[@{repeating_npc_dmg2_roll}d6]] damage with @{repeating_npc_dmg2}."><span name="attr_repeating_npc_dmg2"></span></button>
        </div>
      </div>
      <input type="checkbox" name="attr_repeating_editmodecheckbox" class="sheet-hidden-repeating-checkbox">
      <div class="sectionbox widthpercent100 sheet-repeating-hidable">
        <div class="sectionbox widthpercent20 borderblue"> LABELS </div>
        <div class="sectionbox widthpercent10 borderblue">
          REF
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill1">
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill2">
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill3">
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill4">
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          ----
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_dmg1">
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_dmg2">
        </div>
      </div>
      <input type="checkbox" name="attr_repeating_editmodecheckbox" class="sheet-hidden-repeating-checkbox">
      <div class="sectionbox widthpercent100 sheet-repeating-hidable">
        <div class="sectionbox widthpercent20 bordergreen"> VALUES </div>
        <div class="sectionbox widthpercent10 bordergreen">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_initiative_roll">
        </div>
        <div class="sectionbox widthpercent10 bordergreen">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill1_roll">
        </div>
        <div class="sectionbox widthpercent10 bordergreen">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill2_roll">
        </div>
        <div class="sectionbox widthpercent10 bordergreen">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill3_roll">
        </div>
        <div class="sectionbox widthpercent10 bordergreen">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_skill4_roll">
        </div>
        <div class="sectionbox widthpercent10 bordergreen">
          ----
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_dmg1_roll">
        </div>
        <div class="sectionbox widthpercent10 borderblue">
          <input class="npc-hidable" type="text" name="attr_repeating_npc_dmg2_roll">
        </div>
      </div>
    </fieldset>
	  </div>
  </div>
<hr>
  <button type="roll" value="&{template:jskgm1}{{critroll=[[1d10]]}}{{templatecolor=@{templatecolor}}} {{charactername=@{charactername}}} {{header=Skillname}} {{roll=[[@{dex} + @{brawlingroll} + @{finalmodifier} + 1d10]]}} {{footer=This is how footer text will look, if there is any such text on the action being taken.}}">Test Roll</button>
	<hr>
  <input type="checkbox" id="gmbutton2" class="sheet-gm-checkbox" name="attr_gmhidecheckbox">Click here to hide GM tools and show the player section.
</div>

<rolltemplate class="sheet-rolltemplate-jsk1">
  <div class="templatecontainer">
    <div class="redbordertop">&nbsp;</div>
    <div class="redborderleft">
      <div class="{{templatecolor}}">{{#charactername}}{{charactername}}{{/charactername}}</div>
      <div class="header">{{#header}}{{header}}{{/header}}</div>
      <div class="roll">{{roll}}</div>
      {{#rollWasCrit() roll}}
      <div class="crit">CRITICAL SUCCESS!<br>
        Add {{critroll}} to roll </div>
      {{/rollWasCrit() roll}}
      {{#rollWasFumble() roll}}
      <div class="fail">CRITICAL FAILURE!<br>
        Subtract {{critroll}} from roll </div>
      {{/rollWasFumble() roll}}
      {{#footer}}
      <div class="footer">{{footer}}</div>
      {{/footer}} </div>
    <div class="redborderbot">&nbsp;</div>
  </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-jskgm1">
  <div class="gmtemplatecontainer">
    <div class="redbordertop">&nbsp;</div>
    <div class="redborderleft">
      <div class="charactername-gm">{{#charactername}}{{charactername}}{{/charactername}}</div>
      <div class="header">{{#header}}{{header}}{{/header}}</div>
      <div class="roll">{{roll}}</div>
      {{#rollWasCrit() roll}}
      <div class="crit">CRITICAL SUCCESS!<br>
        Add {{critroll}} to roll </div>
      {{/rollWasCrit() roll}}
      {{#rollWasFumble() roll}}
      <div class="fail">CRITICAL FAILURE!<br>
        Subtract {{critroll}} from roll </div>
      {{/rollWasFumble() roll}}
      {{#footer}}
      <div class="footer">{{footer}}</div>
      {{/footer}} </div>
    <div class="redborderbot">&nbsp;</div>
  </div>
</rolltemplate>

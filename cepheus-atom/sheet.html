
<!-- main sheet code-->
<main>
  <section class="name flex-col">
    <h1 class="gametitle flex-row">
      <div class="atom">l</div><span>Cepheus Atom</span>
    </h1>
    <div class="flex-row name"><span class="flex-col"><span data-i18n="name">Name</span>
        <input class="bold" type="text" name="attr_character_name"/></span><span class="flex-col"><span data-i18n="genotype">genotype</span>
        <input class="geno" name="attr_genotype" type="text" list="genotype"/></span><span class="border flex-col"><span data-i18n="endurance">endurance</span>
        <input name="attr_endurance" type="number"/></span><span class="border flex-col"><span data-i18n="lifeblood">lifeblood</span>
        <div class="flex-row">
          <input class="lifeblood txtfield" name="attr_lifeblood" type="number"/>
          <input class="lifeblood txtfield" name="attr_lifeblood_max" type="number"/>
        </div></span></div><span class="flex-col desc"><span data-i18n="description">Description</span>
      <textarea name="attr_description"></textarea></span>
  </section>
  <section class="general">
    <div class="flex-row"><span class="border flex-col"><span data-i18n="trade-units">Trade Units</span>
        <input name="attr_tu" type="number"/></span><span class="border flex-col pad"><span data-i18n="fatigued">Fatigued?</span>
        <input name="attr_fatigue" type="checkbox" value="1"/></span></div>
    <h3>Contamination</h3>
    <div class="contam-row flex-row">
      <div>
        <input type="radio" name="contamination" value="0" checked="checked"/><span>0</span>
      </div>
      <div>
        <input type="radio" name="contamination" value="1"/><span>1</span>
      </div>
      <div>
        <input type="radio" name="contamination" value="2"/><span>2</span>
      </div>
      <div>
        <input type="radio" name="contamination" value="3"/><span>3</span>
      </div>
      <div>
        <input type="radio" name="contamination" value="4"/><span>4</span>
      </div>
      <div>
        <input type="radio" name="contamination" value="5"/><span>5</span>
      </div>
      <div>
        <input type="radio" name="contamination" value="6"/><span>6</span>
      </div>
    </div>
  </section>
  <section class="skills flex-col">
    <label data-i18n="skills">skills</label>
    <div class="section flex-row">
      <input class="txtfield warn-missing" type="number" name="attr_combat" placeholder="0"/>
      <button class="blank" name="roll_combat" type="roll" value="&amp;{template:rolls} {{title=^{combat} }} {{subtitle=@{character_name} }} {{^{roll-i18n}=[[ [[2d6]]+@{combat} ]]}} {{baseroll=$[[0]]}}"><span data-i18n="combat">combat</span></button>
    </div>
    <div class="section flex-row">
      <input class="txtfield warn-missing" type="number" name="attr_knowledge" placeholder="0"/>
      <button class="blank" name="roll_knowledge" type="roll" value="&amp;{template:rolls} {{title=^{knowledge} }} {{subtitle=@{character_name} }} {{^{roll-i18n}=[[ [[2d6]]+@{knowledge} ]]}} {{baseroll=$[[0]]}}"><span data-i18n="knowledge">knowledge</span></button>
    </div>
    <div class="section flex-row">
      <input class="txtfield warn-missing" type="number" name="attr_physical" placeholder="0"/>
      <button class="blank" name="roll_physical" type="roll" value="&amp;{template:rolls} {{title=^{physical} }} {{subtitle=@{character_name} }} {{^{roll-i18n}=[[ [[2d6]]+@{physical} ]]}} {{baseroll=$[[0]]}}"><span data-i18n="physical">physical</span></button>
    </div>
    <div class="section flex-row">
      <input class="txtfield warn-missing" type="number" name="attr_social" placeholder="0"/>
      <button class="blank" name="roll_social" type="roll" value="&amp;{template:rolls} {{title=^{social} }} {{subtitle=@{character_name} }} {{^{roll-i18n}=[[ [[2d6]]+@{social} ]]}} {{baseroll=$[[0]]}}"><span data-i18n="social">social</span></button>
    </div>
    <div class="section flex-row">
      <input class="txtfield warn-missing" type="number" name="attr_survival" placeholder="0"/>
      <button class="blank" name="roll_survival" type="roll" value="&amp;{template:rolls} {{title=^{survival} }} {{subtitle=@{character_name} }} {{^{roll-i18n}=[[ [[2d6]]+@{survival} ]]}} {{baseroll=$[[0]]}}"><span data-i18n="survival">survival</span></button>
    </div>
    <div class="section flex-row">
      <input class="txtfield warn-missing" type="number" name="attr_technical" placeholder="0"/>
      <button class="blank" name="roll_technical" type="roll" value="&amp;{template:rolls} {{title=^{technical} }} {{subtitle=@{character_name} }} {{^{roll-i18n}=[[ [[2d6]]+@{technical} ]]}} {{baseroll=$[[0]]}}"><span data-i18n="technical">technical</span></button>
    </div>
  </section>
  <section class="combat">
    <div class="flex-row section">
      <button class="d6" name="roll_init" type="roll" value="&amp;{template:rolls} {{title=^{initiative} }} {{subtitle=@{character_name} }} {{^{roll-i18n}=[[2d6+(@{combat} &amp;{tracker}]]}}"><span data-i18n="initiative">Initiative</span></button>
      <div class="armor border flex-row">
        <h3 data-i18n="armor">armor</h3>
        <input class="name" name="attr_armorname" type="text"/>
        <input name="attr_armor" type="number"/>
      </div>
    </div>
    <div class="border grid-weapon"><span></span><span data-i18n="weapons">weapons</span><span data-i18n="range">range</span><span class="damage" data-i18n="damage">dmg</span><span data-i18n="notes">notes</span>
      <button class="d6" name="roll_weapon1" type="roll" value="&amp;{template:rolls} {{title=^{weapon}: @{wpn1name} }} {{subtitle=@{character_name} }} {{^{range}= @{wpn1range} }}  {{^{roll-i18n}=[[ [[2d6]]+@{combat} ]]}} {{baseroll=$[[0]]}} {{^{damage}= [[@{wpn1dmg}6]] }}"></button>
      <input class="weapon-name" name="attr_wpn1name" type="text"/>
      <input class="range" name="attr_wpn1range" type="text"/>
      <input class="dmg" name="attr_wpn1dmg" placeholder="2d" type="text"/>
      <input class="weapon-notes" name="attr_wpn1notes" type="text"/>
      <button class="d6" name="roll_weapon2" type="roll" value="&amp;{template:rolls} {{title=^{weapon}: @{wpn2name} }} {{subtitle=@{character_name} }} {{^{range}= @{wpn2range} }}  {{^{roll-i18n}=[[ [[2d6]]+@{combat} ]]}} {{baseroll=$[[0]]}} {{^{damage}= [[@{wpn2dmg}6]] }}"></button>
      <input class="weapon-name" name="attr_wpn2name" type="text"/>
      <input class="range" name="attr_wpn2range" type="text"/>
      <input class="dmg" name="attr_wpn2dmg" placeholder="2d" type="text"/>
      <input class="weapon-notes" name="attr_wpn2notes" type="text"/>
      <button class="d6" name="roll_weapon3" type="roll" value="&amp;{template:rolls} {{title=^{weapon}: @{wpn3name} }} {{subtitle=@{character_name} }} {{^{range}= @{wpn3range} }}  {{^{roll-i18n}=[[ [[2d6]]+@{combat} ]]}} {{baseroll=$[[0]]}} {{^{damage}= [[@{wpn3dmg}6]] }}"></button>
      <input class="weapon-name" name="attr_wpn3name" type="text"/>
      <input class="range" name="attr_wpn3range" type="text"/>
      <input class="dmg" name="attr_wpn3dmg" placeholder="2d" type="text"/>
      <input class="weapon-notes" name="attr_wpn3notes" type="text"/>
      <button class="d6" name="roll_weapon4" type="roll" value="&amp;{template:rolls} {{title=^{weapon}: @{wpn4name} }} {{subtitle=@{character_name} }} {{^{range}= @{wpn4range} }}  {{^{roll-i18n}=[[ [[2d6]]+@{combat} ]]}} {{baseroll=$[[0]]}} {{^{damage}= [[@{wpn4dmg}6]] }}"></button>
      <input class="weapon-name" name="attr_wpn4name" type="text"/>
      <input class="range" name="attr_wpn4range" type="text"/>
      <input class="dmg" name="attr_wpn4dmg" placeholder="2d" type="text"/>
      <input class="weapon-notes" name="attr_wpn4notes" type="text"/>
      <button class="d6" name="roll_weapon5" type="roll" value="&amp;{template:rolls} {{title=^{weapon}: @{wpn5name} }} {{subtitle=@{character_name} }} {{^{range}= @{wpn5range} }}  {{^{roll-i18n}=[[ [[2d6]]+@{combat} ]]}} {{baseroll=$[[0]]}} {{^{damage}= [[@{wpn5dmg}6]] }}"></button>
      <input class="weapon-name" name="attr_wpn5name" type="text"/>
      <input class="range" name="attr_wpn5range" type="text"/>
      <input class="dmg" name="attr_wpn5dmg" placeholder="2d" type="text"/>
      <input class="weapon-notes" name="attr_wpn5notes" type="text"/>
    </div>
  </section>
  <section class="border equip">
    <label for="for" data-i18n="equipment">equipment</label>
    <textarea class="iflex" name="attr_equipment" value="value"></textarea>
  </section>
  <section class="border notes">
    <label for="for" data-i18n="notes">notes</label>
    <textarea class="iflex" name="attr_notes" value="value"></textarea>
  </section>
  <section class="border mutation">
    <label for="for" data-i18n="mutations">mutations</label>
    <fieldset class="repeating_mutations">
      <button class="sendtext" name="roll_roll" value="@{whisper}&{template:rolls} {{title=Mutation: @{name} }} {{subtitle=@{character_name} }} {{type= @{type} }} {{desc=**Description:** @{desc} }}" type="roll"></button>
      <input class="name" name="attr_name" title="@{name}" type="text"/>
      <select name="attr_type" title="@{type}">
        <option value="minor-flaw">Minor Flaw</option>
        <option value="medium-flaw">Medium Flaw</option>
        <option value="major-flaw">Major Flaw</option>
        <option value="minor-perk">Minor Perk</option>
        <option value="medium-perk">Medium Perk</option>
        <option value="major-perk">Major Perk</option>
      </select>
      <input name="attr_desc" title="@{desc}" type="text"/>
    </fieldset>
  </section>
</main>
<!-- hidden inputs & datalists-->
<datalist id="genotype">
  <option data-i18n="human">Human</option>
  <option data-i18n="near-human">Near-Human</option>
  <option data-i18n="mutant">Mutant</option>
</datalist>
<!-- roll templates-->
<rolltemplate class="sheet-rolltemplate-rolls">
  <div class="sheet-container sheet-color-{{color}}">
    <div class="sheet-header">
      
      {{#title}}
      <div class="sheet-title">{{title}}</div>
      {{/title}}
      {{#subtitle}}
      <div class="sheet-subtitle">{{subtitle}}</div>
      {{/subtitle}}
    </div>
    <div class="sheet-content">
      
      {{#allprops() title subtitle desc color baseroll}}
      <div class="sheet-key">{{key}}</div>
      <div class="sheet-value">{{value}}</div>
      {{/allprops() title subtitle desc color baseroll}}
      {{#rollTotal() baseroll 2}}
      <div class="sheet-fail">Critical Fumble!</div>
      {{/rollTotal() baseroll 2}}
      {{#rollTotal() baseroll 12}}
      <div class="sheet-crit">Critical Success!</div>
      {{/rollTotal() baseroll 12}}
      {{#desc}}
      <div class="sheet-desc">{{desc}}</div>
      {{/desc}}
    </div>
  </div>
</rolltemplate>
<div class="body">
    <div>

        <input type="hidden" name="attr_ref_penality" value="0">
        <input type="hidden" name="attr_int_penality" value="0">
        <input type="hidden" name="attr_tech_penality" value="0">
        <input type="hidden" name="attr_cool_penality" value="0">
        <input type="hidden" name="attr_body_penality" value="0">
        <input type="hidden" name="attr_attr_penality" value="0">
        <input type="hidden" name="attr_luck_penality" value="0">
        <input type="hidden" name="attr_ma_penality" value="0">
        <input type="hidden" name="attr_emp_penality" value="0">
        <input type="hidden" name="attr_total_cyb" value="0">

        <div style="display:inline-block;width:460px;margin-top:30px">
            <h1 style="margin-left: 30px;display: block;font-size: 50px;height: 50px;">Cyberpunk 2020</h1>
            <input type="checkbox" style="margin-top: -15px;" class="edit-view"/>
            <h4>Class:</h4>
            <span class="bio-title" class="bioView" name="attr_class"></span>
            <input class="bioEdit" type="text" name="attr_class" style="width:150px;">
            <h4>Genre:</h4>
            <span class="bio-title" class="bioView" name="attr_sex"></span>
            <select name="attr_sex" style="width:70px;">
                <option value="M">Male</option>
                <option value="F">Female</option>
                <option value="O">Other</option>
            </select>
            <h4>Age:</h4>
            <span class="bio-title" name="attr_age"></span>
            <input type="number" name="attr_age" value="0" />
            <h4>IP:</h4>
            <span class="bio-title" name="attr_ip"></span>
            <input type="number" name="attr_ip" value="0" style="width:50px;" />
            <h4>&nbsp;Cash:</h4>
            <input type="number" name="attr_money" value="0" style="width:100px;border:0;text-align:right;display:inline-block;" /><i style="margin-top:5px;font-size:smaller;">€$</i>
            <h4>&nbsp;Pt:</h4>
            <span class="bio-title" name="attr_pt_attrs"></span>/<span class="bio-title" name="attr_pt_skills"></span>
        </div>

        <div class="FFN dmg-calculator">
            <h4>Combat (damages calculator & random location) </h4>
            <button style="margin-left:50px;" class="add-dice" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Initiative}}{{result=[[1d10!cf<1+@{ref}+@{ref_mod}-@{ref_penality}+@{init_mod}+?{Type|Normal,0|Quick,3}+?{mod.|0}]]}}{{mod=?{mod.|0}}}" name="roll_init"><strong>Initiative</strong></button>
            <div>
                <input type="number" name="attr_nb_dice" value="1" min="1" />
                <select class="select-dmg-dice" name="attr_type_dice">
                    <option value="d6">D6</option>
                    <option value="d10">D10</option>
                    <option value="d3">D6/2</option>
                    <option value="d2">D2</option>
                </select>
                <input type="number" name="attr_add_dmg" value="0" />
                <select class="select-dmg-loc" name="attr_loc">
                    <option value="1d10">Default</option>
                    <option value="1d9+1">Default(no head)</option>
                    <option value="1d6">Upper</option>
                    <option value="1d5+1">Upper(no head)</option>
                    <option value="1d4+6">Lower</option>
                    <option value="1d6+4">Limbs</option>
                    <option value="1">Head</option>
                    <option value="3">Chest</option>
                    <option value="5">R.arm</option>
                    <option value="6">L.arm</option>
                    <option value="7">R.leg</option>
                    <option value="10">L.leg</option>
                </select>
                <input type="checkbox" name="attr_meleedmg" value="@{dm}"/>
                <div style="float:right; width:90px;">
                    <button style="margin-left:42px;" class="ranged add-dice" type="roll" value="&{template:dmg}{{name=@{character_name}}}{{dmg=[[@{nb_dice}@{type_dice}+@{add_dmg}+@{meleedmg}]]}}{{loc=[[@{loc}]]}}{{dmgCrt=[[1d10]]}}"><strong>Damages</strong></button>
                    <button type="roll" value="!damage 0 @{target|token_id} @{nb_dice} @{type_dice} @{add_dmg} @{meleedmg} @{loc} ?{AP|Normal,1/1|SP/2,2|SP/3,3|SP/4,4} ?{Damage|x1,*v1|÷2,/v2|x2,*v2} ?{nb hits|1}">Damages (API)</button>
                </div>
            </div>
            <div style="margin-top:-10px;">
                <i style="font-size:smaller;">Nb dices&nbsp;/&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;type&nbsp;&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;bonus&nbsp;&nbsp;&nbsp;/&nbsp;&nbsp;&nbsp;location&nbsp;&nbsp;&nbsp;/&nbsp;Melee</i>
            </div>
        </div>
    </div>
    <hr>
    <div class="section stats">
        <input type="checkbox" class="edit-view" name="attr_edit_mod" />
        <h4 style="margin-left:25px;">Specialities :</h4>
        <input type="radio" class="skills-show" name="attr_skills_show" value="spe">
        <input type="checkbox" class="skills-edit" name="attr_spe_skills_edit">
        <b class="skills-legend" style="margin-left: 135px;">
            <input class="txt-legend" type="text" value="Base" disabled/>
        </b>
        <div class="skills-attr" style="width:350px">
            <input type="checkbox" class="skill-select" name="attr_aircraft_sense_select">
            <button class="skill-button">
                <b>Aircraft Sense</b>
                <span name="attr_aircraft_sense"></span>
            </button>
            <b>
                <i>Aircraft Sense (3)</i>
                <input type="number" name="attr_aircraft_sense" value="0" maxlength="2">
                <input type="hidden" name="attr_aircraft_sense_max" value="@{aircraft_sense}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_apca_combat sense_select">
            <button class="skill-button">
                <b>APCA Combat Sense</b>
                <span name="attr_apca_combat sense"></span>
            </button>
            <b>
                <i>APCA Combat Sense (3)</i>
                <input type="number" name="attr_apca_combat sense" value="0" maxlength="2">
                <input type="hidden" name="attr_apca_combat sense_max" value="@{apca_combat sense}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_authority_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Authority}} {{result=[[1d10!cf<1 + @{authority_max} + @{cool} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{authority_max}]]}}" name="roll_skillRoll">
                <b>Authority</b>
                <span name="attr_authority"></span>
            </button>
            <b>
                <i>Authority</i>
                <input type="number" name="attr_authority" value="0" maxlength="2">
                <input type="hidden" name="attr_authority_max" value="@{authority}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_charismatic_leadership_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Charismatic Leadership}} {{result=[[1d10!cf<1 + @{charismatic_leadership_max} + @{cool} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{charismatic_leadership_max}]]}}" name="roll_skillRoll">
                <b>Charismatic Leadership</b>
                <span name="attr_charismatic_leadership"></span>
            </button>
            <b>
                <i>Charismatic Leadership</i>
                <input type="number" name="attr_charismatic_leadership" value="0" maxlength="2">
                <input type="hidden" name="attr_charismatic_leadership_max" value="@{charismatic_leadership}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_combat_sense_select">
            <button class="skill-button">
                <b>Combat Sense</b>
                <span name="attr_combat_sense"></span>
            </button>
            <b>
                <i>Combat Sense</i>
                <input type="number" name="attr_combat_sense" value="0" maxlength="2">
                <input type="hidden" name="attr_combat_sense_max" value="@{combat_sense}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_combat_sneak_select">
            <button class="skill-button">
                <b>Combat Sneak</b>
                <span name="attr_combat_sneak"></span>
            </button>
            <b>
                <i>Combat Sneak (3)</i>
                <input type="number" name="attr_combat_sneak" value="0" maxlength="2">
                <input type="hidden" name="attr_combat_sneak_max" value="@{combat_sneak}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_con_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Con}} {{result=[[1d10!cf<1 + @{con_max} + @{cool} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{con_max}]]}}" name="roll_skillRoll">
                <b>Con</b>
                <span name="attr_con"></span>
            </button>
            <b>
                <i>Con</i>
                <input type="number" name="attr_con" value="0" maxlength="2">
                <input type="hidden" name="attr_con_max" value="@{con}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_credibility_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Credibility}} {{result=[[1d10!cf<1 + @{credibility_max} + @{int} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{credibility_max}]]}}" name="roll_skillRoll">
                <b>Credibility</b>
                <span name="attr_credibility"></span>
            </button>
            <b>
                <i>Credibility</i>
                <input type="number" name="attr_credibility" value="0" maxlength="2">
                <input type="hidden" name="attr_credibility_max" value="@{credibility}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_family_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Family}} {{result=[[1d10!cf<1 + @{family_max} + @{int} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{family_max}]]}}" name="roll_skillRoll">
                <b>Family</b>
                <span name="attr_family"></span>
            </button>
            <b>
                <i>Family</i>
                <input type="number" name="attr_family" value="0" maxlength="2">
                <input type="hidden" name="attr_family_max" value="@{family}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_gang_rank_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Gang Rank}} {{result=[[1d10!cf<1 + @{gang_rank_max} + @{int} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{gang_rank_max}]]}}" name="roll_skillRoll">
                <b>Gang Rank</b>
                <span name="attr_gang_rank"></span>
            </button>
            <b>
                <i>Gang Rank</i><input type="number" name="attr_gang_rank" value="0" maxlength="2">
                <input type="hidden" name="attr_gang_rank_max" value="@{gang_rank}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_interface_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Interface}} {{result=[[1d10!cf<1 + @{interface_max} + @{int} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{interface_max}]]}}" name="roll_skillRoll">
                <b>Interface</b>
                <span name="attr_interface"></span>
            </button>
            <b>
                <i>Interface</i> <input type="number" name="attr_interface" value="0" maxlength="2">
                <input type="hidden" name="attr_interface_max" value="@{interface}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_jury_rig_select">
            <button class="skill-button" [[@{jury_rig_max}d6]]="">
                <b>Jury Rig</b>
                <span name="attr_jury_rig"></span>
            </button>
            <b>
                <i>Jury Rig</i>
                <input type="number" name="attr_jury_rig" value="0" maxlength="2">
                <input type="hidden" name="attr_jury_rig_max" value="@{jury_rig}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_medical_tech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Medical Tech}} {{result=[[1d10!cf<1 + @{medical_tech_max} + @{tech} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{medical_tech_max}]]}}" name="roll_skillRoll">
                <b>Medical Tech</b>
                <span name="attr_medical_tech"></span>
            </button>
            <b>
                <i>Medical Tech</i>
                <input type="number" name="attr_medical_tech" value="0" maxlength="2">
                <input type="hidden" name="attr_medical_tech_max" value="@{medical_tech}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_resources_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Resources}} {{result=[[1d10!cf<1 + @{resources_max} + @{int} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{resources_max}]]}}" name="roll_skillRoll">
                <b>Resources</b>
                <span name="attr_resources"></span>
            </button>
            <b>
                <i>Resources</i>
                <input type="number" name="attr_resources" value="0" maxlength="2">
                <input type="hidden" name="attr_resources_max" value="@{resources}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_scrounge_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Scrounge}} {{result=[[1d10!cf<1 + @{scrounge_max} + @{int} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{scrounge_max}]]}}" name="roll_skillRoll">
                <b>Scrounge</b>
                <span name="attr_scrounge"></span>
            </button>
            <b>
                <i>Scrounge</i>
                <input type="number" name="attr_scrounge" value="0" maxlength="2">
                <input type="hidden" name="attr_scrounge_max" value="@{scrounge}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_sneak_select">
            <button class="skill-button">
                <b>Sneak</b>
                <span name="attr_sneak"></span>
            </button>
            <b>
                <i>Sneak</i>
                <input type="number" name="attr_sneak" value="0" maxlength="2">
                <input type="hidden" name="attr_sneak_max" value="@{sneak}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_streetdeal_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Streetdeal}} {{result=[[1d10!cf<1 + @{streetdeal_max} + @{cool} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{streetdeal_max}]]}}" name="roll_skillRoll">
                <b>Streetdeal</b>
                <span name="attr_streetdeal"></span>
            </button>
            <b>
                <i>Streetdeal</i>
                <input type="number" name="attr_streetdeal" value="0" maxlength="2">
                <input type="hidden" name="attr_streetdeal_max" value="@{streetdeal}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_vamp_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Vamp}} {{result=[[1d10!cf<1 + @{vamp_max} + @{emp} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{vamp_max}]]}}" name="roll_skillRoll">
                <b>Vamp</b>
                <span name="attr_vamp"></span>
            </button>
            <b>
                <i>Vamp</i>
                <input type="number" name="attr_vamp" value="0" maxlength="2">
                <input type="hidden" name="attr_vamp_max" value="@{vamp}">
            </b>
            <input type="checkbox" class="skill-select" name="attr_vehicle_zen_select">
            <button class="skill-button">
                <b>Vehicle Zen</b>
                <span name="attr_vehicle_zen"></span>
            </button>
            <b>
                <i>Vehicle Zen (3)</i>
                <input type="number" name="attr_vehicle_zen" value="0" maxlength="2">
                <input type="hidden" name="attr_vehicle_zen_max" value="@{vehicle_zen}">
            </b>
        </div>

        <input class="txt-legend" type="text" value="Base" disabled/>
        <input class="txt-legend" type="text" value="mod." disabled/>
        <br>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=attr}}{{result=[[1d10!cf<1+@{attr}+@{attr_mod}-@{attr_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_attr">
            <b>ATTR </b>
            <span name="attr_attr_max"></span>
        </button>
        <b>ATTR</b>
        <input type="number" name="attr_attr" value="0" maxlength="2">
        <input type="number" name="attr_attr_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_attr_max" value="0">
        <input type="radio" class="skills-show" name="attr_skills_show" value="attr">
        <input type="checkbox" class="skills-edit" name="attr_attr_skills_edit">
        <b class="skills-legend">
            <input class="txt-legend" type="text" value="Base" disabled/>
            <input class="txt-legend" type="text" value="mod." disabled/>
        </b>
        <div class="skills-attr">
            <input type="checkbox" class="skill-select" name="attr_personalgrooming_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Personal Grooming}} {{result=[[1d10!cf<1 + @{personalgrooming} + @{personalgrooming_mod}+ @{attr} + @{attr_mod} - @{attr_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{personalgrooming_max}]]}}" name="roll_skillRoll">
                <b>Personal Grooming</b>
                <span name="attr_personalgrooming_max"></span>
            </button>
            <b>
                <i>Personal Grooming</i><input type="number" name="attr_personalgrooming" value="0" maxlength="2">
                <input type="number" name="attr_personalgrooming_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_personalgrooming_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_wardrobestyle_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Wardrobe &amp; Style}} {{result=[[1d10!cf<1 + @{wardrobestyle} + @{wardrobestyle_mod}+ @{attr} + @{attr_mod} - @{attr_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{wardrobestyle_max}]]}}" name="roll_skillRoll">
                <b>Wardrobe &amp; Style</b>
                <span name="attr_wardrobestyle_max"></span>
            </button>
            <b>
                <i>Wardrobe &amp; Style</i><input type="number" name="attr_wardrobestyle" value="0" maxlength="2">
                <input type="number" name="attr_wardrobestyle_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_wardrobestyle_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_comp_attr_1_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_attr_1_text}}} {{result=[[1d10!cf<1 + @{comp_attr_1_value} + @{comp_attr_1_value_mod}+ @{attr} + @{attr_mod} - @{attr_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_attr_1_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_attr_1_text"></span></b>
                <span name="attr_comp_attr_1_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_attr_1_text"/></i><input type="number" name="attr_comp_attr_1_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_attr_1_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_attr_1_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_attr_2_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_attr_2_text}}} {{result=[[1d10!cf<1 + @{comp_attr_2_value} + @{comp_attr_2_value_mod}+ @{attr} + @{attr_mod} - @{attr_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_attr_2_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_attr_2_text"></span></b>
                <span name="attr_comp_attr_2_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_attr_2_text"/></i><input type="number" name="attr_comp_attr_2_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_attr_2_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_attr_2_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_attr_3_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_attr_3_text}}} {{result=[[1d10!cf<1 + @{comp_attr_3_value} + @{comp_attr_3_value_mod}+ @{attr} + @{attr_mod} - @{attr_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_attr_3_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_attr_3_text"></span></b>
                <span name="attr_comp_attr_3_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_attr_3_text"/></i><input type="number" name="attr_comp_attr_3_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_attr_3_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_attr_3_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_attr_4_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_attr_4_text}}} {{result=[[1d10!cf<1 + @{comp_attr_4_value} + @{comp_attr_4_value_mod}+ @{attr} + @{attr_mod} - @{attr_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_attr_4_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_attr_4_text"></span></b>
                <span name="attr_comp_attr_4_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_attr_4_text"/></i><input type="number" name="attr_comp_attr_4_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_attr_4_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_attr_4_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_attr_5_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_attr_5_text}}} {{result=[[1d10!cf<1 + @{comp_attr_5_value} + @{comp_attr_5_value_mod}+ @{attr} + @{attr_mod} - @{attr_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_attr_5_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_attr_5_text"></span></b>
                <span name="attr_comp_attr_5_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_attr_5_text"/></i><input type="number" name="attr_comp_attr_5_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_attr_5_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_attr_5_value_max" value="0">
            </b>

        </div>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=body}}{{result=[[1d10!cf<1+@{body}+@{body_mod}-@{body_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_body">
            <b>BODY </b>
            <span name="attr_body_max"></span>
        </button>
        <b>BODY</b>
        <input type="number" name="attr_body" value="0" maxlength="2">
        <input type="number" name="attr_body_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_body_max" value="0">
        <input type="radio" class="skills-show" name="attr_skills_show" value="body">
        <input type="checkbox" class="skills-edit" name="attr_body_skills_edit">
        <b class="skills-legend">
            <input class="txt-legend" type="text" value="Base" disabled/>
            <input class="txt-legend" type="text" value="mod." disabled/>
        </b>
        <div class="skills-attr">
            <b class="secondary">
                <i>Bonus to stun save (cyb)</i>
                <input type="number" name="attr_saveS" value="0" maxlength="2" />
            </b>
            <b class="secondary">
                <i>Bonus to death save (cyb)</i>
                <input type="number" name="attr_saveD" value="0" maxlength="2" />
            </b>
            <b class="secondary">
                <i>Bonus to melee damages (cyb)</i>
                <input type="number" name="attr_cybmelee" value="0" maxlength="2" />
            </b>
            <input type="checkbox" class="skill-select" name="attr_endurance_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Endurance}} {{result=[[1d10!cf<1 + @{endurance} + @{endurance_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{endurance_max}]]}}" name="roll_skillRoll">
                <b>Endurance</b>
                <span name="attr_endurance_max"></span>
            </button>
            <b><i>Endurance</i><input type="number" name="attr_endurance" value="0" maxlength="2">
                <input type="number" name="attr_endurance_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_endurance_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_strengthfeat_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Strength Feat}} {{result=[[1d10!cf<1 + @{strengthfeat} + @{strengthfeat_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{strengthfeat_max}]]}}" name="roll_skillRoll">
                <b>Strength Feat</b>
                <span name="attr_strengthfeat_max"></span>
            </button>
            <b><i>Strength Feat</i><input type="number" name="attr_strengthfeat" value="0" maxlength="2">
                <input type="number" name="attr_strengthfeat_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_strengthfeat_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_swimming_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Swimming}} {{result=[[1d10!cf<1 + @{swimming} + @{swimming_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{swimming_max}]]}}" name="roll_skillRoll">
                <b>Swimming</b>
                <span name="attr_swimming_max"></span>
            </button>
            <b><i>Swimming</i><input type="number" name="attr_swimming" value="0" maxlength="2">
                <input type="number" name="attr_swimming_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_swimming_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_comp_body_1_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_body_1_text}}} {{result=[[1d10!cf<1 + @{comp_body_1_value} + @{comp_body_1_value_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_body_1_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_body_1_text"></span></b>
                <span name="attr_comp_body_1_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_body_1_text"/></i><input type="number" name="attr_comp_body_1_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_body_1_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_body_1_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_body_2_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_body_2_text}}} {{result=[[1d10!cf<1 + @{comp_body_2_value} + @{comp_body_2_value_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_body_2_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_body_2_text"></span></b>
                <span name="attr_comp_body_2_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_body_2_text"/></i><input type="number" name="attr_comp_body_2_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_body_2_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_body_2_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_body_3_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_body_3_text}}} {{result=[[1d10!cf<1 + @{comp_body_3_value} + @{comp_body_3_value_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_body_3_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_body_3_text"></span></b>
                <span name="attr_comp_body_3_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_body_3_text"/></i><input type="number" name="attr_comp_body_3_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_body_3_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_body_3_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_body_4_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_body_4_text}}} {{result=[[1d10!cf<1 + @{comp_body_4_value} + @{comp_body_4_value_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_body_4_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_body_4_text"></span></b>
                <span name="attr_comp_body_4_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_body_4_text"/></i><input type="number" name="attr_comp_body_4_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_body_4_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_body_4_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_body_5_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_body_5_text}}} {{result=[[1d10!cf<1 + @{comp_body_5_value} + @{comp_body_5_value_mod}+ @{body} + @{body_mod} - @{body_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_body_5_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_body_5_text"></span></b>
                <span name="attr_comp_body_5_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_body_5_text"/></i><input type="number" name="attr_comp_body_5_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_body_5_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_body_5_value_max" value="0">
            </b>

        </div>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=cool}}{{result=[[1d10!cf<1+@{cool}+@{cool_mod}-@{cool_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_cool">
            <b>COOL </b>
            <span name="attr_cool_max"></span>
        </button>
        <b>COOL</b>
        <input type="number" name="attr_cool" value="0" maxlength="2">
        <input type="number" name="attr_cool_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_cool_max" value="0">
        <input type="radio" class="skills-show" name="attr_skills_show" value="cool">
        <input type="checkbox" class="skills-edit" name="attr_cool_skills_edit">
        <b class="skills-legend">
            <input class="txt-legend" type="text" value="Base" disabled/>
            <input class="txt-legend" type="text" value="mod." disabled/>
        </b>
        <div class="skills-attr">
            <b class="secondary">
                <i>Reputation</i>
                <input type="number" name="attr_rep" value="0" maxlength="2" />
            </b>
            <input type="checkbox" class="skill-select" name="attr_interrogation_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Interrogation}} {{result=[[1d10!cf<1 + @{interrogation} + @{interrogation_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{interrogation_max}]]}}" name="roll_skillRoll">
                <b>Interrogation</b>
                <span name="attr_interrogation_max"></span>
            </button>
            <b><i>Interrogation</i><input type="number" name="attr_interrogation" value="0" maxlength="2">
                <input type="number" name="attr_interrogation_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_interrogation_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_intimidate_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Intimidate}} {{result=[[1d10!cf<1 + @{intimidate} + @{intimidate_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{intimidate_max}]]}}" name="roll_skillRoll">
                <b>Intimidate</b>
                <span name="attr_intimidate_max"></span>
            </button>
            <b><i>Intimidate</i><input type="number" name="attr_intimidate" value="0" maxlength="2">
                <input type="number" name="attr_intimidate_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_intimidate_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_oratory_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Oratory}} {{result=[[1d10!cf<1 + @{oratory} + @{oratory_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{oratory_max}]]}}" name="roll_skillRoll">
                <b>Oratory</b>
                <span name="attr_oratory_max"></span>
            </button>
            <b><i>Oratory</i><input type="number" name="attr_oratory" value="0" maxlength="2">
                <input type="number" name="attr_oratory_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_oratory_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_resisttorturedrugs_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Resist Torture/Drugs}} {{result=[[1d10!cf<1 + @{resisttorturedrugs} + @{resisttorturedrugs_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{resisttorturedrugs_max}]]}}" name="roll_skillRoll">
                <b>Resist Torture/Drugs</b>
                <span name="attr_resisttorturedrugs_max"></span>
            </button>
            <b><i>Resist Torture/Drugs</i><input type="number" name="attr_resisttorturedrugs" value="0" maxlength="2">
                <input type="number" name="attr_resisttorturedrugs_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_resisttorturedrugs_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_streetwise_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Streetwise}} {{result=[[1d10!cf<1 + @{streetwise} + @{streetwise_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{streetwise_max}]]}}" name="roll_skillRoll">
                <b>Streetwise</b>
                <span name="attr_streetwise_max"></span>
            </button>
            <b><i>Streetwise</i><input type="number" name="attr_streetwise" value="0" maxlength="2">
                <input type="number" name="attr_streetwise_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_streetwise_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_comp_cool_1_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_cool_1_text}}} {{result=[[1d10!cf<1 + @{comp_cool_1_value} + @{comp_cool_1_value_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_cool_1_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_cool_1_text"></span></b>
                <span name="attr_comp_cool_1_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_cool_1_text"/></i><input type="number" name="attr_comp_cool_1_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_cool_1_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_cool_1_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_cool_2_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_cool_2_text}}} {{result=[[1d10!cf<1 + @{comp_cool_2_value} + @{comp_cool_2_value_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_cool_2_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_cool_2_text"></span></b>
                <span name="attr_comp_cool_2_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_cool_2_text"/></i><input type="number" name="attr_comp_cool_2_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_cool_2_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_cool_2_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_cool_3_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_cool_3_text}}} {{result=[[1d10!cf<1 + @{comp_cool_3_value} + @{comp_cool_3_value_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_cool_3_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_cool_3_text"></span></b>
                <span name="attr_comp_cool_3_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_cool_3_text"/></i><input type="number" name="attr_comp_cool_3_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_cool_3_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_cool_3_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_cool_4_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_cool_4_text}}} {{result=[[1d10!cf<1 + @{comp_cool_4_value} + @{comp_cool_4_value_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_cool_4_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_cool_4_text"></span></b>
                <span name="attr_comp_cool_4_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_cool_4_text"/></i><input type="number" name="attr_comp_cool_4_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_cool_4_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_cool_4_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_cool_5_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_cool_5_text}}} {{result=[[1d10!cf<1 + @{comp_cool_5_value} + @{comp_cool_5_value_mod}+ @{cool} + @{cool_mod} - @{cool_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_cool_5_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_cool_5_text"></span></b>
                <span name="attr_comp_cool_5_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_cool_5_text"/></i><input type="number" name="attr_comp_cool_5_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_cool_5_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_cool_5_value_max" value="0">
            </b>

        </div>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=emp}}{{result=[[1d10!cf<1+@{emp}+@{emp_mod}-@{emp_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_emp">
            <b>EMP </b>
            <span name="attr_emp_max"></span>
        </button>
        <b>EMP</b>
        <input type="number" name="attr_emp" value="0" maxlength="2">
        <input type="number" name="attr_emp_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_emp_max" value="0">
        <input type="radio" class="skills-show" name="attr_skills_show" value="emp">
        <input type="checkbox" class="skills-edit" name="attr_emp_skills_edit">
        <b class="skills-legend">
            <input class="txt-legend" type="text" value="Base" disabled/>
            <input class="txt-legend" type="text" value="mod." disabled/>
        </b>
        <div class="skills-attr">
            <b class="secondary">
                <i>Humanity</i>
                <input type="number" name="attr_hum" value="0" max="100" min="0" disabled/>
            </b>
            <input type="checkbox" class="skill-select" name="attr_animalhandling_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Animal Handling}} {{result=[[1d10!cf<1 + @{animalhandling} + @{animalhandling_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{animalhandling_max}]]}}" name="roll_skillRoll">
                <b>Animal Handling</b>
                <span name="attr_animalhandling_max"></span>
            </button>
            <b><i>Animal Handling</i><input type="number" name="attr_animalhandling" value="0" maxlength="2">
                <input type="number" name="attr_animalhandling_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_animalhandling_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_humanperception_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Human Perception}} {{result=[[1d10!cf<1 + @{humanperception} + @{humanperception_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{humanperception_max}]]}}" name="roll_skillRoll">
                <b>Human Perception</b>
                <span name="attr_humanperception_max"></span>
            </button>
            <b><i>Human Perception</i><input type="number" name="attr_humanperception" value="0" maxlength="2">
                <input type="number" name="attr_humanperception_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_humanperception_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_interview_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Interview}} {{result=[[1d10!cf<1 + @{interview} + @{interview_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{interview_max}]]}}" name="roll_skillRoll">
                <b>Interview</b>
                <span name="attr_interview_max"></span>
            </button>
            <b><i>Interview</i><input type="number" name="attr_interview" value="0" maxlength="2">
                <input type="number" name="attr_interview_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_interview_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_leadership_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Leadership}} {{result=[[1d10!cf<1 + @{leadership} + @{leadership_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{leadership_max}]]}}" name="roll_skillRoll">
                <b>Leadership</b>
                <span name="attr_leadership_max"></span>
            </button>
            <b><i>Leadership</i><input type="number" name="attr_leadership" value="0" maxlength="2">
                <input type="number" name="attr_leadership_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_leadership_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_persuasionfasttalk_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Persuasion &amp; Fast Talk}} {{result=[[1d10!cf<1 + @{persuasionfasttalk} + @{persuasionfasttalk_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{persuasionfasttalk_max}]]}}" name="roll_skillRoll">
                <b>Persuasion &amp; Fast Talk</b>
                <span name="attr_persuasionfasttalk_max"></span>
            </button>
            <b><i>Persuasion &amp; Fast Talk</i><input type="number" name="attr_persuasionfasttalk" value="0" maxlength="2">
                <input type="number" name="attr_persuasionfasttalk_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_persuasionfasttalk_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_perform_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Perform}} {{result=[[1d10!cf<1 + @{perform} + @{perform_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{perform_max}]]}}" name="roll_skillRoll">
                <b>Perform</b>
                <span name="attr_perform_max"></span>
            </button>
            <b><i>Perform</i><input type="number" name="attr_perform" value="0" maxlength="2">
                <input type="number" name="attr_perform_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_perform_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_seduction_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Seduction}} {{result=[[1d10!cf<1 + @{seduction} + @{seduction_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{seduction_max}]]}}" name="roll_skillRoll">
                <b>Seduction</b>
                <span name="attr_seduction_max"></span>
            </button>
            <b><i>Seduction</i><input type="number" name="attr_seduction" value="0" maxlength="2">
                <input type="number" name="attr_seduction_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_seduction_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_social_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Social}} {{result=[[1d10!cf<1 + @{social} + @{social_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{social_max}]]}}" name="roll_skillRoll">
                <b>Social</b>
                <span name="attr_social_max"></span>
            </button>
            <b><i>Social</i><input type="number" name="attr_social" value="0" maxlength="2">
                <input type="number" name="attr_social_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_social_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_comp_emp_1_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_emp_1_text}}} {{result=[[1d10!cf<1 + @{comp_emp_1_value} + @{comp_emp_1_value_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_emp_1_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_emp_1_text"></span></b>
                <span name="attr_comp_emp_1_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_emp_1_text"/></i><input type="number" name="attr_comp_emp_1_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_emp_1_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_emp_1_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_emp_2_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_emp_2_text}}} {{result=[[1d10!cf<1 + @{comp_emp_2_value} + @{comp_emp_2_value_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_emp_2_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_emp_2_text"></span></b>
                <span name="attr_comp_emp_2_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_emp_2_text"/></i><input type="number" name="attr_comp_emp_2_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_emp_2_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_emp_2_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_emp_3_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_emp_3_text}}} {{result=[[1d10!cf<1 + @{comp_emp_3_value} + @{comp_emp_3_value_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_emp_3_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_emp_3_text"></span></b>
                <span name="attr_comp_emp_3_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_emp_3_text"/></i><input type="number" name="attr_comp_emp_3_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_emp_3_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_emp_3_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_emp_4_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_emp_4_text}}} {{result=[[1d10!cf<1 + @{comp_emp_4_value} + @{comp_emp_4_value_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_emp_4_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_emp_4_text"></span></b>
                <span name="attr_comp_emp_4_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_emp_4_text"/></i><input type="number" name="attr_comp_emp_4_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_emp_4_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_emp_4_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_emp_5_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_emp_5_text}}} {{result=[[1d10!cf<1 + @{comp_emp_5_value} + @{comp_emp_5_value_mod}+ @{emp} + @{emp_mod} - @{emp_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_emp_5_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_emp_5_text"></span></b>
                <span name="attr_comp_emp_5_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_emp_5_text"/></i><input type="number" name="attr_comp_emp_5_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_emp_5_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_emp_5_value_max" value="0">
            </b>

        </div>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=int}}{{result=[[1d10!cf<1+@{int}+@{int_mod}-@{int_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_int">
            <b>INT </b>
            <span name="attr_int_max"></span>
        </button>
        <b>INT</b>
        <input type="number" name="attr_int" value="0" maxlength="2">
        <input type="number" name="attr_int_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_int_max" value="0">
        <input type="radio" class="skills-show" name="attr_skills_show" value="int">
        <input type="checkbox" class="skills-edit" name="attr_int_skills_edit">
        <b class="skills-legend">
            <input class="txt-legend" type="text" value="Base" disabled/>
            <input class="txt-legend" type="text" value="mod." disabled/>
        </b>
        <div class="skills-attr">
            <input type="checkbox" class="skill-select" name="attr_accounting_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Accounting}} {{result=[[1d10!cf<1 + @{accounting} + @{accounting_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{accounting_max}]]}}" name="roll_skillRoll">
                <b>Accounting</b>
                <span name="attr_accounting_max"></span>
            </button>
            <b><i>Accounting</i><input type="number" name="attr_accounting" value="0" maxlength="2">
                <input type="number" name="attr_accounting_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_accounting_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_anthropology_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Anthropology}} {{result=[[1d10!cf<1 + @{anthropology} + @{anthropology_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{anthropology_max}]]}}" name="roll_skillRoll">
                <b>Anthropology</b>
                <span name="attr_anthropology_max"></span>
            </button>
            <b><i>Anthropology</i><input type="number" name="attr_anthropology" value="0" maxlength="2">
                <input type="number" name="attr_anthropology_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_anthropology_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_appraise_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Appraise}} {{result=[[1d10!cf<1 + @{appraise} + @{appraise_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{appraise_max}]]}}" name="roll_skillRoll">
                <b>Appraise</b>
                <span name="attr_appraise_max"></span>
            </button>
            <b><i>Appraise</i><input type="number" name="attr_appraise" value="0" maxlength="2">
                <input type="number" name="attr_appraise_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_appraise_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_astrogation_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Astrogation (2)}} {{result=[[1d10!cf<1 + @{astrogation} + @{astrogation_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{astrogation_max}]]}}" name="roll_skillRoll">
                <b>Astrogation</b>
                <span name="attr_astrogation_max"></span>
            </button>
            <b><i>Astrogation (2)</i><input type="number" name="attr_astrogation" value="0" maxlength="2">
                <input type="number" name="attr_astrogation_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_astrogation_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_awarenessnotice_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Awareness/Notice}} {{result=[[1d10!cf<1 + @{awarenessnotice} + @{awarenessnotice_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{awarenessnotice_max}]]}}" name="roll_skillRoll">
                <b>Awareness/Notice</b>
                <span name="attr_awarenessnotice_max"></span>
            </button>
            <b><i>Awareness/Notice</i><input type="number" name="attr_awarenessnotice" value="0" maxlength="2">
                <input type="number" name="attr_awarenessnotice_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_awarenessnotice_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_biology_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Biology (2)}} {{result=[[1d10!cf<1 + @{biology} + @{biology_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{biology_max}]]}}" name="roll_skillRoll">
                <b>Biology</b>
                <span name="attr_biology_max"></span>
            </button>
            <b><i>Biology (2)</i><input type="number" name="attr_biology" value="0" maxlength="2">
                <input type="number" name="attr_biology_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_biology_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_botany_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Botany}} {{result=[[1d10!cf<1 + @{botany} + @{botany_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{botany_max}]]}}" name="roll_skillRoll">
                <b>Botany</b>
                <span name="attr_botany_max"></span>
            </button>
            <b><i>Botany</i><input type="number" name="attr_botany" value="0" maxlength="2">
                <input type="number" name="attr_botany_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_botany_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_braindanceuse_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Braindance Use}} {{result=[[1d10!cf<1 + @{braindanceuse} + @{braindanceuse_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{braindanceuse_max}]]}}" name="roll_skillRoll">
                <b>Braindance Use</b>
                <span name="attr_braindanceuse_max"></span>
            </button>
            <b><i>Braindance Use</i><input type="number" name="attr_braindanceuse" value="0" maxlength="2">
                <input type="number" name="attr_braindanceuse_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_braindanceuse_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_bureaucraty_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Bureaucraty}} {{result=[[1d10!cf<1 + @{bureaucraty} + @{bureaucraty_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{bureaucraty_max}]]}}" name="roll_skillRoll">
                <b>Bureaucraty</b>
                <span name="attr_bureaucraty_max"></span>
            </button>
            <b><i>Bureaucraty</i><input type="number" name="attr_bureaucraty" value="0" maxlength="2">
                <input type="number" name="attr_bureaucraty_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_bureaucraty_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_businesssense_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Business Sense}} {{result=[[1d10!cf<1 + @{businesssense} + @{businesssense_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{businesssense_max}]]}}" name="roll_skillRoll">
                <b>Business Sense</b>
                <span name="attr_businesssense_max"></span>
            </button>
            <b><i>Business Sense</i><input type="number" name="attr_businesssense" value="0" maxlength="2">
                <input type="number" name="attr_businesssense_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_businesssense_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_chemistry_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Chemistry}} {{result=[[1d10!cf<1 + @{chemistry} + @{chemistry_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{chemistry_max}]]}}" name="roll_skillRoll">
                <b>Chemistry</b>
                <span name="attr_chemistry_max"></span>
            </button>
            <b><i>Chemistry</i><input type="number" name="attr_chemistry" value="0" maxlength="2">
                <input type="number" name="attr_chemistry_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_chemistry_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_composition_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Composition}} {{result=[[1d10!cf<1 + @{composition} + @{composition_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{composition_max}]]}}" name="roll_skillRoll">
                <b>Composition</b>
                <span name="attr_composition_max"></span>
            </button>
            <b><i>Composition</i><input type="number" name="attr_composition" value="0" maxlength="2">
                <input type="number" name="attr_composition_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_composition_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_culture_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Culture}} {{result=[[1d10!cf<1 + @{culture} + @{culture_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{culture_max}]]}}" name="roll_skillRoll">
                <b>Culture</b>
                <span name="attr_culture_max"></span>
            </button>
            <b><i>Culture</i><input type="number" name="attr_culture" value="0" maxlength="2">
                <input type="number" name="attr_culture_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_culture_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_diagnoseillness_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Diagnose Illness}} {{result=[[1d10!cf<1 + @{diagnoseillness} + @{diagnoseillness_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{diagnoseillness_max}]]}}" name="roll_skillRoll">
                <b>Diagnose Illness</b>
                <span name="attr_diagnoseillness_max"></span>
            </button>
            <b><i>Diagnose Illness</i><input type="number" name="attr_diagnoseillness" value="0" maxlength="2">
                <input type="number" name="attr_diagnoseillness_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_diagnoseillness_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_educationgeneralknowledge_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Education &amp; General Knowledge}} {{result=[[1d10!cf<1 + @{educationgeneralknowledge} + @{educationgeneralknowledge_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{educationgeneralknowledge_max}]]}}" name="roll_skillRoll">
                <b>Education &amp; General Knowledge</b>
                <span name="attr_educationgeneralknowledge_max"></span>
            </button>
            <b><i>Education &amp; General Knowledge</i><input type="number" name="attr_educationgeneralknowledge" value="0" maxlength="2">
                <input type="number" name="attr_educationgeneralknowledge_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_educationgeneralknowledge_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_eideticmemory_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Eidetic Memory}} {{result=[[1d10!cf<1 + @{eideticmemory} + @{eideticmemory_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{eideticmemory_max}]]}}" name="roll_skillRoll">
                <b>Eidetic Memory</b>
                <span name="attr_eideticmemory_max"></span>
            </button>
            <b><i>Eidetic Memory</i><input type="number" name="attr_eideticmemory" value="0" maxlength="2">
                <input type="number" name="attr_eideticmemory_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_eideticmemory_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_gamble_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Gamble}} {{result=[[1d10!cf<1 + @{gamble} + @{gamble_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{gamble_max}]]}}" name="roll_skillRoll">
                <b>Gamble</b>
                <span name="attr_gamble_max"></span>
            </button>
            <b><i>Gamble</i><input type="number" name="attr_gamble" value="0" maxlength="2">
                <input type="number" name="attr_gamble_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_gamble_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_geology_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Geology}} {{result=[[1d10!cf<1 + @{geology} + @{geology_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{geology_max}]]}}" name="roll_skillRoll">
                <b>Geology</b>
                <span name="attr_geology_max"></span>
            </button>
            <b><i>Geology</i><input type="number" name="attr_geology" value="0" maxlength="2">
                <input type="number" name="attr_geology_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_geology_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_herbalism_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Herbalism}} {{result=[[1d10!cf<1 + @{herbalism} + @{herbalism_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{herbalism_max}]]}}" name="roll_skillRoll">
                <b>Herbalism</b>
                <span name="attr_herbalism_max"></span>
            </button>
            <b><i>Herbalism</i><input type="number" name="attr_herbalism" value="0" maxlength="2">
                <input type="number" name="attr_herbalism_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_herbalism_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_hideevade_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Hide/Evade}} {{result=[[1d10!cf<1 + @{hideevade} + @{hideevade_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{hideevade_max}]]}}" name="roll_skillRoll">
                <b>Hide/Evade</b>
                <span name="attr_hideevade_max"></span>
            </button>
            <b><i>Hide/Evade</i><input type="number" name="attr_hideevade" value="0" maxlength="2">
                <input type="number" name="attr_hideevade_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_hideevade_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_history_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=History}} {{result=[[1d10!cf<1 + @{history} + @{history_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{history_max}]]}}" name="roll_skillRoll">
                <b>History</b>
                <span name="attr_history_max"></span>
            </button>
            <b><i>History</i><input type="number" name="attr_history" value="0" maxlength="2">
                <input type="number" name="attr_history_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_history_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_knowlanguagechooseone_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Know Language (choose one)}} {{result=[[1d10!cf<1 + @{knowlanguagechooseone} + @{knowlanguagechooseone_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{knowlanguagechooseone_max}]]}}" name="roll_skillRoll">
                <b>Know Language (choose one)</b>
                <span name="attr_knowlanguagechooseone_max"></span>
            </button>
            <b><i>Know Language (choose one)</i><input type="number" name="attr_knowlanguagechooseone" value="0" maxlength="2">
                <input type="number" name="attr_knowlanguagechooseone_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_knowlanguagechooseone_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_librarysearch_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Library Search}} {{result=[[1d10!cf<1 + @{librarysearch} + @{librarysearch_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{librarysearch_max}]]}}" name="roll_skillRoll">
                <b>Library Search</b>
                <span name="attr_librarysearch_max"></span>
            </button>
            <b><i>Library Search</i><input type="number" name="attr_librarysearch" value="0" maxlength="2">
                <input type="number" name="attr_librarysearch_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_librarysearch_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_mathematics_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Mathematics}} {{result=[[1d10!cf<1 + @{mathematics} + @{mathematics_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{mathematics_max}]]}}" name="roll_skillRoll">
                <b>Mathematics</b>
                <span name="attr_mathematics_max"></span>
            </button>
            <b><i>Mathematics</i><input type="number" name="attr_mathematics" value="0" maxlength="2">
                <input type="number" name="attr_mathematics_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_mathematics_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_physics_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Physics}} {{result=[[1d10!cf<1 + @{physics} + @{physics_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{physics_max}]]}}" name="roll_skillRoll">
                <b>Physics</b>
                <span name="attr_physics_max"></span>
            </button>
            <b><i>Physics</i><input type="number" name="attr_physics" value="0" maxlength="2">
                <input type="number" name="attr_physics_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_physics_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotship_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Ship (2)}} {{result=[[1d10!cf<1 + @{pilotship} + @{pilotship_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotship_max}]]}}" name="roll_skillRoll">
                <b>Pilot Ship</b>
                <span name="attr_pilotship_max"></span>
            </button>
            <b><i>Pilot Ship (2)</i><input type="number" name="attr_pilotship" value="0" maxlength="2">
                <input type="number" name="attr_pilotship_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotship_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_programming_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Programming}} {{result=[[1d10!cf<1 + @{programming} + @{programming_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{programming_max}]]}}" name="roll_skillRoll">
                <b>Programming</b>
                <span name="attr_programming_max"></span>
            </button>
            <b><i>Programming</i><input type="number" name="attr_programming" value="0" maxlength="2">
                <input type="number" name="attr_programming_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_programming_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_psychology_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Psychology}} {{result=[[1d10!cf<1 + @{psychology} + @{psychology_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{psychology_max}]]}}" name="roll_skillRoll">
                <b>Psychology</b>
                <span name="attr_psychology_max"></span>
            </button>
            <b><i>Psychology</i><input type="number" name="attr_psychology" value="0" maxlength="2">
                <input type="number" name="attr_psychology_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_psychology_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_shadowtrack_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Shadow/Track}} {{result=[[1d10!cf<1 + @{shadowtrack} + @{shadowtrack_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{shadowtrack_max}]]}}" name="roll_skillRoll">
                <b>Shadow/Track</b>
                <span name="attr_shadowtrack_max"></span>
            </button>
            <b><i>Shadow/Track</i><input type="number" name="attr_shadowtrack" value="0" maxlength="2">
                <input type="number" name="attr_shadowtrack_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_shadowtrack_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_stockmarket_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Stock Market}} {{result=[[1d10!cf<1 + @{stockmarket} + @{stockmarket_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{stockmarket_max}]]}}" name="roll_skillRoll">
                <b>Stock Market</b>
                <span name="attr_stockmarket_max"></span>
            </button>
            <b><i>Stock Market</i><input type="number" name="attr_stockmarket" value="0" maxlength="2">
                <input type="number" name="attr_stockmarket_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_stockmarket_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_systemknowledge_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=System Knowledge}} {{result=[[1d10!cf<1 + @{systemknowledge} + @{systemknowledge_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{systemknowledge_max}]]}}" name="roll_skillRoll">
                <b>System Knowledge</b>
                <span name="attr_systemknowledge_max"></span>
            </button>
            <b><i>System Knowledge</i><input type="number" name="attr_systemknowledge" value="0" maxlength="2">
                <input type="number" name="attr_systemknowledge_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_systemknowledge_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_teaching_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Teaching}} {{result=[[1d10!cf<1 + @{teaching} + @{teaching_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{teaching_max}]]}}" name="roll_skillRoll">
                <b>Teaching</b>
                <span name="attr_teaching_max"></span>
            </button>
            <b><i>Teaching</i><input type="number" name="attr_teaching" value="0" maxlength="2">
                <input type="number" name="attr_teaching_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_teaching_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_wildernesssurvival_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Wilderness Survival}} {{result=[[1d10!cf<1 + @{wildernesssurvival} + @{wildernesssurvival_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{wildernesssurvival_max}]]}}" name="roll_skillRoll">
                <b>Wilderness Survival</b>
                <span name="attr_wildernesssurvival_max"></span>
            </button>
            <b><i>Wilderness Survival</i><input type="number" name="attr_wildernesssurvival" value="0" maxlength="2">
                <input type="number" name="attr_wildernesssurvival_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_wildernesssurvival_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_zoology_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Zoology}} {{result=[[1d10!cf<1 + @{zoology} + @{zoology_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{zoology_max}]]}}" name="roll_skillRoll">
                <b>Zoology</b>
                <span name="attr_zoology_max"></span>
            </button>
            <b><i>Zoology</i><input type="number" name="attr_zoology" value="0" maxlength="2">
                <input type="number" name="attr_zoology_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_zoology_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_comp_int_1_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_int_1_text}}} {{result=[[1d10!cf<1 + @{comp_int_1_value} + @{comp_int_1_value_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_int_1_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_int_1_text"></span></b>
                <span name="attr_comp_int_1_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_int_1_text"/></i><input type="number" name="attr_comp_int_1_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_int_1_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_int_1_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_int_2_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_int_2_text}}} {{result=[[1d10!cf<1 + @{comp_int_2_value} + @{comp_int_2_value_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_int_2_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_int_2_text"></span></b>
                <span name="attr_comp_int_2_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_int_2_text"/></i><input type="number" name="attr_comp_int_2_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_int_2_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_int_2_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_int_3_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_int_3_text}}} {{result=[[1d10!cf<1 + @{comp_int_3_value} + @{comp_int_3_value_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_int_3_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_int_3_text"></span></b>
                <span name="attr_comp_int_3_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_int_3_text"/></i><input type="number" name="attr_comp_int_3_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_int_3_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_int_3_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_int_4_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_int_4_text}}} {{result=[[1d10!cf<1 + @{comp_int_4_value} + @{comp_int_4_value_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_int_4_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_int_4_text"></span></b>
                <span name="attr_comp_int_4_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_int_4_text"/></i><input type="number" name="attr_comp_int_4_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_int_4_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_int_4_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_int_5_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_int_5_text}}} {{result=[[1d10!cf<1 + @{comp_int_5_value} + @{comp_int_5_value_mod}+ @{int} + @{int_mod} - @{int_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_int_5_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_int_5_text"></span></b>
                <span name="attr_comp_int_5_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_int_5_text"/></i><input type="number" name="attr_comp_int_5_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_int_5_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_int_5_value_max" value="0">
            </b>

        </div>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=ref}}{{result=[[1d10!cf<1+@{ref}+@{ref_mod}-@{ref_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_ref">
            <b>REF </b>
            <span name="attr_ref_max"></span>
        </button>
        <b>REF</b>
        <input type="number" name="attr_ref" value="0" maxlength="2">
        <input type="number" name="attr_ref_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_ref_max" value="0">
        <input type="radio" class="skills-show" name="attr_skills_show" value="ref">
        <input type="checkbox" class="skills-edit" name="attr_ref_skills_edit">
        <b class="skills-legend">
            <input class="txt-legend" type="text" value="Base" disabled/>
            <input class="txt-legend" type="text" value="mod." disabled/>
        </b>
        <div class="skills-attr">
            <b class="secondary">
                <i>Bonus to initiative</i>
                <input type="number" name="attr_init_mod" value="0" maxlength="2" />
            </b>
            <input type="checkbox" class="skill-select" name="attr_actiongame_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Action game}} {{result=[[1d10!cf<1 + @{actiongame} + @{actiongame_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{actiongame_max}]]}}" name="roll_skillRoll">
                <b>Action game</b>
                <span name="attr_actiongame_max"></span>
            </button>
            <b><i>Action game</i><input type="number" name="attr_actiongame" value="0" maxlength="2">
                <input type="number" name="attr_actiongame_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_actiongame_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_archery_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Archery}} {{result=[[1d10!cf<1 + @{archery} + @{archery_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{archery_max}]]}}" name="roll_skillRoll">
                <b>Archery</b>
                <span name="attr_archery_max"></span>
            </button>
            <b><i>Archery</i><input type="number" name="attr_archery" value="0" maxlength="2">
                <input type="number" name="attr_archery_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_archery_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_athletics_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Athletics}} {{result=[[1d10!cf<1 + @{athletics} + @{athletics_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{athletics_max}]]}}" name="roll_skillRoll">
                <b>Athletics</b>
                <span name="attr_athletics_max"></span>
            </button>
            <b><i>Athletics</i><input type="number" name="attr_athletics" value="0" maxlength="2">
                <input type="number" name="attr_athletics_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_athletics_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_brawling_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Brawling}} {{result=[[1d10!cf<1 + @{brawling} + @{brawling_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{brawling_max}]]}}" name="roll_skillRoll">
                <b>Brawling</b>
                <span name="attr_brawling_max"></span>
            </button>
            <b><i>Brawling</i><input type="number" name="attr_brawling" value="0" maxlength="2">
                <input type="number" name="attr_brawling_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_brawling_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_dance_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Dance}} {{result=[[1d10!cf<1 + @{dance} + @{dance_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{dance_max}]]}}" name="roll_skillRoll">
                <b>Dance</b>
                <span name="attr_dance_max"></span>
            </button>
            <b><i>Dance</i><input type="number" name="attr_dance" value="0" maxlength="2">
                <input type="number" name="attr_dance_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_dance_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_dodgeescape_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Dodge &amp; Escape}} {{result=[[1d10!cf<1 + @{dodgeescape} + @{dodgeescape_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{dodgeescape_max}]]}}" name="roll_skillRoll">
                <b>Dodge &amp; Escape</b>
                <span name="attr_dodgeescape_max"></span>
            </button>
            <b><i>Dodge &amp; Escape</i><input type="number" name="attr_dodgeescape" value="0" maxlength="2">
                <input type="number" name="attr_dodgeescape_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_dodgeescape_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_driving_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Driving}} {{result=[[1d10!cf<1 + @{driving} + @{driving_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{driving_max}]]}}" name="roll_skillRoll">
                <b>Driving</b>
                <span name="attr_driving_max"></span>
            </button>
            <b><i>Driving</i><input type="number" name="attr_driving" value="0" maxlength="2">
                <input type="number" name="attr_driving_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_driving_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_fencing_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Fencing}} {{result=[[1d10!cf<1 + @{fencing} + @{fencing_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{fencing_max}]]}}" name="roll_skillRoll">
                <b>Fencing</b>
                <span name="attr_fencing_max"></span>
            </button>
            <b><i>Fencing</i><input type="number" name="attr_fencing" value="0" maxlength="2">
                <input type="number" name="attr_fencing_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_fencing_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_handgun_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Handgun}} {{result=[[1d10!cf<1 + @{handgun} + @{handgun_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{handgun_max}]]}}" name="roll_skillRoll">
                <b>Handgun</b>
                <span name="attr_handgun_max"></span>
            </button>
            <b><i>Handgun</i><input type="number" name="attr_handgun" value="0" maxlength="2">
                <input type="number" name="attr_handgun_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_handgun_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_heavyweapons_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Heavy Weapons}} {{result=[[1d10!cf<1 + @{heavyweapons} + @{heavyweapons_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{heavyweapons_max}]]}}" name="roll_skillRoll">
                <b>Heavy Weapons</b>
                <span name="attr_heavyweapons_max"></span>
            </button>
            <b><i>Heavy Weapons</i><input type="number" name="attr_heavyweapons" value="0" maxlength="2">
                <input type="number" name="attr_heavyweapons_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_heavyweapons_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartarasakate_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Arasaka Te}} {{result=[[1d10!cf<1 + @{martialartarasakate} + @{martialartarasakate_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartarasakate_max}]]}}" name="roll_skillRoll">
                <b>Arasaka Te</b>
                <span name="attr_martialartarasakate_max"></span>
            </button>
            <b><i>Martial Art:Arasaka Te</i><input type="number" name="attr_martialartarasakate" value="0" maxlength="2">
                <input type="number" name="attr_martialartarasakate_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartarasakate_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartaikido_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Aikido (3)}} {{result=[[1d10!cf<1 + @{martialartaikido} + @{martialartaikido_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartaikido_max}]]}}" name="roll_skillRoll">
                <b>Aikido</b>
                <span name="attr_martialartaikido_max"></span>
            </button>
            <b><i>Martial Art:Aikido (3)</i><input type="number" name="attr_martialartaikido" value="0" maxlength="2">
                <input type="number" name="attr_martialartaikido_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartaikido_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartanimalkungfu_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Animal Kung Fu (3)}} {{result=[[1d10!cf<1 + @{martialartanimalkungfu} + @{martialartanimalkungfu_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartanimalkungfu_max}]]}}" name="roll_skillRoll">
                <b>Animal Kung Fu</b>
                <span name="attr_martialartanimalkungfu_max"></span>
            </button>
            <b><i>Martial Art:Animal Kung Fu (3)</i><input type="number" name="attr_martialartanimalkungfu" value="0" maxlength="2">
                <input type="number" name="attr_martialartanimalkungfu_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartanimalkungfu_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartboxing_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Boxing}} {{result=[[1d10!cf<1 + @{martialartboxing} + @{martialartboxing_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartboxing_max}]]}}" name="roll_skillRoll">
                <b>Boxing</b>
                <span name="attr_martialartboxing_max"></span>
            </button>
            <b><i>Martial Art:Boxing</i><input type="number" name="attr_martialartboxing" value="0" maxlength="2">
                <input type="number" name="attr_martialartboxing_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartboxing_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartcapoeria_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Capoeria (3)}} {{result=[[1d10!cf<1 + @{martialartcapoeria} + @{martialartcapoeria_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartcapoeria_max}]]}}" name="roll_skillRoll">
                <b>Capoeria</b>
                <span name="attr_martialartcapoeria_max"></span>
            </button>
            <b><i>Martial Art:Capoeria (3)</i><input type="number" name="attr_martialartcapoeria" value="0" maxlength="2">
                <input type="number" name="attr_martialartcapoeria_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartcapoeria_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartchoilifut_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Choi Li Fut (3)}} {{result=[[1d10!cf<1 + @{martialartchoilifut} + @{martialartchoilifut_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartchoilifut_max}]]}}" name="roll_skillRoll">
                <b>Choi Li Fut</b>
                <span name="attr_martialartchoilifut_max"></span>
            </button>
            <b><i>Martial Art:Choi Li Fut (3)</i><input type="number" name="attr_martialartchoilifut" value="0" maxlength="2">
                <input type="number" name="attr_martialartchoilifut_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartchoilifut_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartjetkundo_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Jet Kun Do (3)}} {{result=[[1d10!cf<1 + @{martialartjetkundo} + @{martialartjetkundo_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartjetkundo_max}]]}}" name="roll_skillRoll">
                <b>Jet Kun Do</b>
                <span name="attr_martialartjetkundo_max"></span>
            </button>
            <b><i>Martial Art:Jet Kun Do (3)</i><input type="number" name="attr_martialartjetkundo" value="0" maxlength="2">
                <input type="number" name="attr_martialartjetkundo_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartjetkundo_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartjudo_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Judo}} {{result=[[1d10!cf<1 + @{martialartjudo} + @{martialartjudo_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartjudo_max}]]}}" name="roll_skillRoll">
                <b>Judo</b>
                <span name="attr_martialartjudo_max"></span>
            </button>
            <b><i>Martial Art:Judo</i><input type="number" name="attr_martialartjudo" value="0" maxlength="2">
                <input type="number" name="attr_martialartjudo_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartjudo_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartkarate_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Karate (2)}} {{result=[[1d10!cf<1 + @{martialartkarate} + @{martialartkarate_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartkarate_max}]]}}" name="roll_skillRoll">
                <b>Karate</b>
                <span name="attr_martialartkarate_max"></span>
            </button>
            <b><i>Martial Art:Karate (2)</i><input type="number" name="attr_martialartkarate" value="0" maxlength="2">
                <input type="number" name="attr_martialartkarate_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartkarate_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartninjusu_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Ninjusu (5)}} {{result=[[1d10!cf<1 + @{martialartninjusu} + @{martialartninjusu_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartninjusu_max}]]}}" name="roll_skillRoll">
                <b>Ninjusu</b>
                <span name="attr_martialartninjusu_max"></span>
            </button>
            <b><i>Martial Art:Ninjusu (5)</i><input type="number" name="attr_martialartninjusu" value="0" maxlength="2">
                <input type="number" name="attr_martialartninjusu_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartninjusu_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartpanzerkunst_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Panzer Kunst* (5)}} {{result=[[1d10!cf<1 + @{martialartpanzerkunst} + @{martialartpanzerkunst_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartpanzerkunst_max}]]}}" name="roll_skillRoll">
                <b>Panzer Kunst*</b>
                <span name="attr_martialartpanzerkunst_max"></span>
            </button>
            <b><i>Martial Art:Panzer Kunst* (5)</i><input type="number" name="attr_martialartpanzerkunst" value="0" maxlength="2">
                <input type="number" name="attr_martialartpanzerkunst_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartpanzerkunst_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartsambo_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Sambo (3)}} {{result=[[1d10!cf<1 + @{martialartsambo} + @{martialartsambo_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartsambo_max}]]}}" name="roll_skillRoll">
                <b>Sambo</b>
                <span name="attr_martialartsambo_max"></span>
            </button>
            <b><i>Martial Art:Sambo (3)</i><input type="number" name="attr_martialartsambo" value="0" maxlength="2">
                <input type="number" name="attr_martialartsambo_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartsambo_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartsavate_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Savate (2)}} {{result=[[1d10!cf<1 + @{martialartsavate} + @{martialartsavate_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartsavate_max}]]}}" name="roll_skillRoll">
                <b>Savate</b>
                <span name="attr_martialartsavate_max"></span>
            </button>
            <b><i>Martial Art:Savate (2)</i><input type="number" name="attr_martialartsavate" value="0" maxlength="2">
                <input type="number" name="attr_martialartsavate_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartsavate_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartsumo_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Sumo (4)}} {{result=[[1d10!cf<1 + @{martialartsumo} + @{martialartsumo_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartsumo_max}]]}}" name="roll_skillRoll">
                <b>Sumo</b>
                <span name="attr_martialartsumo_max"></span>
            </button>
            <b><i>Martial Art:Sumo (4)</i><input type="number" name="attr_martialartsumo" value="0" maxlength="2">
                <input type="number" name="attr_martialartsumo_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartsumo_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartthamoc_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Thamoc  (3)}} {{result=[[1d10!cf<1 + @{martialartthamoc} + @{martialartthamoc_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartthamoc_max}]]}}" name="roll_skillRoll">
                <b>Thamoc </b>
                <span name="attr_martialartthamoc_max"></span>
            </button>
            <b><i>Martial Art:Thamoc  (3)</i><input type="number" name="attr_martialartthamoc" value="0" maxlength="2">
                <input type="number" name="attr_martialartthamoc_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartthamoc_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialarttaekwondo_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Tae Kwon Do (3)}} {{result=[[1d10!cf<1 + @{martialarttaekwondo} + @{martialarttaekwondo_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialarttaekwondo_max}]]}}" name="roll_skillRoll">
                <b>Tae Kwon Do</b>
                <span name="attr_martialarttaekwondo_max"></span>
            </button>
            <b><i>Martial Art:Tae Kwon Do (3)</i><input type="number" name="attr_martialarttaekwondo" value="0" maxlength="2">
                <input type="number" name="attr_martialarttaekwondo_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialarttaekwondo_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialarttaiechichuan_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Taie Chi Chuan (3)}} {{result=[[1d10!cf<1 + @{martialarttaiechichuan} + @{martialarttaiechichuan_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialarttaiechichuan_max}]]}}" name="roll_skillRoll">
                <b>Taie Chi Chuan</b>
                <span name="attr_martialarttaiechichuan_max"></span>
            </button>
            <b><i>Martial Art:Taie Chi Chuan (3)</i><input type="number" name="attr_martialarttaiechichuan" value="0" maxlength="2">
                <input type="number" name="attr_martialarttaiechichuan_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialarttaiechichuan_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartte_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Te (3)}} {{result=[[1d10!cf<1 + @{martialartte} + @{martialartte_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartte_max}]]}}" name="roll_skillRoll">
                <b>Te</b>
                <span name="attr_martialartte_max"></span>
            </button>
            <b><i>Martial Art:Te (3)</i><input type="number" name="attr_martialartte" value="0" maxlength="2">
                <input type="number" name="attr_martialartte_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartte_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartthaikickboxing_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Thai Kick Boxing (4)}} {{result=[[1d10!cf<1 + @{martialartthaikickboxing} + @{martialartthaikickboxing_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartthaikickboxing_max}]]}}" name="roll_skillRoll">
                <b>Thai Kick Boxing</b>
                <span name="attr_martialartthaikickboxing_max"></span>
            </button>
            <b><i>Martial Art:Thai Kick Boxing (4)</i><input type="number" name="attr_martialartthaikickboxing" value="0" maxlength="2">
                <input type="number" name="attr_martialartthaikickboxing_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartthaikickboxing_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_martialartwrestling_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Martial Art:Wrestling}} {{result=[[1d10!cf<1 + @{martialartwrestling} + @{martialartwrestling_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{martialartwrestling_max}]]}}" name="roll_skillRoll">
                <b>Wrestling</b>
                <span name="attr_martialartwrestling_max"></span>
            </button>
            <b><i>Martial Art:Wrestling</i><input type="number" name="attr_martialartwrestling" value="0" maxlength="2">
                <input type="number" name="attr_martialartwrestling_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_martialartwrestling_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_melee_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Melee}} {{result=[[1d10!cf<1 + @{melee} + @{melee_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{melee_max}]]}}" name="roll_skillRoll">
                <b>Melee</b>
                <span name="attr_melee_max"></span>
            </button>
            <b><i>Melee</i><input type="number" name="attr_melee" value="0" maxlength="2">
                <input type="number" name="attr_melee_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_melee_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_motorcycle_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Motorcycle}} {{result=[[1d10!cf<1 + @{motorcycle} + @{motorcycle_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{motorcycle_max}]]}}" name="roll_skillRoll">
                <b>Motorcycle</b>
                <span name="attr_motorcycle_max"></span>
            </button>
            <b><i>Motorcycle</i><input type="number" name="attr_motorcycle" value="0" maxlength="2">
                <input type="number" name="attr_motorcycle_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_motorcycle_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_operateheavymachinery_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Operate Heavy Machinery}} {{result=[[1d10!cf<1 + @{operateheavymachinery} + @{operateheavymachinery_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{operateheavymachinery_max}]]}}" name="roll_skillRoll">
                <b>Operate Heavy Machinery</b>
                <span name="attr_operateheavymachinery_max"></span>
            </button>
            <b><i>Operate Heavy Machinery</i><input type="number" name="attr_operateheavymachinery" value="0" maxlength="2">
                <input type="number" name="attr_operateheavymachinery_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_operateheavymachinery_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotdirigible_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Dirigible (2)}} {{result=[[1d10!cf<1 + @{pilotdirigible} + @{pilotdirigible_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotdirigible_max}]]}}" name="roll_skillRoll">
                <b>Pilot Dirigible</b>
                <span name="attr_pilotdirigible_max"></span>
            </button>
            <b><i>Pilot Dirigible (2)</i><input type="number" name="attr_pilotdirigible" value="0" maxlength="2">
                <input type="number" name="attr_pilotdirigible_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotdirigible_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotgyro_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Gyro (3)}} {{result=[[1d10!cf<1 + @{pilotgyro} + @{pilotgyro_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotgyro_max}]]}}" name="roll_skillRoll">
                <b>Pilot Gyro</b>
                <span name="attr_pilotgyro_max"></span>
            </button>
            <b><i>Pilot Gyro (3)</i><input type="number" name="attr_pilotgyro" value="0" maxlength="2">
                <input type="number" name="attr_pilotgyro_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotgyro_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotfixedwing_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Fixed Wing (2)}} {{result=[[1d10!cf<1 + @{pilotfixedwing} + @{pilotfixedwing_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotfixedwing_max}]]}}" name="roll_skillRoll">
                <b>Pilot Fixed Wing</b>
                <span name="attr_pilotfixedwing_max"></span>
            </button>
            <b><i>Pilot Fixed Wing (2)</i><input type="number" name="attr_pilotfixedwing" value="0" maxlength="2">
                <input type="number" name="attr_pilotfixedwing_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotfixedwing_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotpa_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot PA (2)}} {{result=[[1d10!cf<1 + @{pilotpa} + @{pilotpa_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotpa_max}]]}}" name="roll_skillRoll">
                <b>Pilot PA</b>
                <span name="attr_pilotpa_max"></span>
            </button>
            <b><i>Pilot PA (2)</i><input type="number" name="attr_pilotpa" value="0" maxlength="2">
                <input type="number" name="attr_pilotpa_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotpa_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotspaceplaneshuttle_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Space plane/Shuttle (3)}} {{result=[[1d10!cf<1 + @{pilotspaceplaneshuttle} + @{pilotspaceplaneshuttle_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotspaceplaneshuttle_max}]]}}" name="roll_skillRoll">
                <b>Pilot Space plane/Shuttle</b>
                <span name="attr_pilotspaceplaneshuttle_max"></span>
            </button>
            <b><i>Pilot Space plane/Shuttle (3)</i><input type="number" name="attr_pilotspaceplaneshuttle" value="0" maxlength="2">
                <input type="number" name="attr_pilotspaceplaneshuttle_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotspaceplaneshuttle_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotsub_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Sub}} {{result=[[1d10!cf<1 + @{pilotsub} + @{pilotsub_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotsub_max}]]}}" name="roll_skillRoll">
                <b>Pilot Sub</b>
                <span name="attr_pilotsub_max"></span>
            </button>
            <b><i>Pilot Sub</i><input type="number" name="attr_pilotsub" value="0" maxlength="2">
                <input type="number" name="attr_pilotsub_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotsub_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotvecttrustvehicle_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Vect. Trust Vehicle (3)}} {{result=[[1d10!cf<1 + @{pilotvecttrustvehicle} + @{pilotvecttrustvehicle_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotvecttrustvehicle_max}]]}}" name="roll_skillRoll">
                <b>Pilot Vect. Trust Vehicle</b>
                <span name="attr_pilotvecttrustvehicle_max"></span>
            </button>
            <b><i>Pilot Vect. Trust Vehicle (3)</i><input type="number" name="attr_pilotvecttrustvehicle" value="0" maxlength="2">
                <input type="number" name="attr_pilotvecttrustvehicle_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotvecttrustvehicle_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pilotwatervehicles_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pilot Water Vehicles}} {{result=[[1d10!cf<1 + @{pilotwatervehicles} + @{pilotwatervehicles_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pilotwatervehicles_max}]]}}" name="roll_skillRoll">
                <b>Pilot Water Vehicles</b>
                <span name="attr_pilotwatervehicles_max"></span>
            </button>
            <b><i>Pilot Water Vehicles</i><input type="number" name="attr_pilotwatervehicles" value="0" maxlength="2">
                <input type="number" name="attr_pilotwatervehicles_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pilotwatervehicles_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_rifle_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Rifle}} {{result=[[1d10!cf<1 + @{rifle} + @{rifle_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{rifle_max}]]}}" name="roll_skillRoll">
                <b>Rifle</b>
                <span name="attr_rifle_max"></span>
            </button>
            <b><i>Rifle</i><input type="number" name="attr_rifle" value="0" maxlength="2">
                <input type="number" name="attr_rifle_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_rifle_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_stealth_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Stealth (2)}} {{result=[[1d10!cf<1 + @{stealth} + @{stealth_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{stealth_max}]]}}" name="roll_skillRoll">
                <b>Stealth</b>
                <span name="attr_stealth_max"></span>
            </button>
            <b><i>Stealth (2)</i><input type="number" name="attr_stealth" value="0" maxlength="2">
                <input type="number" name="attr_stealth_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_stealth_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_submachinegun_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Submachinegun}} {{result=[[1d10!cf<1 + @{submachinegun} + @{submachinegun_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{submachinegun_max}]]}}" name="roll_skillRoll">
                <b>Submachinegun</b>
                <span name="attr_submachinegun_max"></span>
            </button>
            <b><i>Submachinegun</i><input type="number" name="attr_submachinegun" value="0" maxlength="2">
                <input type="number" name="attr_submachinegun_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_submachinegun_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_zerogcombat_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Zero-G Combat (2)}} {{result=[[1d10!cf<1 + @{zerogcombat} + @{zerogcombat_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{zerogcombat_max}]]}}" name="roll_skillRoll">
                <b>Zero-G Combat</b>
                <span name="attr_zerogcombat_max"></span>
            </button>
            <b><i>Zero-G Combat (2)</i><input type="number" name="attr_zerogcombat" value="0" maxlength="2">
                <input type="number" name="attr_zerogcombat_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_zerogcombat_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_zerogmaneuver_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Zero-G Maneuver}} {{result=[[1d10!cf<1 + @{zerogmaneuver} + @{zerogmaneuver_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{zerogmaneuver_max}]]}}" name="roll_skillRoll">
                <b>Zero-G Maneuver</b>
                <span name="attr_zerogmaneuver_max"></span>
            </button>
            <b><i>Zero-G Maneuver</i><input type="number" name="attr_zerogmaneuver" value="0" maxlength="2">
                <input type="number" name="attr_zerogmaneuver_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_zerogmaneuver_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_underwatercombat_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Underwater Combat (2)}} {{result=[[1d10!cf<1 + @{underwatercombat} + @{underwatercombat_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{underwatercombat_max}]]}}" name="roll_skillRoll">
                <b>Underwater Combat</b>
                <span name="attr_underwatercombat_max"></span>
            </button>
            <b><i>Underwater Combat (2)</i><input type="number" name="attr_underwatercombat" value="0" maxlength="2">
                <input type="number" name="attr_underwatercombat_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_underwatercombat_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_underwaterheavyweapons_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Underwater Heavy Weapons}} {{result=[[1d10!cf<1 + @{underwaterheavyweapons} + @{underwaterheavyweapons_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{underwaterheavyweapons_max}]]}}" name="roll_skillRoll">
                <b>Underwater Heavy Weapons</b>
                <span name="attr_underwaterheavyweapons_max"></span>
            </button>
            <b><i>Underwater Heavy Weapons</i><input type="number" name="attr_underwaterheavyweapons" value="0" maxlength="2">
                <input type="number" name="attr_underwaterheavyweapons_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_underwaterheavyweapons_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_underwaterweapons_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Underwater Weapons}} {{result=[[1d10!cf<1 + @{underwaterweapons} + @{underwaterweapons_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{underwaterweapons_max}]]}}" name="roll_skillRoll">
                <b>Underwater Weapons</b>
                <span name="attr_underwaterweapons_max"></span>
            </button>
            <b><i>Underwater Weapons</i><input type="number" name="attr_underwaterweapons" value="0" maxlength="2">
                <input type="number" name="attr_underwaterweapons_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_underwaterweapons_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_comp_ref_1_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_ref_1_text}}} {{result=[[1d10!cf<1 + @{comp_ref_1_value} + @{comp_ref_1_value_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_ref_1_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_ref_1_text"></span></b>
                <span name="attr_comp_ref_1_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_ref_1_text"/></i><input type="number" name="attr_comp_ref_1_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_ref_1_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_ref_1_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_ref_2_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_ref_2_text}}} {{result=[[1d10!cf<1 + @{comp_ref_2_value} + @{comp_ref_2_value_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_ref_2_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_ref_2_text"></span></b>
                <span name="attr_comp_ref_2_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_ref_2_text"/></i><input type="number" name="attr_comp_ref_2_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_ref_2_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_ref_2_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_ref_3_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_ref_3_text}}} {{result=[[1d10!cf<1 + @{comp_ref_3_value} + @{comp_ref_3_value_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_ref_3_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_ref_3_text"></span></b>
                <span name="attr_comp_ref_3_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_ref_3_text"/></i><input type="number" name="attr_comp_ref_3_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_ref_3_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_ref_3_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_ref_4_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_ref_4_text}}} {{result=[[1d10!cf<1 + @{comp_ref_4_value} + @{comp_ref_4_value_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_ref_4_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_ref_4_text"></span></b>
                <span name="attr_comp_ref_4_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_ref_4_text"/></i><input type="number" name="attr_comp_ref_4_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_ref_4_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_ref_4_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_ref_5_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_ref_5_text}}} {{result=[[1d10!cf<1 + @{comp_ref_5_value} + @{comp_ref_5_value_mod}+ @{ref} + @{ref_mod} - @{ref_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_ref_5_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_ref_5_text"></span></b>
                <span name="attr_comp_ref_5_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_ref_5_text"/></i><input type="number" name="attr_comp_ref_5_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_ref_5_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_ref_5_value_max" value="0">
            </b>

        </div>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=tech}}{{result=[[1d10!cf<1+@{tech}+@{tech_mod}-@{tech_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_tech">
            <b>TECH </b>
            <span name="attr_tech_max"></span>
        </button>
        <b>TECH</b>
        <input type="number" name="attr_tech" value="0" maxlength="2">
        <input type="number" name="attr_tech_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_tech_max" value="0">
        <input type="radio" class="skills-show" name="attr_skills_show" value="tech">
        <input type="checkbox" class="skills-edit" name="attr_tech_skills_edit">
        <b class="skills-legend">
            <input class="txt-legend" type="text" value="Base" disabled/>
            <input class="txt-legend" type="text" value="mod." disabled/>
        </b>
        <div class="skills-attr">
            <input type="checkbox" class="skill-select" name="attr_aerotech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Aero Tech (2)}} {{result=[[1d10!cf<1 + @{aerotech} + @{aerotech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{aerotech_max}]]}}" name="roll_skillRoll">
                <b>Aero Tech</b>
                <span name="attr_aerotech_max"></span>
            </button>
            <b><i>Aero Tech (2)</i><input type="number" name="attr_aerotech" value="0" maxlength="2">
                <input type="number" name="attr_aerotech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_aerotech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_avtech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=AV Tech (3)}} {{result=[[1d10!cf<1 + @{avtech} + @{avtech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{avtech_max}]]}}" name="roll_skillRoll">
                <b>AV Tech</b>
                <span name="attr_avtech_max"></span>
            </button>
            <b><i>AV Tech (3)</i><input type="number" name="attr_avtech" value="0" maxlength="2">
                <input type="number" name="attr_avtech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_avtech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_basictech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Basic Tech (2)}} {{result=[[1d10!cf<1 + @{basictech} + @{basictech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{basictech_max}]]}}" name="roll_skillRoll">
                <b>Basic Tech</b>
                <span name="attr_basictech_max"></span>
            </button>
            <b><i>Basic Tech (2)</i><input type="number" name="attr_basictech" value="0" maxlength="2">
                <input type="number" name="attr_basictech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_basictech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_braindanceediting_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Braindance Editing}} {{result=[[1d10!cf<1 + @{braindanceediting} + @{braindanceediting_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{braindanceediting_max}]]}}" name="roll_skillRoll">
                <b>Braindance Editing</b>
                <span name="attr_braindanceediting_max"></span>
            </button>
            <b><i>Braindance Editing</i><input type="number" name="attr_braindanceediting" value="0" maxlength="2">
                <input type="number" name="attr_braindanceediting_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_braindanceediting_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_cryotankoperation_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Cryotank Operation }} {{result=[[1d10!cf<1 + @{cryotankoperation} + @{cryotankoperation_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{cryotankoperation_max}]]}}" name="roll_skillRoll">
                <b>Cryotank Operation </b>
                <span name="attr_cryotankoperation_max"></span>
            </button>
            <b><i>Cryotank Operation </i><input type="number" name="attr_cryotankoperation" value="0" maxlength="2">
                <input type="number" name="attr_cryotankoperation_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_cryotankoperation_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_cyberdeckdeign_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Cyberdeck Deign (2)}} {{result=[[1d10!cf<1 + @{cyberdeckdeign} + @{cyberdeckdeign_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{cyberdeckdeign_max}]]}}" name="roll_skillRoll">
                <b>Cyberdeck Deign</b>
                <span name="attr_cyberdeckdeign_max"></span>
            </button>
            <b><i>Cyberdeck Deign (2)</i><input type="number" name="attr_cyberdeckdeign" value="0" maxlength="2">
                <input type="number" name="attr_cyberdeckdeign_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_cyberdeckdeign_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_cybertech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=CyberTech (2)}} {{result=[[1d10!cf<1 + @{cybertech} + @{cybertech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{cybertech_max}]]}}" name="roll_skillRoll">
                <b>CyberTech</b>
                <span name="attr_cybertech_max"></span>
            </button>
            <b><i>CyberTech (2)</i><input type="number" name="attr_cybertech" value="0" maxlength="2">
                <input type="number" name="attr_cybertech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_cybertech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_demolitions_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Demolitions (2)}} {{result=[[1d10!cf<1 + @{demolitions} + @{demolitions_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{demolitions_max}]]}}" name="roll_skillRoll">
                <b>Demolitions</b>
                <span name="attr_demolitions_max"></span>
            </button>
            <b><i>Demolitions (2)</i><input type="number" name="attr_demolitions" value="0" maxlength="2">
                <input type="number" name="attr_demolitions_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_demolitions_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_disguise_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Disguise}} {{result=[[1d10!cf<1 + @{disguise} + @{disguise_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{disguise_max}]]}}" name="roll_skillRoll">
                <b>Disguise</b>
                <span name="attr_disguise_max"></span>
            </button>
            <b><i>Disguise</i><input type="number" name="attr_disguise" value="0" maxlength="2">
                <input type="number" name="attr_disguise_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_disguise_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_electronics_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Electronics}} {{result=[[1d10!cf<1 + @{electronics} + @{electronics_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{electronics_max}]]}}" name="roll_skillRoll">
                <b>Electronics</b>
                <span name="attr_electronics_max"></span>
            </button>
            <b><i>Electronics</i><input type="number" name="attr_electronics" value="0" maxlength="2">
                <input type="number" name="attr_electronics_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_electronics_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_electronicsecurity_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Electronic Security (2)}} {{result=[[1d10!cf<1 + @{electronicsecurity} + @{electronicsecurity_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{electronicsecurity_max}]]}}" name="roll_skillRoll">
                <b>Electronic Security</b>
                <span name="attr_electronicsecurity_max"></span>
            </button>
            <b><i>Electronic Security (2)</i><input type="number" name="attr_electronicsecurity" value="0" maxlength="2">
                <input type="number" name="attr_electronicsecurity_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_electronicsecurity_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_electronicwarfare_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Electronic Warfare}} {{result=[[1d10!cf<1 + @{electronicwarfare} + @{electronicwarfare_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{electronicwarfare_max}]]}}" name="roll_skillRoll">
                <b>Electronic Warfare</b>
                <span name="attr_electronicwarfare_max"></span>
            </button>
            <b><i>Electronic Warfare</i><input type="number" name="attr_electronicwarfare" value="0" maxlength="2">
                <input type="number" name="attr_electronicwarfare_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_electronicwarfare_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_firstaid_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=First Aid}} {{result=[[1d10!cf<1 + @{firstaid} + @{firstaid_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{firstaid_max}]]}}" name="roll_skillRoll">
                <b>First Aid</b>
                <span name="attr_firstaid_max"></span>
            </button>
            <b><i>First Aid</i><input type="number" name="attr_firstaid" value="0" maxlength="2">
                <input type="number" name="attr_firstaid_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_firstaid_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_forgery_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Forgery}} {{result=[[1d10!cf<1 + @{forgery} + @{forgery_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{forgery_max}]]}}" name="roll_skillRoll">
                <b>Forgery</b>
                <span name="attr_forgery_max"></span>
            </button>
            <b><i>Forgery</i><input type="number" name="attr_forgery" value="0" maxlength="2">
                <input type="number" name="attr_forgery_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_forgery_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_gyrotech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Gyro Tech (3)}} {{result=[[1d10!cf<1 + @{gyrotech} + @{gyrotech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{gyrotech_max}]]}}" name="roll_skillRoll">
                <b>Gyro Tech</b>
                <span name="attr_gyrotech_max"></span>
            </button>
            <b><i>Gyro Tech (3)</i><input type="number" name="attr_gyrotech" value="0" maxlength="2">
                <input type="number" name="attr_gyrotech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_gyrotech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_marinetech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Marine Tech}} {{result=[[1d10!cf<1 + @{marinetech} + @{marinetech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{marinetech_max}]]}}" name="roll_skillRoll">
                <b>Marine Tech</b>
                <span name="attr_marinetech_max"></span>
            </button>
            <b><i>Marine Tech</i><input type="number" name="attr_marinetech" value="0" maxlength="2">
                <input type="number" name="attr_marinetech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_marinetech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_paintordraw_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Paint or Draw}} {{result=[[1d10!cf<1 + @{paintordraw} + @{paintordraw_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{paintordraw_max}]]}}" name="roll_skillRoll">
                <b>Paint or Draw</b>
                <span name="attr_paintordraw_max"></span>
            </button>
            <b><i>Paint or Draw</i><input type="number" name="attr_paintordraw" value="0" maxlength="2">
                <input type="number" name="attr_paintordraw_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_paintordraw_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_patech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=PA Tech (3)}} {{result=[[1d10!cf<1 + @{patech} + @{patech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{patech_max}]]}}" name="roll_skillRoll">
                <b>PA Tech</b>
                <span name="attr_patech_max"></span>
            </button>
            <b><i>PA Tech (3)</i><input type="number" name="attr_patech" value="0" maxlength="2">
                <input type="number" name="attr_patech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_patech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pharmaceuticals_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pharmaceuticals (4)}} {{result=[[1d10!cf<1 + @{pharmaceuticals} + @{pharmaceuticals_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pharmaceuticals_max}]]}}" name="roll_skillRoll">
                <b>Pharmaceuticals</b>
                <span name="attr_pharmaceuticals_max"></span>
            </button>
            <b><i>Pharmaceuticals (4)</i><input type="number" name="attr_pharmaceuticals" value="0" maxlength="2">
                <input type="number" name="attr_pharmaceuticals_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pharmaceuticals_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_photofilm_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Photo &amp; Film}} {{result=[[1d10!cf<1 + @{photofilm} + @{photofilm_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{photofilm_max}]]}}" name="roll_skillRoll">
                <b>Photo &amp; Film</b>
                <span name="attr_photofilm_max"></span>
            </button>
            <b><i>Photo &amp; Film</i><input type="number" name="attr_photofilm" value="0" maxlength="2">
                <input type="number" name="attr_photofilm_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_photofilm_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_picklock_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pick Lock}} {{result=[[1d10!cf<1 + @{picklock} + @{picklock_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{picklock_max}]]}}" name="roll_skillRoll">
                <b>Pick Lock</b>
                <span name="attr_picklock_max"></span>
            </button>
            <b><i>Pick Lock</i><input type="number" name="attr_picklock" value="0" maxlength="2">
                <input type="number" name="attr_picklock_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_picklock_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pickpocket_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pick Pocket}} {{result=[[1d10!cf<1 + @{pickpocket} + @{pickpocket_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pickpocket_max}]]}}" name="roll_skillRoll">
                <b>Pick Pocket</b>
                <span name="attr_pickpocket_max"></span>
            </button>
            <b><i>Pick Pocket</i><input type="number" name="attr_pickpocket" value="0" maxlength="2">
                <input type="number" name="attr_pickpocket_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pickpocket_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_playinstrument_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Play Instrument}} {{result=[[1d10!cf<1 + @{playinstrument} + @{playinstrument_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{playinstrument_max}]]}}" name="roll_skillRoll">
                <b>Play Instrument</b>
                <span name="attr_playinstrument_max"></span>
            </button>
            <b><i>Play Instrument</i><input type="number" name="attr_playinstrument" value="0" maxlength="2">
                <input type="number" name="attr_playinstrument_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_playinstrument_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_pressuresuittech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Pressure Suit Tech}} {{result=[[1d10!cf<1 + @{pressuresuittech} + @{pressuresuittech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{pressuresuittech_max}]]}}" name="roll_skillRoll">
                <b>Pressure Suit Tech</b>
                <span name="attr_pressuresuittech_max"></span>
            </button>
            <b><i>Pressure Suit Tech</i><input type="number" name="attr_pressuresuittech" value="0" maxlength="2">
                <input type="number" name="attr_pressuresuittech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_pressuresuittech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_subtech_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Sub Tech}} {{result=[[1d10!cf<1 + @{subtech} + @{subtech_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{subtech_max}]]}}" name="roll_skillRoll">
                <b>Sub Tech</b>
                <span name="attr_subtech_max"></span>
            </button>
            <b><i>Sub Tech</i><input type="number" name="attr_subtech" value="0" maxlength="2">
                <input type="number" name="attr_subtech_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_subtech_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_weaponsmith_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Weaponsmith (2)}} {{result=[[1d10!cf<1 + @{weaponsmith} + @{weaponsmith_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{weaponsmith_max}]]}}" name="roll_skillRoll">
                <b>Weapons Tech</b>
                <span name="attr_weaponsmith_max"></span>
            </button>
            <b><i>Weaponsmith (2)</i><input type="number" name="attr_weaponsmith" value="0" maxlength="2">
                <input type="number" name="attr_weaponsmith_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_weaponsmith_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_wetwaredesign_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=Wetware Design}} {{result=[[1d10!cf<1 + @{wetwaredesign} + @{wetwaredesign_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{wetwaredesign_max}]]}}" name="roll_skillRoll">
                <b>Wetware Design</b>
                <span name="attr_wetwaredesign_max"></span>
            </button>
            <b><i>Wetware Design</i><input type="number" name="attr_wetwaredesign" value="0" maxlength="2">
                <input type="number" name="attr_wetwaredesign_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_wetwaredesign_max" value="0">
            </b>

            <input type="checkbox" class="skill-select" name="attr_comp_tech_1_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_tech_1_text}}} {{result=[[1d10!cf<1 + @{comp_tech_1_value} + @{comp_tech_1_value_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_tech_1_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_tech_1_text"></span></b>
                <span name="attr_comp_tech_1_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_tech_1_text"/></i><input type="number" name="attr_comp_tech_1_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_tech_1_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_tech_1_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_tech_2_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_tech_2_text}}} {{result=[[1d10!cf<1 + @{comp_tech_2_value} + @{comp_tech_2_value_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_tech_2_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_tech_2_text"></span></b>
                <span name="attr_comp_tech_2_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_tech_2_text"/></i><input type="number" name="attr_comp_tech_2_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_tech_2_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_tech_2_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_tech_3_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_tech_3_text}}} {{result=[[1d10!cf<1 + @{comp_tech_3_value} + @{comp_tech_3_value_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_tech_3_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_tech_3_text"></span></b>
                <span name="attr_comp_tech_3_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_tech_3_text"/></i><input type="number" name="attr_comp_tech_3_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_tech_3_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_tech_3_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_tech_4_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_tech_4_text}}} {{result=[[1d10!cf<1 + @{comp_tech_4_value} + @{comp_tech_4_value_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_tech_4_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_tech_4_text"></span></b>
                <span name="attr_comp_tech_4_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_tech_4_text"/></i><input type="number" name="attr_comp_tech_4_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_tech_4_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_tech_4_value_max" value="0">
            </b>
            <input type="checkbox" class="skill-select" name="attr_comp_tech_5_value_select">
            <button class="skill-button" type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=@{comp_tech_5_text}}} {{result=[[1d10!cf<1 + @{comp_tech_5_value} + @{comp_tech_5_value_mod}+ @{tech} + @{tech_mod} - @{tech_penality} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<@{comp_tech_5_value_max}]]}}" name="roll_skillRoll">
                <b><span name="attr_comp_tech_5_text"></span></b>
                <span name="attr_comp_tech_5_value_max"></span>
            </button>
            <b><i><input type="text" name="attr_comp_tech_5_text"/></i><input type="number" name="attr_comp_tech_5_value" value="0" maxlength="2">
                <input type="number" name="attr_comp_tech_5_value_mod" value="0" maxlength="2">
                <input type="hidden" name="attr_comp_tech_5_value_max" value="0">
            </b>

        </div>
        <button type="roll" value="&amp;{template:skill}{{name=@{character_name}}}{{skillname=ma}}{{result=[[1d10!cf<1+@{ma}+@{ma_mod}-@{ma_penality}+?{mod.|0}]]}}{{mod=?{mod.|0}}}{{fumble=[[{1d10}<1]]}}" name="roll_ma">
            <b>MA </b>
            <span name="attr_ma_max"></span>
        </button>
        <b>MA</b>
        <input type="number" name="attr_ma" value="0" maxlength="2">
        <input type="number" name="attr_ma_mod" value="0" maxlength="2">
        <input type="hidden" name="attr_ma_max" value="0">
        <button type="roll" name="roll_luck" value="[[attr_ma_max-1d10]]">
            <b>LUCK </b>
            <span name="attr_luck"></span>/<span name="attr_luck_max"></span>
        </button>
        <b>LUCK</b>
        <input type="number" name="attr_luck" value="0" maxlength="2">
        <input type="hidden" name="attr_luck_max" value="0">



        <div class="secondary-attrs">
            <b>BTM</b>
            <span name="attr_btm"></span>,
            <input type="hidden" name="attr_btm" value="0"/>
            <b>BMD</b>
            <span name="attr_dm"></span>,
            <input type="hidden" name="attr_dm" value="0"/>
            <b>Leap</b>
            <span name="attr_leap"></span>,
            <input type="hidden" name="attr_leap" value="0"/>
            <b>Lift</b>
            <span name="attr_lift"></span>,
            <input type="hidden" name="attr_lift" value="0"/>
            <b>Run</b>
            <span name="attr_run"></span>,
            <input type="hidden" name="attr_run" value="0"/>
            <b>Hum.</b>
            <span name="attr_hum"></span>.
            <input type="hidden" name="attr_hum" value="0"/>
            <b>B.Attr</b>
            <span name="attr_bAttr"></span>
            <input type="hidden" name="attr_bAttr" value="0"/>
            <b>Stab.</b>
            <span name="attr_stability"></span>
            <input type="hidden" name="attr_stability" value="0"/>
        </div>
        <hr>
        <div class="SNS armor">
            ##TODO##
        </div>
        <div class="FFN armor">
            <table style="display:inline-block; margin-left:0;">
                <tr>
                    <td rowspan="2">Loc.</td>
                    <td>Face</td>
                    <td>Head</td>
                    <td>Chest</td>
                    <td>R.Arm</td>
                    <td>L.Arm</td>
                    <td>R.Leg</td>
                    <td>L.Leg</td>
                </tr>
                <tr>
                    <td>spe.</td>
                    <td>1</td>
                    <td>2-4</td>
                    <td>5</td>
                    <td>6</td>
                    <td>7-8</td>
                    <td>9-10</td>
                </tr>
                <tr class="armor-sp">
                    <td>SP</td>
                    <td><input type="number" size="2" name="attr_face" min="0" value="0"></td>
                    <td><input type="number" size="2" name="attr_head" min="0" value="0"></td>
                    <td><input type="number" size="2" name="attr_torso" min="0" value="0"></td>
                    <td><input type="number" size="2" name="attr_rArm" min="0" value="0"></td>
                    <td><input type="number" size="2" name="attr_lArm" min="0" value="0"></td>
                    <td><input type="number" size="2" name="attr_rLeg" min="0" value="0"></td>
                    <td><input type="number" size="2" name="attr_lLeg" min="0" value="0"></td>
                </tr>
                <tr class="cyb-full">
                    <td colspan="2">Cybernetics</td>
                    <td><input type="number" name="attr_head_cyb" min="-1" value="-1"/></td>
                    <td><input type="number" name="attr_torso_cyb" min="-1" value="-1"/></td>
                    <td class="cyb-arm-r"><input type="number" name="attr_rArm_cyb" min="-1" value="-1"/></td>
                    <td class="cyb-arm-l"><input type="number" name="attr_lArm_cyb" min="-1" value="-1"/></td>
                    <td class="cyb-leg-r"><input type="number" name="attr_rLeg_cyb" min="-1" value="-1"/></td>
                    <td class="cyb-leg-l"><input type="number" name="attr_lLeg_cyb" min="-1" value="-1"/></td>
                </tr>
                <tr class="limb-status">
                    <td></td>
                    <td></td>
                    <td colspan="2">Limbs status</td>
                    <td>HS <input class="hs" type="checkbox" name="attr_rArm_status"/></td>
                    <td>HS <input class="hs" type="checkbox" name="attr_lArm_status"/></td>
                    <td>HS <input class="hs" type="checkbox" name="attr_rLeg_status"/></td>
                    <td>HS <input class="hs" type="checkbox" name="attr_lLeg_status"/></td>
                </tr>
                <tr>
                    <td colspan="8"><br></td>
                </tr>
            </table>
            <div class="health">
                <div>
                    <table>
                        <tr>
                            <td>Enc</td>
                            <td>Luck</td>
                        </tr>
                        <tr>
                            <td><input type="number" size="2" name="attr_enc" min="0" value="0"></td>
                            <td><input type="number" name="attr_luck_mod" value="0" maxlength="2"></td>
                        </tr>
                        <tr>
                            <td colspan="2"><b>Injuries</b></td>
                        </tr>
                        <tr>
                            <td><input type="number" name="attr_injury" min="0" max="41" value="0" class="injury"  /></td>
                            <td>
                                <input type="hidden" name="attr_saveStun" />
                                <input type="hidden" name="attr_saveDeath" />
                                <button class="button-attr" type='roll' value='&{template:save}{{name=@{character_name}}}{{saveS=[[1d10!cf<1]]}}{{rangeS=[[@{saveStun}+?{mod.|0}]]}}{{saveD=[[1d10!cf<1]]}}{{rangeD=[[@{saveDeath}+?{mod.|0}]]}}{{mod=?{mod.|0}}}' name='roll_save'>
                                    <strong>SAVE</strong>
                                </button>
                            </td>
                        </tr>
                        <tr>
                            <td><span name="attr_status"></span></td>
                            <td><b>Stun&nbsp;</b>[<span name="attr_stunPenality"></span>]</td>
                        </tr>
                    </table>
                </div>
            </div>
            <div>
                <b>Reput.&nbsp;</b>
                <span name="attr_rep"></span> : <span name="attr_repStatus"></span>

            </div>
        </div>
    </div>
    <div class="section s2">
        <div style="text-align: center; width:340px; margin-top:-21px;margin-left:5px;">
            <b> Weap.</b><input type="radio" name="attr_view-txt" class="view-weapons" selected />
            <b> Armors.</b><input type="radio" name="attr_view-txt" class="view-armors" />
            <b> Cyb</b><input type="radio" name="attr_view-txt" class="view-cyb" />
            <b> Gear</b><input type="radio" name="attr_view-txt" class="view-gears"/>
            <b> Net</b><input type="radio" name="attr_view-txt" class="view-net"/>
            <b> Life</b><input type="radio" name="attr_view-txt" class="view-life"/>
            <b> Notes</b><input type="radio" name="attr_view-txt" class="view-notes"/>
            <hr>
            <div class="weapons panel">
                <input type="checkbox" class="edit-wp" name="attr_edit-wp"/>
                <h5 style="margin:0;">Weapons list
                    <button type="roll" value="!wp-reload @{selected|token_id}">Reload</button>
                    <button type="roll" value="!wp-show @{selected|token_id}">Show</button> <button type="roll" value="!wp-damage @{selected|token_id} 0 0 0 0 @{meleedmg} @{loc} ?{AP|Normal,1/1|SP/2,2|SP/3,3|SP/4,4} 0 ?{nb hits|1}">Damage</button>
                    <button type="roll" value="!wp-damage @{selected|token_id} @{target|token_id} @{nb_dice} @{type_dice} @{add_dmg} @{meleedmg} @{loc} ?{AP|Normal,1/1|SP/2,2|SP/3,3|SP/4,4} ?{Damage|x1,*v1|÷2,/v2|x2,*v2} ?{nb hits|1}">Damages (Target)</button>
                </h5>
                <ul class="wp-stat">
                    <fieldset class="repeating_wp">
                        <li>
                            <input class="wp-selected" type="checkbox" name="attr_wp-selected" style="display:inline-block;width:40px;"/>
                            <button name="weapon_damage_roll" class="ranged" type="roll" value="&{template:dmg}{{name=@{character_name}}}{{weapon=@{wp-name}}}{{dmg=[[@{wp-dmg}+@{isMelee}]]}}{{loc=[[@{loc}]]}}{{dmgCrt=[[1d10]]}}">
                                <strong>
                                    <span name="attr_wp-name"></span>
                                </strong>
                            </button>
                            <span name="attr_wp-type"></span>
                            <span name="attr_wp-wa"></span>
                            <span name="attr_wp-dmg"></span>
                            <span name="attr_wp-rof"></span>
                            <span name="attr_wp-range"></span>
                            <span name="attr_wp-desc"></span>

                            <input type="text" name="attr_wp-name" placeholder="Weapons name"/>
                            <select name="attr_wp-type">
                                <option>---</option>
                                <option>P</option>
                                <option>RIF</option>
                                <option>SMG</option>
                                <option>SHT</option>
                                <option value="MEL">MEL</option>
                                <option>HVY</option>
                                <option>EXO</option>
                            </select>
                            <input type="hidden" name="attr_isMelee" />
                            <input type="text" name="attr_wp-wa" placeholder="WA"/>
                            <input type="text" name="attr_wp-dmg" placeholder="2d6+1"/>
                            <input type="text" name="attr_wp-rof" placeholder="ROF: .../..."/>
                            <input type="text" name="attr_wp-range" placeholder="Range"/>
                            <input type="text" name="attr_wp-desc" placeholder="Special..."/>
                            <input type="number" name="attr_wp-ammo-load" value="0" style="visibility: hidden;"/>
                        </li>
                    </fieldset>
                </ul>
                <h5 style="margin:0;">Ammunitions</h5>
                <ul class="wp-stat">
                    <fieldset class="repeating_ammu">
                        <li>
                            <span name="attr_ammu-name"></span>
                            <span name="attr_ammu-nb"></span>
                            <span name="attr_ammu-desc"></span>

                            <input style="width:120px" type="text" name="attr_ammu-name" placeholder="Ammunition name"/>
                            <input style="width:80px" type="number" name="attr_ammu-nb" />
                            <input style="width:300px" type="text" name="attr_ammu-desc" placeholder="Special..."/>
                        </li>
                    </fieldset>
                </ul>
            </div>
            <div class="armors panel">
                <br>
                <table>
                    <tr>
                        <td colspan="4"><i>Active proportional Armors layers macro</i><input type="checkbox" name="attr_armor_macro" value="1"/></td>
                        <td colspan="3" ><i>Auto ENC</i><input type="checkbox" name="attr_armor_auto_enc" value="1"/></td>
                    </tr>
                    <tr>
                        <td colspan="7"><br></td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="active-layer" name="attr_layer_1" value="1"/></td>
                        <td colspan="5"><input type="text" name="attr_armor_1" placeholder="Layer 1"/></td>
                        <td><input type="number" name="attr_enc_1" placeholder="enc"/></td>
                    </tr>
                    <tr>
                        <td>Face</td>
                        <td>Head</td>
                        <td>Torso</td>
                        <td>R.Arm</td>
                        <td>L.Arm</td>
                        <td>R.leg</td>
                        <td>L.Leg</td>
                    </tr>
                    <tr>
                        <td><input type="number" name="attr_face_1"/><input class="rigide" type="checkbox" name="attr_face_1_r"/></td>
                        <td><input type="number" name="attr_head_1"/><input class="rigide" type="checkbox" name="attr_head_1_r"/></td>
                        <td><input type="number" name="attr_torso_1"/><input class="rigide" type="checkbox" name="attr_torso_1_r"/></td>
                        <td><input type="number" name="attr_rArm_1"/><input class="rigide" type="checkbox" name="attr_rArm_1_r"/></td>
                        <td><input type="number" name="attr_lArm_1"/><input class="rigide" type="checkbox" name="attr_lArm_1_r"/></td>
                        <td><input type="number" name="attr_rLeg_1"/><input class="rigide" type="checkbox" name="attr_rLeg_1_r"/></td>
                        <td><input type="number" name="attr_lLeg_1"/><input class="rigide" type="checkbox" name="attr_lLeg_1_r"/></td>
                    </tr>
                    <tr>
                        <td colspan="2">Skinweave : </td>
                        <td colspan="2"><i>Torso </i><input name="attr_skinweave" value="1" type="checkbox"/></td>
                        <td colspan="3"><i>Legs </i><input name="attr_skinweaveLegs" value="1" type="checkbox"/></td>
                    </tr>
                    <tr>
                        <td colspan="7"><br></td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="active-layer" name="attr_layer_2" value="1"/></td>
                        <td colspan="5"><input type="text" name="attr_armor_2" placeholder="Layer 2"/></td>
                        <td><input type="number" name="attr_enc_2" placeholder="enc"/></td>
                    </tr>
                    <tr>
                        <td>Face</td>
                        <td>Head</td>
                        <td>Torso</td>
                        <td>R.Arm</td>
                        <td>L.Arm</td>
                        <td>R.leg</td>
                        <td>L.Leg</td>
                    </tr>
                    <tr>
                        <td><input type="number" name="attr_face_2"/><input class="rigide" type="checkbox" name="attr_face_2_r"/></td>
                        <td><input type="number" name="attr_head_2"/><input class="rigide" type="checkbox" name="attr_head_2_r"/></td>
                        <td><input type="number" name="attr_torso_2"/><input class="rigide" type="checkbox" name="attr_torso_2_r"/></td>
                        <td><input type="number" name="attr_rArm_2"/><input class="rigide" type="checkbox" name="attr_rArm_2_r"/></td>
                        <td><input type="number" name="attr_lArm_2"/><input class="rigide" type="checkbox" name="attr_lArm_2_r"/></td>
                        <td><input type="number" name="attr_rLeg_2"/><input class="rigide" type="checkbox" name="attr_rLeg_2_r"/></td>
                        <td><input type="number" name="attr_lLeg_2"/><input class="rigide" type="checkbox" name="attr_lLeg_2_r"/></td>
                    </tr>
                    <tr>
                        <td colspan="7"><br></td>
                    </tr>
                    <tr>
                        <td><input type="checkbox" class="active-layer" name="attr_layer_3" value="1"/></td>
                        <td colspan="5"><input type="text" name="attr_armor_3" placeholder="Layer 3"/></td>
                        <td><input type="number" name="attr_enc_3" placeholder="enc"/></td>
                    </tr>
                    <tr>
                        <td>Face</td>
                        <td>Head</td>
                        <td>Torso</td>
                        <td>R.Arm</td>
                        <td>L.Arm</td>
                        <td>R.leg</td>
                        <td>L.Leg</td>
                    </tr>
                    <tr>
                        <td><input type="number" name="attr_face_3"/><input class="rigide" type="checkbox" name="attr_face_3_r"/></td>
                        <td><input type="number" name="attr_head_3"/><input class="rigide" type="checkbox" name="attr_head_3_r"/></td>
                        <td><input type="number" name="attr_torso_3"/><input class="rigide" type="checkbox" name="attr_torso_3_r"/></td>
                        <td><input type="number" name="attr_rArm_3"/><input class="rigide" type="checkbox" name="attr_rArm_3_r"/></td>
                        <td><input type="number" name="attr_lArm_3"/><input class="rigide" type="checkbox" name="attr_lArm_3_r"/></td>
                        <td><input type="number" name="attr_rLeg_3"/><input class="rigide" type="checkbox" name="attr_rLeg_3_r"/></td>
                        <td><input type="number" name="attr_lLeg_3"/><input class="rigide" type="checkbox" name="attr_lLeg_3_r"/></td>
                    </tr>
                </table>
            </div>
            <div class="cybs panel">
                <input type="checkbox" class="edit-wp" name="attr_edit-wp"/>
                <h5 style="margin:0;">Cybernetics list</h5>
                <ul class="wp-stat">
                    <fieldset class="repeating_cyb">
                        <li>
                            <span name="attr_cybName"></span>
                            <span name="attr_cybCost"></span>
                            <span name="attr_cybDesc"></span>
                            <input type="text" name="attr_cybName" placeholder="Cybernetic name"/>
                            <input type="number" name="attr_cybCost"/>
                            <textarea name="attr_cybDesc" placeholder="Cybernetique description..."></textarea>
                        </li>
                    </fieldset>
                </ul>
            </div>
            <textarea class=""  spellcheck="false" name="attr_gears" placeholder="Your gears..."></textarea>
            <ul class="life panel">
                <input type="checkbox" class="edit-life-event" name="attr_edit-life-event"/>
                <h5 style="margin:0;">Bio & Life events</h5>
                <li>
                    <b>Ethnicity:</b>
                    <span name="attr_ethnicity"></span>
                    <input type="text" name="attr_ethnicity"/>
                </li>
                <li>
                    <b>Language:</b>
                    <span name="attr_language"></span>
                    <input type="text" name="attr_language"/>
                </li>
                <li>
                    <b>Family Ranking:</b>
                    <span name="attr_family-ranking"></span>
                    <select name="attr_family-ranking">
                        <option value="Corporate Executive">Corporate Executive</option>
                        <option value="Corporate Manager">Corporate Manager</option>
                        <option value="Corporate Technician">Corporate Technician</option>
                        <option value="Nomad Pack">Nomad Pack</option>
                        <option value="Pirate Fleet">Pirate Fleet</option>
                        <option value="Gang family">Gang family</option>
                        <option value="Crime Lord">Crime Lord</option>
                        <option value="Combat Zone Poor">Combat Zone Poor</option>
                        <option value="Urban homeless">Urban homeless</option>
                        <option value="Arcology family">Arcology family</option>
                    </select>
                </li>
                <li>
                    <b>Childhood:</b>
                    <span name="attr_childhood"></span>
                    <select name="attr_childhood">
                        <option value="Spent on the street, with no adult supervision">Spent on the street, with no adult supervision</option>
                        <option value="Spent in a safe corporate suburbia">Spent in a safe corporate suburbia</option>
                        <option value="In a Nomad Pack moving from town to town">In a Nomad Pack moving from town to town</option>
                        <option value="In a decarying, once upscale neighborhood">In a decarying, once upscale neighborhood</option>
                        <option value="In a defended corporate zone in the central City">In a defended corporate zone in the central City</option>
                        <option value="In the heart of the combat zone">In the heart of the combat zone</option>
                        <option value="In a small village or town far from the city">In a small village or town far from the city</option>
                        <option value="In a large archology city">In a large archology city</option>
                        <option value="In an aquatic pirate pack">In an aquatic pirate pack</option>
                        <option value="On a corporate controlled farm or research facility">On a corporate controlled farm or research facility</option>
                    </select>
                </li>
                <li>
                    <b>Most value (person):</b>
                    <span name="attr_person"></span>
                    <select name="attr_person">
                        <option value="A parent (or guardian)">A parent (or guardian)</option>
                        <option value="Brother or sister">Brother or sister</option>
                        <option value="Lover">Lover</option>
                        <option value="Friend">Friend</option>
                        <option value="Yourself">Yourself</option>
                        <option value="A pet">A pet</option>
                        <option value="Teacher or mentor">Teacher or mentor</option>
                        <option value="Public figure">Public figure</option>
                        <option value="A personal hero">A personal hero</option>
                        <option value="No one">No one</option>
                    </select>
                </li>
                <li>
                    <b>Most value:</b>
                    <span name="attr_most-value"></span>
                    <select name="attr_most-value">
                        <option value="Money">Money</option>
                        <option value="Honor">Honor</option>
                        <option value="Your word">Your word</option>
                        <option value="Honesty">Honesty</option>
                        <option value="Knowledge">Knowledge</option>
                        <option value="Vengeance">Vengeance</option>
                        <option value="Love">Love</option>
                        <option value="Power">Power</option>
                        <option value="Having a good time">Having a good time</option>
                        <option value="Friendship">Friendship</option>
                    </select>
                </li>
                <li>
                    <b>Feel About Most People:</b>
                    <span name="attr_feel-people"></span>
                    <select name="attr_feel-people">
                        <option value="Neutral">Neutral</option>
                        <option value="I like almost everyone">I like almost everyone</option>
                        <option value="I hate almost everyone">I hate almost everyone</option>
                        <option value="People are tools. Use them for your own goals and discard them">People are tools. Use them for your own goals and discard them</option>
                        <option value="Every person is a valuable individual">Every person is a valuable individual</option>
                        <option value="People are obstacles to be destroyed if they cross me">People are obstacles to be destroyed if they cross me</option>
                        <option value="People are untrustworthy. Don't depend on anyone">People are untrustworthy. Don't depend on anyone</option>
                        <option value="Wipe 'em all out and give the place to the cockroaches">Wipe 'em all out and give the place to the cockroaches</option>
                        <option value="People are wonderful">People are wonderful</option>
                    </select>
                </li>
                <li>
                    <b>Most Valued Possession:</b>
                    <span name="attr_value-possession"></span>
                    <select name="attr_value-possession">
                        <option value="A weapon">A weapon</option>
                        <option value="A tool">A tool</option>
                        <option value="A piece of clothing">A piece of clothing</option>
                        <option value="A photograph">A photograph</option>
                        <option value="A book or diary">A book or diary</option>
                        <option value="A recording">A recording</option>
                        <option value="A musical instrument">A musical instrument</option>
                        <option value="A piece of jewelry">A piece of jewelry</option>
                        <option value="A toy">A toy</option>
                        <option value="A letter">A letter</option>
                    </select>
                </li>
                <li>
                    <b>Life event:</b>
                    <textarea spellcheck="false" class="life-events" name="attr_life-events" placeholder="Your bio & life event..."></textarea>
                </li>
            </ul>
            <div class="net panel">
                <input type="checkbox" class="edit-cyberdeck" name="attr_edit-cyberdeck"/>
                <div class="deck-bloc">
                    <h5 style="margin:0;">Cyberdeck</h5>
                    <b>Name:</b>
                    <span name="attr_deckName"></span>
                    <input type="text" name="attr_deckName"/>
                    <span style="float: right;margin: -22px 15px 0 0;">
                        <button class="sheet-add-dice" type="roll" value="&{template:skill}{{name=@{character_name}}}{{skillname=Initiative (net)}}{{result= [[1d10!cf<1 + @{ref|max} + @{deckSpeed} + ?{mod.|0}]] }}{{mod=?{mod.|0}}}">Initiative</button>
                    </span>
                    <br>
                    <b>CPU:</b>
                    <span name="attr_cpu"></span>
                    <input type="number" name="attr_cpu" value="0" size="3"/>
                    <b>Speed:</b>
                    <span name="attr_deckSpeed"></span>
                    <input type="number" name="attr_deckSpeed"/>
                    <b>Memory:</b>
                    <span name="attr_deckMemory"></span>
                    <input type="number" name="attr_deckMemory"/>
                    <br>
                    <b>Type:</b>
                    <span name="attr_deckType"></span>
                    <select name="attr_deckType" style="width:130px;">
                        <option value="Cellular">Cellular</option>
                        <option value="Portable">Portable</option>
                        <option value="Combat Deck">Combat Deck</option>
                        <option value="Cyberlimb Deck">Cyberlimb Deck</option>
                        <option value="Standard">Standard</option>
                    </select>
                    <b>Data Wall Str:</b>
                    <span name="attr_deckWall"></span>
                    <input type="number" name="attr_deckWall"/>
                    <br>
                    <b>Code gate Str:</b>
                    <span name="attr_deckGate"></span>
                    <input type="number" name="attr_deckGate"/>
                    <br>
                    <b>Options</b>
                    <span name="attr_deck_options"></span>
                    <input type="text" name="attr_deck_options" style="width:230px"/>
                </div>
                <br>
                <div class="prog-bloc">
                    <input class="edit-prog" name="attr_edit-prog" type="checkbox"/>
                    <h5 style="margin:0;">Programs</h5>
                    <fieldset class="repeating_prog" >
                        <button class="wp-button" type='roll' value='&{template:prog}{{name=@{character_name}}}{{progname=@{progName}}}{{progtype=@{progType}}}{{roll= [[1d10!cf<1 + @{progStr} + ?{anti-personnal:|no,0|yes,@{int|max}+@{interface|max}}]] }} {{effect=@{progDescription} }} {{dmg= [[ @{progDmg} ]] }}' name='roll_prog'>
                            <span name="attr_progName"></span> -
                            <span name="attr_progType"></span> - MU
                            (<span name="attr_progMu"></span>) - Str
                            (<span name="attr_progStr"></span>).
                            <input type="hidden" name="attr_progRoll" />
                        </button>
                        <span class="wpDescription" name="attr_progDescription"></span>
                        <b>Name</b>
                        <input type="text" name="attr_progName"/>
                        <br>
                        <b>Type</b>
                        <select name="attr_progType">
                            <option value="Intrusion">Intrusion</option>
                            <option value="Decryption">Decryption</option>
                            <option value="Detection/Alarm">Detection/Alarm</option>
                            <option value="Anti System">Anti System</option>
                            <option value="Evasion/Stealth">Evasion/Stealth</option>
                            <option value="Protection">Protection</option>
                            <option value="Anti IC">Anti IC</option>
                            <option value="Anti Personnel">Anti Personnel</option>
                            <option value="Controllers">Controllers</option>
                            <option value="Utilities">Utilities</option>
                            <option value="Demon Series">Demon Series</option>
                        </select>
                        <br>
                        <b>Memory Use</b>
                        <input type="number" name="attr_progMu" size="3" />
                        <br>
                        <b>Strengh</b>
                        <input type="number" name="attr_progStr" size="3" />
                        <b>Dmg</b>
                        <input type="text"  name="attr_progDmg" style="width:90px;" value='0' placeholder="1d6" />
                        <br>
                        <b>Description:</b>
                        <textarea rows="2" cols="50" name="attr_progDescription"></textarea>
                    </fieldset>
                </div>
            </div>
            <textarea class="" spellcheck="false" name="attr_notes" placeholder="Note..."></textarea>
        </div>
    </div>
</div>

<rolltemplate class="sheet-rolltemplate-prog">
    <table>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        <tr>
            <td colspan="2"><strong>{{progname}} ({{progtype}})</strong></td>
        </tr>
        <tr>
            <td colspan="2">
                {{effect}}
            </td>
        </tr>
        {{#rollGreater() roll 0 }}
        <tr>
            <td><strong>Result: </strong></td>
            <td>{{roll}}</td>
        </tr>
        {{/rollGreater() roll 0 }}
        {{#rollGreater() dmg 0 }}
        <tr>
            <td><strong>Damage: </strong></td>
            <td>{{dmg}}</td>
        </tr>
        {{/rollGreater() dmg 0 }}
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-save">
    <table>
        <tr>
            <th colspan="3">{{name}}:SAVE</th>
        </tr>
        <tr>
            <td><strong>Modifier: </strong></td>
            <td colspan="2">{{mod}}</td>
        </tr>
        <tr>
            <td><strong>Stun&nbsp;:&nbsp;</strong></td>
            <td>{{saveS}}</td>
            <td>
                {{#rollGreater() saveS rangeS }}
                <strong style="color:red">Failure !!!</strong>
                {{/rollGreater() saveS rangeS }}
                {{#^rollGreater() saveS rangeS }}
                <strong style="color:green">Success !!!</strong>
                {{/^rollGreater() saveS rangeS }}
            </td>
        </tr>
        <tr>
            <td><strong>Death&nbsp;:&nbsp;</strong></td>
            <td>{{saveD}}</td>
            <td>
                {{#rollGreater() saveD rangeD }}
                <strong style="color:red">Failure !!!</strong>
                {{/rollGreater() saveD rangeD }}
                {{#^rollGreater() saveD rangeD }}
                <strong style="color:green">Success !!!</strong>
                {{/^rollGreater() saveD rangeD }}
            </td>
        </tr>
    </table>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-skill">
    <table>
        <tr>
            <th colspan="2">{{name}}</th>
        </tr>
        <tr>
            <td><strong>Skill/Attrs: </strong></td>
            <td>{{skillname}}</td>
        </tr>
        <tr>
            <td><strong>Modifier: </strong></td>
            <td>{{mod}}</td>
        </tr>
        <tr>
            <td><strong>Result: </strong></td>
            <td>{{result}}
                {{#rollWasFumble() result}}
                {{#^rollTotal() fumble 1}}
                <strong style="color:red">Fumble !!!</strong>
                {{/^rollTotal() fumble 1}}
                {{/rollWasFumble() result}}
            </td>
        </tr>
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-dmg">
    <table>
        <tr>
            <th colspan="3">{{name}}</th>
        </tr>
        {{#weapon}}
        <tr>
            <td colspan="3">{{weapon}}</td>
        </tr>
        {{/weapon}}
        <tr style="border-bottom:1px solid grey;">
            {{#dmg}}
            <td><strong>Damages : </strong></td>
            <td>{{dmg}}</td>
            {{/dmg}}
            {{#loc}}
            <td>
                {{#rollTotal() loc 1 }}
                <strong style="color:red">
                    {{#rollBetween() dmgCrt 5 10 }}Head{{/rollBetween() dmgCrt 5 10 }}
                    {{#rollBetween() dmgCrt 1 4 }}Face{{/rollBetween() dmgCrt 1 4 }}
                </strong>
                {{/rollTotal() loc 1 }}
                {{#rollBetween() loc 2 4 }}Chest{{/rollBetween() loc 2 4 }}
                {{#rollTotal() loc 5 }}Right Arm{{/rollTotal() loc 5 }}
                {{#rollTotal() loc 6 }}Left Arm{{/rollTotal() loc 6 }}
                {{#rollBetween() loc 7 8 }}Right Leg{{/rollBetween() loc 7 8 }}
                {{#rollBetween() loc 9 10 }}Left Leg{{/rollBetween() loc 9 10 }}
            </td>
            {{/loc}}
        </tr>
    </table>
</rolltemplate>



<script type="text/worker">

/* SKILLS */

let skills = [
    "wardrobestyle",
    "personalgrooming",
    "comp_attr_1_value",
    "comp_attr_2_value",
    "comp_attr_3_value",
    "comp_attr_4_value",
    "comp_attr_5_value",
    "endurance",
    "strengthfeat",
    "swimming",
    "comp_body_1_value",
    "comp_body_2_value",
    "comp_body_3_value",
    "comp_body_4_value",
    "comp_body_5_value",
    "interrogation",
    "intimidate",
    "oratory",
    "resisttorturedrugs",
    "streetwise",
    "comp_cool_1_value",
    "comp_cool_2_value",
    "comp_cool_3_value",
    "comp_cool_4_value",
    "comp_cool_5_value",
    "animalhandling",
    "humanperception",
    "interview",
    "leadership",
    "persuasionfasttalk",
    "perform",
    "seduction",
    "social",
    "comp_emp_1_value",
    "comp_emp_2_value",
    "comp_emp_3_value",
    "comp_emp_4_value",
    "comp_emp_5_value",
    "accounting",
    "anthropology",
    "appraise",
    "astrogation",
    "awarenessnotice",
    "biology",
    "botany",
    "braindanceuse",
    "bureaucraty",
    "businesssense",
    "chemistry",
    "composition",
    "culture",
    "diagnoseillness",
    "educationgeneralknowledge",
    "eideticmemory",
    "gamble",
    "geology",
    "herbalism",
    "hideevade",
    "history",
    "knowlanguagechooseone",
    "librarysearch",
    "mathematics",
    "physics",
    "pilotship",
    "programming",
    "psychology",
    "shadowtrack",
    "stockmarket",
    "systemknowledge",
    "teaching",
    "wildernesssurvival",
    "zoology",
    "comp_int_1_value",
    "comp_int_2_value",
    "comp_int_3_value",
    "comp_int_4_value",
    "comp_int_5_value",
    "actiongame",
    "archery",
    "athletics",
    "brawling",
    "dance",
    "dodgeescape",
    "driving",
    "fencing",
    "handgun",
    "heavyweapons",
    "martialartarasakate",
    "martialartaikido",
    "martialartanimalkungfu",
    "martialartboxing",
    "martialartcapoeria",
    "martialartchoilifut",
    "martialartjetkundo",
    "martialartjudo",
    "martialartkarate",
    "martialartninjusu",
    "martialartpanzerkunst",
    "martialartsambo",
    "martialartsavate",
    "martialartsumo",
    "martialartthamoc",
    "martialarttaekwondo",
    "martialarttaiechichuan",
    "martialartte",
    "martialartthaikickboxing",
    "martialartwrestling",
    "melee",
    "motorcycle",
    "operateheavymachinery",
    "pilotdirigible",
    "pilotgyro",
    "pilotfixedwing",
    "pilotpa",
    "pilotspaceplaneshuttle",
    "pilotsub",
    "pilotvecttrustvehicle",
    "pilotwatervehicles",
    "rifle",
    "stealth",
    "submachinegun",
    "zerogcombat",
    "zerogmaneuver",
    "underwatercombat",
    "underwaterheavyweapons",
    "underwaterweapons",
    "comp_ref_1_value",
    "comp_ref_2_value",
    "comp_ref_3_value",
    "comp_ref_4_value",
    "comp_ref_5_value",
    "aerotech",
    "avtech",
    "basictech",
    "braindanceediting",
    "cryotankoperation",
    "cyberdeckdeign",
    "cybertech",
    "demolitions",
    "disguise",
    "electronics",
    "electronicsecurity",
    "electronicwarfare",
    "firstaid",
    "forgery",
    "gyrotech",
    "marinetech",
    "paintordraw",
    "patech",
    "pharmaceuticals",
    "photofilm",
    "picklock",
    "pickpocket",
    "playinstrument",
    "pressuresuittech",
    "subtech",
    "weaponsmith",
    "wetwaredesign",
    "comp_tech_1_value",
    "comp_tech_2_value",
    "comp_tech_3_value",
    "comp_tech_4_value",
    "comp_tech_5_value",

];

on("change:edit_mod sheet:opened", () =>  {
    let skillPoints = 0;
    skills.forEach(function (element) {
        getAttrs([element, element + "_mod"], v => {
            let txt = v[Object.keys(v)[0]];
            if (parseInt(v[Object.keys(v)[1]]) !== 0) {
                txt = txt + " (+" + v[Object.keys(v)[1]] + ")";
            }
            setAttrs({[element+"_max"]: txt});
            getAttrs([element + "_select"], s => {
                if ( s[Object.keys(s)[0]] === 'on' ) {
                    skillPoints = skillPoints + parseInt(v[Object.keys(v)[0]]);
                    setAttrs({pt_skills : skillPoints});
                }
            });
            getAttrs(['attr','body','cool','emp','int','tech','ma','luck','ref'], a => {
                let attributPoints = parseInt(a.attr) + parseInt(a.body) + parseInt(a.cool) + parseInt(a.emp) + parseInt(a.int) + parseInt(a.tech) + parseInt(a.ma) + parseInt(a.luck) + parseInt(a.ref);
                setAttrs({pt_attrs : attributPoints});
            });
        });
    })
});

/* ATTR */

on("sheet:opened change:attr change:attr_mod change:attr_penality", (event) => {
    getAttrs(["attr","attr_mod", "attr_penality"], (v) => {
        setAttrs({attr_max: parseInt(v.attr)+parseInt(v.attr_mod)-parseInt(v.attr_penality)});
    });
});


/* BODY */

on("change:body", function(){ getAttrs(["body","body_mod", "body_penality"], function(v){setAttrs({body_max: parseInt(v.body)+parseInt(v.body_mod)-parseInt(v.body_penality)})});});
on("change:body_mod", function(){ getAttrs(["body","body_mod", "body_penality"], function(v){setAttrs({body_max: parseInt(v.body)+parseInt(v.body_mod)-parseInt(v.body_penality)})});});
on("change:body_penality", function(){ getAttrs(["body","body_mod", "body_penality"], function(v){setAttrs({body_max: parseInt(v.body)+parseInt(v.body_mod)-parseInt(v.body_penality)})});});
on("sheet:opened", function(){ getAttrs(["body","body_mod", "body_penality"], function(v){setAttrs({body_max: parseInt(v.body)+parseInt(v.body_mod)-parseInt(v.body_penality)})});});

/* COOL */

on("change:cool", function(){ getAttrs(["cool","cool_mod", "cool_penality"], function(v){setAttrs({cool_max: parseInt(v.cool)+parseInt(v.cool_mod)-parseInt(v.cool_penality)})});});
on("change:cool_mod", function(){ getAttrs(["cool","cool_mod", "cool_penality"], function(v){setAttrs({cool_max: parseInt(v.cool)+parseInt(v.cool_mod)-parseInt(v.cool_penality)})});});
on("change:cool_penality", function(){ getAttrs(["cool","cool_mod", "cool_penality"], function(v){setAttrs({cool_max: parseInt(v.cool)+parseInt(v.cool_mod)-parseInt(v.cool_penality)})});});
on("sheet:opened", function(){ getAttrs(["cool","cool_mod", "cool_penality"], function(v){setAttrs({cool_max: parseInt(v.cool)+parseInt(v.cool_mod)-parseInt(v.cool_penality)})});});

/* EMP */

on("change:emp", function(){ getAttrs(["emp","emp_mod", "emp_penality"], function(v){setAttrs({emp_max: parseInt(v.emp)+parseInt(v.emp_mod)-parseInt(v.emp_penality)})});});
on("change:emp_mod", function(){ getAttrs(["emp","emp_mod", "emp_penality"], function(v){setAttrs({emp_max: parseInt(v.emp)+parseInt(v.emp_mod)-parseInt(v.emp_penality)})});});
on("change:emp_penality", function(){ getAttrs(["emp","emp_mod", "emp_penality"], function(v){setAttrs({emp_max: parseInt(v.emp)+parseInt(v.emp_mod)-parseInt(v.emp_penality)})});});
on("sheet:opened", function(){ getAttrs(["emp","emp_mod", "emp_penality"], function(v){setAttrs({emp_max: parseInt(v.emp)+parseInt(v.emp_mod)-parseInt(v.emp_penality)})});});

/* INT */

on("change:int", function(){ getAttrs(["int","int_mod", "int_penality"], function(v){setAttrs({int_max: parseInt(v.int)+parseInt(v.int_mod)-parseInt(v.int_penality)})});});
on("change:int_mod", function(){ getAttrs(["int","int_mod", "int_penality"], function(v){setAttrs({int_max: parseInt(v.int)+parseInt(v.int_mod)-parseInt(v.int_penality)})});});
on("change:int_penality", function(){ getAttrs(["int","int_mod", "int_penality"], function(v){setAttrs({int_max: parseInt(v.int)+parseInt(v.int_mod)-parseInt(v.int_penality)})});});
on("sheet:opened", function(){ getAttrs(["int","int_mod", "int_penality"], function(v){setAttrs({int_max: parseInt(v.int)+parseInt(v.int_mod)-parseInt(v.int_penality)})});});

/* REF */

on("change:ref", function(){ getAttrs(["ref","ref_mod", "ref_penality"], function(v){setAttrs({ref_max: parseInt(v.ref)+parseInt(v.ref_mod)-parseInt(v.ref_penality)})});});
on("change:ref_mod", function(){ getAttrs(["ref","ref_mod", "ref_penality"], function(v){setAttrs({ref_max: parseInt(v.ref)+parseInt(v.ref_mod)-parseInt(v.ref_penality)})});});
on("change:ref_penality", function(){ getAttrs(["ref","ref_mod", "ref_penality"], function(v){setAttrs({ref_max: parseInt(v.ref)+parseInt(v.ref_mod)-parseInt(v.ref_penality)})});});
on("sheet:opened", function(){ getAttrs(["ref","ref_mod", "ref_penality"], function(v){setAttrs({ref_max: parseInt(v.ref)+parseInt(v.ref_mod)-parseInt(v.ref_penality)})});});

/* TECH */

on("change:tech", function(){ getAttrs(["tech","tech_mod", "tech_penality"], function(v){setAttrs({tech_max: parseInt(v.tech)+parseInt(v.tech_mod)-parseInt(v.tech_penality)})});});
on("change:tech_mod", function(){ getAttrs(["tech","tech_mod", "tech_penality"], function(v){setAttrs({tech_max: parseInt(v.tech)+parseInt(v.tech_mod)-parseInt(v.tech_penality)})});});
on("change:tech_penality", function(){ getAttrs(["tech","tech_mod", "tech_penality"], function(v){setAttrs({tech_max: parseInt(v.tech)+parseInt(v.tech_mod)-parseInt(v.tech_penality)})});});
on("sheet:opened", function(){ getAttrs(["tech","tech_mod", "tech_penality"], function(v){setAttrs({tech_max: parseInt(v.tech)+parseInt(v.tech_mod)-parseInt(v.tech_penality)})});});

/* MA */

on("change:ma", function(){ getAttrs(["ma","ma_mod", "ma_penality"], function(v){setAttrs({ma_max: parseInt(v.ma)+parseInt(v.ma_mod)-parseInt(v.ma_penality)})});});
on("change:ma_mod", function(){ getAttrs(["ma","ma_mod", "ma_penality"], function(v){setAttrs({ma_max: parseInt(v.ma)+parseInt(v.ma_mod)-parseInt(v.ma_penality)})});});
on("change:ma_penality", function(){ getAttrs(["ma","ma_mod", "ma_penality"], function(v){setAttrs({ma_max: parseInt(v.ma)+parseInt(v.ma_mod)-parseInt(v.ma_penality)})});});
on("sheet:opened", function(){ getAttrs(["ma","ma_mod", "ma_penality"], function(v){setAttrs({ma_max: parseInt(v.ma)+parseInt(v.ma_mod)-parseInt(v.ma_penality)})});});


on("change:injury change:ma change:ma_mod change:ref change:ref_mod change:cool change:cool_mod change:int change:int_mod change:saveS change:saveD change:body change:body_mod change:enc sheet:opened", function() {
    getAttrs([
        "enc","injury","saveS","saveD","body","ref","ma","int","cool","body_mod","ref_mod","ma_mod","int_mod","cool_mod"
    ], function(values) {
        injury = parseInt(values.injury);
        var stun = 0;
        var status = 0;
        var mortel = 0;
        var refpenality = 0;
        var intpenality = 0;
        var coolpenality = 0;
        var mapenality = 0;
        var ref = parseInt(values.ref) + parseInt(values.ref_mod);
        var int = parseInt(values.int) + parseInt(values.int_mod);
        var cool = parseInt(values.cool) + parseInt(values.cool_mod);
        var body = parseInt(values.body) + parseInt(values.body_mod);
        var ma = parseInt(values.ma) + parseInt(values.ma_mod);
        var enc = parseInt(values.enc);
        var text = '';
        if ( 0 === injury ) {
            status = 'Healthy';
            refpenality = enc;
            mapenality = enc;
        } else if ( 5 > injury ) {
            status = 'Light';
            refpenality = enc;
            mapenality = enc;
        } else if ( 9 > injury ) {
            status = 'Serious';
            stun = -1 ;
            refpenality = 2 + enc;
            mapenality = 2 + enc;
            text = 'Ref -2';
        } else if ( 13 > injury ) {
            status = 'Critique';
            stun = -2 ;
            refpenality = Math.floor(ref/2) + enc;
            mapenality = Math.floor(ma/2) + enc;
            intpenality = Math.floor(int/2);
            coolpenality = Math.floor(cool/2);
            text = 'Ref, Int, Cool /2 (round up)'
        } else if ( 17 > injury ) {
            status = 'Mortel 0';
            stun = -3 ;
            refpenality = Math.floor((ref * 2)/3) + enc;
            mapenality = ma;
            intpenality = Math.floor((int * 2)/3);
            coolpenality = Math.floor((cool * 2)/3);
        } else if ( 21 > injury ) {
            status = 'Mortel 1';
            stun = -4 ;
            mortel = 1;
            mapenality = ma;
            refpenality = Math.floor((ref * 2)/3) + enc;
            intpenality = Math.floor((int * 2)/3);
            coolpenality = Math.floor((cool * 2)/3);
        } else if ( 25 > injury ) {
            status = 'Mortel 2';
            stun = -5 ;
            mortel = 2;
            mapenality = ma;
            refpenality = Math.floor((ref * 2)/3) + enc;
            intpenality = Math.floor((int * 2)/3);
            coolpenality = Math.floor((cool * 2)/3);
        } else if ( 29 > injury ) {
            status = 'Mortel 3';
            stun = -6 ;
            mortel = 3;
            mapenality = ma;
            refpenality = Math.floor((ref * 2)/3) + enc;
            intpenality = Math.floor((int * 2)/3);
            coolpenality = Math.floor((cool * 2)/3);
        } else if ( 33 > injury ) {
            status = 'Mortel 4';
            stun = -7 ;
            mortel = 4;
            mapenality = ma;
            refpenality = Math.floor((ref * 2)/3) + enc;
            intpenality = Math.floor((int * 2)/3);
            coolpenality = Math.floor((cool * 2)/3);
        } else if ( 37 > injury ) {
            status = 'Mortel 5';
            stun = -8 ;
            mortel = 5;
            mapenality = ma;
            refpenality = Math.floor((ref * 2)/3) + enc;
            intpenality = Math.floor((int * 2)/3);
            coolpenality = Math.floor((cool * 2)/3);
        } else if ( 41 > injury ) {
            status = 'Mortel 6';
            stun = -9 ;
            mortel = 6;
            mapenality = ma;
            refpenality = Math.floor((ref * 2)/3) + enc;
            intpenality = Math.floor((int * 2)/3);
            coolpenality = Math.floor((cool * 2)/3);
        } else {
            stun = -10 ;
            mortel = 7;
            mapenality = ma;
            refpenality = ref;
            coolpenality =cool;
            intpenality = int;
            status = 'Dead...';
        }
        var saveStunValue = body + parseInt(values.saveS) + stun;
        if (saveStunValue < 0 ){
            saveStunValue = 0;
        }
        var saveDeathValue = body + parseInt(values.saveD) - mortel;
        if (saveDeathValue < 0 ) {
            saveDeathValue = 0;
        }
        setAttrs({
            status : status,
            stunPenality : stun,
            saveStun: saveStunValue,
            saveDeath: saveDeathValue,
            ref_penality : refpenality,
            int_penality : intpenality,
            cool_penality : coolpenality,
            ma_penality : mapenality
        });
    });
});

on("sheet:opened change:cybmelee change:body change:body_mod change:body_penality change:ma change:ma_mod change:ma_penality", function() {
    getAttrs([
        "body","body_mod","body_penality","ma","ma_mod","ma_penality","cybmelee"
    ], function(values){
        var body = parseInt(values.body) + parseInt(values.body_mod) - parseInt(values.body_penality);
        var ma = parseInt(values.ma) + parseInt(values.ma_mod) - parseInt(values.ma_penality);
        var run = (ma * 3);
        var leap = (run /4);
        var lift = (body * 40);
        var btm;
        var mc;
        if ( body < 3 ) {
            mc = -2;
            btm = 0;
        } else if ( body < 5 ) {
            mc = -1;
            btm = -1;
        } else if ( body < 8 ) {
            mc = 0;
            btm = -2;
        } else if ( body < 10 ) {
            mc = 1;
            btm = -3;
        } else if ( body < 11 ) {
            mc = 2;
            btm = -4;
        } else if ( body < 13 ) {
            mc = 4;
            btm = -5;
        } else if ( body < 15 ) {
            mc = 6;
            btm = -5;
        } else {
            mc = 8;
            btm = -5;
        }
        setAttrs({
            run : run,
            leap : leap,
            btm : btm,
            dm : mc + parseInt(values.cybmelee),
            lift: lift,
        });
    });
});

on("sheet:opened change:attr change:attr_mod", function (){
    getAttrs([
        "attr",
        "attr_mod"
    ], function(v){
        var attr = parseInt(v.attr) + parseInt(v.attr_mod);
        if (3 > attr) bAttr = -2;
        else if (5 > attr) bAttr = -1;
        else if (8 > attr) bAttr = 0;
        else if (10 > attr) bAttr = 1;
        else if (11 > attr) bAttr = 2;
        else if (12 > attr) bAttr = 3;
        else bAttr = 4;
        setAttrs({ bAttr : bAttr });
    });
});

on("sheet:opened change:total_cyb", function() {
    getAttrs([ "total_cyb","emp","emp_mod" ], function(v){
        let penalties = Math.floor(parseInt(v.total_cyb) / 10);
        let humanity = (parseInt(v.emp) + parseInt(v.emp_mod)) * 10 - parseInt(v.total_cyb);
        setAttrs({
            emp_penality : penalties,
            hum : humanity
        });
    });
});
on("sheet:opened change:repeating_cyb:cybCost", (event) => {
    repeatingSum("total_cyb","cyb","cybCost");
});


on("change:repeating_wp:wp-type", function() {
    getAttrs(["repeating_wp_wp-type","dm"], function(v){
        var type = v.repeating_wp_wp-type;
        console.log(type);
        if("MEL" == type){
            type = v.dm;
        } else {
            type = 0;
        }
        setAttrs({ repeating_wp_isMelee : type });
    });
});

function sortNumber(a,b) {
    return b - a;
}

const repeatingSum = (destination, section, fields, multiplier = 1) => {
    if (!Array.isArray(fields)) fields = [fields];
    getSectionIDs(`repeating_${section}`, idArray => {
        const attrArray = idArray.reduce( (m,id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))],[]);
        getAttrs(attrArray, v => {
            console.log("===== values of v: "+ JSON.stringify(v) +" =====");
                 // getValue: if not a number, returns 1 if it is 'on' (checkbox), otherwise returns 0..
            const getValue = (section, id,field) => parseFloat(v[`repeating_${section}_${id}_${field}`]) || (v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : 0);
            const sumTotal = idArray.reduce((total, id) => total + fields.reduce((subtotal,field) => subtotal * getValue(section, id,field),1),0);
            setAttrs({[destination]: sumTotal * multiplier});
        });
    });
};

on("sheet:opened change:rep", function(){
    getAttrs([ "rep" ], function(v){
        var rep = parseInt(v.rep);
        var status = "unknown";
        switch (rep){
            case 1:
                status = "Anyone who was there at the time knows";
                break;
            case 2:
                status = "Storie have gotten around to immediat friends";
                break;
            case 3:
                status = "All co-workers and casual acquaintances know";
                break;
            case 4:
                status = "Storie are all over the local area";
                break;
            case 5:
                status = "Your name is recognized by others beyond your local area";
                break;
            case 6:
                status = "You are know on sight by others beyond your local area";
                break;
            case 7:
                status = "A news story or two has been written about your exploits";
                break;
            case 8:
                status = "Your exploits regulary make the headlines and screamsheets";
                break;
            case 9:
                status = "Your exploits always make the screamsheets and tv";
                break;
            case 10:
                status = "You're known worldwide";
                break;
            }
            setAttrs({ repStatus : status });
        });
    });

on("change:armor_macro change:armor_auto_enc change:skinweaveLegs change:skinweave change:layer_1 change:head_1 change:face_1 change:torso_1 change:rArm_1 change:lArm_1 change:rLeg_1 change:lLeg_1 change:enc_1 change:layer_2 change:head_2 change:face_2 change:torso_2 change:rArm_2 change:lArm_2 change:rLeg_2 change:lLeg_2 change:enc_2 change:layer_3 change:head_3 change:face_3 change:torso_3 change:rArm_3 change:lArm_3 change:rLeg_3 change:lLeg_3 change:enc_3", function(){
    getAttrs([
        "armor_macro",
        "layer_1",
        "head_1",
        "face_1",
        "torso_1",
        "rArm_1",
        "lArm_1",
        "rLeg_1",
        "lLeg_1",
        "enc_1",
        "skinweave",
        "skinweaveLegs",
        "layer_2",
        "head_2",
        "face_2",
        "torso_2",
        "rArm_2",
        "lArm_2",
        "rLeg_2",
        "lLeg_2",
        "enc_2",
        "layer_3",
        "head_3",
        "face_3",
        "torso_3",
        "rArm_3",
        "lArm_3",
        "rLeg_3",
        "lLeg_3",
        "enc_3",
        "armor_auto_enc",
    ], function(v){
        var ac = {
            face : 0,
            head : 0,
            torso : 0,
            rArm : 0,
            lArm : 0,
            rLeg : 0,
            lLeg : 0,
            enc : 0,
        }

        var faces = [];
        var heads = [];
        var torsos = [];
        var rArms = [];
        var lArms = [];
        var rLegs = [];
        var lLegs = [];
        var encs = [];
        if (1 == v.armor_macro){
            for (var i=1 ; i < 4 ; i++ ){
                if (1 == eval('v.layer_'+i)){
                    /*
                    if (i == 2){
                        ac['enc'] = ac['enc'] - v.skinweave;
                    }
                    ac['enc'] = ac['enc'] + (i-1);
                    */
                    for (var k in ac) {
                        if (0 < parseInt(eval('v.'+k+'_' + i))) {
                            eval(k+'s').push(parseInt(eval('v.'+k+'_' + i)));
                        }
                    }
                }
            }
        }
        var ev = 0;
        if (1 == v.armor_auto_enc){
            if ( 3 == heads.length || 3 == torsos.length || 3 == rArms.length || 3 == lArms.length ) {
                ev = ev + 3 - (v.skinweave * 2);
            } else if ( 2 == heads.length || 2 == torsos.length || 2 == rArms.length || 2 == lArms.length ) {
                ev = ev + 1 - v.skinweave;
            }
            if ( 3 == lLegs.length || 3 == rLegs.length ) {
                ev = ev + 3 - (v.skinweaveLegs * 2);
            } else if ( 2 == lLegs.length || 2 == rLegs.length ) {
                ev = ev + 1 - v.skinweaveLegs;
            }
        }
        for (var k in ac) {
            var tab = eval(k+'s').sort(sortNumber);
            for (var i = 0 ; i < tab.length ; i++){
                if ('enc' != k) {
                    if (0 == i) {
                        ac[k] = tab[i];
                    } else {
                        var diff = ac[k] - tab[i];
                        if (5 > diff) {
                            ac[k] = ac[k] + 5;
                        } else if (9 > diff) {
                            ac[k] = ac[k] + 4;
                        } else if (15 > diff) {
                            ac[k] = ac[k] + 3;
                        } else if (21 > diff) {
                            ac[k] = ac[k] + 2;
                        } else if (27 > diff) {
                            ac[k] = ac[k] + 1;
                        }
                    }
                } else {
                    ac['enc'] = ac['enc'] + tab[i];
                }
            }
        }
        ac['enc'] = ac['enc'] + ev;
        setAttrs(ac);
    });
});

on("sheet:opened change:luck change:luck_mod", function(){
    getAttrs([
        "luck",
        "luck_mod"
    ], function(v){
        var luck_max = parseInt(v.luck)-parseInt(v.luck_mod);
        setAttrs({
            luck_max : luck_max
        });
    });
});

on('change:repeating_prog:progType', function() {
    getAttrs([
        "repeating_prog_progType",
        "repeating_prog_progStr",
        "interface_max",
        "int_max",
    ], function(v) {
        var t = v.repeating_prog_progType;
        var str = v.repeating_prog_progStr;
        var roll = '';
        spe = '+'+v.interface_max+'+'+v.int_max;
        if ('Anti Personnel' == t){
            roll = '[[ 1d10!cf<1 +'+str+spe+']]';
        } else if ('Demon Series' == t) {
            roll = '[[0]]';
        } else if ('Utilities' == t || 'Controllers' == t) {
            roll =  '[[ {1d10}<'+str+']]';
        } else {
            roll = '[[ 1d10!cf<1+'+str+']]';
        }
        setAttrs({
            repeating_prog_progRoll : roll
        });
    });
});

function openClose(v){
    console.log(v);
    var arr = Object.keys(v);
    var show = {
        attr_skills_show : "off",
        body_skills_show : "off",
        cool_skills_show : "off",
        emp_skills_show : "off",
        int_skills_show : "off",
        ref_skills_show : "off",
        tech_skills_show : "off"
    };
    delete show[arr[0]];
    console.log(show);
    setAttrs(show);
}

on("sheet:opened change:cool_max", function(){
    getAttrs([
        "cool_max"
    ], function(v){
        var stability = Math.round(parseInt(v.cool_max) * 2.5);
        setAttrs({
            stability : stability
        })
    });
});

</script>





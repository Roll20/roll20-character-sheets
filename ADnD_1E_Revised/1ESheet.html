<!--new character?-->
<input type="hidden" name="attr_old_character" value="0" />
<!--background hidden inputs-->
<input type="checkbox" name="attr_background" value="1" class="background-selection hidden" checked />
<input type="checkbox" name="attr_background" value="2" class="background-selection hidden" />
<input type="checkbox" name="attr_background" value="3" class="background-selection hidden" />
<input type="checkbox" name="attr_background" value="4" class="background-selection hidden" />
<input type="checkbox" name="attr_background" value="5" class="background-selection hidden" />
<input type="checkbox" name="attr_background" value="6" class="background-selection hidden" />
<input type="checkbox" name="attr_background" value="7" class="background-selection hidden" />

<!--option toggles-->
<input type="hidden" name="attr_is_npc" value="0" class="is-npc" />
<input type="hidden" name="attr_toggle_npc" value="0" class="toggle-npc" />
<input type="checkbox" name="attr_toggle_costs" value="1" class="toggle-costs hidden" />
<input type="checkbox" name="attr_toggle_caster2" value="1" class="toggle-caster2 hidden" checked />
<input type="checkbox" name="attr_toggle_thief_skills" value="1" class="toggle-thief-skills hidden" checked />
<input type="checkbox" name="attr_toggle_spells" value="1" class="toggle-spells hidden" />
<input type="checkbox" name="attr_toggle_nwp" value="1" class="toggle-nwp hidden" checked />
<input type="checkbox" name="attr_toggle_exceptional" value="1" class="toggle-exceptional hidden" checked />
<input type="checkbox" name="attr_toggle_comeliness" value="1" class="toggle-comeliness hidden" checked />
<input type="checkbox" name="attr_toggle_multiclass" value="1" class="toggle-multiclass hidden" />
<input type="checkbox" name="attr_toggle_psionics" value="1" class="toggle-psionics hidden" checked />
<input type="checkbox" name="attr_toggle_macros" value="1" class="toggle-macros hidden" checked />
<input type="checkbox" name="attr_toggle_single_column_attributes" class="toggle-single-column-attributes hidden" value="1" checked />
<input type="checkbox" name="attr_toggle_single_column_abilities" class="toggle-single-column-abilities hidden" value="1" checked />
<input type="checkbox" name="attr_toggle_single_column_notes" class="toggle-single-column-notes hidden" value="1" checked />
<input type="checkbox" name="attr_toggle_single_column_spells" class="toggle-single-column-spells hidden" value="1" checked />
<input type="checkbox" name="attr_toggle_critdamage" class="toggle-critdamage hidden" value="1" />
<input type="checkbox" name="attr_toggle_lbs" class="toggle-lbs hidden" value="1" />
<div class="background">
  <div class="wrapper">
    <!-- Sheet Header-->
    <section class="top-header">
      <!-- NPC/Monster toggle-->
      <section class="npc-toggle npc-tabs">
        <input type="radio" name="attr_toggle_npc" value="0" class="toggle-npc tab-hidden tab" title="Player Character" checked /><span class="tab"></span>
        <input type="radio" name="attr_toggle_npc" value="1" class="toggle-npc tab-hidden tab" title="Non-Player Character/Monster" /><span class="tab">Monster</span>
        <input type="radio" name="attr_toggle_npc" value="99" class="toggle-npc tab-hidden tab" title="Sheet Settings" /><span class="material-icons custom-btn-nav"></span>
      </section>
      <!-- Announcements -->
      <section class="announcements-box">
        <div class="sheet-type text-small">
          <span class="friend-foe">
            <span class="inline-label" title="@{is_foe} | Indicates that the sheet is either a friend or foe. This option is purely visual and has no impact on the sheet.">
              <input type="radio" class="width-smallest is-friend" name="attr_is_foe" value="0" /><span></span>
              <input type="radio" class="width-smallest is-foe" name="attr_is_foe" value="1" checked/><span></span>
            </span>
          </span>
          <span class="pc-npc">
            <span class="inline-label" title="@{is_npc} | Indicates that the sheet is either a PC or NPC/Monster. Choosing NPC/Monster will reveal an additional NPC/Monster page.">
              <input type="radio" class="width-smallest is-pc" name="attr_is_npc" value="0" checked /><span></span>
              <input type="radio" class="width-smallest is-npc" name="attr_is_npc" value="1" /><span></span>
            </span>
          </span>
        </div>
        <input type="checkbox" class="sect-show" name="attr_toggle_announcements" value="1" title="Open to read about important sheet changes." checked />
        <span class="header announcements-title">i</span><span class="material-icons"></span>
        <div class="sect announcements">
          <input type="checkbox" class="sect-show" name="attr_toggle_announcements" value="1" title="Open to read about important sheet changes." checked /><span class="material-icons"></span>
          <h4>Important Sheet Announcements</h4>
          <h5 class="right two-columns span-all">
            <span class="left">
              <span>v<span name="attr_sheet_version">
            </span>
            <span class="right"> â€¢ 11/9/25'</span>
          </h5>
          <ul>
            <h5>Latest</h5>
            <li>Added a couple sorting options to Equipment. Sort AZ and Sort by Location, then Item AZ. Includes an "Undo" option that will restore the previous natural order.</li>
            <li>Added a couple sorting options to Spells. Sort AZ and Sort by Level, then Spell AZ. Includes an "Undo" option that will restore the previous natural order.</li>
            <li>Update to Spells; adding new spells will automatically set a Spell's caster class and level based on the current Caster and Spell Level tabs selected. example; If the current Spell Tab is set to show "3rd" level spells and a new spell is added "+", entering a spell name will trigger the sheet to set the Spell's level to "3". If the tab is set to "All" or if the Spell's level has already been set, the Spell's level will not be changed. If the spell is added using an API mod, the Spell's level will not be changed. Caster Class selected acts similarly.</li>
            <li>"Spell Lvl" is now shown with the Spell Name and #Memorized/Prepared. Hidden when the Spell details is expanded.</li>
            <li>Made a correction with the Spell Level Tab behavior when editing a Spell's Level while showing "All" levels. Tab would incorrectly change the Spell Level Tab to match the new Spell Level. Expected behavior is to stay on "All".</li>
            <li>Updated the Thief Skills Dex and Race auto-fill option. Expanded the Dex Thief skill adjustments up to DEX 25.</li>
            <li>Updated dependencies used to bundle the sheet. Impacts dev environment only.</li>
            <li>Updated title text on max fields from '..._max' to '...|max'. Macros and token bars need to use '...|max'</li>

            <h5>Previous</h5>
            <li>Updated the 'Equipment|Weapon|+Add' button to set all default weapon values for the attack row instead of just those synced from the Equipment's row. Fixes default hit-table info not being posted to chat (unless the selector was manually set) if the attack was created using the Equipment button.</li>
            <li>Added a very subtle linear-gradient background(top transparent to bottom light gray) to a few sections to help introduce a little contrast between sections.</li>
            <li>Fixed Equipment tabs for Carried|Not Carried|Mount|All not filtering.</li>
            <li>Updated sheetworker logic used when creating new repeating rows. Allows API mods to detect the default values.</li>
            <li>Updated the NWP title-text, inverting the +/- appropriately so it makes sense. Added an additional option in the NWP row dropdown to include a "vs Base" (which will give a roll-time query to enter a base/target value) to accommodate anyone that is using OA's version of NWP.</li>
            <li>Open Doors changed from percentage roll to d6 (or larger die for demi-god level STR values).</li>
            <li>Added additional logic to auto-fill bonus languages as per PHB. Previously the sheet only auto-filled Humans. This update will only effect new characters going forward. @{bonuslanguages} will remain unchanged for existing characters unless Race or INT are changed.</li>
            <li>Added setting the NWP default values using sheetworkers upon row creation to help with API attribute recognition. ie ScriptCards. Also added a "Val." column to show the current value of the Ability selected.</li>
            <li>Added a "Magical" column and checkbox to equipment. Check this box if an item has magical properties. Items that are checked will also be displayed when the "Magic" tab is selected regardless of their type category.</li>
            <li>Added options to autofill Thief Skills racial and Dex modifiers.</li>
            <li>Added an option to the Thief Skills to sync to a class. Base value will continue to auto-adjust whenever the class level changes.</li>
            <li>Added an option to the Attack Matrix/THAC0 section to sync to-Hit values to a class. Table data will continue to auto-adjust whenever the class level changes. Multi/Dual-class characters should choose the most favorable class. Class names entered on the sheet need to match one of the core 1e classes in order for this option to work.</li>
            <li>Added an option to use a 5% progression based to-Hit table for Fighters. (DMG p74) Use 5% checkbox added to Settings|Misc. Options and inside the Attack/THAC0 Matrix window.</li>
            <li>Attack/THACO Matrix section has been updated so that it's opened/closed state will remain persistent. It will be open by default on new sheets.</li>
            <li>Removed the character_name validation warning for the use of commas within a character's name.</li>
          </ul>
          <!-- past updates-->
           <h5>
            <span class="inline-label"><button type="roll" class="url-roll" title="Post this link to chat." value="[Roll20 Wiki Link](https://wiki.roll20.net/ADnD_1st_Edition_Character_sheet#Past_Updates)"><span>Past Updates...</span></button></span>
           </h5>
        </div>
      </section>
    </section>
    <!-- NPC/Monster statblock1-4 -->
    <section class="npc-box statblock1">
      <input type="checkbox" name="attr_character_name_error" class="hidden toggle-input-error" value="1" checked />
      <input type="text" class="height-short text-large left" name="attr_character_name" title="@{character_name} | NOTE: Including non-alpha-numeric characters 'may' break sheet rolls/macros. Specifically ')', ']', '}', or '|'." placeholder="Character Name" style="width: calc(50vw - 3em);min-width:17.5em;" />
      <span class="inline-label">
        <label>
          <span>TYPE:</span>
          <input type="text" name="attr_race" value="" title="@{race}" placeholder="Type, Race, etc." style="width: calc(49vw - 6em); min-width:14em;" />
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>FREQUENCY:</span>
          <select name="attr_frequency">
            <option selected>Nil</option>
            <option>Very rare</option>
            <option>Rare</option>
            <option>Uncommon</option>
            <option>Common</option>
            <option>Unique</option>
          </select>
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>NO. APPEARING:</span>
          <span class="autoexpand">
            <input type="text" name="attr_number_appearing" value="1" />
            <span name="attr_number_appearing"></span>
          </span>
        </label>
      </span>
      <span class="inline-label split">
        <label style="min-width:8.5em">
          <span>ARMOR CLASS:</span>
          <input type="text" class="width-smallest field-border" name="attr_armorclass" title="@{armorclass} | Best AC." value="10" style="text-align:center; padding:0;">
        </label>
        <label class="label-under-small width-auto">
          <span>
            <span>AR:</span>
            <select name="attr_unarmored_base" title="@{unarmored_base}" class="width-small">
              <option value="10" selected>10</option>
              <option value="9">9</option>
              <option value="8">8</option>
              <option value="7">7</option>
              <option value="6">6</option>
              <option value="5">5</option>
              <option value="4">4</option>
              <option value="3">3</option>
              <option value="2">2</option>
              <option value="1">1</option>
              <option value="0">0</option>
              <option value="-">-</option>
            </select>
          </span>
          <label title="AC is not from armor. Weapons vs Armor Type does not apply.">
            <input type="checkbox" name="attr_armor_rating_flag" value="1">
            <span>Ignore</span>
          </label>
        </label>
      </span>
      <span class="inline-label split">
        <label title="Primary Movement. NOTE: only the Primary movement is used for sheet calculations.">
          <span>MOVE:</span>
          <input type="text" class="width-small-plus" name="attr_movement" title="@{movement}" value="12" />
        </label>
        <label title="Other Movement. NOTE: not used for sheet calculations.">
          <span>OTHER:</span>
          <input type="text" class="width-small-plus" name="attr_movement2" title="@{movement2}" value="" placeholder="Nil" />
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>HIT DICE:</span>
          <input type="text" class="width-small" name="attr_monsterHD" title="@{monsterHD}" value="" placeholder="Nil" />
        </label>
        <label>
          +
          <input type="text" class="width-small" name="attr_monsterHD_bonus" title="@{monsterHD_bonus}" value="0" />
        </label>
        <label>
          <span>HIT POINTS:</span>
          <input type="text" class="field-border" name="attr_hitpoints" title="@{hitpoints}" value="0" style="text-align:center; padding:0;" />
        </label>
        <label>/
          <input type="text" class="width-small" name="attr_hitpoints_max" title="@{hitpoints|max}" value="0" />
        </label>
      </span>
      <span class="inline-label split" style="margin-left: 15%;">
        <label class="label-percent">
          <button class="dice-button text-only btn ui-draggable" type="roll" name="attr_morale-roll" title="%{selected|morale-roll} | NPC Roll" value="@{whisper_npc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Morale Check}} {{roll_low=[[ 1d100 ]]%}} {{roll_target=[[ @{morale_base}[BASE] + ( ?{Modifier?|0}[MOD] ) ]]%}} {{mod_applied=[[ ?{Modifier?|0} ]]%}}">
            <span>MORALE</span>
          </button>
          <input type="text" class="width-smaller" name="attr_morale_base" title="@{morale_base} | Base is 50%. Adjust +/- per circumstances." value="50">
        </label>
      </span>
      <span class="inline-label split">
        <label>
          <span>% IN LAIR:</span>
          <input type="text" class="width-small" name="attr_lair" title="@{lair}" value="" placeholder="Nil" />
        </label>
        <label>
          <span>TREASURE TYPE:</span>
          <input type="text" class="width-fill" name="attr_treasure_type" title="@{treasure_type}" value="" placeholder="Nil" />
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>NO. OF ATTACKS:</span>
          <input type="text" class="width-small" name="attr_number_of_attacks" title="@{number_of_attacks}" value="1" />
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>DAMAGE/ATTACK:</span>
          <textarea class="height-short" name="attr_attack_damage" title="@{attack_damage}" value="" placeholder="e.g. 1d4/1d4/1d6"></textarea>
        </label>
      </span>
      <span class="inline-label">
        <label>
          <button type="roll" class="dice-button text-only" name="roll_senses_roll" title="%{selected|senses_roll}" value="@{whisper_npc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Special Senses}} {{freetext=@{senses}}}"><span>SENSES:</span>
          </button>
          <textarea class="height-short" name="attr_senses" title="@{senses}" placeholder="Nil"></textarea>
        </label>
      </span>
    </section>
    <section class="npc-box statblock2">
      <span class="inline-label">
        <label>
          <span>SPECIAL ATTACKS:</span>
          <textarea class="height-short" name="attr_special_attacks" title="@{special_attacks}" placeholder="Nil"></textarea>
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>SPECIAL DEFENSES:</span>
          <textarea class="height-short" name="attr_special_defenses" title="@{special_defenses}" placeholder="Nil"></textarea>
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>WEAKNESSES:</span>
          <textarea class="height-short" name="attr_weaknesses" title="@{weaknesses}" placeholder="Nil"></textarea>
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>MAGIC RESISTANCE:</span>
          <textarea class="height-short" name="attr_magic_resistance" title="@{magic_resistance}" placeholder="Nil"></textarea>
        </label>
      </span>
      <div class="five-columns center">
        <label class="label-under">
          <button type="roll" class="text-only" name="roll_saveparalysispoisondeath" title="%{selected|saveparalysispoisondeath} | NPC Roll" value="@{whisper_npc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Paralysis, Poison or Death Magic}} {{roll_high=[[ 1d20 + [[ ?{Modifier?|0} ]][MOD] ]]}} {{roll_target=[[@{saveparalysispoisondeath}]]}} {{mod_applied=[[ ?{Modifier?|0} ]]}}"><span>Paralysis, Poison, or Death</span></button>
          <input type="text" class="width-smaller border" name="attr_saveparalysispoisondeath_base" title="@{saveparalysispoisondeath_base}" value="20">
        </label>
        <label class="label-under">
          <button class="text-only" type="roll" name="roll_savepetrificationpolymorph" title="%{selected|savepetrificationpolymorph} | NPC Roll" value="@{whisper_npc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Petrification or Polymorph}} {{roll_high=[[ 1d20 + [[ ?{Modifier?|0} ]][MOD] ]]}} {{roll_target=[[@{savepetrificationpolymorph}]]}} {{mod_applied=[[ ?{Modifier?|0} ]]}}"><span>Petrification or Polymorph</span></button>
          <input type="text" class="width-smaller border" name="attr_savepetrificationpolymorph_base" title="@{savepetrificationpolymorph_base}" value="20">
        </label>
        <label class="label-under">
          <button type="roll" class="text-only" name="roll_saverodsstaveswands" title="%{selected|saverodsstaveswands} | NPC Roll" value="@{whisper_npc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Rods, Staves, or Wands}} {{roll_high=[[ 1d20 + [[ ?{Modifier?|0} ]][MOD] ]]}} {{roll_target=[[@{saverodsstaveswands}]]}} {{mod_applied=[[ ?{Modifier?|0} ]]}}"><span>Rods, Staves, Wands</span></button>
          <input type="text" class="width-smaller border" name="attr_saverodsstaveswands_base" title="@{saverodsstaveswands_base}" value="20">
        </label>
        <label class="label-under">
          <button type="roll" class="text-only" name="roll_savebreathweapons" title="%{selected|savebreathweapons} | NPC Roll" value="@{whisper_npc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Breath Weapon}} {{roll_high=[[ 1d20 + [[ ?{Modifier?|0} ]][MOD] ]]}} {{roll_target=[[@{savebreathweapons}]]}} {{mod_applied=[[ ?{Modifier?|0} ]]}}"><span>Breath Weapon</span></button>
          <input type="text" class="width-smaller border" name="attr_savebreathweapons_base" title="@{savebreathweapons_base}" value="20">
        </label>
        <label class="label-under">
          <button type="roll" class="text-only" name="roll_savespells" title="%{selected|savespells} | NPC Roll" value="@{whisper_npc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Spells}} {{roll_high=[[ 1d20 + [[ ?{Modifier?|0} ]][MOD] ]]}} {{roll_target=[[@{savespells}]]}} {{mod_applied=[[ ?{Modifier?|0} ]]}}"><span>Spells</span></button>
          <input type="text" class="width-smaller border" name="attr_savespells_base" title="@{savespells_base}" value="20">
        </label>
        <div class="span-all">
          <div class="saves-class sect left">
            <label class="inline-label" title="@{autofill_saves} | Let the sheet auto-fill the Base Saves when the class and HD/Level selectors are changed.">
              <input type="checkbox" name="attr_autofill_saves" value="1" checked="">
              <h4>Autofill Base as:</h4>
            </label>
            <label class="center">
              <select class="width-fill border" name="attr_saves_class" title="@{saves_class}">
                <option value="0" selected style="font-weight: bold;">~ Select Monster or Class ~</option>
                <option value="3">Monster, Fighter, Paladin, or Ranger</option>
                <option value="1">Cleric</option>
                <option value="2">Druid</option>
                <option value="4">Magic-User or Illusionist</option>
                <option value="5">Thief</option>
                <option value="6">Monk</option>
                <option value="7">Assassin</option>
                <option value="8">Other 0-lvl Types</option>
              </select>
            </label>
            <label class="center">
              <span>HD/Lvl:</span>
              <input class="width-small border" type="number" min="0" name="attr_saves_level" value="1" title="@{saves_level}">
            </label>
          </div>
        </div>
      </div>
      <span class="inline-label">
        <label>
          <span>LANGUAGES:</span>
          <textarea class="height-short" name="attr_languages" title="@{languages}" placeholder="languages known"></textarea>
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>INTELLIGENCE:</span>
          <select name="attr_intelligence_npc" title="@{intelligence_npc}">
            <option selected>Nil</option>
            <option>Non-intelligent/not ratable</option>
            <option>Animal intelligence</option>
            <option>Semi-intelligent</option>
            <option>Low intelligence</option>
            <option>Average (human) intelligence</option>
            <option>Very intelligent</option>
            <option>Highly intelligent</option>
            <option>Exceptionally intelligent</option>
            <option>Genius-level intelligence</option>
            <option>Supra-genius</option>
            <option>Godlike intelligence</option>
          </select>
        </label>
      </span>
      <span class="inline-label">
        <textarea class="height-short" name="attr_intelligence_npc2" title="@{intelligence_npc2}" value="" placeholder="notes"></textarea>
      </span>
      <span class="inline-label">
        <label>
          <span>ALIGNMENT:</span>
          <input type="text" class="width-medium" name="attr_alignment" title="@{alignment}" />
        </label>
      </span>
      <span class="inline-label split">
        <label title="Natural/Unaltered size." style="min-width: auto;">
          <span>SIZE:</span>
          <select name="attr_size" title="@{size}">
            <option>S</option>
            <option selected>M</option>
            <option>L</option>
          </select>
        </label>
        <label title="Current/Altered size.">
          <span>Temp Size:</span>
          <select name="attr_size2" title="@{size2}">
            <option>S</option>
            <option selected>M</option>
            <option>L</option>
          </select>
        </label>
        <label>
          <span>HT:</span>
          <input type="text" name="attr_height" title="@{height}" value="0">
        </label>
        <label>
          <span>WT:</span>
          <input type="text" name="attr_weight" title="@{weight}" value="0">
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>PSIONIC ABILITY:</span>
          <input type="text" class="width-medium" name="attr_psionic_ability" title="@{psionic_ability} | Use Special Abilities to add Attack/Defensive Modes, and Specialties." value="" placeholder="Nil" />
        </label>
        <label class="inline-label" title="@{toggle_psionics} | Hides Psionic-related fields found within Special Abilities.">
          <span>Hide Other Psionics:</span>
          <input type="checkbox" name="attr_toggle_psionics" value="1" checked="">
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>Attack/Defense Modes</span>
          <input type="text" class="width-medium" name="attr_psionic_modes" title="@{psionic_modes}" value="" placeholder="Nil" />
        </label>
      </span>
      <span class="inline-label">
        <label>
          <span>LEVEL/XP VALUE:</span>
          <input type="text" class="width-large" name="attr_level_xp_value" title="@{level_xp_value}" value="" placeholder="Nil" />
      </span>
      <label class="inline-label">
        <button type="roll" class="image-link" value="@{whisper_npc} [**LINK**](@{sheet_image_url})" title="Send image to chat."></button>
        <textarea class="image-link" wrap="off" name="attr_sheet_image_url" title="@{sheet_image_url} | Enter a valid image URL that ends with a proper image extension. ie .png, .jpg, .gif If needed, trim the url to the end of the image extension or add a 3-letter extension to the end of the url.." placeholder="https://app.roll20.net/images/character.png"></textarea>
        <button type="roll" class="info-link" value="@{whisper_npc} [**LINK**](@{npc_link})" title="Send link to chat."></button>
        <textarea class="info-link" wrap="off" name="attr_npc_link" title="@{npc_link}" placeholder="https://www.example.com"></textarea>
      </label>
    </section>
    <section class="npc-box statblock3">
      <input type="hidden" class="toggle-avatar" name="attr_sheet_image" value="1" />
      <div class="image-avatar" name="attr_sheet_image_url" title="Send image to chat.">
        <img name="attr_character_avatar" />
        <button type="action" name="act_postimage" class="image-link"></button>
        <input type="hidden" name="attr_sheet_image_src" />
      </div>
    </section>
    <section class="npc-box statblock3-span">
      <span class="inline-label wrap">
        <label>
          <button class="dice-button text-only" type="roll" name="attr_init-roll" title="%{selected|init-roll}" value="@{whisper_npc} @{init_macro_text}"><span>INITIATIVE</span></button>
        </label>
        <label>
          <button class="dice-button text-only" type="roll" name="attr_surprise-roll" title="%{selected|surprise-roll}" value="@{whisper_npc} @{surprise_macro_text}"><span>SURPRISE</span></button>
        </label>
        <label class="auto-width right">
          <span>Surprise Chance</span>
          <input type="text" class="width-smaller" name="attr_surprise" title="@{surprise}" value="2" />
        </label>
        <label class="auto-width left">
          <select name="attr_surprise_die" class="width-medium" title="@{surprise_die}">
            <option value="6" selected>of 6</option>
            <option value="8">of 8</option>
            <option value="10">of 10</option>
            <option value="12">of 12</option>
            <option value="20">of 20</option>
            <option value="100">of 100</option>
          </select>
        </label>
        <label class="auto-width">
          <button type="roll" class="dice-button text-only" name="roll_surprise_others-roll" title="%{selected|surprise_others-roll}" value="@{whisper_npc} @{surprise_others_macro_text}">
            <span>Surprise Others</span>
          </button>
          <span>Adj.</span>
          <input type="text" class="width-smaller" name="attr_surprise_others_mod" title="@{surprise_others_mod} | The modifier is typically indicated as bonus although the value is SUBTRACTED from the opponents Surprise check." value="0" />
        </label>
      </span>
    </section>
    <section class="npc-box statblock4">
      <textarea name="attr_npc_notes" title="@{npc_notes}" placeholder="Enter Notes/Description..." style="height:100%;"></textarea>
    </section>
    <!-- Header -->
    <section class="header-box">
      <!--Details-->
      <div class="heading-box">
        <input type="checkbox" name="attr_character_name_error" class="hidden toggle-input-error" value="1" checked/>
        <input type="text" class="width-fill border text-large" name="attr_character_name" title="@{character_name} | NOTE: Including non-alpha-numeric characters 'may' break sheet rolls/macros. Specifically ')', ']', '}', or '|'." placeholder="Character Name">
        <label class="inline-label">
          <span>Race:</span>
          <input type="text" class="width-fill" name="attr_race" title="@{race}" placeholder="Description" />
        </label>
        <label class="inline-label">
          <span>Alignment:</span>
          <input type="text" class="width-fill" name="attr_alignment" title="@{alignment}" placeholder="Description" />
        </label>
        <label class="inline-label left">
          <input type="checkbox" class="sect-show" name="attr_class_details_show" value="1" style="width: 4.5em;left:-.75em;top: 0;height: 2.5em;" checked />
          <span class="material-icons gear-nav" style="left: -1em;"></span>
        </label>
        <label class="inline-label">
          <span>Class:</span>
          <input type="text" name="attr_class" title="@{class}" placeholder="Class" />
          <span class="toggle-multiclass">Lvl:</span>
          <input type="text" class="toggle-multiclass width-smaller" name="attr_level" title="@{level}" value="0" />
        </label>
        <label class="inline-label toggle-multiclass">
          <span>Class:</span>
          <input type="text" name="attr_secondclass" title="@{secondclass}" placeholder="Class" />
          <span>Lvl:</span>
          <input type="text" class="width-smaller" name="attr_level_2" title="@{level_2}" value="0" />
        </label>
        <label class="inline-label toggle-multiclass">
          <span>Class:</span>
          <input type="text" name="attr_thirdclass" title="@{thirdclass}" placeholder="Class" />
          <span>Lvl:</span>
          <input type="text" class="width-smaller" name="attr_level_3" title="@{level_3}" value="0" />
        </label>
        <label class="inline-label toggle-multiclass-swap">
          <span>Lvl:</span>
          <input type="text" class="width-smaller" name="attr_level" title="@{level}" value="0" />
          <span>XP:</span>
          <input type="text" class="width-medium" name="attr_xp" title="@{xp}" value="0" />
          <span class="inline-label">
            <input type="checkbox" name="attr_xp_bonus" title="@{xp_bonus}" value="1" />
            <span>10%</span>
          </span>
        </label>
      </div>
      <!-- Logo and HP/AC-->
      <div class="logo-box center">
        <span class="span-all normalmode">
          &nbsp;
        </span>
        <span class="span-all darkmode">
          &nbsp;
        </span>
        <span class="span-two two-columns">
          <label>
            <span class="text-large left">HP</span>
            <span class="heart">
              <input type="text" class="heart-input" name="attr_hitpoints" title="@{hitpoints} | Current Hit Points." value="0" />
            </span>
            <span>/</span>
            <input type="text" class="width-smaller" name="attr_hitpoints_max" title="@{hitpoints|max} | Maximum Hit Points. No Damage." value="0" style="height: 2em;" />
            <span class="sync-lock" title="@{sync_hp_flag} | Let the sheet sync Total HP from Class Details with HP ( @{hitpoints_max} ).">
              <input type="checkbox" name="attr_sync_hp_flag" value="1" />
              <span></span>
            </span>
          </label>
          <label>
            <span class="text-large">AC</span>
            <span class="shield">
              <input type="text" class="shield-input" name="attr_armorclass" title="@{armorclass} | Best AC." value="10" />
            </span>
            <span class="sync-lock" title="@{sync_ac_flag} | Let the sheet sync Total AC from Armor Details with AC ( @{armorclass} ).">
              <input type="checkbox" name="attr_sync_ac_flag" value="1" />
              <span></span>
            </span>
          </label>
          <span class="class-details">
            <input type="checkbox" class="sect-show" name="attr_class_details_show" value="1" checked />
            <span class="subheader">Class Details</span><span class="material-icons"></span>
          </span>
          <span class="armor-details">
            <input type="checkbox" class="sect-show" name="attr_armor_details_show" value="1" checked />
            <span class="subheader">Armor Details</span><span class="material-icons"></span>
          </span>
        </span>
        <span class="ac-columns">
          <label class="label-under" title="@{armorclass_shieldless} | Best AC without a Shield bonus.">
            <input type="text" class="readonly-span width-smaller" name="attr_armorclass_shieldless" title="@{armorclass_shieldless} | Best AC without a Shield bonus." value="0" />
            <span class="text-medium">Shieldless</span>
          </label>
          <label class="label-under" title="@{armorclass_rear} | Best AC without a Dex bonus.">
            <input type="text" class="readonly-span width-smaller" name="attr_armorclass_rear" title="@{armorclass_rear} | Best AC without a Dex bonus." value="0" />
            <span class="text-medium">Rear</span>
          </label>
          <label class="label-under" title="@{armorclass_rating} | Best Armor Rating">
            <input type="text" class="readonly-span width-smaller" name="attr_armorclass_rating" value="-" />
            <span class="text-medium">AR</span>
          </label>
        </span>
      </div>
      <!-- Portrait -->
      <div class="portrait-box">
        <input type="hidden" class="toggle-avatar" name="attr_sheet_image" value="1" />
        <div class="image-avatar" name="attr_sheet_image_url" title="Send image to chat.">
          <img name="attr_character_avatar" />
          <button type="action" name="act_postimage" class="image-link"></button>
        </div>
      </div>
    </section>
    <!-- Class Details -->
    <section class="class-box">
      <input type="checkbox" class="sect-show" name="attr_class_details_show" value="1" checked />
      <div class="sect header">CLASS DETAILS</div>
      <span class="sect material-icons"></span>
      <div class="sect border">
        <span class="class-columns column-header">
          <span>Class</span>
          <span>Lvl</span>
          <span>HD</span>
          <span>HP/Level</span>
          <span></span>
          <span>HP+Con</span>
          <span></span>
          <span>XP</span>
          <span>Next Level</span>
          <span>+10%</span>
        </span>
        <span class="class-columns">
          <input type="text" class="width-fill" name="attr_class" title="@{class}" placeholder="Class" />
          <input type="text" class="width-smaller" name="attr_level" title="@{level}" value="0" />
          <input type="text" class="width-medium" name="attr_hitdice" title="@{hitdice}" value="" placeholder="1d6" />
          <textarea class="width-medium-plus" name="attr_hitpoints_1_tracked" title="@{hitpoints_1_tracked} | Track rolled HP + CON adjustments per level." placeholder="Track HP 1 hp+con 2 hp+con 3 hp+con etc."></textarea>
          <span class="text-large">=</span>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_hitpoints_1_class_error" value="1" checked />
          <input type="text" class="width-small" name="attr_hitpoints_1_class" title="@{hitpoints_1_class} | Enter a running total of HP+CON." value="0" />
          <span></span>
          <input type="text" class="width-medium" name="attr_xp" title="@{xp}" value="0" />
          <input type="text" class="width-medium" name="attr_xp_next" title="@{xp_next}" value="0" />
          <input type="checkbox" name="attr_xp_bonus" title="@{xp_bonus} | XP bonus applies. Primary ability threshold met or exceeded for the class." value="1" />
        </span>
        <span class="class-columns toggle-multiclass">
          <input type="text" class="width-fill" name="attr_secondclass" title="@{secondclass}" placeholder="2rd class" />
          <input type="text" class="width-smaller" name="attr_level_2" title="@{level_2}" value="0" />
          <input type="text" class="width-medium" name="attr_hitdice_2" title="@{hitdice_2}" value="" placeholder="1d6" />
          <textarea class="width-medium-plus" name="attr_hitpoints_2_tracked" title="@{hitpoints_2_tracked} | Track rolled HP + CON adjustments per level." placeholder="Track HP 1 hp+con 2 hp+con 3 hp+con etc."></textarea>
          <span class="text-large">=</span>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_hitpoints_2_class_error" value="1" checked />
          <input type="text" class="width-small" name="attr_hitpoints_2_class" title="@{hitpoints_2_class} | Enter a running total of HP+CON." value="0" />
          <span></span>
          <input type="text" class="width-medium" name="attr_xp_2" title="@{xp_2}" value="0" />
          <input type="text" class="width-medium" name="attr_xp_2_next" title="@{xp_2_next}" value="0" />
          <input type="checkbox" name="attr_xp_2_bonus" title="@{xp_2_bonus} | XP bonus applies." value="1">
        </span>
        <span class="class-columns toggle-multiclass">
          <input type="text" class="width-fill" name="attr_thirdclass" title="@{thirdclass}" placeholder="3rd class" />
          <input type="text" class="width-smaller" name="attr_level_3" title="@{level_3}" value="0" />
          <input type="text" class="width-medium" name="attr_hitdice_3" title="@{hitdice_3}" value="" placeholder="1d6" />
          <textarea class="width-medium-plus" name="attr_hitpoints_3_tracked" title="@{hitpoints_3_tracked} | Track rolled HP + CON adjustments per level." placeholder="Track HP 1 hp+con 2 hp+con 3 hp+con etc."></textarea>
          <span class="text-large">=</span>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_hitpoints_3_class_error" value="1" checked />
          <input type="text" class="width-small" name="attr_hitpoints_3_class" title="@{hitpoints_3_class} | Enter a running total of HP+CON." value="0" />
          <span></span>
          <input type="text" class="width-medium" name="attr_xp_3" title="@{xp_3}" value="0" />
          <input type="text" class="width-medium" name="attr_xp_3_next" title="@{xp_3_next}" value="0" />
          <input type="checkbox" name="attr_xp_3_bonus" title="@{xp_3_bonus} | XP bonus applies." value="1">
        </span>
        <hr class="toggle-multiclass">
        <span class="class-columns">
          <label>
            <span>Hide Multi-Class:</span>
            <input type="checkbox" name="attr_toggle_multiclass" value="1" title="@{toggle_multiclass}" />
          </label>
          <label></label>
          <label class="label-under-small" title="@{hitdice_total} | Track total/effective Hit Dice for Spell effects and XP. Single class = level. Multi-class = highest level + 1. Three classes = highest level +2.">
            <input type="text" class="width-small" name="attr_hitdice_total" value="0" />
            <span>Total HD</span>
          </label>
          <span class="hp-calc-columns" style="margin-left: -10%;">
            <label class="label-under toggle-multiclass" title="@{hitpoints_class_total} | Uses the total HP+Con from table above." style="margin-left: 44%;">
              <input type="text" class="width-small" name="attr_hitpoints_class_total" value="0" readonly>
              <span>Total</span>
            </label>
            <label></label>
            <label class="label-under-small toggle-multiclass">
              <input type="text" class="width-small" name="attr_hp_quotient" title="@{hp_quotient}" value="0" readonly />
              <span>/Classes</span>
            </label>
            <label class="text-large toggle-multiclass">=</label>
            <label class="label-under" title="@{hitpoints_total} | Max Hit Points.">
              <input type="text" class="width-small" name="attr_hitpoints_total" value="0" readonly />
              <span>TOTAL HP</span>
            </label>
            <label class="toggle-multiclass span-two" title="@{hitpoints_remainder_total} | Used to track any remainder HP that would be lost due to rounding for mult-class characters.">
              <span class="center">Partial HP:</span>
              <input type="number" class="width-auto" name="attr_hitpoints_remainder_total" value="0" step=".01" />
            </label>
            <label class="sync-lock" title="@{sync_hp_flag} | Let the sheet sync Total HP from Class Details with HP ( @{hitpoints_max} ).">
              <span class="center">Sync HP:</span>
              <input type="checkbox" name="attr_sync_hp_flag" value="1" />
              <span></span>
            </label>
          </span>
        </span>
      </div>
    </section>
    <!-- Armor Details-->
    <section class="armor-box">
      <input type="checkbox" class="sect-show" name="attr_armor_details_show" value="1" checked />
      <div class="sect header">ARMOR DETAILS</div>
      <span class="sect material-icons"></span>
      <!-- used to sync armor details to repeating_equipment-->
      <input type="hidden" name="attr_unarmored_row_id" value="0" />
      <input type="hidden" name="attr_armortype1_row_id" value="0" />
      <input type="hidden" name="attr_armortype2_row_id" value="0" />
      <input type="hidden" name="attr_armorshield_row_id" value="0" />
      <input type="hidden" name="attr_armorhelmet_row_id" value="0" />
      <input type="hidden" name="attr_armorother1_row_id" value="0" />
      <input type="hidden" name="attr_armorother2_row_id" value="0" />
      <input type="hidden" name="attr_armorother3_row_id" value="0" />
      <input type="hidden" name="attr_armorother4_row_id" value="0" />
      <input type="hidden" name="attr_armorother5_row_id" value="0" />
      <input type="hidden" name="attr_armorother6_row_id" value="0" />
      <input type="hidden" name="attr_armordetails_array" value="0" />
      <!-- holds the old armor details attributes moved to repeating_equipment and is also used to get armor weight sub-total -->
      <input type="hidden" name="attr_armor_weight" value="0" />
      <input type="hidden" name="attr_unarmored_weight" value="0" />
      <input type="hidden" name="attr_armortype2_weight" value="0" />
      <input type="hidden" name="attr_armorshield_weight" value="0" />
      <input type="hidden" name="attr_armorhelmet_weight" value="0" />
      <input type="hidden" name="attr_armor_cost" value="0" />
      <input type="hidden" name="attr_unarmored_cost" value="0" />
      <input type="hidden" name="attr_armortype2_cost" value="0" />
      <input type="hidden" name="attr_armorshield_cost" value="0" />
      <input type="hidden" name="attr_armorhelmet_cost" value="0" />

      <div class="sect border linear-background">
        <span class="armor-columns column-header">
          <span>Armor Type</span>
          <span title="Only worn items are included in the AC calculations below.">In Use</span>
          <span>Name</span>
          <span title="Armor Class">AC</span>
          <span title="Armor Rating for weapon vs armor adjustments.">AR</span>
          <span title="Magical Bonuses to AC.">Magic</span>
          <span title="Misc adjustments to AC.">Misc</span>
          <span title="Items in use are carried, but items not in use can still be carried.">Carried</span>
          <span title="Armor Bulk affects movement.">Bulk</span>
        </span>
        <span class="armor-columns">
          <label class="stack-text"><span>UnArmored Base</span></label>
          <input type="checkbox" name="attr_unarmored_worn" value="1" title="@{unarmored_worn}" checked />
          <input type="text" class="width-fill" name="attr_unarmored" value="" title="@{unarmored} | Use for Unarmored, Clothing, Natural Armor, etc." placeholder="non-armor" />
          <select name="attr_unarmored_ac" title="@{unarmored_ac} | Enter the actual AC value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
          </select>
          <select name="attr_unarmored_base" title="@{unarmored_base} | Enter the actual AR value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
            <option value="-">-</option>
          </select>
          <span></span>
          <span></span>
          <input type="checkbox" name="attr_unarmored_carried" value="1" title="@{unarmored_carried} | In use/worn cannot be un-carried." checked />
          <select class="width-fill" name="attr_unarmored_bulk" title="@{unarmored_bulk}">
            <option value="0" selected>n/a</option>
            <option value="1">non-Bulky 12"</option>
            <option value="2">Fairly 9"</option>
            <option value="3">Bulky 6"</option>
          </select>
        </span>
        <span class="armor-columns">
          <label><span>Armor 1</span></label>
          <input type="checkbox" name="attr_armortype_worn" title="@{armortype_worn}" value="1" checked />
          <input type="text" class="width-fill" name="attr_armortype" title="@{armortype}" placeholder="Description" />
          <select name="attr_armortype_ac" title="@{armortype_ac} | Enter the actual AC value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
            <!-- additional range to handle migrating AC-->
            <option class="hidden" value="-1">-1</option>
            <option class="hidden" value="-2">-2</option>
            <option class="hidden" value="-3">-3</option>
            <option class="hidden" value="-4">-4</option>
            <option class="hidden" value="-5">-5</option>
            <option class="hidden" value="-6">-6</option>
            <option class="hidden" value="-7">-7</option>
            <option class="hidden" value="-8">-8</option>
            <option class="hidden" value="-9">-9</option>
            <option class="hidden" value="-10">-10</option>
          </select>
          <select name="attr_armortype_base" title="@{armortype_base} | Enter the actual AR value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armortype_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armortype_magic" value="0" title="@{armortype_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
          <input type="checkbox" name="attr_armortype_carried" value="1" title="@{armortype_carried} | In use/worn cannot be un-carried." checked />
          <select class="width-fill" name="attr_armortype_bulk" title="@{armortype_bulk}">
            <option value="0" selected>n/a</option>
            <option value="1">non-Bulky 12"</option>
            <option value="2">Fairly 9"</option>
            <option value="3">Bulky 6"</option>
          </select>
        </span>
        <span class="armor-columns">
          <label><span>Armor 2</span></label>
          <input type="checkbox" name="attr_armortype2_worn" title="@{armortype2_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armortype2" title="@{armortype2}" placeholder="Description" />
          <select name="attr_armortype2_ac" title="@{armortype2_ac} | Enter the actual AC value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
          </select>
          <select name="attr_armortype2_base" title="@{armortype2_base} | Enter the actual AR value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armortype2_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armortype2_magic" value="0" title="@{armortype2_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
          <input type="checkbox" name="attr_armortype2_carried" value="1" title="@{armortype2_carried} | In use/worn cannot be un-carried." checked />
          <select class="width-fill" name="attr_armortype2_bulk" title="@{armortype2_bulk}">
            <option value="0" selected>n/a</option>
            <option value="1">non-Bulky 12"</option>
            <option value="2">Fairly 9"</option>
            <option value="3">Bulky 6"</option>
          </select>
        </span>
        <span class="armor-columns">
          <label><span>Shield</span></label>
          <input type="checkbox" name="attr_armorshield_worn" title="@{armorshield_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorshield" title="@{armorshield}" placeholder="Description" />
          <select name="attr_armorshield_ac" title="@{armorshield_ac} | ie +2 lowers AC by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <select name="attr_armorshield_base" title="@{armorshield_base} | ie +2 lowers AR by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorshield_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorshield_magic" value="0" title="@{armorshield_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorshield_mod_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorshield_mod" value="0" title="@{armorshield_mod} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" name="attr_armorshield_carried" value="1" title="@{armorshield_carried} | In use/worn cannot be un-carried." checked />
          <select class="width-fill" name="attr_armorshield_bulk" title="@{armorshield_bulk}">
            <option value="0" selected>n/a</option>
            <option value="1">non-Bulky 12"</option>
            <option value="2">Fairly 9"</option>
            <option value="3">Bulky 6"</option>
          </select>
        </span>
        <span class="armor-columns">
          <label><span>Helm</span></label>
          <input type="checkbox" name="attr_armorhelmet_worn" title="@{armorhelmet_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorhelmet" title="@{armorhelmet}" placeholder="Description" />
          <select name="attr_armorhelmet_ac" title="@{armorhelmet_ac} | Other than Magic Bonuses, Helms do not impact Total AC calculations.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
          </select>
          <span></span>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorhelmet_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorhelmet_magic" value="0" title="@{armorhelmet_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
          <span></span>
          <span></span>
        </span>
        <span class="armor-columns" style="margin-bottom: -.25em;">
          <label><span>Other</span></label>
          <input type="checkbox" name="attr_armorother_worn" title="@{armorother_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorother" title="@{armorother}" placeholder="Description" />
          <select name="attr_armorother_ac" title="@{armorother_ac} | Enter the actual AC value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
          </select>
          <select name="attr_armorother_base" title="@{armorother_base} | Enter the actual AR value for this item.">
            <option value="10" selected>10</option>
            <option value="9">9</option>
            <option value="8">8</option>
            <option value="7">7</option>
            <option value="6">6</option>
            <option value="5">5</option>
            <option value="4">4</option>
            <option value="3">3</option>
            <option value="2">2</option>
            <option value="1">1</option>
            <option value="0">0</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother_magic" value="0" title="@{armorother_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother_mod_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother_mod" value="0" title="@{armorother_mod} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
          <span class="span-all" style="margin-bottom: -.5em; padding-left:.5em;">
            <input type="checkbox" class="sect-show more" title="@{armorother-show}" name="attr_armorother_show" value="1" />
            <span style="top: -6px;position: relative;">More</span><span class="material-icons" style="padding-bottom: 6px;"></span>
          </span>
        </span>
        <input type="checkbox" class="sect-show hidden" name="attr_armorother_show" value="1" />
        <span class="sect armor-columns">
          <label><span>Other</span></label>
          <input type="checkbox" name="attr_armorother2_worn" title="@{armorother2_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorother2" title="@{armorother2}" placeholder="Description" />
          <select name="attr_armorother2_ac" title="@{armorother2_ac} | ie +2 lowers AC by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <select name="attr_armorother2_base" title="@{armorother2_base} | ie +2 lowers AR by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother2_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother2_magic" value="0" title="@{armorother2_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother2_mod_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother2_mod" value="0" title="@{armorother2_mod} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
          <span></span>
        </span>
        <span class="sect armor-columns">
          <label><span>Other</span></label>
          <input type="checkbox" name="attr_armorother3_worn" title="@{armorother3_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorother3" title="@{armorother3}" placeholder="Description" />
          <select name="attr_armorother3_ac" title="@{armorother3_ac} | ie +2 lowers AC by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <select name="attr_armorother3_base" title="@{armorother3_base} | ie +2 lowers AR by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother3_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother3_magic" value="0" title="@{armorother3_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother3_mod_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother3_mod" value="0" title="@{armorother3_mod} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
        </span>
        <span class="sect armor-columns">
          <label><span>Other</span></label>
          <input type="checkbox" name="attr_armorother4_worn" title="@{armorother4_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorother4" title="@{armorother4}" placeholder="Description" />
          <select name="attr_armorother4_ac" title="@{armorother4_ac} | ie +2 lowers AC by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <select name="attr_armorother4_base" title="@{armorother4_base} | ie +2 lowers AR by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother4_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother4_magic" value="0" title="@{armorother4_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother4_mod_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother4_mod" value="0" title="@{armorother4_mod} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
        </span>
        <span class="sect armor-columns">
          <label><span>Other</span></label>
          <input type="checkbox" name="attr_armorother5_worn" title="@{armorother5_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorother5" title="@{armorother5}" placeholder="Description" />
          <select name="attr_armorother5_ac" title="@{armorother5_ac} | ie +2 lowers AC by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <select name="attr_armorother5_base" title="@{armorother5_base} | ie +2 lowers AR by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother5_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother5_magic" value="0" title="@{armorother5_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother5_mod_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother5_mod" value="0" title="@{armorother5_mod} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
          <span></span>
        </span>
        <span class="sect armor-columns">
          <label><span>Other</span></label>
          <input type="checkbox" name="attr_armorother6_worn" title="@{armorother6_worn}" value="1" />
          <input type="text" class="width-fill" name="attr_armorother6" title="@{armorother6}" placeholder="Description" />
          <select name="attr_armorother6_ac" title="@{armorother6_ac} | ie +2 lowers AC by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <select name="attr_armorother6_base" title="@{armorother6_base} | ie +2 lowers AR by -2.">
            <option value="0" selected>+0</option>
            <option value="-1">+1</option>
            <option value="-2">+2</option>
            <option value="-3">+3</option>
            <option value="-4">+4</option>
            <option value="-5">+5</option>
            <option value="-6">+6</option>
            <option value="-7">+7</option>
            <option value="-8">+8</option>
            <option value="-9">+9</option>
            <option value="-10">+10</option>
          </select>
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother6_magic_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother6_magic" value="0" title="@{armorother6_magic} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <input type="checkbox" class="hidden toggle-input-error" name="attr_armorother6_mod_error" value="1" checked />
          <input type="text" class="width-small" name="attr_armorother6_mod" value="0" title="@{armorother6_mod} | Bonuses lower AC.  Penalties raise AC.  ie '+2' bonus lowers AC by -2 while a '-2' penalty will raise AC by 2." />
          <span></span>
          <span></span>
        </span>
        <span class="armor-columns">
          <!--column tally - In Use/Total-->
          <span class="span-three"></span>
          <label class="readonly-span-textonly" title="In Use/Best AC">
            <span>
              <span name="attr_armorclass_base_used"></span>
              <input type="text" class="hidden" name="attr_armorclass_base_used" value="0" readonly />
            </span>
            <span>/</span>
            <span>
              <span name="attr_armorclass_base_best"></span>
              <input type="text" class="hidden" name="attr_armorclass_base_best" value="0" readonly />
            </span>
          </label>
          <label class="readonly-span-textonly" title="In Use/Best AR">
            <span>
              <span name="attr_armorclass_rating_used"></span>
              <input type="text" class="hidden" name="attr_armorclass_rating_used" value="0" readonly />
            </span>
            <span>/</span>
            <span>
              <span name="attr_armorclass_rating_best"></span>
              <input type="text" class="hidden" name="attr_armorclass_rating_best" value="0" readonly />
            </span>
          </label>
          <label class="readonly-span-textonly" title="In Use/Total Magic">
            <span>
              <span name="attr_armorclass_magic_with_shield"></span>
              <input type="text" class="hidden" name="attr_armorclass_magic_with_shield" value="0" readonly />
            </span>
            <span>/</span>
            <span>
              <span name="attr_armorclass_magic_total"></span>
              <input type="text" class="hidden" name="attr_armorclass_magic_total" value="0" readonly />
            </span>
          </label>
          <label class="readonly-span-textonly" title="In Use/Total Misc.">
            <span>
              <span name="attr_armorclass_mod_with_shield"></span>
              <input type="text" class="hidden" name="attr_armorclass_mod_with_shield" value="0" readonly />
            </span>
            <span>/</span>
            <span>
              <span name="attr_armorclass_mod_total"></span>
              <input type="text" class="hidden" name="attr_armorclass_mod_total" value="0" readonly />
            </span>
          </label>
          <label class="readonly-span-textonly span-two" title="@{current_bulk_label} | Current Bulk as per active armors, shield, clothing, etc.">
            <input type="text" class="width-fill height-short" name="attr_current_bulk_label" value="" placeholder="no bulk" readonly />
          </label>
          <input type="text" class="hidden" name="attr_current_bulk" value="" />
        </span>
        <hr>
        <!--AC Calcs-->
        <span class="ac-calc-columns">
          <label class="label-under-small" title="@{unarmored_base} | Enter a value for Natural Armor or No Armor rating. Default is 10.">
            <input type="text" class="readonly-span width-small" name="attr_unarmored_base" value="10" />
            <span>UnArmored</span>
          </label>
          <label class="label-under-small" title="@{armorclass_base} | Compares the UnArmored Base AC to the AC from above and uses the best(lowest) value.">
            <input type="text" class="readonly-span width-small" name="attr_armorclass_base" value="0" />
            <span>AC Base</span>
          </label>
          <label class="label-under-small" title="@{armorclass_combined_mod_magic} | Magic + Misc. Adjustments from above.">
            <input type="text" class="hidden" name="attr_armorclass_combined_mod_magic" value="0" />
            <input type="text" class="readonly-span width-small" name="attr_armorclass_combined_mod_magic_inverted" value="0" />
            <!--mod and magic totals stored here if needed-->
            <input type="text" class="hidden" name="attr_armorclass_magic" value="0" readonly />
            <input type="text" class="hidden" name="attr_armorclass_mod" value="0" readonly />
            <span>Armor Adj.</span>
          </label>
          <input type="checkbox" class="hidden toggle-input-attention" name="attr_encumbrance_flag" value="1" checked />
          <label class="text-large">=</label>
          <label class="label-under" title="@{armorclass_rear} | Best AC without a Dex bonus.">
            <input type="text" class="readonly-span field-border" name="attr_armorclass_rear" value="0" />
            <span>Rear</span>
          </label>
          <input type="checkbox" class="hidden toggle-input-attention" name="attr_encumbrance_flag" value="1" checked />
          <label class="label-under-small" title="@{armorbonus} | Defensive Adjustment from Dexterity row.">
            <input type="text" class="readonly-span width-small" name="attr_armorbonus_inverted" value="0" />
            <span class="material-icons" title="Encumbered! DEX bonus has been removed.">nearby_error</span>
            <label class="inline-label" title="@{armorbonus_toggle} | DEX bonus can be removed circumstantially.">
              <span>Dex Adj.</span>
              <input type="checkbox" name="attr_armorbonus_toggle" value="1" checked />
            </label>
          </label>
          <label class="text-large">=</label>
          <label class="label-under" title="@{armorclass_shieldless} | Best AC without a Shield bonus.">
            <input type="text" class="readonly-span field-border" name="attr_armorclass_shieldless" value="0" />
            <span>Shieldless</span>
          </label>
          <label class="label-under-small" title="@{armorclass_combined_shield_mod_magic} | Magic + Misc. Adjustments from Shield above.">
            <input type="text" class="hidden" name="attr_armorclass_combined_shield_mod_magic" value="0" />
            <input type="text" class="readonly-span width-small" name="attr_armorclass_combined_shield_mod_magic_inverted" value="0" />
            <!--mod and magic totals stored here if needed-->
            <input type="text" class="hidden" name="attr_armorclass_shield_mod" value="0" readonly />
            <input type="text" class="hidden" name="attr_armorclass_shield_magic" value="0" readonly />
            <span>Shield Adj.</span>
          </label>
          <label class="text-large">=</label>
          <label class="label-under" title="@{armorclass_total} | Best AC">
            <input type="text" class="readonly-span field-border" name="attr_armorclass_total" value="0" />
            <span>Total AC</span>
          </label>
        </span>
        <span class="five-columns">
          <span class="inline-label" title="@{autocalc_ac} | This is a persistent setting. Let the sheet auto-calculate AC based on the values entered in the Armor Details table above. This will overwrite all values in the bottom row.">
            <label>
              <span>Auto-Calc AC:</span>
              <input type="checkbox" name="attr_autocalc_ac" value="1" checked />
            </label>
            <button type="action" class="text-only" name="act_calcac" style="padding: inherit;" title="This is an immediate action and works regardless of the Auto-Calc AC setting. Let the sheet auto-calculate AC based on the values entered in the Armor Details table above. This will overwrite all values in the bottom row.">
              <span class="width-large">Calc AC</span>
            </button>
          </span>
          <span class="inline-label sync-lock" title="@{sync_ac_flag} | Let the sheet sync Total AC from Armor Details with AC ( @{armorclass} ).">
            <label>
              <span>Sync AC:</span>
              <input type="checkbox" name="attr_sync_ac_flag" value="1" />
              <span></span>
            </label>
          </span>
          <span></span>
          <span class="inline-label" title="@{armor_rating_flag} | AC is not from armor. Weapons vs Armor Type does not apply.">
            <label>
              <span>Ignore AR:</span>
              <input type="checkbox" name="attr_armor_rating_flag" value="1" />
            </label>
          </span>
          <span class="inline-label" title="@{armorclass_rating} | Best AR">
            <label><span>Armor Rating</span></label>
            <input type="text" class="readonly-span width-small" name="attr_armorclass_rating" value="-" />
          </span>
        </span>
        <span class="inline-label">
          <label class="width-auto">
            <button type="roll" name="roll_defensive_notes_roll" class="dice-button text-only" title="%{selected|defensive_notes_roll}" value="@{whisper_pc} &amp;{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Defensive Notes}} {{freetext=@{defensive_notes}}}">
              <span>Defensive Notes:</span>
            </button>
          </label>
          <textarea name="attr_defensive_notes" class="height-short" title="@{defensive_notes}" placeholder="Enter Defensive Notes..."></textarea>
        </span>
      </div>
    </section>
    <!-- Personal -->
    <section class="personal-attributes-box">
      <input type="checkbox" class="sect-show" name="attr_personal_attributes_info_show" value="1" checked />
      <div class="header">PERSONAL ATTRIBUTES</div><span class="material-icons"></span>
      <div class="sect">
        <span class="details-row1">
          <label class="inline-label">
            <span>Gender:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_gender" title="@{gender}" placeholder="n/a">
              <span name="attr_gender"></span>
            </span>
          </label>
          <label class="inline-label">
            <span>Age:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_age" title="@{age}" value="0">
              <span name="attr_age"></span>
            </span>
          </label>
          <label class="inline-label">
            <span>Height:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_height" title="@{height}" value="0">
              <span name="attr_height"></span>
            </span>
          </label>
          <label class="inline-label">
            <span>Weight:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_weight" title="@{weight}" value="0">
              <span name="attr_weight"></span>
            </span>
          </label>
          <label class="inline-label">
            <span>Eyes:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_eyes" title="@{eyes}" placeholder="Color">
              <span name="attr_eyes"></span>
            </span>
          </label>
          <label class="inline-label">
            <span>Hair:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_hair" title="@{hair}" placeholder="Color">
              <span name="attr_hair"></span>
            </span>
          </label>
          <label class="inline-label" title="Natural/Unaltered size." style="padding-left: .35em;">
            <span>Size:</span>
            <select class="width-small" name="attr_size" title="@{size}">
              <option>S</option>
              <option selected>M</option>
              <option>L</option>
            </select>
          </label>
          <label class="inline-label" title="Altered size." style="padding-left: .35em;">
            <span>Temp Size:</span>
            <select class="width-small" name="attr_size2" title="@{size2}">
              <option>S</option>
              <option selected>M</option>
              <option>L</option>
            </select>
          </label>
          <label class="inline-label">
            <span>Deity:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_deity" title="@{deity}" placeholder="Description">
              <span name="attr_deity"></span>
            </span>
          </label>
          <label class="inline-label">
            <span>Secondary Skill:</span>
            <span class="autoexpand">
              <input type="text" class="autoexpand" name="attr_secondary_skill" title="@{secondary_skill}" placeholder="Description">
              <span name="attr_secondary_skill"></span>
            </span>
          </label>
          <span class="inline-label" style="padding-left: .35em; max-width: -webkit-fill-available;">
            <label>
              <button type="roll" class="image-link" value="@{whisper_pc} [**LINK**](@{sheet_image_url})" title="Send image to chat."></button>
              <textarea class="image-link" wrap="off" name="attr_sheet_image_url" title="@{sheet_image_url} | Enter a valid image URL that ends with a proper image extension. ie .png, .jpg, .gif If needed, trim the url to the end of the image extension or add a 3-letter extension to the end of the url.." placeholder="https://app.roll20.net/images/character.png"></textarea>
            </label>
          </span>
        </span>
        <span class="details-row">
          <label class="inline-label width-auto">
            <button type="roll" name="roll_racial_notes_roll" class="dice-button text-only" title="%{selected|racial_notes_roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Racial Notes}} {{freetext=@{racial_notes}}}">
              <span>Racial Notes:</span>
            </button>
          </label>
          <textarea name="attr_racial_notes" class="height-short" title="@{racial_notes}" placeholder="Enter Racial Notes..."></textarea>
        </span>
        <span class="details-row">
          <label class="inline-label width-auto">
            <button type="roll" name="roll_languages_roll" class="dice-button text-only" title="%{selected|languages_roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Known Languages}} {{freetext=@{languages}}}">
              <span>Languages:</span>
            </button>
          </label>
          <textarea class="height-short" name="attr_languages" title="@{languages}" placeholder="languages known"></textarea>
        </span>
        <span class="details-row">
          <label class="inline-label width-auto">
            <button type="roll" name="roll_senses_roll" class="dice-button text-only" title="%{selected|senses_roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Special Senses}} {{freetext=@{senses}}}">
              <span>Special Senses:</span>
            </button>
          </label>
          <textarea name="attr_senses" class="height-short" title="@{senses}" placeholder="Enter Special Senses..."></textarea>
        </span>
        <span class="details-row3">
          <input type="checkbox" class="sect-show" name="attr_character-description_show" value="1" checked />
          <span class="subheader">Character History/Bio</span><span class="material-icons"></span>
          <span class="sect">
            <span class="autoexpand">
              <textarea name="attr_character_description" title="@{character_description}" placeholder="Enter Character Description..."></textarea>
              <span name="attr_character_description"></span>
            </span>
          </span>
        </span>
      </div>
      <hr>
    </section>
    <!-- Abilities -->
    <section class="abilities-box">
      <input type="checkbox" class="sect-show" name="attr_abilities_info_show" value="1" checked />
      <div class="header">ABILITIES</div><span class="material-icons"></span>
      <div class="sect">
        <span class="abilities-columns">
          <!-- STR -->
          <label>
            <button type="roll" class="ability-button text-only" name="attr_strength_check_roll" title="%{selected|strength_check_roll}" value="@{strength_check_macro_text}"><span>STR</span></button>
            <input type="text" class="hidden" name="attr_strength_check_macro_text" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Strength Check}} {{roll_low=[[ @{ability_check_die}cs ]]}} {{roll_target=[[ @{strength} ]]}}" />
          </label>
          <input type="text" class="field-border" name="attr_strength" title="@{strength}" value="10" />
          <input type="checkbox" class="hidden exceptional" name="attr_exceptional_strength_flag" value="1" />
          <label class="toggle-exceptional strength">
            <input type="text" class="width-smallest" name="attr_exceptionalstrength" title="@{exceptionalstrength | Must have an Ability of 18+ to access field." value="0" />
          </label>
          <label>
            <span class="stack-text">To-Hit Adj.</span>
          </label>
          <input type="text" class="width-smaller" name="attr_meleebonus" title="@{meleebonus} | Melee attack &quot;To-Hit&quot; adjustment." value="0" />
          <label>
            <span class="stack-text">Damage Adj.</span>
          </label>
          <input type="text" class="width-smaller" name="attr_dmgbonus" title="@{dmgbonus} | Melee attack Damage adjustment." value="0" />
          <label>
            <span class="stack-text">Weight All.</span>
          </label>
          <input type="text" class="width-fill" name="attr_encumbrancebonus" title="@{encumbrancebonus} | Weight Allowance in gp. Keep this value as gp even if the sheet is using the lbs option." value="0" />
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_minorstrengthfeat-roll" title="%{selected|minorstrengthfeat-roll} | Minor Strength Feat" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Open Doors}} {{roll_low=[[ ?{Open Door die|1d6 [STR<=18],1d6 |1d8 [STR = 19 or 20],1d8 |1d10 [STR = 21],1d10 |1d12 [STR = 22 or 23],1d12 |1d12 [STR = 24],1d20 |2d12 [STR = 25],2d12}cs ]]}} {{roll_target=[[ @{minorstrengthfeat} ]]}} {{locked_doors=You have a chance ([[@{selected|minorstrengthfeat_locked}]] in 6) to force open a locked, barred, magically held, or wizard locked door. Fighter's only. note: Roll will use a larger die for STR 24 or 25.}} {{[Open a Locked Door?](~@{character_id}|minorstrengthfeat_locked-roll)}}">
              <span>Open Doors</span>
            </button>
          </label>
          <span class="two-columns">
            <label>
              <input type="text" class="width-smallest" name="attr_minorstrengthfeat" title="@{minorstrengthfeat} | Minor Strength Feat: uses the highest # from STR table." value="0">
            </label>
            <input type="checkbox" class="hidden exceptional" name="attr_exceptional_strength_flag" value="1" />
            <sup class="toggle-exceptional strength" title="@{minorstrengthfeat_locked} | Fighter's can attempt to force open a locked, barred, magically held, or wizard locked door with exceptional Strength of 18(99)+.">
              <span name="attr_minorstrengthfeat_locked"></span>
            </sup>
            <input type="hidden" name="attr_minorstrengthfeat_locked" value="0" />
            <button class="hidden" type="roll" name="attr_minorstrengthfeat_locked-roll" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Open Locked Door}} {{roll_low=[[ ?{Locked, Barred, or Magically Held Door die|1d6 [STR = 18(91-100) or 19-23],1d6 |1d8 [STR = 24],1d8 |1d10 [STR = 25],1d10}cs ]] }} {{roll_target=[[ @{minorstrengthfeat_locked} ]]}}"></button>
          </span>
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_majorstrengthfeat-roll" title="%{selected|majorstrengthfeat-roll} | Major Strength Feat" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Bend Bars/Lift Gates}} {{roll_low=[[1d100cs]]%}} {{roll_target=[[ @{majorstrengthfeat}]]%}}">
              <span>Bend</span>
            </button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_majorstrengthfeat" title="@{majorstrengthfeat} | Major Strength Feat" value="0" />
          </label>
          <!-- INT -->
          <label>
            <button type="roll" class="ability-button text-only" name="attr_intelligence_check_roll" title="%{selected|intelligence_check_roll}" value="@{intelligence_check_macro_text}"><span>INT</span></button>
            <input type="text" class="hidden" name="attr_intelligence_check_macro_text" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Intelligence Check}} {{roll_low=[[ @{ability_check_die}cs ]]}} {{roll_target=[[ @{intelligence} ]]}}" />
          </label>
          <input type="text" class="field-border" name="attr_intelligence" title="@{intelligence}" value="10" />
          <input type="checkbox" class="hidden exceptional" name="attr_exceptional_intelligence_flag" value="1" />
          <label class="toggle-exceptional">
            <input type="text" class="width-smallest" name="attr_exceptionalintelligence" title="@{exceptionalintelligence} | Must have an Ability of 18+ to access field." value="0" />
          </label>
          <label>
            <span class="stack-text">Add. Lang.</span>
          </label>
          <input type="text" class="width-smaller" name="attr_bonuslanguages" title="@{bonuslanguages} | Auto-filled based on Race and INT (see PHB)." value="0" />
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_knowspell-roll" title="%{selected|knowspell-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Chance to Know Spell}} {{roll_low=[[ 1d100 ]]%}} {{roll_target=[[ @{knowspell} ]]%}}"><span>Know Spell</span></button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_knowspell" title="@{knowspell}" value="0" />
          </label>
          <label>
            <span class="stack-text">Min # Spells</span>
          </label>
          <input type="text" class="width-smaller" name="attr_minspells" title="@{minspells}" value="0" />
          <label>
            <span class="stack-text">Max # Spells</span>
          </label>
          <input type="text" class="width-smaller" name="attr_maxspells" title="@{maxspells}" value="0" />
          <label class="span-two inline-label">
            <button class="dice-button text-only" type="roll" name="attr_init-roll" title="%{selected|init-roll}" value="@{whisper_pc} @{init_macro_text}"><span>Initiative</span></button>
          </label>
          <!-- WIS -->
          <label>
            <button type="roll" class="ability-button text-only" name="attr_wisdom_check_roll" title="%{selected|wisdom_check_roll}" value="@{wisdom_check_macro_text}"><span>WIS</span></button>
            <input type="text" class="hidden" name="attr_wisdom_check_macro_text" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Wisdom Check}} {{roll_low=[[ @{ability_check_die}cs ]]}} {{roll_target=[[ @{wisdom} ]]}}" />
          </label>
          <input type="text" class="field-border" name="attr_wisdom" title="@{wisdom}" value="10" />
          <input type="checkbox" class="hidden exceptional" name="attr_exceptional_wisdom_flag" value="1" />
          <label class="toggle-exceptional">
            <input type="text" class="width-smallest" name="attr_exceptionalwisdom" title="@{exceptionalwisdom} | Must have an Ability of 18+ to access field." value="0" />
          </label>
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_mentalsave-roll" title="%{selected|mentalsave-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Mental Save}} {{roll_high=[[ 1d20 + [[ ?{Modifier?|0} ]][MOD] + [[ @{mentalsavebonus} ]][BON] ]]}} {{roll_target=[[?{Target # for success?|20}]]}} {{wis_applied=[[ @{mentalsavebonus} ]]}} {{mod_applied=[[ ?{Modifier?|0} ]]}}"><span>Mental Save</span></button>
          </label>
          <input type="text" class="width-smaller" name="attr_mentalsavebonus" title="@{mentalsavebonus}" value="0" />
          <label>
            <span class="stack-text">Spell Bonus</span>
          </label>
          <span class="autoexpand span-two" style="margin-left: 2px;">
            <input type="text" name="attr_spellbonus" class="no-border" title="@{spellbonus} | Track the # of bonus spells/level as per the PHB." value="0/0/0/0/0/0/0" />
            <span name="attr_spellbonus"></span>
          </span>
          <label></label>
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_spellfailure-roll" title="%{selected|spellfailure-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Chance of Spell Failure}} {{roll_high=[[ 1d100 ]]%}} {{roll_target=[[ @{spellfailure} ]]%}}"><span>Spell Failure</span></button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_spellfailure" title="@{spellfailure}" value="0" />
          </label>
          <label class="span-two inline-label">
            <button class="dice-button text-only" type="roll" name="attr_surprise-roll" title="%{selected|surprise-roll}" value="@{whisper_pc} @{surprise_macro_text}"><span>Surprise</span></button>
          </label>
          <!-- DEX -->
          <label>
            <button type="roll" class="ability-button text-only" name="attr_dexterity_check_roll" title="%{selected|dexterity_check_roll}" value="@{dexterity_check_macro_text}"><span>DEX</span></button>
            <input type="text" class="hidden" name="attr_dexterity_check_macro_text" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Dexterity Check}} {{roll_low=[[ @{ability_check_die}cs ]]}} {{roll_target=[[ @{dexterity} ]]}}" />
          </label>
          <input type="text" class="field-border" name="attr_dexterity" title="@{dexterity}" value="10" />
          <input type="checkbox" class="hidden exceptional" name="attr_exceptional_dexterity_flag" value="1" />
          <label class="toggle-exceptional">
            <input type="text" class="width-smallest" name="attr_exceptionaldexterity" title="@{exceptionaldexterity} | Must have an Ability of 18+ to access field." value="0" />
          </label>
          <label>
            <span class="stack-text">Reaction Adj.</span>
          </label>
          <input type="text" class="hidden" name="attr_surprisebonus" value="0" />
          <input type="text" class="width-smaller" name="attr_surprisebonus_inverted" title="@{surprisebonus} | Modifier for initiative/surprise and missile-based combat attacks." value="0" />
          <label>
            <span class="stack-text">Missile Adj.</span>
          </label>
          <input type="text" class="width-smaller" name="attr_rangedbonus" title="@{rangedbonus} | Ranged attack 'To-Hit' adjustment." value="0" />
          <label>
            <span class="stack-text">Defensive Adj.</span>
          </label>
          <input type="text" class="width-smaller" name="attr_armorbonus" title="@{armorbonus} | Used to compute AC in the 'Armor Details' section above." value="0" />
          <label class="span-three">
            <span>Surprise Chance</span>
            <input type="text" class="width-smaller" name="attr_surprise" title="@{surprise}" value="2" />
          </label>
          <label>
            <select name="attr_surprise_die" class="text-small" title="@{surprise_die}">
              <option value="6" selected>of 6</option>
              <option value="8">of 8</option>
              <option value="10">of 10</option>
              <option value="12">of 12</option>
              <option value="20">of 20</option>
              <option value="100">of 100</option>
            </select>
          </label>
          <!-- CON -->
          <label>
            <button type="roll" class="ability-button text-only" name="attr_constitution_check_roll" title="%{selected|constitution_check_roll}" value="@{constitution_check_macro_text}"><span>CON</span></button>
            <input type="text" class="hidden" name="attr_constitution_check_macro_text" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Constitution Check}} {{roll_low=[[ @{ability_check_die}cs ]]}} {{roll_target=[[ @{constitution} ]]}}" />
          </label>
          <input type="text" class="field-border" name="attr_constitution" title="@{constitution}" value="10" />
          <input type="checkbox" class="hidden exceptional" name="attr_exceptional_constitution_flag" value="1" />
          <label class="toggle-exceptional">
            <input type="text" class="width-smallest" name="attr_exceptionalconstitution" title="@{exceptionalconstitution} | Must have an Ability of 18+ to access field." value="0" />
          </label>
          <label>
            <span class="stack-text">HP Adj.</span>
          </label>
          <input type="text" class="width-smaller" name="attr_hitpointbonus" title="@{hitpointbonus} | Max +2 unless Fighter, Paladin, or Ranger." value="0" />
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_systemshock-roll" title="%{selected|systemshock-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=System Shock Survival}} {{roll_low=[[ 1d100 ]] %}} {{roll_target=[[ @{systemshock} ]]%}}"><span>Sys. Shock</span></button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_systemshock" title="@{systemshock}" value="0" />
          </label>
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_resurrectionsurvival-roll" title="%{selected|resurrectionsurvival-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Resurrection Survival}} {{roll_low=[[ 1d100 ]]%}} {{roll_target=[[ @{resurrectionsurvival} ]]%}}"><span>Res. Surv.</span></button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_resurrectionsurvival" title="@{resurrectionsurvival}" value="0" />
          </label>
          <label class="span-four inline-label">
            <button type="roll" class="dice-button text-only" name="roll_surprise_others-roll" title="%{selected|surprise_others-roll}" value="@{whisper_pc} @{surprise_others_macro_text}">
              <span>Surprise Others</span>
            </button>
            <span>Adj.</span>
            <input type="text" class="width-smaller" name="attr_surprise_others_mod" title="@{surprise_others_mod} | The modifier is typically indicated as bonus although the value is SUBTRACTED from the opponents Surprise check." value="0" />
          </label>
          <!-- CHA -->
          <label>
            <button type="roll" class="ability-button text-only" name="attr_charisma_check_roll" title="%{selected|charisma_check_roll}" value="@{charisma_check_macro_text}"><span>CHA</span></button>
            <input type="text" class="hidden" name="attr_charisma_check_macro_text" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Charisma Check}} {{roll_low=[[ @{ability_check_die}cs ]]}} {{roll_target=[[ @{charisma} ]]}}" />
          </label>
          <input type="text" class="field-border" name="attr_charisma" title="@{charisma}" value="10" />
          <input type="checkbox" class="hidden exceptional" name="attr_exceptional_charisma_flag" value="1" />
          <label class="toggle-exceptional">
            <input type="text" class="width-smallest" name="attr_exceptionalcharisma" title="@{exceptionalcharisma} | Must have an Ability of 18+ to access field." value="0" />
          </label>
          <label>
            <span class="stack-text">Max # Hench.</span>
          </label>
          <input type="text" class="width-smaller" name="attr_maximumhenchmen" title="@{maximumhenchmen}" value="0" />
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_loyalty-roll" title="%{selected|loyalty-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Loyalty}} {{roll_low=[[ 1d100 ]]%}} {{roll_target=[[ 50 + (@{loyaltybonus}[LOYALTY]) + ( ?{Modifier?|0}[MOD] ) ]]%}} {{Loyalty Applied=[[@{loyaltybonus}]]%}} {{mod_applied=[[ ?{Modifier?|0} ]]%}}"><span>Loyalty</span></button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_loyaltybonus" title="@{loyaltybonus}" value="0" />
          </label>
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_reaction-roll" title="%{selected|reaction-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Reaction}} {{roll=[[ 1d100 + (@{reactionbonus}[BON]) + ( ?{Modifier?|0}[MOD] ) ]]%}} {{Reaction Applied=[[@{reactionbonus}]]%}} {{mod_applied=[[ ?{Modifier?|0} ]]%}}"><span>React.</span></button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_reactionbonus" title="@{reactionbonus}" value="0" />
          </label>
          <label class="inline-label">
            <button class="dice-button text-only" type="roll" name="attr_morale-roll" title="%{selected|morale-roll}" value="@{whisper_pc} &{template:general} {{color=@{color_option}}} {{name=@{character_name}}} {{subtag=Morale Check}} {{roll_low=[[ 1d100 ]]%}} {{roll_target=[[ @{morale_base}[BASE] + ( ?{Modifier?|0}[MOD] ) ]]%}} {{mod_applied=[[ ?{Modifier?|0} ]]%}}"><span>Morale</span></button>
          </label>
          <label class="label-percent">
            <input type="text" class="width-smaller" name="attr_morale_base" title="@{morale_base} | Base is 50%. Adjust +/- per circumstances." value="50" />
          </label>
          <label></label>
          <label></label>
          <!-- COM -->
          <label class="toggle-comeliness">
            <button type="roll" class="ability-button text-only"><span>COM</span></button>
          </label>
          <input type="text" class="field-border toggle-comeliness" name="attr_comeliness" title="@{comeliness} | Score should reflect 'Adjusted Comeliness' which takes into account Charisma and/or any racial adjustments." value="10" />
          <input type="checkbox" class="hidden exceptional" name="attr_exceptional_comeliness_flag" value="1" />
          <label class="toggle-exceptional toggle-comeliness">
            <input type="text" class="width-smallest" name="attr_exceptionalcomeliness" title="@{exceptionalcomeliness} | Must have an Ability of 18+ to access field." value="0" />
          </label>
          <span class="span-ten inline-label toggle-comeliness">
            <b class="text-large">=</b>
            <span>Base COM</span>
            <input type="text" class="width-smaller" name="attr_comeliness_base" title="@{comeliness_base} | Comeliness base score. ie un-adjusted roll." value="8" />
            <b class="text-large">+</b>
            <span>CHA Adj.</span>
            <input type="text" class="width-smaller" name="attr_comeliness_cha_adj" title="@{comeliness_cha_adj} | Same race Bonus/Penalty adjustment. Auto-calculated based on Charisma." value="0" readonly />
            <b class="text-large">+</b>
            <span>Racial Adj.</span>
            <select name="attr_comeliness_racial_adj" title="@{comeliness_racial_adj} | Bonus/Penalty adjustment as perceived by other races.">
              <option value="-3">Half-Orcs</option>
              <option value="-1">Dwarves, Gnomes</option>
              <option value="0" selected>Halflings, Humans</option>
              <option value="1">Half-Elves, Sylvan Elves</option>
              <option value="2">Gray Elves, High Elves</option>
            </select>
            <input type="text" class="width-smaller" name="attr_comeliness_racial_adj" value="0" readonly />
          </span>
        </span>
      </div>
      <!-- Movement -->
      <div class="sect border linear-background">
        <span class="subheader center width-fill">Speed and Movement</span>
        <span class="basemove-columns column-header">
          <span class="span-five">Adjusted Speed</span>
          <span></span>
          <span class="stack-text">Explore/<wbr>Map</span>
          <span class="stack-text">Known Route</span>
          <span>Run/Flee</span>
        </span>
        <span class="basemove-columns">
          <label class="label-under">
            <input type="checkbox" class="hidden current-encumbrance" name="attr_current_encumbrance_move" value="0" readonly />
            <input type="text" class="width-smaller field-border" name="attr_movement" title="@{movement}" value="12" />
            <span>Normal</span>
          </label>
          <label class="label-under" title="@{movement_heavy} | No DEX Bonus to Init.">
            <input type="checkbox" class="hidden current-encumbrance" name="attr_current_encumbrance_move" value="1" readonly />
            <input type="text" class="hidden" name="attr_movement_heavy" value="0" readonly />
            <span class="readonly-span no-border" name="attr_movement_heavy" title="@{movement_heavy}"></span>
            <span>Heavy</span>
          </label>
          <label class="label-under" title="@{movement_load} | No DEX Bonus to Init, Delayed, +1 Segment if Surprised.">
            <input type="checkbox" class="hidden current-encumbrance" name="attr_current_encumbrance_move" value="2" readonly />
            <input type="text" class="hidden" name="attr_movement_load" value="0" readonly />
            <span class="readonly-span no-border" name="attr_movement_load" title="@{movement_load}"></span>
            <span class="nowrap">Very Heavy</span>
          </label>
          <label class="label-under" title="@{movement_max} |No DEX Bonus to Init or AC, Go Last in Init, +2 Segments if Surprised, Cannot Charge, Enemies get +2 to-hit.">
            <input type="checkbox" class="hidden current-encumbrance" name="attr_current_encumbrance_move" value="3" readonly />
            <input type="text" class="hidden" name="attr_movement_max" value="0" readonly />
            <span class="readonly-span no-border" name="attr_movement_max" title="@{movement
<!-- ******* SHEET WORKERS **************** -->
<script type="text/worker">
    on("change:sheetusebonus", function(eventinfo) {
        if(eventinfo.newValue == "1"){
            setAttrs({
                rollQstBonus: "?{Bonus|0|1|2|-1|-2}",
                rollVarBonus: 0
            });
        } else {
            setAttrs({
                rollQstBonus: 0,
                rollVarBonus: 0
            });
        };
    });
    on("change:sheetusecost", function(eventinfo) {
        if(eventinfo.newValue == "1"){
            setAttrs({
                rollQstCost: "?{Coût|0}",
                rollVarCost: 0
            });
        } else {
            setAttrs({
                rollQstCost: 0,
                rollVarCost: 0
            });
        };
    });
    on("change:sheetuseasset", function(eventinfo) {
        if(eventinfo.newValue == "1"){
            setAttrs({
                rollQstAsset: "?{Atout|0|1|2}",
                rollVarAsset: 0
            });
        } else {
            setAttrs({
                rollQstAsset: 0,
                rollVarAsset: 0
            });
        };
    });
</script>
<!-- ******* PC **************** -->
<div style="display:inline-block;font-size:11px;color: #888888;text-align:left;font-weight: bold;">Style:</div>
<input type="radio" name="attr_sheetStyle" value="0" class="sheet-styleCypher" checked="checked" title="Cypher System" /><span>Cypher System</span>
<input type="radio" name="attr_sheetStyle" value="1" class="sheet-styleNumenera" title="Numenéra" /><span>Numenéra</span>
<input type="radio" name="attr_sheetStyle" value="2" class="sheet-styleTheStrange" title="The Strange"/><span>The Strange</span>
<input type="radio" name="attr_sheetStyle" value="99" class="sheet-styleNpc" title="PNJ"/><span>PNJ</span>
<div style="display:inline-block;font-size:11px;color: #888888;text-align:left;font-weight: bold;margin-left:0px;">- Jets :</div>
<input type="radio" name="attr_sheetRolls" value="0" class="sheet-actionRoll" checked="checked" title="Jet de Caractéristiques et Compétences en utilisant les paramètres de la section Action" /><span>section Action</span>
<input type="radio" name="attr_sheetRolls" value="1" class="sheet-macroRoll" title="Jet de Caractéristiques et Compétences demandent les paramètres un par un" /><span>Questions</span>
<div style="display:inline-block;font-size:11px;color: #888888;text-align:left;font-weight: bold;margin-left:0px;">- Utiliser :</div>
<input type="checkbox" name="attr_sheetUseAsset" value="1" class="sheet-chkUseAsset" title="Demander / Utiliser les Atouts dans les jets de Caractéristiques, Compétences et Attaques"  /><span>Atouts</span>
<input type="checkbox" name="attr_sheetUseBonus" value="1" class="sheet-chkUseBonus" title="Demander / Utiliser les Bonus dans les jets de Caractéristiques, Compétences et Attaques"  /><span>Bonus</span>
<input type="checkbox" name="attr_sheetUseCost" value="1" class="sheet-chkUseCost" title="Demander / Utiliser les Coûts dans les jets de Caractéristiques et Compétences"  /><span>Coûts</span><div style="display:inline-block;font-size:11px;color: #888888;text-align:left;margin-left:0px;">- v1.7 (2017-09-17)</div>
<div class="sheet-main">
    <div style="display: none;"> <!-- HIDDEN Rolls and Calculations -->
        <input type="hidden" name="attr_targNum" value="@{rollVarDiff}*3" />
        <input type="hidden" name="attr_effortCost" value="ceil((@{rollVarRollEff}+@{rollVarRollDmg})/6)+(@{rollVarRollEff}+@{rollVarRollDmg})*(2+ceil(@{damage-track}/4))" />
        <input type="hidden" name="attr_effortSpeedCost" value="ceil((@{rollVarRollEff}+@{rollVarRollDmg})/6)+(@{rollVarRollEff}+@{rollVarRollDmg})*(2+@{armorspeedcost}+ceil(@{damage-track}/4))" />
        <input type="hidden" name="attr_totalCost" value="@{effortCost}+@{rollVarCost}" />
        <input type="hidden" name="attr_totalSpeedCost" value="@{effortSpeedCost}+@{rollVarCost}" />
        <input type="hidden" name="attr_MightCost" value="@{totalCost}-@{mightedge}" />
        <input type="hidden" name="attr_SpeedCost" value="@{totalSpeedCost}-@{speededge}" />
        <input type="hidden" name="attr_IntelCost" value="@{totalCost}-@{intellectedge}" />
        <!-- Using questions -->
        <input type="hidden" name="attr_rollQstDiff" value="?{Difficulté|0 - Aucune/Inconnue,0|1 - Simple,1|2 - Standard,2|3 - Exigeant,3|4 - Difficile,4|5 - Éprouvant,5|6 - Intimidant,6|7 - Formidable,7|8 - Héroïque,8|9 - Immortel,9|10 - Impossible,10}" />
        <input type="hidden" name="attr_rollQstCost" value="0" />
        <input type="hidden" name="attr_rollQstBonus" value="0" />
        <input type="hidden" name="attr_rollQstRollEff" value="?{Effort au Jet|0|1|2|3|4|5|6}" />
        <input type="hidden" name="attr_rollQstRollDmg" value="?{Effort aux Dégâts|0|1|2|3|4|5|6}" />
        <input type="hidden" name="attr_rollQstAsset" value="0" />
        <input type="hidden" name="attr_targNumQst" value="@{rollQstDiff}*3" />
        <input type="hidden" name="attr_effortCostQst" value="ceil((@{rollQstRollEff}+@{rollQstRollDmg})/6)+(@{rollQstRollEff}+@{rollQstRollDmg})*(2+ceil(@{damage-track}/4))" />
        <input type="hidden" name="attr_effortSpeedCostQst" value="ceil((@{rollQstRollEff}+@{rollQstRollDmg})/6)+(@{rollQstRollEff}+@{rollQstRollDmg})*(2+@{armorspeedcost}+ceil(@{damage-track}/4))" />
        <input type="hidden" name="attr_totalCostQst" value="@{effortCostQst}+@{rollQstCost}" />
        <input type="hidden" name="attr_totalSpeedCostQst" value="@{effortSpeedCostQst}+@{rollQstCost}" />
        <input type="hidden" name="attr_MightCostQst" value="@{totalCostQst}-@{mightedge}" />
        <input type="hidden" name="attr_SpeedCostQst" value="@{totalSpeedCostQst}-@{speededge}" />
        <input type="hidden" name="attr_IntelCostQst" value="@{totalCostQst}-@{intellectedge}" />    </div> <!-- END HIDDEN Rolls and Calculations -->
    <table>
        <!-- ******* COL 1 **************** -->
        <tr>
        <td width="352px" valign="top"> <!-- COL 1 -->
            <div class="sheet-supblock"> <!--- Name -->
                <div style="text-align: left;">
                    <input class="sheet-whiteinput" type="text" name="attr_character_name" style="width: 340px;font-size:14px;" />
                    <div class="sheet-underwhite" style="width:120px;">NOM</div>
                </div>
                <div>
                    <table>
                        <tr>
                            <td VALIGN="top"><div class="sheet-textfat">EST UN</div></td>
                            <td style="text-align: left;">
                                <input class="sheet-whiteinput" type="text" name="attr_type" style="width: 95px;" />
                                <div class="sheet-underwhite" style="width:70px;">TYPE</div>
                            </td>
                            <td style="text-align: left;">
                                <input class="sheet-whiteinput" type="text" name="attr_descriptor" style="width: 140px;" />
                                <div class="sheet-underwhite" style="width:90px;">DESCRIPTEUR</div>
                            </td>
                            <td VALIGN="top" style="text-align: left;"><div class="sheet-textfat" style="text-align: left;">QUI</div></td>
                            <td>&nbsp;</td>
                        </tr>
                    </table>
                </div>
                <div style="text-align: left;">
                    <input class="sheet-whiteinput" type="text" name="attr_focus" style="width: 340px;" />
                    <div class="sheet-underwhite" style="width:120px;">FOCUS</div>
                </div>
            </div> <!--- END Name -->
            <div class="sheet-supblock"> <!-- TIER EFFORT XP -->
                <table>
                    <tr>
                        <td>&nbsp;</td>
                        <td>
                            <div class="sheet-blublock" style="width: 80px;">
                                <div class="sheet-inpblock">
                                    <input type="number" name="attr_tier" min="1" max="6" value="1" />
                                    <div class="sheet-text1">RANG</div>
                                </div>
                            </div>
                        </td>
                        <td>&nbsp;</td>
                        <td style="padding-left: 10%;">
                            <div class="sheet-blublock" style="width: 80px;">
                                <div class="sheet-inpblock">
                                    <input type="number" name="attr_effort" min="1" max="6" value="1" />
                                    <div class="sheet-text1">EFFORT</div>
                                </div>
                            </div>
                        </td>
                        <td>&nbsp;</td>
                        <td style="padding-left: 10%;">
                            <div class="sheet-blublock" style="width: 80px;">
                                <div class="sheet-inpblock">
                                    <input type="number" name="attr_xp" title="Points d'Expérience" min="0" value="0" />
                                    <div class="sheet-text1">PX</div>
                                </div>
                            </div>
                        </td>
                        <td>&nbsp;</td>
                    </tr>
                </table>
            </div> <!-- END TIER EFFORT XP -->
            <div class="sheet-supblock"> <!-- STATS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <table>
                            <tr>
                                <td COLSPAN="2" VALIGN="top" style="width: 105px;border-right: 1px solid #22428F;">
                                    <div class="sheet-text1">PUISSANCE</div>
                                    <div>
                                        <input type="number" style="height: 120%;font-weight:bold; font-size:120%; color:#6D0100;" name="attr_might" title="Valeur courante" min="0" value="11" />
                                        <button type="roll" class="sheet-actionbt" title="Jet de Puissance"
                                            value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=might}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=Puissance}} {{attrEdge=@{mightedge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-@{rollVarAsset}-@{rollVarRollEff}]]}} {{targNumRoll=[[(@{rollVarDiff}-@{rollVarAsset}-@{rollVarRollEff})*3-(1*@{rollVarBonus})]]}} {{totalCost=[[@{MightCost}]]}} {{effortCost=[[@{effortCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[@{rollVarRollDmg}]]}} {{statExpense=[[@{rollVarCost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[@{rollVarRollDmg}*3]]}}"
                                            name="roll_actionMightCheck"></button>
                                        <button type="roll" class="sheet-macrobt" title="Jet de Puissance"
                                            value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=might}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=Puissance}} {{attrEdge=@{mightedge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{rollQstCost}]]}} {{effortDmg=[[0]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-@{rollQstAsset}-@{rollQstRollEff}]]}}  {{targNumRoll=[[(@{rollQstDiff}-@{rollQstAsset}-@{rollQstRollEff})*3-(1*@{rollQstBonus})]]}} {{totalCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))+@{rollQstCost}-@{mightedge}]]}} {{effortCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))]]}} {{bonusDmg=[[0]]}}"
                                            name="roll_macroMightCheck"></button>
                                    </div>
                                </td>
                                <td COLSPAN="2" VALIGN="top" style="width: 105px;border-right: 1px solid #22428F;">
                                    <div class="sheet-text1">CÉLÉRITÉ</div>
                                    <div>
                                        <input type="number" style="height: 120%;font-weight:bold; font-size:120%; color:#6D0100;" name="attr_speed" title="Valeur courante" min="0" value="10" />
                                        <button type="roll" class="sheet-actionbt" class="sheet-basicbt" title="Jet de Célérité"
                                            value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=speed}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=Célérité}} {{attrEdge=@{speededge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-@{rollVarAsset}-@{rollVarRollEff}]]}} {{targNumRoll=[[(@{rollVarDiff}-@{rollVarAsset}-@{rollVarRollEff})*3-(1*@{rollVarBonus})]]}} {{totalCost=[[@{SpeedCost}]]}} {{effortCost=[[@{effortSpeedCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[@{rollVarRollDmg}]]}} {{statExpense=[[@{rollVarCost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[@{rollVarRollDmg}*3]]}}"
                                            name="roll_actionSpeedCheck"></button>
                                        <button type="roll" class="sheet-macrobt" title="Jet de Célérité"
                                            value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=speed}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=Célérité}} {{attrEdge=@{speededge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{rollQstCost}]]}} {{effortDmg=[[0]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-@{rollQstAsset}-@{rollQstRollEff}]]}} {{targNumRoll=[[(@{rollQstDiff}-@{rollQstAsset}-@{rollQstRollEff})*3-(1*@{rollQstBonus})]]}} {{totalCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+@{armorspeedcost}+ceil(@{damage-track}/4))-@{speededge}]]}} {{effortCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+@{armorspeedcost}+ceil(@{damage-track}/4))]]}} {{bonusDmg=[[0]]}}"
                                            name="roll_macroSpeedCheck"></button>
                                    </div>
                                </td>
                                <td COLSPAN="2" VALIGN="top">
                                    <div class="sheet-text1">INTELLECT</div>
                                    <div>
                                        <input type="number" style="height: 120%;font-weight:bold; font-size:120%; color:#6D0100;" name="attr_intellect" title="Valeur courante" min="0" value="7" />
                                        <button type="roll" class="sheet-actionbt" title="Jet d'Intellect"
                                            value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=intellect}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=Intellect}} {{attrEdge=@{intellectedge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-@{rollVarAsset}-@{rollVarRollEff}]]}} {{targNumRoll=[[(@{rollVarDiff}-@{rollVarAsset}-@{rollVarRollEff})*3-(1*@{rollVarBonus})]]}} {{totalCost=[[@{IntelCost}]]}} {{effortCost=[[@{effortCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[@{rollVarRollDmg}]]}} {{statExpense=[[@{rollVarCost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[@{rollVarRollDmg}*3]]}}"
                                            name="roll_actionIntellectCheck"></button>
                                        <button type="roll" class="sheet-macrobt" title="Jet d'Intellect"
                                            value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=intellect}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=Intellect}} {{attrEdge=@{intellectedge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{rollQstCost}]]}} {{effortDmg=[[0]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-@{rollQstAsset}-@{rollQstRollEff}]]}} {{targNumRoll=[[(@{rollQstDiff}-@{rollQstAsset}-@{rollQstRollEff})*3-(1*@{rollQstBonus})]]}} {{totalCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))+@{rollQstCost}-@{intellectedge}]]}} {{effortCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))]]}} {{bonusDmg=[[0]]}}"
                                            name="roll_macroIntellectCheck"></button>
                                    </div>
                                </td>
                            </tr>
                            <tr style="border-top: 1px solid #EFEFF5;">
                                <td VALIGN="top" style="border-right: 1px solid #EFEFF5;">
                                    <input type="number" name="attr_might_max" title="Valeur maximum" min="0" value="11" />
                                    <div class="sheet-text2">RÉSERVE</div>
                                </td>
                                <td VALIGN="top" style="border-right: 1px solid #22428F;">
                                    <input type="number" name="attr_mightedge" value="1" min="-6" max="6" title="Avantage de Puissance" />
                                    <div class="sheet-text2">AVANT.</div>
                                </td>
                                <td VALIGN="top" style="border-right: 1px solid #EFEFF5;">
                                    <input type="number" name="attr_speed_max"  title="Valeur maximum" min="0" value="10" />
                                    <div class="sheet-text2">RÉSERVE</div>
                                </td>
                                <td VALIGN="top" style="border-right: 1px solid #22428F;">
                                    <input type="number" name="attr_speededge" value="1"  min="-6" max="6" title="Avantage de Célérité" />
                                    <div class="sheet-text2">AVANT.</div>
                                </td>
                                <td VALIGN="top" style="border-right: 1px solid #EFEFF5;">
                                    <input type="number" name="attr_intellect_max" title="Valeur maximum" min="0" value="7" />
                                    <div class="sheet-text2">RÉSERVE</div>
                                </td>
                                <td VALIGN="top">
                                    <input type="number" name="attr_intellectedge" value="0" min="-6" max="6"  title="Avantage d'Intellect" />
                                    <div class="sheet-text2">AVANT.</div>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div> <!-- END STATS -->
            <div class="sheet-divaction"> <!-- ACTION -->
                <div class="sheet-supblock">
                    <div class="sheet-blublock">
                        <div class="sheet-inpblock2">
                            <table> <!-- BEGIN stat roll -->
                                <tr>
                                    <td class="sheet-text1" style="text-align: left;">
                                        ACTION
                                        &nbsp;
                                        <button type="roll"
                                                class="sheet-apibt"
                                                title="Remise à zéro des paramètres de jet (API)"
                                                value="!cypher-resetaction @{character_id}"
                                                name="roll_resetaction">
                                        </button>
                                    </td>
                                    <td COLSPAN="5" class="sheet-text2" style="width: 100%;">
                                        Utiliser les
                                        <span style="font-family: dicefontd20; font-weight:bold;font-size:1.2em;">t</span>
                                        de Carac. ou Compétences
                                    </td>
                                </tr>
                                <tr>
                                    <td class="sheet-text2" style="text-align: right;">
                                        DIFFICULT&Eacute;
                                    </td>
                                    <td style="text-align: left;">
                                        <SELECT class="sheet-selaction" name="attr_rollVarDiff" title="Difficulté de l'action">
                                            <OPTION value="0" SELECTED>0 - Aucune/Inconnue</OPTION>
                                            <OPTION value="1">1 - Simple</OPTION>
                                            <OPTION value="2">2 - Standard</OPTION>
                                            <OPTION value="3">3 - Exigeant</OPTION>
                                            <OPTION value="4">4 - Difficile</OPTION>
                                            <OPTION value="5">5 - Éprouvant</OPTION>
                                            <OPTION value="6">6 - Intimidant</OPTION>
                                            <OPTION value="7">7 - Formidable</OPTION>
                                            <OPTION value="8">8 - Héroïque</OPTION>
                                            <OPTION value="9">9 - Immortel</OPTION>
                                            <OPTION value="10">10 - Impossible</OPTION>
                                        </SELECT>
                                    </td>
                                    <td class="sheet-text2" style="text-align: right;">
                                        EFF. (jet)
                                    </td>
                                    <td style="text-align: left;">
                                        <SELECT class="sheet-selaction" name="attr_rollVarRollEff"  title="Effort pour diminuer la difficulté">
                                            <OPTION value="0" SELECTED>0</OPTION>
                                            <OPTION value="1">1</OPTION>
                                            <OPTION value="2">2</OPTION>
                                            <OPTION value="3">3</OPTION>
                                            <OPTION value="4">4</OPTION>
                                            <OPTION value="5">5</OPTION>
                                            <OPTION value="6">6</OPTION>
                                        </SELECT>
                                    </td>
                                    <td class="sheet-text2" style="text-align: right;">
                                        EFF.(dég.)
                                    </td>
                                    <td style="text-align: left;">
                                        <SELECT class="sheet-selaction" name="attr_rollVarRollDmg"  title="Effort pour augmenter les dégâts">
                                            <OPTION value="0" SELECTED>0</OPTION>
                                            <OPTION value="1">1</OPTION>
                                            <OPTION value="2">2</OPTION>
                                            <OPTION value="3">3</OPTION>
                                            <OPTION value="4">4</OPTION>
                                            <OPTION value="5">5</OPTION>
                                            <OPTION value="6">6</OPTION>
                                        </SELECT>
                                    </td>
                                </tr>
                                <tr>
                                    <td class="sheet-text2" style="text-align: right;">
                                        <div class="sheet-UseAsset">ATOUT</div>
                                    </td>
                                    <td  class="sheet-text2" style="text-align: left;">
                                        <div class="sheet-UseAsset">
                                            <SELECT class="sheet-selaction" name="attr_rollVarAsset"  title="Atout(s) : aide, position, équipement etc. (0, 1 ou 2 maximum)">
                                                <OPTION value="0" SELECTED>0</OPTION>
                                                <OPTION value="1">1</OPTION>
                                                <OPTION value="2">2</OPTION>
                                            </SELECT>
                                        </div>
                                    </td>
                                    <td class="sheet-text2" style="text-align: right;">
                                        <div class="sheet-UseBonus">BONUS</div>
                                    </td>
                                    <td style="text-align: left;">
                                        <div class="sheet-UseBonus">
                                            <SELECT class="sheet-selaction" name="attr_rollVarBonus"  title="Bonus/Malus au JET (de -2 à +2, au-delà utiliser un atout ou augmenter la difficulté)">
                                                <OPTION value="-2">-2</OPTION>
                                                <OPTION value="-1">-1</OPTION>
                                                <OPTION value="0" SELECTED>0</OPTION>
                                                <OPTION value="1">1</OPTION>
                                                <OPTION value="2">2</OPTION>
                                            </SELECT>
                                        </div>
                                    </td>
                                    <td class="sheet-text2" style="text-align: right;">
                                        <div class="sheet-UseCost">CO&Ucirc;T</div>
                                    </td>
                                    <td style="text-align: left;">
                                        <div class="sheet-UseCost">
                                            <SELECT class="sheet-selaction" name="attr_rollVarCost" title="Co&ucirc;t suppl&eacute;mentaire (pouvoir, aptitude)">
                                                <OPTION value="0" SELECTED>0</OPTION>
                                                <OPTION value="1">1</OPTION>
                                                <OPTION value="2">2</OPTION>
                                                <OPTION value="3">3</OPTION>
                                                <OPTION value="4">4</OPTION>
                                                <OPTION value="5">5</OPTION>
                                                <OPTION value="6">6</OPTION>
                                                <OPTION value="7">7</OPTION>
                                                <OPTION value="8">8</OPTION>
                                                <OPTION value="9">9</OPTION>
                                                <OPTION value="10">10</OPTION>
                                                <OPTION value="11">11</OPTION>
                                                <OPTION value="12">12</OPTION>
                                            </SELECT>
                                        </div>
                                    </td>
                                </tr>
                            </table>
                        </div>
                    </div>
                </div>
            </div> <!-- END ACTION -->
            <div class="sheet-supblock"> <!-- DAMAGE -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock2">
                        <table>
                            <tr>
                                <td COLSPAN="2" VALIGN="top" style="border-right: 1px solid #22428F;">
                                    <div class="sheet-text1">JET DE GU&Eacute;RISON</div>
                                </td>
                                <td COLSPAN="2" VALIGN="top">
                                    <div class="sheet-text1">CURSEUR DE DÉGÂTS</div>
                                </td>
                            </tr>
                            <tr>
                                <td COLSPAN="2" VALIGN="top" style="border-right: 1px solid #22428F;">
                                    <span class="sheet-text2">1D6 + </span>
                                    <input type="number" name="attr_recoverybonus" style="width:30px;height:18px;padding:0px;" title="Bonus au jet de Guérison" min="1" value="1" />
                                    <button type="roll" class="sheet-basicbt" name="roll_FreeRecovery" title="Recovery Roll"
                                        value="&{template:cyphRecovery} {{charid=@{character_id}}} {{recoverPoints=1d6+@{recoverybonus} ([[1d6+@{recoverybonus}]])}} {{recovaction=[[@{recovery-rolls}]]}}">
                                    </button>
                                </td>
                                <td COLSPAN="2" VALIGN="top">
                                    <span class="sheet-text2">Spécial&nbsp;</span>
                                    <input style="width:30px;height:18px;padding:0px;" type="number" min="0" max="3" name="attr_SpecialDamage" title="Dégâts spéciaux ayant modifié le curseur de dégâts du PJ" value="0" />
                                    <button type="roll"
                                            class="sheet-apibt"
                                            title="Repos complet et total / réinitialisation du personnage (API)"
                                            value="!cypher-restchar @{character_id}|?{Repos total et complet, vraiment ?|Oui}"
                                            name="roll_resetaction">
                                    </button>
                                </td>
                            </tr>
                            <tr>
                                <td style="text-align: left;">
                                    <input type="radio" name="attr_recovery-rolls" value="0" checked="checked" />
                                    <span class="sheet-text2">1 ACTION</span>
                                </td>
                                <td style="border-right: 1px solid #22428F;text-align: left;">
                                    <input type="radio" name="attr_recovery-rolls" value="1" />
                                    <span class="sheet-text2">10 MIN.</span>
                                </td>
                                <td style="text-align: left;">
                                    <input type="radio" name="attr_damage-track" value="0" checked="checked" />
                                    <span class="sheet-text2">PLEINE FORME</span>
                                </td>
                                <td style="text-align: left;">
                                    <input type="radio" name="attr_damage-track" value="1" />
                                    <span class="sheet-text2">AFFAIBLI</span>
                                </td>
                            </tr>
                            <tr style="text-align: left;">
                                <td style="text-align: left;">
                                    <input type="radio" name="attr_recovery-rolls" value="2" />
                                    <span class="sheet-text2">1 HEURE</span>
                                </td>
                                <td style="border-right: 1px solid #22428F;text-align: left;">
                                    <input type="radio" name="attr_recovery-rolls" value="3" />
                                    <span class="sheet-text2">10 HEURES</span>
                                </td>
                                <td style="text-align: left;">
                                    <input type="radio" name="attr_damage-track" value="2" />
                                    <span class="sheet-text2">NEUTRALISÉ</span>
                                </td>
                                <td style="text-align: left;">
                                    <input type="radio" name="attr_damage-track" value="3" />
                                    <span class="sheet-text2">MORT</span>
                                </td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div> <!-- END Damage -->
            <div class="sheet-supblock">  <!-- SPECIAL ABIILITIES -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">APTITUDES SP&Eacute;CIALES</div>
                        <fieldset class="repeating_abilities">
                            <div class="sheet-text2" style="text-align:left;">
                                <button type="roll" name="ShowAbility" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=@{abilityname}}} {{type=Aptitude}} {{use=@{abilityuse}}} {{description=@{abilitydesc}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                                <input type="text" style="width: 210px;font-weight: bold;" name="attr_abilityname" title="Nom de l'aptitude" placeholder="Nom" />
                                <select name="attr_abilityuse" style="width: 85px;" title="Condition nécessaire à son utilisation : Facilitateur, Action, Une fois par jour etc.">
                                    <option selected="selected">Action</option>
                                    <option>Facilitateur</option>
                                    <option>Autre</option>
                                </select>
                            </div>
                            <div style="text-align: right;">
                                <input type="checkbox" name="attr_abilitychkdesc" class="sheet-dispcheck" value="1" title="Agrandir/Réduire la description" /><span>s</span>
                                <textarea name="attr_abilitydesc" class="sheet-textdesc" style="width: 295px;" title="Description de l'aptitude" placeholder="Description de l'aptitude"></textarea>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END SPECIAL ABIILITIES -->
            <div class="sheet-supblock"> <!-- BACKGROUND  -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">HISTORIQUE</div>
                        <textarea name="attr_background" style="height: 100px; width: 100%;" title="Historique"></textarea>
                    </div>
                </div>
            </div> <!-- END BACKGROUND -->
        </td> <!-- END COL 1 -->
        <!-- ******* COL 2 **************** -->
        <td width="352px" valign="top"> <!-- COL 2 -->
            <div class="sheet-supblock"> <!-- MIGHT SKILLS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock2">
                        <div class="sheet-text1" style="text-align: left;">COMP&Eacute;TENCES • PUISSANCE</div>
                        <fieldset class="repeating_skillmight">
                            <div style="margin-bottom: 2px; text-align: left;">
                                <button type="roll" class="sheet-actionbt" title="Jet de Compétence de Puissance"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=might}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{skillmightname}}} {{attrEdge=@{mightedge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-(1*@{rollVarAsset})-(1*@{rollVarRollEff})-(1*@{skillmightlvl})]]}} {{targNumRoll=[[(3*@{rollVarDiff})-(3*@{rollVarAsset})-(3*@{rollVarRollEff})-(3*@{skillmightlvl})-(1*@{rollVarBonus})]]}} {{totalCost=[[@{MightCost}]]}} {{effortCost=[[@{effortCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[0]]}} {{statExpense=[[@{rollVarCost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[0]]}} {{skilled=[[@{skillmightlvl}]]}}"
                                    name="roll_actionMightSkillCheck"></button>
                                <button type="roll" class="sheet-macrobt" title="Jet de Compétence de Puissance"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=might}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{skillmightname}}} {{attrEdge=@{mightedge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{rollQstCost}]]}} {{effortDmg=[[0]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-(1*@{rollQstAsset})-(1*@{rollQstRollEff})-(1*@{skillmightlvl})]]}} {{targNumRoll=[[(3*@{rollQstDiff})-(3*@{rollQstAsset})-(3*@{rollQstRollEff})-(3*@{skillmightlvl})-(1*@{rollQstBonus})]]}} {{totalCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))+@{rollQstCost}-@{mightedge}]]}} {{effortCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))]]}} {{bonusDmg=[[0]]}} {{skilled=[[@{skillmightlvl}]]}}"
                                    name="roll_macroMightSkillCheck"></button>
                                <input type="text" style="width: 250px;" name="attr_skillmightname" title="Compétence" placeholder="Compétence de Puissance" />
                                <select  name="attr_skillmightlvl" style="width: 48px" title="I = Incapacité, N = Non entraîné, E = Entraîné, S = Spécialisé">
                                    <option value="-1">I&nbsp;&nbsp;&nbsp;&nbsp;Incapacité</option>
                                    <option value="0" selected>N&nbsp;&nbsp;&nbsp;&nbsp;Non entraîné</option>
                                    <option value="1">E&nbsp;&nbsp;&nbsp;&nbsp;Entraîné</option>
                                    <option value="2">S&nbsp;&nbsp;&nbsp;&nbsp;Spécialisé</option>
                                </select>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END MIGHT SKILLS -->
            <div class="sheet-supblock"> <!-- SPEED SKILLS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock2">
                        <div class="sheet-text1" style="text-align: left;">COMP&Eacute;TENCES • CÉLÉRITÉ</div>
                        <div style="margin-bottom: 2px; text-align: left;"> <!-- INITIATIVE -->
                            <button type="roll" class="sheet-actionbt" title="Jet d'Initiative"
                            value="&{template:cyphInit} {{charid=@{character_id}}} {{stat=speed}} {{skilled=[[@{InitVarSkill}*3]]}} {{finalRoll=[[1d20+(@{rollVarRollEff}*3)+(@{InitVarSkill}*3)+(@{rollVarAsset}*3)+(1*@{rollVarBonus}) &{tracker}]]}}  {{bonusToRoll=[[@{rollVarBonus}]]}} {{speedEdge=[[@{speededge}]]}} {{effortsUsed=[[@{rollVarRollEff}]]}}  {{assets=[[@{rollVarAsset}]]}} {{effortCost=[[ceil(@{rollVarRollEff}/6)+@{rollVarRollEff}*(2+@{armorspeedcost})]]}} {{statExpense=[[@{rollVarCost}]]}} {{totalCost=[[ceil(@{rollVarRollEff}/6)+@{rollVarRollEff}*(2+@{armorspeedcost})+@{rollVarCost}-@{speededge}]]}}"
                            name="roll_actionInitCheck"></button>
                            <button type="roll" class="sheet-macrobt" title="Jet d'Initiative"
                            value="&{template:cyphInit} {{charid=@{character_id}}} {{stat=speed}} {{skilled=[[@{InitVarSkill}*3]]}} {{finalRoll=[[1d20+(@{rollQstRollEff}*3)+(@{InitVarSkill}*3)+(@{rollQstAsset}*3)+(1*@{rollQstBonus}) &{tracker}]]}}  {{bonusToRoll=[[@{rollQstBonus}]]}} {{speedEdge=[[@{speededge}]]}} {{effortsUsed=[[@{rollQstRollEff}]]}}  {{assets=[[@{rollQstAsset}]]}} {{effortCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+@{armorspeedcost})]]}} {{statExpense=[[@{rollQstCost}]]}} {{totalCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+@{armorspeedcost})+@{rollQstCost}-@{speededge}]]}}"
                            name="roll_macroInitCheck"></button>
                            <input type="text" style="width: 250px;" name="" style="background: #E1E1EE;font-weight: bold;" title="Compétence" value="Initiative" disabled />
                            <select  name="attr_InitVarSkill" style="width: 48px" title="I = Incapacité, N = Non entraîné, E = Entraîné, S = Spécialisé">
                                    <option value="-1">I&nbsp;&nbsp;&nbsp;&nbsp;Incapacité</option>
                                    <option value="0" selected>N&nbsp;&nbsp;&nbsp;&nbsp;Non entraîné</option>
                                    <option value="1">E&nbsp;&nbsp;&nbsp;&nbsp;Entraîné</option>
                                    <option value="2">S&nbsp;&nbsp;&nbsp;&nbsp;Spécialisé</option>
                                </select>
                        </div> <!-- END INITIATIVE -->
                        <fieldset class="repeating_skillspeed">
                            <div style="margin-bottom: 2px; text-align: left;">
                                <button type="roll" class="sheet-actionbt" title="Jet de Compétence de Célérité"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=speed}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{skillspeedname}}} {{attrEdge=@{speededge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-(1*@{rollVarAsset})-(1*@{rollVarRollEff})-(1*@{skillspeedlvl})]]}} {{targNumRoll=[[(3*@{rollVarDiff})-(3*@{rollVarAsset})-(3*@{rollVarRollEff})-(3*@{skillspeedlvl})-(1*@{rollVarBonus})]]}} {{totalCost=[[@{SpeedCost}]]}} {{effortCost=[[@{effortSpeedCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[0]]}} {{statExpense=[[@{rollVarCost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[0]]}} {{skilled=[[@{skillspeedlvl}]]}}"
                                     name="roll_actionSpeedSkillCheck"></button>
                                <button type="roll" class="sheet-macrobt" title="Jet de Compétence de Célérité"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=speed}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{skillspeedname}}} {{attrEdge=@{speededge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{rollQstCost}]]}} {{effortDmg=[[0]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-(1*@{rollQstAsset})-(1*@{rollQstRollEff})-(1*@{skillspeedlvl})]]}} {{targNumRoll=[[(3*@{rollQstDiff})-(3*@{rollQstAsset})-(3*@{rollQstRollEff})-(3*@{skillspeedlvl})-(1*@{rollQstBonus})]]}} {{totalCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+@{armorspeedcost}+ceil(@{damage-track}/4))-@{speededge}]]}} {{effortCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+@{armorspeedcost}+ceil(@{damage-track}/4))]]}} {{bonusDmg=[[0]]}} {{skilled=[[@{skillspeedlvl}]]}}"
                                     name="roll_macroSpeedSkillCheck"></button>
                                <input type="text" style="width: 250px;" name="attr_skillspeedname" title="Compétence" placeholder="Compétence de Célérité" />
                                <select  name="attr_skillspeedlvl" style="width: 48px" title="I = Incapacité, N = Non entraîné, E = Entraîné, S = Spécialisé">
                                    <option value="-1">I&nbsp;&nbsp;&nbsp;&nbsp;Incapacité</option>
                                    <option value="0" selected>N&nbsp;&nbsp;&nbsp;&nbsp;Non entraîné</option>
                                    <option value="1">E&nbsp;&nbsp;&nbsp;&nbsp;Entraîné</option>
                                    <option value="2">S&nbsp;&nbsp;&nbsp;&nbsp;Spécialisé</option>
                                </select>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END SPEED SKILLS -->
            <div class="sheet-supblock"> <!-- INTEL SKILLS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock2">
                        <div class="sheet-text1" style="text-align: left;">COMP&Eacute;TENCES • INTELLECT</div>
                        <fieldset class="repeating_skillintel">
                            <div style="margin-bottom: 2px; text-align: left;">
                                <button type="roll" class="sheet-actionbt" title="Jet de Compétence d'Intellect"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=intellect}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{skillintelname}}} {{attrEdge=@{intellectedge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-(1*@{rollVarAsset})-(1*@{rollVarRollEff})-(1*@{skillintellvl})]]}} {{targNumRoll=[[(3*@{rollVarDiff})-(3*@{rollVarAsset})-(3*@{rollVarRollEff})-(3*@{skillintellvl})-(1*@{rollVarBonus})]]}} {{totalCost=[[@{IntelCost}]]}} {{effortCost=[[@{effortCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[0]]}} {{statExpense=[[@{rollVarCost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[0]]}} {{skilled=[[@{skillintellvl}]]}}"
                                    name="roll_actionIntellectCheck"></button>
                                <button type="roll" class="sheet-macrobt" title="Jet de Compétence d'Intellect"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=intellect}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{skillintelname}}} {{attrEdge=@{intellectedge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{rollQstCost}]]}} {{effortDmg=[[0]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-(1*@{rollQstAsset})-(1*@{rollQstRollEff})-(1*@{skillintellvl})]]}} {{targNumRoll=[[(3*@{rollQstDiff})-(3*@{rollQstAsset})-(3*@{rollQstRollEff})-(3*@{skillintellvl})-(1*@{rollQstBonus})]]}} {{totalCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))+@{rollQstCost}-@{intellectedge}]]}} {{effortCost=[[ceil(@{rollQstRollEff}/6)+@{rollQstRollEff}*(2+ceil(@{damage-track}/4))]]}} {{bonusDmg=[[0]]}} {{skilled=[[@{skillintellvl}]]}}"
                                    name="roll_macroIntellectSkillCheck"></button>
                                <input type="text" style="width: 250px;" name="attr_skillintelname" title="Compétence" placeholder="Compétence d'Intellect" />
                                <select  name="attr_skillintellvl" style="width: 48px" title="I = Incapacité, N = Non entraîné, E = Entraîné, S = Spécialisé">
                                    <option value="-1">I&nbsp;&nbsp;&nbsp;&nbsp;Incapacité</option>
                                    <option value="0" selected>N&nbsp;&nbsp;&nbsp;&nbsp;Non entraîné</option>
                                    <option value="1">E&nbsp;&nbsp;&nbsp;&nbsp;Entraîné</option>
                                    <option value="2">S&nbsp;&nbsp;&nbsp;&nbsp;Spécialisé</option>
                                </select>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END INTEL SKILLS -->
    <!-- *** ATTACKS *** -->
            <div class="sheet-supblock"> <!-- MIGHT ATTACKS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">ATTAQUES • PUISSANCE</div>
                        <fieldset class="repeating_attackmight">
                            <div>
                                <button type="roll" class="sheet-macrobt" title="Jet d'attaque de Puissance"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=might}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{atkmightname}}} {{attrEdge=@{mightedge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{atkmightcost}]]}} {{effortDmg=[[@{rollQstRollDmg}]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-(1*@{rollQstAsset})-(1*@{rollQstRollEff})-(1*@{atkmightlvl})-(1*@{atkmightmod})]]}} {{targNumRoll=[[(3*@{rollQstDiff})-(3*@{rollQstAsset})-(3*@{rollQstRollEff})-(3*@{atkmightlvl})-(3*@{atkmightmod})-(1*@{rollQstBonus})]]}} {{totalCost=[[@{effortCostQst}+@{atkmightcost}-@{mightedge}]]}} {{effortCost=[[@{effortCostQst}]]}} {{bonusDmg=[[@{atkmightdmg}+@{rollQstRollDmg}*3]]}} {{skilled=[[@{atkmightlvl}]]}} {{atkmod=[[@{atkmightmod}]]}}"
                                    name="roll_macroMightAttack"></button>
                                <button type="roll" class="sheet-actionbt" title="Jet d'attaque de Puissance"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=might}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{atkmightname}}} {{attrEdge=@{mightedge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-(1*@{rollVarAsset})-(1*@{rollVarRollEff})-(1*@{atkmightlvl})-(1*@{atkmightmod})]]}} {{targNumRoll=[[(3*@{rollVarDiff})-(3*@{rollVarAsset})-(3*@{rollVarRollEff})-(3*@{atkmightlvl})-(3*@{atkmightmod})-(1*@{rollVarBonus})]]}} {{totalCost=[[@{effortCost}+@{atkmightcost}-@{mightedge}]]}} {{effortCost=[[@{effortCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[@{rollVarRollDmg}]]}} {{statExpense=[[@{atkmightcost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[@{atkmightdmg}+@{rollVarRollDmg}*3]]}} {{skilled=[[@{atkmightlvl}]]}} {{atkmod=[[@{atkmightmod}]]}}"
                                    name="roll_actionMightAttack"></button>
                                <input type="text" style="width: 305px;font-weight: bold;" name="attr_atkmightname" title="Attaque : nom de l'arme ou de l'aptitude" placeholder="Attaque" />
                            </div>
                            <div class="sheet-text2" style="text-align: right;margin-bottom: 2px;">
                                <button type="roll" name="ShowMightAttack" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=@{atkmightname}}} {{type=Attaque}}  {{description=Mod:@{atkmightmod}, Dégâts:@{atkmightdmg}, Compétent:@{atkmightlvl}, Coût:@{atkmightcost}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                                Mod :
                                <input type="number" name="attr_atkmightmod" min="0" style="width:30px;" title="Modificateur : réduction de la difficulté au jet d'attaque" value="0" />
                                Dgt :
                                <input type="number" name="attr_atkmightdmg" min="0" style="width:40px;" title="Dégâts" value="0" />
                                Comp.:
                                <select  name="attr_atkmightlvl" style="width: 45px" title="Niveau de compétence dans cette attaque : I = Incapacité, N = Non entraîné, E = Entraîné, S = Spécialisé">
                                    <option value="-1">I&nbsp;&nbsp;&nbsp;&nbsp;Incapacité</option>
                                    <option value="0" selected>N&nbsp;&nbsp;&nbsp;&nbsp;Non entraîné</option>
                                    <option value="1">E&nbsp;&nbsp;&nbsp;&nbsp;Entraîné</option>
                                    <option value="2">S&nbsp;&nbsp;&nbsp;&nbsp;Spécialisé</option>
                                </select>
                                Coût :
                                <input type="number" name="attr_atkmightcost" min="0" style="width:30px;" title="Coût d'utilisation de l'attaque (en général dû à l'utilisation combinée d'une Aptitude Spéciale" value="0" />
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END MIGHT ATTACKS -->
            <div class="sheet-supblock"> <!-- SPEED ATTACKS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">ATTAQUES • CÉLÉRITÉ</div>
                        <fieldset class="repeating_attackspeed">
                            <div>
                                <button type="roll" class="sheet-actionbt" title="Jet d'attaque de Célérité"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=speed}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{atkspeedname}}} {{attrEdge=@{speededge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-(1*@{rollVarAsset})-(1*@{rollVarRollEff})-(1*@{atkspeedlvl})-(1*@{atkspeedmod})]]}} {{targNumRoll=[[(3*@{rollVarDiff})-(3*@{rollVarAsset})-(3*@{rollVarRollEff})-(3*@{atkspeedlvl})-(3*@{atkspeedmod})-(1*@{rollVarBonus})]]}} {{totalCost=[[@{effortSpeedCost}+@{atkspeedcost}-@{speededge}]]}} {{effortCost=[[@{effortSpeedCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[@{rollVarRollDmg}]]}} {{statExpense=[[@{atkspeedcost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[@{atkspeeddmg}+@{rollVarRollDmg}*3]]}} {{skilled=[[@{atkspeedlvl}]]}} {{atkmod=[[@{atkspeedmod}]]}}"
                                    name="roll_actionSpeedAttack"></button>
                                <button type="roll" class="sheet-macrobt" title="Jet d'attaque de Célérité"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=speed}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{atkspeedname}}} {{attrEdge=@{speededge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{atkspeedcost}]]}} {{effortDmg=[[@{rollQstRollDmg}]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-(1*@{rollQstAsset})-(1*@{rollQstRollEff})-(1*@{atkspeedlvl})-(1*@{atkspeedmod})]]}} {{targNumRoll=[[(3*@{rollQstDiff})-(3*@{rollQstAsset})-(3*@{rollQstRollEff})-(3*@{atkspeedlvl})-(3*@{atkspeedmod})-(1*@{rollQstBonus})]]}} {{totalCost=[[@{effortSpeedCostQst}+@{atkspeedcost}-@{speededge}]]}} {{effortCost=[[@{effortSpeedCostQst}]]}} {{bonusDmg=[[@{atkspeeddmg}+@{rollQstRollDmg}*3]]}} {{skilled=[[@{atkspeedlvl}]]}} {{atkmod=[[@{atkspeedmod}]]}}"
                                    name="roll_macroSpeedAttack"></button>
                                <input type="text" style="width: 305px;font-weight: bold;" name="attr_atkspeedname" title="Attaque : nom de l'arme ou de l'aptitude" placeholder="Attaque" />
                            </div>
                            <div class="sheet-text2" style="text-align: right;margin-bottom: 2px;">
                                <button type="roll" name="ShowSpeedAttack" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=@{atkspeedname}}} {{type=Attaque}}  {{description=Mod:@{atkspeedmod}, Dégâts:@{atkspeeddmg}, Compétent:@{atkspeedlvl}, Coût:@{atkspeedcost}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                                Mod :
                                <input type="number" name="attr_atkspeedmod" min="0" style="width:30px;" title="Modificateur : réduction de la difficulté au jet d'attaque" value="0" />
                                Dgt :
                                <input type="number" name="attr_atkspeeddmg" min="0" style="width:40px;" title="Dégâts" value="0" />
                                Comp.:
                                <select  name="attr_atkspeedlvl" style="width: 45px" title="Niveau de compétence dans cette attaque : I = Incapacité, N = Non entraîné, E = Entraîné, S = Spécialisé">
                                    <option value="-1">I&nbsp;&nbsp;&nbsp;&nbsp;Incapacité</option>
                                    <option value="0" selected>N&nbsp;&nbsp;&nbsp;&nbsp;Non entraîné</option>
                                    <option value="1">E&nbsp;&nbsp;&nbsp;&nbsp;Entraîné</option>
                                    <option value="2">S&nbsp;&nbsp;&nbsp;&nbsp;Spécialisé</option>
                                </select>
                                Coût :
                                <input type="number" name="attr_atkspeedcost" min="0" style="width:30px;" title="Coût d'utilisation de l'attaque (en général dû à l'utilisation combinée d'une Aptitude Spéciale" value="0" />
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END SPEED ATTACKS -->
            <div class="sheet-supblock"> <!-- INTELLECT ATTACKS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">ATTAQUES • INTELLECT</div>
                        <fieldset class="repeating_attackintel">
                            <div>
                                <button type="roll" class="sheet-actionbt" title="Jet d'attaque d'Intellect"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=intellect}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{atkintelname}}} {{attrEdge=@{intellectedge}}} {{bonusToRoll=[[@{rollVarBonus}]]}} {{difficulty=[[@{rollVarDiff}]]}} {{targNum=[[@{targNum}]]}} {{finalDiff=[[@{rollVarDiff}-(1*@{rollVarAsset})-(1*@{rollVarRollEff})-(1*@{atkintellvl})-(1*@{atkintelmod})]]}} {{targNumRoll=[[(3*@{rollVarDiff})-(3*@{rollVarAsset})-(3*@{rollVarRollEff})-(3*@{atkintellvl})-(3*@{atkintelmod})-(1*@{rollVarBonus})]]}} {{totalCost=[[@{effortCost}+@{atkintelcost}-@{intellectedge}]]}} {{effortCost=[[@{effortCost}]]}} {{effortRoll=[[@{rollVarRollEff}]]}} {{effortDmg=[[@{rollVarRollDmg}]]}} {{statExpense=[[@{atkintelcost}]]}} {{assets=[[@{rollVarAsset}]]}} {{bonusDmg=[[@{atkinteldmg}+@{rollVarRollDmg}*3]]}} {{skilled=[[@{atkintellvl}]]}} {{atkmod=[[@{atkintelmod}]]}}"
                                    name="roll_actionIntelAttack"></button>

                                <button type="roll" class="sheet-macrobt" title="Jet d'attaque d'Intellect"
                                    value="&{template:cyphBasicRoll} {{charid=@{character_id}}} {{stat=intellect}} {{diceRoll=[[1d20cs>17cf1]]}} {{attribute=@{atkintelname}}} {{attrEdge=@{intellectedge}}} {{difficulty=[[@{rollQstDiff}]]}} {{effortRoll=[[@{rollQstRollEff}]]}} {{assets=[[@{rollQstAsset}]]}} {{bonusToRoll=[[@{rollQstBonus}]]}} {{statExpense=[[@{atkintelcost}]]}} {{effortDmg=[[@{rollQstRollDmg}]]}} {{targNum=[[@{targNumQst}]]}} {{finalDiff=[[@{rollQstDiff}-(1*@{rollQstAsset})-(1*@{rollQstRollEff})-(1*@{atkintellvl})-(1*@{atkintelmod})]]}} {{targNumRoll=[[(3*@{rollQstDiff})-(3*@{rollQstAsset})-(3*@{rollQstRollEff})-(3*@{atkintellvl})-(3*@{atkintelmod})-(1*@{rollQstBonus})]]}} {{totalCost=[[@{effortCostQst}+@{atkintelcost}-@{intellectedge}]]}} {{effortCost=[[@{effortCostQst}]]}} {{bonusDmg=[[@{atkinteldmg}+@{rollQstRollDmg}*3]]}} {{skilled=[[@{atkintellvl}]]}} {{atkmod=[[@{atkintelmod}]]}}"
                                    name="roll_macroIntelAttack"></button>
                                <input type="text" style="width: 305px;font-weight: bold;" name="attr_atkintelname" title="Attaque : nom de l'arme ou de l'aptitude" placeholder="Attaque" />
                            </div>
                            <div class="sheet-text2" style="text-align: right;margin-bottom: 2px;">
                                <button type="roll" name="ShowIntelAttack" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=@{atkintelname}}} {{type=Attaque}}  {{description=Mod:@{atkintelmod}, Dégâts:@{atkinteldmg}, Compétent:@{atkintellvl}, Coût:@{atkintelcost}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                                Mod :
                                <input type="number" name="attr_atkintelmod" min="0" style="width:30px;" title="Modificateur : réduction de la difficulté au jet d'attaque" value="0" />
                                Dgt :
                                <input type="number" name="attr_atkinteldmg" min="0" style="width:40px;" title="Dégâts" value="0" />
                                Comp.:
                                <select  name="attr_atkintellvl" style="width: 45px" title="Niveau de compétence dans cette attaque : I = Incapacité, N = Non entraîné, E = Entraîné, S = Spécialisé">
                                    <option value="-1">I&nbsp;&nbsp;&nbsp;&nbsp;Incapacité</option>
                                    <option value="0" selected>N&nbsp;&nbsp;&nbsp;&nbsp;Non entraîné</option>
                                    <option value="1">E&nbsp;&nbsp;&nbsp;&nbsp;Entraîné</option>
                                    <option value="2">S&nbsp;&nbsp;&nbsp;&nbsp;Spécialisé</option>
                                </select>
                                Coût :
                                <input type="number" name="attr_atkintelcost" min="0" style="width:30px;" title="Coût d'utilisation de l'attaque (en général dû à l'utilisation combinée d'une Aptitude Spéciale" value="0" />
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END INTELLECT ATTACKS -->
            <div class="sheet-supblock"> <!-- WEAPONS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock2">
                        <table>
                            <tr>
                                <td class="sheet-text1" style="text-align: left;">ARMES</td>
                                <td class="sheet-text2" style="width: 30px;text-align: center;">MOD</td>
                                <td class="sheet-text2" style="width: 50px;text-align: center;">DEG</td>
                            </tr>
                        </table>
                        <fieldset class="repeating_attacks">
                            <table>
                                <tr>
                                    <td class="sheet-text1" style="text-align: left;">
                                        <input type="text" style="width: 240px;" name="attr_atkname" title="Attaque : nom de l'arme ou de l'aptitude" placeholder="Attaque" />
                                    </td>
                                    <td class="sheet-text2" style="width: 30px;text-align: center;">
                                        <input type="number" name="attr_atkmod" min="0" style="width:30px;" title="Modificateur" value="0" />
                                    </td>
                                    <td class="sheet-text2" style="width: 30px;text-align: center;">
                                        <input type="number" name="attr_atkdmg" min="0" style="width:50px;" title="Dégâts" value="0" />
                                    </td>
                                </tr>
                            </table>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END OTHER ATTACKS -->
            <div class="sheet-supblock"> <!-- ADVANCEMENT -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock2">
                        <div class="sheet-text1" style="text-align: left;">AVANCEMENT</div>
                        <table>
                            <tr>
                                <td colspan="2" class="sheet-text2">Rang 1</td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers1-1" placeholder="Rang 1 étape n°1" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers1-2" placeholder="Rang 1 étape n°2" /></td>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers1-3" placeholder="Rang 1 étape n°3" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers1-4" placeholder="Rang 1 étape n°4" /></td>
                            </tr>
                            <tr>
                                <td colspan="2" class="sheet-text2">Rang 2</td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers2-1" placeholder="Rang 2 étape n°1" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers2-2" placeholder="Rang 2 étape n°2" /></td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers2-3" placeholder="Rang 2 étape n°3" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers2-4" placeholder="Rang 2 étape n°4" /></td>
                            </tr>
                            <tr>
                                <td colspan="2" class="sheet-text2">Rang 3</td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers3-1" placeholder="Rang 3 étape n°1" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers3-2" placeholder="Rang 3 étape n°2" /></td>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers3-3" placeholder="Rang 3 étape n°3" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers3-4" placeholder="Rang 3 étape n°4" /></td>
                            </tr>
                            <tr>
                                <td colspan="2" class="sheet-text2">Rang 4</td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers4-1" placeholder="Rang 4 étape n°1" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers4-2" placeholder="Rang 4 étape n°2" /></td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers4-3" placeholder="Rang 4 étape n°3" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers4-4" placeholder="Rang 4 étape n°4" /></td>
                            </tr>
                            <tr>
                            <tr>
                                <td colspan="2" class="sheet-text2">Rang 5</td>
                            </tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers5-1" placeholder="Rang 5 étape n°1" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers5-2" placeholder="Rang 5 étape n°2" /></td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers5-3" placeholder="Rang 5 étape n°3" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers5-4" placeholder="Rang 5 étape n°4" /></td>
                            </tr>
                            <tr>
                                <td colspan="2" class="sheet-text2">Rang 6</td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers6-1" placeholder="Rang 6 étape n°1" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers6-2" placeholder="Rang 6 étape n°2" /></td>
                            </tr>
                            <tr>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers6-3" placeholder="Rang 6 étape n°3" /></td>
                                <td><input type="text" style="width: 160px;"name="attr_adv-tiers6-4" placeholder="Rang 6 étape n°4" /></td>
                            </tr>
                        </table>
                    </div>
                </div>
            </div> <!-- END ADVANCEMENT -->
        </td> <!-- END COL 2 -->
        <!-- ******* COL 3 **************** -->
        <td valign="top"> <!-- COL 3 -->
            <img class="sheet-gamelogoCypher" src="https://lh4.googleusercontent.com/-T_PWRmd-TxE/Vfs9cEqYWbI/AAAAAAAAW0I/rUC1JdU-UXg/w900-h263/Roll20_cypher_logo.png" />
            <img class="sheet-gamelogoNumenera" src="http://upload.wikimedia.org/wikipedia/en/8/8e/Numenera_Logo.png" />
            <img class="sheet-gamelogoTheStrange" src="http://www.thestrangerpg.com/wp-content/uploads/2013/10/The-Strange-Logo-Color-Large.png" />
            <div class="sheet-supblock"> <!-- CYPHERS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <table>
                            <tr>
                                <td class="sheet-text1" style="text-align: left;">CYPHERS</td>
                                <td class="sheet-text2" style="width: 50px;text-align: right;">LIMITE</td>
                                <td style="width: 50px;text-align: left;">
                                    <input type="number" name="attr_cypher-limit" value="2"  min="0" />
                                </td>
                            </tr>
                        </table>
                        <fieldset class="repeating_cypher-list">
                            <div class="sheet-text2" style="text-align: left;">
                                <button type="roll" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=@{cypher-name}}} {{type=Cypher}} {{level=@{cypher-level}}} {{description=@{cypher-description}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                                <input type="text" style="width: 230px;font-weight: bold;" name="attr_cypher-name" title="Nom du cypher" placeholder="Cypher" />
                                Niv.
                                <input type="number" style="width: 40px;" name="attr_cypher-level" title="Niveau du Cypher" min="0" value="1" />
                            </div>
                            <div class="sheet-text2" style="text-align: right;margin-left:2px;margin-bottom: 2px;">
                                <input type="checkbox" class="sheet-dispcheck" name="attr_cypher-chkdesc" value="1" title="Agrandir/Réduire la description" /><span>s</span>
                                <textarea class="sheet-textdesc" name="attr_cypher-description" style="width: 295px;" title="Description du Cypher" placeholder="Description"></textarea>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END CYPHERS -->
            <div class="sheet-supblock"> <!-- ARTEFACTS -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">ART&Eacute;FACTS</div>
                        <fieldset class="repeating_artifact-list">
                            <div class="sheet-text2" style="text-align: left;">
                                <button type="roll" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=@{artifact-name}}} {{type=Artéfact}} {{level=@{artifact-level}}} {{depletion=@{artdepthreshold} sur @{artdepdice}}} {{description=@{artifact-description}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                                <input type="text" style="width: 230px;font-weight: bold;" name="attr_artifact-name" title="Nom de l'artefact" placeholder="Artéfact" />
                                Niv.
                                <input type="number" style="width: 40px;" name="attr_artifact-level" title="Niveau de l'artefact" min="0" max="99" value="1" />
                            </div>
                            <div class="sheet-text2" style="text-align: right;">
                                <button type="roll" class="sheet-basicbt" name="roll_artifactDepletion" title="Jet d'&Eacute;puisement"
                                    value="&{template:cyphRecovery} {{depletionRoll=[[@{artdepdice}cf<@{artdepthreshold}]]}} {{dice=@{artdepdice}}} {{threshold=[[@{artdepthreshold}]]}} {{artifact=@{artifact-name}}}"></button>
                                &Eacute;puisement&nbsp;
                                <input type="number" min="0" max="99" name="attr_artdepthreshold" title="Risque d'&eacute;puisement de l'artefact (ex :  1 sur 1d20)" value="1" />
                                sur
                                <select style="width: 110px;text-align: right;" name="attr_artdepdice" title="">
                                    <option value="100">— (jamais)</option>
                                    <option value="0">Automatique</option>
                                    <option value="1d6">1d6</option>
                                    <option value="1d10">1d10</option>
                                    <option value="1d20" SELECTED="SELECTED">1d20</option>
                                    <option value="1d100">1d100</option>
                                </select>
                            </div>
                            <div class="sheet-text2" style="text-align: right;margin-left:2px; margin-bottom: 2px;">
                                <input type="checkbox" class="sheet-dispcheck" name="attr_artifactchkdesc" value="1" title="Agrandir/Réduire la description" /><span>s</span>
                                <textarea name="attr_artifact-description" class="sheet-textdesc" style="width: 295px;" title="Description" placeholder="Description"></textarea>
                            </div>
                        </fieldset>
                    </div>
                </div>
            </div> <!-- END ARTEFACTS -->
            <div class="sheet-supblock"> <!-- EQUIPMENT -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">&Eacute;QUIPEMENT</div>
                        <table>
                            <tr>
                                <td class="sheet-text2" style="text-align: right;">ARGENT</td>
                                <td style="width: 100px;text-align: left;">
                                    <input type="number" style="width: 100px" name="attr_shins" value="0" />
                                </td>
                                <td COLSPAN="2"></td>
                            </tr>
                            <tr>
                                <td class="sheet-text2" style="text-align: right;">ARMURE</td>
                                <td style="width: 50px;text-align: left;">
                                    <input type="number" name="attr_armor" min="0" value="0" />
                                </td>
                                <td class="sheet-text2" style="text-align: right;">Coût d'Effort en Célérité</td>
                                <td style="width: 35px;text-align: left;">
                                    <input type="number" style="width: 35px" name="attr_armorspeedcost" value="0" min="0" max="3" title="Coût supplémentaire d'un effort de Célérité avec l'armure" />
                                </td>
                            </tr>
                        </table>
                        <table>
                            <tr>
                                <td class="sheet-text2" style="text-align: left;">CONSOMMABLE</td>
                                <td class="sheet-text2" style="width:50px;">Qté</td>
                            </tr>
                        </table>
                        <fieldset class="repeating_equipment-list">
                            <table>
                              <tr>
                                  <td style="width: 100%; text-align: left;">
                                    <button type="roll" name="ShowItem" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=Consommable}} {{type=&Eacute;quipement}} {{description=@{equipment-name}, Qté:@{equipment-qty}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                                    <input type="checkbox" class="sheet-dispcheck" name="attr_equipmentchkdesc" value="1" title="Agrandire/Réduire la description" /><span>s</span>
                                    <textarea name="attr_equipment-name" class="sheet-textdesc" style="width: 223px;" title="CONSOMMABLE" placeholder="CONSOMMABLE"></textarea>
                                  </td>
                                  <td>
                                    <input type="number" name="attr_equipment-qty" title="Quantité" value="1" />
                                  </td>
                              </tr>
                            </table>
                        </fieldset>
                        <div class="sheet-text2" style="text-align: left;">DIVERS
                            <button type="roll" name="ShowMiscEquip" class="sheet-btDesc" title="Montrer dans le chat" value="&{template:cyphDesc} {{name=Divers}}  {{type=&Eeacute;quipement}} {{description=@{possessions}}}"><img src="https://s3.amazonaws.com/files.d20.io/images/13924213/_SbpEpVjj9V7Dow_GKKYhQ/med.png?1448153028" style="width: 16px;height:16px;"/></button>
                        </div>
                        <textarea name="attr_possessions" style="height: 100px; width: 100%;" title="&Eacute;quipement divers"></textarea>
                    </div>
                </div>
            </div> <!-- END EQUIPMENT -->
            <div class="sheet-supblock"> <!-- NOTES attr_background -->
                <div class="sheet-blublock">
                    <div class="sheet-inpblock">
                        <div class="sheet-text1" style="text-align: left;">NOTES</div>
                        <textarea name="attr_notes" style="height: 200px; width: 100%;" title="Notes"></textarea>
                    </div>
                </div>
            </div> <!-- END NOTES -->
        </td> <!-- END COL 3 -->
        </tr>
    </table>
</div> <!-- END MAIN DIV -->
<!-- ******* NPC ******** -->
<div class="sheet-npc">
    <hr/>
    <div class="sheet-2colrow" width="100%">
        <div class="sheet-col" width="50%" align="left"> <!-- BEGIN Column 1 -->
            <table align="center" WIDTH="100%">
                <tr>
                    <td style="text-align: right;">Level</td>
                    <td  style="white-space: nowrap">
                        <input type="number" name="attr_Level" title="" value="1" />
                        &nbsp;(<input type="number" width="50px"  name="attr_npcBaseDiff" value="@{Level}*3" disabled="true" />)</td>
                    <td width="100%" COLSPAN="2">&nbsp;</td>
                </tr>
                <tr>
                    <td style="text-align: right;">Health</td>
                    <td style="white-space: nowrap">
                        <input type="number" name="attr_Health" title="Current value" value="0" />
                        /<input type="number" name="attr_Health_max" title="Maximum value" value="0" />
                    </td>
                    <td style="text-align: right;" width="100%" >Armor</td>
                    <td width="100%"><input type="number" name="attr_Armor" title="Current value" value="0" /></td>
                </tr>
                <tr>
                    <td style="text-align: right;">Damage</td>
                    <td style="white-space: nowrap;"><input type="number" name="attr_Damage" title="Damage inflicted" value="0" />&nbsp;points</td>
                    <td style="text-align: right;">Movement</td>
                    <td width="100%"><input type="text" name="attr_npcMovement" title="Current value" style="width: 110px;" placeholder="short" /></td>
                </tr>
                <tr>
                    <td style="text-align: right;white-space: nowrap;"><i>GM Intrusion</i></td>
                    <td COLSPAN="3" width="100%"><textarea  style="height: 46px;" name="attr_npcGMI"></textarea></td>
                </tr>
            </table>
            <label>Modifications</label>
            <fieldset class="repeating_npcMods">
                <table width="100%">
                    <tr>
                        <td width="100%"><input type="text" name="attr_npcMods-name" title="Modification description" /></td>
                        <td width="50px" style="white-space: nowrap">&nbsp;as level&nbsp;<input type="number" name="attr_npcMods-level" title="Modification level" value="0" /></td>
                    </tr>
                </table>
            </fieldset>
        </div> <!-- END Column 1-->
        <div class="sheet-col" width="50%" align="right"> <!-- BEGIN Column 2 -->
            <table align="left" WIDTH="100%">
                <tr>
                    <td style="text-align: right;">Motive</td>
                    <td width="100%"><textarea  style="height: 46px;" name="attr_npcMotive"></textarea></td>
                </tr>
                <tr>
                    <td style="text-align: right;">Environment</td>
                    <td width="100%"><textarea  style="height: 46px;" name="attr_npcEnvironment"></textarea></td>
                </tr>
                <tr>
                    <td style="text-align: right;">Interaction</td>
                    <td style="text-align: left;" WIDTH="100%"><textarea name="attr_npcInteraction" style="height: 46px;" title=""></textarea></td>
                </tr>
                <tr>
                    <td style="text-align: right;">Use</td>
                    <td style="text-align: left;" WIDTH="100%"><textarea name="attr_npcUse" style="height: 46px;" title=""></textarea></td>
                </tr>
                <tr>
                    <td style="text-align: right;">Loot</td>
                    <td style="text-align: left;" WIDTH="100%"><textarea name="attr_npcLoot" style="height: 46px;" title=""></textarea></td>
                </tr>
            </table>
        </div> <!-- END Column 2-->
    </div>
    <label>Combat</label>
    <textarea name="attr_npcCombat" style="width: 100%; height: 150px;" placeholder="Combat"></textarea>
    <label>Description</label><br/>
    <textarea name="attr_npcDescription" style="width: 100%; height: 150px;" placeholder="Description"></textarea>
</div> <!--- END NPC -->
<!-- ******* ROLL TEMPLATES ******** -->
<rolltemplate class="sheet-rolltemplate-cyphMsg">
    <table>
        <tr><th>Oups !</th></tr>
        <!-- Function -->
        <tr class="rowcolor"><td><span class="tcat">
        {{#nathaNumeneRoll}}
            Jet de Caractéristique
        {{/nathaNumeneRoll}}
        {{#nathaNumRecoveryRoll}}
            Jet de Gu&eacute;rison
        {{/nathaNumRecoveryRoll}}
        {{#nathaNumInitRoll}}
            Jet d'Initiative
        {{/nathaNumInitRoll}}
        {{#modStat}}
            Modification de R&eacute;serve
        {{/modStat}}
        {{#chatmessage}}
            Appel de {{chatmessage}}
        {{/chatmessage}}
        </span></td></tr>
        <!-- Message -->
        <tr><td>
        {{#noTokNoChar}}
            La fonction nécessite un identifiant de personnage ou de pion en paramètre<br/>{{noTokNoChar}}
        {{/noTokNoChar}}
        {{#pcDying}}
            PJ ne peut pas entreprendre d'action (épuisé ou mourrant).
        {{/pcDying}}
        {{#noAttribute}}
            L'attribut '{{noAttribute}}' n'est pas géré.
        {{/noAttribute}}
        {{#wtfAttribute}}
            L'attribut '{{wtfAttribute}}' n'existe pas.
        {{/wtfAttribute}}
        {{#badBonus}}
            Un bonus supérieur à 2 ({{badBonus}}) n'est pas autorisé (utilisez un Atout).
        {{/badBonus}}
        {{#tooManyEfforts}}
            PJ essaie d'appliquer plus d'effort ({{tooManyEfforts}}) qu'il ne peut.
        {{/tooManyEfforts}}
        {{#tooManyPoints}}
            PJ essaie de dépenser plus de points qu'il ne peut ({{tooManyPoints}}).
        {{/tooManyPoints}}
        {{#notaCharacter}}
            L'identifiant '{{notaCharacter}}' n'est pas un personnage.
        {{/notaCharacter}}
        {{#noCharacter}}
            Pas de personnage identifié dans :<br/>'{{noCharacter}}'
        {{/noCharacter}}
        {{#notCharToken}}
            L'identifiant '{{notCharToken}}' n'est pas un pion de personnage.
        {{/notCharToken}}
        {{#noToken}}
            Pas de pion sélectionné dans :<br/>'{{noToken}}'
        {{/noToken}}
        {{genericMsg}}
        </td></tr>
    </table>
</rolltemplate> <!-- End template cyphMsg !-->
<rolltemplate class="sheet-rolltemplate-cyphInit">
    <table>
        <tr><th COLSPAN="2">Jet d'Initiative</th></tr>
        <tr>
            <td COLSPAN="2" style="text-align:center;font-size:102%;font-weight:bold;">{{finalRoll}}</td>
        </tr>
        <tr><td COLSPAN="2"><hr/></td></tr>
        {{#rollGreater() bonusToRoll 0}}
            <tr><td><span>Bonus</span></td><td>+ {{bonusToRoll}}</td></tr>
        {{/rollGreater() bonusToRoll 0}}
        {{#rollLess() bonusToRoll 0}}
            <tr><td><span>Malus</span></td><td>{{bonusToRoll}}</td></tr>
        {{/rollLess() bonusToRoll 0}}
        {{#rollGreater() effortsUsed 0}}
            <tr><td><span>Effort(s)</span></td><td>{{effortsUsed}} (x3)</td></tr>
        {{/rollGreater() effortsUsed 0}}
        {{#skilled}}
            <tr>
                <td><span>Compétence</span></td>
                <td>
                    {{#rollTotal() skilled -3}}
                        Incapacité (-3)
                    {{/rollTotal() skilled -3}}
                    {{#rollTotal() skilled 0}}
                        Non entraîné (+0)
                    {{/rollTotal() skilled 0}}
                    {{#rollTotal() skilled 3}}
                        Entraîné (+3)
                    {{/rollTotal() skilled 3}}
                    {{#rollTotal() skilled 6}}
                        Spécialisé (+6)
                    {{/rollTotal() skilled 6}}
                </td>
            </tr>
        {{/skilled}}
        {{#rollGreater() assets 0}}
            <tr><td><span>Atout(s)</span></td><td>{{assets}} (x3)</td></tr>
        {{/rollGreater() assets 0}}
        {{#rollGreater() totalCost 0}}
            <tr><td COLSPAN="2"><hr/></td></tr>
            <tr>
                <td><span style="cursor: help;" title="{{#effortCost}} + Effort{{/effortCost}}{{#statExpense}} + extra cost{{/statExpense}} - Edge">
                    <b>Coût</b></span>
                </td>
                <td>
                    {{#effortCost}}+{{effortCost}}{{/effortCost}}
                    {{#statExpense}}+{{statExpense}}{{/statExpense}}
                    -{{speedEdge}}=<b>{{totalCost}}</b>
                </td>
            </tr>
            <tr><td COLSPAN="2" style="text-align: center;">[Appliquer le co&ucirc;t (API)](!cypher-modstat {{charid}}|speed|{{totalCost}})</td></tr>
        {{/rollGreater() totalCost 0}}
    </table>
</rolltemplate> <!-- End template cyphInit !-->
<rolltemplate class="sheet-rolltemplate-cyphBasicRoll">
   <table>
        <tr><th COLSPAN="2">{{attribute}}</th></tr>
        <tr>
            <td COLSPAN="2"><b>Jet :</b>
                {{diceRoll}} (bat diff.
                {{#rollLess() diceRoll 3}}0{{/rollLess() diceRoll 3}}
                {{#rollBetween() diceRoll 3 5}}1{{/rollBetween() diceRoll 3 5}}
                {{#rollBetween() diceRoll 6 8}}2{{/rollBetween() diceRoll 6 8}}
                {{#rollBetween() diceRoll 9 11}}3{{/rollBetween() diceRoll 9 11}}
                {{#rollBetween() diceRoll 12 14}}4{{/rollBetween() diceRoll 12 14}}
                {{#rollBetween() diceRoll 15 17}}5{{/rollBetween() diceRoll 15 17}}
                {{#rollBetween() diceRoll 18 20}}6{{/rollBetween() diceRoll 18 20}}
                )
            </td>
        </tr>
        {{#rollGreater() bonusToRoll 0}}
            <tr><td></td>
                <td>
                        <i>+{{bonusToRoll}} (bonus)</i>
                </td>
            </tr>
        {{/rollGreater() bonusToRoll 0}}
        {{#rollLess() bonusToRoll 0}}
            <tr><td></td>
                <td>
                        <i>{{bonusToRoll}} (malus)</i>
                </td>
            </tr>
        {{/rollLess() bonusToRoll 0}}
        {{#rollWasCrit() diceRoll}}
            <tr>
                <td style="color:green;text-align:center;font-weight:bold;">Spécial :</td>
                <td style="vertical-align: top;font-size: 95%;">
                    {{#rollTotal() diceRoll 17}}+1 dégâts{{/rollTotal() diceRoll 17}}
                    {{#rollTotal() diceRoll 18}}+2 dégâts{{/rollTotal() diceRoll 18}}
                    {{#rollTotal() diceRoll 19}}Effet Mineur<br/>ou +3 dégâts{{/rollTotal() diceRoll 19}}
                    {{#rollTotal() diceRoll 20}}Effet Majeur<br/>ou +4 dégâts{{/rollTotal() diceRoll 20}}
                </td>
            </tr>
        {{/rollWasCrit() diceRoll}}
        {{#rollWasFumble() diceRoll}}
            <tr><td COLSPAN="2" style="color:red;text-align:center;font-weight:bold;">Intrusion du MJ</td></tr>
        {{/rollWasFumble() diceRoll}}
        {{#rollGreater() difficulty 0}}
            {{#^rollLess() diceRoll targNumRoll}}
                <tr><td  COLSPAN="2" style="font-size:105%;font-weight:bold;color:green;text-align:center;">Réussite !</td></tr>
            {{/^rollLess() diceRoll targNumRoll}}
            {{#rollLess() diceRoll targNumRoll}}
                <tr><td  COLSPAN="2" style="font-size:105%;font-weight:bold;color:red;text-align:center;">&Eacute;chec !</td></tr>
            {{/rollLess() diceRoll targNumRoll}}
            {{#rollLess() finalDiff difficulty}}
                <tr><td COLSPAN="2"><hr/></td></tr>
            {{/rollLess() finalDiff difficulty}}
            <tr>
                <td><b>Difficulté</b></td>
                <td>{{difficulty}} (SR {{targNum}})</td>
            </tr>
        {{/rollGreater() difficulty 0}}
        {{#rollTotal() difficulty 0}}
            <tr><td COLSPAN="2"><hr/></td></tr>
        {{/rollTotal() difficulty 0}}
        {{#skilled}}
            {{#rollTotal() skilled -1}}
                <tr><td>Incapacité</td><td><i>+1</i></td></tr>
            {{/rollTotal() skilled -1}}
            {{#rollTotal() skilled 1}}
                <tr><td>Entraîné</td><td><i>-1</i></td></tr>
            {{/rollTotal() skilled 1}}
            {{#rollTotal() skilled 2}}
                <tr><td>Spécialisé</td><td><i>-2</i></td></tr>
            {{/rollTotal() skilled 2}}
        {{/skilled}}
        {{#rollGreater() assets 0}}
            <tr><td>Atout(s)</td><td><i>- {{assets}}</i></td></tr>
        {{/rollGreater() assets 0}}
        {{#atkmod}}
            {{#rollGreater() atkmod 0}}
                <tr><td>Mod</td><td><i>- {{atkmod}}</i></td></tr>
            {{/rollGreater() atkmod 0}}
        {{/atkmod}}
        {{#rollGreater() effortRoll 0}}
            <tr><td>Effort(s)</td><td><i>- {{effortRoll}}</i></td></tr>
        {{/rollGreater() effortRoll 0}}
        {{#rollGreater() difficulty 0}}
            {{#^rollTotal() targNumRoll targNum}}
                <tr>
                    <td style="text-align: right;" title="Seuil de Réussite">=</td>
                    <td style="text-align: left;" title="Seuil de Réussite">{{finalDiff}} (SR {{targNumRoll}})</td>
                </tr>
            {{/^rollTotal() targNumRoll targNum}}
        {{/rollGreater() difficulty 0}}
        {{#rollTotal() difficulty 0}}
            {{#rollLess() finalDiff 0}}
                <tr>
                    <td style="text-align: right;">= Difficulté </td>
                    <td style="text-align: left;" >{{finalDiff}} niveaux</td>
                </tr>
            {{/rollLess() finalDiff 0}}
            {{#rollGreater() finalDiff 0}}
                <tr>
                    <td style="text-align: right;">= Difficulté </td>
                    <td style="text-align: left;" >+ {{finalDiff}} niveaux</td>
                </tr>
            {{/rollGreater() finalDiff 0}}
        {{/rollTotal() difficulty 0}}
        {{#rollGreater() bonusDmg 0}}
            <tr><td COLSPAN="2"><hr/></td></tr>
            <tr><td><span><b>Dégâts</b></span></td><td>+{{bonusDmg}} ({{effortDmg}} eff.)</td></tr>
        {{/rollGreater() bonusDmg 0}}
        {{#rollGreater() totalCost 0}}
            <tr><td COLSPAN="2"><hr/></td></tr>
            <tr>
                <td COLSPAN="2" style="white-space: nowrap;"><span style="cursor: help;" title="Effort + extra Cost - Edge">
                    <b>Co&ucirc;t :</b></span>
                +{{effortCost}}+{{statExpense}}-{{attrEdge}}=<b>{{totalCost}}</b></td>
            </tr>
            <tr><td COLSPAN="2" style="text-align: center;">[Appliquer le co&ucirc;t (API)](!cypher-modstat {{charid}}|{{stat}}|{{totalCost}})</td></tr>
        {{/rollGreater() totalCost 0}}
    </table>
</rolltemplate> <!-- End template cyphBasicRoll !-->
<rolltemplate class="sheet-rolltemplate-cyphRecovery">
    <table>
        {{#artifact}}
            <tr><th COLSPAN="2">Jet d'épuisement</th></tr>
            <tr>
                <td COLSPAN="2" style="text-align:center;font-style: italic;">{{artifact}}</td>
            </tr>
            <tr>
                <td><span>{{threshold}} sur {{dice}} :</span></td>
                <td>{{depletionRoll}}</td>
            </tr>
            {{#rollGreater() depletionRoll threshold}}
                <td COLSPAN="2" style="text-align:center;color: green; font-weight: bold;">Artefact fonctionnel</td>
            {{/rollGreater() depletionRoll threshold}}
            {{#rollTotal() depletionRoll threshold}}
                <td COLSPAN="2" style="text-align:center;color: red; font-weight: bold;">Artefact épuisé</td>
            {{/rollTotal() depletionRoll threshold}}
            {{#rollLess() depletionRoll threshold}}
                <td COLSPAN="2" style="text-align:center;color: red; font-weight: bold;">Artefact épuisé</td>
            {{/rollLess() depletionRoll threshold}}
        {{/artifact}}
        {{#fullRest}}
            <tr><th>Repos complet</th></tr>
            <tr><td>Comme neuf !</td></tr>
        {{/fullRest}}
        {{#recoverPoints}}
            <tr><th COLSPAN="2">Jet de Guérison</th></tr>
            <tr class="rowcolor">
                <td><span class="tcat">Points</span></td>
                <td>{{recoverPoints}}</td>
            </tr>
            {{#rollTotal() recovaction 0}}
                <tr>
                    <td><span>Repos</span></td>
                    <td>1 ACTION</td>
                </tr>
                <tr>
                    <td><span>Prochain</span></td>
                    <td title="Metre &agrave; jour le temps de gu&eacute;risopn suivant (API)">[10 MIN](!cypher-modstat {{charid}}|recovery-rolls|1)</td>
                </tr>
            {{/rollTotal() recovaction 0}}
            {{#rollTotal() recovaction 1}}
                <tr>
                    <td><span>Repos</span></td>
                    <td>10 MINS</td>
                </tr>
                <tr>
                    <td><span>Prochain</span></td>
                    <td title="Metre &agrave; jour le temps de gu&eacute;risopn suivant (API)">[1 HEURE](!cypher-modstat {{charid}}|recovery-rolls|2)</td>
                </tr>
            {{/rollTotal() recovaction 1}}
            {{#rollTotal() recovaction 2}}
                <tr>
                    <td><span>Repos</span></td>
                    <td>1 HEURE</td>
                </tr>
                <tr>
                    <td><span>Prochain</span></td>
                    <td title="Metre &agrave; jour le temps de gu&eacute;risopn suivant (API)">[10 HEURES](!cypher-modstat {{charid}}|recovery-rolls|3)</td>
                </tr>
            {{/rollTotal() recovaction 2}}
            {{#rollTotal() recovaction 3}}
                <tr>
                    <td><span>Repos</span></td>
                    <td>10 HEURES</td>
                </tr>
                <tr>
                    <td><span>Prochain</span></td>
                    <td title="Metre &agrave; jour le temps de gu&eacute;risopn suivant (API)">[1 ACTION](!cypher-modstat {{charid}}|recovery-rolls|0)</td>
                </tr>
            {{/rollTotal() recovaction 3}}
        {{/recoverPoints}}
        {{#currentAction}}
            <tr class="rowcolor">
                <td><span class="tcat">Repos</span></td>
                <td>{{currentAction}}</td>
            </tr>
        {{/currentAction}}
        {{#nextAction}}
            <tr class="rowcolor">
                <td><span class="tcat">Prochain</span></td>
                <td>{{nextAction}}</td>
            </tr>
        {{/nextAction}}
    </table>
</rolltemplate> <!-- End template cyphRecovery !-->
<rolltemplate class="sheet-rolltemplate-cyphDesc">
    <table>
        <tr><th COLSPAN="2">{{name}}</th></tr>
        <tr><td><span>Type</span></td><td>{{type}}</td></tr>
        {{#level}}
            <tr><td><span>Niveau</span></td><td>{{level}}</td></tr>
        {{/level}}
        {{#depletion}}
            <tr><td><span>Épuisement</span></td><td>{{depletion}}</td></tr>
        {{/depletion}}
        {{#use}}
            <tr><td><span>Utilisation</span></td><td>{{use}}</td></tr>
        {{/use}}
        <tr><td COLSPAN="2"><div class="jetdesc">{{description}}</div></th></tr>
    </table>
</rolltemplate><!-- End template cyphDesc -->

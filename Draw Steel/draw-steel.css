/* Utility Classes */
.grid-span-full {
	grid-column-start: 1;
	grid-column-end: -1
}

/* Sheet-wide variables */

.charsheet {
	/* === COLORS === */
    /* Backgrounds */
    --color-bg-main: #ffffff; 
    --color-bg-section: #e0e0e0;

    /* Text */
    --color-text-body: #333333; 
    --color-text-header: #1a1a1a; 
    --color-text-accent: #666666; 

    /* Borders & Accents */
    --color-border: #999999; 
    --color-accent-steel: #777777; 

    /* Inputs & UI */
    --color-input-bg: #ffffff; 
    --color-input-border: #b0b0b0; 
	--color-button-bg: var(--color-border);
	--color-button-border: #555555; 
	--color-button-hover-bg: var(--color-accent-steel);
	--color-button-hover-border: #1a1a1a;

    /* === FONTS === */
    --font-family-header: "Georgia", "Times New Roman", serif;
    --font-family-body: "Georgia", "Times New Roman", serif;

    /* === SIZING & SPACING === */
    --border-main: 1px solid var(--color-border);
	--border-section: 2px solid var(--color-border);
    --border-radius: 5px;
	--box-shadow: inset 0 0 2px rgba(255, 255, 255, 0.05), 0 0 4px rgba(0, 0, 0, 0.3);
    --sheet-padding: 8px;
    --section-gap: 0.5em;
}

/* Dark Mode Sheet-wide variables */

.sheet-darkmode .charsheet {
	 /* === COLORS === */
    /* Backgrounds */
    --color-bg-main: #1f1f1f; 
    --color-bg-section: rgb(59, 64, 69); 

    /* Text */
    --color-text-body: #cccccc; 
    --color-text-header: #f0f0f0; 
    --color-text-accent: #999999; 

    /* Borders & Accents */
    --color-border: #666666;
    --color-accent-steel: #888888; 

    /* Inputs & UI */
    --color-input-bg: #444444; 
    --color-input-border: #777777;
	--color-button-bg: #3b4045;
	--color-button-border: #888888; 
	--color-button-hover-border: #aaaaaa;
    
}

/* Roll Template variables */ 

.sheet-rolltemplate-monsterability .sheet-roll-container,
.sheet-rolltemplate-powerrollability .sheet-roll-container,
.sheet-rolltemplate-ability .sheet-roll-container,
.sheet-rolltemplate-powerroll .sheet-roll-container,
.sheet-rolltemplate-abilitypowerroll .sheet-roll-container {
	/* === COLORS === */
    /* Backgrounds */
    --color-bg-main: #f5f5f5; 
    --color-bg-section: #e0e0e0;

    /* Text */
    --color-text-body: #333333; 
    --color-text-header: #1a1a1a; 
    --color-text-accent: #666666; 

    /* Borders & Accents */
    --color-border: #999999; 
    --color-accent-steel: #777777; 

	/* === FONTS === */
    --font-family-header: "Georgia", "Times New Roman", serif;
    --font-family-body: "Georgia", "Times New Roman", serif;

    /* === SIZING & SPACING === */
    --border-main: 1px solid var(--color-border);
	--border-section: 1px solid var(--color-border);
    --border-radius: 5px;
	--sheet-padding: 8px;
}

/* Darkmode Roll Template variables */ 

.sheet-rolltemplate-darkmode.sheet-rolltemplate-monsterability .sheet-roll-container,
.sheet-rolltemplate-darkmode.sheet-rolltemplate-powerrollability .sheet-roll-container,
.sheet-rolltemplate-darkmode.sheet-rolltemplate-ability .sheet-roll-container,
.sheet-rolltemplate-darkmode.sheet-rolltemplate-powerroll .sheet-roll-container,
.sheet-rolltemplate-abilitypowerroll.sheet-rolltemplate-darkmode .sheet-roll-container {
 	--color-bg-main: #1f1f1f; 
    --color-bg-section: rgb(59, 64, 69); 

    /* Text */
    --color-text-body: #cccccc; 
    --color-text-header: #f0f0f0; 
    --color-text-accent: #999999; 

    /* Borders & Accents */
    --color-border: #666666; 
    --color-accent-steel: #888888; 
	
}


/* Main Sheet */

.charsheet {
    background-color: var(--color-bg-main) ;
	color: var(--color-text-body);
	font-family: var(--font-family-body);
	padding: 1em;
	overflow: clip;
	min-width: 566px;
}

.sheet-panel {
	background-color: var(--color-bg-section);
	color: var(--color-text-body);
	border: var(--border-main);
	border-radius: var(--border-radius);
	box-shadow: var(--box-shadow);
	padding: var(--sheet-padding);
	margin-bottom: var(--section-gap);
}

.sheet-panel-box {
	border: var(--border-section);
	border-radius: var(--border-radius);
	padding: var(--sheet-padding);
	background-color: var(--color-bg-subsection);
}


.sheet-darkmode img[alt="Powered By Draw Steel"] {
  filter: invert(100%);
}

.charsheet button[type="action"] {
	background-color: var(--color-button-bg);
    color: var(--color-text-body);
    border: 1px solid var(--color-button-border);
    border-radius: var(--border-radius);
    font-family: var(--font-family-body);
    cursor: pointer;
    transition: background-color 0.2s ease;
}

.charsheet button[type="action"]:hover {
	background-color: var(--color-button-hover-bg);
	border-color: var(--color-button-hover-border);
}

.characterviewer .charsheet label {
	display: unset;
	margin: unset;
	padding: unset;
	width: unset;
	text-align: unset;
	float: unset;
	font-size: 1em;
	color: var(--color-text-header);
}

.charsheet input {
	width: unset;
	color: var(--color-text-body);
	background-color: var(--color-input-bg);
	border: 1px solid var(--color-input-border);
	border-radius: var(--border-radius);
}

.charsheet input[type=number] { 
	text-align: center;
}

.charsheet select {
	margin: unset;
	width: unset;
	color: var(--color-text-body);
	background-color: var(--color-input-bg);
	border: 1px solid var(--color-input-border);
	border-radius: var(--border-radius);
}

.charsheet textarea {
	margin: unset;
	width: unset;
	resize: vertical;
	color: var(--color-text-body);
	background-color: var(--color-input-bg);
	border: 1px solid var(--color-input-border);
	border-radius: var(--border-radius);
	min-height: 50px;
	box-sizing: border-box;
}

.charsheet h1, 
.charsheet h2, 
.charsheet h3, 
.charsheet h4, 
.charsheet h5, 
.charsheet h6 {
	color: var(--color-text-header);
	font-family: var(--font-family-header);
}

.charsheet .repcontrol {
	margin: var(--sheet-padding);
}

.border-right {
	border-right: var(--border-main);
}

.charsheet input[type=number].no-spin::-webkit-inner-spin-button,
.charsheet input[type=number].no-spin::-webkit-outer-spin-button {
	-webkit-appearance: none;
	margin: 0;
}

.charsheet input[type=number].no-spin {
	-moz-appearance: textfield ;
}

.charsheet input.input-md {
	height: 20px;
	font-size: 0.9em;
}

.charsheet input.input-stamina {
	height: 20px;
	font-size: 0.9em;
    width: 100%;
 	box-sizing: border-box;
  	min-width: 6em;
}

.charsheet label.sublabel {
	height: 16px;
	font-size: 0.8em;
	font-weight: normal;
	color: var(--color-text-accent);
}
.charsheet label.sublabel input {
	padding: 0;
	font-size: 1em;
}

.charsheet .panel-title {
	font-size: 14px;
	text-align: center
}

/* Sheet Options Panel */
.charsheet label.sheet-options-checkbox-label {
	font-family: "Pictos";
	font-size: 25px;
	position: absolute;
	color: var(--color-text-accent);
	cursor: pointer;
	right: 30px;
	top: 100px;
	font-weight: normal;
}

input.sheet-options-checkbox {
	display: none;
}

#sheet-options-checkbox:not(:checked) + div.sheet-panel {
    display: none;
} 

/* Switches between Character and NPC Sheets */
.charsheet input.npc-checkbox:not([value="on"]) ~ .npc-sheet-body,
.charsheet input.npc-checkbox[value="on"] ~ .sheet-body
{
  display: none;
}


/* Player Character Sheet */
.sheet-body { /* Sets the minimum width for the player character sheet */
	min-width:800px;
}

/* Minimize Panel Icon */
.minimize {
	display:none; 
}

#stats-minimize-checkbox:checked + label::before,
#biography-minimize-checkbox:checked + label::before,
#skills-languages-minimize-checkbox:checked + label::before,
#features-minimize-checkbox:checked + label::before,
#abilities-minimize-checkbox:checked + label::before,
#inventory-minimize-checkbox:checked + label::before,
#projects-minimize-checkbox:checked + label::before {
	content:'&';
}

label[for*='minimize']::before {
	display: inline-block;
	content:'_';
	font-family: 'Pictos';
	margin-right: 3px;
}


.minimizable:has(.minimize-control > .minimize:checked) > :not(.minimize-control):not(.minimize-ignore):not(.minimize-show),
.minimizable:has(.minimize-control > .minimize:checked) > .minimize-ignore > :not(.minimize-ignore),
.minimizable:has(.minimize-control > .minimize:not(:checked)) > .minimize-show {
	display: none;
}

/* Sheet Options Panel */




/* Header Panel */

/* -- Header Panel */

.header-panel {
	display: flex;
	gap: var(--section-gap);
}
.header-panel > * {
	flex: 1 1 0;
}

.title {
	text-align: center;
	text-transform: uppercase;
}

.text-warning {
	color: orangered;
}

.profile-panel {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	column-gap: 0.5em;
}

.profile-panel > * {
  display: flex;
  flex-direction: column;
}
.profile-panel .name-input-group {
	grid-column-end: span 2;
}

.progress-panel {
	display: grid;
	grid-template-columns: repeat(6, 1fr);
	grid-gap: 0.5em;
}

.progress-panel > * {
	display: flex;
	flex-direction: column;
	align-items: center;
}

.progressbox-group {
	display: flex;
}

.progressbox-group > input {
	display: none;
}

.charsheet .progressbox-group > .progressbox {
	display: block;
	height: 1.5em;
	width: 1.3em;
	border: 1px solid var(--color-input-border);
	cursor: pointer;
}

.progressbox-group > .progressbox:has(~ input:checked),
.progressbox-group > input:checked + .progressbox {
	background-color: var(--color-accent-steel);
}

.victories-input-group {
	grid-column-end: span 5;


}
.wealth-input-group, .renown-input-group, .experience-input-group {
	grid-column-end: span 2;
}

.stats-panel {
	position: sticky;
	top: 0;
	z-index: 10;
	display: grid;
	grid-template-columns: repeat(10,76px);
	grid-template-rows: auto;
	gap: 5px;
}

.charsheet .sheet-body .stats-panel input[type=number]::-webkit-inner-spin-button, 
.charsheet .sheet-body .stats-panel input[type=number]::-webkit-outer-spin-button { 
    -webkit-appearance: none;
    margin: 0; 
}

.charsheet .sheet-body .stats-panel input[type=number] {
	-moz-appearance: textfield;
}

.stats-panel > .minimize-control {
	grid-column: 1 / -1;
}

.stat-dashboard {
  display: grid;
  grid-template-columns: repeat(10, 76px);
  gap: 5px;
  grid-column: 1/-1;
  justify-items: center;
  align-items: end;

}

.hexagon {
--b: 2px;
  height: 75px;
  aspect-ratio: cos(30deg);
  clip-path: polygon(50% 0,-50% 50%,50% 100%,150% 50%,50% 0, 50% var(--b), calc(100% - var(--b)*sin(60deg)) calc(25% + var(--b)*cos(60deg)), calc(100% - var(--b)*sin(60deg)) calc(75% - var(--b)*cos(60deg)), 50% calc(100% - var(--b)), calc(var(--b)*sin(60deg)) calc(75% - var(--b)*cos(60deg)), calc(var(--b)*sin(60deg)) calc(25% + var(--b)*cos(60deg)), 50% var(--b));
  background: var(--color-bg-main);
  position: absolute;
  z-index: -10;
  top: 0px;
}

.dashboard-characteristics {
  grid-column-start: 1;
  grid-column-end: span 5;
  display: flex;
  gap: 2px;
  flex-direction: row;
}

.dashboard-stat-group {
  text-align: center;
  width: 75px;
  position: relative;
  display: grid;
  justify-items: center;
}

.charsheet .sheet-body .dashboard-stat-group input[type="number"] {
  display: block;
  width: 50px;
  height: 45px;
  font-size: 1.5em;
  text-align: center;
  color: var(--color-text-header);
  -moz-appearance: textfield;
}

.charsheet .sheet-body .dashboard-stat-group input[type=number]::-webkit-inner-spin-button, 
.charsheet .sheet-body .dashboard-stat-group input[type=number]::-webkit-outer-spin-button { 
    -webkit-appearance: none;
    margin: 0; 
}

.dashboard-stamina {
  grid-column: 6/ span 2;
  display: grid;
  grid-template-columns: 1fr 1fr;
  align-items: end;
}

.dashboard-resource, .dashboard-recoveries {
  font-size: 0.9em;
}

.characteristic-input-group > label {
	cursor: pointer;
}

.characteristic-input-group > input {
	text-align: center;
}

.potencies {
	grid-column-start: 1;
	grid-column-end: span 2;
	display: flex;
	gap: 0.25em;
	flex-direction: column;
}

.potency-input-group {
  flex-direction: row;
  display: flex;
  justify-content: right;
  gap: 0.5em;
}

.potencies .potency-input-group input[type="number"] {
	width:4.5em;
}

.potency-input-group {
  flex-direction: row;
  display: flex;
  justify-content: right;
  gap: 0.5em;
}

.potencies .potency-input-group input[type="number"] {
	width:4.5em;
}
.movement {
	grid-column-start: 1;
	grid-column-end: span 5;
	display: grid;
	grid-template-columns: repeat(4, 1fr);
	gap: 0.1em;
}

.movement-input-group {
	display: flex;
	flex-direction: column;
	align-items: center;
}

.movement-input-group > input {
	width: 3.75em;
	text-align: center;
}


.stamina-panel {
	grid-column-start: 6;
	grid-column-end: span 2;
	display: grid;
	grid-template-columns: 75px 1fr;
	column-gap: 5px;
	padding: 3px;
}

.stamina-input-group {
	grid-row-end: span 2;
	display: flex;
	flex-direction: column;
	align-items: center;
}
.stamina-temp-max-group {
	grid-column-end: -1;
	grid-column-start: 1;
	display: grid;
	grid-template-columns: 1fr 1fr;
	text-align: center;
}

.stamina-temp-max-group {
	grid-column-end: -1;
	grid-column-start: 1;
	display: grid;
	grid-template-columns: 1fr 1fr;
	text-align: center;
}

.stamina-input-group input{
  width: 100%;
  box-sizing: border-box;
  min-width: 6em;
}

.stamina-winded-input-group, .stamina-dying-input-group {
	text-align: center;
}

.stamina-temporary-input-group input {
	min-width:6em;
}

.charsheet .stamina-panel input[name="attr_stamina"],
.charsheet .recoveries-panel input[name="attr_recoveries"],
.charsheet .resource-panel input[name="attr_resource"] {
	height: 57px;
	font-size: 1.5em;
	padding: 0;
	width: 75px;
	min-width: unset;
}

.recoveries-panel {
	display: flex;
	flex-direction: column;
}

.recoveries-input-group {
	grid-column-start: 1;
	grid-column-end: -1;
	justify-self: center;
}

.recovery-amount-input-group,
.recoveries-max-input-group {
	display: flex;
	flex-direction: column;
	align-items: center;
}

.damage-mod-panel {
	display: grid;
	grid-template-columns: auto 1fr;
	align-items: center;
	gap: 0.25em;
	grid-column-start: 3;
	grid-column-end: 7;
}

.resource-description-panel {
	grid-column: 7/-1;
}	

.resource-description-panel > textarea {
	width: 100%;
	height: 7em;
	resize: vertical;
	box-sizing: border-box;
}

.resource-panel {
	justify-self: center;
	display: grid;
	grid-template-columns: 1fr;
	grid-auto-rows: min-content;
	justify-items: center;
}

.resource-name-input-group > input {
	width: 100px;
	text-align: center;
}

.surges-panel {
	display: grid;
	grid-template-columns: 1fr;
	grid-auto-rows: min-content;
	justify-items: center;
	grid-column-start: 10;
}


.surges-panel > span {
	font-size: 0.7em;
}

.conditions-panel {
	grid-column: 1 /-1;
}

.repcontainer[data-groupname="repeating_conditions"] > .repitem {
	display: grid;
	grid-template-columns: 3fr auto 1fr;
	gap: 0.25em;
	align-items: start;
}

.repcontainer[data-groupname="repeating_conditions"] > .repitem > input {
	grid-row-end: span 2;
}

/* -- Biography Panel Styling */
.biography-panel {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-gap: 0.5em;
}

.biography-panel > .minimize-control {
	grid-column-start: 1;
	grid-column-end: -1;
}

.career-panel {
	display: grid;
}

.career-panel > input,
.career-panel > label {
	text-align: center;
}

.career-panel > input {
	font-weight: bold;
}

.career-panel > textarea {
	height: 75px;
	resize: vertical;
}

.complication-panel {
	display: grid;
}

.complication-panel > input,
.complication-panel > label {
	text-align: center;
}

.complication-panel > input {
	font-weight: bold;
}

.complication-panel > textarea {
	height: 75px;
	resize: vertical;
}

.culture-panel {
	grid-column-start: 1;
	grid-column-end: -1;
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	grid-gap: 0.2em;
}

.culture-panel > .panel-title {
	grid-column-start: 1;
	grid-column-end: -1;
}

.culture-panel > label {
	text-align: center;
}

.culture-panel > textarea {
	height: 75px;
	resize: vertical;
}

/* -- Skills and Language Panel Styling */
.skills-panel {
	display: grid;
	grid-template-columns: auto 1fr;
	gap: 0.25em;
	align-items: center;
}
.skills-panel > .panel-title {
	grid-column-start: 1;
	grid-column-end: -1;
}

.languages-panel {
	display: grid;
	grid-template-columns: 1fr;
}
.languages-panel > .panel-title {
	grid-column-start: 1;
	grid-column-end: -1;
}

/* -- Features Panel Styling */
.features-panel {
	display: grid;
	grid-template-columns: repeat(6, 1fr);
	grid-gap: 0.5em;
}
.features-panel > .minimize-control {
	grid-column-start: 1;
	grid-column-end: -1;
}

.class-panel {
	grid-column-end: span 4;
}
.ancestry-panel {
	grid-column-end: span 2;
}

.repcontainer[data-groupname="repeating_classfeatures"] {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-gap: 0.2em;
}

.class-feature-header,
.anc-feature-header,
.perk-feature-header,
.title-feature-header {
  display: flex;
  align-items: center;
  gap: 0.2em;
  flex-wrap: wrap;
}

.class-feature-header input[type="text"],
.anc-feature-header input[type="text"],
.perk-feature-header input[type="text"],
.title-feature-header input[type="text"] {
  flex: 1 1 auto;
}

.class-feature-header textarea,
.anc-feature-header textarea,
.perk-feature-header textarea,
.title-feature-header textarea {
  flex: 1 1 100%;
  resize: vertical;
}

.repcontainer[data-groupname="repeating_classfeatures"] > .repitem,
.repcontainer[data-groupname="repeating_ancestrytraits"] > .repitem {
	display: grid;
	grid-gap: 0.2em;
}

.repcontainer[data-groupname="repeating_classfeatures"] > .repitem > input,
.repcontainer[data-groupname="repeating_ancestrytraits"] > .repitem > input {
	font-weight: bold;
}

.repcontainer[data-groupname="repeating_classfeatures"] > .repitem > textarea,
.repcontainer[data-groupname="repeating_ancestrytraits"] > .repitem > textarea {
	height: 50px;
	resize: vertical;
}

.perks-panel {
	grid-column-end: span 4;
}

.titles-panel {
	grid-column-end: span 2;
}

.repcontainer[data-groupname="repeating_perks"] {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-gap: 0.2em;
}

.repcontainer[data-groupname="repeating_titles"] {
	display: grid;
	grid-gap: 0.2em;
}

.modifiers-panel {
	grid-column-start: 1;
	grid-column-end: -1;
}

.repcontainer[data-groupname="repeating_modifiers"] {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-gap: 0.5em;
}

.modifier-card {
	display: grid;
	grid-template-columns: repeat(6, 1fr);
	grid-gap: 0.2em;
}
.modifier-name {
	grid-column-end: span 4;
	font-weight: bold;
}

.modifier-card:has(> .modifier-type > option[value="kit"]:checked) > :not(.kit):not(.modifier-all),
.modifier-card:has(> .modifier-type > option[value="kit"]:not(:checked)) > .kit {
	display: none;
}

.modifier-type {
	grid-column-end: span 2;
}

.modifier-card > .input-group {
	display: grid;
}

.modifier-card > .input-group > input[type] {
	width: 100%;
}

.modifier-card > .input-group > label {
	text-align: center;
}

.kit-weapon-input-group,
.kit-armor-input-group {
	grid-column-end: span 3;
}

.modifier-card > .kit-damage-label {
	grid-column-end: span 3;
	text-align: center;
}

.modifier-card:has(> .modifier-type > option[value="kit"]:checked) > .modifier-description {
	grid-column-end: span 3;
	grid-row-end: span 4;
	height: 100%;
}

.modifier-card:has(> .modifier-type > option[value="kit"]:not(:checked)) > .modifier-description {
	grid-column-start: 1;
	grid-column-end: -1;
	height: 75px;
}

/* -- Abilities Panel*/

.abilities-panel {
	display: grid;
	grid-gap: 0.5em;
	padding-top: 5px;
}


/* ---- Ability Tab Buttons */
.abilities-buttons {
	display: flex;
	border-bottom: 2px solid;
}

.abilities-buttons button[type="action"] {
  flex: 1;
  padding: 8px 12px;
  font-weight: bold;
  cursor: pointer;
  text-align: center;
  transition: all 0.2s ease;
  border-radius: 8px 8px 0 0;
}

.abilities-buttons button[type="action"]:hover {
  background-color: var(--color-button-hover-bg)/*rgba(255, 215, 0, 0.6)*/;
}

.charsheet .sheet-action,
.charsheet .sheet-maneuver,
.charsheet .sheet-triggered,
.charsheet .sheet-noaction,
.charsheet .sheet-move {
    display: none;
	background-color: var(--color-button-bg);
	border-radius: 8px 8px 0 0;
	border: var(--color-button-border) /*1px solid #ccc*/;
	border-bottom: none;
	box-shadow: 0 -2px 0 #444 inset;
}

.charsheet .sheet-tabstoggle[value="action"] ~ div.sheet-action,
.charsheet .sheet-tabstoggle[value="maneuver"] ~ div.sheet-maneuver,
.charsheet .sheet-tabstoggle[value="triggered"] ~ div.sheet-triggered,
.charsheet .sheet-tabstoggle[value="noaction"] ~ div.sheet-noaction,
.charsheet .sheet-tabstoggle[value="move"] ~ div.sheet-move {
	display: block;
}

.charsheet .sheet-tabstoggle[value="action"] ~ abilities-buttons .sheet-button-action,
.charsheet .sheet-tabstoggle[value="maneuver"] ~ abilities-buttons .sheet-button-maneuver,
.charsheet .sheet-tabstoggle[value="triggered"] ~ abilities-buttons .sheet-button-triggered,
.charsheet .sheet-tabstoggle[value="noaction"] ~ abilities-buttons .sheet-button-noaction,
.charsheet .sheet-tabstoggle[value="move"] ~ abilities-buttons .sheet-button-move {
	background-color: var(--color-button-bg);
	border-radius: 8px 8px 0 0;
	border: var(--color-button-border) /*1px solid #ccc*/;
	border-bottom: none;
	box-shadow: 0 -2px 0 #444 inset;
}

.power-roll label.sublabel {
	background-color: var(--color-bg-subsection);
	border: var(--border-main);
	border-radius: var(--border-radius);
	padding: 1px;
	text-align: center;
	margin: 4PX 0px 0px 0px;
	line-height: normal;
} 

.repcontainer[data-groupname="repeating_abilities"],
.repcontainer[data-groupname="repeating_maneuvers"],
.repcontainer[data-groupname="repeating_triggered"],
.repcontainer[data-groupname="repeating_noaction"],
.repcontainer[data-groupname="repeating_moves"],
.free-strikes,
.default-maneuvers,
.default-moves,
.default-noaction,
.default-mainaction,
.standard-abilities {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-gap: 0.5em;
}

.standard-abilities-item {
	position: relative;
}
/* ---- Ability Card Styling */

#ability-edit::before {
	content: 'p';
	font-family: "Pictos";
	font-size: 1.5em;
	cursor: pointer;
}

#ability-edit {
	top: 0px;
	right: 5px;
	position: absolute;
	appearance: none;
	background-color: transparent;
	border-color: transparent;
	color: var(--color-text-accent);
}

#ability-edit:hover {
  color: var(--color-text-header);
}

.charsheet input.ability-edit:not(:checked) ~ div.card-edit, .charsheet input.ability-edit:checked ~ div.card-display {
    display: none;
}


.ability-card {
	display: grid;
	grid-template-columns: 30px repeat(3, 1fr) auto 30px;
	background-color: var(--color-bg-section);
	border: var(--border-section);
	border-radius: var(--border-radius);
	padding: var(--sheet-padding);
}

.ability-share-button {
	width: 20px;
	height: 20px;
	padding: 0px;
	margin: 0px;
}

.ability-name {
	grid-column-end: span 2;
	grid-column-start: 2;
	font-weight: bold;
}

.ability-cost-input-group, .ability-cost {
	grid-column-start: 5;
	justify-self: end;
}

.ability-cost-input-group > input {
	font-weight: bold;
}

.ability-cost input:not([value]) ~ span,
.ability-cost input[value="0"] ~ span {
	display: none;
}

.ability-details {
	grid-column: 1/-1;
	display: grid;
	grid-template-columns: 1fr 1fr;
}

.ability-description {
	grid-column-start: 1;
	grid-column-end: -1;
	font-size: 0.8em;
	font-style: italic;
}

.ability-description::placeholder {
	opacity: 0.7;
}

.ability-keywords {
	font-size: 0.8em;
	font-weight: bold;
}

.ability-keywords::placeholder {
	opacity: 0.7;
}

.ability-type {
	text-align: end;
	font-weight: bold;
}

.ability-type:has(> option[value*="triggered"]:checked) ~ .triggered-hide,
.ability-type:not(:has(> option[value*="triggered"]:checked)) ~ .triggered-show {
	display: none;
}

.ability-distance {
	font-size: 0.9em;
}

.ability-target {
	font-size: 0.8em;
	text-align: end;
}

.card-edit .ability-details:has([name="attr_has_power_roll"]:not(:checked)) > .power-roll > .power-roll-mods > :not(input[type="checkbox"]):not(label),
.card-edit .ability-details:has([name="attr_has_power_roll"]:not(:checked)) > .power-roll > :not(.power-roll-mods) {
	display: none;
}

.card-display .ability-details input[name*="attr_has"]:not([value="on"]) + div {
  display: none;
}

.ability-card > .power-roll-hide,
.ability-card > .power-roll {
	grid-column-start: 1;
	grid-column-end: -1;
}

.power-roll {
	grid-column: 1 / -1;
	display: grid;
	grid-template-columns: auto 1fr;
	column-gap: 0.5em;
	align-items: center;
}

.power-roll-mods {
	grid-column-start: 1;
	grid-column-end: -1;
}
.power-roll-characteristic {
	font-weight: bold;
}

.power-roll-characteristic::placeholder {
	opacity: 0.7;
}

.power-roll-tier-effect {
	font-size: 0.8em;
}

.power-roll label.sublabel {
	background-color: var(--color-bg-subsection);
	border: var(--border-main);
	border-radius: var(--border-radius);
	padding: 1px;
	text-align: center;
	margin: 4PX 0px 0px 0px;
	line-height: normal;
} 

.ability-details > .ability-trigger,
.ability-details > .ability-effect {
	grid-column-start: 1;
	grid-column-end: -1;
	height: auto;
}

/* -- Inventory Panel Styling */
.inventory-panel {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	grid-gap: 0.5em;
}

.inventory-panel textarea {
	height: 50px;
	width: 100%;
}

.inventory-panel .name-input {
	font-weight: bold;
}

.inventory-panel > .minimize-control {
	grid-column-start: 1;
	grid-column-end: -1;
}

input.name-input {
	width: 100%;
}

.trinket-panel {
	grid-column-end: span 2;
}

.consumable-panel input-bg {
	width: 100%
}

.level-treasure-panel {
	grid-column: 1 / -1;
}

.level-treasure-panel .carry-checks {
	display: flex;
	justify-content: center;
	align-items: center;
	gap: 0.5em;
	margin-bottom: 0.5em;
	flex-wrap: wrap;
}

.carry-checks .carry-label {
	font-weight: bold;
}

.repcontainer[data-groupname="repeating_trinkets"] {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
	grid-gap: var(--sheet-padding);
}

.repcontainer[data-groupname="repeating_consumables"] {
	display: flex;
	grid-gap: var(--sheet-padding);
	flex-direction: column;
}

.repcontainer[data-groupname="repeating_leveltreasure"] {
	display: grid;
	grid-template-columns: repeat(3, 1fr);
	grid-gap: var(--sheet-padding);
}


.repcontainer[data-groupname="repeating_trinkets"] > .repitem,
.repcontainer[data-groupname="repeating_leveltreasure"] > .repitem,
.repcontainer[data-groupname="repeating_consumables"] > .repitem {
	display: flex;
	grid-gap: 0.2em;
	flex-direction: column;
}


/* -- Projects Panel Styling */
.repcontainer[data-groupname="repeating_projects"] > .repitem {
	display: grid;
	grid-template-columns: 5fr 4fr 3fr 3fr;
}
.project-goal-input-group {
	display: flex;
	align-items: center;
}
.project-goal-input-group > input {
	flex-grow: 1;
}

/* Disclaimer */

.disclaimer {
	font-family: Menlo, Monaco, Consolas;
}

/* NPC Sheet */
.npc-sheet-body {
	min-width: 566px;
}

.npc-panel {
	display: grid;
	background: var(--color-bg-section);
	padding: var(--sheet-padding);
	border-bottom: var(--border-section);
	border-left: var(--border-main);
	border-right: var(--border-main);
}


/* NPC edit styling */
.charsheet label.npc-edit-icon {
	font-family: "Pictos";
	font-size: 20px;
	position: relative;
	left: calc(100% - 35px);
	top: 25px;
	color: var(--color-text-accent);
	cursor: pointer;
}

input.npc-edit-toggle {
	display: none;
}

input.npc-edit-toggle:not(:checked) ~ div.npc-edit {
    display: none;
} 

.npc-edit {
	display: grid;
	grid-template-columns: 1fr 1fr;
	gap: 1em;
	align-items: baseline;
	justify-items: start;
	font-size: 0.8em;
	width: 400px;
	margin-bottom: 10px;
}

.npc-edit-group {
	display: grid;
	gap: 3px;
}

.npc-edit-stats {
	grid-template-columns: 1fr 1fr;
}

.npc-edit .npc-edit-stats > input[type="text"],
.npc-edit .npc-edit-stats > input[type="number"] {
	width: 4.5em;
}

.npc-edit-text {
	grid-template-columns: auto 1fr;
	grid-column-gap: 1em;
}

/* Main NPC Sheet */
.npc-header-panel {
	grid-template-columns: 1fr auto;
	align-items: baseline;
	border-radius: 20px 20px 0px 0px;
	border-top: var(--border-main);
}
*/
.npc-header-panel div:nth-child(even) {
	justify-self: right;
}

.npc-name {
	font-size: 2em;
	font-weight: 800;
}

.npc-level {
	font-weight: 800;
}


.npc-stats-panel {
	grid-template-columns: repeat(5, 1fr);
}

.npc-stats-panel div {
	display: flex;
	flex-direction: column;
	align-items: center;
}

.npc-characteristic-input-group > label {
	cursor: pointer;
}

.npc-stat {
	font-size: 1.5em;
}

.npc-skills-panel {
	grid-template-columns: 1fr auto;
	border-bottom: none;
}

.npc-marip-panel {
	grid-template-columns: repeat(5,1fr);
}

.npc-marip-panel div {
	display: flex;
	gap: 5px;
	justify-content: center;
	align-items: baseline;
}

.npc-marip-panel div span {
	font-size: 1.2em;
}

.npc-conditions {
	min-height: 3em;
}

.npc-conditions > .repcontainer[data-groupname="repeating_conditions"] > .repitem {
  display: grid;
  grid-template-columns: 2fr 1fr 1fr ;
  gap: 0.5em;
  align-items: start;
}

/* -- NPC Ability Card Styling */

.npc-abilities-panel {
	padding-top: 5px;
}

.repcontainer[data-groupname="repeating_npcabilities"] {
	display: grid;
	grid-template-columns: 1fr 1fr;
	grid-gap: 0.5em;
}

.npc-abilities-panel > .repcontainer[data-groupname="repeating_npcabilities"] > .repitem {
	border: var(--border-main);
	border-radius: var(--border-radius);
	background-color: var(--color-bg-section);
	padding: var(--sheet-padding);
}

.npc-ability-subtype-selector, .npc-ability-subtype {
  grid-column-start: 4;
  grid-column-end: span 2;
  justify-self: right;
  font-weight: bold;
  
}

.npc-ability-card {
	display: grid;
	grid-template-columns: 30px repeat(4, 1fr) 30px;
}

.npc-ability-name {
	grid-column-start: 2;
	grid-column-end: span 2;
	font-weight: bold;
}

.npc-ability-solo-monster {

	display: grid;
	grid-template-columns: repeat(3, 1fr);
}

.npc-ability-solo-monster input {
	grid-column-end: span 2;
}

.npc-ability-subtype-selector:not(:has(> option[value="solo-monster"]:checked)) ~ .npc-ability-solo-monster,
.npc-ability-subtype-selector:not(:has(> option[value*="trait"]:checked)) ~ .npc-ability-trait,
.npc-ability-subtype-selector:not(:has(> option[value*="malice"]:checked)) ~ .npc-ability-malice-cost,
.npc-ability-subtype-selector:not(:has(> option[value*="ability"]:checked)) ~ .npc-ability-details {
	display: none;
}

.npc-ability-type:has(> option[value*="triggered"]:checked) ~ .triggered-hide,
.npc-ability-type:not(:has(> option[value*="triggered"]:checked)) ~ .triggered-show {
	display: none;
}

.npc-power-roll {
	display: grid;
	grid-template-columns: auto 1fr;
	align-items: center;
	grid-column: 1 / -1;
	column-gap: 0.5em;
}

.npc-power-roll label.sublabel {
	background-color: var(--color-bg-subsection);
	border: var(--border-main);
	border-radius: var(--border-radius);
	padding: 1px;
	text-align: center;
	margin: 4PX 0px 0px 0px;
	line-height: normal;
}

.npc-power-roll-mods {
	grid-column: 1 / -1;
}

.npc-power-roll-tier-effect {
	font-size: 0.8em;
}

.npc-ability-details:has([name="attr_has_power_roll"]:not(:checked)) > .npc-power-roll > .npc-power-roll-mods > :not(input[type="checkbox"]):not(label),
.npc-ability-details:has([name="attr_has_power_roll"]:not(:checked)) > .npc-power-roll > :not(.npc-power-roll-mods) {
	display: none;
}

#npc-ability-subtype-selector:not([value*="villain"]):not([value*="signature"]) ~ .subtype-hide,
#npc-ability-subtype-selector:not([value*="malice"]) ~ .malice-show,
#npc-ability-subtype-selector:not([value*="trait"]) ~ .trait-show,
#npc-ability-subtype-selector[value*="trait"] ~ .details-hide,
#npc-ability-subtype-selector:not([value="solo-monster"]) ~ .solo-monster-show,
#npc-ability-subtype-selector[value="solo-monster"] ~ .details-hide {
	display: none;
}

.npc-ability-card input[name*="attr_has"]:not([value="on"]) + div {
	display: none;
}

.npc-ability-card .npc-ability-effect, .npc-ability-card .npc-ability-trigger {
	height: auto;
}

.npc-ability-details {
  display: grid;
  grid-template-columns: 1fr 1fr;
  font-size: 0.9em;
}

.npc-ability-type, .npc-ability-target {
	text-align: end;
}

.npc-ability-distance {
	grid-column-start: 1;
}

.npc-ability-card-display input:not([value*="triggered"]) ~ .npc-ability-trigger,
.npc-ability-card-display input[value="no-action"] ~ .npc-ability-type {
	display: none;
}

.npc-ability-card .npc-power-roll .npc-power-roll-mods button[type="roll"]::before {
  content: "k";
  font-family: "dicefontd10";
}

.npc-ability-card .npc-power-roll .npc-power-roll-mods button[type="roll"] {
  margin-left: 0px;
}

.ability-toggle-group {
	grid-column: 1 / -1;
	display: flex;
	flex-wrap: wrap;
	gap: 0.2em;
	align-items: center;
}

.ability-toggle-group textarea {
	width: 100%;
}

.ability-toggle-group input:not(:checked) ~ textarea,
.ability-toggle-group input:not(:checked) ~ div
 {
	display: none
}

label[for="npc-checkbox"] {
  color: var(--color-text-body);
  font-weight: bold;
  font-size: 1em;
  padding-left: 0.5em;
}

/* Roll Template Styling */

.sheet-rolltemplate-powerroll .sheet-roll-container,
.sheet-rolltemplate-ability .sheet-roll-container,
.sheet-rolltemplate-abilitypowerroll .sheet-roll-container {
  background-color: var(--color-bg-main);
  font-family: var(--font-family-body);
  padding: 16px;
  border-radius: 10px;
  border: var(--border-main);
  max-width: 264px;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
  color: var(--color-text-body);
}

.sheet-rolltemplate-powerroll .sheet-header,
.sheet-rolltemplate-ability .sheet-header,
.sheet-rolltemplate-abilitypowerroll .sheet-header {
	grid-column-start: 1;
	grid-column-end: -1;
	font-size: 1.2em;
	font-weight: bold;
}

.sheet-rolltemplate-powerroll .sheet-roll-container,
.sheet-rolltemplate-abilitypowerroll .sheet-roll-container {
	display: grid;
	grid-template-columns: repeat(2, 1fr);
}
.sheet-rolltemplate-powerroll .sheet-header,
.sheet-rolltemplate-powerroll .sheet-header {
	margin-bottom: 3px;
	border-bottom: var(--border-main);
	padding-bottom: 3px;
    line-height: 1.4;
}

.sheet-rolltemplate-ability .sheet-header {
	margin-bottom: 3px;
	padding-bottom: 3px;
    line-height: 1.4;
}

.sheet-rolltemplate-powerroll label,
.sheet-rolltemplate-abilitypowerroll label,
.sheet-rolltemplate-powerroll .sheet-powerroll-edge-bane {
	display: unset;
	margin: unset;
	padding: unset;
	width: unset;
	text-align: unset;
	float: unset;
	font-size: 1em;
	font-weight: bold;
}

.sheet-rolltemplate-powerroll .sheet-powerroll-bonus-penalty {
	grid-column-start: -2;
}

.sheet-rolltemplate-powerroll .sheet-powerroll-crit,
.sheet-rolltemplate-powerroll .sheet-powerroll-total,
.sheet-rolltemplate-powerroll .sheet-powerroll-tier {
	margin-top: 3px;
	border-top: var(--border-main);
	padding-top: 3px;
}

.sheet-rolltemplate-powerroll .sheet-powerroll-crit {
	grid-column-start: 1;
	grid-column-end: -1;
	font-weight: bold;
	color: red;
	text-transform: uppercase;
}

.sheet-rolltemplate-powerroll .sheet-powerroll-total {
	grid-column-start: 1;
}

.sheet-rolltemplate-ability .sheet-description, 
.sheet-rolltemplate-monsterability .sheet-description {
	
  font-size: 0.80em;
  font-style: italic;
  margin-bottom: 10px;
  border-bottom: var(--border-section);
  padding-bottom: 6px;
}

.sheet-rolltemplate-ability .sheet-meta-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 10px;
}

.sheet-rolltemplate-ability .sheet-keywords {
  font-weight: bold;
  font-size: 0.90em;
}

.sheet-rolltemplate-ability .sheet-action-type {
  font-weight: bold;
  font-size: 0.90em;
}

.sheet-rolltemplate-ability .sheet-action-row {
  display: flex;
  justify-content: space-between;
  margin-bottom: 10px;
}

.sheet-rolltemplate-ability .sheet-distance,
.sheet-rolltemplate-ability .sheet-target {
  font-size: 0.80em;
}

.sheet-rolltemplate-ability .sheet-stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  margin-bottom: 10px;
  border-bottom: var(--border-main);
}

.sheet-rolltemplate-ability .sheet-roll-label {
  font-weight: bold;
  font-size: 1em;
}

.sheet-rolltemplate-ability .sheet-roll-formula {
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-family: monospace;
  box-shadow: inset 0 0 2px #aaa;
}

.sheet-rolltemplate-ability .sheet-tiers {
  display: flex;
  flex-direction: column;
  gap: 6px;
}

.sheet-rolltemplate-ability .sheet-tier {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 8px 12px;
  border-radius: 6px;
  border: var(--border-main);
}

.sheet-rolltemplate-ability .sheet-range {
	flex-shrink: 0;
	background-color: var(--color-bg-subsection);
	padding: 2px 6px;
	border-radius: 4px;
	font-weight: bold;
}

.sheet-rolltemplate-ability .sheet-damage {
  font-size: 0.95em;
}

.sheet-rolltemplate-ability .sheet-effect-block {
  margin-top: 14px;
  padding: 10px;
  background-color: var(--color-section);
  border: var(--border-main);
  border-radius: var(--border-radius);
}

.sheet-rolltemplate-ability .sheet-effect-label {
  font-weight: bold;
  margin-bottom: 6px;
  font-size: 1em;
}

.sheet-rolltemplate-ability .sheet-effect-text {
  font-size: 0.95em;
  line-height: 1.4;
}

.sheet-rolltemplate-abilitypowerroll .sheet-header {
	border-bottom: var(--border-main);
	margin-bottom: 6px;
}

.sheet-rolltemplate-abilitypowerroll .sheet-powerroll-tier {
	justify-self: right;
}

/* Monster Ability Roll Template */

.sheet-rolltemplate-monsterability  .sheet-roll-container,
.sheet-rolltemplate-powerrollability .sheet-roll-container {
  background-color: var(--color-bg-main); 
  font-family: var(--font-family-body);
  padding: 16px;
  border-radius: 10px;
  border: var(--border-main);
  max-width: 264px;
  box-shadow: 0 0 8px rgba(0, 0, 0, 0.1);
  color: var(--color-text-body);
}

.sheet-rolltemplate-monsterability .sheet-header,
.sheet-rolltemplate-powerrollability .sheet-header {
  font-size: 1.2em;
  font-weight: bold;
  color: var(--color-text-header);
  font-family: var(--font-family-header);
}

.sheet-rolltemplate-monsterability .sheet-character-name,
.sheet-rolltemplate-powerrollability .sheet-character-name,
.sheet-rolltemplate-powerroll .sheet-character-name {
  font-size: 0.8em;
  font-style: italic;
}

.sheet-rolltemplate-monsterability .sheet-subtype,
.sheet-rolltemplate-powerrollability .sheet-subtype {
  font-size: 0.9em;
  font-style: italic;
  margin-bottom: 10px;
  border-bottom: var(--border-section);
  padding-bottom: 6px;
  font-weight: bold;
}

.sheet-rolltemplate-monsterability .sheet-meta-row,
.sheet-rolltemplate-powerrollability .sheet-meta-row {
  display: grid;
  grid-template-columns: 1fr auto;
  font-size: 0.8em;
  font-weight: bold;
}

.sheet-rolltemplate-powerrollability .sheet-roll-column1,
.sheet-rolltemplate-powerrollability .sheet-roll-column2 {
  font-size: 1em;
  display: grid;
  grid-template-columns: 1fr auto;
  padding: 3px;
}

.sheet-rolltemplate-powerrollability .sheet-roll-column2 {
  margin-bottom: 8px;
  border-bottom: var(--border-main);
  padding-bottom: 8px;
}

.sheet-rolltemplate-monsterability .sheet-action-type, .sheet-rolltemplate-monsterability .sheet-target,
.sheet-rolltemplate-powerrollability .sheet-action-type, .sheet-rolltemplate-powerrollability .sheet-target {
  justify-self: right;
  text-align: right;
}

.sheet-rolltemplate-monsterability .sheet-action-row,
.sheet-rolltemplate-powerrollability .sheet-action-row {
  font-size: 0.8em;
  display: grid;
  grid-template-columns: 1fr auto;
}

.sheet-rolltemplate-monsterability .sheet-effect-block .sheet-effect-label,
.sheet-rolltemplate-powerrollability .sheet-effect-block .sheet-effect-label {
  font-weight: bold;
  font-size: 0.8em;
}

.sheet-rolltemplate-monsterability .sheet-effect-block,
.sheet-rolltemplate-powerrollability .sheet-effect-block {
  margin-top: 14px;
  padding: var(--sheet-padding);
  background-color: var(--color-bg-section);
  border: var(--border-main);
  border-radius: var(--border-radius);
}

.sheet-rolltemplate-monsterability .sheet-effect-text,
.sheet-rolltemplate-powerrollability .sheet-effect-text {
  font-size: .9em;
}

.sheet-rolltemplate-monsterability .sheet-stat-row,
.sheet-rolltemplate-powerrollability .sheet-stat-row {
  display: flex;
  justify-content: space-between;
  align-items: center;
  padding: 6px 0;
  margin-bottom: 10px;
  border-bottom: var(--border-main);
}

.sheet-rolltemplate-monsterability .sheet-roll-label,
.sheet-rolltemplate-powerrollability .sheet-roll-label {
  font-weight: bold;
  font-size: 1em;
}

.sheet-rolltemplate-monsterability .sheet-roll-formula,
.sheet-rolltemplate-powerrollability .sheet-roll-formula {
  padding: 4px 8px;
  border-radius: 4px;
  font-weight: bold;
  font-family: monospace;
  box-shadow: inset 0 0 2px #aaa;
}

.sheet-rolltemplate-monsterability .sheet-tiers,
.sheet-rolltemplate-powerrollability .sheet-tiers {
	display: grid;
	grid-template-columns: auto 1fr;
	gap: 8px;
}

.sheet-rolltemplate-monsterability .sheet-range,
.sheet-rolltemplate-powerrollability .sheet-range {
	background-color: var(--color-bg-section);
	padding: 2px 6px;
	border-radius: 4px;
	font-weight: bold;
	font-size: .8em;
	height: 20px;
	text-align: center;
}

.sheet-rolltemplate-monsterability .sheet-damage,
.sheet-rolltemplate-powerrollability .sheet-damage {
  font-size: 0.95em;
}


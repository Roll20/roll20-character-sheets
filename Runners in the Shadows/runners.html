<div class="preload"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/xptooth-red.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/xptooth-white.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-red.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-black.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-halfgrey.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/stresstooth-white.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/shorttooth-red.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/teeth/shorttooth-grey.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/intuition.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/body.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/willpower.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/stalk.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-study.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/assense.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-survey.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/engineer.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-finesse.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-prowl.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/fight.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-wreck.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-attune.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-command.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-consort.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/interface.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/influence.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-fortune.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-vice.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-crew_tier.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-entanglement.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-cohort_quality.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-lifestyle.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-recovery.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-engagement.png"/><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-harm.png"/>
</div>
<div>
  <input type="hidden" name="attr_stress_max" value="9"/>
  <input type="hidden" name="attr_trauma_max" value="4"/>
  <input type="hidden" name="attr_nuyen_max" value="4"/>
  <input type="hidden" name="attr_stash_max" value="40"/>
  <input type="hidden" name="attr_playbook_xp_max" value="8"/>
  <input type="hidden" name="attr_rep_max" value="12"/>
  <input type="hidden" name="attr_fixer_max" value="6"/>
  <input type="hidden" name="attr_crew_tier_max" value="4"/>
  <input type="hidden" name="attr_heat_max" value="9"/>
  <input type="hidden" name="attr_wanted_max" value="4"/>
  <input type="hidden" name="attr_crewnuyen_max" value="16"/>
  <input type="hidden" name="attr_crew_xp_max" value="8"/>
  <input type="hidden" name="attr_changed_attributes" value=""/>
  <input type="hidden" name="attr_bonusdice" value="Bonus dice"/>
  <input type="hidden" name="attr_numberofdice" value=" {{?{Number of dice|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]}}}"/>
  <input type="hidden" name="attr_notes_query" value="?{Notes}"/>
  <input type="hidden" name="attr_position_query" value="?{Position|Risky,position=Risky|Controlled,position=Controlled|Desperate,position=Desperate|Fortune roll,short=short}"/>
  <input type="hidden" name="attr_effect_query" value="?{Effect|Standard|Limited|Great|Extreme|Zero}"/>
  <input type="hidden" name="attr_title_text" value=""/>
  <input type="hidden" name="attr_consequence_query" value="^{a_consequence}"/>
</div>
<input class="focus-shadow" type="hidden" name="attr_setting_focus_shadow" value="1"/>
<input class="show-broadcast" type="hidden" name="attr_setting_show_broadcast" value="1"/>
<input class="show-itemdesc" type="hidden" name="attr_setting_show_itemdesc" value="1"/>
<input class="show-frienddesc" type="hidden" name="attr_setting_show_frienddesc" value="1"/>
<input class="use-kirsty" type="hidden" name="attr_setting_usekirsty" value="0"/>
<input class="flexwidth" type="hidden" name="attr_setting_flexwidth" value="0"/>
<input class="clocks-only" type="hidden" name="attr_setting_clocks_only" value="0"/>
<input class="custom-action-toggle" type="hidden" name="attr_setting_custom_actions" value="0"/>
<div class="container">
  <input class="type" type="hidden" name="attr_sheet_type" value="character"/>
  <div class="topholder flex">
    <div class="type-selector label">
      <input class="hidden sheet-3waybox" type="checkbox" name="attr_sheet_type" value="faction"/>
      <input class="sheet-3waybox" type="radio" name="attr_sheet_type" value="character" checked="checked"/>
      <input class="sheet-3waybox" type="radio" name="attr_sheet_type" value="crew"/>
      <input class="sheet-3waybox" type="radio" name="attr_sheet_type" value="faction"/><span data-i18n="character_mode"></span><span data-i18n="crew_mode"></span><span data-i18n="faction_mode"></span>
    </div>
    <label class="settings-checkbox">
      <input type="checkbox" name="attr_show_settings" value="1"/><span>y</span>
    </label>
    <div class="version"><span class="version-text" data-i18n="version"></span><span name="attr_version"></span></div>
  </div>
  <input class="hider" type="hidden" name="attr_show_settings" value="0"/>
  <div class="settings">
    <div class="setting-char generaterow">
      <select name="attr_generate_source_character">
        <optgroup data-i18n-label="playbooks">
          <option value="face" data-i18n="face" selected="selected">Face</option>
          <option value="hacker" data-i18n="hacker">Hacker</option>
          <option value="muscle" data-i18n="muscle">Muscle</option>
          <option value="punk" data-i18n="punk">Punk</option>
          <option value="rigger" data-i18n="rigger">Rigger</option>
          <option value="snake" data-i18n="snake">Snake</option>
          <option value="trigger" data-i18n="trigger">Trigger</option>
        </optgroup>
        <optgroup data-i18n-label="supernatural_playbooks">
          <option value="adept" data-i18n="adept">Adept</option>
          <option value="mage" data-i18n="mage">Mage</option>
          <option value="techno" data-i18n="techno">Techno</option>
        </optgroup>
        <optgroup data-i18n-label="special_playbooks">
          <option value="free_spirit" data-i18n="free_spirit">Free Spirit</option>
          <option value="infected" data-i18n="infected">Infected</option>
          <option value="shell" data-i18n="shell">Shell</option>
        </optgroup>
      </select>
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_ability" value="1"/><span data-i18n="add_abilities"></span>
      </label>
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_friend" value="1"/><span data-i18n="add_friends"></span>
      </label>
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_playbookitem" value="1"/><span data-i18n="add_items"></span>
      </label>
    </div>
    <div class="setting-crew generaterow">
      <select name="attr_generate_source_crew">
        <option value="assassins" data-i18n="assassins" selected="selected"></option>
        <option value="couriers" data-i18n="couriers"></option>
        <option value="cult" data-i18n="cult"></option>
        <option value="mercs" data-i18n="mercs"></option>
        <option value="radicals" data-i18n="radicals"></option>
        <option value="shadows" data-i18n="shadows"></option>
      </select>
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_crewability" value="1"/><span data-i18n="add_abilities"></span>
      </label>
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_contact" value="1"/><span data-i18n="add_contacts"></span>
      </label>
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_upgrade" value="1"/><span data-i18n="add_upgrades"></span>
      </label>
    </div>
    <div class="setting-faction generaterow">
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_factions" value="1"/><span data-i18n="generate_factions"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_lineage" value="1" checked="checked"/><span></span><span data-i18n="show_lineage"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_permutations" value="1" checked="checked"/><span></span><span data-i18n="show_permutations"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <select name="attr_setting_extra_stress">
          <option value="0" selected="selected">9</option>
          <option value="1">10</option>
          <option value="2">11</option>
          <option value="3">12</option>
          <option value="4">13</option>
          <option value="5">14</option>
        </select><span data-i18n="number_stress_boxes"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_stress_label" value="Stress"/><span data-i18n="stress_label"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_extra_trauma" value="1"/><span></span><span data-i18n="show_extra_trauma_box"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_trauma_label" value="Trauma"/><span data-i18n="trauma_label"></span>
      </label>
    </div>
    <div class="setting-char setting-crew">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_extra_xp_condition" value="1"/><span></span><span data-i18n="show_extra_xp_condition"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_extra_xp_boxes" value="1"/><span></span><span data-i18n="extra_xp_boxes"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_frame" value="1"/><span></span><span data-i18n="show_frame_section"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_bandolierall" value="1"/><span></span><span data-i18n="show_bandolier"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_bandolier_label" value="special item"/><span data-i18n="bandolier_label"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_use" value="1"/><span></span><span data-i18n="show_use_slots"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_frame2" value="1"/><span></span><span data-i18n="show_frame2_section"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_bandolierall2" value="1"/><span></span><span data-i18n="show_bandolier2"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_bandolier2_label" value="special item"/><span data-i18n="bandolier2_label"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_use2" value="1"/><span></span><span data-i18n="show_use_slots2"></span>
      </label>
    </div>
    <div class="setting-char setting-crew">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_itemdesc" value="1" checked="checked"/><span></span><span data-i18n="show_item_description"></span>
      </label>
    </div>
    <div class="setting-char setting-crew">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_frienddesc" value="1" checked="checked"/><span></span><span data-i18n="show_friend_contact_details"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_assense" value="1"/><span></span><span data-i18n="show_assense"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_attune" value="1"/><span></span><span data-i18n="show_attune"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_method" value="1"/><span></span><span data-i18n="show_method"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_method_label" value="method"/><span data-i18n="method_label"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_drawback" value="1"/><span></span><span data-i18n="show_drawback"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_drawback_label" value="drawback"/><span data-i18n="drawback_label"></span>
      </label>
    </div>
    <div class="setting-crew">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_tradition" value="1"/><span></span><span data-i18n="show_tradition"></span>
      </label>
    </div>
    <div class="setting-crew">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_tradition_label" value="Tradition"/><span data-i18n="tradition_label"></span>
      </label>
    </div>
    <div class="setting-crew">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_heat_label" value="Heat"/><span data-i18n="heat_label"></span>
      </label>
    </div>
    <div class="setting-crew">
      <label>
        <input type="text" spellcheck="false" name="attr_setting_wanted_label" value="Wanted"/><span data-i18n="wanted_label"></span>
      </label>
    </div>
    <div class="setting-crew">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_movement" value="1"/><span></span><span data-i18n="show_movement"></span>
      </label>
    </div>
    <div class="setting-char"><span data-i18n="max_rating"></span><span></span>
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_max_rating_intuition" value="1"/><span></span><span data-i18n="mind"></span>
      </label>
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_max_rating_body" value="1"/><span></span><span data-i18n="body"></span>
      </label>
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_max_rating_willpower" value="1"/><span></span><span data-i18n="soul"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_cohort" value="1"/><span></span><span data-i18n="show_cohort_section"></span>
      </label>
    </div>
    <div class="setting-char"><span data-i18n="resistance_bonus"></span>
      <label>
        <input type="number" name="attr_setting_resbonus_intuition" value="0"/><span data-i18n="intuition"></span>
      </label>
      <label>
        <input type="number" name="attr_setting_resbonus_body" value="0"/><span data-i18n="body"></span>
      </label>
      <label>
        <input type="number" name="attr_setting_resbonus_willpower" value="0"/><span data-i18n="willpower"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_consequence_query" value="1"/><span></span><span data-i18n="query_for_consequence"></span>
      </label>
    </div>
    <div class="setting-char"><span data-i18n="load:"></span>
      <label>
        <input type="number" name="attr_setting_load_l" value="3"/><span data-i18n="light"></span>
      </label>
      <label>
        <input type="number" name="attr_setting_load_n" value="5"/><span data-i18n="normal"></span>
      </label>
      <label>
        <input type="number" name="attr_setting_load_h" value="6"/><span data-i18n="heavy"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <select name="attr_setting_traumata_set">
          <option value="normal" data-i18n="normal" selected="selected"></option>
          <option value="free_spirit" data-i18n="free_spirit"></option>
          <option value="infected" data-i18n="infected"></option>
          <option value="shell" data-i18n="shell"></option>
        </select><span data-i18n="traumata"></span>
      </label>
    </div>
    <div class="setting-char">
      <label>
        <select name="attr_setting_vice_type">
          <option value="normal" data-i18n="normal" selected="selected"></option>
          <option value="free_spirit" data-i18n="free_spirit"></option>
          <option value="infected" data-i18n="infected"></option>
          <option value="shell" data-i18n="shell"></option>
        </select><span data-i18n="vice"></span>
      </label>
    </div>
    <div class="setting-char setting-crew setting-faction">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_flexwidth" value="1"/><span></span><span data-i18n="flexible_width"></span>
      </label>
    </div>
    <div class="setting-char setting-crew setting-faction">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_focus_shadow" value="1" checked="checked"/><span></span><span data-i18n="show_outline"></span>
      </label>
    </div>
    <div class="setting-char setting-crew setting-faction">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_show_broadcast" value="1" checked="checked"/><span></span><span data-i18n="show_broadcast"></span>
      </label>
    </div>
    <div class="setting-char setting-crew">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_autofill" value="1" checked="checked"/><span></span><span data-i18n="fill_fields"></span>
      </label>
    </div>
    <div class="setting-char setting-crew setting-faction kirsty-option">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_usekirsty" value="1"/><span></span><span data-i18n="use_kirsty"></span>
      </label>
    </div>
    <div class="setting-char setting-crew">
      <input class="wide" type="text" spellcheck="false" name="attr_chat_image" value=""/><span data-i18n="chat_image"></span>
    </div>
    <div class="setting-faction">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_clocks_only" value="1"/><span></span><span data-i18n="clocks_only"></span>
      </label>
    </div>
    <div class="setting-char custom-actions">
      <label>
        <input class="checkbox squarebox" type="checkbox" name="attr_setting_custom_actions" value="1"/><span></span><span data-i18n="custom_action_labels"></span>
      </label>
      <div class="column">
        <input class="attribute-label" type="text" spellcheck="false" name="attr_intuition_label" value="Intuition"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_engineer_label" value="Engineer"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_interface_label" value="Interface"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_stalk_label" value="Stalk"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_survey_label" value="Survey"/>
      </div>
      <div class="column">
        <input class="attribute-label" type="text" spellcheck="false" name="attr_body_label" value="Body"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_fight_label" value="Fight"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_finesse_label" value="Finesse"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_prowl_label" value="Prowl"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_wreck_label" value="Wreck"/>
      </div>
      <div class="column">
        <input class="attribute-label" type="text" spellcheck="false" name="attr_willpower_label" value="Willpower"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_command_label" value="Command"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_consort_label" value="Consort"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_influence_label" value="Influence"/>
        <input class="action-label" type="text" spellcheck="false" name="attr_study_label" value="Study"/>
      </div>
    </div>
  </div>
  <div class="type-character grid">
    <div class="left-column grid">
      <div class="header grid sheet-2col">
        <div class="bladeslogo"></div>
        <label>
          <input type="text" spellcheck="false" name="attr_alias"/>
          <div class="label text title" data-i18n="alias"></div>
        </label>
        <label>
          <input type="text" spellcheck="false" name="attr_look"/>
          <div class="label text title" data-i18n="look"></div>
        </label>
        <label>
          <input type="text" spellcheck="false" name="attr_name"/>
          <div class="label text title" data-i18n="name"></div>
        </label>
        <label>
          <div class="auto-expand"><span name="attr_background"></span>
            <textarea spellcheck="false" name="attr_background"></textarea>
          </div>
          <input type="hidden" name="attr_background" value=""/>
          <div class="text"><span class="label title" data-i18n="background"></span><span class="uppercase info" data-i18n="background_info"></span></div>
        </label>
        <label>
          <div class="auto-expand"><span name="attr_idn"></span>
            <textarea spellcheck="false" name="attr_idn"></textarea>
          </div>
          <input type="hidden" name="attr_idn" value=""/>
          <div class="text"><span class="label title" data-i18n="idn"></span><span class="uppercase info" data-i18n="idn_info"></span></div>
        </label>
        <label>
          <div class="auto-expand"><span name="attr_heritage"></span>
            <textarea spellcheck="false" name="attr_heritage"></textarea>
          </div>
          <input type="hidden" name="attr_heritage" value=""/>
          <div class="text"><span class="label title" data-i18n="heritage"></span><span class="uppercase info" data-i18n="heritage_info"></span></div>
        </label>
        <label>
          <div class="auto-expand"><span name="attr_lineage"></span>
            <textarea spellcheck="false" name="attr_lineage"></textarea>
          </div>
          <input type="hidden" name="attr_lineage" value=""/>
          <div class="text"><span class="label title" data-i18n="lineage"></span><span class="uppercase info" data-i18n="lineage_info"></span></div>
        </label>
        <input class="vice-input" type="hidden" name="attr_setting_vice_type" value="normal"/>
        <label class="vice normal">
          <div class="auto-expand"><span name="attr_vice_purveyor"></span>
            <textarea spellcheck="false" name="attr_vice_purveyor"></textarea>
          </div>
          <input type="hidden" name="attr_vice_purveyor" value=""/>
          <div class="text"><span class="label title" data-i18n="vice_purveyor"></span><span class="uppercase info" data-i18n="vice_info"></span></div>
          <button class="vicebutton borderbutton" type="roll" name="roll_Vice" value="&{template:blades} {{charname=@{character_name}}} {{subtitle=^{viceroll1}@{stress}&nbsp;@{setting_stress_label}^{viceroll2}}} {{type=vice}} {{title-vice=1}} {{title=^{vice}}} @{vice_formula} {{instructions=^{vice_instructions}}} {{charimage=@{chat_image}}} @{title_text}" data-i18n="indulge_vice">
          </button>
          <input type="hidden" name="attr_vice_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
        </label>
        <div class="vice free_spirit"><span class="italic" data-i18n="free_spirit_viceblurb"></span></div>
        <div class="vice shell">
          <label>
            <input type="text" spellcheck="false" name="attr_shell_functions" data-i18n-placeholder="choose_3_functions"/>
            <input type="hidden" name="attr_shell_functions" value=""/>
            <div class="text"><span class="label title" data-i18n="functions"></span><span class="uppercase info" data-i18n="functions_info"></span></div>
          </label><span class="italic" data-i18n="shell_viceblurb"></span>
        </div>
        <div class="vice infected"><span class="italic" data-i18n="infected_viceblurb"></span>
          <button class="vicebutton borderbutton" type="roll" name="roll_Vice" value="&{template:blades} {{charname=@{character_name}}} {{subtitle=^{viceroll1}@{stress}&nbsp;@{setting_stress_label}^{viceroll2}}} {{type=vice}} {{title-vice=1}} {{title=^{vice}}} @{vice_formula} {{instructions=^{vice_instructions}}} {{charimage=@{chat_image}}} @{title_text}" data-i18n="indulge_vice">
          </button>
        </div>
      </div>
      <div class="stress flex sheet-2col">
        <div class="stress1 blackheader">
          <div class="label"><span name="attr_setting_stress_label"></span></div>
        </div>
        <div class="stress2 blackborder flex">
          <input class="tooth zero" type="radio" name="attr_stress" value="0" checked="checked"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="1"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="2"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="3"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="4"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="5"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="6"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="7"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="8"/><span></span>
          <input class="hidden extra-teeth" type="checkbox" name="attr_setting_extra_stress" value="0" checked="checked"/>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="9"/><span></span>
          <input class="hidden extra-teeth" type="checkbox" name="attr_setting_extra_stress" value="1"/>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="10"/><span></span>
          <input class="hidden extra-teeth" type="checkbox" name="attr_setting_extra_stress" value="2"/>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="11"/><span></span>
          <input class="hidden extra-teeth" type="checkbox" name="attr_setting_extra_stress" value="3"/>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="12"/><span></span>
          <input class="hidden extra-teeth" type="checkbox" name="attr_setting_extra_stress" value="4"/>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="13"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_stress" value="14"/><span></span>
        </div>
        <div class="stress3">
          <div class="blackheader">
            <div class="label"><span name="attr_setting_trauma_label"></span></div>
          </div>
          <div class="traumaholder flex">
            <input class="tooth zero" type="radio" name="attr_trauma" value="0" checked="checked"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_trauma" value="1"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_trauma" value="2"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_trauma" value="3"/><span></span>
            <input class="hidden extra-teeth" type="checkbox" name="attr_setting_extra_trauma" value="0" checked="checked"/>
            <input class="tooth regulartooth" type="radio" name="attr_trauma" value="4"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_trauma" value="5"/><span></span>
          </div>
        </div>
        <div class="stress4 blackborder">
          <input class="input" type="hidden" name="attr_setting_traumata_set" value="normal"/>
          <div class="normal">
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_cold" value="1"/><span data-i18n="cold"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_haunted" value="1"/><span data-i18n="haunted"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_obsessed" value="1"/><span data-i18n="obsessed"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_paranoid" value="1"/><span data-i18n="paranoid"></span>
              </label>
            </div>
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_reckless" value="1"/><span data-i18n="reckless"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_soft" value="1"/><span data-i18n="soft"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_unstable" value="1"/><span data-i18n="unstable"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_vicious" value="1"/><span data-i18n="vicious"></span>
              </label>
            </div>
          </div>
          <div class="free_spirit">
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_chaotic" value="1"/><span data-i18n="chaotic"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_destructive" value="1"/><span data-i18n="destructive"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_furious" value="1"/><span data-i18n="furious"></span>
              </label>
            </div>
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_obsessive" value="1"/><span data-i18n="obsessive"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_territorial" value="1"/><span data-i18n="territorial"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_savage" value="1"/><span data-i18n="savage"></span>
              </label>
            </div>
          </div>
          <div class="shell">
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_clanking" value="1"/><span data-i18n="clanking"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_leaking" value="1"/><span data-i18n="leaking"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_fixated" value="1"/><span data-i18n="fixated"></span>
              </label>
            </div>
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_smoking" value="1"/><span data-i18n="smoking"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_sparking" value="1"/><span data-i18n="sparking"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_unstable" value="1"/><span data-i18n="unstable"></span>
              </label>
            </div>
          </div>
          <div class="infected">
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_cold" value="1"/><span data-i18n="cold"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_haunted" value="1"/><span data-i18n="haunted"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_obsessed" value="1"/><span data-i18n="obsessed"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_paranoid" value="1"/><span data-i18n="paranoid"></span>
              </label>
            </div>
            <div class="flex">
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_ruthless" value="1"/><span data-i18n="ruthless"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_secretive" value="1"/><span data-i18n="secretive"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_unstable" value="1"/><span data-i18n="unstable"></span>
              </label><span>—</span>
              <label class="text-button">
                <input type="checkbox" name="attr_trauma_vicious" value="1"/><span data-i18n="vicious"></span>
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="harm-nuyen grid sheet-2col">
        <div class="harm">
          <div class="blackheader">
            <div class="label" data-i18n="harm"></div>
            <button class="broadcast-button" type="roll" name="roll_Harm" value="&amp;{template:bitd-broadcast} {{charname=@{character_name}}} {{harm=1}} {{harm3=@{harm3}}} {{harm2_1=@{harm2_1}}} {{harm2_2=@{harm2_2}}} {{harm1_1=@{harm1_1}}} {{harm1_2=@{harm1_2}}} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="send_details_to_chat">:</button>
          </div>
          <div class="harmbody">
            <div class="flex-center harmnumber">3</div>
            <textarea class="twocols" spellcheck="false" name="attr_harm3"></textarea>
            <div class="flex-center harmeffect" data-i18n="need_help"></div>
            <div class="flex-center harmnumber">2</div>
            <textarea spellcheck="false" name="attr_harm2_1"></textarea>
            <textarea spellcheck="false" name="attr_harm2_2"></textarea>
            <div class="flex-center harmeffect" data-i18n="minus1d"></div>
            <div class="flex-center harmnumber">1</div>
            <textarea spellcheck="false" name="attr_harm1_1"></textarea>
            <textarea spellcheck="false" name="attr_harm1_2"></textarea>
            <div class="flex-center harmeffect" data-i18n="less_effect"></div>
          </div>
        </div>
        <div class="healing">
          <div class="blackheader">
            <button class="label rollbutton inherit" type="roll" name="roll_Recovery" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{short=short}} {{title-recovery=1}} {{title=^{recovery}}} {{subtitle=^{rolls_for}}} @{numberofdice} {{charimage=@{chat_image}}} @{title_text}" data-i18n="healing"></button>
          </div>
          <div class="col100 healing-progress" data-i18n="progress_clock" data-i18n-title="recoveryblurb"></div>
          <input class="size" type="hidden" name="attr_recovery_max" value="4"/>
          <div class="clock-container">
            <div class="spoke-0 all"></div>
            <div class="spoke-90 all"></div>
            <input class="zero input-progress" type="radio" name="attr_recovery" value="0" checked="checked"/><span></span>
            <input class="input-progress all" type="radio" name="attr_recovery" value="1" data-i18n-title="recoveryblurb"/>
            <input class="input-progress all" type="radio" name="attr_recovery" value="2" data-i18n-title="recoveryblurb"/>
            <input class="input-progress all" type="radio" name="attr_recovery" value="3" data-i18n-title="recoveryblurb"/>
            <input class="input-progress all" type="radio" name="attr_recovery" value="4" data-i18n-title="recoveryblurb"/>
            <div class="clock"></div>
          </div>
        </div>
        <div class="armor">
          <div class="blackheader">
            <div class="label" data-i18n="armor_uses"></div>
          </div>
          <label>
            <input class="checkbox squarebox" type="checkbox" name="attr_armor" value="1"/><span></span><span class="label" data-i18n="armor"></span>
          </label>
          <label>
            <input class="checkbox squarebox" type="checkbox" name="attr_heavy" value="1"/><span></span><span class="label" data-i18n="+heavy"></span>
          </label>
          <label>
            <input class="checkbox squarebox" type="checkbox" name="attr_special" value="1"/><span></span><span class="label" data-i18n="special"></span>
          </label>
        </div>
        <div class="nuyen-and-stash">
          <div class="nuyenrow flex">
            <div class="nuyen flex">
              <div class="label" data-i18n="nuyen"></div>
              <input class="zero" type="radio" name="attr_nuyen" value="0" checked="checked"/><span></span>
              <input class="radiobox" type="radio" name="attr_nuyen" value="1"/><span></span>
              <input class="radiobox" type="radio" name="attr_nuyen" value="2"/><span></span>
              <input class="radiobox" type="radio" name="attr_nuyen" value="3"/><span></span>
              <input class="radiobox" type="radio" name="attr_nuyen" value="4"/><span></span>
            </div>
            <div class="stashbutton-holder">
              <input type="hidden" name="attr_stash_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <button class="rollbutton label" type="roll" name="roll_Stash" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{short=short}} {{title-lifestyle=1}} {{title=^{lifestyle}}} {{subtitle=^{rolls}}} @{stash_formula} {{charimage=@{chat_image}}} @{title_text}" data-i18n="stash">
              </button>
            </div>
          </div>
          <div class="stash">
            <input class="zero" type="radio" name="attr_stash" value="0" checked="checked"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="1"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="2"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="3"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="4"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="5"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="6"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="7"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="8"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="9"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="10"/><span></span><br/>
            <input class="radiobox" type="radio" name="attr_stash" value="11"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="12"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="13"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="14"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="15"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="16"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="17"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="18"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="19"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="20"/><span></span><br/>
            <input class="radiobox" type="radio" name="attr_stash" value="21"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="22"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="23"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="24"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="25"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="26"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="27"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="28"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="29"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="30"/><span></span><br/>
            <input class="radiobox" type="radio" name="attr_stash" value="31"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="32"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="33"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="34"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="35"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="36"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="37"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="38"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="39"/><span></span>
            <input class="radiobox" type="radio" name="attr_stash" value="40"/><span></span><br/>
          </div>
        </div>
      </div>
      <div class="specialabilities sheet-2col">
        <div class="specialheader label flex">
          <input class="inherit" type="text" spellcheck="false" name="attr_special_abilities_title" value="Special Abilities"/>
        </div>
        <div class="greyholder">
          <fieldset class="repeating_ability">
            <div class="specialability flex">
              <button class="broadcast-button" type="roll" name="roll_Show" value="&amp;{template:bitd-broadcast} {{charname=@{character_name}}} {{type=^{special_ability}}} {{title=@{name}}} {{content=@{description}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button>
              <input class="checkbox circlebox" type="checkbox" name="attr_check" value="1"/><span></span>
              <div class="auto-expand abilityname smallcaps"><span name="attr_name"></span>
                <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="ability_name"></textarea>
              </div>
              <div class="auto-expand abilitydesc"><span name="attr_description"></span>
                <textarea spellcheck="false" name="attr_description" data-i18n-placeholder="ability_description"></textarea>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div class="advancement sheet-2col">
        <div class="advancement-header flex blackheader">
          <div class="label markxp" data-i18n="mark_xp:"></div>
          <div class="label" data-i18n="playbook_advancement"></div>
          <div class="xpholder flex">
            <input class="extra_xp_boxes" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
            <input class="tooth zero" type="radio" name="attr_playbook_xp" value="0" checked="checked"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="1"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="2"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="3"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="4"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="5"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="6"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="7"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="8"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="9"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="10"/><span></span>
            <input class="toothhider" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="11"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_playbook_xp" value="12"/><span></span>
          </div>
        </div>
        <ul class="advancement-desc">
          <li data-i18n="xp_desperate"></li>
          <li class="nondot" data-i18n="xp_top"></li>
          <li>
            <div class="auto-expand"><span name="attr_xp_condition"></span>
              <textarea spellcheck="false" name="attr_xp_condition" data-i18n-placeholder="xp_specific"></textarea>
            </div>
          </li>
          <input class="hider" type="hidden" name="attr_setting_extra_xp_condition" value="0"/>
          <li>
            <div class="auto-expand"><span name="attr_xp_condition_extra"></span>
              <textarea spellcheck="false" name="attr_xp_condition_extra" data-i18n-placeholder="xp_specific_extra"></textarea>
            </div>
          </li>
          <li>
            <div class="auto-expand"><span name="attr_xp_condition2">You expressed your beliefs, drives, heritage, or background.</span>
              <textarea spellcheck="false" name="attr_xp_condition2">You expressed your beliefs, drives, heritage, or background.</textarea>
            </div>
          </li>
          <li>
            <div class="auto-expand"><span name="attr_xp_condition3">You struggled with issues from dystopia, your harm, vice, or trauma.</span>
              <textarea spellcheck="false" name="attr_xp_condition3">You struggled with issues from dystopia, your harm, vice, or trauma.</textarea>
            </div>
          </li>
        </ul>
      </div>
      <div class="stress flex sheet-2col">
        <div class="stress1 blackheader">
          <div class="label"><span data-i18n="lost_essence"></span></div>
        </div>
        <div class="stress2 blackborder flex">
          <input class="tooth zero" type="radio" name="attr_lost_essence" value="0" checked="checked"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_lost_essence" value="1"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_lost_essence" value="2"/><span></span>
          <input class="tooth stresstooth" type="radio" name="attr_lost_essence" value="3"/><span></span>
        </div>
        <div class="stress3">
          <div class="blackheader">
            <div class="label"><span data-i18n="symptoms"></span></div>
          </div>
          <div class="symptomsholder flex">
            <input class="tooth hidden" type="checkbox" name="attr_lost_essence" value="0" checked="checked"/><span></span>
            <input class="tooth hidden" type="checkbox" name="attr_lost_essence" value="1"/>
            <input class="tooth hidden" type="checkbox" name="attr_lost_essence" value="2"/>
            <input class="tooth hidden" type="checkbox" name="attr_lost_essence" value="3"/>
            <input class="tooth regulartooth" type="radio" name="attr_lost_essence" value="4"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_lost_essence" value="5"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_lost_essence" value="6"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_lost_essence" value="7"/><span></span>
            <input class="tooth regulartooth" type="radio" name="attr_lost_essence" value="8"/><span></span>
          </div>
        </div>
        <div class="essence4 blackborder">
          <div class="flex">
            <label class="text-button">
              <input type="checkbox" name="attr_symptoms_service_required" value="1"/><span data-i18n="service_required"></span>
            </label><span>—</span>
            <label class="text-button">
              <input type="checkbox" name="attr_symptoms_twitchy" value="1"/><span data-i18n="twitchy"></span>
            </label><span>—</span>
            <label class="text-button">
              <input type="checkbox" name="attr_symptoms_signal-reliant" value="1"/><span data-i18n="signal"></span>
            </label>
          </div>
          <div class="flex">
            <label class="text-button">
              <input type="checkbox" name="attr_symptoms_signal-reliant" value="1"/><span data-i18n="reliant"></span>
            </label><span>—</span>
            <label class="text-button">
              <input type="checkbox" name="attr_symptoms_cyberpsychosis" value="1"/><span data-i18n="cyberpsychosis"></span>
            </label><span>—</span>
            <label class="text-button">
              <input type="checkbox" name="attr_symptoms_essencedeath" value="1"/><span data-i18n="essencedeath"></span>
            </label>
          </div>
        </div>
      </div>
      <div class="sheet-2col">
        <input class="title-checkbox" type="checkbox" name="attr_show_implants" value="1" checked="checked"/><span class="label blankheader" data-i18n="implant_specs"></span>
        <div>
          <div class="header grid sheet-2col">
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="senses"></span>
                <span class="ten" data-i18n="senses_info"></span></span>
                <div class="flex">
                  <label>
                    <input class="zero" type="radio" name="attr_senses_type" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button">
                    <input type="radio" name="attr_senses_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                  </label><span>&nbsp;</span>
                  <label class="text-button">
                    <input type="radio" name="attr_senses_type" value="2"/><span class="label title" data-i18n="b"></span><span class="label title bioengineered" data-i18n="bioengineered"></span>
                  </label>
                </div>
                <div class="flex">
                  <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                  <input class="label" type="number" name="attr_senses_quality" min="0" max="5" value="0"/>
                </div>
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_dampening1" value="1"/><span data-i18n="dampening"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_widened1" value="1"/><span data-i18n="widened"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_heightened1" value="1"/><span data-i18n="heightened"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike1" value="1"/><span data-i18n="lifelike"></span>
                </label>
                <div class="flex implants">
                  <label class="text-button implants">
                    <input class="zero implants" type="radio" name="attr_sense_option1" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option1" value="1"/><span data-i18n="ears"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option1" value="2"/><span data-i18n="eyes"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option1" value="3"/><span data-i18n="olf"></span>
                  </label>
                </div>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_senses_eyes" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_senses_eyes" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_senses_eyes" value="2"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_senses_eyes" value="3"/><span></span>
                </div>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_dampening2" value="1"/><span data-i18n="dampening"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_widened2" value="1"/><span data-i18n="widened"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_heightened2" value="1"/><span data-i18n="heightened"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike2" value="1"/><span data-i18n="lifelike"></span>
                </label>
                <div class="flex implants">
                  <label class="text-button implants">
                    <input class="zero implants" type="radio" name="attr_sense_option2" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option2" value="1"/><span data-i18n="ears"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option2" value="2"/><span data-i18n="eyes"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option2" value="3"/><span data-i18n="olf"></span>
                  </label>
                </div>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_senses_ears" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_senses_ears" value="4"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_senses_ears" value="5"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_senses_ears" value="6"/><span></span>
                </div>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_dampening3" value="1"/><span data-i18n="dampening"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_widened3" value="1"/><span data-i18n="widened"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_heightened3" value="1"/><span data-i18n="heightened"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike3" value="1"/><span data-i18n="lifelike"></span>
                </label>
                <div class="flex implants">
                  <label class="text-button implants">
                    <input class="zero implants" type="radio" name="attr_sense_option3" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option3" value="1"/><span data-i18n="ears"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option3" value="2"/><span data-i18n="eyes"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_sense_option3" value="3"/><span data-i18n="olf"></span>
                  </label>
                </div>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_senses_olf" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_senses_olf" value="7"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_senses_olf" value="8"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_senses_olf" value="9"/><span></span>
                </div>
              </div>
            </div>
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="neural"></span>
                <span class="ten" data-i18n="neural_info"></span></span>
                <div class="flex">
                  <label>
                    <input class="zero" type="radio" name="attr_neural_type" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button">
                    <input type="radio" name="attr_neural_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                  </label><span>&nbsp;</span>
                  <label class="text-button">
                    <input type="radio" name="attr_neural_type" value="2"/><span class="label title" data-i18n="b"></span><span class="label title bioengineered" data-i18n="bioengineered"></span>
                  </label>
                </div>
                <div class="flex">
                  <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                  <input class="label" type="number" name="attr_neural_quality" min="0" max="5" value="0"/>
                </div>  
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_adrenaline" value="1"/><span data-i18n="adrenaline"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_comm/deck" value="1"/><span data-i18n="comm/deck"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_control_rig" value="1"/><span data-i18n="control_rig"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_pheromone_secretor" value="1"/><span data-i18n="pheromone_secretor"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_metabooster" value="1"/><span data-i18n="metabooster"></span>
                </label><span></span>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_neural" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_neural" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_neural" value="2"/><span></span>
                </div>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_reflexes2" value="1"/><span data-i18n="reflexes2"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_skilljack" value="1"/><span data-i18n="skilljack"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_vocalflex" value="1"/><span data-i18n="vocalflex"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_pain_limiter" value="1"/><span data-i18n="pain_limiter"></span>
                </label><span data-i18n="min_qual"></span>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_neural" value="0" checked="checked"/>
                <input class="hidden fakeradio" type="checkbox" name="attr_neural" value="1"/>
                <input class="hidden fakeradio" type="checkbox" name="attr_neural" value="2"/>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_neural" value="3"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_neural" value="4"/><span></span>
                </div>
              </div>
            </div>        
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="arms"></span>
                <span class="ten" data-i18n="arms_info"></span></span>
                <div class="flex">
                  <label>
                    <input class="zero" type="radio" name="attr_arms_type" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button">
                    <input type="radio" name="attr_arms_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                  </label><span>&nbsp;</span>
                  <label class="text-button">
                    <input type="radio" name="attr_arms_type" value="2"/><span class="label title" data-i18n="b"></span><span class="label title bioengineered" data-i18n="bioengineered"></span>
                  </label>  
                </div>
                <div class="flex">
                  <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                  <input class="label" type="number" name="attr_arms_quality" min="0" max="5" value="0"/>
                </div>
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_stronger" value="1"/><span data-i18n="stronger"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_detachable_la" value="1"/><span data-i18n="detachable"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_reach_la" value="1"/><span data-i18n="reach"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_points_la" value="1"/><span data-i18n="points"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike_la" value="1"/><span data-i18n="lifelike"></span>
                </label>
                <div class="flex implants">
                  <label class="text-button implants">
                    <input class="zero implants" type="radio" name="attr_arm_option1" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button implants">
                    <input type="radio" name="attr_arm_option1" value="1"/><span data-i18n="left"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_arm_option1" value="2"/><span data-i18n="right"></span>
                  </label>
                </div>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_arm_right" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_arm_right" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_arm_right" value="2"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_arm_right" value="3"/><span></span>
                </div>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_stronger" value="1"/><span data-i18n="stronger"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_detachable_ra" value="1"/><span data-i18n="detachable"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_reach_ra" value="1"/><span data-i18n="reach"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_points_ra" value="1"/><span data-i18n="points"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike_ra" value="1"/><span data-i18n="lifelike"></span>
                </label>
                <div class="flex implants">
                  <label class="text-button implants">
                    <input class="zero implants" type="radio" name="attr_arm_option2" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button implants">
                    <input type="radio" name="attr_arm_option2" value="1"/><span data-i18n="left"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_arm_option2" value="2"/><span data-i18n="right"></span>
                  </label>
                </div>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_arm_left" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_arm_left" value="4"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_arm_left" value="5"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_arm_left" value="6"/><span></span>
                </div>
              </div>
            </div>
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="vital_organs"></span>
                <span class="ten" data-i18n="vital_organs_info"></span></span>
                <div class="flex">
                  <label>
                    <input class="zero" type="radio" name="attr_organs_type" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button">
                    <input type="radio" name="attr_organs_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                  </label><span>&nbsp;</span>
                  <label class="text-button">
                    <input type="radio" name="attr_organs_type" value="2"/><span class="label title" data-i18n="b"></span><span class="label title bioengineered" data-i18n="bioengineered"></span>
                  </label>                    
                </div>
                <div class="flex">
                  <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                  <input class="label" type="number" name="attr_organs_quality" min="0" max="5" value="0"/>
                </div>
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_amphibious" value="1"/><span data-i18n="amphibious"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_biorepair" value="1"/><span data-i18n="biorepair"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_inhaled" value="1"/><span data-i18n="inhaled"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_injected" value="1"/><span data-i18n="injected"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_ingested" value="1"/><span data-i18n="ingested"></span>
                </label>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_vital_organs" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_vital_organs" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_vital_organs" value="2"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_vital_organs" value="3"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_vital_organs" value="4"/><span></span>
                </div>
              </div>
            </div>
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="compartment"></span>
              <span class="ten" data-i18n="compartment_info"></span></span>
              <div class="flex">
                <label>
                  <input class="zero" type="radio" name="attr_compartment_type" value="0" checked="checked"/><span></span>
                </label>
                <label class="text-button">
                  <input type="radio" name="attr_compartment_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                </label>
              </div>
              <div class="flex">
                <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                <input class="label" type="number" name="attr_compartment_quality" min="0" max="5" value="0"/>
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_left_hip" value="1"/><span data-i18n="left_hip"></span>
                </label><span data-i18n="+1_load"></span><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_right_hip" value="1"/><span data-i18n="right_hip"></span>
                </label><span data-i18n="+1_load"></span>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_compartments" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_compartments" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_compartments" value="2"/><span></span>
                </div>
              </div>
            </div>
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="legs"></span>
                <span class="ten" data-i18n="legs_info"></span></span>
                <div class="flex">
                  <label>
                    <input class="zero" type="radio" name="attr_legs_type" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button">
                    <input type="radio" name="attr_legs_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                  </label><span>&nbsp;</span>
                  <label class="text-button">
                    <input type="radio" name="attr_legs_type" value="2"/><span class="label title" data-i18n="b"></span><span class="label title bioengineered" data-i18n="bioengineered"></span>
                  </label>
                </div>
                <div class="flex">
                  <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                  <input class="label" type="number" name="attr_legs_quality" min="0" max="5" value="0"/>
                </div>
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_aquatic" value="1"/><span data-i18n="aquatic"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_high_jump" value="1"/><span data-i18n="high_jump"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_swift" value="1"/><span data-i18n="swift"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_detachable_ll" value="1"/><span data-i18n="detachable"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike_ll" value="1"/><span data-i18n="lifelike"></span>
                </label>
                <div class="flex implants">
                  <label class="text-button implants">
                    <input class="zero implants" type="radio" name="attr_leg_option1" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button implants">
                    <input type="radio" name="attr_leg_option1" value="1"/><span data-i18n="left"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_leg_option1" value="2"/><span data-i18n="right"></span>
                  </label>
                </div>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_leg_right" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_leg_right" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_leg_right" value="2"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_leg_right" value="3"/><span></span>
                </div>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_aquatic" value="1"/><span data-i18n="aquatic"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_high_jump" value="1"/><span data-i18n="high_jump"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_swift" value="1"/><span data-i18n="swift"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_detachable_rl" value="1"/><span data-i18n="detachable"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike_rl" value="1"/><span data-i18n="lifelike"></span>
                </label>
                <div class="flex implants">
                  <label class="text-button implants">
                    <input class="zero implants" type="radio" name="attr_leg_option2" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button implants">
                    <input type="radio" name="attr_leg_option2" value="1"/><span data-i18n="left"></span>
                  </label><span>/</span>
                  <label class="text-button implants">
                    <input type="radio" name="attr_leg_option2" value="2"/><span data-i18n="right"></span>
                  </label>
                </div>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_leg_left" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_leg_left" value="4"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_leg_left" value="5"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_leg_left" value="6"/><span></span>
                </div>
              </div>
            </div>
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="skin"></span>
                <span class="ten" data-i18n="skin_info"></span></span>
                <div class="flex">
                  <label>
                    <input class="zero" type="radio" name="attr_skin_type" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button">
                    <input type="radio" name="attr_skin_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                  </label><span>&nbsp;</span>
                  <label class="text-button">
                    <input type="radio" name="attr_skin_type" value="2"/><span class="label title" data-i18n="b"></span><span class="label title bioengineered" data-i18n="bioengineered"></span>
                  </label>
                </div>
                <div class="flex">
                  <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                  <input class="label" type="number" name="attr_skin_quality" min="0" max="5" value="0"/>
                </div>
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_acidproof" value="1"/><span data-i18n="acidproof"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_bulletproof" value="1"/><span data-i18n="bulletproof"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_plating_s" value="1"/><span data-i18n="plating"></span><span data-i18n="requires"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_chameleon" value="1"/><span data-i18n="chameleon"></span>
                </label>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_skin" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_skin" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_skin" value="2"/><span></span>
                </div>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_fireproof" value="1"/><span data-i18n="fireproof"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_grappleproof" value="1"/><span data-i18n="grappleproof"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_lifelike_s" value="1"/><span data-i18n="lifelike"></span><span></span>
                </label><span data-i18n="incompatible"></span>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_skin" value="0" checked="checked"/>
                <input class="hidden fakeradio" type="checkbox" name="attr_skin" value="1"/>
                <input class="hidden fakeradio" type="checkbox" name="attr_skin" value="2"/>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_skin" value="3"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_skin" value="4"/><span></span>
                </div>
              </div>
            </div>
            <label class="sheet-2col plaingreyheader">
              <div class="text implants"><span><span class="label title" data-i18n="skeleton"></span>
                <span class="ten" data-i18n="skeleton_info"></span></span>
                <div class="flex">
                  <label>
                    <input class="zero" type="radio" name="attr_skeleton_type" value="0" checked="checked"/><span></span>
                  </label>
                  <label class="text-button">
                    <input type="radio" name="attr_skeleton_type" value="1"/><span class="label title" data-i18n="c"></span><span class="label title cybernetic" data-i18n="cybernetic"></span>
                  </label><span>&nbsp;</span>
                  <label class="text-button">
                    <input type="radio" name="attr_skeleton_type" value="2"/><span class="label title" data-i18n="b"></span><span class="label title bioengineered" data-i18n="bioengineered"></span>
                  </label>
                </div>
                <div class="flex">
                  <div class="label implant-quality-label" data-i18n="quality_abbreviated">Q:</div>
                  <input class="label" type="number" name="attr_skeleton_quality" min="0" max="5" value="0"/>
                </div>
              </div>
            </label>
            <div class="sheet-2col">
              <div class="flex implant-specs">
                <label class="text-button implants">
                  <input type="checkbox" name="attr_added_limb" value="1"/><span data-i18n="added_limb"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_omnidirectional" value="1"/><span data-i18n="omnidirectional"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_reinforced" value="1"/><span data-i18n="reinforced"></span>
                </label><span>—</span>
                <label class="text-button implants">
                  <input type="checkbox" name="attr_turret" value="1"/><span data-i18n="turret"></span>
                </label>
                <div class="implants flex">
                <input class="hidden fakeradio" type="checkbox" name="attr_skeleton" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_skeleton" value="1"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_skeleton" value="2"/><span></span>
                <input class="checkbox circlebox fakeradio conc" type="checkbox" name="attr_skeleton" value="3"/><span></span>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="teamwork">
        <div class="plainheader label" data-i18n="teamwork"></div>
        <div class="teamworkbox" data-i18n="assist_a_teammate"></div>
        <div class="teamworkbox" data-i18n="lead_a_group_action"></div>
        <div class="teamworkbox" data-i18n="protect_a_teammate"></div>
        <div class="teamworkbox" data-i18n="set_up_a_teammate"></div>
      </div>
      <div class="gatherinfo">
        <div class="plainheader label" data-i18n="gather_information"></div>
        <div>
          <ul>
            <li>
              <input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo1" data-i18n-placeholder="gatherinfo_what_do_they_intend"/>
            </li>
            <li>
              <input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo2" data-i18n-placeholder="gatherinfo_how_can_I_get_them"/>
            </li>
            <li>
              <input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo3" data-i18n-placeholder="gatherinfo_what_are_they_really"/>
            </li>
            <li>
              <input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo4" data-i18n-placeholder="gatherinfo_what_should_I_look"/>
            </li>
            <li>
              <input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo5" data-i18n-placeholder="gatherinfo_wheres_the_weakness"/>
            </li>
            <li>
              <input class="inherit" type="text" spellcheck="false" name="attr_gatherinfo6" data-i18n-placeholder="gatherinfo_how_can_I_find"/>
            </li>
            <li data-i18n="gatherinfo_whats_going_on"></li>
          </ul>
        </div>
      </div>
    </div>
    <div class="right-column grid">
      <div class="playbook sheet-2col flex">
        <input class="label" type="text" spellcheck="false" name="attr_playbook" data-i18n-placeholder="playbook"/>
        <textarea class="label" spellcheck="false" name="attr_playbook_description" data-i18n-placeholder="playbook_description"></textarea>
        <input class="hider" type="hidden" name="attr_show_playbook_reminder" value="1"/>
        <div class="reminder"><span data-i18n="autofill_reminder_playbook"></span><br/><span data-i18n="list_playbooks"></span></div>
      </div>
      <div class="itemcolumn">
        <div class="loadheader flex">
          <div class="label" data-i18n="load"></div>
          <label>
            <input class="checkbox" type="checkbox" name="attr_load" value="light"/><span></span><span class="loadnumber" name="attr_setting_load_l"></span><span data-i18n="light"></span>
          </label>
          <label>
            <input class="checkbox" type="checkbox" name="attr_load" value="normal"/><span></span><span class="loadnumber" name="attr_setting_load_n"></span><span data-i18n="normal"></span>
          </label>
          <label>
            <input class="checkbox" type="checkbox" name="attr_load" value="heavy"/><span></span><span class="loadnumber" name="attr_setting_load_h"></span><span data-i18n="heavy"></span>
          </label>
        </div>
        <div class="itemheader small-margin flex">
          <div class="label" data-i18n="items"></div><span class="italic" data-i18n="italics_dont_count"></span>
          <label class="text-button">
            <input type="checkbox" name="attr_reset_items" value="1"/><span data-i18n="reset?"></span>
          </label>
        </div>
        <div class="itemholder items">
          <div class="playbookitems free-repcontrol">
            <fieldset class="repeating_playbookitem">
              <input class="boxes-chosen" type="hidden" name="attr_boxes_chosen" value="0"/>
              <div class="item numboxes-chooser">
                <div data-i18n="how_much_load"></div>
                <input type="number" name="attr_numboxes" min="0" max="3" value="0"/>
                <label>
                  <input type="checkbox" name="attr_bold" value="1"/><span data-i18n="owned"></span>
                </label>
                <label>
                  <input type="checkbox" name="attr_boxes_chosen" value="1"/><span data-i18n="ok"></span>
                </label>
              </div>
              <div class="item">
                <input class="input-bold" type="hidden" name="attr_bold" value="0"/>
                <input class="owned" type="checkbox" name="attr_bold" value="1"/><span></span>
                <input class="numboxes" type="hidden" name="attr_numboxes" value="0"/>
                <input class="checkbox squarebox" type="checkbox" name="attr_check_1" value="1"/><span></span><span class="floatingbar boxesgeq2"></span>
                <input class="checkbox squarebox boxesgeq2" type="checkbox" name="attr_check_2" value="1"/><span class="boxesgeq2"></span><span class="floatingbar boxesgeq3 boxesgeq2"></span>
                <input class="checkbox squarebox boxesgeq2 boxesgeq3" type="checkbox" name="attr_check_3" value="1"/><span class="boxesgeq2 boxesgeq3"></span>
                <div class="auto-expand itemname"><span name="attr_name"></span>
                  <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="item_name"></textarea>
                </div>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea>
              </div>
            </fieldset>
          </div>
        </div>
        <input class="hider" type="hidden" name="attr_setting_show_frame2" value="0"/>
        <div>
          <div class="itemheader flex">
            <div class="label"><span name="attr_frame2"></span></div><span class="bold uppercase" data-i18n="details"></span>
          </div>
          <div class="itemholder items">
            <div class="playbookitems free-repcontrol">
              <div class="setting-frame">
                <label>
                  <select name="attr_setting_frame2_size">
                    <option value="small" data-i18n="small_size">Small</option>
                    <option value="medium" data-i18n="medium_size" selected="selected">Medium</option>
                    <option value="heavy" data-i18n="heavy_size">Heavy</option>
                  </select>
                </label>
              </div>
              <div class="framesize">
                <input class="input" type="hidden" name="attr_setting_frame2_size" value="medium"/>
                <div class="medium regularitems upgrades grid">
                  <div class="sheet-2col">
                    <textarea class="frame-description" spellcheck="false" name="attr_frame2_description" data-i18n-placeholder="medium_frames"></textarea>
                  </div>
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_compart12" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_compart12" value="Comparts. (1)">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_compart1_description" data-i18n-placeholder="description">A number of items may be builtin to its frame and may recess beneath panels out of sight. Its frame can now carry the indicated number (1 or 2) of free load.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_gecko2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_gecko2" value="Gecko Climb">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_gecko_description" data-i18n-placeholder="description">Nanofibrous pads built into the frame allow it to walk and climb effortlessly on walls and ceilings unless wet.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_lifelikeapp2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_lifelikeapp2" value="Lifelike App.">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_lifelikeapp_description" data-i18n-placeholder="description">It is masterfully crafted to pass for a living creature (unless it is closely scrutinized).</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_turret2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_turret2" value="Turret">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_turret_description" data-i18n-placeholder="description">A firearm mount on the drone designed to achieve great visibility and a wide cone of fire. Choose a suitable weapon from your arsenal, modified to fit.</textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_frame2_size" value="small"/>
                <div class="small regularitems upgrades grid">
                  <div class="sheet-2col">
                    <textarea class="frame-description" spellcheck="false" name="attr_frame2_description" data-i18n-placeholder="small_frames"></textarea>
                  </div>
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_amphibious2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_amphibious2" value="Amphibious">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_amphibious_description" data-i18n-placeholder="description">It can move slowly while underwater using a set of propellers and pump-jets.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_flight2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_flight2" value="Flight">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_flight_description" data-i18n-placeholder="description">It can fly slowly using a set of rotors or small jets, and fixed wings.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_reflexes2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_reflexes2" value="Reflexes">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_reflexes_description" data-i18n-placeholder="description">It has lightning fast reaction time (as per the Adept feat).</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_tiny2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_tiny2" value="Tiny">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_tiny_description" data-i18n-placeholder="description">The drone is insect size, rather than cat size, which counts as -2 scale (instead of -1 scale).</textarea>
                    </div>
                  </div>
                </div>
                <div class="heavy regularitems upgrades grid">
                  <div class="sheet-2col">
                    <textarea class="frame-description" spellcheck="false" name="attr_frame2_description" data-i18n-placeholder="heavy_frames"></textarea>
                  </div>
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_compart22" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_compart2" value="Comparts. (2)">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_compart2_description" data-i18n-placeholder="description">A number of items may be built in to its frame and may recess beneath panels out of sight. Its frame can now carry the indicated number (1 or 2) of free load.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_space2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_space2" value="Interior Space">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_space_description" data-i18n-placeholder="description">It has a compartment for a passenger or operator.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_plating2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_plating2" value="Plating">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_plating_description" data-i18n-placeholder="description">Thick metal armor plates.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_h_turrets2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_h_turrets2" value="Turrets">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_turret_description" data-i18n-placeholder="description">A firearm mount on the drone designed to achieve great visibility and a wide cone of fire. Choose a suitable weapon from your arsenal, modified to fit.</textarea>
                    </div>
                  </div>
                </div>
                <div class="any regularitems upgrades grid">
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_emp2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_emp2" value="EMP">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_emp_description" data-i18n-placeholder="description">Electromagnetic pulse that disables signals for a short time, disrupting the functionality of electronics nearby for a few minutes.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_flash2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_flash2" value="Flash Ordnance">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_flash_description" data-i18n-placeholder="description">Electronics that can produce a series of flashes to surprise and disorient.</textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_hydraulic2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_hydraulic2" value="Hydraulic Legs">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_hydraulic_description" data-i18n-placeholder="description">It can jump to extreme heights (several stories) and survive falls without damage.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_media2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_media2" value="Media Center">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_media_description" data-i18n-placeholder="description">An array of recording and playback functionality, plus rotating loudspeakers and a holo-projector.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_suppression2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_suppression2" value="Noise Supp.">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_suppression_description" data-i18n-placeholder="description">This drone is barely audible once its out of speaking distance.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_sensor2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_sensor2" value="Sensor Array">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_sensor_description" data-i18n-placeholder="description">It has an array of sensors capable of various scanning modes. Choose whether this is an audio or visual array, and then choose its two features: dampened—expanded—heightened.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_smoke2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_smoke2" value="Smoke Proj.">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_smoke_description" data-i18n-placeholder="description">Chemical system that can produce a dark, acrid cloud of smoke—enough to fill a large room.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_stealth2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_stealth2" value="Stealth">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_stealth_description" data-i18n-placeholder="description">: It has been modified with electronics and a stealth paint job to obfuscate its presence.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_white2" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_white2" value="White Box">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_white_description" data-i18n-placeholder="description">Electronics that can produce a dense stream of wireless noise and interference, temporarily orphaning nearby devices.</textarea>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
        <input class="hider" type="hidden" name="attr_setting_show_frame" value="0"/>
        <div>
          <div class="itemheader flex">
            <div class="label"><span name="attr_frame"></span></div><span class="bold uppercase" data-i18n="details"></span>
          </div>
          <div class="itemholder items">
            <div class="playbookitems free-repcontrol">
              <div class="setting-frame">
                  <label>
                  <select name="attr_setting_frame_size">
                    <option value="small" data-i18n="small_size">Small</option>
                    <option value="medium" data-i18n="medium_size" selected="selected">Medium</option>
                    <option value="heavy" data-i18n="heavy_size">Heavy</option>
                  </select>
                </label>
              </div>
              <div class="framesize">
                <input class="input" type="hidden" name="attr_setting_frame_size" value="medium"/>
                <div class="medium regularitems upgrades grid">
                  <div class="sheet-2col">
                    <textarea class="frame-description" spellcheck="false" name="attr_frame_description" data-i18n-placeholder="medium_frames"></textarea>
                  </div>
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_compart11" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_compart11" value="Comparts. (1)">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_compart1_description" data-i18n-placeholder="description">A number of items may be builtin to its frame and may recess beneath panels out of sight. Its frame can now carry the indicated number (1 or 2) of free load.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_gecko1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_gecko1" value="Gecko Climb">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_gecko_description" data-i18n-placeholder="description">Nanofibrous pads built into the frame allow it to walk and climb effortlessly on walls and ceilings unless wet.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_lifelikeapp1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_lifelikeapp1" value="Lifelike App.">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_lifelikeapp_description" data-i18n-placeholder="description">It is masterfully crafted to pass for a living creature (unless it is closely scrutinized).</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_turret1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_turret1" value="Turret">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_turret_description" data-i18n-placeholder="description">A firearm mount on the drone designed to achieve great visibility and a wide cone of fire. Choose a suitable weapon from your arsenal, modified to fit.</textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_frame_size" value="small"/>
                <div class="small regularitems upgrades grid">
                  <div class="sheet-2col">
                    <textarea class="frame-description" spellcheck="false" name="attr_frame_description" data-i18n-placeholder="small_frames"></textarea>
                  </div>
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_amphibious1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_amphibious1" value="Amphibious">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_amphibious_description" data-i18n-placeholder="description">It can move slowly while underwater using a set of propellers and pump-jets.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_flight1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_flight1" value="Flight">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_flight_description" data-i18n-placeholder="description">It can fly slowly using a set of rotors or small jets, and fixed wings.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_reflexes1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_reflexes1" value="Reflexes">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_reflexes_description" data-i18n-placeholder="description">It has lightning fast reaction time (as per the Adept feat).</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_tiny1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_tiny1" value="Tiny">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_tiny_description" data-i18n-placeholder="description">The drone is insect size, rather than cat size, which counts as -2 scale (instead of -1 scale).</textarea>
                    </div>
                  </div>
                </div>
                <div class="heavy regularitems upgrades grid">
                  <div class="sheet-2col">
                    <textarea class="frame-description" spellcheck="false" name="attr_frame1_description" data-i18n-placeholder="heavy_frames"></textarea>
                  </div>
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_compart21" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_compart2" value="Comparts. (2)">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_compart2_description" data-i18n-placeholder="description">: A number of items may be builtin to its frame and may recess beneath panels out of sight. Its frame can now carry the indicated number (1 or 2) of free load.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_space1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_space" value="Interior Space">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_space_description" data-i18n-placeholder="description">It has a compartment for a passenger or operator.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_plating1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_plating1" value="Plating">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_plating_description" data-i18n-placeholder="description">Thick metal armor plates.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_h_turrets1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_h_turrets1" value="Turrets">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_turret_description" data-i18n-placeholder="description">A firearm mount on the drone designed to achieve great visibility and a wide cone of fire. Choose a suitable weapon from your arsenal, modified to fit.</textarea>
                    </div>
                  </div>
                </div>
                <div class="any regularitems upgrades grid">
                  <div class="sheet-2col whiteborder"></div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_emp1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_emp1" value="EMP">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_emp_description" data-i18n-placeholder="description">Electromagnetic pulse that disables signals for a short time, disrupting the functionality of electronics nearby for a few minutes.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_flash1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_flash1" value="Flash Ordnance">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_flash_description" data-i18n-placeholder="description">Electronics that can produce a series of flashes to surprise and disorient.</textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_hydraulic1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_hydraulic1" value="Hydraulic Legs">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_hydraulic_description" data-i18n-placeholder="description">It can jump to extreme heights (several stories) and survive falls without damage.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_media1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_media1" value="Media Center">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_media_description" data-i18n-placeholder="description">An array of recording and playback functionality, plus rotating loudspeakers and a holo-projector.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_suppression1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_suppression1" value="Noise Supp.">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_suppression_description" data-i18n-placeholder="description">This drone is barely audible once its out of speaking distance.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_sensor1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_sensor1" value="Sensor Array">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_sensor_description" data-i18n-placeholder="description">It has an array of sensors capable of various scanning modes. Choose whether this is an audio or visual array, and then choose its two features: dampened—expanded—heightened.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_smoke1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_smoke1" value="Smoke Proj.">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_smoke_description" data-i18n-placeholder="description">Chemical system that can produce a dark, acrid cloud of smoke—enough to fill a large room.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_stealth1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_stealth1" value="Stealth">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_stealth_description" data-i18n-placeholder="description">: It has been modified with electronics and a stealth paint job to obfuscate its presence.</textarea>
                    </div>
                  </div>
                  <div>
                    <div class="item">
                      <input class="checkbox squarebox" type="checkbox" name="attr_check_white1" value="1"/><span></span>
                      <input class="itemname" type="text" spellcheck="false" name="attr_white1" value="White Box">
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_white_description" data-i18n-placeholder="description">Electronics that can produce a dense stream of wireless noise and interference, temporarily orphaning nearby devices.</textarea>
                    </div>
                  </div>
                </div>
                <div class="flex-center"><span class="italic" data-i18n="swap"></span></div>
              </div>
            </div>
          </div>
        </div>
        <DIV class="bandholder">
          <input class="hider" type="hidden" name="attr_setting_show_bandolierall" value="0"/>
          <div class="bandolier free-repcontrol">
            <input class="title-checkbox" type="checkbox" name="attr_show_bandolier" value="1"/><span class="label bandheader" name="attr_setting_bandolier_label"></span>
            <div class="use">
              <input class="hider" type="hidden" name="attr_setting_show_use" value="0"/>
              <div class="item"><span class="uses-name" data-i18n="uses"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_use1_check_1" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_use1_check_2" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_use1_check_3" value="1"/><span></span>
                <input class="zero" type="radio" name="attr_use1_check_1" value="0" checked="checked"/><span></span>
              </div>
              <div class="use-desc"><span data-i18n="when_you_use_1"></span><span name="attr_setting_bandolier_label"></span><span data-i18n="when_you_use_2"></span>
              </div>
              <fieldset class="repeating_bandolier">
              <input class="bandolier-expand" type="checkbox" value="1"/><span></span>
              <div class="auto-expand"><span name="attr_name"></span>
                <textarea spellcheck="false" name="attr_name"></textarea>
              </div>
                <textarea class="bandolier-info" spellcheck="false" name="attr_description"></textarea>
              </fieldset>
            </div>
            <div class="greyborder"></div>
          </div>
          <input class="hider" type="hidden" name="attr_setting_show_bandolierall2" value="0"/>
          <div class="bandolier free-repcontrol">
            <input class="title-checkbox" type="checkbox" name="attr_show_bandolier2" value="1"/><span class="label bandheader" name="attr_setting_bandolier2_label"></span>
            <div class="use">
              <input class="hider" type="hidden" name="attr_setting_show_use2" value="0"/>
              <div class="item"><span class="uses-name" data-i18n="uses"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_use2_check_1" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_use2_check_2" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_use2_check_3" value="1"/><span></span>
                <input class="zero" type="radio" name="attr_use2_check_1" value="0" checked="checked"/><span></span>
              </div>
              <div class="use-desc"><span data-i18n="when_you_use_1"></span><span name="attr_setting_bandolier2_label"></span><span data-i18n="when_you_use_2"></span>
              </div>
              <fieldset class="repeating_bandolier2">
              <input class="bandolier-expand" type="checkbox" value="1"/><span></span>
              <div class="auto-expand"><span name="attr_name"></span>
                <textarea spellcheck="false" name="attr_name"></textarea>
              </div>
                <textarea class="bandolier-info" spellcheck="false" name="attr_description"></textarea>
              </fieldset>
            </div>
            <div class="greyborder"></div>
          </div>
        </DIV>
        <div class="itemholder items">
          <div class="regularitems free-repcontrol">            
            <fieldset class="repeating_item">
              <input class="input-short" type="hidden" name="attr_short" value="0"/>
              <input class="input-expand" type="hidden" name="attr_expand" value="0"/>
              <div class="item-container">
                <input class="boxes-chosen" type="hidden" name="attr_boxes_chosen" value="0"/>
                <div class="item numboxes-chooser">
                  <div data-i18n="how_much_load"></div>
                  <input type="number" name="attr_numboxes" min="0" max="3" value="0"/>
                  <label>
                    <input type="checkbox" name="attr_short" value="1"/><span data-i18n="short"></span>
                  </label>
                  <label>
                    <input type="checkbox" name="attr_boxes_chosen" value="1"/><span data-i18n="ok"></span>
                  </label>
                </div>
                <div class="item">
                  <input class="numboxes" type="hidden" name="attr_numboxes" value="0"/>
                  <input class="checkbox squarebox" type="checkbox" name="attr_check_1" value="1"/><span></span><span class="floatingbar boxesgeq2"></span>
                  <input class="checkbox squarebox boxesgeq2" type="checkbox" name="attr_check_2" value="1"/><span class="boxesgeq2"></span><span class="floatingbar boxesgeq3 boxesgeq2"></span>
                  <input class="checkbox squarebox boxesgeq2 boxesgeq3" type="checkbox" name="attr_check_3" value="1"/><span class="boxesgeq2 boxesgeq3"></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_name" data-i18n-placeholder="item_name"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea>
                </div>
              </div>
            </fieldset>
          </div>
        </div>
        <input class="hider" type="hidden" name="attr_setting_show_method" value="0"/>
        <div class="itemholder items supernatural">
          <div class="regularitems free-repcontrol">    
          <div class="label mdheader"><span name="attr_setting_method_label"></span></div>  
            <fieldset class="repeating_method">
            <input class="input-short" type="hidden" name="attr_short" value="1"/>
            <input class="input-expand" type="hidden" name="attr_expand" value="0"/>
              <div class="item-container">
                <div class="item">
                  <input class="checkbox squarebox" type="checkbox" name="attr_check" value="1"/><span></span>
                  <div class="auto-expand itemname"><span name="attr_name"></span>
                    <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="method_name"></textarea>
                  </div>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea>
                </div>
              </div>
            </fieldset>
          </div>
        </div>      
        <input class="hider" type="hidden" name="attr_setting_show_drawback" value="0"/>
        <div class="itemholder items supernatural">
          <div class="regularitems free-repcontrol">
          <div class="label mdheader"><span name="attr_setting_drawback_label"></span></div>
            <fieldset class="repeating_drawback">
            <input class="input-short" type="hidden" name="attr_short" value="1"/>
            <input class="input-expand" type="hidden" name="attr_expand" value="0"/>
              <div class="item-container">
                <div class="item">
                  <input class="checkbox squarebox" type="checkbox" name="attr_check" value="1"/><span></span>
                  <div class="auto-expand methodname"><span name="attr_name"></span>
                    <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="drawback_name"></textarea>
                  </div>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea>
                </div>
              </div>
            </fieldset>  
          </div>
        </div>
        <input class="hider" type="hidden" name="attr_setting_show_permutations" value="1" checked="checked"/>
        <div class="upgradecolumn def-margin permutations">
          <div class="specialheader"><span class="label" data-i18n="permutations"></span></div>
          <div class="itemholder upgrades">
            <div class="regularitems upgrades grid">
              <div class="upgradecaption label" data-i18n="positive"></div>
              <div class="upgradecaption label" data-i18n="negative"></div>
              <div>
                <div class="item up">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_spoiled_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_spoiled_name" value="Spoiled"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_spoiled_description" data-i18n-placeholder="description">Choose an extra special item</textarea>
                </div>
              </div>
              <div>
                <div class="item down">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_gambling_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_gambling_name" value="Gambler"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_gambling_description" data-i18n-placeholder="description">Choose one fewer special item</textarea>
                </div>
              </div>
              <div>
                <div class="item up">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_orphaned_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_orphaned_name" value="Orphaned"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_orphaned_description" data-i18n-placeholder="description">Choose an extra action dot</textarea>
                </div>
              </div>
              <div>
                <div class="item down">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_pampered_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_pampered_name" value="Pampered"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_pampered_description" data-i18n-placeholder="description">Choose one fewer action dot</textarea>
                </div>
              </div>
              <div>
                <div class="item up">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_loyal_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_loyal_name" value="Fiercely Loyal"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_loyal_description" data-i18n-placeholder="description">Choose another NPC on your list who is Close</textarea>
                </div>
              </div>
              <div>
                <div class="item down">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_bully_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_bully_name" value="Bully"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_bully_description" data-i18n-placeholder="description">Choose another NPC on your list who is a Rival</textarea>
                </div>
              </div>
              <div>
                <div class="item up">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_broken_home_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_broken_home_name" value="Broken Home"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_broken_home_description" data-i18n-placeholder="description">Choose more languages, already known</textarea>
                </div>
              </div>
              <div>
                <div class="item down">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_debt_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_debt_name" value="In Debt"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_debt_description" data-i18n-placeholder="description">You owe a faction a free Milk Run (start a clock for Anger)</textarea>
                </div>
              </div>
              <div>
                <div class="item up">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_prodigy_check_1" value="1"/><span></span>
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_prodigy_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_prodigy_name" value="Prodigy"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_prodigy_description" data-i18n-placeholder="description">Take a third action dot (counts as two)</textarea>
                </div>
              </div>
              <div>
                <div class="item down">
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_newby_check_1" value="1"/><span></span>
                  <input class="checkbox squarebox" type="checkbox" name="attr_permutation_newby_check_1" value="1"/><span></span>
                  <input class="itemname" type="text" spellcheck="false" name="attr_permutation_newby_name" value="Newby"/>
                </div>
                <div class="item-description">
                  <input class="expand" type="checkbox" value="1"/><span></span>
                  <textarea spellcheck="false" name="attr_permutation_newby_description" data-i18n-placeholder="description">Choose one fewer special ability (counts as two)</textarea>
                </div>
              </div>
              <div class="sheet-2col">
                <div>
                  <div class="item up">
                    <input class="checkbox squarebox" type="checkbox" name="attr_permutation_damaged_check_1" value="1"/><span></span>
                    <input class="itemname" type="text" spellcheck="false" name="attr_permutation_damaged_name" value="Damaged Goods"/>
                  </div>
                  <div class="item-description">
                    <input class="expand" type="checkbox" value="1"/><span></span>
                    <textarea spellcheck="false" name="attr_permutation_damaged_description" data-i18n-placeholder="description">One less trauma box (fill it in, but don't circle a condition)</textarea>
                  </div>
                </div>
              </div>
              <div class="sheet-2col">  
                <div>
                  <div class="item up">
                    <input class="checkbox squarebox" type="checkbox" name="attr_permutation_touched_check_1" value="1"/><span></span>
                    <input class="itemname" type="text" spellcheck="false" name="attr_permutation_touched_name" value="Touched by an AI"/>
                  </div>
                  <div class="item-description">
                    <input class="expand" type="checkbox" value="1"/><span></span>
                    <textarea spellcheck="false" name="attr_permutation_touched_description" data-i18n-placeholder="description">Choose another spell, formula, or plan, already learned</textarea>
                  </div>
                </div>
              </div>
              <div class="sheet-2col">
                <div>
                  <div class="item up">
                    <input class="checkbox squarebox" type="checkbox" name="attr_permutation_diverse_check_1" value="1"/><span></span>
                    <input class="checkbox squarebox" type="checkbox" name="attr_permutation_diverse_check_1" value="1"/><span></span>
                    <input class="itemname" type="text" spellcheck="false" name="attr_permutation_diverse_name" value="Diverse Skillset"/>
                  </div>
                  <div class="item-description">
                    <input class="expand" type="checkbox" value="1"/><span></span>
                    <textarea spellcheck="false" name="attr_permutation_diverse_description" data-i18n-placeholder="description">Choose another special ability (counts as two)</textarea>
                  </div>
                </div>
              </div> 
            </div>
          </div>
        </div>
        <div class="planning def-margin">
          <input class="title-checkbox" type="checkbox" name="attr_show_planning" value="1" checked="checked"/><span class="label plainheader" data-i18n="planning_load"></span>
          <div class="planning-content">
            <div class="planningdesc" data-i18n="planningdesc"></div>
            <div class="teamworkbox"><span class="bold" data-i18n="assault"></span><span class="italic" data-i18n="detail_assault"></span></div>
            <div class="teamworkbox"><span class="bold" data-i18n="deception"></span><span class="italic" data-i18n="detail_deception"></span></div>
            <div class="teamworkbox"><span class="bold" data-i18n="social"></span><span class="italic" data-i18n="detail_social"></span></div>
            <div class="teamworkbox"><span class="bold" data-i18n="stealth"></span><span class="italic" data-i18n="detail_stealth"></span></div>
            <div class="teamworkbox"><span class="bold" data-i18n="supernatural"></span><span class="italic" data-i18n="detail_supernatural"></span></div>
            <div class="teamworkbox"><span class="bold" data-i18n="transport"></span><span class="italic" data-i18n="detail_transport"></span></div>
          </div>
        </div>
      </div>
      <div class="actioncolumn">
        <div class="attribute">
          <div class="attribute-title flex">
            <button class="rollbutton label" type="roll" name="roll_intuition" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{subtitle=^{resists} @{consequence_query} ^{with}}} {{title-intuition=1}} {{title=^{intuition}}} @{intuition_formula} {{instructions=^{resist_instructions}}} @{intuition_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="intuition_description"><span class="default-label inherit" data-i18n="intuition"></span><span class="custom-label inherit" name="attr_intuition_label"></span>
            </button>
            <input type="hidden" name="attr_intuition" value="0"/>
            <input type="hidden" name="attr_intuition_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
            <input type="hidden" name="attr_intuition_xp_max" value="6"/>
            <input type="hidden" name="attr_intuition_roll_mods" value=""/>
            <div class="attribute-xp-box flex">
              <input class="extra_xp_boxes" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
              <input class="tooth zero" type="radio" name="attr_intuition_xp" value="0" checked="checked"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="1"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="2"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="3"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="4"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="5"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="6"/><span></span>
              <input class="toothhider" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="7"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_intuition_xp" value="8"/><span></span>
            </div>
          </div>
          <div class="actions">
            <div class="action flex">
              <input type="hidden" name="attr_engineer_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_engineer_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_intuition" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_engineer" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_engineer" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_engineer" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_engineer" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_engineer" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_engineer" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Engineer" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-engineer=1}} {{title=^{engineer}}} {{@{position_query}}} {{effect=@{effect_query}}} @{engineer_formula} @{engineer_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="engineer_description"><span class="default-label inherit" data-i18n="engineer"></span><span class="custom-label inherit" name="attr_engineer_label"></span>
              </button>
            </div>
            <div class="action flex">
              <input type="hidden" name="attr_interface_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_interface_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_intuition" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_interface" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_interface" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_interface" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_interface" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_interface" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_interface" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Interface" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-interface=1}} {{title=^{interface}}} {{@{position_query}}} {{effect=@{effect_query}}} @{interface_formula} @{interface_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="interface_description"><span class="default-label inherit" data-i18n="interface"></span><span class="custom-label inherit" name="attr_interface_label"></span>
              </button>
            </div>
              <div class="action flex">
                <input type="hidden" name="attr_stalk_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
                <input type="hidden" name="attr_stalk_roll_mods" value=""/>
                <input class="maxrating" type="hidden" name="attr_setting_max_rating_intuition" value="0"/>
                <input class="hidden fakeradio" type="checkbox" name="attr_stalk" value="0" checked="checked"/>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_stalk" value="1"/><span></span>
                <div class="divider"></div>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_stalk" value="2"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_stalk" value="3"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_stalk" value="4"/><span></span>
                <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_stalk" value="5"/><span></span>
                <button class="rollbutton label" type="roll" name="roll_Stalk" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-stalk=1}} {{title=^{stalk}}} {{@{position_query}}} {{effect=@{effect_query}}} @{stalk_formula} @{stalk_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="stalk_description"><span class="default-label inherit" data-i18n="stalk"></span><span class="custom-label inherit" name="attr_stalk_label"></span>
                </button>
              </div>
            <div class="action flex">
              <input type="hidden" name="attr_survey_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_survey_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_intuition" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_survey" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_survey" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_survey" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_survey" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_survey" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_survey" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Survey" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-survey=1}} {{title=^{survey}}} {{@{position_query}}} {{effect=@{effect_query}}} @{survey_formula} @{survey_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="survey_description"><span class="default-label inherit" data-i18n="survey"></span><span class="custom-label inherit" name="attr_survey_label"></span>
              </button>
            </div>
          </div>
        </div>
        <div class="attribute">
          <div class="attribute-title flex">
            <button class="rollbutton label" type="roll" name="roll_body" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{subtitle=^{resists} @{consequence_query} ^{with}}} {{title-body=1}} {{title=^{body}}} @{body_formula} {{instructions=^{resist_instructions}}} @{body_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="body_description"><span class="default-label inherit" data-i18n="body"></span><span class="custom-label inherit" name="attr_body_label"></span>
            </button>
            <input type="hidden" name="attr_body" value="0"/>
            <input type="hidden" name="attr_body_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
            <input type="hidden" name="attr_body_xp_max" value="6"/>
            <input type="hidden" name="attr_body_roll_mods" value=""/>
            <div class="attribute-xp-box flex">
              <input class="extra_xp_boxes" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
              <input class="tooth zero" type="radio" name="attr_body_xp" value="0" checked="checked"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="1"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="2"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="3"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="4"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="5"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="6"/><span></span>
              <input class="toothhider" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="7"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_body_xp" value="8"/><span></span>
            </div>
          </div>
          <div class="actions">
            <div class="action flex">
              <input type="hidden" name="attr_fight_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_fight_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_body" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_fight" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_fight" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_fight" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_fight" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_fight" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_fight" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Fight" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-fight=1}} {{title=^{fight}}} {{@{position_query}}} {{effect=@{effect_query}}} @{fight_formula} @{fight_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="fight_description"><span class="default-label inherit" data-i18n="fight"></span><span class="custom-label inherit" name="attr_fight_label"></span>
              </button>
            </div>
            <div class="action flex">
              <input type="hidden" name="attr_finesse_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_finesse_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_body" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_finesse" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_finesse" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_finesse" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_finesse" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_finesse" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_finesse" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Finesse" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-finesse=1}} {{title=^{finesse}}} {{@{position_query}}} {{effect=@{effect_query}}} @{finesse_formula} @{finesse_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="finesse_description"><span class="default-label inherit" data-i18n="finesse"></span><span class="custom-label inherit" name="attr_finesse_label"></span>
              </button>
            </div>
            <div class="action flex">
              <input type="hidden" name="attr_prowl_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_prowl_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_body" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_prowl" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_prowl" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_prowl" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_prowl" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_prowl" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_prowl" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Prowl" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-prowl=1}} {{title=^{prowl}}} {{@{position_query}}} {{effect=@{effect_query}}} @{prowl_formula} @{prowl_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="prowl_description"><span class="default-label inherit" data-i18n="prowl"></span><span class="custom-label inherit" name="attr_prowl_label"></span>
              </button>
            </div>
            <div class="action flex">
              <input type="hidden" name="attr_wreck_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_wreck_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_body" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_wreck" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_wreck" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_wreck" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_wreck" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_wreck" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_wreck" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Wreck" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-wreck=1}} {{title=^{wreck}}} {{@{position_query}}} {{effect=@{effect_query}}} @{wreck_formula} @{wreck_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="wreck_description"><span class="default-label inherit" data-i18n="wreck"></span><span class="custom-label inherit" name="attr_wreck_label"></span>
              </button>
            </div>
          </div>
        </div>
        <div class="attribute">
          <div class="attribute-title flex">
            <button class="rollbutton label" type="roll" name="roll_willpower" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{subtitle=^{resists} @{consequence_query} ^{with}}} {{title-willpower=1}} {{title=^{willpower}}} @{willpower_formula} {{instructions=^{resist_instructions}}} @{willpower_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="willpower_description"><span class="default-label inherit" data-i18n="willpower"></span><span class="custom-label inherit" name="attr_willpower_label"></span>
            </button>
            <input type="hidden" name="attr_willpower" value="0"/>
            <input type="hidden" name="attr_willpower_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
            <input type="hidden" name="attr_willpower_xp_max" value="6"/>
            <input type="hidden" name="attr_willpower_roll_mods" value=""/>
            <div class="attribute-xp-box flex">
              <input class="extra_xp_boxes" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
              <input class="tooth zero" type="radio" name="attr_willpower_xp" value="0" checked="checked"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="1"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="2"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="3"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="4"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="5"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="6"/><span></span>
              <input class="toothhider" type="hidden" name="attr_setting_extra_xp_boxes" value="0"/>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="7"/><span></span>
              <input class="tooth xptooth" type="radio" name="attr_willpower_xp" value="8"/><span></span>
            </div>
          </div>
          <div class="actions">
            <div class="action flex">
              <input type="hidden" name="attr_command_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_command_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_willpower" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_command" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_command" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_command" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_command" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_command" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_command" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Command" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-command=1}} {{title=^{command}}} {{@{position_query}}} {{effect=@{effect_query}}} @{command_formula} @{command_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="command_description"><span class="default-label inherit" data-i18n="command"></span><span class="custom-label inherit" name="attr_command_label"></span>
              </button>
            </div>
            <div class="action flex">
              <input type="hidden" name="attr_consort_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_consort_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_willpower" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_consort" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_consort" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_consort" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_consort" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_consort" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_consort" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Consort" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-consort=1}} {{title=^{consort}}} {{@{position_query}}} {{effect=@{effect_query}}} @{consort_formula} @{consort_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="consort_description"><span class="default-label inherit" data-i18n="consort"></span><span class="custom-label inherit" name="attr_consort_label"></span>
              </button>
            </div>
            <div class="action flex">
              <input type="hidden" name="attr_influence_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_influence_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_willpower" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_influence" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_influence" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_influence" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_influence" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_influence" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_influence" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_influence" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-influence=1}} {{title=^{influence}}} {{@{position_query}}} {{effect=@{effect_query}}} @{influence_formula} @{influence_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="influence_description"><span class="default-label inherit" data-i18n="influence"></span><span class="custom-label inherit" name="attr_influence_label"></span>
              </button>
            </div>
            <div class="action flex">
              <input type="hidden" name="attr_study_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_study_roll_mods" value=""/>
              <input class="maxrating" type="hidden" name="attr_setting_max_rating_willpower" value="0"/>
              <input class="hidden fakeradio" type="checkbox" name="attr_study" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_study" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_study" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_study" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_study" value="4"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_study" value="5"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Study" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-study=1}} {{title=^{study}}} {{@{position_query}}} {{effect=@{effect_query}}} @{study_formula} @{study_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="study_description"><span class="default-label inherit" data-i18n="study"></span><span class="custom-label inherit" name="attr_study_label"></span>
              </button>
            </div>
            <input class="hider" type="hidden" name="attr_setting_show_assense" value="0"/>
            <div class="spaction action flex small-margin">
              <input type="hidden" name="attr_assense_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_assense_roll_mods" value=""/>
              <input class="hidden fakeradio" type="checkbox" name="attr_assense" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_assense" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_assense" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_assense" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_assense" value="4"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Assense" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-assense=1}} {{title=^{assense}}} {{@{position_query}}} {{effect=@{effect_query}}} @{assense_formula} @{assense_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="assense_description"><span class="default-label inherit" data-i18n="assense"></span><span class="custom-label inherit" name="attr_assense_label"></span>
              </button>
            </div>
            <input class="hider" type="hidden" name="attr_setting_show_attune" value="0"/>
            <div class="spaction action flex small-margin">
              <input type="hidden" name="attr_attune_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <input type="hidden" name="attr_attune_roll_mods" value=""/>
              <input class="hidden fakeradio" type="checkbox" name="attr_attune" value="0" checked="checked"/>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_attune" value="1"/><span></span>
              <div class="divider"></div>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_attune" value="2"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_attune" value="3"/><span></span>
              <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_attune" value="4"/><span></span>
              <button class="rollbutton label" type="roll" name="roll_Attune" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{subtitle=^{rolls}}} {{title-attune=1}} {{title=^{attune}}} {{@{position_query}}} {{effect=@{effect_query}}} @{attune_formula} @{attune_roll_mods} {{charimage=@{chat_image}}} @{title_text}" data-i18n-title="attune_description"><span class="default-label inherit" data-i18n="attune"></span><span class="custom-label inherit" name="attr_attune_label"></span>
              </button>
            </div>
          </div>        
        </div>
        <input class="hider" type="hidden" name="attr_setting_show_cohort" value="0"/>
        <div class="cohort">
          <input type="hidden" name="attr_char_cohort_verb" value="^{rolls_their}"/>
          <input type="hidden" name="attr_char_cohort_roll_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
          <div class="cohort-title flex label">
            <input class="inherit" type="text" spellcheck="false" name="attr_char_cohort_name" value="Cohort"/>
            <button class="inherit rollbutton" type="roll" name="roll_char_cohort_roll" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{short=short}} {{charname=@{char_cohort_name} (^{@{char_cohort_type}}, @{char_cohort_subtype})}} {{title-cohort_quality=1}} {{title=^{cohort_quality}}} {{subtitle=@{char_cohort_verb}}} @{char_cohort_roll_formula} {{charimage=@{chat_image}}} @{title_text}" data-i18n="roll-inf">
            </button>
          </div>
          <div class="cohort-info flex uppercase">
            <div class="cohort-dropdown">
              <div><span name="attr_char_cohort_type" data-i18n-dynamic="data-i18n-dynamic"></span></div>
              <div>
                <input type="radio" name="attr_char_cohort_type" value="team"/><span data-i18n="team"></span>
              </div>
              <div>
                <input type="radio" name="attr_char_cohort_type" value="elite"/><span data-i18n="elite"></span>
              </div>
              <div>
                <input type="radio" name="attr_char_cohort_type" value="expert" checked="checked"/><span data-i18n="expert"></span>
              </div>
            </div>
            <input class="sheet-inherit" type="text" spellcheck="false" name="attr_char_cohort_subtype" data-i18n-placeholder="type"/>
            <div class="label cohort-quality-label" data-i18n="quality_abbreviated">Q:</div>
            <input class="label" type="number" name="attr_char_cohort_quality" min="0" max="5" value="1"/>
          </div>
          <div class="cohort-condition flex">
            <label><span class="cohort-condition-name uppercase" data-i18n="weak"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_weak" value="1"/><span></span>
            </label>
            <label><span class="cohort-condition-name uppercase" data-i18n="impaired"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_impaired" value="1"/><span></span>
            </label>
            <label><span class="cohort-condition-name uppercase" data-i18n="broken"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_broken" value="1"/><span></span>
            </label>
            <label><span class="cohort-condition-name label" data-i18n="armor"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_char_cohort_armor" value="1"/><span></span>
            </label>
          </div>
          <label class="cohort-edgeflaw"><span class="uppercase" data-i18n="edges"></span>
            <div class="auto-expand"><span name="attr_char_cohort_edges"></span>
              <textarea spellcheck="false" name="attr_char_cohort_edges"></textarea>
            </div>
          </label>
          <label class="cohort-edgeflaw"><span class="uppercase" data-i18n="flaws"></span>
            <div class="auto-expand"><span name="attr_char_cohort_flaws"></span>
              <textarea spellcheck="false" name="attr_char_cohort_flaws"></textarea>
            </div>
          </label>
          <textarea class="cohort-description" spellcheck="false" name="attr_char_cohort_description" data-i18n-placeholder="cohortexamp"></textarea>
        </div>
        <div class="bonusdie">
          <div class="label" data-i18n="bonus_die"></div>
          <div class="flex">
            <div class="flex-center bonusdieplus">+</div>
            <div class="bonusdietext">
              <div class="label" data-i18n="push_yourself"></div><span data-i18n="push_yourself_desc1"></span><span name="attr_setting_stress_label"></span><span data-i18n="push_yourself_desc2"></span>
              <div class="label" data-i18n="dragons_deal"></div>
            </div>
          </div>
        </div>
        <div class="friends">
          <div class="specialheader label flex">
            <input class="inherit" type="text" spellcheck="false" name="attr_friends_title" value="Friends"/>
          </div>
          <div class="greyholder">
            <fieldset class="repeating_friend">
              <div class="friend-contact friend flex">
                <input class="friendstate" type="hidden" name="attr_status" value="0"/>
                <label class="up">
                  <input class="checkbox" type="checkbox" name="attr_status" value="up"/><span></span>
                </label>
                <label class="down">
                  <input class="checkbox" type="checkbox" name="attr_status" value="down"/><span></span>
                </label>
                <div class="auto-expand"><span name="attr_name"></span>
                  <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="friend_name"></textarea>
                </div>
              </div>
              <input class="expand" type="checkbox" value="1"/><span></span>
              <textarea class="description" spellcheck="false" name="attr_description" data-i18n-placeholder="notes"></textarea>
            </fieldset>
          </div>
        </div>
        <button class="fortunebutton borderbutton" type="roll" name="roll_Fortune" value="&{template:blades} {{charname=@{character_name}}} {{type=fortune}} {{subtitle=^{rolls}}} {{title-fortune=1}} {{title=^{fortune}}} @{numberofdice} {{notes=@{notes_query}}} {{charimage=@{chat_image}}} @{title_text}" data-i18n="roll_fortune"></button>  
        <input class="hider" type="hidden" name="attr_setting_show_lineage" value="1" checked="checked"/>
        <div class="def-margin lineage">
          <div class="specialheader label flex">
            <input class="inherit" type="text" spellcheck="false" name="attr_lineage_name" value="Lineage"/>
          </div>
          <div class="setting-lineage">
            <label class="lineage-type">
              <select name="attr_setting_lineage">
                <optgroup data-i18n-label="classic">
                  <option value="human" data-i18n="human" selected="selected">Human</option>
                  <option value="dwarf" data-i18n="dwarf">Dwarf</option>
                  <option value="elf" data-i18n="elf">Elf</option>
                  <option value="ork" data-i18n="ork">Ork</option>
                  <option value="troll" data-i18n="troll">Troll</option>
                </optgroup>
                <optgroup data-i18n-label="stranger">   
                  <option value="goblin" data-i18n="goblin">Goblin</option>
                  <option value="lizardfolk" data-i18n="lizardfolk">Lizardfolk</option>
                  <option value="obsidifolk" data-i18n="obsidifolk">Obsidifolk</option>
                  <option value="ratkin" data-i18n="ratkin">Ratkin</option>
                  <option value="shifter" data-i18n="shifter">Shifter</option>
                </optgroup>
                <optgroup data-i18n-label="strangest">   
                  <option value="centaur" data-i18n="centaur">Centaur</option>
                  <option value="pixie" data-i18n="pixie">Pixie</option>
                  <option value="other" data-i18n="other">Other</option>
                </optgroup>
              </select>
            </label>
          </div>
          <div class="itemholder items">
            <div class="regularitems free-repcontrol lineage">
              <div class="lineage">
                <input class="input" type="hidden" name="attr_setting_lineage" value="human"/>
                <div class="human regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_human_description" data-i18n="humandesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_privilege_name" value="Privilege"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_privilege_description" data-i18n="privilege_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="dwarf"/>
                <div class="dwarf regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_dwarf_description" data-i18n="dwarfdesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_thermal_senses_name" value="Thermal Senses"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_thermal_senses_description" data-i18n="thermal_senses_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_fun-sized_name" value="Fun-Sized"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_fun-sized_description" data-i18n="fun-sized_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_tenacious_name" value="Tenacious"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_tenacious_description" data-i18n="tenacious_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_thiccblood_name" value="Thiccblood"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_thiccblood_description" data-i18n="thiccblood_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="elf"/>
                <div class="elf regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_elf_description" data-i18n="elfdesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_low-light_vision_name" value="Low-Light Vision"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_low-light_vision_description" data-i18n="low-light_vision_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_pointed_ears_name" value="Pointed Ears"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_pointed_ears_description" data-i18n="pointed_ears_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_quick_name" value="Quick"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_quick_description" data-i18n="quick_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_graceful_name" value="Graceful"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_graceful_description" data-i18n="graceful_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="ork"/>
                <div class="ork regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_ork_description" data-i18n="orkdesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_low-light_vision_name" value="Low-Light Vision"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_low-light_vision_description" data-i18n="low-light_vision_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_foolish_pride_name" value="Foolish Pride"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_foolish_pride_description" data-i18n="foolish_pride_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_numbskull_name" value="Numbskull"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_numbskull_description" data-i18n="numbskull_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="troll"/>
                <div class="troll regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_troll_description" data-i18n="trolldesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_thermal_senses_name" value="Thermal Senses"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_thermal_senses_description" data-i18nr="thermal_senses_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_oversized_name" value="Oversized"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_oversized_description" data-i18n="oversized_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_troll_armor_name" value="Troll Armor"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_troll_armor_description" data-i18n="troll_armor_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_horned_name" value="Horned"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_horned_description" data-i18n="horned_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="goblin"/>
                <div class="goblin regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_goblin_description" data-i18n="goblindesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_darkvision_name" value="Darkvision"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_darkvision_description" data-i18n="darkvision_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_quick_name" value="Quick"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_quick_description" data-i18n="quick_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_pack_mentality_name" value="Pack Mentality"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_pack_mentality_description" data-i18n="pack_mentality_desc"></textarea>
                    </div>
                  </div>
                </div>                
                <input class="input" type="hidden" name="attr_setting_lineage" value="lizardfolk"/>
                <div class="lizardfolk regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_lizardfolk_description" data-i18n="lizardfolkdesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_thermal_senses_name" value="Thermal Senses"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_thermal_senses_description" data-i18n="thermal_senses_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_endothermic_name" value="Endothermic"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_endothermic_description" data-i18n="endothermic_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="obsidifolk"/>
                <div class="obsidifolk regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_obsidifolk_description" data-i18n="obsidifolkdesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_low-stoneskin_name" value="Stoneskin"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_low-stoneskin_description" data-i18n="low-stoneskin_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_earthsight_name" value="Earthsight"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_earthsight_description" data-i18n="earthsight_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_ancient_blood_name" value="Ancient Blood"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_ancient_blood_description" data-i18n="ancient_blood_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="ratkin"/>
                <div class="ratkin regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_ratkin_description" data-i18n="ratkindesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_rat_senses_name" value="Rat Senses"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_rat_senses_description" data-i18n="rat_senses_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_wallclimb_name" value="Wallclimb"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_wallclimb_description" data-i18n="wallclimb_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_prehensile_tail_name" value="Prehensile Tail"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_prehensile_tail_description" data-i18n="prehensile_tail_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="shifter"/>
                <div class="shifter regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_shifter_description" data-i18n="shifterdesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_beast_form_name" value="Beast Form"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_beast_form_description" data-i18n="beast_form_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_magical_senses_name" value="Magical Senses"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_magical_senses_description" data-i18n="magical_senses_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="centaur"/>
                <div class="centaur regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_centaur_description" data-i18n="centaurdesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_equine_hybrid_name" value="Equine Hybrid"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_equine_hybrid_description" data-i18n="equine_hybrid_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_beast_of_burden_name" value="Beast of Burden"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_beast_of_burden_description" data-i18n="beast_of_burden_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_centaur_senses_name" value="Centaur Senses"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_centaur_senses_description" data-i18n="centaur_senses_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="pixie"/>
                <div class="pixie regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_pixie_description" data-i18n="pixiedesc"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_faerie_name" value="Faerie"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_faerie_description" data-i18n="faerie_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_winged_name" value="Winged"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_winged_description" data-i18n="winged_desc"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_glamour_name" value="Glamour"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_glamour_description" data-i18n="glamour_desc"></textarea>
                    </div>
                  </div>
                </div>
                <input class="input" type="hidden" name="attr_setting_lineage" value="other"/>
                <div class="other regularitems upgrades grid">
                  <div class="sheet-2col item-description">
                    <textarea class="lineage-desc" spellcheck="false" name="attr_other_description" data-i18n-placeholder="description"></textarea>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_other_1" data-i18n-placeholder="special_ability"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_other_1_description" data-i18n-placeholder="description"></textarea>
                    </div>
                  </div>
                  <div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_other_2" data-i18n-placeholder="special_ability"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_other_2_description" data-i18n-placeholder="description"></textarea>
                    </div>
                  </div><div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_other_3" data-i18n-placeholder="special_ability"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_other_3_description" data-i18n-placeholder="description"></textarea>
                    </div>
                  </div><div class="sheet-2col">
                    <div class="item">
                      <input class="itemname" type="text" spellcheck="false" name="attr_other_4" data-i18n-placeholder="special_ability"><span></span>
                    </div>
                    <div class="item-description">
                      <input class="expand" type="checkbox" value="1"/><span></span>
                      <textarea spellcheck="false" name="attr_other_4_description" data-i18n-placeholder="description"></textarea>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="clocks sheet-2col free-repcontrol">
        <div class="specialheader label" data-i18n="clocks"></div>
        <fieldset class="repeating_clock">
          <input class="size" type="hidden" name="attr_size" value=""/>
          <div class="auto-expand smallcaps"><span name="attr_name"></span>
            <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="clock_name"></textarea>
          </div>
          <button class="broadcast-button" type="roll" name="roll_Show" value="&amp;{template:bitd-broadcast}{{charname=@{character_name}}} {{title=@{name}}} {{clock=1}} {{clocksize=@{size}}} {{clockprogress=@{progress}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button>
          <div class="size-choice">
            <label class="text-button">
              <input type="radio" name="attr_size" value="4"/><span>4</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="6"/><span>6</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="8"/><span>8</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="10"/><span>10</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="12"/><span>12</span>
            </label>
          </div>
          <div class="clock-container">
            <div class="spoke-0 all"></div>
            <div class="spoke-30 sheet-12clock"></div>
            <div class="spoke-45 sheet-8clock"></div>
            <div class="spoke-36 sheet-10clock"></div>
            <div class="spoke-60 sheet-6clock sheet-12clock"></div>
            <div class="spoke-72 sheet-10clock"></div>
            <div class="spoke-90 sheet-4clock sheet-8clock sheet-12clock"></div>
            <div class="spoke-108 sheet-10clock"></div>
            <div class="spoke-120 sheet-6clock sheet-12clock"></div>
            <div class="spoke-135 sheet-8clock"></div>
            <div class="spoke-144 sheet-10clock"></div>
            <div class="spoke-150 sheet-12clock"></div>
            <input class="zero input-progress" type="radio" name="attr_progress" value="0" checked="checked"/><span></span>
            <input class="input-progress all" type="radio" name="attr_progress" value="1"/>
            <input class="input-progress all" type="radio" name="attr_progress" value="2"/>
            <input class="input-progress all" type="radio" name="attr_progress" value="3"/>
            <input class="input-progress all" type="radio" name="attr_progress" value="4"/>
            <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="5"/>
            <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="6"/>
            <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="7"/>
            <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="8"/>
            <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="9"/>
            <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="10"/>
            <input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="11"/>
            <input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="12"/>
            <div class="clock"></div>
          </div>
        </fieldset>
      </div>
      <textarea class="notes sheet-2col small-margin" spellcheck="false" name="attr_notes" data-i18n-placeholder="notes"></textarea>
    </div>
  </div>
  <div class="type-crew grid">
    <div class="left-column">
      <div class="header grid">
        <div class="bladeslogo"></div>
        <div class="crewheader label" data-i18n="crew_sheet"></div>
        <label>
          <input type="text" spellcheck="false" name="attr_crew_name"/>
          <div class="label text title" data-i18n="name"></div>
        </label>
        <label>
          <input type="text" spellcheck="false" name="attr_reputation"/>
          <div class="label text title" data-i18n="reputation"></div>
        </label>
        <label class="sheet-2col">
          <input type="text" spellcheck="false" name="attr_safehouse"/>
          <div class="label text title" data-i18n="safehouse"></div>
        </label>
        <input class="hider" type="hidden" name="attr_setting_show_tradition" value="0"/>
        <label>
          <input type="text" spellcheck="false" name="attr_crew_tradition"/>
          <input type="hidden" name="attr_crew_tradition" value=""/>
          <div class="text"><span class="label title"><span class="space-after" name="attr_setting_tradition_label"></span></span><span class="uppercase info" data-i18n="tradition_type"></span></div>
        </label>
        <input class="hider" type="hidden" name="attr_setting_show_tradition" value="0"/>
        <label>
          <input type="text" spellcheck="false" name="attr_crew_tradition_features" data-i18n-placeholder="choose_2_features"/>
          <input type="hidden" name="attr_crew_tradition_features" value=""/>
          <div class="text"><span class="label title"><span class="space-after"></span><span data-i18n="features"></span></span><span class="uppercase info" data-i18n="tradition_features_info"></span></div>
        </label>
        <input class="hider" type="hidden" name="attr_setting_show_movement" value="0"/>
        <label>
          <input type="text" spellcheck="false" name="attr_crew_movement"/>
          <div class="label text title" data-i18n="movement"></div>
        </label>
        <input class="hider" type="hidden" name="attr_setting_show_movement" value="0"/>
        <label>
          <input type="text" spellcheck="false" name="attr_crew_movement_features" data-i18n-placeholder="choose_2_features"/>
          <input type="hidden" name="attr_crew_movement_features" value=""/>
          <div class="text"><span class="label title"><span class="space-after"></span><span data-i18n="features"></span></span><span class="uppercase info" data-i18n="movement_features_info"></span></div>
        </label>
      </div>
      <div class="rep-and-hold flex def-margin">
        <div class="rep flex col45">
          <div class="rep1 blackheader">
            <div class="label" data-i18n="rep"></div>
          </div>
          <div class="rep2 blackborder flex">
            <div class="fixerbox">
              <input type="radio" name="attr_fixer" value="1"/><span></span>
              <input type="radio" name="attr_fixer" value="2"/><span></span>
              <input type="radio" name="attr_fixer" value="3"/><span></span>
              <input type="radio" name="attr_fixer" value="4"/><span></span>
              <input type="radio" name="attr_fixer" value="5"/><span></span>
              <input type="radio" name="attr_fixer" value="6"/><span></span>
            </div>
            <input class="fixer-input" type="hidden" name="attr_fixer" value="0"/>
            <input class="tooth zero" type="radio" name="attr_rep" value="0" checked="checked"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_rep" value="1"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_rep" value="2"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_rep" value="3"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_rep" value="4"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_rep" value="5"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_rep" value="6"/><span></span>
            <input class="tooth stresstooth fixer6" type="radio" name="attr_rep" value="7"/><span></span>
            <input class="tooth stresstooth fixer6 fixer5" type="radio" name="attr_rep" value="8"/><span></span>
            <input class="tooth stresstooth fixer6 fixer5 fixer4" type="radio" name="attr_rep" value="9"/><span></span>
            <input class="tooth stresstooth fixer6 fixer5 fixer4 fixer3" type="radio" name="attr_rep" value="10"/><span></span>
            <input class="tooth stresstooth fixer6 fixer5 fixer4 fixer3 fixer2" type="radio" name="attr_rep" value="11"/><span></span>
            <input class="tooth stresstooth fixer6 fixer5 fixer4 fixer3 fixer2 fixer1" type="radio" name="attr_rep" value="12"/><span></span>
          </div>
          <div class="rep3 blackborder">
            <div class="black-on-grey">
              <div class="label" data-i18n="fixer"></div>
            </div>
            <div class="fixerzero-holder">
              <input class="zero" type="radio" name="attr_fixer" value="0" checked="checked"/><span></span>
            </div>
          </div>
        </div>
        <div class="hold flex">
          <div class="hold1 blackheader">
            <div class="label" data-i18n="hold"></div>
          </div>
          <label class="blackborder">
            <div class="black-on-grey">
              <div class="label" data-i18n="weak"></div>
            </div>
            <input class="tooth holdtooth" type="radio" name="attr_hold" value="weak"/><span></span>
          </label>
          <label class="blackborder">
            <div class="black-on-grey">
              <div class="label" data-i18n="strong"></div>
            </div>
            <input class="tooth holdtooth" type="radio" name="attr_hold" value="strong" checked="checked"/><span></span>
          </label>
          <div class="blackheader">
            <button class="label inherit rollbutton" type="roll" name="roll_Tier" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{short=short}} {{title-crew_tier=1}} {{title=^{crew_tier}}} {{subtitle=^{roll_their}}} @{crew_tier_formula} {{charimage=@{chat_image}}} @{title_text}" data-i18n="tier">
            </button>
            <input type="hidden" name="attr_crew_tier_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
          </div>
          <div class="tier flex">
            <input class="hidden fakeradio" type="checkbox" name="attr_crew_tier" value="0" checked="checked"/>
            <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="1"/><span></span>
            <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="2"/><span></span>
            <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="3"/><span></span>
            <input class="checkbox circlebox fakeradio" type="checkbox" name="attr_crew_tier" value="4"/><span></span>
          </div>
        </div>
      </div>
      <div class="claims free-repcontrol">
        <div class="claimsbody">
              <input type="hidden" name="attr_claim_1_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_1_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_1_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_1_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_1_2" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_2_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_2_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_2_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_2_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_2_3" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_3_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_3_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_3_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_3_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_3_4" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_4_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_4_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_4_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_4_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_4_5" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_5_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_5_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_5_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_5_desc"></textarea>
              </div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_1_6" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_2_7" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_3_8" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_4_9" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_5_10" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_6_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_6_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_6_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_6_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_6_7" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_7_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_7_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_7_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_7_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_7_8" value="1" checked="checked"/><span></span>
              </label>
          <div class="safehousebox flex-center uppercase" data-i18n="safe_house"></div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_8_9" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_9_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_9_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_9_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_9_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_9_10" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_10_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_10_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_10_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_10_desc"></textarea>
              </div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_6_11" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_7_12" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_8_13" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_9_14" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_10_15" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_11_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_11_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_11_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_11_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_11_12" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_12_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_12_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_12_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_12_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_12_13" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_13_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_13_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_13_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_13_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_13_14" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_14_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_14_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_14_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_14_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_14_15" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_15_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_15_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_15_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_15_desc"></textarea>
              </div>
        </div>
        <fieldset class="repeating_claim">
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_top_1" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_top_2" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_top_3" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_top_4" value="1" checked="checked"/><span></span>
              </label>
          <div></div>
              <label class="claimbridge claims-vertsep">
                <input type="checkbox" name="attr_claim_bridge_top_5" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_1_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_1_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_1_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_1_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_1_2" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_2_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_2_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_2_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_2_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_2_3" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_3_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_3_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_3_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_3_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_3_4" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_4_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_4_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_4_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_4_desc"></textarea>
              </div>
              <label class="claimbridge claims-horisep">
                <input type="checkbox" name="attr_claim_bridge_4_5" value="1" checked="checked"/><span></span>
              </label>
              <input type="hidden" name="attr_claim_5_check" value="0"/>
              <div class="claimbox">
                <label>
                  <input class="checkbox squarebox-small" type="checkbox" name="attr_claim_5_check" value="1"/><span></span>
                </label>
                <textarea class="label" spellcheck="false" name="attr_claim_5_name"></textarea>
                <textarea class="claim-desc" spellcheck="false" name="attr_claim_5_desc"></textarea>
              </div>
        </fieldset>
      </div>
      <div class="heat-and-vault flex def-margin">
        <div class="heat col45 flex">
          <div class="heat1 blackheader">
            <div class="label"><span name="attr_setting_heat_label"></span></div>
          </div>
          <div class="heat2 blackborder flex">
            <input class="tooth zero" type="radio" name="attr_heat" value="0" checked="checked"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="1"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="2"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="3"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="4"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="5"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="6"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="7"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="8"/><span></span>
            <input class="tooth stresstooth" type="radio" name="attr_heat" value="9"/><span></span>
          </div>
          <div class="heat3">
            <div class="blackheader">
              <button class="label inherit rollbutton" type="roll" name="roll_Wanted" value="&{template:blades} {{charname=@{character_name}}} {{type=vice}} {{short=short}} {{title-entanglement=1}} {{title=^{entanglement}}} {{subtitle=^{wantedroll1}@{heat}&nbsp;@{setting_heat_label}^{wantedroll2}}} @{wanted_formula} {{charimage=@{chat_image}}} @{title_text}"><span name="attr_setting_wanted_label"></span>
              </button>
              <input type="hidden" name="attr_wanted_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
            </div>
            <div class="wantedholder flex">
              <input class="tooth zero" type="radio" name="attr_wanted" value="0" checked="checked"/><span></span>
              <input class="tooth regulartooth" type="radio" name="attr_wanted" value="1"/><span></span>
              <input class="tooth regulartooth" type="radio" name="attr_wanted" value="2"/><span></span>
              <input class="tooth regulartooth" type="radio" name="attr_wanted" value="3"/><span></span>
              <input class="tooth regulartooth" type="radio" name="attr_wanted" value="4"/><span></span>
            </div>
          </div>
        </div>
        <div class="crewnuyen col52b">
          <div class="col100 flex">
            <div class="blackheader crewnuyen1">
              <div class="label" data-i18n="nuyen"></div>
            </div>
            <div class="greyheader crewnuyen2">
              <div class="label" data-i18n="vaults"></div>
            </div>
          </div>
          <div class="col100 flex crewnuyen-nuyen">
            <input class="zero" type="radio" name="attr_crewnuyen" value="0" checked="checked"/><span></span>
            <input class="radiobox" type="radio" name="attr_crewnuyen" value="1"/><span></span>
            <input class="radiobox" type="radio" name="attr_crewnuyen" value="2"/><span></span>
            <input class="radiobox" type="radio" name="attr_crewnuyen" value="3"/><span></span>
            <input class="radiobox" type="radio" name="attr_crewnuyen" value="4"/><span></span>
            <div class="crewnuyenbar"></div>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="5"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="6"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="7"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="8"/><span></span>
            <div class="crewnuyenbar"></div>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="9"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="10"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="11"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="12"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="13"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="14"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="15"/><span></span>
            <input class="radiobox vaultnuyen" type="radio" name="attr_crewnuyen" value="16"/><span></span>
          </div>
          <div class="col100 crewnuyen-desc" data-i18n="upon_crew_advance"></div>
        </div>
      </div>
      <div class="specialabilities def-margin">
        <div class="specialheader label" data-i18n="special_abilities"></div>
        <div class="greyholder">
          <fieldset class="repeating_crewability">
            <div class="specialability flex">
              <button class="broadcast-button" type="roll" name="roll_Show" value="&amp;{template:bitd-broadcast} {{charname=@{character_name}}} {{type=^{special_ability}}} {{title=@{name}}} {{content=@{description}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button>
              <input class="checkbox circlebox" type="checkbox" name="attr_check" value="1"/><span></span>
              <div class="auto-expand abilityname smallcaps"><span name="attr_name"></span>
                <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="ability_name"></textarea>
              </div>
              <div class="auto-expand abilitydesc"><span name="attr_description"></span>
                <textarea spellcheck="false" name="attr_description" data-i18n-placeholder="ability_description"></textarea>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
      <div class="advancement def-margin">
        <div class="advancement-header flex blackheader">
          <div class="label markxp" data-i18n="mark_xp:"></div>
          <div class="label" data-i18n="crew_advancement"></div>
          <div class="xpholder flex">
            <input class="tooth zero" type="radio" name="attr_crew_xp" value="0" checked="checked"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="1"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="2"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="3"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="4"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="5"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="6"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="7"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="8"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="9"/><span></span>
            <input class="tooth xptooth" type="radio" name="attr_crew_xp" value="10"/><span></span>
          </div>
        </div>
        <ul class="advancement-desc">
          <li class="nondot" data-i18n="xp_top"></li>
          <li>
            <div class="auto-expand"><span name="attr_crew_xp_condition"></span>
              <textarea spellcheck="false" name="attr_crew_xp_condition" data-i18n-placeholder="xp_crew_specific"></textarea>
            </div>
          </li>
          <input class="hider" type="hidden" name="attr_setting_extra_xp_condition" value="0"/>
          <li>
            <div class="auto-expand"><span name="attr_xp_condition_extra"></span>
              <textarea spellcheck="false" name="attr_xp_condition_extra" data-i18n-placeholder="xp_specific_extra"></textarea>
            </div>
          </li>
          <li data-i18n="xp_contend"></li>
          <li data-i18n="xp_bolster"></li>
          <li data-i18n="xp_express"></li>
        </ul>
      </div>
    </div>
    <div class="right-column grid">
      <div class="playbook sheet-2col flex">
        <input class="label" type="text" spellcheck="false" name="attr_crew_type" data-i18n-placeholder="crew"/>
        <textarea class="label" spellcheck="false" name="attr_crew_description" data-i18n-placeholder="crew_description"></textarea>
        <input class="hider" type="hidden" name="attr_show_playbook_reminder" value="1"/>
        <div class="reminder"><span data-i18n="autofill_reminder_crew"></span><br/><span data-i18n="list_crews"></span></div>
      </div>
      <div class="upgradecolumn">
        <div class="itemheader"><span class="label" data-i18n="crew_upgrades"></span></div>
        <div class="itemholder upgrades">
          <div class="playbookitems free-repcontrol">
            <fieldset class="repeating_upgrade">
              <input class="boxes-chosen" type="hidden" name="attr_boxes_chosen" value="0"/>
              <div class="item numboxes-chooser">
                <div data-i18n="how_many_boxes"></div>
                <input type="number" name="attr_numboxes" min="1" max="3" value="1"/>
                <label>
                  <input type="checkbox" name="attr_boxes_chosen" value="1"/><span data-i18n="ok"></span>
                </label>
              </div>
              <div class="item">
                <input class="numboxes" type="hidden" name="attr_numboxes" value="1"/>
                <input class="checkbox squarebox" type="checkbox" name="attr_check_1" value="1"/><span></span><span class="floatingbar boxesgeq2"></span>
                <input class="checkbox squarebox boxesgeq2" type="checkbox" name="attr_check_2" value="1"/><span class="boxesgeq2"></span><span class="floatingbar boxesgeq3 boxesgeq2"></span>
                <input class="checkbox squarebox boxesgeq2 boxesgeq3" type="checkbox" name="attr_check_3" value="1"/><span class="boxesgeq2 boxesgeq3"></span>
                <div class="auto-expand itemname"><span name="attr_name"></span>
                  <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="an_upgrade"></textarea>
                </div>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_description" data-i18n-placeholder="description"></textarea>
              </div>
            </fieldset>
          </div>
          <div class="regularitems upgrades grid">
            <div class="upgradecaption label" data-i18n="cohorts"></div>
            <div class="upgradecaption label" data-i18n="site"></div>
            <div class="upgradecosts label" data-i18n="upgrade_costs"></div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_garage_check_1" value="1"/><span></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_garage_check_2" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_garage_name" value="Garage"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_garage_description" data-i18n-placeholder="description">The site has a utility van, hydrogen condenser station, and a garage. A second upgrade improves the van with armor and a larger, faster engine. Flying vehicles are expensive. Combustion engines and petroleum fuels are novelty items—most vehicles in the city combine compressed gases to produce electricity as their means of propulsion.</textarea>
              </div>
            </div>
            <div class="upgradecosts" data-i18n="new_cohort"></div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_boathouse_check_1" value="1"/><span></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_boathouse_check_2" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_boathouse_name" value="Boathouse"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_boathouse_description" data-i18n-placeholder="description">The site has a boat, a dock on a waterway, and a small shed to store boating supplies. A second upgrade improves the boat with armor and more cargo capacity.</textarea>
              </div>
            </div>
            <div class="upgradecosts" data-i18n="add_type"></div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_cleanroom_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_cleanroom_name" value="Cleanroom"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_cleanroom_description" data-i18n-placeholder="description">The site has a work area and tools for bioengineering and cybernetics, designed to maintain strict limits on signals, temperature, humidity, and contaminants. You may accomplish long-term projects and perform surgery with these assets without leaving the site.</textarea>
              </div>
            </div>
            <div class="upgradecaption label" data-i18n="training"></div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_lodge_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_lodge_name" value="Lodge"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_lodge_description" data-i18n-placeholder="description">A supernatural workshop devoted to a particular arcane or emergent method (choose which one when you gain this upgrade), with tools and materials for learning spells and performing binding ceremonies, as well as protective wards from supernatural interference and surveillance. You may accomplish long-term projects with these assets without leaving the site.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_intuition_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_intuition_name" value="intuition"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_intuition_description" data-i18n-placeholder="description">Earn 2 xp when training intuition during downtime.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_quarters_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_quarters_name" value="Quarters"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_quarters_description" data-i18n-placeholder="description">You have a shared living quarters for the crew in this site. Without this upgrade, each PC sleeps elsewhere, and is vulnerable when they do so.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_body_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_body_name" value="Body"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_body_description" data-i18n-placeholder="description">Earn 2 xp when training body during downtime.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_secure_check_1" value="1"/><span></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_secure_check_2" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_secure_name" value="Secure"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_secure_description" data-i18n-placeholder="description">The site has maglocks, alarms, and traps to thwart intruders. This upgrade can be taken again to improve the defenses to include protection against online threats. You might roll your crew's Tier if these measures are ever put to the test, to see how well they thwart an intruder.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_willpower_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_willpower_name" value="Willpower"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_willpower_description" data-i18n-placeholder="description">Earn 2 xp when training willpower during downtime.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_workshop_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_workshop_name" value="Workshop"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_workshop_description" data-i18n-placeholder="description">The site has a work area with tools for electronics and chemicals, as well as a database of schematics and maps. You may accomplish long-term projects with these assets without leaving the site.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_playbook_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_playbook_name" value="Playbook"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_playbook_description" data-i18n-placeholder="description">Earn 2 xp when training playbook during downtime.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_workstation_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_workstation_name" value="Workstation"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_workstation_description" data-i18n-placeholder="description">The site has a work area with tools for electronics and chemicals, as well as a database of schematics and maps. You may accomplish long-term projects with these assets without leaving the site.</textarea>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_mastery_check_1" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_mastery_check_2" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_mastery_check_3" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_mastery_check_4" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_mastery_name" value="Mastery"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_mastery_description" data-i18n-placeholder="description">Your crew has access to master level training. You may advance your PCs' action ratings to 4 (until you unlock this upgrade, PC action ratings are capped at 3). This costs four upgrade boxes to unlock.</textarea>
              </div>
            </div>
            <div class="upgradecaption label" data-i18n="basic"></div>  
            <div class="upgradecaption label" data-i18n="quality"></div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_boltholes_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_boltholes_name" value="Boltholes"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_boltholes_description" data-i18n-placeholder="description">You have effective locations to lay low between operations. When you reduce heat, you can spend nuyen or rep 1-for-1 to the add to the final number of heat reduced by the result of your roll (this can reduce more than 5 heat). When you roll entanglements, choose one: treat your current heat level as one lower—the GM rolls your wanted level at -1d.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_comms_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_comms_name" value="Comms"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_comms_description" data-i18n-placeholder="description">+1 quality for Comms.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_cryptovault_check_1" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_cryptovault_check_2" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_cryptovault_name" value="Vault"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_cryptovault_description" data-i18n-placeholder="description">You have an array of money laundering devices, increasing your storage capacity for nuyen to 8. A second upgrade increases your capacity for nuyen to 16. A separate area can be used as a signal-blocking containment area (choose one site).</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_gear_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_gear_name" value="Gear"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_gear_description" data-i18n-placeholder="description">+1 quality for Burglary Gear and Climbing Gear.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_medsled_check_1" value="1"/><span></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_medsled_check_2" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_medsled_name" value="MedSled"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_medsled_description" data-i18n-placeholder="description">Your crew has registration for medical services through MedSled. You may call on their contracted services to activate one of the following benefits (free of charge): an extraction team to transport injured crew members to a medical facility—free access to a licensed physician for an entire downtime phase. Your benefits refresh after each run. This costs 2 upgrade boxes to unlock.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_supplies_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_supplies_name" value="Supplies"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_supplies_description" data-i18n-placeholder="description">+1 quality for Subterfuge Supplies.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_tacnet_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_tacnet_name" value="TacNet"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_tacnet_description" data-i18n-placeholder="description">You have a passenger vehicle stocked with an array of communications and surveillance technology that shields it from counter-surveillance. Further, any crew members in the same district as your TacNet may perform teamwork maneuvers, regardless of the distance separating them. You might roll your crew's Tier if these measures are ever put to the test, to see how well they thwart counter-surveillance. You can move your TacNet between districts freely during downtime.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_tools_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_tools_name" value="Tools"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_tools_description" data-i18n-placeholder="description">+1 quality for Demolition Tools and Interfacing Tools.</textarea>
              </div>
            </div>
            <div class="upgradecaption label" data-i18n="advanced"></div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_weapons_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_weapons_name" value="Weapons"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_weapons_description" data-i18n-placeholder="description">+1 quality for Weapons.</textarea>
              </div>
            </div>
            <div>
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_added_site_check_1" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_added_site_name" value="Added site"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_added_site_description" data-i18n-placeholder="description">You gain a hidden site in the city. When you take this upgrade, work with your GM to describe the new location and which fixer helped you get it. This upgrade requires Tier I and may be taken a number of times (in sum) equal to your crew's Tier +1, each time choosing describing a new location for a site. If the new site location is in a new district, the GM should tell you who controls it and then you decide how to deal with them.</textarea>
              </div>
            </div>
            <div></div>
            <div class="sheet-2col">
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_headquarters_check_1" value="1"/><span></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_headquarters_check_2" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_headquarters_name" value="Headquarters"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_headquarters_description" data-i18n-placeholder="description">You are an established syndicate with a central base surrounded by expansive grounds. Your safehouse now serves as a headquarters site which can no longer be hidden. In addition, you may pursue projects using any site's asset without leaving your headquarters. A faction controls the area (the GM will tell you who)—when your status is positive with them, you may choose to lose 1 status with them or spend nuyen equal to your current wanted level +1 to make an entanglement involving lower-Tier authorities simply go away. This upgrade requires Tier I and costs 2 upgrade boxes to unlock.</textarea>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_landing_pad_check_1" value="1"/><span></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_landing_pad_check_2" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_landing_pad_name" value="Landing pad"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_landing_pad_description" data-i18n-placeholder="description">You have a long-range vehicle capable of vertical takeoff and landing, suitable for carrying a dozen people comfortably, outfitted with a retractable turret on the nose and tail. Your headquarters also features a landing pad and a hangar with added storage for flight supplies. Taking this upgrade requires the Headquarters upgrade and costs 2 upgrade boxes to unlock. A third upgrade improves the aircraft with your choice of two added features: armor—faster engines—more cargo capacity—stealth.</textarea>
              </div>
            </div>
            <div class="sheet-2col">
              <div class="item">
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_expansion_check_1" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_expansion_check_2" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_expansion_check_3" value="1"/><span></span><span class="floatingbar"></span>
                <input class="checkbox squarebox" type="checkbox" name="attr_upgrade_expansion_check_4" value="1"/><span></span>
                <input class="itemname" type="text" spellcheck="false" name="attr_upgrade_expansion_name" value="Expansion"/>
              </div>
              <div class="item-description">
                <input class="expand" type="checkbox" value="1"/><span></span>
                <textarea spellcheck="false" name="attr_upgrade_expansion_description" data-i18n-placeholder="description">You have expanded your criminal operation to a new hidden site in a different city. You may spend upgrades for sites in your expansion city, and may accomplish long-term projects with these assets without leaving your headquarters. This upgrade requires the Headquarters upgrade, Tier II, and costs 4 upgrades to unlock. This upgrade can be taken a number of times (in sum) equal to the crew's current Tier, each time selecting a new city.</textarea>
              </div>
            </div>   
          </div>
        </div>
        <div class="meeting-grounds def-margin">
          <div class="auto-expand plainheader label"><span name="attr_meeting_grounds_type"></span>
            <textarea spellcheck="false" name="attr_meeting_grounds_type" data-i18n-placeholder="meeting_grounds"></textarea>
          </div>
          <div class="auto-expand description"><span name="attr_meeting_grounds_description"></span>
            <textarea spellcheck="false" name="attr_meeting_grounds_description" data-i18n-placeholder="meeting_grounds_description"></textarea>
          </div>
        </div>
        <div class="meeting-grounds def-margin">
          <div class="auto-expand blankheader label"><span name="attr_fixer_type"></span>
            <textarea spellcheck="false" name="attr_fixer_type" data-i18n-placeholder="fixer_type"></textarea>
          </div>
          <div class="auto-expand description"><span name="attr_fixer_description"></span>
            <textarea spellcheck="false" name="attr_fixer_description" data-i18n-placeholder="fixer_description"></textarea>
          </div>
        </div>
      </div>
      <div class="cohortcolumn">
        <div class="cohort">
          <input type="hidden" name="attr_cohort1_verb" value="^{roll_their}"/>
          <input type="hidden" name="attr_cohort1_roll_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
          <div class="cohort-title flex label">
            <input class="inherit" type="text" spellcheck="false" name="attr_cohort1_name" value="Cohort"/>
            <button class="inherit rollbutton" type="roll" name="roll_cohort1_roll" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{short=short}} {{charname=@{cohort1_name} (^{@{cohort1_type}}, @{cohort1_subtype})}} {{title-cohort_quality=1}} {{title=^{cohort_quality}}} {{subtitle=@{cohort1_verb}}} @{cohort1_roll_formula} {{charimage=@{chat_image}}} @{title_text}" data-i18n="roll-inf">
            </button>
          </div>
          <div class="cohort-info flex uppercase">
            <div class="cohort-dropdown">
              <div><span name="attr_cohort1_type" data-i18n-dynamic="data-i18n-dynamic"></span></div>
              <div>
                <input type="radio" name="attr_cohort1_type" value="team" checked="checked"/><span data-i18n="team"></span>
              </div>
              <div>
                <input type="radio" name="attr_cohort1_type" value="elite"/><span data-i18n="elite"></span>
              </div>
              <div>
                <input type="radio" name="attr_cohort1_type" value="expert"/><span data-i18n="expert"></span>
              </div>
            </div>
            <input class="sheet-inherit" type="text" spellcheck="false" name="attr_cohort1_subtype" data-i18n-placeholder="team_type"/>
          </div>
          <div class="cohort-condition flex">
            <label><span class="cohort-condition-name uppercase" data-i18n="weak"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_cohort1_weak" value="1"/><span></span>
            </label>
            <label><span class="cohort-condition-name uppercase" data-i18n="impaired"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_cohort1_impaired" value="1"/><span></span>
            </label>
            <label><span class="cohort-condition-name uppercase" data-i18n="broken"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_cohort1_broken" value="1"/><span></span>
            </label>
            <label><span class="cohort-condition-name label" data-i18n="armor"></span>
              <input class="tooth stresstooth" type="checkbox" name="attr_cohort1_armor" value="1"/><span></span>
            </label>
          </div>
          <label class="cohort-edgeflaw"><span class="uppercase" data-i18n="edges"></span>
            <div class="auto-expand"><span name="attr_cohort1_edges"></span>
              <textarea spellcheck="false" name="attr_cohort1_edges"></textarea>
            </div>
          </label>
          <label class="cohort-edgeflaw"><span class="uppercase" data-i18n="flaws"></span>
            <div class="auto-expand"><span name="attr_cohort1_flaws"></span>
              <textarea spellcheck="false" name="attr_cohort1_flaws"></textarea>
            </div>
          </label>
          <textarea class="cohort-description" spellcheck="false" name="attr_cohort1_description"></textarea>
        </div>
        <div class="cohorts free-repcontrol">
          <fieldset class="repeating_cohort">
            <div class="cohort">
              <input type="hidden" name="attr_verb" value="^{roll_their}"/>
              <input type="hidden" name="attr_roll_formula" value=" {{?{@{bonusdice}|0,zerodice=[[d6]]&amp;#44; [[d6]]|1,dice=[[d6]]|2,dice=[[d6]]&amp;#44; [[d6]]|3,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|4,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|5,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|6,dice=[[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]&amp;#44; [[d6]]|-1,zerodice=[[d6]]&amp;#44; [[d6]]|-2,zerodice=[[d6]]&amp;#44; [[d6]]|-3,zerodice=[[d6]]&amp;#44; [[d6]]}}}"/>
              <div class="cohort-title flex label">
                <input class="inherit" type="text" spellcheck="false" name="attr_name" value="Cohort"/>
                <button class="inherit rollbutton" type="roll" name="roll_roll" value="&{template:blades} {{charname=@{character_name}}} {{type=resist}} {{short=short}} {{charname=@{name} (^{@{type}}, @{subtype})}} {{title-cohort_quality=1}} {{title=^{cohort_quality}}} {{subtitle=@{verb}}} @{roll_formula} {{charimage=@{chat_image}}} @{title_text}" data-i18n="roll-inf">
                </button>
              </div>
              <div class="cohort-info flex uppercase">
                <div class="cohort-dropdown">
                  <div><span name="attr_type" data-i18n-dynamic="data-i18n-dynamic"></span></div>
                  <div>
                    <input type="radio" name="attr_type" value="team" checked="checked"/><span data-i18n="team"></span>
                  </div>
                  <div>
                    <input type="radio" name="attr_type" value="elite"/><span data-i18n="elite"></span>
                  </div>
                  <div>
                    <input type="radio" name="attr_type" value="expert"/><span data-i18n="expert"></span>
                  </div>
                </div>
                <input class="sheet-inherit" type="text" spellcheck="false" name="attr_subtype" data-i18n-placeholder="team_type"/>
              </div>
              <div class="cohort-condition flex">
                <label><span class="cohort-condition-name uppercase" data-i18n="weak"></span>
                  <input class="tooth stresstooth" type="checkbox" name="attr_weak" value="1"/><span></span>
                </label>
                <label><span class="cohort-condition-name uppercase" data-i18n="impaired"></span>
                  <input class="tooth stresstooth" type="checkbox" name="attr_impaired" value="1"/><span></span>
                </label>
                <label><span class="cohort-condition-name uppercase" data-i18n="broken"></span>
                  <input class="tooth stresstooth" type="checkbox" name="attr_broken" value="1"/><span></span>
                </label>
                <label><span class="cohort-condition-name label" data-i18n="armor"></span>
                  <input class="tooth stresstooth" type="checkbox" name="attr_armor" value="1"/><span></span>
                </label>
              </div>
              <label class="cohort-edgeflaw"><span class="uppercase" data-i18n="edges"></span>
                <div class="auto-expand"><span name="attr_edges"></span>
                  <textarea spellcheck="false" name="attr_edges"></textarea>
                </div>
              </label>
              <label class="cohort-edgeflaw"><span class="uppercase" data-i18n="flaws"></span>
                <div class="auto-expand"><span name="attr_flaws"></span>
                  <textarea spellcheck="false" name="attr_flaws"></textarea>
                </div>
              </label>
              <textarea class="cohort-description" spellcheck="false" name="attr_description"></textarea>
            </div>
          </fieldset>
        </div>
        <div class="contacts">
          <div class="specialheader label flex">
            <input class="inherit" type="text" spellcheck="false" name="attr_contacts_title" value="Contacts"/>
          </div>
          <div class="greyholder">
            <fieldset class="repeating_contact">
              <div class="friend-contact contact flex">
                <input class="friendstate" type="hidden" name="attr_check" value="0"/>
                <label>
                  <input class="checkbox" type="checkbox" name="attr_check" value="1"/><span></span>
                </label>
                <div class="auto-expand"><span name="attr_name"></span>
                  <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="contact_name"></textarea>
                </div>
              </div>
              <input class="expand" type="checkbox" value="1"/><span></span>
              <textarea class="description" spellcheck="false" name="attr_description" data-i18n-placeholder="notes"></textarea>
            </fieldset>
          </div>
        </div>
        <button class="fortunebutton borderbutton" type="roll" name="roll_Fortune_crew" value="&{template:blades} {{charname=@{character_name}}} {{type=fortune}} {{subtitle=^{roll}}} {{title-fortune=1}} {{title=^{fortune}}} @{numberofdice} {{notes=@{notes_query}}} {{charimage=@{chat_image}}} @{title_text}" data-i18n="roll_fortune"></button>
        <button class="engagementbutton borderbutton" type="roll" name="roll_Engagement" value="&{template:blades} {{charname=@{character_name}}} {{type=action}} {{short=short}} {{small-title=small-title}} {{subtitle=^{roll_for}}} {{title-engagement=1}} {{title=^{engagement}}} @{numberofdice} {{charimage=@{chat_image}}} @{title_text}" data-i18n="roll_engagement"></button>
      </div>
      <div class="clocks sheet-2col free-repcontrol">
        <div class="specialheader label" data-i18n="clocks"></div>
        <fieldset class="repeating_crewclock">
          <input class="size" type="hidden" name="attr_size" value=""/>
          <div class="auto-expand smallcaps"><span name="attr_name"></span>
            <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="clock_name"></textarea>
          </div>
          <button class="broadcast-button" type="roll" name="roll_Show" value="&amp;{template:bitd-broadcast}{{charname=@{character_name}}} {{title=@{name}}} {{clock=1}} {{clocksize=@{size}}} {{clockprogress=@{progress}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button>
          <div class="size-choice">
            <label class="text-button">
              <input type="radio" name="attr_size" value="4"/><span>4</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="6"/><span>6</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="8"/><span>8</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="10"/><span>10</span>
            </label>
            <label class="text-button">
              <input type="radio" name="attr_size" value="12"/><span>12</span>
            </label>
          </div>
          <div class="clock-container">
            <div class="spoke-0 all"></div>
            <div class="spoke-30 sheet-12clock"></div>
            <div class="spoke-45 sheet-8clock"></div>
            <div class="spoke-36 sheet-10clock"></div>
            <div class="spoke-60 sheet-6clock sheet-12clock"></div>
            <div class="spoke-72 sheet-10clock"></div>
            <div class="spoke-90 sheet-4clock sheet-8clock sheet-12clock"></div>
            <div class="spoke-108 sheet-10clock"></div>
            <div class="spoke-120 sheet-6clock sheet-12clock"></div>
            <div class="spoke-135 sheet-8clock"></div>
            <div class="spoke-144 sheet-10clock"></div>
            <div class="spoke-150 sheet-12clock"></div>
            <input class="zero input-progress" type="radio" name="attr_progress" value="0" checked="checked"/><span></span>
            <input class="input-progress all" type="radio" name="attr_progress" value="1"/>
            <input class="input-progress all" type="radio" name="attr_progress" value="2"/>
            <input class="input-progress all" type="radio" name="attr_progress" value="3"/>
            <input class="input-progress all" type="radio" name="attr_progress" value="4"/>
            <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="5"/>
            <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="6"/>
            <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="7"/>
            <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="8"/>
            <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="9"/>
            <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="10"/>
            <input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="11"/>
            <input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="12"/>
            <div class="clock"></div>
          </div>
        </fieldset>
      </div>
      <textarea class="notes sheet-2col small-margin" spellcheck="false" name="attr_crew_notes" data-i18n-placeholder="notes"></textarea>
    </div>
  </div>
  <div class="type-faction grid">
    <div class="factiontitle flex sheet-2col">
      <input class="label" type="text" spellcheck="false" name="attr_factions_title" value="Factions of Doskvol"/>
      <input class="hider" type="hidden" name="attr_show_faction_generatebutton" value="1"/>
      <label class="generatebutton">
        <input type="checkbox" name="attr_generate_factions" value="1"/><span data-i18n="generate_factions"></span>
      </label>
      <button class="fortunebutton borderbutton" type="roll" name="roll_Fortune_faction" value="&{template:blades} {{charname=@{character_name}}} {{type=fortune}} {{title-fortune=1}} {{title=^{fortune}}} {{short=short}} {{charname=}} @{numberofdice} {{notes=@{notes_query}}} {{charimage=@{chat_image}}} @{title_text}" data-i18n="roll_fortune"></button>
    </div>
    <div class="factions sheet-2col grid free-repcontrol">
          <div class="sheet-2row">
            <div class="factions-header flex uppercase">
              <input class="faction-name label" type="text" spellcheck="false" name="attr_factions1_header" value="Underworld"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span>
            </div>
            <fieldset class="repeating_factions1">
              <div class="faction">
                <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                <input class="faction-name" type="text" spellcheck="false" name="attr_name"/>
                <input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/>
                <input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/>
                <input class="faction-status" type="number" name="attr_status"/>
                <textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea>
              </div>
            </fieldset>
          </div>
          <div class="sheet-2row">
            <div class="factions-header flex uppercase">
              <input class="faction-name label" type="text" spellcheck="false" name="attr_factions2_header" value="Institutions"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span>
            </div>
            <fieldset class="repeating_factions2">
              <div class="faction">
                <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                <input class="faction-name" type="text" spellcheck="false" name="attr_name"/>
                <input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/>
                <input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/>
                <input class="faction-status" type="number" name="attr_status"/>
                <textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea>
              </div>
            </fieldset>
          </div>
          <div>
            <div class="factions-header flex uppercase">
              <input class="faction-name label" type="text" spellcheck="false" name="attr_factions3_header" value="Labor &amp; Trade"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span>
            </div>
            <fieldset class="repeating_factions3">
              <div class="faction">
                <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                <input class="faction-name" type="text" spellcheck="false" name="attr_name"/>
                <input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/>
                <input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/>
                <input class="faction-status" type="number" name="attr_status"/>
                <textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea>
              </div>
            </fieldset>
          </div>
          <div>
            <div class="factions-header flex uppercase">
              <input class="faction-name label" type="text" spellcheck="false" name="attr_factions4_header" value="The Fringe"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span>
            </div>
            <fieldset class="repeating_factions4">
              <div class="faction">
                <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                <input class="faction-name" type="text" spellcheck="false" name="attr_name"/>
                <input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/>
                <input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/>
                <input class="faction-status" type="number" name="attr_status"/>
                <textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea>
              </div>
            </fieldset>
          </div>
          <div>
            <div class="factions-header flex uppercase">
              <input class="faction-name label" type="text" spellcheck="false" name="attr_factions5_header" value="Citizenry"/><span class="faction-tier" data-i18n="tier"></span><span class="faction-hold" data-i18n="hold"></span><span class="faction-status" data-i18n="status"></span>
            </div>
            <fieldset class="repeating_factions5">
              <div class="faction">
                <input class="expand" type="checkbox" name="attr_expand" value="1"/><span></span>
                <input class="faction-name" type="text" spellcheck="false" name="attr_name"/>
                <input class="faction-tier" type="text" spellcheck="false" name="attr_tier"/>
                <input class="faction-hold" type="text" spellcheck="false" name="attr_hold"/>
                <input class="faction-status" type="number" name="attr_status"/>
                <textarea spellcheck="false" name="attr_notes" data-i18n-placeholder="faction_notes"></textarea>
              </div>
            </fieldset>
          </div>
      <div class="warblurb">
        <div class="label" data-i18n="marked"></div>
        <ul>
          <li class="nondot" data-i18n="warblurb1"></li>
          <li data-i18n="warblurb2"></li>
          <li data-i18n="warblurb3"></li>
          <li data-i18n="warblurb4"></li>
          <li data-i18n="warblurb5"></li>
        </ul>
      </div>
    </div>
    <div class="clocks free-repcontrol">
      <div class="specialheader label" data-i18n="clocks"></div>
      <fieldset class="repeating_factionclock">
        <input class="size" type="hidden" name="attr_size" value=""/>
        <div class="auto-expand smallcaps"><span name="attr_name"></span>
          <textarea spellcheck="false" name="attr_name" data-i18n-placeholder="clock_name"></textarea>
        </div>
        <button class="broadcast-button" type="roll" name="roll_Show" value="&amp;{template:bitd-broadcast}{{charname=@{character_name}}} {{title=@{name}}} {{clock=1}} {{clocksize=@{size}}} {{clockprogress=@{progress}}} {{charimage=@{chat_image}}}" data-i18n-title="send_details_to_chat">:</button>
        <div class="size-choice">
          <label class="text-button">
            <input type="radio" name="attr_size" value="4"/><span>4</span>
          </label>
          <label class="text-button">
            <input type="radio" name="attr_size" value="6"/><span>6</span>
          </label>
          <label class="text-button">
            <input type="radio" name="attr_size" value="8"/><span>8</span>
          </label>
          <label class="text-button">
            <input type="radio" name="attr_size" value="10"/><span>10</span>
          </label>
          <label class="text-button">
            <input type="radio" name="attr_size" value="12"/><span>12</span>
          </label>
        </div>
        <div class="clock-container">
          <div class="spoke-0 all"></div>
          <div class="spoke-30 sheet-12clock"></div>
          <div class="spoke-45 sheet-8clock"></div>
          <div class="spoke-36 sheet-10clock"></div>
          <div class="spoke-60 sheet-6clock sheet-12clock"></div>
          <div class="spoke-72 sheet-10clock"></div>
          <div class="spoke-90 sheet-4clock sheet-8clock sheet-12clock"></div>
          <div class="spoke-108 sheet-10clock"></div>
          <div class="spoke-120 sheet-6clock sheet-12clock"></div>
          <div class="spoke-135 sheet-8clock"></div>
          <div class="spoke-144 sheet-10clock"></div>
          <div class="spoke-150 sheet-12clock"></div>
          <input class="zero input-progress" type="radio" name="attr_progress" value="0" checked="checked"/><span></span>
          <input class="input-progress all" type="radio" name="attr_progress" value="1"/>
          <input class="input-progress all" type="radio" name="attr_progress" value="2"/>
          <input class="input-progress all" type="radio" name="attr_progress" value="3"/>
          <input class="input-progress all" type="radio" name="attr_progress" value="4"/>
          <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="5"/>
          <input class="input-progress sheet-6clock sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="6"/>
          <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="7"/>
          <input class="input-progress sheet-8clock sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="8"/>
          <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="9"/>
          <input class="input-progress sheet-10clock sheet-12clock" type="radio" name="attr_progress" value="10"/>
          <input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="11"/>
          <input class="input-progress sheet-12clock" type="radio" name="attr_progress" value="12"/>
          <div class="clock"></div>
        </div>
      </fieldset>
    </div>
    <textarea class="notes" spellcheck="false" name="attr_faction_notes" data-i18n-placeholder="notes"></textarea>
  </div>
</div>
<rolltemplate class="sheet-rolltemplate-blades">
  <div class="holder {{type}} {{short}} {{language}}">{{#charimage}}
    <div class="char-image">[Image]({{charimage}})</div>{{/charimage}}
    <div class="header{{#charimage}} narrow{{/charimage}}">{{charname}} {{subtitle}}</div>
    <div class="title">{{#title-text}}<span class="{{small-title}}">{{title}}</span>{{/title-text}}{{^title-text}}{{#rolltypetext}}[{{rolltypetext}}]({{rolltypeimage}}){{/rolltypetext}}{{#title-intuition}}<img data-i18n-alt="intuition" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/intuition.png"/>{{/title-intuition}}{{#title-body}}<img data-i18n-alt="body" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/body.png"/>{{/title-body}}{{#title-willpower}}<img data-i18n-alt="willpower" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/willpower.png"/>{{/title-willpower}}{{#title-attune}}<img data-i18n-alt="attune" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-attune.png"/>{{/title-attune}}{{#title-stalk}}<img data-i18n-alt="stalk" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/stalk.png"/>{{/title-stalk}}{{#title-engineer}}<img data-i18n-alt="engineer" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/engineer.png"/>{{/title-engineer}}{{#title-survey}}<img data-i18n-alt="survey" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-survey.png"/>{{/title-survey}}{{#title-interface}}<img data-i18n-alt="interface" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/interface.png"/>{{/title-interface}}{{#title-finesse}}<img data-i18n-alt="finesse" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-finesse.png"/>{{/title-finesse}}{{#title-prowl}}<img data-i18n-alt="prowl" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-prowl.png"/>{{/title-prowl}}{{#title-fight}}<img data-i18n-alt="fight" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/fight.png"/>{{/title-fight}}{{#title-wreck}}<img data-i18n-alt="wreck" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-wreck.png"/>{{/title-wreck}}{{#title-study}}<img data-i18n-alt="study" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-study.png"/>{{/title-study}}{{#title-assense}}<img data-i18n-alt="assense" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/assense.png"/>{{/title-assense}}{{#title-command}}<img data-i18n-alt="command" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-command.png"/>{{/title-command}}{{#title-consort}}<img data-i18n-alt="consort" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-consort.png"/>{{/title-consort}}{{#title-influence}}<img data-i18n-alt="influence" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Runners%20in%20the%20Shadows/influence.png"/>{{/title-influence}}{{#title-fortune}}<img data-i18n-alt="fortune" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-fortune.png"/>{{/title-fortune}}{{#title-vice}}<img data-i18n-alt="vice" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-vice.png"/>{{/title-vice}}{{#title-crew_tier}}<img data-i18n-alt="crew_tier" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-crew_tier.png"/>{{/title-crew_tier}}{{#title-entanglement}}<img data-i18n-alt="entanglement" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-entanglement.png"/>{{/title-entanglement}}{{#title-cohort_quality}}<img data-i18n-alt="cohort_quality" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-cohort_quality.png"/>{{/title-cohort_quality}}{{#title-lifestyle}}<img data-i18n-alt="lifestyle" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-lifestyle.png"/>{{/title-lifestyle}}{{#title-recovery}}<img data-i18n-alt="recovery" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-recovery.png"/>{{/title-recovery}}{{#title-engagement}}<img data-i18n-alt="engagement" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-engagement.png"/>{{/title-engagement}}{{/title-text}}
    </div>
    <div class="dice">{{^zerodice}}{{dice}}{{/zerodice}}{{#zerodice}}
      <div class="zerodice1">{{zerodice}}</div>
      <div class="zerodice2" data-i18n="zerodice"></div>{{/zerodice}}
    </div>{{#position}}
    <div class="position">{{position}}</div>{{/position}}{{#effect}}
    <div class="effect">{{effect}}</div>{{/effect}}{{#instructions}}
    <div class="instructions">{{instructions}}</div>{{/instructions}}{{#notes}}
    <div class="notes">{{notes}}</div>{{/notes}}
  </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-bitd-broadcast">
  <div class="{{#korean}}korean{{/korean}}">{{#charimage}}{{^clock}}
    <div class="char-image">[Image]({{charimage}})</div>{{/clock}}{{/charimage}}
    <div class="header{{#charimage}}{{^clock}} narrow{{/clock}}{{/charimage}}">
      <div>{{charname}}</div>
      <div>{{type}}</div>
    </div>{{#content}}
    <div class="title">{{title}}</div>
    <div class="content">{{content}}</div>{{/content}}{{#clock}}
    <div class="flex">
      <div class="clock size-{{clocksize}} progress-{{clockprogress}}">
        <div class="spoke-0"></div>
        <div class="spoke-30"></div>
        <div class="spoke-36"></div>
        <div class="spoke-45"></div>
        <div class="spoke-60"></div>
        <div class="spoke-72"></div>
        <div class="spoke-90"></div>
        <div class="spoke-108"></div>
        <div class="spoke-135"></div>
        <div class="spoke-144"></div>
        <div class="spoke-120"></div>
        <div class="spoke-150"></div>
      </div>
      <div class="title">{{title}}</div>
    </div>{{/clock}}{{#harm}}{{#title-text}}
    <div class="title" data-i18n="harm"></div>{{/title-text}}{{^title-text}}
    <div class="title"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Blades%20in%20the%20Dark/Assets/rolltemplate/rolltemplate-title-harm.png"/></div>{{/title-text}}
    <table class="harm">
      <tr>
        <td>3</td>
        <td>
          <div class="harm-inner">{{harm3}}</div>
        </td>
        <td data-i18n="need_help"></td>
      </tr>
      <tr>
        <td>2</td>
        <td>{{#harm2_1}}
          <div class="harm-inner">{{harm2_1}}</div>{{/harm2_1}}{{#harm2_2}}
          <div class="harm-inner">{{harm2_2}}</div>{{/harm2_2}}
        </td>
        <td data-i18n="minus1d"></td>
      </tr>
      <tr>
        <td>1</td>
        <td>{{#harm1_1}}
          <div class="harm-inner">{{harm1_1}}</div>{{/harm1_1}}{{#harm1_2}}
          <div class="harm-inner">{{harm1_2}}</div>{{/harm1_2}}
        </td>
        <td data-i18n="less_effect"></td>
      </tr>
    </table>{{/harm}}
  </div>
</rolltemplate>
<script type="text/worker">(function () {
/* global on, setAttrs, getAttrs, getSectionIDs, getTranslationByKey,
  getTranslationLanguage, generateRowID, removeRepeatingRow */
(function () {
  "use strict";
  /* FUNCTIONS */
  function dataSetup() {
    Object.keys(crewData).forEach(crew => {
      const base = crewData[crew].base,
        translatedBaseAttributes = [
          ...[...Array(16).keys()].slice(1).map(i => `claim_${i}_name`),
          ...[...Array(16).keys()].slice(1).map(i => `claim_${i}_desc`),
          "cohort1_description",
          "cohort1_name",
          "cohort1_subtype",
          "crew_description",
          "crew_xp_condition",
          "meeting_grounds_type",
          "meeting_grounds_description",
          "fixer_type",
          "fixer_description",
          "upgrade_garage_name",
          "upgrade_boathouse_name"
        ];
      Object.keys(base).forEach(attr => {
        if (translatedBaseAttributes.includes(attr)) {
          base[attr] = getTranslationByKey(base[attr]);
        }
      });
      crewData[crew].contact = [...Array(6).keys()].map(i => ({
        name: getTranslationByKey(`crew_${crew}_contact_${i}`)
      }));
      crewData[crew].crewability = crewData[crew].crewability.map(name => ({
        name: getTranslationByKey(`crew_ability_${name}`),
        description: getTranslationByKey(`crew_ability_${name}_description`)
      }));
      crewData[crew].upgrade.forEach(upgrade => {
        upgrade.name = getTranslationByKey(upgrade.name);
        upgrade.boxes_chosen = "1";
      });
    });
    itemData.forEach(item => {
      item.boxes_chosen = "1";
      item.name = getTranslationByKey(item.name);
      item.description = getTranslationByKey(item.description);
    });
    Object.keys(translatedDefaults).forEach(k => {
      translatedDefaults[k] = getTranslationByKey(translatedDefaults[k]);
    });
    Object.assign(defaultValues, translatedDefaults);
    Object.keys(factionsData).forEach(x => {
      factionsData[x].forEach(faction => {
        faction.name = getTranslationByKey(faction.name);
        faction.notes = getTranslationByKey(faction.notes);
      });
    });
    Object.keys(playbookData).forEach(playbook => {
      const base = playbookData[playbook].base,
        translatedBaseAttributes = [
          "char_cohort_name",
          "char_cohort_subtype",
          "char_cohort_description",
          "friends_title",
          "gatherinfo1",
          "gatherinfo2",
          "gatherinfo3",
          "gatherinfo4",
          "gatherinfo5",
          "gatherinfo6",
          "playbook_description",
          "setting_drawback_label",
          "setting_method_label",
          "setting_stress_label",
          "setting_trauma_label",
          "special_abilities_title",
          "xp_condition",
          "xp_condition2",
          "xp_condition3"
        ];
      Object.keys(base).forEach(attr => {
        if (translatedBaseAttributes.includes(attr)) {
          base[attr] = getTranslationByKey(base[attr]);
        }
      });
      if (!["free_spirit", "shell"].includes(playbook)) {
        playbookData[playbook].bandolier = [...Array(8).keys()]
          .map(i => ({
            name: getTranslationByKey(`playbook_${playbook}_bandolier_${i}`)
          }))
          .filter(o => o.name);
        playbookData[playbook].bandolier2 = [...Array(5).keys()]
          .map(i => ({
            name: getTranslationByKey(`playbook_${playbook}_bandolier2_${i}`)
          }))
          .filter(o => o.name);
      } else playbookData[playbook].bandolier = [];
      if (!["free_spirit", "shell"].includes(playbook)) {
        playbookData[playbook].friend = [...Array(5).keys()]
          .map(i => ({
            name: getTranslationByKey(`playbook_${playbook}_friend_${i}`)
          }))
          .filter(o => o.name);
      } else playbookData[playbook].friend = [];
      playbookData[playbook].ability = playbookData[playbook].ability
        .map(name => ({
          name: getTranslationByKey(`playbook_ability_${name}`),
          description:
            getTranslationByKey(`playbook_ability_${name}_description`)
        }));
      if (spiritPlaybooks.includes(playbook)) {
        playbookData[playbook].ability[0].check = "1";
        playbookData[playbook].method = [...Array(4).keys()]
        .map(i => ({
          name: getTranslationByKey(`playbook_${playbook}_method_${i}`),
          description: getTranslationByKey(`playbook_${playbook}_method_description_${i}`)
          }))
          .filter(o => o.name);
        playbookData[playbook].drawback = [...Array(5).keys()]
        .map(i => ({
          name: getTranslationByKey(`playbook_${playbook}_drawback_${i}`),
          description: getTranslationByKey(`playbook_${playbook}_drawback_description_${i}`)
          }))
          .filter(o => o.name);
        }
      playbookData[playbook].playbookitem.forEach(item => {
        item.name = getTranslationByKey(item.name);
        item.description = getTranslationByKey(item.description);
        item.boxes_chosen = "1";
      })
    });
    const playbookAbilityMap = new Map([
      ...Object.values(playbookData).map(x => x.ability).reduce((m, v) => {
        v.forEach(a => m.add(a));
        return m;
      }, new Set())].map(x => {
      return [x.name.toLowerCase(), x.description];
    }));
    const crewAbilityMap = new Map([
      ...Object.values(crewData).map(x => x.crewability).reduce((m, v) => {
        v.forEach(a => m.add(a));
        return m;
      }, new Set())].map(x => {
      return [x.name.toLowerCase(), x.description];
    }));
    [
      crewData, playbookData, factionsData, actionData, frameData, traumaData, itemData,
      translatedDefaults, defaultValues, spiritPlaybooks,
    ].forEach(x => Object.freeze(x));
    return [playbookAbilityMap, crewAbilityMap];
  }
  function mySetAttrs(attrs, options, callback) {
    const finalAttrs = Object.keys(attrs).reduce((m, k) => {
      m[k] = `${attrs[k]}`;
      return m;
    }, {});
    if (options && !("silent" in options)) {
      options.silent = true;
    }
    setAttrs(finalAttrs, options, callback);
  }
  function setAttr(name, value) {
    getAttrs([name], v => {
      const setting = {};
      if (v[name] !== `${value}`) setting[name] = `${value}`;
      setAttrs(setting);
    });
  }
  function fillRepeatingSectionFromData(
    sectionName, dataList, autogen, callback) {
    callback = callback || (() => {});
    getSectionIDs(`repeating_${sectionName}`, idList => {
      const existingRowAttributes = [
        ...idList.map(id => `repeating_${sectionName}_${id}_name`),
        ...idList.map(id => `repeating_${sectionName}_${id}_autogen`)
      ];
      getAttrs(existingRowAttributes, v => {
        /* Delete auto-generated rows */
        if (autogen) {
          idList = idList.filter(id => {
            if (v[`repeating_${sectionName}_${id}_autogen`]) {
              removeRepeatingRow(`repeating_${sectionName}_${id}`);
              return false;
            } else return true;
          });
        }
        const existingRowNames = idList
          .map(id => v[`repeating_${sectionName}_${id}_name`]);
        const createdIDs = [];
        const setting = dataList.filter(o => !existingRowNames.includes(o.name))
          .map(o => {
            let rowID;
            while (!rowID) {
              let newID = generateRowID();
              if (!createdIDs.includes(newID)) {
                rowID = newID;
                createdIDs.push(rowID);
              }
            }
            const newAttrs = {};
            if (autogen) {
              newAttrs[`repeating_${sectionName}_${rowID}_autogen`] = "1";
            }
            return Object.keys(o).reduce((m, key) => {
              m[`repeating_${sectionName}_${rowID}_${key}`] = o[key];
              return m;
            }, newAttrs);
          })
          .reduce((m, o) => Object.assign(m, o), {});
        mySetAttrs(setting, {}, callback);
      });
    });
  }
  function diceMagic(num) {
    if (num > 0) {
      return `dice=${
        [...Array(num).keys()].map(() => "[[d6]]").join("&" + "#44" + "; ")
      }`;
    } else {
      return "zerodice=[[d6]]&" + "#44" + "; [[d6]]";
    }
  }
  function buildRollFormula(base) {
    return ` {{?{@{bonusdice}|${
      [0, 1, 2, 3, 4, 5, 6, -1, -2, -3]
        .map(n => `${n},${diceMagic(n + (parseInt(base) || 0))}`).join("|")
    }}}}`;
  }
  function buildNumdiceFormula() {
    return ` {{?{${getTranslationByKey("numberofdice")}|${
      [0, 1, 2, 3, 4, 5, 6].map(n => `${n},${diceMagic(n)}`).join("|")
    }}}}`;
  }
  function emptyFirstRowIfUnnamed(sectionName) {
    getSectionIDs(`repeating_${sectionName}`, idList => {
      const id = idList[0];
      getAttrs([`repeating_${sectionName}_${id}_name`], v => {
        if (!v[`repeating_${sectionName}_${id}_name`]) {
          removeRepeatingRow(`repeating_${sectionName}_${id}`);
        }
      });
    });
  }
  function handleBoxesFill(name, upToFour) {
    on(`change:${name}1 change:${name}2 change:${name}3 change:${name}4`,
      event => {
        if (event.sourceType !== "player") return;
        getAttrs([event.sourceAttribute], v => {
          const rName = event.sourceAttribute.slice(0, -1),
            setting = {};
          if (`${v[event.sourceAttribute]}` === "1") {
            switch (event.sourceAttribute.slice(-1)) {
            case "4":
              setting[`${rName}3`] = 1;
              /* falls through */
            case "3":
              setting[`${rName}2`] = 1;
              /* falls through */
            case "2":
              setting[`${rName}1`] = 1;
            }
          }
          if (`${v[event.sourceAttribute]}` === "0") {
            switch (event.sourceAttribute.slice(-1)) {
            case "1":
              setting[`${rName}2`] = 0;
              /* falls through */
            case "2":
              setting[`${rName}3`] = 0;
              /* falls through */
            case "3":
              if (upToFour) setting[`${rName}4`] = 0;
            }
          }
          mySetAttrs(setting);
        });
      });
  }
  function calculateResistance(attrName) {
    getAttrs([...actionData[attrName], `setting_resbonus_${attrName}`], v => {
      const total = actionData[attrName].map(x => v[x])
        .reduce((s, c) => s + (`${c}` === "0" ? 0 : 1), 0);
      mySetAttrs({
        [attrName]:
          total,
        [`${attrName}_formula`]:
          buildRollFormula(total + parseInt(v[`setting_resbonus_${attrName}`])),
      });
    });
  }
  
  function calculateVice() {
    const keys = Object.keys(actionData).filter(key => key !== "super");
    getAttrs(keys, v => {
      const total = Math.min(...keys.map(x => parseInt(v[x]) || 0));
      setAttr("vice_formula", buildRollFormula(total));
    });
  }

  function calculateTrauma(event) {
    getAttrs([
      "setting_traumata_set",
      ...traumaDataFlat.map(x => `trauma_${x}`)
    ], v => {
      const traumaType = v.setting_traumata_set === "0" ? "normal"
        : v.setting_traumata_set;
      if (traumaData[traumaType] && event.sourceType === "player") {
        const newTrauma = traumaData[traumaType]
          .reduce((m, name) => m + (parseInt(v[`trauma_${name}`]) || 0), 0);
        setAttr("trauma", newTrauma);
      }
    });
  }
  function calculateStashFormula() {
    getAttrs(["stash"], v => {
      setAttr("stash_formula", buildRollFormula(
        Math.floor(parseInt(v.stash) / 10)));
    });
  }
  function calculateWantedFormula() {
    getAttrs(["wanted"], v => {
      setAttr("wanted_formula", buildRollFormula(v.wanted));
    });
  }
  function calculateCohortDice(prefixes) {
    const sourceAttrs = [
      "crew_tier",
      ...prefixes.map(p => `${p}_impaired`),
      ...prefixes.map(p => `${p}_type`),
      ...prefixes.map(p => `${p}_roll_formula`),
    ];
    getAttrs(sourceAttrs, v => {
      const setting = {};
      prefixes.forEach(prefix => {
        const formula = buildRollFormula(
          (parseInt(v.crew_tier) || 0) -
          (parseInt(v[`${prefix}_impaired`]) || 0) +
          (["elite", "expert"].includes(v[`${prefix}_type`]) ? 1 : 0));
        if (formula !== v[`${prefix}_roll_formula`]) {
          setting[`${prefix}_roll_formula`] = formula;
        }
      });
      setAttrs(setting);
    });
  }
  function calculateCharCohortDice() {
    getAttrs(["char_cohort_quality", "char_cohort_impaired"], v => {
      const dice = (parseInt(v.char_cohort_quality) || 0) -
        (parseInt(v.char_cohort_impaired) || 0);
      setAttr("char_cohort_roll_formula", buildRollFormula(dice));
    });
  }
  function cleanChatImage(event) {
    const RE = /^(https:\/\/s3\.amazonaws\.com\/files\.d20\.io\/images\/.*)\/(?:med|max|original|thumb)\.(jpg|png)\?\d+$/;
    const match = (event.newValue || "").match(RE);
    if (match) setAttr("chat_image", `${match[1]}/thumb.${match[2]}`);
  }
  function handlePlaybookFill(event) {
    getAttrs([
      "playbook",
      "crew_type",
      "changed_attributes",
      "setting_autofill",
      ...watchedAttributes
    ], v => {
      const changedAttributes = (v.changed_attributes || "").split(",");
      const sourceName = translatedNames[
        (event.sourceAttribute === "crew_type" ? v.crew_type : v.playbook)
          .toLowerCase()];
      const fillBaseData = (data, defaultAttrNames) => {
        if (data) {
          const finalSettings = defaultAttrNames
            .filter(name => !changedAttributes.includes(name))
            // do not reset attributes which have been changed by the user
            .filter(name => !spiritPlaybooks.includes(sourceName) ||
              !actionsFlat.includes(name))
            // do not reset action dots if changing to a spirit playbook
            .filter(name => v[name] !== (defaultValues[name] || ""))
            // do not set attributes if current value is equal to sheet defaults
            .reduce((m, name) => {
              m[name] = defaultValues[name] || "";
              return m;
            }, {});
          Object.keys(data).filter(name => !changedAttributes.includes(name))
            .forEach(name => (finalSettings[name] = data[name]));
          mySetAttrs(finalSettings);
        }
      };
      if (event.sourceAttribute === "crew_type" ? v.crew_type : v.playbook) {
        setAttr("show_playbook_reminder", "0");
      }
      if (v.setting_autofill !== "1") return;
      if (event.sourceAttribute === "crew_type" && sourceName in crewData) {
        fillRepeatingSectionFromData("contact",
          crewData[sourceName].contact, true);
        fillRepeatingSectionFromData("crewability",
          crewData[sourceName].crewability, true);
        fillRepeatingSectionFromData("upgrade",
          crewData[sourceName].upgrade, true);
        fillBaseData(crewData[sourceName].base, crewAttributes);
      }
      if (event.sourceAttribute === "playbook" && sourceName in playbookData) {
        fillRepeatingSectionFromData("friend",
          playbookData[sourceName].friend, true);
        fillRepeatingSectionFromData("ability",
          playbookData[sourceName].ability, true);
        fillRepeatingSectionFromData("playbookitem",
          playbookData[sourceName].playbookitem, true);
        fillRepeatingSectionFromData("method",
          playbookData[sourceName].method, true);
        fillRepeatingSectionFromData("drawback",
          playbookData[sourceName].drawback, true);
        fillBaseData(playbookData[sourceName].base, playbookAttributes);
        fillRepeatingSectionFromData("bandolier",
          playbookData[sourceName].bandolier, true);
        fillRepeatingSectionFromData("bandolier2",
          playbookData[sourceName].bandolier2, true);
       }
    });
  }
  function fillAbility(prefix, abilityMap) {
    getAttrs([`${prefix}_name`, `${prefix}_description`], v => {
      if (!v[`${prefix}_description`]) {
        const description = abilityMap.get((v[`${prefix}_name`] || "")
          .toLowerCase());
        if (description) setAttr(`${prefix}_description`, description);
      }
    });
  }
  function handleAutoExpandWhitespace(name) {
    on(`change:${name}`, event => {
      const attrName = name.replace(":", "_");
      getAttrs([attrName], v => {
        if (v[attrName].trim() !== v[attrName] &&
          event.sourceType === "player") {
          setAttr(attrName, v[attrName].trim());
        }
      });
    });
  }
  function handleCohortVerb(prefix) {
    const eventString = `change:${prefix}${
      (prefix === "repeating_cohort") ? ":" : "_"}type`;
    on(eventString, event => {
      const verb = (event.newValue === "expert") ?
        "^{rolls_their}" : "^{roll_their}";
      setAttr(`${prefix}_verb`, verb);
    });
  }
  function handleConsequenceQuery() {
    getAttrs(["setting_consequence_query"], v => {
      const consequenceQuery = (`${v.setting_consequence_query}` === "1") ?
        `?{${getTranslationByKey("consequence")}|${
          getTranslationByKey("a_consequence")}}` : "^{a_consequence}";
      setAttr("consequence_query", consequenceQuery);
    });
  }
  function handlePseudoRadio(name) {
    on(`change:${name}`, event => {
      if (`${event.newValue}` === "0" && event.sourceType === "player") {
        setAttr(name, (parseInt(event.previousValue) || 1) - 1);
      }
      setAttr(`${name}_formula`, buildRollFormula(event.newValue || "0"));
    });
  }
  function handleRepeatingGenerateButton(sectionName) {
    on(`change:generate_${sectionName}`, () => {
      getAttrs([
        "generate_source_character",
        "generate_source_crew",
        "sheet_type"
      ], v => {
        const data = (v.sheet_type === "character") ? playbookData : crewData,
          genSource = v[`generate_source_${v.sheet_type}`];
        if (genSource in data) {
          emptyFirstRowIfUnnamed(sectionName);
          fillRepeatingSectionFromData(sectionName,
            data[genSource][sectionName]);
        }
      });
    });
  }
  function handleSheetInit() {
    getAttrs(["sheet_type", "crew_type", "playbook"], v => {
      /* Make sure sheet_type is never 0 */
      if (!["crew", "faction"].includes(v.sheet_type)) {
        setAttr("sheet_type", "character");
      }
      /* Remove reminder box if we have playbook or crew name */
      if (v.playbook || v.crew_type) setAttr("show_playbook_reminder", "0");
    });
    /* Setup and upgrades */
    getAttrs(["version"], v => {
      const addVersion = (object, version) => {
        object.version = version;
        object.character_sheet = `Blades in the Dark v${version}`;
      };
      const upgradeSheet = version => {
        const versionMajor = version && parseInt(version.split(".")[0]),
          versionMinor = version && parseInt(version.split(".")[1]);
        console.log(`Found version ${version}.`);
        if (version !== sheetVersion) console.log("Performing sheet upgrade.");
        // Upgrade to 1.3: recalculate all formulas
        if (versionMajor === 1 && versionMinor < 3) {
          const setting = {};      
          getAttrs(['setting_extra_xp'], values => {
            const extraXpValue = values['setting_extra_xp'] || 0;
            const update = {
              setting_extra_xp_boxes: extraXpValue,
              setting_extra_xp_condition: extraXpValue
            };
            setAttrs(update);
          });
          getAttrs(['arms'], values => {
            const armsValue = parseInt(values['arms']) || 0;
            const update = {};
            if ([1, 2, 3].includes(armsValue)) {
              update.arm_right = armsValue;
            } else if ([4, 5, 6].includes(armsValue)) {
              update.arm_left = armsValue;
              update.arm_right = 3;
            }
            setAttrs(update);
          });
          getAttrs(['legs'], values => {
            const legsValue = parseInt(values['legs']) || 0;
            const update = {};
            if ([1, 2, 3].includes(legsValue)) {
              update.leg_right = legsValue;
            } else if ([4, 5, 6].includes(legsValue)) {
              update.leg_left = legsValue;
              update.leg_right = 3;
            }
            setAttrs(update);
          });
          getAttrs(['senses'], values => {
            const sensesValue = parseInt(values['senses']) || 0;
            const update = {};
            if ([1, 2, 3].includes(sensesValue)) {
              update.senses_eyes = sensesValue;
            } else if ([4, 5, 6].includes(sensesValue)) {
              update.senses_eyes = 3;
              update.senses_ears = sensesValue;
            } else if ([7, 8, 9].includes(sensesValue)) {
              update.senses_eyes = 3;
              update.senses_ears = 6;
              update.senses_olf = sensesValue;
            }
            setAttrs(update);
          });
          addVersion(setting, "1.3");
          recalculateDiceFormulas();
          mySetAttrs(setting, {}, () => upgradeSheet("1.3"));
        }
        // Fall back to upgrading to the newest version.
        else {
          const setting = {};
          addVersion(setting, sheetVersion);
          mySetAttrs(setting);
        }
      };
      const initialiseSheet = () => {
        const setting = [
          "ability",
          "friend",
          "crewability",
          "contact",
          "drawback",
          "method",
          "playbookitem",
          "upgrade",
          "framefeature",
          "frame2feature"
        ].reduce((memo, sectionName) => {
          memo[`repeating_${sectionName}_${generateRowID()}_autogen`] = 1;
          return memo;
        }, {});
        addVersion(setting, sheetVersion);
        /* Set translated default values */
        getAttrs(Object.keys(translatedDefaults), v => {
          Object.keys(translatedDefaults).forEach(k => {
            if (v[k] !== translatedDefaults[k]) {
              setting[k] = translatedDefaults[k];
            }
          });
          mySetAttrs(setting);
          console.log("Initialising new sheet.");
        });
        fillRepeatingSectionFromData("item", itemData);
      };
      if (v.version) upgradeSheet(v.version);
      else initialiseSheet();
    });
  }
  function recalculateDiceFormulas() {
    getSectionIDs("repeating_cohort", idArray => {
      calculateCohortDice(
        [...idArray.map(id => `repeating_cohort_${id}`), "cohort1"]);
    });
    getAttrs([
      ...actionsFlat,
      "crew_tier",
      "char_cohort_quality",
      "char_cohort_impaired",
      "setting_show_cohort"
    ], v => {
      [...actionsFlat, "crew_tier"]
        .forEach(name => setAttr(`${name}_formula`,
          buildRollFormula(v[name])));
      if (v.setting_show_cohort === "1") {
        const dice = (parseInt(v.char_cohort_quality) || 0) -
          (parseInt(v.char_cohort_impaired) || 0);
        setAttr("char_cohort_roll_formula", buildRollFormula(dice));
      }
    });
    Object.keys(actionData).forEach(calculateResistance);
    calculateVice();
    calculateStashFormula();
    calculateWantedFormula();
  }
  function resetItems() {
    const clearChecks = sectionName => {
      getSectionIDs(`repeating_${sectionName}`, idArray => {
        const setting = [
          ...idArray.map(id => `repeating_${sectionName}_${id}_check_1`),
          ...idArray.map(id => `repeating_${sectionName}_${id}_check_2`),
          ...idArray.map(id => `repeating_${sectionName}_${id}_check_3`)
        ].reduce((m, name) => {
          m[name] = 0;
          return m;
        }, {});
        mySetAttrs(setting);
      });
    };
    setAttr("load", 0);
    ["item", "playbookitem"].forEach(clearChecks);
  }
  function setupTranslatedAttrs() {
    /* Set up translated attributes */
    const translatedAttrs = {
      bonusdice: getTranslationByKey("bonusdice"),
      effect_query: getTranslationByKey("effect_query"),
      notes_query: `?{${getTranslationByKey("notes")}}`,
      numberofdice: buildNumdiceFormula(),
      position_query: `?{${getTranslationByKey("position")}|${
        getTranslationByKey("risky")},position=${
        getTranslationByKey("risky")}|${
        getTranslationByKey("controlled")},position=${
        getTranslationByKey("controlled")}|${
        getTranslationByKey("desperate")},position=${
        getTranslationByKey("desperate")}|${
        getTranslationByKey("fortune_roll")},short=short}`,
      title_text: "",
    };
    getAttrs([
      ...Object.keys(translatedAttrs),
      "setting_usekirsty",
      "setting_custom_actions",
    ], v => {
      const lang = getTranslationLanguage();
      const kirsty = v.setting_usekirsty === "1" ? " {{kirsty=1}}" : "";
      let hasTitleText = v.setting_custom_actions === "1";
      let languageSuffix = "";
      if (["fr", "es", "ko", "pt"].includes(lang)) {
        hasTitleText = true;
        languageSuffix = `{{language=i18n-${lang}}} `;
      }
      translatedAttrs.title_text =
        `${hasTitleText ? "{{title-text=1}} " : ""}${languageSuffix}${kirsty}`;
      const setting = {};
      Object.keys(translatedAttrs).forEach(name => {
        if (v[name] !== translatedAttrs[name]) {
          setting[name] = translatedAttrs[name];
        }
      });
      mySetAttrs(setting);
    });
  }
  function updateChangedAttrs(event) {
    if (event.sourceType === "player") {
      getAttrs(["changed_attributes"], v => {
        const changedAttributes = [
          ...new Set(v.changed_attributes.split(","))
            .add(event.sourceAttribute)
        ].filter(x => !!x).join(",");
        setAttr("changed_attributes", changedAttributes);
      });
    }
  }
  function watchAutogen(sectionName) {
    on(`change:repeating_${sectionName}`, event => {
      getAttrs([`repeating_${sectionName}_autogen`], v => {
        if (v[`repeating_${sectionName}_autogen`] &&
          event.sourceType === "player") {
          setAttr(`repeating_${sectionName}_autogen`, "");
        }
      });
    });
  }
  function generateFactions() {
    setAttr("show_faction_generatebutton", "0");
    Object.keys(factionsData).forEach(sectionName => {
      fillRepeatingSectionFromData(sectionName, factionsData[sectionName]);
    });
  }
  function setRollMods() {
    getAttrs(["setting_custom_actions"], v => {
      function getRollMods(prefix) {
        if (v.setting_custom_actions == "0") {
          return "";
        } else {
          return `{{title=@{${prefix}_label}}}`;
        }
      }
      const setting = {};
      Object.keys(actionData).forEach(attribute => {
        setting[`${attribute}_roll_mods`] = getRollMods(attribute);
        actionData[attribute].forEach(action => {
          setting[`${action}_roll_mods`] = getRollMods(action);
        });
      });
      mySetAttrs(setting);
    });
  }
  /* DATA */
  const sheetVersion = "1.3";
  const crewData = {
    assassins: {
      base: {
        claim_1_desc: "claim_training_compound_description",
        claim_1_name: "claim_training_compound",
        claim_2_desc: "claim_vice_den_description",
        claim_2_name: "claim_vice_den",
        claim_3_desc: "claim_corporate_favor_description",
        claim_3_name: "claim_corporate_favor",
        claim_4_desc: "claim_informants_description",
        claim_4_name: "claim_informants",
        claim_5_desc: "claim_acid_vat_description",
        claim_5_name: "claim_acid_vat",
        claim_6_desc: "claim_victim_trophies_description",
        claim_6_name: "claim_victim_trophies",
        claim_7_name: "claim_fixer",
        claim_9_name: "claim_fixer",
        claim_10_desc: "claim_cover_operation_description",
        claim_10_name: "claim_cover_operation",
        claim_11_desc: "claim_protection_racket_description",
        claim_11_name: "claim_protection_racket",
        claim_12_desc: "claim_infirmary_description",
        claim_12_name: "claim_infirmary",
        claim_13_desc: "claim_street_clout_description",
        claim_13_name: "claim_street_clout",
        claim_14_desc: "claim_cover_identities_description",
        claim_14_name: "claim_cover_identities",
        claim_15_desc: "claim_building_records_description",
        claim_15_name: "claim_building_records",
        claim_bridge_2_3: 0,
        claim_bridge_3_4: 0,
        claim_bridge_6_7: 0,
        claim_bridge_9_14: 0,
        claim_bridge_12_13: 0,
        claim_bridge_13_14: 0,
        crew_description: "crew_assassins_description",
        crew_xp_condition: "crew_assassins_xp_condition",
        fixer_type: "crew_assassins_fixer_type",
        fixer_description: "crew_assassins_fixer_description",
        meeting_grounds_type: "crew_assassins_meeting_grounds_type",
        meeting_grounds_description: "crew_assassins_meeting_grounds_description",
        upgrade_intuition_check_1: "1",
        upgrade_body_check_1: "1"
      },
      crewability: ["deadly", "cleaners", "unseen", "predators", "silenced", "sudden", "patron", "veteran"],
      upgrade: [{
        name: "crew_upgrade_assassin_rigging",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_thieves",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_thugs",
        numboxes: "1",
      }, {
        name: "crew_upgrade_calloused",
        numboxes: "3"
      }]
    },
    mercs: {
      base: {
        claim_1_desc: "claim_fight_club_description",
        claim_1_name: "claim_fight_club",
        claim_2_name: "claim_fixer",
        claim_3_desc: "claim_terrorized_citizens_description",
        claim_3_name: "claim_terrorized_citizens",
        claim_4_desc: "claim_informants_description",
        claim_4_name: "claim_informants",
        claim_5_desc: "claim_protection_racket_description",
        claim_5_name: "claim_protection_racket",
        claim_6_desc: "claim_gambling_ring_description",
        claim_6_name: "claim_gambling_ring",
        claim_7_name: "claim_fixer",
        claim_9_name: "claim_fixer",
        claim_10_name: "claim_fixer",
        claim_11_desc: "claim_infirmary_description",
        claim_11_name: "claim_infirmary",
        claim_12_desc: "claim_enforcement_intimidation_description",
        claim_12_name: "claim_enforcement_intimidation",
        claim_13_desc: "claim_street_fence_description",
        claim_13_name: "claim_street_fence",
        claim_14_desc: "claim_warehouses_description",
        claim_14_name: "claim_warehouses",
        claim_15_desc: "claim_criminal_respect_description",
        claim_15_name: "claim_criminal_respect",
        claim_bridge_3_4: 0,
        claim_bridge_2_7: 0,
        claim_bridge_12_13: 0,
        cohort1_subtype: "thugs",
        crew_description: "crew_mercs_description",
        crew_xp_condition: "crew_mercs_xp_condition",
        fixer_type: "crew_mercs_fixer_type",
        fixer_description: "crew_mercs_fixer_description",
        meeting_grounds_type: "crew_mercs_meeting_grounds_type",
        meeting_grounds_description: "crew_mercs_meeting_grounds_description",
        upgrade_body_check_1: "1"
      },
      crewability: ["dangerous", "blood_brothers", "door_kickers", "feared", "seen_some_drek", "poise_under_pressure", "patron", "veteran"],
      upgrade: [{
        name: "crew_upgrade_mercenary_rigging",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_thugs",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_transporters",
        numboxes: "1"
      }, {
        name: "crew_upgrade_hardened",
        numboxes: "3"
      }]
    },
    cult: {
      base: {
        claim_1_desc: "claim_academy_description",
        claim_1_name: "claim_academy",
        claim_2_desc: "claim_vice_den_description",
        claim_2_name: "claim_vice_den",
        claim_3_desc: "claim_talismonger_description",
        claim_3_name: "claim_talismonger",
        claim_4_desc: "claim_power_rift_description",
        claim_4_name: "claim_power_rift",
        claim_5_desc: "claim_planar_altar_description",
        claim_5_name: "claim_planar_altar",
        claim_6_name: "claim_fixer",
        claim_7_name: "claim_fixer",
        claim_9_name: "claim_fixer",
        claim_10_name: "claim_fixer",
        claim_11_desc: "claim_ley_line_description",
        claim_11_name: "claim_ley_line",
        claim_12_desc: "claim_private_pilot_description",
        claim_12_name: "claim_private_pilot",
        claim_13_desc: "claim_haunted_area_description",
        claim_13_name: "claim_haunted_area",
        claim_14_desc: "claim_essence_well_description",
        claim_14_name: "claim_essence_well",
        claim_15_desc: "claim_font_of_power_description",
        claim_15_name: "claim_font_of_power",
        claim_bridge_3_4: 0,
        claim_bridge_4_9: 0,
        claim_bridge_6_11: 0,
        claim_bridge_12_13: 0,
        claim_bridge_13_14: 0,
        cohort1_subtype: "weirdos",
        crew_description: "crew_cult_description",
        crew_xp_condition: "crew_cult_xp_condition",
        fixer_type: "crew_cult_fixer_type",
        fixer_description: "crew_cult_fixer_description",
        meeting_grounds_type: "crew_cult_meeting_grounds_type",
        meeting_grounds_description: "crew_cult_meeting_grounds_description",
        setting_show_tradition: "1",
        upgrade_willpower_check_1: "1"
      },
      crewability: ["devoted", "imbued", "shared_telepathy", "zealotry", "strange_ways", "empowered_by_blood", "catastrophic_methods", "veteran"],
      upgrade: [{
        name: "crew_upgrade_cult_rigging",
        numboxes: "1"
      }, {
        name: "crew_upgrade_greater_lodge_in_safehouse",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_weirdos",
        numboxes: "1"
      }, {
        name: "crew_upgrade_calloused",
        numboxes: "3"
      }]
    },
    radicals: {
      base: {
        claim_1_name: "claim_security_intimidation",
        claim_1_desc: "claim_security_intimidation_description",
        claim_2_desc: "claim_protection_racket_description",
        claim_2_name: "claim_protection_racket",
        claim_3_desc: "claim_informants_description",
        claim_3_name: "claim_informants",
        claim_4_desc: "claim_upper_crust_auction_description",
        claim_4_name: "claim_upper_crust_auction",
        claim_5_desc: "claim_protected_estate_description",
        claim_5_name: "claim_protected_estate",
        claim_6_name: "claim_fixer",
        claim_7_name: "claim_fixer",
        claim_9_name: "claim_fixer",
        claim_10_name: "claim_fixer",
        claim_11_desc: "claim_private_pilot_description",
        claim_11_name: "claim_private_pilot",
        claim_12_desc: "claim_the_farm_description",
        claim_12_name: "claim_the_farm",
        claim_13_desc: "claim_broadcast_studio_description",
        claim_13_name: "claim_broadcast_studio",
        claim_14_desc: "claim_wageslave_support_description",
        claim_14_name: "claim_wageslave_support",
        claim_15_desc: "claim_vice_supplier_description",
        claim_15_name: "claim_vice_supplier",
        claim_bridge_3_4: 0,
        claim_bridge_10_15: 0,
        claim_bridge_6_11: 0,
        claim_bridge_12_13: 0,
        claim_bridge_13_14: 0,
        cohort1_subtype: "operatives",
        crew_description: "crew_radicals_description",
        crew_xp_condition: "crew_radicals_xp_condition",
        fixer_type: "crew_radicals_fixer_type",
        fixer_description: "crew_radicals_fixer_description",
        meeting_grounds_type: "crew_radicals_meeting_grounds_type",
        meeting_grounds_description: "crew_radicals_meeting_grounds_description",
        setting_show_movement: "1",
        upgrade_willpower_check_1: "1"
      },
      crewability: ["revolutionaries", "friends_in_low_places", "extremists", "for_the_cause", "mass_appeal", "collusion", "patron", "veteran"],
      upgrade: [{
        name: "crew_upgrade_radicals_rigging",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_operatives",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_thugs",
        numboxes: "1"
      }, {
        name: "crew_upgrade_hardened",
        numboxes: "3"
      }]
    },
    shadows: {
      base: {
        claim_1_desc: "claim_interrogation_chamber_description",
        claim_1_name: "claim_interrogation_chamber",
        claim_2_name: "claim_fixer",
        claim_3_desc: "claim_loyal_fence_description",
        claim_3_name: "claim_loyal_fence",
        claim_4_desc: "claim_gambling_den_description",
        claim_4_name: "claim_gambling_den",
        claim_5_desc: "claim_bar_description",
        claim_5_name: "claim_bar",
        claim_6_desc: "claim_vice_supplier_description",
        claim_6_name: "claim_vice_supplier",
        claim_7_desc: "claim_informants_description",
        claim_7_name: "claim_informants",
        claim_9_name: "claim_fixer",
        claim_10_desc: "claim_lookouts_description",
        claim_10_name: "claim_lookouts",
        claim_11_desc: "claim_body_shop_description",
        claim_11_name: "claim_body_shop",
        claim_12_desc: "claim_infirmary_description",
        claim_12_name: "claim_infirmary",
        claim_13_desc: "claim_covert_drops_description",
        claim_13_name: "claim_covert_drops",
        claim_14_name: "claim_fixer",
        claim_15_desc: "claim_shortcuts_description",
        claim_15_name: "claim_shortcuts",
        claim_bridge_3_4: 0,
        claim_bridge_2_7: 0,
        claim_bridge_9_14: 0,
        claim_bridge_12_13: 0,
        crew_description: "crew_shadows_description",
        crew_xp_condition: "crew_shadows_xp_condition",
        fixer_type: "crew_shadows_fixer_type",
        fixer_description: "crew_shadows_fixer_description",
        meeting_grounds_type: "crew_shadows_meeting_grounds_type",
        meeting_grounds_description: "crew_shadows_meeting_grounds_description",
        upgrade_secure_check_1: "1",
        upgrade_body_check_1: "1"
      },
      crewability: ["intruders", "opportunists", "slippery", "second_story", "synchronized", "patron", "veteran"],
      upgrade: [{
        name: "crew_upgrade_shadow_rigging",
        numboxes: "1"
      }, {
        name: "crew_upgrade_underground_maps_&_keys",
        numboxes: "1"
      }, {
        name: "crew_upgrade_extra_added_site",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_thieves",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_operatives",
        numboxes: "1"
      }]
    },
    couriers: {
      base: {
        claim_1_name: "claim_fixer",
        claim_2_desc: "claim_side_business_description",
        claim_2_name: "claim_side_business",
        claim_3_desc: "claim_luxury_fence_description",
        claim_3_name: "claim_luxury_fence",
        claim_4_desc: "claim_vice_supplier_description",
        claim_4_name: "claim_vice_supplier",
        claim_5_desc: "claim_penthouse_suite_description",
        claim_5_name: "claim_penthouse_suite",
        claim_6_desc: "claim_aquatic_guardian_description",
        claim_6_name: "claim_aquatic_guardian",
        claim_7_name: "claim_fixer",
        claim_9_name: "claim_fixer",
        claim_10_name: "claim_fixer",
        claim_11_desc: "claim_secret_routes_description",
        claim_11_name: "claim_secret_routes",
        claim_12_desc: "claim_informants_description",
        claim_12_name: "claim_informants",
        claim_13_desc: "claim_body_shop_description",
        claim_13_name: "claim_body_shop",
        claim_14_desc: "claim_cover_operation_description",
        claim_14_name: "claim_cover_operation",
        claim_15_desc: "claim_forgery_supplier_description",
        claim_15_name: "claim_forgery_supplier",
        claim_bridge_3_4: 0,
        claim_bridge_6_7: 0,
        claim_bridge_12_13: 0,
        claim_bridge_13_14: 0,
        cohort1_description: "vehicle_edges_flaws",
        cohort1_name: "vehicle",
        cohort1_subtype: "boat_car_other",
        cohort1_type: "expert",
        crew_description: "crew_couriers_description",
        crew_xp_condition: "crew_couriers_xp_condition",
        fixer_type: "crew_couriers_fixer_type",
        fixer_description: "crew_couriers_fixer_description",
        meeting_grounds_type: "crew_couriers_meeting_grounds_type",
        meeting_grounds_description: "crew_couriers_meeting_grounds_description",
        upgrade_garage_check_1: "1",
        upgrade_garage_name: "vehicle",
        upgrade_boathouse_name: "vehicle",
        upgrade_body_check_1: "1"
      },
      crewability: ["like_part_of_the_crew", "crew_managers", "fleet", "smooth_operators", "mnemonics", "moving_targets", "just_passing_through", "leverage", "veteran"],
      upgrade: [{
        name: "crew_upgrade_courier_rigging",
        numboxes: "1"
      }, {
        name: "crew_upgrade_camouflage",
        numboxes: "1"
      }, {
        name: "crew_upgrade_hoverboat",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_transporters",
        numboxes: "1"
      }, {
        name: "crew_upgrade_elite_technicians",
        numboxes: "1",
      }]
    }
  };
  const playbookData = {
    adept: {
      ability: ["practitioner", "fraggin_adept", "adept_senses", "autonomic_control", "boosted", "reflexes", "transmorphic", "astral_warrior", "mystic_way"],
      base: {
        friends_title: "playbook_adept_friends_title",
        gatherinfo1: "gatherinfo_what_is_mystical",
        gatherinfo2: "gatherinfo_where_they_vulnerable",
        gatherinfo3: "gatherinfo_what_should_I_look",
        gatherinfo4: "gatherinfo_how_can_I_traverse",
        gatherinfo5: "gatherinfo_what_do_they_intend",
        gatherinfo6: "gatherinfo_how_can_I_reveal",
        playbook_description: "playbook_adept_description",
        setting_drawback_label: "adept_drawback",
        setting_method_label: "adept_methods",
        setting_show_assense: "1",
        setting_show_drawback: "1",
        setting_show_method: "1",
        special_abilities_title: "adept_feats",
        xp_condition: "playbook_adept_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_fine_mystic_body_art",
        numboxes: "0",
        description: "playbook_item_fine_mystic_body_art_description"
      }, {
        name: "playbook_item_fine_astral_weapon",
        numboxes: "2",
        description: "playbook_item_fine_astral_weapon_description"
      }, {
        name: "playbook_item_strange_trinket",
        numboxes: "0",
        description: "playbook_item_strange_trinket_description"
      }]
    },
    face: {
      ability: ["deal_shark", "a_little_jing_on_the_side", "smooth", "connected", "incorrigible", "sprawl_whisperer", "ambitious", "captivating", "veteran"],
      base: {
        char_cohort_name: "playbook_item_entourage",
        char_cohort_quality: "0",
        char_cohort_type: "team",
        char_cohort_subtype: "thugs",
        consort: "2",
        influence: "1",
        friends_title: "playbook_face_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_want",
        gatherinfo2: "gatherinfo_what_should_I_look",
        gatherinfo3: "gatherinfo_wheres_the_leverage",
        gatherinfo4: "gatherinfo_how_can_I_discover",
        gatherinfo5: "gatherinfo_what_do_they_intend",
        gatherinfo6: "gatherinfo_how_can_I_get_them",
        playbook_description: "playbook_face_description",
        setting_show_cohort: "1",
        setting_show_bandolierall: "1",
        setting_show_use: "1",
        setting_bandolier_label: "street drugs",
        xp_condition: "playbook_face_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_privacy_generator",
        numboxes: "1",
        description: "playbook_item_privacy_generator_description"
      }, {
        name: "playbook_item_fine_outfit",
        numboxes: "0",
        description: "playbook_item_fine_outfit_description"
      }, {
        name: "playbook_item_fine_nightlife_subscription",
        numboxes: "0",
        description: "playbook_item_fine_nightlife_subscription_description"
      }, {
        name: "playbook_item_street_drugs",
        numboxes: "1",
        description: "playbook_item_street_drugs_description"
      }, {
        name: "playbook_item_entourage",
        numboxes: "0",
        description: "playbook_item_entourage_description"
      }]
    },
    free_spirit: {
      ability: ["free_spirit_form", "dissipate", "materialize", "specter", "chained", "possess", "veteran"],
      base: {
        assense: "1",
        prowl: "1",
        stalk: "1",
        friends_title: "playbook_free_spirit_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_intend",
        gatherinfo2: "gatherinfo_how_can_I_get_them",
        gatherinfo3: "gatherinfo_what_are_they_really",
        gatherinfo4: "gatherinfo_what_should_I_look",
        gatherinfo5: "gatherinfo_wheres_the_weakness",
        gatherinfo6: "gatherinfo_how_can_I_find",
        playbook_description: "playbook_free_spirit_description",
        setting_show_assense: "1",
        setting_stress_label: "drain",
        setting_trauma_label: "torment",
        setting_traumata_set: "free_spirit",
        setting_vice_type: "free_spirit",
        special_abilities_title: "free_spirit_traits",
        xp_condition: "playbook_free_spirit_xp_condition"
      },
      playbookitem: []
    },
    hacker: {
      ability: ["signal_tuner", "virtual_fighter", "search_protocol", "digital_warden", "meticulous", "time_manager", "programmer", "data_analyst", "veteran"],
      base: {
        friends_title: "playbook_hacker_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_intend",
        gatherinfo2: "gatherinfo_how_can_I_get_them",
        gatherinfo3: "gatherinfo_are_they_telling",
        gatherinfo4: "gatherinfo_what_can_I_interface",
        gatherinfo5: "gatherinfo_what_might_happen",
        gatherinfo6: "gatherinfo_how_can_I_find",
        interface: "2",
        playbook_description: "playbook_hacker_description",
        setting_show_bandolierall: "1",
        setting_bandolier_label: "warez",
        study: "1",
        xp_condition: "playbook_hacker_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_a_scratch-built_cyberdeck",
        numboxes: "1",
        description: "playbook_item_a_scratch-built_cyberdeck_description"
      }, {
        name: "playbook_item_suite_of_warez",
        numboxes: "0",
        description: "playbook_item_suite_of_warez_description"
      }, {
        name: "playbook_item_fine_surveillance_gear",
        numboxes: "1",
        description: "playbook_item_fine_surveillance_gear_description"
      }, {
        name: "playbook_item_portable_VR_kit",
        numboxes: "1",
        description: "playbook_item_portable_VR_kit_description"
      }, {
        name: "playbook_item_blueprints",
        numboxes: "0",
        description: "playbook_item_blueprints_description"
      }]
    },
    infected: {
      ability: ["infectee", "terrible_power", "heightened_senses", "astral_void", "beyond_human", "mist_form", "veteran"],
      base: {
        assense: "1",
        command: "1",
        fight: "1",
        friends_title: "playbook_infected_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_intend",
        gatherinfo2: "gatherinfo_how_can_I_get_them",
        gatherinfo3: "gatherinfo_what_are_they_really",
        gatherinfo4: "gatherinfo_what_should_I_look",
        gatherinfo5: "gatherinfo_wheres_the_weakness",
        gatherinfo6: "gatherinfo_how_can_I_find",
        playbook_description: "playbook_infected_description",
        influence: "1",
        prowl: "1",
        setting_extra_stress: "3",
        setting_extra_xp_boxes: "1",
        setting_show_assense: "1",
        setting_show_drawback: "1",
        setting_traumata_set: "infected",
        setting_vice_type: "infected",
        special_abilities_title: "infected_traits",
        stalk: "1",
        trauma: "4",
        xp_condition: "playbook_infected_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_fine_clothes",
        numboxes: "2",
        description: "playbook_item_fine_clothes_description"
      }, {
        name: "playbook_item_fine_personal_weapon",
        numboxes: "1",
        description: "playbook_item_fine_personal_weapon_description"
      }, {
        name: "playbook_item_fine_shadow_cloak",
        numboxes: "1",
        description: "playbook_item_fine_shadow_cloak_description"
      }, {
        name: "playbook_item_fine_renfield_vial",
        numboxes: "1",
        description: "playbook_item_fine_renfield_vial_description"
      }, {
        name: "playbook_item_banishing_focus",
        numboxes: "0",
        description: "playbook_item_banishing_focus_description"
      }]
    },
    mage: {
      ability: ["awakened", "sorcerer", "warded", "astral_mind", "conjurer", "iron_will", "enchanter", "astral_occultist", "astral_projection", "veteran"],
      base: {
        assense: "2",
        char_cohort_name: "paracritter",
        char_cohort_quality: "0",
        char_cohort_type: "expert",
        char_cohort_subtype: "type",
        friends_title: "playbook_mage_friends_title",
        gatherinfo1: "gatherinfo_what_is_arcane",
        gatherinfo2: "gatherinfo_what_is_astral",
        gatherinfo3: "gatherinfo_what_is_lost",
        gatherinfo4: "gatherinfo_what_do_they_intend",
        gatherinfo5: "gatherinfo_what_drives_them",
        gatherinfo6: "gatherinfo_how_can_I_reveal",
        playbook_description: "playbook_mage_description",
        setting_drawback_label: "arcane_drawback",
        setting_method_label: "arcane_methods",
        setting_show_cohort: "1",
        special_abilities_title: "magic_arts",
        setting_show_assense: "1",
        setting_show_drawback: "1",
        setting_show_method: "1",
        study: "1",
        xp_condition: "playbook_mage_xp_condition"
      },
      playbookitem: [{        
        name: "playbook_item_fine_spell_focus",
        numboxes: "1",
        description: "playbook_item_fine_spell_focus_description"
      }, {
        name: "playbook_item_fine_sensing_focus",
        numboxes: "1",
        description: "playbook_item_fine_sensing_focus_description"
      }, {
        name: "playbook_item_banishing_focus",
        numboxes: "0",
        description: "playbook_item_banishing_focus_description"
      }, {
        name: "playbook_item_a_paracritter",
        numboxes: "0",
        description: "playbook_item_a_paracritter_description"
      }, {
        name: "playbook_item_fine_arcane_reagents",
        numboxes: "1",
        description: "playbook_item_fine_arcane_reagents_description"
      }]
    },
    muscle: {
      ability: ["formidable", "savage", "mule", "bodyguard", "street_code", "tough_as_nails", "militant", "conditioned", "veteran"],
      base: {
        command: "1",
        fight: "2",
        friends_title: "playbook_muscle_friends_title",
        gatherinfo1: "gatherinfo_how_can_I_hurt",
        gatherinfo2: "gatherinfo_whos_most_afraid",
        gatherinfo3: "gatherinfo_whos_most_dangerous",
        gatherinfo4: "gatherinfo_what_do_they_intend",
        gatherinfo5: "gatherinfo_how_can_I_get_them",
        gatherinfo6: "gatherinfo_are_they_telling",
        playbook_description: "playbook_muscle_description",
        xp_condition: "playbook_muscle_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_fine_brutal_weapons",
        numboxes: "2",
        description: "playbook_item_fine_brutal_weapons_description"
      }, {
        name: "playbook_item_light_armor",
        numboxes: "1",
        description: "playbook_item_light_armor_description"
      }, {
        name: "playbook_item_fine_scary_weapon/tool",
        numboxes: "1",
        description: "playbook_item_fine_scary_weapon/tool_description"
      }, {
        name: "playbook_item_kamikaze_vial",
        numboxes: "0",
        description: "playbook_item_kamikaze_vial_description"
      }, {
        name: "playbook_item_containment_manacles",
        numboxes: "1",
        description: "playbook_item_containment_manacles_description"
      }]
    },
    punk: {
      ability: ["adaptable", "catch_me_if_you_can", "daredevil", "dropout", "mobility", "ambush", "ring_leader", "beyond_driven", "veteran"],
      base: {
        friends_title: "playbook_punk_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_value",
        gatherinfo2: "gatherinfo_how_can_I_get_them",
        gatherinfo3: "gatherinfo_what_should_I_look",
        gatherinfo4: "gatherinfo_whats_the_best_way",
        gatherinfo5: "gatherinfo_what_will_cause_chaos",
        gatherinfo6: "gatherinfo_how_can_I_find",
        playbook_description: "playbook_punk_description",
        prowl: "2",
        setting_show_bandolierall: "1",
        setting_show_use: "1",
        setting_bandolier_label: "explosives",
        wreck: "1",
        xp_condition: "playbook_punk_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_fine_stealth_outfit",
        numboxes: "1",
        description: "playbook_item_fine_stealth_outfit_description"
      }, {
        name: "playbook_item_fine_punk_stuff",
        numboxes: "1",
        description: "playbook_item_fine_punk_stuff_description"
      }, {
        name: "playbook_item_explosives",
        numboxes: "1",
        description: "playbook_item_explosives_description"
      }, {
        name: "playbook_item_gecko_gloves",
        numboxes: "1",
        description: "playbook_item_gecko_gloves_description"
      }, {
        name: "playbook_item_stunlock_vial",
        numboxes: "0",
        description: "playbook_item_stunlock_vial_description"
      }]
    },
    rigger: {
      ability: ["in_control", "ace", "precise", "infiltrator", "jury_rig", "electrician", "chemist", "medic", "veteran"],
      base: {
        engineer: "2",
        finesse: "1",
        frame: "drone",
        frame2: "vehicle",
        friends_title: "playbook_rigger_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_intend",
        gatherinfo2: "gatherinfo_how_can_I_get_them",
        gatherinfo3: "gatherinfo_are_they_telling",
        gatherinfo4: "gatherinfo_what_can_I_engineer",
        gatherinfo5: "gatherinfo_what_might_happen",
        gatherinfo6: "gatherinfo_how_can_I_find",
        playbook_description: "playbook_rigger_description",
        setting_show_frame: "1",
        setting_show_frame2: "1",
        setting_show_use: "1",
        setting_show_use2: "1",
        setting_show_bandolierall: "1",
        setting_show_bandolierall2: "1",
        setting_bandolier_label: "utility harness",
        setting_bandolier2_label: "medical supplies",
        xp_condition: "playbook_rigger_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_a_configured_drone",
        numboxes: "0",
        description: "playbook_item_a_configured_drone_description"
      }, {
        name: "playbook_item_a_personal_vehicle",
        numboxes: "0",
        description: "playbook_item_a_personal_vehicle_description"
      }, {
        name: "playbook_item_utility_harness",
        numboxes: "1",
        description: "playbook_item_utility_harness_description"
      }, {
        name: "playbook_item_fine_electrical_tools",
        numboxes: "1",
        description: "playbook_item_fine_electrical_tools_description"
      }, {
        name: "playbook_item_medical_supplies",
        numboxes: "1",
        description: "playbook_item_medical_supplies_description"
      }]
    },
    shell: {
      ability: ["ghost_in_the_shell", "superior_machine", "fully_integrated", "conduit", "quantum_consciousness", "frame_upgrade"],
      base: {
        interface: "1",
        finesse: "1",
        frame: "frame",
        friends_title: "playbook_shell_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_intend",
        gatherinfo2: "gatherinfo_how_can_I_get_them",
        gatherinfo3: "gatherinfo_what_are_they_really",
        gatherinfo4: "gatherinfo_what_should_I_look",
        gatherinfo5: "gatherinfo_wheres_the_weakness",
        gatherinfo6: "gatherinfo_how_can_I_find",
        playbook_description: "playbook_shell_description",
        setting_show_frame: "1",
        setting_traumata_set: "shell",
        setting_vice_type: "shell",
        special_abilities_title: "shell_traits",
        xp_condition: "playbook_shell_xp_condition"
      },
      playbookitem: []
    },
    snake: {
      ability: ["takes_one_to_know_one", "foresight", "master_of_disguise", "long_con", "provocateur", "disarming", "trust_me", "linguist", "veteran"],
      base: {
        study: "1",
        influence: "2",
        friends_title: "playbook_snake_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_want",
        gatherinfo2: "gatherinfo_what_should_I_look",
        gatherinfo3: "gatherinfo_wheres_the_leverage",
        gatherinfo4: "gatherinfo_how_can_I_discover",
        gatherinfo5: "gatherinfo_what_do_they_intend",
        gatherinfo6: "gatherinfo_how_can_I_get_them",
        playbook_description: "playbook_snake_description",
        xp_condition: "playbook_snake_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_fine_cover_identity",
        numboxes: "0",
        description: "playbook_item_fine_cover_identity_description"
      }, {
        name: "playbook_item_red_rock",
        numboxes: "0",
        description: "playbook_item_red_rock_description"
      }, {
        name: "playbook_item_blackmail_supplies",
        numboxes: "0",
        description: "playbook_item_blackmail_supplies_description"
      }, {
        name: "playbook_item_fine_disguise_kit",
        numboxes: "1",
        description: "playbook_item_fine_disguise_kit_description"
      }, {
        name: "playbook_item_concealed_holdout_pistol",
        numboxes: "0",
        description: "playbook_item_concealed_holdout_pistol_description"
      }]
    },
    techno: {
      ability: ["emergent", "threader", "editor", "emergent_mind", "compiler", "dead_zone", "instancer", "emergent_occultist", "emergent_proxy", "veteran"],
      base: {
        attune: "2",
        char_cohort_quality: "0",
        char_cohort_type: "expert",
        char_cohort_subtype: "type",
        friends_title: "playbook_techno_friends_title",
        gatherinfo1: "gatherinfo_what_is_emergent",
        gatherinfo2: "gatherinfo_what_is_online",
        gatherinfo3: "gatherinfo_what_is_corrupted",
        gatherinfo4: "gatherinfo_what_do_they_intend",
        gatherinfo5: "gatherinfo_what_drives_them",
        gatherinfo6: "gatherinfo_how_can_I_reveal",
        playbook_description: "playbook_techno_description",
        special_abilities_title: "techno_arts",
        setting_drawback_label: "emergent_drawback",
        setting_method_label: "emergent_methods",
        setting_show_attune: "1",
        setting_show_cohort: "1",
        setting_show_drawback: "1",
        setting_show_method: "1",
        study: "1",
        xp_condition: "playbook_techno_xp_condition"
      },
      playbookitem: [{        
        name: "playbook_item_fine_threading_focus",
        numboxes: "1",
        description: "playbook_item_fine_threading_focus_description"
      }, {
        name: "playbook_item_fine_filtering_focus",
        numboxes: "1",
        description: "playbook_item_fine_filtering_focus_description"
      }, {
        name: "playbook_item_fine_fake_cyberdeck",
        numboxes: "0",
        description: "playbook_item_fine_fake_cyberdeck_description"
      }, {
        name: "playbook_item_a_technocritter",
        numboxes: "0",
        description: "playbook_item_a_technocritter_description"
      }, {
        name: "playbook_item_fine_emergent_reagents",
        numboxes: "1",
        description: "playbook_item_fine_emergent_reagents_description"
      }]
    },
    trigger: {
      ability: ["deadeye", "scout", "focused", "gun_control", "relentless", "vigilante", "resilient", "killer_pet", "veteran"],
      base: {
        char_cohort_name: "hunting_pet",
        char_cohort_quality: "0",
        char_cohort_type: "expert",
        char_cohort_subtype: "hunter",
        friends_title: "playbook_trigger_friends_title",
        gatherinfo1: "gatherinfo_what_do_they_intend",
        gatherinfo2: "gatherinfo_how_can_I_get_them",
        gatherinfo3: "gatherinfo_what_are_they_really",
        gatherinfo4: "gatherinfo_where_they_vulnerable",
        gatherinfo5: "gatherinfo_where_did_x_go",
        gatherinfo6: "gatherinfo_how_can_I_find",
        playbook_description: "playbook_trigger_description",
        setting_show_cohort: "1",
        setting_show_bandolierall: "1",
        setting_show_bandolierall2: "1",
        setting_bandolier_label: "firearms mod",
        setting_bandolier2_label: "special ammo",
        stalk: "2",
        survey: "1",
        xp_condition: "playbook_trigger_xp_condition"
      },
      playbookitem: [{
        name: "playbook_item_military_weapon",
        numboxes: "2",
        description: "playbook_item_military_weapon_description"
      }, {
        name: "playbook_item_fine_firearms_mod",
        numboxes: "1",
        description: "playbook_item_fine_firearms_mod_description"
      }, {
        name: "playbook_item_fine_pair_of_pistols",
        numboxes: "1",
        description: "playbook_item_fine_pair_of_pistols_description"
      }, {
        name: "playbook_item_special_ammo",
        numboxes: "1",
        description: "playbook_item_special_ammo_description"
      }, {
        name: "playbook_item_a_trained_hunting_pet",
        numboxes: "0",
        description: "playbook_item_a_trained_hunting_pet_description"
      }]
    }
  };
  const factionsData = {
    factions1: [
      {
        name: "faction_cuban_mafia",
        tier: "V",
        hold: "S",
        notes: "faction_cuban_mafia_notes"
      },
      {
        name: "faction_peoples_party",
        tier: "IV",
        hold: "S",
        notes: "faction_peoples_party_notes"
      },
      {
        name: "faction_yakuza",
        tier: "IV",
        hold: "S",
        notes: "faction_yakuza_notes"
      },
      {
        name: "faction_black_circle",
        tier: "III",
        hold: "S",
        notes: "faction_black_circle_notes"
      },
      {
        name: "faction_lord_vladimir",
        tier: "III",
        hold: "S",
        notes: "faction_lord_vladimir_notes"
      },
      {
        name: "faction_mirrors_edge",
        tier: "III",
        hold: "S",
        notes: "faction_mirrors_edge_notes"
      },
      {
        name: "faction_violet_twins",
        tier: "II",
        hold: "S",
        notes: "faction_violet_twins_notes"
      },
      {
        name: "faction_manning_family",
        tier: "II",
        hold: "W",
        notes: "faction_manning_family_notes"
      },
      {
        name: "faction_mountain_rats",
        tier: "II",
        hold: "W",
        notes: "faction_mountain_rats_notes"
      },
      {
        name: "faction_talons",
        tier: "II",
        hold: "W",
        notes: "faction_talons_notes"
      },
      {
        name: "faction_toxic",
        tier: "I",
        hold: "S",
        notes: "faction_toxic_notes"
      },
      {
        name: "faction_underteeth",
        tier: "I",
        hold: "W",
        notes: "faction_underteeth_notes"
      }
    ],
    factions2: [
      {
        name: "faction_exo_heavy_industries",
        tier: "VI",
        hold: "S",
        notes: "faction_exo_heavy_industries_notes"
      },
      {
        name: "faction_atari-tendo_united",
        tier: "VI",
        hold: "S",
        notes: "faction_atari-tendo_united_notes"
      },
      {
        name: "faction_sinokatsu_dynamics",
        tier: "V",
        hold: "S",
        notes: "faction_sinokatsu_dynamics_notes"
      },
      {
        name: "faction_mexitech_logistics",
        tier: "V",
        hold: "S",
        notes: "faction_mexitech_logistics_notes"
      },
      {
        name: "faction_tritanium_partners",
        tier: "V",
        hold: "S",
        notes: "faction_tritanium_partners_notes"
      },
      {
        name: "faction_hindenberg_orbital",
        tier: "V",
        hold: "S",
        notes: "faction_hindenberg_orbital_notes"
      },
      {
        name: "faction_caliphate_global",
        tier: "V",
        hold: "S",
        notes: "faction_caliphate_global_notes"
      },
      {
        name: "faction_protean_biotech",
        tier: "V",
        hold: "W",
        notes: "faction_protean_biotech_notes"
      },
      {
        name: "faction_murphys_lunar",
        tier: "IV",
        hold: "S",
        notes: "faction_murphys_lunar_notes"
      },
      {
        name: "faction_welshire_holdings",
        tier: "IV",
        hold: "S",
        notes: "faction_welshire_holdings_notes"
      },
      {
        name: "faction_uber-besos",
        tier: "III",
        hold: "S",
        notes: "faction_uber-besos_notes"
      },
      {
        name: "faction_medsled",
        tier: "III",
        hold: "S",
        notes: "faction_medsled_notes"
      },
      {
        name: "faction_bodies_unlimited",
        tier: "III",
        hold: "S",
        notes: "faction_bodies_unlimited_notes"
      },
      {
        name: "faction_classique_retro_fabrication",
        tier: "II",
        hold: "W",
        notes: "faction_classique_retro_fabrication_notes"
      },
      {
        name: "faction_getsaround_delivery",
        tier: "II",
        hold: "S",
        notes: "faction_getsaround_delivery_notes"
      },
      {
        name: "faction_nukem_foods",
        tier: "II",
        hold: "W",
        notes: "faction_nukem_foods_notes"
      },
      {
        name: "faction_sudushima_partners",
        tier: "II",
        hold: "S",
        notes: "faction_sudushima_partners_notes"
      }
    ],
    factions3: [
      {
        name: "faction_cybersec_global",
        tier: "VI",
        hold: "S",
        notes: "faction_cybersec_global_notes"
      },
      {
        name: "faction_caribbean_league_military",
        tier: "V",
        hold: "S",
        notes: "faction_caribbean_league_military_notes"
      },
      {
        name: "faction_brokeback_corrections",
        tier: "IV",
        hold: "S",
        notes: "faction_brokeback_corrections_notes"
      },
      {
        name: "faction_institute_of_arcane_research",
        tier: "IV",
        hold: "S",
        notes: "faction_institute_of_arcane_research_notes"
      },
      {
        name: "faction_kingston_council",
        tier: "IV",
        hold: "S",
        notes: "faction_kingston_council_notes"
      },
      {
        name: "faction_caribbean_public_utilities",
        tier: "IV",
        hold: "S",
        notes: "faction_caribbean_public_utilities_notes"
      },
      {
        name: "faction_occult_task_force",
        tier: "IV",
        hold: "S",
        notes: "faction_occult_task_force_notes"
      },
      {
        name: "faction_legionnaires",
        tier: "III",
        hold: "S",
        notes: "faction_legionnaires_notes"
      },
      {
        name: "faction_panamanian_consulate",
        tier: "III",
        hold: "S",
        notes: "faction_panamanian_consulate_notes"
      },
      {
        name: "faction_sky_wardens",
        tier: "III",
        hold: "S",
        notes: "faction_sky_wardens_notes"
      },
      {
        name: "faction_alamo_security",
        tier: "II",
        hold: "S",
        notes: "faction_alamo_security_notes"
      },
      {
        name: "faction_british_consulate",
        tier: "II",
        hold: "W",
        notes: "faction_british_consulate_notes"
      },
      {
        name: "faction_native_american_consulate",
        tier: "II",
        hold: "S",
        notes: "faction_native_american_consulate_notes"
      },
      {
        name: "faction_petrovski_security",
        tier: "II",
        hold: "S",
        notes: "faction_petrovski_security_notes"
      },
      {
        name: "faction_citizens_on_patrol",
        tier: "I",
        hold: "S",
        notes: "faction_citizens_on_patrol_notes"
      }
    ],
    factions4: [
      {
        name: "faction_baccarat",
        tier: "V",
        hold: "S",
        notes: "faction_baccarat_notes"
      },
      {
        name: "faction_neo-catholic_church",
        tier: "IV",
        hold: "W",
        notes: "faction_neo-catholic_church_notes"
      },
      {
        name: "faction_xxiii",
        tier: "IV",
        hold: "S",
        notes: "faction_xxiii_notes"
      },
      {
        name: "faction_buddhislam",
        tier: "III",
        hold: "W",
        notes: "faction_buddhislam_notes"
      },
      {
        name: "faction_mad_dance",
        tier: "III",
        hold: "S",
        notes: "faction_mad_dance_notes"
      },
      {
        name: "faction_otaku_remnant",
        tier: "III",
        hold: "S",
        notes: "faction_otaku_remnant_notes"
      },
      {
        name: "faction_atlantean_foundation",
        tier: "III",
        hold: "W",
        notes: "faction_atlantean_foundation_notes"
      },
      {
        name: "faction_labor_party",
        tier: "II",
        hold: "W",
        notes: "faction_labor_party_notes"
      },
      {
        name: "faction_machina_imperium",
        tier: "II",
        hold: "W",
        notes: "faction_machina_imperium_notes"
      },
      {
        name: "faction_faster_than_you",
        tier: "I",
        hold: "S",
        notes: "faction_faster_than_you_notes"
      },
      {
        name: "faction_rack",
        tier: "I",
        hold: "S",
        notes: "faction_rack_notes"
      },
      {
        name: "faction_scraps",
        tier: "I",
        hold: "S",
        notes: "faction_scraps_notes"
      }
    ],
    factions5: [
      {
        name: "faction_august_town",
        tier: "V",
        hold: "S",
        notes: "faction_august_town_notes"
      },
      {
        name: "faction_new_kingston",
        tier: "IV",
        hold: "S",
        notes: "faction_new_kingston_notes"
      },
      {
        name: "faction_mona",
        tier: "IV",
        hold: "S",
        notes: "faction_mona_notes"
      },
      {
        name: "faction_constant_spring",
        tier: "III",
        hold: "W",
        notes: "faction_constant_spring_notes"
      },
      {
        name: "faction_havendale",
        tier: "II",
        hold: "S",
        notes: "faction_havendale_notes"
      },
      {
        name: "faction_kingston_parish",
        tier: "II",
        hold: "S",
        notes: "faction_kingston_parish_notes"
      },
      {
        name: "faction_standrew_parish",
        tier: "II",
        hold: "S",
        notes: "faction_standrew_parish_notes"
      },
      {
        name: "faction_trench_town",
        tier: "II",
        hold: "W",
        notes: "faction_trench_town_notes"
      },
      {
        name: "faction_harborview",
        tier: "I",
        hold: "W",
        notes: "faction_harborview_notes"
      },
      {
        name: "faction_sewerton",
        tier: "I",
        hold: "S",
        notes: "faction_sewerton_notes"
      }
    ]
  };
  const actionData = {
    intuition: [
      "engineer",
      "interface",
      "stalk",
      "survey"
    ],
    body: [
      "fight",
      "finesse",
      "prowl",
      "wreck"
    ],
    super: [
      "assense",
      "attune"
    ],
    willpower: [
    "command",
    "consort",
    "influence",
    "study"
    ]
  };
  const traumaData = {
    normal: ["cold", "haunted", "obsessed", "paranoid", "reckless", "soft", "unstable", "vicious"],
    free_spirit: ["chaotic", "destructive", "furious", "obsessive", "territorial", "savage"],
    infected: ["cold", "haunted", "obsessed", "paranoid", "ruthless", "secretive", "unstable", "vicious"],
    shell: ["fixated", "leaking", "smoking", "sparking", "twitching", "unstable", "vibrating"]
  };
  const frameData = {
    any: ["emp", "flash", "hydraulic", "media", "suppression", "sensor", "stealth", "smoke", "white"],
    medium: ["compart1", "gecko", "lifelikeapp", "turret"],
    small: ["amphibious", "flight", "relexes", "tiny"],
    heavy: ["compart2", "space", "plating", "turret"]
  };
  const itemData = [
    {
      name: "a_comm",
      description: "a_comm_description",
      numboxes: "0",
      short: "1"
    },
    {
      name: "a_2nd_comm",
      description: "a_comm_description",
      numboxes: "1",
      short: "1"
    },
    {
      name: "a_pistol",
      description: "a_pistol_description",
      numboxes: "1",
      short: "1"
    },
    {
      name: "a_2nd_pistol",
      description: "a_pistol_description",
      numboxes: "1",
      short: "1"
    },
    {
      name: "a_quiet_weapon",
      description: "a_quiet_weapon_description",
      numboxes: "1"
    },
    {
      name: "a_medieval_weapon",
      description: "a_medieval_weapon_description",
      numboxes: "1"
    },
    {
      name: "a_large_weapon",
      description: "a_large_weapon_description",
      numboxes: "2"
    },
    {
      name: "an_unusual_weapon",
      description: "an_unusual_weapon_description",
      numboxes: "1"
    },
    {
      name: "ammo",
      description: "ammo_description",
      numboxes: "3"
    },
    {
      name: "armor",
      description: "armor_description",
      numboxes: "2",
      short: "1"
    },
    {
      name: "+heavy",
      description: "+heavy_description",
      numboxes: "2",
      short: "1"
    },
    {
      name: "burglary_gear",
      description: "burglary_gear_description",
      numboxes: "1"
    },
    {
      name: "climbing_gear",
      description: "climbing_gear_description",
      numboxes: "2"
    },
    {
      name: "demolition_tools",
      description: "demolition_tools_description",
      numboxes: "2"
    },
    {
      name: "lighting_gear",
      description: "lighting_gear_description",
      numboxes: "1"
    },
    {
      name: "mechanic_tools",
      description: "mechanic_tools_description",
      numboxes: "2"
    },
    {
      name: "reagents",
      description: "reagents_description",
      numboxes: "1"
    },
    {
      name: "subterfuge_supplies",
      description: "subterfuge_supplies_description",
      numboxes: "1"
    },
    {
      name: "technical_tools",
      description: "technical_tools_description",
      numboxes: "1"
    }
  ];
  const translatedDefaults = {
    char_cohort_name: "cohort",
    cohort1_name: "cohort",
    contacts_title: "contacts",
    factions_title: "factions_title",
    factions1_header: "factions1",
    factions2_header: "factions2",
    factions3_header: "factions3",
    factions4_header: "factions4",
    factions5_header: "factions5",
    frame: "frame",
    friends_title: "friends",
    setting_tradition_label: "tradition",
    setting_drawback_label: "drawback",
    setting_heat_label: "heat",
    setting_method_label: "method",
    setting_bandolier_label: "bandolier",
    setting_bandolier2_label: "bandolier2",
    setting_stress_label: "edge",
    setting_trauma_label: "trauma",
    setting_wanted_label: "wanted",
    special_abilities_title: "special_abilities",
    upgrade_garage_name: "garage",
    upgrade_garage_description: "upgrade_garage_description",
    upgrade_documents_name: "documents",
    upgrade_documents_description: "upgrade_documents_description",
    upgrade_cleanroom_name: "cleanroom",
    upgrade_cleanroom_description: "upgrade_cleanroom_description",
    upgrade_gear_name: "gear",
    upgrade_gear_description: "upgrade_gear_description",
    upgrade_garage_name: "garage",
    upgrade_garage_description: "upgrade_garage_description",
    upgrade_implements_name: "implements",
    upgrade_implements_description: "upgrade_implements_description",
    upgrade_quarters_name: "quarters",
    upgrade_quarters_description: "upgrade_quarters_description",
    upgrade_supplies_name: "supplies",
    upgrade_supplies_description: "upgrade_supplies_description",
    upgrade_secure_name: "secure",
    upgrade_secure_description: "upgrade_secure_description",
    upgrade_tools_name: "tools",
    upgrade_tools_description: "upgrade_tools_description",
    upgrade_vault_name: "vault",
    upgrade_vault_description: "upgrade_vault_description",
    upgrade_weapons_name: "weapons",
    upgrade_weapons_description: "upgrade_weapons_description",
    upgrade_workshop_name: "workshop",
    upgrade_workshop_description: "upgrade_workshop_description",
    upgrade_intuition_name: "intuition",
    upgrade_intuition_description: "upgrade_intuition_description",
    upgrade_body_name: "body",
    upgrade_body_description: "upgrade_body_description",
    upgrade_willpower_name: "willpower",
    upgrade_willpower_description: "upgrade_willpower_description",
    upgrade_personal_name: "personal",
    upgrade_personal_description: "upgrade_personal_description",
    upgrade_mastery_name: "mastery",
    upgrade_mastery_description: "upgrade_mastery_description",
    xp_condition2: "xp_beliefs",
    xp_condition3: "xp_vice"
  };
  const defaultValues = {
    assense: "0",
    char_cohort_quality: "1",
    char_cohort_type: "expert",
    claim_bridge_10_15: "1",
    claim_bridge_12_13: "1",
    claim_bridge_13_14: "1",
    claim_bridge_2_3: "1",
    claim_bridge_2_7: "1",
    claim_bridge_3_4: "1",
    claim_bridge_4_9: "1",
    claim_bridge_6_11: "1",
    claim_bridge_6_7: "1",
    claim_bridge_9_14: "1",
    cohort1_subtype: "",
    cohort1_type: "team",
    command: "0",
    consort: "0",
    engineer: "0",
    fight: "0",
    finesse: "0",
    influence: "0",
    interface: "0",
    prowl: "0",
    setting_extra_stress: "0",
    setting_load_h: "6",
    setting_show_cohort: "0",
    setting_show_tradition: "0",
    setting_show_frame: "0",
    setting_show_movement: "0",
    setting_show_assense: "0",
    setting_show_attune: "0",
    setting_show_use: "0",
    setting_show_use2: "0",
    setting_traumata_set: "normal",
    setting_frame_size: "medium",
    setting_extra_xp: "0",
    setting_vice_type: "normal",
    stalk: "0",
    study: "0",
    survey: "0",
    symptoms: "0",
    trauma: "0",
    upgrade_garage_check_1: "0",
    upgrade_secure_check_1: "0",
    upgrade_intuition_check_1: "0",
    upgrade_body_check_1: "0",
    upgrade_willpower_check_1: "0",
    upgrade_carriage_check_1: "0",
    wreck: "0"
  };
  const spiritPlaybooks = ["adept", "free_spirit", "infected", "mage", "shell", "techno"];
  /* PRE-COMPUTED CONSTANTS */
  const [playbookAbilityMap, crewAbilityMap] = dataSetup();
  const crewAttributes = [...new Set(
    [].concat(...Object.keys(crewData).map(x => Object.keys(crewData[x].base)))
  )];
  const playbookAttributes = [...new Set(
    [].concat(...Object.keys(playbookData)
      .map(x => Object.keys(playbookData[x].base)))
  )];
  const watchedAttributes =
    [...new Set(crewAttributes.concat(playbookAttributes))];
  const actionsFlat =
    [].concat(...Object.keys(actionData).map(x => actionData[x]));
  const traumaDataFlat = Object.keys(traumaData)
    .reduce((m, k) => m.concat(traumaData[k]), []);
  const autoExpandFields = [
    "repeating_ability:name",
    "repeating_ability:description",
    "repeating_clock:name",
    "repeating_cohort:edges",
    "repeating_cohort:flaws",
    "repeating_contact:name",
    "repeating_crewclock:name",
    "repeating_crewability:name",
    "repeating_crewability:description",
    "repeating_drawback:description",
    "repeating_drawback:name",
    "repeating_factionclock:name",
    "repeating_friend:name",
    "repeating_method:description",
    "repeating_method:name",
    "repeating_playbookitem:description",
    "repeating_playbookitem:name",
    "repeating_upgrade:name",
    "repeating_bandolier:name",
    "repeating_bandolier2:name",
    "xp_condition",
    "xp_condition_extra",
    "xp_condition2",
    "xp_condition3",
    "crew_xp_condition",
    "fixer_type",
    "fixer_description",
    "meeting_grounds_type",
    "meeting_grounds_description",
    "cohort1_edges",
    "cohort1_flaws",
    "heritage",
    "background",
    "vice_purveyor"
  ];
  const autogenSections = [
    "ability",
    "crewability",
    "friend",
    "contact",    
    "playbookitem",
    "upgrade"
  ];
  const translatedNames = [
    ...Object.keys(playbookData),
    ...Object.keys(crewData)
  ].reduce((m, keyName) => {
    if (getTranslationByKey(keyName)) {
      m[getTranslationByKey(keyName).toLowerCase()] = keyName;
    }
    return m;
  }, {});
  /* EVENT HANDLERS */
  /* Set default fields when setting crew type or playbook */
  on("change:crew_type change:playbook", handlePlaybookFill);
  /* automatically fill abilities */
  on("change:repeating_ability:name",
    () => fillAbility("repeating_ability", playbookAbilityMap));
  on("change:repeating_crewability:name",
    () => fillAbility("repeating_crewability", crewAbilityMap));
  /* Watch repeating rows for changes and set autogen to false if it changes */
  autogenSections.forEach(watchAutogen);
  /* Watch for changes in auto-set attributes and update changed_attributes */
  on(watchedAttributes.map(x => `change:${x}`).join(" "), updateChangedAttrs);
  /* Register attribute/action event handlers */
  Object.keys(actionData).forEach(attrName => {
    on([...actionData[attrName], `setting_resbonus_${attrName}`]
      .map(x => `change:${x}`).join(" "), () => calculateResistance(attrName)
    );
    on(`change:setting_max_rating_${attrName}`,
      () => handleMaxratingChange(attrName));
    on(`change:${attrName}`, calculateVice);
  });
  /* Calculate stash */
  on("change:stash", calculateStashFormula);
  on("change:wanted", calculateWantedFormula);
  /* Calculate trauma */
  on("change:setting_traumata_set " +
    traumaDataFlat.map(x => `change:trauma_${x}`).join(" "), calculateTrauma);
  /* Generate buttons */
  on("change:generate_factions", generateFactions);
  autogenSections.forEach(handleRepeatingGenerateButton);
  /* Extra stress and trauma */
  on("change:setting_extra_stress", event =>
    setAttr("stress_max", 9 + (parseInt(event.newValue) || 0)));
  on("change:setting_extra_trauma", event =>
    setAttr("trauma_max", 4 + (parseInt(event.newValue) || 0)));
  /* Calculate cohort quality */
  on(
    ["crew_tier", "cohort1_impaired", "cohort1_type"]
      .map(x => `change:${x}`).join(" "),
    () => calculateCohortDice(["cohort1"]));
  on("change:repeating_cohort",
    () => calculateCohortDice(["repeating_cohort"]));
  on("change:crew_tier", () => {
    getSectionIDs("repeating_cohort",
      a => calculateCohortDice(a.map(id => `repeating_cohort_${id}`)));
  });
  on("change:char_cohort_quality change:char_cohort_impaired " +
    "change:setting_show_cohort", calculateCharCohortDice);
  /* Set correct verb for cohort roll button */
  ["char_cohort", "cohort1", "repeating_cohort"].forEach(handleCohortVerb);
  /* Left-fill checkboxes */
  handleBoxesFill("upgrade_mastery_check_", true);
  handleBoxesFill("use1_check_");
  handleBoxesFill("use2_check_");
  ["item", "playbookitem", "upgrade"]
    .forEach(sName => handleBoxesFill(`repeating_${sName}:check_`));
  /* Pseudo-radios */
  ["crew_tier", ...actionsFlat].forEach(handlePseudoRadio);
  /* Item reset button */
  on("change:reset_items", resetItems);
  /* Resistance query */
  on("change:setting_consequence_query sheet:opened", handleConsequenceQuery);
  /* Trim whitespace in auto-expand fields */
  autoExpandFields.forEach(handleAutoExpandWhitespace);
  /* Clean chat image URL */
  on("change:chat_image", cleanChatImage);
  /* Number of dice prompt and other translation-dependent atoms */
  on("sheet:opened change:setting_usekirsty change:setting_custom_actions",
    setupTranslatedAttrs);
  on("change:setting_custom_actions", setRollMods);
  /* INITIALISATION AND UPGRADES */
  on("sheet:opened", handleSheetInit);
})();}
)();
</script>
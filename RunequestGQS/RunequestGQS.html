	<input name="attr_version" style="display: none;" type="text" value="0">
	<input name="attr_version" style="display: none;" type="text" value="0">
	<input name="attr_intialSRs" style="display: none;" type="text" value="0">
	<input name="attr_SetupDone2" style="display: none;" type="text" value="0">	
	<input name="attr_setFinals" style="display: none;" type="text" value="0">	
	<input name="attr_toggleFullSheet" class="sheet-toggleFullSheet" style="display: none;" type="checkbox">
	<div class="sheet-FullSheet">


			<input name="attr_tab1a" title="Main" class="sheet-tab sheet-tab1a" type="radio" checked="checked" value="1"><span title="Main"></span>
			<input name="attr_tab1a" title="Skills" class="sheet-tab sheet-tab2a" type="radio" value="2"><span title="Skills"></span>
			<input name="attr_tab1a" title="Magic"  class="sheet-tab sheet-tab3a" type="radio" value="3"><span title="Magic"></span>			
			<input name="attr_tab1a" title="Allies" class="sheet-tab sheet-tab4a" type="radio" value="4"><span title="Allies"></span>
			<input name="attr_tab1a" title="Family" class="sheet-tab sheet-tab5a" type="radio" value="5"><span title="Family"></span>	
			<div class="sheet-tab-contenta sheet-tab1a"><!--- Tab 1 start -->
			<div class="sheet-cdiv">
						<input name="attr_is_config" class="sheet-HideConfig" type="checkbox" checked="checked"><span class="sheet-is-config" ><span style='font-family:pictos;'>y</span></span>
						<div class="sheet-config" style="border-style: dotted; border-color: gray; padding: 5px; background-image: none; background-color: white;">
							
							<input name="attr_toggleQSSheet" class="sheet-toggleQSSheet" type="checkbox" checked="checked">Display Quick Start Sheet
							<input name="attr_toggleFullSheet" class="sheet-toggleFullSheet" type="checkbox">Display Full Sheet
							<input name="attr_toggleNPC1Sheet" class="sheet-toggleNPC1Sheet" type="checkbox">Display NPC Sheet



						</div>
						<b>Version 25.10.2021</b>
						<input name="attr_versiony" style="background: none; border: currentColor; border-image: none; width: 400px; color: red; font-weight: bold;" type="text" readonly="" value="(https://tinyurl.com/yb9tgmlv)">
						
						
			</div>	
				<br>
				<div class="sheet-2colrow" style="margin-bottom: 19px;">
					<div class="sheet-col" style="margin-right: 1px;">
						<div class="sheet-info">
							<div class="sheet-input_label" data-i18n="Name">Name</div><input name="attr_character_name" class="sheet-text_input" style="width: 131px;" type="text">
							<div class="sheet-input_label" data-i18n="Birth-Year">Birth Year</div><input name="attr_birth_year" class="sheet-text_input" style="width: 56px;" type="text">
							<div class="sheet-input_label" data-i18n="Age">Age</div><input name="attr_age" class="sheet-text_input" style="width: 35px;" type="text">
						</div>
						<div class="sheet-info">
							<div class="sheet-input_label" data-i18n="Gender">Gender</div><input name="attr_gender" class="sheet-text_input" style="width: 99px;" type="text">
							<div class="sheet-input_label" data-i18n="Homeland">Homeland</div><input name="attr_homeland" class="sheet-text_input" style="width: 145px;" type="text">
						</div>				
						<div class="sheet-info">
							<div class="sheet-input_label" data-i18n="Tribe">Tribe</div><input name="attr_tribe" class="sheet-text_input" style="width: 159px;" type="text">
							<div class="sheet-input_label" data-i18n="Clan">Clan</div><input name="attr_clan" class="sheet-text_input" style="width: 143px;" type="text">
						</div>					
						
					</div>
					<div class="sheet-col" style="margin-right: 1px;">
						<div class="sheet-info">
							<div class="sheet-input_label" data-i18n="Occupation">Occupation</div><input name="attr_occupation" class="sheet-text_input" style="width: 159px;" type="text">
							<div class="sheet-input_label" data-i18n="Ransom">Ransom</div><input name="attr_ransom" class="sheet-text_input" style="width: 56px;" type="text">(L)
							
						</div>
						<div class="sheet-info">
							<div class="sheet-input_label" data-i18n="Reputation">Reputation</div><input name="attr_reputation" class="sheet-text_input sheet-percentiles" type="text" value="0"><button  name="roll_rep"  title="No Modifier"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{reputation}]]}} {{fumble=[[{(101-(round((100-(@{reputation}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{reputation})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{reputation})]])/5)+1]]}}    {{success=[[(@{reputation})]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}"></button><button  name="roll_repMod"  class="sheet-new_roll" title="With Modifier"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{reputation}]]}} {{fumble=[[{(101-(round((100-(@{reputation}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{reputation}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{reputation}+?{Mods|0})/5)+1]]}}    {{success=[[@{reputation}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}"></button>
							<div class="sheet-input_label" data-i18n="Standard-of-Living">Standard of Living</div><input name="attr_living_standard" class="sheet-text_input" style="width: 75px;" type="text">
						
						</div>				
						<div class="sheet-info">
							<div class="sheet-input_label" data-i18n="Base-Income">Base Income</div><input name="attr_base_income" class="sheet-text_input" style="width: 95px;" type="text">(L)					
							<div class="sheet-input_label" data-i18n="Campaign">Campaign</div><input name="attr_campaign" class="sheet-text_input" style="width: 96px;" type="text">
						</div>			
					
					</div>			
				</div>
				<hr class="sheet-hr">

				<div class="sheet-3colrow"><!-- Runes and Hit locations -->
					<div class="sheet-col" style="margin-right: 1px; position: relative;width: 246px;margin-right:0px;"><!--Hit Location-->

						<div class="sheet-hit-box sheet-hit-head" style="font-size: x-small;">
							<label data-i18n="Head-19-20">Head 19-20</label>
							<div>
								<span data-i18n="AP">AP</span>
								<input name="attr_EqpArmorHd" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpBonusHd" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpTotalHd" disabled="" style="display: inline-block;" type="text" value="[[@{EqpArmorHd}+@{EqpBonusHd}]]">
							</div>
							<div>
								<span data-i18n="HP">HP</span>
								<input name="attr_hd_max_hp" style="display: inline-block;" type="text" readonly="" value="0">
								<input name="attr_hd_cur_hp" style="display: inline-block;" type="text" readonly="" value="0">
							</div>
							<div>
								<span data-i18n="Wnds-">Wnds.</span>
								<input name="attr_hd_damage" class="sheet-wnds" type="text" value="0+0">
							</div>										
							
						</div>	

						
						<div class="sheet-hit-box sheet-hit-larm" style="font-size: x-small;">
							<label data-i18n="L Arm 16-18">L Arm 16-18</label>
							<div>
								<span data-i18n="AP">AP</span>
								<input name="attr_EqpArmorLA" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpBonusLA" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpTotalLA" disabled="" style="display: inline-block;" type="text" value="[[@{EqpArmorLA}+@{EqpBonusLA}]]">
							</div>
							<div>
								<span data-i18n="HP">HP</span>
								<input name="attr_l_arm_max_hp" style="display: inline-block;" type="text" readonly="" value="0">
								<input name="attr_l_arm_cur_hp" style="display: inline-block;" type="text" readonly="" value="0">
							</div>
							<div>
								<span data-i18n="Wnds-">Wnds.</span>
								<input name="attr_l_arm_damage" class="sheet-wnds" type="text" value="0+0">
							</div>										
							
						</div>					
						
						
						<div class="sheet-hit-box sheet-hit-rarm" style="font-size: x-small;">
							<label data-i18n="R-Arm-13-15">R Arm 13-15</label>
							<div>
								<span data-i18n="AP">AP</span>
								<input name="attr_EqpArmorRA" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpBonusRA" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpTotalRA" disabled="" style="display: inline-block;" type="text" value="[[@{EqpArmorRA}+@{EqpBonusRA}]]">
							</div>
							<div>
								<span data-i18n="HP">HP</span>
								<input name="attr_r_arm_max_hp" style="display: inline-block;" type="text" readonly="" value="0">
								<input name="attr_r_arm_cur_hp" style="display: inline-block;" type="text" readonly="" value="0">
							</div>
							<div>
								<span data-i18n="Wnds-">Wnds.</span>
								<input name="attr_r_arm_damage" class="sheet-wnds" type="text" value="0+0">
							</div>										
							
						</div>	
					
						<div class="sheet-hit-box sheet-hit-chest" style="font-size: x-small;">
							<label data-i18n="Chest 12">Chest 12</label>
							<div>
								<span data-i18n="AP">AP</span>
								<input name="attr_EqpArmorCh" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpBonusCh" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpTotalCh" disabled="" style="display: inline-block;" type="text" value="[[@{EqpArmorCh}+@{EqpBonusCh}]]">
							</div>
							<div>
								<span data-i18n="HP">HP</span>
								<input name="attr_chst_max_hp" style="display: inline-block;" type="text" readonly="" value="0">
								<input name="attr_chst_cur_hp" style="display: inline-block;" type="text" readonly="" value="0">
							</div>
							<div>
								<span data-i18n="Wnds-">Wnds.</span>
								<input name="attr_chst_damage" class="sheet-wnds" type="text" value="0+0">
							</div>										
							
						</div>	
						
						<div class="sheet-hit-box sheet-hit-abd" style="font-size: x-small;">
							<label data-i18n="Abd 9-11">Abd 9-11</label>
							<div>
								<span data-i18n="AP">AP</span>
								<input name="attr_EqpArmorAb" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpBonusAb" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpTotalAb" disabled="" style="display: inline-block;" type="text" value="[[@{EqpArmorAb}+@{EqpBonusAb}]]">
							</div>
							<div>
								<span data-i18n="HP">HP</span>
								<input name="attr_abd_max_hp" style="display: inline-block;" type="text" readonly="" value="0">
								<input name="attr_abd_cur_hp" style="display: inline-block;" type="text" readonly="" value="0">
							</div>
							<div>
								<span data-i18n="Wnds-">Wnds.</span>
								<input name="attr_abd_damage" class="sheet-wnds" type="text" value="0+0">
							</div>										
							
						</div>					
						
						
						
						<div class="sheet-hit-box sheet-hit-lleg" style="font-size: x-small;">
							<label data-i18n="L Leg 5-8">L Leg 5-8</label>
							<div>
								<span data-i18n="AP">AP</span>
								<input name="attr_EqpArmorLL" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpBonusLL" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpTotalLL" disabled="" style="display: inline-block;" type="text" value="[[@{EqpArmorLL}+@{EqpBonusLL}]]">
							</div>
							<div>
								<span data-i18n="HP">HP</span>
								<input name="attr_l_leg_max_hp" style="display: inline-block;" type="text" readonly="" value="0">
								<input name="attr_l_leg_cur_hp" style="display: inline-block;" type="text" readonly="" value="0">
							</div>
							<div>
								<span data-i18n="Wnds-">Wnds.</span>
								<input name="attr_l_leg_damage" class="sheet-wnds" type="text" value="0+0">
							</div>										
							
						</div>					
						
						
						<div class="sheet-hit-box sheet-hit-rleg" style="font-size: x-small;">
							<label data-i18n="R-leg-1-4">R leg 1-4</label>
							<div>
								<span data-i18n="AP">AP</span>
								<input name="attr_EqpArmorRL" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpBonusRL" style="display: inline-block;" type="text" value="0">
								<input name="attr_EqpTotalRL" disabled="" style="display: inline-block;" type="text" value="[[@{EqpArmorRL}+@{EqpBonusRL}]]">
							</div>
							<div>
								<span data-i18n="HP">HP</span>
								<input name="attr_r_leg_max_hp" style="display: inline-block;" type="text" readonly="" value="0">
								<input name="attr_r_leg_cur_hp" style="display: inline-block;" type="text" readonly="" value="0">
							</div>
							<div>
								<span data-i18n="Wnds-">Wnds.</span>
								<input name="attr_r_leg_damage" class="sheet-wnds" type="text" value="0+0">
							</div>										
							
						</div>					
						
						
						
						
						
						<img class="sheet-man-image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/man.png">			
					
					</div><!--Hit Location-->
					<div class="sheet-col" style="position: relative;width: 280px;margin-right:0px;"><!--Elemental Runes-->
						<div class="sheet-rune-labelElemental sheet-runeHeader1-label"><span  data-i18n="ELEMENTAL">ELEMENTAL</span></div>
						<div class="sheet-rune-labelRuneAffinities1 sheet-runeHeader2-label"><span  data-i18n="RUNE-AFFINITIES">RUNE AFFINITIES</span></div>
						<div class="sheet-rune-labelAir sheet-rune-label"><span  data-i18n="Air">Air</span></div>
						<div class="sheet-rune-labelFire sheet-rune-label"><span  data-i18n="Fire">Fire</span></div>
						<div class="sheet-rune-labelDarkness sheet-rune-label"><span  data-i18n="Darkness">Darkness</span></div>
						<div class="sheet-rune-labelMoon sheet-rune-label"><span  data-i18n="Moon">Moon</span></div>
						<div class="sheet-rune-labelWater sheet-rune-label"><span  data-i18n="Water">Water</span></div>					
						<div class="sheet-rune-labelEarth sheet-rune-label"><span  data-i18n="Earth">Earth</span></div>					
						<img class="sheet-elemental-image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/Elemental1.png">
						<!--<img class="sheet-elemental-image" src="https://raw.githubusercontent.com/Lockbox313/imagedump/master/RuneQuest/Elemental1.png">-->
															
						<div class="sheet-air-image">
							<button name="roll_AirRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{air_rune}]]}} {{fumble=[[{(101-(round((100-(@{air_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[{round((@{air_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{air_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{air_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Air Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/air rune.jpg"></button>
						</div>
						
						<div class="sheet-fire-image">
							<button  name="roll_FireRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{fire_rune}]]}} {{fumble=[[{(101-(round((100-(@{fire_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[{round((@{fire_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{fire_rune}+?{Mods|0})/5)+1,2}]]}}         {{success=[[@{fire_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fire Rune}}  "  class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/fire rune.png"></button>
						</div>
										
						<div class="sheet-dark-image">
							<button  name="roll_DarkRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{dark_rune}]]}} {{fumble=[[{(101-(round((100-(@{dark_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[{round((@{dark_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{dark_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{dark_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dark Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/darkness rune.png"></button>
						</div>				

						<div class="sheet-water-image">
							<button  name="roll_WaterRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{water_rune}]]}} {{fumble=[[{(101-(round((100-(@{water_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{water_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{water_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{water_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Water Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/water rune.png"></button>
						</div>	

						<div class="sheet-earth-image">
							<button  name="roll_EarthRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{earth_rune}]]}} {{fumble=[[{(101-(round((100-(@{earth_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{earth_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{earth_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{earth_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Earth Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/earth rune.png"></button>
						</div>	


						<div class="sheet-moon-image">
							<button  name="roll_MoonRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{moon_rune}]]}} {{fumble=[[{(101-(round((100-(@{moon_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{moon_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{moon_rune}+?{Mods|0})/5)+1]]}} {{success=[[@{moon_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Moon Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/moon rune.png"></button>
						</div>					
						
						<input name="attr_dark_rune" class="sheet-rune_input sheet-dark-value" type="text" value="0">
						<input name="attr_dark-runeExp" class="sheet-dark-check" type="checkbox" value="1">		

						
						<input name="attr_air_rune" class="sheet-rune_input sheet-air-value" type="text" value="0">
						<input name="attr_air-runeExp" class="sheet-air-check" type="checkbox" value="1">
						
						<input name="attr_moon_rune" class="sheet-rune_input sheet-moon-value" type="text" value="0">
						<input name="attr_moon-runeExp" class="sheet-moon-check" type="checkbox" value="1">				
							
						<input name="attr_fire_rune" class="sheet-rune_input sheet-fire-value" type="text" value="0">
						<input name="attr_fire-runeExp" class="sheet-fire-check" type="checkbox" value="1">				
						
						<input name="attr_water_rune" class="sheet-rune_input sheet-water-value" type="text" value="0">
						<input name="attr_water-runeExp" class="sheet-water-check" type="checkbox" value="1">				
										
						<input name="attr_earth_rune" class="sheet-rune_input sheet-earth-value" type="text" value="0">
						<input name="attr_earth-runeExp" class="sheet-earth-check" type="checkbox" value="1">				
						
					</div><!--Elemental RuneS-->			
					<div class="sheet-col sheet-powerRunes" style="position: relative;width: 266px;margin-right:0px;"><!--Power Runes-->
						<div class="sheet-rune-labelPower sheet-runeHeader1-label"><span  data-i18n="POWER">POWER</span></div>
						<div class="sheet-rune-labelRuneAffinities2 sheet-runeHeader2-label"><span  data-i18n="RUNE-AFFINITIES">RUNE AFFINITIES</span></div>
						
						<div class="sheet-rune-labelMan sheet-rune-label"><span  data-i18n="MAN">MAN</span></div>

						
						<div class="sheet-rune-labelFertility sheet-rune-label"><span  data-i18n="FERTILITY">FERTILITY</span></div>
						<div class="sheet-rune-labelHarmony sheet-rune-label"><span  data-i18n="HARMONY">HARMONY</span></div>
						<div class="sheet-rune-labelTruth sheet-rune-label"><span  data-i18n="TRUTH">TRUTH</span></div>
						<div class="sheet-rune-labelStasis sheet-rune-label"><span  data-i18n="STASIS">STASIS</span></div>

						<div class="sheet-rune-labelDeath sheet-rune-label"><span  data-i18n="DEATH">DEATH</span></div>
						<div class="sheet-rune-labelDisorder sheet-rune-label"><span  data-i18n="DISORDER">DISORDER</span></div>
						<div class="sheet-rune-labelIllusion sheet-rune-label"><span  data-i18n="ILLUSION">ILLUSION</span></div>
						<div class="sheet-rune-labelMovement sheet-rune-label"><span  data-i18n="MOVEMENT">MOVEMENT</span></div>

						<div class="sheet-rune-labelBeast sheet-rune-label"><span  data-i18n="BEAST">BEAST</span></div>					

						<!--<img class="sheet-power-image" src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/new_power4.jpg">-->	


						<div class="sheet-manR-image">
							<button name="roll_ManRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{man_rune}]]}} {{fumble=[[{(101-(round((100-(@{man_rune}+?{Mods|0}))/20))),100}kl1]]}}{{crit=[[{round((@{man_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{man_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{man_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Man Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/man rune new.png"></button>
						</div>
						
						<div class="sheet-fertility-image">
							<button  name="roll_FrtltyRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{fertility_rune}]]}} {{fumble=[[{(101-(round((100-(@{fertility_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{fertility_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{fertility_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{fertility_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fertility Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/fertility rune new.png"></button>
						</div>
										

						<div class="sheet-harmony-image">
							<button  name="roll_HrmnyRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{harmony_rune}]]}} {{fumble=[[{(101-(round((100-(@{harmony_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{harmony_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{harmony_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{harmony_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Harmony Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/harmony rune new.png"></button>
						</div>								
										
						<div class="sheet-truth-image">
							<button  name="roll_TrthRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{truth_rune}]]}} {{fumble=[[{(101-(round((100-(@{truth_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{truth_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{truth_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{truth_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Truth Rune}}" class="sheet-rune_roll" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/truth rune new.png"></button>
						</div>								
										
						<div class="sheet-stasis-image">
							<button  name="roll_StasisRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{stasis_rune}]]}} {{fumble=[[{(101-(round((100-(@{stasis_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{stasis_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{stasis_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{stasis_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Stasis Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/stasis rune new.png"></button>
						</div>								
										
						<div class="sheet-death-image">
							<button  name="roll_DeathRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{death_rune}]]}} {{fumble=[[{(101-(round((100-(@{death_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{death_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{death_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{death_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Death Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/death rune new.png"></button>
						</div>																
										
						<div class="sheet-disorder-image">
							<button  name="roll_DsrdrRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{disorder_rune}]]}} {{fumble=[[{(101-(round((100-(@{disorder_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{disorder_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{disorder_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{disorder_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Disorder Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/disorder rune new.png"></button>
						</div>																
										
						<div class="sheet-illusion-image">
							<button  name="roll_IsslnRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{illusion_rune}]]}} {{fumble=[[{(101-(round((100-(@{illusion_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{illusion_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{illusion_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{illusion_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Illusion Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/illusion rune new.png"></button>
						</div>								

						<div class="sheet-movement-image">
							<button   name="roll_MoveRune"  name="roll_MvmtRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{movement_rune}]]}} {{fumble=[[{(101-(round((100-(@{movement_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{movement_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{disorder_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{movement_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Move Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/movement rune new.png"></button>
						</div>												
						
						
						<div class="sheet-beast-image">
							<button  name="roll_beastRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{beast_rune}]]}} {{fumble=[[{(101-(round((100-(@{beast_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{beast_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{beast_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{beast_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Beast Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/beast rune new.png"></button>
						</div>				
										
						<input name="attr_man_rune" class="sheet-rune_input sheet-man-value" type="text" value="0">
						<input name="attr_man-runeExp" class="sheet-man-check" type="checkbox" value="1">	
						
						<input name="attr_fertility_rune" class="sheet-rune_input sheet-fertility-value" type="text" value="0">
						<input name="attr_fertility-runeExp" class="sheet-fertility-check" type="checkbox" value="1">		
						
						<input name="attr_harmony_rune" class="sheet-rune_input sheet-harmony-value" type="text" value="0">
						<input name="attr_harmony-runeExp" class="sheet-harmony-check" type="checkbox" value="1">		
						
						<input name="attr_truth_rune" class="sheet-rune_input sheet-truth-value" type="text" value="0">
						<input name="attr_truth-runeExp" class="sheet-truth-check" type="checkbox" value="1">		
					
						<input name="attr_stasis_rune" class="sheet-rune_input sheet-stasis-value" type="text" value="0">
						<input name="attr_stasis-runeExp" class="sheet-stasis-check" type="checkbox" value="1">		
						
						<input name="attr_death_rune" class="sheet-rune_input sheet-death-value" type="text" value="0">
						<input name="attr_death-runeExp" class="sheet-death-check" type="checkbox" value="1">		
						
						<input name="attr_disorder_rune" class="sheet-rune_input sheet-disorder-value" type="text" value="0">
						<input name="attr_disorder-runeExp" class="sheet-disorder-check" type="checkbox" value="1">		
						
						<input name="attr_illusion_rune" class="sheet-rune_input sheet-illusion-value" type="text" value="0">
						<input name="attr_illusion-runeExp" class="sheet-illusion-check" type="checkbox" value="1">		

						<input name="attr_movement_rune" class="sheet-rune_input sheet-movement-value" type="text" value="0">
						<input name="attr_movement-runeExp" class="sheet-movement-check" type="checkbox" value="1">	

						<input name="attr_death_rune" class="sheet-rune_input sheet-movement-value" type="text" value="0">
						<input name="attr_movement-runeExp" class="sheet-movement-check" type="checkbox" value="1">	

						<input name="attr_movement_rune" class="sheet-rune_input sheet-movement-value" type="text" value="0">
						<input name="attr_movement-runeExp" class="sheet-movement-check" type="checkbox" value="1">	
						
						
						<input name="attr_beast_rune" class="sheet-rune_input sheet-beast-value" type="text" value="0">
						<input name="attr_beast-runeExp" class="sheet-beast-check" type="checkbox" value="1">	
						
					
					</div><!--Power Runes-->	


				</div>
					<br>
					<br>
					<hr class="sheet-hr">


					<div class="sheet-2colrow">
						<div class="sheet-col" style="width: 50%; margin-right: 30px;">
							<div class="sheet-header" data-i18n="Characteristics">Characteristics</div>
							<div class="sheet-2colrow">
								<div>
									<label style="font-size: 0.6em; margin-left: 56px; display: inline;" data-i18n="Orig-">Orig.</label>
									<label style="font-size: 0.6em; margin-left: 5px; display: inline;" data-i18n="Mod-">Mod.</label>
									<label style="font-size: 0.6em; margin-left: 5px; display: inline;" data-i18n="Cur-">Cur.</label>							
									<label style="font-size: 0.6em; margin-left: 5px; display: inline;">x5</label>
									<label style="font-size: 0.6em; margin-left: -3px; display: inline;">x?</label>
								</div>						
								<div class="sheet-col" style="width: 67%; margin-right: 1px;">
								<div>
									<div class="sheet-char-label" data-i18n="STR">STR</div>
									<input name="attr_basestr" class="sheet-char_values" type="text" value="0">
									<input name="attr_modstr" class="sheet-char_values" type="text" value="0">
									<input name="attr_curstr" class="sheet-char_values" type="text" readonly="" value="0">
									<button title="x5"  name="roll_strroll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curstr}+@{strBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curstr}+@{strBuff})*5))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curstr}+@{strBuff})*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curstr}+@{strBuff})*5)]])/5)+1]]}}         {{success=[[((@{curstr}+@{strBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=STR}}"></button><button name="roll_strmodroll" title="x?"  class="sheet-new_roll2"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curstr}+@{strBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curstr}+@{strBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curstr}+@{strBuff})*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curstr}+@{strBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curstr}+@{strBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=STR}}"></button><button name="roll_str-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curstr}+@{strBuff}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{curstr}+@{strBuff}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{curstr}+@{strBuff}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{curstr}+@{strBuff}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{curstr}+@{strBuff}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=STR Resistance}}"><span  data-i18n="vs"></span> </button>
									<input name="attr_strBuff" style="display: none;" value="0">
									<!--<input type="checkbox"  title="Strength Cast"  name="attr_strengthCast"  />-->
									
								</div>	
								
								<div>
									<div class="sheet-char-label" data-i18n="CON">CON</div>

									<input name="attr_basecon" class="sheet-char_values" type="text" value="0">
									<input name="attr_modcon" class="sheet-char_values" type="text" value="0">
									<input name="attr_curcon" class="sheet-char_values" type="text" readonly="" value="0">
									<button  title="x5"  name="roll_conroll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curcon}+@{conBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curcon}+@{conBuff})*5))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curcon}+@{conBuff})*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curcon}+@{conBuff})*5)]])/5)+1]]}}         {{success=[[((@{curcon}+@{conBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=CON}}">
									</button><button    name="roll_conmodroll" title="x?"  class="sheet-new_roll2"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curcon}+@{conBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curcon}+@{conBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curcon}+@{conBuff})*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curcon}+@{conBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curcon}+@{conBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CON}}"></button><button name="roll_con-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curcon}+@{conBuff}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{curcon}+@{conBuff}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{curcon}+@{conBuff}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{curcon}+@{conBuff}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{curcon}+@{conBuff}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=CON Resistance}}"><span  data-i18n="vs"></span> </button>
													  
									<input name="attr_conBuff" style="display: none;" value="0"> 
									<!--<input type="checkbox"  title="Vigor Cast"  name="attr_vigorCast"  />-->
									
								</div>	

								<div>
									<div class="sheet-char-label" data-i18n="SIZ">SIZ</div>
									<input name="attr_basesiz" class="sheet-char_values" type="text" value="0">
									<input name="attr_modsiz" class="sheet-char_values" type="text" value="0">									
									<input name="attr_cursiz" class="sheet-char_values" type="text" readonly="" value="0">
									<button   name="roll_sizroll" title="x5"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{cursiz}*5)]]}} {{fumble=[[{(101-(round((100-(@{cursiz}*5))/20))),100}kl1]]}} {{crit=[[{round(([[(@{cursiz}*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{cursiz}*5)]])/5)+1]]}}         {{success=[[(@{cursiz}*5)]]}} {{roll=[[1d100]]}} {{skillname=SIZ}}"></button><button  title="x?"  class="sheet-new_roll2"     name="roll_sizmodroll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{cursiz}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{cursiz}*?{multiplier|5}))/20))),100}kl1]]}}  {{crit=[[{round(([[(@{cursiz}*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{cursiz}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{cursiz}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=SIZ}}"></button><button name="roll_siz-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{cursiz}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{cursiz}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{cursiz}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{cursiz}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{cursiz}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=SIZ Resistance}}"><span  data-i18n="vs"></span> </button>	
								</div>	
								
								<div>
									<div class="sheet-char-label" data-i18n="INT">INT</div>

									<input name="attr_baseint" class="sheet-char_values" type="text" value="0">	
									<input name="attr_modint" class="sheet-char_values" type="text" value="0">									
									<input name="attr_curint" class="sheet-char_values" type="text" readonly="" value="0">
									<button  title="x5"     name="roll_introll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{curint}*5)]]}} {{fumble=[[{(101-(round((100-(@{curint}*5))/20))),100}kl1]]}} {{crit=[[{round(([[(@{curint}*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{curint}*5)]])/5)+1]]}}         {{success=[[(@{curint}*5)]]}} {{roll=[[1d100]]}} {{skillname=INT}}"></button><button  title="x?"  class="sheet-new_roll2"     name="roll_intmodroll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{curint}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{curint}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{curint}*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{curint}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{curint}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=INT}}"></button><button name="roll_int-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curint}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{curint}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{curint}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{curint}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{curint}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=INT Resistance}}"><span  data-i18n="vs"></span> </button>	
								</div>
								
								<div>
									<div class="sheet-char-label" data-i18n="POW">POW</div>						

									<input name="attr_basepow" class="sheet-char_values" type="text" value="0">
									<input name="attr_modpow" class="sheet-char_values" type="text" value="0">									
									<input name="attr_curpow" class="sheet-char_values" type="text" readonly="" value="0">
									<button  title="x5"    name="roll_powroll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[{(101-(round((100-(@{curpow}*5))/20))),100}kl1]]}} {{crit=[[{round(([[(@{curpow}*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW}}"></button><button  title="x?"  class="sheet-new_roll2"    name="roll_powmodroll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{curpow}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{curpow}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{curpow}*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{curpow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{curpow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW}}"></button><button name="roll_pow-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curpow}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{curpow}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{curpow}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{curpow}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{curpow}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=POW Resistance}}"><span  data-i18n="vs"></span> </button>
									<input name="attr_pow_check" title="POW check" type="checkbox">								
								</div>

								<div>
									<div class="sheet-char-label" data-i18n="DEX">DEX</div>						

									<input name="attr_basedex" class="sheet-char_values" type="text" value="0">	
									<input name="attr_moddex" class="sheet-char_values" type="text" value="0">									
									<input name="attr_curdex" class="sheet-char_values" type="text" readonly="" value="0">
									<button   name="roll_dexroll" title="x5"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curdex}+@{dexBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curdex}+@{dexBuff})*5))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curdex}+@{dexBuff})*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curdex}+@{dexBuff})*5)]])/5)+1]]}}         {{success=[[((@{curdex}+@{dexBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=DEX}}"></button><button    name="roll_dexmodroll"  title="x?"  class="sheet-new_roll2"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curdex}+@{dexBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curdex}+@{dexBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curdex}+@{dexBuff})*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curdex}+@{dexBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curdex}+@{dexBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=DEX}}"></button><button name="roll_dex-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curdex}+@{dexBuff}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{curdex}+@{dexBuff}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{curdex}+@{dexBuff}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{curdex}+@{dexBuff}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{curdex}+@{dexBuff}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=DEX Resistance}}"><span  data-i18n="vs"></span> </button>
									
									<input name="attr_dexBuff" style="display: none;" value="0">
									<input name="attr_srBuff" style="display: none;" value="0">

								</div>

								<div>	
									<div class="sheet-char-label" data-i18n="CHR">CHR</div>
									<input name="attr_basechr" class="sheet-char_values" type="text" value="0">	
									<input name="attr_modchr" class="sheet-char_values" type="text" value="0">									
									<input name="attr_curchr" class="sheet-char_values" type="text" readonly="" value="0">
									<button  title="x5"   name="roll_chrroll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curchr}+@{chrBuff})*5)]]}} {{fumble=[[{(101-(round((100-((@{curchr}+@{chrBuff})*5))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curchr}+@{chrBuff})*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curchr}+@{chrBuff})*5)]])/5)+1]]}}         {{success=[[((@{curchr}+@{chrBuff})*5)]]}} {{roll=[[1d100]]}} {{skillname=CHR}}"></button><button   name="roll_chrmodroll" title="x?"  class="sheet-new_roll2"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curchr}+@{chrBuff})*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-((@{curchr}+@{chrBuff})*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curchr}+@{chrBuff})*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curchr}+@{chrBuff})*?{multiplier|5})]])/5)+1]]}}         {{success=[[((@{curchr}+@{chrBuff})*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CHR}}"></button><button name="roll_chr-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curchr}+@{chrBuff}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{curchr}+@{chrBuff}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{curchr}+@{chrBuff}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{curchr}+@{chrBuff}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{curchr}+@{chrBuff}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=CHR Resistance}}"><span  data-i18n="vs"></span> </button>
									<!--<input type="checkbox"  title="Glamour Cast"  name="attr_glamourCast"  />-->
									<input name="attr_chrBuff" style="display: none;" value="0">
								</div>
							</div>	

							
							<div class="sheet-col" style="width: 31%; margin-right: 1px;">
								<div>
									<div class="sheet-attribute_label" data-i18n="Dam-Bonus">Dam. Bonus</div>
									<input name="attr_damagebonus" style="width: 50px;" type="text" readonly="">
									<input name="attr_mdamagebonus" style="display: none;" type="text" readonly="">
									<input name="attr_maxDb" style="display: none;" type="text" readonly="">
									<input name="attr_mmaxDb" style="display: none;" type="text" readonly="">

								</div>
								<div>
									<div class="sheet-attribute_label" data-i18n="Move-Rate">Move Rate</div>
									<input name="attr_move_rate" style="width: 50px;" type="text" value="8">	
								</div>	
								<div>
									<div class="sheet-attribute_label" data-i18n="Dex-SRM">Dex SRM</div>
									<input name="attr_dex_srm" style="width: 50px;" type="text" readonly="" value="0">	
								</div>	
								<div>
									<div class="sheet-attribute_label" data-i18n="Size-SRM">Size SRM</div>
									<input name="attr_siz_srm" style="width: 50px;" type="text" readonly="" value="0">	
								</div>		
								<div>
									<div class="sheet-attribute_label" data-i18n="Melee SRM">Melee SRM</div>
									<input name="attr_melee_srm" style="width: 50px;" type="text" readonly="" value="0">	
								</div>				
								<div>
									<div class="sheet-attribute_label" data-i18n="Heal-Rate">Heal Rate</div>
									<input name="attr_heal_rate" style="width: 50px;" type="text" readonly="" value="0">	
								</div>		
							
								</div>
							</div>	
							<span class="sheet-buffMsg" name="attr_buffMsg"></span><input name="attr_buffMsg" style="display: none;" type="text" readonly="">
							<br>
							<div class="sheet-header" data-i18n="Passions">Passions</div>
							<div>
								<div class="sheet-input_label" data-i18n="Honor">Honor</div><input name="attr_honor" class="sheet-text_input sheet-percentiles" style="margin-right: 5px;" type="text" value="0"><input name="attr_honor_check" style="margin-right: 5px;" type="checkbox"><button  name="roll_Honor" title="No Modifier"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{type=P}} {{skillvalue=[[(@{honor})]]}} {{fumble=[[{(101-(round((100-(@{honor}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{honor})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{honor})]])/5)+1]]}}    {{success=[[(@{honor})]]}} {{roll=[[1d100]]}} {{skillname=Honor}}"></button><button  name="roll_HonorMod" title="With Modifier"   class="sheet-new_roll"    type="roll" value="&{template:skillRoll} {{type=P}} {{name=@{character_name}}}{{skillvalue=[[@{honor}]]}} {{fumble=[[{(101-(round((100-(@{honor}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{honor}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{honor}+?{Mods|0})/5)+1]]}}    {{success=[[@{honor}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Honor}}"></button>						
							</div>
							<br>
							<div>
								<fieldset class="repeating_passions">
									<input name="attr_passion" class="sheet-text_input" style="width: 293px;" type="text" placeholder="Passion(.............)">
									<input name="attr_value" class="sheet-text_input sheet-percentiles" type="text" value="0">
									<button title="No Modifier"  name="roll_Pssn"    type="roll" value="&{template:skillRoll} {{type=P}} {{name=@{character_name}}}{{skillvalue=[[(@{value})]]}} {{fumble=[[{(101-(round((100-(@{value}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{value})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{value})]])/5)+1]]}}    {{success=[[(@{value})]]}} {{roll=[[1d100]]}} {{skillname=@{Passion}}}"></button><button  name="roll_PssnMod"  title="With Modifier"   class="sheet-new_roll"    type="roll" value="&{template:skillRoll} {{type=P}} {{name=@{character_name}}}{{skillvalue=[[@{value}]]}} {{fumble=[[{(101-(round((100-(@{value}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{value}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{value}+?{Mods|0})/5)+1]]}}    {{success=[[@{value}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{Passion}}}"></button>
									<input name="attr_passionExp" type="checkbox">
								</fieldset>
							</div>
							<br>

								
								<div style="padding: 5px; border-radius: 5px; border: 1px solid black; border-image: none;">
								
									<div class="sheet-input_label" style="text-align: center;" data-i18n="Hit-Points">Hit Points</div>							
									<div>
										 <div style="display: inline-block;">
											<!-- value="[round((@{cursiz}+@{curcon})/2)]" -->
											<label style="text-align: center; font-size: 0.5em;" data-i18n="Max">Max</label>
											<input name="attr_hp_max" style="width: 3.5em; text-align: center;" type="text" readonly="" value="0">-
										 </div>
										 <div style="display: inline-block;">
											<label style="text-align: center; font-size: 0.5em;"><span data-i18n="LHP" >LHP</span><br><span  data-i18n="Loss">Loss</span></label>					
											<input name="attr_lhp_loss" style="width: 3em; text-align: center;" type="text" readonly="" value="0">-
										 </div>
										 <div style="display: inline-block;">
											<label style="font-size: 0.5em;"><span  data-i18n="THP" >THP</span><br><span  data-i18n="Loss" >Loss</span></label>
											<input name="attr_thp_loss" style="width: 3.5em; text-align: center;" type="text" readonly="" value="0">=
										 </div>
										 <div style="display: inline-block;">
											<label style="text-align: center; font-size: 0.5em;"><span  data-i18n="Cur.">Cur.</span><br><span data-i18n="HP" >HP</span></label>					
											<input name="attr_hp_cur" style="width: 3em; text-align: left;" type="text" readonly="" value="0">
										 </div>
										 <div style="display: inline-block;">
											<label style="text-align: center; font-size: 0.5em;" data-i18n="THP Wounds">THP Wounds</label>					
											<input name="attr_thp_wnds" style="width: 11em; text-align: center;" type="text" value="0+0">
										 </div>	
									</div>	 
								</div><!-- -->
								<br>
								<!-- Start of hit locations and fumbles -->
								<div style="padding: 5px; border-radius: 5px; border: 1px solid black; border-image: none;">
									<div style="margin-left: 50px;">
									  <div style="margin-left: 5px; display: inline;">
										<div class="sheet-input_label" data-i18n="Dodge">Dodge</div>
										 <input name="attr_dodge" class="sheet-section-header sheet-percentiles" type="text" readonly="">
										 <button  title="No Modifier"  name="roll_Dodge" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{dodge})]]}} {{fumble=[[{(101-(round((100-(@{dodge}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{dodge})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{dodge})]])/5)+1]]}}    {{success=[[(@{dodge})]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"></button><button    name="roll_DodgeMod" title="With Modifier"   class="sheet-new_roll"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{dodge}]]}} {{fumble=[[{(101-(round((100-(@{dodge}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{dodge}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{dodge}+?{Mods|0})/5)+1]]}}    {{success=[[@{dodge}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"></button>
									  </div>
									  <div style="margin-left: 5px; display: inline;">
										 <div class="sheet-input_label" data-i18n="Fumble">Fumble</div>
										 <button   name="roll_Fumble"  type="roll" value="&{template:RQG-Fumble} {{roll=[[1d100]]}}"></button>
									  </div>
									</div>
									<div>
										<div style="margin-left: 0px; display: inline;">
											<div class="sheet-input_label" data-i18n="Hit-Location">Hit Location</div>
											<select name="attr_creature_hit_location" class="sheet-hitlocDrop" style="width: 130px; height: 24px; font-size: x-small; margin-top: 7px;">
											   <option value="AnkylosaursL-" data-i18n="Ankylosaurs" ><span data-i18n="Ankylosaurs" >Ankylosaurs</span></option>
											   <option value="BeetleL-"><span data-i18n="Beetle" >Beetle</span></option>
											   <option value="BirdsFlyingL-"><span data-i18n="Birds-Flying" >Birds, Flying</span></option>
											   <option value="BirdsRunningL-"><span data-i18n="Birds-Running" >Birds, Running</span></option>
											   <option value="CentaurL-"><span data-i18n="Centaur" >Centaur</span></option>
											   <option value="DragonL-"><span data-i18n="Dragons-Manticore" >Dragons/Manticore</span></option>
												<option value="Dragonsnail1HL-"><span data-i18n="Dragonsnail-1-Head" >Dragonsnail 1 Head</span></option>
												<option value="Dragonsnail2HL-"><span data-i18n="Dragonsnail-2-Heads" >Dragonsnail 2 Heads</span></option>											
												<option value="FLL-"><span data-i18n="Four-Legged" >Four-Legged</span></option>
												<option value="4leggedwingsL-"><span data-i18n="Four-legged-Winged" >Four-legged,Winged</span></option>
												<option value="harpiesL-"><span data-i18n="Harpy">Harpy</span></option>										   
											   <option value="HL-" selected><span data-i18n="Human" >Human</span></option>
											   <option value="mammothL-"><span data-i18n=">Mammoths-Mastodons" >Mammoths/Mastodons</span></option>										   
											   <option value="NewtL-"><span data-i18n="Newtling">Newtling</span></option>
											   <option value="RockL-"><span>Rock Lizard</span></option>
											   <option value="serpentL-"><span data-i18n="Serpent">Serpent</span></option>
											   <option value="serpentWingsL-"><span data-i18n="Serpent-Winged" >Serpent, Winged</span></option>
											   <option value="ScorpL-"><span data-i18n="Scorpion-Man">Scorpion Man</span></option>
											   <option value="spiderL-"><span data-i18n="Spider-Giant" >Spider, Giant</span></option>
											   <option value="SprulPaL-"><span data-i18n="Sprul-Pa" >Sprul-Pa</span></option>										   
											   <option value="WalkL-"><span data-i18n="Walktapus" >Walktapus</span></option>
												<option value="wyvernL-"><span data-i18n="Wyvern" >Wyvern</span></option>
											</select>
											<input name="attr_selected_wpn_type" style="display: none;" value="Melee">
										</div>
										<div style="margin-left: 10px; display: inline;">
											<div class="sheet-input_label" data-i18n="Die">Die</div>
											<select name="attr_selected_die_roll" style="width: 84px; height: 24px; margin-top: 7px;">
											   <option value="1d20">1d20</option>
											   <option value="1d10+10">1d10+10</option>
											   <option value="1d8+12">1d8+12</option>
											   <option value="1d10">1d10</option>
											   <option value="1d8">1d8</option>			   			   
											</select>
											<button   name="roll_hitloc"  style="margin-top: -7px;" type="roll" value="&{template:@{creature_hit_location}@{selected_wpn_type}} {{roll=[[@{selected_die_roll}]]}}"></button>
										</div>
									</div>
								</div>
								<!-- Start of hit locations and fumbles -->						
								
								<br>
								<div class="sheet-header" data-i18n="Combat Notes">Combat Notes</div>
								<textarea name="attr_combat-notes" style="width: 95%; min-height: 200px;"></textarea>
								<br>
								<div class="sheet-header" data-i18n="other-notes">Other Notes</div>
								<textarea name="attr_other-notes" style="width: 95%; min-height: 200px;"></textarea>								
								
						</div><!-- endofcolumn-->

						<div class="sheet-col" style="width: 45%; margin-right: 1px;">

							<div class="sheet-header" style="display: inline-block;" data-i18n="Cults">Cults</div>
							 <div class="sheet-cdiv2" style="display: inline-block;">

								<input name="attr_is_config2" class="sheet-HideConfig2" type="checkbox" checked="checked"><span class="sheet-is-config2" ><span style='font-family:pictos;' >y</span></span>
								<div class="sheet-config2" style="border-style: dotted; border-color: gray; padding: 5px; background-image: none; background-color: white;">
								
									<input name="attr_showsorcery" type="checkbox" checked="checked"><span data-i18n="Show Sorcery">Show Sorcery</span><br>
									<input name="attr_showothrunes" type="checkbox"><span data-i18n="show-othrunes">Show Other Runes</span><br>
									<input name="attr_showbroken1" type="checkbox" checked="checked"><span data-i18n="Show old MP storage section">Show old MP storage section</span>
									

								</div>
							</div>	
									
							<fieldset class="repeating_cults3">
								<div class="sheet-info">
									<div class="sheet-input_label" data-i18n="Cult">Cult</div><input name="attr_cult" class="sheet-text_input" style="width: 102px;" type="text">
									<div class="sheet-input_label" data-i18n="Rank">Rank</div><input name="attr_rank" class="sheet-text_input" style="width: 69px;" type="text">
									<div class="sheet-input_label" data-i18n="Rune-Pts">Rune Pts</div><input name="attr_rune_pts" class="sheet-text_input" style="width: 24px;" type="text" value="0">/<input name="attr_cur_rune_pts" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
								</div>
								<div>
									<div class="sheet-input_label" data-i18n="Sub--or-Assoc.-Cults">Sub- or Assoc. Cults</div><input name="attr_assoc_cults" class="sheet-text_input" type="text">
								
								</div>

							</fieldset>
							<br>
							<div class="sheet-header" data-i18n="Spirit-Combat">Spirit Combat</div>
							<div>
								<div class="sheet-input_label" data-i18n="Spirit-Combat">Spirit Combat</div>
								<input name="attr_spirit_combat" class="sheet-text_input" style="width: 24px; margin-right: 5px;" type="text" readonly="" value="0"><button name="roll_SprtCmbt"  title="No Modifier"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{spirit_combat})]]}} {{fumble=[[{(101-(round((100-(@{spirit_combat}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{spirit_combat})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{spirit_combat})]])/5)+1]]}}    {{success=[[(@{spirit_combat})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}">
								</button><button   name="roll_SprtCmbtMod"   title="With Modifier"   class="sheet-new_roll"    style="margin-right: 5px;" type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[@{spirit_combat}]]}} {{fumble=[[{(101-(round((100-(@{spirit_combat}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{spirit_combat}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{spirit_combat}+?{Mods|0})/5)+1]]}}    {{success=[[@{spirit_combat}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"></button><div style="padding-left:5px;" class="sheet-input_label" data-i18n="Damage">Damage</div><input name="attr_sprt_cmbt_damage" class="sheet-text_input" style="width: 56px;" type="text" readonly="" value="">+<input name="attr_sprt_cmbtDB" data-i18n-title="Spirit-Combat-Damage-Modifier" title="Spirit Combat Damage Modifier" class="sheet-text_input" style="width: 23px;text-align:center" value="0" type="text" value=""><button name="roll_SprtCmbtDmg" type="roll" value="&{template:damageRoll2} {{name=@{character_name}}}{{skillname=^{Spirit-Combat} }} {{roll=[[@{sprt_cmbt_damage}+@{sprt_cmbtDB}]]}}"></button>
							</div>
							<br>
							<div class="sheet-header" data-i18n="Spirit-Magic">Spirit Magic</div>
							<div style="margin-left: 167px; display: inline-block;">
								<div class="sheet-input_label" data-i18n="CHA Limit">CHA Limit</div>&nbsp;
								<input name="attr_curchr" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" readonly="" value="0">&nbsp;<div class="sheet-input_label" data-i18n="Cast">Cast</div>

								 <button title="Pow x5"   name="roll_SprtCast"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[{(101-(round((100-(@{curpow}*5))/20))),100}kl1]]}} {{crit=[[{round(([[(@{curpow}*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}"></button><button   title="Pow x5 -?"  class="sheet-new_roll"     name="roll_SprtCastMod"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[((@{curpow}*5))+?{Mod.|0}]]}} {{fumble=[[{(101-(round((100-((@{curpow}*5)+?{Mod.|0}))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curpow}*5)+?{Mod.|0})]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curpow}*5)+?{Mod.|0})]])/5)+1]]}}         {{success=[[((@{curpow}*5)+?{Mod.|0})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}"></button> 
							</div>	
							<br>
							<br>
							<div class="sheet-spirtMagicGrid">
								<div  class="sheet-smllHdrs sheet-name" data-i18n="Spell">Spell</div>
								<div  class="sheet-smllHdrs" data-i18n="Pts">Pts.</div>
								<div  class="sheet-smllHdrs" data-i18n="Duration">Duration</div>
								<div  class="sheet-smllHdrs" data-i18n="Range">Range</div>
								<div  class="sheet-smllHdrs"  data-i18n="Active">Active</div>
							</div>
							<fieldset class="repeating_spiritMagic">
								<div class="sheet-spirtMagicGrid">
									<div><input type="text" name="attr_spellName"  class="sheet-text_input"></div>
									<div ><input type="text" name="attr_spellPts"  class="sheet-text_input sheet-pts"></div>
									<div>					
										<select  name="attr_duration">
											<option  data-i18n="Instant" >Instnt</option>
											<option  data-i18n="Rtul">Rtul</option>
											<option  data-i18n="spcl">Spcl</option>
											<option  data-i18n="Temporal"  selected>Tmprl</option>
										</select>
									</div>
									<div>
										<select  name="attr_ranged">
											<option selected  data-i18n="Ranged" >Ranged</option>
											<option  data-i18n="Self" >Self</option>
											<option  data-i18n="Touch" >Touch</option>
										</select>
									</div>
									<div>
										<select  name="attr_active">
											<option  data-i18n="Active" >Active</option>
											<option selected  data-i18n="Passive" >Passive</option>
										</select>
									</div>
								</div>
							</fieldset>
							<br>
							<textarea name="attr_spirit_magic" class="sheet-magic_notes"></textarea> 
							<div>
								<div class="sheet-header" data-i18n="Spells-Cast:">Spells Cast:</div>
								<div>
									<span  data-i18n="Coordination">Coordination</span> <input name="attr_coordCast" type="checkbox">&nbsp;<span data-i18n="Glamour" >Glamour</span> <input name="attr_glamourCast" type="checkbox">&nbsp;<span data-i18n="Mobility" >Mobility</span> <input name="attr_mobilCast" type="checkbox">	
								</div>
								<div>
									<span data-i18n="Strength" >Strength</span> <input name="attr_strengthCast" type="checkbox">
									<span data-i18n="Vigor" >Vigor</span> <input name="attr_vigorCast" type="checkbox">
								</div>
							</div>			
							<br>
							<div class="sheet-header" style="display: inline-block;" data-i18n="Rune Magic">Rune Magic</div>
							<br>
							<br>
							<div class="sheet-runeMagicGrid">
								<div  class="sheet-smllHdrs sheet-name" data-i18n="Spell">Spell</div>
								<div  class="sheet-smllHdrs" data-i18n="Pts">Pts.</div>
								<div  class="sheet-smllHdrs" data-i18n="Duration">Duration</div>
								<div  class="sheet-smllHdrs" data-i18n="Range">Range</div>
								<div  class="sheet-smllHdrs"  data-i18n="Stack">Stack</div>
								<div  class="sheet-smllHdrs"  data-i18n="1 Use">1 Use</div>
							</div>
							<fieldset class="repeating_runeMagic">
								<div class="sheet-runeMagicGrid">
									<div><input type="text" name="attr_spellName"  class="sheet-text_input"></div>
									<div ><input type="text" name="attr_spellPts"  class="sheet-text_input pts"></div>
									<div>					
										<select  name="attr_duration">
											<option  data-i18n="Instant">Instnt</option>
											<option  data-i18n="Ritual">Rtul</option>
											<option  data-i18n="Permanent">Prmnt</option>
											<option  data-i18n="spcl">Spcl</option>											
											<option  data-i18n="Temporal" selected>Tmprl</option>
										</select>
									</div>
									<div>
										<select  name="attr_ranged">
											<option selected  data-i18n="Ranged" >Ranged</option>
											<option  data-i18n="Self" >Self</option>
											<option  data-i18n="Touch" >Touch</option>
										</select>
									</div>
									<div class="sheet-chkbox" ><input type="checkbox" name="attr_stackable"  ></div>
									<div class="sheet-chkbox"><input type="checkbox" name="attr_oneUse" ></div>
								</div>
							</fieldset>
							<br>

							<textarea name="attr_rune_magic" class="sheet-magic_notes"></textarea> 
							<br>
							<input name="attr_showsorcery" class="sheet-showsorcery" style="display: none;" type="checkbox" checked="checked">
							<div class="sheet-sorcery">
								<div class="sheet-header" data-i18n="Sorcery-Spells">Sorcery Spells</div>
								<div class="sheet-sorceryMagicGrid">
									<div  class="sheet-smllHdrs sheet-name" data-i18n="Spell">Spell</div>
									<div  class="sheet-smllHdrs" data-i18n="%">%</div>
									<div  class="sheet-smllHdrs" data-i18n="Duration">Duration</div>
									<div  class="sheet-smllHdrs" data-i18n="Range">Range</div>
									<div  class="sheet-smllHdrs"  data-i18n="Active">Active</div>
									<div></div>
								</div>
								<fieldset class="repeating_sorceryMagic">
									<div class="sheet-sorceryMagicGrid">
										<div><input type="text" name="attr_spellName"  class="sheet-text_input"></div>
										<div ><input type="text"  data-i18n-title="scry-skill-title" title="Do not add magic mod"   name="attr_spellSkill"  class="sheet-text_input sheet-pts"></div>
										<div>					
											<select  name="attr_duration">
												<option  data-i18n="Instant">Instnt</option>
												<option  data-i18n="Rtul">Rtul</option>
												<option  data-i18n="spcl">Spcl</option>													
												<option  data-i18n="Temporal" selected>Tmprl</option>
											</select>
										</div>
										<div>
											<select  name="attr_ranged">
												<option selected  data-i18n="Ranged" >Ranged</option>
												<option  data-i18n="Self" >Self</option>													
												<option  data-i18n="Touch" >Touch</option>
											</select>
										</div>
										<div>
											<select  name="attr_active">
												<option data-i18n="Active" >Active</option>
												<option selected data-i18n="Passive" >Passive</option>
											</select>
										</div>
									</div>
								</fieldset>	
								<br>	
								<div class="sheet-header" data-i18n="Sorcerous-Runes-and-Techniques">Sorcerous Runes and Techniques</div>
								
								<div style="margin-left: 266px; display: inline-block;">
									<div class="sheet-input_label" data-i18n="Free-INT">Free INT</div>
									<input name="attr_freeint" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
									<!--
									 <button type="roll"    value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)]])/20))]]}} {{crit=[[round(([[(@{curpow}*5)]])/20)+1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button   type="roll" value="&{template:skillRoll} {{name=@{character_name}}}{{skillvalue=[[(@{curpow}*?{multiplier|5})]]}} {{fumble=[[ceil(95+([[(@{curpow}*?{multiplier|5})]])/20))]]}} {{crit=[[round(([[(@{curpow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{curpow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{curpow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--> 
								</div>	
								<textarea name="attr_sorcery_magic" class="sheet-magic_notes"></textarea> 
								<br>
							</div>
							<div class="sheet-header" data-i18n="Magic-Points-&-Storage">Magic Points & Storage</div>	
							<div class="sheet-melee_wpns_labels">
								   <div style="margin-left: 3px;" data-i18n="Location">Location</div>
								   <div style="margin-left: 250px;" data-i18n="Max-">Max.</div>
								   <div style="margin-left: 0px;" data-i18n="Cur-">Cur.</div>
							</div>						
							<div>
								<span data-i18n="Personal">Personal</span>
								<input name="attr_curpow" class="sheet-text_input sheet-percentiles" style="width: 24px; margin-left: 246px;" type="text" readonly="" value="0">
								<input name="attr_curmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
							</div>
							<input name="attr_showbroken1" class="sheet-showbroken1" style="display: none;" type="checkbox" checked="checked">
							<div class="sheet-broken1">
								<fieldset class="repeating_mp_storage">
									<input name="attr_mp_location" class="sheet-text_input" style="width: 302px;" type="text">
									<input name="attr_maxmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
									<input name="attr_curmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
								</fieldset>				
								<span class="sheet-deprecWarn" data-i18n="deprec1">The above section only allows one item. Recreate your item in the section below.  To remove the section above remove the check mark in the configuration section (the cog) at the top of this column </span>
								<br>
								<br>
							</div>
							<fieldset class="repeating_mpStorage">
								<!--<input  style="width:302px" type="text"  class="sheet-text_input" name="attr_mp_location"/>-->
								<input name="attr_mpLOC" class="sheet-text_input" style="width: 302px;" type="text">
								<input name="attr_maxmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
								<input name="attr_curmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
							</fieldset>
							
							<br>
							<div class="sheet-header" data-i18n="Magic-Notes">Magic Notes</div>	
							<textarea name="attr_magic_notes" style="min-height: 200px;width:95%"></textarea> 

						</div>				
					</div>			
				<hr class="sheet-hr">
							<div class="sheet-header" data-i18n="Weapons">Weapons</div>
							<br>

							<div class="sheet-mods-defenses-grid">
								<div class="sheet-input_label" data-i18n="Modifiers">Modifiers</div>								
								<!--<select name="attr_skillReduct" style="width:100px;display:inline-block" >
									<option value="1">Full Skill</option>
									<option value="0.5">Half Skill</option>
								</select>-->
								<div><input name="attr_skillMods" class="sheet-text_input sheet-percentiles" style="display: inline-block;" type="text" value="0"></div>
							
							
								<div class="sheet-input_label" data-i18n="previous-defenses">Previous Defenses</div>
								<div><input name="attr_prevdefends" class="sheet-text_input sheet-percentiles" style="display: inline-block;" type="number" value="0"></div>
								<span><button type="action" name="act_resetparry" class="sheet-text_roll">0</button></span>								
							</div>

							
							<input name="attr_srMod" style="display: none;" type="text" value="0">						
							
							<div class="sheet-melee-wpn-grid  sheet-melee_wpns_labels2">
								   <div data-i18n="Melee-Weapon">Melee Weapon</div>
								   <div data-i18n="Skill-Used">Skill Used</div>
								   <div data-i18n=""></div>
								   <div data-i18n="WSR">WSR</div>
								   <div data-i18n="SR">SR</div>
								   <div></div>
								   <!--<div style="margin-left:14px;">STR/DEX</div>-->	   
								   <div data-i18n="%">%</div>
								   <div data-i18n="Mod-">Mod.</div>
								   <div>=</div>									   
								   <!--<div></div>
								   <div></div>-->
								   <div></div>
								   <div data-i18n="Damage">Damage</div>
								   <div></div>
								   <div data-i18n="*">*</div>
								   <div  data-i18n="p-mod">P.&nbsp;Mod.</div>
								   <div>=</div>									   
								   <div></div>
								   <!--<div></div>
								   <div></div>-->
								   <div data-i18n="Type">Type</div>
								   <div data-i18n="Special">Special</div>						   
								   <div data-i18n="HP">HP</div>		
							</div>
							
							<fieldset class="repeating_melee2">
							   <div class="sheet-melee-wpn-grid">

						   
								  <div><input name="attr_weapon_type" class="sheet-text_input sheet-skillName" type="text"></div>
								  <div><input name="attr_skillName" list="meleeWeapons2" class="sheet-text_input sheet-skillName" type="text"></div>
								  <div class="sheet-centerIt"><input name="attr_skillDefault" type="checkbox"></div>	
								 <input name="attr_skillReduct" style="display: none;" type="text" value="1"> 
								<div><input name="attr_wpn_sr" class="sheet-text_input sheet-percentiles" style="margin-left: 1px;" type="text" value="0"></div>
								  <!--<input type="text" class="sheet-text_input sheet-percentiles"  disabled name="attr_total_wpn_sr" value="[[{@{wpn_sr}+@{melee_srm}]]" />-->
								  <div><input name="attr_total_wpn_sr" disabled="" class="sheet-text_input sheet-percentiles" type="text" value="[[((((@{wpn_sr}+@{melee_srm}-@{srMod}) + 1) + abs((@{wpn_sr}+@{melee_srm}-@{srMod}) - 1)) / 2)]]"></div>
								  <div><button type="roll" name="roll_TrnOrdr" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="&{template:turnOrder} {{name=@{character_name}}}{{weapon=@{weapon_type}}} {{sr=[[@{total_wpn_sr} &{tracker}]]}} {{sr2=@{total_wpn_sr}}} " ></button></div> 
								  
								  <!-- <button type="roll" name="roll_TrnOrdr" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="@{add_sr}" ></button>-->
								  <textarea name="attr_add_sr" style="display: none;">								/em --
									
									Add @{character_name} to turn order
									@{weapon_type} SR [[@{total_wpn_sr} &{tracker}]]
								  </textarea>
								  
								  <!--<input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px;margin-left:1px" value="9" name="attr_wpnstr" />
								  <input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px" value="9" name="attr_wpndex" />--> 
								  <input name="attr_minmod" class="sheet-text_input sheet-percentiles" style="width: 30px; display: none;" type="text" readonly="" value="0">
								  <div><input name="attr_skillTotal" class="sheet-text_input sheet-percentiles" type="text" readonly=""></div>
								  <div>
									<input name="attr_skillWpnMod" class="sheet-text_input sheet-percentiles" type="text" value="0">
								  </div>
								  <div>
									<input name="attr_attackfinal" class="sheet-text_input sheet-percentiles" readonly type="text" value="0">
									<input name="attr_oppattkmod" value="0" style="display:none">
								  </div>								  
								  <!--<div><span><a class="button" href="#popup1">?</a></span></div>
								  <div><input name="attr_oppattk" type="checkbox"></div>-->						  
									<div><button   name="roll_melee-roll" style="margin-right: 0px; margin-left: 0px;" type="roll" value="@{melee_value}"></button></div>


												<textarea name="attr_melee_value" style="display: none;">
												---- Attack Start ----
												&{template:melee-roll2} {{name=@{character_name} Attack}} {{tot=[[@{wpn_damage}+@{damagebonus}+@{magic-db}]]}}{{skillvalue=(@{skillTotal})}} {{fumble=[[{(101-(round((100-(@{attackfinal}))/20))),100}kl1]]}}        {{crit=[[{round(@{attackfinal}/20)+1,2}kh1]]}} {{special=[[round((@{attackfinal})/5)+1]]}}  {{spclDam=[[@{spcldamage}+@{damagebonus}+@{magic-db}]]}}   {{crshDam=[[@{wpn_damage}+@{maxDb}+@{damagebonus}+@{magic-db}]]}}  {{critCrsh=[[@{critdamage}+@{maxDb}+@{maxDb}+@{magic-db}]]}} {{critSI=[[@{critdamage}+@{damagebonus}+@{magic-db}]]}} {{type="[[@{wpn_spl}"]]}}  {	{{success=[[@{attackfinal}]]}}{{roll=[[1d100]]}} {{skillname=@{weapon_type}}} {{mntTogVal=[[@{mntTogVal}]]}} {{mntTot=[[@{wpn_damage}+@{mountDB}+@{magic-db}]]}} {{mntSpcl=[[@{spcldamage}+@{mountDB}+@{magic-db}]]}} {{mntCrit=[[@{critdamage}+@{mountDB}+@{magic-db}]]}}
																		
												&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}
												---- Attack End ----
												</textarea>

												<textarea name="attr_melee_value_backup" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}+@{magic-db}]]}}{{skillvalue=(@{skillTotal})}} {{fumble=[[{(101-(round((100-((@{skillTotal}*@{skillReduct})+@{skillWpnMod}+@{skillMods}))/20))),100}kl1]]}}  {{crit=[[{round([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]])/5)+1]]}}   {{spclDam=[[@{spcldamage}+@{damagebonus}+@{magic-db}]]}}   {{crshDam=[[@{wpn_damage}+@{maxDb}+@{damagebonus}+@{magic-db}]]}}  {{critCrsh=[[@{critdamage}+@{maxDb}+@{maxDb}+@{magic-db}]]}} {{critSI=[[@{critdamage}+@{damagebonus}+@{magic-db}]]}} {{type="[[@{wpn_spl}"]]}}  {{success=[[ceil(ceil((@{skillTotal}*@{skillReduct})))+@{skillWpnMod}+@{skillMods}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type}}} {{mntTogVal=[[@{mntTogVal}]]}} {{mntTot=[[@{wpn_damage}+@{mountDB}+@{magic-db}]]}} {{mntSpcl=[[@{spcldamage}+@{mountDB}+@{magic-db}]]}} {{mntCrit=[[@{critdamage}+@{mountDB}+@{magic-db}]]}}

												&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea>	


												<textarea name="attr_parry_value" style="display: none;">
												---- Parry Start ----
												&{template:melee-roll2} {{name=@{character_name} Parry}} {{tot=[[@{wpn_damage}+@{damagebonus}+@{magic-db}]]}}{{skillvalue=(@{skillTotal})}} {{fumble=[[{(101-(round((100-(@{parryfinal}))/20))),100}kl1]]}}        {{crit=[[{round(@{parryfinal}/20)+1,2}kh1]]}} {{special=[[round((@{parryfinal})/5)+1]]}}  {{spclDam=[[@{spcldamage}+@{damagebonus}+@{magic-db}]]}}   {{crshDam=[[@{wpn_damage}+@{maxDb}+@{damagebonus}+@{magic-db}]]}}  {{critCrsh=[[@{critdamage}+@{maxDb}+@{maxDb}+@{magic-db}]]}} {{critSI=[[@{critdamage}+@{damagebonus}+@{magic-db}]]}} {{type="[[@{wpn_spl}"]]}}  {	{{success=[[@{parryfinal}]]}}{{roll=[[1d100]]}} {{skillname=@{weapon_type}}} {{mntTogVal=[[@{mntTogVal}]]}} {{mntTot=[[@{wpn_damage}+@{mountDB}+@{magic-db}]]}} {{mntSpcl=[[@{spcldamage}+@{mountDB}+@{magic-db}]]}} {{mntCrit=[[@{critdamage}+@{mountDB}+@{magic-db}]]}
												---- Parry End ----
												</textarea>												
												
												
												<textarea name="attr_parry_value2" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}+@{magic-db}]]}}{{skillvalue=(@{skillTotal})}} {{fumble=[[{(101-(round((100-((@{skillTotal}*@{skillReduct})+@{skillParryMod}+@{skillMods}-(1*@{prevdefends}*20)))/20))),100}kl1]]}}  {{crit=[[{round([[ceil((@{skillTotal}*@{skillReduct}))+@{skillParryMod}+@{skillMods}-(1*@{prevdefends}*20)]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{skillTotal}*@{skillReduct}))+@{skillParryMod}+@{skillMods}-(1*@{prevdefends}*20)]])/5)+1]]}}   {{spclDam=[[@{spcldamage}+@{damagebonus}]]}}   {{crshDam=[[@{wpn_damage}+@{maxDb}+@{damagebonus}+@{magic-db}]]}}  {{critCrsh=[[@{critdamage}+@{maxDb}+@{maxDb}+@{magic-db}]]}} {{critSI=[[@{critdamage}+@{damagebonus}+@{magic-db}]]}} {{type="[[@{wpn_spl}"]]}}  {{success=[[ceil(ceil((@{skillTotal}*@{skillReduct})))+@{skillParryMod}+@{skillMods}-(1*@{prevdefends}*20)]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} Parry}} {{mntTogVal=[[0]]}} {{mntTot=[[@{wpn_damage}+@{mountDB}+@{magic-db}]]}} {{mntSpcl=[[@{spcldamage}+@{mountDB}+@{magic-db}]]}} {{mntCrit=[[@{critdamage}+@{mountDB}+@{magic-db}]]}}</textarea>												
												
																			
								  <div><input name="attr_wpn_damage" class="sheet-text_input" type="text"></div>
								  <input name="attr_spcldamage" style="display: none;" type="text">
								  <input name="attr_critdamage" style="display: none;" type="text">
								  <input name="attr_maxdamage" style="display: none;" type="text">
								  <div><input name="attr_magic-db" class="sheet-text_input sheet-percentiles" type="text" value="0"></div>
								  <div  class="sheet-centerIt"><input name="attr_mntDbToggle" type="checkbox"></div>
								  <input name="attr_mntTogVal" style="display: none;" type="text" value="0">								
								  <div>
									<input name="attr_skillParryMod" class="sheet-text_input sheet-percentiles" type="text" value="0">
								  </div>
								  <div>
									<input name="attr_parryfinal" class="sheet-text_input sheet-percentiles" readonly type="text" value="0">
									<input name="attr_oppprrymod"  value="0" style="display:none">									
								  </div>								  
								  <!--<div><span><div><span><a class="button" href="#popup1">?</a></span></div></span></div>
								  <div><input name="attr_oppparry" type="checkbox"></div>-->
								  <div><button   name="roll_parry-roll" data-i18n-title="Parry" title="Parry" style="margin-right: 0px; margin-left: 0px;" type="roll" value="@{parry_value}"></button></div>
								  <div><input name="attr_wpn_type" title="C,CT,H,I,S" type="text"></div>

								  <div><select name="attr_wpn_spl">
									<option value="0">I</option>
									<option value="1">S</option>
									<option value="2">C</option>							
								  </select></div>							   
								  <div><input name="attr_wpn_hp" class="sheet-text_input sheet-percentiles" style="width: 18px;" type="text" value="0">/<input name="attr_wpn_hpmax" class="sheet-text_input sheet-percentiles" style="width: 18px;" type="text" value="0"></div>
								  
								 <div><input name="attr_skillcheck" type="checkbox"></div>	
								  
								  
							   </div>


							   
							</fieldset>		
							<div>
								<span class="sheet-input_label" data-i18n="Use-mount-damage bonus">* Use mount's damage bonus</span>
								<input name="attr_mountDB" title="Mount Damage Bonus" class="sheet-text_input" style="width: 50px;" type="text" value="0">
							</div>
							<!--- end of melee wpns -->
			
							<br>
							<!-- missile wpns -->
							DSR <input name="attr_dex_srm" style="width: 30px; text-align: center;" type="text" readonly="" value="0">  <button name="roll_DSR"  type="roll" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="&{template:turnOrder} {{name=@{character_name}}}{{weapon=Missle Wpn 1st shot}} {{sr=[[@{dex_srm} &{tracker}]]}} {{sr2=@{dex_srm}}} " ></button>&nbsp;&nbsp;
							Readied Weapon<input name="attr_ready_wpn" style="width: 130px; text-align: center;" type="text" readonly="" value="">&nbsp;&nbsp; Unready Weapon<input name="attr_unready_wpn" style="width: 130px; text-align: center;" type="text" readonly="" value="">
							
							
							
							 <textarea name="attr_add_dsr" style="display: none;">/em -- %NEWLINE%
									
									Add @{character_name} to turn order
									Missle Wpn 1st shot SR [[@{dex_srm} &{tracker}]]
							 </textarea>

							 <textarea name="attr_add_nextshot" style="display: none;">/em --
									
									Add @{character_name} to turn order
									Missle Wpn next shot shot SR [[@{ready_wpn} &{tracker}]]
							 </textarea>
							 
							<br>
							<br>
								<div class="sheet-missile-wpn-grid sheet-melee_wpns_labels2">
								   <div data-i18n="Missile-Weapon">Missile Weapon</div>
								   <div data-i18n="Skill-Used">Skill Used</div>	
								   <div data-i18n=""></div>							   
								   <!--<div style="margin-left:47px;">STR/DEX</div> -->
								   <div data-i18n="%">%</div>
								   <div data-i18n="Mods-">Mods.</div>
								   <div>=</div>									   
								   <div></div>		
								   <div data-i18n="Dmg-">Dmg.</div>
								   <div data-i18n="DB">DB</div>
								   <div data-i18n="Special">Special</div>						   
								   <div data-i18n="Rng">Rng</div>		
								   <div data-i18n="Rate">Rate</div>		
								   <div data-i18n="HP">HP</div>	
								   <div data-i18n="Ammo">Ammo</div>	
								</div>						
							
							<fieldset class="repeating_missle2">
							   <div class="sheet-missile-wpn-grid">
								  <div><input name="attr_weapon_type" class="sheet-text_input sheet-skillName" style="font-size: xx-small;" type="text"></div>
								  <!--	
								  <input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px;margin-left:1px" value="9" name="attr_wpnstr" />
								  <input type="text" class="sheet-text_input sheet-percentiles"   style="width:22px" value="9" name="attr_wpndex" /> 								  <input name="attr_minmod" class="sheet-text_input sheet-percentiles" style="width: 30px; display: none;" type="text" readonly="" value="0">-->

								  <div>
									<input name="attr_skillName"  list="missleWeapons"  class="sheet-text_input sheet-skillName" style="font-size: xx-small;" type="text">
									</div>
								  <div class="sheet-centerIt">
									<input name="attr_skillDefault" type="checkbox">
								</div>	
								<input name="attr_skillReduct" style="display: none;" type="text" value="1">
								<div><input name="attr_skillTotal" class="sheet-text_input sheet-percentiles" type="text" readonly=""></div>
								<div><input name="attr_skillWpnMod" class="sheet-text_input sheet-percentiles" type="text" value="0"></div>
								<div><input name="attr_attackfinal" class="sheet-text_input sheet-percentiles" readonly type="text" value="0"></div>				  
								  
								  <!--
								  <input type="text"  class="sheet-text_input sheet-percentiles"  name="attr_wpn_attk_value" />
								  <input type="text"  class="sheet-text_input sheet-percentiles" disabled name="attr_wpn_attk_total" value="@{wpn_attk_value}+@{manipulation_mod}+@{enc_mod}+@{minmod}+@{gen_mod}" />-->
								  

								  
								<div>
									<button   name="roll_MissleRoll" style="margin-right: 0px; margin-left: 0px;" type="roll" value="@{melee_value}"></button>
								</div>
												
												<textarea name="attr_melee_value" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{wpnmdb}]]}}{{skillvalue=(@{skillTotal})}} {{fumble=[[{(101-(round((100-((@{skillTotal}*@{skillReduct})+@{skillWpnMod}+@{skillMods}))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]])/5)+1]]}}   {{spclDam=[[@{spcldamage}+@{wpnmdb}]]}}   {{crshDam=[[@{wpn_damage}+@{maxwpnmdb}+@{wpnmdb}]]}}  {{critCrsh=[[@{critdamage}+@{maxwpnmdb}+@{maxwpnmdb}]]}} {{critSI=[[@{critdamage}+@{wpnmdb}]]}} {{type="[[@{wpn_spl}"]]}}  {{success=[[ceil((@{skillTotal}*@{skillReduct}))+@{skillWpnMod}+@{skillMods}]]}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}  {{skillname=@{weapon_type}}} 

												&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea>
												
																			
								  <div><input name="attr_wpn_damage" class="sheet-text_input" type="text"></div>
								  <div class="sheet-centerIt"><input name="attr_mdbtoggle" type="checkbox"></div>
								  <input name="attr_spcldamage" style="display: none;" type="text">
								  <input name="attr_critdamage" style="display: none;" type="text">
								  <input name="attr_maxdamage" style="display: none;" type="text">

								  <div><select name="attr_wpn_spl" style="margin-bottom: 0px;">
									<option value="0">I</option>
									<option value="1">S</option>
									<option value="2">C</option>							
								  </select></div>								  
								  <div><input name="attr_wpn_range" class="sheet-text_input sheet-percentiles" style="font-size: xx-small;" type="text"></div>    
								  <div><input name="attr_wpn_rate" class="sheet-text_input sheet-percentiles" style="font-size: xx-small;" type="text"></div>    						  
								  <div><input name="attr_wpn_hp" class="sheet-text_input sheet-percentiles" type="text"></div>
								  <div><input name="attr_wpn_ammo" class="sheet-text_input sheet-percentiles" type="text"></div>
								  
								  <div class="sheet-centerIt"><input name="attr_skillcheck" type="checkbox"></div>
								  <div><input name="attr_wpnmdb" style="display: none;" type="text" value="0"></div>	  
								  <div><input name="attr_maxwpnmdb" style="display: none;" type="text" value="0"></div>	  
											
								  
							   </div>
							</fieldset>		
							<br>		
							<br>		
							<br>								
			</div>
			<div class="sheet-tab-contenta sheet-tab2a"><!--- Tab 2 start -->
			<div>
				
				<div>
					<span style="margin-left: 139px;" data-i18n="Enc Mod">Enc Mod</span>
					<input name="attr_enc_mod2" class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" readonly="" value="0">	
					
					<span style="margin-left: 8px;" data-i18n="Dodge Mod">Dodge Mod</span>
					<input name="attr_dodge_mod2" class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" readonly="" value="0">

					<span style="margin-left: 8px;" data-i18n="Swim Mod">Swim Mod</span>
					<input name="attr_swim_mod2" class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" readonly="" value="0">
					
					<span style="margin-left: 8px;" data-i18n="MQ Mod-">MQ Mod.</span>
					<input name="attr_mq_total" class="sheet-text_input sheet-char_inputs" style="width: 45px;" type="text" readonly="" value="0">
					
					<span style="margin-left: 8px;" data-i18n="Skill Mod">Skill Mod</span>
					<input name="attr_skill_mod" class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" value="0">			
				</div>
				<br>
				<div class="sheet-2colrow">
					<div class="sheet-col" style="width: 31%; margin-right: 3px; margin-left: 3px;">

						<div> 
							<div class="sheet-skill_category" data-i18n="Agility">Agility</div>
							<div style="margin-left: 79px; display: inline-block;">
								<span data-i18n="Modifier"><b>Modifier</b></span>
								<input name="attr_agility_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button   name="roll_agl-exp" type="roll" value="&{template:expRoll} {{skill=Agility Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{agility_mod}]]}}"></button>
							</div>
							
							<fieldset class="repeating_agilityskills">
								<div class="sheet-fav-skill-wrapper">
								  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
								  <div class="sheet-block-a">
									<span style="color:gray"></span> 
								   </div>
								  <div class="sheet-block-b">
									 <span style="color:orange"></span> 
								  </div>
								</div>
								<input name="attr_skill" class="sheet-text_input sheet-skillName" type="text">
								<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
								<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
								<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_agl-skillroll"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
								<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">							
								<div class="sheet-exp-toggle1">
									<input name="attr_expCheck" type="checkbox">
								</div>	

								
							</fieldset>
							<br>
							<div class="sheet-skill_category" data-i18n="Communication">Communication</div>
							<div style="margin-left: 17px; display: inline-block;">
								<span data-i18n="Modifier"><b>Modifier</b></span>
								<input name="attr_communication_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button name="roll_comms-exp"  type="roll" value="&{template:expRoll} {{skill=Communication Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{communication_mod}]]}}"></button>
							</div>
							
							<fieldset class="repeating_communicationskills">
								<div class="sheet-fav-skill-wrapper">
								  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
								  <div class="sheet-block-a">
									<span style="color:gray"></span> 
								   </div>
								  <div class="sheet-block-b">
									 <span style="color:orange"></span> 
								  </div>
								</div>							
								<input name="attr_skill" class="sheet-text_input sheet-skillName" type="text">
								<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
								<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
								<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button name="roll_comms-skillroll"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
								<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">
								<div class="sheet-exp-toggle1">
									<input name="attr_expCheck" type="checkbox">
								</div>	
							</fieldset>
							<br>					
							<div class="sheet-skill_category" data-i18n="Knowledge">Knowledge</div>
							<div style="margin-left: 47px; display: inline-block;">
								<span data-i18n="Modifier"><b>Modifier</b></span>
								<input name="attr_knowledge_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button name="roll_know-exp"   type="roll" value="&{template:expRoll} {{skill=Knowledge Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{knowledge_mod}]]}}"></button>
							</div>
							
							<fieldset class="repeating_knowledgeskills">
								<div class="sheet-fav-skill-wrapper">
								  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
								  <div class="sheet-block-a">
									<span style="color:gray"></span> 
								   </div>
								  <div class="sheet-block-b">
									 <span style="color:orange"></span> 
								  </div>
								</div>							
								<input name="attr_skill" class="sheet-text_input sheet-skillName" type="text">
								<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
								<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
								<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button name="roll_know-skillroll"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
								<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">
								<div class="sheet-exp-toggle1">
									<input name="attr_expCheck" type="checkbox">
								</div>
							</fieldset>
							<br>							
						</div>
						

					</div>
					<!--- ------------------------------------------------------------------ -->
					<div class="sheet-col" style="width: 66%; margin-left: 0px;">
					
						<div class="sheet-2colrow">
						
							<div class="sheet-col" style="margin-right: 10px;">
									<div class="sheet-skill_category" data-i18n="Magic">Magic</div>
									<div style="margin-left: 81px; display: inline-block;">
										<span data-i18n="Modifier"><b>Modifier</b></span>
										<input name="attr_magic_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_mgc-exp" type="roll" value="&{template:expRoll} {{skill=Magic Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{magic_mod}]]}}"></button>
									</div>
									
									<fieldset class="repeating_magicskills">
										<div class="sheet-fav-skill-wrapper">
										  <input type="checkbox"  name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
										  <div class="sheet-block-a">
											<span style="color:gray"></span> 
										   </div>
										  <div class="sheet-block-b">
											 <span style="color:orange"></span> 
										  </div>
										</div>								
										<input name="attr_skill" class="sheet-text_input sheet-skillName" type="text">
										<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
										<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
										<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button   type="roll"   name="roll_mgc-skillroll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
										<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">
										<div class="sheet-exp-toggle1">									
											<input name="attr_expCheck" type="checkbox">							
										</div>	
									</fieldset>
									<br>
									<div class="sheet-skill_category" data-i18n="Manipulation">Manipulation</div>
									<div style="margin-left: 35px; display: inline-block;">
										<span data-i18n="Modifier"><b>Modifier</b></span>
										<input name="attr_manipulation_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button    name="roll_mnp-exp"  type="roll" value="&{template:expRoll} {{skill=Manipulation Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"></button>
									</div>
									
									<fieldset class="repeating_manipulationskills">
										<div class="sheet-fav-skill-wrapper">
										  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
										  <div class="sheet-block-a">
											<span style="color:gray"></span> 
										   </div>
										  <div class="sheet-block-b">
											 <span style="color:orange"></span> 
										  </div>
										</div>									
										<input name="attr_skill" class="sheet-text_input sheet-skillName" type="text">
										<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
										<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
										<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button     name="roll_mnp-skillroll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
										<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">
										<div class="sheet-exp-toggle1">
											<input name="attr_expCheck" type="checkbox">							
										</div>	
										
									</fieldset>
									<br>	
									<div class="sheet-skill_category" data-i18n="Perception">Perception</div>
									<div style="margin-left: 51px; display: inline-block;">
										<span data-i18n="Modifier"><b>Modifier</b></span>
										<input name="attr_perception_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button    name="roll_prc-exp"  type="roll" value="&{template:expRoll} {{skill=Perception Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{perception_mod}]]}}"></button>
									</div>
									
									<fieldset class="repeating_perceptionskills">
										<div class="sheet-fav-skill-wrapper">
										  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
										  <div class="sheet-block-a">
											<span style="color:gray"></span> 
										   </div>
										  <div class="sheet-block-b">
											 <span style="color:orange"></span> 
										  </div>
										</div>									
										<input name="attr_skill" class="sheet-text_input sheet-skillName" type="text">
										<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
										<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
										<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button     name="roll_prc-skillRoll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}}  {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
										<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">
										<div class="sheet-exp-toggle1">									
											<input name="attr_expCheck" type="checkbox">
										</div>	
									</fieldset>
									<br>
									<div class="sheet-skill_category" data-i18n="Stealth">Stealth</div>
									<div style="margin-left: 72px; display: inline-block;">
										<span data-i18n="Modifier"><b>Modifier</b></span>
										<input name="attr_stealth_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button    name="roll_stlth-exp"  type="roll" value="&{template:expRoll} {{skill=Stealth Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{stealth_mod}]]}}"></button>
									</div>
									
									<fieldset class="repeating_stealthskills">
										<div class="sheet-fav-skill-wrapper">
										  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
										  <div class="sheet-block-a">
											<span style="color:gray"></span> 
										   </div>
										  <div class="sheet-block-b">
											 <span style="color:orange"></span> 
										  </div>
										</div>									
										<input name="attr_skill" class="sheet-text_input sheet-skillName" type="text">
										<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
										<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
										<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button   name="roll_stlth-skillroll"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
										<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">									
										<div class="sheet-exp-toggle1">																		
											<input name="attr_expCheck" type="checkbox">
										</div>
									</fieldset>
									<br>							
									
							</div><!--- end 2nd col -->	
								<div class="sheet-col" style="margin-right: 10px;">
										<div class="sheet-skill_category" data-i18n="Melee-Weapons">Melee Weapons</div>
										<div style="margin-left: 17px; display: inline-block;">
											<span data-i18n="Modifier"><b>Modifier</b></span>
											<input name="attr_manipulation_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button     name="roll_meleewpn-exp" type="roll" value="&{template:expRoll} {{skill=Melee Weapon Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"></button>
										</div>
										
										<fieldset class="repeating_meleeskills">
											<div class="sheet-fav-skill-wrapper">
											  <input type="checkbox"  name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
											  <div class="sheet-block-a">
												<span style="color:gray"></span> 
											   </div>
											  <div class="sheet-block-b">
												 <span style="color:orange"></span> 
											  </div>
											</div>										
											<input name="attr_skill" list="meleeWeapons" class="sheet-text_input sheet-skillName" type="text">
											<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
											<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
											<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_meleewpn-skillroll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
											<input name="attr_expCheck" type="checkbox">							
										</fieldset>
										<br>
										<div class="sheet-skill_category" data-i18n="Missile-Weapons">Missile Weapons</div>
										<div style="margin-left: 13px; display: inline-block;">
											<span data-i18n="Modifier"><b>Modifier</b></span>
											<input name="attr_manipulation_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_mslwpn-exp" type="roll" value="&{template:expRoll} {{skill=Missle Weapon Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"></button>
										</div>
										
										<fieldset class="repeating_missileskills">
											<div class="sheet-fav-skill-wrapper">
											  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
											  <div class="sheet-block-a">
												<span style="color:gray"></span> 
											   </div>
											  <div class="sheet-block-b">
												 <span style="color:orange"></span> 
											  </div>
											</div>										
											<input name="attr_skill" list="missleWeapons" class="sheet-text_input sheet-skillName" type="text">
											<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
											<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
											<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_mslwpn-skillroll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
											<input name="attr_expCheck" type="checkbox">
										</fieldset>
										<br>
										<div class="sheet-skill_category" data-i18n="Shields">Shields</div>
										<div style="margin-left: 71px; display: inline-block;">
											<span data-i18n="Modifier"><b>Modifier</b></span>
											<input name="attr_manipulation_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_shld-exp"  type="roll" value="&{template:expRoll} {{skill=Shield Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"></button>
										</div>
										
										<fieldset class="repeating_shieldskills">
											<div class="sheet-fav-skill-wrapper">
											  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
											  <div class="sheet-block-a">
												<span style="color:gray"></span> 
											   </div>
											  <div class="sheet-block-b">
												 <span style="color:orange"></span> 
											  </div>
											</div>										
											<input name="attr_skill" list="shields" class="sheet-text_input sheet-skillName" type="text">
											<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
											<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
											<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button   name="roll_shld-skillroll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
											<input name="attr_expCheck" type="checkbox">

										</fieldset>
										<br>
										<div class="sheet-skill_category" data-i18n="Natural-Weapons">Natural Weapons</div>
										<div style="margin-left: 6px; display: inline-block;">
											<span data-i18n="Modifier"><b>Modifier</b></span>
											<input name="attr_manipulation_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button   name="roll_natwpn-exp" type="roll" value="&{template:expRoll} {{skill=Natural Weapon Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{manipulation_mod}]]}}"></button>
											<input name="attr_expCheck" type="checkbox">

										</div>
										
										<fieldset class="repeating_naturalwpnskills">
											<div class="sheet-fav-skill-wrapper">
											  <input type="checkbox" name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
											  <div class="sheet-block-a">
												<span style="color:gray"></span> 
											   </div>
											  <div class="sheet-block-b">
												 <span style="color:orange"></span> 
											  </div>
											</div>										
											<input name="attr_skill" list="naturalWeapons" class="sheet-text_input sheet-skillName" type="text">
											<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
											<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
											<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_natwpn-skillroll"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
											<input name="attr_expCheck" type="checkbox">
										</fieldset>
										<br>
								</div>										
						</div>
					
						<br>
						<hr class="sheet-hr">
						<div class="sheet-skill_category" data-i18n="Addtional Magic">Addtional Magic</div>
						<textarea name="attr_add_magic" style="width: 95%; min-height: 100px;"></textarea>
						<br>

						<div class="sheet-skill_category" data-i18n="Equipment">Equipment</div>				
						<div style="margin-left: 13px;">
			
							<p style="font-weight: bold; display: inline-block;">Carried</p>
							<p style="width: 68%; font-weight: bold; margin-left: 13px; display: inline-block;">Item</p>
							<p style="width: 2%; text-align: center; font-weight: bold; display: inline-block;">Wt.</p>
							<p title="Move Quietly Modifier" style="width: 13%; text-align: center; font-weight: bold; display: inline-block;">-MQ</p>
							
							<fieldset class="repeating_equipment2" style="margin-top: -20px;">
								<input name="attr_carried" style="margin-left: 17px;" type="checkbox" value="1">
								<input name="attr_equipment_type" class="sheet-text_input sheet-eqpText" style="width: 60%; margin-left: 27px;" type="text">
								<input name="attr_equipment_weight" class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" value="0">
								<input name="attr_mq_mod" title="Move Quietly Mod." class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" value="0">
							</fieldset>	
							<br>
							<span class="sheet-coins" data-i18n="Wheels (W)"><b>Wheels (W)</b></span><input name="attr_wheels" class="sheet-text_input sheet-char_inputs sheet-coins" type="text" value="0">
							<span class="sheet-coins" data-i18n="Lunars (L)"><b>Lunars (L)</b></span><input name="attr_lunars" class="sheet-text_input sheet-char_inputs sheet-coins" type="text" value="0">						
							<span class="sheet-coins" data-i18n="Clacks (C)"><b>Clacks (C)</b></span><input name="attr_clacks" class="sheet-text_input sheet-char_inputs sheet-coins" type="text" value="0">												
							<span class="sheet-coins" data-i18n="Bolgs (B)"><b>Bolgs (B)</b></span><input name="attr_bolgs" class="sheet-text_input sheet-char_inputs sheet-coins" type="text" value="0">							
							<span class="sheet-coins" data-i18n="Goods (L)"><b>Goods (L)</b></span><input name="attr_goods" class="sheet-text_input sheet-char_inputs sheet-goods" type="text" value="0">							
							<br>
							<br>						
							<span data-i18n="Max Enc">Max Enc</span>
							<input name="attr_carry_max2" class="sheet-text_input sheet-char_inputs sheet-percentiles" type="text" value="0">
							<span style="margin-left: 8px;" data-i18n="Total Enc">Total Enc</span>								
							<input name="attr_carry_total2" class="sheet-text_input sheet-char_inputs" style="width: 45px;" type="text" value="0">
								
								
							</div>
							

						</div>					
						
					</div>
				</div><!-- end of first 2 col	-->
			</div><!---- End of Tab -->
			<div class="sheet-tab-contenta sheet-tab3a"><!--- Tab 3 start -->
				<div class="sheet-header2" style="text-align: center;" data-i18n="Magic">Magic</div>
				<!--- Runes  Start --->
				<div class="sheet-3colrow"><!-- Runes  -->
					<div class="sheet-col" style="margin-right: 0px; position: relative;width:246px;"><!--Other Runes Start-->
						<div class="sheet-rune-labelPower sheet-runeHeader1-label"><span  data-i18n="MAGIC">MAGIC</span></div>
						<div class="sheet-rune-labelRuneAffinities2 sheet-runeHeader2-label"><span  data-i18n="SKILLS">SKILLS</span></div>
						<div style="position:relative;top: 23px;left: 0px;">
							<div class="sheet-skill_category" data-i18n="Magic">Magic</div>
							<div style="margin-left: 70px; display: inline-block;">
								<span data-i18n="Modifier"><b>Modifier</b></span>
								<input name="attr_magic_mod" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button  name="roll_mgc-exp" type="roll" value="&{template:expRoll} {{skill=Magic Skill }} {{value=[[(?{Skill Value|0})+1]]}} {{name=@{character_name}}}  {{roll=[[1d100+@{magic_mod}]]}}"></button>
							</div>
							
							<fieldset class="repeating_magicskills">
								<div class="sheet-fav-skill-wrapper">
								  <input type="checkbox"  name="attr_fav-skill" class="sheet-fav-skill-sele sheet-block-switch">
								  <div class="sheet-block-a">
									<span style="color:gray"></span> 
								   </div>
								  <div class="sheet-block-b">
									 <span style="color:orange"></span> 
								  </div>
								</div>								
								<input name="attr_skill" class="sheet-text_input sheet-skillName" style="width:100px;" type="text">
								<input name="attr_base" class="sheet-text_input sheet-skill_values2" type="text" value="0">
								<input name="attr_base2" class="sheet-text_input sheet-skill_values2" style="display: none;" type="text" value="0">
								<input name="attr_skillValue" class="sheet-text_input sheet-skill_values2" type="text" value="0"><input name="attr_skillTotal" class="sheet-text_input sheet-skill_values2" type="text" readonly="" value="0"><button   type="roll"   name="roll_mgc-skillroll"  value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{skillTotal})]]}} {{fumble=[[{(101-(round((100-(@{skillTotal}+@{skill_mod}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{skillTotal}+@{skill_mod})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{skillTotal}+@{skill_mod})]])/5)+1]]}}    {{success=[[(@{skillTotal}+@{skill_mod})]]}} {{roll=[[1d100]]}} {{skillname=@{skill}}}"></button>
								<input name="attr_sp_toggle1" class="sheet-check-toggle1" style="display: none;" type="checkbox" checked="">
								<div class="sheet-exp-toggle1">									
									<input name="attr_expCheck" type="checkbox">							
								</div>	
							</fieldset>
				</div>			
					</div><!--Other Runes End-->
					<div class="sheet-col" style="position: relative;width:280px;margin-right:0px;"><!--Other  Runes End-->
						<div class="sheet-rune-labelElemental sheet-runeHeader1-label"><span  data-i18n="ELEMENTAL">ELEMENTAL</span></div>
						<div class="sheet-rune-labelRuneAffinities1 sheet-runeHeader2-label"><span  data-i18n="RUNE-AFFINITIES">RUNE AFFINITIES</span></div>
						<div class="sheet-rune-labelAir sheet-rune-label"><span  data-i18n="Air">Air</span></div>
						<div class="sheet-rune-labelFire sheet-rune-label"><span  data-i18n="Fire">Fire</span></div>
						<div class="sheet-rune-labelDarkness sheet-rune-label"><span  data-i18n="Darkness">Darkness</span></div>
						<div class="sheet-rune-labelMoon sheet-rune-label"><span  data-i18n="Moon">Moon</span></div>
						<div class="sheet-rune-labelWater sheet-rune-label"><span  data-i18n="Water">Water</span></div>					
						<div class="sheet-rune-labelEarth sheet-rune-label"><span  data-i18n="Earth">Earth</span></div>					
						<img class="sheet-elemental-image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/Elemental1.png">
						<!--<img class="sheet-elemental-image" src="https://raw.githubusercontent.com/Lockbox313/imagedump/master/RuneQuest/Elemental1.png">-->
															
						<div class="sheet-air-image">
							<button name="roll_AirRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{air_rune}]]}} {{fumble=[[{(101-(round((100-(@{air_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[{round((@{air_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{air_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{air_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Air Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/air rune.jpg"></button>
						</div>
						
						<div class="sheet-fire-image">
							<button  name="roll_FireRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{fire_rune}]]}} {{fumble=[[{(101-(round((100-(@{fire_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[{round((@{fire_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{fire_rune}+?{Mods|0})/5)+1,2}]]}}         {{success=[[@{fire_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fire Rune}}  "  class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/fire rune.png"></button>
						</div>
										
						<div class="sheet-dark-image">
							<button  name="roll_DarkRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{dark_rune}]]}} {{fumble=[[{(101-(round((100-(@{dark_rune}+?{Mods|0}))/20))),100}kl1]]}}  {{crit=[[{round((@{dark_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{dark_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{dark_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dark Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/darkness rune.png"></button>
						</div>				

						<div class="sheet-water-image">
							<button  name="roll_WaterRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{water_rune}]]}} {{fumble=[[{(101-(round((100-(@{water_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{water_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{water_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{water_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Water Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/water rune.png"></button>
						</div>	

						<div class="sheet-earth-image">
							<button  name="roll_EarthRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{earth_rune}]]}} {{fumble=[[{(101-(round((100-(@{earth_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{earth_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{earth_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{earth_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Earth Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/earth rune.png"></button>
						</div>	


						<div class="sheet-moon-image">
							<button  name="roll_MoonRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{moon_rune}]]}} {{fumble=[[{(101-(round((100-(@{moon_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{moon_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{moon_rune}+?{Mods|0})/5)+1]]}} {{success=[[@{moon_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Moon Rune}}  " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/moon rune.png"></button>
						</div>					
						
						<input name="attr_dark_rune" class="sheet-rune_input sheet-dark-value" type="text" value="0">
						<input name="attr_dark-runeExp" class="sheet-dark-check" type="checkbox" value="1">		

						
						<input name="attr_air_rune" class="sheet-rune_input sheet-air-value" type="text" value="0">
						<input name="attr_air-runeExp" class="sheet-air-check" type="checkbox" value="1">
						
						<input name="attr_moon_rune" class="sheet-rune_input sheet-moon-value" type="text" value="0">
						<input name="attr_moon-runeExp" class="sheet-moon-check" type="checkbox" value="1">				
							
						<input name="attr_fire_rune" class="sheet-rune_input sheet-fire-value" type="text" value="0">
						<input name="attr_fire-runeExp" class="sheet-fire-check" type="checkbox" value="1">				
						
						<input name="attr_water_rune" class="sheet-rune_input sheet-water-value" type="text" value="0">
						<input name="attr_water-runeExp" class="sheet-water-check" type="checkbox" value="1">				
										
						<input name="attr_earth_rune" class="sheet-rune_input sheet-earth-value" type="text" value="0">
						<input name="attr_earth-runeExp" class="sheet-earth-check" type="checkbox" value="1">				
						
					</div><!--Elemental RuneS-->			
					<div class="sheet-col sheet-powerRunes" style="position: relative;width:266px;margin-right:0px;"><!--Power Runes-->
						<div class="sheet-rune-labelPower sheet-runeHeader1-label"><span  data-i18n="POWER">POWER</span></div>
						<div class="sheet-rune-labelRuneAffinities2 sheet-runeHeader2-label"><span  data-i18n="RUNE-AFFINITIES">RUNE AFFINITIES</span></div>
						
						<div class="sheet-rune-labelMan sheet-rune-label"><span  data-i18n="MAN">MAN</span></div>

						
						<div class="sheet-rune-labelFertility sheet-rune-label"><span  data-i18n="FERTILITY">FERTILITY</span></div>
						<div class="sheet-rune-labelHarmony sheet-rune-label"><span  data-i18n="HARMONY">HARMONY</span></div>
						<div class="sheet-rune-labelTruth sheet-rune-label"><span  data-i18n="TRUTH">TRUTH</span></div>
						<div class="sheet-rune-labelStasis sheet-rune-label"><span  data-i18n="STASIS">STASIS</span></div>

						<div class="sheet-rune-labelDeath sheet-rune-label"><span  data-i18n="DEATH">DEATH</span></div>
						<div class="sheet-rune-labelDisorder sheet-rune-label"><span  data-i18n="DISORDER">DISORDER</span></div>
						<div class="sheet-rune-labelIllusion sheet-rune-label"><span  data-i18n="ILLUSION">ILLUSION</span></div>
						<div class="sheet-rune-labelMovement sheet-rune-label"><span  data-i18n="MOVEMENT">MOVEMENT</span></div>

						<div class="sheet-rune-labelBeast sheet-rune-label"><span  data-i18n="BEAST">BEAST</span></div>					

						<!--<img class="sheet-power-image" src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/new_power4.jpg">-->	


						<div class="sheet-manR-image">
							<button name="roll_ManRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{man_rune}]]}} {{fumble=[[{(101-(round((100-(@{man_rune}+?{Mods|0}))/20))),100}kl1]]}}{{crit=[[{round((@{man_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{man_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{man_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Man Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/man rune new.png"></button>
						</div>
						
						<div class="sheet-fertility-image">
							<button  name="roll_FrtltyRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{fertility_rune}]]}} {{fumble=[[{(101-(round((100-(@{fertility_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{fertility_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{fertility_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{fertility_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fertility Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/fertility rune new.png"></button>
						</div>
										

						<div class="sheet-harmony-image">
							<button  name="roll_HrmnyRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{harmony_rune}]]}} {{fumble=[[{(101-(round((100-(@{harmony_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{harmony_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{harmony_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{harmony_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Harmony Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/harmony rune new.png"></button>
						</div>								
										
						<div class="sheet-truth-image">
							<button  name="roll_TrthRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{truth_rune}]]}} {{fumble=[[{(101-(round((100-(@{truth_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{truth_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{truth_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{truth_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Truth Rune}}" class="sheet-rune_roll" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/truth rune new.png"></button>
						</div>								
										
						<div class="sheet-stasis-image">
							<button  name="roll_StasisRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{stasis_rune}]]}} {{fumble=[[{(101-(round((100-(@{stasis_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{stasis_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{stasis_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{stasis_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Stasis Rune}}" class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/stasis rune new.png"></button>
						</div>								
										
						<div class="sheet-death-image">
							<button  name="roll_DeathRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{death_rune}]]}} {{fumble=[[{(101-(round((100-(@{death_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{death_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{death_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{death_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Death Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/death rune new.png"></button>
						</div>																
										
						<div class="sheet-disorder-image">
							<button  name="roll_DsrdrRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{disorder_rune}]]}} {{fumble=[[{(101-(round((100-(@{disorder_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{disorder_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{disorder_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{disorder_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Disorder Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/disorder rune new.png"></button>
						</div>																
										
						<div class="sheet-illusion-image">
							<button  name="roll_IsslnRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{illusion_rune}]]}} {{fumble=[[{(101-(round((100-(@{illusion_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{illusion_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{illusion_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{illusion_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Illusion Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/illusion rune new.png"></button>
						</div>								

						<div class="sheet-movement-image">
							<button   name="roll_MoveRune"  name="roll_MvmtRune" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{movement_rune}]]}} {{fumble=[[{(101-(round((100-(@{movement_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{movement_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{disorder_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{movement_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Move Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/movement rune new.png"></button>
						</div>												
						
						
						<div class="sheet-beast-image">
							<button  name="roll_beastRune"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{beast_rune}]]}} {{fumble=[[{(101-(round((100-(@{beast_rune}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{beast_rune}+?{Mods|0})/20)+1,2}kh1]]}} {{special=[[round((@{beast_rune}+?{Mods|0})/5)+1]]}}         {{success=[[@{beast_rune}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Beast Rune}} " class="sheet-rune_roll"><img src="https://raw.githubusercontent.com/Lockbox313/roll20-character-sheets/RunequestG/RunequestGQS/beast rune new.png"></button>
						</div>				
										
						<input name="attr_man_rune" class="sheet-rune_input sheet-man-value" type="text" value="0">
						<input name="attr_man-runeExp" class="sheet-man-check" type="checkbox" value="1">	
						
						<input name="attr_fertility_rune" class="sheet-rune_input sheet-fertility-value" type="text" value="0">
						<input name="attr_fertility-runeExp" class="sheet-fertility-check" type="checkbox" value="1">		
						
						<input name="attr_harmony_rune" class="sheet-rune_input sheet-harmony-value" type="text" value="0">
						<input name="attr_harmony-runeExp" class="sheet-harmony-check" type="checkbox" value="1">		
						
						<input name="attr_truth_rune" class="sheet-rune_input sheet-truth-value" type="text" value="0">
						<input name="attr_truth-runeExp" class="sheet-truth-check" type="checkbox" value="1">		
					
						<input name="attr_stasis_rune" class="sheet-rune_input sheet-stasis-value" type="text" value="0">
						<input name="attr_stasis-runeExp" class="sheet-stasis-check" type="checkbox" value="1">		
						
						<input name="attr_death_rune" class="sheet-rune_input sheet-death-value" type="text" value="0">
						<input name="attr_death-runeExp" class="sheet-death-check" type="checkbox" value="1">		
						
						<input name="attr_disorder_rune" class="sheet-rune_input sheet-disorder-value" type="text" value="0">
						<input name="attr_disorder-runeExp" class="sheet-disorder-check" type="checkbox" value="1">		
						
						<input name="attr_illusion_rune" class="sheet-rune_input sheet-illusion-value" type="text" value="0">
						<input name="attr_illusion-runeExp" class="sheet-illusion-check" type="checkbox" value="1">		

						<input name="attr_movement_rune" class="sheet-rune_input sheet-movement-value" type="text" value="0">
						<input name="attr_movement-runeExp" class="sheet-movement-check" type="checkbox" value="1">	

						<input name="attr_death_rune" class="sheet-rune_input sheet-movement-value" type="text" value="0">
						<input name="attr_movement-runeExp" class="sheet-movement-check" type="checkbox" value="1">	

						<input name="attr_movement_rune" class="sheet-rune_input sheet-movement-value" type="text" value="0">
						<input name="attr_movement-runeExp" class="sheet-movement-check" type="checkbox" value="1">	
						
						
						<input name="attr_beast_rune" class="sheet-rune_input sheet-beast-value" type="text" value="0">
						<input name="attr_beast-runeExp" class="sheet-beast-check" type="checkbox" value="1">	
						
					
					</div><!--Power Runes-->	

				</div>				
				<!--- Runes End  -->
				<br>
				<hr class="sheet-hr">
				<div class="sheet-cults-mp-storage">
					<div><!--- Cults Start---->

							<div class="sheet-header" data-i18n="Cults">Cults</div>
							<fieldset class="repeating_cults3">
								<div class="sheet-info">
									<div class="sheet-input_label" data-i18n="Cult">Cult</div><input name="attr_cult" class="sheet-text_input" style="width: 223px;" type="text">
									<div class="sheet-input_label" data-i18n="Rank">Rank</div><input name="attr_rank" class="sheet-text_input" style="width: 107px;" type="text">
									<div class="sheet-input_label" data-i18n="Rune-Pts">Rune Pts</div><input name="attr_rune_pts" class="sheet-text_input" style="width: 24px;" type="text" value="0">/<input name="attr_cur_rune_pts" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
								</div>
								<div>
									<div class="sheet-input_label" data-i18n="Sub--or-Assoc.-Cults">Sub- or Assoc. Cults</div><input name="attr_assoc_cults" style="width:337px;;" class="sheet-text_input" type="text"><input name="attr_is_cult-notes" class="sheet-Hidecult-notes" type="checkbox" checked="checked"><span class="sheet-is-cult-notes" ><span style='font-family:pictos;'></span></span>
								<div class="sheet-cult-notes">
										<textarea  name="attr_cult-notes"></textarea>
								</div>									
								</div>
							</fieldset>
							<br>					
					</div><!-- Cults End --> 
					<div><!--- MP Storage start---->
							<div class="sheet-header" data-i18n="Magic-Points-&-Storage">Magic Points & Storage</div>	
							<div class="sheet-melee_wpns_labels">
								   <div style="margin-left: 3px;" data-i18n="Location">Location</div>
								   <div style="margin-left: 170px;" data-i18n="Max-">Max.</div>
								   <div style="margin-left: 0px;" data-i18n="Cur-">Cur.</div>
							</div>						
							<div>
								<span data-i18n="Personal">Personal</span>
								<input name="attr_curpow" class="sheet-text_input sheet-percentiles" style="width: 24px; margin-left: 166px;" type="text" readonly="" value="0">
								<input name="attr_curmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
							</div>
							<fieldset class="repeating_mpStorage">
								<!--<input  style="width:302px" type="text"  class="sheet-text_input" name="attr_mp_location"/>-->
								<input name="attr_mpLOC" class="sheet-text_input" style="width: 220px;" type="text">
								<input name="attr_maxmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
								<input name="attr_curmp" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
							</fieldset>					
					</div><!-- MP Storage End--> 
					
				</div>			
				<br>
				<hr class="sheet-hr">
				<div class="sheet-magtab-spells">
					<div><!--- Rune Spells Start -->
							<input name="attr_showothrunes" class="sheet-showothrunes" style="display: none;" type="checkbox">
							<div class="sheet-othrunes">
								<div class="sheet-header" data-i18n="other-runes">Other Runes</div>
								<div class="sheet-other-rune-grid">
									<div  class="sheet-smllHdrs sheet-name" data-i18n="Rune">Rune</div>
									<div  class="sheet-smllHdrs" data-i18n="%">%</div>
									<div></div>
									<div></div>
								</div>
								<fieldset class="repeating_other-runes">
									<div class="sheet-other-rune-grid">

										<div><input type="text" name="attr_other-rune"  class="sheet-text_input"></div>
										<div><input type="text" name="attr_other-rune-value"  class="sheet-text_input sheet-pts"></div>
										<div>
											<button  name="roll_Honor" title="No Modifier"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{type=P}} {{skillvalue=[[(@{other-rune-value})]]}} {{fumble=[[{(101-(round((100-(@{other-rune-value}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{other-rune-value})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{other-rune-value})]])/5)+1]]}}    {{success=[[(@{other-rune-value})]]}} {{roll=[[1d100]]}} {{skillname=@{other-rune} Rune}}"></button>
										</div>
										<div>
											<button  name="roll_HonorMod" title="With Modifier"   class="sheet-new_roll"    type="roll" value="&{template:skillRoll} {{type=P}} {{name=@{character_name}}} {{skillvalue=[[@{other-rune-value}]]}} {{fumble=[[{(101-(round((100-(@{other-rune-value}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{other-rune-value}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{other-rune-value}+?{Mods|0})/5)+1]]}}    {{success=[[@{other-rune-value}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{other-rune} Rune}}"></button>
										</div>	
									</div>
								</fieldset>
								<br>
							</div>
								<div class="sheet-sorc-to">
									<div class="sheet-header" style="display: inline-block;" data-i18n="Rune Magic">Rune Magic</div>
									<div><button type="roll" name="roll_TrnOrdr" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="&{template:turnOrder} {{name=@{character_name}}} {{weapon=Rune Spell}} {{sr=[[?{SR|1} &{tracker}]]}} {{sr2=?{SR|1}}} " ></button></div>
								</div>							
							<br>
							<div class="sheet-runeMagicGrid2">
								<div  class="sheet-smllHdrs sheet-name" data-i18n="Spell">Spell</div>
								<div  class="sheet-smllHdrs" data-i18n="Pts">Pts.</div>
								<div  class="sheet-smllHdrs" data-i18n="Duration">Duration</div>
								<div  class="sheet-smllHdrs" data-i18n="Range">Range</div>
								<div  class="sheet-smllHdrs"  data-i18n="Stack">Stack</div>
								<div  class="sheet-smllHdrs"  data-i18n="1 Use">1 Use</div>
								<div></div>
							</div>
							<fieldset class="repeating_runeMagic">
								<div class="sheet-runeMagicGrid2">
									<div><input type="text" name="attr_spellName"  class="sheet-text_input sheet-skillName"></div>
									<div ><input type="text" name="attr_spellPts"  class="sheet-text_input pts"></div>
									
									<div>					
										<select  name="attr_duration">
											<option  data-i18n="Instant" >Instnt</option>
											<option  data-i18n="Ritual" >Rtul</option>
											<option  data-i18n="Permanent" >Prmnt</option>
											<option  data-i18n="spcl">Spcl</option>											
											<option  data-i18n="Temporal" selected>Tmprl</option>
										</select>
									</div>
									<div>
										<select  name="attr_ranged">
											<option selected  data-i18n="Ranged" selected>Ranged</option>
											<option  data-i18n="Self" >Self</option>
											<option  data-i18n="Touch" >Touch</option>
										</select>
									</div>
									<div class="sheet-chkbox" ><input type="checkbox" name="attr_stackable"  ></div>
									<div class="sheet-chkbox"><input  type="checkbox" name="attr_oneUse" ></div>
									<div>
										<input name="attr_is_rune-spell-desc" style="width:10px" class="sheet-Hiderune-spell-desc" type="checkbox" checked="checked">
										<span  class="sheet-is-rune-spell-desc sheet-spell-drp-dwn"></span>
									</div>
									
								</div>
								<input name="attr_is_rune-spell-desc" style="display:none" class="sheet-Hiderune-spell-desc" type="checkbox" checked="checked">
								<div class="sheet-rune-spell-desc">
									<textarea  name="attr_rune-spell-desc">Rune: 
</textarea>
								</div>	
							</fieldset>
							<br>
							<textarea name="attr_rune_magic" class="sheet-magic_notes"></textarea> 
							<br>
							<div class="sheet-header" data-i18n="Magic-Notes">Magic Notes</div>	
							<textarea name="attr_magic_notes" style="min-height: 200px;width:95%;"></textarea> 							

							<!-- <textarea name="attr_rune_magic" class="sheet-magic_notes"></textarea>--> 						
					</div><!--- Rune Spells End--> 	
					<div><!--- Spirt & Sorcerry Start -->
						<div class="sheet-header" data-i18n="Spirit-Combat">Spirit Combat</div>
						<div>
							<div class="sheet-input_label" data-i18n="Spirit-Combat">Spirit Combat</div>
							<input name="attr_spirit_combat" class="sheet-text_input" style="width: 24px; margin-right: 5px;" type="text" readonly="" value="0"><button name="roll_SprtCmbt"  title="No Modifier"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{spirit_combat})]]}} {{fumble=[[{(101-(round((100-(@{spirit_combat}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{spirit_combat})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{spirit_combat})]])/5)+1]]}}    {{success=[[(@{spirit_combat})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}">
							</button><button   name="roll_SprtCmbtMod"   title="With Modifier"   class="sheet-new_roll"    style="margin-right: 5px;" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spirit_combat}]]}} {{fumble=[[{(101-(round((100-(@{spirit_combat}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{spirit_combat}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{spirit_combat}+?{Mods|0})/5)+1]]}}    {{success=[[@{spirit_combat}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"></button><div style="padding-left:5px;" class="sheet-input_label" data-i18n="Damage">Damage</div><input name="attr_sprt_cmbt_damage" class="sheet-text_input" style="width: 56px;" type="text" readonly="" value="">+<input name="attr_sprt_cmbtDB" data-i18n-title="Spirit-Combat-Damage-Modifier" title="Spirit Combat Damage Modifier" class="sheet-text_input" style="width: 23px;text-align:center" value="0" type="text" value=""><button name="roll_SprtCmbtDmg" type="roll" value="&{template:damageRoll2} {{name=@{character_name}}} {{skillname=^{Spirit-Combat} }} {{roll=[[@{sprt_cmbt_damage}+@{sprt_cmbtDB}]]}}"></button><button name="roll_pow-resist-roll" title="Resistance"  class="sheet-new_roll3"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curpow}-?{Passive|10})*5)+50]]}} {{fumble=[[{(101-(round((100-(((@{curpow}-?{Passive|10})*5)+50))/20))),100}kl1]]}} {{crit=[[{round(([[(((@{curpow}-?{Passive|10})*5)+50)]])/20)+1,2}kh1]]}} {{special=[[round(([[(((@{curpow}-?{Passive|10})*5)+50)]])/5)+1]]}} {{success=[[((@{curpow}-?{Passive|10})*5)+50]]}} {{roll=[[1d100]]}} {{skillname=POW Resistance}}"><span  data-i18n="vs"></span> </button>
						</div>
						<br>
						<div class="sheet-header" data-i18n="Spirit-Magic">Spirit Magic</div>
						<div style="margin-left: 167px; display: inline-block;">
							<div class="sheet-input_label" data-i18n="CHA Limit">CHA Limit</div>&nbsp;
							<input name="attr_curchr" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" readonly="" value="0">&nbsp;<div class="sheet-input_label" data-i18n="Cast">Cast</div>

							 <button title="Pow x5"   name="roll_SprtCast"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[{(101-(round((100-(@{curpow}*5))/20))),100}kl1]]}} {{crit=[[{round(([[(@{curpow}*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}"></button><button   title="Pow x5 -?"  class="sheet-new_roll"     name="roll_SprtCastMod"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[((@{curpow}*5))+?{Mod.|0}]]}} {{fumble=[[{(101-(round((100-((@{curpow}*5)+?{Mod.|0}))/20))),100}kl1]]}} {{crit=[[{round(([[((@{curpow}*5)+?{Mod.|0})]])/20)+1,2}kh1]]}} {{special=[[round(([[((@{curpow}*5)+?{Mod.|0})]])/5)+1]]}}         {{success=[[((@{curpow}*5)+?{Mod.|0})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}"></button> 
						</div>	
						<br>
						<br>
						<div class="sheet-spirtMagicGrid2">
							<div  class="sheet-smllHdrs sheet-name" data-i18n="Spell">Spell</div>
							<div  class="sheet-smllHdrs" data-i18n="Pts">Pts.</div>
							<div></div>
							<div  class="sheet-smllHdrs" data-i18n="Duration">Duration</div>
							<div  class="sheet-smllHdrs" data-i18n="Range">Range</div>
							<div  class="sheet-smllHdrs"  data-i18n="Active">Active</div>
							<div></div>						
						</div>
						<fieldset class="repeating_spiritMagic">
							<div class="sheet-spirtMagicGrid2">
								<div><input type="text" name="attr_spellName"  class="sheet-text_input sheet-skillName"></div>
								<div ><input type="text" name="attr_spellPts"  class="sheet-text_input sheet-pts"></div>
					
								<div><button type="roll" name="roll_TrnOrdr" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="&{template:turnOrder} {{name=@{character_name}}} {{weapon=@{spellName}}} {{sr=[[?{SR|@{spellPts2}} &{tracker}]]}} {{sr2=[[?{SR|@{spellPts2}}]]}}" ></button></div>								
								<div>					
									<select  name="attr_duration">
										<option  data-i18n="Instant" >Instnt</option>
										<option  data-i18n="Rtul">Rtul</option>
										<option  data-i18n="Spcl">Spcl</option>
										<option selected data-i18n="Temporal">Tmprl</option>
									</select>
								</div>
								<div>
									<select  name="attr_ranged">
										<option selected  data-i18n="Ranged" >Ranged</option>
										<option  data-i18n="Self" >Self</option>										
										<option  data-i18n="Touch" >Touch</option>
									</select>
								</div>
								<div>
									<select  name="attr_active">
										<option data-i18n="Active" >Active</option>
										<option selected data-i18n="Passive" >Passive</option>
									</select>
								</div>
								<div>
									<input name="attr_is_rune-spell-desc" style="width:10px" class="sheet-Hiderune-spell-desc" type="checkbox" checked="checked">
									<span  class="sheet-is-rune-spell-desc sheet-spell-drp-dwn" ></span>
								</div>								
							</div>
							<input type="text" name="attr_spellPts2"  style="display:none">
							<input name="attr_is_rune-spell-desc" style="display:none" class="sheet-Hiderune-spell-desc" type="checkbox" checked="checked">
								<div class="sheet-rune-spell-desc">
									<textarea  name="attr_spirit-spell-desc">Focus location:  
</textarea>
								</div>
						</fieldset>
						<br>
						<textarea name="attr_spirit_magic" class="sheet-magic_notes"></textarea> 
						<div>
							<div class="sheet-header" data-i18n="Spells-Cast:">Spells Cast:</div>
							<div>
								<span  data-i18n="Coordination">Coordination</span> <input name="attr_coordCast" type="checkbox">&nbsp;<span data-i18n="Glamour" >Glamour</span> <input name="attr_glamourCast" type="checkbox">&nbsp;<span data-i18n="Mobility" >Mobility</span> <input name="attr_mobilCast" type="checkbox">	
							</div>
							<div>
								<span data-i18n="Strength" >Strength</span> <input name="attr_strengthCast" type="checkbox">
								<span data-i18n="Vigor" >Vigor</span> <input name="attr_vigorCast" type="checkbox">
							</div>
						</div>
						<br>	
							<input name="attr_showsorcery" class="sheet-showsorcery" style="display: none;" type="checkbox" checked="checked">
							<div class="sheet-sorcery">
								<div class="sheet-sorc-to">
									<div class="sheet-header" data-i18n="Sorcery-Spells">Sorcery Spells</div>
									<div><button type="roll" name="roll_TrnOrdr" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="&{template:turnOrder} {{name=@{character_name}}} {{weapon=Sorcery Spell}} {{sr=[[?{SR|@{dex_srm}+0} &{tracker}]]}} {{sr2=[[?{SR|@{dex_srm}+0}]]}} " ></button></div>
								</div>
								
									
								<div class="sheet-sorceryMagicGrid2">
									<div  class="sheet-smllHdrs sheet-name" data-i18n="Spell">Spell</div>
									<div  class="sheet-smllHdrs sheet-name" data-i18n="Pts">Pts</div>
									<!--<div></div>-->
									<!--<div  class="sheet-smllHdrs" data-i18n="%">%</div>-->
									<div  class="sheet-smllHdrs" data-i18n="Duration">Duration</div>
									<div  class="sheet-smllHdrs" data-i18n="Range">Range</div>
									<div  class="sheet-smllHdrs"  data-i18n="Active">Active</div>
									<!--<div></div>-->
								</div>
								<fieldset class="repeating_sorceryMagic">
									<div class="sheet-sorceryMagicGrid2">
										<div><input type="text" name="attr_spellName"  class="sheet-text_input sheet-skillName"></div>
										<div><input type="text" name="attr_spellPts"  class="sheet-text_input sheet-skillName"></div>
										<!--<div><button type="roll" name="roll_TrnOrdr" style="padding-top: 0px;" class="sheet-turn_order" title="Add to turn order" value="&{template:turnOrder} {{name=@{character_name}}} {{weapon=@{spellName}} {{sr=[[?{SR|@{spellPts}} &{tracker}]]}} {{sr2=?{SR|@{spellPts}}}} " ></button></div>-->
										<!--<div ><input type="text"  data-i18n-title="scry-skill-title" title="Do not add magic mod"  name="attr_spellSkill"  class="sheet-text_input sheet-pts"></div>-->
										<div>					
											<select  name="attr_duration">
												<option  data-i18n="Instant">Instnt</option>
												<option  data-i18n="Rtul">Rtul</option>
												<option  data-i18n="spcl">Spcl</option>
												<option  data-i18n="Temporal" selected>Tmprl</option>
											</select>
										</div>
										<div>
											<select  name="attr_ranged">
												<option selected  data-i18n="Ranged" >Ranged</option>
												<option  data-i18n="Self" >Self</option>											
												<option  data-i18n="Touch" >Touch</option>
											</select>
										</div>
										<div>
											<select  name="attr_active">
												<option  data-i18n="Active" >Active</option>
												<option  selected data-i18n="Passive" >Passive</option>
											</select>
										</div>
										<!--<div>
											<button type="roll"></button>
										</div>-->
										<div>
											<input name="attr_is_rune-spell-desc" style="width:10px" class="sheet-Hiderune-spell-desc" type="checkbox" checked="checked">
											<span style="width: 20px!important;"  class="sheet-is-rune-spell-desc sheet-spell-drp-dwn"></span>
										</div>	
									</div>
							<input name="attr_is_rune-spell-desc" style="display:none" class="sheet-Hiderune-spell-desc" type="checkbox" checked="checked">
								<div class="sheet-rune-spell-desc">
									<textarea  name="attr_sorcery-spell-desc"> 
</textarea>
								</div>									
								</fieldset>								
								<br>
								<div class="sheet-header" data-i18n="Sorcerous-Runes-and-Techniques">Sorcerous Runes and Techniques</div>
								<div style="margin-left: 266px; display: inline-block;">
									<div class="sheet-input_label" data-i18n="Free-INT">Free INT</div>
									<input name="attr_freeint" class="sheet-text_input sheet-percentiles" style="width: 24px;" type="text" value="0">
									<!--
									 <button type="roll"    value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)]])/20))]]}} {{crit=[[round(([[(@{curpow}*5)]])/20)+1]]}} {{special=[[round(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button><button   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*?{multiplier|5})]]}} {{fumble=[[ceil(95+([[(@{curpow}*?{multiplier|5})]])/20))]]}} {{crit=[[round(([[(@{curpow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{curpow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{curpow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"  ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--> 
								</div>	
								<textarea name="attr_sorcery_magic" class="sheet-magic_notes"></textarea> 
								<br>
							</div>

						
					</div><!--- Spirt & Sorcerry End --> 
				</div>
			</div><!-- end of tab 5 -->			
			<div class="sheet-tab-contenta sheet-tab4a"><!--- Tab 5 start -->
				<div style="text-align: center;">
					<div class="sheet-header2" data-i18n="MOUNT|ELEMENTAL|ALLY">MOUNT|ELEMENTAL|ALLY</div>				
				</div>
				<div class="sheet-header" data-i18n="Mounts/Allies">Mounts/Allies</div>	
				<fieldset class="repeating_mounts">
						<div class="sheet-2colrow">
							<div class="sheet-col" style="margin-left: 4px;">
								<div style="margin-bottom: 5px;">
									<input name="attr_animal1_name" class="sheet-value_display" style="width: 244px;" type="text" value="name and type ">
								</div>
								<div>
									<p class="sheet-spirit_stat">STR</p> <input name="attr_animal1a_str" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">CON</p><input name="attr_animal1a_con" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">SIZ</p><input name="attr_animal1a_siz" class="sheet-value_display2" type="text" value="0">
								</div>
								<div>
									<p class="sheet-spirit_stat">INT</p> <input name="attr_animal1a_int" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">POW</p><input name="attr_animal1a_pow" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">DEX</p><input name="attr_animal1a_dex" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">CHA</p><input name="attr_animal1a_cha" class="sheet-value_display2" type="text" value="0">			
								</div>
								<br>
								<table>
										<tbody><tr>
											<td>HP</td>
											<td>
												<input name="attr_animal1a_hp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_animal1a_hp_cur" class="sheet-value_display2" type="text" value="0">
											</td>	

											<td>Move</td>
											<td>
													<input name="attr_animal1a_move" class="sheet-value_display2" type="text" value="0">
											</td>
											
										</tr>
										<tr>
										</tr>
										<tr>
											<td>MP</td>
											<td>
												<input name="attr_animal1a_mp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_animal1a_mp_cur" class="sheet-value_display2" type="text" value="">
											</td>										<td>DSR</td>
											<td>
											<input name="attr_animal1a_dsr" class="sheet-value_display2" type="text" value="0">
											</td>
										</tr>
										<tr>
											<td>DB</td>
											<td><input name="attr_animal1a_db" class="sheet-value_display2" style="width: 105px;" type="text" value="0"></td>
											<td>MSR</td>
											<td><input name="attr_animal1a_msr" class="sheet-value_display2" type="text" value="0">
											</td>

										</tr>
								</tbody></table>
								<br>
								<br>					
								<div class="sheet-melee_wpns_labels sheet-ally-WpnGrid" style="margin-top: 5px;">
		
								   <!--<label style="width: 98px;" data-i18n="Weapon">Weapon</label>
								   <label style="width: 34px;" data-i18n="SR">SR</label>   
									<label style="width: 74px;" data-i18n="Attk">Attk</label>   
								   <label style="width: 71px;" data-i18n="Damage">Damage</label>-->   
								   
								   <label data-i18n="Weapon">Weapon</label>
								   <label data-i18n="SR">SR</label>   
									<label data-i18n="Attk">Attk</label>   
								   <label  data-i18n="Damage">Damage</label>   							   
									<label  data-i18n="Spcl">Spcl</label>							   					   
								</div>	
								
								<div class="sheet-ally-WpnGrid">
									<input name="attr_wpn_name1a1" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr1a1" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_attk1a1" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_damage1a1" class="sheet-value_display2" type="text" value="0">
									<input name="attr_spcldamage1a1" style="display: none;" type="text">
									<input name="attr_critdamage1a1" style="display: none;" type="text">
									<input name="attr_maxdamage1a1" style="display: none;" type="text">	
									  <select name="attr_wpn_spl1a1" style="width: 43px; margin-bottom: 0px;">
										<option value="0" selected></option>
										<option value="1">I</option>
										<option value="2">S</option>
										<option value="3">C</option>							
									  </select>						  
									<!--<button   type="roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a1}]]}}  {{skillvalue=[[@{wpn_attk1a1}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a1}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a1}]])/5)+1]]}}         {{success=[[@{wpn_attk1a1}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a1}}}"></button><button title="With Modifier" class="sheet-new_roll"  style="margin: 0px;" type="roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a1}]]}}  {{skillvalue=[[@{wpn_attk1a1}+?{mods|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[@{wpn_attk1a1}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk1a1}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk1a1}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name1a1}}}"></button>-->
									
									<button name="roll_ally-attk1a1"    type="roll" value="@{melee_value1a1}"></button><button name="roll_ally-attk1a1mod" title="With Modifier" class="sheet-new_roll"  style="margin: 0px;" type="roll" value="@{melee_value1a1Mod}"></button>

									<textarea name="attr_melee_value1a1" style="display: none;">&{template:melee-roll2} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a1}]]}} {{skillvalue=[[@{wpn_attk1a1}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk1a1})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk1a1})]])/5)+1]]}} {{success=[[@{wpn_attk1a1}]]}} {{spclDam=[[@{spcldamage1a1}]]}}   {{crshDam=[[@{spcldamage1a1}]]}}   {{critCrsh=[[@{critdamage1a1}]]}} {{critSI=[[@{critdamage1a1}]]}} {{type=[[@{wpn_spl1a1}]]}} {{skillname=@{wpn_name1a1}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>																
									
									<textarea name="attr_melee_value1a1Mod" style="display: none;">&{template:melee-roll2} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a1}]]}} {{skillvalue=[[@{wpn_attk1a1}+?{Mod|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a1}+?{Mod|0}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk1a1}+?{Mod|0})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk1a1}+?{Mod|0})]])/5)+1]]}} {{success=[[@{wpn_attk1a1}+?{Mod|0}]]}} {{spclDam=[[@{spcldamage1a1}]]}}   {{crshDam=[[@{spcldamage1a1}]]}}   {{critCrsh=[[@{critdamage1a1}]]}} {{critSI=[[@{critdamage1a1}]]}} {{type=[[@{wpn_spl1a1}]]}} {{skillname=@{wpn_name1a1}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>								
									
		

									
				
								</div>

								<div class="sheet-ally-WpnGrid">
									<input name="attr_wpn_name1a2" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr1a2" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_attk1a2" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_damage1a2" class="sheet-value_display2"  type="text" value="0">
									<input name="attr_spcldamage1a2" style="display: none;" type="text">
									<input name="attr_critdamage1a2" style="display: none;" type="text">
									<input name="attr_maxdamage1a2" style="display: none;" type="text">									
									  <select name="attr_wpn_spl1a2" style="width: 43px; margin-bottom: 0px;">
										<option value="0" selected></option>
										<option value="1">I</option>
										<option value="2">S</option>
										<option value="3">C</option>							
									  </select>	
									  
									 <!-- @{melee_value1a2}-->
									<button name="roll_ally-attk1a2"  type="roll" value="@{melee_value1a2}"></button><button name="roll_ally-attk1a2mod" title="With Modifier" class="sheet-new_roll"  style="margin: 0px;" type="roll" value="@{melee_value1a2Mod}"></button>

									<textarea name="attr_melee_value1a2" style="display: none;">&{template:melee-roll2} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a2}]]}} {{skillvalue=[[@{wpn_attk1a2}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk1a2})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk1a2})]])/5)+1]]}} {{success=[[@{wpn_attk1a2}]]}} {{spclDam=[[@{spcldamage1a2}]]}}   {{crshDam=[[@{spcldamage1a2}]]}}   {{critCrsh=[[@{critdamage1a2}]]}} {{critSI=[[@{critdamage1a2}]]}} {{type=[[@{wpn_spl1a2}]]}} {{skillname=@{wpn_name1a2}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>	
								
									<textarea name="attr_melee_value1a2Mod" style="display: none;">&{template:melee-roll2} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a2}]]}} {{skillvalue=[[@{wpn_attk1a2}+?{Mod|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a2}+?{Mod|0}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk1a2}+?{Mod|0})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk1a2}+?{Mod|0})]])/5)+1]]}} {{success=[[@{wpn_attk1a2}+?{Mod|0}]]}} {{spclDam=[[@{spcldamage1a2}]]}}   {{crshDam=[[@{spcldamage1a2}]]}}   {{critCrsh=[[@{critdamage1a2}]]}} {{critSI=[[@{critdamage1a2}]]}} {{type=[[@{wpn_spl1a2}]]}} {{skillname=@{wpn_name1a2}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>	
				
								</div>	
								
								<div class="sheet-ally-WpnGrid">
									<input name="attr_wpn_name1a3" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr1a3" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_attk1a3" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_damage1a3" class="sheet-value_display2"  type="text" value="0">
									<input name="attr_spcldamage1a3" style="display: none;" type="text">
									<input name="attr_critdamage1a3" style="display: none;" type="text">
									<input name="attr_maxdamage1a3" style="display: none;" type="text">									
									  <select name="attr_wpn_spl1a3" style="width: 43px; margin-bottom: 0px;">
										<option value="0" selected></option>
										<option value="1">I</option>
										<option value="2">S</option>
										<option value="3">C</option>						
									  </select>		
									<button  name="roll_ally-attk1a3" type="roll" value="@{melee_value1a3}"></button><button name="roll_ally-attk1a3mod" title="With Modifier" class="sheet-new_roll"  style="margin: 0px;" type="roll" value="@{melee_value1a3Mod}"></button>

									<textarea name="attr_melee_value1a3" style="display: none;">&{template:melee-roll2} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a3}]]}} {{skillvalue=[[@{wpn_attk1a3}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a3}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk1a3})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk1a3})]])/5)+1]]}} {{success=[[@{wpn_attk1a3}]]}} {{spclDam=[[@{spcldamage1a3}]]}}   {{crshDam=[[@{spcldamage1a3}]]}}   {{critCrsh=[[@{critdamage1a3}]]}} {{critSI=[[@{critdamage1a3}]]}} {{type=[[@{wpn_spl1a3}]]}} {{skillname=@{wpn_name1a3}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>																
									
									<textarea name="attr_melee_value1a3Mod" style="display: none;">&{template:melee-roll2} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage1a3}]]}} {{skillvalue=[[@{wpn_attk1a3}+?{Mod|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk1a3}+?{Mod|0}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk1a3}+?{Mod|0})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk1a3}+?{Mod|0})]])/5)+1]]}} {{success=[[@{wpn_attk1a3}+?{Mod|0}]]}} {{spclDam=[[@{spcldamage1a3}]]}}   {{crshDam=[[@{spcldamage1a3}]]}}   {{critCrsh=[[@{critdamage1a3}]]}} {{critSI=[[@{critdamage1a3}]]}} {{type=[[@{wpn_spl1a3}]]}} {{skillname=@{wpn_name1a3}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>	
				
								</div>								
								<br>
								
								
								<div>	
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name1a1" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left; font-size: x-small;" type="text" value="skill">
											<input name="attr_skill_value1a1" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  name="roll_ally-skill1a1"  style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a1}]]}} {{success=[[@{skill_value1a1}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a1}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value1a1}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value1a1}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a1}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name1a2" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left; font-size: x-small;" type="text" value="skill">
											<input name="attr_skill_value1a2" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button name="roll_ally-skill1a2"   style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a2}]]}} {{success=[[@{skill_value1a2}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a2}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value1a2}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value1a2}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a2}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name1a3" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value1a3" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  name="roll_ally-skill1a3"  style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a3}]]}} {{success=[[@{skill_value1a3}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a3}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value1a3}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value1a3}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a3}}}"></button>
										</div>
									</span>									
								</div>
								<div>	
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name1a4" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value1a4" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button name="roll_ally-skill1a4"   style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a4}]]}} {{success=[[@{skill_value1a4}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a4}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value1a4}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value1a4}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a4}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name1a5" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value1a5" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  name="roll_ally-skill1a5"  style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a5}]]}} {{success=[[@{skill_value1a5}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a5}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value1a5}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value1a5}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a5}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name1a6" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value1a6" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  name="roll_ally-skill1a6"  style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1a6}]]}} {{success=[[@{skill_value1a6}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value1a6}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value1a6}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value1a6}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name1a6}}}"></button>
										</div>
									</span>									
								</div>							
								
								
								
								<br>
								<p>Hit Locations</p>
								<textarea name="attr_animal1_hitloc" style="margin: 0px; font-family: courier;">D20	Result         AP/HP
	1-2	Right hind-leg	0/0
	3-4 	Left hind-leg	0/0
	5-7 	Hindquarters	0/0
	8-10 	Forequarters 	0/0
	11-13 	Right fore-leg	0/0
	14-16 	Left fore-leg	0/0
	17-20 	Head        	0/0
	THP 0/0
								</textarea>
								
								<br>							
								<p>Notes</p>
								<textarea name="attr_animal1a_notes" style="margin: 0px; font-family: courier;"></textarea>
							</div> <!--  Animal 1 -->
							<!--- Animal 2 -->	
							<div class="sheet-col"> 
								<div style="margin-bottom: 5px;">
									<input name="attr_animal2_name" class="sheet-value_display" style="width: 244px;" type="text" value="name and type ">
								</div>
								<div>
									<p class="sheet-spirit_stat">STR</p> <input name="attr_animal2a_str" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">CON</p><input name="attr_animal2a_con" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">SIZ</p><input name="attr_animal2a_siz" class="sheet-value_display2" type="text" value="0">
								</div>
								<div>
									<p class="sheet-spirit_stat">INT</p> <input name="attr_animal2a_int" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">POW</p><input name="attr_animal2a_pow" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">DEX</p><input name="attr_animal2a_dex" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">CHA</p><input name="attr_animal2a_cha" class="sheet-value_display2" type="text" value="0">			
								</div>
								<br>
								<table>
									
										
										<tbody><tr>
											<td>HP</td>
											<td>
												<input name="attr_animal2a_hp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_animal2a_hp_cur" class="sheet-value_display2" type="text" value="0">
											</td>	
												<td>Move</td>
												<td>
													<input name="attr_animal2a_move" class="sheet-value_display2" type="text" value="0">
												</td>
											
										</tr>
										<tr>
										</tr>
										<tr>
											<td>MP</td>
											<td>
												<input name="attr_animal2a_mp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_animal2a_mp_cur" class="sheet-value_display2" type="text" value="">
											</td>
											<td>DSR</td>
											<td>
											<input name="attr_animal2a_dsr" class="sheet-value_display2" type="text" value="0">
											</td>
										</tr>
										<tr>
											<td>DB</td>
											<td><input name="attr_animal2a_db" class="sheet-value_display" style="width: 105px;" type="text" value="0"></td>
											<td>MSR</td>
											<td><input name="attr_animal2a_msr" class="sheet-value_display2" type="text" value="0">
											</td>

										</tr>
								</tbody></table>
								<br>
								
								<div class="sheet-melee_wpns_labels sheet-ally-WpnGrid" style="margin-top: 5px;">							   
								   <label data-i18n="Weapon">Weapon</label>
								   <label data-i18n="SR">SR</label>   
								   <label data-i18n="Attk">Attk</label>   
								   <label  data-i18n="Damage">Damage</label>   							   
								   <label  data-i18n="Spcl">Spcl</label>							   					   
								</div>		
								
								<div  class="sheet-ally-WpnGrid">
									<input name="attr_wpn_name2a1" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr2a1" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_attk2a1" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_damage2a1" class="sheet-value_display2" style="width: 80px;" type="text" value="0">
									<input name="attr_spcldamage2a1" style="display: none;" type="text">
									<input name="attr_critdamage2a1" style="display: none;" type="text">
									<input name="attr_maxdamage2a1" style="display: none;" type="text">									
									  <select name="attr_wpn_spl2a1" style="width: 43px; margin-bottom: 0px;">
										<option value="0" selected></option>
										<option value="1">I</option>
										<option value="2">S</option>
										<option value="3">C</option>						
									  </select>								
									<button name="roll_ally-attk2a1"   type="roll" value="@{melee_value2a1}"></button><button name="roll_ally-attk2a1mod" title="With Modifier" class="sheet-new_roll"  style="margin: 0px;" type="roll" value="@{melee_value2a1Mod}"></button>

									<textarea name="attr_melee_value2a1" style="display: none;">&{template:melee-roll2} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a1}]]}} {{skillvalue=[[@{wpn_attk2a1}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a1}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk2a1})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk2a1})]])/5)+1]]}} {{success=[[@{wpn_attk2a1}]]}} {{spclDam=[[@{spcldamage2a1}]]}}   {{crshDam=[[@{spcldamage2a1}]]}}   {{critCrsh=[[@{critdamage2a1}]]}} {{critSI=[[@{critdamage2a1}]]}} {{type=[[@{wpn_spl2a1}]]}} {{skillname=@{wpn_name2a1}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>																
									
									<textarea name="attr_melee_value2a1Mod" style="display: none;">&{template:melee-roll2} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a1}]]}} {{skillvalue=[[@{wpn_attk2a1}+?{Mod|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a1}+?{Mod|0}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk2a1}+?{Mod|0})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk2a1}+?{Mod|0})]])/5)+1]]}} {{success=[[@{wpn_attk2a1}+?{Mod|0}]]}} {{spclDam=[[@{spcldamage2a1}]]}}   {{crshDam=[[@{spcldamage2a1}]]}}   {{critCrsh=[[@{critdamage2a1}]]}} {{critSI=[[@{critdamage2a1}]]}} {{type=[[@{wpn_spl2a1}]]}} {{skillname=@{wpn_name2a1}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>	
				
								</div>	
								<div  class="sheet-ally-WpnGrid">
									<input name="attr_wpn_name2a2" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr2a2" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_attk2a2" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_damage2a2" class="sheet-value_display2" style="width: 80px;" type="text" value="0">
									<input name="attr_spcldamage2a2" style="display: none;" type="text">
									<input name="attr_critdamage2a2" style="display: none;" type="text">
									<input name="attr_maxdamage2a2" style="display: none;" type="text">									
									  <select name="attr_wpn_spl2a2" style="width: 43px; margin-bottom: 0px;">
										<option value="0" selected></option>
										<option value="1">I</option>
										<option value="2">S</option>
										<option value="3">C</option>						
									  </select>								
									<button name="roll_ally-attk2a2"  type="roll" value="@{melee_value2a2}"></button><button name="roll_ally-attk2a2mod" title="With Modifier" class="sheet-new_roll"  style="margin: 0px;" type="roll" value="@{melee_value2a2Mod}"></button>

									<textarea name="attr_melee_value2a2" style="display: none;">&{template:melee-roll2} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a2}]]}} {{skillvalue=[[@{wpn_attk2a2}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a2}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk2a2})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk2a2})]])/5)+1]]}} {{success=[[@{wpn_attk2a2}]]}} {{spclDam=[[@{spcldamage2a2}]]}}   {{crshDam=[[@{spcldamage2a2}]]}}   {{critCrsh=[[@{critdamage2a2}]]}} {{critSI=[[@{critdamage2a2}]]}} {{type=[[@{wpn_spl2a2}]]}} {{skillname=@{wpn_name2a2}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>																
									
									<textarea name="attr_melee_value2a2Mod" style="display: none;">&{template:melee-roll2} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a2}]]}} {{skillvalue=[[@{wpn_attk2a2}+?{Mod|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a2}+?{Mod|0}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk2a2}+?{Mod|0})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk2a2}+?{Mod|0})]])/5)+1]]}} {{success=[[@{wpn_attk2a2}+?{Mod|0}]]}} {{spclDam=[[@{spcldamage2a2}]]}}   {{crshDam=[[@{spcldamage2a2}]]}}   {{critCrsh=[[@{critdamage2a2}]]}} {{critSI=[[@{critdamage2a2}]]}} {{type=[[@{wpn_spl2a2}]]}} {{skillname=@{wpn_name2a2}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>	
				
								</div>	
								
								<div  class="sheet-ally-WpnGrid">
									<input name="attr_wpn_name2a3" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr2a3" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_attk2a3" class="sheet-value_display2" type="text" value="0">
									<input name="attr_wpn_damage2a3" class="sheet-value_display2" style="width: 80px;" type="text" value="0">
									<input name="attr_spcldamage2a3" style="display: none;" type="text">
									<input name="attr_critdamage2a3" style="display: none;" type="text">
									<input name="attr_maxdamage2a3" style="display: none;" type="text">									
									  <select name="attr_wpn_spl2a3" style="width: 43px; margin-bottom: 0px;">
										<option value="0" selected></option>
										<option value="1">I</option>
										<option value="2">S</option>
										<option value="3">C</option>						
									  </select>								
									<button  name="roll_ally-attk2a3" type="roll" value="@{melee_value2a3}"></button><button name="roll_ally-attk2a3mod" title="With Modifier" class="sheet-new_roll"  style="margin: 0px;" type="roll" value="@{melee_value2a3Mod}"></button>

									<textarea name="attr_melee_value2a3" style="display: none;">&{template:melee-roll2} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a3}]]}} {{skillvalue=[[@{wpn_attk2a3}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a3}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk2a3})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk2a3})]])/5)+1]]}} {{success=[[@{wpn_attk2a3}]]}} {{spclDam=[[@{spcldamage2a3}]]}}   {{crshDam=[[@{spcldamage2a3}]]}}   {{critCrsh=[[@{critdamage2a3}]]}} {{critSI=[[@{critdamage2a3}]]}} {{type=[[@{wpn_spl2a3}]]}} {{skillname=@{wpn_name2a3}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>																
									
									<textarea name="attr_melee_value2a3Mod" style="display: none;">&{template:melee-roll2} {{name=@{animal2_name}}} {{tot=[[@{wpn_damage2a3}]]}} {{skillvalue=[[@{wpn_attk2a3}+?{Mod|0}]]}} {{fumble=[[{(101-(round((100-(@{wpn_attk2a3}+?{Mod|0}))/20))),100}kl1]]}} {{crit=[[{round([[ceil(@{wpn_attk2a3}+?{Mod|0})]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil(@{wpn_attk2a3}+?{Mod|0})]])/5)+1]]}} {{success=[[@{wpn_attk2a3}+?{Mod|0}]]}} {{spclDam=[[@{spcldamage2a3}]]}}   {{crshDam=[[@{spcldamage2a3}]]}}   {{critCrsh=[[@{critdamage2a3}]]}} {{critSI=[[@{critdamage2a3}]]}} {{type=[[@{wpn_spl2a3}]]}} {{skillname=@{wpn_name2a3}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
									</textarea>	
				
								</div>							
								
								
								
								
								<br>
								
								<div>	
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name2a1" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value2a1" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button name="roll_skill2a1"  style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a1}]]}} {{success=[[@{skill_value2a1}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a1}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value2a1}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value2a1}+?{mods|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2a1}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name2a2" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value2a2" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button   name="roll_skill2a2"   style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a2}]]}} {{success=[[@{skill_value2a2}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a2}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value2a2}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value2a2}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a2}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name2a3" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value2a3" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button   name="roll_skill2a3"   style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a3}]]}} {{success=[[@{skill_value2a3}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a3}+?{mods|0}))/20))),100}kl1]]}}  {{crit=[[{ceil(([[@{skill_value2a3}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value2a3}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a3}}}"></button>
										</div>
									</span>									
								</div>
								<div>	
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name2a4" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value2a4" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button   name="roll_skill2a4"   style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a4}]]}} {{success=[[@{skill_value2a4}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a4}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value2a4}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value2a4}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a4}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name2a5" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value2a5" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button   name="roll_skill2a5"   style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a5}]]}} {{success=[[@{skill_value2a5}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a5}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value2a5}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value2a5}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a5}}}"></button>
										</div>
									</span>
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Skill">Skill</div>
										   <div style="margin-left: 38px;" data-i18n="%">%</div>   
										</div>	
										
										<div>
											<input name="attr_skill_name2a6" class="sheet-value_display sheet-ally_skill" style="width: 232px; text-align: left;" type="text" value="skill">
											<input name="attr_skill_value2a6" class="sheet-value_display2" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value2}]]}} {{fumble=[[ceil(95+([[@{skill_value2}]])/20))]]}} {{crit=[[ceil(([[@{skill_value2}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value2}]])/5)+1]]}}         {{success=[[@{skill_value2}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name2}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  name="roll_skill2a6"    style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}}  {{skillvalue=[[@{skill_value2a6}]]}} {{success=[[@{skill_value2a6}+?{mods|0}]]}}  {{fumble=[[{(101-(round((100-(@{skill_value2a6}+?{mods|0}))/20))),100}kl1]]}} {{crit=[[{ceil(([[@{skill_value2a6}+?{mods|0}]])/20)+1,2}kh1]]}} {{special=[[ceil(([[@{skill_value2a6}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name2a6}}}"></button>
										</div>
									</span>									
								</div>	
								<br>
								<p>Hit Locations</p>
								<textarea name="attr_animal1_hit2oc" style="margin: 0px; font-family: courier;">D20	Result         AP/HP
	1-2	Right hind-leg	0/0
	3-4 	Left hind-leg	0/0
	5-7 	Hindquarters	0/0
	8-10 	Forequarters 	0/0
	11-13 	Right fore-leg	0/0
	14-16 	Left fore-leg	0/0
	17-20 	Head        	0/0
	THP 0/0
						
								</textarea>
								<br>
								<p>Notes</p>
								<textarea name="attr_animal2_notes" style="margin: 0px; font-family: courier;"></textarea>	
							</div><!-- Animal 2 -->
						</div>			
				</fieldset>
				
				<br>
				<div class="sheet-header" data-i18n="Otherworld-Creatures">Otherworld Creatures</div>


				<fieldset class="repeating_otherworld">
						<div class="sheet-2colrow">
							<div class="sheet-col" style="margin-left: 4px;">
								<div style="margin-bottom: 5px;">
									<input name="attr_otherworld1_name" class="sheet-value_display" style="width: 244px;" type="text" value="name and type ">
								</div>
								<div>
									<p class="sheet-spirit_stat">STR</p> <input name="attr_otherworld1a_str" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">SIZ</p><input name="attr_otherworld1a_siz" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">INT</p> <input name="attr_otherworld1a_int" class="sheet-value_display2" type="text" value="0"> 								
								</div>
								<div>
									<p class="sheet-spirit_stat">CHR</p> <input name="attr_otherworld1a_chr" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">POW</p><input name="attr_otherworld1a_pow" class="sheet-value_display2" type="text" value="0">
									<button name="roll_pow-roll1"  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{otherworld1a_pow}*5)]]}} {{fumble=[[ceil(95+([[(@{otherworld1a_pow}*5)]])/20))]]}} {{crit=[[{round(([[(@{otherworld1a_pow}*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{otherworld1a_pow}*5)]])/5)+1]]}}         {{success=[[(@{otherworld1a_pow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"></button><button name="roll_pow-rollMod1" class="sheet-new_roll2"  title="With Modifier" class="sheet-new_roll"   type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{otherworld1a_pow}*?{multiplier|5})]]}} {{fumble=[[ceil(95+([[(@{otherworld1a_pow}*?{multiplier|5})]])/20))]]}} {{crit=[[{round(([[(@{otherworld1a_pow}*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{otherworld1a_pow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{otherworld1a_pow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"></button>
									<input name="attr_o1pow_check" type="checkbox">									
									
								</div>
								<br>
								<table>
										<tbody><tr>
											<td>HP</td>
											<td>
												<input name="attr_otherworld1a_hp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_otherworld1a_hp_cur" class="sheet-value_display2" type="text" value="0">
											</td>	

											<td>Move</td>
											<td>
													<input name="attr_otherworld1a_move" class="sheet-value_display2" type="text" value="0">
											</td>
											
										</tr>
										<tr>
										</tr>
										<tr>
											<td>MP</td>
											<td>
												<input name="attr_otherworld1a_mp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_otherworld1a_mp_cur" class="sheet-value_display2" type="text" value="">
											</td>										<td>DSR</td>
											<td>
											<input name="attr_otherworld1a_dsr" class="sheet-value_display2" type="text" value="0">
											</td>
										</tr>

								</tbody></table>
								<br>
								<div>
									<div style="margin-top: 10px;">
										<div class="sheet-input_label" data-i18n="Spirit-Combat">Spirit Combat</div>
										<input name="attr_spirit_combat1" class="sheet-text_input" style="width: 24px; margin-right: 5px;" type="text" value="0"><button name="roll_sprtcmbt1"  type="roll" value="&{template:skillRoll} {{name=@{otherworld1_name}}} {{skillvalue=[[(@{spirit_combat1})]]}} {{fumble=[[ceil(95+([[(@{spirit_combat1})]])/20))]]}} {{crit=[[{round(([[(@{spirit_combat1})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{spirit_combat1})]])/5)+1]]}}    {{success=[[(@{spirit_combat1})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}">
										</button><button name="roll_sprtcmbtmod1"   title="With Modifier" class="sheet-new_roll"   style="margin-right: 5px;" type="roll" value="&{template:skillRoll} {{name=@{otherworld1_name}}} {{skillvalue=[[@{spirit_combat1}]]}} {{fumble=[[ceil(95+(@{spirit_combat1}+?{Mods|0})/20)]]}} {{crit=[[{round((@{spirit_combat1}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{spirit_combat1}+?{Mods|0})/5)+1]]}}    {{success=[[@{spirit_combat1}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"></button>
										<div class="sheet-input_label" data-i18n="Damage">Damage</div><input name="attr_sprt_cmbt_damage1" class="sheet-text_input" style="width: 50px;" type="text" value=""><button name="roll_sprtcmbtdmg1"  type="roll" value="&{template:damageRoll2} {{name=@{otherworld1_name}}} {{skillname=^{Spirit-Combat} }} {{roll=[[@{sprt_cmbt_damage1}]]}}"></button>
									</div>							
								</div>
								<br>
								<div>
									
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Damage">Damage</div>								
										</div>	
										
										<div>
											<input name="attr_damage_name1" class="sheet-value_display" style="width: 150px !important; text-align: left;" type="text" placeholder="Attack" value="">
											<input name="attr_damage1" class="sheet-value_display"  style="width:50px !important;"  type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button    name="roll_damage2"   style="margin: 0px;" type="roll" value="&{template:damageRoll2} {{name=@{otherworld1_name}}} {{roll=[[@{damage1}]]}} {{skillname=@{damage_name1}}}"></button>
										</div>
									</span>								
									
									
									
									
								</div>
								
							

								
								
								<br>
								<p>Hit Locations</p>
								<textarea name="attr_otherworld1_hitloc" style="margin: 0px; font-family: courier;width:75%">D20	Result         AP/HP
	1-20	Body	0/0
	THP 0/0
								</textarea>
								
								<br>							
								<p>Notes/Runes/Passions/Spells</p>
								<textarea name="attr_otherworld1a_notes" style="margin: 0px; font-family: courier;width:75%"></textarea>
							</div> <!--  otherworld 1 -->
							<!--- otherworld 2 -->	
							<div class="sheet-col"> 
								<div style="margin-bottom: 5px;">
									<input name="attr_otherworld2_name" class="sheet-value_display" style="width: 244px;" type="text" value="name and type ">
								</div>
								<div>
									<p class="sheet-spirit_stat">STR</p> <input name="attr_otherworld2a_str" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">SIZ</p><input name="attr_otherworld2a_siz" class="sheet-value_display2" type="text" value="0">
									<p class="sheet-spirit_stat">INT</p> <input name="attr_otherworld2a_int" class="sheet-value_display2" type="text" value="0"> 								
								</div>
								<div>
									<p class="sheet-spirit_stat">CHR</p> <input name="attr_otherworld2a_chr" class="sheet-value_display2" type="text" value="0"> 
									<p class="sheet-spirit_stat">POW</p><input name="attr_otherworld2a_pow" class="sheet-value_display2" type="text" value="0">
									<button  name="roll_pow-roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{otherworld2a_pow}*5)]]}} {{fumble=[[ceil(95+([[(@{otherworld2a_pow}*5)]])/20))]]}} {{crit=[[{round(([[(@{otherworld2a_pow}*5)]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{otherworld2a_pow}*5)]])/5)+1]]}}         {{success=[[(@{otherworld2a_pow}*5)]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"></button><button name="roll_pow-rollMod2" class="sheet-new_roll2"   type="roll" value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{skillvalue=[[(@{otherworld2a_pow}*?{multiplier|5})]]}} {{fumble=[[ceil(95+([[(@{otherworld2a_pow}*?{multiplier|5})]])/20))]]}} {{crit=[[{round(([[(@{otherworld2a_pow}*?{multiplier|5})]])/20)+1,2}kh1]]}} {{special=[[round(([[(@{otherworld2a_pow}*?{multiplier|5})]])/5)+1]]}}         {{success=[[(@{otherworld2a_pow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"></button>
									<input name="attr_o1pow_check" type="checkbox">									
									
								</div>
								<br>
								<table>
										<tbody><tr>
											<td>HP</td>
											<td>
												<input name="attr_otherworld2a_hp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_otherworld2a_hp_cur" class="sheet-value_display2" type="text" value="0">
											</td>	

											<td>Move</td>
											<td>
													<input name="attr_otherworld2a_move" class="sheet-value_display2" type="text" value="0">
											</td>
											
										</tr>
										<tr>
										</tr>
										<tr>
											<td>MP</td>
											<td>
												<input name="attr_otherworld2a_mp_max" class="sheet-value_display2" type="text" value="0">
												/
												<input name="attr_otherworld2a_mp_cur" class="sheet-value_display2" type="text" value="">
											</td>										<td>DSR</td>
											<td>
											<input name="attr_otherworld2a_dsr" class="sheet-value_display2" type="text" value="0">
											</td>
										</tr>

								</tbody></table>
								<br>
								<div>
									<div style="margin-top: 10px;">
										<div class="sheet-input_label" data-i18n="Spirit-Combat">Spirit Combat</div>
										<input name="attr_spirit_combat2" class="sheet-text_input" style="width: 24px; margin-right: 5px;" type="text" value="0"><button name="roll_sprtcmbt2"  type="roll" value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{skillvalue=[[(@{spirit_combat2})]]}} {{fumble=[[ceil(95+([[(@{spirit_combat2})]])/20))]]}} {{crit=[[{round(([[(@{spirit_combat2})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{spirit_combat2})]])/5)+1]]}}    {{success=[[(@{spirit_combat2})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}">
										</button><button name="roll_sprtcmbtmod2"  title="With Modifier" class="sheet-new_roll"   style="margin-right: 5px;" type="roll" value="&{template:skillRoll} {{name=@{otherworld2_name}}} {{skillvalue=[[@{spirit_combat2}]]}} {{fumble=[[ceil(95+(@{spirit_combat2}+?{Mods|0})/20)]]}} {{crit=[[{round((@{spirit_combat2}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{spirit_combat2}+?{Mods|0})/5)+1]]}}    {{success=[[@{spirit_combat2}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"></button>
										<div class="sheet-input_label" data-i18n="Damage">&nbsp;Damage</div><input name="attr_sprt_cmbt_damage2" class="sheet-text_input" style="width: 50px;" type="text" value=""><button   name="roll_sprtcmbtdmg2"   type="roll" value="&{template:damageRoll2} {{name=@{otherworld2_name}}} {{skillname=^{Spirit-Combat} }} {{roll=[[@{sprt_cmbt_damage2}]]}}"></button>
									</div>							
								</div>
								<br>
								<div>
									
									<span style="display: inline-block;">
										<div class="sheet-melee_wpns_labels" style="margin-top: 5px; display: inline-block;">
										   <div data-i18n="Damage">Damage</div>								
										</div>	
										
										<div>
											<input name="attr_damage_name2" class="sheet-value_display " style="width: 150px !important; text-align: left;" type="text" placeholder="Attack" value="">
											<input name="attr_damage2"  class="sheet-value_display"  style="width:50px !important;" type="text" value="0">
											<!--<button type="roll"   value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value1}]]}} {{fumble=[[ceil(95+([[@{skill_value1}]])/20))]]}} {{crit=[[ceil(([[@{skill_value1}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value1}]])/5)+1]]}}         {{success=[[@{skill_value1}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name1}}}" ><img class="sheet-d100_image" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/luck.png" /></button>--><button  name="roll_damage2" style="margin: 0px;" type="roll" value="&{template:damageRoll2} {{name=@{otherworld2_name}}} {{roll=[[@{damage2}]]}} {{skillname=@{damage_name2}}}"></button>
										</div>
									</span>								
									
									
									
									
								</div>
								<br>
								<p>Hit Locations</p>
								<textarea name="attr_otherworld2_hitloc" style="margin: 0px; font-family: courier;width:75%">D20	Result         AP/HP
	1-20	Body	0/0
	THP 0/0
								</textarea>
								
								<br>							
								<p>Notes/Runes/Passions/Spells</p>
								<textarea name="attr_otherworld2a_notes" style="margin: 0px; font-family: courier;width:75%"></textarea>	
							</div><!-- otherworld 2 -->
						</div>			
				</fieldset>
		

		



					
						
			</div><!---- End of Tab  3-->
			<div class="sheet-tab-contenta sheet-tab5a"><!--- Tab 5 start -->
			<div class="sheet-header2" style="text-align: center;" data-i18n="FAMILY">FAMILY</div>				
			<div class="sheet-2colrow">
				<div class="sheet-col">
					<div class="sheet-skill_category" data-i18n="GRANDPARENTS">GRANDPARENTS</div>	
					<div><span style="width: 92px; display: inline-block;" data-i18n="Grandfather">Grandfather</span><input name="attr_grandfather" class="sheet-text_input" style="width: 231px;" type="text"> Dead? <input name="attr_dead_gf" type="checkbox"></div>
					<div><span style="width: 92px; display: inline-block;" data-i18n="Grandmother">Grandmother</span><input name="attr_grandmother" class="sheet-text_input" style="width: 231px;" type="text"> Dead? <input name="attr_dead_gm" type="checkbox"></div>
					<br>
					<div class="sheet-skill_category" data-i18n="AUNTS-&-UNCLES">AUNTS & UNCLES</div>
					<fieldset class="repeating_auntsUncles">
						<div>
							<input name="attr_auntuncle" class="sheet-text_input" style="width: 259px;" type="text">
							M <input name="attr_male" type="checkbox">|F <input name="attr_female" type="checkbox">		
							Dead? <input name="attr_dead_gf" type="checkbox">
						</div>
					</fieldset>
					<br>
					<div class="sheet-skill_category" data-i18n="FAMOUS-ANCESTORS">FAMOUS ANCESTORS</div>
					<textarea name="attr_ancestors" style="height: 50px !important;"></textarea>
					
				</div>
				<div class="sheet-col">
					<div class="sheet-skill_category" data-i18n="PARENTS">PARENTS</div>	
					<div><span style="width: 92px; display: inline-block;" data-i18n="Father">Father</span><input name="attr_father" class="sheet-text_input" style="width: 231px;" type="text"> Dead? <input name="attr_dead_f" type="checkbox"></div>
					<div><span style="width: 92px; display: inline-block;" data-i18n="Mother">Mother</span><input name="attr_mother" class="sheet-text_input" style="width: 231px;" type="text"> Dead? <input name="attr_dead_m" type="checkbox"></div>
					<br>
					<div class="sheet-skill_category" data-i18n="SIBLINGS">SIBLINGS</div>
					<fieldset class="repeating_siblings">
						<div>
							<input name="attr_sibling" class="sheet-text_input" style="width: 259px;" type="text">
							M <input name="attr_male" type="checkbox">|F <input name="attr_female" type="checkbox">		
							Dead? <input name="attr_dead_gf" type="checkbox">
						</div>
					</fieldset>
					<br>
					<div class="sheet-skill_category" data-i18n="CLAN & TRIBAL LEADERS">CLAN & TRIBAL LEADERS</div>
					<textarea name="attr_leaders" style="height: 50px !important;"></textarea>			
				
				
				</div>						

			</div>
				<hr class="sheet-hr">
				<div class="sheet-header2" style="text-align: center;" data-i18n="FAMILY-EVENTS">FAMILY EVENTS</div>				
				<div class="sheet-2colrow">			
					<div class="sheet-col">							
						<div class="sheet-skill_category" data-i18n="MARRIAGE">MARRIAGE</div>
						<fieldset class="repeating_spouse">
							<div>
								<input name="attr_spouse" class="sheet-text_input" style="width: 259px;" type="text" placeholder="Spouse (Marriage Type)">
								M <input name="attr_male" type="checkbox">|F <input name="attr_female" type="checkbox">		
								Dead? <input name="attr_deadSpouse" type="checkbox">
							</div>
						</fieldset>					
						<br>
						<div class="sheet-skill_category" data-i18n="Events">Events</div>
						<textarea name="attr_marriageEvents" style="height: 50px !important;"></textarea>			

					</div>
					<div class="sheet-col">
						<div class="sheet-skill_category" data-i18n="CHILDREN">CHILDREN</div>
						<fieldset class="repeating_children">
							<div>
								<input name="attr_spouse" class="sheet-text_input" style="width: 259px;" type="text" placeholder="Child">
								M <input name="attr_male" type="checkbox">|F <input name="attr_female" type="checkbox">		
								Dead? <input name="attr_deadChild" type="checkbox">
							</div>
						</fieldset>					
						<br>			
					</div>			
				</div>
				<hr class="sheet-hr">
				<div class="sheet-header2" style="text-align: center;" data-i18n="HOLDINGS">HOLDINGS</div>	
				<div class="sheet-2colrow">			
					<div class="sheet-col">
						<span class="sheet-skill_category" data-i18n="HARVEST">HARVEST</span><span class="sheet-skill_category" style="margin-left: 284px;" data-i18n="Mod-">Mod.</span>
						<div>
							<span style="width: 115px; display: inline-block;" data-i18n="Last Year's Omen">Last Year's Omen</span>
							<input name="attr_LastOmen" class="sheet-text_input" style="width: 206px;" type="text"> 
							<input name="attr_LastOmenMod" class="sheet-text_input sheet-percentiles">						
						</div>
						<div>
							<span style="width: 92px; display: inline-block;" data-i18n="Raiding">Raiding</span>
							<input name="attr_raiding" class="sheet-text_input" style="width: 231px;" type="text"> 
							<input name="attr_raidingMod" class="sheet-text_input sheet-percentiles">						
						</div>					
						<div>
							<span style="width: 92px; display: inline-block;" data-i18n="Heroquest">Heroquest</span>
							<input name="attr_heroquest" class="sheet-text_input" style="width: 231px;" type="text"> 
							<input name="attr_heroquestMod" class="sheet-text_input sheet-percentiles">						
						</div>	
						<div>
							<span style="width: 156px; display: inline-block;" data-i18n="Previous-Years-Harvest">Previous Year's Harvest</span>
							<input name="attr_prevHarvest" class="sheet-text_input" style="width: 168px;" type="text"> 
							<input name="attr_prevHarvestMod" class="sheet-text_input sheet-percentiles">						
						</div>						
						<div>
							<span style="width: 119px; display: inline-block;" data-i18n="Next-Years-Omens">Next Year's Omen</span>
							<input name="attr_nextOmen" class="sheet-text_input" style="width: 206px;" type="text"> 
							<input name="attr_nextOmenMod" class="sheet-text_input sheet-percentiles">						
						</div>					
						<br>
						<div class="sheet-skill_category" data-i18n="CHARACTER INCOME">CHARACTER INCOME</div>
						<div>
							<span style="width: 86px; display: inline-block;" data-i18n="Base-Income">Base Income</span>
							<input name="attr_income" class="sheet-text_input" style="width: 50px;" type="text"><span data-i18n="Lunars"> Lunars</span> 						
						</div>
						<div>
							<span data-i18n="Special Notes">Special Notes</span>
							<textarea name="attr_spclNotes" style="height: 50px !important;"></textarea>			
						</div>
					</div>
					<div class="sheet-col">	
						<span class="sheet-skill_category" data-i18n="HOUSEHOLD">HOUSEHOLD</span><span style="float: right;"><span data-i18n="Hides">Hides</span><input name="attr_hides" class="sheet-text_input" style="width: 50px;" type="text"></span>
						<div data-i18n="Description">Description</div>
						<textarea name="attr_household" style="height: 50px !important;"></textarea>								
						<div>
						<span data-i18n="Tenant(s)">Tenant(s)</span>
						<textarea name="attr_tenants" style="height: 50px !important;"></textarea>													
						</div>

					</div>				
				</div>
			</div><!-- End of tab 4 -->

	</div>	
	<!---- end full sheet -->
	<!-- start QS sheet -->
	<input name="attr_toggleQSSheet" class="sheet-toggleQSSheet" style="display: none;" type="checkbox" checked="checked">
	<div class="sheet-QSSheet">
		<input name="attr_tab1" title="Background" class="sheet-tab sheet-tab1" type="radio" checked="checked" value="1"><span title="Basic"></span>
		<input name="attr_tab1" title="Skills" class="sheet-tab sheet-tab2" type="radio" value="2"><span title="Skills"></span>
		<input name="attr_tab1" title="Combat" class="sheet-tab sheet-tab3" type="radio" value="3"><span title="Combat"></span>
		<input name="attr_tab1" title="Equipment" class="sheet-tab sheet-tab4" type="radio" value="4"><span title="Equipment"></span>
		<input name="attr_tab1" title="Magic" class="sheet-tab sheet-tab5" type="radio" value="5"><span title="Magic"></span>
		<div class="sheet-tab-contentb sheet-tab1" style="background-color: rgb(172, 110, 115);">
			<div style="color:red;font-size:xx-large;text-align:center;">THIS QUICK START SHEET IS DEPRECATED AND WILL NOT BE UPDATED. CLICK THE BLACK GEAR BOX TO THE LEFT TO SELECT DISPLAY FULL SHEET</div>
			<div class="sheet-cdiv">
						<input name="attr_is_config" class="sheet-HideConfig" type="checkbox" checked="checked"><span class="sheet-is-config" ><span style='font-family:pictos;' >y</span></span>
						<div class="sheet-config" style="border-style: dotted; border-color: gray; padding: 5px; background-image: none; background-color: white;">

								<br>
							<input name="attr_toggleQSSheet" class="sheet-toggleQSSheet" type="checkbox" checked="checked">Display Quick Start Sheet
							<input name="attr_toggleFullSheet" class="sheet-toggleFullSheet" type="checkbox">Display Full Sheet
							<input name="attr_toggleNPC1Sheet" class="sheet-toggleNPC1Sheet" type="checkbox">Display NPC Sheet


						</div>
			</div>
		<br>
			<div class="sheet-2colrow">
				<div class="sheet-col">
				  <div class="sheet-2colrow">
					<div class="sheet-col" style="padding: 1px 1px 8px; border-radius: 6px; width: 47%; margin-right: 5px; background-color: white;">
						<label data-i18n="Characteristics">Characteristics</label>


						<div>

							<div>
									<label style="font-size: 0.6em; margin-left: 56px; display: inline;" data-i18n="Orig-">Orig.</label>
									<label style="font-size: 0.6em; margin-left: 5px; display: inline;" data-i18n="Cur-">Cur.</label>
							</div>
							<div>
								<div class="sheet-char_button" data-i18n="STR">STR</div>
								<input name="attr_origstr" class="sheet-skill_values" type="text" value="0">
								<input name="attr_curstr" class="sheet-skill_values" type="text" value="0">
								
								<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curstr}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curstr}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curstr}*5)@{enc_mod}]])/20)+1]]}}     {{success=[[(@{curstr}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=STR Roll}}"></button><button class="sheet-new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curstr}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curstr}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curstr}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curstr}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curstr}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=STR Roll}}"></button>	
							</div>	
							
							<div>
								<div class="sheet-char_button" data-i18n="CON">CON</div>

								<input name="attr_origcon" class="sheet-skill_values" type="text" value="0">
								<input name="attr_curcon" class="sheet-skill_values" type="text" value="0">
								<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curcon}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curcon}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curcon}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curcon}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curcon}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CON Roll}}"></button><button class="sheet-new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curcon}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curcon}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curcon}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curcon}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curcon}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CON Roll}}"></button>	
							</div>	

							<div>
								<div class="sheet-char_button" data-i18n="SIZ">SIZ</div>
								<input name="attr_origsiz" class="sheet-skill_values" type="text" value="0">
								<input name="attr_cursiz" class="sheet-skill_values" type="text" value="0">
								<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{cursiz}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{cursiz}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{cursiz}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{cursiz}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{cursiz}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=SIZ Roll}}"></button><button class="sheet-new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{cursiz}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{cursiz}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{cursiz}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{cursiz}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{cursiz}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=SIZ Roll}}"></button>	
							</div>	
							
							<div>
								<div class="sheet-char_button" data-i18n="INT">INT</div>

								<input name="attr_origint" class="sheet-skill_values" type="text" value="0">	
								<input name="attr_curint" class="sheet-skill_values" type="text" value="0">
								<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curint}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curint}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curint}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curint}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curint}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=INT Roll}}"></button><button class="sheet-new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curint}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curint}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curint}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curint}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curint}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=INT Roll}}"></button>	
							</div>
							
							<div>
								<div class="sheet-char_button" data-i18n="POW">POW</div>						

								<input name="attr_origpow" class="sheet-skill_values" type="text" value="0">
								<input name="attr_curpow" class="sheet-skill_values" type="text" value="0">
								<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curpow}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"></button><button class="sheet-new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curpow}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curpow}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=POW Roll}}"></button>
								<input name="attr_pow_check" type="checkbox">								
							</div>

							<div>
								<div class="sheet-char_button" data-i18n="DEX">DEX</div>						

								<input name="attr_origdex" class="sheet-skill_values" type="text" value="0">	
								<input name="attr_curdex" class="sheet-skill_values" type="text" value="0">
								<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curdex}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curdex}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curdex}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curdex}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curdex}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=DEX Roll}}"></button><button class="sheet-new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curdex}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curdex}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curdex}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curdex}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curdex}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=DEX Roll}}"></button>	
							</div>

							<div>	
								<div class="sheet-char_button" data-i18n="CHR">CHR</div>
								<input name="attr_origchr" class="sheet-skill_values" type="text" value="0">	
								<input name="attr_curchr" class="sheet-skill_values" type="text" value="0">

								<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curchr}*5)@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curchr}*5)@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curchr}*5)@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curchr}*5)@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curchr}*5)@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CHR Roll}}"></button><button class="sheet-new_roll2" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curchr}*?{multiplier|5})@{enc_mod}]]}} {{fumble=[[ceil(95+([[(@{curchr}*?{multiplier|5})@{enc_mod}]])/20))]]}} {{crit=[[ceil(([[(@{curchr}*?{multiplier|5})@{enc_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{curchr}*?{multiplier|5})@{enc_mod}]])/5)+1]]}}         {{success=[[(@{curchr}*?{multiplier|5})@{enc_mod}]]}} {{roll=[[1d100]]}} {{skillname=CHR Roll}}"></button>	
							</div>	
							
						</div>
					</div>
					<div class="sheet-col" style="padding: 1px 1px 8px; border-radius: 6px; background-color: white;">
						<label data-i18n="Attributes">Attributes</label>

							<!--
							<div>
									<label style="margin-left:56px;display:inline;font-size:0.6em">&nbsp;&nbsp;</label>
									<label style="margin-left:5px;display:inline;font-size:0.6em">&nbsp;&nbsp;</label>
							</div>
							-->
						<div>
							<label class="sheet-attribute_label" data-i18n="Dam-Bonus">Damage Modifier</label>
							<input name="attr_damagebonus" style="width: 50px;" type="text" readonly="">
							<input name="attr_mdamagebonus" style="display: none;" type="text" readonly="">							
						</div>
						<div>
							<label class="sheet-attribute_label" data-i18n="Move-Rate">Move Rate</label>
							<input name="attr_move_rate" style="width: 25px; margin-left: -36px;" type="text" value="8">
							<input name="attr_move_mod" disabled="" style="width: 25px;" type="text" value="round(@{enc_mod}/5)]">					<input name="attr_move_mod" disabled="" style="width: 25px;" type="text" value="[@{move_rate}+(round(@{enc_mod}/5))]">														
						</div>	
						<div>
							<label class="sheet-attribute_label" data-i18n="Dex-SRM">Dex SRM</label>
							<input name="attr_dex_srm" style="width: 50px;" type="text" readonly="" value="0">	
						</div>	
						<div>
							<label class="sheet-attribute_label" data-i18n="Size-SRM">Size SRM</label>
							<input name="attr_siz_srm" style="width: 50px;" type="text" readonly="" value="0">	
						</div>		
						<div>
							<label class="sheet-attribute_label" data-i18n="Melee SRM">Melee SRM</label>
							<input name="attr_melee_srm" style="width: 50px;" type="text" readonly="" value="0">	
						</div>		
						
						<div>
							<label class="sheet-attribute_label" data-i18n="Parry">Parry</label>
							<input name="attr_parry_mod" style="width: 50px;" type="text" readonly="" value="0">	
						</div>					
						
						<div>
						   
							<label class="sheet-attribute_label" style="width: 74px;" data-i18n="Defense">Defense</label>(<span style="width: 21px; display: inline-block;" name="attr_enc_mod"></span>)
							<input name="attr_defense" style="width: 50px;" type="text" readonly="" value="0">	
						</div>		

						
						
						
						
						<!--
						<div>
							<label style="font-size:1.0em;display:inline">Hps</label>
							<input type="number" readonly name="atr_hp_max" />
							<label style="font-size:1.0em;display:inline">mps</label>
							<input type="number" readonly name="atr_curpow" />
							<label style="font-size:1.0em;display:inline">fps</label>
							<input type="number" readonly name="atr_fp_max" />		
						</div>-->
						
						
						<input name="attr_attackbonus" style="display: none;" type="number">

						<input name="attr_parrybonus" style="display: none;" type="number">
						
					</div>
					
					
					</div>
				</div>	
					<div class="sheet-col" style="padding: 2px 2px 8px; border-radius: 6px; background-color: white;">
						<label data-i18n="Personal Information">Personal Information</label>
						<div>
							<label class="sheet-personal_label" data-i18n="Name">Name</label>
							<input name="attr_character_name" class="sheet-personalText" style="width: 326px;" type="text">	
						</div>
						<div>
							<label class="sheet-personal_label" data-i18n="Species">Species</label>
							<input name="attr_species" class="sheet-personalText" style="width: 312px;" type="text">	
						</div>		
						<div>
							<label class="sheet-personal_label" data-i18n="Age">Age</label>
							<input name="attr_age" class="sheet-personalText" style="width: 5em;" type="number">	
							<label class="sheet-personal_label" data-i18n="Gender">Gender</label>
							<input name="attr_gender" class="sheet-personalText" style="width: 208px;" type="text">	
							
						</div>
						<div>
							<label class="sheet-personal_label" data-i18n="Occupation">Occupation</label>
							<input name="attr_occupation" class="sheet-personalText" style="width: 288px;" type="text">	
						</div>
						<div>
							<label class="sheet-personal_label" data-i18n="Culture">Culture</label>
							<input name="attr_culture" class="sheet-personalText" style="width: 313px;" type="text">	
						</div>			
						<div>
							<label class="sheet-personal_label" data-i18n="Religion">Religion</label>
							<input name="attr_religion" class="sheet-personalText" style="width: 308px;" type="text">	
						</div>
						<div>
							<label class="sheet-personal_label" data-i18n="Reputation">Reputation</label>
							<input name="attr_reputation" class="sheet-personalText" style="width: 50px;" type="text" value="0">	
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{reputation}}} {{fumble=[[ceil(95+(@{reputation})/20))]]}} {{crit=[[ceil((@{reputation})/20)+1]]}} {{special=[[ceil((@{reputation})/5)+1]]}}         {{success=[[@{reputation}]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}"></button>										
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{reputation}}} {{fumble=[[ceil(95+(@{reputation}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{reputation}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{reputation}+?{Mods|0})/5)+1]]}}         {{success=[[@{reputation}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Reputation}}"></button>								
						</div>					
					</div>	
			</div>

			<br>
			<div style="background: white; border-radius: 6px; paddig: 5px;">
				<label data-i18n="Cult Membership">Cult Membership</label>
				<div class="sheet-melee_wpns_labels">
					<label style="width: 216px;" data-i18n="Cult">Cult</label>   
					<label style="width: 64px;" data-i18n="Rank">Rank</label>
					<label style="width: 30px;" data-i18n="Gifts-Geases-Notes">Gifts\Geases\Notes</label>
				</div>
				<fieldset class="repeating_cults2">
					<input name="attr_cult" style="width: 200px;" type="text">
					<input name="attr_cultrank" style="width: 100px;" type="text">
					<input name="attr_cultnotes" style="width: 500px;" type="text">
				</fieldset>
			</div>
			
			<br>
			<div style="background: white; border-radius: 6px; paddig: 5px;">
				<label data-i18n="Notes etc">Notes etc</label>
				<textarea name="attr_notes" style="width: 97%; margin-left: 4px;">			</textarea>
			</div>
			

			
		</div> <!-- End of tab 1 -->

		<!--<div style="width:853px;background-color:#ac6e73" class="sheet-tab-content sheet-tab2">-->
	<div class="sheet-tab-contentb sheet-tab2" style="width: 853px;">
		

			<br>

			
			<input name="attr_fatigue_mod" style="display: none;" type="text" value="0">
			<br>
			<div class="sheet-3colrow">
				<div class="sheet-col" style="margin-right: 10px;">
				 <div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">	
					<div>
						<label class="sheet-category_label" data-i18n="Agility">Agility</label>
						<input name="attr_agility_mod" disabled="" class="sheet-skill_values" type="text" readonly="" value="0">
					</div>
					
	<!--				
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_boat_check" />
						<div class="sheet-skill_button">Boat</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_aname}}} {{skillvalue=[@{boat_total}]}} {{fumble=[[ceil(95+([@{boat_total}])/20))]]}} {{crit=[[ceil(([@{boat_total}])/20)+1]]}} {{special=[[ceil(([@{boat_total}])/5)+1]]}}         {{success=[[[@{boat_total}]]]}} {{roll=[[1d100]]}} {{skillname=Boat}}" ></button>			
						<button  class="sheet-new_roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{boat_total}]}} {{fumble=[[ceil(95+([@{boat_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{boat_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{boat_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{boat_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Boat}}"   type="roll"></button>		
						<input class="sheet-skill_values" type="text" value="5" name="attr_boat_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{boat_value}+@{fatigue_mod}]" name="attr_boat_total" />
					</div>
	-->				
					<div style="margin-bottom: 2px;">	
						<input name="attr_climb_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Climb">Climb</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{climb_total}]}} {{fumble=[[ceil(95+([@{climb_total}])/20))]]}} {{crit=[[ceil(([@{climb_total}])/20)+1]]}} {{special=[[ceil(([@{climb_total}])/5)+1]]}}         {{success=[[[@{climb_total}]]]}} {{roll=[[1d100]]}} {{skillname=Climb}}"></button>					
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{climb_total}]}} {{fumble=[[ceil(95+([@{climb_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{climb_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{climb_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{climb_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Climb}}"></button>		
						<input name="attr_climb_value" class="sheet-skill_values" type="text" value="40">
						<input name="attr_climb_total" disabled="" class="sheet-skill_values" type="text" value="[@{agility_mod}+@{climb_value}+@{fatigue_mod}]">
					</div>		


					<div style="margin-bottom: 2px;">	
						<input name="attr_dodge_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Dodge-Dx2">Dodge(Dx2)</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(95+([@{dodge_total}])/20))]]}} {{crit=[[ceil(([@{dodge_total}])/20)+1]]}} {{special=[[ceil(([@{dodge_total}])/5)+1]]}}         {{success=[[[@{dodge_total}]]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(95+([@{dodge_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{dodge_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{dodge_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{dodge_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"></button>		
						<input name="attr_dodge_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_dodge_total" disabled="" class="sheet-skill_values" type="text" value="[@{agility_mod}+@{dodge_value}+@{fatigue_mod}]">
					</div>	

					<div style="margin-bottom: 2px;">	
						<input name="attr_jump_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Jump-Dx3">Jump (Dx3)</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{jump_total}]}} {{fumble=[[ceil(95+([@{jump_total}])/20))]]}} {{crit=[[ceil(([@{jump_total}])/20)+1]]}} {{special=[[ceil(([@{jump_total}])/5)+1]]}}         {{success=[[[@{jump_total}]]]}} {{roll=[[1d100]]}} {{skillname=Jump}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{jump_total}]}} {{fumble=[[ceil(95+([@{jump_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{jump_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{jump_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{jump_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Jump}}"></button>		
						<input name="attr_jump_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_jump_total" disabled="" class="sheet-skill_values" type="text" value="[@{agility_mod}+@{jump_value}+@{fatigue_mod}]">
					</div>	
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_ride_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Ride">Ride</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ride_total}]}} {{fumble=[[ceil(95+([@{ride_total}])/20))]]}} {{crit=[[ceil(([@{ride_total}])/20)+1]]}} {{special=[[ceil(([@{ride_total}])/5)+1]]}}         {{success=[[[@{ride_total}]]]}} {{roll=[[1d100]]}} {{skillname=Ride}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ride_total}]}} {{fumble=[[ceil(95+([@{ride_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{ride_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{ride_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{ride_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Ride}}"></button>		
						<input name="attr_ride_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_ride_total" disabled="" class="sheet-skill_values" type="text" value="[@{agility_mod}+@{ride_value}+@{fatigue_mod}]">
					</div>			
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_swim_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Swim">Swim</div> 
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{swim_total}]}} {{fumble=[[ceil(95+([@{swim_total}])/20))]]}} {{crit=[[ceil(([@{swim_total}])/20)+1]]}} {{special=[[ceil(([@{swim_total}])/5)+1]]}}         {{success=[[[@{swim_total}]]]}} {{roll=[[1d100]]}} {{skillname=Swim}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{swim_total}]}} {{fumble=[[ceil(95+([@{swim_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{swim_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{swim_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{swim_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Swim}}"></button>		
						<input name="attr_swim_value" class="sheet-skill_values" type="text" value="15">
						<input name="attr_swim_total" disabled="" class="sheet-skill_values" type="text" value="[@{agility_mod}+@{swim_value}+@{fatigue_mod}]">
					</div>			
					<!--	
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_throw_check" />
						<div class="sheet-skill_button">Throw</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{throw_total}]}} {{fumble=[[ceil(95+([@{throw_total}])/20))]]}} {{crit=[[ceil(([@{throw_total}])/20)+1]]}} {{special=[[ceil(([@{throw_total}])/5)+1]]}}         {{success=[[[@{throw_total}]]]}} {{roll=[[1d100]]}} {{skillname=Throw}}"  ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{throw_total}]}} {{fumble=[[ceil(95+([@{throw_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{throw_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{throw_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{throw_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Throw}}"  ></button>		
						<input class="sheet-skill_values" type="text" value="25" name="attr_throw_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{agility_mod}+@{throw_value}+@{fatigue_mod}]" name="attr_throw_total" />
					</div>
					-->
					<fieldset class="repeating_askills">
						<div style="margin-bottom: 2px;">	
							<input name="attr_askill_check" style="display: inline-block;" type="checkbox">
							<input name="attr_askill_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{askill_total}}} {{fumble=[[95+ceil((@{askill_total}/20))]]}} {{crit=[[round(@{askill_total}/20)+1]]}} {{special=[[round((@{askill_total})/5)+1]]}}         {{success=[[@{askill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{askill_name}}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{askill_total}}} {{fumble=[[95+ceil(((@{askill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{askill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{askill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{askill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{askill_name}}}"></button>
							<input name="attr_askill_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_askill_total" disabled="" class="sheet-skill_values" type="text" value="@{askill_value}+@{agility_mod}+@{fatigue_mod}">
							
						</div>				
					</fieldset>
					
					
					
				  </div>		
				  
				  
				  
				  
					<br>
					<div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
					<div>
						<label class="sheet-category_label" data-i18n="Communications">Communications</label>
						<input name="attr_Communications_mod" disabled="" class="sheet-skill_values" type="text" readonly="" value="0">
					</div>		

					<div style="margin-bottom: 2px;">	
						<input name="attr_act_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Act">Act</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{act_total}]}} {{fumble=[[ceil(95+([@{act_total}])/20))]]}} {{crit=[[ceil(([@{act_total}])/20)+1]]}} {{special=[[ceil(([@{act_total}])/5)+1]]}}         {{success=[[[@{act_total}]]]}} {{roll=[[1d100]]}} {{skillname=Act}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{act_total}]}} {{fumble=[[ceil(95+([@{act_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{act_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{act_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{act_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Act}}"></button>		
						<input name="attr_act_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_act_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{act_value}+@{fatigue_mod}]">
					</div>	

					<div style="margin-bottom: 2px;">	
						<input name="attr_art_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Art">Art</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{art_total}]}} {{fumble=[[ceil(95+([@{art_total}])/20))]]}} {{crit=[[ceil(([@{art_total}])/20)+1]]}} {{special=[[ceil(([@{art_total}])/5)+1]]}}         {{success=[[[@{art_total}]]]}} {{roll=[[1d100]]}} {{skillname=Art}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{art_total}]}} {{fumble=[[ceil(95+([@{art_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{art_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{art_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{art_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Art}}"></button>		
						<input name="attr_art_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_art_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{art_value}+@{fatigue_mod}]">
					</div>

					<div style="margin-bottom: 2px;">	
						<input name="attr_bargain_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Bargain">Bargain</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{bargain_total}]}} {{fumble=[[ceil(95+([@{bargain_total}])/20))]]}} {{crit=[[ceil(([@{bargain_total}])/20)+1]]}} {{special=[[ceil(([@{bargain_total}])/5)+1]]}}         {{success=[[[@{bargain_total}]]]}} {{roll=[[1d100]]}} {{skillname=Bargain}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{bargain_total}]}} {{fumble=[[ceil(95+([@{bargain_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{bargain_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{bargain_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{bargain_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Bargain}}"></button>		
						<input name="attr_bargain_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_bargain_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{bargain_value}+@{fatigue_mod}]">
					</div>	

					<div style="margin-bottom: 2px;">	
						<input name="attr_charm_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Charm">Charm</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{charm_total}]}} {{fumble=[[ceil(95+([@{charm_total}])/20))]]}} {{crit=[[ceil(([@{charm_total}])/20)+1]]}} {{special=[[ceil(([@{charm_total}])/5)+1]]}}         {{success=[[[@{charm_total}]]]}} {{roll=[[1d100]]}} {{skillname=Charm}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{charm_total}]}} {{fumble=[[ceil(95+([@{charm_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{charm_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{charm_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{charm_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Charm}}"></button>		
						<input name="attr_charm_value" class="sheet-skill_values" type="text" value="15">
						<input name="attr_charm_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{charm_value}+@{fatigue_mod}]">
					</div>		

					<div style="margin-bottom: 2px;">	
						<input name="attr_dance_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Dance">Dance</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dance_total}]}} {{fumble=[[ceil(95+([@{dance_total}])/20))]]}} {{crit=[[ceil(([@{dance_total}])/20)+1]]}} {{special=[[ceil(([@{dance_total}])/5)+1]]}}         {{success=[[[@{dance_total}]]]}} {{roll=[[1d100]]}} {{skillname=Dance}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dance_total}]}} {{fumble=[[ceil(95+([@{dance_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{dance_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{dance_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{dance_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dance}}"></button>		
						<input name="attr_dance_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_dance_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{dance_value}+@{fatigue_mod}]">
					</div>		

					<div style="margin-bottom: 2px;">	
						<input name="attr_disguise_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Disguise">Disguise</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{disguise_total}]}} {{fumble=[[ceil(95+([@{disguise_total}])/20))]]}} {{crit=[[ceil(([@{disguise_total}])/20)+1]]}} {{special=[[ceil(([@{disguise_total}])/5)+1]]}}         {{success=[[[@{disguise_total}]]]}} {{roll=[[1d100]]}} {{skillname=Disguise}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{disguise_total}]}} {{fumble=[[ceil(95+([@{disguise_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{disguise_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{disguise_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{disguise_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Disguise}}"></button>		
						<input name="attr_disguise_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_disguise_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{disguise_value}+@{fatigue_mod}]">
					</div>				
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_fast_talk__check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Fast Talk">Fast Talk</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{fast_talk_total}]}} {{fumble=[[ceil(95+([@{fast_talk_total}])/20))]]}} {{crit=[[ceil(([@{fast_talk_total}])/20)+1]]}} {{special=[[ceil(([@{fast_talk_total}])/5)+1]]}}         {{success=[[[@{fast_talk_total}]]]}} {{roll=[[1d100]]}} {{skillname=Fast Talk}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{fast_talk_total}]}} {{fumble=[[ceil(95+([@{fast_talk_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{fast_talk_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{fast_talk_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{fast_talk_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Fast_talk}}"></button>		
						<input name="attr_fast_talk_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_fast_talk_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{fast_talk_value}+@{fatigue_mod}]">
					</div>	

					<div style="margin-bottom: 2px;">	
						<input name="attr_intimidate_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Intimidate">Intimidate</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intimidate_total}]}} {{fumble=[[ceil(95+([@{intimidate_total}])/20))]]}} {{crit=[[ceil(([@{intimidate_total}])/20)+1]]}} {{special=[[ceil(([@{intimidate_total}])/5)+1]]}}         {{success=[[[@{intimidate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Intimidate}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intimidate_total}]}} {{fumble=[[ceil(95+([@{intimidate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{intimidate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{intimidate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{intimidate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Intimidate}}"></button>		
						<input name="attr_intimidate_value" class="sheet-skill_values" type="text" value="15">
						<input name="attr_intimidate_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{intimidate_value}+@{fatigue_mod}]">
					</div>				
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_orate_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Orate">Orate</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{orate_total}]}} {{fumble=[[ceil(95+([@{orate_total}])/20))]]}} {{crit=[[ceil(([@{orate_total}])/20)+1]]}} {{special=[[ceil(([@{orate_total}])/5)+1]]}}         {{success=[[[@{orate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Orate}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{orate_total}]}} {{fumble=[[ceil(95+([@{orate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{orate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{orate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{orate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Orate}}"></button>		
						<input name="attr_orate_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_orate_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{orate_value}+@{fatigue_mod}]">
					</div>			

					<div style="margin-bottom: 2px;">	
						<input name="attr_sing_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Sing">Sing</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sing_total}]}} {{fumble=[[ceil(95+([@{sing_total}])/20))]]}} {{crit=[[ceil(([@{sing_total}])/20)+1]]}} {{special=[[ceil(([@{sing_total}])/5)+1]]}}         {{success=[[[@{sing_total}]]]}} {{roll=[[1d100]]}} {{skillname=sing}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sing_total}]}} {{fumble=[[ceil(95+([@{sing_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{sing_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{sing_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{sing_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Sing}}"></button>
						<input name="attr_sing_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_sing_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{sing_value}+@{fatigue_mod}]">
					</div>	
					<p style="font-weight: bold; margin-bottom: 1px;">Speak Languages</p>
					<div style="margin-bottom: 2px;">	
						<input name="attr_own_lang_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Own">Own</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{own_lang_total}]}} {{fumble=[[ceil(95+([@{own_lang_total}])/20))]]}} {{crit=[[ceil(([@{own_lang_total}])/20)+1]]}} {{special=[[ceil(([@{own_lang_total}])/5)+1]]}} {{success=[[[@{own_lang_total}]]]}} {{roll=[[1d100]]}} {{skillname=Own Lang.}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{own_lang_total}]}} {{fumble=[[ceil(95+([@{own_lang_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{own_lang_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{own_lang_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{own_lang_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Own Lang.}}"></button>
			
						<input name="attr_own_lang_value" class="sheet-skill_values" type="text" value="30">
						<input name="attr_own_lang_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{own_lang_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_own_lang1_check" style="display: inline-block;" type="checkbox">
						<input name="attr_lang1_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang1_total}]}} {{fumble=[[ceil(95+([@{lang1_total}])/20))]]}} {{crit=[[ceil(([@{lang1_total}])/20)+1]]}} {{special=[[ceil(([@{lang1_total}])/5)+1]]}}         {{success=[[[@{lang1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lang1_name}}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang1_total}]}} {{fumble=[[ceil(95+([@{lang1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lang1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lang1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lang1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lang1_name}}}"></button>
									
						<input name="attr_lang1_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_lang1_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{lang1_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_own_lang2_check" style="display: inline-block;" type="checkbox">
						<input name="attr_lang2_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang2_total}]}} {{fumble=[[ceil(95+([@{lang2_total}])/20))]]}} {{crit=[[ceil(([@{lang2_total}])/20)+1]]}} {{special=[[ceil(([@{lang2_total}])/5)+1]]}}         {{success=[[[@{lang2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lang2_name}}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lang2_total}]}} {{fumble=[[ceil(95+([@{lang2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lang2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lang2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lang2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lang2_name}}}"></button>		
						<input name="attr_lang2_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_lang2_total" disabled="" class="sheet-skill_values" type="text" value="[@{Communications_mod}+@{lang2_value}+@{fatigue_mod}]">
					</div>		
					<fieldset class="repeating_cskills">
						<div style="margin-bottom: 2px;">	
							<input name="attr_cskill_check" style="display: inline-block;" type="checkbox">
							<input name="attr_cskill_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{cskill_total}}} {{fumble=[[95+ceil((@{cskill_total}/20))]]}} {{crit=[[round(@{cskill_total}/20)+1]]}} {{special=[[round((@{cskill_total})/5)+1]]}}         {{success=[[@{cskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{cskill_name}}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{cskill_total}}} {{fumble=[[95+ceil(((@{cskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{cskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{cskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{cskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{cskill_name}}}"></button>
							<input name="attr_cskill_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_cskill_total" disabled="" class="sheet-skill_values" type="text" value="@{cskill_value}+@{Communications_mod}+@{fatigue_mod}">
							
						</div>				
					</fieldset>
					
					
				 </div>	
					
				</div>
				<div class="sheet-col" style="margin-right: 15px;">
					<div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
					<div>
						<label class="sheet-category_label" data-i18n="Knowledge">Knowledge</label>
						<input name="attr_knowledge_mod" disabled="" class="sheet-skill_values" type="text" readonly="" value="0">
					</div>	
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_battle_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Battle">Battle</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{battle_total}]}} {{fumble=[[ceil(95+([@{battle_total}])/20))]]}} {{crit=[[ceil(([@{battle_total}])/20)+1]]}} {{special=[[ceil(([@{battle_total}])/5)+1]]}}         {{success=[[[@{battle_total}]]]}} {{roll=[[1d100]]}} {{skillname=Battle}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{battle_total}]}} {{fumble=[[ceil(95+([@{battle_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{battle_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{battle_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{battle_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Battle}}"></button>		
						<input name="attr_battle_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_battle_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{battle_value}+@{fatigue_mod}]">
					</div>				
					
					
					<!--
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_sing_check" />
						<div class="sheet-skill_button">Animal Lore</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{animal_lore_total}]}} {{fumble=[[ceil(95+([@{animal_lore_total}])/20))]]}} {{crit=[[ceil(([@{animal_lore_total}])/20)+1]]}} {{special=[[ceil(([@{animal_lore_total}])/5)+1]]}}         {{success=[[[@{animal_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Animal Lore}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{animal_lore_total}]}} {{fumble=[[ceil(95+([@{animal_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{animal_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{animal_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{animal_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Animal Lore}}"  ></button>	
						<input class="sheet-skill_values" type="text" value="5" name="attr_animal_lore_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{animal_lore_value}+@{fatigue_mod}]" name="attr_animal_lore_total" />
					</div>			
					-->
					
		
					<div style="margin-bottom: 2px;">	
						<input name="attr_evaluate_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Evaluate">Evaluate</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{evaluate_total}]}} {{fumble=[[ceil(95+([@{evaluate_total}])/20))]]}} {{crit=[[ceil(([@{evaluate_total}])/20)+1]]}} {{special=[[ceil(([@{evaluate_total}])/5)+1]]}}         {{success=[[[@{evaluate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Evaluate}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{evaluate_total}]}} {{fumble=[[ceil(95+([@{evaluate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{evaluate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{evaluate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{evaluate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Evaluate}}"></button>		
						<input name="attr_evaluate_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_evaluate_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{evaluate_value}+@{fatigue_mod}]">
					</div>	
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_farm_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Farm">Farm</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{farm_total}]}} {{fumble=[[ceil(95+([@{farm_total}])/20))]]}} {{crit=[[ceil(([@{farm_total}])/20)+1]]}} {{special=[[ceil(([@{farm_total}])/5)+1]]}}         {{success=[[[@{farm_total}]]]}} {{roll=[[1d100]]}} {{skillname=Farm}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{farm_total}]}} {{fumble=[[ceil(95+([@{farm_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{farm_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{farm_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{farm_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Farm}}"></button>		
						<input name="attr_farm_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_farm_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{farm_value}+@{fatigue_mod}]">
					</div>				

					<div style="margin-bottom: 2px;">	
						<input name="attr_firstaid_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="First Aid">First Aid</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{firstaid_total}]}} {{fumble=[[ceil(95+([@{firstaid_total}])/20))]]}} {{crit=[[ceil(([@{firstaid_total}])/20)+1]]}} {{special=[[ceil(([@{firstaid_total}])/5)+1]]}}         {{success=[[[@{firstaid_total}]]]}} {{roll=[[1d100]]}} {{skillname=First Aid}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{firstaid_total}]}} {{fumble=[[ceil(95+([@{firstaid_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{firstaid_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{firstaid_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{firstaid_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=First Aid}}"></button>		
						<input name="attr_firstaid_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_firstaid_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{firstaid_value}+@{fatigue_mod}]">
					</div>				

					<p style="font-weight: bold; margin-bottom: 1px;">Herd</p>
					<div style="margin-bottom: 2px;">	
						<input name="attr_own_herd1_check" style="display: inline-block;" type="checkbox">
						<input name="attr_herd1_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd1_total}]}} {{fumble=[[ceil(95+([@{herd1_total}])/20))]]}} {{crit=[[ceil(([@{herd1_total}])/20)+1]]}} {{special=[[ceil(([@{herd1_total}])/5)+1]]}}         {{success=[[[@{herd1_total}]]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd1_name})}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd1_total}]}} {{fumble=[[ceil(95+([@{herd1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{herd1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{herd1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{herd1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd1_name})}}"></button>	
						<input name="attr_herd1_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_herd1_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{herd1_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_herd2_check" style="display: inline-block;" type="checkbox">
						<input name="attr_herd2_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd2_total}]}} {{fumble=[[ceil(95+([@{herd2_total}])/20))]]}} {{crit=[[ceil(([@{herd2_total}])/20)+1]]}} {{special=[[ceil(([@{herd2_total}])/5)+1]]}}         {{success=[[[@{herd2_total}]]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd2_name})}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{herd2_total}]}} {{fumble=[[ceil(95+([@{herd2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{herd2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{herd2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{herd2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Herd (@{herd2_name})}}"></button>		
						<input name="attr_herd2_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_herd2_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{herd2_value}+@{fatigue_mod}]">
					</div>					
					
					<!--
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_human_lore_check" />
						<div class="sheet-skill_button">Human Lore</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{human_lore_total}]}} {{fumble=[[ceil(95+([@{human_lore_total}])/20))]]}} {{crit=[[ceil(([@{human_lore_total}])/20)+1]]}} {{special=[[ceil(([@{human_lore_total}])/5)+1]]}}         {{success=[[[@{human_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Human Lore}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{human_lore_total}]}} {{fumble=[[ceil(95+([@{human_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{human_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{human_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{human_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Human Lore}}"  ></button>		
						<input class="sheet-skill_values" type="text" value="5" name="attr_human_lore_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{human_lore_value}+@{fatigue_mod}]" name="attr_human_lore_total" />
					</div>	
					-->
					<!--
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_martial_arts" />
						<div class="sheet-skill_button">Martial Arts</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{martial_arts_total}]}} {{fumble=[[ceil(95+([@{martial_arts_total}])/20))]]}} {{crit=[[ceil(([@{martial_arts_total}])/20)+1]]}} {{special=[[ceil(([@{martial_arts_total}])/5)+1]]}}         {{success=[[[@{martial_arts_total}]]]}} {{roll=[[1d100]]}} {{skillname=Martial Arts}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{martial_arts_total}]}} {{fumble=[[ceil(95+([@{martial_arts_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{martial_arts_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{martial_arts_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{martial_arts_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Martial Arts}}"  ></button>		
						<input class="sheet-skill_values" type="text" value="0" name="attr_martial_arts_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{martial_arts_value}+@{fatigue_mod}]" name="attr_martial_arts_total" />
					</div>	
					-->
					
					<p style="font-weight: bold; margin-bottom: 1px;">Lore</p>
					<div style="margin-bottom: 2px;">	
						<input name="attr_lore_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Homeland">Homeland</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore_total}]}} {{fumble=[[ceil(95+([@{lore_total}])/20))]]}} {{crit=[[ceil(([@{lore_total}])/20)+1]]}} {{special=[[ceil(([@{lore_total}])/5)+1]]}} {{success=[[[@{lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Homeland Lore}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore_total}]}} {{fumble=[[ceil(95+([@{lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Home Land Lore}}"></button>
			
						<input name="attr_lore_value" class="sheet-skill_values" type="text" value="30">
						<input name="attr_lore_total" disabled="" class="sheet-skill_values" type="text" value="[@{Knowledge_mod}+@{lore_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_lore1_check" style="display: inline-block;" type="checkbox">
						<input name="attr_lore1_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore1_total}]}} {{fumble=[[ceil(95+([@{lore1_total}])/20))]]}} {{crit=[[ceil(([@{lore1_total}])/20)+1]]}} {{special=[[ceil(([@{lore1_total}])/5)+1]]}}         {{success=[[[@{lore1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore1_name} Lore}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore1_total}]}} {{fumble=[[ceil(95+([@{lore1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore1_name} Lore}}"></button>
									
						<input name="attr_lore1_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_lore1_total" disabled="" class="sheet-skill_values" type="text" value="[@{Knowledge_mod}+@{lore1_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_lore2_check" style="display: inline-block;" type="checkbox">
						<input name="attr_lore2_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore2_total}]}} {{fumble=[[ceil(95+([@{lore2_total}])/20))]]}} {{crit=[[ceil(([@{lore2_total}])/20)+1]]}} {{special=[[ceil(([@{lore2_total}])/5)+1]]}}         {{success=[[[@{lore2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore2_name} Lore}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore2_total}]}} {{fumble=[[ceil(95+([@{lore2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore2_name} Lore}}"></button>		
						<input name="attr_lore2_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_lore2_total" disabled="" class="sheet-skill_values" type="text" value="[@{Knowledge_mod}+@{lore2_value}+@{fatigue_mod}]">
					</div>
					<div style="margin-bottom: 2px;">	
						<input name="attr_lore3_check" style="display: inline-block;" type="checkbox">
						<input name="attr_lore3_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore3_total}]}} {{fumble=[[ceil(95+([@{lore3_total}])/20))]]}} {{crit=[[ceil(([@{lore3_total}])/20)+1]]}} {{special=[[ceil(([@{lore3_total}])/5)+1]]}}         {{success=[[[@{lore3_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore3_name} Lore}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore3_total}]}} {{fumble=[[ceil(95+([@{lore3_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore3_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore3_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore3_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore3_name} Lore}}"></button>		
						<input name="attr_lore3_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_lore3_total" disabled="" class="sheet-skill_values" type="text" value="[@{Knowledge_mod}+@{lore3_value}+@{fatigue_mod}]">
					</div>
					<div style="margin-bottom: 2px;">	
						<input name="attr_lore4_check" style="display: inline-block;" type="checkbox">
						<input name="attr_lore4_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore4_total}]}} {{fumble=[[ceil(95+([@{lore4_total}])/20))]]}} {{crit=[[ceil(([@{lore4_total}])/20)+1]]}} {{special=[[ceil(([@{lore4_total}])/5)+1]]}}         {{success=[[[@{lore4_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{lore4_name} Lore}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{lore4_total}]}} {{fumble=[[ceil(95+([@{lore4_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{lore4_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{lore4_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{lore4_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{lore4_name} Lore}}"></button>		
						<input name="attr_lore4_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_lore4_total" disabled="" class="sheet-skill_values" type="text" value="[@{Knowledge_mod}+@{lore4_value}+@{fatigue_mod}]">
					</div>					
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_manage_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Manage">Manage</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{manage_total}]}} {{fumble=[[ceil(95+([@{manage_total}])/20))]]}} {{crit=[[ceil(([@{manage_total}])/20)+1]]}} {{special=[[ceil(([@{manage_total}])/5)+1]]}}         {{success=[[[@{manage_total}]]]}} {{roll=[[1d100]]}} {{skillname=Manage}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{manage_total}]}} {{fumble=[[ceil(95+([@{manage_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{manage_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{manage_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{manage_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Manage}}"></button>		
						<input name="attr_manage_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_manage_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{manage_value}+@{fatigue_mod}]">
					</div>				
					
					<!--
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_mineral_lore_check" />
						<div class="sheet-skill_button">Mineral Lore</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{mineral_lore_total}]}} {{fumble=[[ceil(95+([@{mineral_lore_total}])/20))]]}} {{crit=[[ceil(([@{mineral_lore_total}])/20)+1]]}} {{special=[[ceil(([@{mineral_lore_total}])/5)+1]]}}         {{success=[[[@{mineral_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Mineral Lore}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{mineral_lore_total}]}} {{fumble=[[ceil(95+([@{mineral_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{mineral_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{mineral_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{mineral_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Mineral Lore}}"  ></button>	
						<input class="sheet-skill_values" type="text" value="5" name="attr_mineral_lore_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{mineral_lore_value}+@{fatigue_mod}]" name="attr_mineral_lore_total" />
					</div>	
					-->
					<!--
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_plant_lore_check" />
						<div class="sheet-skill_button">Plant Lore</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{plant_lore_total}]}} {{fumble=[[ceil(95+([@{plant_lore_total}])/20))]]}} {{crit=[[ceil(([@{plant_lore_total}])/20)+1]]}} {{special=[[ceil(([@{plant_lore_total}])/5)+1]]}}         {{success=[[[@{plant_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=Plant Lore}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{plant_lore_total}]}} {{fumble=[[ceil(95+([@{plant_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{plant_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{plant_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{plant_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Plant Lore}}"  ></button>		
						<input class="sheet-skill_values" type="text" value="5" name="attr_plant_lore_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{plant_lore_value}+@{fatigue_mod}]" name="attr_plant_lore_total" />
					</div>	
					-->

					<p style="font-weight: bold; margin-bottom: 1px;">R/W Languages</p>
					<div style="margin-bottom: 2px;">	
						<input name="attr_own_rw_lang1_check" style="display: inline-block;" type="checkbox">
						<input name="attr_rw_lang1_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang1_total}]}} {{fumble=[[ceil(95+([@{rw_lang1_total}])/20))]]}} {{crit=[[ceil(([@{rw_lang1_total}])/20)+1]]}} {{special=[[ceil(([@{rw_lang1_total}])/5)+1]]}}         {{success=[[[@{rw_lang1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang1_name}}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang1_total}]}} {{fumble=[[ceil(95+([@{rw_lang1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{rw_lang1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{rw_lang1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{rw_lang1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang1_name}}}"></button>	
						<input name="attr_rw_lang1_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_rw_lang1_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{rw_lang1_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_own_rw_lang2_check" style="display: inline-block;" type="checkbox">
						<input name="attr_rw_lang2_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang2_total}]}} {{fumble=[[ceil(95+([@{rw_lang2_total}])/20))]]}} {{crit=[[ceil(([@{rw_lang2_total}])/20)+1]]}} {{special=[[ceil(([@{rw_lang2_total}])/5)+1]]}}         {{success=[[[@{rw_lang2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang2_name}}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{rw_lang2_total}]}} {{fumble=[[ceil(95+([@{rw_lang2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{rw_lang2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{rw_lang2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{rw_lang2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{rw_lang2_name}}}"></button>		
						<input name="attr_rw_lang2_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_rw_lang2_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{rw_lang2_value}+@{fatigue_mod}]">
					</div>		

					
					<!--
					<div style="margin-bottom:2px">			
						<input  style="display:inline-block" type="checkbox" name="attr_ship_handling_check" />
						<div class="sheet-skill_button">Ship Handling</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ship_handling_total}]}} {{fumble=[[ceil(95+([@{ship_handling_total}])/20))]]}} {{crit=[[ceil(([@{ship_handling_total}])/20)+1]]}} {{special=[[ceil(([@{ship_handling_total}])/5)+1]]}}         {{success=[[[@{ship_handling_total}]]]}} {{roll=[[1d100]]}} {{skillname=Ship Handling}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ship_handling_total}]}} {{fumble=[[ceil(95+([@{ship_handling_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{ship_handling_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{ship_handling_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{ship_handling_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Ship Handling}}"  ></button>		
						<input class="sheet-skill_values" type="text" value="5" name="attr_ship_handling_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{ship_handling_value}+@{fatigue_mod}]" name="attr_ship_handling_total" />
					</div>	
					-->
					<!--
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_world_lore_check" />
						<div class="sheet-skill_button">World Lore</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{world_lore_total}]}} {{fumble=[[ceil(95+([@{world_lore_total}])/20))]]}} {{crit=[[ceil(([@{world_lore_total}])/20)+1]]}} {{special=[[ceil(([@{world_lore_total}])/5)+1]]}}         {{success=[[[@{world_lore_total}]]]}} {{roll=[[1d100]]}} {{skillname=World Lore}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{world_lore_total}]}} {{fumble=[[ceil(95+([@{world_lore_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{world_lore_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{world_lore_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{world_lore_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=World Lore}}"  ></button>		
						<input class="sheet-skill_values" type="text" value="5" name="attr_world_lore_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{world_lore_value}+@{fatigue_mod}]" name="attr_world_lore_total" />
					</div>	
					-->
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_survival_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Survival">Survival</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{survival_total}]}} {{fumble=[[ceil(95+([@{survival_total}])/20))]]}} {{crit=[[ceil(([@{survival_total}])/20)+1]]}} {{special=[[ceil(([@{survival_total}])/5)+1]]}}         {{success=[[[@{survival_total}]]]}} {{roll=[[1d100]]}} {{skillname=Survival}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{survival_total}]}} {{fumble=[[ceil(95+([@{survival_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{survival_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{survival_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{survival_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Survival}}"></button>		
						<input name="attr_survival_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_survival_total" disabled="" class="sheet-skill_values" type="text" value="[@{knowledge_mod}+@{survival_value}+@{fatigue_mod}]">
					</div>				
					
					
					<fieldset class="repeating_kskills">
						<div style="margin-bottom: 2px;">	
							<input name="attr_kskill_check" style="display: inline-block;" type="checkbox">
							<input name="attr_kskill_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{kskill_total}}} {{fumble=[[95+ceil((@{kskill_total}/20))]]}} {{crit=[[round(@{kskill_total}/20)+1]]}} {{special=[[round((@{kskill_total})/5)+1]]}}         {{success=[[@{kskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{kskill_name}}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{kskill_total}}} {{fumble=[[95+ceil(((@{kskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{kskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{kskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{kskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{kskill_name}}}"></button>
							<input name="attr_kskill_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_kskill_total" disabled="" class="sheet-skill_values" type="text" value="@{kskill_value}+@{knowledge_mod}+@{fatigue_mod}">
							
						</div>				
					</fieldset>




					
					</div>
					
					<br>

					<div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
						<div>
							<label class="sheet-category_label" data-i18n="Magic">Magic</label>
							<input name="attr_magic_mod" disabled="" class="sheet-skill_values" type="text" readonly="" value="0">
						</div>	
						
						<div style="margin-bottom: 2px;">	
							<input name="attr_meditate_check" style="display: inline-block;" type="checkbox">
							<div class="sheet-skill_button" data-i18n="Meditate">Meditate</div>
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{meditate_total}]}} {{fumble=[[ceil(95+([@{meditate_total}])/20))]]}} {{crit=[[ceil(([@{meditate_total}])/20)+1]]}} {{special=[[ceil(([@{meditate_total}])/5)+1]]}}         {{success=[[[@{meditate_total}]]]}} {{roll=[[1d100]]}} {{skillname=Meditate}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{meditate_total}]}} {{fumble=[[ceil(95+([@{meditate_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{meditate_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{meditate_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{meditate_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Meditate}}"></button>			
							<input name="attr_meditate_value" class="sheet-skill_values" type="text" value="5">
							<input name="attr_meditate_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{meditate_value}+@{fatigue_mod}]">
						</div>	

						<div style="margin-bottom: 2px;">	
							<input name="attr_prepare_corpse_check" style="display: inline-block;" type="checkbox">
							<div class="sheet-skill_button" data-i18n="Prep-Corpse">Prep. Corpse</div>
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{prepare_corpse_total}]}} {{fumble=[[ceil(95+([@{prepare_corpse_total}])/20))]]}} {{crit=[[ceil(([@{prepare_corpse_total}])/20)+1]]}} {{special=[[ceil(([@{prepare_corpse_total}])/5)+1]]}}         {{success=[[[@{prepare_corpse_total}]]]}} {{roll=[[1d100]]}} {{skillname=Prepare Corpse}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{prepare_corpse_total}]}} {{fumble=[[ceil(95+([@{prepare_corpse_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{prepare_corpse_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{prepare_corpse_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{prepare_corpse_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Prepare Corpse}}"></button>			
							<input name="attr_prepare_corpse_value" class="sheet-skill_values" type="text" value="5">
							<input name="attr_prepare_corpse_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{prepare_corpse_value}+@{fatigue_mod}]">
						</div>
						
						<div style="margin-bottom: 2px;">	
							<input name="attr_spirit_combat_check" style="display: inline-block;" type="checkbox">
							<div class="sheet-skill_button" data-i18n="Spirt-Cmbt">Spirt Cmbt.</div>
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}])/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}])/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}])/5)+1]]}}         {{success=[[[@{spirit_combat_total}]]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{spirit_combat_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}"></button>			
							<input name="attr_spirit_combat_value" class="sheet-skill_values" type="text" value="20">
							<input name="attr_spirit_combat_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{spirit_combat_value}+@{fatigue_mod}]">
						</div>	

						<p style="font-weight: bold; margin-bottom: 1px;">Worship</p>
						<div style="margin-bottom: 2px;">	
							<input name="attr_own_worship1_check" style="display: inline-block;" type="checkbox">
							<input name="attr_worship1_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship1_total}]}} {{fumble=[[ceil(95+([@{worship1_total}])/20))]]}} {{crit=[[ceil(([@{worship1_total}])/20)+1]]}} {{special=[[ceil(([@{worship1_total}])/5)+1]]}}         {{success=[[[@{worship1_total}]]]}} {{roll=[[1d100]]}} {{skillname= Worship (@{worship1_name})}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship1_total}]}} {{fumble=[[ceil(95+([@{worship1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{worship1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{worship1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{worship1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Worship (@{worship1_name})}}"></button>	
							<input name="attr_worship1_value" class="sheet-skill_values" type="text" value="5">
							<input name="attr_worship1_total" disabled="" class="sheet-skill_values" type="text" value="[@{manipulation_mod}+@{worship1_value}+@{fatigue_mod}]">
						</div>			
						<div style="margin-bottom: 2px;">	
							<input name="attr_worship2_check" style="display: inline-block;" type="checkbox">
							<input name="attr_worship2_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship2_total}]}} {{fumble=[[ceil(95+([@{worship2_total}])/20))]]}} {{crit=[[ceil(([@{worship2_total}])/20)+1]]}} {{special=[[ceil(([@{worship2_total}])/5)+1]]}}         {{success=[[[@{worship2_total}]]]}} {{roll=[[1d100]]}} {{skillname=Worship (@{worship2_name})}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{worship2_total}]}} {{fumble=[[ceil(95+([@{worship2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{worship2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{worship2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{worship2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Worship (@{worship2_name})}}"></button>		
							<input name="attr_worship2_value" class="sheet-skill_values" type="text" value="5">
							<input name="attr_worship2_total" disabled="" class="sheet-skill_values" type="text" value="[@{manipulation_mod}+@{worship2_value}+@{fatigue_mod}]">
						</div>					
						
						
					</div>	
					
					
				</div>
				

				
				
				
				<div class="sheet-col" style="margin-right: 10px;">
					<div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
					<div>
						<label class="sheet-category_label" data-i18n="Manipulation">Manipulation</label>
						<input name="attr_manipulation_mod" disabled="" class="sheet-skill_values" type="text" readonly="" value="0">
					</div>	
					
					<p style="font-weight: bold; margin-bottom: 1px;">Craft</p>
					<div style="margin-bottom: 2px;">	
						<input name="attr_own_craft1_check" style="display: inline-block;" type="checkbox">
						<input name="attr_craft1_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft1_total}]}} {{fumble=[[ceil(95+([@{craft1_total}])/20))]]}} {{crit=[[ceil(([@{craft1_total}])/20)+1]]}} {{special=[[ceil(([@{craft1_total}])/5)+1]]}}         {{success=[[[@{craft1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{craft1_name}}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft1_total}]}} {{fumble=[[ceil(95+([@{craft1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{craft1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{craft1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{craft1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{craft1_name}}}"></button>	
						<input name="attr_craft1_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_craft1_total" disabled="" class="sheet-skill_values" type="text" value="[@{manipulation_mod}+@{craft1_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_craft2_check" style="display: inline-block;" type="checkbox">
						<input name="attr_craft2_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft2_total}]}} {{fumble=[[ceil(95+([@{craft2_total}])/20))]]}} {{crit=[[ceil(([@{craft2_total}])/20)+1]]}} {{special=[[ceil(([@{craft2_total}])/5)+1]]}}         {{success=[[[@{craft2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{craft2_name}}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{craft2_total}]}} {{fumble=[[ceil(95+([@{craft2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{craft2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{craft2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{craft2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{craft2_name}}}"></button>		
						<input name="attr_craft2_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_craft2_total" disabled="" class="sheet-skill_values" type="text" value="[@{manipulation_mod}+@{craft2_value}+@{fatigue_mod}]">
					</div>					
					
					
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_conceal_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Conceal">Conceal</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{conceal_total}]}} {{fumble=[[ceil(95+([@{conceal_total}])/20))]]}} {{crit=[[ceil(([@{conceal_total}])/20)+1]]}} {{special=[[ceil(([@{conceal_total}])/5)+1]]}}         {{success=[[[@{conceal_total}]]]}} {{roll=[[1d100]]}} {{skillname=Conceal}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{conceal_total}]}} {{fumble=[[ceil(95+([@{conceal_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{conceal_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{conceal_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{conceal_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Conceal}}"></button>			
						<input name="attr_conceal_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_conceal_total" disabled="" class="sheet-skill_values" type="text" value="[@{manipulation_mod}+@{conceal_value}+@{fatigue_mod}]">
					</div>	
					
					<!--
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_devise_check" />
						<div class="sheet-skill_button">Devise</div>
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{devise_total}]}} {{fumble=[[ceil(95+([@{devise_total}])/20))]]}} {{crit=[[ceil(([@{devise_total}])/20)+1]]}} {{special=[[ceil(([@{devise_total}])/5)+1]]}}         {{success=[[[@{devise_total}]]]}} {{roll=[[1d100]]}} {{skillname=Devise}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{devise_total}]}} {{fumble=[[ceil(95+([@{devise_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{devise_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{devise_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{devise_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Devise}}"  ></button>			
						<input class="sheet-skill_values" type="text" value="5" name="attr_devise_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{devise_value}+@{fatigue_mod}]" name="attr_devise_total" />
					</div>
					-->
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_sleighte_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Sleight">Sleight</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sleight_total}]}} {{fumble=[[ceil(95+([@{sleight_total}])/20))]]}} {{crit=[[ceil(([@{sleight_total}])/20)+1]]}} {{special=[[ceil(([@{sleight_total}])/5)+1]]}}         {{success=[[[@{sleight_total}]]]}} {{roll=[[1d100]]}} {{skillname=Sleight}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sleight_total}]}} {{fumble=[[ceil(95+([@{sleight_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{sleight_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{sleight_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{sleight_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Sleight}}"></button>		
						<input name="attr_sleight_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_sleight_total" disabled="" class="sheet-skill_values" type="text" value="[@{manipulation_mod}+@{sleight_value}+@{fatigue_mod}]">
					</div>		
				
					<!--
					<p style="font-weight:bold;margin-bottom:1px">Play Instrument</p>
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_own_play1_check" />
						<input class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_play1_name" />
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play1_total}]}} {{fumble=[[ceil(95+([@{play1_total}])/20))]]}} {{crit=[[ceil(([@{play1_total}])/20)+1]]}} {{special=[[ceil(([@{play1_total}])/5)+1]]}}         {{success=[[[@{play1_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{play1_name}}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play1_total}]}} {{fumble=[[ceil(95+([@{play1_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{play1_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{play1_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{play1_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{play1_name}}}"  ></button>			
						<input class="sheet-skill_values" type="text" value="0" name="attr_play1_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{play1_value}+@{fatigue_mod}]" name="attr_play1_total" />
					</div>			
					<div style="margin-bottom:2px">	
						<input  style="display:inline-block" type="checkbox" name="attr_own_play2_check" />
						<input class="sheet-blank_skill" style="display:inline-block;" type="text" name="attr_play2_name" />
						<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play2_total}]}} {{fumble=[[ceil(95+([@{play2_total}])/20))]]}} {{crit=[[ceil(([@{play2_total}])/20)+1]]}} {{special=[[ceil(([@{play2_total}])/5)+1]]}}         {{success=[[[@{play2_total}]]]}} {{roll=[[1d100]]}} {{skillname=@{play2_name}}}" ></button>								
						<button   class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{play2_total}]}} {{fumble=[[ceil(95+([@{play2_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{play2_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{play2_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{play2_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{play2_name}}}"  ></button>			
						<input class="sheet-skill_values" type="text" value="0" name="attr_play2_value" />
						<input class="sheet-skill_values" type="text" disabled value="[@{manipulation_mod}+@{play2_value}+@{fatigue_mod}]" name="attr_play2_total" />
					</div>
					<fieldset class="repeating_mskills">
						<div style="margin-bottom:2px">	
							<input  style="display:inline-block" type="checkbox" name="attr_mskill_check" />
							<input  class="sheet-blank_skill"  style="display:inline-block;" type="text" name="attr_mskill_name" />
							
							<button  type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{mskill_total}}} {{fumble=[[95+ceil((@{mskill_total}/20))]]}} {{crit=[[round(@{mskill_total}/20)+1]]}} {{special=[[round((@{mskill_total})/5)+1]]}}         {{success=[[@{mskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{mskill_name}}}" ></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{mskill_total}}} {{fumble=[[95+ceil(((@{mskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{mskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{mskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{mskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{mskill_name}}}"  ></button>
							<input type="text"  class="sheet-skill_values" value="0" name="attr_mskill_value" />
							<input type="text"  class="sheet-skill_values" disabled name="attr_mskill_total" value="@{mskill_value}+@{manipulation_mod}+@{fatigue_mod}" />
							
						</div>				
					</fieldset>
					-->
					
					
					
					
					</div>	
					
					
					<br>				
					
					<br>
					<label class="sheet-category_label" data-i18n="Passions">Passions</label>
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_passion1_check" style="display: inline-block;" type="checkbox">
						<input name="attr_passion1_name" class="sheet-blank_skill" style="width: 131px; display: inline-block;" type="text" value="Devotion ()">
						
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion1_total}}} {{fumble=[[ceil(95+(@{passion1_total})/20))]]}} {{crit=[[ceil((@{passion1_total})/20)+1]]}} {{special=[[ceil((@{passion1_total})/5)+1]]}}         {{success=[[@{passion1_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion1_name}}}"></button>										
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion1_total}}} {{fumble=[[ceil(95+(@{passion1_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion1_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion1_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion1_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion1_name}}}"></button>

						
						<input name="attr_passion1_total" class="sheet-skill_values" type="text" value="0">
						<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion1_value}]"name="attr_passion1_total" />-->
					</div>	
					<div style="margin-bottom: 2px;">	
						<input name="attr_passion2_check" style="display: inline-block;" type="checkbox">
						<input name="attr_passion2_name" class="sheet-blank_skill" style="width: 131px; display: inline-block;" type="text" value="Love ()">
						
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion2_total}}} {{fumble=[[ceil(95+(@{passion2_total})/20))]]}} {{crit=[[ceil((@{passion2_total})/20)+1]]}} {{special=[[ceil((@{passion2_total})/5)+1]]}}         {{success=[[@{passion2_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion2_name}}}"></button>										
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion2_total}}} {{fumble=[[ceil(95+(@{passion2_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion2_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion2_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion2_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion2_name}}}"></button>

						
						<input name="attr_passion2_total" class="sheet-skill_values" type="text" value="0">
						<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion2_value}]"name="attr_passion2_total" />-->
					</div>	
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_passion3_check" style="display: inline-block;" type="checkbox">
						<input name="attr_passion3_name" class="sheet-blank_skill" style="width: 131px; display: inline-block;" type="text" value="Hate (Lunars)">
						
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion3_total}}} {{fumble=[[ceil(95+(@{passion3_total})/20))]]}} {{crit=[[ceil((@{passion3_total})/20)+1]]}} {{special=[[ceil((@{passion3_total})/5)+1]]}}         {{success=[[@{passion3_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion3_name}}}"></button>										
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion3_total}}} {{fumble=[[ceil(95+(@{passion3_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion3_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion3_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion3_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion3_name}}}"></button>

						
						<input name="attr_passion3_total" class="sheet-skill_values" type="text" value="0">
						<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion3_value}]"name="attr_passion3_total" />-->
					</div>		

					<div style="margin-bottom: 2px;">	
						<input name="attr_passion4_check" style="display: inline-block;" type="checkbox">
						<input name="attr_passion4_name" class="sheet-blank_skill" style="width: 131px; display: inline-block;" type="text" value="Loyalty ()">
						
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion4_total}}} {{fumble=[[ceil(95+(@{passion4_total})/20))]]}} {{crit=[[ceil((@{passion4_total})/20)+1]]}} {{special=[[ceil((@{passion4_total})/5)+1]]}}         {{success=[[@{passion4_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion4_name}}}"></button>										
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion4_total}}} {{fumble=[[ceil(95+(@{passion4_total}+?{Mods|0})/20))]]}} {{crit=[[ceil((@{passion4_total}+?{Mods|0})/20)+1]]}} {{special=[[ceil((@{passion4_total}+?{Mods|0})/5)+1]]}}         {{success=[[@{passion4_total}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion4_name}}}"></button>

						
						<input name="attr_passion4_total" class="sheet-skill_values" type="text" value="0">
						<!--<input class="sheet-skill_values" type="text" disabled value="[@{knowledge_mod}+@{passion4_value}]"name="attr_passion4_total" />-->
					</div>
					<fieldset class="repeating_passions">
						<div style="margin-bottom: 2px;">	
							<input name="attr_passion_check" style="display: inline-block;" type="checkbox">
							<input name="attr_passion_name" class="sheet-blank_skill" style="width: 131px; display: inline-block;" type="text">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion_total}}} {{fumble=[[95+ceil((@{passion_total}/20))]]}} {{crit=[[round(@{passion_total}/20)+1]]}} {{special=[[round((@{passion_total})/5)+1]]}}         {{success=[[@{passion_total}]]}} {{roll=[[1d100]]}} {{skillname=@{passion_name}}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{passion_total}}} {{fumble=[[95+ceil(((@{passion_total}+?{mods|0})/20))]]}} {{crit=[[round((@{passion_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{passion_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{passion_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{passion_name}}}"></button>
							<input name="attr_passion_total" class="sheet-skill_values" type="text" value="0">
							
						</div>				
					</fieldset>
									
					
					
					<br>
					<div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
					<div>
						<label style="width: 203px; display: inline-block;" data-i18n="Perception">Perception</label>
						<input name="attr_perception_mod" disabled="" class="sheet-skill_values" type="text" readonly="" value="0">
					</div>	
					<div style="margin-bottom: 2px;">	
						<input name="attr_insight_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Insight">Insight</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{insight_total}]}} {{fumble=[[ceil(95+([@{insight_total}])/20))]]}} {{crit=[[ceil(([@{insight_total}])/20)+1]]}} {{special=[[ceil(([@{insight_total}])/5)+1]]}}         {{success=[[[@{insight_total}]]]}} {{roll=[[1d100]]}} {{skillname=Insight}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{insight_total}]}} {{fumble=[[ceil(95+([@{insight_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{insight_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{insight_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{insight_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Insight}}"></button>		

						<input name="attr_insight_value" class="sheet-skill_values" type="text" value="20">
						<input name="attr_insight_total" disabled="" class="sheet-skill_values" type="text" value="[@{perception_mod}+@{insight_value}+@{fatigue_mod}]">
					</div>	
					
					<div style="margin-bottom: 2px;">	
						<input name="attr_listen_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Listen">Listen</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{listen_total}]}} {{fumble=[[ceil(95+([@{listen_total}])/20))]]}} {{crit=[[ceil(([@{listen_total}])/20)+1]]}} {{special=[[ceil(([@{listen_total}])/5)+1]]}}         {{success=[[[@{listen_total}]]]}} {{roll=[[1d100]]}} {{skillname=Listen}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{listen_total}]}} {{fumble=[[ceil(95+([@{listen_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{listen_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{listen_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{listen_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Listen}}"></button>		

						<input name="attr_listen_value" class="sheet-skill_values" type="text" value="25">
						<input name="attr_listen_total" disabled="" class="sheet-skill_values" type="text" value="[@{perception_mod}+@{listen_value}+@{fatigue_mod}]">
					</div>			
					<div style="margin-bottom: 2px;">	
						<input name="attr_scan_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Scan">Scan</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{scan_total}]}} {{fumble=[[ceil(95+([@{scan_total}])/20))]]}} {{crit=[[ceil(([@{scan_total}])/20)+1]]}} {{special=[[ceil(([@{scan_total}])/5)+1]]}}         {{success=[[[@{scan_total}]]]}} {{roll=[[1d100]]}} {{skillname=Scan}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{scan_total}]}} {{fumble=[[ceil(95+([@{scan_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{scan_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{scan_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{scan_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Scan}}"></button>		
			
						<input name="attr_scan_value" class="sheet-skill_values" type="text" value="25">
						<input name="attr_scan_total" disabled="" class="sheet-skill_values" type="text" value="[@{perception_mod}+@{scan_value}+@{fatigue_mod}]">
					</div>
					<div style="margin-bottom: 2px;">	
						<input name="attr_search_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Search">Search</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{search_total}]}} {{fumble=[[ceil(95+([@{search_total}])/20))]]}} {{crit=[[ceil(([@{search_total}])/20)+1]]}} {{special=[[ceil(([@{search_total}])/5)+1]]}}         {{success=[[[@{search_total}]]]}} {{roll=[[1d100]]}} {{skillname=Search}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{search_total}]}} {{fumble=[[ceil(95+([@{search_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{search_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{search_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{search_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Search}}"></button>		
		

						<input name="attr_search_value" class="sheet-skill_values" type="text" value="25">
						<input name="attr_search_total" disabled="" class="sheet-skill_values" type="text" value="[@{perception_mod}+@{search_value}+@{fatigue_mod}]">
					</div>
					<div style="margin-bottom: 2px;">	
						<input name="attr_track_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Track">Track</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{track_total}]}} {{fumble=[[ceil(95+([@{track_total}])/20))]]}} {{crit=[[ceil(([@{track_total}])/20)+1]]}} {{special=[[ceil(([@{track_total}])/5)+1]]}}         {{success=[[[@{track_total}]]]}} {{roll=[[1d100]]}} {{skillname=Track}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{track_total}]}} {{fumble=[[ceil(95+([@{track_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{track_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{search_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{track_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Track}}"></button>		
		

						<input name="attr_track_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_track_total" disabled="" class="sheet-skill_values" type="text" value="[@{perception_mod}+@{track_value}+@{fatigue_mod}]">
					</div>
					<fieldset class="repeating_pskills">
						<div style="margin-bottom: 2px;">	
							<input name="attr_pskill_check" style="display: inline-block;" type="checkbox">
							<input name="attr_pskill_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{pskill_total}}} {{fumble=[[95+ceil((@{pskill_total}/20))]]}} {{crit=[[round(@{pskill_total}/20)+1]]}} {{special=[[round((@{pskill_total})/5)+1]]}}         {{success=[[@{pskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{pskill_name}}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{pskill_total}}} {{fumble=[[95+ceil(((@{pskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{pskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{pskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{pskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{pskill_name}}}"></button>
							<input name="attr_pskill_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_pskill_total" disabled="" class="sheet-skill_values" type="text" value="@{pskill_value}+@{manipulation_mod}+@{fatigue_mod}">
							
						</div>				
					</fieldset>				
					
					
					</div>
					<br>
					
					<div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
					
					<div>
						<label class="sheet-category_label" data-i18n="Stealth">Stealth</label>
						<input name="attr_stealth_mod" disabled="" class="sheet-skill_values" type="text" readonly="" value="0">			
					</div>		
					<div>	
						<input name="attr_hide_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Hide">Hide</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{hide_total}]}} {{fumble=[[ceil(95+([@{hide_total}])/20))]]}} {{crit=[[ceil(([@{hide_total}])/20)+1]]}} {{special=[[ceil(([@{hide_total}])/5)+1]]}}         {{success=[[[@{hide_total}]]]}} {{roll=[[1d100]]}} {{skillname=Hide}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{hide_total}]}} {{fumble=[[ceil(95+([@{hide_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{hide_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{hide_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{hide_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Hide}}"></button>		
						<input name="attr_hide_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_hide_total" disabled="" class="sheet-skill_values" type="text" value="[@{stealth_mod}+@{hide_value}+@{fatigue_mod}]">
					</div>		
					<div>	
						<input name="attr_sneak_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" data-i18n="Sneak">Sneak</div>
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sneak_total}]}} {{fumble=[[ceil(95+([@{sneak_total}])/20))]]}} {{crit=[[ceil(([@{sneak_total}])/20)+1]]}} {{special=[[ceil(([@{sneak_total}])/5)+1]]}}         {{success=[[[@{sneak_total}]]]}} {{roll=[[1d100]]}} {{skillname=Sneak}}"></button>								
						<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{sneak_total}]}} {{fumble=[[ceil(95+([@{sneak_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{sneak_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{sneak_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{sneak_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Sneak}}"></button>		
		
						<input name="attr_sneak_value" class="sheet-skill_values" type="text" value="10">
						<input name="attr_sneak_total" disabled="" class="sheet-skill_values" type="text" value="[@{stealth_mod}+@{sneak_value}+@{fatigue_mod}]">
					</div>
					<fieldset class="repeating_sskill">
						<div style="margin-bottom: 2px;">	
							<input name="attr_sskill_check" style="display: inline-block;" type="checkbox">
							<input name="attr_sskill_name" class="sheet-blank_skill" style="display: inline-block;" type="text">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{sskill_total}}} {{fumble=[[95+ceil((@{sskill_total}/20))]]}} {{crit=[[round(@{sskill_total}/20)+1]]}} {{special=[[round((@{sskill_total})/5)+1]]}}         {{success=[[@{sskill_total}]]}} {{roll=[[1d100]]}} {{skillname=@{sskill_name}}}"></button>								
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{sskill_total}}} {{fumble=[[95+ceil(((@{sskill_total}+?{mods|0})/20))]]}} {{crit=[[round((@{sskill_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{sskill_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{sskill_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{sskill_name}}}"></button>
							<input name="attr_sskill_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_sskill_total" disabled="" class="sheet-skill_values" type="text" value="@{sskill_value}+@{manipulation_mod}+@{fatigue_mod}">
							
						</div>				
					</fieldset>					
					
					
					
					</div>	
				</div>

			</div>
	</div> <!--- End of Tab 2 -->
	<div class="sheet-tab-contentb sheet-tab3" style="background-color: rgb(172, 110, 115);">
	   <br>
	   <div style="border-radius: 6px; padding-top: 5px; padding-bottom: 13px; background-color: white;">

		<label style="width: 136px; display: inline-block;" data-i18n="Weapon Skills">Weapon Skills</label>
		(Defense% <span name="attr_defense"></span>)&nbsp; &nbsp; 
		(A% <span name="attr_manipulation_mod"></span>)&nbsp; &nbsp; (P% <span name="attr_parry_mod"></span>) 
		Enc. (<span name="attr_enc_mod"></span>%) Other Modifiers <input name="attr_gen_mod" type="number" value="0">
		Strike Rank Mod. <input name="attr_sr_mod" disabled="" style="border: currentColor; border-image: none; width: 25px;" type="text" value="[abs(@{enc_mod}/5)]"> 
		</div>
	   <br>

		<span style="display: none;" name="attr_enc_mod"></span>
	   
	   <div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
		<label data-i18n="Melee Weapons">Melee Weapons</label>				   
			<div class="sheet-melee_wpns_labels">
			   <label style="width: 95px; margin-left: 35px;" data-i18n="Weapon">Weapon</label>
			   <label style="width: 88px;" data-i18n="STR/DEX">STR/DEX</label>   
			   <label style="width: 42px;" data-i18n="WSR">WSR</label>
			   <label style="width: 30px;" data-i18n="SR">SR</label>
			   <label style="width: 98px;" data-i18n="Attack Skill">Attack Skill</label>
			   <label style="width: 11px;"></label>
			   <label style="width: 0px;"></label>   
			   <label style="width: 66px;" data-i18n="Damage">Damage</label>		
			   <label style="width: 105px;" data-i18n="Parry Skill">Parry Skill</label>		
			   <label style="width: 0px;"></label>
			   <label style="width: 0px;"></label>   
			   <label style="width: 2em;" data-i18n="HP">HP</label>		
			</div>
			<fieldset class="repeating_melee">
			   <div class="sheet-melee_wpns">

				  <input name="attr_skillcheck" type="checkbox">	
				  <input name="attr_parrycheck" type="checkbox">	
				  <input name="attr_weapon_type" style="width: 100px;" type="text">
				  <input name="attr_wpnstr" type="number" value="9">
				  <input name="attr_wpndex" type="number" value="9">
				  <input name="attr_minmod" style="width: 30px; display: none;" type="text" readonly="" value="0">  
				  <input name="attr_wpn_sr" type="number">
				  <input name="attr_total_wpn_sr" disabled="" type="number" value="">
				  <input name="attr_wpn_attk_value" type="number">
				  <input name="attr_wpn_attk_total" disabled="" type="number" value="">
				  
								<button style="margin-right: 0px; margin-left: 0px;" type="roll" value="@{melee_value}"></button><textarea name="attr_melee_value" style="display: none;">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil((@{wpn_attk_total}/20))]]}} {{crit=[[round(@{wpn_attk_total}/20)+1]]}} {{special=[[round((@{wpn_attk_total})/5)+1]]}}         {{success=[[@{wpn_attk_total}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} attack}} 

								&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea><button class="sheet-new_roll" style="margin-right: 0px; margin-left: 0px;" type="roll" value="@{meleemod_value}"></button><textarea name="attr_meleemod_value" style="display: none;">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil(((@{wpn_attk_total}+?{mods|0})/20))]]}} {{crit=[[round((@{wpn_attk_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{wpn_attk_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{wpn_attk_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} attack}} 
								
								&{template:@{creature_hit_location}Melee}} {{roll=[[@{selected_die_roll}]]}}</textarea>							
				  <input name="attr_wpn_damage" style="width: 79px;" type="text">    
				  <input name="attr_wpn_parry_value" type="number">
				  <input name="attr_parry_total" disabled="" type="number" value=""><button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{damagebonus}]]}}{{skillvalue=@{parry_total}}} {{fumble=[[95+ceil((@{parry_total}/20))]]}} {{crit=[[round(@{parry_total}/20)+1]]}} {{special=[[round((@{parry_total})/5)+1]]}}         {{success=[[@{parry_total}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} parry}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=@{parry_total}}} {{fumble=[[95+ceil(((@{parry_total}+?{mods|0})/20))]]}} {{crit=[[round((@{parry_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{parry_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{parry_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type} parry}} "></button><input name="attr_wpn_hp" type="number">
			   </div>
			</fieldset>
	</div>
	<br>
	<div style="border-radius: 6px; padding-bottom: 13px; background-color: white;">
	<label data-i18n="Ranged Weapons">Ranged Weapons</label>		
	<div class="sheet-melee_wpns_labels">
	   <br>
	   <label style="width: 95px; margin-left: 18px;" data-i18n="Weapon">Weapon</label>
	   <label style="width: 80px;" data-i18n="STR/DEX">STR/DEX</label>   
	   <label style="width: 30px;" data-i18n="DSR">DSR</label>
	   <label style="width: 136px;" data-i18n="Attack Skill">Attack Skill</label>
	   <label style="width: 54px;" data-i18n="Damage">Damage</label>
	   <label style="width: 13px;" data-i18n="DB">DB</label>
	   <label style="width: 75px;" data-i18n="Range">Range</label>		
	   <label style="width: 47px;" data-i18n="Rof">Rof</label>
	   <label style="width: 50px;" data-i18n="#">#</label>		   
	</div>
	<fieldset class="repeating_missle">
	   <div class="sheet-melee_wpns">
		  <input name="attr_skillcheck" type="checkbox">	
		  <input name="attr_weapon_type" style="width: 92px;" type="text">
		  <input name="attr_wpnstr" type="number" value="9">
		  <input name="attr_wpndex" type="number" value="9">
		  <input name="attr_minmod" style="width: 30px; display: none;" type="text" readonly="" value="0">
		  <input name="attr_total_wpn_sr" disabled="" type="number" value="">
		  <input name="attr_wpn_attk_value" type="number" value="0">
		  <input name="attr_wpn_attk_total" disabled="" type="number" value="">
						<button type="roll" value="@{missle_value}"></button>	
						<textarea name="attr_missle_value" style="display: none;">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{wpnmdb}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil((@{wpn_attk_total}/20))]]}} {{crit=[[round(@{wpn_attk_total}/20)+1]]}} {{special=[[round((@{wpn_attk_total})/5)+1]]}}         {{success=[[@{wpn_attk_total}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type}}}
						
						&{template:@{creature_hit_location}Missle}} {{roll=[[@{selected_die_roll}]]}}</textarea>
						
						<button class="sheet-new_roll" type="roll" value="@{misslemod_value}"></button>		      <input name="attr_wpn_damage" style="width: 69px;" type="text">
						<textarea name="attr_misslemod_value" style="display: none;">&{template:melee-roll} {{name=@{character_name}}} {{tot=[[@{wpn_damage}+@{wpnmdb}]]}}{{skillvalue=@{wpn_attk_total}}} {{fumble=[[95+ceil(((@{wpn_attk_total}+?{mods|0})/20))]]}} {{crit=[[round((@{wpn_attk_total}+?{mods|0})/20)+1]]}} {{special=[[round(((@{wpn_attk_total}+?{mods|0}))/5)+1]]}}         {{success=[[@{wpn_attk_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{weapon_type}}}
						
						&{template:@{creature_hit_location}Missle}} {{roll=[[@{selected_die_roll}]]}}</textarea>					
		  <input name="attr_mdbtoggle" type="checkbox">
		  <input name="attr_wpn_range" style="width: 80px;" type="text">
		  <input name="attr_wpn_rof" style="width: 50px;" type="text">
		  <input name="attr_wpn_ammo" style="width: 50px;" type="text">
		  <input name="attr_wpnmdb" style="display: none;" type="text" value="0">	  
	   </div>
	</fieldset>
	</div>
	<br>
	<div style="border-radius: 6px; padding-top: 5px; padding-bottom: 13px; padding-left: 5px; background-color: white;">

	<div class="sheet-2colrow" style="margin-top: 5px;">
	   <div class="sheet-col" style="width: 65%;">
		  <h3 style="text-align: center; color: rgb(255, 255, 255); background-color: rgb(0, 0, 0);">Hit Location & Armor</h3>
		  <table>
			 <thead class="sheet-header-text">
				<tr>
				   <!-- <th>
					  <button name="roll_melee-location"  type="roll" value="/me rolls melee hit location [[1d20]]"   class="btn ui-draggable">
						  <div class="sheet-button_header">Melee</div>
					  </button>
					   </th>
					   <th>Missle</th>-->
				   <th>Location</th>
				   <th>Armor</th>
				   <th>AP</th>
				   <th>Max <br>HP</th>
				  <!-- <th>*</th> -->
				   <th>Cur. <br> HP</th>
				   <th>Damage</th>
				</tr>
			 </thead>
			 <tbody>
				<tr>
				   <!--<td class="sheet-loc-text">01-04</td>
					  <td class="sheet-loc-text">01-03</td>-->
				   <td><div class="sheet-loc-text" data-i18n="Right Leg">Right Leg</div></td>
				   <td><input name="attr_r_leg_armor_name" class="sheet-armor-name" type="text"></td>
				   <td><input name="attr_r_Leg_ap" type="number"></td>
				   <td><input name="attr_r_leg_max_hp" type="number" readonly=""></td>
				   <!--<td><input type="number" value="0" name="attr_r_leg_stre" /></td>-->			   
				   <td><input name="attr_r_leg_cur_hp" type="number" readonly=""></td>
				   <td><input name="attr_r_leg_damage" style="width: 100px;" type="text" value="0"></td>
				</tr>
				<tr>
				   <!--<td class="sheet-loc-text">05-08</td>
					  <td class="sheet-loc-text">04-06</td>-->
				   <td> <div class="sheet-loc-text" data-i18n="Left Leg">Left Leg</div></td>
				   <td><input name="attr_l_leg_armor_name" class="sheet-armor-name" type="text"></td>
				   <td><input name="attr_l_Leg_ap" type="number"></td>
				   <td><input name="attr_l_leg_max_hp" type="number" readonly=""></td>
				   <!--<td><input type="number" value="0" name="attr_l_leg_stre" /></td>-->			   
				   <td><input name="attr_l_leg_cur_hp" type="number" readonly=""></td>
				   <td><input name="attr_l_leg_damage" style="width: 100px;" type="text" value="0"></td>
				</tr>
				<tr>
				   <!--<td class="sheet-loc-text">09-11</td>
					  <td class="sheet-loc-text">07-10</td>-->
				   <td><div class="sheet-loc-text" data-i18n="Abdomen">Abdomen</div></td>
				   <td><input name="attr_abd_armor_name" class="sheet-armor-name" type="text"></td>
				   <td><input name="attr_abd_ap" type="number"></td>
				   <td><input name="attr_abd_max_hp" type="number" readonly=""></td>
				   <!--<td><input type="number" value="0" name="attr_abd_stre" /></td>-->			   			   
				   <td><input name="attr_abd_cur_hp" type="number" readonly=""></td>
				   <td><input name="attr_abd_damage" style="width: 100px;" type="text" value="0"></td>
				</tr>
				<tr>
				   <!--<td class="sheet-loc-text">12</td>
					  <td class="sheet-loc-text">11-15</td>-->
				   <td><div class="sheet-loc-text" data-i18n="Chest">Chest</div></td>
				   <td><input name="attr_chst_armor_name" class="sheet-armor-name" type="text"></td>
				   <td><input name="attr_chst_ap" type="number"></td>
				   <td><input name="attr_chst_max_hp" type="number" readonly=""></td>
				   <!--<td><input type="number" value="0" name="attr_chst_stre" /></td>-->			   			   
				   <td><input name="attr_chst_cur_hp" type="number" readonly=""></td>
				   <td><input name="attr_chst_damage" style="width: 100px;" type="text" value="0"></td>
				</tr>
				<tr>
				   <!--<td class="sheet-loc-text">13-15</td>
					  <td class="sheet-loc-text">16-17</td>-->
				   <td><div class="sheet-loc-text" data-i18n="Right Arm">Right Arm</div></td>
				   <td><input name="attr_r_arm_armor_name" class="sheet-armor-name" type="text"></td>
				   <td><input name="attr_r_arm_ap" type="number"></td>
				   <td><input name="attr_r_arm_max_hp" type="number" readonly=""></td>
				   <!--<td><input type="number" value="0" name="attr_r_arm_stre" /></td>-->			   			   
				   <td><input name="attr_r_arm_cur_hp" type="number" readonly=""></td>
				   <td><input name="attr_r_arm_damage" style="width: 100px;" type="text" value="0"></td>
				</tr>
				<tr>
				   <!--<td class="sheet-loc-text">16-18</td>
					  <td class="sheet-loc-text">18-19</td>-->
				   <td><div class="sheet-loc-text" data-i18n="Left Arm">Left Arm</div></td>
				   <td><input name="attr_l_arm_armor_name" class="sheet-armor-name" type="text"></td>
				   <td><input name="attr_l_arm_ap" type="number"></td>
				   <td><input name="attr_l_arm_max_hp" type="number" readonly=""></td>
				   <!--<td><input type="number" value="0" name="attr_l_arm_stre" /></td>-->			   			   
				   <td><input name="attr_l_arm_cur_hp" type="number" readonly=""></td>
				   <td><input name="attr_LAWnds" style="width: 100px;" type="text" value="0"></td>
				</tr>
				<tr>
				   <!--<td class="sheet-loc-text">19-20</td>
					  <td class="sheet-loc-text">20</td>-->
				   <td><div class="sheet-loc-text" data-i18n="Head">Head</div></td>
				   <td><input name="attr_hd_armor_name" class="sheet-armor-name" type="text"></td>
				   <td><input name="attr_hd_ap" type="number"></td>
				   <td><input name="attr_hd_max_hp" type="number" readonly=""></td>
				   <!--<td><input type="number" value="0" name="attr_hd_stre" /></td>-->			   			   
				   <td><input name="attr_hd_cur_hp" type="number" readonly=""></td>
				   <td><input name="attr_LAWnds" style="width: 100px;" type="text" value="0"></td>
				</tr>
			 </tbody>
		  </table>
		  <!--<p>*Strengthening Enchantment</p>-->
		  <!--
			 <fieldset class="repeating_hlocations">
				<table>
					<tr>
						<td><input type="text" name="attr_hloc" style="width: 59px" /></td>
						<td><input class="sheet-armor-name" type="text" name="attr_atype"  /></td>
						<td><input type="number" name="attr_app"  /></td>
						<td><input type="number" name="attr_mhp"/></td>
						<td><input type="number" name="attr_chp" /></td>
			 
					</tr>
				</table>
			 </fieldset>-->
	   </div>
	   <div class="sheet-col" style="width: 26%;">
		  <h3 style="text-align: center; color: rgb(255, 255, 255); background-color: rgb(0, 0, 0);">Hit Points</h3>
		  <br>	
		  <div>
			 <div style="display: inline-block;">
				<!-- value="[round((@{cursiz}+@{curcon})/2)]" -->
				<label style="text-align: center; font-size: 0.5em;" data-i18n="Max">Max</label>
				<input name="attr_hp_max" style="width: 3.5em; text-align: center;" type="text" readonly="" value="0">-
			 </div>
			 <div style="display: inline-block;">
				<label style="text-align: center; font-size: 0.5em;">LHP<br>Loss</label>					
				<input name="attr_lhp_loss" style="width: 3em; text-align: center;" type="text" value="0">-
			 </div>
			 <div style="display: inline-block;">
				<label style="font-size: 0.5em;">THP<br>Loss</label>
				<input name="attr_thp_loss" style="width: 3.5em; text-align: center;" type="number" value="0">=
			 </div>
			 <div style="display: inline-block;">
				<label style="text-align: center; font-size: 0.5em;">Cur.<br>HP</label>					
				<input name="attr_hp_cur" style="width: 3em; text-align: center;" type="text" readonly="" value="0">
			 </div>
		  </div>
		  <!--
		  <div>
				<div style="margin-left:16px;">+</div>
				<input style="text-align:center;width:3.5em" type="text" value="0" name="attr_hpstre" />
				<p style="display:inline;font-size:0.75em">*Strenghing Enchanment</p>
		  </div>
		  -->
		  <br>	
		  
		  <h3 style="text-align: center; color: rgb(255, 255, 255); display: none; background-color: rgb(0, 0, 0);">Fatigue</h3>
		  <div style="display: none;">
			 <div style="display: inline-block;">
			   
				<label style="text-align: center; font-size: 0.5em;" data-i18n="Max">Max</label>
				<input name="attr_fp_max" style="width: 3.5em; text-align: center;" type="text" readonly="" value="0">-
			 </div>
			 <div style="display: inline-block;">
				<label style="text-align: center; font-size: 0.5em;" data-i18n="ENC">ENC</label>					
				<input name="attr_enc_total" style="width: 3em; text-align: center;" type="text" readonly="" value="0">-
			 </div>
			 <div style="display: inline-block;">
				<label style="font-size: 0.5em;" data-i18n="Loss">Loss</label>
				<input name="attr_fp_loss" style="width: 3.5em; text-align: center;" type="number" value="0">=
			 </div>
			 <div style="display: inline-block;">
				<label style="text-align: center; font-size: 0.5em;">Cur.<br>FP</label>					
				<input name="attr_fp_cur" style="width: 3em; text-align: center;" type="text" readonly="" value="0">
				<input name="attr_enc_mod" style="display: none;" type="number" value="0">
			 </div>
		  </div>
		  
	   </div>
	</div>
	<div>
	   <br>
	   <div style="color: rgb(255, 255, 255); background-color: rgb(0, 0, 0);">
		  <div style="margin-left: 5px; display: inline;">
		  
			Dodge
			 <input name="attr_dodge_disp" disabled="true" class="sheet-section-header" style="width: 47px;" type="number" value="">
			 
			 <button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(96+([@{dodge_total}])/20))]]}} {{crit=[[ceil(([@{dodge_total}])/20)+1]]}} {{special=[[ceil(([@{dodge_total}])/5)+1]]}}         {{success=[[[@{dodge_total}]]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"></button>								
			 <button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{dodge_total}]}} {{fumble=[[ceil(96+([@{dodge_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{dodge_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{dodge_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{dodge_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}">
				
			 </button>
		  </div>
		  <div style="display: inline;">
			 Fumble 
			 <select name="attr_selected_fumble_table" style="width: 128px; height: 24px; margin-top: 7px;">
				<option selected="selected" value="0">Melee Attack</option>
				<option value="1">Melee Parry</option>
				<option value="2">Missle Attack</option>
				<option value="3">Natural Weapon</option>
			 </select>
			 <button type="roll" value="&{template:Melee-Attack-Fumble} {{table=[[@{selected_fumble_table}]]}} {{roll=[[1d100]]}}"></button>
			 <div style="display: inline;">
				Roll
				<select name="attr_creature_hit_location" style="width: 106px; height: 24px; margin-top: 7px;">
				   <option value="HL-">Human</option>
				   <option value="FLL-">Four-Legged</option>
				   <option value="NewtL-">Newtling</option>
				   <option value="ScorpL-">Scorpion Man</option>				   
				   <option value="WalkL-">Walktapus</option>			   
				</select>
				
				<!--
				<select name="attr_selected_wpn_type" style="margin-top: 7px; height: 24px ; width: 106px">
				   <option value="Melee">Melee</option>
				   <option value="Missle">Missle</option>			   
				</select>-->
				<input name="attr_selected_wpn_type" style="display: none;" value="Melee">
				Die
				<select name="attr_selected_die_roll" style="width: 84px; height: 24px; margin-top: 7px;">
				   <option value="1d20">1d20</option>
				   <option value="1d10+10">1d10+10</option>
				   <option value="1d8+12">1d8+12</option>
				   <option value="1d10">1d10</option>
				   <option value="1d8">1d8</option>			   			   
				</select>
				<button type="roll" value="&{template:@{creature_hit_location}@{selected_wpn_type}} {{roll=[[@{selected_die_roll}]]}}"></button>
				<!--	
				Hit Location
				<button style="background-color: white;font-size:0;height:32px" name="roll_melee-location"  type="roll" value="&{template:HL-Melee} {{roll=[[@{selected_die_roll}]]}}"   class="btn ui-draggable">						  
				<img src="https://i.imgur.com/Is6m9rX.png" />
				</button>				
				<button style="background-color: white;font-size:0;height:32px" name="roll_missle-location"  type="roll" value="&{template:HL-Missle} {{roll=[[@{selected_die_roll}]]}}"   class="btn ui-draggable ">
				<img src="https://i.imgur.com/IxuyBxY.png" />
				</button>-->
			 </div>
		  </div>
	   </div>
	</div>
	<!-------------- -->
	</div>

	</div> <!--- End of Tab 3 -->
	<div class="sheet-tab-contentb sheet-tab4" style="background-color: rgb(172, 110, 115);">
			<br>		
			<label class="sheet-section_header" data-i18n="EQUIPMENT">EQUIPMENT</label>
			<br>
					<div class="sheet-2colrow">
						<div class="sheet-col" style="padding: 1px; border-radius: 6px; background-color: white;">
								<div>
									
									<p style="width: 54%; font-weight: bold; display: inline-block;">Carried Equipment:</p>
									<p style="width: 25%; text-align: center; font-weight: bold; display: inline-block;">Worn/Carried</p>
									<p style="width: 10%; text-align: center; font-weight: bold; display: inline-block;">Enc:</p>
									
									<fieldset class="repeating_equipment" style="margin-top: -20px;">
										<input name="attr_equipment_type" style="width: 55%; display: inline-block;" type="text">
										<input name="attr_equipment_location" style="width: 25%; display: inline-block;" type="text">
										<input name="attr_equipment_weight" style="width: 4em; display: inline-block;" type="number">
									</fieldset>	
								</div>
								<br>
								<div>
									<label class="sheet-attr_label" style="display: inline;" data-i18n="ENC:">ENC:</label>
									<input name="attr_enc_totalf" style="width: 3em; display: inline;" type="text" value="0">
									<input name="attr_enc_total" style="display: none;" type="number" value="0">
									<label class="sheet-attr_label" style="display: inline;" data-i18n="ENC Max:">ENC Max:</label>
									<input name="attr_enc_max" style="width: 25px;" type="text" readonly="" value="0">
									<label class="sheet-attr_label" style="display: inline;" data-i18n="ENC Limit:">ENC Limit:</label>
									<input name="attr_enc_limit" style="width: 25px;" type="text" readonly="" value="0">
									
								</div>			

						
						</div>		
						<div class="sheet-col" style="padding: 1px; border-radius: 6px; background-color: white;">
								
								<p style="width: 60%; display: inline-block;">Other Equipment:</p>
								<p style="width: 10%; text-align: center; display: inline-block;">Enc</p>
								
								<fieldset class="repeating_other-equipment" style="margin-top: -20px;">
									<input name="attr_other-equipment_type" style="width: 60%; display: inline-block;" type="text">
									<input name="attr_other-equipment_weight" style="width: 10%; display: inline-block;" type="number">
								</fieldset>	
						</div>		
					</div>
					<br>	
					<div style="border-radius: 6px; background-color: white;">
						<label style="margin-left: 8px;" data-i18n="Animals">Animals</label>
						<div class="sheet-2colrow">
							<div class="sheet-col" style="margin-left: 4px;">
								<div style="margin-bottom: 5px;">
									<input name="attr_animal1_name" class="sheet-value_display" style="width: 244px;" type="text" value="name and type ">
								</div>
								<div>
									<p class="sheet-spirit_stat">STR</p> <input name="attr_animal1_str" class="sheet-value_display" type="number" value="0"> 
									<p class="sheet-spirit_stat">CON</p><input name="attr_animal1_con" class="sheet-value_display" type="number" value="0">
									<p class="sheet-spirit_stat">SIZ</p><input name="attr_animal1_siz" class="sheet-value_display" type="number" value="0">
								</div>
								<div>
									<p class="sheet-spirit_stat">INT</p> <input name="attr_animal1_int" class="sheet-value_display" type="number" value="0"> 
									<p class="sheet-spirit_stat">POW</p><input name="attr_animal1_pow" class="sheet-value_display" type="number" value="0">
									<p class="sheet-spirit_stat">DEX</p><input name="attr_animal1_dex" class="sheet-value_display" type="number" value="0">
				
								</div>
								<br>
								<table>
									
										
										<tbody><tr>
											<td>HP</td>
											<td>
												<input name="attr_animal1_hp_max" class="sheet-value_display" type="number" readonly="" value="0">
												/
												<input name="attr_animal1_hp_cur" class="sheet-value_display" type="number" value="">
											</td>	
												<td>Move</td>
												<td>
													<input name="attr_animal1_move" class="sheet-value_display" type="number" value="0">
												</td>
											
										</tr>
										<tr>
										</tr>
										<tr>
											<td></td>
											<td>
											<!-- <input type="number"   class="sheet-value_display" readonly name="attr_animal1_fp_max" value="0"/>
											/
											<input type="number"  class="sheet-value_display"  value="" name="attr_animal1_fp_cur" />-->	
											</td>
											<td>DSR</td>
											<td>
											<input name="attr_animal1_dsr" class="sheet-value_display" type="number" readonly="" value="0">
											</td>
										</tr>
										<tr>
											<td>DB</td>
											<td><input name="attr_animal1_db" class="sheet-value_display" style="width: 105px;" type="text" value="0"></td>
											<td>MSR</td>
											<td><input name="attr_animal1_msr" class="sheet-value_display" type="number" readonly="" value="0">
											</td>

										</tr>
								</tbody></table>
								<br>
								
								<div class="sheet-melee_wpns_labels" style="margin-top: 5px;">
									<br>
								   <label style="width: 98px;" data-i18n="Weapon">Weapon</label>
								   <label style="width: 34px;" data-i18n="SR">SR</label>   
								   <!--<label style="width:30px">SR</label>-->
								   <label style="width: 74px;" data-i18n="Attk">Attk</label>   
								   <label style="width: 71px;" data-i18n="Damage">Damage</label>   
								</div>	
								
								<fieldset class="repeating_animal1wpns">
									<input name="attr_wpn_name" class="sheet-value_display" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr" class="sheet-value_display" type="number" value="0">
									<input name="attr_wpn_attk" class="sheet-value_display" type="number" value="0">
									<input name="attr_wpn_damage" class="sheet-value_display" style="width: 80px;" type="text" value="0">
									<button type="roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}]])/5)+1]]}}         {{success=[[@{wpn_attk}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}"></button>							<button class="sheet-new_roll" style="margin: 0px;" type="roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}+?{mods|0}]])/5)+1]]}}         {{success=[[@{wpn_attk}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}"></button>								
									
								</fieldset>
								<br>
								
								<div class="sheet-melee_wpns_labels" style="margin-top: 5px;">
									<br>
								   <label style="width: 237px;" data-i18n="Skill">Skill</label>
								   <label style="width: 74px;" data-i18n="%">%</label>   
								</div>	
								
								<fieldset class="repeating_animal1skills">
									<input name="attr_skill_name" class="sheet-value_display" style="width: 232px; text-align: left;" type="text" value="skill">
									<input name="attr_skill_value" class="sheet-value_display" type="number" value="0">
									<button type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value}]]}} {{fumble=[[ceil(95+([[@{skill_value}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}]])/5)+1]]}}         {{success=[[@{skill_value}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name}}}"></button>									
									<button class="sheet-new_roll" style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal1_name}}}  {{skillvalue=[[@{skill_value}]]}} {{success=[[@{skill_value}+?{mods|0}]]}}  {{fumble=[[ceil(95+([[@{skill_value}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}+?{mods|0}]])/5)+1]]}}         {{roll=[[1d100]]}} {{skillname=@{skill_name}}}"></button>									


									
								</fieldset>
								
								<p>Hit Locations</p>
								<textarea name="attr_animal1_hitloc" style="margin: 0px; font-family: courier;">D20	    Result	       AP/HP
	1-2	    Right hind-leg	0/0
	3-4 	Left hind-leg	0/0
	5-7 	Hindquarters	0/0
	8-10 	Forequarters 	0/0
	11-13 	Right fore-leg	0/0
	14-16 	Left fore-leg	0/0
	17-20 	Head        	0/0
						
								</textarea>
								
								<br>							
								
								
								
								
							
							</div> <!--  Animal 1 -->
							<div class="sheet-col"> <!--- Animal 2 -->
								<div style="margin-bottom: 5px;">
									<input name="attr_animal2_name" class="sheet-value_display" style="width: 244px;" type="text" value="name and type ">
								</div>
								<div>
									<p class="sheet-spirit_stat">STR</p> <input name="attr_animal2_str" class="sheet-value_display" type="number" value="0"> 
									<p class="sheet-spirit_stat">CON</p><input name="attr_animal2_con" class="sheet-value_display" type="number" value="0">
									<p class="sheet-spirit_stat">SIZ</p><input name="attr_animal2_siz" class="sheet-value_display" type="number" value="0">
								</div>
								<div>
									<p class="sheet-spirit_stat">INT</p> <input name="attr_animal2_int" class="sheet-value_display" type="number" value="0"> 
									<p class="sheet-spirit_stat">POW</p><input name="attr_animal2_pow" class="sheet-value_display" type="number" value="0">
									<p class="sheet-spirit_stat">DEX</p><input name="attr_animal2_dex" class="sheet-value_display" type="number" value="0">
				
								</div>
								<br>
								<table>
									
										
										<tbody><tr>
											<td>HP</td>
											<td>
												<input name="attr_animal2_hp_max" class="sheet-value_display" type="number" readonly="" value="0">
												/
												<input name="attr_animal2_hp_cur" class="sheet-value_display" type="number" value="">
											</td>	
												<td>Move</td>
												<td>
													<input name="attr_animal2_move" class="sheet-value_display" type="number" value="0">
												</td>
											
										</tr>
										<tr>
										</tr>
										<tr>
											<td></td>
											<td>
											<!--
											<input type="number"   class="sheet-value_display" readonly name="attr_animal2_fp_max" value="0"/>
											/
											<input type="number"  class="sheet-value_display"  value="" name="attr_animal2_fp_cur" />-->	
											</td>
											<td>DSR</td>
											<td>
											<input name="attr_animal2_dsr" class="sheet-value_display" type="number" readonly="" value="0">
											</td>
										</tr>
										<tr>
											<td>DB</td>
											<td><input name="attr_animal2_db" class="sheet-value_display" style="width: 105px;" type="text" value="0"></td>
											<td>MSR</td>
											<td><input name="attr_animal2_msr" class="sheet-value_display" type="number" readonly="" value="0">
											</td>

										</tr>
								</tbody></table>
								<br>
								
								<div class="sheet-melee_wpns_labels" style="margin-top: 5px;">
									<br>
								   <label style="width: 98px;" data-i18n="Weapon">Weapon</label>
								   <label style="width: 34px;" data-i18n="SR">SR</label>   
								   <!--<label style="width:30px">SR</label>-->
								   <label style="width: 74px;" data-i18n="Attk">Attk</label>   
								   <label style="width: 71px;" data-i18n="Damage">Damage</label>   
								</div>	
								
								<fieldset class="repeating_animal2wpns">
									<input name="attr_wpn_name" class="sheet-value_display" style="width: 100px; text-align: left;" type="text" value="weapon">
									<input name="attr_wpn_sr" class="sheet-value_display" type="number" value="0">
									<input name="attr_wpn_attk" class="sheet-value_display" type="number" value="0">
									<input name="attr_wpn_damage" class="sheet-value_display" style="width: 80px;" type="text" value="0">
									<button type="roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}]])/5)+1]]}}         {{success=[[@{wpn_attk}]]}} {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}"></button>
									<button class="sheet-new_roll" style="margin: 0px;" type="roll" value="&{template:melee-roll} {{name=@{animal1_name}}} {{tot=[[@{wpn_damage}]]}}  {{skillvalue=[[@{wpn_attk}]]}} {{success=[[@{wpn_attk}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{wpn_attk}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{wpn_attk}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{wpn_attk}+?{mods|0}]])/5)+1]]}}          {{roll=[[1d100]]}} {{skillname=@{wpn_name}}}"></button>									
									
									
								</fieldset>
								<br>
								
								<div class="sheet-melee_wpns_labels" style="margin-top: 5px;">
									<br>
								   <label style="width: 237px;" data-i18n="Skill">Skill</label>
								   <label style="width: 74px;" data-i18n="%">%</label>   
								</div>	
								
								<fieldset class="repeating_animal2skills">
									<input name="attr_skill_name" class="sheet-value_display" style="width: 232px; text-align: left;" type="text" value="skill">
									<input name="attr_skill_value" class="sheet-value_display" type="number" value="0">
									<button type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}} {{skillvalue=[[@{skill_value}]]}} {{fumble=[[ceil(95+([[@{skill_value}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}]])/5)+1]]}}         {{success=[[@{skill_value}]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name}}}"></button>									
								<button class="sheet-new_roll" style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{animal2_name}}} {{success=[[@{skill_value}+?{mods|0}]]}} {{skillvalue=[[@{skill_value}]]}} {{fumble=[[ceil(95+([[@{skill_value}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{skill_value}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{skill_value}+?{mods|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=@{skill_name}}}"></button>									
									
								</fieldset>
								
								<p>Hit Locations</p>
								<textarea name="attr_animal1_hit2oc" style="margin: 0px; font-family: courier;">D20	    Result	       AP/HP
	1-2	    Right hind-leg	0/0
	3-4 	Left hind-leg	0/0
	5-7 	Hindquarters	0/0
	8-10 	Forequarters 	0/0
	11-13 	Right fore-leg	0/0
	14-16 	Left fore-leg	0/0
	17-20 	Head        	0/0
						
								</textarea>
								
								<br>							
							</div><!-- Animal 2 -->
						</div>
					</div>
					
					
					<br>
					<div style="border-radius: 6px; background-color: white;">
						<label data-i18n="Money-Finances">Money / Finances</label>
						<textarea name="attr_money" style="width: 80%; min-height: 15em;"></textarea>
					</div>
								
					
		
	</div> <!--- End of Tab 4 -->
		<!--style="background-color:#ac6e73"*/-->
		
		<div class="sheet-tab-contentb sheet-tab5" style="background-color: rgb(172, 110, 115);">
		<br>
		<div style="margin-top: 15px;">
			<label style="display: inline;" data-i18n="Magic">Magic </label> <div style="display: none;"><input name="attr_magic_mod" type="number" readonly="" value="0">   Fatigue (	<span name="attr_enc_mod"></span>%)&nbsp;&nbsp; Enc ( -<span name="attr_enc_total"></span>%)&nbsp;&nbsp;</div>
		Magic Points <span name="attr_curpow"></span>/<input name="attr_mp_cur" type="number" value="">&nbsp;&nbsp;
			<div style="display: none;">
			Free INT<span style="margin-left: 5px;" name="attr_curint"></span>+<input name="attr_freeint_mod" type="number" value="0">=<input name="attr_freeint_total" disabled="" type="number" value="">/
			<input name="attr_spiritint" style="display: none;" type="number" value="0"><input name="attr_sorceryint" style="display: none;" type="number" value="0">
			<input name="attr_freeint_cur" disabled="" type="number" value="">
			</div>
		</div>	
		<br>
				<div style="margin-top: 15px; display: none;">
					<div style="display: inline;">	
						<input name="attr_ceremony_check" style="display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" style="display: inline;" data-i18n="Ceremony">Ceremony</div>
						
						<input name="attr_ceremony_value" class="sheet-skill_values" type="text" value="5">
						<input name="attr_ceremony_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{ceremony_value}+@{enc_mod}]">

						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ceremony_total}]}} {{fumble=[[ceil(95+([@{ceremony_total}])/20))]]}} {{crit=[[ceil(([@{ceremony_total}])/20)+1]]}} {{special=[[ceil(([@{ceremony_total}])/5)+1]]}}         {{success=[[[@{ceremony_total}]]]}} {{roll=[[1d100]]}} {{skillname=Ceremony}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{ceremony_total}]}} {{fumble=[[ceil(95+([@{ceremony_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{ceremony_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{ceremony_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{ceremony_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Ceremony}}"></button>	
						
						
					</div>	
					<div style="display: inline;">	
						<input name="attr_summon_check" style="margin-left: 10px; display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" style="display: inline;" data-i18n="Summon">Summon</div>
						
						<input name="attr_summon_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_summon_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{summon_value}+@{enc_mod}]">
						<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{summon_total}]}} {{fumble=[[ceil(95+([@{summon_total}])/20))]]}} {{crit=[[ceil(([@{summon_total}])/20)+1]]}} {{special=[[ceil(([@{summon_total}])/5)+1]]}}         {{success=[[[@{summon_total}]]]}} {{roll=[[1d100]]}} {{skillname=Summon}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{summon_total}]}} {{fumble=[[ceil(95+([@{summon_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{summon_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{summon_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{summon_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Summon}}"></button>	
						
						
					</div>
					<div style="display: inline;">	
						<input name="attr_enchant_check" style="margin-left: 10px; display: inline-block;" type="checkbox">
						<div class="sheet-skill_button" style="display: inline;" data-i18n="Enchant">Enchant</div>
						
						<input name="attr_enchant_value" class="sheet-skill_values" type="text" value="0">
						<input name="attr_enchant_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{enchant_value}+@{enc_mod}]"><button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{enchant_total}]}} {{fumble=[[ceil(95+([@{enchant_total}])/20))]]}} {{crit=[[ceil(([@{enchant_total}])/20)+1]]}} {{special=[[ceil(([@{enchant_total}])/5)+1]]}}         {{success=[[[@{enchant_total}]]]}} {{roll=[[1d100]]}} {{skillname=Enchant}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{enchant_total}]}} {{fumble=[[ceil(95+([@{enchant_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{enchant_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{enchant_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{enchant_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Enchant}}"></button>	
						
						
					</div>
					
					
					
				</div>
				<div class="sheet-spell_div">
				
						<div>
							<label style="display: inline;" data-i18n="Spirit-Combat">Spirit Combat</label>
							<div class="sheet-skill_button" style="display: inline;" data-i18n="Skill">Skill</div>
							<input name="attr_cast_spiritm" disabled="" class="sheet-value_display" style="text-align: center; display: inline;" type="number" value="">% 
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}])/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}])/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}])/5)+1]]}}         {{success=[[[@{spirit_combat_total}]]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}"></button>								
							<button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{spirit_combat_total}]}} {{fumble=[[ceil(95+([@{spirit_combat_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{spirit_combat_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{spirit_combat_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Cmbt.}}"></button>		
							<div class="sheet-skill_button" style="display: inline;" data-i18n="Damage">Damage</div>
							<input name="attr_spirit_damage1" class="sheet-value_display" style="width: 100px; text-align: center; display: inline;" type="text" value="1d6">
							<button type="roll" value="@{character_name} Rolls [[@{spirit_damage1}]] spirit combat damage"></button>		
						</div>
						

					
				</div>	
				<br>
				<div class="sheet-spell_div">
					<div>
						<label style="display: inline;" data-i18n="Battle Magic">Battle Magic</label>
						<div>
						Casting <input name="attr_cast_spiritm" disabled="" class="sheet-value_display" style="text-align: center; display: inline;" type="number" value="">%	
						</div>
						
					</div>
					<br>

					
					<label style="font-size: 1em;" data-i18n="Learned Spells">Learned Spells</label>
					
					<div class="sheet-melee_wpns_labels">
					   <br>
					   <label style="width: 150px;" data-i18n="Spell">Spell</label>
					   <label style="width: 26px;" data-i18n="Pts">Pts</label>   
					   <!--<label style="width:30px">SR</label>-->
					   <label style="width: 74px;" data-i18n="Range">Range</label>   
					   <label style="width: 71px;" data-i18n="Duration">Duration</label>   
					   <label style="width: 57px;" data-i18n="Active">Active</label>
					   <label style="width: 205px;" data-i18n="Notes">Notes</label>
					   <label style="width: 100px;" data-i18n="Memory">Memory</label>				   
					</div>					
					
					<fieldset class="repeating_spiritspells">
						<input name="attr_spellname" class="sheet-value_display" style="width: 150px; text-align: left; display: inline-block;" type="text">
						<input name="attr_mpcost" class="sheet-value_display" style="text-align: center; display: inline-block;" type="number" value="0">
						<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
						<select name="attr_range" style="width: 80px; margin-top: 0px;">
								<option>Ranged</option>
								<option>Touch</option>
						</select>
						<select name="attr_duration" style="width: 80px; margin-top: 0px;">
								<option>Instant</option>
								<option>Perm.</option>							
								<option>Temporal</option>
						</select>
						<select name="attr_duration" style="width: 80px; margin-top: 0px;">
								<option>Active</option>
								<option>Passive</option>
						</select>							
						<input name="attr_spellnotes" class="sheet-value_display" style="width: 220px; text-align: left; display: inline-block;" type="text">
						<input name="attr_memorized" class="sheet-value_display" type="checkbox" checked="checked">
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)]])/5)+1]]}}         {{success=[[(@{curpow}*5)]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}"></button>

					</fieldset>
					
					<br>
					<label style="font-size: 1em; display: inline;" data-i18n="Matrices Spells">Matrices Spells</label>
					<input name="attr_is_HideSpirit" class="sheet-HideSpiritm" type="checkbox" checked="checked"><span class="sheet-is-HideSpirit" ><span style='font-family:pictos;' >y</span></span>
					<div class="sheet-Spiritmconfig">
					
					<div class="sheet-melee_wpns_labels">
					   <br>
					   <label style="width: 150px;" data-i18n="Spell">Spell</label>
					   <label style="width: 26px;" data-i18n="Pts">Pts</label>   
					   <!--<label style="width:30px">SR</label>-->
					   <label style="width: 74px;" data-i18n="Range">Range</label>   
					   <label style="width: 71px;" data-i18n="Duration">Duration</label>   
					   <label style="width: 57px;" data-i18n="Active">Active</label>
					   <label style="width: 100px;" data-i18n="Notes">Notes</label>
					</div>					
					
					<fieldset class="repeating_mspiritspells">
						<input name="attr_spellname" class="sheet-value_display" style="width: 150px; text-align: left; display: inline-block;" type="text">
						<input name="attr_mpcost" class="sheet-value_display" style="text-align: center; display: inline-block;" type="number" value="0">
						<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
						<select name="attr_range" style="width: 80px; margin-top: 0px;">
								<option>Ranged</option>
								<option>Touch</option>
						</select>
						<select name="attr_duration" style="width: 80px; margin-top: 0px;">
								<option>Instant</option>
								<option>Perm.</option>							
								<option>Temporal</option>
						</select>
						<select name="attr_duration" style="width: 80px; margin-top: 0px;">
								<option>Active</option>
								<option>Passive</option>
						</select>							

						
						<input name="attr_spellnotes" class="sheet-value_display" style="width: 220px; text-align: left; display: inline-block;" type="text">
						
							<div style="display: none;">
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]])/5)+1]]}}         {{success=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]]}} {{fumble=[[ceil(95+([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}}]])/20))]]}} {{crit=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]])/5)+1]]}}         {{success=[[(@{curpow}*5)+@{enc_mod}+@{magic_mod}-@{enc_total}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}"></button>
							</div>
					</fieldset>				
					</div>
					
					
					
				</div>	
				<br>
				<div class="sheet-spell_div">
					<div>
						<label style="display: inline;" data-i18n="Rune Magic">Rune Magic</label>
						
						<div style="display: none;">
						Casting <input name="attr_cast_divine" disabled="" class="sheet-value_display" style="text-align: center; display: inline;" type="number" value="">%	
						</div>			
					
					
					</div>
					
					<br>
					
					
					<div>
						<label data-i18n="Runes">Runes</label>
						
							<div class="sheet-melee_wpns_labels">
							   <br>
							   <label style="width: 100px;" data-i18n="Rune">Rune</label>
							   <label style="width: 65px;" data-i18n="Type">Type</label>   
							   <label style="width: 65px;" data-i18n="%">%</label>   
							</div>						
							<fieldset class="repeating_runes">
									<input name="attr_runename" class="sheet-value_display" style="width: 100px; text-align: left; display: inline-block;" type="text">						
									<select name="attr_rune_type" style="width: 100px; margin-top: 0px;">
											<option value="element" selected="">Element</option>
											<option value="power">Power</option>
											<option value="form">Form</option>										
											<option value="condition">Condition</option>																				
									</select>								
									<input name="attr_rune_skill" class="sheet-value_display" style="text-align: center; display: inline-block;" type="number" value="0">
									<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{rune_skill}]]}} {{fumble=[[ceil(95+([[@{rune_skill}]])/20))]]}} {{crit=[[ceil(([[@{rune_skill}]])/20)+1]]}} {{special=[[ceil(([[@{rune_skill}]])/5)+1]]}}         {{success=[[@{rune_skill}]]}} {{roll=[[1d100]]}} {{skillname=@{runename} Rune}}"></button>		
									<button class="sheet-new_roll" style="margin: 0px;" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{success=[[@{rune_skill}+?{mods|0}]]}} {{skillvalue=[[@{rune_skill}]]}} {{fumble=[[ceil(95+([[@{rune_skill}+?{mods|0}]])/20))]]}} {{crit=[[ceil(([[@{rune_skill}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{rune_skill}+?{mods|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=@{runename}}}"></button>								


							</fieldset>
							
						
					</div>				
					
					
					<br>
						<label data-i18n="Runes Points and Spells">Runes Points and Spells</label>				
						<fieldset class="repeating_runespells">
							<div>
								<div class="sheet-skill_button" style="display: inline;" data-i18n="Diety">Diety</div>
								<input name="attr_diety_spells" style="width: 300px;" type="text">
								<div class="sheet-skill_button" style="display: inline;" data-i18n="Rune Points">Rune Points</div>
								<input name="attr_rune_pts_max" type="number">/<input name="attr_cur_runepts" type="number">								
							</div>
							<div>
								<div class="sheet-skill_button" style="width: 90%; display: inline-block;" data-i18n="Spells">Spells</div>
								<textarea name="attr_spelllist" style="width: 90%;"></textarea>
							</div>
							<br>
							
						</fieldset>
					
					<br>
					
						<!--
						<div>
							<label>Spells</label>
							
							<div class="sheet-melee_wpns_labels">
							   <br />
							   <label style="width:142px">Spell</label>
							   <label style="width:26px">Cost</label>   
							</div>					
							
							<fieldset class="repeating_divinespells">
									<input class="sheet-value_display" type="text" style="text-align:left;display:inline-block;width:150px" name="attr_spellname" />
									<input class="sheet-value_display"  type="number" style="text-align:center;display:inline-block;" value="0" name="attr_cost" />
							</fieldset>
						</div>
						-->
					</div>
				<br>
				<div class="sheet-spell_div" style="display: none;">
					<div>
						<label style="display: inline;" data-i18n="Sorcery">Sorcery</label>
						<!--Casting <input class="sheet-value_display" style="text-align:center;display:inline" type="number" disabled name="attr_cast_spiritm" value="[[@{curpow}*5]-@{enc_mod}-@{enc_total}]"/>%	-->
					</div>
					<br>
				<div style="margin-top: 15px;">
				
				
					<div>
						<div style="display: inline;">	
							<input name="attr_intensity_check" style="display: inline-block;" type="checkbox">
							<div class="sheet-skill_button" style="width: 100px; display: inline-block;" data-i18n="Intensity">Intensity</div>
							
							<input name="attr_intensity_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_intensity_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{intensity_value}+@{enc_mod}]">

							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intensity_total}]}} {{fumble=[[ceil(95+([@{intensity_total}])/20))]]}} {{crit=[[ceil(([@{intensity_total}])/20)+1]]}} {{special=[[ceil(([@{intensity_total}])/5)+1]]}}         {{success=[[[@{intensity_total}]]]}} {{roll=[[1d100]]}} {{skillname=Intensity}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{intensity_total}]}} {{fumble=[[ceil(95+([@{intensity_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{intensity_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{intensity_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{intensity_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Intensity}}"></button>	
							
							
						</div>	
						<div style="display: inline;">	
							<input name="attr_duration_check" style="margin-left: 10px; display: inline-block;" type="checkbox">
							<div class="sheet-skill_button" style="width: 100px; display: inline-block;" data-i18n="Duration">Duration</div>
							
							<input name="attr_duration_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_duration_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{duration_value}+@{enc_mod}]">
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{duration_total}]}} {{fumble=[[ceil(95+([@{duration_total}])/20))]]}} {{crit=[[ceil(([@{duration_total}])/20)+1]]}} {{special=[[ceil(([@{duration_total}])/5)+1]]}}         {{success=[[[@{duration_total}]]]}} {{roll=[[1d100]]}} {{skillname=Duration}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{duration_total}]}} {{fumble=[[ceil(95+([@{intensity_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{duration_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{duration_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{duration_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Duration}}"></button>	
							
							
						</div>
					</div>
					<div>
					
						<div style="display: inline;">	
							<input name="attr_range_check" style="display: inline-block;" type="checkbox">
							<div class="sheet-skill_button" style="width: 100px; display: inline-block;" data-i18n="Range">Range</div>
							
							<input name="attr_range_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_range_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{enchant_value}+@{enc_mod}]">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{range_total}]}} {{fumble=[[ceil(95+([@{range_total}])/20))]]}} {{crit=[[ceil(([@{range_total}])/20)+1]]}} {{special=[[ceil(([@{range_total}])/5)+1]]}}         {{success=[[[@{range_total}]]]}} {{roll=[[1d100]]}} {{skillname=Range}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{range_total}]}} {{fumble=[[ceil(95+([@{range_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{range_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{range_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{range_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Range}}"></button>	
							
							
						</div>
						<div style="display: inline;">	
							<input name="attr_multispell_check" style="margin-left: 10px; display: inline-block;" type="checkbox">
							<div class="sheet-skill_button" style="width: 100px; display: inline-block;" data-i18n="Multispell">Multispell</div>
							
							<input name="attr_multispell_value" class="sheet-skill_values" type="text" value="0">
							<input name="attr_multispell_total" disabled="" class="sheet-skill_values" type="text" value="[@{magic_mod}+@{multispell_value}+@{enc_mod}]">
							
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{multispell_total}]}} {{fumble=[[ceil(95+([@{multispell_total}])/20))]]}} {{crit=[[ceil(([@{multispell_total}])/20)+1]]}} {{special=[[ceil(([@{multispell_total}])/5)+1]]}}         {{success=[[[@{multispell_total}]]]}} {{roll=[[1d100]]}} {{skillname=Multispell}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[@{multispell_total}]}} {{fumble=[[ceil(95+([@{multispell_total}]+?{Mods|0})/20))]]}} {{crit=[[ceil(([@{multispell_total}]+?{Mods|0})/20)+1]]}} {{special=[[ceil(([@{multispell_total}]+?{Mods|0})/5)+1]]}}         {{success=[[[@{multispell_total}]+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Multispell}}"></button>	
							
							
						</div>				
					</div>
					
				</div>
				<br>


					<label style="margin-top: 5px;" data-i18n="Learned Spells">Learned Spells</label>
					
					<div class="sheet-melee_wpns_labels">
					   <br>
					   <label style="width: 159px;" data-i18n="Spell">Spell</label>
					   <!--<label style="width:26px">Pts</label>--> 
					   <!--<label style="width:30px">SR</label>-->
					   <label style="width: 59px;" data-i18n="Range">Range</label>   
					   <label style="width: 80px;" data-i18n="Duration">Duration</label>   
					   <label style="width: 81px;" data-i18n="Active">Active</label> 
					   <label style="width: 57px;" data-i18n="Skill">Skill</label>   				   
					   <label style="width: 100px;" data-i18n="Notes">Notes</label>
					</div>					
					
					<fieldset class="repeating_sorceryspells">
						<input name="attr_spellname" class="sheet-value_display" style="width: 150px; text-align: left; display: inline-block;" type="text">
						<input name="attr_mpcost" class="sheet-value_display" style="text-align: center;" type="number" value="1">
						<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
						
						<select name="attr_range" style="width: 80px; margin-top: 0px;">
								<option>Ranged</option>
								<option>Touch</option>
						</select>
						<select name="attr_duration" style="width: 80px; margin-top: 0px;">
								<option>Instant</option>
								<option>Temporal</option>
						</select>
						<select name="attr_active" style="width: 80px; margin-top: 0px;">
								<option>Active</option>
								<option>Passive</option>
						</select>							
						<input name="attr_spell_value" class="sheet-skill_values" type="number" value="0">
						<input name="attr_spell_total" disabled="true" class="sheet-skill_values" type="number" value="">
						<input name="attr_spell_modtotal" disabled="" style="display: none;" type="number" value="">
						<input name="attr_spellnotes" class="sheet-value_display" style="width: 157px; text-align: left; display: inline-block;" type="text">
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}]])/5)+1]]}}         {{success=[[@{spell_modtotal}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}+?{mods|0}}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/5)+1]]}}         {{success=[[@{spell_modtotal}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}"></button>
					</fieldset>
					
					<br>
				<label style="display: inline;" data-i18n="Matrices Spells">Matrices Spells</label>            
				<input name="attr_is_HideSorcery" class="sheet-HideSorcerym" type="checkbox" checked="checked"><span class="sheet-is-HideSorcery" ><span style='font-family:pictos;' >y</span></span>
				<div class="sheet-Sorcerymconfig">
					<div class="sheet-melee_wpns_labels">
					   <br>
					   <label style="width: 159px;" data-i18n="Spell">Spell</label>
					   <!--<label style="width:26px">Pts</label>--> 
					   <!--<label style="width:30px">SR</label>-->
					   <label style="width: 59px;" data-i18n="Range">Range</label>   
					   <label style="width: 80px;" data-i18n="Duration">Duration</label>   
					   <label style="width: 81px;" data-i18n="Active">Active</label> 
					   <label style="width: 57px;" data-i18n="Skill">Skill</label>   				   
					   <label style="width: 100px;" data-i18n="Notes">Notes</label>
					</div>					
					
					<fieldset class="repeating_msorceryspells">
						<input name="attr_spellname" class="sheet-value_display" style="width: 150px; text-align: left; display: inline-block;" type="text">
						<input name="attr_mpcost" class="sheet-value_display" style="text-align: center; display: none;" type="number" value="0">
						<!--<input type="number" style="display:inline-block;" name="attr_spellsr" />-->
						
						<select name="attr_range" style="width: 80px; margin-top: 0px;">
								<option>Ranged</option>
								<option>Touch</option>
						</select>
						<select name="attr_duration" style="width: 80px; margin-top: 0px;">
								<option>Instant</option>
								<option>Temporal</option>
						</select>
						<select name="attr_active" style="width: 80px; margin-top: 0px;">
								<option>Active</option>
								<option>Passive</option>
						</select>							
						<input name="attr_spell_value" class="sheet-skill_values" type="number" value="0">
						<input name="attr_spell_total" disabled="true" class="sheet-skill_values" type="number" value="">
						<input name="attr_spell_modtotal" disabled="" style="display: none;" type="number" value="">
						<input name="attr_spellnotes" class="sheet-value_display" style="width: 157px; text-align: left; display: inline-block;" type="text">
							<button type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}]])/5)+1]]}}         {{success=[[@{spell_modtotal}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}"></button><button class="sheet-new_roll" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{spell_modtotal}+?{mods|0}]]}} {{fumble=[[ceil(95+([[@{spell_modtotal}+?{mods|0}}]])/20))]]}} {{crit=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/20)+1]]}} {{special=[[ceil(([[@{spell_modtotal}+?{mods|0}]])/5)+1]]}}         {{success=[[@{spell_modtotal}+?{mods|0}]]}} {{roll=[[1d100]]}} {{skillname=@{spellname}}}"></button>
					</fieldset>				
				  </div>		
					
					
				</div>	
				<br>
				
				<div style="padding: 5px; background-color: white;">
					<label data-i18n="Otherworld Creatures">Otherworld Creatures</label>
					<div class="sheet-2colrow"> <!-- Start of spirit row -->
						<div class="sheet-col">
						
							<label data-i18n="#1">#1</label>
							<div style="margin-bottom: 5px;">
								<input name="attr_spirit1_name" class="sheet-value_display" style="width: 244px;" type="text" value="name andtype ">
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input name="attr_spirit1_int" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">POW</p><input name="attr_spirit1_pow" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">/</p><input name="attr_spirit1_mp" class="sheet-value_display" type="number">
								
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input name="attr_spirit1_str" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">SIZ</p><input name="attr_spirit1_siz" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">HP</p><input name="attr_spirit1_hp" class="sheet-value_display" type="number">
			
							</div>
							<br>
							Attacks/notes
							<textarea name="attr_spirit1_notes" style="width: 80%;"></textarea>
							
							<p>Spells</p>
							<fieldset class="repeating_spirit1spells">
								<input name="attr_spiritspell" class="sheet-value_display" style="width: 215px; text-align: left;" type="text" value="spell name and mp cost">
								<input name="attr_spiritskill" class="sheet-value_display" type="number" value="0">
								<select name="attr_magictype1" style="width: 79px; margin-bottom: 0px;">
									<option value="100">Divine</option>
									<option value="(@{spirit1_pow}*5)+(@{spirit1_pow}-10)+(@{spirit1_int}-10)">Spirit</option>								
								</select>
								<button style="display: none;" type="roll" value="&{template:skillRoll} {{name=@{spirit1_name}}} {{skillvalue=[[@{magictype1}]]}} {{fumble=[[ceil(95+([[@{magictype1}]])/20))]]}} {{crit=[[ceil(([[@{magictype1}]])/20)+1]]}} {{special=[[ceil(([[@{magictype1}]])/5)+1]]}}         {{success=[[@{magictype1}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}"></button>	

							</fieldset>
							
							<br>
						
						</div>
						<div class="sheet-col">
						
							<label data-i18n="#2">#2</label>
							<div style="margin-bottom: 5px;">
								<input name="attr_spirit2_name" class="sheet-value_display" style="width: 244px;" type="text" value="name andtype ">
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input name="attr_spirit2_int" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">POW</p><input name="attr_spirit2_pow" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">/</p><input name="attr_spirit2_mp" class="sheet-value_display" type="number">
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input name="attr_spirit2_str" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">SIZ</p><input name="attr_spirit2_siz" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">HP</p><input name="attr_spirit2_hp" class="sheet-value_display" type="number">
			
							</div>
							<br>
							Attacks/notes
							<textarea name="attr_spirit2_notes" style="width: 80%;"></textarea>
							
							<p>Spells</p>
							<fieldset class="repeating_spirit2spells">
								<input name="attr_spiritspell" class="sheet-value_display" style="width: 215px; text-align: left;" type="text" value="spell name and mp cost">
								<input name="attr_spiritskill" class="sheet-value_display" type="number" value="0">
								<select name="attr_magictype2" style="width: 79px; margin-bottom: 0px;">
									<option value="100">Rune</option>
									<option value="(@{spirit2_pow}*5)+(@{spirit2_pow}-10)+(@{spirit2_int}-10)">Spirit</option>								
								</select>
								<button type="roll" value="&{template:skillRoll} {{name=@{spirit2_name}}} {{skillvalue=[[@{magictype2}]]}} {{fumble=[[ceil(95+([[@{magictype2}]])/20))]]}} {{crit=[[ceil(([[@{magictype2}]])/20)+1]]}} {{special=[[ceil(([[@{magictype2}]])/5)+1]]}}         {{success=[[@{magictype2}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}"></button>	

							</fieldset>
							
							<br>
						
						</div>



						
					</div><!-- End of spirit row -->
					<div class="sheet-2colrow"><!-- Start of spirit row -->
						<div class="sheet-col">
						
							<label data-i18n="#3">#3</label>
							<div style="margin-bottom: 5px;">
								<input name="attr_spirit3_name" class="sheet-value_display" style="width: 244px;" type="text" value="name andtype ">
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input name="attr_spirit3_int" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">POW</p><input name="attr_spirit3_pow" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">/</p><input name="attr_spirit3_mp" class="sheet-value_display" type="number">
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input name="attr_spirit3_str" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">SIZ</p><input name="attr_spirit3_siz" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">HP</p><input name="attr_spirit3_hp" class="sheet-value_display" type="number">
			
							</div>
							<br>
							Attacks/notes
							<textarea name="attr_spirit3_notes" style="width: 80%;"></textarea>
							
							<p>Spells</p>
							<fieldset class="repeating_spirit3spells">
								<input name="attr_spiritspell" class="sheet-value_display" style="width: 215px; text-align: left;" type="text" value="spell name and mp cost">
								<input name="attr_spiritskill" class="sheet-value_display" type="number" value="0">
								<select name="attr_magictype3" style="width: 79px; margin-bottom: 0px;">
									<option value="100">Rune</option>
									<option value="(@{spirit3_pow}*5)+(@{spirit3_pow}-10)+(@{spirit3_int}-10)">Spirit</option>								
								</select>
								<button type="roll" value="&{template:skillRoll} {{name=@{spirit3_name}}} {{skillvalue=[[@{magictype3}]]}} {{fumble=[[ceil(95+([[@{magictype3}]])/20))]]}} {{crit=[[ceil(([[@{magictype3}]])/20)+1]]}} {{special=[[ceil(([[@{magictype3}]])/5)+1]]}}         {{success=[[@{magictype3}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}" "display:none"=""></button>	

							</fieldset>
							
							<br>
						
						</div>
						<div class="sheet-col">
						
							<label data-i18n="#4">#4</label>
							<div style="margin-bottom: 5px;">
								<input name="attr_spirit4_name" class="sheet-value_display" style="width: 244px;" type="text" value="name andtype ">
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input name="attr_spirit4_int" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">POW</p><input name="attr_spirit4_pow" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">/</p><input name="attr_spirit4_mp" class="sheet-value_display" type="number">
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input name="attr_spirit4_str" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">SIZ</p><input name="attr_spirit4_siz" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">HP</p><input name="attr_spirit4_hp" class="sheet-value_display" type="number">
			
							</div>
							<br>
							Attacks/notes
							<textarea name="attr_spirit4_notes" style="width: 80%;"></textarea>
							
							<p>Spells</p>
							<fieldset class="repeating_spirit4spells">
								<input name="attr_spiritspell" class="sheet-value_display" style="width: 215px; text-align: left;" type="text" value="spell name and mp cost">
								<input name="attr_spiritskill" class="sheet-value_display" type="number" value="0">
								<select name="attr_magictype" style="width: 79px; margin-bottom: 0px;">
									<option value="100">Rune</option>
									<option value="(@{spirit4_pow}*5)+(@{spirit4_pow}-10)+(@{spirit4_int}-10)">Spirit</option>								
								</select>
								<button style="display: none;" type="roll" value="&{template:skillRoll} {{name=@{spirit4_name}}} {{skillvalue=[[@{magictype}]]}} {{fumble=[[ceil(95+([[@{magictype}]])/20))]]}} {{crit=[[ceil(([[@{magictype}]])/20)+1]]}} {{special=[[ceil(([[@{magictype}]])/5)+1]]}}         {{success=[[@{magictype}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}"></button>	

							</fieldset>
							
							<br>
						
						</div>



						
					</div><!-- End of spirit row -->				
					
					<div class="sheet-2colrow"><!-- Start of spirit row -->
						<div class="sheet-col">
						
							<label data-i18n="#5">#5</label>
							<div style="margin-bottom: 5px;">
								<input name="attr_spirit5_name" class="sheet-value_display" style="width: 244px;" type="text" value="name andtype ">
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input name="attr_spirit5_int" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">POW</p><input name="attr_spirit5_pow" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">/</p><input name="attr_spirit5_mp" class="sheet-value_display" type="number">
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input name="attr_spirit5_str" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">SIZ</p><input name="attr_spirit5_siz" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">HP</p><input name="attr_spirit5_hp" class="sheet-value_display" type="number">
			
							</div>
							<br>
							Attacks/notes
							<textarea name="attr_spirit5_notes" style="width: 80%;"></textarea>
							
							<p>Spells</p>
							<fieldset class="repeating_spirit5spells">
								<input name="attr_spiritspell" class="sheet-value_display" style="width: 215px; text-align: left;" type="text" value="spell name and mp cost">
								<input name="attr_spiritskill" class="sheet-value_display" type="number" value="0">
								<select name="attr_magictype" style="width: 79px; margin-bottom: 0px;">
									<option value="100">Divine</option>
									<option value="@{spiritskill}+(@{spirit5_pow}-10)+(@{spirit5_int}-10)">Sorcery</option>
									<option value="(@{spirit1_pow}*5)+(@{spirit5_pow}-10)+(@{spirit5_int}-10)">Spirit</option>								
								</select>
								<button style="display: none;" type="roll" value="&{template:skillRoll} {{name=@{spirit5_name}}} {{skillvalue=[[@{magictype}]]}} {{fumble=[[ceil(95+([[@{magictype}]])/20))]]}} {{crit=[[ceil(([[@{magictype}]])/20)+1]]}} {{special=[[ceil(([[@{magictype}]])/5)+1]]}}         {{success=[[@{magictype}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}"></button>	

							</fieldset>
							
							<br>
						
						</div>
						<div class="sheet-col">
						
							<label data-i18n="#6">#6</label>
							<div style="margin-bottom: 5px;">
								<input name="attr_spirit6_name" class="sheet-value_display" style="width: 244px;" type="text" value="name andtype ">
							</div>
							<div>
								<p class="sheet-spirit_stat">INT</p> <input name="attr_spirit6_int" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">POW</p><input name="attr_spirit6_pow" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">/</p><input name="attr_spirit6_mp" class="sheet-value_display" type="number">
							</div>
							<div>
								<p class="sheet-spirit_stat">STR</p> <input name="attr_spirit6_str" class="sheet-value_display" type="number"> <p class="sheet-spirit_stat">SIZ</p><input name="attr_spirit6_siz" class="sheet-value_display" type="number"><p class="sheet-spirit_stat">HP</p><input name="attr_spirit6_hp" class="sheet-value_display" type="number">
			
							</div>
							<br>
							Attacks/notes
							<textarea name="attr_spirit4_notes" style="width: 80%;"></textarea>
							
							<p>Spells</p>
							<fieldset class="repeating_spirit6spells">
								<input name="attr_spiritspell" class="sheet-value_display" style="width: 215px; text-align: left;" type="text" value="spell name and mp cost">
								<input name="attr_spiritskill" class="sheet-value_display" type="number" value="0">
								<select name="attr_magictype" style="width: 79px; margin-bottom: 0px;">
									<option value="100">Divine</option>
									<option value="@{spiritskill}+(@{spirit1_pow}-10)+(@{spirit1_int}-10)">Sorcery</option>
									<option value="(@{spirit1_pow}*5)+(@{spirit1_pow}-10)+(@{spirit1_int}-10)">Spirit</option>								
								</select>
								<button style="display: none;" type="roll" value="&{template:skillRoll} {{name=@{spirit6_name}}} {{skillvalue=[[@{magictype}]]}} {{fumble=[[ceil(95+([[@{magictype}]])/20))]]}} {{crit=[[ceil(([[@{magictype}]])/20)+1]]}} {{special=[[ceil(([[@{magictype}]])/5)+1]]}}         {{success=[[@{magictype}]]}} {{roll=[[1d100]]}} {{skillname=@{spiritspell}}}"></button>	

							</fieldset>
							
							<br>
						
						</div>



						
					</div><!-- End of spirit row -->				
					
					
					
					
				</div>	
				
				
				<br>
				<div class="sheet-spell_div">
					<label data-i18n="MP Storage">MP Storage</label>
					<textarea name="attr_mp_storage" style="width: 80%; min-height: 15em;"></textarea>
				</div>
				
				
				
		
		</div> <!--- End of Tab 5 -->
	</div>
	<!-- End QS sheet -->
	<!-- Start NPC sheet -->
	<input name="attr_toggleNPC1Sheet" class="sheet-toggleNPC1Sheet" style="display: none;" type="checkbox">
	<div class="sheet-npc1">
				<div class="sheet-cdiv">
					<input name="attr_is_config" class="sheet-HideConfig" type="checkbox" checked="checked"><span class="sheet-is-config" ><span style='font-family:pictos;' >y</span></span>
					<div class="sheet-config" style="border-style: dotted; border-color: gray; padding: 5px; background-image: none; background-color: white;">
						<div>
							<b>25.10.2021</b> <input name="attr_versiony" style="background: none; border: currentColor; border-image: none; width: 400px; color: red; font-weight: bold;" type="text" readonly="" value="(https://tinyurl.com/yb9tgmlv)">
						</div><br>
						<input name="attr_toggleQSSheet" class="sheet-toggleQSSheet" type="checkbox" checked="checked">Display Quick Start Sheet <input name="attr_toggleFullSheet" class="sheet-toggleFullSheet" type="checkbox">Display Full Sheet <input name="attr_toggleNPC1Sheet" class="sheet-toggleNPC1Sheet" type="checkbox">Display NPC Sheet
					</div>
				</div><br>
		<div class="sheet-wrapper1">
			<div>
				<input name="attr_whisper" type="checkbox"><span style="margin-right: 5px;" data-i18n="Whisper-rolls">Whisper rolls</span> <input name="attr_whispSet" style="display: none;" type="text" value="">

				<div><input name="attr_character_name" class="sheet-value_display" style="width: 375px;" type="text" placeholder="name"></div>
				<div class="">					
					<span name="attr_npc1_desc"></span>					
					<textarea name="attr_npc1_desc" style="width: 375px;" class="sheet-npcTextArea"></textarea>
				</div>
				<br>
				<div>
					<span class="sheet-npc1_statLabel" data-i18n="STR">STR</span> <input name="attr_npc1a_str" class="sheet-npc1_stat" type="text" value="0"><button  name="roll_strrollnpc" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_str}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_str}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_str}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_str}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_str}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=STR}}"></button> <span class="sheet-npc1_statLabel" data-i18n="CON">CON</span><input name="attr_npc1a_con" class="sheet-npc1_stat" type="text" value="0"><button name="roll_conrollnpc"  type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_con}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_con}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_con}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_con}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_con}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CON}}"></button> <span class="sheet-npc1_statLabel" data-i18n="SIZ">SIZ</span><input name="attr_npc1a_siz" class="sheet-npc1_stat" type="text" value="0"><button  name="roll_sizrollnpc" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_siz}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_siz}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_siz}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_siz}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_siz}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=SIZ}}"></button>
				</div>
				<div>
					<span class="sheet-npc1_statLabel" data-i18n="INT">INT</span> <input name="attr_npc1a_int" class="sheet-npc1_stat" type="text" value="0"><button name="roll_introllnpc"  type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_int}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_int}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_int}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_int}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_int}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=INT}}"></button> <span class="sheet-npc1_statLabel" data-i18n="POW">POW</span><input name="attr_npc1a_pow" class="sheet-npc1_stat" type="text" value="0"><button name="roll_powrollnpc"  type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_pow}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_pow}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_pow}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_pow}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_pow}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=POW}}"></button> <span class="sheet-npc1_statLabel" data-i18n="DEX">DEX</span><input name="attr_npc1a_dex" class="sheet-npc1_stat" type="text" value="0"><button name="roll_dexrollnpc"  type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_dex}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_dex}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_dex}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_dex}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_dex}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=DEX}}"></button> <span class="sheet-npc1_statLabel" data-i18n="CHA">CHA</span><input name="attr_npc1a_cha" class="sheet-npc1_stat" type="text" value="0"><button name="roll_chrrollnpc"  type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_cha}*?{multiplier|5})]]}} {{fumble=[[{(101-(round((100-(@{npc1a_cha}*?{multiplier|5}))/20))),100}kl1]]}} {{crit=[[round(([[(@{npc1a_cha}*?{multiplier|5})]])/20)+1]]}} {{special=[[round(([[(@{npc1a_cha}*?{multiplier|5})]])/5)+1]]}} {{success=[[(@{npc1a_cha}*?{multiplier|5})]]}} {{roll=[[1d100]]}} {{skillname=CHA}}"></button>
				</div><br>
				<table>
					<tbody><tr>
						<td>HP</td>
						<td><input name="attr_npc1a_hp_cur" class="sheet-value_display2" type="text" value="0"> / <input name="attr_npc1a_hp_max" class="sheet-value_display2" type="text" value="0"></td>
						<td>MP</td>
						<td><input name="attr_npc1a_mp_cur" class="sheet-value_display2" type="text" value="0"> / <input name="attr_npc1a_mp_max" class="sheet-value_display2" type="text" value="0"></td>
						<td>DSR</td>
						<td><input name="attr_npc1a_dsr" class="sheet-value_display2" type="text" value="0"></td>
						<td>MSR</td>
						<td><input name="attr_npc1a_msr" class="sheet-value_display2" type="text" value="0"></td>						
						<td>Move</td>
						<td><input name="attr_npc1a_move" class="sheet-value_display2" type="text" value="0"></td>
					</tr>
					</tbody>
				</table>
				<br>
				<div class="sheet-melee_wpns_labels sheet-npc-WpnGrid" style="margin-top: 5px;">	
				   <label data-i18n="Weapon">Weapon</label>
				   <label data-i18n="SR">SR</label>  
				   <label></label>	
				   <label data-i18n="Attk">Attk</label>  
				   <label></label>				   
				   <label  data-i18n="Damage">Damage</label>   							   
					<label  data-i18n="Spcl">Spcl</label>	
					<label  data-i18n="HP">HP</label>
				</div>
				
				<div   class="sheet-npc-WpnGrid">
					<input name="attr_wpn_name1a1" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" placeholder="weapon"> 
					<input name="attr_wpn_sr1a1" class="sheet-value_display2" type="text" value="0"> 
					<button title="Add to turn order" name="roll_sr1npc" class="sheet-turn_order" type="roll" value="@{whispSet}	&{template:turnOrder} {{name=@{character_name}}} {{weapon=@{wpn_name1a1}}} {{sr=[[@{wpn_sr1a1} &{tracker}]]}} {{sr2=@{wpn_sr1a1}}}"></button> <input name="attr_wpn_attk1a1" class="sheet-value_display2" type="text" value="0"> <input name="attr_mod1a1" class="sheet-value_display2" type="text" value="0">
					<input name="attr_wpn_damage1a1" class="sheet-value_display2" style="width: 80px;" type="text" value="0">
					<input name="attr_critdamage1a1" style="display: none;" type="text">
					<input name="attr_spcldamage1a1" style="display: none;" type="text">
					<input name="attr_maxdamage1a1" style="display: none;" type="text">									
					<select name="attr_wpn_spl1a1" style="width: 43px; margin-bottom: 0px;">
						<option value="0" selected></option>
						<option value="1">I</option>
						<option value="2">S</option>
						<option value="3">C</option>						
					</select>
					<input name="attr_wpn_hp1a1" class="sheet-value_display2" type="text" value="0"> 
					<button type="roll" name="roll_wpn1attknpc" value="@{whispSet} @{npcmelee_value1a1}"></button><button name="roll_wpn1attkmodnpc" title="With Modifier" class="sheet-new_roll"      style="margin: 0px;" type="roll" value="@{whispSet} @{npcmelee_valuemod1a1} "></button>
				</div>
				<textarea name="attr_npcmelee_value1a1" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a1}]]}} {{skillvalue=[[@{wpn_attk1a1}+@{mod1a1}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk1a1}+@{mod1a1})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk1a1}+@{mod1a1}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk1a1}+@{mod1a1}))]])/5)+1]]}} {{success=[[@{wpn_attk1a1}+@{mod1a1}]]}} {{spclDam=[[(@{spcldamage1a1})]]}}   {{crshDam=[[@{spcldamage1a1}]]}}   {{critCrsh=[[@{critdamage1a1}]]}} {{critSI=[[@{critdamage1a1}]]}} {{type=[[@{wpn_spl1a1}]]}} {{skillname=@{wpn_name1a1}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
				</textarea>	

				<textarea name="attr_npcmelee_valuemod1a1" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a1}]]}} {{skillvalue=[[@{wpn_attk1a1}+?{Mod.|0}+@{mod1a1}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk1a1}+?{Mod.|0}+@{mod1a1})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk1a1}+?{Mod.|0}+@{mod1a1}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk1a1}+?{Mod.|0}+@{mod1a1}))]])/5)+1]]}} {{success=[[@{wpn_attk1a1}+@{mod1a1}+?{Mod.|0}]]}} {{spclDam=[[(@{spcldamage1a1})]]}}   {{crshDam=[[@{spcldamage1a1}]]}}   {{critCrsh=[[@{critdamage1a1}]]}} {{critSI=[[@{critdamage1a1}]]}} {{type=[[@{wpn_spl1a1}]]}} {{skillname=@{wpn_name1a1}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
				</textarea>	
				
				
				<div  class="sheet-npc-WpnGrid">
					<input name="attr_wpn_name1a2" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" placeholder="weapon"> 
					<input name="attr_wpn_sr1a2" class="sheet-value_display2" type="text" value="0"> 
					<button title="Add to turn order"  name="roll_sr2npc" title="" class="sheet-turn_order" type="roll" value="@{whispSet}	&{template:turnOrder} {{name=@{character_name}}} {{weapon=@{wpn_name1a2}} {{sr=[[@{wpn_sr1a2} &{tracker}]]}} {{sr2=@{wpn_sr1a2}}} "></button> 
							
					<input name="attr_wpn_attk1a2" class="sheet-value_display2" type="text" value="0"> 
					<input name="attr_mod1a2" class="sheet-value_display2" type="text" value="0"> 
					<input name="attr_wpn_damage1a2" class="sheet-value_display2" style="width: 80px;" type="text" value="0"> 
					<input name="attr_spcldamage1a2" style="display: none;" type="text">
					<input name="attr_critdamage1a2" style="display: none;" type="text">
					<input name="attr_maxdamage1a2" style="display: none;" type="text">									
					<select name="attr_wpn_spl1a2" style="width: 43px; margin-bottom: 0px;">
						<option value="0" selected></option>
						<option value="1">I</option>
						<option value="2">S</option>
						<option value="3">C</option>						
					</select>				
					<input name="attr_wpn_hp1a2" class="sheet-value_display2" type="text" value="0"> 
					<button  name="roll_wpn2attknpc" type="roll" value="@{whispSet}  @{npcmelee_value1a2}"></button>
					<button name="roll_wpn2attkmodnpc" title="With Modifier" class="sheet-new_roll"    style="margin: 0px;" type="roll" value="@{whispSet} @{npcmelee_valuemod1a2}"></button>
				</div>
				<textarea name="attr_npcmelee_value1a2" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a2}]]}} {{skillvalue=[[@{wpn_attk1a2}+@{mod1a2}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk1a2}+@{mod1a2})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk1a2}+@{mod1a2}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk1a2}+@{mod1a2}))]])/5)+1]]}} {{success=[[@{wpn_attk1a2}+@{mod1a2}]]}} {{spclDam=[[(@{spcldamage1a2})]]}}   {{crshDam=[[@{spcldamage1a2}]]}}   {{critCrsh=[[@{critdamage1a2}]]}} {{critSI=[[@{critdamage1a2}]]}} {{type=[[@{wpn_spl1a2}]]}} {{skillname=@{wpn_name1a2}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
				</textarea>	

				<textarea name="attr_npcmelee_valuemod1a2" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a2}]]}} {{skillvalue=[[@{wpn_attk1a2}+?{Mod.|0}+@{mod1a2}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk1a2}+?{Mod.|0}+@{mod1a2})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk1a2}+?{Mod.|0}+@{mod1a2}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk1a2}+?{Mod.|0}+@{mod1a2}))]])/5)+1]]}} {{success=[[@{wpn_attk1a2}+@{mod1a2}+?{Mod.|0}]]}} {{spclDam=[[(@{spcldamage1a2})]]}}   {{crshDam=[[@{spcldamage1a2}]]}}   {{critCrsh=[[@{critdamage1a2}]]}} {{critSI=[[@{critdamage1a2}]]}} {{type=[[@{wpn_spl1a2}]]}} {{skillname=@{wpn_name1a2}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
				</textarea>				
				<div  class="sheet-npc-WpnGrid">
					<input name="attr_wpn_name1a3" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" placeholder="weapon"> 
					<input name="attr_wpn_sr1a3" class="sheet-value_display2" type="text" value="0"> <button  name="roll_sr3npc" title="Add to turn order" class="sheet-turn_order" type="roll" value="@{whispSet}	&{template:turnOrder} {{name=@{character_name}}} {{weapon=@{wpn_name1a3}} {{sr=[[@{wpn_sr1a3} &{tracker}]]}} {{sr2=@{wpn_sr1a3}}} "></button> <input name="attr_wpn_attk1a3" class="sheet-value_display2" type="text" value="0"> 
					<input name="attr_mod1a3" class="sheet-value_display2" type="text" value="0"> <input name="attr_wpn_damage1a3" class="sheet-value_display2" style="width: 80px;" type="text" value="0">
					<input name="attr_spcldamage1a3" style="display: none;" type="text">
					<input name="attr_critdamage1a3" style="display: none;" type="text">
					<input name="attr_maxdamage1a3" style="display: none;" type="text">									
					<select name="attr_wpn_spl1a3" style="width: 43px; margin-bottom: 0px;">
						<option value="0" selected></option>
						<option value="1">I</option>
						<option value="2">S</option>
						<option value="3">C</option>						
					</select>
					<input name="attr_wpn_hp1a3" class="sheet-value_display2" type="text" value="0"> 
					<button name="roll_wpn3attknpc" type="roll" value="@{whispSet}  @{npcmelee_value1a3}"></button>
					<button name="roll_wpn3attkmod" title="With Modifier" class="sheet-new_roll"    style="margin: 0px;" type="roll" value="@{whispSet} @{npcmelee_valuemod1a3}"></button>
				</div>
				<textarea name="attr_npcmelee_value1a3" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a3}]]}} {{skillvalue=[[@{wpn_attk1a3}+@{mod1a3}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk1a3}+@{mod1a3})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk1a3}+@{mod1a3}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk1a2}+@{mod1a3}))]])/5)+1]]}} {{success=[[@{wpn_attk1a3}+@{mod1a3}]]}} {{spclDam=[[(@{spcldamage1a3})]]}}   {{crshDam=[[@{spcldamage1a3}]]}}   {{critCrsh=[[@{critdamage1a3}]]}} {{critSI=[[@{critdamage1a3}]]}} {{type=[[@{wpn_spl1a3}]]}} {{skillname=@{wpn_name1a3}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
				</textarea>	

				<textarea name="attr_npcmelee_valuemod1a3" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage1a3}]]}} {{skillvalue=[[@{wpn_attk1a3}+?{Mod.|0}+@{mod1a3}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk1a3}+?{Mod.|0}+@{mod1a3})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk1a3}+?{Mod.|0}+@{mod1a3}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk1a3}+?{Mod.|0}+@{mod1a3}))]])/5)+1]]}} {{success=[[@{wpn_attk1a3}+@{mod1a3}+?{Mod.|0}]]}} {{spclDam=[[(@{spcldamage1a3})]]}}   {{crshDam=[[@{spcldamage1a3}]]}}   {{critCrsh=[[@{critdamage1a3}]]}} {{critSI=[[@{critdamage1a3}]]}} {{type=[[@{wpn_spl1a3}]]}} {{skillname=@{wpn_name1a3}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}								
				</textarea>			
				<fieldset class="repeating_npcwpns" style="display: inline;">
					<div  class="sheet-npc-WpnGrid">
						<input name="attr_wpn_name" class="sheet-value_display2" style="width: 100px; text-align: left;" type="text" placeholder="weapon"> <input name="attr_wpn_sr" class="sheet-value_display2" type="text" value="0"> 
						<button  name="roll_sr" name="roll_wpnsrnpc"title="Add to turn order" class="sheet-turn_order" type="roll" value="@{whispSet}	&{template:turnOrder} {{name=@{character_name}}} {{weapon=@{wpn_name} {{sr=[[@{wpn_sr} &{tracker}]]}} {{sr2=@{wpn_sr}}} "></button> <input name="attr_wpn_attk" class="sheet-value_display2" type="text" value="0"> <input name="attr_mod" class="sheet-value_display2" type="text" value="0"> 
						<input name="attr_wpn_damage" class="sheet-value_display2" style="width: 80px;" type="text" value="0">
						<input name="attr_spcldamage" style="display: none;" type="text">
						<input name="attr_critdamage" style="display: none;" type="text">
						<input name="attr_maxdamage" style="display: none;" type="text">									
						<select name="attr_wpn_spl" style="width: 43px; margin-bottom: 0px;">
							<option value="0" selected></option>
							<option value="1">I</option>
							<option value="2">S</option>
							<option value="3">C</option>						
						</select>
						<input name="attr_wpn_hp" class="sheet-value_display2" type="text" value="0">
						<button  name="roll_wpnattknpc" type="roll" value="@{whispSet}  @{npcmelee_value}"></button>
						<button name="roll_wpnattkmod"title="With Modifier" class="sheet-new_roll"     style="margin: 0px;" type="roll" value="@{whispSet}   @{npcmelee_valuemod}"></button>
					</div>
					<textarea name="attr_npcmelee_value" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage}]]}} {{skillvalue=[[@{wpn_attk}+@{mod}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk}+@{mod})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk}+@{mod}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk}+@{mod}))]])/5)+1]]}} {{success=[[@{wpn_attk}+@{mod}]]}} {{spclDam=[[(@{spcldamage})]]}}   {{crshDam=[[@{spcldamage}]]}}   {{critCrsh=[[@{critdamage}]]}} {{critSI=[[@{critdamage}]]}} {{type=[[@{wpn_spl}]]}} {{skillname=@{wpn_name}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}} 	
					</textarea>	

					<textarea name="attr_npcmelee_valuemod" style="display: none;">&{template:melee-roll2} {{name=@{character_name}}} {{tot=[[@{wpn_damage}]]}} {{skillvalue=[[@{wpn_attk}+?{Mod.|0}+@{mod}]]}} {{fumble=[[{(101-(round((100-((@{wpn_attk}+?{Mod.|0}+@{mod})))/20))),100}kl1]]}} {{crit=[[{round([[ceil((@{wpn_attk}+?{Mod.|0}+@{mod}))]]/20)+1,2}kh1]]}} {{special=[[round(([[ceil((@{wpn_attk}+?{Mod.|0}+@{mod}))]])/5)+1]]}} {{success=[[@{wpn_attk}+@{mod}+?{Mod.|0}]]}} {{spclDam=[[(@{spcldamage})]]}}   {{crshDam=[[@{spcldamage}]]}}   {{critCrsh=[[@{critdamage}]]}} {{critSI=[[@{critdamage}]]}} {{type=[[@{wpn_spl}]]}} {{skillname=@{wpn_name}}} {{roll=[[1d100]]}} {{mntTogVal=[[0]]}}			
					</textarea>					
				</fieldset>
				<br>
				<div class="sheet-input_label" data-i18n="combat-notes">Combat Notes</div>
				<div>
					<div class="">					
						<!--<span name="attr_combat_notes"></span>					-->
						<textarea name="attr_combat_notes" style="width:95%" class="sheet-npcTextArea"></textarea>
					</div>				
				</div>
				<br>	
				<!-- Start of hit locations and fumbles -->
				<div style="padding: 5px; border-radius: 5px; border: 1px solid black; border-image: none; width: 381px;">
					<div style="margin-left: 50px;">
						<div style="margin-left: 5px; display: inline;">
							<div class="sheet-input_label" data-i18n="Dodge">
								Dodge
							</div><input name="attr_dodge" class="sheet-section-header sheet-percentiles" type="text"> <button name="roll_dodgenpc"  type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{dodge})]]}} {{fumble=[[ceil(95+([[(@{dodge})]])/20))]]}} {{crit=[[round(([[(@{dodge})]])/20)+1]]}} {{special=[[round(([[(@{dodge})]])/5)+1]]}} {{success=[[(@{dodge})]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"></button><button name="roll_wpndodgemodnpc" title="With Modifier" class="sheet-new_roll"    type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{dodge}]]}} {{fumble=[[ceil(95+(@{dodge}+?{Mods|0})/20)]]}} {{crit=[[round((@{dodge}+?{Mods|0})/20)+1]]}} {{special=[[round((@{dodge}+?{Mods|0})/5)+1]]}} {{success=[[@{dodge}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Dodge}}"></button>
						</div>
						<div style="margin-left: 5px; display: inline;">
							<div class="sheet-input_label" data-i18n="Fumble">
								Fumble
							</div><button  name="roll_wpnfumblenpc" type="roll" value="@{whispSet} &{template:RQG-Fumble} {{roll=[[1d100]]}}"></button>
						</div>
					</div>
					<div>
						<div style="margin-left: 21px; display: inline;">
							<div class="sheet-input_label" data-i18n="Hit-Location">
								Hit Location
							</div><select name="attr_creature_hit_location" style="width: 106px; height: 24px; margin-top: 7px;">
								<option value="HL-">
									Human
								</option>
								<option value="FLL-">
									Four-Legged
								</option>
								<option value="NewtL-">
									Newtling
								</option>
								<option value="RockL-">
									Rock Lizard
								</option>
								<option value="ScorpL-">
									Scorpion Man
								</option>
								<option value="SprulPaL-">
									Sprul-Pa
								</option>
								<option value="WalkL-">
									Walktapus
								</option>
							</select> <input name="attr_selected_wpn_type" style="display: none;" value="Melee">
						</div>
						<div style="margin-left: 10px; display: inline;">
							<div class="sheet-input_label" data-i18n="Die">
								Die
							</div><select name="attr_selected_die_roll" style="width: 84px; height: 24px; margin-top: 7px;">
								<option value="1d20">
									1d20
								</option>
								<option value="1d10+10">
									1d10+10
								</option>
								<option value="1d8+12">
									1d8+12
								</option>
								<option value="1d10">
									1d10
								</option>
								<option value="1d8">
									1d8
								</option>
							</select> <button name="roll_hitlocnpc"  type="roll" value="@{whispSet}  &{template:@{creature_hit_location}@{selected_wpn_type}} {{roll=[[@{selected_die_roll}]]}}"></button>
						</div>
					</div>
				</div><!-- End of hit locations and fumbles -->
				<br>
				<p>Hit Locations</p>
				<div style="margin-bottom: 5px;">
					<select name="attr_select_hitloc" style="width: 127px; margin-top: 0px;">
						<option value="D20	Result		AP/HP 
	1-4 	Right Leg	0/0 
	5-8 	Left Leg 	0/0 
	9-11	Abdomen	 	0/0 
	12	Chest		0/0 
	13-15	Right Arm	0/0 
	16-18	Left Arm	0/0 
	19-20	Head		0/0 
	THP	0/0 
	MP	0/0 
	wpn 1	HP	12 
	wpn 2	HP	12	
	wpn 3	HP 	12">
							Human
						</option>
						<option value="
	D20	Result		AP/HP
	1-2	Right hind-leg	0/0 
	3-4	Left hind-leg	0/0 
	5-7	Hindquarters	0/0 
	8-10	Forequarters	0/0 
	11-13	Right fore-leg	0/0 
	14-16	Left fore-leg	0/0 
	17-20	Head		0/0
	THP	0/0
	MP	0/0 
	wpn 1	HP 12	
	wpn 2	HP 12
	wpn 3	HP 12
	">
							Four Legged
						</option>
						<option value="D20	Result		AP/HP 
	01-03	Tail		3/4 
	04-05	Right Hind Leg	3/6 
	06-07	Left Hind Leg	3/4 
	08-11	Hindquarters	3/6	
	12-15	Forequarters	3/6
	16	Right Front Leg	3/4 
	17	Left Front Leg	3/4
	18-20	Head		3/5
	THP	0/0
	MP	0/0
	wpn 1	HP 12
	wpn 2	HP 12
	wpn 3	HP 12">
							Rock Lizard
						</option>
					</select>
				</div>
				<textarea name="attr_npc1_hitloc" style="margin: 0px; width: 340px; height: 250px; font-family: courier;">
				
	D20	Result		AP/HP 
	1-4 	Right Leg	0/0 
	5-8 	Left Leg 	0/0 
	9-11	Abdomen	 	0/0 
	12	Chest		0/0 
	13-15	Right Arm	0/0 
	16-18	Left Arm	0/0 
	19-20	Head		0/0 
	THP	0/0 
	MP	0/0 
	wpn 1	HP	12 
	wpn 2	HP	12	
	wpn 3	HP 	12</textarea>			
			</div>
			<div>
				<br>
				<div>
					<!--- runes -->
					<div class="sheet-npc-RuneGrid">			
						<span class="sheet-input_label" style="margin-top: 10px;" data-i18n="Runes:">Runes:</span>
						<!--<span style="margin-left: 309px; display: inline-block;">-->
						<span style="display: inline-block;text-align: right;">
							<button  name="roll_runesnpc" style="margin: 0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[?{Skill+Mods.|0}]]}} {{success=[[?{Skill+Mods.|0}]]}} {{fumble=[[{(101-(round((100-(?{Skill+Mods.|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[?{Skill+Mods.|0}]])/20)+1]]}} {{special=[[ceil(([[?{Skill+Mods.|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Rune}}"></button>
						</span>
					</div>			
		
					<textarea name="attr_npc1_runes" class="sheet-npcTextArea"></textarea>
				</div><!--- end of runes -->
				<div>
					<span class="sheet-input_label" data-i18n="Rune-Points:">Rune Points</span>:<input name="attr_runePts_cur" class="sheet-npc1_stat" type="text">/<input name="attr_runePts_max" class="sheet-npc1_stat" type="text">
				</div>
				<br>
				<div class="sheet-npc-SpellGrid">	
					<span class="sheet-input_label" data-i18n="Spells:">Spells:</span> 
					<span data-i18n="Casting Roll Mod-">Casting Roll Mod.</span> 
					<input name="attr_magic_mod" title="Modifier" class="sheet-value_display2" type="text" value="0"> 
					<div style="text-align:right"><button name="roll_castingnpc"  style="margin: 0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{npc1a_pow}*5)+@{magic_mod}]]}} {{success=[[(@{npc1a_pow}*5)+@{magic_mod}]]}} {{fumble=[[{(101-(round((100-((@{npc1a_pow}*5)+@{magic_mod}))/20))),100}kl1]]}} {{crit=[[ceil(([[(@{npc1a_pow}*5)+@{magic_mod}]])/20)+1]]}} {{special=[[ceil(([[(@{npc1a_pow}*5)+@{magic_mod}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Spirit Magic}}"></button></div>
				</div>				
				<textarea name="attr_npc1_spells" class="sheet-npcTextArea"></textarea>
				<div>
					<div class="sheet-input_label" data-i18n="Spirit-Combat">Spirit Combat</div>
					<input name="attr_SprtCmbtnpc" class="sheet-text_input" style="width: 24px; margin-right: 5px;" type="text"  value="20"><button name="roll_SprtCmbtnpc"  title="No Modifier"    type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[(@{SprtCmbtnpc})]]}} {{fumble=[[{(101-(round((100-(@{SprtCmbtnpc}))/20))),100}kl1]]}} {{crit=[[{round(([[(@{SprtCmbtnpc})]])/20)+1,2}kh1]]}}  {{special=[[round(([[(@{SprtCmbtnpc})]])/5)+1]]}}    {{success=[[(@{SprtCmbtnpc})]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}">
					</button><button   name="roll_SprtCmbtnpcMod"   title="With Modifier"   class="sheet-new_roll"    style="margin-right: 5px;" type="roll" value="&{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[@{SprtCmbtnpc}]]}} {{fumble=[[{(101-(round((100-(@{SprtCmbtnpc}+?{Mods|0}))/20))),100}kl1]]}} {{crit=[[{round((@{SprtCmbtnpc}+?{Mods|0})/20)+1,2}kh1]]}}  {{special=[[round((@{SprtCmbtnpc}+?{Mods|0})/5)+1]]}}    {{success=[[@{SprtCmbtnpc}+?{Mods|0}]]}} {{roll=[[1d100]]}} {{skillname=Spirit Combat}}"></button><div style="padding-left:5px;" class="sheet-input_label" data-i18n="Damage">Damage</div><input name="attr_sprt_cmbt_damagenpc" class="sheet-text_input" style="width: 56px;" type="text"  value="">+<input name="attr_sprt_cmbtDBnpc" data-i18n-title="Spirit-Combat-Damage-Modifier" title="Spirit Combat Damage Modifier" class="sheet-text_input" style="width: 23px;text-align:center" value="0" type="text" value=""><button name="roll_SprtCmbtDmgnpc" type="roll" value="&{template:damageRoll2} {{name=@{character_name}}} {{skillname=^{Spirit-Combat} }} {{roll=[[@{sprt_cmbt_damagenpc}+@{sprt_cmbtDBnpc}]]}}"></button>
				</div>
				<br>					
				<div class="sheet-npc-RuneGrid">	
					<span class="sheet-input_label" data-i18n="Passions">Passions:</span> 
					<span style="display: inline-block;text-align: right;">
						<button   name="roll_passionsnpc" style="margin: 0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[?{Skill+Mods.|0}]]}} {{success=[[?{Skill+Mods.|0}]]}} {{fumble=[[{(101-(round((100-(?{Skill+Mods.|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[?{Skill+Mods.|0}]])/20)+1]]}} {{special=[[ceil(([[?{Skill+Mods.|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Passion}}"></button>
					</span> 
				</div>	
				<textarea name="attr_npc1_passions" class="sheet-npcTextArea"></textarea>
				
				<br>
				<div class="sheet-npc-RuneGrid">	
					<span class="sheet-input_label" data-i18n="Skills:">Skills:</span> 
					<span style="display: inline-block;text-align: right;">
						<button  name="roll_skillsnpc" style="margin: 0px;" type="roll" value="@{whispSet} &{template:skillRoll} {{name=@{character_name}}} {{skillvalue=[[?{Skill+Mods.|0}]]}} {{success=[[?{Skill+Mods.|0}]]}} {{fumble=[[{(101-(round((100-(?{Skill+Mods.|0}))/20))),100}kl1]]}} {{crit=[[ceil(([[?{Skill+Mods.|0}]])/20)+1]]}} {{special=[[ceil(([[?{Skill+Mods.|0}]])/5)+1]]}} {{roll=[[1d100]]}} {{skillname=Skill}}"></button>
					</span>
				</div>
				
				<textarea name="attr_npc1_skills" class="sheet-npcTextArea"></textarea><br>
				<p>Equipment/Treaure/Magic Items</p>
				<textarea name="attr_equipment" style="height: 261px;"  class="sheet-npcTextArea"></textarea><br>
			</div><!--  npc 1 -->			
			</div>	
		</div>	
	<!-- End NPC sheet -->
	<!--- Start Popup -->
	<div id="popup1" class="overlay">
		<div class="popup">
			<a class="close" href="#"></a>
			<div class="content">
				Opposed Roll
				skill reduced to 100% and defender's parry modified by -40%	
			</div>
		</div>
	</div>	
		
	
	<!-- End Popup -->
	
	<!--- Datalists --->

	<datalist id="meleeWeapons">
		<option><span data-i18n="1H Axe">1H Axe</span></option>
		<option><span data-i18n="2H Axe">2H Axe</span></option>
		<option><span data-i18n="Broadsword">Broadsword</span></option>
		<option><span data-i18n="Dagger">Dagger</span></option>
		<option><span data-i18n="Great Axe">Great Axe</span></option>		
		<option><span data-i18n="1H Hammer">1H Hammer</span></option>
		<option><span data-i18n="2H Hammer">2H Hammer</span></option>
		<option><span data-i18n="Kopis">Kopis</span></option>
		<option><span data-i18n="1H Mace">1H Mace</span></option>
		<option><span data-i18n="Heavy Mace">Heavy Mace</span></option>
		<option><span data-i18n="2H Mace">2H Mace</span></option>
		<option><span data-i18n="Maul">Maul</span></option>
		<option><span data-i18n="Pike">Pike</span></option>
		<option><span data-i18n="Rapier">Rapier</span></option>
		<option><span data-i18n="Shortsword">Shortsword</span></option>
		<option><span data-i18n="1H Spear">1H Spear</span></option>
		<option><span data-i18n="2H Spear">2H Spear</span></option>
		<option><span data-i18n="Trident">Trident</span></option>	
		<option><span data-i18n="Quarterstaff">Quarterstaff</span></option>
		<option><span data-i18n="Whipstick">Whipstick</span></option>
	</datalist>

	<datalist id="shields">
		<option><span  data-i18n="Large Shield" >Large Shield</span></option>
		<option><span  data-i18n="Medium Shield" >Medium Shield</span></option>
		<option><span  data-i18n="Small Shield" >Small Shield</span></option>
	</datalist>

	<datalist id="meleeWeapons2">
		<option><span data-i18n="1H Axe">1H Axe</span></option>
		<option><span data-i18n="2H Axe">2H Axe</span></option>
		<option><span data-i18n="Bite">Bite</span></option>	
		<option><span data-i18n="Broadsword">Broadsword</span></option>
		<option><span data-i18n="Claw">Claw</span></option>	
		<option><span data-i18n="Dagger">Dagger</span></option>
		<option><span data-i18n="Fist">Fist</span></option>
		<option><span data-i18n="Grapple">Grapple</span></option>	
		<option><span data-i18n="Great Axe" >Great Axe</span></option>	
		<option><span data-i18n="1H Hammer">1H Hammer</span></option>
		<option><span data-i18n="2H Hammer">2H Hammer</span></option>
		<option><span data-i18n="Head Butt">Head Butt</span></option>
		<option><span data-i18n="Hoof">Hoof</span></option>	
		<option><span data-i18n="Kopis">Kopis</span> </option>
		<option><span data-i18n="1H Mace">1H Mace</span></option>
		<option><span data-i18n="Heavy Mace">Heavy Mace</span></option>	
		<option><span data-i18n="2H Mace">2H Mace</span></option>
		<option><span data-i18n="Kick">Kick</span></option>
		<option><span data-i18n="Large Shield">Large Shield</span></option>
		<option><span data-i18n="Maul">Maul</span></option>
		<option><span data-i18n="Medium Shield" >Medium Shield</span></option>
		<option><span data-i18n="Pike">Pike</span></option>
		<option><span data-i18n="Rapier">Rapier</span></option>
		<option><span data-i18n="Shortsword">Shortsword</span></option>
		<option><span data-i18n="1H Spear">1H Spear</span></option>
		<option><span data-i18n="2H Spear">2H Spear</span></option>
		<option><span data-i18n="Small Shield" >Small Shield</span></option>
		<option><span data-i18n="Trident">Trident</span></option>
		<option><span data-i18n="Quarterstaff">Quarterstaff</span></option>
		<option><span data-i18n="Whipstick">Whipstick</span></option>
	</datalist>


	<datalist id="missleWeapons">
		<option><span data-i18n="Arbalest" >Arbalest</option>
		<option><span data-i18n="Composite Bow">Composite Bow</option>
		<option><span data-i18n="Crossbow">Crossbow</option>
		<option><span data-i18n="Elf Bow">Elf Bow</option>
		<option><span data-i18n="Javelin">Javelin</option>
		<option><span data-i18n="Pole Lasso">Pole Lasso</option>
		<option><span data-i18n="Self Bow">Self Bow</option>
		<option><span data-i18n="Sling">Sling</option>
		<option><span data-i18n="Staff Sling">Staff Sling</option>
		<option><span data-i18n="Throwing Dagger">Throwing Dagger</option>
		<option><span data-i18n="Throwning Axe">Throwning Axe</option>
		<option><span data-i18n="Thrown Rock">Thrown Rock</option>
	</datalist>

	<datalist id="naturalWeapons">
		<option><spandata-i18n="Bite">Bite</option>
		<option><span data-i18n="Claw">Claw</option>
		<option><span data-i18n="Fist">Fist </option>
		<option><span data-i18n="Grapple">Grapple</option>
		<option><span data-i18n="Head Butt">Head Butt</option>
		<option><spandata-i18n="Hoof">Hoof</option>
		<option><span data-i18n="Kick">Kick</option>
	</datalist>





	<!--End Datalists-->



	<!-- sheet workers -->	
	<script type="text/worker">
		
		function getRowID(source){
			let regex = /[^_]*_[^_]*_[^_]*/g;
			return  source.match(regex);
		}	
		
		
		on("change:skillMods" , function() {
			setWpnTot();
			setWpnTot2();
		})		


		on("change:prevdefends" , function() {
			setWpnTot();
		})		



		 on("change:repeating_missle2:skilltotal change:repeating_missle2:skillWpnMod  change:repeating_missle2_skillReduct", function(eventInfo) {
		   getAttrs(["repeating_missle2_skilltotal","repeating_missle2_skillWpnMod","repeating_missle2_skillReduct","skillMods"], function(values) {
			
					
					console.log("values  "+JSON.stringify(values));

					console.log("skilltotal: "+values.repeating_missle2_skilltotal);
					console.log("wpn mod: "+values.repeating_missle2_skillWpnMod);
					console.log("skillReduct:"+values.repeating_missle2_skillReduct);
					console.log("skillMods:"+values.skillMods);	
					
					
					let skillTotal = parseInt(values.repeating_missle2_skilltotal);
					let wpnMod = eval(values.repeating_missle2_skillWpnMod);
					let skillReduct = Math.ceil(parseInt(values.repeating_missle2_skillReduct));
					let skillMods =  eval(values.skillMods);
					let tot = Math.max((skillTotal*skillReduct)+skillMods+wpnMod);
					console.log("tot :"+ tot);
					
					/*let oppattkmod=0
					if  (tot > 100){
						console.log("marker");
						oppattkmod= 0-(tot-100);
					}*/
					
					
					setAttrs({repeating_missle2_attackfinal:tot});
		   });
		});		

		
	
		 on("change:repeating_melee2:skilltotal change:repeating_melee2:skillWpnMod  change:repeating_melee2:skillParryMod change:repeating_melee2_skillReduct change:repeating_melee2:oppattk", function(eventInfo) {
		   getAttrs(["repeating_melee2_skilltotal","repeating_melee2_skillWpnMod","repeating_melee2_skillParryMod","repeating_melee2_skillParryMod","repeating_melee2_skillReduct","skillMods","prevdefends","repeating_melee2_oppattk","prevdefends"], function(values) {
			
					
					console.log("values  "+JSON.stringify(values));

					console.log("skilltotal: "+values.repeating_melee2_skilltotal);
					console.log("wpn mod: "+values.repeating_melee2_skillWpnMod);
					console.log("parry mod: "+values.repeating_melee2_skillParryMod);					
					console.log("skillReduct:"+values.repeating_melee2_skillReduct);
					console.log("skillMods:"+values.skillMods);	
					console.log("oppattk: "+values.repeating_melee2_oppattk);
					
					let skillTotal = parseInt(values.repeating_melee2_skilltotal);
					/*let wpnMod = parseInt(values.repeating_melee2_skillWpnMod);*/
					let wpnMod = eval(values.repeating_melee2_skillWpnMod);
					let skillReduct = Math.ceil(parseInt(values.repeating_melee2_skillReduct));
					/*let skillMods =  parseInt(values.skillMods);*/
					let skillMods =  eval(values.skillMods);
					/*let skillParryMod = parseInt(values.repeating_melee2_skillParryMod);*/
					let skillParryMod = eval(values.repeating_melee2_skillParryMod);
					
					let oppattk =  values.repeating_melee2_oppattk;
					let prevdefends = parseInt(values.prevdefends);
					let defMod = 0-(prevdefends*20);
					
					console.log("skilltotal2: "+skillTotal);
					console.log("wpn mod2: "+wpnMod);
					console.log("parry mod2: "+skillParryMod);					
					console.log("skillReduct2:"+skillReduct);
					console.log("skillMods2:"+skillMods);	
					console.log("oppattk2: "+oppattk);					
					
					
					let tot = Math.max((skillTotal*skillReduct)+skillMods+wpnMod,5);
					console.log("tot :"+ tot);
					let tot2 = Math.max((skillTotal*skillReduct)+skillMods+skillParryMod+defMod,5);
					console.log("tot2 :"+ tot2);					
					
					let oppattkmod=0
					if  (tot > 100){
						console.log("marker");
						oppattkmod= 0-(tot-100);
					}
					let oppprrymod=0
					if  (tot2 > 100){
						console.log("marker2");
						oppprrymod= 0-(tot2-100);
					}					
					console.log(" oppattkmod:"+ oppattkmod);	
					console.log(" oppprrymod:"+ oppprrymod);	
					
					/*if (tot > 100 && oppattk==="on"){
						tot=100;
					};*/					
					
					
					setAttrs({repeating_melee2_attackfinal:tot,repeating_melee2_parryfinal:tot2,repeating_melee2_oppprrymod:oppprrymod,repeating_melee2_oppattkmod:oppattkmod});
		   });
		});		



		function setWpnTot(){
			 getSectionIDs("repeating_melee2", function(idArray) {
				if (idArray.length > 0) {
		
					_.each(idArray, function(currentID, i) {
						getAttrs(["repeating_melee2"+"_" + currentID + "_skillParryMod","repeating_melee2"+"_" + currentID + "_skillWpnMod","repeating_melee2"+"_" + currentID + "_skillTotal","repeating_melee2"+"_" + currentID + "_skillReduct","skillMods","prevdefends"], function(values) {
																														
							console.log("!!!!!! set finalktotal  "+JSON.stringify(values));
							let skillTotal = parseInt(values["repeating_melee2"+"_" + idArray[i] + "_skillTotal"]);
							let skillReduct = parseFloat(values["repeating_melee2"+"_" + idArray[i] + "_skillReduct"]);
							console.log("skillReduct: "+skillReduct);
							skillTotal = Math.ceil(skillTotal*skillReduct);
							
							let skillParryMod = eval(values["repeating_melee2"+"_" + idArray[i] + "_skillParryMod"]);
							let skillWpnMod = eval(values["repeating_melee2"+"_" + idArray[i] + "_skillWpnMod"]);	
							let skillMods = eval(values.skillMods);
							let prevdefends = parseInt(values.prevdefends);
							let defMod = 0-(prevdefends*20);

							console.log("skillTotal: "+skillTotal);
							console.log("skillParryMod: "+skillParryMod);
							console.log("skillWpnMod: "+skillWpnMod);
							console.log("skillMods: " +skillMods);
							console.log("prevdefends: "+prevdefends);
							console.log("defMod: " +defMod);

							let attkTot = Math.max(skillTotal+skillWpnMod+skillMods,5);						
							let prryTot = Math.max(skillTotal+skillParryMod+skillMods+defMod,5);
							
							console.log("attkTot: " +attkTot);
							console.log("prryTot: " +prryTot);
							
							let oppattkmod=0
							if  (attkTot > 100){
								console.log("marker");
								oppattkmod= 0-(attkTot-100);
							}
							let oppprrymod=0
							if  (prryTot > 100){
								oppprrymod= 0-(prryTot-100);
							}
							
							
							let attrsToSet = {["repeating_melee2"+"_" + idArray[i] +'_attackfinal']: attkTot,["repeating_melee2"+"_" + idArray[i] +'_parryfinal']: prryTot,["repeating_melee2"+"_" + idArray[i] +'_oppattkmod']: oppattkmod,["repeating_melee2"+"_" + idArray[i] +'_oppprrymod']: oppprrymod}								
							console.log("attrs to set "+JSON.stringify(attrsToSet));
							setAttrs(attrsToSet);
							

								
						});
					});
				}
				
			});		
		}
			
		function setWpnTot2(){
			 getSectionIDs("repeating_missle2", function(idArray) {
				if (idArray.length > 0) {
		
					_.each(idArray, function(currentID, i) {
						getAttrs(["repeating_missle2"+"_" + currentID + "_skillWpnMod","repeating_missle2"+"_" + currentID + "_skillTotal","repeating_melee2"+"_" + currentID + "_skillReduct","skillMods","prevdefends"], function(values) {
																														
							console.log("!!!!!! set finalktotal  "+JSON.stringify(values));
							let skillTotal = parseInt(values["repeating_missle2"+"_" + idArray[i] + "_skillTotal"]);
							let skillReduct = parseFloat(values["repeating_melee2"+"_" + idArray[i] + "_skillReduct"]);							
							skillTotal = Math.ceil(skillTotal*skillReduct);							
							let skillWpnMod = eval(values["repeating_missle2"+"_" + idArray[i] + "_skillWpnMod"]);	
							let skillMods = eval(values.skillMods);

							console.log("skillTotal: "+skillTotal);
							console.log("skillWpnMod: "+skillWpnMod);
							console.log("skillMods: " +skillMods);

							let attkTot = Math.max(skillTotal+skillWpnMod+skillMods,5);

							
							console.log("attkTot: " +attkTot);

							
							/*let oppattkmod=0
							if  (attkTot > 100){
								console.log("marker");
								oppattkmod= 0-(attkTot-100);
							}*/
							
							let attrsToSet = {["repeating_missle2"+"_" + idArray[i] +'_attackfinal']: attkTot}								
							console.log("attrs to set "+JSON.stringify(attrsToSet));
							setAttrs(attrsToSet);
							

								
						});
					});
				}
				
			});		
		}			
					
	
		on("clicked:resetparry", function() {
			 console.log("Activate button clicked");
			setAttrs({prevdefends:0});						
		   
		});
		
	

		on("change:select_hitloc", function() {
		   getAttrs(["select_hitloc"], function(values) {
					var hitloc = values.select_hitloc;
					setAttrs({npc1_hitloc:hitloc});	
					
		   });
		})


		on("change:whisper", function() {
		   getAttrs(["whisper"], function(values) {
			console.log("check whisper toggle");
					if (values.whisper=="on"){
						setAttrs({whispSet:"/w gm "});	
					}
					else{
						
						setAttrs({whispSet:""});	
					}
		   });
		});

		on("change:toggleNPC1Sheet", function() {
		   getAttrs(["toggleNPC1Sheet"], function(values) {
			console.log("check NPC1 toggle");
					if (values.toggleNPC1Sheet=="on"){
						console.log("makre 1");
						setAttrs({toggleQSSheet:0,toggleFullSheet:0});	
					}
					else{
						/*setAttrs({toggleQSSheet:"on",version:2})*/
						console.log("makre 2");
						setAttrs({version:2},{silent: true})
					}
		   });
		});
				   
		on("change:toggleFullSheet", function() {
		   getAttrs(["toggleFullSheet"], function(values) {
		   console.log("check full toggle");
					if (values.toggleFullSheet=="on"){
						console.log("makre 3");
						setAttrs({toggleQSSheet:0,toggleNPC1Sheet:0},{silent: true});
						setAttrs({version:1},{silent: true})	// added this				
					}
					else{
						/*setAttrs({toggleQSSheet:"on",version:0})*/
						console.log("makre 4");
						setAttrs({version:0},{silent: true})
					}
		   });
		});
		
		on("change:toggleQSSheet", function() {
		   getAttrs(["toggleQSSheet"], function(values) {
					console.log("check Quick toggle");
					if (values.toggleQSSheet=="on"){
					console.log("makre 5");
						setAttrs({toggleFullSheet:0,toggleNPC1Sheet:0});	
					}
					else{
						console.log("makre 6");
						/*setAttrs({toggleFullSheet:"on",version:1})*/
						setAttrs({version:1},{silent: true})
					}
		   });
		});
		
	//QS Workers
			
	//animal 2 hit points
		on("change:animal2_con change:animal2_siz ", function() {
		   getAttrs(["animal2_con","animal2_siz"], function(values) {
					var x = parseInt(values.animal2_con);
					var y = parseInt(values.animal2_siz);
					var z = Math.round((x+y)/2,0);
					
					setAttrs({animal2_hp_max:z});	

		   });
		});
		
		//Animal 2 fatigue points
			on("change:animal2_con change:animal2_str ", function() {
		   getAttrs(["animal2_con","animal2_str"], function(values) {
					var x = parseInt(values.animal2_str);
					var y = parseInt(values.animal2_con);
					var z = x+y;
					
					setAttrs({animal2_fp_max:z});	

		   });
		});
		
			on("change:enc_totalf", function() {
		   getAttrs(["enc_totalf"], function(values) {
					var fx = parseFloat(values.enc_totalf);
					fx = Math.round(fx,0);
					setAttrs({enc_total:fx});	

		   });
		});


		
		
		//animal 1 hit points
		on("change:animal1_con change:animal1_siz ", function() {
		   getAttrs(["animal1_con","animal1_siz"], function(values) {
					var x = parseInt(values.animal1_con);
					var y = parseInt(values.animal1_siz);
					var z = Math.round((x+y)/2,0);
					
					setAttrs({animal1_hp_max:z});	

		   });
		});
		
		//Animal 1 fatigue points
			on("change:animal1_con change:animal1_str ", function() {
		   getAttrs(["animal1_con","animal1_str"], function(values) {
					var x = parseInt(values.animal1_str);
					var y = parseInt(values.animal1_con);
					var z = x+y;
					
					setAttrs({animal1_fp_max:z});	

		   });
		});
		
			on("change:enc_totalf", function() {
		   getAttrs(["enc_totalf"], function(values) {
					var fx = parseFloat(values.enc_totalf);
					fx = Math.round(fx,0);
					setAttrs({enc_total:fx});	

		   });
		});
				
		//Set NPC  Dex SRM and melee srm
			on("change:npc1a_dex change:npc1a_siz", function() {
				getAttrs(["npc1a_dex","npc1a_siz"], function(pvalue) {
					console.log("************ Start NPC DEX and  SRM Calculation ************");
					
					var charDex = parseInt(pvalue.npc1a_dex);
					var charSiz = parseInt(pvalue.npc1a_siz);			
					
					
					var dsrm = 0;
					var ssrm = 0;		
		
					var msrm = 0;
					
					if (charSiz < 7){
						ssrm = 3;
					} else if (charSiz < 15){
						ssrm = 2;				
					} else if (charSiz < 22){
						ssrm = 1;				
					} else {
						ssrm = 0;				
					}				

					
					
					
					if (charDex < 6){
						dsrm = 5;
					} else if (charDex < 9){
						dsrm = 4;			
					} else if (charDex < 13){
						dsrm = 3;								
					} else if (charDex < 16){
						dsrm = 2;				
					} else if (charDex < 19){
						dsrm = 1;								
					} else {
						dsrm = 0;				
					}				
					
					msrm = ssrm+dsrm;
					console.log("msrm");
					console.log(msrm);
					
					setAttrs({ npc1a_dsr: dsrm , npc1a_msr: msrm});
												   
				   
					console.log("************ End NPC DEX and melee SRM Calculation ************");
				});
			});			
							
				
			
		//SetAnimal 1 Dex SRM and melee srm
			on("change:animal1_dex change:animal1_siz", function() {
				getAttrs(["animal1_dex","animal1_siz"], function(pvalue) {
					console.log("************ Start Animal 1 DEX and  SRM Calculation ************");
					
					var charDex = parseInt(pvalue.animal1_dex);
					var charSiz = parseInt(pvalue.animal1_siz);			
					
					
					var dsrm = 0;
					var ssrm = 0;		
		
					var msrm = 0;
					
					if (charSiz < 7){
						ssrm = 3;
					} else if (charSiz < 15){
						ssrm = 2;				
					} else if (charSiz < 22){
						ssrm = 1;				
					} else {
						ssrm = 0;				
					}				

					
					
					
					if (charDex < 6){
						dsrm = 5;
					} else if (charDex < 9){
						dsrm = 4;			
					} else if (charDex < 13){
						dsrm = 3;								
					} else if (charDex < 16){
						dsrm = 2;				
					} else if (charDex < 19){
						dsrm = 1;								
					} else {
						dsrm = 0;				
					}				
					
					msrm = ssrm+dsrm;
					console.log("msrm");
					console.log(msrm);
					
					setAttrs({ animal1_dsr: dsrm , animal1_msr: msrm});
												   
				   
					console.log("************ End Animal 1 DEX and melee SRM Calculation ************");
				});
			});			
			
			
		//SetAnimal 2 Dex SRM and melee srm
			on("change:animal2_dex change:animal2_siz", function() {
				getAttrs(["animal2_dex","animal2_siz"], function(pvalue) {
					console.log("************ Start Animal 2 DEX and  SRM Calculation ************");
					
					var charDex = parseInt(pvalue.animal2_dex);
					var charSiz = parseInt(pvalue.animal2_siz);			
					
					
					var dsrm = 0;
					var ssrm = 0;		
		
					var msrm = 0;
					
					if (charSiz < 7){
						ssrm = 3;
					} else if (charSiz < 15){
						ssrm = 2;				
					} else if (charSiz < 22){
						ssrm = 1;				
					} else {
						ssrm = 0;				
					}				

					
					
					
					if (charDex < 6){
						dsrm = 5;
					} else if (charDex < 9){
						dsrm = 4;			
					} else if (charDex < 13){
						dsrm = 3;								
					} else if (charDex < 16){
						dsrm = 2;				
					} else if (charDex < 19){
						dsrm = 1;								
					} else {
						dsrm = 0;				
					}				
					msrm = ssrm+dsrm;
					console.log("msrm");
					console.log(msrm);
					
					setAttrs({ animal2_dsr: dsrm , animal2_msr: msrm});
												   
				   
					console.log("************ End Animal 2 DEX and melee SRM Calculation ************");
				});
			});					
			
			
			//Set Animal 1 Damage Bonus
			on("change:animal1_str change:animal1_siz", function() {
				getAttrs(["animal1_str", "animal1_siz"], function(pvalue) {
					console.log("************ Start Damage Bonus ************");
					console.log("curstr value: " + pvalue.animal1_str);
					console.log("cursiz value: " + pvalue.animal1_siz);

					var curStrength = parseInt(pvalue.animal1_str);
					var curSize = parseInt(pvalue.animal1_siz);

					var StplusSi = curStrength + curSize;
					console.log("Str+Size value: " + StplusSi);
					var DBonus = "-1d4";
					var mDBonus = "-1d2";
					var DBonusC = 0;
								
					//Determine Bonus
					if (StplusSi < 18) {
						console.log("-- Str+Siz is less than 18 --");
						DBonus = "-1d4";
						mDBonus = "-1d2";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal1_db: DBonus});
					}
					else if (StplusSi < 25) {
						console.log("-- Str+Siz is less than 25 --");
						DBonus = "0";
						mDBonus = "0";
						console.log("DBonus value: " + DBonus);
						setAttrs({animal1_db: DBonus});
					}
					else if (StplusSi < 33) {
						console.log("-- Str+Siz is less than 31 --");
						DBonus = "1d4";
						mDBonus = "1d2";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal1_db: DBonus});
					}
					else if (StplusSi < 41) {
						console.log("-- Str+Siz is less than 31 --");
						DBonus = "1d6";
						mDBonus = "1d3";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal1_db: DBonus});
					}			
					else { //StplusSi is greater than 
						DBonusC = 2+Math.floor(parseFloat((StplusSi - 40) / 16));
						console.log("DBonusC value: " + DBonusC);

						DBonus = DBonusC + "d6";
						mDBonus = DBonusC + "d3";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal1_db: DBonus});
					}            
					console.log("************ Animal 1 End Damage Bonus ************");
				});
			});
			
			
			
				//Set Agility Bonus
				on("change:curstr change:cursiz change:curdex change:curpow change:coordCast", function() {
					getAttrs(["version","curstr", "cursiz", "curdex", "curpow","coordCast"], function(pvalue) {
						console.log("************ Start Agility Bonus ************");
						console.log("curstr value: " + pvalue.curstr);
						console.log("cursiz value: " + pvalue.cursiz);
						console.log("curdex value: " + pvalue.curdex);
						console.log("curpow value: " + pvalue.curpow);
						console.log("agibonus value: " + pvalue.agility_mod);
						console.log("parrybonus value: " + pvalue.parrybonus);
						var curStrength = parseInt(pvalue.curstr);
						var curSize = parseInt(pvalue.cursiz);
						var curDexterity = parseInt(pvalue.curdex);
						var curPower = parseInt(pvalue.curpow);
						var BonusMod = 0;
						
						
						
						if (curStrength < 5) {
							BonusMod = BonusMod - 5;
						}else if (curStrength >16 && curStrength < 21){
							BonusMod = BonusMod + 5;
						}else if (curStrength >20){
							BonusMod = BonusMod + 5+(Math.ceil((curStrength-20)/4)*5);
						}
						

						if (curSize < 5) {
							BonusMod = BonusMod+5;
						} else if(curSize >16 && curSize < 21){
							BonusMod = BonusMod-5;
						}else if (curSize >20){
							BonusMod = BonusMod - (5+(Math.ceil((curSize-20)/4)*5));
						}


						
						if (curDexterity < 5) {
							BonusMod = BonusMod-10;
						}else if(curDexterity >= 5 && curDexterity <= 8){
							BonusMod = BonusMod-5;
						}else if(curDexterity >= 13 && curDexterity <= 16){
							BonusMod = BonusMod+5;
						}else if(curDexterity >= 17 && curDexterity <= 20){
							BonusMod = BonusMod+10;
						}else if (curDexterity >20){
							BonusMod = BonusMod + (10+(Math.ceil((curDexterity-20)/4)*5));
						}
						
						if (curPower < 5) {
							BonusMod = BonusMod-5;
						}else if (curPower >16 && curPower < 21){
							BonusMod = BonusMod+5;
						}else if (curPower >20){
							BonusMod = BonusMod + 5+(Math.ceil((curPower-20)/4)*5);
						}				
					   
						if (pvalue.coordCast==="on"){
							BonusMod = BonusMod+5;
						}

						
						console.log("version "+pvalue.version);
						if (parseInt(pvalue.version)===0){
							BonusMod = 0;
						}
						
						console.log("BonusMod value: " + BonusMod);
						setAttrs({agility_mod: BonusMod});
						console.log("************ End Agility Bonus ************");
					});
				});

				//Set Communication
				on("change:curint change:curchr change:curpow change:glamourCast", function() {
					getAttrs(["version","curint", "curchr", "curpow","glamourCast"], function(pvalue) {
						console.log("************ Start Communication Bonus ************");
						console.log("curint value: " + pvalue.curint);
						console.log("curchr value: " + pvalue.curchr);
						console.log("curpow value: " + pvalue.curpow);
						console.log("glamourCast value: " + pvalue.glamourCast);

						
						var curInt = parseInt(pvalue.curint);
						var curPow = parseInt(pvalue.curpow);
						var curChr = parseInt(pvalue.curchr);
						
						var BonusMod = 0;
										
						
						if (curInt < 5) {
							BonusMod = BonusMod - 5;
						}else if (curInt >16 && curInt < 21){
							BonusMod = BonusMod + 5;
						}else if (curInt >20){
							BonusMod = BonusMod + (5+(Math.ceil((curInt-20)/4)*5));
						}
						console.log("BonusMod value1: " + BonusMod);

						if (curPow < 5) {
							BonusMod = BonusMod - 5;
						}else if (curPow >16 && curPow < 21){
							BonusMod = BonusMod + 5;
						}else if (curPow >20){
							BonusMod = BonusMod + (5+(Math.ceil((curPow-20)/4)*5));
						}
						console.log("BonusMod value2: " + BonusMod);

						
						if (curChr < 5) {
							BonusMod = BonusMod-10;
						}else if(curChr >= 5 && curChr <= 8){
							BonusMod = BonusMod-5;
						}else if(curChr >= 13 && curChr <= 16){
							BonusMod = BonusMod+5;
						}else if(curChr >= 17 && curChr <= 20){
							BonusMod = BonusMod+10;
						}else if (curChr >20){
							BonusMod = BonusMod + (10+(Math.ceil((curChr-20)/4)*5));
						}
						console.log("BonusMod value3: " + BonusMod);				

						
						if (pvalue.glamourCast==="on"){
							BonusMod += 10;
						}
						
						console.log("BonusMod value4: " + BonusMod);
						
						console.log("version "+pvalue.version);
						
						if (parseInt(pvalue.version)===0){
							BonusMod = 0;
						}
						
						console.log("BonusMod value: " + BonusMod);
						setAttrs({communication_mod: BonusMod});
						console.log("************ End Agility Bonus ************");
					});
				});
				
				
				
				//Set Knowledge
				on("change:curint change:curpow", function() {
					getAttrs(["version","curint", "curpow"], function(pvalue) {
						console.log("************ Start Knowledge Bonus ************");
						console.log("curint value: " + pvalue.curint);
						console.log("curpow value: " + pvalue.curpow);
						
						var curInt = parseInt(pvalue.curint);
						var curPow = parseInt(pvalue.curpow);
						
						var BonusMod = 0;
										
						
						if (curPow < 5) {
							BonusMod = BonusMod - 5;
						}else if (curPow >16 && curPow < 21){
							BonusMod = BonusMod + 5;
						}else if (curPow >20){
							BonusMod = BonusMod + (5+(Math.ceil((curPow-20)/4)*5));
						}
						console.log("BonusMod value1: " + BonusMod);

						
						
						if (curInt < 5) {
							BonusMod = BonusMod-10;
						}else if(curInt >= 5 && curInt <= 8){
							BonusMod = BonusMod-5;
						}else if(curInt >= 13 && curInt <= 16){
							BonusMod = BonusMod+5;
						}else if(curInt >= 17 && curInt <= 20){
							BonusMod = BonusMod+10;
						}else if (curInt >20){
							BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
						}
						console.log("BonusMod value3: " + BonusMod);				

						
						console.log("version "+pvalue.version);
						if (parseInt(pvalue.version)===0){
							BonusMod = 0;
						}
						
						console.log("BonusMod value: " + BonusMod);
						setAttrs({knowledge_mod: BonusMod});
						console.log("************ End Knowledge Bonus ************");
					});
				});			
				/////////////////////////////////////////////////
				//Set Magic
				on("change:curchr change:curpow change:glamourCast", function() {
					getAttrs(["version","curchr", "curpow","glamourCast"], function(pvalue) {
						console.log("************ Start Magic Bonus ************");
						console.log("curpow value: " + pvalue.curpow);
						console.log("curchr value: " + pvalue.curchr);
						
						var curChr = parseInt(pvalue.curchr);
						var curPow = parseInt(pvalue.curpow);
						
						var BonusMod = 0;
										
						
						if (curChr < 5) {
							BonusMod = BonusMod - 5;
						}else if (curChr >16 && curChr < 21){
							BonusMod = BonusMod + 5;
						}else if (curChr >20){
							BonusMod = BonusMod + (5+(Math.ceil((curChr-20)/4)*5));
						}
						console.log("BonusMod value1: " + BonusMod);

						
						
						if (curPow < 5) {
							BonusMod = BonusMod-10;
						}else if(curPow >= 5 && curPow <= 8){
							BonusMod = BonusMod-5;
						}else if(curPow >= 13 && curPow <= 16){
							BonusMod = BonusMod+5;
						}else if(curPow >= 17 && curPow <= 20){
							BonusMod = BonusMod+10;
						}else if (curPow >20){
							BonusMod = BonusMod + (10+(Math.ceil((curPow-20)/4)*5));
						}
						console.log("BonusMod value3: " + BonusMod);				

						
						if (pvalue.glamourCast==="on"){
						
								if (curChr < 5) {
									BonusMod = BonusMod+5;
								}else if(curChr >= 9 && curChr <= 12){
									BonusMod = BonusMod+5;
								}else if(curChr >= 13){
									BonusMod = BonusMod+10;
								}					
						}
						console.log("BonusMod value4: " + BonusMod);				

						
						console.log("version "+pvalue.version);
						if (parseInt(pvalue.version)===0){
							BonusMod = 0;
						}
						
						console.log("BonusMod value: " + BonusMod);
						setAttrs({magic_mod: BonusMod});
						console.log("************ End Magic Bonus ************");
					});
				});					
				
				//Set Manipulation Bonus
				on("change:curstr change:curint change:curdex change:curpow change:strengthCast change:coordCast", function() {
					getAttrs(["version","curint", "curstr", "curdex","strengthCast", "curpow","coordCast"], function(pvalue) {
						console.log("************ Start Manipulation Bonus ************");
						console.log("curstr value: " + pvalue.curstr);
						console.log("curint value: " + pvalue.curint);
						console.log("curdex value: " + pvalue.curdex);
						console.log("curpow value: " + pvalue.curpow);
						var curStrength = parseInt(pvalue.curstr);
						var curInt = parseInt(pvalue.curint);
						var curDexterity = parseInt(pvalue.curdex);
						var curPower = parseInt(pvalue.curpow);
						var BonusMod = 0;
						
						
						
						if (curStrength < 5) {
							BonusMod = BonusMod - 5;
							console.log("Str B -5");
						}else if (curStrength >16 && curStrength < 21){
							BonusMod = BonusMod + 5;
							console.log("Str B +5");
						}else if (curStrength >20){
							BonusMod = BonusMod + 5+(Math.ceil((curStrength-20)/4)*5);
							console.log("Str B "+BonusMod);
						}
						
							
						if (curInt < 5) {
							console.log("INT B -10");
							BonusMod = BonusMod-10;
						}else if(curInt >= 5 && curInt <= 8){
							BonusMod = BonusMod-5;
							console.log("INT B -5");					
						}else if(curInt >= 13 && curInt <= 16){
							BonusMod = BonusMod+5;
							console.log("INT B 5");						
						}else if(curInt >= 17 && curInt <= 20){
							BonusMod = BonusMod+10;
							console.log("INT B 10");
						}else if (curInt >20){
							BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
						}

						
						if (curDexterity < 5) {
							BonusMod = BonusMod-10;
							console.log("DEX B -10");
						}else if(curDexterity >= 5 && curDexterity <= 8){
							BonusMod = BonusMod-5;
							console.log("DEX B -5");						
						}else if(curDexterity >= 13 && curDexterity <= 16){
							BonusMod = BonusMod+5;
							console.log("DEX B +5");						
						}else if(curDexterity >= 17 && curDexterity <= 20){
							BonusMod = BonusMod+10;
							console.log("DEX B +10");						
						}else if (curDexterity >20){
							BonusMod = BonusMod + (10+(Math.ceil((curDexterity-20)/4)*5));
						}
						
						if (curPower < 5) {
							BonusMod = BonusMod-5;
							console.log("pow B -5");						
						}else if (curPower >16 && curPower < 21){
							BonusMod = BonusMod+5;
							console.log("Pow B +5");						
						}else if (curPower >20){
							BonusMod = BonusMod + 5+(Math.ceil((curPower-20)/4)*5);
						}				
						console.log("before buff BonusMod value: " + BonusMod);

					   
						if (pvalue.strengthCast==="on"){
						
								if (curStrength < 5) {
									BonusMod = BonusMod+5;
								}else if(curStrength >= 9 && curStrength <= 12){
									BonusMod = BonusMod+5;
								}else if(curStrength >= 13){
									BonusMod = BonusMod+10;
								}					
						}				   
					   
						console.log("after str buff BonusMod value: " + BonusMod);
						
						
						if (pvalue.coordCast==="on"){
							BonusMod = BonusMod+5;
						}

						console.log("version "+pvalue.version);
						if (parseInt(pvalue.version)===0){
							BonusMod = 0;
						}
						
						console.log("BonusMod value: " + BonusMod);
						setAttrs({manipulation_mod: BonusMod});
						console.log("************ End Manipulation Bonus ************");
					});
				});
				//Set Perception
				on("change:curint change:curpow", function() {
					getAttrs(["version","curint", "curpow"], function(pvalue) {
						console.log("************ Start Perception Bonus ************");
						console.log("curint value: " + pvalue.curint);
						console.log("curpow value: " + pvalue.curpow);
						
						var curInt = parseInt(pvalue.curint);
						var curPow = parseInt(pvalue.curpow);
						
						var BonusMod = 0;
										
						
						if (curPow < 5) {
							BonusMod = BonusMod - 5;
						}else if (curPow >16 && curPow < 21){
							BonusMod = BonusMod + 5;
						}else if (curPow >20){
							BonusMod = BonusMod + (5+(Math.ceil((curPow-20)/4)*5));
						}
						console.log("BonusMod value1: " + BonusMod);

						
						
						if (curInt < 5) {
							BonusMod = BonusMod-10;
						}else if(curInt >= 5 && curInt <= 8){
							BonusMod = BonusMod-5;
						}else if(curInt >= 13 && curInt <= 16){
							BonusMod = BonusMod+5;
						}else if(curInt >= 17 && curInt <= 20){
							BonusMod = BonusMod+10;
						}else if (curInt >20){
							BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
						}
						console.log("BonusMod value3: " + BonusMod);				

						
						console.log("version "+pvalue.version);
						if (parseInt(pvalue.version)===0){
							BonusMod = 0;
						}
						
						console.log("BonusMod value: " + BonusMod);
						setAttrs({perception_mod: BonusMod});
						console.log("************ End Perception  Bonus ************");
					});
				});			
				/////////////////////////////////////////////////

				//Set Stealth Bonus
				on("change:curint change:cursiz change:curdex change:curpow change:coordCast", function() {
					getAttrs(["version","curint", "cursiz", "curdex", "curpow","coordCast"], function(pvalue) {
						console.log("************ Start Stealth Bonus ************");
						console.log("curint value: " + pvalue.curint);
						console.log("cursiz value: " + pvalue.cursiz);
						console.log("curdex value: " + pvalue.curdex);
						console.log("curpow value: " + pvalue.curpow);
						var curInt = parseInt(pvalue.curint);
						var curSize = parseInt(pvalue.cursiz);
						var curDexterity = parseInt(pvalue.curdex);
						var curPower = parseInt(pvalue.curpow);
						var BonusMod = 0;
						
						
						
						if (curInt < 5) {
							BonusMod = BonusMod-10;
						}else if(curInt >= 5 && curInt <= 8){
							BonusMod = BonusMod-5;
						}else if(curInt >= 13 && curInt <= 16){
							BonusMod = BonusMod+5;
						}else if(curInt >= 17 && curInt <= 20){
							BonusMod = BonusMod+10;
						}else if (curInt >20){
							BonusMod = BonusMod + (10+(Math.ceil((curInt-20)/4)*5));
						}
						

						if (curSize < 5) {
							BonusMod = BonusMod+10;
						}else if(curSize >= 5 && curSize <= 8){
							BonusMod = BonusMod+5;
						}else if(curSize >= 13 && curSize <= 16){
							BonusMod = BonusMod-5;
						}else if(curSize >= 17 && curSize <= 20){
							BonusMod = BonusMod-10;
						}else if (curSize >20){
							BonusMod = BonusMod - (10+(Math.ceil((curSize-20)/4)*5));
						}

						
						if (curDexterity < 5) {
							BonusMod = BonusMod-10;
						}else if(curDexterity >= 5 && curDexterity <= 8){
							BonusMod = BonusMod-5;
						}else if(curDexterity >= 13 && curDexterity <= 16){
							BonusMod = BonusMod+5;
						}else if(curDexterity >= 17 && curDexterity <= 20){
							BonusMod = BonusMod+10;
						}else if (curDexterity >20){
							BonusMod = BonusMod + (10+(Math.ceil((curDexterity-20)/4)*5));
						}
						
						if (curPower < 5) {
							BonusMod = BonusMod+5;
						}else if (curPower >16 && curPower < 21){
							BonusMod = BonusMod-5;
						}else if (curPower >20){
							BonusMod = BonusMod - (5+(Math.ceil((curPower-20)/4)*5));
						}				
					   
						if (pvalue.coordCast==="on"){
							BonusMod = BonusMod+5;
						}

						console.log("version "+pvalue.version);
						console.log("!!!!!!!!!!!stealth mode changed!!!!!!!!!!"+pvalue.version);
						if (parseInt(pvalue.version)===0){
							BonusMod = 0;
						}
						
						console.log("BonusMod value: " + BonusMod);
						setAttrs({stealth_mod: BonusMod});
						console.log("************ End Agility Bonus ************");
					});
				});
				
				
				
					//Set Damage Bonus
				on("change:curstr change:cursiz change:strengthCast", function() {
					getAttrs(["curstr", "cursiz","strengthCast","damagebonus"], function(pvalue) {
						console.log("************ Start Damage Bonus ************");
						console.log("curstr value: " + pvalue.curstr);
						console.log("cursiz value: " + pvalue.cursiz);
						console.log("damagebonus value: " + pvalue.damagebonus);
						var curStrength = parseInt(pvalue.curstr);
						var curSize = parseInt(pvalue.cursiz);
						var curDB = parseInt(pvalue.damagebonus);
						var StplusSi = curStrength + curSize;
						console.log("Str+Size value: " + StplusSi);
						var DBonus = "-1d4";
						var mDBonus = "-1d2";
						var DBonusC = 0;
						var maxDb1 = 0;
						var maxDb2 = 0;
									
						//Determine Bonus
						if (StplusSi < 13) {
							console.log("-- Str+Siz is less than 13 --");
							DBonus = "-1d4";
							mDBonus = "-1d2";		
							
							if (pvalue.strengthCast==="on"){						
								DBonus = "0";
								mDBonus = "0";
							}
							
							console.log("DBonus value: " + DBonus);
							/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1});*/
						}
						else if (StplusSi < 25) {
							console.log("-- Str+Siz is less than 25 --");
							DBonus = "0";
							mDBonus = "0";
							
							if (pvalue.strengthCast==="on"){						
								DBonus = "1d4";
								mDBonus = "1d2";
								maxDb1=4;
								maxDb2=2							
							}						
							
							console.log("DBonus value: " + DBonus);
							/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1});*/
						}
						else if (StplusSi < 33) {
							console.log("-- Str+Siz is less than 31 --");
							DBonus = "1d4";
							mDBonus = "1d2";					
							console.log("DBonus value: " + DBonus);
							maxDb1=4;
							maxDb2=2
							if (pvalue.strengthCast==="on"){						
								DBonus = "1d6";
								mDBonus = "1d3";
								maxDb1=6;
								maxDb2=3							
							}												
							
							
							
							/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1  });*/
						}
						else if (StplusSi < 41) {
							console.log("-- Str+Siz is less than 31 --");
							DBonus = "1d6";
							mDBonus = "1d3";					
							console.log("DBonus value: " + DBonus);
							maxDb1=6;
							maxDb2=3
							
							if (pvalue.strengthCast==="on"){						
								DBonus = "2d6";
								mDBonus = "1d6";
								maxDb1=12;
								maxDb2=6							
							}							
							
							/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1  });*/
						}			
						else { //StplusSi is greater than 
							DBonusC = 2+Math.floor(parseFloat((StplusSi - 40) / 16));
							if (pvalue.strengthCast==="on"){						
								DBonusC += 1;
							}						
							
							console.log("DBonusC value: " + DBonusC);

							DBonus = DBonusC + "d6";
							maxDb1 = DBonusC*6;
							maxDb2 = maxDb1/2;
							mDBonus = DBonusC + "d3";					
							console.log("DBonus value: " + DBonus);
							/*setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1,mmaxDb:maxDb2 });*/
						}    

						setAttrs({ damagebonus: DBonus,mdamagebonus: mDBonus,maxDb:maxDb1,mmaxDb:maxDb2 });
						console.log("************ End Damage Bonus ************");
					});
				});
				

				//Set siz SRM
				on("change:cursiz", function() {
					getAttrs(["cursiz","dex_srm","srBuff"], function(pvalue) {

						
						var charSiz = parseInt(pvalue.cursiz);
						var charSsrm = parseInt(pvalue.dex_srm);			
						let srBuff = parseInt(pvalue.srBuff);
										

						
						var ssrm = 0;
						var msrm = charSsrm;
						
						if (charSiz < 7){
							ssrm = 3;
						} else if (charSiz < 15){
							ssrm = 2;				
						} else if (charSiz < 22){
							ssrm = 1;				
						} else {
							ssrm = 0;				
						}				
						msrm = msrm+ssrm+srBuff;
						
						setAttrs({ siz_srm: ssrm , melee_srm: msrm});
					   
						console.log("************ Siz SRM Calculation ************");
					});
				});	


				//Set Dex SRM
				on("change:curdex change:coordCast change:mobilCast", function() {
					getAttrs(["curdex","siz_srm","coordCast","mobilCast"], function(pvalue) {

						
						let charDex = parseInt(pvalue.curdex);
						let charSsrm = parseInt(pvalue.siz_srm);
						let srBuff = 0		
						let dsrm = 0;
						let msrm = charSsrm;
						let srCnt =0;	
						
						if (charDex < 6){
							dsrm = 5;
						} else if (charDex < 9){
							dsrm = 4;
						} else if (charDex < 13){
							dsrm = 3;				
						} else if (charDex < 16){
							dsrm = 2;	
						} else if (charDex < 19){
							dsrm = 1;						
						} else {
							dsrm = 0;				
						}	
						console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);					
	console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)					
						if (pvalue.coordCast=="on"){
							srBuff++;
						}
	console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)					

						if (pvalue.mobilCast=="on"){
							srBuff++;
						}
	console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)					
						msrm = msrm+dsrm;
						
						/*if (msrm < 1){
							msrm=1;
						}*/
						
						srCnt =dsrm-srBuff;
						if (srCnt<1){
							srCnt=1;
						}
						let srStr= "";
						while (srCnt<=12) {
							srStr=srStr+""+srCnt;
							srCnt=srCnt+dsrm+(5-srBuff);
							if (srCnt<12){
								srStr=srStr+"/";
							}
						}
						srCnt =5+dsrm-srBuff;
						if (srCnt<1){
							srCnt=1;
						}
						let srStr2= "";
						while (srCnt<=12) {
							srStr2=srStr2+""+srCnt;
							srCnt=srCnt+dsrm+(5-srBuff);
							if (srCnt<=12){
								srStr2=srStr2+"/";
							}
						}					
						
						
						/*if (dsrm < 1){
							dsrm =1;
						}*/
						console.log("^^^^^^^^^^^^^ srbuff: "+srBuff)
						
						setAttrs({ dex_srm: dsrm , melee_srm: msrm,ready_wpn: srStr,unready_wpn: srStr2,srMod:srBuff});
					   
						console.log("************ End DEx SRM Calculation ************");
					});
				});	
				


				
				
				on("change:glamourCast change:strengthCast change:vigorCast change:coordCast", function() {
					getAttrs(["glamourCast","strengthCast","vigorCast","coordCast"], function(pvalue) {
						console.log("************ Check Cast spells ************");
						console.log("vigorCast: " + pvalue.vigorCast);
						var buffStr = "";	

						if (pvalue.coordCast==="on"){
							buffStr= buffStr+"+3 DEX "
							setAttrs({dexBuff:3,srBuff:-1});
						}else{
							setAttrs({dexBuff:0,srBuff:0});
						} 					

						if (pvalue.mobilCast==="on"){
							buffStr= buffStr+" Double MOV "					
						}				
						
						if (pvalue.strengthCast==="on"){
							buffStr= buffStr+"+8 STR "
							setAttrs({strBuff:8});
						}else {
							setAttrs({strBuff:0});
						} 					
						if (pvalue.glamourCast==="on"){
							if (buffStr.length>0){
								buffStr = buffStr+","
							}
							buffStr= buffStr+ " +8 CHR "
							setAttrs({chrBuff:8});
						} else {
							setAttrs({chrBuff:0});						
						}						

						if (pvalue.vigorCast==="on"){
							if (buffStr.length>0){
								buffStr = buffStr+","
							}					
							buffStr= buffStr+" +3 CON "
							setAttrs({conBuff:3});
						} else{
							setAttrs({conBuff:0});						
						}	
						if (buffStr.length>0){
							buffStr = buffStr+" to resistance rolls only"
						}					
						console.log("*********** Updating Buff String");
						console.log("buff "+buffStr);	
						setAttrs({buffMsg:buffStr });
					});
				});	
				
				
				
					//Location Hit Points
				//Set Hit Points
										 
				on("change:hp_max change:vigorCast", function() {
					getAttrs(["hp_max","vigorCast"], function(pvalue) {
						var HitPoints = parseInt(pvalue.hp_max);
						console.log("************ Start Location Hit Point Calculation ************");
						console.log("!!!!!!!!!! vigorCast "+pvalue.vigorCast);
						
						

						var hpfudge =0;
						if (pvalue.vigorCast==="on"){
							
							HitPoints = HitPoints-3;
							hpfudge=1;
							
						}
						console.log("hit points");
						console.log(HitPoints);

						/*
						var charstre= parseInt(pvalue.hpstre);
						var tothP = HitPoints + charstre;
										
						//fix to match hit point tables
						var x = Math.ceil(tothP/3);
						console.log("fixing");
						console.log(x);
						var fixedHP =  x*3;
						console.log("fixed hit points");
						console.log(fixedHP);
						
						
						
						var LocPoints1 = 0; //.33
						var LocPoints2 = 0; //.25
						var LocPoints3 = 0; //.4
						
						LocPoints1 = Math.ceil((fixedHP*0.33),0);
						LocPoints2 = Math.ceil((fixedHP*0.25),0);
						LocPoints3 = Math.ceil((fixedHP*0.4),0);
						*/
						
						var LocPoints1 = 0; // Other
						var LocPoints2 = 0; // Arms
						var LocPoints3 = 0; // Chest
						
						if (HitPoints < 7){
							LocPoints1 = 2+hpfudge;
							LocPoints2 = 1+hpfudge;
							LocPoints3 = 3+hpfudge;					
						}
						else if (HitPoints >= 7 && HitPoints <= 9){
							LocPoints1 = 3+hpfudge;
							LocPoints2 = 2+hpfudge;
							LocPoints3 = 4+hpfudge;					
						}
						else if (HitPoints >= 10 && HitPoints <= 12){
							LocPoints1 = 4+hpfudge;
							LocPoints2 = 3+hpfudge;
							LocPoints3 = 5+hpfudge;					
						}
						else if (HitPoints >= 13 && HitPoints <= 15){
							LocPoints1 = 5+hpfudge;
							LocPoints2 = 4+hpfudge;
							LocPoints3 = 6+hpfudge;					
						}
						else if (HitPoints >= 16 && HitPoints <= 18){
							LocPoints1 = 6+hpfudge;
							LocPoints2 = 5+hpfudge;
							LocPoints3 = 7+hpfudge;					
						}
						else if (HitPoints >= 19 && HitPoints <= 21){
							LocPoints1 = 7+hpfudge;
							LocPoints2 = 6+hpfudge;
							LocPoints3 = 8+hpfudge;					
						}
						else if (HitPoints > 21){
							LocPoints1 = (7 + Math.ceil((HitPoints-21)/3))+hpfudge;
							LocPoints2 = (6 + Math.ceil((HitPoints-21)/3))+hpfudge;
							LocPoints3 = (8 + Math.ceil((HitPoints-21)/3))+hpfudge;
						}
						
						setAttrs({r_leg_max_hp: LocPoints1,l_leg_max_hp: LocPoints1,abd_max_hp: LocPoints1,chst_max_hp: LocPoints3,
						r_arm_max_hp: LocPoints2,l_arm_max_hp: LocPoints2,hd_max_hp: LocPoints1});
					   
						console.log("************ End Location Hit Point Calculation ************");
					});
				});		
				
					//Set Current Hit Points
				on("change:lhp_loss change:thp_loss ", function() {
					getAttrs(["hp_max","lhp_loss","thp_loss"], function(pvalue) {
						console.log("************ Start Current Hit Point Calculation ************");
						var HitPoints = parseInt(pvalue.hp_max);
						
						var CurHitPoints = 0;
						var THpLoss = parseInt(pvalue.lhp_loss);
						var LHpLoss = parseInt(pvalue.thp_loss);				


						CurHitPoints = HitPoints-THpLoss-LHpLoss;
									
						setAttrs({hp_cur: CurHitPoints});
					   
						console.log("************ End Current Hit Point Calculation ************");
					});
				});
				
				
			//Set Hit Points
				on("change:curcon change:curpow change:cursiz  change:vigorCast", function() {
					getAttrs(["curcon", "cursiz","curpow","hp","lhp_loss","thp_loss","vigorCast"], function(pvalue) {
						console.log("************ Start Hit Point Calculation ************");
						console.log("curcon value: " + pvalue.curcon);
						console.log("cursiz value: " + pvalue.cursiz);
						console.log("curpow value: " + pvalue.curpow);
						
						var HitPoints = 0;
						var CurHitPoints = 0;
						var THpLoss = parseInt(pvalue.lhp_loss);
						var LHpLoss = parseInt(pvalue.thp_loss);				
						var charSize = parseInt(pvalue.cursiz);
						var charCon = parseInt(pvalue.curcon);
						var charPow = parseInt(pvalue.curpow);

						HitPoints = charCon;
						
						if (charSize < 5){
							HitPoints -= 2;
						}
						else if (charSize >= 5 && charSize <= 8){
							HitPoints -= 1;
						}
						else if (charSize >= 13 && charSize <= 16){
							HitPoints += 1;
						}
						else if (charSize >= 17 && charSize <= 20){
							HitPoints += 2;
						}
						else if (charSize >= 21 && charSize <= 24){
							HitPoints += 3;
						}					
						else if (charSize >= 25 && charSize <= 28){
							HitPoints += 4;
						}										
						else if (charSize > 28){
							HitPoints += (4 + Math.ceil((charSize-20)/4))
						}

			
						if (charPow < 5){
							HitPoints -= 1;
						}
						else if (charPow >= 17 && charPow <= 20){
							HitPoints += 1;
						}

						else if (charPow >= 21 && charPow <= 24){
							HitPoints += 2;
						}
						else if (charPow >= 25 && charPow <= 28){
							HitPoints += 3;
						}													
						else if (charPow > 28){
							HitPoints += (3 + Math.ceil((charPow-20)/4));
						}

						
						if (pvalue.vigorCast==="on"){
							HitPoints +=3;
						}
						
						CurHitPoints = HitPoints-THpLoss-LHpLoss;
									
						setAttrs({ hp_max: HitPoints, hp_cur: CurHitPoints});

						console.log("************ End Hit Point Calculation ************");
					});
				});	
				
				
				on("change:r_leg_damage change:r_leg_max_hp ", function() {
			   getAttrs(["r_leg_damage","r_leg_max_hp"], function(values) {
						console.log("Start add right leg location damage");
						console.log(values);		
						var lochp =  parseInt(values.r_leg_max_hp);
						//var locstre = parseInt(values.r_leg_stre);
						var damage = values.r_leg_damage;
						var tot=0;
						tot =  lochp-eval(damage); 
						
						setAttrs({r_leg_cur_hp:tot});	




			   });
			});	
			

					on("change:l_leg_damage change:r_leg_max_hp ", function() {
			   getAttrs(["l_leg_damage","l_leg_max_hp"], function(values) {
						console.log("Start add left leg location damage");
						console.log(values);		
						var lochp =  parseInt(values.l_leg_max_hp);
						//var locstre = parseInt(values.l_leg_stre);
						var damage = values.l_leg_damage;
						var tot=0;
						tot =  lochp-eval(damage);
						
						setAttrs({l_leg_cur_hp:tot});	




			   });
			});	

					on("change:abd_damage change:abd_max_hp ", function() {
			   getAttrs(["abd_damage","abd_max_hp"], function(values) {
						console.log("Start add abd location damage");
						console.log(values);		
						var lochp =  parseInt(values.abd_max_hp);
						//var locstre = parseInt(values.abd_stre);
						var damage = values.abd_damage;
						var tot=0;
						tot =  lochp-eval(damage);
						
						setAttrs({abd_cur_hp:tot});	




			   });
			});	

					on("change:chst_damage change:chst_max_hp ", function() {
			   getAttrs(["chst_damage","chst_max_hp"], function(values) {
						console.log("Start add chst location damage");
						console.log(values);		
						var lochp =  parseInt(values.chst_max_hp);
						//var locstre = parseInt(values.chst_stre);				
						var damage = values.chst_damage;
						var tot=0;
						tot =  lochp-eval(damage);
						console.log("!!!!!!!!!!!!!! lochp"+lochp);

						setAttrs({chst_cur_hp:tot});	




			   });
			});		
			
			
					on("change:r_arm_damage change:r_arm_max_hp ", function() {
			   getAttrs(["r_arm_damage","r_arm_max_hp"], function(values) {
						console.log("Start add right arm location damage");
						console.log(values);		
						var lochp =  parseInt(values.r_arm_max_hp);
						//var locstre = parseInt(values.r_arm_stre);								
						var damage = values.r_arm_damage;
						var tot=0;
						tot =  lochp-eval(damage);
						
						setAttrs({r_arm_cur_hp:tot});	




			   });
			});	
			

					on("change:l_arm_damage change:l_arm_max_hp ", function() {
			   getAttrs(["l_arm_damage","l_arm_max_hp"], function(values) {
						console.log("Start add left arm location damage");
						console.log(values);		
						var lochp =  parseInt(values.l_arm_max_hp);
						//var locstre = parseInt(values.l_arm_stre);												
						var damage = values.l_arm_damage;
						var tot=0;
						tot =  lochp-eval(damage);
						
						setAttrs({l_arm_cur_hp:tot});	




			   });
			});	
			

					on("change:hd_damage change:hd_max_hp ", function() {
			   getAttrs(["hd_damage","hd_max_hp"], function(values) {
						console.log("Start add head location damage");
						console.log(values);		
						var lochp =  parseInt(values.hd_max_hp);
						var damage = values.hd_damage;
						var tot = lochp-eval(damage);
						setAttrs({hd_cur_hp:tot});	
			   });
			});		
			
			
			
					on("change:r_leg_damage change:l_leg_damage change:abd_damage change:abd_damage change:chst_damage change:r_arm_damage change:l_arm_damage change:hd_damage", function() {
			   getAttrs(["r_leg_damage","l_leg_damage","abd_damage","abd_damage","chst_damage","r_arm_damage","l_arm_damage","hd_damage"], function(values) {
						console.log("Start add up location damage");
						console.log(values);				
						var tot=0;
						var evalStr = "";
						for (const key of Object.keys(values)) {
							tot = tot + eval(values[key]);
							console.log(tot);
						}
						setAttrs({lhp_loss:tot});	
						/*var test = eval(values.total_blood_loss_tt);*/



			   });
			});			
				
				
			 on("change:repeating_spiritMagic:spellPts change:dex_srm", function() {
			   getAttrs(["repeating_spiritMagic_spellPts","dex_srm"], function(values) {
						console.log(" spell pts"+values.repeating_spiritMagic_spellPts);
						console.log("dsr:"+values.dex_srm);
						let val =  (parseInt(values.repeating_spiritMagic_spellPts)-1)+parseInt(values.dex_srm);
						setAttrs({repeating_spiritMagic_spellPts2:val});	
			   });
			});				
				
				
				
			  on("change:repeating_missle:mdbtoggle", function() {
			   getAttrs(["repeating_missle_mdbtoggle","mdamagebonus","attr_mmaxDb"], function(values) {
						console.log("Start set missle damage bonus");
						console.log(values);
						console.log(values.repeating_missle_mdbtoggle);				
						var mdb =  values.repeating_missle_mdbtoggle;
						var mdbStr = "0";
						var maxmdbStr = "0";
						if (mdb=="on"){
							
							mdbStr = values.mdamagebonus;
							maxmdbStr = values.mmaxDb;
						}
						
						
						setAttrs({repeating_missle_wpnmdb:mdbStr,maxwpnmdb: maxmdbStr});	




			   });
			});	
			
			
			
				//reset weapon str/ def penalties if str changes

				on("change:curstr change:curdex change:cursiz", function() {
				
						console.log("start weapon str/dex min checks ");
						
						
						/* Start melee Section */
						getSectionIDs("repeating_melee", function(idArray) {
							if (idArray.length > 0) {
								_.each(idArray, function(currentID, i) {
									getAttrs(["repeating_melee_" + currentID + "_wpnstr","repeating_melee_" + currentID + "_wpndex","curstr","curdex" ], function(values) {
										console.log("what have we here");
										var wStr = parseInt(values["repeating_melee_" + idArray[i] + "_wpnstr"]);
										var wDex = parseInt(values["repeating_melee_" + idArray[i] + "_wpndex"]);
										var cStr = parseInt(values.curstr);
										var cDex = parseInt(values.curdex);
										var minMod = 0;
										var strMod = cStr-wStr;
										var dexMod = cDex-wDex;
										var totmod = 0;
										var attrsToSet = {};
										if (strMod < 0){
											console.log("Below min str");
											console.log(strMod*5);
											totmod += strMod*5;
										}
										if (dexMod < 0){
											console.log("Below min dex");
											console.log(dexMod*5);
											totmod += dexMod*5;
										}
										//mimmod
										var missleModId = "repeating_melee_" + idArray[i] + "_minmod";
										attrsToSet[missleModId] = totmod;
										console.log("attrsToSet");
										console.log(attrsToSet);		
										setAttrs(attrsToSet);
										
										
										/*
										console.log("wStr");
										console.log(wStr);
										console.log("wDex");
										console.log(wDex);
										console.log("Str");
										console.log(cStr);
										console.log("Dex");
										console.log(cDex);
										*/
										
										
									});
								});
							}
						});
						/* End melee section  */				
						
						
						
						
						
						
						
						
						/* Start missle Section */
						getSectionIDs("repeating_missle", function(idArray) {
							if (idArray.length > 0) {
								_.each(idArray, function(currentID, i) {
									getAttrs(["repeating_missle_" + currentID + "_mdbtoggle","repeating_missle_" + currentID + "_wpnstr","repeating_missle_" + currentID + "_wpndex","curstr","curdex","mdamagebonus" ], function(values) {
										console.log("what have we here");
										var wStr = parseInt(values["repeating_missle_" + idArray[i] + "_wpnstr"]);
										var wDex = parseInt(values["repeating_missle_" + idArray[i] + "_wpndex"]);
										var mdb = values["repeating_missle_" + idArray[i] + "_mdbtoggle"]
										var cStr = parseInt(values.curstr);
										var cDex = parseInt(values.curdex);
										var minMod = 0;
										var strMod = cStr-wStr;
										var dexMod = cDex-wDex;
										var totmod = 0;
										var mdbStr = "0";
										var attrsToSet = {};
										if (strMod < 0){
											console.log("Below min str");
											console.log(strMod*5);
											totmod += strMod*5;
										}
										if (dexMod < 0){
											console.log("Below min dex");
											console.log(dexMod*5);
											totmod += dexMod*5;
										}
										//mimmod
										var missleModId = "repeating_missle_" + idArray[i] + "_minmod";
										attrsToSet[missleModId] = totmod;
										console.log("attrsToSet");
										console.log(attrsToSet);		
										setAttrs(attrsToSet);
										
										//set missle damage bonus
										var missletoggleId = "repeating_missle_" + idArray[i] + "_wpnmdb";
										if (mdb=="on"){
											
											mdbStr = values.mdamagebonus;
										}

										attrsToSet[missletoggleId] = mdbStr;
										console.log("new missle bonus");
										console.log(attrsToSet);		
										setAttrs(attrsToSet);								
										
										/*
										console.log("wStr");
										console.log(wStr);
										console.log("wDex");
										console.log(wDex);
										console.log("Str");
										console.log(cStr);
										console.log("Dex");
										console.log(cDex);
										*/
										
										
									});
								});
							}
						});
						/* End missle section  */
				});


			
			
			
			/*attr_missle_db*/
			
			on("change:repeating_missle:mdbtoggle", function() {
			   getAttrs(["repeating_missle_mdbtoggle","mdamagebonus"], function(values) {
						console.log("Start set missle damage bonus");
						console.log(values);
						console.log(values.repeating_missle_mdbtoggle);				
						var mdb =  values.repeating_missle_mdbtoggle;
						var mdbStr = "0";
						if (mdb=="on"){
							
							mdbStr = values.mdamagebonus;
						}
						setAttrs({repeating_missle_wpnmdb:mdbStr});	




			   });
			});
			/* ---- BEGIN: TheAaronSheet.js ---- */
			// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
			// By:       The Aaron, Arcane Scriptomancer
			// Contact:  https://app.roll20.net/users/104025/the-aaron

			var TAS = TAS || (function(){
				'use strict';

				var version = '0.2.4',
					lastUpdate = 1457098091,

					loggingSettings = {
						debug: {
							key:     'debug',
							title:   'DEBUG',
							color: {
								bgLabel: '#7732A2',
								label:   '#F2EF40',
								bgText:  '#FFFEB7',
								text:    '#7732A2'
							}
						},
						error: {
							key:     'error',
							title:   'Error',
							color: {
								bgLabel: '#C11713',
								label:   'white',
								bgText:  '#C11713',
								text:    'white'
							}
						},
						warn: {
							key:     'warn',
							title:   'Warning',
							color: {
								bgLabel: '#F29140',
								label:   'white',
								bgText:  '#FFD8B7',
								text:    'black'
							}
						},
						info: {
							key:     'info',
							title:   'Info',
							color: {
								bgLabel: '#413FA9',
								label:   'white',
								bgText:  '#B3B2EB',
								text:    'black'
							}
						},
						notice: {
							key:     'notice',
							title:   'Notice',
							color: {
								bgLabel: '#33C133',
								label:   'white',
								bgText:  '#ADF1AD',
								text:    'black'
							}
						},
						log: {
							key:     'log',
							title:   'Log',
							color: {
								bgLabel: '#f2f240',
								label:   'black',
								bgText:  '#ffff90',
								text:    'black'
							}
						},
						callstack: {
							key:     'TAS',
							title:   'function',
							color: {
								bgLabel: '#413FA9',
								label:   'white',
								bgText:  '#B3B2EB',
								text:    'black'
							}
						},
						callstack_async: {
							key:     'TAS',
							title:   'ASYNC CALL',
							color: {
								bgLabel: '#413FA9',
								label:   'white',
								bgText:  '#413FA9',
								text:    'white'
							}
						},
						TAS: {
							key:     'TAS',
							title:   'TAS',
							color: {
								bgLabel: 'grey',
								label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
								bgText:  'grey',
								text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
							}
						}
					},


					config = {
						debugMode: false,
						logging: {
							log: true,
							notice: true,
							info: true,
							warn: true,
							error: true,
							debug: false
						}
					},

					callstackRegistry = [],
					queuedUpdates = {}, //< Used for delaying saves till the last momment.

				complexType = function(o){
					switch(typeof o){
						case 'string':
							return 'string';
						case 'boolean':
							return 'boolean';
						case 'number':
							return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
						case 'function':
							return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
						case 'object':
							return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
						default:
							return typeof o;
					}
				},

				dataLogger = function(primaryLogger,secondaryLogger,data){
					_.each(data,function(m){
						var type = complexType(m);
						switch(type){
							case 'string':
								primaryLogger(m);
								break;
							case 'undefined':
							case 'null':
							case 'NaN':
								primaryLogger('['+type+']');
								break;
							case 'number':
							case 'not a number':
							case 'integer':
							case 'decimal':
							case 'boolean':
								primaryLogger('['+type+']: '+m);
								break;
							default:
								primaryLogger('['+type+']:=========================================');
								secondaryLogger(m);
								primaryLogger('=========================================================');
								break;
						}
					});
				},


				colorLog = function(options){
					var coloredLoggerFunction,
						key = options.key,
						label = options.title || 'TAS',
						lBGColor = (options.color && options.color.bgLabel) || 'blue',
						lTxtColor = (options.color && options.color.label) || 'white',
						mBGColor = (options.color && options.color.bgText) || 'blue',
						mTxtColor = (options.color && options.color.text) || 'white';

					coloredLoggerFunction = function(message){
						console.log(
							'%c '+label+': %c '+message + ' ',
							'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
							'background-color: '+mBGColor+';color: '+mTxtColor+';'
						); 
					};
					return function(){
						if('TAS'===key || config.logging[key]){
						   dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
						}
					};
				},

				logDebug  = colorLog(loggingSettings.debug),
				logError  = colorLog(loggingSettings.error),
				logWarn   = colorLog(loggingSettings.warn),
				logInfo   = colorLog(loggingSettings.info),
				logNotice = colorLog(loggingSettings.notice),
				logLog    = colorLog(loggingSettings.log),
				log       = colorLog(loggingSettings.TAS),
				logCS     = colorLog(loggingSettings.callstack),
				logCSA    = colorLog(loggingSettings.callstack_async),

				registerCallstack = function(callstack,label){
					var idx=_.findIndex(callstackRegistry,function(o){
						return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
							_.difference(o.stack,callstack).length === 0 &&
							o.label === label;
					});
					if(-1 === idx){
						idx=callstackRegistry.length;
						callstackRegistry.push({
							stack: callstack,
							label: label
						});
					}
					return idx;
				},

				setConfigOption = function(options){
					var newconf =_.defaults(options,config);
					newconf.logging=_.defaults(
						(options && options.logging)||{},
						config.logging
					);
					config=newconf;
				},
				
				debugMode = function(){
					config.logging.debug=true;
					config.debugMode = true;
				},

				getCallstack = function(){
					var e = new Error('dummy'),
						stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
						.replace(/^\s+at\s+/gm, '')
						.replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
						.split('\n')),function(l){
							return l.replace(/\s+.*$/,'');
						});
					return stack;
				},
				logCallstackSub = function(cs){
					var matches, csa;
					_.find(cs,function(line){
						matches = line.match(/TAS_CALLSTACK_(\d+)/);
						if(matches){
						   csa=callstackRegistry[matches[1]];
						   logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
						   logCallstackSub(csa.stack);
						   return true;
						} 
						logCS(line);
						return false;
					});
				},
				logCallstack = function(){
					var cs;
					if(config.debugMode){
						cs = getCallstack();
						cs.shift();
						log('==============================> CALLSTACK <==============================');
						logCallstackSub(cs);
						log('=========================================================================');
					}
				},


				wrapCallback = function (label, callback, context){
					var callstack;
					if('function' === typeof label){
						context=callback;
						callback=label;
						label=undefined;
					}
					if(!config.debugMode){
						return (function(cb,ctx){
							return function(){
								cb.apply(ctx||{},arguments);
							};
						}(callback,context));
					}
					
					callstack = getCallstack();
					callstack.shift();
					
					return (function(cb,ctx,cs,lbl){
						var ctxref=registerCallstack(cs,lbl);

						/*jshint -W054 */
						return new Function('cb','ctx','TASlog',
							"return function TAS_CALLSTACK_"+ctxref+"(){"+
								"TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
								"cb.apply(ctx||{},arguments);"+
								"TASlog('Exiting: '+(cb.name||'(anonymous function)'));"+
							"};")(cb,ctx,log);
						/*jshint +W054 */
					}(callback,context,callstack,label));
				},


				prepareUpdate = function( attribute, value ){
					queuedUpdates[attribute]=value;
				},

				applyQueuedUpdates = function() {
				  setAttrs(queuedUpdates);
				  queuedUpdates = {};
				},

				namesFromArgs = function(args,base){
					return _.chain(args)
						.reduce(function(memo,attr){
							if('string' === typeof attr) {
								memo.push(attr);
							} else if(_.isArray(args) || _.isArguments(args)){
								memo = namesFromArgs(attr,memo);
							}
							return memo;
						},(_.isArray(base) && base) || [])
						.uniq()
						.value();
				},

				addId = function(obj,value){
					Object.defineProperty(obj,'id',{
						value: value,
						writeable: false,
						enumerable: false
					});
				},

				addProp = function(obj,prop,value,fullname){
					(function(){
						var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
							full_pname = fullname || prop,
							pvalue=value;

						_.each(['S','I','F'],function(p){
							if( !_.has(obj,p)){
								Object.defineProperty(obj, p, {
									value: {},
									enumerable: false,
									readonly: true
								});
							}
						});
						if( !_.has(obj,'D')){
							Object.defineProperty(obj, 'D', {
								value: _.reduce(_.range(10),function(m,d){
										Object.defineProperty(m, d, {
											value: {},
											enumerable: true,
											readonly: true
										});
										return m;
									},{}),
								enumerable: false,
								readonly: true
							});
						}


						// Raw value
						Object.defineProperty(obj, pname, {
							enumerable: true,
							set: function(v){
								if(v!==pvalue) {
									pvalue=v;
									prepareUpdate(full_pname,v);
								}
							},
							get: function(){
								return pvalue;
							}
						});
						
						// string value
						Object.defineProperty(obj.S, pname, {
							enumerable: true,
							set: function(v){
								var val=v.toString();
								if(val !== pvalue) {
									pvalue=val;
									prepareUpdate(full_pname,val);
								}
							},
							get: function(){
								return pvalue.toString();
							}
						});

						// int value
						Object.defineProperty(obj.I, pname, {
							enumerable: true,
							set: function(v){
								var val=parseInt(v,10) || 0;
								if(val !== pvalue){
									pvalue=val;
									prepareUpdate(full_pname,val);
								}
							},
							get: function(){
								return parseInt(pvalue,10) || 0;
							}
						});

						// float value
						Object.defineProperty(obj.F, pname, {
							enumerable: true,
							set: function(v){
								var val=parseFloat(v) || 0;
								if(val !== pvalue) {
									pvalue=val;
									prepareUpdate(full_pname,val);
								}
							},
							get: function(){
								return parseFloat(pvalue) || 0;
							}
						});
						_.each(_.range(10),function(d){
							Object.defineProperty(obj.D[d], pname, {
								enumerable: true,
								set: function(v){
									var val=(parseFloat(v) || 0).toFixed(d);
									if(val !== pvalue){
										pvalue=val;
										prepareUpdate(full_pname,val);
									}
								},
								get: function(){
									return (parseFloat(pvalue) || 0).toFixed(d);
								}
							});
						});

					}());
				},
				
				repeating = function( section ) {
					return (function(s){
						var sectionName = s,
							attrNames = [],
							fieldNames = [],
							operations = [],
							after = [],
						
						repAttrs = function TAS_Repeating_Attrs(){
							attrNames = namesFromArgs(arguments,attrNames);
							return this;
						},
						repFields = function TAS_Repeating_Fields(){
							fieldNames = namesFromArgs(arguments,fieldNames);
							return this;
						},
						repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
							operations.push({
								type: 'reduce',
								func: (func && _.isFunction(func) && func) || _.noop,
								memo: (_.isUndefined(initial) && 0) || initial,
								final: (final && _.isFunction(final) && final) || _.noop,
								context: context || {}
							});
							return this;
						},
						repMap = function TAS_Repeating_Map(func, final, context) {
							operations.push({
								type: 'map',
								func: (func && _.isFunction(func) && func) || _.noop,
								final: (final && _.isFunction(final) && final) || _.noop,
								context: context || {}
							});
							return this;
						},
						repEach = function TAS_Repeating_Each(func, final, context) {
							operations.push({
								type: 'each',
								func: (func && _.isFunction(func) && func) || _.noop,
								final: (final && _.isFunction(final) && final) || _.noop,
								context: context || {}
							});
							return this;
						},
						repTap = function TAS_Repeating_Tap(final, context) {
							operations.push({
								type: 'tap',
								final: (final && _.isFunction(final) && final) || _.noop,
								context: context || {}
							});
							return this;
						},
						repAfter = function TAS_Repeating_After(callback,context) {
							after.push({
								callback: (callback && _.isFunction(callback) && callback) || _.noop,
								context: context || {}
							});
							return this;
						},
						repExecute = function TAS_Repeating_Execute(callback,context){
							var rowSet = {},
								attrSet = {},
								fieldIds = [],
								fullFieldNames = [];

							repAfter(callback,context);

							// call each operation per row.
							// call each operation's final
							getSectionIDs("repeating_"+sectionName,function(ids){
								fieldIds = ids;
								fullFieldNames = _.reduce(fieldIds,function(memo,id){
									return memo.concat(_.map(fieldNames,function(name){
										return 'repeating_'+sectionName+'_'+id+'_'+name;  
									}));
								},[]);
								getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
									_.each(attrNames,function(aname){
										if(values.hasOwnProperty(aname)){
											addProp(attrSet,aname,values[aname]);
										}
									});

									rowSet = _.reduce(fieldIds,function(memo,id){
										var r={};
										addId(r,id);
										_.each(fieldNames,function(name){
											var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
											addProp(r,name,values[fn],fn);
										});

										memo[id]=r;

										return memo;
									},{});

									_.each(operations,function(op){
										var res;
										switch(op.type){
											case 'tap':
												_.bind(op.final,op.context,rowSet,attrSet)();
												break;

											case 'each':
												_.each(rowSet,function(r){
													_.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
												});
												_.bind(op.final,op.context,rowSet,attrSet)();
												break;

											case 'map':
												res = _.map(rowSet,function(r){
													return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
												});
												_.bind(op.final,op.context,res,rowSet,attrSet)();
												break;

											case 'reduce':
												res = op.memo;
												_.each(rowSet,function(r){
													res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
												});
												_.bind(op.final,op.context,res,rowSet,attrSet)();
												break;
										}
									});

									// finalize attrs
									applyQueuedUpdates();
									_.each(after,function(op){
										_.bind(op.callback,op.context)();
									});
								});
							});
						};
							
						return {
							attrs: repAttrs,
							attr: repAttrs,

							column: repFields,
							columns: repFields,
							field: repFields,
							fields: repFields,

							reduce: repReduce,
							inject: repReduce,
							foldl: repReduce,

							map: repMap,
							collect: repMap,

							each: repEach,
							forEach: repEach,

							tap: repTap,
							'do': repTap,

							after: repAfter,
							last: repAfter,
							done: repAfter,

							execute: repExecute,
							go: repExecute,
							run: repExecute
						};
					}(section));
				},


				repeatingSimpleSum = function(section, field, destination){
					repeating(section)
						.attr(destination)
						.field(field)
						.reduce(function(m,r){
							return m + (r.F[field]);
						},0,function(t,r,a){
							a.S[destination]=t;
						})
						.execute();
				};



				return {
					/* Repeating Sections */
					repeatingSimpleSum: repeatingSimpleSum,
					repeating: repeating,

					/* Configuration */
					config: setConfigOption,

					/* Debugging */
					callback: wrapCallback,
					callstack: logCallstack,
					debugMode: debugMode,
					_fn: wrapCallback,

					/* Logging */
					debug: logDebug,
					error: logError,
					warn: logWarn,
					info: logInfo,
					notice: logNotice,
					log: logLog
				};
			}());

				on('change:repeating_equipment remove:repeating_equipment',function(){
					TAS.repeatingSimpleSum('equipment','equipment_weight','enc_totalf');
				});

				on('change:repeating_spiritspells remove:repeating_spiritspells',function(){
					TAS.repeatingSimpleSum('spiritspells','mpcost','spiritint');
				});

			/* ---- END: TheAaronSheet.js ---- */	
				on('change:repeating_equipment2 remove:repeating_equipment2',function(){
					//TAS.repeatingSimpleSum('equipment','equipment_weight','carry_total2');
					TAS.repeating("equipment2")
						.attr("carry_total2")
						.field("equipment_weight","carried")
						.reduce(function(m,r){
								
								console.log("carried "+(r.F["carried"]));
								if ( (r.F["carried"]) == 1){
									return m + (r.F["equipment_weight"]);
								} else{
									return m;
								}
									
						
						},0,function(t,r,a){
							a.S["carry_total2"]=t;
						})
						.execute();
				});					

			//////QS sheet workers end///////////////////////////
			/// end of qs workers
			/// qs workers end ////
			/// new workers ////
				on('change:repeating_equipment2 remove:repeating_equipment2',function(){
					//TAS.repeatingSimpleSum('equipment','equipment_weight','carry_total2');
					TAS.repeating("equipment2")
						.attr("mq_total")
						.field("mq_mod","carried")
						.reduce(function(m,r){
								
								console.log("carried "+(r.F["carried"]));
								if ( (r.F["carried"]) == 1){
								
									if ( (r.F["mq_mod"]) < m){
										return (r.F["mq_mod"]);
									}
									else{
										return m;
									}
									///return m + (r.F["mq_mod"]);
								} else{
									return m;
								}
									
						
						},0,function(t,r,a){
							a.S["mq_total"]=t;
						})
						.execute();
				});
			
			
			//Set Current enc mod
			on("change:carry_total2 change:carry_max2 change:prevdefends", function() {
				getAttrs(["carry_total2","carry_max2","prevdefends"], function(pvalue) {
					console.log("************ Start Current enc mod************");

					let new_mod = 0;
					let carry_total = Math.floor(parseInt(pvalue.carry_total2));
					let def_mod = -1 *(parseInt(pvalue.prevdefends)*20);
					let carry_max  = Math.ceil(parseInt(pvalue.carry_max2));
					
					let swim_mod = 0;
					
	console.log("111111111 swim_mod "+swim_mod);
					if (carry_total >  Math.ceil(carry_max/2)){
						swim_mod = ((Math.ceil(carry_max/2) - carry_total))*5;
					}

					
					let dodge_mod = 0-carry_total;
					if (carry_total > carry_max){
						dodge_mod = 0-carry_max;
					}
					dodge_mod = dodge_mod + def_mod ;
						
					if (carry_total > carry_max){
						new_mod = (carry_max-carry_total)*5;
						swim_mod = swim_mod - new_mod;
						console.log("new_mod" + new_mod);
					}
	console.log("111111111 swim_mod2 "+swim_mod);							
					setAttrs({enc_mod2:new_mod,dodge_mod2:dodge_mod,swim_mod2:swim_mod});
				   
					console.log("************ End Current enc mod Calculation ************");
				});
			});	
			

				on("remove:repeating_agilitySkills", function(eventinfo){
					getAttrs(["agility_mod","curdex"], function(pvalue) {		
						


								var skill = Object.values(eventinfo.removedInfo)[0];
								skill = skill.toLowerCase();
								skill = skill.trim();			
								if (skill === "dodge"){
										var mod = parseInt(pvalue.agility_mod);
										console.log("!!!!!!! agility_mod "+mod);
										var base = (parseInt(pvalue.curdex))*2
										console.log("!!!!!!! base "+base);
										
										setAttrs({dodge:mod+base});							
								}					
					});	
				});


			
			
			//Set Animal 2 Damage Bonus
			on("change:animal2_str change:animal2_siz", function() {
				getAttrs(["animal2_str", "animal2_siz"], function(pvalue) {
					console.log("************ Start Damage Bonus ************");
					console.log("curstr value: " + pvalue.animal2_str);
					console.log("cursiz value: " + pvalue.animal2_siz);

					var curStrength = parseInt(pvalue.animal2_str);
					var curSize = parseInt(pvalue.animal2_siz);

					var StplusSi = curStrength + curSize;
					console.log("Str+Size value: " + StplusSi);
					var DBonus = "-1d4";
					var mDBonus = "-1d2";
					var DBonusC = 0;
								
					//Determine Bonus
					if (StplusSi < 18) {
						console.log("-- Str+Siz is less than 18 --");
						DBonus = "-1d4";
						mDBonus = "-1d2";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal2_db: DBonus});
					}
					else if (StplusSi < 25) {
						console.log("-- Str+Siz is less than 25 --");
						DBonus = "0";
						mDBonus = "0";
						console.log("DBonus value: " + DBonus);
						setAttrs({animal2_db: DBonus});
					}
					else if (StplusSi < 33) {
						console.log("-- Str+Siz is less than 31 --");
						DBonus = "1d4";
						mDBonus = "1d2";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal2_db: DBonus});
					}
					else if (StplusSi < 41) {
						console.log("-- Str+Siz is less than 31 --");
						DBonus = "1d6";
						mDBonus = "1d3";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal2_db: DBonus});
					}			
					else { //StplusSi is greater than 
						DBonusC = 2+Math.floor(parseFloat((StplusSi - 40) / 16));
						console.log("DBonusC value: " + DBonusC);

						DBonus = DBonusC + "d6";
						mDBonus = DBonusC + "d3";					
						console.log("DBonus value: " + DBonus);
						setAttrs({animal2_db: DBonus});
					}            
					console.log("************ Animal 2 End Damage Bonus ************");
				});
			})		

				on("change:curstr change:curcon change:strBuff change:conBuff", function() {
					getAttrs(["curstr","curcon","conBuff","strBuff"], function(pvalue) {		
						
						var cStr = parseInt(pvalue.curstr)+parseInt(pvalue.strBuff);
						var cCon = parseInt(pvalue.curcon)+parseInt(pvalue.conBuff);
						
						var enc = Math.ceil((cStr+cCon)/2);
						if (enc > cStr){
							enc = cStr;
						}
						
						
						setAttrs({carry_max2:enc});			   
					});
				});		
			
							
			
				on("change:repeating_melee2:skillName", function(eventInfo) {
					getAttrs(["repeating_melee2_skillName"], function(pvalue) {		
							console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
							let sourceA = eventInfo.sourceAttribute
							let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
							var wpnSkill = pvalue.repeating_melee2_skillName;
							console.log("changed weapon skill to "+wpnSkill);
							/*Change here*/
							setAttrs({repeating_melee2_skillTotal:0});
							getSkillValues(wpnSkill,"repeating_meleeskills",repeatRow);
							getSkillValues(wpnSkill,"repeating_shieldskills",repeatRow);
							getSkillValues(wpnSkill,"repeating_naturalwpnskills",repeatRow);
							
							
					});
				});	
				
				
				on("change:repeating_missle2:skillName", function(eventInfo) {
					getAttrs(["repeating_missle2_skillName"], function(pvalue) {		
							console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
							let sourceA = eventInfo.sourceAttribute
							let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
							var wpnSkill = pvalue.repeating_missle2_skillName;
							console.log("changed weapon skill to "+wpnSkill);
							/*Change here*/
							setAttrs({repeating_missileskills_skillTotal:0});
							var skillVal=getSkillValues(wpnSkill,"repeating_missileskills",repeatRow);
					});
				});				
					
				on("change:repeating_meleeskills:skillTotal", function(eventInfo) {
					getAttrs(["repeating_meleeskills_skill","repeating_meleeskills_skillTotal"], function(pvalue) {		
							console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
							let sourceA = eventInfo.sourceAttribute
							let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
							var wpnSkill = pvalue.repeating_meleeskills_skill;
							var skillTotal = pvalue.repeating_meleeskills_skillTotal;
							console.log("changed weapon skill to "+wpnSkill);
							var skillVal=getSkillValues2(wpnSkill,"repeating_melee2",repeatRow,skillTotal);
					});
				});				

				
				on("change:repeating_missileskills:skillTotal", function(eventInfo) {
					getAttrs(["repeating_missileskills_skill","repeating_missileskills_skillTotal"], function(pvalue) {		
							console.log("!!!!!! changed  missle skill total  "+JSON.stringify(eventInfo.sourceAttribute));
							let sourceA = eventInfo.sourceAttribute
							let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
							var wpnSkill = pvalue.repeating_missileskills_skill;
							var skillTotal = pvalue.repeating_missileskills_skillTotal;
							console.log("changed weapon skill to "+wpnSkill);
							var skillVal=getSkillValues2(wpnSkill,"repeating_missle2",repeatRow,skillTotal);
					});
				});			

				on("change:repeating_shieldSkills:skillTotal", function(eventInfo) {
					getAttrs(["repeating_shieldSkills_skill","repeating_shieldSkills_skillTotal"], function(pvalue) {		
							console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
							let sourceA = eventInfo.sourceAttribute
							let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
							var wpnSkill = pvalue.repeating_shieldSkills_skill;
							var skillTotal = pvalue.repeating_shieldSkills_skillTotal;
							console.log("changed weapon skill to "+wpnSkill);
							var skillVal=getSkillValues2(wpnSkill,"repeating_melee2",repeatRow,skillTotal);
					});
				})



				on("change:repeating_naturalWpnSkills:skillTotal", function(eventInfo) {
					getAttrs(["repeating_naturalWpnSkills_skill","repeating_naturalWpnSkills_skillTotal"], function(pvalue) {		
							console.log("!!!!!! stuff  "+JSON.stringify(eventInfo.sourceAttribute));
							let sourceA = eventInfo.sourceAttribute
							let  repeatRow = sourceA.match(/[^_]*_[^_]*_[^_]*/g);
							var wpnSkill = pvalue.repeating_naturalWpnSkills_skill;
							var skillTotal = pvalue.repeating_naturalWpnSkills_skillTotal;
							console.log("changed weapon skill to "+wpnSkill);
							var skillVal=getSkillValues2(wpnSkill,"repeating_melee2",repeatRow,skillTotal);
					});
				})			
				
				function getSkillValues2(wpnSkill,section,section2,skillTotal){
					 getSectionIDs(section, function(idArray) {
						if (idArray.length > 0) {
				
							_.each(idArray, function(currentID, i) {
								getAttrs([section+"_" + currentID + "_skillName",section+"_" + currentID + "_skillTotal"], function(values) {
																																
									console.log("!!!!!! stuff3  "+JSON.stringify(values));

									let skillname = values[section+"_" + idArray[i] + "_skillName"];
									console.log("!!!!!! wpnSkill "+wpnSkill+" skillname "+skillname);

									if (skillname == wpnSkill){	
										console.log("!!!!!!!!!!!! found2 "+wpnSkill);
										let attrsToSet = {[section+"_" + idArray[i] +'_skillTotal']: skillTotal};								
										console.log("attrs to set "+JSON.stringify(attrsToSet));

										setAttrs(attrsToSet);
									}								

										
								});
							});
						}
						
					});	
				}	
				
				
				
			function getSkillValues(wpnSkill,section,section2){
					 getSectionIDs(section, function(idArray) {
						if (idArray.length > 0) {
				
							_.each(idArray, function(currentID, i) {
								getAttrs([section+"_" + currentID + "_skill",section+"_" + currentID + "_skillTotal"], function(values) {
																																
									console.log("!!!!!! stuff2  "+JSON.stringify(values));

									/*let wStr = values[section+"_" + idArray[i] + "_skill"];*/
									/*console.log("!!!!!! Look for skill "+wStr);*/
									let skillname = values[section+"_" + idArray[i] + "_skill"];
									var skillTotal =0 ;

									if (skillname == wpnSkill){	
										console.log("!!!!!!!!!!!! found "+wpnSkill);
										skillTotal = values[section+"_" + idArray[i] + "_skillTotal"];
										console.log("!!!!!! Skilltotal "+skillTotal);
										let attrsToSet = {[section2 + '_skillTotal']: skillTotal};								
										setAttrs(attrsToSet);
									}								

										
								});
							});
						}
						
					});						
			}
			
			
				on("change:repeating_agilitySkills:skillValue", function() {
					getAttrs(["repeating_agilitySkills_skillValue"], function(pvalue) {		
						
						 var checkVal = 0;
						 if (parseInt(pvalue.repeating_agilitySkills_skillValue) > 0){
							checkVal=1;
						 }
						
						setAttrs({repeating_agilitySkills_check_exp_toggle:checkVal});			   
					});
				});		
			
			
				
				
				
				
					function incSkill(section,skill,base,vbase,showExp){
						 getSectionIDs(section, function(idArray) {
							var found = false;
							if (idArray.length > 0) {
								var fields = [];
								_.each(idArray, function(currentID) {
									fields.push(section+"_" + currentID + "_skill");
									fields.push(section+"_" + currentID + "_base");
								});
								getAttrs(fields, function(values) {
									_.each(idArray, function(currentID, i) {
										var curSkill = values[section+"_" + idArray[i] + "_skill"];
										if (curSkill === skill){
											found = true;
										}
									});
									if (!found) {
										console.log(skill+""+section+" add !!!!!!!!!!!");
										addSkill(section,skill,base,vbase,showExp);
									}
								});
							}
							else{
								addSkill(section,skill,base,vbase,showExp);
							}
							
							
						});
					}

			
			on('sheet:opened',function(){
				
								
						
						getAttrs(["setupDone2","version","intialSRs","curdex","siz_srm","coordCast","mobilCast","toggleFullSheet","toggleNPC1Sheet","setFinals"], function(pvalue) {
								
								if (pvalue.setFinals == 0){ 
									setWpnTot();
									setWpnTot2();
									setAttrs({setFinals:"1"});	
									
								}		
								
								console.log("fk version "+pvalue.version);
								console.log("fk toggleNPC1Sheet "+pvalue.toggleNPC1Sheet);
								
						
								if (parseInt(pvalue.version)==1 && pvalue.toggleNPC1Sheet !=="on"){	
									var SetupDone2=parseInt(pvalue.setupDone2);
									if (SetupDone2==0){

										
									
										incSkill("repeating_agilityskills",getTranslationByKey("Boat"),"5","0","1");
										incSkill("repeating_agilityskills",getTranslationByKey("Climb"),"40","0","1");
										incSkill("repeating_agilityskills",getTranslationByKey("Dodge"),"DEX*2","1","1");	
										incSkill("repeating_agilityskills",getTranslationByKey("Drive"),"5","0","1");								
										incSkill("repeating_agilityskills",getTranslationByKey("Jump"),"DEX*3","1","1");									
										incSkill("repeating_agilityskills",getTranslationByKey("Ride")+" (.......)","5","0","1");									
										incSkill("repeating_agilityskills",getTranslationByKey("Swim"),"15","0","1");									
										
										incSkill("repeating_communicationskills",getTranslationByKey("Act"),"5","0","1");									
										incSkill("repeating_communicationskills",getTranslationByKey("Art"),"5","0","1");
										incSkill("repeating_communicationskills",getTranslationByKey("Bargain"),"5","0","1");											
										incSkill("repeating_communicationskills",getTranslationByKey("Charm"),"15","0","1");											
										incSkill("repeating_communicationskills",getTranslationByKey("Dance"),"10","0","1");											
										incSkill("repeating_communicationskills",getTranslationByKey("Disguise"),"5","0","1");
										incSkill("repeating_communicationskills",getTranslationByKey("Fast Talk"),"5","0","1");
										incSkill("repeating_communicationskills",getTranslationByKey("Intimidate"),"15","0","1");
										incSkill("repeating_communicationskills",getTranslationByKey("Intrigue"),"5","0","1")				
										incSkill("repeating_communicationskills",getTranslationByKey("Orate"),"10","0","1")
										incSkill("repeating_communicationskills",getTranslationByKey("Sing"),"10","0","1")												
										incSkill("repeating_communicationskills",getTranslationByKey("Speak Other"),"0","0","1")								
										incSkill("repeating_communicationskills",getTranslationByKey("Speak Own"),"50","0","1")

										incSkill("repeating_knowledgeskills",getTranslationByKey("Alchemy"),"0","0","0");									
										incSkill("repeating_knowledgeskills",getTranslationByKey("Animal Lore"),"5","0","0");									
										incSkill("repeating_knowledgeskills",getTranslationByKey("Battle"),"10","0","1");									
										incSkill("repeating_knowledgeskills",getTranslationByKey("Celestial Lore"),"5","0","0");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Cult Lore"),"5","0","0");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Customs Local"),"25","0","1");								
										incSkill("repeating_knowledgeskills",getTranslationByKey("Customs Other"),"0","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Elder Race Lore"),"5","0","0");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Evaluate"),"10","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Farm"),"10","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("First Aid"),"10","0","1");	
										incSkill("repeating_knowledgeskills",getTranslationByKey("Game"),"15","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Herd"),"5","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Homeland Own"),"30","0");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Homeland Other"),"0","0");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Manage Household"),"10","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Mineral Lore"),"5","0","0");								
										incSkill("repeating_knowledgeskills",getTranslationByKey("Peaceful Cut"),"10","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Plant Lore"),"5","0","0");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Read Write"),"0","0","0");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Survival"),"15","0","1");
										incSkill("repeating_knowledgeskills",getTranslationByKey("Treat Disease"),"5","0","1");								
										incSkill("repeating_knowledgeskills",getTranslationByKey("Treat Poison"),"5","0","1");

										incSkill("repeating_magicskills",getTranslationByKey("Meditate"),"0","0","1");
										incSkill("repeating_magicskills",getTranslationByKey("Prepare Corpse"),"10","0","1");
										incSkill("repeating_magicskills",getTranslationByKey("Spirit-Combat"),"20","0","1");
										incSkill("repeating_magicskills",getTranslationByKey("Spirit Lore"),"0","0","0");																		
										incSkill("repeating_magicskills",getTranslationByKey("Spirit Travel"),"10","0","1");

										incSkill("repeating_magicskills",getTranslationByKey("Worship"),"5","0","1");
										
										incSkill("repeating_manipulationskills",getTranslationByKey("Conceal"),"5","0","1");
										incSkill("repeating_manipulationskills",getTranslationByKey("Craft"),"10","0","1");
										incSkill("repeating_manipulationskills",getTranslationByKey("Devise"),"5","0","1");
										incSkill("repeating_manipulationskills",getTranslationByKey("Play Instrument"),"5","0","1");
										incSkill("repeating_manipulationskills",getTranslationByKey("Sleight"),"5","0","1");
										
										incSkill("repeating_perceptionskills",getTranslationByKey("Insight own"),"20","0","1");
										incSkill("repeating_perceptionskills",getTranslationByKey("Listen"),"25","0","1");
										incSkill("repeating_perceptionskills",getTranslationByKey("Scan"),"25","0","1");								
										incSkill("repeating_perceptionskills",getTranslationByKey("Search"),"25","0","1");								
										incSkill("repeating_perceptionskills",getTranslationByKey("Track"),"5","0","1");								
										
										
										incSkill("repeating_stealthskills",getTranslationByKey("Hide"),"10","0","1");								
										incSkill("repeating_stealthskills",getTranslationByKey("Move Quietly"),"10","0","1");
										
										incSkill("repeating_meleeSkills",getTranslationByKey("1H Axe"),"10","0","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("2H Axe"),"5","0","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("Broadsword"),"10","0","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("Dagger"),"15","0","1");								
										incSkill("repeating_meleeSkills",getTranslationByKey("Kopis"),"10","0","1");								
										incSkill("repeating_meleeSkills",getTranslationByKey("1H Mace"),"15","0","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("Pike"),"15","0","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("Rapier"),"5","0","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("Shortsword"),"10","0","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("1H Spear"),"5","0","1","1");
										incSkill("repeating_meleeSkills",getTranslationByKey("2H Spear"),"15","0","1");	
										
										incSkill("repeating_missileSkills",getTranslationByKey("Composite Bow"),"5","0","1");								
										incSkill("repeating_missileSkills",getTranslationByKey("Javelin"),"10","0","1");
										incSkill("repeating_missileSkills",getTranslationByKey("Self Bow"),"5","0","1");
										incSkill("repeating_missileSkills",getTranslationByKey("Sling"),"5","0","1");
										incSkill("repeating_missileSkills",getTranslationByKey("Throwing Dagger"),"5","0","1");
										incSkill("repeating_missileSkills",getTranslationByKey("Thrown Axe"),"10","0","1");								
										
										incSkill("repeating_shieldSkills",getTranslationByKey("Small Shield"),"15","0","1");								
										incSkill("repeating_shieldSkills",getTranslationByKey("Medium Shield"),"15","0","1");
										incSkill("repeating_shieldSkills",getTranslationByKey("Large Shield"),"15","0","1");																
										
										incSkill("repeating_naturalWpnSkills",getTranslationByKey("Fist"),"25","0","1");
										incSkill("repeating_naturalWpnSkills",getTranslationByKey("Grapple"),"25","0","1");
										incSkill("repeating_naturalWpnSkills",getTranslationByKey("Kick"),"15","0","1");
		/*addMeleeWpn(section,wpnType,wsr,skill,damage,type,special)*/

										addMeleeWpn("repeating_melee2",getTranslationByKey("Fist"),getTranslationByKey("Fist"),"4","1D3","1D3","3","H","2");
										addMeleeWpn("repeating_melee2",getTranslationByKey("Grapple"),getTranslationByKey("Grapple"),"4","1D6","1d6","6","H","2");
										addMeleeWpn("repeating_melee2",getTranslationByKey("Kick"),getTranslationByKey("Kick"),"4","1D6","1d6","6","H","2");

										console.log("q marker 2");
										setAttrs({toggleFullSheet:"on",toggleQSSheet:0,toggleNPC1Sheet:0,setupDone2:"1",showbroken1:0});
									}	else {
											if (parseInt(pvalue.intialSRs)==0){
												
												
													let charDex = parseInt(pvalue.curdex);
													let charSsrm = parseInt(pvalue.siz_srm);
													let srBuff = 0		
													let dsrm = 0;
													let msrm = charSsrm;
													let srCnt =0;	
													
													if (charDex < 6){
														dsrm = 5;
													} else if (charDex < 9){
														dsrm = 4;
													} else if (charDex < 13){
														dsrm = 3;				
													} else if (charDex < 16){
														dsrm = 2;	
													} else if (charDex < 19){
														dsrm = 1;						
													} else {
														dsrm = 0;				
													}	
													console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);					
								console.log("^^^^^^^^^^^^^ coordCast: "+pvalue.coordCast)					
													if (pvalue.coordCast=="on"){
														srBuff++;
													}
								console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);					
								console.log("^^^^^^^^^^^^^ mobilCast: "+pvalue.mobilCast)					
													if (pvalue.mobilCast=="on"){
														srBuff++;
													}
								console.log("^^^^^^^^^^^^^ dsrm: "+dsrm);										
													msrm = msrm+dsrm;
													
													if (msrm < 1){
														msrm=1;
													}
													
													srCnt =dsrm-srBuff;
													if (srCnt<1){
														srCnt=1;
													}
													let srStr= "";
													while (srCnt<=12) {
														srStr=srStr+""+srCnt;
														srCnt=srCnt+dsrm+(5-srBuff);
														if (srCnt<12){
															srStr=srStr+"/";
														}
													}
													srCnt =5+dsrm-srBuff;
													if (srCnt<1){
														srCnt=1;
													}
													let srStr2= "";
													while (srCnt<=12) {
														srStr2=srStr2+""+srCnt;
														srCnt=srCnt+dsrm+(5-srBuff);
														if (srCnt<=12){
															srStr2=srStr2+"/";
														}
													}					
													
													
													if (dsrm < 1){
														dsrm =1;
													}
													

													setAttrs({ dex_srm: dsrm , melee_srm: msrm,ready_wpn: srStr,unready_wpn: srStr2,intialSRs:1});
												   
													console.log("************ End DEx SRM Calculation ************");						
											}
									}		
								}
								else if(pvalue.toggleNPC1Sheet !=="on"){
									console.log("q marker 1");
									setAttrs({toggleQSSheet:"on",toggleNPC1Sheet:0,toggleFullSheet:0});								
								}
						});	

				});
			
			
				
				
				
				function addSkill(section,skill,base,vbase,showExp){
						var id=getId();
						var setObj = {};
						setObj[section+"_"+id+'_skill']=skill;
						setObj[section+"_"+id+'_base']=base;
						if (vbase==0){
							setObj[section+"_"+id+'_base2']=base;
						}
						else{
							setObj[section+"_"+id+'_base2']=base;
						}
						setAttrs(setObj);
						console.log("!!!!!!!!! skill: "+skill+" showExp: "+showExp); 
						
						if (showExp==1){
							setObj[section+"_"+id+'_sp_toggle1']="on";
						} else {
							setObj[section+"_"+id+'_sp_toggle1']="0";
						}
						setAttrs(setObj);
				}
				
				function addMeleeWpn(section,wpnType,skill,wsr,damage,spclDamage,critDamage,type,special){
						var id=getId();
						var setObj = {};
						setObj[section+"_"+id+'_weapon_type']=wpnType;
						setObj[section+"_"+id+'_skillName']=wpnType;					
						setObj[section+"_"+id+'_wpn_sr']=wsr;
						setObj[section+"_"+id+'_wpn_damage']=damage;
						setObj[section+"_"+id+'_spcldamage']=spclDamage;
						setObj[section+"_"+id+'_critdamage']=critDamage;
						setObj[section+"_"+id+'_wpn_type']=type;
						setObj[section+"_"+id+'_wpn_spl']=special;					
						
						setAttrs(setObj);	
				}			
				
				function getId(){
					const sattrs = {};
					const createdIDs = [];
					var retId = 0;
					if (createdIDs.length==0){
						retId = generateRowID();
						createdIDs.push(retId);
					} 
					var checkit = true;	
					  while (checkit==true) {
						let newID = generateRowID();
						console.log("Newid "+newID);	
						if (!createdIDs.includes(newID)) {
						  newrowid = newID;
						  console.log("newrowid "+newID);			  
						  createdIDs.push(newrowid);
						  checkit=false;
						}
					  }
						  retId = newrowid;

					
					return retId;
				}
					
					
				
				function resetSkills(section,category_mod,enc){
					console.log("reset skills "+section+" "+category_mod);
					 getSectionIDs(section, function(idArray) {
						if (idArray.length > 0) {
				
							_.each(idArray, function(currentID, i) {
								getAttrs([section+"_" + currentID + "_base",section+"_" + currentID + "_skillValue",category_mod,"dodge_mod2","swim_mod2","mq_total","enc_mod2","curdex",section+"_" + currentID + "_skill"], function(values){
								console.log("!!!! reset "+section+" row");
		
								var base = values[section+"_" + idArray[i] + "_base"];
								var skill = values[section+"_" + idArray[i] + "_skill"];
								if (parseInt(enc)==1){
									var enc_mod = parseInt(values.enc_mod2);
								} else {
									enc_mod = 0;
								}							
								var curdex = parseInt(values.curdex);
								base=base.toUpperCase();
								if (base.includes("DEX")){
								
										var multiplier = base.split("*");
										console.log("!!!!!!multiplier "+multiplier);									
										var multival = parseInt(multiplier[1]);
										console.log("!!!!!!!!!!!multival "+multival);															
										console.log("zzzzz");
										base = curdex*multival;
								}else{
									base=parseInt(base);
								}
								
								
								var skillValue = parseInt(values[section+"_" + idArray[i] + "_skillValue"]);
								var mod = parseInt(values[category_mod]);
									
								console.log("$$$$$$$ base"+base);	
								console.log("$$$$$$$ skillValue"+skillValue);									
								console.log("$$$$$$$ mod"+mod);									
								
								var tot = 0;
								if ((base+skillValue)>0){
									tot=base+skillValue+mod+enc_mod;
									if (skill.toUpperCase()=="DODGE"){
										tot = tot+parseInt(values.dodge_mod2)
									}else if (skill.toUpperCase()=="SWIM"){
										tot = tot+parseInt(values.swim_mod2)
									}else if (skill.toUpperCase()=="MOVE QUIETLY"){
									console.log(" mq_tot ="+values.mq_total);
										tot = tot+parseInt(values.mq_total)
									}
									
								}
								 setAttrs({[section+"_"+currentID+"_base2"]:base});	
								 setAttrs({[section+"_"+currentID+"_skillTotal"]:tot});
										
								});
							});
						}
						
					});		
						
				}			
			
				on("change:repeating_agilitySkills:base", function() {
					getAttrs(["repeating_agilitySkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_agilitySkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						
						setAttrs({repeating_agilitySkills_base2:tot});			   
					});
				});		
				

			
				
				on("change:repeating_agilitySkills:base2 change:repeating_agilitySkills:skillValue change:repeating_agilitySkills:skill", function() {
					getAttrs(["repeating_agilitySkills_base2","repeating_agilitySkills_skillValue","agility_mod","repeating_agilitySkills_skill","dodge_mod2","swim_mod2","enc_mod2"], function(pvalue) {
						var base2 = parseInt(pvalue.repeating_agilitySkills_base2);
						var enc_mod2 = parseInt(pvalue.enc_mod2);
						var skill = pvalue.repeating_agilitySkills_skill;
						var skillValue= parseInt(pvalue.repeating_agilitySkills_skillValue);
						var tot = 0;
							if (base2+skillValue > 0){
							
								tot=base2+skillValue+parseInt(pvalue.agility_mod)+enc_mod2;
								if (skill.toUpperCase()=="DODGE"){
									tot = tot+parseInt(pvalue.dodge_mod2)
								}else if (skill.toUpperCase()=="SWIM"){
									tot = tot+parseInt(pvalue.swim_mod2)
								}								
							}
						setAttrs({repeating_agilitySkills_skillTotal:tot});
						
					});
				});				


				on("change:repeating_agilitySkills:skillTotal", function() {
					getAttrs(["repeating_agilitySkills_skillTotal","repeating_agilitySkills_skill","curDex"], function(pvalue) {
					console.log("!!!!!!!!!!!!! Check for dodge !!!!!!!!!");
						var skill=pvalue.repeating_agilitySkills_skill;
						skill = skill.toUpperCase();
										 
						console.log("!!!!!!!!!!!!!"+skill);
						
						if (skill=="DODGE"){
							console.log("!!!!!!!!found skill name");
							var skillTotal = parseInt(pvalue.repeating_agilitySkills_skillTotal);
							setAttrs({dodge:skillTotal});						
						}
					});
				});

				
				
				on("change:repeating_magicSkills:skillTotal", function() {
					getAttrs(["repeating_magicSkills_skillTotal","repeating_magicSkills_skill","curDex"], function(pvalue) {
					console.log("!!!!!!!!!!!!! Check for spirit !!!!!!!!!");
						var skill=pvalue.repeating_magicSkills_skill;
						skill = skill.toUpperCase();
										 
						console.log("!!!!!!!!!!!!!"+skill);
						
						if (skill=="SPIRIT COMBAT"){
							console.log("!!!!!!!!found skill name");
							var skillTotal = parseInt(pvalue.repeating_magicSkills_skillTotal);
							setAttrs({spirit_combat:skillTotal});						
						}
					});
				});				
				
				
				on("change:agility_mod", function() {
					 resetSkills("repeating_agilitySkills","agility_mod","1");
				});	

				
				
				
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_communicationSkills:base", function() {
					getAttrs(["repeating_communicationSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_communicationSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_communicationSkills_base2:tot});			   
					});
				});		
				
				/*
				on("change:repeating_communicationSkills:base2 change:repeating_communicationSkills:skillValue", function() {
					getAttrs(["repeating_communicationSkills_base2","repeating_communicationSkills_skillValue","communication_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_communicationSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_communicationSkills_skillValue);
						console.log("!!!!!!!!!!communication mod "+pvalue.communication_mod);
						
						
						var tot = parseInt(pvalue.repeating_communicationSkills_base2)+parseInt(pvalue.repeating_communicationSkills_skillValue)+parseInt(pvalue.communication_mod)
					
						setAttrs({repeating_communicationSkills_skillTotal:tot});			   
					});
				});				
				*/
				on("change:repeating_communicationSkills:base2 change:repeating_communicationSkills:skillValue", function() {
					getAttrs(["repeating_communicationSkills_base2","repeating_communicationSkills_skillValue","communication_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_communicationSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_communicationSkills_skillValue);
						console.log("!!!!!!!!!!communication mod "+pvalue.communication_mod);
						
						var base2 = parseInt(pvalue.repeating_communicationSkills_base2);
						var skillValue= parseInt(pvalue.repeating_communicationSkills_skillValue);
						var tot = 0;
							if (base2+skillValue > 0){
								tot=base2+skillValue+parseInt(pvalue.communication_mod);
							}
						setAttrs({repeating_communicationSkills_skillTotal:tot});			   
					});
				});				
				
				
				
				
				on("change:communication_mod", function() {
					 resetSkills("repeating_communicationSkills","communication_mod","0");
				});	
				///////////////////////////////////////////////////////////////////////////////////////
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_knowledgeSkills:base", function() {
					getAttrs(["repeating_knowledgeSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_knowledgeSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_knowledgeSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_knowledgeSkills:base2 change:repeating_knowledgeSkills:skillValue", function() {
					getAttrs(["repeating_knowledgeSkills_base2","repeating_knowledgeSkills_skillValue","knowledge_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_knowledgeSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_knowledgeSkills_skillValue);
						console.log("!!!!!!!!!!knowledge mod "+pvalue.knowledge_mod);
						
						
						var base2 = parseInt(pvalue.repeating_knowledgeSkills_base2);
						var skillValue= parseInt(pvalue.repeating_knowledgeSkills_skillValue);
						
						tot = 0;
						
						if ((base2+skillValue)>0){
							var tot = base2+skillValue+parseInt(pvalue.knowledge_mod);
						}
							
					
						setAttrs({repeating_knowledgeSkills_skillTotal:tot});			   
					});
				});			
				
				on("change:knowledge_mod", function() {
					 resetSkills("repeating_knowledgeSkills","knowledge_mod","0");
				});	
				
			
				
				
				///////////////////////////////////////////////////////////////////////////////////////			
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_magicSkills:base", function() {
					getAttrs(["repeating_magicSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_magicSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_magicSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_magicSkills:base2 change:repeating_magicSkills:skillValue", function() {
					getAttrs(["repeating_magicSkills_base2","repeating_magicSkills_skillValue","magic_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_magicSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_magicSkills_skillValue);
						console.log("!!!!!!!!!!magic mod "+pvalue.magic_mod);
						
						var base2 = parseInt(pvalue.repeating_magicSkills_base2);
						var skillValue = parseInt(pvalue.repeating_magicSkills_skillValue);
						var tot = 0
						if (base2+skillValue > 0){
							var tot = base2+skillValue+parseInt(pvalue.magic_mod);
						}
					
						setAttrs({repeating_magicSkills_skillTotal:tot});			   
					});
				});				
				
				on("change:magic_mod", function() {
					 resetSkills("repeating_magicSkills","magic_mod","0");
				});	
				///////////////////////////////////////////////////////////////////////////////////////				
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_manipulationSkills:base", function() {
					getAttrs(["repeating_manipulationSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_manipulationSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_manipulationSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_manipulationSkills:base2 change:repeating_manipulationSkills:skillValue", function() {
					getAttrs(["repeating_manipulationSkills_base2","repeating_manipulationSkills_skillValue","manipulation_mod","enc_mod2"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_manipulationSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_manipulationSkills_skillValue);
						console.log("!!!!!!!!!!manipulation mod "+pvalue.manipulation_mod);
						
						var base2 = parseInt(pvalue.repeating_manipulationSkills_base2);
						var skillValue = parseInt(pvalue.repeating_manipulationSkills_skillValue);
						
						var tot = base2+skillValue+parseInt(pvalue.manipulation_mod)+parseInt(pvalue.enc_mod2);
					
						setAttrs({repeating_manipulationSkills_skillTotal:tot});			   
					});
				});				
				
				on("change:manipulation_mod", function() {
				console.log("HHHHHHHHHHHHHHHHHEEEEEEEEEEEEEELLLLLLLLLLLLLLLLOOOOOOOOO");
					resetSkills("repeating_manipulationSkills","manipulation_mod","1");
					resetSkills("repeating_meleeSkills","manipulation_mod","1");
					resetSkills("repeating_missileSkills","manipulation_mod","1");
					resetSkills("repeating_shieldSkills","manipulation_mod","1");
					resetSkills("repeating_naturalWpnSkills","manipulation_mod","1");								
				});	
				
				
				on("change:enc_mod2", function() {
					resetSkills("repeating_agilitySkills","agility_mod","1");
					resetSkills("repeating_manipulationSkills","manipulation_mod","1");
					resetSkills("repeating_meleeSkills","manipulation_mod","1");
					resetSkills("repeating_stealthSkills","manipulation_mod","1");
					resetSkills("repeating_missileSkills","manipulation_mod","1");
					resetSkills("repeating_shieldSkills","manipulation_mod","1");
					resetSkills("repeating_naturalWpnSkills","manipulation_mod","1");								
				});
				
				///////////////////////////////////////////////////////////////////////////////////////	
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_perceptionSkills:base", function() {
					getAttrs(["repeating_perceptionSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_perceptionSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_perceptionSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_perceptionSkills:base2 change:repeating_perceptionSkills:skillValue", function() {
					getAttrs(["repeating_perceptionSkills_base2","repeating_perceptionSkills_skillValue","perception_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_perceptionSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_perceptionSkills_skillValue);
						console.log("!!!!!!!!!!perception mod "+pvalue.perception_mod);
						
						var base2 = parseInt(pvalue.repeating_perceptionSkills_base2);
						var skillValue = parseInt(pvalue.repeating_perceptionSkills_skillValue);
						
						var tot = 0;
						if (base2+skillValue>0){
							var tot = base2+skillValue+parseInt(pvalue.perception_mod);
						}	
						
					
						setAttrs({repeating_perceptionSkills_skillTotal:tot});			   
					});
				});				
				
				on("change:perception_mod", function() {
					 resetSkills("repeating_perceptionSkills","perception_mod","0");
				});	
				///////////////////////////////////////////////////////////////////////////////////////	
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_stealthSkills:base", function() {
					getAttrs(["repeating_stealthSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_stealthSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						/*
						if (skill.toUpperCase()=="MOVE QUIETLY"){
							tot = tot+parseInt(pvalue.mq_total)
						}
						*/					
						setAttrs({repeating_stealthSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_stealthSkills:base2 change:repeating_stealthSkills:skillValue", function() {
					getAttrs(["repeating_stealthSkills_base2","repeating_stealthSkills_skillValue","stealth_mod","enc_mod2"], function(pvalue) {		
						console.log ("stealth skills");
						console.log("!!!!!!!base2 "+pvalue.repeating_stealthSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_stealthSkills_skillValue);
						console.log("!!!!!!!!!!stealth mod "+pvalue.stealth_mod);
						
						var base2 = parseInt(pvalue.repeating_stealthSkills_base2);
						var skillValue = parseInt(pvalue.repeating_stealthSkills_skillValue);
						
						var tot = 0;
						if (base2+skillValue>0){
							var tot = base2+skillValue+parseInt(pvalue.stealth_mod)+parseInt(pvalue.enc_mod2);
						}
					
						setAttrs({repeating_stealthSkills_skillTotal:tot});			   
					});
				});				

				on("change:swim_mod", function() {
					 resetSkills("repeating_agilitySkills","agility_mod","1");
				});	

				on("change:dodge_mod2", function() {
					 resetSkills("repeating_agilitySkills","agility_mod","1");
				});	
						   
				on("change:mq_total", function() {
						console.log("shut thoose dogs up");
					 resetSkills("repeating_stealthSkills","stealth_mod","1");
				});	
				
				on("change:stealth_mod", function() {
					console.log("reset stealth skills");
					 resetSkills("repeating_stealthSkills","stealth_mod","1");
				});	
				///////////////////////////////////////////////////////////////////////////////////////				
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_meleeSkills:base", function() {
					getAttrs(["repeating_meleeSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_meleeSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_meleeSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_meleeSkills:base2 change:repeating_meleeSkills:skillValue", function() {
					getAttrs(["repeating_meleeSkills_base2","repeating_meleeSkills_skillValue","manipulation_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_meleeSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_meleeSkills_skillValue);
						console.log("!!!!!!!!!!melee mod "+pvalue.manipulation_mod);
						
						var base2 = parseInt(pvalue.repeating_meleeSkills_base2);
						var skillValue = parseInt(pvalue.repeating_meleeSkills_skillValue);
						
						var tot = 0;
						if (base2+skillValue>0){
							var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
						}
					
						setAttrs({repeating_meleeSkills_skillTotal:tot});			   
					});
				});				
				///////////////////////////////////////////////////////////////////////////////////////				
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_missileSkills:base", function() {
					getAttrs(["repeating_missileSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_missileSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_missileSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_missileSkills:base2 change:repeating_missileSkills:skillValue", function() {
					getAttrs(["repeating_missileSkills_base2","repeating_missileSkills_skillValue","manipulation_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_missileSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_missileSkills_skillValue);
						console.log("!!!!!!!!!!missile mod "+pvalue.manipulation_mod);
						
						var base2 = parseInt(pvalue.repeating_missileSkills_base2);
						var skillValue = parseInt(pvalue.repeating_missileSkills_skillValue);
						
						var tot = 0;
						if (base2+skillValue>0){
							var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
						}
					
						setAttrs({repeating_missileSkills_skillTotal:tot});			   
					});
				});				
				///////////////////////////////////////////////////////////////////////////////////////	
				////////////////////////////////////////////////////////////////////////
				on("change:repeating_shieldSkills:base", function() {
					getAttrs(["repeating_shieldSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_shieldSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
						setAttrs({repeating_shieldSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_shieldSkills:base2 change:repeating_shieldSkills:skillValue", function() {
					getAttrs(["repeating_shieldSkills_base2","repeating_shieldSkills_skillValue","manipulation_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_shieldSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_shieldSkills_skillValue);
						console.log("!!!!!!!!!!shield mod "+pvalue.manipulation_mod);
						
						var base2 = parseInt(pvalue.repeating_shieldSkills_base2);
						var skillValue = parseInt(pvalue.repeating_shieldSkills_skillValue);
						
						var tot = 0;
						if (base2+skillValue>0){
							var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
						}
					
						setAttrs({repeating_shieldSkills_skillTotal:tot});			   
					});
				});				
				///////////////////////////////////////////////////////////////////////////////////////	
	//			////////////////////////////////////////////////////////////////////////
									 
				on("change:repeating_naturalWpnSkills:base", function() {
					getAttrs(["repeating_naturalWpnSkills_base","curstr","curcon","cursiz","curint","curpow","curdex","curchr"], function(pvalue) {		
						var baseStr = pvalue.repeating_naturalWpnSkills_base;
						baseStr = baseStr.toUpperCase();
						var tot = 0;
						if (baseStr.includes("*")){
							//get multiplier
							var multiplier = baseStr.split("*");
							console.log("!!!!!!multiplier "+multiplier);
							
							var multival = parseInt(multiplier[1]);
							console.log("!!!!!!!!!!!multival "+multival);
							
							if (baseStr.includes("STR")){
								tot = parseInt(pvalue.curstr)*multival;
							} else if (baseStr.includes("CON")){
								tot = parseInt(pvalue.curcon)*multival;						
							} else if (baseStr.includes("SIZ")){
								tot = parseInt(pvalue.cursiz)*multival;											
							} else if (baseStr.includes("INT")){
								tot = parseInt(pvalue.curint)*multival;											
							} else if (baseStr.includes("POW")){
								tot = parseInt(pvalue.curpow)*multival;											
							} else if (baseStr.includes("DEX")){
								tot = parseInt(pvalue.curdex)*multival;											
							} else if (baseStr.includes("CHR")){
								tot = parseInt(pvalue.curchr)*multival;											
							}
							console.log("tot "+tot);
						} 
						else{
							tot=parseInt(baseStr);
						}
											
						setAttrs({repeating_naturalWpnSkills_base2:tot});			   
					});
				});		
				
				
				on("change:repeating_naturalWpnSkills:base2 change:repeating_naturalWpnSkills:skillValue", function() {
					getAttrs(["repeating_naturalWpnSkills_base2","repeating_naturalWpnSkills_skillValue","manipulation_mod"], function(pvalue) {		
					
						console.log("!!!!!!!base2 "+pvalue.repeating_naturalWpnSkills_base2);
						console.log("!!!!!!skill value "+pvalue.repeating_naturalWpnSkills_skillValue);
						console.log("!!!!!!!!!!naturalWpnsSkills mod "+pvalue.manipulation_mod);
						
						var base2 = parseInt(pvalue.repeating_naturalWpnSkills_base2);
						var skillValue = parseInt(pvalue.repeating_naturalWpnSkills_skillValue);
						
						var tot = 0;
						if (base2+skillValue>0){
							var tot = base2+skillValue+parseInt(pvalue.manipulation_mod);
						}
					
						setAttrs({repeating_naturalWpnSkills_skillTotal:tot});			   
					});
				});				
				///////////////////////////////////////////////////////////////////////////////////////	

				
				
				on("change:repeating_knowledgeSkills:skill", function() {
					getAttrs(["repeating_knowledgeSkills_skill"], function(pvalue) {		
					
										
						var name= pvalue.repeating_knowledgeSkills_skill;

						var char1  = name.substr(0, 1); 

						if (char1=="-"){
							name = name.substr(1);
							setAttrs({repeating_knowledgeSkills_sp_toggle1:0,repeating_knowledgeSkills_skill:name});			   	
						} else 	if (char1=="+"){
							name = name.substr(1);
							setAttrs({repeating_knowledgeSkills_sp_toggle1:"on",repeating_knowledgeSkills_skill:name});			   	
							console.log("marker 4b");
						}					
					});
				});		

				on("change:repeating_agilitySkills:skill", function() {
					getAttrs(["repeating_agilitySkills_skill"], function(pvalue) {		
					
										
						var name= pvalue.repeating_agilitySkills_skill;

						var char1  = name.substr(0, 1); 

						if (char1=="-"){
							name = name.substr(1);
							setAttrs({repeating_agilitySkills_sp_toggle1:0,repeating_agilitySkills_skill:name});			   	
						} else 	if (char1=="+"){
							name = name.substr(1);
							setAttrs({repeating_agilitySkills_sp_toggle1:"on",repeating_agilitySkills_skill:name});			   	
							console.log("marker 4b");
						}					
					});
				});				
				
				on("change:repeating_communicationskills:skill", function() {
					getAttrs(["repeating_communicationskills_skill"], function(pvalue) {		
					
										
						var name= pvalue.repeating_communicationskills_skill;

						var char1  = name.substr(0, 1); 

						if (char1=="-"){
							name = name.substr(1);
							setAttrs({repeating_communicationskills_sp_toggle1:0,repeating_communicationskills_skill:name});			   	
						} else 	if (char1=="+"){
							name = name.substr(1);
							setAttrs({repeating_communicationskills_sp_toggle1:"on",repeating_communicationskills_skill:name});			   	
							console.log("marker 4b");
						}					
					});
				});				
				
				on("change:repeating_magicSkills:skill", function() {
					getAttrs(["repeating_magicSkills_skill"], function(pvalue) {		
					
										
						var name= pvalue.repeating_magicSkills_skill;

						var char1  = name.substr(0, 1); 

						if (char1=="-"){
							name = name.substr(1);
							setAttrs({repeating_magicSkills_sp_toggle1:0,repeating_magicSkills_skill:name});			   	
						} else 	if (char1=="+"){
							name = name.substr(1);
							setAttrs({repeating_magicSkills_sp_toggle1:"on",repeating_magicSkills_skill:name});			   	
							console.log("marker 4b");
						}					
					});
				});				
				
				
				on("change:repeating_manipulationSkills:skill", function() {
					getAttrs(["repeating_manipulationSkills_skill"], function(pvalue) {		
					
										
						var name= pvalue.repeating_manipulationSkills_skill;

						var char1  = name.substr(0, 1); 

						if (char1=="-"){
							name = name.substr(1);
							setAttrs({repeating_manipulationSkills_sp_toggle1:0,repeating_manipulationSkills_skill:name});			   	
						} else 	if (char1=="+"){
							name = name.substr(1);
							setAttrs({repeating_manipulationSkills_sp_toggle1:"on",repeating_manipulationSkills_skill:name});			   	
							console.log("marker 4b");
						}					
					});
				});				
				
				
				on("change:repeating_perceptionskills:skill", function() {
					getAttrs(["repeating_perceptionskills_skill"], function(pvalue) {		
					
										
						var name= pvalue.repeating_perceptionskills_skill;

						var char1  = name.substr(0, 1); 

						if (char1=="-"){
							name = name.substr(1);
							setAttrs({repeating_perceptionskills_sp_toggle1:0,repeating_perceptionskills_skill:name});			   	
						} else 	if (char1=="+"){
							name = name.substr(1);
							setAttrs({repeating_perceptionskills_sp_toggle1:"on",repeating_perceptionskills_skill:name});			   	
							console.log("marker 4b");
						}					
					});
				});	

				on("change:repeating_stealthskills:skill", function() {
					getAttrs(["repeating_stealthskills_skill"], function(pvalue) {		
					
										
						var name= pvalue.repeating_stealthskills_skill;

						var char1  = name.substr(0, 1); 

						if (char1=="-"){
							name = name.substr(1);
							setAttrs({repeating_stealthskills_sp_toggle1:0,repeating_stealthskills_skill:name});			   	
						} else 	if (char1=="+"){
							name = name.substr(1);
							setAttrs({repeating_stealthskills_sp_toggle1:"on",repeating_stealthskills_skill:name});			   	
							console.log("marker 4b");
						}					
					});
				});	


				

				
				on("change:fertility_rune", function() {
					getAttrs(["fertility_rune"], function(pvalue) {				
						setAttrs({death_rune:100-pvalue.fertility_rune});			   
					});
				});	
			

				on("change:death_rune", function() {
					getAttrs(["death_rune"], function(pvalue) {		
						setAttrs({fertility_rune:100-pvalue.death_rune});			   
					});
				});	
				
				on("change:harmony_rune", function() {
					getAttrs(["harmony_rune"], function(pvalue) {		
						setAttrs({disorder_rune:100-pvalue.harmony_rune});			   
					});
				});	
				
				on("change:disorder_rune", function() {
					getAttrs(["disorder_rune"], function(pvalue) {		
						setAttrs({harmony_rune:100-pvalue.disorder_rune});			   
					});
				});	
				
				on("change:truth_rune", function() {
					getAttrs(["truth_rune"], function(pvalue) {		
						setAttrs({illusion_rune:100-pvalue.truth_rune});			   
					});
				});			
				
				on("change:illusion_rune", function() {
					getAttrs(["illusion_rune"], function(pvalue) {		
						setAttrs({truth_rune:100-pvalue.illusion_rune});			   
					});
				});			
				
				on("change:stasis_rune", function() {
					getAttrs(["stasis_rune"], function(pvalue) {		
						setAttrs({movement_rune:100-pvalue.stasis_rune});			   
					});
				});			
			
				on("change:movement_rune", function() {
					getAttrs(["movement_rune"], function(pvalue) {		
						setAttrs({stasis_rune:100-pvalue.movement_rune});			   
					});
				});				
				
				
				on("change:man_rune", function() {
					getAttrs(["man_rune"], function(pvalue) {		
						setAttrs({beast_rune:100-pvalue.man_rune});			   
					});
				});			
				
				on("change:beast_rune", function() {
					getAttrs(["beast_rune"], function(pvalue) {		
						setAttrs({man_rune:100-pvalue.beast_rune});			   
					});
				});					
				
				on("change:basestr change:modstr", function() {
					getAttrs(["basestr","modstr"], function(pvalue) {		
						setAttrs({curstr:parseInt(pvalue.basestr)+parseInt(pvalue.modstr)});			   
					});
				});					
				
				on("change:basecon change:modcon", function() {
					getAttrs(["basecon","modcon"], function(pvalue) {		
						setAttrs({curcon:parseInt(pvalue.basecon)+parseInt(pvalue.modcon)});			   
					});
				});			
				
				on("change:basesiz change:modsiz", function() {
					getAttrs(["basesiz","modsiz"], function(pvalue) {		
						setAttrs({cursiz:parseInt(pvalue.basesiz)+parseInt(pvalue.modsiz)});			   
					});
				});

				on("change:baseint change:modint", function() {
					getAttrs(["baseint","modint"], function(pvalue) {		
						setAttrs({curint:parseInt(pvalue.baseint)+parseInt(pvalue.modint)});			   
					});
				});					
				
				on("change:basepow change:modpow", function() {
					getAttrs(["basepow","modpow"], function(pvalue) {		
						setAttrs({curpow:parseInt(pvalue.basepow)+parseInt(pvalue.modpow)});			   
					});
				});					
				
				on("change:basechr change:modchr", function() {
					getAttrs(["basechr","modchr"], function(pvalue) {		
						setAttrs({curchr:parseInt(pvalue.basechr)+parseInt(pvalue.modchr)});			   
					});
				});			
				
				on("change:basedex change:moddex", function() {
					getAttrs(["basedex","moddex"], function(pvalue) {		
						setAttrs({curdex:parseInt(pvalue.basedex)+parseInt(pvalue.moddex)});			   
					});
				});					
			
					//Set heal rate
				on("change:curcon", function() {
					getAttrs(["curcon"], function(pvalue) {

						
						var charCon = parseInt(pvalue.curcon);
						var hr = 0;
						
						if (charCon < 7){
							hr = 1;
						} else if (charCon < 13){
							hr = 2;				
						} else if (charCon < 18){
							hr = 3;				
						} else {
							hr += (3 + Math.ceil((charCon-18)/6));				
						}				
										
						setAttrs({heal_rate:hr});
					   
						console.log("************ Siz SRM Calculation ************");
					});
				});	
				
				//spirit combat damage
				on("change:curpow change:curchr change:glamourCast", function() {
					getAttrs(["curpow","curchr","glamourCast"], function(pvalue) {

						
						var charPow = parseInt(pvalue.curpow);
						var charChr = parseInt(pvalue.curchr);	
						var hr = 0;
						var sprtCbtDam = "";
						console.log("!!!!!!!!!!! "+(charPow+charChr));
						if (charPow+charChr < 13){
							 <!-- 2-12-->
							if (pvalue.glamourCast==="on"){	
								sprtCbtDam = "1D6";
							}else{
								sprtCbtDam = "1D3";
							}
							
						} else if (charPow+charChr < 25){
							<!-- 13-24 -->
							if (pvalue.glamourCast==="on"){	
								sprtCbtDam = "1D6+1";
							}else{
								sprtCbtDam = "1D6";
							}
							
						} else if (charPow+charChr < 33){
						
							<!-- 25-32-->
							if (pvalue.glamourCast==="on"){	
								sprtCbtDam = "1D6+3";
							}else{
								sprtCbtDam = "1D6+1";
							}						

						} else if (charPow+charChr < 41){
							<!-- 33-40-->						
							if (pvalue.glamourCast==="on"){	
								sprtCbtDam = "2D6+3";
							}else{
								sprtCbtDam = "1D6+3";
							}						
							
						} else if (charPow+charChr < 57){
							<!-- 41- 56 -->	
							if (pvalue.glamourCast==="on"){	
								sprtCbtDam = "3D6+3";
							}else{
								sprtCbtDam = "2D6+3";
							}												
							

						} else {
						
							var val = (2 + Math.ceil(((charPow+charChr)-56)/16));
							if (pvalue.glamourCast==="on"){	
								val =+ 1;
							}						
							sprtCbtDam = val+"D6+"+(val+2);				
						}				
										
						setAttrs({sprt_cmbt_damage:sprtCbtDam});
					   

					});
				});			
				
				
				on("change:thp_wnds", function() {
					getAttrs(["thp_wnds"], function(values) {
							var wnds =  parseInt(values.thp_wnds);
							//var locstre = parseInt(values.l_leg_stre);
											
							var damage = eval(wnds);
							
							setAttrs({thp_loss:damage});	

				   });
				});	
				


			//reset weapon str/ def penalties if str changes

				on("change:curstr change:curdex change:cursiz", function() {
				
						console.log("start weapon str/dex min checks ");
						
						
						/* Start melee Section */
						getSectionIDs("repeating_melee2", function(idArray) {
							if (idArray.length > 0) {
								_.each(idArray, function(currentID, i) {
									getAttrs(["repeating_melee2_" + currentID + "_wpnstr","repeating_melee2_" + currentID + "_wpndex","curstr","curdex" ], function(values) {
										console.log("melee section");
										var wStr = parseInt(values["repeating_melee2_" + idArray[i] + "_wpnstr"]);
										var wDex = parseInt(values["repeating_melee2_" + idArray[i] + "_wpndex"]);
										var cStr = parseInt(values.curstr);
										var cDex = parseInt(values.curdex);
										var mod =1;
										var attrsToSet = {};
										var strBonus = 0;
										
										
										
										if (wStr > 0 && wDex >0){
											if (cStr > wStr){
												strBonus = Math.floor((cStr-wStr)/2);									
											}
											
											if (cStr < wStr && cDex+strBonus < wDex){
												mod =0.5;
											}
										}
										else if (wStr > 0  && cStr < wStr){
												mod=0.5
										}
										else if (wDex >0){
											if (cDex < wDex){
												mod=0.5
											}																	
										}								 

										var meleeModId = "repeating_melee2_" + idArray[i] + "_minmod";
										attrsToSet[meleeModId] = mod;
										console.log("attrsToSet");
										console.log(attrsToSet);		
										setAttrs(attrsToSet);
										
										
										/*
										console.log("wStr");
										console.log(wStr);
										console.log("wDex");
										console.log(wDex);
										console.log("Str");
										console.log(cStr);
										console.log("Dex");
										console.log(cDex);
										*/
										
										
									});
								});
							}
						});
						/* End melee section  */				
						
						
						
						
						
						
						
						
						/* Start missle Section */
						getSectionIDs("repeating_missle2", function(idArray) {
							if (idArray.length > 0) {
								_.each(idArray, function(currentID, i) {
									getAttrs(["repeating_missle2_" + currentID + "_mdbtoggle","repeating_missle2_" + currentID + "_wpnstr","repeating_missle2_" + currentID + "_wpndex","curstr","curdex","mdamagebonus","mmaxDb" ], function(values) {
										console.log("missle section");
										var wStr = parseInt(values["repeating_missle2_" + idArray[i] + "_wpnstr"]);
										var wDex = parseInt(values["repeating_missle2_" + idArray[i] + "_wpndex"]);
										var mdb = values["repeating_missle2_" + idArray[i] + "_mdbtoggle"]
										var cStr = parseInt(values.curstr);
										var cDex = parseInt(values.curdex);
										var mod = 1;

										var strBonus = 0;
										var mdbStr = "0";
										var mdbStr2 = "0";
										
										var attrsToSet = {};
										
										
										if (wStr > 0 && wDex >0){
											if (cStr > wStr){
												strBonus = Math.floor((cStr-wStr)/2);									
											}
											
											if (cStr < wStr && cDex+strBonus < wDex){
												mod =0.5;
											}
										}
										else if (wStr >0 && cStr < wStr){
												mod=0.5;
										}
										else if (wDex >0){
											if (cDex < wDex){
												mod=0.5;
											}																	
										}							
										
										var missleModId = "repeating_missle2_" + idArray[i] + "_minmod";
										attrsToSet[missleModId] = mod;
										console.log("attrsToSet");
										console.log(attrsToSet);		
										setAttrs(attrsToSet);
										
										//set missle damage bonus
										var missledbId = "repeating_missle2_" + idArray[i] + "_wpnmdb";
										var misslemaxdbId = "repeating_missle2_" + idArray[i] + "_maxwpnmdb";
										if (mdb=="on"){
											
											mdbStr = values.mdamagebonus;
											mdbStr2 = values.mmaxDb;

										}

										attrsToSet[missledbId] = mdbStr;
										attrsToSet[misslemaxdbId] = mdbStr2;
										console.log("new missle bonus");
										console.log(attrsToSet);		
										setAttrs(attrsToSet);								
										
										/*
										console.log("wStr");
										console.log(wStr);
										console.log("wDex");
										console.log(wDex);
										console.log("Str");
										console.log(cStr);
										console.log("Dex");
										console.log(cDex);
										*/
										
										
									});
								});
							}
						});
						/* End missle section  */
				});


			
			
			
			/*attr_missle_db*/
			

			on("change:repeating_melee2:skillDefault", function() {
			   getAttrs(["repeating_melee2_skillDefault"], function(values) {
						console.log("Start skill default");
											
		
						var val = 1;
						if (values.repeating_melee2_skillDefault=="on"){
							
							val= 0.5;		
							
						}
						
						console.log("!!!!1 WHAT IS FUCKING VAL "+val);
						setAttrs({repeating_melee2_skillReduct:val});	




			   });
			});

			
			on("change:repeating_missle2:skillDefault", function() {
			   getAttrs(["repeating_missle2_skillDefault"], function(values) {
						console.log("Start skill default");
											
		
						var val = 1;
						if (values.repeating_missle2_skillDefault=="on"){
							
							val= 0.5;		
							
						}
						
						console.log("!!!!1 WHAT IS FUCKING VAL "+val);
						setAttrs({repeating_missle2_skillReduct:val});	




			   });
			});
			


			on("change:repeating_melee2:mntDbToggle", function() {
			   getAttrs(["repeating_melee2_mntDbToggle"], function(values) {
						console.log("Start set mounted damage bonus");
											
						var mdb =  values.repeating_melee2_mntDbToggle;
						var val = 0;
						if (mdb=="on"){
							
							val= 1;		
							
						}
						
						console.log("!!!!1 WHAT IS VAL "+val);
						setAttrs({repeating_melee2_mntTogVal:val});	




			   });
			});
			
			
			on("change:repeating_missle2:mdbtoggle", function() {
			   getAttrs(["repeating_missle2_mdbtoggle","mdamagebonus"], function(values) {
						console.log("Start set missle damage bonus");
						console.log(values);
						console.log(values.repeating_missle2_mdbtoggle);
											
						var mdb =  values.repeating_missle2_mdbtoggle;
						var mdbStr = "0";
						var maxmdbStr = "0";

						if (mdb=="on"){
							
							mdbStr = values.mdamagebonus;
							mdbStr = mdbStr.toUpperCase();
							var splitMdb = mdbStr.split("D");
							maxmdbStr = splitMdb[0]*splitMdb[1];
							
							
						}
						setAttrs({repeating_missle2_wpnmdb:mdbStr,repeating_missle2_maxwpnmdb:maxmdbStr});	




			   });
			});	
			
			  on("change:repeating_missle2:wpndex change:repeating_missle2:wpnstr", function() {
			   getAttrs(["repeating_missle2_wpnstr","repeating_missle2_wpndex","curdex","curstr"], function(values) {

										var wStr =  parseInt(values.repeating_missle2_wpnstr);
										var wDex =  parseInt(values.repeating_missle2_wpndex);
										var cStr = parseInt(values.curstr);
										var cDex = parseInt(values.curdex);
										var mod = 1;

										var strBonus = 0;
										
										var attrsToSet = {};
										
										if (wStr > 0 && wDex >0){
											if (cStr > wStr){
												strBonus = Math.floor((cStr-wStr)/2);									
											}

											if (cStr < wStr && cDex+strBonus < wDex){
												mod =0.5;
											}
										}
										else if (wStr >0 && cStr < wStr){
												mod=0.5;
										}
										else if (wDex >0){
											if (cDex < wDex){
												mod=0.5;
											}																	
										}	
										
										setAttrs({repeating_missle2_minmod:mod});	



			   });
			});	
			
			
				  on("change:repeating_melee2:wpndex change:repeating_melee2:wpnstr", function() {
			   getAttrs(["repeating_melee2_wpnstr","repeating_melee2_wpndex","curdex","curstr"], function(values) {

										var wStr =  parseInt(values.repeating_melee2_wpnstr);
										var wDex =  parseInt(values.repeating_melee2_wpndex);
										var cStr = parseInt(values.curstr);
										var cDex = parseInt(values.curdex);
										var mod = 1;

										var strBonus = 0;
										
										var attrsToSet = {};
										
										if (wStr > 0 && wDex >0){
											if (cStr > wStr){
												strBonus = Math.floor((cStr-wStr)/2);									
											}

											if (cStr < wStr && cDex+strBonus < wDex){
												mod =0.5;
											}
										}
										else if (wStr >0 && cStr < wStr){
												mod=0.5;
										}
										else if (wDex >0){
											if (cDex < wDex){
												mod=0.5;
											}																	
										}	
										
										setAttrs({repeating_melee2_minmod:mod});	



			   });
			});
			
			//wpn_damage
			//calculate melee spcecial and critical damage
			on("change:repeating_melee2:wpn_damage change:repeating_melee2:wpn_spl", function() {
			   getAttrs(["repeating_melee2_wpn_damage","repeating_melee2_wpn_spl"], function(values) {

					var spcl = parseInt(values.repeating_melee2_wpn_spl);
					var wDmg =  values.repeating_melee2_wpn_damage;
					
					
					console.log("spcl "+spcl);
					wDmg = wDmg.toUpperCase();
					console.log("dmg "+wDmg);	
					var dmgSplit = wDmg.split(/[\D+]+/);
					var newStr = "";
					var newAdd = 0;
					
					var cDamage = (parseInt(dmgSplit[0])*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]);
					console.log("dmgSplit" +dmgSplit);
					var newDice = parseInt(dmgSplit[0])*2;
					
					
					if (spcl !==2){
						if (dmgSplit.length===3){
							cDamage = (newDice*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]*2);
						}else{
							cDamage = newDice*parseInt(dmgSplit[1]);
						}				
					}
					else{
					
						if (dmgSplit.length===3){
							cDamage =  parseInt(dmgSplit[0])*parseInt(dmgSplit[1]);
							cDamage = cDamage+parseInt(dmgSplit[2]);
							
						}else{
							cDamage =  (parseInt((dmgSplit[0])*parseInt(dmgSplit[1])));
						}					
					}
					console.log("cDamage "+cDamage);
					console.log("newDice "+newDice);
					 
					
					
					if (spcl !==2){			
						if (dmgSplit.length===3){
							newAdd =  parseInt(dmgSplit[2])*2
							newStr = newDice+"D"+dmgSplit[1]+"+"+newAdd;
						}
						else{
							
							newStr = newDice+"D"+dmgSplit[1];
						}			
					}
					else{
						newStr = wDmg;
					}
					
					
					
					console.log("newStr "+newStr)
										
					setAttrs({repeating_melee2_spcldamage:newStr,repeating_melee2_critdamage:cDamage});	



			   });
			});	

			
			
			//wpn_damage
			//calculate missle spcecial and critical damage
			on("change:repeating_missle2:wpn_damage change:repeating_missle2:wpn_spl", function() {
			   getAttrs(["repeating_missle2_wpn_damage","repeating_missle2_wpn_spl"], function(values) {

					var spcl = parseInt(values.repeating_missle2_wpn_spl);
					var wDmg =  values.repeating_missle2_wpn_damage;
					
					
					console.log("spcl "+spcl);
					wDmg = wDmg.toUpperCase();
					console.log("dmg "+wDmg);	
					var dmgSplit = wDmg.split(/[\D+]+/);
					var newStr = "";
					var newAdd = 0;
					
					var cDamage = (parseInt(dmgSplit[0])*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]);
					console.log("dmgSplit" +dmgSplit);
					var newDice = parseInt(dmgSplit[0])*2;
					
					
					if (spcl !==2){
						if (dmgSplit.length===3){
							cDamage = (newDice*parseInt(dmgSplit[1]))+parseInt(dmgSplit[2]*2);
						}else{
							cDamage = newDice*parseInt(dmgSplit[1]);
						}				
					}
					else{
					
						if (dmgSplit.length===3){
							cDamage =  parseInt(dmgSplit[0])*parseInt(dmgSplit[1]);
							cDamage = cDamage+parseInt(dmgSplit[2]);
							
						}else{
							cDamage =  (parseInt((dmgSplit[0])*parseInt(dmgSplit[1])));
						}					
					}
					console.log("cDamage "+cDamage);
					console.log("newDice "+newDice);
					 
					
					
					if (spcl !==2){			
						if (dmgSplit.length===3){
							newAdd =  parseInt(dmgSplit[2])*2
							newStr = newDice+"D"+dmgSplit[1]+"+"+newAdd;
						}
						else{
							newStr = newDice+"D"+dmgSplit[1];
						}			
					}
					else{
						newStr = wDmg;
					}
					
					
					
					console.log("newStr "+newStr)
										
					setAttrs({repeating_missle_spcldamage:newStr,repeating_missle2_critdamage:cDamage});	



			   });
			});	
			
			
			on("change:repeating_mounts:wpn_damage1a1 change:repeating_mounts:wpn_spl1a1 change:repeating_mounts:wpn_damage1a2 change:repeating_mounts:wpn_spl1a2 change:repeating_mounts:wpn_damage1a3 change:repeating_mounts:wpn_spl1a3 change:repeating_mounts:wpn_damage2a1 change:repeating_mounts:wpn_spl2a1 change:repeating_mounts:wpn_damage2a2 change:repeating_mounts:wpn_spl2a2 change:repeating_mounts:wpn_damage2a3 change:repeating_mounts:wpn_spl2a3 ", function(eventInfo) {
				let sourceA = eventInfo.sourceAttribute.split("_");
				var source = sourceA[sourceA.length - 1];
				source = source.slice(-3)
				
				getAttrs(["repeating_mounts_wpn_damage"+source,"repeating_mounts_wpn_spl"+source], function(values) {
					console.log(values);
					console.log("source "+source);
					let spcl = parseInt(values["repeating_mounts_wpn_spl"+source]);
					let damage=values["repeating_mounts_wpn_damage"+source];
					damage=damage.toUpperCase();
					let negDam=0; 
					if (damage.includes("-1D4")){
						negDam=1;				
					} 
					damage=damage.replace("-1D4","");
					let wpnDamage = "";
					let damBonus= 0;
					let dmgSplit = "";
					let maxWpnDamage = 0;
					let maxDB=0;
					let dieNo = 0
					let dieSide = 0
					let dmgAdd = 0;
					let sDamage = "";
					
					
					if ( spcl !== 0){
							//If thre are two d's there is a damage bonus
							let dnumber  = (damage.match(/D/g) || []).length;
							if (dnumber > 1 ){
								//split the weapon damage and the dmabe bonus
								console.log("there is a damage bonus");
									dmgSplit = damage.split("+")	
									console.log("dmgSplit "+dmgSplit);
								if (dmgSplit[dmgSplit.length-1].includes("D")){
									damBonus = dmgSplit[dmgSplit.length-1];
									console.log("damBonus "+damBonus);
									console.log("array length "+dmgSplit.length);
									/*for (let i = 0; i <= dmgSplit.length-2; i++)*/
									for (let i = 0; i <= dmgSplit.length-2; i++)
									{
										console.log("marker 1");
										console.log("I "+i);
										
										if (wpnDamage.length > 0){
											wpnDamage = wpnDamage+"+";
										}
										wpnDamage = wpnDamage + dmgSplit[i];							
									}
								}
							} else {
								console.log("No damage bonus");
								wpnDamage = damage
							}
							console.log("wpn damage "+wpnDamage);
							console.log("damage bonus"+damBonus);
							//generate max wpn damage
							dmgSplit = wpnDamage.split("+")
							console.log("dmgSplit"+dmgSplit);
							for (let i = 0; i <= dmgSplit.length-1; i++){
								//maxWpnDamage
								if (dmgSplit[i].includes("D")){
									// it's is a die roll
									console.log("die");
									let die = dmgSplit[i].split("D");
									dieNo = die[0];
									dieSide = die[1];
									console.log("die 1 "+die[0]);
									console.log("die 2 "+die[1]);
									maxWpnDamage = maxWpnDamage + parseInt(die[0])*parseInt(die[1]);
								} else{
									//it's a fixed number
									console.log("fixed number");
									dmgAdd = dmgSplit[1];
									maxWpnDamage = maxWpnDamage+parseInt(dmgSplit[i]);
								}				
							}
							
							console.log("maxWpnDmagae "+maxWpnDamage);	
							//get max damage bonus
							//maxDb
							//damBonus
							if (damBonus !== 0){
								let dieDB = damBonus.split("D");
								console.log("dieDb 1 "+dieDB[0]);
								console.log("dieDB 2 "+dieDB[1]);
								maxDB = parseInt(dieDB[0])*parseInt(dieDB[1]);
							} else {
								maxDB = 0;
							}
							console.log("maxDB "+maxDB);
							if (spcl === 1 || spcl === 2){
								cDamage = (2*maxWpnDamage)+"+"+damBonus;
								console.log("cDamage: "+cDamage);
								if (dmgAdd > 0){
								console.log("negDam "+negDam);
									if (negDam==1){
										sDamage = (dieNo*2)+"D"+dieSide+"+"+(2*dmgAdd)+"-1D4";
									} else {
										sDamage = (dieNo*2)+"D"+dieSide+"+"+(2*dmgAdd)+"+"+damBonus;
									}
								} else {
									if (negDam==1){
										sDamage = (dieNo*2)+"D"+dieSide+"-1D4";
									} else {
										sDamage = (dieNo*2)+"D"+dieSide+"+"+damBonus;
									}	
								}							
								console.log("sDamage: "+sDamage);
							} else if (spcl === 3){
								cDamage = maxWpnDamage+(maxDB*2);
								console.log("cDamage: "+cDamage);
								sDamage = wpnDamage+"+"+damBonus+"+"+maxDB;
								console.log("sDamage: "+sDamage);
								
							}						
					} else { // Special not set
						cDamage=damage;
						sDamage=damage	
					}							
					let attrsToSet = {};
					let cStr = "repeating_mounts_critdamage"+source;
					attrsToSet[cStr] = cDamage;
					let sStr = "repeating_mounts_spcldamage"+source;
					attrsToSet[sStr] = sDamage;
					console.log("attrsToSet");
					console.log(attrsToSet);		
					setAttrs(attrsToSet);
							
				});					
			});
			
			on("change:wpn_damage1a1 change:wpn_spl1a1 change:wpn_damage1a2 change:wpn_spl1a2 change:wpn_damage1a3 change:wpn_spl1a3", function(eventInfo) {
				let sourceA = eventInfo.sourceAttribute.split("_");
				var source = sourceA[sourceA.length - 1];
				source = source.slice(-3)
				
				getAttrs(["wpn_damage"+source,"wpn_spl"+source], function(values) {
					console.log(values);
					console.log("source "+source);
					let spcl = parseInt(values["wpn_spl"+source]);
					let damage=values["wpn_damage"+source];
					damage=damage.toUpperCase();
					let negDam=0; 
					if (damage.includes("-1D4")){
						negDam=1;				
					} 
					damage=damage.replace("-1D4","");
					let wpnDamage = "";
					let damBonus= 0;
					let dmgSplit = "";
					let maxWpnDamage = 0;
					let maxDB=0;
					let dieNo = 0
					let dieSide = 0
					let dmgAdd = 0;
					let sDamage = "";
					
					
					if ( spcl !== 0){
							//If thre are two d's there is a damage bonus
							let dnumber  = (damage.match(/D/g) || []).length;
							if (dnumber > 1 ){
								//split the weapon damage and the dmabe bonus
								console.log("there is a damage bonus");
									dmgSplit = damage.split("+")	
									console.log("dmgSplit "+dmgSplit);
								if (dmgSplit[dmgSplit.length-1].includes("D")){
									damBonus = dmgSplit[dmgSplit.length-1];
									console.log("damBonus "+damBonus);
									console.log("array length "+dmgSplit.length);
									/*for (let i = 0; i <= dmgSplit.length-2; i++)*/
									for (let i = 0; i <= dmgSplit.length-2; i++)
									{
										console.log("marker 1");
										console.log("I "+i);
										
										if (wpnDamage.length > 0){
											wpnDamage = wpnDamage+"+";
										}
										wpnDamage = wpnDamage + dmgSplit[i];							
									}
								}
							} else {
								console.log("No damage bonus");
								wpnDamage = damage
							}
							console.log("wpn damage "+wpnDamage);
							console.log("damage bonus"+damBonus);
							//generate max wpn damage
							dmgSplit = wpnDamage.split("+")
							console.log("dmgSplit"+dmgSplit);
							for (let i = 0; i <= dmgSplit.length-1; i++){
								//maxWpnDamage
								if (dmgSplit[i].includes("D")){
									// it's is a die roll
									console.log("die");
									let die = dmgSplit[i].split("D");
									dieNo = die[0];
									dieSide = die[1];
									console.log("die 1 "+die[0]);
									console.log("die 2 "+die[1]);
									maxWpnDamage = maxWpnDamage + parseInt(die[0])*parseInt(die[1]);
								} else{
									//it's a fixed number
									console.log("fixed number");
									dmgAdd = dmgSplit[1];
									maxWpnDamage = maxWpnDamage+parseInt(dmgSplit[i]);
								}				
							}
							
							console.log("maxWpnDmagae "+maxWpnDamage);	
							//get max damage bonus
							//maxDb
							//damBonus
							if (damBonus !== 0){
								let dieDB = damBonus.split("D");
								console.log("dieDb 1 "+dieDB[0]);
								console.log("dieDB 2 "+dieDB[1]);
								maxDB = parseInt(dieDB[0])*parseInt(dieDB[1]);
							} else {
								maxDB = 0;
							}
							console.log("maxDB "+maxDB);
							if (spcl === 1 || spcl === 2){
								cDamage = (2*maxWpnDamage)+"+"+damBonus;
								console.log("cDamage: "+cDamage);
								if (dmgAdd > 0){
								console.log("negDam "+negDam);
									if (negDam==1){
										sDamage = (dieNo*2)+"D"+dieSide+"+"+(2*dmgAdd)+"-1D4";
									} else {
										sDamage = (dieNo*2)+"D"+dieSide+"+"+(2*dmgAdd)+"+"+damBonus;
									}
								} else {
									if (negDam==1){
										sDamage = (dieNo*2)+"D"+dieSide+"-1D4";
									} else {
										sDamage = (dieNo*2)+"D"+dieSide+"+"+damBonus;
									}	
								}							
								console.log("sDamage: "+sDamage);
							} else if (spcl === 3){
								cDamage = maxWpnDamage+(maxDB*2);
								console.log("cDamage: "+cDamage);
								sDamage = wpnDamage+"+"+damBonus+"+"+maxDB;
								console.log("sDamage: "+sDamage);
								
							}						
					} else { // Special not set
						cDamage=damage;
						sDamage=damage	
					}							
					let attrsToSet = {};
					let cStr = "critdamage"+source;
					attrsToSet[cStr] = cDamage;
					let sStr = "spcldamage"+source;
					attrsToSet[sStr] = sDamage;
					console.log("attrsToSet");
					console.log(attrsToSet);		
					setAttrs(attrsToSet);
							
				});					
			});		

			on("change:repeating_npcwpns:wpn_damage change:repeating_npcwpns:wpn_spl", function(eventInfo) {
			
				getAttrs(["repeating_npcwpns_wpn_damage","repeating_npcwpns_wpn_spl"], function(values) {
					console.log(values);

					let spcl = parseInt(values.repeating_npcwpns_wpn_spl);
					let damage=values.repeating_npcwpns_wpn_damage;
					damage=damage.toUpperCase();
					let negDam=0; 
					if (damage.includes("-1D4")){
						negDam=1;				
					} 
					damage=damage.replace("-1D4","");
					let wpnDamage = "";
					let damBonus= 0;
					let dmgSplit = "";
					let maxWpnDamage = 0;
					let maxDB=0;
					let dieNo = 0
					let dieSide = 0
					let dmgAdd = 0;
					let sDamage = "";
					console.log("spcl "+spcl);
					
					if ( spcl !== 0){
							//If thre are two d's there is a damage bonus
							let dnumber  = (damage.match(/D/g) || []).length;
							if (dnumber > 1 ){
								//split the weapon damage and the dmabe bonus
								console.log("there is a damage bonus");
									dmgSplit = damage.split("+")	
									console.log("dmgSplit "+dmgSplit);
								if (dmgSplit[dmgSplit.length-1].includes("D")){
									damBonus = dmgSplit[dmgSplit.length-1];
									console.log("damBonus "+damBonus);
									console.log("array length "+dmgSplit.length);
									/*for (let i = 0; i <= dmgSplit.length-2; i++)*/
									for (let i = 0; i <= dmgSplit.length-2; i++)
									{
										console.log("marker 1");
										console.log("I "+i);
										
										if (wpnDamage.length > 0){
											wpnDamage = wpnDamage+"+";
										}
										wpnDamage = wpnDamage + dmgSplit[i];							
									}
								}
							} else {
								console.log("No damage bonus");
								wpnDamage = damage
							}
							console.log("wpn damage "+wpnDamage);
							console.log("damage bonus"+damBonus);
							//generate max wpn damage
							dmgSplit = wpnDamage.split("+")
							console.log("dmgSplit"+dmgSplit);
							for (let i = 0; i <= dmgSplit.length-1; i++){
								//maxWpnDamage
								if (dmgSplit[i].includes("D")){
									// it's is a die roll
									console.log("die");
									let die = dmgSplit[i].split("D");
									dieNo = die[0];
									dieSide = die[1];
									console.log("die 1 "+die[0]);
									console.log("die 2 "+die[1]);
									maxWpnDamage = maxWpnDamage + parseInt(die[0])*parseInt(die[1]);
								} else{
									//it's a fixed number
									console.log("fixed number");
									dmgAdd = dmgSplit[1];
									maxWpnDamage = maxWpnDamage+parseInt(dmgSplit[i]);
								}				
							}
							
							console.log("maxWpnDmagae "+maxWpnDamage);	
							//get max damage bonus
							//maxDb
							//damBonus
							if (damBonus !== 0){
								let dieDB = damBonus.split("D");
								console.log("dieDb 1 "+dieDB[0]);
								console.log("dieDB 2 "+dieDB[1]);
								maxDB = parseInt(dieDB[0])*parseInt(dieDB[1]);
							} else {
								maxDB = 0;
							}
							console.log("maxDB "+maxDB);
							if (spcl === 1 || spcl === 2){
								cDamage = (2*maxWpnDamage)+"+"+damBonus;
								console.log("cDamage: "+cDamage);
								if (dmgAdd > 0){
								console.log("negDam "+negDam);
									if (negDam==1){
										sDamage = (dieNo*2)+"D"+dieSide+"+"+(2*dmgAdd)+"-1D4";
									} else {
										sDamage = (dieNo*2)+"D"+dieSide+"+"+(2*dmgAdd)+"+"+damBonus;
									}
								} else {
									if (negDam==1){
										sDamage = (dieNo*2)+"D"+dieSide+"-1D4";
									} else {
										sDamage = (dieNo*2)+"D"+dieSide+"+"+damBonus;
									}	
								}							
								console.log("sDamage: "+sDamage);
							} else if (spcl === 3){
								cDamage = maxWpnDamage+(maxDB*2);
								console.log("cDamage: "+cDamage);
								sDamage = wpnDamage+"+"+damBonus+"+"+maxDB;
								console.log("sDamage: "+sDamage);
								
							}						
					} else { // Special not set
						cDamage=damage;
						sDamage=damage	
					}							
					let attrsToSet = {};
					let cStr = "repeating_npcwpns_critdamage";
					attrsToSet[cStr] = cDamage;
					let sStr = "repeating_npcwpns_spcldamage";
					attrsToSet[sStr] = sDamage;
					console.log("attrsToSet");
					console.log(attrsToSet);		
					setAttrs(attrsToSet);
							
				});					
			});
					
				//spirit combat damage
				on("change:npc1a_pow change:npc1a_cha", function() {
					getAttrs(["npc1a_pow","npc1a_cha"], function(pvalue) {

						
						var charPow = parseInt(pvalue.npc1a_pow);
						var charChr = parseInt(pvalue.npc1a_cha);	
						var hr = 0;
						var sprtCbtDam = "";
						console.log("!!!!!!!!!!! "+(charPow+charChr));
						if (charPow+charChr < 13){
							 <!-- 2-12-->
								sprtCbtDam = "1D3";
							
						} else if (charPow+charChr < 25){
							<!-- 13-24 -->
								sprtCbtDam = "1D6";

							
						} else if (charPow+charChr < 33){
						
							<!-- 25-32-->
								sprtCbtDam = "1D6+1";


						} else if (charPow+charChr < 41){
							<!-- 33-40-->						
								sprtCbtDam = "1D6+3";

							
						} else if (charPow+charChr < 57){
							<!-- 41- 56 -->	
								sprtCbtDam = "2D6+3";
						} else {
						
							var val = (2 + Math.ceil(((charPow+charChr)-56)/16));
							sprtCbtDam = val+"D6+"+(val+2);				
						}				
										
						setAttrs({sprt_cmbt_damagenpc:sprtCbtDam});
					   

					});
				});			
						
			
			
	</script>
			<!-- new Roll templates -->
			
			<rolltemplate class="sheet-rolltemplate-damageRoll">
			
				<div style="text-align: center;	color: #ffffff;  background-color: #000000;">{{name}}</div>
				<div style="text-align: center;	color: #ffffff;  background-color: #000000;" data-i18n="Rolls" >Rolls</div>
			
			
			<table class="sheet-damageRoll" style="width: 100%; border 1px black">
				<!--<tr><th>{{name}}</th></tr>-->

				<!--<tr><td>{{crit}}/{{special}}/{{fumble}} </td></tr>-->
				<tr>
					<td>&nbsp;<td>
				</tr>
				<tr>
					<td colspan="2" class="sheet-template_label"><b>{{skillname}}</b><b data-i18n="Damage">Damage:</b> &nbsp;{{roll}}</td> 
				</tr>

			</table>		
			</rolltemplate>
			
			<rolltemplate class="sheet-rolltemplate-damageRoll2">
			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
			<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
			<div style="background-color:white;text-align:center" class="sheet-template_label"><b>{{skillname}}</b>&nbsp;<b data-i18n="Damage">Damage:</b> &nbsp;{{roll}}</div> 
			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />		
			</rolltemplate>		
			
			
			
	<!-- 
	&{template:turnOrder} {{name=character_name}} {{weapon=@{weapon_type}} {{sr=[[@{total_wpn_sr} &{tracker}]}} [[@{total_wpn_sr} &{tracker}]
	-->

			
	<rolltemplate class="sheet-rolltemplate-turnOrder">	
	<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
	<span  data-i18n="Add">Add</span> {{name}} {{weapon}}
	<div  style="display:inline-block" data-i18n="to-Turn-Order-SR">to Turn Order SR</div>{{sr2}}
	<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
	</rolltemplate>		
			
	<rolltemplate class="sheet-rolltemplate-melee-roll2">
			<!--awaqsdasd {{mntTogVal}}</br/>
			Mount damage {{mntTot}}</br/>
			mount spcl {{mntSpcl}}</br/>
			mount crit {{mntCrit}}</br/>
			
			tot {{tot}}
			critSI {{critSI}}
			spcl {{spclDam}}
			fumble {{fumble}}-->
			

	<!--skillvalue {{skillvalue}}
	fumble {{fumble}}
	crit {{crit}}
	special {{special}}
	success {{success}}-->


			

			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
			<div style="border: 1px solid black ">
			
			<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
			<!--<div style="background-color:white;color:#b87a38;text-align:center" >Crit {{crit}}</div>-->
			<div style="background-color:white;color:#b87a38;text-align:center">{{skillname}} <span data-i18n="Roll">Roll</span></div>

			<div style="padding-top:5px;background-color:white">	
				<div style="text-align:center"><b  data-i18n="Rolls">Rolls:</b>   &nbsp;{{roll}} < = {{success}}%</div> 
				<div style="text-align:center"><b   data-i18n="Result">Result:</b>
					{{#rollBetween() roll fumble 100}} 
							<span data-i18n="Fumble">Fumble</span>
					{{/rollBetween() roll fumble 100}} 
					
					{{#^rollBetween() roll fumble 100}}
					
						{{#rollGreater() success 99}}
							{{#rollLess() roll crit}}<span data-i18n="Critical">Critical!!!!!!</span>{{/rollLess() roll crit}}
							{{#^rollLess() roll crit}}
								{{#rollLess() roll special}}<span data-i18n="Special">Special!!!</span>{{/rollLess() roll special}}
								{{#rollGreater() roll 95}}<span data-i18n="Failure">Failure</span>{{/rollGreater() roll 95}}
								{{#^rollGreater() roll 95}}
									{{#^rollLess() roll special}}<span data-i18n="Success">Success</span>{{/^rollLess() roll special}}
								{{/^rollGreater() roll 95}}
								
							{{/^rollLess() roll crit}}

						{{/rollGreater() success 99}}
						
						{{#^rollGreater() success 99}}
							{{#rollLess() roll crit}}<span data-i18n="Critical">Critical!!!!!!</span>{{/rollLess() roll crit}}
							{{#^rollLess() roll crit}}
								{{#rollLess() roll special}}<span data-i18n="Special">Special!!!</span>{{/rollLess() roll special}}
								{{#^rollLess() roll special}}
								
									{{#rollGreater() roll 95}}<span data-i18n="Failure">Failure</span>{{/rollGreater() roll 95}}
									{{#^rollGreater() roll 95}}
										{{#rollBetween() roll special success}}<span data-i18n="Success">Success</span>{{/rollBetween() roll special success}}
									{{/^rollGreater() roll 95}}
									
									{{#^rollBetween() roll special success}}
										{{#rollLess() roll fumble}}
											{{#^rollGreater() roll 95}}
												<span data-i18n="Failure">Failure</span>
											{{/^rollGreater() roll 95}}
										{{/rollLess() roll fumble}}
										{{#^rollLess() roll fumble}}
												<span data-i18n="Fumble">Fumble</span>
										{{/^rollLess() roll fumble}}							
									{{/^rollBetween() roll special success}}											
								{{/^rollLess() roll special}}
							{{/^rollLess() roll crit}}
						{{/^rollGreater() success 99}}
						
						
						
					{{/^rollBetween() roll fumble 100}}			
						
					</div>
					<div  style="text-align:center;background-color:white">
						{{#^rollGreater() roll 95}}
						{{#rollLess() roll success}}
						

							{{#rollLess() roll crit}}
								{{#rollTotal() type 2}}

										<b data-i18n="Damage">Damage:</b> <b data-i18n-title="Maximum" title="Maximum"  data-i18n="M">M</b>:{{critCrsh}} <b  data-i18n-title="Special" title="Special"   data-i18n="S">S</b>:{{crshDam}} <b data-i18n-title="Special" title="Normal"  data-i18n="N">N</b>:{{tot}}					

								{{/rollTotal() type 2}}	
								{{#^rollTotal() type 2}}
									
										
										<b data-i18n="Damage">Damage:</b>
										{{#rollTotal() mntTogVal 0}}								
											<b data-i18n-title="Maximum" title="Maximum"  data-i18n="M">M</b>:{{critSI}}<b  data-i18n-title="Special" title="Special"   data-i18n="S">S</b>:{{spclDam}} <b data-i18n-title="Special" title="Normal"  data-i18n="N">N</b>:{{tot}}
										{{/rollTotal() mntTogVal 0}}
										{{#rollTotal() mntTogVal 1}}							
											<b data-i18n-title="Maximum" title="Maximum"  data-i18n="M">M</b>:{{mntCrit}} <b  data-i18n-title="Special" title="Special"   data-i18n="S">S</b>:{{mntSpcl}}  <b data-i18n-title="Special" title="Normal"  data-i18n="N">N</b>:{{mntTot}}
										{{/rollTotal() mntTogVal 1}}
										
									
								{{/^rollTotal() type 2}}
							{{/rollLess() roll crit}}
						
							{{#^rollLess() roll crit}}

								{{#rollLess() roll special}}						

									{{#rollTotal() type 2}}
									
											<b data-i18n="Damage">Damage:</b>  <b  data-i18n-title="Special" title="Special"   data-i18n="S">S</b>:{{crshDam}}	<b data-i18n-title="Special" title="Normal"  data-i18n="N">N</b>:{{tot}}				
									{{/rollTotal() type 2}}	
									{{#^rollTotal() type 2}}
									
										
										<b data-i18n="Damage">Damage:</b>
										{{#rollTotal() mntTogVal 0}}	
											 <b  data-i18n-title="Special" title="Special"   data-i18n="S">S</b>:{{spclDam}} <b data-i18n-title="Special" title="Normal"  data-i18n="N">N</b>:{{tot}}
										{{/rollTotal() mntTogVal 0}}	
										{{#rollTotal() mntTogVal 1}}							
											<b  data-i18n-title="Special" title="Special"   data-i18n="S">S</b>:{{mntSpcl}} <b data-i18n-title="Special" title="Normal"  data-i18n="N">N</b>:{{mntTot}}
										{{/rollTotal() mntTogVal 1}}								
										
									{{/^rollTotal() type 2}}
								{{/rollLess() roll special}}
							{{/^rollLess() roll crit}}
						
						
						
							{{#^rollLess() roll special}}
								
									<b data-i18n="Damage">Damage:</b>
									{{#rollTotal() mntTogVal 0}}							
										{{tot}}
									{{/rollTotal() mntTogVal 0}}													
									{{#rollTotal() mntTogVal 1}}							
										{{mntTot}}
									{{/rollTotal() mntTogVal 1}}	

							{{/^rollLess() roll special}}
						{{/rollLess() roll success}}
						{{#rollTotal() roll success}}


								<b data-i18n="Damage">Damage:</b>
								{{#rollTotal() mntTogVal 0}}							
									{{tot}}
								{{/rollTotal() mntTogVal 0}}													
								{{#rollTotal() mntTogVal 1}}							
									{{mntTot}}
								{{/rollTotal() mntTogVal 1}}	
						{{/rollTotal() roll success}}			
						{{/^rollGreater() roll 95}}

					</div>
				</div>
				<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
			<div style="border: 1px solid black ">
		</rolltemplate>
		
		
		<rolltemplate class="sheet-rolltemplate-RQG-Fumble">
			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
			<div style="border: 1px solid black ">
			<div style="background-color:white;color:#b87a38;text-align:center" ><span data-i18n="Fumble">Fumble</span></div>

			<div style="padding-top:5px;background-color:white">	

			{{#rollBetween() roll 1 5}}<span data-i18n="Fumble1" >Lose next parry</span>{{/rollBetween() roll 1 5}}
			{{#rollBetween() roll 6 10}}<span data-i18n="Fumble2" >Lose next attack</span>{{/rollBetween() roll 6 10}}
			{{#rollBetween() roll 11 15}}<span data-i18n="Fumble3" >Lose next attack and parry</span>{{/rollBetween() roll 11 15}}
			{{#rollBetween() roll 16 20}}<span data-i18n="Fumble4" >Lose next attack, parry, and any Dodge.</span>{{/rollBetween() roll 16 20}}
			{{#rollBetween() roll 21 25}}<span data-i18n="Fumble5" >Lose next 1D3 attacks.</span>{{/rollBetween() roll 21 25}}
			{{#rollBetween() roll 26 30}}<span data-i18n="Fumble6" >Lose next 1D3 attacks and parries.</span>{{/rollBetween() roll 26 30}}
			{{#rollBetween() roll 31 35}}<span data-i18n="Fumble7" >Shield strap breaks; lose shield immediately.</span>{{/rollBetween() roll 31 35}}
			{{#rollBetween() roll 36 40}}<span data-i18n="Fumble8" >Shield strap breaks; lose shield, and lose next attack.</span>{{/rollBetween() roll 36 40}}
			{{#rollBetween() roll 41 45}}<span data-i18n="Fumble9" >Armor strap breaks and armor comes lose (roll for hit location to determine which piece of armor is lost).</span>{{/rollBetween() roll 41 45}}
			{{#rollBetween() roll 46 50}}<span data-i18n="Fumble10" >Armor strap breaks, as above, and lose next attack and parry.</span>{{/rollBetween() roll 46 50}}
			{{#rollBetween() roll 51 55}}
				<span data-i18n="Fumble11" >Fall and lose parry this round (takes 1D3 rounds to get up).</span>
			{{/rollBetween() roll 51 55}}
			{{#rollBetween() roll 56 60}}
				<span data-i18n="Fumble12" >Twist ankle; lose half movement rate for 5D10 rounds.</span>
			{{/rollBetween() roll 56 60}}
			{{#rollBetween() roll 61 63}}<span data-i18n="Fumble13" >Fall and lose parry this round (takes 1D3 rounds to get up). <br>Twist ankle; lose half movement rate for 5D10 rounds.</span>{{/rollBetween() roll 61 63}}
			{{#rollBetween() roll 64 67}}<span data-i18n="Fumble14" >Vision impaired; lose 25% effectiveness on attacks and parries (takes 1D3 rounds unengaged to clear vision).</span>{{/rollBetween() roll 64 67}}
			{{#rollBetween() roll 68 70}}<span data-i18n="Fumble15" >Vision impaired; lose 50% effectiveness on attacks and parries (takes 1D6 rounds unengaged to clear vision).</span>{{/rollBetween() roll 68 70}}
			{{#rollBetween() roll 71 72}}<span data-i18n="Fumble16" >Vision blocked; lose all attacks and parries (takes 1D6 rounds unengaged to clear vision).</span>{{/rollBetween() roll 71 72}}
			{{#rollBetween() roll 73 74}}<span data-i18n="Fumble17" >Distracted; foes attack at +25% effectiveness for next round.</span>{{/rollBetween() roll 73 74}}
			{{#rollBetween() roll 75 78}}<span data-i18n="Fumble18" ><b>Attack:</b> Weapon used in attack dropped (takes 1D3 rounds to recover).
		<br/><b>Parry:</b> Parrying weapon or shield dropped (takes 1D3 rounds to recover).</span>{{/rollBetween() roll 75 78}}
			{{#rollBetween() roll 79 82}}<span data-i18n="Fumble19" ><b>Attack:</b> Weapon knocked away (roll 1D6 for number of meters it travels, and roll 1D8 for compass direction it goes;with 1=north, 2=northeast, 3=east, 4=southeast, 5=south, 6=southwest, 7=west, 8=northwest).<br><b>Parry:</b> Parrying weapon or shield knocked away (roll 1D6 for number of meters it travels and 1D8 for compass	direction it goes, as above).</span>{{/rollBetween() roll 79 82}}
			{{#rollBetween() roll 83 86}}<span data-i18n="Fumble20" ><b>Attack:</b> Weapon shattered (100% chance if unenchanted; 10% less for each point of battle magic spell on weapon,
		and 20% less for each point of Rune magic spell on weapon).
		Parry: Parrying weapon or shield shattered (100% if unenchanted; 10% less for each point of battle magic on object,
		and 20% less for each point of Rune magic.)</span>{{/rollBetween() roll 83 86}}
			{{#rollBetween() roll 87 89}}
				<span data-i18n="Fumble21" ><b>Attack:</b> Hit nearest friend (hit self if no friend near); do rolled damage.
		<br><b>Parry:</b> Wide open; foe automatically hits with normal damage.</span>
		{{/rollBetween() roll 87 89}}
			{{#rollBetween() roll 90 91}}<span data-i18n="Fumble22" ><b>Attack:</b> Hit nearest friend (hit self if no friend near); do full possible damage.
		<br><b>Parry:</b> Wide open; foe automatically hits with normal damage.</span>{{/rollBetween() roll 90 91}}
			{{#rollTotal() roll 92}}<span data-i18n="Fumble23" ><b>Attack:</b> Hit nearest friend (hit self if no friend near); do critical hit.
		<br><b>Parry:</b> Wide open; foe automatically hits with normal damage.</span>{{/rollTotal() roll 92}}
			{{#rollBetween() roll 93 95}}<span data-i18n="Fumble24" ><b>Attack:</b> Hit self; do rolled damage.
		<br><b>Parry:</b> Wide open; foe automatically hits with full possible damage.</span>{{/rollBetween() roll 93 95}}
			{{#rollBetween() roll 96 97}}<span data-i18n="Fumble25" ><b>Attack:</b> Hit self; do full possible damage.
		<br><b>Parry:</b> Wide open; foe automatically critical hits.</span>{{/rollBetween() roll 96 97}}
			{{#rollTotal() roll 98}}<span data-i18n="Fumble26" ><b>Attack:</b> Hit self; do critical hit.
		<br><b>Parry:</b> Wide open; foe automatically critical hits.</span>{{/rollTotal() roll 98}}
			{{#rollTotal() roll 99}}<span data-i18n="Fumble27" >Blow it; roll twice on this table, and apply both results. If this result is rolled again, continue rolling until two other
		results are achieved.</span>{{/rollTotal() roll 99}}
			{{#rollTotal() roll 100}}<span data-i18n="Fumble28" >Blow it badly; roll three times on this table, and apply all three results. If this result is rolled again, continue rolling
		until three other results are achieved.</span>{{/rollTotal() roll 100}}

			</div>
		</div>	
		<img style="margin-top:-2px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />	
		</rolltemplate>

		
		<rolltemplate class="sheet-rolltemplate-expRoll">
			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
			<div style="border: 1px solid black ">
			
			<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
			<div style="background-color:white;color:#b87a38;text-align:center" >{{skill}} <span data-i18n="Experience-Roll" >Experience Roll</span></div>	


			<div style="padding-top:5px;baCkground-color:white">
					
				<div style="text-align:center"><b>Roll:</b>{{roll}} >= {{value}}</div> 
				{{#rollGreater() roll value}}
					<div style="background-color:white;color:#b87a38;text-align:center" ><span data-i18n="Increase-Skill" >Increase Skill</span></div>					
				{{/rollGreater() roll value}}
				{{#^rollGreater() roll value}}
					{{#rollTotal() roll value}}
						<div style="background-color:white;color:#b87a38;text-align:center" ><span data-i18n="Increase-Skill" >Increase Skill</span></div>					
					{{/rollTotal() roll value}}
					{{#^rollTotal() roll value}}
						<div style="background-color:white;color:#b87a38;text-align:center" ><span data-i18n="Failed-to-Increase-Skill" >Failed to Increase Skill</span></div>
					{{/^rollTotal() roll value}}					
				{{/^rollGreater() roll value}}			
				
			</div>	
			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
		</rolltemplate>	

			<!--end new rolltemplates -->
			<!--old templates -->
		<rolltemplate class="sheet-rolltemplate-melee-roll">
		<table class="sheet-skillRoll" style="border 1px black">
			<tr><th colspan="2">{{name}}</th></tr>
			<tr><th colspan="2"><span data-i18n="Weapon-Roll">Weapon Roll</span></th></tr>
			 <!--<tr><td>{{crit}}/{{special}}/{{fumble}}</td></tr>-->

				<tr>
					<td class="sheet-template_label">{{skillname}} {{skillvalue}}% </td> 
					<td class="sheet-template_value"> ({{success}}%)</td>
				</tr>
				<!--<tr><td colspan="2">Crit <span style="color:white">{{crit}}</span></td></tr>-->
				
			<!--<tr>
				Fumble {{fumble}}
			</tr>
			<tr>
				crit {{crit}}
			</tr>
			<tr>
				special {{special}}
			</tr>
			<tr>
				success {{success}}
			</tr>-->
			
			<tr>
				<td class="sheet-template_label"><b><span  data-i18n="Rolls">Rolls</span></b></td>
				<td class="sheet-template_value">&nbsp;{{roll}}</td>
			</tr>
			<tr>
			 <td class="sheet-template_label"><b><span data-i18n="Result">Result</span></b></td>
			 
			{{#rollBetween() roll fumble 100}} 
					<td class="sheet-template_value"><span data-i18n="Fumble">Fumble</span></td>
			{{/rollBetween() roll fumble 100}} 
			
			{{#^rollBetween() roll fumble 100}}
			
				{{#rollGreater() success 99}}
					{{#rollLess() roll crit}}<td class="sheet-template_value">Critical!!!!!!</td>{{/rollLess() roll crit}}
					{{#^rollLess() roll crit}}
						{{#rollLess() roll special}}<td class="sheet-template_value">Special!!!</td>{{/rollLess() roll special}}
						{{#^rollLess() roll special}}<td class="sheet-template_value">Success</td>{{/^rollLess() roll special}}
					{{/^rollLess() roll crit}}

				{{/rollGreater() success 99}}
				
				{{#^rollGreater() success 99}}
					{{#rollLess() roll crit}}<td class="sheet-template_value"><span data-i18n="Critical">Critical!!!!!!</span></td>{{/rollLess() roll crit}}
					{{#^rollLess() roll crit}}
						{{#rollLess() roll special}}<td class="sheet-template_value"><span data-i18n="Special">Special!!!</span></td>{{/rollLess() roll special}}
						{{#^rollLess() roll special}}
							{{#rollBetween() roll special success}}<td class="template_value"><span data-i18n="Success">Success</span></td>{{/rollBetween() roll special success}}
							{{#^rollBetween() roll special success}}
								{{#rollLess() roll fumble}}
									<td class="sheet-template_value"><span data-i18n="Failure">Failure</span></td>
								{{/rollLess() roll fumble}}
								{{#^rollLess() roll fumble}}
									<td class="sheet-template_value"><span data-i18n="Fumble">Fumble</span></td>
								{{/^rollLess() roll fumble}}							
							{{/^rollBetween() roll special success}}											
						{{/^rollLess() roll special}}
					{{/^rollLess() roll crit}}
				{{/^rollGreater() success 99}}
			{{/^rollBetween() roll fumble 100}}
		
			{{#rollLess() roll success}}
				<tr>
					<td class="sheet-template_label"><b data-i18n="Damage">Damage:</b></td>
					<td style="text-align: right"; class="sheet-template_value">{{tot}}<td>
				</tr>
			{{/rollLess() roll success}}
		</table>
	</rolltemplate>






	<rolltemplate class="sheet-rolltemplate-HL-Melee">
		<div class="sheet-loc_wrapper">
			<div class="sheet-template_header"><span data-i18n="Human-Hit-location-roll">Human Hit location roll</span></div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
			<span class="sheet-template_label">
				{{#rollBetween() roll 1 4}}<span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span>{{/rollBetween() roll 1 4}}
				{{#rollBetween() roll 5 8}}<span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span>{{/rollBetween() roll 5 8}}
				{{#rollBetween() roll 9 11}}<span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span>{{/rollBetween() roll 9 11}}
				{{#rollTotal() roll 12}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollTotal() roll 12}}
				{{#rollBetween() roll 13 15}}<span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span>{{/rollBetween() roll 13 15}}
				{{#rollBetween() roll 16 18}}<span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span>{{/rollBetween() roll 16 18}}
				{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}
			</span>
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-HL-Missle">
		<table class="sheet-skillRoll" style="border 1px black">
			<tr><th colspan="2">Human Missle Hit location roll</th></tr>
			<tr>
			<td>{{roll}}&nbsp;</td>
			{{#rollBetween() roll 1 3}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span></td>{{/rollBetween() roll 1 3}}
			{{#rollBetween() roll 4 6}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span></td>{{/rollBetween() roll 4 6}}
			{{#rollBetween() roll 7 10}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span></td>{{/rollBetween() roll 7 10}}
			{{#rollBetween() roll 11 15}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Chest">Hit on the Chest</span></td>{{/rollBetween() roll 11 15}}
			{{#rollBetween() roll 16 17}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span></td>{{/rollBetween() roll 16 17}}
			{{#rollBetween() roll 18 19}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span></td>{{/rollBetween() roll 18 19}}
			{{#rollTotal() roll 20}}
				<td class="sheet-template_value"><span data-i18n="Hit-on-the-Head">Hit on the Head</span></td>
			{{/rollTotal() roll 20}}		
			</tr>
		</table>
	</rolltemplate>


	<rolltemplate class="sheet-rolltemplate-FLL-Missle">
		<table class="sheet-skillRoll" style="border 1px black">
			<tr><th colspan="2"><span data-i18n="Four-legged-Missle-Hit-location-roll">Four-legged Missle Hit location roll</span></th></tr>
			<tr>
			<td>{{roll}}&nbsp;</td>		
			{{#rollBetween() roll 1 2}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span></td>{{/rollBetween() roll 1 2}}
			{{#rollBetween() roll 3 4}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span></td>{{/rollBetween() roll 3 4}}
			{{#rollBetween() roll 5 9}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span></td>{{/rollBetween() roll 5 9}}
			{{#rollBetween() roll 10 14}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span></td>{{/rollBetween() roll 10 14}}
			{{#rollBetween() roll 15 16}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span></td>{{/rollBetween() roll 15 16}}
			{{#rollBetween() roll 17 18}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span></td>{{/rollBetween() roll 17 18}}
			{{#rollBetween() roll 19 20}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Head">Hit on the Head</span></td>{{/rollBetween() roll 19 20}}		
			</tr>
		</table>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-FLL-Melee">
		<div class="sheet-loc_wrapper">		
			<div class="sheet-template_header">Four-legged Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 2}}<span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span>{{/rollBetween() roll 1 2}}
					{{#rollBetween() roll 3 4}}<span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span>{{/rollBetween() roll 3 4}}
					{{#rollBetween() roll 5 7}}
						<span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span>
					{{/rollBetween() roll 5 7}}
					{{#rollBetween() roll 8 10}}<span data-i18n="Hit-on-the-Fore-Q"><span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span>{{/rollBetween() roll 8 10}}
					{{#rollBetween() roll 11 13}}}<span data-i18n="Hit-on-the-RF-Leg"><span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span>{{/rollBetween() roll 11 13}}
					{{#rollBetween() roll 14 16}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span>{{/rollBetween() roll 14 16}}
					{{#rollBetween() roll 17 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 17 20}}		
				</span>
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-SprulPaL-Melee">
		<div class="sheet-loc_wrapper">
			<div class="sheet-template_header">Sprul-Pa Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>		
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 4}}
						<span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span>
					{{/rollBetween() roll 1 4}}		
					{{#rollBetween() roll 5 8}}<span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span>{{/rollBetween() roll 5 8}}
					{{#rollBetween() roll 9 11}}<span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span>{{/rollBetween() roll 9 11}}
					{{#rollTotal() roll 12}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollTotal() roll 12}}
					{{#rollTotal() roll 13}}<span data-i18n="Hit-on-the-Lower-R-Arm">Hit on the Lower R Arm</span>{{/rollTotal() roll 13}}
					{{#rollTotal() roll 14}}<span data-i18n="Hit-on-the-Lower-L-Arm">Hit on the Lower L Arm</span>{{/rollTotal() roll 14}}		
					{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-Upper-R-Arm">Hit on the Upper R Arm</span>{{/rollBetween() roll 15 16}}
					{{#rollBetween() roll 17 18}}<span data-i18n="Hit-on-the-Upper-L-Arm">Hit on the Upper L Arm</span>{{/rollBetween() roll 17 18}}		
					{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}		
				</span>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-NewtL-Missle">
		<div class="sheet-loc_wrapper">
			<div class="sheet-template_header">Newtling Missle Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollTotal() roll 1}}Hit on the Tail{{/rollTotal() roll 1}}		
					{{#rollBetween() roll 2 4}<span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span>{{/rollBetween() roll 2 4}}
					{{#rollBetween() roll 5 7}}<span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span>{{/rollBetween() roll 5 7}}
					{{#rollBetween() roll 8 11}}<span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span>{{/rollBetween() roll 8 11}}
					{{#rollBetween() roll 12 15}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollBetween() roll 12 15}}
					{{#rollBetween() roll 16 17}}<span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span>{{/rollBetween() roll 16 17}}
					{{#rollBetween() roll 18 19}}<span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span>{{/rollBetween() roll 18 19}}
					{{#rollTotal() roll 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollTotal() roll 20}}		
				</span>
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-NewtL-Melee">
		<div class="sheet-loc_wrapper">
			<div class="sheet-template_header">Newtling Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
				{{#rollBetween() roll 1 2}}<span data-i18n="Hit-on-the-Tail">Hit on the Tail</span>{{/rollBetween() roll 1 2}}		
				{{#rollBetween() roll 3 5}}<span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span>{{/rollBetween() roll 3 5}}
				{{#rollBetween() roll 6 8}}<span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span>{{/rollBetween() roll 6 8}}
				{{#rollBetween() roll 9 11}}<span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span>{{/rollBetween() roll 9 11}}
				{{#rollTotal() roll 12}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollTotal() roll 12}}
				{{#rollBetween() roll 13 15}}<span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span>{{/rollBetween() roll 13 15}}
				{{#rollBetween() roll 16 18}}<span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span>{{/rollBetween() roll 16 18}}
				{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}
				</span>
			</div>
		</div>
	</rolltemplate>

		<rolltemplate class="sheet-rolltemplate-RockL-Melee">
			<div class="sheet-loc_wrapper">
				<div class="sheet-template_header">Rock Lizard Hit location roll</div>
				<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
					<span class="sheet-template_label">
						{{#rollBetween() roll 1 3}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tail">Hit on the Tail</span></td>{{/rollBetween() roll 1 3}}		
						{{#rollBetween() roll 4 5}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span></td>{{/rollBetween() roll 4 5}}
						{{#rollBetween() roll 6 7}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RH-Leg">Hit on the LH Leg</span></td>{{/rollBetween() roll 6 7}}
						{{#rollBetween() roll 8 11}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span></td>{{/rollBetween() roll 8 11}}
						{{#rollBetween() roll 12 15}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Fore-Q">Hit on the Fore Q</sp</td>{{/rollBetween() roll 12 15}}
						{{#rollTotal() roll 16}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span></td>{{/rollTotal() roll 16}}
						{{#rollTotal() roll 17}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span></td>{{/rollTotal() roll 17}}
						{{#rollBetween() roll 18 20}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Head">Hit on the Head</span></td>{{/rollBetween() roll 18 20}}		
					</span>	
				</div>
			</div>
		</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-WalkL-Melee">
		<div class="sheet-loc_wrapper">
			<div class="sheet-template_header">Walktapus Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
			<span class="sheet-template_label">		
				{{#rollBetween() roll 1 2}<span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span>{{/rollBetween() roll 1 2}}
				{{#rollBetween() roll 3 4}}<span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span>{{/rollBetween() roll 3 4}}
				{{#rollTotal() roll 5}}<span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span>{/rollTotal() roll 5}}
				{{#rollTotal() roll 6}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollTotal() roll 6}}		
				{{#rollBetween() roll 7 8}}<span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span>{{/rollBetween() roll 7 8}}
				{{#rollBetween() roll 9 10}}<span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span>{{/rollBetween() roll 9 10}}
				{{#rollTotal() roll 11}}<span data-i18n="Hit-on-the-Tentacle-1">Hit on the  Tentacle 1</span>{{/rollTotal() roll 11}}
				{{#rollTotal() roll 12}}<span data-i18n="Hit-on-the-Tentacle-2">Hit on the  Tentacle 2</span>{{/rollTotal() roll 12}}				
				{{#rollTotal() roll 13}}<span data-i18n="Hit-on-the-Tentacle-3">Hit on the  Tentacle 3</span>{{/rollTotal() roll 13}}				
				{{#rollTotal() roll 14}}<span data-i18n="Hit-on-the-Tentacle-4">Hit on the  Tentacle 4</span>{{/rollTotal() roll 14}}
				{{#rollTotal() roll 15}<span data-i18n="Hit-on-the-Tentacle-5">Hit on the  Tentacle 5</span>{{/rollTotal() roll 15}}
				{{#rollTotal() roll 16}}<span data-i18n="Hit-on-the-Tentacle-6">Hit on the  Tentacle 6</span>{{/rollTotal() roll 16}}				
				{{#rollTotal() roll 17}}<span data-i18n="Hit-on-the-Tentacle-7">Hit on the  Tentacle 7</span>{{/rollTotal() roll 17}}				
				{{#rollTotal() roll 18}}<span data-i18n="Hit-on-the-Tentacle-8">Hit on the  Tentacle 8</span>{{/rollTotal() roll 18}}				
				{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}		
				</span>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-WalkL-Missle">
		<table class="sheet-skillRoll" style="border 1px black">
			<tr><th colspan="2">Walktapus Missle Hit location roll</th></tr>
			<tr>
			<td>{{roll}}&nbsp;</td>
			{{#rollTotal() roll 1}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span></td>{{/rollTotal() roll 1}}		
			{{#rollTotal() roll 2}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span></td>{{/rollTotal() roll 2}}
			{{#rollBetween() roll 3 4}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span></td>{{/rollBetween() roll 3 4}}
			{{#rollBetween() roll 5 7}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Chest">Hit on the Chest</span></td>{{/rollBetween() roll 5 7}}
			{{#rollTotal() roll 8}}<td class="sheet-template_label">}<span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span></td>{{/rollTotal() roll 8}}		
			{{#rollTotal() roll 9}}<td class="sheet-template_label"}<span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span></td>{{/rollTotal() roll 9}}		
			{{#rollTotal() roll 10}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-1">Hit on the  Tentacle 1</span></td>{{/rollTotal() roll 10}}
			{{#rollTotal() roll 11}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-2">Hit on the  Tentacle 2</span></td>{{/rollTotal() roll 11}}				
			{{#rollTotal() roll 12}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-3"><span data-i18n="Hit-on-the-Tentacle-3">Hit on the  Tentacle 4</span></span></td>{{/rollTotal() roll 12}}				
			{{#rollTotal() roll 13}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-4"><span data-i18n="Hit-on-the-Tentacle-4">Hit on the  Tentacle 4</span></span></td>{{/rollTotal() roll 13}}
			{{#rollTotal() roll 14}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-5">Hit on the  Tentacle 5</span></td>{{/rollTotal() roll 14}}
			{{#rollTotal() roll 15}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-6">Hit on the  Tentacle 6</span></td>{{/rollTotal() roll 15}}				
			{{#rollTotal() roll 16}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-7">Hit on the  Tentacle 7</span></td>{{/rollTotal() roll 16}}				
			{{#rollTotal() roll 17}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tentacle-8">Hit on the  Tentacle 8</span></td>{{/rollTotal() roll 17}}				
			{{#rollBetween() roll 18 20}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Head">Hit on the Head</span></td>{{/rollBetween() roll 18 20}}		

			</tr>
		</table>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-ScorpL-Missle">
		<table class="sheet-skillRoll" style="border 1px black">
			<tr><th colspan="2">Scorpion Man Missle Hit location roll</th></tr>
			<tr>
			<td>{{roll}}&nbsp;</td>
			{{#rollTotal() roll 1}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span></td>{{/rollTotal() roll 1}}		
			{{#rollTotal() roll 2}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RC-Leg">Hit on the  RC Leg</span></td>{{/rollTotal() roll 2}}
			{{#rollTotal() roll 3}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span></td>{{/rollTotal() roll 3}}
			{{#rollTotal() roll 4}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span></td>{{/rollTotal() roll 4}}
			{{#rollTotal() roll 5}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-LC-Leg">Hit on the  LC Leg</span></td>{{/rollTotal() roll 5}}
			{{#rollTotal() roll 6}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span></td>{{/rollTotal() roll 6}}
			{{#rollTotal() roll 7}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Tail">Hit on the Tail</span></td>{{/rollTotal() roll 7}}						
			{{#rollBetween() roll 8 10}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-LF-Leg">Hit on the  Thorax<span></td>{{/rollBetween() roll 8 10}}		
			{{#rollBetween() roll 11 15}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Chest">Hit on the Chest</span></td>{{/rollBetween() roll 11 15}}		
			{{#rollBetween() roll 16 17}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span></td>{{/rollBetween() roll 16 17}}		
			{{#rollBetween() roll 18 19}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span></td>{{/rollBetween() roll 18 19}}		
			{{#rollTotal() roll 20}}<td class="sheet-template_label"><span data-i18n="Hit-on-the-Head">Hit on the Head</span></td>{{/rollTotal() roll 20}}		

			</tr>
		</table>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-ScorpL-Melee">
			<div class="sheet-loc_wrapper">
			<div class="sheet-template_header">Scorpion Man Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>		
				<span class="sheet-template_label">			
				{{#rollTotal() roll 1}}<span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span>{{/rollTotal() roll 1}}		
				{{#rollTotal() roll 2}}<span data-i18n="Hit-on-the-RC-Leg">Hit on the  RC Leg</span>{{/rollTotal() roll 2}}
				{{#rollBetween() roll 3 4}}<span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span>{{/rollBetween() roll 3 4}}
				{{#rollTotal() roll 5}}><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span>{{/rollTotal() roll 5}}
				{{#rollTotal() roll 6}}<span data-i18n="Hit-on-the-LC-Leg">Hit on the  LC Leg</span>{{/rollTotal() roll 6}}		
				{{#rollBetween() roll 7 8}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span>{{/rollBetween() roll 7 8}}		
				{{#rollBetween() roll 9 10}}<span data-i18n="Hit-on-the-Tail">Hit on the Tail</span>{{/rollBetween() roll 9 10}}		
				{{#rollBetween() roll 11 12}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the  Thorax<span>{{/rollBetween() roll 11 12}}		
				{{#rollBetween() roll 13 14}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollBetween() roll 13 14}}		
				{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span>{{/rollBetween() roll 15 16}}		
				{{#rollBetween() roll 17 18}}<span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span>{{/rollBetween() roll 17 18}}		
				{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}		
				</span>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-AnkylosaursL-Melee">
		<div class="sheet-skillRoll" style="border 1px black">
			<div style="text-align:center">Ankylosaurs Hit location roll</div>
			<div class="sheet-result">
				<span>{{roll}}&nbsp;</span>
				
				{{#rollBetween() roll 1 3}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Tail">Hit on the Tail</span></span>{{/rollBetween() roll 1 3}}		
				{{#rollBetween() roll 4 5}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span></span>{{/rollBetween() roll 4 5}}		
				{{#rollBetween() roll 6 7}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span></span>{{/rollBetween() roll 6 7}}
				{{#rollBetween() roll 8 11}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span></span>{{/rollBetween() roll 8 11}}
				{{#rollBetween() roll 12 15}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span></span>{{/rollBetween() roll 12 15}}
				{{#rollTotal() roll 16}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span></span>{{/rollTotal() roll 16}}
				{{#rollTotal() roll 17}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span></span>{{/rollTotal() roll 17}}
				{{#rollBetween() roll 18 20}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span></span>{{/rollBetween() roll 18 20}}		

			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-BeetleL-Melee">
		<div class="sheet-skillRoll" style="border 1px black">
			<div style="text-align:center">Beetle Hit location roll</div>
			<div class="sheet-result">
				<span>{{roll}}&nbsp;</span>
				{{#rollTotal() roll 1}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span></span>{{/rollTotal() roll 1}}
				{{#rollTotal() roll 2}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-RC-Leg">Hit on the  RC Leg</span></span>{{/rollTotal() roll 2}}
				{{#rollTotal() roll 3}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span></span>{{/rollTotal() roll 3}}			
				{{#rollTotal() roll 4}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-LC-Leg">Hit on the  LC Leg</span></span>{{/rollTotal() roll 4}}
				{{#rollBetween() roll 5 8}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Abdomen"><span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span></span></span>{{/rollBetween() roll 5 8}}					
				{{#rollBetween() roll 9 12}}<span class="sheet-template_label">Hit on the  Thorax</span>{{/rollBetween() roll 9 12}}
				{{#rollBetween() roll 13 14}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span></span>{{/rollBetween() roll 13 14}}			
				{{#rollBetween() roll 15 16}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span></span>{{/rollBetween() roll 15 16}}						
				{{#rollBetween() roll 17 20}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span></span>{{/rollBetween() roll 17 20}}			

			</div>
		</div>
	</rolltemplate>




	<rolltemplate class="sheet-rolltemplate-BirdsFlyingL-Melee">
		<div class="sheet-skillRoll" style="border 1px black">
			<div style="text-align:center">Birds,Flying Hit location roll</div>
			<div class="sheet-result">
				<span>{{roll}}&nbsp;</span>
				{{#rollTotal() roll 1}}<span class="sheet-template_label"><span class="sheet-template_label"><span data-i18n="Hit-on-the-Tail">Hit on the Tail</span></span></span>{{/rollTotal() roll 1}}
				{{#rollBetween() roll 2 4}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span></span>{{/rollBetween() roll 2 4}}		
				{{#rollBetween() roll 5 7}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span></span>{{/rollBetween() roll 5 7}}		
				{{#rollBetween() roll 8 9}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Abdomen"><span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span></span></span>{{/rollBetween() roll 8 9}}
				{{#rollBetween() roll 10 12}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Chest">Hit on the Chest</span></span>{{/rollBetween() roll 10 12}}
				{{#rollBetween() roll 13 14}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Right-Wing">Hit on the  Right Wing</span></span>{{/rollBetween() roll 13 14}}			
				{{#rollBetween() roll 15 16}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Left-Wing">Hit on the  Left Wing</span></span>{{/rollBetween() roll 15 16}}
				{{#rollBetween() roll 17 20}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Head">Hit on the Head</span></span>{{/rollBetween() roll 17 20}}				
			</div>
		</div>
	</rolltemplate>


	<rolltemplate class="sheet-rolltemplate-BirdsRunningL-Melee">
		<div class="sheet-skillRoll" style="border 1px black">
			<div style="text-align:center">Birds,Running Hit location roll</div>
			<div class="sheet-result">
				<span>{{roll}}&nbsp;</span>
				{{#rollBetween() roll 1 4}}<span class="sheet-template_label">Hit on the  Right Leg</span>{{/rollBetween() roll 1 4}}		
				{{#rollBetween() roll 5 8}}<span class="sheet-template_label">Hit on the  Left Leg</span>{{/rollBetween() roll 5 8}}		
				{{#rollBetween() roll 9 10}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Abdomen"><span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span></span></span>{{/rollBetween() roll 9 10}}
				{{#rollBetween() roll 11 13}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Chest">Hit on the Chest</span></span>{{/rollBetween() roll 11 13}}
				{{#rollBetween() roll 14 15}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Right-Wing">Hit on the  Right Wing</span></span>{{/rollBetween() roll 14 15}}			
				{{#rollBetween() roll 16 17}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Left-Wing">Hit on the  Left Wing</span></span>{{/rollBetween() roll 16 17}}
				{{#rollBetween() roll 18 20}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Head">Hit on the Head</span></span>{{/rollBetween() roll 18 20}}				
			</div>
		</div>
	</rolltemplate>


	<rolltemplate class="sheet-rolltemplate-CentaurL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Centaur Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 2}}<span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span>{{/rollBetween() roll 1 2}}
					{{#rollBetween() roll 3 4}}<span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span>{{/rollBetween() roll 3 4}}
					{{#rollBetween() roll 5 6}}<span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span>{{/rollBetween() roll 5 6}}
					{{#rollBetween() roll 7 8}}<span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span>{{/rollBetween() roll 7 8}}
					{{#rollBetween() roll 9 10}}<span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span>{{/rollBetween() roll 9 10}}
					{{#rollBetween() roll 11 12}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span>{{/rollBetween() roll 11 12}}		
					{{#rollBetween() roll 13 14}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollBetween() roll 13 14}}				
					{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-Right-Arm">Hit on the Right Arm</span>{{/rollBetween() roll 15 16}}				
					{{#rollBetween() roll 17 18}}<span data-i18n="Hit-on-the-Left-Arm">Hit on the Left Arm</span>{{/rollBetween() roll 17 18}}						
					{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-DragonL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Dragon/Manticore Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 2}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Tail">Hit on the Tail</span></span>{{/rollBetween() roll 1 2}}
					{{#rollBetween() roll 3 4}}<span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span>{{/rollBetween() roll 3 4}}
					{{#rollBetween() roll 5 6}}<span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span>{{/rollBetween() roll 5 6}}
					{{#rollBetween() roll 7 8}}<span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span>{{/rollBetween() roll 7 8}}
					{{#rollBetween() roll 9 10}}<span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span>{{/rollBetween() roll 9 10}}
					{{#rollBetween() roll 11 12}}<span data-i18n="Hit-on-the-Right-Wing">Hit on the  Right Wing</span>{{/rollBetween() roll 11 12}}		
					{{#rollBetween() roll 13 14}}<span data-i18n="Hit-on-the-Left-Wing">Hit on the  Left Wing</span>{{/rollBetween() roll 13 14}}				
					{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span>{{/rollBetween() roll 15 16}}				
					{{#rollBetween() roll 17 18}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span>{{/rollBetween() roll 17 18}}						
					{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-Dragonsnail1HL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" ><span data-i18n="Hit-on-the-Head">">Dragonsnail 1 head Hit location roll<span></div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 8}}<span data-i18n="Hit-on-the-Shell">Hit on the  Shell</span>{{/rollBetween() roll 1 8}}
					{{#rollBetween() roll 9 14}}<span data-i18n="Hit-on-the-Forebody">Hit on the Forebody</span>{{/rollBetween() roll 9 14}}
					{{#rollBetween() roll 15 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 15 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-Dragonsnail2HL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Dragonsnail 2 head Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 7}}<span data-i18n="Hit-on-the-Shell">Hit on the  Shell</span>{{/rollBetween() roll 1 7}}
					{{#rollBetween() roll 8 12}}<span data-i18n="Hit-on-the-Forebody">Hit on the Forebody</span>{{/rollBetween() roll 8 12}}
					{{#rollBetween() roll 13 16}}<span data-i18n="Hit-on-the-R-Head">Hit on the R Head</span>{{/rollBetween() roll 13 16}}
					{{#rollBetween() roll 17 20}}<span data-i18n="Hit-on-the-L-Head">Hit on the L Head</span>{{/rollBetween() roll 17 20}}				
				</span>	
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-4leggedwingsL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Four-legged, Winged Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 3}}<span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span>{{/rollBetween() roll 1 3}}
					{{#rollBetween() roll 4 6}}<span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span>{{/rollBetween() roll 4 6}}
					{{#rollBetween() roll 7 9}}<span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span>{{/rollBetween() roll 7 9}}
					{{#rollTotal() roll 10}}<span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span>{{/rollTotal() roll 10}}				
					{{#rollBetween() roll 11 12}}<span data-i18n="Hit-on-the-Right-Wing">Hit on the Right Wing</span>{{/rollBetween() roll 11 12}}
					{{#rollBetween() roll 13 14}}<span data-i18n="Hit-on-the-Left-Wing">Hit on the Left Wing</span>{{/rollBetween() roll 13 14}}
					{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span>{{/rollBetween() roll 15 16}}
					{{#rollBetween() roll 17 18}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span>{{/rollBetween() roll 17 18}}		
					{{#rollBetween() roll 19 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 19 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>




	<rolltemplate class="sheet-rolltemplate-harpiesL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Harpy Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 2}}<span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span>{{/rollBetween() roll 1 2}}
					{{#rollBetween() roll 3 4}}<span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span>{{/rollBetween() roll 3 4}}
					{{#rollBetween() roll 5 7}}<span data-i18n="Hit-on-the-Abdomen"><span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span></span>{{/rollBetween() roll 5 7}}
					{{#rollBetween() roll 8 9}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollBetween() roll 8 9}}				
					{{#rollBetween() roll 10 13}}<span data-i18n="Hit-on-the-Right-Wing">Hit on the Right Wing</span>{{/rollBetween() roll 10 13}}
					{{#rollBetween() roll 14 17}}<span data-i18n="Hit-on-the-Left-Wing">Hit on the Left Wing</span>{{/rollBetween() roll 14 17}}
					{{#rollBetween() roll 18 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 18 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-mammothL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Mammoth/Mastadon Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 2}}<span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span>{{/rollBetween() roll 1 2}}
					{{#rollBetween() roll 3 4}}<span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span>{{/rollBetween() roll 3 4}}
					{{#rollBetween() roll 5 7}}<span data-i18n="Hit-on-the-Hind-Q">Hit on the  Hind Q</span>{{/rollBetween() roll 5 7}}
					{{#rollBetween() roll 8 10}}<span data-i18n="Hit-on-the-Fore-Q">Hit on the  Fore Q</span>{{/rollBetween() roll 8 10}}
					{{#rollBetween() roll 11 13}}<span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span>{{/rollBetween() roll 11 13}}
					{{#rollBetween() roll 14 16}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span>{{/rollBetween() roll 14 16}}	
					{{#rollTotal() roll 17}}<span data-i18n="Hit-on-the-Trunk">Hit on the Trunk</span>{{/rollTotal() roll 17}}								
					{{#rollBetween() roll 18 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 18 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-serpentL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" ><span data-i18n="Serpent-Hit-location-roll">Serpent Hit location roll</span></div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 6}}<span data-i18n="Hit-on-the-Tail">Hit on the Tail</span>{{/rollBetween() roll 1 6}}
					{{#rollBetween() roll 7 14}}<span data-i18n="Hit-on-the-Body">Hit on the Body</span>{{/rollBetween() roll 7 14}}
					{{#rollBetween() roll 15 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 15 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>


	<rolltemplate class="sheet-rolltemplate-serpentWingsL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Serpent , Winged Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollBetween() roll 1 4}}<span data-i18n="Hit-on-the-Tail">Hit on the Tail</span>{{/rollBetween() roll 1 4}}
					{{#rollBetween() roll 5 8}}<span data-i18n="Hit-on-the-Abdomen"><span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span></span>{{/rollBetween() roll 5 8}}
					{{#rollBetween() roll 9 12}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollBetween() roll 9 12}}	
					{{#rollBetween() roll 13 14}}<span data-i18n="Hit-on-the-Right-Wing">Hit on the Right Wing</span>{{/rollBetween() roll 13 14}}
					{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-Left-Wing">Hit on the Left Wing</span>{{/rollBetween() roll 15 16}}				
					{{#rollBetween() roll 17 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 17 20}}
				</span>	
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-spiderL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Spider, Giant Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollTotal() roll 1}}<span data-i18n="Hit-on-the-RH-Leg">Hit on the RH Leg</span>{{/rollTotal() roll 1}}				
					{{#rollTotal() roll 2}}<span data-i18n="Hit-on-the-LH-Leg">Hit on the LH Leg</span>{{/rollTotal() roll 2}}				
					{{#rollTotal() roll 3}}<span data-i18n="Hit-on-the-RCR-Leg">Hit on the  RCR Leg</span>{{/rollTotal() roll 3}}				
					{{#rollTotal() roll 4}}<span data-i18n="Hit-on-the-LCR-Leg">Hit on the  RCR Leg</span>{{/rollTotal() roll 4}}
					{{#rollBetween() roll 5 8}}<span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span>{{/rollBetween() roll 5 8}}
					{{#rollBetween() roll 9 10}}<span data-i18n="Hit-on-the-RCF-Leg">Hit on the  RCF Leg</span>{{/rollBetween() roll 9 10}}
					{{#rollBetween() roll 11 12}}<span data-i18n="Hit-on-the-LCF-Leg">Hit on the  LCF Leg</span>{{/rollBetween() roll 11 12}}
					{{#rollBetween() roll 13 14}}<span data-i18n="Hit-on-the-RF-Leg">Hit on the RF Leg</span>{{/rollBetween() roll 13 14}}
					{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-LF-Leg">Hit on the LF Leg</span>{{/rollBetween() roll 15 16}}
					{{#rollBetween() roll 17 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 17 20}}				
				</span>	
			</div>
		</div>
	</rolltemplate>



	<rolltemplate class="sheet-rolltemplate-wyvernL-Melee">
		<div style="border: 1px solid black ">
			<div class="sheet-template_header" >Wyvern Hit location roll</div>
			<div class="sheet-template_body" ><span>{{roll}}&nbsp;</span>
				<span class="sheet-template_label">
					{{#rollTotal() roll 1}}<span class="sheet-template_label"><span data-i18n="Hit-on-the-Tail"><span data-i18n="Hit-on-the-Tail">Hit on the Tail</span></span></span>{{/rollTotal() roll 1}}				
					{{#rollBetween() roll 2 4}<span data-i18n="Hit-on-the-Right-Leg">Hit on the Right Leg</span>{{/rollBetween() roll 2 4}}				
					{{#rollBetween() roll 5 7}}<span data-i18n="Hit-on-the-Left-Leg">Hit on the Left Leg</span>{{/rollBetween() roll 5 7}}
					{{#rollBetween() roll 8 9}}<span data-i18n="Hit-on-the-Abdomen">Hit on the  Abdomen</span>{{/rollBetween() roll 8 9}}
					{{#rollBetween() roll 10 12}}<span data-i18n="Hit-on-the-Chest">Hit on the Chest</span>{{/rollBetween() roll 10 12}}
					{{#rollBetween() roll 13 14}}<span data-i18n="Hit-on-the-Right-Wing">Hit on the Right Wing</span>{{/rollBetween() roll 13 14}}
					{{#rollBetween() roll 15 16}}<span data-i18n="Hit-on-the-Left-Wing">Hit on the Left Wing</span>{{/rollBetween() roll 15 16}}
					{{#rollBetween() roll 17 20}}<span data-i18n="Hit-on-the-Head">Hit on the Head</span>{{/rollBetween() roll 17 20}}				
				</span>	
			</div>
		</div>
	</rolltemplate>

	<!--<div style="text-align:center"><b>RollsX:</b>&nbsp;{{roll}} <= {{success}}%</div>--> 

	<rolltemplate class="sheet-rolltemplate-skillRoll">
			

	<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
	<div style="border: 1px solid black ">
	
		<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
		<!--<div style="background-color:white;color:#b87a38;text-align:center" >Crit {{crit}}</div>-->
		<div style="background-color:white;color:#b87a38;text-align:center">{{skillname}} Roll</div>
			{{#^rollGreater() success 5}}
				<div style="background-color:white;text-align:center"><b>Rolls:</b>{{roll}} < = <b><span style="padding: 0 3px 0 3px;font-weight: bold;cursor: help;font-size: 1.1em;">5%</span></b> ({{success}}%)</div> 
				<div style="background-color:white;text-align:center"><b>Result:</b>
					{{#rollTotal() roll 1}}
						<span data-i18n="skill-passion-crit">Critical (+50%)</span>
					{{/rollTotal() roll 1}}
					{{#rollBetween() roll 2 5}}
						<span data-i18n="skill-passion-Success">Success (+20%) </span>
					{{/rollBetween() roll 2 5}}
					{{#rollBetween() roll 6 95}}
						<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span> 
					{{/rollBetween() roll 6 95}}
					{{#rollBetween() roll 96 100}}
							<span data-i18n="Fumble">Fumble</span> 
							<span data-i18n="Despair-Psychic-Turmoil">-50%/Despair/Psychic Turmoil</span>					
							<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span> 
					{{/rollBetween() roll 96 100}}
				</div>	
			{{/^rollGreater() success 5}}
			<!--  start > 5% --> 
			{{#rollGreater() success 5}}
			<div style="padding-top:5px;background-color:white">	
				<div style="text-align:center"><b>Rolls:</b>{{roll}} < = {{success}}%</div> 
				<div style="text-align:center"><b>Result:</b>
				{{#rollBetween() roll fumble 100}} 
						<span data-i18n="Fumble">Fumble</span> 
						(<span data-i18n="Despair-Psychic-Turmoil">-50%/Despair/Psychic Turmoil</span>)
				{{/rollBetween() roll fumble 100}} 
				
				{{#^rollBetween() roll fumble 100}}
				
					{{#rollGreater() success 99}}
						{{#rollLess() roll crit}}<span data-i18n="skill-passion-crit">Critical (+50%)</span>{{/rollLess() roll crit}}
						{{#^rollLess() roll crit}}
							{{#rollLess() roll special}}<span data-i18n="skill-passion-special">Special (+30%)</span>{{/rollLess() roll special}}
							{{#rollGreater() roll 95}}
								<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span> 
							{{/rollGreater() roll 95}}
							{{#^rollGreater() roll 95}}
								{{#^rollLess() roll special}}<span data-i18n="skill-passion-Success">Success (+20%) </span>{{/^rollLess() roll special}}
							{{/^rollGreater() roll 95}}
							
						{{/^rollLess() roll crit}}

					{{/rollGreater() success 99}}
					
					{{#^rollGreater() success 99}}
						{{#rollLess() roll crit}}<span data-i18n="skill-passion-crit">Critical (+50%)</span>{{/rollLess() roll crit}}
						{{#^rollLess() roll crit}}
							{{#rollLess() roll special}}<span data-i18n="skill-passion-special">Special (+30%)</span>{{/rollLess() roll special}}
							{{#^rollLess() roll special}}
							
								{{#rollGreater() roll 95}}<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span>{{/rollGreater() roll 95}}
								{{#^rollGreater() roll 95}}
									{{#rollBetween() roll special success}}
										<span data-i18n="skill-passion-Success">Success (+20%) </span>
									{{/rollBetween() roll special success}}
								{{/^rollGreater() roll 95}}
								
								{{#^rollBetween() roll special success}}
									{{#rollLess() roll fumble}}
										{{#^rollGreater() roll 95}}
											<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span>									
										{{/^rollGreater() roll 95}}
									{{/rollLess() roll fumble}}
									{{#^rollLess() roll fumble}}
										<span data-i18n="Fumble">Fumble</span> 
										<span data-i18n="Despair-Psychic-Turmoil">-50%/Despair/Psychic Turmoil</span>
									{{/^rollLess() roll fumble}}							
								{{/^rollBetween() roll special success}}											
							{{/^rollLess() roll special}}
						{{/^rollLess() roll crit}}
					{{/^rollGreater() success 99}}
				</div>	
				{{/^rollBetween() roll fumble 100}}							
			</div>
			{{/rollGreater() success 5}}
			<!-- End  > 5% --> 
		</div>
		<img style="margin-top: -2px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />		
	</div>

	</rolltemplate>




	<rolltemplate class="sheet-rolltemplate-skillRoll66">
			

			<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
			<div style="border: 1px solid black ">
			
			<div style="background-color:white;color:#b87a38;text-align:center" >{{name}}</div>
			<!--<div style="background-color:white;color:#b87a38;text-align:center" >Crit {{crit}}</div>-->
			<div style="background-color:white;color:#b87a38;text-align:center">{{skillname}} Roll</div>
			<div style="padding-top:5px;background-color:white">	
				<div style="text-align:center"><b>Rolls:</b>{{roll}} < = {{success}}%</div> 
				<div style="text-align:center"><b>Result:</b>
				{{#rollBetween() roll fumble 100}} 
						<span data-i18n="Fumble">Fumble</span> 
						(<span data-i18n="Despair-Psychic-Turmoil">-50%/Despair/Psychic Turmoil</span>)
				{{/rollBetween() roll fumble 100}} 
				
				{{#^rollBetween() roll fumble 100}}
				
					{{#rollGreater() success 99}}
						{{#rollLess() roll crit}}<span data-i18n="skill-passion-crit">Critical (+50%)</span></td>{{/rollLess() roll crit}}
						{{#^rollLess() roll crit}}
							{{#rollLess() roll special}}<span data-i18n="skill-passion-special">Special (+30%)</span>{{/rollLess() roll special}}
							{{#rollGreater() roll 95}}
								<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span> 
							{{/rollGreater() roll 95}}
							{{#^rollGreater() roll 95}}
								{{#^rollLess() roll special}}<span data-i18n="skill-passion-Success">Success (+20%) </span>{{/^rollLess() roll special}}
							{{/^rollGreater() roll 95}}
							
						{{/^rollLess() roll crit}}

					{{/rollGreater() success 99}}
					
					{{#^rollGreater() success 99}}
						{{#rollLess() roll crit}}<span data-i18n="skill-passion-crit">Critical (+50%)</span>{{/rollLess() roll crit}}
						{{#^rollLess() roll crit}}
							{{#rollLess() roll special}}<span data-i18n="skill-passion-special">Special (+30%)</span>{{/rollLess() roll special}}
							{{#^rollLess() roll special}}
							
								{{#rollGreater() roll 95}}<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span>{{/rollGreater() roll 95}}
								{{#^rollGreater() roll 95}}
									{{#rollBetween() roll special success}}
										<span data-i18n="skill-passion-Success">Success (+20%) </span>
									{{/rollBetween() roll special success}}
								{{/^rollGreater() roll 95}}
								
								{{#^rollBetween() roll special success}}
									{{#rollLess() roll fumble}}
										{{#^rollGreater() roll 95}}
											<span data-i18n="skill-passion-Failure">Failure -20%/-10% (Pass.)</span>									
										{{/^rollGreater() roll 95}}
									{{/rollLess() roll fumble}}
									{{#^rollLess() roll fumble}}
										<span data-i18n="Fumble">Fumble</span> 
										<span data-i18n="Despair-Psychic-Turmoil">-50%/Despair/Psychic Turmoil</span>
									{{/^rollLess() roll fumble}}							
								{{/^rollBetween() roll special success}}											
							{{/^rollLess() roll special}}
						{{/^rollLess() roll crit}}
					{{/^rollGreater() success 99}}
					
					
					
				{{/^rollBetween() roll fumble 100}}			
					
				</div>

				</div>
				<img style="margin-top:3px;border-left:1px solid black;" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/RunequestGQS/banner.jpg" />
			<div style="border: 1px solid black ">
	</rolltemplate>







	<rolltemplate class="sheet-rolltemplate-Melee-Attack-Fumble">
		<table style="background-color: #ffffff;" class="sheet-rolltemplate-skillRoll">
		
		{{#rollTotal() table 0}}
			<th><span data-i18n="Melee-Attack-Fumble">Melee-Attack-Fumble</span></th>
		{{/rollTotal() table 0}}
		{{#rollTotal() table 1}}
			<th>Melee Parry Fumble </th>
		{{/rollTotal() table 1}}	
		{{#rollTotal() table 2}}
			<th>Missle Attack Fumble </th>
		{{/rollTotal() table 2}}	
		{{#rollTotal() table 3}}
			<th>Natural Weapon Fumble </th>
		{{/rollTotal() table 3}}
		<!--<tr><td><b>Roll:</b>{{roll}}</td></tr>
		<tr><td><b>Table:</b>{{table}}</td></tr>-->
		<tr>
		{{#rollTotal() table 0}}
			{{#rollBetween() roll 1 15}}<td class="sheet-template_value">Lose the next combat round and are effectively helpless.</td>{{/rollBetween() roll 1 15}}
			{{#rollBetween() roll 16 25}}<td class="sheet-template_value">Lose the next 1D3 combat rounds and are effectively helpless.</td>{{/rollBetween() roll 16 25}}		
			{{#rollBetween() roll 26 40}}<td class="sheet-template_value">Fall down.</td>{{/rollBetween() roll 26 40}}		
			{{#rollBetween() roll 41 50}}<td class="sheet-template_value">Drop the weapon being used.</td>{{/rollBetween() roll 41 50}}
			{{#rollBetween() roll 51 60}}<td class="sheet-template_value">Throw weapon 1D10 meters away.</td>{{/rollBetween() roll 51 60}}
			{{#rollBetween() roll 61 65}}<td class="sheet-template_value">Lose 1D10 points of weapon?s hit points.</td>{{/rollBetween() roll 61 65}}
			{{#rollBetween() roll 66 75}}<td class="sheet-template_value">Vision obscured, lose 30% on all appropriate skills for 1D3 combat rounds.</td>{{/rollBetween() roll 66 75}}
			{{#rollBetween() roll 76 85}}<td class="sheet-template_value">Hit nearest ally for normal damage, or Drop the weapon being used if no ally nearby.</td>{{/rollBetween() roll 76 85}}
			{{#rollBetween() roll 86 90}}<td class="sheet-template_value">Hit nearest ally for special damage, or Throw weapon 1D10 meters away, if no ally nearby.</td>{{/rollBetween() roll 86 90}}
			{{#rollBetween() roll 91 98}}<td class="sheet-template_value">Hit nearest ally for critical damage, or Lose 1D10 points of weapon?s hit points, if no ally nearby.</td>{{/rollBetween() roll 91 98}}
			{{#rollTotal() roll 99}}<td class="sheet-template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 99}}
			{{#rollTotal() roll 00}}<td class="sheet-template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 00}}
		{{/rollTotal() table 0}}
		
		{{#rollTotal() table 1}}
			{{#rollBetween() roll 1 20}}<td class="sheet-template_value" >Lose the next combat round and are effectively helpless.</td>{{/rollBetween() roll 1 20}}
			{{#rollBetween() roll 21 40}}<td class="sheet-template_value" >Fall down.</td>{{/rollBetween() roll 21 40}}		
			{{#rollBetween() roll 41 50}}<td class="sheet-template_value" >Drop the weapon being used.</td>{{/rollBetween() roll 41 50}}
			{{#rollBetween() roll 51 60}}<td class="sheet-template_value" >Throw weapon 1D10 meters away.</td>{{/rollBetween() roll 51 60}}
			{{#rollBetween() roll 61 75}}<td class="sheet-template_value" >Lose 1D10 points of weapon?s hit points.</td>{{/rollBetween() roll 61 75}}
			{{#rollBetween() roll 76 85}}<td class="sheet-template_value" >Wide open; foe automatically hits with normal hit.</td>{{/rollBetween() roll 76 85}}
			{{#rollBetween() roll 86 90}}<td class="sheet-template_value" >Wide open; foe automatically hits with special hit.</td>{{/rollBetween() roll 86 90}}
			{{#rollBetween() roll 91 93}}<td class="sheet-template_value" >Wide open; foe automatically hits with critical hit</td>{{/rollBetween() roll 91 93}}
			{{#rollBetween() roll 94 98}}<td class="sheet-template_value" >Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollBetween() roll 94 98}}
			{{#rollBetween() roll 99 100}}<td class="sheet-template_value" >Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollBetween() roll 99 100}}
		{{/rollTotal() table 1}	
		
		{{#rollTotal() table 2}}
			{{#rollBetween() roll 1 15}}<td class="sheet-template_value">Lose the next attack or other activity.</td>{{/rollBetween() roll 1 15}}
			{{#rollBetween() roll 16 25}}<td class="sheet-template_value">Lose the next 1D3 combat rounds or other activity.</td>{{/rollBetween() roll 16 25}}		
			{{#rollBetween() roll 26 40}}<td class="sheet-template_value">Fall down.</td>{{/rollBetween() roll 26 40}}		
			{{#rollBetween() roll 41 55}}<td class="sheet-template_value">Vision obscured; lose 30% on all appropriate skills for 1D3 combat rounds</td>{{/rollBetween() roll 41 55}}
			{{#rollBetween() roll 56 65}}<td class="sheet-template_value">Drop weapon; which slides or bounces 1D6?1 meters away.</td>{{/rollBetween() roll 56 65}}
			{{#rollBetween() roll 66 80}}<td class="sheet-template_value">Do 1D6 damage to weapon?s hit points or break if the weapon has no hit points.</td>{{/rollBetween() roll 66 80}}
			{{#rollBetween() roll 81 85}}<td class="sheet-template_value">Break weapon.</td>{{/rollBetween() roll 81 85}}
			{{#rollBetween() roll 86 90}}<td class="sheet-template_value">Hit nearest ally for normal damage, or Drop weapon; which slides or bounces 1D6?1 meters away. if no ally nearby.</td>{{/rollBetween() roll 86 90}}
			{{#rollBetween() roll 91 95}}<td class="sheet-template_value">Hit nearest ally for special damage, orDo 1D6 damage to weapon?s hit points or break if the weapon has no hit points, if no ally nearby.</td>{{/rollBetween() roll 91 95}}
			{{#rollBetween() roll 96 98}}<td class="sheet-template_value">Hit nearest ally for critical damage, or Break weapon, if no ally nearby</td>{{/rollBetween() roll 96 98}}
			{{#rollTotal() roll 99}}<td class="sheet-template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 99}}
			{{#rollTotal() roll 100}}<td class="sheet-template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 100}}
		{{/rollTotal() table 2}}
		
		{{#rollTotal() table 3}}
			{{#rollBetween() roll 1 25}}<td class="sheet-template_value">Lose the next combat round (or this one if no action has yet been taken).</td>{{/rollBetween() roll 1 25}}
			{{#rollBetween() roll 26 30}}<td class="sheet-template_value">Lose the next 1D3 combat rounds (this includes this one if no action has yet been taken).</td>{{/rollBetween() roll 26 30}}		
			{{#rollBetween() roll 31 50}}<td class="sheet-template_value">Fall down.</td>{{/rollBetween() roll 31 50}}		
			{{#rollBetween() roll 51 60}}<td class="sheet-template_value">Fall down and twist ankle; lose 1 meter/DEX rank of movement for 1D10 full turns (and all combat turns within them).</td>{{/rollBetween() roll 51 60}}
			{{#rollBetween() roll 61 75}}<td class="sheet-template_value">Vision obscured; lose 30% on all appropriate skills for 1D3 combat rounds.</td>{{/rollBetween() roll 61 75}}
			{{#rollBetween() roll 76 85}}<td class="sheet-template_value">Miss and strain something; lose 1 hit point (in the attacking limb if hit locations are being used)</td>{{/rollBetween() roll 76 85}}
			{{#rollBetween() roll 86 90}}<td class="sheet-template_value">Hit nearest ally for normal damage, or Miss and strain something; lose 1 hit point (in the attacking limb if hit locations are being used), if no ally nearby</td>{{/rollBetween() roll 86 90}}
			{{#rollBetween() roll 91 94}}<td class="sheet-template_value">Hit nearest ally for special damage, or Miss and strain something; lose 1 hit point (in the attacking limb if hit locations are being used), if no ally nearby.</td>{{/rollBetween() roll 91 94}}
			{{#rollBetween() roll 95 98}}<td class="sheet-template_value">Hit hard surface; do normal damage to self (in the attacking limb if hit locations are being used)..</td>{{/rollBetween() roll 95 98}}
			{{#rollBetween() roll 96 98}}<td class="sheet-template_value">Hit nearest ally for critical damage, or Break weapon, if no ally nearby</td>{{/rollBetween() roll 96 98}}
			{{#rollTotal() roll 99}}<td class="sheet-template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 99}}
			{{#rollTotal() roll 100}}<td class="sheet-template_value">Blow it; roll twice more on this table (cumulative if this result is rolled again)</td>{{/rollTotal() roll 100}}
		{{/rollTotal() table 3}}
		

		</tr>
		</table>
	</rolltemplate>

			<!--old  templates  end-->		
			
			
			
			

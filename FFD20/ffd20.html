<script type="text/worker">

	on("change:character_sheet_type", function() {
		getAttrs(["character_sheet_type"], function(values) {
			var attrs = {};
			if (values["character_sheet_type"] == "Character") {
				attrs["sheet-type"] = "character";
				attrs["character_race_type"] = "Race";
			} else if (values["character_sheet_type"] == "Monster") {
				attrs["sheet-type"] = "monster";
				attrs["character_race_type"] = "Type";
			}
			setAttrs(attrs);
		});
	});

	on("change:str", function() {
	   getAttrs(["str", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["str"]) || 0;
			  setAttrs({
				 "str": total,
				 "str-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:dex", function() {
	   getAttrs(["dex", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["dex"]) || 0;
			  setAttrs({
				 "dex": total,
				 "dex-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:con", function() {
	   getAttrs(["con", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["con"]) || 0;
			  setAttrs({
				 "con": total,
				 "con-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:int", function() {
	   getAttrs(["int", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["int"]) || 0;
			  setAttrs({
				 "int": total,
				 "int-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:wis", function() {
	   getAttrs(["wis", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["wis"]) || 0;
			  setAttrs({
				 "wis": total,
				 "wis-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:cha", function() {
	   getAttrs(["cha", "sheet-type"], function(values) {
		  if (values["sheet-type"] == "monster") {
			  var total = parseInt(values["cha"]) || 0;
			  setAttrs({
				 "cha": total,
				 "cha-mod": Math.floor(total / 2) - 5
			  });
		  }
	   });
	});

	on("change:str-base change:str-inherent change:str-enhance change:str-misc change:str-temp", function() {
		getAttrs(["str-base","str-inherent","str-enhance","str-misc","str-temp"], function(values) {
			var base = parseInt(values["str-base"]) || 0;
			var inherent = parseInt(values["str-inherent"]) || 0;
			var enhance = parseInt(values["str-enhance"]) || 0;
			var misc = parseInt(values["str-misc"]) || 0;
			var temp = parseInt(values["str-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"str": total,
				"str-mod": Math.floor(total / 2) - 5,
				"str-base": base,
				"str-inherent": inherent,
				"str-enhance": enhance,
				"str-misc": misc,
				"str-temp": temp
			});
		});
	});

	on("change:dex-base change:dex-inherent change:dex-enhance change:dex-misc change:dex-temp", function() {
		getAttrs(["dex-base","dex-inherent","dex-enhance","dex-misc","dex-temp"], function(values) {
			var base = parseInt(values["dex-base"]) || 0;
			var inherent = parseInt(values["dex-inherent"]) || 0;
			var enhance = parseInt(values["dex-enhance"]) || 0;
			var misc = parseInt(values["dex-misc"]) || 0;
			var temp = parseInt(values["dex-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"dex": total,
				"dex-mod": Math.floor(total / 2) - 5,
				"dex-base": base,
				"dex-inherent": inherent,
				"dex-enhance": enhance,
				"dex-misc": misc,
				"dex-temp": temp
			});
		});
	});

	on("change:con-base change:con-inherent change:con-enhance change:con-misc change:con-temp", function() {
		getAttrs(["con-base","con-inherent","con-enhance","con-misc","con-temp"], function(values) {
			var base = parseInt(values["con-base"]) || 0;
			var inherent = parseInt(values["con-inherent"]) || 0;
			var enhance = parseInt(values["con-enhance"]) || 0;
			var misc = parseInt(values["con-misc"]) || 0;
			var temp = parseInt(values["con-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"con": total,
				"con-mod": Math.floor(total / 2) - 5,
				"con-base": base,
				"con-inherent": inherent,
				"con-enhance": enhance,
				"con-misc": misc,
				"con-temp": temp
			});
		});
	});

	on("change:wis-base change:wis-inherent change:wis-enhance change:wis-misc change:wis-temp", function() {
		getAttrs(["wis-base","wis-inherent","wis-enhance","wis-misc","wis-temp"], function(values) {
			var base = parseInt(values["wis-base"]) || 0;
			var inherent = parseInt(values["wis-inherent"]) || 0;
			var enhance = parseInt(values["wis-enhance"]) || 0;
			var misc = parseInt(values["wis-misc"]) || 0;
			var temp = parseInt(values["wis-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"wis": total,
				"wis-mod": Math.floor(total / 2) - 5,
				"wis-base": base,
				"wis-inherent": inherent,
				"wis-enhance": enhance,
				"wis-misc": misc,
				"wis-temp": temp
			});
		});
	});

	on("change:int-base change:int-inherent change:int-enhance change:int-misc change:int-temp", function() {
		getAttrs(["int-base","int-inherent","int-enhance","int-misc","int-temp"], function(values) {
			var base = parseInt(values["int-base"]) || 0;
			var inherent = parseInt(values["int-inherent"]) || 0;
			var enhance = parseInt(values["int-enhance"]) || 0;
			var misc = parseInt(values["int-misc"]) || 0;
			var temp = parseInt(values["int-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"int": total,
				"int-mod": Math.floor(total / 2) - 5,
				"int-base": base,
				"int-inherent": inherent,
				"int-enhance": enhance,
				"int-misc": misc,
				"int-temp": temp
			});
		});
	});

	on("change:cha-base change:cha-inherent change:cha-enhance change:cha-misc change:cha-temp", function() {
		getAttrs(["cha-base","cha-inherent","cha-enhance","cha-misc","cha-temp"], function(values) {
			var base = parseInt(values["cha-base"]) || 0;
			var inherent = parseInt(values["cha-inherent"]) || 0;
			var enhance = parseInt(values["cha-enhance"]) || 0;
			var misc = parseInt(values["cha-misc"]) || 0;
			var temp = parseInt(values["cha-temp"]) || 0;
			var total = base + inherent + enhance + misc + temp;
			setAttrs({
				"cha": total,
				"cha-mod": Math.floor(total / 2) - 5,
				"cha-base": base,
				"cha-inherent": inherent,
				"cha-enhance": enhance,
				"cha-misc": misc,
				"cha-temp": temp
			});
		});
	});

	on("change:is-undead change:con-mod change:cha-mod change:level change:class-0-hp change:class-1-hp change:class-2-hp change:class-3-hp change:class-fc-hp change:options-toughness", function() {
		getAttrs(["is-undead", "con-mod", "cha-mod", "level", "class-0-hp", "class-1-hp", "class-2-hp", "class-3-hp", "hp-temp", "class-fc-hp", "options-toughness"], function(values) {
			var class0 = parseInt(values["class-0-hp"]) || 0;
			var class1 = parseInt(values["class-1-hp"]) || 0;
			var class2 = parseInt(values["class-2-hp"]) || 0;
			var class3 = parseInt(values["class-3-hp"]) || 0;
			var classFC = parseInt(values["class-fc-hp"]) || 0;
			var level = parseInt(values["level"]) || 0;
			var toughnessHP;
			var toughnessDisplay = " ";

			if (values["options-toughness"] == "true") {
				toughnessHP = (level <= 3) ? 3 : level;
				toughnessDisplay = "(+" + toughnessHP + " HP)";
			} else toughnessHP = 0;

			var total = (parseInt(values["is-undead"] == "undead" ? values["cha-mod"] : values["con-mod"]) * level) + class0 + class1 + class2 + class3 + classFC + toughnessHP;

			setAttrs({
				"class-0-hp": class0,
				"class-1-hp": class1,
				"class-2-hp": class2,
				"class-3-hp": class3,
				"class-fc-hp": classFC,
				"total-hp": total,
				"options-toughness-display": toughnessDisplay,
				"hp_max": total
			});
		});
	});

	on("change:class-0-mp change:class-1-mp change:class-2-mp change:class-3-mp change:options-extra-mp change:options-extra-mp-1 change:options-extra-mp-2 change:options-extra-mp-3 change:options-extra-mp-4 change:level", function() {
		getAttrs(["class-0-mp", "class-1-mp", "class-2-mp", "class-3-mp", "options-extra-mp", "options-extra-mp-1", "options-extra-mp-2", "options-extra-mp-3", "options-extra-mp-4", "class-0-level", "class-1-level", "class-2-level", "class-3-level"], function(values) {
			var class0 = parseInt(values["class-0-mp"]) || 0;
			var class1 = parseInt(values["class-1-mp"]) || 0;
			var class2 = parseInt(values["class-2-mp"]) || 0;
			var class3 = parseInt(values["class-3-mp"]) || 0;
			var class0Level = parseInt(values["class-0-level"]) || 0;
			var class1Level = parseInt(values["class-1-level"]) || 0;
			var class2Level = parseInt(values["class-2-level"]) || 0;
			var class3Level = parseInt(values["class-3-level"]) || 0;
			var extraMP = 0;
			var extraMPDisplay = " ";

			if (values["options-extra-mp"] == "true") {
				var extraMP = 1;
				if (values["options-extra-mp-1"] == "true") {
					extraMP += Math.floor(class0Level / 2);
				}
				if (values["options-extra-mp-2"] == "true") {
					extraMP += Math.floor(class1Level / 2);
				}
				if (values["options-extra-mp-3"] == "true") {
					extraMP += Math.floor(class2Level / 2);
				}
				if (values["options-extra-mp-4"] == "true") {
					extraMP += Math.floor(class3Level / 2);
				}
				extraMPDisplay = "(+" + extraMP + " MP)";
			}

			var total = class0 + class1 + class2 + class3 + extraMP;

			setAttrs({
				"class-0-mp": class0,
				"class-1-mp": class1,
				"class-2-mp": class2,
				"class-3-mp": class3,
				"total-mp": total,
				"options-extra-mp-display": extraMPDisplay
			});
		});
	});

	on("change:class-0-bab change:class-1-bab change:class-2-bab change:class-3-bab", function() {
		getAttrs(["class-0-bab", "class-1-bab", "class-2-bab", "class-3-bab"], function(values) {
			var class0 = parseInt(values["class-0-bab"]) || 0;
			var class1 = parseInt(values["class-1-bab"]) || 0;
			var class2 = parseInt(values["class-2-bab"]) || 0;
			var class3 = parseInt(values["class-3-bab"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-bab": class0,
				"class-1-bab": class1,
				"class-2-bab": class2,
				"class-3-bab": class3,
				"total-bab": total
			});
		});
	});

	on("change:int-mod change:level change:class-0-level change:class-1-level change:class-2-level change:class-3-level change:class-0-skill change:class-1-skill change:class-2-skill change:class-3-skill change:class-fc-skill change:options-skilled", function() {
		getAttrs(["int-mod", "level", "class-0-level", "class-1-level", "class-2-level", "class-3-level", "class-0-skill", "class-1-skill", "class-2-skill", "class-3-skill", "class-fc-skill", "options-skilled"], function(values) {
			var class0 = parseInt(values["class-0-skill"]) || 0;
			var class1 = parseInt(values["class-1-skill"]) || 0;
			var class2 = parseInt(values["class-2-skill"]) || 0;
			var class3 = parseInt(values["class-3-skill"]) || 0;
			var class0total = Math.max(class0 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-0-level"]) || 0);
			var class1total = Math.max(class1 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-1-level"]) || 0);
			var class2total = Math.max(class2 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-2-level"]) || 0);
			var class3total = Math.max(class3 + parseInt(values["int-mod"]), 1) * (parseInt(values["class-3-level"]) || 0);
			var classFC = parseInt(values["class-fc-skill"]) || 0;
			var skilledBonus;
			var skilledDisplay = " ";

			if (values["options-skilled"] == "true") {
				skilledBonus = parseInt(values["level"]) || 0;
				skilledDisplay = "(+" + skilledBonus + " skill rank(s))"
			} else skilledBonus = 0;

			var total = class0total + class1total + class2total + class3total + classFC + skilledBonus;

			setAttrs({
				"class-0-skill": class0,
				"class-1-skill": class1,
				"class-2-skill": class2,
				"class-3-skill": class3,
				"class-fc-skill": classFC,
				"total-skill": total,
				"options-skilled-display": skilledDisplay
			});
		});
	});

	on("change:class-0-fort change:class-1-fort change:class-2-fort change:class-3-fort", function() {
		getAttrs(["class-0-fort", "class-1-fort", "class-2-fort", "class-3-fort"], function(values) {
			var class0 = parseInt(values["class-0-fort"]) || 0;
			var class1 = parseInt(values["class-1-fort"]) || 0;
			var class2 = parseInt(values["class-2-fort"]) || 0;
			var class3 = parseInt(values["class-3-fort"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-fort": class0,
				"class-1-fort": class1,
				"class-2-fort": class2,
				"class-3-fort": class3,
				"total-fort": total
			});
		});
	});

	on("change:class-0-ref change:class-1-ref change:class-2-ref change:class-3-ref", function() {
		getAttrs(["class-0-ref", "class-1-ref", "class-2-ref", "class-3-ref"], function(values) {
			var class0 = parseInt(values["class-0-ref"]) || 0;
			var class1 = parseInt(values["class-1-ref"]) || 0;
			var class2 = parseInt(values["class-2-ref"]) || 0;
			var class3 = parseInt(values["class-3-ref"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-ref": class0,
				"class-1-ref": class1,
				"class-2-ref": class2,
				"class-3-ref": class3,
				"total-ref": total
			});
		});
	});

	on("change:class-0-will change:class-1-will change:class-2-will change:class-3-will", function() {
		getAttrs(["class-0-will", "class-1-will", "class-2-will", "class-3-will"], function(values) {
			var class0 = parseInt(values["class-0-will"]) || 0;
			var class1 = parseInt(values["class-1-will"]) || 0;
			var class2 = parseInt(values["class-2-will"]) || 0;
			var class3 = parseInt(values["class-3-will"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-will": class0,
				"class-1-will": class1,
				"class-2-will": class2,
				"class-3-will": class3,
				"total-will": total
			});
		});
	});

	on("change:class-0-level change:class-1-level change:class-2-level change:class-3-level", function() {
		getAttrs(["class-0-level", "class-1-level", "class-2-level", "class-3-level"], function(values) {
			var class0 = parseInt(values["class-0-level"]) || 0;
			var class1 = parseInt(values["class-1-level"]) || 0;
			var class2 = parseInt(values["class-2-level"]) || 0;
			var class3 = parseInt(values["class-3-level"]) || 0;
			var total = class0 + class1 + class2 + class3;

			setAttrs({
				"class-0-level": class0,
				"class-1-level": class1,
				"class-2-level": class2,
				"class-3-level": class3,
				"level": total
			});
		});
	});

	on("change:hp-temp", function() {
		getAttrs(["hp-temp", "total-hp", "level", "con-mod"], function(values) {
			var tempHP = parseInt(values["hp-temp"]) || 0;
			setAttrs({
				"hp-temp": tempHP
			});
		});
	});

	on("change:mp-temp", function() {
		getAttrs(["mp-temp", "total-mp", "total-bonusmp"], function(values) {
			var tempMP = parseInt(values["hp-temp"]) || 0;
			setAttrs({
				"mp-temp": tempMP
			});
		});
	});

	on("change:total-hp change:con-mod change:hp change:hp_max change:lb-uses change:lb-uses_max change:lb-threshold", function() {
		getAttrs(["hp", "hp_max", "hp-temp", "lb-uses", "lb-uses_max", "lb-threshold"], function(values) {
			var hp = parseInt(values["hp"]) || 0;
			var hp_max = parseInt(values["hp_max"]) || 0;
			var lb = parseInt(values["lb-uses"]) || 0;
			var lb_max = parseInt(values["lb-uses_max"]) || 0;
			var lb_threshold = (parseInt(values["lb-threshold"]) || 0) / 100;

			if ((hp <= Math.floor(hp_max * lb_threshold)) && (lb < lb_max)) {
				setAttrs({
					"lb-style": "active",
					"lb": "ACTIVE",
					"hp": hp,
					"lb-uses": lb,
					"lb-uses_max": lb_max
				});
			}
			else {
				setAttrs({
					"lb-style": "inactive",
					"lb": "INACTIVE",
					"hp": hp,
					"lb-uses": lb,
					"lb-uses_max": lb_max
				});
			}
		});
	});

	var bonusMP = [
		[0, 0, 0, 0, 0, 0, 0, 0, 0, 0],
		[0, 1, 1, 1, 1, 1, 1, 1, 1, 1],
		[0, 1, 3, 3, 3, 3, 3, 3, 3, 3],
		[0, 1, 3, 6, 6, 6, 6, 6, 6, 6],
		[0, 1, 3, 6, 10, 10, 10, 10, 10, 10],
		[0, 2, 4, 7, 11, 16, 16, 16, 16, 16],
		[0, 2, 6, 9, 13, 18, 24, 24, 24, 24],
		[0, 2, 6, 12, 16, 21, 27, 34, 34, 34],
		[0, 2, 6, 12, 20, 25, 31, 38, 46, 46],
		[0, 3, 7, 13, 21, 31, 37, 44, 52, 61],
		[0, 3, 9, 15, 23, 33, 45, 52, 60, 69],
		[0, 3, 9, 18, 26, 36, 48, 62, 70, 79],
		[0, 3, 9, 18, 30, 40, 52, 66, 82, 91],
		[0, 4, 10, 19, 31, 46, 58, 72, 88, 106],
		[0, 4, 12, 21, 33, 48, 66, 80, 96, 114],
		[0, 4, 12, 24, 36, 51, 69, 90, 106, 124],
		[0, 4, 12, 24, 40, 55, 73, 94, 118, 136],
		[0, 5, 13, 25, 41, 61, 79, 100, 124, 151]
	];


	on("change:is-undead change:con-mod change:cha-mod change:total-fort change:fort-enhance change:fort-misc change:fort-temp", function() {
		getAttrs(["is-undead", "cha-mod", "con-mod", "total-fort", "fort-enhance", "fort-misc", "fort-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var enhance = parseInt(values["fort-enhance"]) || 0;
				var misc = parseInt(values["fort-misc"]) || 0;
				var temp = parseInt(values["fort-temp"]) || 0;
				var ability = parseInt(values["is-undead"] == "undead" ? values["cha-mod"] : values["con-mod"]) || 0;
				var total = parseInt(values["is-undead"] == "undead" ? values["cha-mod"] : values["con-mod"]) + parseInt(values["total-fort"]) + enhance + misc + temp;
				setAttrs({
					"fort": total,
					"fort-enhance": enhance,
					"fort-ability": ability,
					"fort-misc": misc,
					"fort-temp": temp
				});
			}
		});
	});

	on("change:dex-mod change:total-ref change:ref-enhance change:ref-misc change:ref-temp", function() {
		getAttrs(["dex-mod", "total-ref", "ref-enhance", "ref-misc", "ref-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var enhance = parseInt(values["ref-enhance"]) || 0;
				var misc = parseInt(values["ref-misc"]) || 0;
				var temp = parseInt(values["ref-temp"]) || 0;
				var total = parseInt(values["dex-mod"]) + parseInt(values["total-ref"]) + enhance + misc + temp;
				setAttrs({
					"ref": total,
					"ref-enhance": enhance,
					"ref-misc": misc,
					"ref-temp": temp
				});
			}
		});
	});

	on("change:wis-mod change:total-will change:will-enhance change:will-misc change:will-temp", function() {
		getAttrs(["wis-mod", "total-will", "will-enhance", "will-misc", "will-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var enhance = parseInt(values["will-enhance"]) || 0;
				var misc = parseInt(values["will-misc"]) || 0;
				var temp = parseInt(values["will-temp"]) || 0;
				var total = parseInt(values["wis-mod"]) + parseInt(values["total-will"]) + enhance + misc + temp;
				setAttrs({
					"will": total,
					"will-enhance": enhance,
					"will-misc": misc,
					"will-temp": temp
				});
			}
		});
	});

	on("change:size", function() {
		getAttrs(["size"], function(values) {
			if (values["size"] == "Fine") {
				setAttrs({
					"size-mod": -8,
					"size-mod-atk": 8,
					"size-mod-skill": 4
				});
			} else if (values["size"] == "Diminutive") {
				setAttrs({
					"size-mod": -4,
					"size-mod-atk": 4,
					"size-mod-skill": 3
				});
			} else if (values["size"] == "Tiny") {
				setAttrs({
					"size-mod": -2,
					"size-mod-atk": 2,
					"size-mod-skill": 2
				});
			} else if (values["size"] == "Small") {
				setAttrs({
					"size-mod": -1,
					"size-mod-atk": 1,
					"size-mod-skill": 1
				});
			} else if (values["size"] == "Medium") {
				setAttrs({
					"size-mod": 0,
					"size-mod-atk": 0,
					"size-mod-skill": 0
				});
			} else if (values["size"] == "Large") {
				setAttrs({
					"size-mod": 1,
					"size-mod-atk": -1,
					"size-mod-skill": -1
				});
			} else if (values["size"] == "Huge") {
				setAttrs({
					"size-mod": 2,
					"size-mod-atk": -2,
					"size-mod-skill": -2
				});
			} else if (values["size"] == "Gargantuan") {
				setAttrs({
					"size-mod": 4,
					"size-mod-atk": -4,
					"size-mod-skill": -3
				});
			} else {
				setAttrs({
					"size-mod": 8,
					"size-mod-atk": -8,
					"size-mod-skill": -4
				});
			}
		});
	});

	on("change:melee-other change:str-mod change:dex-mod change:con-mod change:wis-mod change:int-mod change:cha-mod", function() {
		getAttrs(["melee-other", "str-mod", "dex-mod", "con-mod", "wis-mod", "int-mod", "cha-mod"], function(values) {
			if (values["melee-other"] == "STR") {
				setAttrs({"melee-ability": parseInt(values["str-mod"])});
			} else if (values["melee-other"] == "DEX") {
				setAttrs({"melee-ability": parseInt(values["dex-mod"])});
			} else if (values["melee-other"] == "CON") {
				setAttrs({"melee-ability": parseInt(values["con-mod"])});
			} else if (values["melee-other"] == "WIS") {
				setAttrs({"melee-ability": parseInt(values["wis-mod"])});
			} else if (values["melee-other"] == "INT") {
				setAttrs({"melee-ability": parseInt(values["int-mod"])});
			} else {
				setAttrs({"melee-ability": parseInt(values["cha-mod"])});
			}
		});
	});

	on("change:ranged-other change:str-mod change:dex-mod change:con-mod change:wis-mod change:int-mod change:cha-mod", function() {
		getAttrs(["ranged-other", "str-mod", "dex-mod", "con-mod", "wis-mod", "int-mod", "cha-mod"], function(values) {
			if (values["ranged-other"] == "STR") {
				setAttrs({"ranged-ability": parseInt(values["str-mod"])});
			} else if (values["ranged-other"] == "DEX") {
				setAttrs({"ranged-ability": parseInt(values["dex-mod"])});
			} else if (values["ranged-other"] == "CON") {
				setAttrs({"ranged-ability": parseInt(values["con-mod"])});
			} else if (values["ranged-other"] == "WIS") {
				setAttrs({"ranged-ability": parseInt(values["wis-mod"])});
			} else if (values["ranged-other"] == "INT") {
				setAttrs({"ranged-ability": parseInt(values["int-mod"])});
			} else {
				setAttrs({"ranged-ability": parseInt(values["cha-mod"])});
			}
		});
	});

	on("change:cmb-other change:str-mod change:dex-mod change:con-mod change:wis-mod change:int-mod change:cha-mod", function() {
		getAttrs(["cmb-other", "str-mod", "dex-mod", "con-mod", "wis-mod", "int-mod", "cha-mod"], function(values) {
			if (values["cmb-other"] == "STR") {
				setAttrs({"cmb-ability": parseInt(values["str-mod"])});
			} else if (values["cmb-other"] == "DEX") {
				setAttrs({"cmb-ability": parseInt(values["dex-mod"])});
			} else if (values["cmb-other"] == "CON") {
				setAttrs({"cmb-ability": parseInt(values["con-mod"])});
			} else if (values["cmb-other"] == "WIS") {
				setAttrs({"cmb-ability": parseInt(values["wis-mod"])});
			} else if (values["cmb-other"] == "INT") {
				setAttrs({"cmb-ability": parseInt(values["int-mod"])});
			} else {
				setAttrs({"cmb-ability": parseInt(values["cha-mod"])});
			}
		});
	});

	on("change:total-bab change:melee-ability change:size-mod-atk change:melee-misc change:melee-temp", function() {
		getAttrs(["total-bab", "melee-ability", "size-mod-atk", "melee-misc", "melee-temp"], function(values) {
			var misc = parseInt(values["melee-misc"]) || 0;
			var temp = parseInt(values["melee-temp"]) || 0;
			var total = parseInt(values["total-bab"]) + parseInt(values["melee-ability"]) + parseInt(values["size-mod-atk"]) + misc + temp;
			setAttrs({
				"melee-misc": misc,
				"melee-temp": temp,
				"melee-total": total
			});
		});
	});

	on("change:total-bab change:ranged-ability change:size-mod-atk change:ranged-misc change:ranged-temp", function() {
		getAttrs(["total-bab", "ranged-ability", "size-mod-atk", "ranged-misc", "ranged-temp"], function(values) {
			var misc = parseInt(values["ranged-misc"]) || 0;
			var temp = parseInt(values["ranged-temp"]) || 0;
			var total = parseInt(values["total-bab"]) + parseInt(values["ranged-ability"]) + parseInt(values["size-mod-atk"]) + misc + temp;
			setAttrs({
				"ranged-misc": misc,
				"ranged-temp": temp,
				"ranged-total": total
			});
		});
	});

	on("change:total-bab change:cmb-ability change:size-mod change:cmb-misc change:cmb-temp", function() {
		getAttrs(["total-bab", "cmb-ability", "size-mod", "cmb-misc", "cmb-temp", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var misc = parseInt(values["cmb-misc"]) || 0;
				var temp = parseInt(values["cmb-temp"]) || 0;
				var total = parseInt(values["total-bab"]) + parseInt(values["cmb-ability"]) + parseInt(values["size-mod"]) + misc + temp;
				setAttrs({
					"cmb-misc": misc,
					"cmb-temp": temp,
					"cmb-total": total
				});
			}
		});
	});

	on("change:total-bab change:cmd-ability change:size-mod change:cmd-misc change:cmd-temp change:ac-deflection-worn change:ac-deflection-bonus change:ac-dodge-bonus", function() {
		getAttrs(["total-bab", "cmd-ability", "cmd-other", "size-mod", "cmd-misc", "cmd-temp", "ac-deflection-worn", "ac-deflection-bonus", "ac-dodge-bonus", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var misc = parseInt(values["cmd-misc"]) || 0;
				var temp = parseInt(values["cmd-temp"]) || 0;
				var deflect;

				if (values["ac-deflection-worn"] == "worn") {
					deflect = parseInt(values["ac-deflection-bonus"]) || 0;
				} else {
					deflect = 0;
				}

				var dodge = parseInt(values["ac-dodge-bonus"]) || 0;
				var other = 10 + deflect + dodge;
				var total = parseInt(values["total-bab"]) + parseInt(values["cmd-ability"]) + parseInt(values["size-mod"]) + other + misc + temp;
				setAttrs({
					"cmd-other": other,
					"cmd-misc": misc,
					"cmd-temp": temp,
					"cmd-total": total
				});
			}
		});
	});

	on("change:dex-mod change:init-misc", function() {
		getAttrs(["dex-mod", "init-misc", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var initMisc = parseInt(values["init-misc"]) || 0;
				setAttrs({
					"init-total": parseInt(values["dex-mod"]) + initMisc,
					"init-misc": initMisc
				});
			}
		});
	});

	on("change:str-mod change:dex-mod change:total-bab change:size-mod change:cmd-misc change:cmd-temp", function() {
		getAttrs(["str-mod", "dex-mod", "total-bab", "size-mod", "wis-mod", "cmd-misc", "cmd-temp"], function(values) {
			setAttrs({"cmd-ability": parseInt(values["str-mod"]) + parseInt(values["dex-mod"])});
		});
	});

	var xpReq = [
	  [0, 0, 0],
	  [3000, 2000, 1300],
	  [7500, 5000, 3300],
	  [14000, 9000, 6000],
	  [23000, 15000, 10000],
	  [35000, 23000, 15000],
	  [53000, 35000, 23000],
	  [77000, 51000, 34000],
	  [115000, 75000, 50000],
	  [160000, 105000, 71000],
	  [235000, 155000, 105000],
	  [330000, 220000, 145000],
	  [475000, 315000, 210000],
	  [665000, 445000, 295000],
	  [955000, 635000, 425000],
	  [1350000, 890000, 600000],
	  [1900000, 1300000, 850000],
	  [2700000, 1800000, 1200000],
	  [3850000, 2550000, 1700000],
	  [5350000, 3600000, 2400000],
	];

	on("change:xp-rate change:level change:options-extra-lb change:options-extra-lb-amount", function() {
		getAttrs(["xp-rate", "level", "options-extra-lb", "options-extra-lb-amount"], function(values) {
			var level = parseInt(values["level"]) || 0;
			var xp;
			var lbUsesMax;
			var extraLbAmount;

			if (values["xp-rate"] == "Slow") {
				xp = xpReq[level][0];
			} else if (values["xp-rate"] == "Medium") {
				xp = xpReq[level][1];
			} else if (values["xp-rate"] == "Fast") {
				xp = xpReq[level][2];
			} else {
				return;
			}

			switch (true) {
				case (level < 5):
					lbUsesMax = 1;
					break;
				case (level < 9):
					lbUsesMax = 2;
					break;
				case (level < 13):
					lbUsesMax = 3;
					break;
				case (level <= 20):
					lbUsesMax = 4;
					break;
				default:
					lbUsesMax = 0;
					break;
			}

			if (values["options-extra-lb"] == "true") {
				extraLbAmount = parseInt(values["options-extra-lb-amount"]) || 0;
				lbUsesMax += extraLbAmount;
			} else extraLbAmount = 0;

			setAttrs({
				"xp_max": xp,
				"lb-uses_max": lbUsesMax,
				"options-extra-lb-amount": extraLbAmount
			});
		});
	});

	on("change:repeating_weapons:weapon-weight remove:repeating_weapons", function (e) {
		getSectionIDs("repeating_weapons", function (idarr) {
			if (idarr.length == 0) {
				setAttrs({"weapon-weight-total": 0 });
				return;
			}

			var totalWeight = 0;
			var weightTally = _.after(idarr.length, function () {
				totalWeight = parseFloat(totalWeight.toFixed(2));
				setAttrs({"weapon-weight-total": totalWeight });
			});
			for (var i = 0; i < idarr.length; i++) {
				getAttrs(["repeating_weapons_" + idarr[i] + "_weapon-weight"], function (v) {
					totalWeight += parseFloat(v[Object.keys(v)[0]]) || 0;
					weightTally();
				});
			}
		});
	});

	function computeAttackBonus(id) {
		getAttrs(["repeating_weapons_" + id + "_weapon-attack-modifier", "total-bab", "size-mod-atk", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod"], function (values) {
		   var attackModifier = values[Object.keys(values)[0]];
		   var attackBonus = parseInt(values["total-bab"]) + parseInt(values["size-mod-atk"]);
		   switch (attackModifier) {
			   case "---": attackBonus = 0; break;
			   case "STR": attackBonus += parseInt(values["str-mod"]); break;
			   case "DEX": attackBonus += parseInt(values["dex-mod"]); break;
			   case "CON": attackBonus += parseInt(values["con-mod"]); break;
			   case "INT": attackBonus += parseInt(values["int-mod"]); break;
			   case "WIS": attackBonus += parseInt(values["wis-mod"]); break;
			   case "CHA": attackBonus += parseInt(values["cha-mod"]); break;
			   default: attackBonus = -1;
			}
			var attrs = {};
			attrs["repeating_weapons_" + id + "_weapon-attack-bonus"] = attackBonus;
			setAttrs(attrs);
	  });
	}


	on("change:repeating_weapons:weapon-attack-modifier", function() {
		getAttrs(["repeating_weapons_weapon-attack-modifier", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "size-mod-atk", "total-bab"], function(values) {
		   var attackModifier = values[Object.keys(values)[0]];
		   var attackBonus = parseInt(values["total-bab"]) + parseInt(values["size-mod-atk"]);
		   switch (attackModifier) {
			   case "---": attackBonus = 0; break;
			   case "STR": attackBonus += parseInt(values["str-mod"]); break;
			   case "DEX": attackBonus += parseInt(values["dex-mod"]); break;
			   case "CON": attackBonus += parseInt(values["con-mod"]); break;
			   case "INT": attackBonus += parseInt(values["int-mod"]); break;
			   case "WIS": attackBonus += parseInt(values["wis-mod"]); break;
			   case "CHA": attackBonus += parseInt(values["cha-mod"]); break;
			   default: attackBonus = -1;
		   }
		   setAttrs({"repeating_weapons_weapon-attack-bonus": attackBonus});
		});
	});


	on("change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:total-bab change:size-mod-atk", function() {
		getSectionIDs("repeating_weapons", function (idarr) {
			idarr.forEach(function(id) {
				computeAttackBonus(id);
			});
		});
	});

	on("change:total-mp change:int-mod change:wis-mod change:cha-mod change:class-0-clevel change:class-1-clevel change:class-2-clevel change:class-3-clevel change:class-0-bonusmp change:class-1-bonusmp change:class-2-bonusmp change:class-3-bonusmp", function() {
		getAttrs(["int-mod", "wis-mod", "cha-mod", "total-mp", "class-0-clevel", "class-1-clevel", "class-2-clevel", "class-3-clevel", "class-0-bonusmp", "class-1-bonusmp", "class-2-bonusmp", "class-3-bonusmp", "mp-temp", "mp-lost"], function(values) {
			var bonusMP0, bonusMP1, bonusMP2, bonusMP3, bonusMP4;

			if (values["class-0-bonusmp"] == 0) {
				bonusMP0 = 0;
			} else if (values["class-0-bonusmp"] == "INT") {
				bonusMP0 = values["int-mod"];
			} else if (values["class-0-bonusmp"] == "WIS") {
				bonusMP0 = values["wis-mod"];
			} else {
				bonusMP0 = values["cha-mod"];
			}

			if (values["class-1-bonusmp"] == 0) {
				bonusMP1 = 0;
			} else if (values["class-1-bonusmp"] == "INT") {
				bonusMP1 = values["int-mod"];
			} else if (values["class-1-bonusmp"] == "WIS") {
				bonusMP1 = values["wis-mod"];
			} else {
				bonusMP1 = values["cha-mod"];
			}

			if (values["class-2-bonusmp"] == 0) {
				bonusMP2 = 0;
			} else if (values["class-2-bonusmp"] == "INT") {
				bonusMP2 = values["int-mod"];
			} else if (values["class-2-bonusmp"] == "WIS") {
				bonusMP2 = values["wis-mod"];
			} else {
				bonusMP2 = values["cha-mod"];
			}

			if (values["class-3-bonusmp"] == 0) {
				bonusMP3 = 0;
			} else if (values["class-3-bonusmp"] == "INT") {
				bonusMP3 = values["int-mod"];
			} else if (values["class-3-bonusmp"] == "WIS") {
				bonusMP3 = values["wis-mod"];
			} else {
				bonusMP3 = values["cha-mod"];
			}

			var class0 = parseInt(values["class-0-clevel"]) || 0;
			var class1 = parseInt(values["class-1-clevel"]) || 0;
			var class2 = parseInt(values["class-2-clevel"]) || 0;
			var class3 = parseInt(values["class-3-clevel"]) || 0;
			var tableMP = bonusMP[bonusMP0][class0] + bonusMP[bonusMP1][class1] + bonusMP[bonusMP2][class2] + bonusMP[bonusMP3][class3];

			setAttrs({
				"class-0-clevel": class0,
				"class-1-clevel": class1,
				"class-2-clevel": class2,
				"class-3-clevel": class3,
				"total-bonusmp": tableMP,
				"total-bonusmp-display": "+" + tableMP,
				"mp_max": tableMP + parseInt(values["total-mp"])
			});
		});
	});

	on("change:ac-armor-worn change:ac-shield-worn change:ac-natural-worn change:ac-deflection-worn change:ac-armor-bonus change:ac-shield-bonus change:ac-natural-bonus \
	change:ac-deflection-bonus change:ac-dodge-bonus change:ac-misc-bonus change:ac-armor-penalty change:ac-shield-penalty change:ac-armor-sf change:ac-shield-sf change:ac-armor-weight \
	change:ac-shield-weight change:ac-natural-weight change:ac-deflection-weight change:ac-armor-maxdex change:ac-shield-maxdex change:dex-mod", function() {
		getAttrs(["ac-armor-worn", "ac-armor-bonus", "ac-armor-penalty", "ac-armor-sf", "ac-armor-weight", "ac-armor-maxdex",
		"ac-shield-worn", "ac-shield-bonus", "ac-shield-penalty", "ac-shield-sf", "ac-shield-weight", "ac-shield-maxdex",
		"ac-natural-worn", "ac-natural-bonus", "ac-natural-weight", "ac-deflection-worn", "ac-deflection-bonus", "ac-deflection-weight", "ac-dodge-bonus", "ac-misc-bonus", "dex-mod"], function(values) {
			var acArmorBonus = 0, acArmorACP = 0, acArmorSF = 0, acArmorWeight = 0, acArmorMaxDEX = 0;
			var acShieldBonus = 0, acShieldACP = 0, acShieldSF = 0, acShieldWeight = 0, acShieldMaxDEX = 0;
			var acNaturalBonus = 0, acNaturalWeight = 0;
			var acDeflectionBonus = 0, acDeflectionWeight = 0;
			var acDodgeBonus = parseInt(values["ac-dodge-bonus"]) || 0;
			var acMiscBonus = parseInt(values["ac-misc-bonus"]) || 0;

			if (values["ac-armor-worn"] == "worn") {
				acArmorBonus = parseInt(values["ac-armor-bonus"]) || 0;
				acArmorACP = parseInt(values["ac-armor-penalty"]) || 0;
				acArmorSF = parseInt(values["ac-armor-sf"]) || 0;
				acArmorWeight = parseFloat(values["ac-armor-weight"]) || 0;
				acArmorMaxDEX = parseInt(values["ac-armor-maxdex"]) || 0;
			}

			if (values["ac-shield-worn"] == "worn") {
				acShieldBonus = parseInt(values["ac-shield-bonus"]) || 0;
				acShieldACP = parseInt(values["ac-shield-penalty"]) || 0;
				acShieldSF = parseInt(values["ac-shield-sf"]) || 0;
				acShieldWeight = parseFloat(values["ac-shield-weight"]) || 0;
				acShieldMaxDEX = parseInt(values["ac-shield-maxdex"]) || 0;
			}

			if (values["ac-natural-worn"] == "worn") {
				acNaturalBonus = parseInt(values["ac-natural-bonus"]) || 0;
				acNaturalWeight = parseFloat(values["ac-natural-weight"]) || 0;
			}

			if (values["ac-deflection-worn"] == "worn") {
				acDeflectionBonus = parseInt(values["ac-deflection-bonus"]) || 0;
				acDeflectionWeight = parseFloat(values["ac-deflection-weight"]) || 0;
			}

			var totalWeight = parseFloat((acArmorWeight + acShieldWeight + acNaturalWeight + acDeflectionWeight).toFixed(2));

			setAttrs({
				"ac-armor": acArmorBonus,
				"ac-shield": acShieldBonus,
				"ac-natural": acNaturalBonus,
				"ac-deflection": acDeflectionBonus,
				"ac-armor-bonus": parseInt(values["ac-armor-bonus"]) || 0,
				"ac-shield-bonus": parseInt(values["ac-shield-bonus"]) || 0,
				"ac-natural-bonus": parseInt(values["ac-natural-bonus"]) || 0,
				"ac-deflection-bonus": parseInt(values["ac-deflection-bonus"]) || 0,
				"ac-armor-penalty": parseInt(values["ac-armor-penalty"]) || 0,
				"ac-shield-penalty": parseInt(values["ac-shield-penalty"]) || 0,
				"ac-dodge-bonus": acDodgeBonus,
				"ac-misc-bonus": acMiscBonus,
				"ac-armor-maxdex": parseInt(values["ac-armor-maxdex"]) || 0,
				"ac-shield-maxdex": parseInt(values["ac-shield-maxdex"]) || 0,
				"ac-armor-sf": parseInt(values["ac-armor-sf"]) || 0,
				"ac-shield-sf": parseInt(values["ac-shield-sf"]) || 0,
				"ac-armor-weight": parseFloat(values["ac-armor-weight"]) || 0,
				"ac-shield-weight": parseFloat(values["ac-shield-weight"]) || 0,
				"ac-natural-weight": parseFloat(values["ac-natural-weight"]) || 0,
				"ac-deflection-weight": parseFloat(values["ac-deflection-weight"]) || 0,
				"ac-total-bonus": acArmorBonus + acShieldBonus + acNaturalBonus + acDeflectionBonus + acDodgeBonus + acMiscBonus,
				"ac-total-penalty": acArmorACP + acShieldACP,
				"ac-total-sf": (acArmorSF + acShieldSF),
				"ac-weight-total": totalWeight
			});

			if ((values["ac-armor-worn"] == "worn") && (values["ac-shield-worn"] == "worn")) {
				var maxdex = Math.min(parseInt(values["ac-armor-maxdex"]), parseInt(values["ac-shield-maxdex"]));
				setAttrs({
					"ac-total-maxdex": maxdex,
					"ac-dex": Math.min(maxdex, parseInt(values["dex-mod"]))
				});
			} else if ((values["ac-armor-worn"] != "worn") && (values["ac-shield-worn"] == "worn")) {
				var maxdex = parseInt(values["ac-shield-maxdex"]);
				setAttrs({
					"ac-total-maxdex": maxdex,
					"ac-dex": Math.min(maxdex, parseInt(values["dex-mod"]))
				});
			} else if ((values["ac-armor-worn"] == "worn") && (values["ac-shield-worn"] != "worn")) {
				var maxdex = parseInt(values["ac-armor-maxdex"]);
				setAttrs({
					"ac-total-maxdex": maxdex,
					"ac-dex": Math.min(maxdex, parseInt(values["dex-mod"]))
				});
			} else {
				setAttrs({
					"ac-total-maxdex": parseInt(values["dex-mod"]),
					"ac-dex": parseInt(values["dex-mod"])
				});
			}
		});
	});

	on("change:equip-head-weight change:equip-headband-weight change:equip-eyes-weight change:equip-shoulders-weight change:equip-neck-weight change:equip-chest-weight \
	change:equip-body-weight change:equip-belt-weight change:equip-wrists-weight change:equip-hands-weight change:equip-ring1-weight change:equip-ring2-weight change:equip-feet-weight", function(eventInfo) {
		getAttrs(["equip-head-weight", "equip-headband-weight", "equip-eyes-weight", "equip-shoulders-weight", "equip-neck-weight", "equip-chest-weight", "equip-body-weight",
		"equip-belt-weight", "equip-wrists-weight", "equip-hands-weight", "equip-ring1-weight", "equip-ring2-weight", "equip-feet-weight"], function(values) {
			var headWeight = parseFloat(values["equip-head-weight"]) || 0;
			var headbandWeight = parseFloat(values["equip-headband-weight"]) || 0;
			var eyesWeight = parseFloat(values["equip-eyes-weight"]) || 0;
			var shouldersWeight = parseFloat(values["equip-shoulders-weight"]) || 0;
			var neckWeight = parseFloat(values["equip-neck-weight"]) || 0;
			var chestWeight = parseFloat(values["equip-chest-weight"]) || 0;
			var bodyWeight = parseFloat(values["equip-body-weight"]) || 0;
			var beltWeight = parseFloat(values["equip-belt-weight"]) || 0;
			var wristsWeight = parseFloat(values["equip-wrists-weight"]) || 0;
			var handsWeight = parseFloat(values["equip-hands-weight"]) || 0;
			var ring1Weight = parseFloat(values["equip-ring1-weight"]) || 0;
			var ring2Weight = parseFloat(values["equip-ring2-weight"]) || 0;
			var feetWeight = parseFloat(values["equip-feet-weight"]) || 0;
			var total = parseFloat((headWeight + headbandWeight + eyesWeight + shouldersWeight + neckWeight + chestWeight + bodyWeight + beltWeight + wristsWeight + handsWeight + ring1Weight + ring2Weight + feetWeight).toFixed(2));

			setAttrs({
				"equip-weight-total": total,
				"equip-head-weight": headWeight,
				"equip-headband-weight": headbandWeight,
				"equip-eyes-weight": eyesWeight,
				"equip-shoulders-weight": shouldersWeight,
				"equip-neck-weight": neckWeight,
				"equip-chest-weight": chestWeight,
				"equip-body-weight": bodyWeight,
				"equip-belt-weight": beltWeight,
				"equip-wrists-weight": wristsWeight,
				"equip-hands-weight": handsWeight,
				"equip-ring1-weight": ring1Weight,
				"equip-ring2-weight": ring2Weight,
				"equip-feet-weight": feetWeight
			});
		});
	});

	on("change:ac-dex change:size-mod-atk change:ac-armor change:ac-shield change:ac-natural change:ac-deflection change:ac-dodge-bonus change:ac-misc-bonus change:ac-temp change:ac-touch-temp change:ac-flatfooted-temp change:uncanny-dodge", function(eventInfo) {
		getAttrs(["ac-dex", "size-mod-atk", "ac-armor", "ac-shield", "ac-natural", "ac-deflection", "ac-dodge-bonus", "ac-misc-bonus", "ac-temp", "ac-touch-temp", "ac-flatfooted-temp", "uncanny-dodge", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var acTemp = parseInt(values["ac-temp"]) || 0;
				var acTouchTemp = parseInt(values["ac-touch-temp"]) || 0;
				var acFlatFootedTemp = parseInt(values["ac-flatfooted-temp"]) || 0;
				var acDodgeBonus = parseInt(values["ac-dodge-bonus"]) || 0;
				var acMiscBonus = parseInt(values["ac-misc-bonus"]) || 0;

				if (values["uncanny-dodge"] == "checked") {
					setAttrs({
						"ac-temp": acTemp,
						"ac-touch-temp": acTouchTemp,
						"ac-flatfooted-temp": acFlatFootedTemp,
						"ac-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + acDodgeBonus + acTemp,
						"ac-touch-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-dodge-bonus"]) + acTouchTemp,
						"ac-flatfooted-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + acDodgeBonus + acFlatFootedTemp,
						"ac-dex-ff": parseInt(values["ac-dex"]),
						"ac-dodge-bonus-ff": acDodgeBonus
					});
				} else {
					if (values["ac-dex"] < 0 ) {
						setAttrs({
							"ac-temp": acTemp,
							"ac-touch-temp": acTouchTemp,
							"ac-flatfooted-temp": acFlatFootedTemp,
							"ac-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-dodge-bonus"]) + acTemp,
							"ac-touch-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-dodge-bonus"]) + acTouchTemp,
							"ac-flatfooted-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + acFlatFootedTemp,
							"ac-dex-ff": parseInt(values["ac-dex"]),
							"ac-dodge-bonus-ff": "---"
						});
					} else {
						setAttrs({
							"ac-temp": acTemp,
							"ac-touch-temp": acTouchTemp,
							"ac-flatfooted-temp": acFlatFootedTemp,
							"ac-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-dodge-bonus"]) + acTemp,
							"ac-touch-total": 10 + parseInt(values["ac-dex"]) + parseInt(values["size-mod-atk"]) + parseInt(values["ac-deflection"]) + parseInt(values["ac-dodge-bonus"]) + parseInt(values["ac-misc-bonus"]) + acTouchTemp,
							"ac-flatfooted-total": 10 + parseInt(values["size-mod-atk"]) + parseInt(values["ac-armor"]) + parseInt(values["ac-shield"]) + parseInt(values["ac-natural"]) + parseInt(values["ac-misc-bonus"]) + parseInt(values["ac-deflection"]) + acFlatFootedTemp,
							"ac-dex-ff": "---",
							"ac-dodge-bonus-ff": "---"
						});
					}
				}
			}
		});
	});

	on("change:weapon-weight-total change:ac-weight-total change:load-bonus change:equip-weight-total change:inventory-weight-total change:misc-weight change:str change:size", function(e) {
		getAttrs(["weapon-weight-total", "ac-weight-total", "load-bonus", "equip-weight-total", "inventory-weight-total", "misc-weight", "str", "size"], function(values) {

			var loadBonus = parseFloat(values["load-bonus"]) || 0;
			var weaponWeight = parseFloat(values["weapon-weight-total"]) || 0;
			var acWeight = parseFloat(values["ac-weight-total"]) || 0;
			var equipWeight = parseFloat(values["equip-weight-total"]) || 0;
			var inventoryWeight = parseFloat(values["inventory-weight-total"]) || 0;
			var miscWeight = parseFloat(values["misc-weight"]) || 0;
			var totalWeight = parseFloat((weaponWeight + acWeight + equipWeight + inventoryWeight + miscWeight).toFixed(2));
			var str = (parseInt(values["str"]) || 0 )+ loadBonus;
			var base = str - 10 * Math.floor(str / 10);
			var baseLookup = [25, 28.75, 32.5, 37.5, 43.75, 50, 57.5, 65, 75, 87.5];
			var maxHeavyLoad = 0;
			var sizeMultiplier = 1;
			console.log(str,loadBonus);

			switch(values["size"]) {
				case "Fine":
					sizeMultiplier = 1 / 8;
					break;
				case "Diminutive":
					sizeMultiplier = 1 / 4;
					break;
				case "Tiny":
					sizeMultiplier = 1 / 2;
					break;
				case "Small":
					sizeMultiplier = 3 / 4;
					break;
				case "Large":
					sizeMultiplier = 2;
					break;
				case "Huge":
					sizeMultiplier = 4;
					break;
				case "Gargantuan":
					sizeMultiplier = 8;
					break;
				case "Colossal":
					sizeMultiplier = 16;
					break;
				default:
					sizeMultiplier = 1;
			}

			if (str <= 10) { maxHeavyLoad = sizeMultiplier * (str * 10); }
			else { maxHeavyLoad = Math.floor(sizeMultiplier * (baseLookup[base] * Math.pow(4, Math.floor(str / 10)))); }

			var maxMediumLoad = Math.floor(maxHeavyLoad * (2/3));
			var maxLightLoad = Math.floor(maxHeavyLoad * (1/3));
			var maxLift = maxHeavyLoad * 2;
			var maxPushDrag = maxHeavyLoad * 5;
			var currentLoad = "";

			if (totalWeight <= maxLightLoad) { currentLoad = "Light"; }
			else if (totalWeight <= maxMediumLoad && totalWeight > maxLightLoad) { currentLoad = "Medium"; }
			else if (totalWeight <= maxHeavyLoad && totalWeight > maxMediumLoad) { currentLoad = "Heavy"; }
			else { currentLoad = "Overburdened"; }

			setAttrs({
				"weight-total": totalWeight,
				"misc-weight": miscWeight,
				"load-light": "0-" + maxLightLoad,
				"load-medium": (maxLightLoad + 1) + "-" + maxMediumLoad,
				"load-heavy": (maxMediumLoad + 1) + "-" + maxHeavyLoad,
				"load-current": currentLoad,
				"load-max-lift-head": maxHeavyLoad,
				"load-max-lift-ground": maxLift,
				"load-max-push-drag": maxPushDrag,
				"load-bonus": loadBonus
			});
		});
	});

	on("change:repeating_inventory:inventory-item-weight remove:repeating_inventory", function (e) {
		getSectionIDs("repeating_inventory", function (idarr) {
			if (idarr.length == 0) {
				setAttrs({ "inventory-weight-total": 0 });
				return;
			}

			var totalWeight = 0;
			var weightTally = _.after(idarr.length, function () {
				totalWeight = parseFloat(totalWeight.toFixed(2));
				setAttrs({ "inventory-weight-total": totalWeight });
			});
			for (var i = 0; i < idarr.length; i++) {
				getAttrs(["repeating_inventory_" + idarr[i] + "_inventory-item-weight"], function (v) {
					totalWeight += parseFloat(v[Object.keys(v)[0]]) || 0;
					weightTally();
				});
			}
		});
	});

	on("change:repeating_materia:materia-type", function(eventInfo) {
		getAttrs([eventInfo.sourceAttribute], function(values) {
			if (values[eventInfo.sourceAttribute] == "Type") {
				setAttrs({"repeating_materia_materia-type-style": "none"});
			} else if (values[eventInfo.sourceAttribute] == "Ability") {
				setAttrs({"repeating_materia_materia-type-style": "ability"});
			} else if (values[eventInfo.sourceAttribute] == "Independent") {
				setAttrs({"repeating_materia_materia-type-style": "independent"});
			} else if (values[eventInfo.sourceAttribute] == "Spell") {
				setAttrs({"repeating_materia_materia-type-style": "spell"});
			} else if (values[eventInfo.sourceAttribute] == "Summon") {
				setAttrs({"repeating_materia_materia-type-style": "summon"});
			} else {
				setAttrs({"repeating_materia_materia-type-style": "support"});
			}
		});
	});

	on("change:repeating_materia:materia-rarity change:repeating_materia:materia-mxp", function() {
	   getAttrs(["repeating_materia_materia-rarity", "repeating_materia_materia-mxp"], function(values) {
			var level = "????";
			var mxp = parseInt(values["repeating_materia_materia-mxp"]) || 0, mxpmax = 0;

			if (values["repeating_materia_materia-rarity"] == "Common") {
				if ((mxp >= 0) && (mxp < 500)) {
					level = "★✰✰✰";
					mxpmax = 500;
				} else if ((mxp >= 500) && (mxp < 1000)) {
					level = "★★✰✰";
					mxpmax = 1000;
				} else if ((mxp >= 1000) && (mxp < 2000)) {
					level = "★★★✰";
					mxpmax = 2000;
				} else if (mxp >= 2000) {
					level = "★★★★";
					mxpmax = "---";
				} else {
					level = "✰✰✰✰";
					mxpmax = "---";
				}
			} else if (values["repeating_materia_materia-rarity"] == "Uncommon") {
				if ((mxp >= 500) && (mxp < 1000)) {
					level = "★✰✰✰";
					mxpmax = 1000;
				} else if ((mxp >= 1000) && (mxp < 2000)) {
					level = "★★✰✰";
					mxpmax = 2000;
				} else if ((mxp >= 2000) && (mxp < 4000)) {
					level = "★★★✰";
					mxpmax = 4000;
				} else if (mxp >= 4000) {
					level = "★★★★";
					mxpmax = "---";
				} else {
					level = "✰✰✰✰";
					mxpmax = 500;
				}
			} else if (values["repeating_materia_materia-rarity"] == "Rare") {
				if ((mxp >= 750) && (mxp < 1500)) {
					level = "★✰✰✰";
					mxpmax = 1500;
				} else if ((mxp >= 1500) && (mxp < 3000)) {
					level = "★★✰✰";
					mxpmax = 3000;
				} else if ((mxp >= 3000) && (mxp < 6000)) {
					level = "★★★✰";
					mxpmax = 6000;
				} else if (mxp >= 6000) {
					level = "★★★★";
					mxpmax = "---";
				} else {
					level = "✰✰✰✰";
					mxpmax = 750;
				}
			} else if (values["repeating_materia_materia-rarity"] == "Legendary") {
				if ((mxp >= 1000) && (mxp < 2000)) {
					level = "★✰✰✰";
					mxpmax = 2000;
				} else if ((mxp >= 2000) && (mxp < 4000)) {
					level = "★★✰✰";
					mxpmax = 4000;
				} else if ((mxp >= 4000) && (mxp < 8000)) {
					level = "★★★✰";
					mxpmax = 8000;
				} else if (mxp >= 8000) {
					level = "★★★★";
					mxpmax = "---"
				} else {
					level = "✰✰✰✰";
					mxpmax = 1000;
				}
			} else {
				level = "✰✰✰✰";
				mxpmax = "---";
			}

			setAttrs({
				"repeating_materia_materia-level": level,
				"repeating_materia_materia-mxp_max": mxpmax,
				"repeating_materia_materia-mxp": mxp
			});
	   });
	});

	on("change:repeating_materia:materia-attuned", function(eventInfo) {
		getAttrs(["options-materia-attunement"], function(values) {
			if (values["options-materia-attunement"] != "true") {
				var id = eventInfo.sourceAttribute;

				getAttrs([eventInfo.sourceAttribute], function(values) {
					if (values[eventInfo.sourceAttribute] == "attuned") {
						getSectionIDs("repeating_materia", function (idarr) {
							for (var i = 0; i < idarr.length; i++) {
								if (id != "repeating_materia_" + idarr[i] + "_materia-attuned") {
									setAttrs({ ["repeating_materia_" + idarr[i] + "_materia-attuned"]: "0" });
								}
							}
						});
					}
				});
			}
		});
	});

	on("change:acrobatics-ranks change:appraise-ranks change:bluff-ranks change:climb-ranks change:craft1-ranks change:craft2-ranks change:craft3-ranks \
	change:diplomacy-ranks change:disabledevice-ranks change:disguise-ranks change:drive-ranks change:escapeartist-ranks change:fly-ranks change:handleanimal-ranks \
	change:heal-ranks change:intimidate-ranks change:knowarcana-ranks change:knowdungeon-ranks change:knowengineer-ranks change:knowgeography-ranks \
	change:knowhistory-ranks change:knowlocal-ranks change:knownature-ranks change:knownobility-ranks change:knowplanes-ranks change:knowreligion-ranks \
	change:knowtechnology-ranks change:linguistics-ranks change:navigate-ranks change:perception-ranks change:perform1-ranks change:perform2-ranks \
	change:perform3-ranks change:pilot-ranks change:prof1-ranks change:prof2-ranks change:prof3-ranks change:repair-ranks change:ride-ranks change:sensemotive-ranks \
	change:sleightofhand-ranks change:spellcraft-ranks change:stealth-ranks change:survival-ranks change:swim-ranks change:usemagicdevice-ranks", function() {
		getAttrs(["acrobatics-ranks", "appraise-ranks", "bluff-ranks", "climb-ranks", "craft1-ranks", "craft2-ranks", "craft3-ranks", "diplomacy-ranks",
		"disabledevice-ranks", "disguise-ranks", "drive-ranks", "escapeartist-ranks", "fly-ranks", "handleanimal-ranks", "heal-ranks", "intimidate-ranks",
		"knowarcana-ranks", "knowdungeon-ranks", "knowengineer-ranks", "knowgeography-ranks", "knowhistory-ranks", "knowlocal-ranks", "knownature-ranks",
		"knownobility-ranks", "knowplanes-ranks", "knowreligion-ranks", "knowtechnology-ranks", "linguistics-ranks", "navigate-ranks", "perception-ranks",
		"perform1-ranks", "perform2-ranks", "perform3-ranks", "pilot-ranks", "prof1-ranks", "prof2-ranks", "prof3-ranks", "repair-ranks", "ride-ranks",
		"sensemotive-ranks", "sleightofhand-ranks", "spellcraft-ranks", "stealth-ranks", "survival-ranks", "swim-ranks", "usemagicdevice-ranks"], function(values) {
			var totalRanks = (parseInt(values["acrobatics-ranks"]) || 0) + (parseInt(values["appraise-ranks"]) || 0) + (parseInt(values["bluff-ranks"]) || 0) +
			(parseInt(values["climb-ranks"]) || 0) + (parseInt(values["craft1-ranks"]) || 0) + (parseInt(values["craft2-ranks"]) || 0) + (parseInt(values["craft3-ranks"]) || 0) +
			(parseInt(values["diplomacy-ranks"]) || 0) + (parseInt(values["disabledevice-ranks"]) || 0) + (parseInt(values["disguise-ranks"]) || 0) +
			(parseInt(values["drive-ranks"]) || 0) + (parseInt(values["escapeartist-ranks"]) || 0) + (parseInt(values["fly-ranks"]) || 0) + (parseInt(values["handleanimal-ranks"]) || 0) +
			(parseInt(values["heal-ranks"]) || 0) + (parseInt(values["intimidate-ranks"]) || 0) + (parseInt(values["knowarcana-ranks"]) || 0) + (parseInt(values["knowdungeon-ranks"]) || 0) +
			(parseInt(values["knowengineer-ranks"]) || 0) + (parseInt(values["knowgeography-ranks"]) || 0) + (parseInt(values["knowhistory-ranks"]) || 0) +
			(parseInt(values["knowlocal-ranks"]) || 0) + (parseInt(values["knownature-ranks"]) || 0) + (parseInt(values["knownobility-ranks"]) || 0) +
			(parseInt(values["knowplanes-ranks"]) || 0) + (parseInt(values["knowreligion-ranks"]) || 0) + (parseInt(values["knowtechnology-ranks"]) || 0) +
			(parseInt(values["linguistics-ranks"]) || 0) + (parseInt(values["navigate-ranks"]) || 0) + (parseInt(values["perception-ranks"]) || 0) +
			(parseInt(values["perform1-ranks"]) || 0) + (parseInt(values["perform2-ranks"]) || 0) + (parseInt(values["perform3-ranks"]) || 0) +
			(parseInt(values["pilot-ranks"]) || 0) + (parseInt(values["prof1-ranks"]) || 0) + (parseInt(values["prof2-ranks"]) || 0) + (parseInt(values["prof3-ranks"]) || 0) +
			(parseInt(values["repair-ranks"]) || 0) + (parseInt(values["ride-ranks"]) || 0) + (parseInt(values["sensemotive-ranks"]) || 0) +
			(parseInt(values["sleightofhand-ranks"]) || 0) + (parseInt(values["spellcraft-ranks"]) || 0) + (parseInt(values["stealth-ranks"]) || 0) +
			(parseInt(values["survival-ranks"]) || 0) + (parseInt(values["swim-ranks"]) || 0) + (parseInt(values["usemagicdevice-ranks"]) || 0);

			setAttrs({"total-ranks": totalRanks});
		 });
	});

	on("change:acrobatics-ability change:acrobatics-cs change:acrobatics-ranks change:acrobatics-misc change:acrobatics-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["acrobatics-cs", "acrobatics-ability", "acrobatics-ranks", "acrobatics-misc", "acrobatics-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["acrobatics-ranks"]) || 0;
				var misc = parseInt(values["acrobatics-misc"]) || 0;
				var mod = parseInt(values[values["acrobatics-ability"]]) || 0;
				var total = 0, totalBonus = 0;

				if (values["acrobatics-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["acrobatics-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"acrobatics-mod": mod,
					"acrobatics-total": total,
					"acrobatics-ranks": ranks,
					"acrobatics-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"acrobatics-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"acrobatics-bonus": totalBonus});
				} else {
					setAttrs({"acrobatics-bonus": " "});
				}
			}
		});
	});

	on("change:appraise-ability change:appraise-cs change:appraise-ranks change:appraise-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["appraise-cs", "appraise-ranks", "appraise-ability", "appraise-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["appraise-ranks"]) || 0;
				var misc = parseInt(values["appraise-misc"]) || 0;
				var mod = parseInt(values[values["appraise-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["appraise-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"appraise-mod":mod,
					"appraise-total": total,
					"appraise-ranks": ranks,
					"appraise-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"appraise-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"appraise-bonus": totalBonus});
				} else {
					setAttrs({"appraise-bonus": " "});
				}
			}
		});
	});

	on("change:bluff-ability change:bluff-cs change:bluff-ranks change:bluff-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["bluff-cs", "bluff-ranks", "bluff-ability", "bluff-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["bluff-ranks"]) || 0;
				var misc = parseInt(values["bluff-misc"]) || 0;
				var mod = parseInt(values[values["bluff-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["bluff-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"bluff-mod":mod,
					"bluff-total": total,
					"bluff-ranks": ranks,
					"bluff-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"bluff-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"bluff-bonus": totalBonus});
				} else {
					setAttrs({"bluff-bonus": " "});
				}
			}
		});
	});

	on("change:climb-ability change:climb-cs change:climb-ranks change:climb-misc change:climb-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["climb-cs", "climb-ranks", "climb-ability", "climb-misc", "climb-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["climb-ranks"]) || 0;
				var misc = parseInt(values["climb-misc"]) || 0;
				var mod = parseInt(values[values["climb-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["climb-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["climb-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"climb-mod":mod,
					"climb-total": total,
					"climb-ranks": ranks,
					"climb-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"climb-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"climb-bonus": totalBonus});
				} else {
					setAttrs({"climb-bonus": " "});
				}
			}
		});
	});

	on("change:craft1-ability change:craft1-cs change:craft1-ranks change:craft1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["craft1-cs", "craft1-ranks", "craft1-ability", "craft1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["craft1-ranks"]) || 0;
				var misc = parseInt(values["craft1-misc"]) || 0;
				var mod = parseInt(values[values["craft1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["craft1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"craft1-mod":mod,
					"craft1-total": total,
					"craft1-ranks": ranks,
					"craft1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"craft1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"craft1-bonus": totalBonus});
				} else {
					setAttrs({"craft1-bonus": " "});
				}
			}
		});
	});

	on("change:craft2-ability change:craft2-cs change:craft2-ranks change:craft2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["craft2-cs", "craft2-ranks", "craft2-ability", "craft2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["craft2-ranks"]) || 0;
				var misc = parseInt(values["craft2-misc"]) || 0;
				var mod = parseInt(values[values["craft2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["craft2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}


				setAttrs({
					"craft2-mod":mod,
					"craft2-total": total,
					"craft2-ranks": ranks,
					"craft2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"craft2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"craft2-bonus": totalBonus});
				} else {
					setAttrs({"craft2-bonus": " "});
				}
			}
		});
	});

	on("change:craft3-ability change:craft3-cs change:craft3-ranks change:craft3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["craft3-cs", "craft3-ranks", "craft3-ability", "craft3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["craft3-ranks"]) || 0;
				var misc = parseInt(values["craft3-misc"]) || 0;
				var mod = parseInt(values[values["craft3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["craft3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"craft3-mod":mod,
					"craft3-total": total,
					"craft3-ranks": ranks,
					"craft3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"craft3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"craft3-bonus": totalBonus});
				} else {
					setAttrs({"craft3-bonus": " "});
				}
			}
		});
	});

	on("change:diplomacy-ability change:diplomacy-cs change:diplomacy-ranks change:diplomacy-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["diplomacy-cs", "diplomacy-ranks", "diplomacy-ability", "diplomacy-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["diplomacy-ranks"]) || 0;
				var misc = parseInt(values["diplomacy-misc"]) || 0;
				var mod = parseInt(values[values["diplomacy-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["diplomacy-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"diplomacy-mod":mod,
					"diplomacy-total": total,
					"diplomacy-ranks": ranks,
					"diplomacy-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"diplomacy-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"diplomacy-bonus": totalBonus});
				} else {
					setAttrs({"diplomacy-bonus": " "});
				}
			}
		});
	});

	on("change:disabledevice-ability change:disabledevice-cs change:disabledevice-ranks change:disabledevice-misc change:disabledevice-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["disabledevice-cs", "disabledevice-ranks", "disabledevice-ability", "disabledevice-misc", "disabledevice-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["disabledevice-ranks"]) || 0;
				var misc = parseInt(values["disabledevice-misc"]) || 0;
				var mod = parseInt(values[values["disabledevice-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["disabledevice-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["disabledevice-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"disabledevice-mod":mod,
					"disabledevice-total": total,
					"disabledevice-ranks": ranks,
					"disabledevice-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"disabledevice-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"disabledevice-bonus": totalBonus});
				} else {
					setAttrs({"disabledevice-bonus": " "});
				}
			}
		});
	});

	on("change:disguise-ability change:disguise-cs change:disguise-ranks change:disguise-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["disguise-cs", "disguise-ranks", "disguise-ability", "disguise-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["disguise-ranks"]) || 0;
				var misc = parseInt(values["disguise-misc"]) || 0;
				var mod = parseInt(values[values["disguise-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["disguise-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"disguise-mod":mod,
					"disguise-total": total,
					"disguise-ranks": ranks,
					"disguise-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"disguise-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"disguise-bonus": totalBonus});
				} else {
					setAttrs({"disguise-bonus": " "});
				}
			}
		});
	});

	on("change:drive-ability change:drive-cs change:drive-ranks change:drive-misc change:drive-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["drive-cs", "drive-ranks", "drive-ability", "drive-misc", "drive-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["drive-ranks"]) || 0;
				var misc = parseInt(values["drive-misc"]) || 0;
				var mod = parseInt(values[values["drive-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["drive-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["drive-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"drive-mod":mod,
					"drive-total": total,
					"drive-ranks": ranks,
					"drive-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"drive-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"drive-bonus": totalBonus});
				} else {
					setAttrs({"drive-bonus": " "});
				}
			}
		});
	});

	on("change:escapeartist-ability change:escapeartist-cs change:escapeartist-ranks change:escapeartist-misc change:escapeartist-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["escapeartist-cs", "escapeartist-ranks", "escapeartist-ability", "escapeartist-misc", "escapeartist-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["escapeartist-ranks"]) || 0;
				var misc = parseInt(values["escapeartist-misc"]) || 0;
				var mod = parseInt(values[values["escapeartist-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["escapeartist-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["escapeartist-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"escapeartist-mod":mod,
					"escapeartist-total": total,
					"escapeartist-ranks": ranks,
					"escapeartist-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"escapeartist-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"escapeartist-bonus": totalBonus});
				} else {
					setAttrs({"escapeartist-bonus": " "});
				}
			}
		});
	});

	on("change:fly-ability change:fly-cs change:fly-ranks change:fly-misc change:fly-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty change:size-mod-skill", function() {
		getAttrs(["fly-cs", "fly-ranks", "fly-ability", "fly-misc", "fly-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type","size-mod-skill"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["fly-ranks"]) || 0;
				var misc = parseInt(values["fly-misc"]) || 0;
				var mod = parseInt(values[values["fly-ability"]]) || 0;
				var size = parseInt(values["size-mod-skill"]) || 0;
				var total = 0, totalBonus = size * 2;

				if (values["fly-cs"] == "trained" && ranks >= 1) {
					totalBonus += 3
				}

				total = totalBonus + ranks + misc + mod;

				if (values["fly-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"fly-mod": mod,
					"fly-total": total,
					"fly-ranks": ranks,
					"fly-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"fly-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"fly-bonus": totalBonus});
				} else {
					setAttrs({"fly-bonus": " "});
				}
			}
		});
	});

	on("change:handleanimal-ability change:handleanimal-cs change:handleanimal-ranks change:handleanimal-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["handleanimal-cs", "handleanimal-ranks", "handleanimal-ability", "handleanimal-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["handleanimal-ranks"]) || 0;
				var misc = parseInt(values["handleanimal-misc"]) || 0;
				var mod = parseInt(values[values["handleanimal-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["handleanimal-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"handleanimal-mod":mod,
					"handleanimal-total": total,
					"handleanimal-ranks": ranks,
					"handleanimal-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"handleanimal-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"handleanimal-bonus": totalBonus});
				} else {
					setAttrs({"handleanimal-bonus": " "});
				}
			}
		});
	});

	on("change:heal-ability change:heal-cs change:heal-ranks change:heal-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["heal-cs", "heal-ranks", "heal-ability", "heal-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["heal-ranks"]) || 0;
				var misc = parseInt(values["heal-misc"]) || 0;
				var mod = parseInt(values[values["heal-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["heal-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"heal-mod":mod,
					"heal-total": total,
					"heal-ranks": ranks,
					"heal-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"heal-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"heal-bonus": totalBonus});
				} else {
					setAttrs({"heal-bonus": " "});
				}
			}
		});
	});

	on("change:intimidate-ability change:intimidate-cs change:intimidate-ranks change:intimidate-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["intimidate-cs", "intimidate-ranks", "intimidate-ability", "intimidate-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["intimidate-ranks"]) || 0;
				var misc = parseInt(values["intimidate-misc"]) || 0;
				var mod = parseInt(values[values["intimidate-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["intimidate-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"intimidate-mod":mod,
					"intimidate-total": total,
					"intimidate-ranks": ranks,
					"intimidate-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"intimidate-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"intimidate-bonus": totalBonus});
				} else {
					setAttrs({"intimidate-bonus": " "});
				}
			}
		});
	});

	on("change:knowarcana-ability change:knowarcana-cs change:knowarcana-ranks change:knowarcana-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowarcana-cs", "knowarcana-ranks", "knowarcana-ability", "knowarcana-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowarcana-ranks"]) || 0;
				var misc = parseInt(values["knowarcana-misc"]) || 0;
				var mod = parseInt(values[values["knowarcana-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowarcana-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowarcana-mod":mod,
					"knowarcana-total": total,
					"knowarcana-ranks": ranks,
					"knowarcana-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowarcana-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowarcana-bonus": totalBonus});
				} else {
					setAttrs({"knowarcana-bonus": " "});
				}
			}
		});
	});

	on("change:knowdungeon-ability change:knowdungeon-cs change:knowdungeon-ranks change:knowdungeon-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowdungeon-cs", "knowdungeon-ranks", "knowdungeon-ability", "knowdungeon-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowdungeon-ranks"]) || 0;
				var misc = parseInt(values["knowdungeon-misc"]) || 0;
				var mod = parseInt(values[values["knowdungeon-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowdungeon-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowdungeon-mod":mod,
					"knowdungeon-total": total,
					"knowdungeon-ranks": ranks,
					"knowdungeon-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowdungeon-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowdungeon-bonus": totalBonus});
				} else {
					setAttrs({"knowdungeon-bonus": " "});
				}
			}
		});
	});

	on("change:knowengineer-ability change:knowengineer-cs change:knowengineer-ranks change:knowengineer-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowengineer-cs", "knowengineer-ranks", "knowengineer-ability", "knowengineer-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowengineer-ranks"]) || 0;
				var misc = parseInt(values["knowengineer-misc"]) || 0;
				var mod = parseInt(values[values["knowengineer-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowengineer-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowengineer-mod":mod,
					"knowengineer-total": total,
					"knowengineer-ranks": ranks,
					"knowengineer-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowengineer-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowengineer-bonus": totalBonus});
				} else {
					setAttrs({"knowengineer-bonus": " "});
				}
			}
		});
	});

	on("change:knowgeography-ability change:knowgeography-cs change:knowgeography-ranks change:knowgeography-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowgeography-cs", "knowgeography-ranks", "knowgeography-ability", "knowgeography-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowgeography-ranks"]) || 0;
				var misc = parseInt(values["knowgeography-misc"]) || 0;
				var mod = parseInt(values[values["knowgeography-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowgeography-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowgeography-mod":mod,
					"knowgeography-total": total,
					"knowgeography-ranks": ranks,
					"knowgeography-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowgeography-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowgeography-bonus": totalBonus});
				} else {
					setAttrs({"knowgeography-bonus": " "});
				}
			}
		});
	});

	on("change:knowhistory-ability change:knowhistory-cs change:knowhistory-ranks change:knowhistory-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowhistory-cs", "knowhistory-ranks", "knowhistory-ability", "knowhistory-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowhistory-ranks"]) || 0;
				var misc = parseInt(values["knowhistory-misc"]) || 0;
				var mod = parseInt(values[values["knowhistory-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowhistory-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowhistory-mod":mod,
					"knowhistory-total": total,
					"knowhistory-ranks": ranks,
					"knowhistory-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowhistory-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowhistory-bonus": totalBonus});
				} else {
					setAttrs({"knowhistory-bonus": " "});
				}
			}
		});
	});

	on("change:knowlocal-ability change:knowlocal-cs change:knowlocal-ranks change:knowlocal-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowlocal-cs", "knowlocal-ranks", "knowlocal-ability", "knowlocal-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowlocal-ranks"]) || 0;
				var misc = parseInt(values["knowlocal-misc"]) || 0;
				var mod = parseInt(values[values["knowlocal-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowlocal-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowlocal-mod":mod,
					"knowlocal-total": total,
					"knowlocal-ranks": ranks,
					"knowlocal-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowlocal-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowlocal-bonus": totalBonus});
				} else {
					setAttrs({"knowlocal-bonus": " "});
				}
			}
		});
	});

	on("change:knownature-ability change:knownature-cs change:knownature-ranks change:knownature-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knownature-cs", "knownature-ranks", "knownature-ability", "knownature-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knownature-ranks"]) || 0;
				var misc = parseInt(values["knownature-misc"]) || 0;
				var mod = parseInt(values[values["knownature-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knownature-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knownature-mod":mod,
					"knownature-total": total,
					"knownature-ranks": ranks,
					"knownature-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knownature-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knownature-bonus": totalBonus});
				} else {
					setAttrs({"knownature-bonus": " "});
				}
			}
		});
	});

	on("change:knownobility-ability change:knownobility-cs change:knownobility-ranks change:knownobility-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knownobility-cs", "knownobility-ranks", "knownobility-ability", "knownobility-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knownobility-ranks"]) || 0;
				var misc = parseInt(values["knownobility-misc"]) || 0;
				var mod = parseInt(values[values["knownobility-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knownobility-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knownobility-mod":mod,
					"knownobility-total": total,
					"knownobility-ranks": ranks,
					"knownobility-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knownobility-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knownobility-bonus": totalBonus});
				} else {
					setAttrs({"knownobility-bonus": " "});
				}
			}
		});
	});

	on("change:knowplanes-ability change:knowplanes-cs change:knowplanes-ranks change:knowplanes-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowplanes-cs", "knowplanes-ranks", "knowplanes-ability", "knowplanes-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowplanes-ranks"]) || 0;
				var misc = parseInt(values["knowplanes-misc"]) || 0;
				var mod = parseInt(values[values["knowplanes-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowplanes-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowplanes-mod":mod,
					"knowplanes-total": total,
					"knowplanes-ranks": ranks,
					"knowplanes-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowplanes-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowplanes-bonus": totalBonus});
				} else {
					setAttrs({"knowplanes-bonus": " "});
				}
			}
		});
	});

	on("change:knowreligion-ability change:knowreligion-cs change:knowreligion-ranks change:knowreligion-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowreligion-cs", "knowreligion-ranks", "knowreligion-ability", "knowreligion-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowreligion-ranks"]) || 0;
				var misc = parseInt(values["knowreligion-misc"]) || 0;
				var mod = parseInt(values[values["knowreligion-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowreligion-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowreligion-mod":mod,
					"knowreligion-total": total,
					"knowreligion-ranks": ranks,
					"knowreligion-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowreligion-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowreligion-bonus": totalBonus});
				} else {
					setAttrs({"knowreligion-bonus": " "});
				}
			}
		});
	});

	on("change:knowtechnology-ability change:knowtechnology-cs change:knowtechnology-ranks change:knowtechnology-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["knowtechnology-cs", "knowtechnology-ranks", "knowtechnology-ability", "knowtechnology-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["knowtechnology-ranks"]) || 0;
				var misc = parseInt(values["knowtechnology-misc"]) || 0;
				var mod = parseInt(values[values["knowtechnology-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["knowtechnology-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"knowtechnology-mod":mod,
					"knowtechnology-total": total,
					"knowtechnology-ranks": ranks,
					"knowtechnology-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"knowtechnology-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"knowtechnology-bonus": totalBonus});
				} else {
					setAttrs({"knowtechnology-bonus": " "});
				}
			}
		});
	});

	on("change:linguistics-ability change:linguistics-cs change:linguistics-ranks change:linguistics-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["linguistics-cs", "linguistics-ranks", "linguistics-ability", "linguistics-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["linguistics-ranks"]) || 0;
				var misc = parseInt(values["linguistics-misc"]) || 0;
				var mod = parseInt(values[values["linguistics-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["linguistics-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"linguistics-mod":mod,
					"linguistics-total": total,
					"linguistics-ranks": ranks,
					"linguistics-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"linguistics-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"linguistics-bonus": totalBonus});
				} else {
					setAttrs({"linguistics-bonus": " "});
				}
			}
		});
	});

	on("change:navigate-ability change:navigate-cs change:navigate-ranks change:navigate-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["navigate-cs", "navigate-ranks", "navigate-ability", "navigate-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["navigate-ranks"]) || 0;
				var misc = parseInt(values["navigate-misc"]) || 0;
				var mod = parseInt(values[values["navigate-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["navigate-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"navigate-mod":mod,
					"navigate-total": total,
					"navigate-ranks": ranks,
					"navigate-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"navigate-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"navigate-bonus": totalBonus});
				} else {
					setAttrs({"navigate-bonus": " "});
				}
			}
		});
	});

	on("change:perception-ability change:perception-cs change:perception-ranks change:perception-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perception-cs", "perception-ranks", "perception-ability", "perception-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perception-ranks"]) || 0;
				var misc = parseInt(values["perception-misc"]) || 0;
				var mod = parseInt(values[values["perception-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perception-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perception-mod":mod,
					"perception-total": total,
					"perception-ranks": ranks,
					"perception-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perception-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perception-bonus": totalBonus});
				} else {
					setAttrs({"perception-bonus": " "});
				}
			}
		});
	});

	on("change:perform1-ability change:perform1-cs change:perform1-ranks change:perform1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perform1-cs", "perform1-ranks", "perform1-ability", "perform1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perform1-ranks"]) || 0;
				var misc = parseInt(values["perform1-misc"]) || 0;
				var mod = parseInt(values[values["perform1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perform1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perform1-mod":mod,
					"perform1-total": total,
					"perform1-ranks": ranks,
					"perform1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perform1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perform1-bonus": totalBonus});
				} else {
					setAttrs({"perform1-bonus": " "});
				}
			}
		});
	});

	on("change:perform2-ability change:perform2-cs change:perform2-ranks change:perform2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perform2-cs", "perform2-ranks", "perform2-ability", "perform2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perform2-ranks"]) || 0;
				var misc = parseInt(values["perform2-misc"]) || 0;
				var mod = parseInt(values[values["perform2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perform2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perform2-mod":mod,
					"perform2-total": total,
					"perform2-ranks": ranks,
					"perform2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perform2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perform2-bonus": totalBonus});
				} else {
					setAttrs({"perform2-bonus": " "});
				}
			}
		});
	});

	on("change:perform3-ability change:perform3-cs change:perform3-ranks change:perform3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["perform3-cs", "perform3-ranks", "perform3-ability", "perform3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["perform3-ranks"]) || 0;
				var misc = parseInt(values["perform3-misc"]) || 0;
				var mod = parseInt(values[values["perform3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["perform3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"perform3-mod":mod,
					"perform3-total": total,
					"perform3-ranks": ranks,
					"perform3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"perform3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"perform3-bonus": totalBonus});
				} else {
					setAttrs({"perform3-bonus": " "});
				}
			}
		});
	});

	on("change:pilot-ability change:pilot-cs change:pilot-ranks change:pilot-misc change:pilot-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["pilot-cs", "pilot-ranks", "pilot-ability", "pilot-misc", "pilot-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["pilot-ranks"]) || 0;
				var misc = parseInt(values["pilot-misc"]) || 0;
				var mod = parseInt(values[values["pilot-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["pilot-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["pilot-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"pilot-mod":mod,
					"pilot-total": total,
					"pilot-ranks": ranks,
					"pilot-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"pilot-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"pilot-bonus": totalBonus});
				} else {
					setAttrs({"pilot-bonus": " "});
				}
			}
		});
	});

	on("change:prof1-ability change:prof1-cs change:prof1-ranks change:prof1-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["prof1-cs", "prof1-ranks", "prof1-ability", "prof1-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["prof1-ranks"]) || 0;
				var misc = parseInt(values["prof1-misc"]) || 0;
				var mod = parseInt(values[values["prof1-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["prof1-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"prof1-mod":mod,
					"prof1-total": total,
					"prof1-ranks": ranks,
					"prof1-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"prof1-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"prof1-bonus": totalBonus});
				} else {
					setAttrs({"prof1-bonus": " "});
				}
			}
		});
	});

	on("change:prof2-ability change:prof2-cs change:prof2-ranks change:prof2-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["prof2-cs", "prof2-ranks", "prof2-ability", "prof2-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["prof2-ranks"]) || 0;
				var misc = parseInt(values["prof2-misc"]) || 0;
				var mod = parseInt(values[values["prof2-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["prof2-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"prof2-mod":mod,
					"prof2-total": total,
					"prof2-ranks": ranks,
					"prof2-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"prof2-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"prof2-bonus": totalBonus});
				} else {
					setAttrs({"prof2-bonus": " "});
				}
			}
		});
	});

	on("change:prof3-ability change:prof3-cs change:prof3-ranks change:prof3-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["prof3-cs", "prof3-ranks", "prof3-ability", "prof3-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["prof3-ranks"]) || 0;
				var misc = parseInt(values["prof3-misc"]) || 0;
				var mod = parseInt(values[values["prof3-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["prof3-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"prof3-mod":mod,
					"prof3-total": total,
					"prof3-ranks": ranks,
					"prof3-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"prof3-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"prof3-bonus": totalBonus});
				} else {
					setAttrs({"prof3-bonus": " "});
				}
			}
		});
	});

	on("change:repair-ability change:repair-cs change:repair-ranks change:repair-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["repair-cs", "repair-ranks", "repair-ability", "repair-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["repair-ranks"]) || 0;
				var misc = parseInt(values["repair-misc"]) || 0;
				var mod = parseInt(values[values["repair-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["repair-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"repair-mod":mod,
					"repair-total": total,
					"repair-ranks": ranks,
					"repair-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"repair-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"repair-bonus": totalBonus});
				} else {
					setAttrs({"repair-bonus": " "});
				}
			}
		});
	});

	on("change:ride-ability change:ride-cs change:ride-ranks change:ride-misc change:ride-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["ride-cs", "ride-ranks", "ride-ability", "ride-misc", "ride-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["ride-ranks"]) || 0;
				var misc = parseInt(values["ride-misc"]) || 0;
				var mod = parseInt(values[values["ride-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["ride-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["ride-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"ride-mod":mod,
					"ride-total": total,
					"ride-ranks": ranks,
					"ride-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"ride-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"ride-bonus": totalBonus});
				} else {
					setAttrs({"ride-bonus": " "});
				}
			}
		});
	});

	on("change:sensemotive-ability change:sensemotive-cs change:sensemotive-ranks change:sensemotive-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["sensemotive-cs", "sensemotive-ranks", "sensemotive-ability", "sensemotive-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["sensemotive-ranks"]) || 0;
				var misc = parseInt(values["sensemotive-misc"]) || 0;
				var mod = parseInt(values[values["sensemotive-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["sensemotive-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"sensemotive-mod":mod,
					"sensemotive-total": total,
					"sensemotive-ranks": ranks,
					"sensemotive-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"sensemotive-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"sensemotive-bonus": totalBonus});
				} else {
					setAttrs({"sensemotive-bonus": " "});
				}
			}
		});
	});

	on("change:sleightofhand-ability change:sleightofhand-cs change:sleightofhand-ranks change:sleightofhand-misc change:sleightofhand-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["sleightofhand-cs", "sleightofhand-ranks", "sleightofhand-ability", "sleightofhand-misc", "sleightofhand-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["sleightofhand-ranks"]) || 0;
				var misc = parseInt(values["sleightofhand-misc"]) || 0;
				var mod = parseInt(values[values["sleightofhand-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["sleightofhand-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["sleightofhand-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"sleightofhand-mod":mod,
					"sleightofhand-total": total,
					"sleightofhand-ranks": ranks,
					"sleightofhand-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"sleightofhand-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"sleightofhand-bonus": totalBonus});
				} else {
					setAttrs({"sleightofhand-bonus": " "});
				}
			}
		});
	});

	on("change:spellcraft-ability change:spellcraft-cs change:spellcraft-ranks change:spellcraft-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["spellcraft-cs", "spellcraft-ranks", "spellcraft-ability", "spellcraft-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["spellcraft-ranks"]) || 0;
				var misc = parseInt(values["spellcraft-misc"]) || 0;
				var mod = parseInt(values[values["spellcraft-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["spellcraft-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"spellcraft-mod":mod,
					"spellcraft-total": total,
					"spellcraft-ranks": ranks,
					"spellcraft-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"spellcraft-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"spellcraft-bonus": totalBonus});
				} else {
					setAttrs({"spellcraft-bonus": " "});
				}
			}
		});
	});

	on("change:stealth-ability change:stealth-cs change:stealth-ranks change:stealth-misc change:stealth-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty change:size-mod-skill", function() {
		getAttrs(["stealth-cs", "stealth-ranks", "stealth-ability", "stealth-misc", "stealth-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type", "size-mod-skill"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["stealth-ranks"]) || 0;
				var misc = parseInt(values["stealth-misc"]) || 0;
				var mod = parseInt(values[values["stealth-ability"]]) || 0;
				var size = parseInt(values["size-mod-skill"]) || 0;
				var total = 0, totalBonus = size * 4;

				if (values["stealth-cs"] == "trained" && ranks >= 1) {
					totalBonus += 3;
				}

				total = totalBonus + ranks + misc + mod;

				if (values["stealth-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"stealth-mod": mod,
					"stealth-total": total,
					"stealth-ranks": ranks,
					"stealth-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"stealth-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"stealth-bonus": totalBonus});
				} else {
					setAttrs({"stealth-bonus": " "});
				}
			}
		});
	});

	on("change:survival-ability change:survival-cs change:survival-ranks change:survival-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["survival-cs", "survival-ranks", "survival-ability", "survival-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["survival-ranks"]) || 0;
				var misc = parseInt(values["survival-misc"]) || 0;
				var mod = parseInt(values[values["survival-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["survival-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"survival-mod":mod,
					"survival-total": total,
					"survival-ranks": ranks,
					"survival-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"survival-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"survival-bonus": totalBonus});
				} else {
					setAttrs({"survival-bonus": " "});
				}
			}
		});
	});

	on("change:swim-ability change:swim-cs change:swim-ranks change:swim-misc change:swim-acp change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod change:ac-total-penalty", function() {
		getAttrs(["swim-cs", "swim-ranks", "swim-ability", "swim-misc", "swim-acp", "ac-total-penalty", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["swim-ranks"]) || 0;
				var misc = parseInt(values["swim-misc"]) || 0;
				var mod = parseInt(values[values["swim-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["swim-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				if (values["swim-acp"] == "acp") {
					total = total + parseInt(values["ac-total-penalty"]);
					totalBonus = totalBonus + parseInt(values["ac-total-penalty"]);
				}

				setAttrs({
					"swim-mod":mod,
					"swim-total": total,
					"swim-ranks": ranks,
					"swim-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"swim-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"swim-bonus": totalBonus});
				} else {
					setAttrs({"swim-bonus": " "});
				}
			}
		});
	});

	on("change:usemagicdevice-ability change:usemagicdevice-cs change:usemagicdevice-ranks change:usemagicdevice-misc change:str-mod change:dex-mod change:con-mod change:int-mod change:wis-mod change:cha-mod", function() {
		getAttrs(["usemagicdevice-cs", "usemagicdevice-ranks", "usemagicdevice-ability", "usemagicdevice-misc", "str-mod", "dex-mod", "con-mod", "int-mod", "wis-mod", "cha-mod", "sheet-type"], function(values) {
			if (values["sheet-type"] == "character") {
				var ranks = parseInt(values["usemagicdevice-ranks"]) || 0;
				var misc = parseInt(values["usemagicdevice-misc"]) || 0;
				var mod = parseInt(values[values["usemagicdevice-ability"]])||0;
				var total = 0, totalBonus = 0;

				if (values["usemagicdevice-cs"] == "trained" && ranks >= 1) {
					total = 3 + ranks + misc + mod;
					totalBonus = 3;
				} else {
					total = ranks + misc + mod;
				}

				setAttrs({
					"usemagicdevice-mod":mod,
					"usemagicdevice-total": total,
					"usemagicdevice-ranks": ranks,
					"usemagicdevice-misc": misc
				});

				if (totalBonus > 0) {
					setAttrs({"usemagicdevice-bonus": "+" + totalBonus});
				} else if (totalBonus < 0) {
					setAttrs({"usemagicdevice-bonus": totalBonus});
				} else {
					setAttrs({"usemagicdevice-bonus": " "});
				}
			}
		});
	});

	on("change:repeating_spells-0 remove:repeating_spells-0", function() {
		getSectionIDs("repeating_spells-0", function(idArray) {
			setAttrs({
				"spells-amount-0": idArray.length,
				"spells-amount-show-0": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-1 remove:repeating_spells-1", function() {
		getSectionIDs("repeating_spells-1", function(idArray) {
			setAttrs({
				"spells-amount-1": idArray.length,
				"spells-amount-show-1": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-2 remove:repeating_spells-2", function() {
		getSectionIDs("repeating_spells-2", function(idArray) {
			setAttrs({
				"spells-amount-2": idArray.length,
				"spells-amount-show-2": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-3 remove:repeating_spells-3", function() {
		getSectionIDs("repeating_spells-3", function(idArray) {
			setAttrs({
				"spells-amount-3": idArray.length,
				"spells-amount-show-3": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-4 remove:repeating_spells-4", function() {
		getSectionIDs("repeating_spells-4", function(idArray) {
			setAttrs({
				"spells-amount-4": idArray.length,
				"spells-amount-show-4": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-5 remove:repeating_spells-5", function() {
		getSectionIDs("repeating_spells-5", function(idArray) {
			setAttrs({
				"spells-amount-5": idArray.length,
				"spells-amount-show-5": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-6 remove:repeating_spells-6", function() {
		getSectionIDs("repeating_spells-6", function(idArray) {
			setAttrs({
				"spells-amount-6": idArray.length,
				"spells-amount-show-6": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-7 remove:repeating_spells-7", function() {
		getSectionIDs("repeating_spells-7", function(idArray) {
			setAttrs({
				"spells-amount-7": idArray.length,
				"spells-amount-show-7": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-8 remove:repeating_spells-8", function() {
		getSectionIDs("repeating_spells-8", function(idArray) {
			setAttrs({
				"spells-amount-8": idArray.length,
				"spells-amount-show-8": idArray.length + " spell(s)"
			});
		});
	});

	on("change:repeating_spells-9 remove:repeating_spells-9", function() {
		getSectionIDs("repeating_spells-9", function(idArray) {
			setAttrs({
				"spells-amount-9": idArray.length,
				"spells-amount-show-9": idArray.length + " spell(s)"
			});
		});
	});

	on("change:cr", function() {
		getAttrs(["cr", "xp-rewarded"], function(values) {
			var cr = values["cr"];
			var xpTable = ["0", "400", "600", "800", "1,200", "1,600", "2,400", "3,200", "4,800", "6,400", "9,600", "12,800", "19,200", "25,600", "38,400", "51,200", "76,800", "102,400", "153,600", "204,800", "307,200", "409,600", "614,400", "819,200", "1,228,800", "1,638,400", "2,457,600", "3,276,800", "4,915,200", "6,553,600", "9,830,400"];
			var xpRewarded = xpTable[cr] || xpTableFraction(cr);

			setAttrs({
				"cr": cr,
				"xp-rewarded": xpRewarded
			});

			function xpTableFraction(cr) {
				switch (cr) {
					case "1/8": return 50;
					case "1/6": return 65;
					case "1/4": return 100;
					case "0.25": return 100;
					case "1/3": return 135;
					case "1/2": return 200;
					case "0.5": return 200;
					default: return "N/A";
				}
			}
		});
	});

	on("change:repeating_special:special-attack-type", function() {
		getAttrs(["repeating_special_special-attack-type", "str-mod", "dex-mod", "size-mod-atk", "total-bab"], function(values) {
		   var attackType = values[Object.keys(values)[0]];
		   var strMod = parseInt(values["str-mod"]) || 0;
		   var dexMod = parseInt(values["dex-mod"]) || 0;
		   var sizeMod = parseInt(values["size-mod-atk"]) || 0;
		   var bab = parseInt(values["total-bab"]) || 0;
		   var attackMod;

		   switch (attackType) {
			   case "ranged": attackBonus = dexMod + sizeMod + bab; break;
			   case "touch": attackBonus = strMod + sizeMod + bab; break;
			   default: attackBonus = 0;
		   }

		   setAttrs({"repeating_special_special-attack-mod": attackBonus});
		});
	});

	on("change:core-tab", function() {
	   getAttrs(["core-tab"], function(values) {
		   setAttrs({"ctrl-core-tab": values["core-tab"] });
	   });
	});

	on("clicked:resetColors", x=>{
		setAttrs({
			redOne:32,
			redTwo:0,
			redThree:0,
			redFour:0,
			greenOne:32,
			greenTwo:0,
			greenThree:0,
			greenFour:0,
			blueOne:224,
			blueTwo:192,
			blueThree:160,
			blueFour:0,
		})
	})

	on("change:gmtoggle", x=>{
		var set={gmroll:""}
		if(x.newValue=="on"){
			set.gmroll = "/w gm"
		}
		setAttrs(set);
	})

</script>
<input type="hidden" name="attr_colorstring" value="{{redOne=@{redOne}}} {{redTwo=@{redTwo}}} {{redThree=@{redThree}}} {{redFour=@{redFour}}}  {{greenOne=@{greenOne}}} {{greenTwo=@{greenTwo}}} {{greenThree=@{greenThree}}} {{greenFour=@{greenFour}}} {{blueOne=@{blueOne}}} {{blueTwo=@{blueTwo}}} {{blueThree=@{blueThree}}} {{blueFour=@{blueFour}}} {{textC=@{textColor}}}">
<input disabled type="hidden" class="redOne" name="attr_red1" value="@{redOne}">
<input disabled type="hidden" class="greenOne" name="attr_green1" value="@{greenOne}">
<input disabled type="hidden" class="blueOne" name="attr_blue1" value="@{blueOne}">

<input disabled type="hidden" class="redTwo" name="attr_red2" value="@{redTwo}">
<input disabled type="hidden" class="greenTwo" name="attr_green2" value="@{greenTwo}">
<input disabled type="hidden" class="blueTwo" name="attr_blue2" value="@{blueTwo}">


<input disabled type="hidden" class="redThree" name="attr_red3" value="@{redThree}">
<input disabled type="hidden" class="greenThree" name="attr_green3" value="@{greenThree}">
<input disabled type="hidden" class="blueThree" name="attr_blue3" value="@{blueThree}">


<input disabled type="hidden" class="redFour" name="attr_red4" value="@{redFour}">
<input disabled type="hidden" class="greenFour" name="attr_green4" value="@{greenFour}">
<input disabled type="hidden" class="blueFour" name="attr_blue4" value="@{blueFour}">
<input disabled type="hidden" class="textColor" name="attr_textColor" value="@{textC}">

<div class="sheet-wrapper">
	<div class="sheet-options-loc" style="z-index: 6;"><input type="checkbox" class="sheet-options sheet-button-options" name="attr_options-sheet" value="open" title="Sheet options"><span style="color: black; text-shadow: none;"></span></div>
	<input type="checkbox" class="sheet-controller sheet-options" name="attr_options-sheet" value="open">
	<div class="sheet-options-area" style="z-index: 5; border: 1px solid black; border-radius: 5px; height: auto; padding-bottom: 5px;">
		<div class="sheet-box-title">SHEET OPTIONS</div>
		<div class="sheet-box-content">
			<div class="sheet-options-section" style="float: left; width: 150px;">
				<div class="sheet-box-title">HIDE TABS</div>
				<div class="sheet-box-content">
					<ul class="sheet-unstyled">
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-core-hidden">Core</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-combat-hidden">Combat</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-class-hidden">Class</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-skills-hidden">Skills</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-feats-hidden">Feats</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-items-hidden">Items</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-materia-hidden">Materia</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-spells-hidden">Spells</li>
						<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-notes-hidden">Notes</li>
					</ul>
					<div style="position: absolute; right: 0; bottom: 0; padding: 5px; font-style: italic; font-size: 80%;">
						v1.6.2 (7/11/2021) -- Sheet created by Azurift (Azurift88@gmail.com); additional developments by TamedFlame
					</div>
				</div>
			</div>
			<div class="sheet-options-section" style="float: left; width: 200px;">
				<div class="sheet-box-title">GENERAL OPTIONS</div>
				<div class="sheet-box-content">
					<ul class="sheet-unstyled">
						<li><input type="checkbox" style="margin-right: 5px;" name="attr_gmtoggle" title="All rolls will be whispered to the GM if this is toggled (@{gmtoggle})">GM Roll</li>
						<li><input type="checkbox" style="margin-right: 5px;" title="Check this box if your character is undead (@{is-undead})" name="attr_is-undead" value="undead">Character is Undead</li>
					</ul>
				</div>
			</div>
			<div class="colorGroup">

				<div class="sheet-options-section colorOne" style="float: left; width: 200px;">
					<div class="sheet-box-title">COLOR ONE</div>
					<div class="sheet-box-content">
						<ul class="sheet-unstyled">
							<li>
								<label>
									Red
									<select name="attr_redOne">
										<option value="0">0</option>
										<option selected value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Green
									<select name="attr_greenOne">
										<option value="0">0</option>
										<option selected value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Blue
									<select name="attr_blueOne">
										<option value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option selected value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
						</ul>
					</div>
				</div>
				<div class="sheet-options-section colorTwo" style="float: left; width: 200px;">
					<div class="sheet-box-title">COLOR TWO</div>
					<div class="sheet-box-content">
						<ul class="sheet-unstyled">
							<li>
								<label>
									Red
									<select name="attr_redTwo">
										<option selected value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Green
									<select name="attr_greenTwo">
										<option selected value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Blue
									<select name="attr_blueTwo">
										<option value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option selected value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
						</ul>
					</div>
				</div>
				<div class="sheet-options-section colorThree" style="float: left; width: 200px;">
					<div class="sheet-box-title">COLOR THREE</div>
					<div class="sheet-box-content">
						<ul class="sheet-unstyled">
							<li>
								<label>
									Red
									<select name="attr_redThree">
										<option selected value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Green
									<select name="attr_greenThree">
										<option selected value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Blue
									<select name="attr_blueThree">
										<option value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option selected value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
						</ul>
					</div>
				</div>
				<div class="sheet-options-section colorFour" style="float: left; width: 200px;">
					<div class="sheet-box-title">COLOR FOUR</div>
					<div class="sheet-box-content">
						<ul class="sheet-unstyled">
							<li>
								<label>
									Red
									<select name="attr_redFour">
										<option selected value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Green
									<select name="attr_greenFour">
										<option selected value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
							<li>
								<label>
									Blue
									<select name="attr_blueFour">
										<option selected value="0">0</option>
										<option value="32">32</option>
										<option value="64">64</option>
										<option value="96">96</option>
										<option value="128">128</option>
										<option value="160">160</option>
										<option value="192">192</option>
										<option value="224">224</option>
										<option value="256">256</option>
									</select>
								</label>
							</li>
						</ul>
					</div>
				</div>
				<div class="sheet-options-section background" style="height: 70px; width: 25%;">
					<div class="sheet-box-title">TEXT MODE</div>
					<div class="sheet-box-content">
						<select name="attr_textC">
							<option selected value="Light">Light Mode</option>
							<option value="Dark">Dark Mode</option>
						</select>
					</div>
				</div>
				<div class="sheet-options-section background" style="height: 70px;width: 25%;">
					<div class="sheet-box-title">RESET COLORS</div>
					<div class="sheet-box-content">
						<button type="action" style="color: black; margin-left: 25%;" name="act_resetColors">Reset</button>
					</div>
				</div>

			</div>
			<div style="clear: both;"></div>
		</div>
	</div>
	<div class="sheet-header">
		<div class="sheet-info-section" style="float: left; width: 60%; text-align: left;">
			<table>
				<tr>
					<td class="sheet-label-left" style="width: 70px;  text-shadow: none; color: black;">Name</td>
					<td><input title="Character name" type="text" name="attr_character_name" style="font-family: " Tahoma", "Arial" ;"></td>
					<td class="sheet-label-top" style="width: 65px;  text-shadow: none; color: black;">Sheet Type</td>
					<td style="width: 130px;">
						<select name="attr_character_sheet_type">
							<option value="Character" selected>Character</option>
							<option value="Monster">Monster</option>
						</select>
					</td>
				</tr>
				<tr>
					<td class="sheet-label-left" style="width: 70px;  text-shadow: none; color: black;"><span name="attr_character_race_type">Race</span></td>
					<td><input type="text" name="attr_character_race" style="font-family: " Tahoma", "Arial" ;"></td>
					<td class="sheet-label-top" style="width: 50px;  text-shadow: none; color: black;">Alignment</td>
					<td style="width: 120px;">
						<select name="attr_character_alignment" title="@{character_alignment}">
							<option value="---" selected>---</option>
							<option value="Lawful Good">Lawful Good</option>
							<option value="Neutral Good">Neutral Good</option>
							<option value="Chaotic Good">Chaotic Good</option>
							<option value="Lawful Neutral">Lawful Neutral</option>
							<option value="Neutral">Neutral</option>
							<option value="Chaotic Neutral">Chaotic Neutral</option>
							<option value="Lawful Evil">Lawful Evil</option>
							<option value="Neutral Evil">Neutral Evil</option>
							<option value="Chaotic Evil">Chaotic Evil</option>
						</select>
					</td>
				</tr>
				<tr>
					<td class="sheet-label-left" style="width: 70px;  text-shadow: none; color: black;">Deity</td>
					<td><input type="text" name="attr_character_deity" style="font-family: " Tahoma", "Arial" ;"></td>
					<td class="sheet-label-left" style="width: 50px;  text-shadow: none; color: black;">Size</td>
					<td style="width: 120px;">
						<select name="attr_size" title="@{size}">
							<option value="Fine">Fine</option>
							<option value="Diminutive">Diminutive</option>
							<option value="Tiny">Tiny</option>
							<option value="Small">Small</option>
							<option value="Medium" selected>Medium</option>
							<option value="Large">Large</option>
							<option value="Huge">Huge</option>
							<option value="Gargantuan">Gargantuan</option>
							<option value="Colossal">Colossal</option>
						</select>
					</td>
				</tr>
			</table>
		</div>
		<div class="sheet-logo-section" style="float: right; width: 40%; display:table-cell; vertical-align:middle; text-align: center;">
			<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/FFD20/img/ffd20-logo.png" alt="FFD20 Logo" height="70" width="300">
		</div>
		<div style="clear: both;"></div>
	</div>

	<input type="radio" class="sheet-type-character" name="attr_sheet-type" style="display: none;" value="character" checked>
	<input type="radio" class="sheet-type-monster" name="attr_sheet-type" style="display: none;" value="monster">

	<div class="sheet-character">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-core-hidden" name="attr_ctrl-core-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-combat-hidden" name="attr_ctrl-combat-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-class-hidden" name="attr_ctrl-class-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-skills-hidden" name="attr_ctrl-skills-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-feats-hidden" name="attr_ctrl-feats-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-items-hidden" name="attr_ctrl-items-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-materia-hidden" name="attr_ctrl-materia-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-spells-hidden" name="attr_ctrl-spells-hidden">
		<input type="checkbox" value="hide" class="sheet-controller sheet-ctrl-notes-hidden" name="attr_ctrl-notes-hidden">
		<input type="radio" class="sheet-controller sheet-core" name="attr_ctrl-core-tab" value="1" title="Core">
		<input type="radio" class="sheet-controller sheet-combat" name="attr_ctrl-core-tab" value="2" title="Combat">
		<input type="radio" class="sheet-controller sheet-class" name="attr_ctrl-core-tab" value="3" title="Class" checked>
		<input type="radio" class="sheet-controller sheet-skills" name="attr_ctrl-core-tab" value="4" title="Skills">
		<input type="radio" class="sheet-controller sheet-feats" name="attr_ctrl-core-tab" value="5" title="Feats">
		<input type="radio" class="sheet-controller sheet-items" name="attr_ctrl-core-tab" value="6" title="Items">
		<input type="radio" class="sheet-controller sheet-materia" name="attr_ctrl-core-tab" value="7" title="Materia">
		<input type="radio" class="sheet-controller sheet-spells" name="attr_ctrl-core-tab" value="8" title="Spells">
		<input type="radio" class="sheet-controller sheet-notes" name="attr_ctrl-core-tab" value="9" title="Notes">
		<input type="hidden" name="attr_gmroll" value="">
		<ul class="sheet-tab-menu">
			<li class="sheet-core"><input type="radio" name="attr_core-tab" value="1" title="Main">CORE</li>
			<li class="sheet-combat"><input type="radio" name="attr_core-tab" value="2" title="Combat">COMBAT</li>
			<li class="sheet-class"><input type="radio" name="attr_core-tab" value="3" title="Class">CLASS</li>
			<li class="sheet-skills"><input type="radio" name="attr_core-tab" value="4" title="Skills">SKILLS</li>
			<li class="sheet-feats"><input type="radio" name="attr_core-tab" value="5" title="Feats">FEATS</li>
			<li class="sheet-items"><input type="radio" name="attr_core-tab" value="6" title="Items">ITEMS</li>
			<li class="sheet-materia"><input type="radio" name="attr_core-tab" value="7" title="Materia">MATERIA</li>
			<li class="sheet-spells"><input type="radio" name="attr_core-tab" value="8" title="Spells">SPELLS</li>
			<li class="sheet-notes"><input type="radio" name="attr_core-tab" value="9" title="Notes">NOTES</li>
		</ul>

		<div class="sheet-section-core">
			<div class="sheet-background">
				<div class="sheet-box-outer" style="width: 45%; height: 206px; float: left; border-right: none; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">ABILITY SCORES</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 50px;">Ability</td>
										<td class="sheet-label-top">Modifier</td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">Base</td>
										<td class="sheet-label-top">Enhance</td>
										<td class="sheet-label-top">Inherent</td>
										<td class="sheet-label-top">Misc</td>
										<td class="sheet-label-top">Temp</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Strength check roll [1d20 + strength modifier]" type="roll" name="roll_STR-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Strength Check}} {{result=[[1d20+@{STR-mod}]]}}"></button></td>
										<td class="sheet-label-left">STR</td>
										<td><input class="sheet-total" title="@{STR-mod}" type="number" name="attr_STR-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{STR}" type="number" name="attr_STR" value=10 readonly></td>
										<td><input title="@{STR-base}" type="number" name="attr_STR-base" value=10></td>
										<td><input title="@{STR-enhance}" type="number" name="attr_STR-enhance" value=0></td>
										<td><input title="@{STR-inherent}" type="number" name="attr_STR-inherent" value=0></td>
										<td><input title="@{STR-misc}" type="number" name="attr_STR-misc" value=0></td>
										<td><input title="@{STR-temp}" type="number" name="attr_STR-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Dexterity check roll [1d20 + dexterity modifier]" type="roll" name="roll_DEX-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Dexterity Check}} {{result=[[1d20+@{DEX-mod}]]}}"></button></td>
										<td class="sheet-label-left">DEX</td>
										<td><input class="sheet-total" title="@{DEX-mod}" type="number" name="attr_DEX-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{DEX}" type="number" name="attr_DEX" value=10 readonly></td>
										<td><input title="@{DEX-base}" type="number" name="attr_DEX-base" value=10></td>
										<td><input title="@{DEX-enhance}" type="number" name="attr_DEX-enhance" value=0></td>
										<td><input title="@{DEX-inherent}" type="number" name="attr_DEX-inherent" value=0></td>
										<td><input title="@{DEX-misc}" type="number" name="attr_DEX-misc" value=0></td>
										<td><input title="@{DEX-temp}" type="number" name="attr_DEX-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Constitution check roll [1d20 + constitution modifier]" type="roll" name="roll_CON-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Constitution Check}} {{result=[[1d20+@{CON-mod}]]}}"></button></td>
										<td class="sheet-label-left">CON</td>
										<td><input class="sheet-total" title="@{CON-mod}" type="number" name="attr_CON-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{CON}" type="number" name="attr_CON" value=10 readonly></td>
										<td><input title="@{CON-base}" type="number" name="attr_CON-base" value=10></td>
										<td><input title="@{CON-enhance}" type="number" name="attr_CON-enhance" value=0></td>
										<td><input title="@{CON-inherent}" type="number" name="attr_CON-inherent" value=0></td>
										<td><input title="@{CON-misc}" type="number" name="attr_CON-misc" value=0></td>
										<td><input title="@{CON-temp}" type="number" name="attr_CON-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Intelligence check roll [1d20 + intelligence modifier]" type="roll" name="roll_INT-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Intelligence Check}} {{result=[[1d20+@{INT-mod}]]}}"></button></td>
										<td class="sheet-label-left">INT</td>
										<td><input class="sheet-total" title="@{INT-mod}" type="number" name="attr_INT-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{INT}" type="number" name="attr_INT" value=10 readonly></td>
										<td><input title="@{INT-base}" type="number" name="attr_INT-base" value=10></td>
										<td><input title="@{INT-enhance}" type="number" name="attr_INT-enhance" value=0></td>
										<td><input title="@{INT-inherent}" type="number" name="attr_INT-inherent" value=0></td>
										<td><input title="@{INT-misc}" type="number" name="attr_INT-misc" value=0></td>
										<td><input title="@{INT-temp}" type="number" name="attr_INT-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Wisdom check roll [1d20 + wisdom modifier]" type="roll" name="roll_WIS-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Wisdom Check}} {{result=[[1d20+@{WIS-mod}]]}}"></button></td>
										<td class="sheet-label-left">WIS</td>
										<td><input class="sheet-total" title="@{WIS-mod}" type="number" name="attr_WIS-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{WIS}" type="number" name="attr_WIS" value=10 readonly></td>
										<td><input title="@{WIS-base}" type="number" name="attr_WIS-base" value=10></td>
										<td><input title="@{WIS-enhance}" type="number" name="attr_WIS-enhance" value=0></td>
										<td><input title="@{WIS-inherent}" type="number" name="attr_WIS-inherent" value=0></td>
										<td><input title="@{WIS-misc}" type="number" name="attr_WIS-misc" value=0></td>
										<td><input title="@{WIS-temp}" type="number" name="attr_WIS-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Charisma check roll [1d20 + charisma modifier]" type="roll" name="roll_CHA-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Charisma Check}} {{result=[[1d20+@{CHA-mod}]]}}"></button></td>
										<td class="sheet-label-left">CHA</td>
										<td><input class="sheet-total" title="@{CHA-mod}" type="number" name="attr_CHA-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{CHA}" type="number" name="attr_CHA" value=10 readonly></td>
										<td><input title="@{CHA-base}" type="number" name="attr_CHA-base" value=10></td>
										<td><input title="@{CHA-enhance}" type="number" name="attr_CHA-enhance" value=0></td>
										<td><input title="@{CHA-inherent}" type="number" name="attr_CHA-inherent" value=0></td>
										<td><input title="@{CHA-misc}" type="number" name="attr_CHA-misc" value=0></td>
										<td><input title="@{CHA-temp}" type="number" name="attr_CHA-temp" value=0></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 55%; height: 206px; float: right; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">MISCELLANY</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td style="width: 66px;"></td>
										<td class="sheet-label-top">Current</td>
										<td style="font-size: 150%; width: 15px;"></td>
										<td class="sheet-label-top">Next Level</td>
										<td class="sheet-label-top" style="width: 32px;">Level</td>
										<td class="sheet-label-top" style="width: 80px;">Rate</td>
										<td style="width: 50px;"></td>
										<td style="width: 50px;"></td>
									</tr>
									<tr>
										<td class="sheet-label-left" style="width: 66px;">XP</td>
										<td><input title="@{xp}" type="number" name="attr_xp" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
										<td><input title="@{xp_max}" type="number" name="attr_xp_max" value="0"></td>
										<td><input title="@{level}" type="number" name="attr_level" value="0" readonly></td>
										<td>
											<select name="attr_xp-rate" title="@{xp-rate}">
												<option value="Other">Other</option>
												<option value="Slow">Slow</option>
												<option value="Medium" selected>Medium</option>
												<option value="Fast">Fast</option>
											</select>
										</td>
										<td class="sheet-label-top" style="width: 66px;">Hero<br>Points</td>
										<td><input title="Current hero points" type="number" name="attr_hero-points" title="@{hero-points}" value="0"></td>
									</tr>
								</table>
								<hr style="border: 1px solid transparent; border-top: 1px dotted #00E8E8; margin: 10px 0px 10px 0px;">
								<table>
									<tr>
										<td class="sheet-label-left" style="width: 66px;">Senses</td>
										<td><input title="@{senses}" type="text" name="attr_senses"></td>
									</tr>
									<tr>
										<td class="sheet-label-top" style="width: 66px; vertical-align: top; padding-top: 7px;">Languages</td>
										<td rowspan="3"><textarea rows="3" name="attr_languages" title="@{languages}"></textarea></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div style="clear: both;"></div>
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">TRAITS</div>
							<div class="sheet-box-content">
								<fieldset class="repeating_traits">
									<table>
										<tr>
											<td><input title="Trait name" type="text" placeholder="Trait name" name="attr_trait-name"></td>
											<td style="width: 40px;"><button class="sheet-button sheet-send" type="roll" title="Show trait on chat" value="@{gmroll} &{template:special} @{colorString} {{charName=@{character_name}}} {{rollType=@{trait-type} Trait}} {{name=@{trait-name}}} {{desc=@{trait-benefits}}}"></button></td>
											<td class="sheet-label-left" style="width: 50px;">Type</td>
											<td style="width: 100px;">
												<select name="attr_trait-type">
													<option value="">[Trait Type]</option>
													<option value="Campaign">Campaign</option>
													<option value="Combat">Combat</option>
													<option value="Equipment">Equipment</option>
													<option value="Faith">Faith</option>
													<option value="Family">Family</option>
													<option value="Magic">Magic</option>
													<option value="Race">Race</option>
													<option value="Racial">Racial</option>
													<option value="Regional">Regional</option>
													<option value="Religion">Religion</option>
													<option value="Social">Social</option>
													<option value="Drawback">Drawback</option>
												</select>
											</td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-trait-show-details" value="hide"><span></span></td>
										</tr>
									</table>
									<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-trait-show-details" value="hide">
									<div class="sheet-expansion-area">
										<table>
											<tr>
												<td><textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Benefits" type="text" name="attr_trait-benefits"></textarea></td>
											</tr>
											<tr>
												<td><hr></td>
											</tr>
										</table>
									</div>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="sheet-section-combat">
			<div class="sheet-background">
				<div class="sheet-box-outer" style="width: 40%; float: left; border-right: none; border-bottom: none; height: 250px;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-options-loc"><input type="checkbox" class="sheet-options sheet-button-options" name="attr_options-status" value="open" title="Status options"><span></span></div>
							<input type="checkbox" class="sheet-controller sheet-options" name="attr_options-status" value="open">
							<div class="sheet-options-area">
								<div class="sheet-box-title">STATUS OPTIONS</div>
								<div class="sheet-box-content">
									<ul class="sheet-unstyled">
										<li><input type="checkbox" value="hide" style="margin-right: 5px;" name="attr_ctrl-hide-mp">Hide MP</li>
										<li class="sheet-flex"><input type="checkbox" value="show" style="margin-right: 5px;" name="attr_ctrl-show-energy1">Show<input type="text" class="sheet-flex-1" style="margin-left: 5px;" name="attr_energy1-name" placeholder="Energy type 1"></li>
										<li class="sheet-flex"><input type="checkbox" value="show" style="margin-right: 5px;" name="attr_ctrl-show-energy2">Show<input type="text" class="sheet-flex-1" style="margin-left: 5px;" name="attr_energy2-name" placeholder="Energy type 2"></li>
										<li class="sheet-flex"><input type="checkbox" value="show" style="margin-right: 5px;" name="attr_ctrl-show-energy3">Show<input type="text" class="sheet-flex-1" style="margin-left: 5px;" name="attr_energy3-name" placeholder="Energy type 3"></li>
									</ul>
									<div class="sheet-box-title">LIMIT BREAKS</div>
									<ul class="sheet-unstyled">
										<li style="padding-left: 25px;">HP Threshold <input type="number" style="width: 40px;" name="attr_lb-threshold" value=50 min=0 max=100> %</li>
										<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-extra-lb">Extra Limit Break (x<input type="number" style="width: 40px; margin-left: 5px;" name="attr_options-extra-lb-amount" value="1"> )</li>
									</ul>
								</div>
							</div>
							<div class="sheet-box-title">STATUS</div>
							<div class="sheet-box-content">
								<input class="sheet-controller sheet-ctrl-hide-mp" value="hide" type="checkbox" name="attr_ctrl-hide-mp">
								<input class="sheet-controller sheet-ctrl-show-energy1" value="show" type="checkbox" name="attr_ctrl-show-energy1">
								<input class="sheet-controller sheet-ctrl-show-energy2" value="show" type="checkbox" name="attr_ctrl-show-energy2">
								<input class="sheet-controller sheet-ctrl-show-energy3" value="show" type="checkbox" name="attr_ctrl-show-energy3">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 50px;"></td>
										<td class="sheet-label-top">Current</td>
										<td class="sheet-label-top" style="width: 15px;"></td>
										<td class="sheet-label-top">Max</td>
										<td class="sheet-label-top">Temp</td>
										<td class="sheet-label-top">Nonlethal</td>
									</tr>
									<tr>
										<td class="sheet-label-left">HP</td>
										<td><input title="@{hp}" type="number" name="attr_hp" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{hp_max}" type="number" name="attr_hp_max" value="0" readonly></td>
										<td><input title="@{hp-temp}" type="number" name="attr_hp-temp" value="0"></td>
										<td><input title="@{hp-nonlethal}" type="number" name="attr_hp-nonlethal" value="0"></td>
									</tr>
									<tr class="sheet-mp-row">
										<td class="sheet-label-left">MP</td>
										<td><input title="@{mp}" type="number" name="attr_mp" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{mp_max}" type="number" name="attr_mp_max" value="0" readonly></td>
										<td><input title="@{mp-temp}" type="number" name="attr_mp-temp" value="0"></td>
										<td></td>
									</tr>
									<tr class="sheet-energy1-row">
										<td class="sheet-label-top"><span name="attr_energy1-name"></span></td>
										<td><input title="@{energy1}" type="number" name="attr_energy1" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{energy1_max}" type="number" name="attr_energy1_max" value="0"></td>
										<td></td>
										<td></td>
									</tr>
									<tr class="sheet-energy2-row">
										<td class="sheet-label-top"><span name="attr_energy2-name"></span></td>
										<td><input title="@{energy2}" type="number" name="attr_energy2" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{energy2_max}" type="number" name="attr_energy2_max" value="0"></td>
										<td></td>
										<td></td>
									</tr>
									<tr class="sheet-energy3-row">
										<td class="sheet-label-top"><span name="attr_energy3-name"></span></td>
										<td><input title="@{energy3}" type="number" name="attr_energy3" value="0"></td>
										<td class="sheet-label-left" style="font-size: 150%;">/</td>
										<td><input title="@{energy3_max}" type="number" name="attr_energy3_max" value="0"></td>
										<td></td>
										<td></td>
									</tr>
								</table>
								<hr>
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 50px;">Limit<br>Break</td>
										<td style="width: 100px;">
											<input type="radio" class="sheet-lb sheet-inactive" name="attr_lb-style" value="inactive" checked>
											<input type="radio" class="sheet-lb sheet-active" name="attr_lb-style" value="active">
											<span class="sheet-table-label-left-lb" value="" name="attr_lb" style="display: block; width: 100%; height: 24px;"></span>
										</td>
										<td class="sheet-label-top" style="width: 50px;">Uses</td>
										<td><input title="@{lb-uses}" type="number" name="attr_lb-uses" value="0"></td>
										<td class="sheet-label-left" style="width: 15px; font-size: 150%;">/</td>
										<td><input title="@{lb-uses_max}" type="number" name="attr_lb-uses_max" value="0" readonly></td>
									</tr>
								</table>
								<hr>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 60%; float: right; border-bottom: none; height: 250px;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">COMBAT</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td style="width: 24px;"></td>
										<td style="width: 66px;"></td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">DEX</td>
										<td class="sheet-label-top">Misc</td>
										<td style="width: 66px;"></td>
										<td class="sheet-label-top">Base</td>
										<td class="sheet-label-top">Climb</td>
										<td class="sheet-label-top">Fly</td>
										<td class="sheet-label-top">Swim</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Initiative roll [1d20 + total initiative bonus]" type="roll" name="roll_initiative" value="@{gmroll} &{template:roll-check} @{colorString} @{colorstring} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=Initiative}} {{result=[[1d20+@{init-total} &{tracker}]]}}"></button></td>
										<td class="sheet-label-left">Initiative</td>
										<td><input class="sheet-total" title="@{init-total}" type="number" name="attr_init-total" value=0 readonly></td>
										<td><input title="@{dex-mod}" type="number" name="attr_dex-mod" value=0 readonly></td>
										<td><input title="@{init-misc}" type="number" name="attr_init-misc" value=0></td>
										<td class="sheet-label-left">Speed</td>
										<td><input title="@{speed-base}" type="number" name="attr_speed-base" value=0></td>
										<td><input title="@{speed-climb}" type="number" name="attr_speed-climb" value=0></td>
										<td><input title="@{speed-fly}" type="number" name="attr_speed-fly" value=0></td>
										<td><input title="@{speed-swim}" type="number" name="attr_speed-swim" value=0></td>
									</tr>
								</table>
								<table style="margin-top: 5px;">
									<tr>
										<td style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 66px;">Attack</td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">BAB</td>
										<td class="sheet-label-top">Other</td>
										<td class="sheet-label-top">Ability</td>
										<td class="sheet-label-top">Size</td>
										<td class="sheet-label-top">Misc</td>
										<td class="sheet-label-top">Temp</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Touch attack roll [1d20 + melee total value]" type="roll" name="roll_melee-attack" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=Touch}} {{result=[[1d20+@{melee-total}]]}}"></button></td>
										<td class="sheet-label-left">Touch</td>
										<td><input class="sheet-total" title="@{melee-total}" type="number" name="attr_melee-total" value=0 readonly></td>
										<td><input title="@{total-bab}" type="number" name="attr_total-bab" value=0 readonly></td>
										<td>
											<select name="attr_melee-other" title="@{melee-other}">
												<option value="STR" selected>STR</option>
												<option value="DEX">DEX</option>
												<option value="CON">CON</option>
												<option value="INT">INT</option>
												<option value="WIS">WIS</option>
												<option value="CHA">CHA</option>
											</select>
										</td>
										<td><input title="@{melee-ability}" type="number" name="attr_melee-ability" value=0 readonly></td>
										<td><input title="@{size-mod-atk}" type="number" name="attr_size-mod-atk" value=0 readonly></td>
										<td><input title="@{melee-misc}" type="number" name="attr_melee-misc" value=0></td>
										<td><input title="@{melee-temp}" type="number" name="attr_melee-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Ranged touch attack roll [1d20 + ranged touch attack total bonus]" type="roll" name="roll_ranged-attack" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=Ranged Touch}} {{result=[[1d20+@{ranged-total}]]}}"></button></td>
										<td class="sheet-label-top">Ranged<br>Touch</td>
										<td><input class="sheet-total" title="@{ranged-total}" type="number" name="attr_ranged-total" value=0 readonly></td>
										<td><input title="@{total-bab}" type="number" name="attr_total-bab" value=0 readonly></td>
										<td>
											<select name="attr_ranged-other" title="@{ranged-other}">
												<option value="STR">STR</option>
												<option value="DEX" selected>DEX</option>
												<option value="CON">CON</option>
												<option value="INT">INT</option>
												<option value="WIS">WIS</option>
												<option value="CHA">CHA</option>
											</select>
										</td>
										<td><input title="@{ranged-ability}" type="number" name="attr_ranged-ability" value=0 readonly></td>
										<td><input title="@{size-mod-atk}" type="number" name="attr_size-mod-atk" value=0 readonly></td>
										<td><input title="@{ranged-misc}" type="number" name="attr_ranged-misc" value=0></td>
										<td><input title="@{ranged-temp}" type="number" name="attr_ranged-temp" value=0></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="CMB check roll [1d20 + CMB total bonus]" type="roll" name="roll_cmb" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=CMB}} {{result=[[1d20+@{cmb-total}]]}}"></button></td>
										<td class="sheet-label-left">CMB</td>
										<td><input class="sheet-total" title="@{cmb-total}" type="number" name="attr_cmb-total" value=0 readonly></td>
										<td><input title="@{total-bab}" type="number" name="attr_total-bab" value=0 readonly></td>
										<td>
											<select name="attr_cmb-other" title="@{cmb-other}">
												<option value="STR" selected>STR</option>
												<option value="DEX">DEX</option>
												<option value="CON">CON</option>
												<option value="INT">INT</option>
												<option value="WIS">WIS</option>
												<option value="CHA">CHA</option>
											</select>
										</td>
										<td><input title="@{cmb-ability}" type="number" name="attr_cmb-ability" value=0 readonly></td>
										<td><input title="@{size-mod}" type="number" name="attr_size-mod" value=0 readonly></td>
										<td><input title="@{cmb-misc}" type="number" name="attr_cmb-misc" value=0></td>
										<td><input title="@{cmb-temp}" type="number" name="attr_cmb-temp" value=0></td>
									</tr>
									<tr>
										<td></td>
										<td class="sheet-label-left">CMD</td>
										<td><input class="sheet-total" title="@{cmd-total}" type="number" name="attr_cmd-total" value=0 readonly></td>
										<td><input title="@{total-bab}" type="number" name="attr_total-bab" value=0 readonly></td>
										<td><input title="@{cmd-other} = 10 + @{ac-deflect-bonus} + @{ac-dodge-bonus}" type="number" name="attr_cmd-other" value=10 readonly></td>
										<td><input title="@{cmd-ability}" type="number" name="attr_cmd-ability" value=0 readonly></td>
										<td><input title="@{size-mod}" type="number" name="attr_size-mod" value=0 readonly></td>
										<td><input title="@{cmd-misc}" type="number" name="attr_cmd-misc" value=0></td>
										<td><input title="@{cmd-temp}" type="number" name="attr_cmd-temp" value=0></td>
									</tr>
									<tr>
										<td colspan="9"><textarea title="@{combat-cm}" placeholder="Conditional modifiers" name="attr_combat-cm"></textarea></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 40%; height: 192px; float: left; border-right: none; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">SAVING THROWS</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 60px;">Save</td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">Base</td>
										<td class="sheet-label-top">Ability</td>
										<td class="sheet-label-top">Enhance</td>
										<td class="sheet-label-top">Misc</td>
										<td class="sheet-label-top">Temp</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Fortitude saving throw roll [1d20 + fortitude total bonus]" type="roll" name="roll_fort-save" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Saving Throw}} {{rollTypeName=Fortitude Save}} {{result=[[1d20+@{fort}]]}} {{condModifiers=@{savingthrows-cm}}}"></button></td>
										<td class="sheet-label-left">Fortitude</td>
										<td><input class="sheet-total" title="@{fort}" type="number" name="attr_fort" value="0" readonly></td>
										<td><input title="@{total-fort}" type="number" name="attr_total-fort" value="0" readonly></td>
										<td><input title="@{fort-ability}" type="number" name="attr_fort-ability" value="0" readonly></td>
										<td><input title="@{fort-enhance}" type="number" name="attr_fort-enhance" value="0"></td>
										<td><input title="@{fort-misc}" type="number" name="attr_fort-misc" value="0"></td>
										<td><input title="@{fort-temp}" type="number" name="attr_fort-temp" value="0"></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Reflex saving throw roll [1d20 + reflex total bonus]" type="roll" name="roll_ref-save" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Saving Throw}} {{rollTypeName=Reflex Save}} {{result=[[1d20+@{ref}]]}} {{condModifiers=@{savingthrows-cm}}}"></button></td>
										<td class="sheet-label-left">Reflex</td>
										<td><input class="sheet-total" title="@{ref}" type="number" name="attr_ref" value="0" readonly></td>
										<td><input title="@{total-ref}" type="number" name="attr_total-ref" value="0" readonly></td>
										<td><input title="@{dex-mod}" type="number" name="attr_dex-mod" value="0" readonly></td>
										<td><input title="@{ref-enhance}" type="number" name="attr_ref-enhance" value="0"></td>
										<td><input title="@{ref-misc}" type="number" name="attr_ref-misc" value="0"></td>
										<td><input title="@{ref-temp}" type="number" name="attr_ref-temp" value="0"></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Will saving throw roll [1d20 + will total bonus]" type="roll" name="roll_will-save" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Saving Throw}} {{rollTypeName=Will Save}} {{result=[[1d20+@{will}]]}} {{condModifiers=@{savingthrows-cm}}}"></button></td>
										<td class="sheet-label-left">Will</td>
										<td><input class="sheet-total" title="@{will}" type="number" name="attr_will" value="0" readonly></td>
										<td><input title="@{total-will}" type="number" name="attr_total-will" value="0" readonly></td>
										<td><input title="@{wis-mod}" type="number" name="attr_wis-mod" value="0" readonly></td>
										<td><input title="@{will-enhance}" type="number" name="attr_will-enhance" value="0"></td>
										<td><input title="@{will-misc}" type="number" name="attr_will-misc" value="0"></td>
										<td><input title="@{will-temp}" type="number" name="attr_will-temp" value="0"></td>
									</tr>
									<tr>
										<td colspan="8">
											<textarea title="@{savingthrows-cm}" name="attr_savingthrows-cm" placeholder="Conditional modifiers" rows="3"></textarea>
										</td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 60%; height: 192px; float: right; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-options-loc"><input type="checkbox" class="sheet-options sheet-button-options" name="attr_options-defenses" value="open" title="Defenses options"><span></span></div>
							<input type="checkbox" class="sheet-controller sheet-options" name="attr_options-defenses" value="open">
							<div class="sheet-options-area">
								<div class="sheet-box-title">DEFENSES OPTIONS</div>
								<div class="sheet-box-content">
									<ul class="sheet-unstyled">
										<li><input type="checkbox" value="checked" style="margin-right: 5px;" name="attr_uncanny-dodge" title="@{uncanny-dodge}">Uncanny Dodge</li>
								</div>
							</div>
							<div class="sheet-box-title">DEFENSES</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 60px;"></td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">Base</td>
										<td class="sheet-label-top">DEX</td>
										<td class="sheet-label-top">Size</td>
										<td class="sheet-label-top">Armor</td>
										<td class="sheet-label-top">Shield</td>
										<td class="sheet-label-top">Natural</td>
										<td class="sheet-label-top">Deflect</td>
										<td class="sheet-label-top">Dodge</td>
										<td class="sheet-label-top">Misc</td>
										<td class="sheet-label-top">Temp</td>
									</tr>
									<tr>
										<td class="sheet-label-left">AC</td>
										<td><input class="sheet-total" title="@{ac-total}" type="number" name="attr_ac-total" value=10 readonly></td>
										<td><input title="@{ac-base}" type="number" name="attr_ac-base" value=10 readonly></td>
										<td><input title="@{ac-dex}" type="number" name="attr_ac-dex" value="0" readonly></td>
										<td><input title="@{size-mod-atk}" type="number" name="attr_size-mod-atk" value="0" readonly></td>
										<td><input title="@{ac-armor}" type="number" name="attr_ac-armor" value="0" readonly></td>
										<td><input title="@{ac-shield}" type="number" name="attr_ac-shield" value="0" readonly></td>
										<td><input title="@{ac-natural}" type="number" name="attr_ac-natural" value="0" readonly></td>
										<td><input title="@{ac-deflection}" type="number" name="attr_ac-deflection" value="0" readonly></td>
										<td><input title="@{ac-dodge-bonus}" type="number" name="attr_ac-dodge-bonus" value="0" readonly></td>
										<td><input title="@{ac-misc-bonus}" type="number" name="attr_ac-misc-bonus" value="0" readonly></td>
										<td><input title="@{ac-temp}" type="number" name="attr_ac-temp" value="0"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Touch</td>
										<td><input class="sheet-total" title="@{ac-touch-total}" type="number" name="attr_ac-touch-total" value=10 readonly></td>
										<td><input title="@{ac-base}" type="number" name="attr_ac-base" value=10 readonly></td>
										<td><input title="@{ac-ac-dex}" type="number" name="attr_ac-dex" value="0" readonly></td>
										<td><input title="@{size-mod-atk}" type="number" name="attr_size-mod-atk" value="0" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input title="@{ac-deflection}" type="number" name="attr_ac-deflection" value="0" readonly></td>
										<td><input title="@{ac-dodge-bonus}" type="number" name="attr_ac-dodge-bonus" value="0" readonly></td>
										<td><input title="@{ac-misc-bonus}" type="number" name="attr_ac-misc-bonus" value="0" readonly></td>
										<td><input title="@{ac-touch-temp}" type="number" name="attr_ac-touch-temp" value="0"></td>
									</tr>
									<tr>
										<td class="sheet-label-top">Flat-Footed</td>
										<td><input class="sheet-total" title="@{ac-flatfooted-total}" type="number" name="attr_ac-flatfooted-total" value=10 readonly></td>
										<td><input title="@{ac-base}" type="number" name="attr_ac-base" value=10 readonly></td>
										<td><input title="@{ac-dex-ff}" type="text" name="attr_ac-dex-ff" value="---" readonly></td>
										<td><input title="@{size-mod-atk}" type="number" name="attr_size-mod-atk" value="0" readonly></td>
										<td><input title="@{ac-armor}" type="number" name="attr_ac-armor" value="0" readonly></td>
										<td><input title="@{ac-shield}" type="number" name="attr_ac-shield" value="0" readonly></td>
										<td><input title="@{ac-natural}" type="number" name="attr_ac-natural" value="0" readonly></td>
										<td><input title="@{ac-deflection}" type="number" name="attr_ac-deflection" value="0" readonly></td>
										<td><input title="@{ac-dodge-bonus-ff}" type="text" name="attr_ac-dodge-bonus-ff" value="---" readonly></td>
										<td><input title="@{ac-misc-bonus}" type="number" name="attr_ac-misc-bonus" value="0" readonly></td>
										<td><input title="@{ac-flatfooted-temp}" type="number" name="attr_ac-flatfooted-temp" value="0"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">DR</td>
										<td colspan="9"><input title="@{dr}" type="text" name="attr_dr"></td>
										<td class="sheet-label-left">SR</td>
										<td><input title="@{sr}" type="number" name="attr_sr" value="0"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Resists</td>
										<td colspan="11"><input title="@{resists}" type="text" name="attr_resists"></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div style="clear: both;"></div>
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">WEAPONS</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 24px;"></td>
										<td class="sheet-label-top" style="width: 44%;">Weapon Name</td>
										<td class="sheet-label-top" style="width: 30px;">vs. Touch</td>
										<td class="sheet-label-top" style="width: 50px;">Attack Modifier</td>
										<td class="sheet-label-top" style="width: 40px;">Attack Bonus</td>
										<td class="sheet-label-top" style="width: 40px;">Attack Misc</td>
										<td class="sheet-label-top" style="width: 60px;">Critical Range</td>
										<td class="sheet-label-top" style="width: 50px;">Critical Multiplier</td>
										<td class="sheet-label-top" style="width: 50px;">Type</td>
										<td class="sheet-label-top" style="width: 50px;">Range</td>
										<td class="sheet-label-top" style="width: 26%;">Special</td>
										<td class="sheet-label-top" style="width: 40px;">Ammo</td>
										<td class="sheet-label-top" style="width: 26%;">Damage</td>
										<td class="sheet-label-top" style="width: 50px;">Weight</td>
									</tr>
								</table>
								<fieldset class="repeating_weapons">
									<table>
										<tr>
											<td style="width: 24px;"><button title="Weapon attack and damage roll" class="sheet-text-button" type="roll" name="roll_weapon-attack" value="@{gmroll} &{template:weapon-attack} @{colorString}  {{weaponName=@{weapon-name}}} {{charName=@{character_name}}} {{attack=[[1d20cs>[[@{weapon-crit}]] + (@{weapon-attack-bonus} + @{weapon-attack-misc})]]}}  {{critRange=[[@{weapon-crit} + @{weapon-attack-bonus} + @{weapon-attack-misc}]]}} {{critConfirm=[[1d20 + @{weapon-attack-bonus} + @{weapon-attack-misc}]]}} {{critMultiplier=@{weapon-crit-multiplier}}} {{damage=[[@{weapon-damage}]]}} {{weaponType=@{weapon-type}}} {{weaponRange=@{weapon-range}}} {{weaponSpecial=@{weapon-special}}} @{weapon-vs-touch}"></button></td>
											<td style="width: 44%;"><input title="Weapon name" type="text" name="attr_weapon-name"></td>
											<td style="width: 30px;"><input type="checkbox" value="{{vsArmor=1}}" name="attr_weapon-vs-touch"></td>
											<td style="width: 50px;">
												<select name="attr_weapon-attack-modifier">
													<option value="---">---</option>
													<option value="STR">STR</option>
													<option value="DEX">DEX</option>
													<option value="CON">CON</option>
													<option value="INT">INT</option>
													<option value="WIS">WIS</option>
													<option value="CHA">CHA</option>
												</select>
											</td>
											<td style="width: 40px;"><input title="Weapon attack bonus" type="number" name="attr_weapon-attack-bonus" value=0 readonly></td>
											<td style="width: 40px;"><input title="Weapon attack misc bonus" type="number" name="attr_weapon-attack-misc" value=0></td>
											<td style="width: 60px;">
												<select name="attr_weapon-crit">
													<option value=20>20</option>
													<option value=19>19-20</option>
													<option value=18>18-20</option>
													<option value=17>17-20</option>
													<option value=16>16-20</option>
													<option value=15>15-20</option>
													<option value=14>14-20</option>
													<option value=13>13-20</option>
													<option value=12>12-20</option>
													<option value=11>11-20</option>
													<option value=10>10-20</option>
													<option value=9>9-20</option>
													<option value=8>8-20</option>
													<option value=7>7-20</option>
													<option value=6>6-20</option>
													<option value=5>5-20</option>
													<option value=4>4-20</option>
													<option value=3>3-20</option>
													<option value=2>2-20</option>
												</select>
											</td>
											<td style="width: 50px;">
												<select name="attr_weapon-crit-multiplier">
													<option value=2>x2</option>
													<option value=3>x3</option>
													<option value=4>x4</option>
												</select>
											</td>
											<td style="width: 50px;"><input title="Weapon type" type="text" name="attr_weapon-type"></td>
											<td style="width: 50px;"><input title="Weapon range" type="text" name="attr_weapon-range"></td>
											<td style="width: 26%;"><input title="Weapon special features" type="text" name="attr_weapon-special"></td>
											<td style="width: 40px;"><input title="Ammunition" type="text" name="attr_weapon-ammo"></td>
											<td style="width: 26%;"><input title="Weapon damage" type="text" name="attr_weapon-damage"></td>
											<td style="width: 50px;"><input title="Weapon weight" type="number" name="attr_weapon-weight" value=0 step="any"></td>
										</tr>
									</table>
								</fieldset>
								<table style="float: right; width: 98px;">
									<tr>
										<td class="sheet-label-left" style="width: 50px;">Total</td>
										<td style="width: 50px;"><input class="sheet-total" title="@{weapon-weight-total}" type="number" name="attr_weapon-weight-total" value=0 step="any" readonly></td>
									</tr>
								</table>
								<div style="clear: both;"></div>
							</div>
						</div>
						<div style="clear: both;"></div>
					</div>
				</div>
			</div>
		</div>

		<div class="sheet-section-class">
			<div class="sheet-background">
				<div class="sheet-box-outer" style="width: 76%; height: 208px; float: left; border-right: none; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-options-loc"><input type="checkbox" class="sheet-options sheet-button-options" name="attr_options-class-info" value="open" title="Class information options"><span></span></div>
							<input type="checkbox" class="sheet-controller sheet-options" name="attr_options-class-info" value="open">
							<div class="sheet-options-area">
								<div class="sheet-box-title">CLASS INFORMATION OPTIONS</div>
								<div class="sheet-box-content">
									<ul class="sheet-unstyled">
										<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-toughness">Toughness <span name="attr_options-toughness-display" style="color: blue;"></span></li>
										<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-extra-mp">Extra MP (select affected classes) <span name="attr_options-extra-mp-display" style="color: blue;"></span></li>
										<ul class="sheet-unstyled" style="margin-left: 25px;">
											<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-extra-mp-1">Class #1 (<span name="attr_class-0-name"></span>)</li>
											<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-extra-mp-2">Class #2 (<span name="attr_class-1-name"></span>)</li>
											<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-extra-mp-3">Class #3 (<span name="attr_class-2-name"></span>)</li>
											<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-extra-mp-4">Class #4 (<span name="attr_class-3-name"></span>)</li>
										</ul>
										<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-skilled">Skilled (Hume Racial) <span name="attr_options-skilled-display" style="color: blue;"></span></li>
									</ul>
								</div>
							</div>
							<div class="sheet-box-title">CLASS INFORMATION</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 130px;">Class Name</td>
										<td class="sheet-label-top" style="width: 50px;">HD</td>
										<td class="sheet-label-top">HP</td>
										<td class="sheet-label-top">MP</td>
										<td class="sheet-label-top">BAB</td>
										<td class="sheet-label-top">Skill</td>
										<td class="sheet-label-top">Fort</td>
										<td class="sheet-label-top">Ref</td>
										<td class="sheet-label-top">Will</td>
										<td class="sheet-label-top">Level</td>
										<td class="sheet-label-top">Spell Level</td>
										<td class="sheet-label-top" style="width: 60px;">Bonus MP Modifier</td>
									</tr>
									<tr>
										<td><input title="@{class-0-name}" type="text" name="attr_class-0-name"></td>
										<td>
											<select title="@{class-0-hd}" name="attr_class-0-hd">
												<option value="0">---</option>
												<option value="d4">d4</option>
												<option value="d6">d6</option>
												<option value="d8">d8</option>
												<option value="d10">d10</option>
												<option value="d12">d12</option>
											</select>
										</td>
										<td><input title="@{class-0-hp}" type="number" name="attr_class-0-hp" value="0"></td>
										<td><input title="@{class-0-mp}" type="number" name="attr_class-0-mp" value="0"></td>
										<td><input title="@{class-0-bab}" type="number" name="attr_class-0-bab" value="0"></td>
										<td><input title="@{class-0-skill}" type="number" name="attr_class-0-skill" value="0"></td>
										<td><input title="@{class-0-Fort}" type="number" name="attr_class-0-Fort" value="0"></td>
										<td><input title="@{class-0-Ref}" type="number" name="attr_class-0-Ref" value="0"></td>
										<td><input title="@{class-0-Will}" type="number" name="attr_class-0-Will" value="0"></td>
										<td><input title="@{class-0-level}" type="number" name="attr_class-0-level" value="0"></td>
										<td><input title="@{class-0-clevel}" type="number" name="attr_class-0-clevel" value="0"></td>
										<td>
											<select title="@{class-0-bonusmp}" name="attr_class-0-bonusmp">
												<option value="0">---</option>
												<option value="INT">INT</option>
												<option value="WIS">WIS</option>
												<option value="CHA">CHA</option>
											</select>
										</td>
									</tr>
									<tr>
										<td><input title="@{class-1-name}" type="text" name="attr_class-1-name"></td>
										<td>
											<select title="@{class-1-hd}" name="attr_class-1-hd">
												<option value="0">---</option>
												<option value="d4">d4</option>
												<option value="d6">d6</option>
												<option value="d8">d8</option>
												<option value="d10">d10</option>
												<option value="d12">d12</option>
											</select>
										</td>
										<td><input title="@{class-1-hp}" type="number" name="attr_class-1-hp" value="0"></td>
										<td><input title="@{class-1-mp}" type="number" name="attr_class-1-mp" value="0"></td>
										<td><input title="@{class-1-bab}" type="number" name="attr_class-1-bab" value="0"></td>
										<td><input title="@{class-1-skill}" type="number" name="attr_class-1-skill" value="0"></td>
										<td><input title="@{class-1-Fort}" type="number" name="attr_class-1-Fort" value="0"></td>
										<td><input title="@{class-1-Ref}" type="number" name="attr_class-1-Ref" value="0"></td>
										<td><input title="@{class-1-Will}" type="number" name="attr_class-1-Will" value="0"></td>
										<td><input title="@{class-1-level}" type="number" name="attr_class-1-level" value="0"></td>
										<td><input title="@{class-1-clevel}" type="number" name="attr_class-1-clevel" value="0"></td>
										<td>
											<select title="@{class-1-bonusmp}" name="attr_class-1-bonusmp">
												<option value="0">---</option>
												<option value="INT">INT</option>
												<option value="WIS">WIS</option>
												<option value="CHA">CHA</option>
											</select>
										</td>
									</tr>
									<tr>
										<td><input title="@{class-2-name}" type="text" name="attr_class-2-name"></td>
										<td>
											<select title="@{class-2-hd}" name="attr_class-2-hd">
												<option value="0">---</option>
												<option value="d4">d4</option>
												<option value="d6">d6</option>
												<option value="d8">d8</option>
												<option value="d10">d10</option>
												<option value="d12">d12</option>
											</select>
										</td>
										<td><input title="@{class-2-hp}" type="number" name="attr_class-2-hp" value="0"></td>
										<td><input title="@{class-2-mp}" type="number" name="attr_class-2-mp" value="0"></td>
										<td><input title="@{class-2-bab}" type="number" name="attr_class-2-bab" value="0"></td>
										<td><input title="@{class-2-skill}" type="number" name="attr_class-2-skill" value="0"></td>
										<td><input title="@{class-2-Fort}" type="number" name="attr_class-2-Fort" value="0"></td>
										<td><input title="@{class-2-Ref}" type="number" name="attr_class-2-Ref" value="0"></td>
										<td><input title="@{class-2-Will}" type="number" name="attr_class-2-Will" value="0"></td>
										<td><input title="@{class-2-level}" type="number" name="attr_class-2-level" value="0"></td>
										<td><input title="@{class-2-clevel}" type="number" name="attr_class-2-clevel" value="0"></td>
										<td>
											<select title="@{class-2-bonusmp}" name="attr_class-2-bonusmp">
												<option value="0">---</option>
												<option value="INT">INT</option>
												<option value="WIS">WIS</option>
												<option value="CHA">CHA</option>
											</select>
										</td>
									</tr>
									<tr>
										<td><input title="@{class-3-name}" type="text" name="attr_class-3-name"></td>
										<td>
											<select title="@{class-3-hd}" name="attr_class-3-hd">
												<option value="0">---</option>
												<option value="d4">d4</option>
												<option value="d6">d6</option>
												<option value="d8">d8</option>
												<option value="d10">d10</option>
												<option value="d12">d12</option>
											</select>
										</td>
										<td><input title="@{class-3-hp}" type="number" name="attr_class-3-hp" value="0"></td>
										<td><input title="@{class-3-mp}" type="number" name="attr_class-3-mp" value="0"></td>
										<td><input title="@{class-3-bab}" type="number" name="attr_class-3-bab" value="0"></td>
										<td><input title="@{class-3-skill}" type="number" name="attr_class-3-skill" value="0"></td>
										<td><input title="@{class-3-Fort}" type="number" name="attr_class-3-Fort" value="0"></td>
										<td><input title="@{class-3-Ref}" type="number" name="attr_class-3-Ref" value="0"></td>
										<td><input title="@{class-3-Will}" type="number" name="attr_class-3-Will" value="0"></td>
										<td><input title="@{class-3-level}" type="number" name="attr_class-3-level" value="0"></td>
										<td><input title="@{class-3-clevel}" type="number" name="attr_class-3-clevel" value="0"></td>
										<td>
											<select title="@{class-3-bonusmp}" name="attr_class-3-bonusmp">
												<option value="0">---</option>
												<option value="INT">INT</option>
												<option value="WIS">WIS</option>
												<option value="CHA">CHA</option>
											</select>
										</td>
									</tr>
									<tr>
										<td class="sheet-label-left">Totals</td>
										<td><input type="text" value="---" readonly></td>
										<td><input class="sheet-total" title="@{total-hp}" type="number" name="attr_total-hp" value="0" readonly></td>
										<td><input class="sheet-total" title="@{total-mp}" type="number" name="attr_total-mp" value="0" readonly></td>
										<td><input class="sheet-total" title="@{total-bab}" type="number" name="attr_total-bab" value="0" readonly></td>
										<td><input class="sheet-total" title="@{total-skill}" type="number" name="attr_total-Skill" value="0" readonly></td>
										<td><input class="sheet-total" title="@{total-fort}" type="number" name="attr_total-Fort" value="0" readonly></td>
										<td><input class="sheet-total" title="@{total-ref}" type="number" name="attr_total-Ref" value="0" readonly></td>
										<td><input class="sheet-total" title="@{total-will}" type="number" name="attr_total-Will" value="0" readonly></td>
										<td><input class="sheet-total" title="@{level}" type="number" name="attr_level" value="0" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input class="sheet-total" title="@{total-bonusmp}" type="text" name="attr_total-bonusmp-display" value="0" style="text-align: center;" readonly></td>
										<input type="number" name="attr_total-bonusmp" value="0" style="display: none;">
									</tr>
									<tr>
										<td class="sheet-label-left">Favored Class Bonus</td>
										<td><input type="text" value="---" readonly></td>
										<td><input title="@{class-fc-hp}" type="number" name="attr_class-fc-hp" value="0"></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input title="@{class-fc-skill}" type="number" name="attr_class-fc-skill" value="0"></td>
										<td colspan="6"><input title="@{class-fc-racial}" type="text" name="attr_class-fc-racial" placeholder="Racial favored class bonus(es)"></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 24%; height: 208px; float: right; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">PROFICIENCIES</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="text-align: left;">Weapon Proficiency</td>
									</tr>
									<tr>
										<td><textarea title="@{proficiency-weapon}" rows="3" cols="50" name="attr_proficiency-weapon"></textarea></td>
									</tr>
									<tr>
										<td class="sheet-label-top" style="text-align: left;">Armor Proficiency</td>
									</tr>
									<tr>
										<td><textarea title="@{proficiency-armor}" rows="3" cols="50" name="attr_proficiency-armor"></textarea></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div style="clear: both;"></div>
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">CLASS FEATURES</div>
							<div class="sheet-box-content">
								<fieldset class="repeating_classfeatures">
									<table>
										<tr>
											<td><input title="Feature name" type="text" placeholder="Feature name" name="attr_classfeature-name"></td>
											<td style="width: 150px;">
												<select type="text" name="attr_classfeature-type">
													<option value="Ex">Extraordinary (Ex)</option>
													<option value="Sp">Spell-Like Ability (Sp)</option>
													<option value="Su">Supernatural (Su)</option>
												</select>
											</td>
											<td style="width: 40px;"><button class="button send" type="roll" title="Show Feature on chat" value="@{gmroll} &{template:special} @{colorString} {{charName=@{character_name}}} {{rollType=@{classfeature-class} Lvl. @{classfeature-level} Feature}} {{name=@{classfeature-name}}} {{type=@{classfeature-type}}} {{desc=@{classfeature-desc}}}"></button></td>
											<td class="sheet-label-left" style="width: 50px;">Class</td>
											<td style="width: 150px;"><input title="Class" type="text" name="attr_classfeature-class"></td>
											<td class="sheet-label-top" style="width: 50px;">Level Acquired</td>
											<td style="width: 40px;"><input title="Level acquired" type="number" value="0" name="attr_classfeature-level"></td>
											<td class="sheet-label-left" style="width: 50px;">Uses</td>
											<td style="width: 40px;"><input title="Feature uses/day used" type="number" value="0" name="attr_classfeature-uses"></td>
											<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
											<td style="width: 40px;"><input title="Feature uses/day max" type="number" value="0" name="attr_classfeature-uses_max"></td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-class-feature-show-details" value="hide"><span></span></td>
										</tr>
									</table>
									<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-class-feature-show-details" value="hide">
									<div class="sheet-expansion-area">
										<table>
											<tr>
												<td><textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Class feature description" type="text" name="attr_classfeature-desc"></textarea></td>
											</tr>
											<tr>
												<td><hr></td>
											</tr>
										</table>
									</div>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-items">
			<div class="sheet-background">
				<div class="sheet-box-outer" style="width: 62%; height: 234px; float: left; border-right: none; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">AC FEATURES</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 28px;">Worn?</td>
										<td class="sheet-label-top">Item/Feature</td>
										<td class="sheet-label-top" style="width: 66px;">Type</td>
										<td class="sheet-label-top" style="width: 40px;">Bonus</td>
										<td class="sheet-label-top" style="width: 40px;">ACP</td>
										<td class="sheet-label-top" style="width: 42px;">Max DEX</td>
										<td class="sheet-label-top" style="width: 50px;">Spell Failure</td>
										<td class="sheet-label-top" style="width: 50px;">Weight</td>
									</tr>
									<tr>
										<td><input type="checkbox" title="@{ac-armor-worn}" name="attr_ac-armor-worn" value="worn"></td>
										<td><input title="@{ac-armor-item}" type="text" name="attr_ac-armor-item"></td>
										<td class="sheet-label-left">Armor</td>
										<td><input title="@{ac-armor-bonus}" type="number" name="attr_ac-armor-bonus" value=0></td>
										<td><input title="@{ac-armor-penalty}" type="number" name="attr_ac-armor-penalty" value=0></td>
										<td><input title="@{ac-armor-maxdex}" type="number" name="attr_ac-armor-maxdex" value=0></td>
										<td><input title="@{ac-armor-sf}" type="number" name="attr_ac-armor-sf" value=0></td>
										<td><input title="@{ac-armor-weight}" type="number" name="attr_ac-armor-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td><input type="checkbox" title="@{ac-shield-worn}" name="attr_ac-shield-worn" value="worn"></td>
										<td><input title="@{ac-shield-item}" type="text" name="attr_ac-shield-item"></td>
										<td class="sheet-label-left">Shield</td>
										<td><input title="@{ac-shield-bonus}" type="number" name="attr_ac-shield-bonus" value=0></td>
										<td><input title="@{ac-shield-penalty}" type="number" name="attr_ac-shield-penalty" value=0></td>
										<td><input title="@{ac-shield-maxdex}" type="number" name="attr_ac-shield-maxdex" value=0></td>
										<td><input title="@{ac-shield-sf}" type="number" name="attr_ac-shield-sf" value=0></td>
										<td><input title="@{ac-shield-weight}" type="number" name="attr_ac-shield-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td><input type="checkbox" title="@{ac-natural-worn}" name="attr_ac-natural-worn" value="worn"></td>
										<td><input title="@{ac-natural-item}" type="text" name="attr_ac-natural-item"></td>
										<td class="sheet-label-left">Natural</td>
										<td><input title="@{ac-natural-bonus}" type="number" name="attr_ac-natural-bonus" value=0></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input title="@{ac-natural-weight}" type="number" name="attr_ac-natural-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td><input type="checkbox" title="@{ac-deflection-worn}" name="attr_ac-deflection-worn" value="worn"></td>
										<td><input title="@{ac-deflection-item}" type="text" name="attr_ac-deflection-item"></td>
										<td class="sheet-label-left">Deflect.</td>
										<td><input title="@{ac-deflection-bonus}" type="number" name="attr_ac-deflection-bonus" value=0></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input title="@{ac-deflection-weight}" type="number" name="attr_ac-deflection-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td></td>
										<td><input title="@{ac-dodge-item}" type="text" name="attr_ac-dodge-item"></td>
										<td class="sheet-label-left">Dodge</td>
										<td><input title="@{ac-dodge-bonus}" type="number" name="attr_ac-dodge-bonus" value=0></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
									</tr>
									<tr>
										<td></td>
										<td><input title="@{ac-misc-item}" type="text" name="attr_ac-misc-item"></td>
										<td class="sheet-label-left">Misc</td>
										<td><input title="@{ac-misc-bonus}" type="number" name="attr_ac-misc-bonus" value=0></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
										<td><input type="text" value="---" readonly></td>
									</tr>
									<tr>
										<td></td>
										<td></td>
										<td class="sheet-label-left">Totals</td>
										<td><input class="sheet-total" title="@{ac-total-bonus}" type="number" name="attr_ac-total-bonus" value=0 readonly></td>
										<td><input class="sheet-total" title="@{ac-total-penalty}" type="number" name="attr_ac-total-penalty" value=0 readonly></td>
										<td><input class="sheet-total" title="@{ac-total-maxdex}" type="number" name="attr_ac-total-maxdex" value=0 readonly></td>
										<td><input class="sheet-total" title="@{ac-total-sf}" type="text" name="attr_ac-total-sf" value="0%" readonly></td>
										<td><input class="sheet-total" title="@{ac-weight-total}" type="number" name="attr_ac-weight-total" value=0 step="any" readonly></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="width: 38%; height: 408px; float: right; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">EQUIPMENT</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 55px; min-width: 55px;">Slot</td>
										<td class="sheet-label-top" style="width: 100%;">Item</td>
										<td class="sheet-label-top" style="width: 50px; min-width: 50px;">Weight</td>
									</tr>
									<tr>
										<td class="sheet-label-left">Head</td>
										<td><input title="@{equip-head}" type="text" name="attr_equip-head"></td>
										<td><input title="@{equip-head-weight}" type="number" name="attr_equip-head-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-top">Headband</td>
										<td><input title="@{equip-headband}" type="text" name="attr_equip-headband"></td>
										<td><input title="@{equip-headband-weight}" type="number" name="attr_equip-headband-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Eyes</td>
										<td><input title="@{equip-eyes}" type="text" name="attr_equip-eyes"></td>
										<td><input title="@{equip-eyes-weight}" type="number" name="attr_equip-eyes-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-top">Shoulders</td>
										<td><input title="@{equip-shoulders}" type="text" name="attr_equip-shoulders"></td>
										<td><input title="@{equip-shoulders-weight}" type="number" name="attr_equip-shoulders-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Neck</td>
										<td><input title="@{equip-neck}" type="text" name="attr_equip-neck"></td>
										<td><input title="@{equip-neck-weight}" type="number" name="attr_equip-neck-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Chest</td>
										<td><input title="@{equip-chest}" type="text" name="attr_equip-chest"></td>
										<td><input title="@{equip-chest-weight}" type="number" name="attr_equip-chest-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Body</td>
										<td><input title="@{equip-body}" type="text" name="attr_equip-body"></td>
										<td><input title="@{equip-body-weight}" type="number" name="attr_equip-body-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Belt</td>
										<td><input title="@{equip-belt}" type="text" name="attr_equip-belt"></td>
										<td><input title="@{equip-belt-weight}" type="number" name="attr_equip-belt-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Wrists</td>
										<td><input title="@{equip-wrists}" type="text" name="attr_equip-wrists"></td>
										<td><input title="@{equip-wrists-weight}" type="number" name="attr_equip-wrists-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Hands</td>
										<td><input title="@{equip-hands}" type="text" name="attr_equip-hands"></td>
										<td><input title="@{equip-hands-weight}" type="number" name="attr_equip-hands-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Ring 1</td>
										<td><input title="@{equip-ring1}" type="text" name="attr_equip-ring1"></td>
										<td><input title="@{equip-ring1-weight}" type="number" name="attr_equip-ring1-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Ring 2</td>
										<td><input title="@{equip-ring2}" type="text" name="attr_equip-ring2"></td>
										<td><input title="@{equip-ring2-weight}" type="number" name="attr_equip-ring2-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Feet</td>
										<td><input title="@{equip-feet}" type="text" name="attr_equip-feet"></td>
										<td><input title="@{equip-feet-weight}" type="number" name="attr_equip-feet-weight" value=0 step="any"></td>
									</tr>
									<tr>
										<td class="sheet-label-left">Total</td>
										<td style="text-align: right;"><hr></td>
										<td><input class="sheet-total" title="@{equip-weight-total}" type="number" name="attr_equip-weight-total" value=0 step="any" readonly></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div class="sheet-box-outer" style="height: 174px; width: 62%; float: left; border-right: none; border-bottom: none;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">ENCUMBRANCE</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 66px;"></td>
										<td class="sheet-label-top">Total</td>
										<td class="sheet-label-top">Weapons</td>
										<td class="sheet-label-top">AC Features</td>
										<td class="sheet-label-top">Equipment</td>
										<td class="sheet-label-top">Inventory</td>
										<td class="sheet-label-top">Misc</td>
									</tr>
									<tr>
										<td class="sheet-label-left">Weight</td>
										<td><input title="@{weight-total}" class="sheet-total" type="text" name="attr_weight-total" value=0 step="any" readonly></td>
										<td><input title="@{weapon-weight-total}" type="number" name="attr_weapon-weight-total" value=0 step="any" readonly></td>
										<td><input title="@{ac-weight-total}" type="number" name="attr_ac-weight-total" value=0 step="any" readonly></td>
										<td><input title="@{equip-weight-total}" type="number" name="attr_equip-weight-total" value=0 step="any" readonly></td>
										<td><input title="@{inventory-weight-total}" type="number" name="attr_inventory-weight-total" value=0 step="any" readonly></td>
										<td><input title="@{misc-weight}" type="number" name="attr_misc-weight" step="any" value=0></td>
									</tr>
								</table>
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 66px;"></td>
										<td class="sheet-label-top">Current</td>
										<td class="sheet-label-top">Light</td>
										<td class="sheet-label-top">Medium</td>
										<td class="sheet-label-top">Heavy</td>
										<td class="sheet-label-top">STR Bonus</td>
									</tr>
									<tr>
										<td class="sheet-label-left">Load</td>
										<td><input class="sheet-total" title="Current load" type="text" name="attr_load-current" value="Light" readonly></td>
										<td><input title="Light load criterion" type="text" name="attr_load-light" value="0-33" readonly></td>
										<td><input title="Medium load criterion" type="text" name="attr_load-medium" value="34-66" readonly></td>
										<td><input title="Heavy load criterion" type="text" name="attr_load-heavy" value="67-100" readonly></td>
										<td><input title="Load bonus" type="number" name="attr_load-bonus" value="0"></td>
									</tr>
								</table>
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 66px;"></td>
										<td class="sheet-label-top">Lift Above Head</td>
										<td class="sheet-label-top">Lift Off Ground</td>
										<td class="sheet-label-top">Push/Drag</td>
									</tr>
									<tr>
										<td class="sheet-label-top">Maximum</td>
										<td><input title="Maximum weight to lift above head" type="number" name="attr_load-max-lift-head" value=100 readonly></td>
										<td><input title="Maximum weight to lift off of ground" type="number" name="attr_load-max-lift-ground" value=200 readonly></td>
										<td><input title="Maximum weight to push or drag something" type="number" name="attr_load-max-push-drag" value=500 readonly></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
				<div style="clear: both;"></div>
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">INVENTORY</div>
							<div class="sheet-box-content">
								<table>
									<tr>
										<td class="sheet-label-top" style="width: 22%;">Item</td>
										<td class="sheet-label-top" style="width: 40px;">Quantity/<br>Charges</td>
										<td class="sheet-label-top" style="width: 78%;">Description</td>
										<td class="sheet-label-top" style="width: 50px;">Weight</td>
									</tr>
								</table>
								<fieldset class="repeating_inventory">
									<table>
										<tr>
											<td style="width: 22%;"><input title="Item name" type="text" name="attr_inventory-item-name"></td>
											<td style="width: 40px;"><input title="Item quantity/charges" type="number" name="attr_inventory-item-quantity" value=1 step="1"></td>
											<td style="width: 78%;"><input title="Item description" type="text" name="attr_inventory-item-desc"></td>
											<td style="width: 50px;"><input title="Item weight" type="number" name="attr_inventory-item-weight" value=0 step="any"></td>
										</tr>
									</table>
								</fieldset>
								<table style="float: right; width: 150px;">
									<tr>
										<td class="sheet-label-left" style="width: 50px;">Gil</td>
										<td style="width: 100px;"><input title="Gil on hand (@{gil})" type="text" name="attr_gil" value=0 style="text-align: center;"></td>
										<td class="sheet-label-left" style="width: 50px;">Total</td>
										<td style="width: 50px;"><input class="sheet-total" title="@{inventory-weight-total}" type="number" name="attr_inventory-weight-total" value=0 readonly></td>
									</tr>
								</table>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-materia">
			<div class="sheet-background" style="width: 100%;">
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-options-loc" style="z-index: 6;"><input type="checkbox" class="sheet-options sheet-button-options" name="attr_options-materia" value="open" title="Materia options"><span></span></div>
							<input type="checkbox" class="sheet-controller sheet-options" name="attr_options-materia" value="open">
							<div class="sheet-options-area">
								<div class="sheet-box-title">MATERIA OPTIONS</div>
								<div class="sheet-box-content">
									<ul class="sheet-unstyled">
										<li><input type="checkbox" value="true" style="margin-right: 5px;" name="attr_options-materia-attunement">Allow multiple materia attunement</li>
									</ul>
								</div>
							</div>
							<div class="sheet-box-title">MATERIA</div>
							<div class="sheet-box-content" style="position: relative;">
								<fieldset class="repeating_materia">
									<input type="radio" class="sheet-controller sheet-materia-type-none" name="attr_materia-type-style" value="none" checked>
									<input type="radio" class="sheet-controller sheet-materia-type-ability" name="attr_materia-type-style" value="ability">
									<input type="radio" class="sheet-controller sheet-materia-type-independent" name="attr_materia-type-style" value="independent">
									<input type="radio" class="sheet-controller sheet-materia-type-spell" name="attr_materia-type-style" value="spell">
									<input type="radio" class="sheet-controller sheet-materia-type-summon" name="attr_materia-type-style" value="summon">
									<input type="radio" class="sheet-controller sheet-materia-type-support" name="attr_materia-type-style" value="support">
									<table>
										<tr>
											<td style="width: 50px;"><div class="sheet-materia-icon"></div></td>
											<td><input title="Materia name" type="text" name="attr_materia-name" placeholder="Materia name"></td>
											<td style="width: 100px;">
												<select type="text" name="attr_materia-type">
													<option value="Type">[Type]</option>
													<option value="Ability">Ability</option>
													<option value="Independent">Independent</option>
													<option value="Spell">Spell</option>
													<option value="Summon">Summon</option>
													<option value="Support">Support</option>
												</select>
											</td>
											<td style="width: 100px;">
												<select type="text" name="attr_materia-rarity">
													<option value="Rarity">[Rarity]</option>
													<option value="Common">Common</option>
													<option value="Uncommon">Uncommon</option>
													<option value="Rare">Rare</option>
													<option value="Legendary">Legendary</option>
												</select>
											</td>
											<td class="sheet-label-top" style="width: 50px;">Caster Level</td>
											<td style="width: 40px;"><input title="Materia caster level" type="number" name="attr_materia-cl" value=0></td>
											<td class="sheet-label-left" style="width: 50px;">MXP</td>
											<td style="width: 50px;"><input title="Materia MXP" type="number" name="attr_materia-mxp" value=0></td>
											<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
											<td style="width: 50px;"><input title="Materia MXP max" type="text" name="attr_materia-mxp_max" value="---" readonly></td>
											<td class="sheet-label-left" style="width: 50px;">Level</td>
											<td style="width: 90px; font-size: 180%; padding-bottom: 3px"><span class="sheet-materia-level" name="attr_materia-level">✰✰✰✰</span></td>
										</tr>
										<tr>
											<td class="sheet-label-top">Weapon Bonus</td>
											<td colspan="6"><input title="Materia weapon bonus" type="text" name="attr_materia-weapon-bonus"></td>
											<td class="sheet-label-top">Junction</td>
											<td colspan="4"><input title="Materia junction" type="text" name="attr_materia-junction" placeholder="Item name"></td>
										</tr>
										<tr>
											<td class="sheet-label-top">Armor Bonus</td>
											<td colspan="6"><input title="Materia armor bonus" type="text" name="attr_materia-armor-bonus"></td>
											<td class="sheet-label-top">Spells</td>
											<td colspan="4"><input title="Materia spells" type="text" name="attr_materia-spells"></td>
										</tr>
										<tr>
											<td class="sheet-label-top">Other Bonus</td>
											<td colspan="6"><input title="Materia other bonus" type="text" name="attr_materia-other-bonus"></td>
											<td class="sheet-label-left">Uses</td>
											<td colspan="4">
												<table style="margin: -1px 0 0 -1px;">
													<tr>
														<td style="width: 50px;"><input title="Materia uses/day" type="number" name="attr_materia-uses" value=0></td>
														<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
														<td style="width: 50px;"><input title="Materia uses/day max" type="number" name="attr_materia-uses_max" value=3></td>
														<td class="sheet-label-top" style="width: 65px;">Attuned?</td>
														<td style="width: 24px;"><input type="checkbox" name="attr_materia-attuned" value="attuned"></td>
													</tr>
												</table>
											</td>
										</tr>
										<tr>
											<td colspan="12"><hr></td>
										</tr>
									</table>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-skills">
			<div class="sheet-background" style="width: 100%;">
				<div class="sheet-box-outer">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">SKILLS</div>
							<div class="sheet-box-content">
								<table class="sheet-table-skill">
									<tr>
										<td style="min-width: 24px; width: 24px;"></td>
										<td class="sheet-label-top" style="min-width: 220px; width: 220px; text-align: left; padding-left: 8px;">Skill Name</td>
										<td class="sheet-label-top" style="min-width: 28px; width: 28px;">Class</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Total</td>
										<td class="sheet-label-top" style="min-width: 60px; width: 60px;">Ability</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Modifier</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Ranks</td>
										<td class="sheet-label-top" style="min-width: 40px; width: 40px;">Misc</td>
										<td class="sheet-label-top" style="min-width: 35px; width: 35px;"></td>
										<td class="sheet-label-top" style="min-width: 28px; width: 28px;">ACP</td>
										<td class="sheet-label-top" style="width: 100%;">Notes</td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Acrobatics check roll [1d20 + total acrobatics value]" type="roll" name="roll_acrobatics-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Acrobatics}} {{result=[[1d20+@{acrobatics-total}]]}} {{notes=@{acrobatics-notes}}}"></button></td>
										<td class="sheet-label-skill">Acrobatics</td>
										<td><input type="checkbox" class="sheet-cs" title="@{acrobatics-cs}" name="attr_acrobatics-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{acrobatics-total}" type="number" name="attr_acrobatics-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="acrobatics-ability" name="attr_acrobatics-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod" selected>•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{acrobatics-mod}" type="number" name="attr_acrobatics-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{acrobatics-ranks}" type="number" name="attr_acrobatics-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{acrobatics-misc}" type="number" name="attr_acrobatics-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_acrobatics-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{acrobatics-acp}" name="attr_acrobatics-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{acrobatics-notes}" type="text" name="attr_acrobatics-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Appraise check roll [1d20 + total appraise value]" type="roll" name="roll_appraise-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Appraise}} {{result=[[1d20+@{appraise-total}]]}} {{notes=@{appraise-notes}}}"></button></td>
										<td class="sheet-label-skill">Appraise</td>
										<td><input type="checkbox" class="sheet-cs" title="@{appraise-cs}" name="attr_appraise-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{appraise-total}" type="number" name="attr_appraise-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="appraise-ability" name="attr_appraise-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{appraise-mod}" type="number" name="attr_appraise-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{appraise-ranks}" type="number" name="attr_appraise-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{appraise-misc}" type="number" name="attr_appraise-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_appraise-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{appraise-notes}" type="text" name="attr_appraise-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Bluff check roll [1d20 + total bluff value]" type="roll" name="roll_bluff-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Bluff}} {{result=[[1d20+@{bluff-total}]]}} {{notes=@{bluff-notes}}}"></button></td>
										<td class="sheet-label-skill">Bluff</td>
										<td><input type="checkbox" class="sheet-cs" title="@{bluff-cs}" name="attr_bluff-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{bluff-total}" type="number" name="attr_bluff-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="bluff-ability" name="attr_bluff-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{bluff-mod}" type="number" name="attr_bluff-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{bluff-ranks}" type="number" name="attr_bluff-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{bluff-misc}" type="number" name="attr_bluff-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_bluff-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{bluff-notes}" type="text" name="attr_bluff-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Climb check roll [1d20 + total climb value]" type="roll" name="roll_climb-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Climb}} {{result=[[1d20+@{climb-total}]]}} {{notes=@{climb-notes}}}"></button></td>
										<td class="sheet-label-skill">Climb</td>
										<td><input type="checkbox" class="sheet-cs" title="@{climb-cs}" name="attr_climb-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{climb-total}" type="number" name="attr_climb-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="climb-ability" name="attr_climb-ability">
												<option value="0">---</option>
												<option selected value="str-mod">•STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{climb-mod}" type="number" name="attr_climb-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{climb-ranks}" type="number" name="attr_climb-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{climb-misc}" type="number" name="attr_climb-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_climb-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{climb-acp}" name="attr_climb-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{climb-notes}" type="text" name="attr_climb-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Craft check roll [1d20 + total craft1 value]" type="roll" name="roll_craft1-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft}} {{descriptor=@{craft1}}} {{result=[[1d20+@{craft1-total}]]}} {{notes=@{craft1-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Craft:<input title="@{craft1}" name="attr_craft1" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{craft1-cs}" name="attr_craft1-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{craft1-total}" type="number" name="attr_craft1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="craft1-ability" name="attr_craft1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{craft1-mod}" type="number" name="attr_craft1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{craft1-ranks}" type="number" name="attr_craft1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{craft1-misc}" type="number" name="attr_craft1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_craft1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{craft1-notes}" type="text" name="attr_craft1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Craft check roll [1d20 + total craft2 value]" type="roll" name="roll_craft2-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft}} {{descriptor=@{craft2}}} {{result=[[1d20+@{craft2-total}]]}} {{notes=@{craft2-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Craft: <input title="@{craft2}" name="attr_craft2" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{craft2-cs}" name="attr_craft2-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{craft2-total}" type="number" name="attr_craft2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="craft2-ability" name="attr_craft2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{craft2-mod}" type="number" name="attr_craft2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{craft2-ranks}" type="number" name="attr_craft2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{craft2-misc}" type="number" name="attr_craft2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_craft2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{craft2-notes}" type="text" name="attr_craft2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Craft check roll [1d20 + total craft3 value]" type="roll" name="roll_craft3-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft}} {{descriptor=@{craft3}}} {{result=[[1d20+@{craft3-total}]]}} {{notes=@{craft3-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Craft: <input title="@{craft3}" name="attr_craft3" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{craft3-cs}" name="attr_craft3-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{craft3-total}" type="number" name="attr_craft3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="craft3-ability" name="attr_craft3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{craft3-mod}" type="number" name="attr_craft3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{craft3-ranks}" type="number" name="attr_craft3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{craft3-misc}" type="number" name="attr_craft3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_craft3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{craft3-notes}" type="text" name="attr_craft3-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Diplomacy check roll [1d20 + total diplomacy value]" type="roll" name="roll_diplomacy-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Diplomacy}} {{result=[[1d20+@{diplomacy-total}]]}} {{notes=@{diplomacy-notes}}}"></button></td>
										<td class="sheet-label-skill">Diplomacy</td>
										<td><input type="checkbox" class="sheet-cs" title="@{diplomacy-cs}" name="attr_diplomacy-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{diplomacy-total}" type="number" name="attr_diplomacy-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="diplomacy-ability" name="attr_diplomacy-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{diplomacy-mod}" type="number" name="attr_diplomacy-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{diplomacy-ranks}" type="number" name="attr_diplomacy-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{diplomacy-misc}" type="number" name="attr_diplomacy-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_diplomacy-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{diplomacy-notes}" type="text" name="attr_diplomacy-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Disable Device check roll [1d20 + total disabledevice value]" type="roll" name="roll_disabledevice-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Disable Device}} {{result=[[1d20+@{disabledevice-total}]]}} {{notes=@{disabledevice-notes}}}"></button></td>
										<td class="sheet-label-skill">Disable Device*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{disabledevice-cs}" name="attr_disabledevice-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{disabledevice-total}" type="number" name="attr_disabledevice-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="disabledevice-ability" name="attr_disabledevice-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{disabledevice-mod}" type="number" name="attr_disabledevice-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{disabledevice-ranks}" type="number" name="attr_disabledevice-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{disabledevice-misc}" type="number" name="attr_disabledevice-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_disabledevice-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{disabledevice-acp}" name="attr_disabledevice-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{disabledevice-notes}" type="text" name="attr_disabledevice-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Disguise check roll [1d20 + total disguise value]" type="roll" name="roll_disguise-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Disguise}} {{result=[[1d20+@{disguise-total}]]}} {{notes=@{disguise-notes}}}"></button></td>
										<td class="sheet-label-skill">Disguise</td>
										<td><input type="checkbox" class="sheet-cs" title="@{disguise-cs}" name="attr_disguise-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{disguise-total}" type="number" name="attr_disguise-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="disguise-ability" name="attr_disguise-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{disguise-mod}" type="number" name="attr_disguise-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{disguise-ranks}" type="number" name="attr_disguise-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{disguise-misc}" type="number" name="attr_disguise-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_disguise-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{disguise-notes}" type="text" name="attr_disguise-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Drive check roll [1d20 + total drive value]" type="roll" name="roll_drive-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Drive}} {{result=[[1d20+@{drive-total}]]}} {{notes=@{drive-notes}}}"></button></td>
										<td class="sheet-label-skill">Drive</td>
										<td><input type="checkbox" class="sheet-cs" title="@{drive-cs}" name="attr_drive-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{drive-total}" type="number" name="attr_drive-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="drive-ability" name="attr_drive-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{drive-mod}" type="number" name="attr_drive-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{drive-ranks}" type="number" name="attr_drive-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{drive-misc}" type="number" name="attr_drive-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_drive-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{drive-acp}" name="attr_drive-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{drive-notes}" type="text" name="attr_drive-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Escape Artist check roll [1d20 + total escapeartist value]" type="roll" name="roll_escapeartist-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Escape Artist}} {{result=[[1d20+@{escapeartist-total}]]}} {{notes=@{escapeartist-notes}}}"></button></td>
										<td class="sheet-label-skill">Escape Artist</td>
										<td><input type="checkbox" class="sheet-cs" title="@{escapeartist-cs}" name="attr_escapeartist-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{escapeartist-total}" type="number" name="attr_escapeartist-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="escapeartist-ability" name="attr_escapeartist-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{escapeartist-mod}" type="number" name="attr_escapeartist-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{escapeartist-ranks}" type="number" name="attr_escapeartist-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{escapeartist-misc}" type="number" name="attr_escapeartist-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_escapeartist-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{escapeartist-acp}" name="attr_escapeartist-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{escapeartist-notes}" type="text" name="attr_escapeartist-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Fly check roll [1d20 + total fly value]" type="roll" name="roll_fly-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Fly}} {{result=[[1d20+@{fly-total}]]}} {{notes=@{fly-notes}}}"></button></td>
										<td class="sheet-label-skill">Fly</td>
										<td><input type="checkbox" class="sheet-cs" title="@{fly-cs}" name="attr_fly-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{fly-total}" type="number" name="attr_fly-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="fly-ability" name="attr_fly-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{fly-mod}" type="number" name="attr_fly-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{fly-ranks}" type="number" name="attr_fly-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{fly-misc}" type="number" name="attr_fly-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_fly-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{fly-acp}" name="attr_fly-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{fly-notes}" type="text" name="attr_fly-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Handle Animal check roll [1d20 + total handleanimal value]" type="roll" name="roll_handleanimal-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Handle Animal}} {{result=[[1d20+@{handleanimal-total}]]}} {{notes=@{handleanimal-notes}}}"></button></td>
										<td class="sheet-label-skill">Handle Animal*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{handleanimal-cs}" name="attr_handleanimal-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{handleanimal-total}" type="number" name="attr_handleanimal-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="handleanimal-ability" name="attr_handleanimal-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{handleanimal-mod}" type="number" name="attr_handleanimal-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{handleanimal-ranks}" type="number" name="attr_handleanimal-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{handleanimal-misc}" type="number" name="attr_handleanimal-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_handleanimal-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{handleanimal-notes}" type="text" name="attr_handleanimal-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Heal check roll [1d20 + total heal value]" type="roll" name="roll_heal-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Heal}} {{result=[[1d20+@{heal-total}]]}} {{notes=@{heal-notes}}}"></button></td>
										<td class="sheet-label-skill">Heal</td>
										<td><input type="checkbox" class="sheet-cs" title="@{heal-cs}" name="attr_heal-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{heal-total}" type="number" name="attr_heal-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="heal-ability" name="attr_heal-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option selected value="wis-mod">•WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{heal-mod}" type="number" name="attr_heal-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{heal-ranks}" type="number" name="attr_heal-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{heal-misc}" type="number" name="attr_heal-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_heal-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{heal-notes}" type="text" name="attr_heal-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Intimidate check roll [1d20 + total intimidate value]" type="roll" name="roll_intimidate-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Intimidate}} {{result=[[1d20+@{intimidate-total}]]}} {{notes=@{intimidate-notes}}}"></button></td>
										<td class="sheet-label-skill">Intimidate</td>
										<td><input type="checkbox" class="sheet-cs" title="@{intimidate-cs}" name="attr_intimidate-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{intimidate-total}" type="number" name="attr_intimidate-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="intimidate-ability" name="attr_intimidate-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{intimidate-mod}" type="number" name="attr_intimidate-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{intimidate-ranks}" type="number" name="attr_intimidate-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{intimidate-misc}" type="number" name="attr_intimidate-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_intimidate-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{intimidate-notes}" type="text" name="attr_intimidate-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Arcana check roll [1d20 + total knowarcana value]" type="roll" name="roll_knowarcana-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Arcana}} {{result=[[1d20+@{knowarcana-total}]]}} {{notes=@{knowarcana-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Arcana*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowarcana-cs}" name="attr_knowarcana-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowarcana-total}" type="number" name="attr_knowarcana-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowarcana-ability" name="attr_knowarcana-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowarcana-mod}" type="number" name="attr_knowarcana-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowarcana-ranks}" type="number" name="attr_knowarcana-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowarcana-misc}" type="number" name="attr_knowarcana-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowarcana-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowarcana-notes}" type="text" name="attr_knowarcana-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Dungeoneering check roll [1d20 + total knowdungeon value]" type="roll" name="roll_knowdungeon-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Dungeoneering}} {{result=[[1d20+@{knowdungeon-total}]]}} {{notes=@{knowdungeon-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Dungeoneering*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowdungeon-cs}" name="attr_knowdungeon-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowdungeon-total}" type="number" name="attr_knowdungeon-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowdungeon-ability" name="attr_knowdungeon-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowdungeon-mod}" type="number" name="attr_knowdungeon-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowdungeon-ranks}" type="number" name="attr_knowdungeon-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowdungeon-misc}" type="number" name="attr_knowdungeon-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowdungeon-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowdungeon-notes}" type="text" name="attr_knowdungeon-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Engineering check roll [1d20 + total knowengineer value]" type="roll" name="roll_knowengineer-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Engineering}} {{result=[[1d20+@{knowengineer-total}]]}} {{notes=@{knowengineer-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Engineering*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowengineer-cs}" name="attr_knowengineer-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowengineer-total}" type="number" name="attr_knowengineer-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowengineer-ability" name="attr_knowengineer-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowengineer-mod}" type="number" name="attr_knowengineer-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowengineer-ranks}" type="number" name="attr_knowengineer-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowengineer-misc}" type="number" name="attr_knowengineer-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowengineer-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowengineer-notes}" type="text" name="attr_knowengineer-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Geography check roll [1d20 + total knowgeography value]" type="roll" name="roll_knowgeography-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Geography}} {{result=[[1d20+@{knowgeography-total}]]}} {{notes=@{knowgeography-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Geography*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowgeography-cs}" name="attr_knowgeography-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowgeography-total}" type="number" name="attr_knowgeography-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowgeography-ability" name="attr_knowgeography-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowgeography-mod}" type="number" name="attr_knowgeography-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowgeography-ranks}" type="number" name="attr_knowgeography-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowgeography-misc}" type="number" name="attr_knowgeography-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowgeography-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowgeography-notes}" type="text" name="attr_knowgeography-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: History check roll [1d20 + total knowhistory value]" type="roll" name="roll_knowhistory-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: History}} {{result=[[1d20+@{knowhistory-total}]]}} {{notes=@{knowhistory-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: History*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowhistory-cs}" name="attr_knowhistory-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowhistory-total}" type="number" name="attr_knowhistory-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowhistory-ability" name="attr_knowhistory-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowhistory-mod}" type="number" name="attr_knowhistory-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowhistory-ranks}" type="number" name="attr_knowhistory-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowhistory-misc}" type="number" name="attr_knowhistory-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowhistory-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowhistory-notes}" type="text" name="attr_knowhistory-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Local check roll [1d20 + total knowlocal value]" type="roll" name="roll_knowlocal-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Local}} {{result=[[1d20+@{knowlocal-total}]]}} {{notes=@{knowlocal-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Local*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowlocal-cs}" name="attr_knowlocal-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowlocal-total}" type="number" name="attr_knowlocal-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowlocal-ability" name="attr_knowlocal-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowlocal-mod}" type="number" name="attr_knowlocal-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowlocal-ranks}" type="number" name="attr_knowlocal-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowlocal-misc}" type="number" name="attr_knowlocal-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowlocal-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowlocal-notes}" type="text" name="attr_knowlocal-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Nature check roll [1d20 + total knownature value]" type="roll" name="roll_knownature-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Nature}} {{result=[[1d20+@{knownature-total}]]}} {{notes=@{knownature-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Nature*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knownature-cs}" name="attr_knownature-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knownature-total}" type="number" name="attr_knownature-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knownature-ability" name="attr_knownature-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knownature-mod}" type="number" name="attr_knownature-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knownature-ranks}" type="number" name="attr_knownature-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knownature-misc}" type="number" name="attr_knownature-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knownature-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knownature-notes}" type="text" name="attr_knownature-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Nobility check roll [1d20 + total knownobility value]" type="roll" name="roll_knownobility-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Nobility}} {{result=[[1d20+@{knownobility-total}]]}} {{notes=@{knownobility-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Nobility*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knownobility-cs}" name="attr_knownobility-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knownobility-total}" type="number" name="attr_knownobility-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knownobility-ability" name="attr_knownobility-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knownobility-mod}" type="number" name="attr_knownobility-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knownobility-ranks}" type="number" name="attr_knownobility-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knownobility-misc}" type="number" name="attr_knownobility-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knownobility-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knownobility-notes}" type="text" name="attr_knownobility-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Planes check roll [1d20 + total knowplanes value]" type="roll" name="roll_knowplanes-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Planes}} {{result=[[1d20+@{knowplanes-total}]]}} {{notes=@{knowplanes-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Planes*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowplanes-cs}" name="attr_knowplanes-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowplanes-total}" type="number" name="attr_knowplanes-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowplanes-ability" name="attr_knowplanes-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowplanes-mod}" type="number" name="attr_knowplanes-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowplanes-ranks}" type="number" name="attr_knowplanes-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowplanes-misc}" type="number" name="attr_knowplanes-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowplanes-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowplanes-notes}" type="text" name="attr_knowplanes-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Religion check roll [1d20 + total knowreligion value]" type="roll" name="roll_knowreligion-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Religion}} {{result=[[1d20+@{knowreligion-total}]]}} {{notes=@{knowreligion-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Religion*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowreligion-cs}" name="attr_knowreligion-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowreligion-total}" type="number" name="attr_knowreligion-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowreligion-ability" name="attr_knowreligion-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowreligion-mod}" type="number" name="attr_knowreligion-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowreligion-ranks}" type="number" name="attr_knowreligion-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowreligion-misc}" type="number" name="attr_knowreligion-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowreligion-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowreligion-notes}" type="text" name="attr_knowreligion-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Knowledge: Technology check roll [1d20 + total knowtechnology value]" type="roll" name="roll_knowtechnology-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Technology}} {{result=[[1d20+@{knowtechnology-total}]]}} {{notes=@{knowtechnology-notes}}}"></button></td>
										<td class="sheet-label-skill">Knowledge: Technology*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{knowtechnology-cs}" name="attr_knowtechnology-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{knowtechnology-total}" type="number" name="attr_knowtechnology-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="knowtechnology-ability" name="attr_knowtechnology-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{knowtechnology-mod}" type="number" name="attr_knowtechnology-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{knowtechnology-ranks}" type="number" name="attr_knowtechnology-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{knowtechnology-misc}" type="number" name="attr_knowtechnology-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_knowtechnology-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{knowtechnology-notes}" type="text" name="attr_knowtechnology-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Linguistics check roll [1d20 + total linguistics value]" type="roll" name="roll_linguistics-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Linguistics}} {{result=[[1d20+@{linguistics-total}]]}} {{notes=@{linguistics-notes}}}"></button></td>
										<td class="sheet-label-skill">Linguistics*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{linguistics-cs}" name="attr_linguistics-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{linguistics-total}" type="number" name="attr_linguistics-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="linguistics-ability" name="attr_linguistics-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{linguistics-mod}" type="number" name="attr_linguistics-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{linguistics-ranks}" type="number" name="attr_linguistics-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{linguistics-misc}" type="number" name="attr_linguistics-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_linguistics-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{linguistics-notes}" type="text" name="attr_linguistics-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Navigate check roll [1d20 + total navigate value]" type="roll" name="roll_navigate-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Navigate}} {{result=[[1d20+@{navigate-total}]]}} {{notes=@{navigate-notes}}}"></button></td>
										<td class="sheet-label-skill">Navigate</td>
										<td><input type="checkbox" class="sheet-cs" title="@{navigate-cs}" name="attr_navigate-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{navigate-total}" type="number" name="attr_navigate-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="navigate-ability" name="attr_navigate-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{navigate-mod}" type="number" name="attr_navigate-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{navigate-ranks}" type="number" name="attr_navigate-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{navigate-misc}" type="number" name="attr_navigate-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_navigate-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{navigate-notes}" type="text" name="attr_navigate-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perception check roll [1d20 + total perception value]" type="roll" name="roll_perception-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perception}} {{result=[[1d20+@{perception-total}]]}} {{notes=@{perception-notes}}}"></button></td>
										<td class="sheet-label-skill">Perception</td>
										<td><input type="checkbox" class="sheet-cs" title="@{perception-cs}" name="attr_perception-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perception-total}" type="number" name="attr_perception-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perception-ability" name="attr_perception-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option selected value="wis-mod">•WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perception-mod}" type="number" name="attr_perception-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perception-ranks}" type="number" name="attr_perception-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perception-misc}" type="number" name="attr_perception-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perception-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{perception-notes}" type="text" name="attr_perception-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perform check roll [1d20 + total perform1 value]" type="roll" name="roll_perform1-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform}} {{descriptor=@{perform1}}} {{result=[[1d20+@{perform1-total}]]}} {{notes=@{perform1-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Perform: <input title="@{perform1}" name="attr_perform1" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{perform1-cs}" name="attr_perform1-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perform1-total}" type="number" name="attr_perform1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perform1-ability" name="attr_perform1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perform1-mod}" type="number" name="attr_perform1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perform1-ranks}" type="number" name="attr_perform1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perform1-misc}" type="number" name="attr_perform1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perform1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{perform1-notes}" type="text" name="attr_perform1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perform check roll [1d20 + total perform2 value]" type="roll" name="roll_perform2-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform}} {{descriptor=@{perform2}}} {{result=[[1d20+@{perform2-total}]]}} {{notes=@{perform2-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Perform: <input title="@{perform2}" name="attr_perform2" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{perform2-cs}" name="attr_perform2-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perform2-total}" type="number" name="attr_perform2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perform2-ability" name="attr_perform2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perform2-mod}" type="number" name="attr_perform2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perform2-ranks}" type="number" name="attr_perform2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perform2-misc}" type="number" name="attr_perform2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perform2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{perform2-notes}" type="text" name="attr_perform2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Perform check roll [1d20 + total perform3 value]" type="roll" name="roll_perform3-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform}} {{descriptor=@{perform3}}} {{result=[[1d20+@{perform3-total}]]}} {{notes=@{perform3-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Perform: <input title="@{perform3}" name="attr_perform3" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{perform3-cs}" name="attr_perform3-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{perform3-total}" type="number" name="attr_perform3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="perform3-ability" name="attr_perform3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{perform3-mod}" type="number" name="attr_perform3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{perform3-ranks}" type="number" name="attr_perform3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{perform3-misc}" type="number" name="attr_perform3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_perform3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{perform3-notes}" type="text" name="attr_perform3-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Pilot check roll [1d20 + total pilot value]" type="roll" name="roll_pilot-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Pilot}} {{result=[[1d20+@{pilot-total}]]}} {{notes=@{pilot-notes}}}"></button></td>
										<td class="sheet-label-skill">Pilot</td>
										<td><input type="checkbox" class="sheet-cs" title="@{pilot-cs}" name="attr_pilot-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{pilot-total}" type="number" name="attr_pilot-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="pilot-ability" name="attr_pilot-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{pilot-mod}" type="number" name="attr_pilot-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{pilot-ranks}" type="number" name="attr_pilot-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{pilot-misc}" type="number" name="attr_pilot-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_pilot-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{pilot-acp}" name="attr_pilot-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{pilot-notes}" type="text" name="attr_pilot-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Profession check roll [1d20 + total prof1 value]" type="roll" name="roll_prof1-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Profession}} {{descriptor=@{prof1}}} {{result=[[1d20+@{prof1-total}]]}} {{notes=@{prof1-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Profession*: <input title="@{prof1}" name="attr_prof1" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{prof1-cs}" name="attr_prof1-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{prof1-total}" type="number" name="attr_prof1-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="prof1-ability" name="attr_prof1-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option selected value="wis-mod">•WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{prof1-mod}" type="number" name="attr_prof1-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{prof1-ranks}" type="number" name="attr_prof1-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{prof1-misc}" type="number" name="attr_prof1-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_prof1-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{prof1-notes}" type="text" name="attr_prof1-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Profession check roll [1d20 + total prof2 value]" type="roll" name="roll_prof2-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Profession}} {{descriptor=@{prof2}}} {{result=[[1d20+@{prof2-total}]]}} {{notes=@{prof2-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Profession*: <input title="@{prof2}" name="attr_prof2" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{prof2-cs}" name="attr_prof2-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{prof2-total}" type="number" name="attr_prof2-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="prof2-ability" name="attr_prof2-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option selected value="wis-mod">•WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{prof2-mod}" type="number" name="attr_prof2-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{prof2-ranks}" type="number" name="attr_prof2-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{prof2-misc}" type="number" name="attr_prof2-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_prof2-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{prof2-notes}" type="text" name="attr_prof2-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Profession check roll [1d20 + total prof3 value]" type="roll" name="roll_prof3-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Profession}} {{descriptor=@{prof3}}} {{result=[[1d20+@{prof3-total}]]}} {{notes=@{prof3-notes}}}"></button></td>
										<td class="sheet-label-skill"><div class="sheet-flex-container">Profession*: <input title="@{prof3}" name="attr_prof3" type="text"></div></td>
										<td><input type="checkbox" class="sheet-cs" title="@{prof3-cs}" name="attr_prof3-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{prof3-total}" type="number" name="attr_prof3-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="prof3-ability" name="attr_prof3-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option selected value="wis-mod">•WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{prof3-mod}" type="number" name="attr_prof3-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{prof3-ranks}" type="number" name="attr_prof3-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{prof3-misc}" type="number" name="attr_prof3-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_prof3-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{prof3-notes}" type="text" name="attr_prof3-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Repair check roll [1d20 + total repair value]" type="roll" name="roll_repair-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Repair}} {{result=[[1d20+@{repair-total}]]}} {{notes=@{repair-notes}}}"></button></td>
										<td class="sheet-label-skill">Repair</td>
										<td><input type="checkbox" class="sheet-cs" title="@{repair-cs}" name="attr_repair-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{repair-total}" type="number" name="attr_repair-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="repair-ability" name="attr_repair-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{repair-mod}" type="number" name="attr_repair-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{repair-ranks}" type="number" name="attr_repair-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{repair-misc}" type="number" name="attr_repair-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_repair-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{repair-notes}" type="text" name="attr_repair-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Ride check roll [1d20 + total ride value]" type="roll" name="roll_ride-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ride}} {{result=[[1d20+@{ride-total}]]}} {{notes=@{ride-notes}}}"></button></td>
										<td class="sheet-label-skill">Ride</td>
										<td><input type="checkbox" class="sheet-cs" title="@{ride-cs}" name="attr_ride-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{ride-total}" type="number" name="attr_ride-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="ride-ability" name="attr_ride-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{ride-mod}" type="number" name="attr_ride-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{ride-ranks}" type="number" name="attr_ride-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{ride-misc}" type="number" name="attr_ride-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_ride-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{ride-acp}" name="attr_ride-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{ride-notes}" type="text" name="attr_ride-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Sense Motive check roll [1d20 + total sensemotive value]" type="roll" name="roll_sensemotive-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sense Motive}} {{result=[[1d20+@{sensemotive-total}]]}} {{notes=@{sensemotive-notes}}}"></button></td>
										<td class="sheet-label-skill">Sense Motive</td>
										<td><input type="checkbox" class="sheet-cs" title="@{sensemotive-cs}" name="attr_sensemotive-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{sensemotive-total}" type="number" name="attr_sensemotive-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="sensemotive-ability" name="attr_sensemotive-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option selected value="wis-mod">•WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{sensemotive-mod}" type="number" name="attr_sensemotive-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{sensemotive-ranks}" type="number" name="attr_sensemotive-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{sensemotive-misc}" type="number" name="attr_sensemotive-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_sensemotive-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{sensemotive-notes}" type="text" name="attr_sensemotive-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Sleight of Hand check roll [1d20 + total sleightofhand value]" type="roll" name="roll_sleightofhand-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sleight of Hand}} {{result=[[1d20+@{sleightofhand-total}]]}} {{notes=@{sleightofhand-notes}}}"></button></td>
										<td class="sheet-label-skill">Sleight of Hand*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{sleightofhand-cs}" name="attr_sleightofhand-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{sleightofhand-total}" type="number" name="attr_sleightofhand-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="sleightofhand-ability" name="attr_sleightofhand-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{sleightofhand-mod}" type="number" name="attr_sleightofhand-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{sleightofhand-ranks}" type="number" name="attr_sleightofhand-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{sleightofhand-misc}" type="number" name="attr_sleightofhand-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_sleightofhand-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{sleightofhand-acp}" name="attr_sleightofhand-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{sleightofhand-notes}" type="text" name="attr_sleightofhand-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Spellcraft check roll [1d20 + total spellcraft value]" type="roll" name="roll_spellcraft-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Spellcraft}} {{result=[[1d20+@{spellcraft-total}]]}} {{notes=@{spellcraft-notes}}}"></button></td>
										<td class="sheet-label-skill">Spellcraft*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{spellcraft-cs}" name="attr_spellcraft-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{spellcraft-total}" type="number" name="attr_spellcraft-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="spellcraft-ability" name="attr_spellcraft-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option selected value="int-mod">•INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{spellcraft-mod}" type="number" name="attr_spellcraft-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{spellcraft-ranks}" type="number" name="attr_spellcraft-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{spellcraft-misc}" type="number" name="attr_spellcraft-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_spellcraft-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{spellcraft-notes}" type="text" name="attr_spellcraft-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Stealth check roll [1d20 + total stealth value]" type="roll" name="roll_stealth-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Stealth}} {{result=[[1d20+@{stealth-total}]]}} {{notes=@{stealth-notes}}}"></button></td>
										<td class="sheet-label-skill">Stealth</td>
										<td><input type="checkbox" class="sheet-cs" title="@{stealth-cs}" name="attr_stealth-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{stealth-total}" type="number" name="attr_stealth-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="stealth-ability" name="attr_stealth-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option selected value="dex-mod">•DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{stealth-mod}" type="number" name="attr_stealth-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{stealth-ranks}" type="number" name="attr_stealth-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{stealth-misc}" type="number" name="attr_stealth-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_stealth-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{stealth-acp}" name="attr_stealth-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{stealth-notes}" type="text" name="attr_stealth-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Survival check roll [1d20 + total survival value]" type="roll" name="roll_survival-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Survival}} {{result=[[1d20+@{survival-total}]]}} {{notes=@{survival-notes}}}"></button></td>
										<td class="sheet-label-skill">Survival</td>
										<td><input type="checkbox" class="sheet-cs" title="@{survival-cs}" name="attr_survival-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{survival-total}" type="number" name="attr_survival-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="survival-ability" name="attr_survival-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option selected value="wis-mod">•WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{survival-mod}" type="number" name="attr_survival-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{survival-ranks}" type="number" name="attr_survival-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{survival-misc}" type="number" name="attr_survival-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_survival-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{survival-notes}" type="text" name="attr_survival-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Swim check roll [1d20 + total swim value]" type="roll" name="roll_swim-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Swim}} {{result=[[1d20+@{swim-total}]]}} {{notes=@{swim-notes}}}"></button></td>
										<td class="sheet-label-skill">Swim</td>
										<td><input type="checkbox" class="sheet-cs" title="@{swim-cs}" name="attr_swim-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{swim-total}" type="number" name="attr_swim-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="swim-ability" name="attr_swim-ability">
												<option value="0">---</option>
												<option selected value="str-mod">•STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option value="cha-mod">CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{swim-mod}" type="number" name="attr_swim-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{swim-ranks}" type="number" name="attr_swim-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{swim-misc}" type="number" name="attr_swim-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_swim-bonus"></span></td>
										<td class="sheet-data-skill"><input type="checkbox" title="@{swim-acp}" name="attr_swim-acp" value="acp" checked></td>
										<td class="sheet-data-skill"><input title="@{swim-notes}" type="text" name="attr_swim-notes"></td>
									</tr>
									<tr class="sheet-table-row-skill">
										<td><button class="sheet-text-button" title="Use Magic Device check roll [1d20 + total usemagicdevice value]" type="roll" name="roll_usemagicdevice-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Use Magic Device}} {{result=[[1d20+@{usemagicdevice-total}]]}} {{notes=@{usemagicdevice-notes}}}"></button></td>
										<td class="sheet-label-skill">Use Magic Device*</td>
										<td><input type="checkbox" class="sheet-cs" title="@{usemagicdevice-cs}" name="attr_usemagicdevice-cs" value="trained"></td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{usemagicdevice-total}" type="number" name="attr_usemagicdevice-total" readonly value="0"></td>
										<td class="sheet-data-skill">
											<select title="usemagicdevice-ability" name="attr_usemagicdevice-ability">
												<option value="0">---</option>
												<option value="str-mod">STR</option>
												<option value="dex-mod">DEX</option>
												<option value="con-mod">CON</option>
												<option value="int-mod">INT</option>
												<option value="wis-mod">WIS</option>
												<option selected value="cha-mod">•CHA</option>
											</select>
										</td>
										<td class="sheet-data-skill"><input title="@{usemagicdevice-mod}" type="number" name="attr_usemagicdevice-mod" value="0" readonly></td>
										<td class="sheet-data-skill"><input title="@{usemagicdevice-ranks}" type="number" name="attr_usemagicdevice-ranks" value="0"></td>
										<td class="sheet-data-skill"><input title="@{usemagicdevice-misc}" type="number" name="attr_usemagicdevice-misc" value="0"></td>
										<td><span class="sheet-cs-show" name="attr_usemagicdevice-bonus"></span></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-data-skill"><input title="@{usemagicdevice-notes}" type="text" name="attr_usemagicdevice-notes"></td>
									</tr>
									<tr style="height: 25px; line-height: 23px;">
										<td></td>
										<td class="sheet-label-skill">* = Trained Use Only</td>
										<td></td>
										<td class="sheet-data-skill"></td>
										<td class="sheet-label-left"></td>
										<td class="sheet-label-left">Total</td>
										<td class="sheet-data-skill"><input class="sheet-total" title="@{total-ranks}" type="number" name="attr_total-ranks" value="0" readonly></td>
										<td class="sheet-data-skill"></td>
										<td><span class="sheet-cs-show"></td>
										<td class="sheet-data-skill"></td>
										<td></td>
									</tr>
								</table>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-feats">
			<div class="sheet-background">
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">FEATS</div>
							<div class="sheet-box-content">
								<fieldset class="repeating_feats">
									<table>
										<tr>
											<td><input title="Feat/trait name" type="text" placeholder="Feat name" name="attr_feat-name"></td>
											<td style="width: 40px;"><button class="button send" type="roll" title="Show feat on chat" value="@{gmroll} &{template:special} @{colorString} {{charName=@{character_name}}} {{rollType=Level @{feat-level} Feat}} {{name=@{feat-name}}} {{desc=@{feat-benefits}}}"></button></td>
											<td class="sheet-label-top" style="width: 50px;">Level Acquired</td>
											<td style="width: 40px;"><input title="Level acquired" type="number" value="0" name="attr_feat-level"></td>
											<td class="sheet-label-left" style="width: 50px;">Uses</td>
											<td style="width: 40px;"><input title="Feature uses/day used" type="number" value="0" name="attr_feat-uses"></td>
											<td class="sheet-label-left" style="font-size: 150%; width: 15px;">/</td>
											<td style="width: 40px;"><input title="Feature uses/day max" type="number" value="0" name="attr_feat-uses_max"></td>
											<td style="width: 24px;"><input type="checkbox" title="Expand/hide feat benefits" class="sheet-expander" name="attr_ctrl-feat-show-details" value="hide"><span></span></td>
										</tr>
									</table>
									<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-feat-show-details" value="hide">
									<div class="sheet-expansion-area">
										<table>
											<tr>
												<td><textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Benefits" type="text" name="attr_feat-benefits"></textarea></td>
											</tr>
											<tr>
												<td><hr></td>
											</tr>
										</table>
									</div>
								</fieldset>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-section-spells">
			<div class="sheet-background">
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">SPELLS</div>
							<div class="sheet-box-content">

								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-2" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-3" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-4" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-5" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-6" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-7" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-8" value="shown" checked>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-9" value="shown" checked>
								<input type="number" name="attr_spells-amount-0" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-1" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-2" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-3" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-4" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-5" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-6" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-7" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-8" value=0 style="display: none;">
								<input type="number" name="attr_spells-amount-9" value=0 style="display: none;">
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">0</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-0" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-0">0 spell(s)</span></td>
										<td><label class="inline-label">Cantrip DC<input type="number" name="attr_spells-dc-0" value="10"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-0" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-0">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-0} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">1st</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-1" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-1">0 spell(s)</span></td>
										<td><label class="inline-label">Level 1 DC<input type="number" name="attr_spells-dc-1" value="11"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-1" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-1">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-1} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">2nd</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-2" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-2">0 spell(s)</span></td>
										<td><label class="inline-label">Level 2 DC<input type="number" name="attr_spells-dc-2" value="12"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-2" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-2">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-2} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">3rd</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-3" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-3">0 spell(s)</span></td>
										<td><label class="inline-label">Level 3 DC<input type="number" name="attr_spells-dc-3" value="13"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-3" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-3">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-3} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">4th</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-4" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-4">0 spell(s)</span></td>
										<td><label class="inline-label">Level 4 DC<input type="number" name="attr_spells-dc-4" value="14"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-4" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-4">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-4} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">5th</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-5" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-5">0 spell(s)</span></td>
										<td><label class="inline-label">Level 5 DC<input type="number" name="attr_spells-dc-5" value="15"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-5" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-5">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-5} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">6th</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-6" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-6">0 spell(s)</span></td>
										<td><label class="inline-label">Level 6 DC<input type="number" name="attr_spells-dc-6" value="16"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-6" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-6">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-6} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">7th</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-7" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-7">0 spell(s)</span></td>
										<td><label class="inline-label">Level 7 DC<input type="number" name="attr_spells-dc-7" value="17"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-7" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-7">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-7} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">8th</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-8" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-8">0 spell(s)</span></td>
										<td><label class="inline-label">Level 8 DC<input type="number" name="attr_spells-dc-8" value="18"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-8" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-8">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-8} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<table class="sheet-fancy">
									<tr class="sheet-fancy">
										<td class="sheet-label-left" style="width: 60px; color: yellow; padding-left: 6px;">9th</td>
										<td style="width: 30px;"><input type="checkbox" class="sheet-expander" name="attr_spell-show-9" value="shown" checked><span></span></td>
										<td style="text-align: left;"><span name="attr_spells-amount-show-9">0 spell(s)</span></td>
										<td><label class="inline-label">Level 9 DC<input type="number" name="attr_spells-dc-9" value="19"></label></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_spell-show-9" value="shown" checked>
								<div class="sheet-expansion-area" style="margin: 1px 0px;">
									<table>
										<tr>
											<td class="sheet-label-top" style="min-width: 24px; width: 24px;">Roll</td>
											<td class="sheet-label-top" style="width: 160px;">Name</td>
											<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
											<td class="sheet-label-top" style="width: 50%;">Range</td>
											<td class="sheet-label-top" style="width: 50%;">Saving Throw</td>
											<td class="sheet-label-top" style="width: 75px;">DC Mod</td>
											<td class="sheet-label-top" style="width: 35px;">DC</td>
											<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
											<td class="sheet-label-top" style="width: 24px;"></td>
										</tr>
									</table>
									<fieldset class="repeating_spells-9">
										<table>
											<tr>
												<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:spell} @{colorString} {{charName=@{character_name}}} {{rollType=Spell}} {{spellName=@{spell-name}}} {{attackType=@{spell-attack-type}}} {{desc=@{spell-description}}} {{failure=[[1d100]]}} {{failChance=[[@{ac-total-sf}]]}} {{castingTime=@{spell-casting-time}}} {{damage=[[0@{spell-damage}]]}} {{range=@{spell-range}}} {{school=@{spell-school}}} {{sr=@{spell-resistance}}} {{savingThrow=@{spell-saving-throw-descriptor}}} {{dc=@{spell-dc}}} {{spellType=@{spell-type}}} {{duration=@{spell-duration}}} {{target=@{spell-target-area-effect}}}"></button></td>
												<td style="width: 160px;"><input title="Spell name" type="text" name="attr_spell-name" placeholder="Spell name"></td>
												<td style="width: 110px;">
													<select type="text" name="attr_spell-attack-type">
														<option value="">None</option>
														<option value="[[1d20+@{ranged-total}]]">Ranged Touch</option>
														<option value="[[1d20+@{melee-total}]]">Touch</option>
													</select>
												</td>
												<td style="width: 50%;"><input title="Spell range" type="text" name="attr_spell-range"></td>
												<td style="width: 50%;"><input title="Spell saving throw descriptor" type="text" name="attr_spell-saving-throw-descriptor"></td>
												<td style="width: 75px;"><input title="Spell DC Bonus" type="number" value="0" name="attr_spell-dc-mod"></td>
												<td style="width: 35px;"><input title="Spell DC" type="number" class="shown-dc" name="attr_spell-dc" disabled="true" value="(@{spells-dc-9} + @{spell-dc-mod})"></td>
												<td style="width: 120px;"><input title="Spell damage or healing" type="text" name="attr_spell-damage" placeholder="Damage formula"></td>
												<td style="width: 24px;"><input type="checkbox" title="Expand/hide spell attributes" class="sheet-expander" name="attr_ctrl-spell-show-details" value="hide"><span></span></td>
											</tr>
										</table>
										<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-spell-show-details" value="hide">
										<div class="sheet-expansion-area">
											<table>
												<tr>
													<td class="sheet-label-left" style="width: 66px;">School</td>
													<td><input title="Spell school" type="text" name="attr_spell-school"></td>
													<td class="sheet-label-top" style="width: 66px;">Casting<br>Time</td>
													<td style="width: 125px;">
														<select type="text" name="attr_spell-casting-time">
															<option value="">---</option>
															<option value="Immediate Action">Immediate Action</option>
															<option value="Free Action">Free Action</option>
															<option value="Swift Action">Swift Action</option>
															<option value="Move Action">Move Action</option>
															<option value="Standard Action">Standard Action</option>
															<option value="Full-Round Action">Full-Round Action</option>
														</select>
													</td>
													<td class="sheet-label-left" style="width: 66px;">Duration</td>
													<td><input title="Spell duration" type="text" name="attr_spell-duration"></td>
												</tr>
												<tr>
													<td>
														<select type="text" class="sheet-spell-type" name="attr_spell-type">
															<option value="Target">Target</option>
															<option value="Area">Area</option>
															<option value="Effect">Effect</option>
														</select>
													</td>
													<td><input title="Spell target/area/effect" type="text" name="attr_spell-target-area-effect"></td>
													<td class="sheet-label-top">Spell<br>Resistance</td>
													<td>
														<select type="text" name="attr_spell-resistance">
															<option value="">---</option>
															<option value="yes">Yes</option>
															<option value="yes (harmless)">Yes (Harmless)</option>
															<option value="yes (object)">Yes (Object)</option>
															<option value="no">No</option>
														</select>
													</td>
													<td class="sheet-label-top">Source<br>Class</td>
													<td><input title="Spell source class" type="text" name="attr_spell-source-class"></td>
												</tr>
												<tr>
													<td colspan="6">
														<textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Spell description" name="attr_spell-description"></textarea>
														<hr>
													</td>
												</tr>
											</table>
										</div>
									</fieldset>
								</div>
								<div style="clear: both;"></div>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

		<div class="sheet-section-notes">
			<div class="sheet-background">
				<div class="sheet-box-outer" style="width: 100%;">
					<div class="sheet-box-middle">
						<div class="sheet-box-inner">
							<div class="sheet-box-title">NOTES</div>
							<div class="sheet-box-content">
								<textarea class="sheet-resizeable sheet-notes" rows="22" class="sheet-notes" type="text" name="attr_notes"></textarea>
							</div>
						</div>
					</div>
				</div>
			</div>
		</div>

	</div>

	<!-- MONSTER PAGE -->

	<div class="sheet-monster">
		<div class="sheet-background">
			<div class="sheet-box-outer" style="border-left: none; border-bottom: none; float: right; width: 250px;">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner" style="overflow-y: scroll; height: 471px;">
						<div class="sheet-box-title">SKILLS</div>
						<div class="sheet-box-content">
							<table class="sheet-table-skill-monster">
								<tr>
									<td style="min-width: 18px; width: 18px;"></td>
									<td class="sheet-label-top" style="text-align: left; padding-left: 8px;">Skill Name</td>
									<td class="sheet-label-top" style="min-width: 34px; width: 34px;">Total</td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Acrobatics check roll [1d20 + total acrobatics value]" type="roll" name="roll_acrobatics-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Acrobatics}} {{result=[[1d20+@{acrobatics-total}]]}} {{notes=@{acrobatics-notes}}}"></button></td>
									<td class="sheet-label-skill">Acrobatics</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{acrobatics-total}" type="number" name="attr_acrobatics-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Appraise check roll [1d20 + total appraise value]" type="roll" name="roll_appraise-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Appraise}} {{result=[[1d20+@{appraise-total}]]}} {{notes=@{appraise-notes}}}"></button></td>
									<td class="sheet-label-skill">Appraise</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{appraise-total}" type="number" name="attr_appraise-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Bluff check roll [1d20 + total bluff value]" type="roll" name="roll_bluff-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Bluff}} {{result=[[1d20+@{bluff-total}]]}} {{notes=@{bluff-notes}}}"></button></td>
									<td class="sheet-label-skill">Bluff</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{bluff-total}" type="number" name="attr_bluff-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Climb check roll [1d20 + total climb value]" type="roll" name="roll_climb-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Climb}} {{result=[[1d20+@{climb-total}]]}} {{notes=@{climb-notes}}}"></button></td>
									<td class="sheet-label-skill">Climb</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{climb-total}" type="number" name="attr_climb-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Craft check roll [1d20 + total craft3 value]" type="roll" name="roll_craft1-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Craft}} {{descriptor=@{craft3}}} {{result=[[1d20+@{craft1-total}]]}} {{notes=@{craft1-notes}}}"></button></td>
									<td class="sheet-label-skill"><div class="flex-container">Craft: <input title="Craft skill name" name="attr_craft1" type="text"></div></td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{craft1-total}" type="number" name="attr_craft1-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Diplomacy check roll [1d20 + total diplomacy value]" type="roll" name="roll_diplomacy-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Diplomacy}} {{result=[[1d20+@{diplomacy-total}]]}} {{notes=@{diplomacy-notes}}}"></button></td>
									<td class="sheet-label-skill">Diplomacy</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{diplomacy-total}" type="number" name="attr_diplomacy-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Disable Device check roll [1d20 + total disabledevice value]" type="roll" name="roll_disabledevice-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Disable Device}} {{result=[[1d20+@{disabledevice-total}]]}} {{notes=@{disabledevice-notes}}}"></button></td>
									<td class="sheet-label-skill">Disable Device*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{disabledevice-total}" type="number" name="attr_disabledevice-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Disguise check roll [1d20 + total disguise value]" type="roll" name="roll_disguise-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Disguise}} {{result=[[1d20+@{disguise-total}]]}} {{notes=@{disguise-notes}}}"></button></td>
									<td class="sheet-label-skill">Disguise</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{disguise-total}" type="number" name="attr_disguise-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Drive check roll [1d20 + total drive value]" type="roll" name="roll_drive-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Drive}} {{result=[[1d20+@{drive-total}]]}} {{notes=@{drive-notes}}}"></button></td>
									<td class="sheet-label-skill">Drive</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{drive-total}" type="number" name="attr_drive-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Escape Artist check roll [1d20 + total escapeartist value]" type="roll" name="roll_escapeartist-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Escape Artist}} {{result=[[1d20+@{escapeartist-total}]]}} {{notes=@{escapeartist-notes}}}"></button></td>
									<td class="sheet-label-skill">Escape Artist</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{escapeartist-total}" type="number" name="attr_escapeartist-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Fly check roll [1d20 + total fly value]" type="roll" name="roll_fly-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Fly}} {{result=[[1d20+@{fly-total}]]}} {{notes=@{fly-notes}}}"></button></td>
									<td class="sheet-label-skill">Fly</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{fly-total}" type="number" name="attr_fly-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Handle Animal check roll [1d20 + total handleanimal value]" type="roll" name="roll_handleanimal-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Handle Animal}} {{result=[[1d20+@{handleanimal-total}]]}} {{notes=@{handleanimal-notes}}}"></button></td>
									<td class="sheet-label-skill">Handle Animal*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{handleanimal-total}" type="number" name="attr_handleanimal-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Heal check roll [1d20 + total heal value]" type="roll" name="roll_heal-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Heal}} {{result=[[1d20+@{heal-total}]]}} {{notes=@{heal-notes}}}"></button></td>
									<td class="sheet-label-skill">Heal</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{heal-total}" type="number" name="attr_heal-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Intimidate check roll [1d20 + total intimidate value]" type="roll" name="roll_intimidate-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Intimidate}} {{result=[[1d20+@{intimidate-total}]]}} {{notes=@{intimidate-notes}}}"></button></td>
									<td class="sheet-label-skill">Intimidate</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{intimidate-total}" type="number" name="attr_intimidate-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Arcana check roll [1d20 + total knowarcana value]" type="roll" name="roll_knowarcana-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Arcana}} {{result=[[1d20+@{knowarcana-total}]]}} {{notes=@{knowarcana-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Arcana*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowarcana-total}" type="number" name="attr_knowarcana-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Dungeoneering check roll [1d20 + total knowdungeon value]" type="roll" name="roll_knowdungeon-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Dungeoneering}} {{result=[[1d20+@{knowdungeon-total}]]}} {{notes=@{knowdungeon-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Dungeoneering*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowdungeon-total}" type="number" name="attr_knowdungeon-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Engineering check roll [1d20 + total knowengineer value]" type="roll" name="roll_knowengineer-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Engineering}} {{result=[[1d20+@{knowengineer-total}]]}} {{notes=@{knowengineer-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Engineering*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowengineer-total}" type="number" name="attr_knowengineer-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Geography check roll [1d20 + total knowgeography value]" type="roll" name="roll_knowgeography-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Geography}} {{result=[[1d20+@{knowgeography-total}]]}} {{notes=@{knowgeography-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Geography*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowgeography-total}" type="number" name="attr_knowgeography-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: History check roll [1d20 + total knowhistory value]" type="roll" name="roll_knowhistory-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: History}} {{result=[[1d20+@{knowhistory-total}]]}} {{notes=@{knowhistory-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: History*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowhistory-total}" type="number" name="attr_knowhistory-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Local check roll [1d20 + total knowlocal value]" type="roll" name="roll_knowlocal-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Local}} {{result=[[1d20+@{knowlocal-total}]]}} {{notes=@{knowlocal-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Local*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowlocal-total}" type="number" name="attr_knowlocal-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Nature check roll [1d20 + total knownature value]" type="roll" name="roll_knownature-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Nature}} {{result=[[1d20+@{knownature-total}]]}} {{notes=@{knownature-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Nature*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knownature-total}" type="number" name="attr_knownature-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Nobility check roll [1d20 + total knownobility value]" type="roll" name="roll_knownobility-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Nobility}} {{result=[[1d20+@{knownobility-total}]]}} {{notes=@{knownobility-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Nobility*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knownobility-total}" type="number" name="attr_knownobility-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Planes check roll [1d20 + total knowplanes value]" type="roll" name="roll_knowplanes-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Planes}} {{result=[[1d20+@{knowplanes-total}]]}} {{notes=@{knowplanes-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Planes*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowplanes-total}" type="number" name="attr_knowplanes-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Religion check roll [1d20 + total knowreligion value]" type="roll" name="roll_knowreligion-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Religion}} {{result=[[1d20+@{knowreligion-total}]]}} {{notes=@{knowreligion-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Religion*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowreligion-total}" type="number" name="attr_knowreligion-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Knowledge: Technology check roll [1d20 + total knowtechnology value]" type="roll" name="roll_knowtechnology-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Knowledge: Technology}} {{result=[[1d20+@{knowtechnology-total}]]}} {{notes=@{knowtechnology-notes}}}"></button></td>
									<td class="sheet-label-skill">Knowledge: Technology*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{knowtechnology-total}" type="number" name="attr_knowtechnology-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Linguistics check roll [1d20 + total linguistics value]" type="roll" name="roll_linguistics-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Linguistics}} {{result=[[1d20+@{linguistics-total}]]}} {{notes=@{linguistics-notes}}}"></button></td>
									<td class="sheet-label-skill">Linguistics*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{linguistics-total}" type="number" name="attr_linguistics-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Navigate check roll [1d20 + total navigate value]" type="roll" name="roll_navigate-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Navigate}} {{result=[[1d20+@{navigate-total}]]}} {{notes=@{navigate-notes}}}"></button></td>
									<td class="sheet-label-skill">Navigate</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{navigate-total}" type="number" name="attr_navigate-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Perception check roll [1d20 + total perception value]" type="roll" name="roll_perception-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perception}} {{result=[[1d20+@{perception-total}]]}} {{notes=@{perception-notes}}}"></button></td>
									<td class="sheet-label-skill">Perception</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{perception-total}" type="number" name="attr_perception-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Perform check roll [1d20 + total perform1 value]" type="roll" name="roll_perform1-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Perform}} {{descriptor=@{perform1}}} {{result=[[1d20+@{perform1-total}]]}} {{notes=@{perform1-notes}}}"></button></td>
									<td class="sheet-label-skill"><div class="flex-container">Perform: <input title="@{perform1}" name="attr_perform1" type="text"></div></td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{perform1-total}" type="number" name="attr_perform1-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Pilot check roll [1d20 + total pilot value]" type="roll" name="roll_pilot-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Pilot}} {{result=[[1d20+@{pilot-total}]]}} {{notes=@{pilot-notes}}}"></button></td>
									<td class="sheet-label-skill">Pilot</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{pilot-total}" type="number" name="attr_pilot-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Profession check roll [1d20 + total prof1 value]" type="roll" name="roll_prof1-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Profession}} {{descriptor=@{prof1}}} {{result=[[1d20+@{prof1-total}]]}} {{notes=@{prof1-notes}}}"></button></td>
									<td class="sheet-label-skill"><div class="flex-container">Profession*: <input title="@{prof1}" name="attr_prof1" type="text"></div></td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{prof1-total}" type="number" name="attr_prof1-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Repair check roll [1d20 + total repair value]" type="roll" name="roll_repair-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Repair}} {{result=[[1d20+@{repair-total}]]}} {{notes=@{repair-notes}}}"></button></td>
									<td class="sheet-label-skill">Repair</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{repair-total}" type="number" name="attr_repair-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Ride check roll [1d20 + total ride value]" type="roll" name="roll_ride-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Ride}} {{result=[[1d20+@{ride-total}]]}} {{notes=@{ride-notes}}}"></button></td>
									<td class="sheet-label-skill">Ride</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{ride-total}" type="number" name="attr_ride-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Sense Motive check roll [1d20 + total sensemotive value]" type="roll" name="roll_sensemotive-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sense Motive}} {{result=[[1d20+@{sensemotive-total}]]}} {{notes=@{sensemotive-notes}}}"></button></td>
									<td class="sheet-label-skill">Sense Motive</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{sensemotive-total}" type="number" name="attr_sensemotive-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Sleight of Hand check roll [1d20 + total sleightofhand value]" type="roll" name="roll_sleightofhand-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Sleight of Hand}} {{result=[[1d20+@{sleightofhand-total}]]}} {{notes=@{sleightofhand-notes}}}"></button></td>
									<td class="sheet-label-skill">Sleight of Hand*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{sleightofhand-total}" type="number" name="attr_sleightofhand-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Spellcraft check roll [1d20 + total spellcraft value]" type="roll" name="roll_spellcraft-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Spellcraft}} {{result=[[1d20+@{spellcraft-total}]]}} {{notes=@{spellcraft-notes}}}"></button></td>
									<td class="sheet-label-skill">Spellcraft*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{spellcraft-total}" type="number" name="attr_spellcraft-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Stealth check roll [1d20 + total stealth value]" type="roll" name="roll_stealth-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Stealth}} {{result=[[1d20+@{stealth-total}]]}} {{notes=@{stealth-notes}}}"></button></td>
									<td class="sheet-label-skill">Stealth</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{stealth-total}" type="number" name="attr_stealth-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Survival check roll [1d20 + total survival value]" type="roll" name="roll_survival-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Survival}} {{result=[[1d20+@{survival-total}]]}} {{notes=@{survival-notes}}}"></button></td>
									<td class="sheet-label-skill">Survival</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{survival-total}" type="number" name="attr_survival-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Swim check roll [1d20 + total swim value]" type="roll" name="roll_swim-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Swim}} {{result=[[1d20+@{swim-total}]]}} {{notes=@{swim-notes}}}"></button></td>
									<td class="sheet-label-skill">Swim</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{swim-total}" type="number" name="attr_swim-total" value=0></td>
								</tr>
								<tr class="sheet-table-row-skill">
									<td><button class="sheet-text-button" title="Use Magic Device check roll [1d20 + total usemagicdevice value]" type="roll" name="roll_usemagicdevice-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Skill Check}} {{rollTypeName=Use Magic Device}} {{result=[[1d20+@{usemagicdevice-total}]]}} {{notes=@{usemagicdevice-notes}}}"></button></td>
									<td class="sheet-label-skill">Use Magic Device*</td>
									<td class="sheet-data-skill"><input class="sheet-total" title="@{usemagicdevice-total}" type="number" name="attr_usemagicdevice-total" value=0></td>
								</tr>
								<tr style="height: 19px;">
									<td></td>
									<td class="sheet-label-skill">* = Trained Use Only</td>
									<td></td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div class="sheet-box-outer" style="position: relative; border-bottom: none; margin-right: 250px;">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<div style="position: absolute; width: 220px; top: 21px; right: 4px;">
							<table>
								<tr>
									<td class="sheet-label-left" style="width: 50px;">CR</td>
									<td style="width: 40px;"><input type="text" name="attr_cr" title="@{cr}" value=0 style="text-align: center;"></td>
									<td class="sheet-label-left" style="width: 50px;">XP</td>
									<td style="width: 70px;"><input type="text" name="attr_xp-rewarded" title="@{xp-rewarded}" value=0 style="text-align: center;"></td>
								</tr>
							</table>
						</div>
						<div class="sheet-box-title">STATISTICS</div>
						<div class="sheet-box-content">
							<div style="float: left; width: 150px;">
								<table>
									<tr>
										<td style="width: 22px;"></td>
										<td class="sheet-label-top" style="width: 50px;">Ability</td>
										<td class="sheet-label-top" style="width: 40px;">Modifier</td>
										<td class="sheet-label-top" style="width: 40px;">Total</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Strength Check Roll [1d20 + Strength Modifier]" type="roll" name="roll_STR-check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Strength Check}} {{result=[[1d20+@{STR-mod}]]}}"></button></td>
										<td class="sheet-label-left">STR</td>
										<td><input class="sheet-total" title="@{STR-mod}" type="number" name="attr_STR-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{STR}" type="number" name="attr_STR" value=10></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Dexterity Check Roll" type="roll" name="roll_DEX-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Dexterity Check}} {{result=[[1d20+@{DEX-mod}]]}}"></button></td>
										<td class="sheet-label-left">DEX</td>
										<td><input class="sheet-total" title="@{DEX-mod}" type="number" name="attr_DEX-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{DEX}" type="number" name="attr_DEX" value=10></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Constitution Check Roll" type="roll" name="roll_CON-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Constitution Check}} {{result=[[1d20+@{CON-mod}]]}}"></button></td>
										<td class="sheet-label-left">CON</td>
										<td><input class="sheet-total" title="@{CON-mod}" type="number" name="attr_CON-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{CON}" type="number" name="attr_CON" value=10></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Intelligence Check Roll" type="roll" name="roll_INT-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Intelligence Check}} {{result=[[1d20+@{INT-mod}]]}}"></button></td>
										<td class="sheet-label-left">INT</td>
										<td><input class="sheet-total" title="@{INT-mod}" type="number" name="attr_INT-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{INT}" type="number" name="attr_INT" value=10></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Wisdom Check Roll" type="roll" name="roll_WIS-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Wisdom Check}} {{result=[[1d20+@{WIS-mod}]]}}"></button></td>
										<td class="sheet-label-left">WIS</td>
										<td><input class="sheet-total" title="@{WIS-mod}" type="number" name="attr_WIS-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{WIS}" type="number" name="attr_WIS" value=10></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Charisma Check Roll" type="roll" name="roll_CHA-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Ability Check}} {{rollTypeName=Charisma Check}} {{result=[[1d20+@{CHA-mod}]]}}"></button></td>
										<td class="sheet-label-left">CHA</td>
										<td><input class="sheet-total" title="@{CHA-mod}" type="number" name="attr_CHA-mod" value=0 readonly></td>
										<td><input class="sheet-total" title="@{CHA}" type="number" name="attr_CHA" value=10></td>
									</tr>
								</table>
							</div>
							<div style="margin-left: 170px;">
								<table>
									<tr>
										<td style="width: 24px;" class="sheet-label-top"></td>
										<td style="width: 66px;" class="sheet-label-top">Ability</td>
										<td style="width: 40px;" class="sheet-label-top">Total</td>
										<td style="width: 100%; text-align: left; padding-left: 6px;" class="sheet-label-top">Feats</td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Initiative roll [1d20 + total initiative value]" type="roll" name="roll_initiative" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=Initiative}} {{result=[[1d20+@{init-total} &{tracker}]]}}"></button></td>
										<td class="sheet-label-left">Initiative</td>
										<td><input class="sheet-total" title="@{init-total}" type="number" name="attr_init-total" value=0></td>
										<td colspan="2" rowspan="4" style="padding-right: 1px;"><textarea title="@{feats}" name="attr_feats" rows="5" placeholder="Feats" style="height: 99px;"></textarea></td>
									</tr>
									<tr>
										<td><button class="sheet-text-button" title="Combat Maneuver Bonus check roll [1d20 + total CMB value]" type="roll" name="roll_STR-Check" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Combat}} {{rollTypeName=CMB}} {{result=[[1d20+@{cmb-total}]]}}"></button></td>
										<td class="sheet-label-left">CMB</td>
										<td><input class="sheet-total" title="@{cmb-total}" type="number" name="attr_cmb-total" value=0></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td class="sheet-label-left">CMD</td>
										<td><input class="sheet-total" title="@{cmd-total}" type="number" name="attr_cmd-total" value=0></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td class="sheet-label-left">BAB</td>
										<td><input class="sheet-total" title="@{total-bab}" type="number" name="attr_total-bab" value=0></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td class="sheet-label-left">Senses</td>
										<td colspan="2"><input title="@{senses}" type="text" name="attr_senses"></td>
										<td></td>
									</tr>
									<tr>
										<td></td>
										<td class="sheet-label-top">Languages</td>
										<td colspan="2"><input title="@{languages}" type="text" name="attr_languages"></td>
										<td></td>
									</tr>
								</table>
							</div>
							<table style="padding-right: 2px;">
								<tr>
									<td style="width: 22px;" class="sheet-label-top"></td>
									<td style="width: 50px; vertical-align: top; padding-top: 5px;" class="sheet-label-left">Gear</td>
									<td><textarea title="@{gear}" name="attr_gear" rows="2"></textarea></td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
			<div class="sheet-box-outer" style="border-bottom: none; margin-right: 250px;">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<div class="sheet-box-title">DEFENSE</div>
						<div class="sheet-box-content">
							<table>
								<tr>
									<td style="width: 24px;"></td>
									<td style="width: 66px;"></td>
									<td class="sheet-label-top" style="width: 40px;">Total</td>
									<td class="sheet-label-top" style="width: 66px;">Formula</td>
									<td style="width: 40px;"></td>
									<td style="width: 50px;"></td>
									<td style="width: 40px;"></td>
									<td style="width: 50px;"></td>
									<td></td>
								</tr>
								<tr>
									<td></td>
									<td class="sheet-label-left">HP</td>
									<td><input title="@{hp}" type="number" name="attr_hp_max" value=0></td>
									<td colspan="2"><input title="@{hp-formula}" type="text" name="attr_hp-formula" placeholder="(xdy+z)"></td>
									<td class="sheet-label-left">DR</td>
									<td colspan="3"><input title="@{dr}" type="text" name="attr_dr"></td>
								</tr>
								<tr>
									<td class="sheet-label-top"></td>
									<td class="sheet-label-left">MP</td>
									<td><input title="@{mp}" type="number" name="attr_mp_max" value=0></td>
									<td class="sheet-label-left">SR</td>
									<td><input title="@{sr}" type="number" name="attr_sr" value=0></td>
									<td colspan="4" rowspan="4" style="vertical-align: top;"><textarea rows="4" placeholder="Resists, weaknesses, immunities" title="@{resists-weaknesses}" name="attr_resists-weaknesses" style="height: 99px;"></textarea></td>
								</tr>
								<tr>
									<td><button class="sheet-text-button" title="Fortitude saving throw roll" type="roll" name="roll_saving-throw" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Saving Throw}} {{rollTypeName=Fortitude Save}} {{result=[[1d20+@{fort}]]}}"></button></td>
									<td class="sheet-label-left">Fortitude</td>
									<td><input title="@{fort}" type="number" name="attr_fort" value=0></td>
									<td class="sheet-label-left">AC</td>
									<td><input title="@{ac-total}" type="number" name="attr_ac-total" value=10></td>
								</tr>
								<tr>
									<td><button class="sheet-text-button" title="Reflex saving throw roll" type="roll" name="roll_ref-save" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Saving Throw}} {{rollTypeName=Reflex Save}} {{result=[[1d20+@{ref}]]}}"></button></td>
									<td class="sheet-label-left" style="width: 66px;">Reflex</td>
									<td style="width: 40px;"><input title="@{ref}" type="number" name="attr_ref" value=0></td>
									<td class="sheet-label-left">Touch</td>
									<td><input title="@{ac-touch-total}" type="number" name="attr_ac-touch-total" value=10></td>
								</tr>
								<tr>
									<td><button class="sheet-text-button" title="Will saving throw roll" type="roll" name="roll_will-save" value="@{gmroll} &{template:roll-check} @{colorString} {{charName=@{character_name}}} {{rollType=Saving Throw}} {{rollTypeName=Will Save}} {{result=[[1d20+@{will}]]}}"></button></td>
									<td class="sheet-label-left" style="width: 66px;">Will</td>
									<td style="width: 40px;"><input title="@{will}" type="number" name="attr_will" value=0></td>
									<td class="sheet-label-top">Flat-Footed</td>
									<td><input title="@{ac-flatfooted-total}" type="number" name="attr_ac-flatfooted-total" value=10></td>
								</tr>
								<tr>
									<td colspan="9" rowspan="2"><textarea title="@{cd}" placeholder="Conditional modifiers" name="attr_cd" rows="2" style="height: 48px;"></textarea></td>
								</tr>
							</table>
						</div>
					</div>
				</div>
			</div>
		</div>
		<div class="sheet-background">
			<div class="sheet-box-outer" style="border-bottom: none;">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<div class="sheet-box-title">SPECIAL ABILITIES</div>
						<div class="sheet-box-content">
							<table>
								<tr>
									<td style="min-width: 24px; width: 24px;"></td>
									<td class="sheet-label-top">Name</td>
									<td class="sheet-label-top" style="width: 130px;">Type</td>
									<td class="sheet-label-top" style="width: 110px;">Attack Type</td>
									<td class="sheet-label-top" style="width: 40px;">Attack Modifier</td>
									<td class="sheet-label-top" style="width: 120px;">Damage/Healing</td>
									<td class="sheet-label-top" style="width: 24px;"></td>
								</tr>
							</table>
							<fieldset class="repeating_special">
								<table>
									<tr>
										<td style="min-width: 24px; width: 24px;"><button class="sheet-text-button" title="Spell attack roll" type="roll" name="roll_spell" value="@{gmroll} &{template:special} @{colorString} @{colorstring} {{charName=@{character_name}}} {{rollType=Special Ability}} {{name=@{special-name}}} {{type=@{special-type}}} {{attackType=@{special-attack-type}}} {{attack=[[1d20+ @{special-attack-mod}]]}} {{desc=@{special-description}}} {{damage=[[0@{special-damage}]]}}"></button></td>
										<td><input title="Special ability name" type="text" placeholder="Ability name" name="attr_special-name"></td>
										<td style="width: 130px;">
											<select type="text" name="attr_special-type">
												<option value="Ex">Extraordinary (Ex)</option>
												<option value="Sp">Spell-Like (Sp)</option>
												<option value="Su">Supernatural (Su)</option>
											</select>
										</td>
										<td style="width: 110px;">
											<select type="text" name="attr_special-attack-type">
												<option value="">None</option>
												<option value="ranged">Ranged Touch</option>
												<option value="touch">Touch</option>
											</select>
										</td>
										<td style="width: 40px;"><input title="Special ability attack modifier" type="number" name="attr_special-attack-mod" value=0></td>
										<td style="width: 120px;"><input title="Special ability damage or healing" type="text" name="attr_special-damage" placeholder="Damage formula"></td>
										<td style="width: 24px;"><input type="checkbox" title="Expand/hide special abiltiy description" class="sheet-expander" name="attr_ctrl-special-show-details" value="hide"><span></span></td>
									</tr>
								</table>
								<input type="checkbox" class="sheet-controller sheet-expander" name="attr_ctrl-special-show-details" value="hide">
								<div class="sheet-expansion-area">
									<table>
										<tr>
											<td><textarea class="sheet-resizeable" rows="3" cols="50" placeholder="Special ability description" type="text" name="attr_special-description"></textarea></td>
										</tr>
										<tr>
											<td><hr></td>
										</tr>
									</table>
								</div>
							</fieldset>
							<div style="clear: left;"></div>
						</div>
					</div>
				</div>
			</div>
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<div class="sheet-box-title">OFFENSE</div>
						<div class="sheet-box-content">
							<table>
								<tr>
									<td class="sheet-label-top" style="width: 50px;"></td>
									<td class="sheet-label-top">Base</td>
									<td class="sheet-label-top">Climb</td>
									<td class="sheet-label-top">Fly</td>
									<td class="sheet-label-top">Swim</td>
									<td class="sheet-label-top">Burrow</td>
									<td class="sheet-label-top" style="width: 50px;"></td>
									<td></td>
									<td class="sheet-label-top" style="width: 50px;"></td>
									<td></td>
									<td class="sheet-label-top" style="width: 50px;"></td>
									<td></td>
								</tr>
								<tr>
									<td class="sheet-label-left">Speed</td>
									<td><input title="Base speed in ft" type="number" name="attr_speed-base" value=0></td>
									<td><input title="Climb speed in ft" type="number" name="attr_speed-climb" value=0></td>
									<td><input title="Fly speed in ft" type="number" name="attr_speed-fly" value=0></td>
									<td><input title="Swim speed in ft" type="number" name="attr_speed-swim" value=0></td>
									<td><input title="Burrow speed in ft" type="number" name="attr_speed-burrow" value=0></td>
									<td class="sheet-label-left">Space</td>
									<td><input title="Space occupied in ft" type="number" name="attr_space" value=0></td>
									<td class="sheet-label-left">Reach</td>
									<td><input title="Reach in ft" type="number" name="attr_reach" value=0></td>
									<td class="sheet-label-left">CL</td>
									<td><input title="Caster level" type="number" name="attr_cl" value=0></td>
								</tr>
								<tr>
									<td class="sheet-label-left" style="vertical-align: top; padding-top: 5px;">Spells</td>
									<td colspan="11" rowspan="2"><textarea title="Spells" name="attr_spells" rows="4"></textarea></td>
								</tr>
							</table>
							<hr style="clear: none;">
							<table>
								<tr>
									<td class="sheet-label-top" style="width: 24px;"></td>
									<td class="sheet-label-top" style="width: 48%;">Weapon Name</td>
									<td class="sheet-label-top" style="width: 40px;">Attack Bonus</td>
									<td class="sheet-label-top" style="width: 60px;">Critical Range</td>
									<td class="sheet-label-top" style="width: 40px;">Critical Multiplier</td>
									<td class="sheet-label-top" style="width: 50px;">Type</td>
									<td class="sheet-label-top" style="width: 50px;">Range</td>
									<td class="sheet-label-top" style="width: 26%;">Special</td>
									<td class="sheet-label-top" style="width: 26%;">Damage</td>
								</tr>
							</table>
							<fieldset class="repeating_weapons-monster">
								<table>
									<tr>
										<td style="width: 24px;"><button title="Weapon attack and damage roll" class="sheet-text-button" type="roll" name="roll_weapon-attack" value="@{gmroll} &{template:weapon-attack} @{colorString} {{weaponName=@{weapon-name}}} {{charName=@{character_name}}} {{attack=[[1d20cs>[[@{weapon-crit}]] + @{weapon-attack-bonus}]]}}  {{critRange=[[@{weapon-crit} + @{weapon-attack-bonus}]]}} {{critConfirm=[[1d20 + @{weapon-attack-bonus}]]}} {{critMultiplier=@{weapon-crit-multiplier}}} {{damage=[[@{weapon-damage}]]}} {{weaponType=@{weapon-type}}} {{weaponRange=@{weapon-range}}} {{weaponSpecial=@{weapon-special}}}"></button></td>
										<td style="width: 48%;"><input title="Weapon name" type="text" name="attr_weapon-name"></td>
										<td style="width: 40px;"><input title="Weapon attack bonus" type="number" name="attr_weapon-attack-bonus" value=0></td>
										<td style="width: 60px;">
											<select name="attr_weapon-crit">
												<option value=20>20</option>
												<option value=19>19-20</option>
												<option value=18>18-20</option>
												<option value=17>17-20</option>
												<option value=16>16-20</option>
												<option value=15>15-20</option>
												<option value=14>14-20</option>
												<option value=13>13-20</option>
												<option value=12>12-20</option>
												<option value=11>11-20</option>
												<option value=10>10-20</option>
												<option value=9>9-20</option>
												<option value=8>8-20</option>
												<option value=7>7-20</option>
												<option value=6>6-20</option>
												<option value=5>5-20</option>
												<option value=4>4-20</option>
												<option value=3>3-20</option>
												<option value=2>2-20</option>
											</select>
										</td>
										<td style="width: 40px;">
											<select name="attr_weapon-crit-multiplier">
												<option value=2>x2</option>
												<option value=3>x3</option>
												<option value=4>x4</option>
											</select>
										</td>
										<td style="width: 50px;"><input title="Weapon type" type="text" name="attr_weapon-type"></td>
										<td style="width: 50px;"><input title="Weapon range" type="text" name="attr_weapon-range"></td>
										<td style="width: 26%;"><input title="Weapon special features" type="text" name="attr_weapon-special"></td>
										<td style="width: 26%;"><input title="Weapon damage" type="text" name="attr_weapon-damage"></td>
									</tr>
								</table>
							</fieldset>
							<div style="clear: left;"></div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>

	<rolltemplate class="sheet-rolltemplate-weapon-attack">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">Attack</td>
							</tr>
							<tr><td colspan="2"><hr class="sheet-divider"></td></tr>
						</table>
						<div class="sheet-title">{{weaponName}}</div>
						<table>
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 65px;">Attack:</td>
								<td class="sheet-roll-result" style="width: 50px;">{{attack}}</td>
								<td class="sheet-label">vs. <span class="NotHighlighted">{{#vsArmor}}Touch{{/vsArmor}}{{^vsArmor}}AC{{/vsArmor}}</span></td>
								{{#^rollLess() attack critRange}}
							<tr>
								<td class="sheet-critical" style="height: 24px;" colspan="3">CRITICAL!</td>
							</tr>
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right;">Confirm:</td>
								<td class="sheet-roll-result">{{critConfirm}}</td>
								<td class="sheet-label">vs. <span class="NotHighlighted">{{#vsArmor}}Touch{{/vsArmor}}{{^vsArmor}}AC{{/vsArmor}}</span></td>
							</tr>
							{{/^rollLess() attack critRange}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right;">Damage:</td>
								<td class="sheet-roll-result">{{damage}}</td>
								{{#rollLess() attack critRange}}
								<td></td>
								{{/rollLess() attack critRange}}
								{{#^rollLess() attack critRange}}
								<td class="sheet-label NotHighlighted" style="text-align: left;">(× <span style="font-weight: bold;">{{critMultiplier}}</span>)</td>
								{{/^rollLess() attack critRange}}
							</tr>
						</table>
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
						</table>
						<table>
							<tr>
								<td class="sheet-label-small" style="width: 50%;">Type: <span class="NotHighlighted">{{weaponType}}</span></td>
								<td class="sheet-label-small" style="width: 50%;">Range: <span class="NotHighlighted">{{weaponRange}}</span></td>
							</tr>
						</table>
						{{#weaponSpecial}}
						<table>
							<tr>
								<td class="sheet-label-small">Special: <span class="NotHighlighted">{{weaponSpecial}}</span></td>
							</tr>
						</table>
						{{/weaponSpecial}}
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-roll-check">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">{{rollType}}</td>
							</tr>
							<tr><td colspan="2"><hr class="sheet-divider"></td></tr>
						</table>
						<div class="sheet-title">{{rollTypeName}}{{#descriptor}}: {{descriptor}}{{/descriptor}}</div>
						<table>
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Result:</td>
								<td class="sheet-roll-result" style="width: 100%;">{{result}}</td>
							</tr>
						</table>
						{{#condModifiers}}
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
							<tr>
								<td class="sheet-label-small" style="width: 100%;">Cond. Modifiers: <span class="NotHighlighted">{{condModifiers}}</span></td>
							</tr>
						</table>
						{{/condModifiers}}
						{{#notes}}
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
							<tr>
								<td class="sheet-label-small" style="width: 100%;">Notes: <span class="NotHighlighted">{{notes}}</span></td>
							</tr>
						</table>
						{{/notes}}
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-special">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">{{rollType}}</td>
							</tr>
							<tr>
								<td colspan="2"><hr class="sheet-divider"></td>
							</tr>
						</table>
						<div class="sheet-title">{{name}}{{#type}} ({{type}}){{/type}}</div>
						<table>
							{{#attackType}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Attack:</td>
								<td class="sheet-roll-result" style="width: 50px;">{{attack}}</td>
								<td class="sheet-label">vs. <span class="NotHighlighted">Touch</span></td>
							</tr>
							{{/attackType}}
							{{#^rollTotal() damage 0}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Damage:</td>
								<td class="sheet-roll-result">{{damage}}</td>
								<td></td>
							</tr>
							{{/^rollTotal() damage 0}}
							{{#desc}}
							<tr>
								<td colspan="3"><hr class="sheet-divider"></td>
							</tr>
							<tr>
								<td colspan="3" class="sheet-label-small NotHighlighted"><p class="desc-holder">{{desc}}</p></td>
							</tr>
							{{/desc}}
						</table>
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-spell">
		<span class="hiddenRelay redOne-{{redOne}}"></span>	<span class="hiddenRelay redTwo-{{redTwo}}"></span>	<span class="hiddenRelay redThree-{{redThree}}"></span>	<span class="hiddenRelay redFour-{{redFour}}"></span>
		<span class="hiddenRelay greenOne-{{greenOne}}"></span>	<span class="hiddenRelay greenTwo-{{greenTwo}}"></span>	<span class="hiddenRelay greenThree-{{greenThree}}"></span>	<span class="hiddenRelay greenFour-{{greenFour}}"></span>
		<span class="hiddenRelay blueOne-{{blueOne}}"></span>	<span class="hiddenRelay blueTwo-{{blueTwo}}"></span>	<span class="hiddenRelay blueThree-{{blueThree}}"></span> <span class="hiddenRelay blueFour-{{blueFour}}"></span>
		<span class="hiddenRelay textC-{{textC}}"></span>
		<div class="sheet-background">
			<div class="sheet-box-outer">
				<div class="sheet-box-middle">
					<div class="sheet-box-inner">
						<table>
							<tr>
								<td class="sheet-label-small NotHighlighted">{{charName}}</td>
								<td class="sheet-label-small" style="text-align: right; width: 98px;">{{rollType}}</td>
							</tr>
							<tr>
								<td colspan="2"><hr class="sheet-divider"></td>
							</tr>
						</table>
						<div class="sheet-title">{{spellName}}</div>
						<table>
							{{#rollLess() failure failChance}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 66px;">Spell Failed...</td>
								<td class="sheet-roll-result" style="width: 50px;">{{failure}} < {{failChance}}</td>
							</tr>
							{{/rollLess() failure failChance}}

							{{#^rollLess() failure failChance}}
							{{#attackType}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 65px;">Attack:</td>
								<td class="sheet-roll-result" style="width: 50px;">{{attackType}}</td>
								<td class="sheet-label">vs. <span class="NotHighlighted">Touch</span></td>
							</tr>
							{{/attackType}}
							{{#^rollTotal() damage 0}}
							<tr style="height: 24px;">
								<td class="sheet-label" style="text-align: right; width: 65px;">Damage:</td>
								<td class="sheet-roll-result">{{damage}}</td>
								<td></td>
							</tr>
						</table>
						{{/^rollTotal() damage 0}}
						{{/^rollLess() failure failChance}}
						<table>
							<tr><td><hr class="sheet-divider"></td></tr>
							{{#^rollLess() failure failChance}}
							{{#savingThrow}}
							<tr>
								<td class="sheet-label-small">Save: <span class="NotHighlighted">{{savingThrow}}</span> {{#dc}}DC <span class="NotHighlighted">{{dc}}</span>{{/dc}}</td>
							</tr>
							{{/savingThrow}}
							{{/^rollLess() failure failChance}}
							{{#school}}
							<tr>
								<td class="sheet-label-small">School: <span class="NotHighlighted">{{school}}</span></td>
							</tr>
							{{/school}}
							{{#castingTime}}
							<tr>
								<td class="sheet-label-small">Casting Time: <span class="NotHighlighted">{{castingTime}}</span></td>
							</tr>
							{{/castingTime}}
							{{#range}}
							<tr>
								<td class="sheet-label-small">Range: <span class="NotHighlighted">{{range}}</span></td>
							</tr>
							{{/range}}
							{{#target}}
							<tr>
								<td class="sheet-label-small">{{spellType}}: <span class="NotHighlighted">{{target}}</span></td>
							</tr>
							{{/target}}
							{{#duration}}
							<tr>
								<td class="sheet-label-small">Duration: <span class="NotHighlighted">{{duration}}</span></td>
							</tr>
							{{/duration}}
							{{#desc}}
							<tr>
								<td><hr class="sheet-divider"></td>
							</tr>
							<tr>
								<td class="sheet-label-small NotHighlighted"><p class="desc-holder">{{desc}}</p></td>
							</tr>
							{{/desc}}
						</table>
					</div>
				</div>
			</div>
		</div>
	</rolltemplate>
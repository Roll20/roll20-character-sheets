<datalist id="rolelist">
    <option>Engineer</option>
    <option>Grunt</option>
    <option>Hacker</option>
    <option>Historian</option>
    <option>Medic</option>
    <option>Pilot</option>
    <option>Scout</option>
    <option>Strategist</option>
	<option>Advanced</option>
	<option>Fated</option>
	<option>NPC</option>
</datalist>
<datalist id="specieslist">
	<option>Cyborg</option>
	<option>Human</option>
	<option>Terminator</option>
</datalist>
<datalist id="rangedlist">
	<option>A Heavyish Rock</option>
	<option>Combat Knife</option>
	<option>Tomahawk</option>
	<option>Hunting Knife</option>
	<option>Spear</option>
	<option>Shuriken</option>
	<option>Throwing Knife</option>
	<option>Chakram</option>
	<option>Plumbata</option>
	<option>Dart</option>
	<option>Pre-20th Century Pistol</option>
	<option>Light Pistol</option>
	<option>Heavy Pistol</option>
	<option>Light SMG</option>
	<option>Heavy SMG </option>
	<option>Carbine</option>
	<option>Assault Rifle</option>
	<option>Hunting Rifle</option>
	<option>Sniper Rifle</option>
	<option>Shotgun</option>
	<option>Anti-Material Rifle</option>
	<option>FlameThrower</option>
	<option>Grenade Launcher</option>
	<option>Light Machine Gun</option>
	<option>Heavy Machine Gun</option>
	<option>Portable Rocket or Torpedo</option>
	<option>Anti-Personnel Rocket</option>
	<option>Anti-Tank Rocket</option>
	<option>Ground to Air Missile</option>
	<option>A130 Magnetic Protocol Mine</option>
	<option>Anti-Personnel Mine</option>
	<option>Dynamite</option>
	<option>Flashbang</option>
	<option>Frag Grenade</option>
	<option>Molotov Cocktail</option>
	<option>Plasma Charge</option>
	<option>Satchel Charge</option>
	<option>Shaped Charge</option>
	<option>Smoke Grenade</option>
	<option>Tactical Warhead</option>
	<option>Terminator Power Cell</option>
	<option>Jury-rigged Plasma Pistol</option>
	<option>Jury-rigged Plasma Rifle</option>
	<option>M-14 Plasma Pistol</option>
	<option>M-25 Phased Plasma Rifle</option>
	<option>M-20 Phased Plasma Rifle</option>
	<option>P-30: Plasma Mode</option>
	<option>P-30: Laser Mode</option>
	<option>H-31 Plasma Repeater</option>
	<option>H-23 Heavy Plasma Repeater</option>
	<option>P-80 Light Plasma Cannon</option>
	<option>P-40 Heavy Plasma Cannon</option>
	<option>L-3 Laser Rifle</option>
	<option>Blinding Laser</option>
	<option>L-7 Laser Cannon</option>
	<option>L-7P laser Pulse Cannon</option>
	<option>Z-6 Portable Denial System</option>
	<option>Z-7 Area Denial System</option>
	<option>P2 Particle Beam Weapons</option>
	<option>Screamer</option>
	<option>Hypersonic Emitter</option>
	<option>Stun Gun</option>
	<option>Electomagnetic Pulse</option>
	<option>XF23-EES Shield</option>
	<option>Doser</option>
	<option>Duster</option>
	<option>Water Cannon</option>
</datalist>
<datalist id="meleelist">
	<option>Punch or Kick</option>
	<option>Brass Knuckles</option>
	<option>A Heavyish Rock</option>
	<option>Combat Knife</option>
	<option>Tomahawk</option>
	<option>Hunting Knife</option>
	<option>Folding Knife</option>
	<option>Sword</option>
	<option>Police Baton</option>
	<option>Improvised Bludgeon</option>
	<option>Spear</option>
	<option>Power Tools</option>
	<option>Stun Gun</option>
	<option>Cattle Prod</option>
</datalist>
<datalist id="armourlist">
	<option>Biohazard Suit</option>
	<option>Gas Mask</option>
	<option>NBC Warfare Suit</option>
	<option>Radiation Suit</option>
	<option>Light Protection</option>
	<option>Covert Armor</option>
	<option>Bulletproof Vest</option>
	<option>Paramilitary Protection</option>
	<option>Heavy Duty Protection</option>
	<option>Reinforcement Plates</option>
	<option>Advanced Composites</option>
	<option>Helmet</option>
	<option>Reflective Coating</option>	
</datalist>
<datalist id="negtraitlist">
    <option>Addiction or Compulsion</option>
    <option>Allergy</option>
    <option>Anger</option>
    <option>Anxiety</option>
    <option>Arrogant</option>
    <option>Chicken</option>
    <option>Debt</option>
    <option>Depression</option>
    <option>Drug Addict</option>
    <option>Enemy</option>
    <option>Hearing (Poor)</option>
    <option>Housing (Poor)</option>
    <option>Illness: Athsma</option>
    <option>Illness: Migranes</option>
    <option>Illness: Diabetes</option>
    <option>Illness: Epilepsy</option>
    <option>Illness: Cancer</option>
    <option>Illness: Haemophilia</option>
	<option>Known by Skynet </option>
    <option>Looks (Poor)</option>
    <option>Pacifist</option>
    <option>Phobia</option>
    <option>Psychosis</option>
    <option>Sterile</option>
    <option>Vision (Poor)</option>
</datalist>
<datalist id="postraitlist">
    <option>Ambidextrous</option>
    <option>Contact</option>
    <option>Exceedingly Cool</option>
    <option>Hearing (Good)</option>
    <option>Housing (Good)</option>
    <option>Looks (Good)</option>
    <option>Natural Aptitude (Skill)</option>
    <option>Natural Aptitude STR</option>
	<option>Natural Aptitude DEX</option>
	<option>Natural Aptitude KNOW</option>
	<option>Natural Aptitude CONC</option>
	<option>Natural Aptitude CHA</option>
	<option>Natural Aptitude COOL</option>
	<option>Natural Aptitude FATE</option>
    <option>Savings</option>
    <option>Vision (Good)</option>
</datalist>
<datalist id="rangedskilllist">
	<option>Pistol</option>
	<option>Rifle</option>
	<option>Support Weapons</option>
	<option>Throw</option>
	<option>Detect</option>
	<option>Demolitions</option>	
</datalist>
<datalist id="meleeskilllist">
	<option>MeleeWpns</option>
	<option>Unarmed Combat</option>
</datalist>
<datalist id="ammotypelist">
	<option>Standard</option>
	<option>Rocket</option>
	<option>1mBlast</option>
	<option>5mBlast</option>
	<option>6mBlast</option>
	<option>8mBlast</option>
	<option>10mBlast</option>
	<option>12mBlast</option>
	<option>30mBlast</option>
	<option>50mBlast</option>
</datalist>
<datalist id="statlist">
	<option>Strength</option>
	<option>Dexterity</option>
	<option>Knowledge</option>
	<option>Concentration</option>
	<option>Charisma</option>
	<option>Cool</option>
</datalist>

<div class="sheet-container">
  <div class="sheet-header">
<!--	<input name="attr_rollname" type="hidden" value="test">
	<input name="attr_successmod" type="hidden"  value=0>
	<input name="attr_skillmod" type="hidden"  value=0>
	<input name="attr_skilltotal" type="hidden"  value=0>
	<input name="attr_skilldice" type="hidden"  value=0>
	<input name="attr_skilltarget" type="hidden"  value=0>
	<button name="roll_successreroll" class="hidden" type="roll" value="&{template:successreroll} {{name=@{rollname}}}{{success=[[{1d10+@{skilltotal}+@{successmod}}>@{skilltarget}]]}}">
	<button name="roll_skillreroll" class="hidden" type="roll" value="&{template:skillreroll} {{name=@{rollname}}}{{skill=[[{[[@{skilldice}+1]]d10+@{skilltotal}+@{skillmod}}>@{skilltarget}]]}}">
	<button name="roll_reroll" class="hidden" type="roll" value="&{template:reroll} {{name=@{rollname}}}{{success=[[{1d10+@{skilltotal}+@{successmod}}>@{skilltarget}]]}}{{skill=[[{[[@{skilldice}+1]]d10+@{skilltotal}+@{skillmod}}>@{skilltarget}]]}}">
-->
	<button name="roll_successreroll" class="hidden" type="roll" value="&{template:successreroll} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Total Dice Modifier|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|-1|-2|-3|-4|-5|-6|-7|-8|-9} {{success=[[{1d10+?{Total Dice Modifier}}>?{Target Number}]]}}">
	<button name="roll_skillreroll" class="hidden" type="roll" value="&{template:skillreroll} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Total Dice Modifier|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|-1|-2|-3|-4|-5|-6|-7|-8|-9} ?{Number of Dice to Reroll|1|2|3|4|5} {{skill=[[{[[?{Number of Dice to Reroll}]]d10+?{Total Dice Modifier}}>?{Target Number}]]}}">
	<button name="roll_reroll" class="hidden" type="roll" value="&{template:reroll} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|-1|-2|-3|-4|-5|-6|-7|-8|-9} ?{Skill Dice Modifier|0|1|2|3|4|5|6|7|8|9|10|11|12|13|14|15|16|17|18|19|-1|-2|-3|-4|-5|-6|-7|-8|-9} ?{Number of Skill Dice to Reroll|1|2|3|4|5} {{success=[[{1d10+?{Success Dice Modifier}}>?{Target Number}]]}} {{skill=[[{[[?{Number of Skill Dice to Reroll}]]d10+?{Skill Dice Modifier}}>?{Target Number}]]}}">
  </div>
  <div class="sheet-basetitle">BASE</div>
  <div class="sheet-currenttitle">CURRENT</div>
  <div class="sheet-soscc">The Terminator RPG</div>
  <div class="sheet-nametitle">NAME</div>
  <div class="sheet-namescore"><input name="attr_character_name" type="text"></div>
  <div class="sheet-roletitle">Role</div>
  <div class="sheet-rolescore"><input type="text" list="rolelist" name="attr_role" /></div>
  <div class="sheet-speciestitle">Species</div>
  <div class="sheet-speciesscore"><input type="text" list="specieslist" name="attr_species"/></div>
  <div class="sheet-squadtitle">Starting Stats & Skills</div>
  <div class="sheet-squadscore"><input name="attr_squad" type="text"></div>
  <div class="sheet-scltitle">Starting Character Choices</div>
  <div class="sheet-sclscore"><input name="attr_scl" type="text"></div>
  <div class="sheet-version">ver: T1.2</div>

  <div class="sheet-slaimage"><img width=119 height=155 src="https://tse3.mm.bing.net/th/id/OIP.1ek4CteMLPdgchcdB4eM8QHaJk"></div>
  
  <div class="sheet-strtitle">STRENGTH</div>
  <div class="sheet-strbasescore"><input name="attr_strengthbase" type="number"><input name="attr_strengthmax" type="hidden"><input name="attr_strengthebb" type="hidden"><input name="attr_strengtharmour" type="hidden"><input name="attr_strengthdrugs" type="hidden"><input name="attr_strengthdam" type="hidden"></div>
  <div class="sheet-strscore"><span name="attr_strength"></div>
  <div class="sheet-dextitle">DEXTERITY</div>
  <div class="sheet-dexbasescore"><input name="attr_dexteritybase" type="number"><input name="attr_dexteritymax" type="hidden"><input name="attr_dexterityebb" type="hidden"><input name="attr_dexterityarmour" type="hidden"><input name="attr_dexteritydrugs" type="hidden"></div>
  <div class="sheet-dexscore"><span name="attr_dexterity"></div>
  <div class="sheet-knotitle">KNOWLEDGE</div>
  <div class="sheet-knobasescore"><input name="attr_knowledgebase" type="number"><input name="attr_knowledgemax" type="hidden"><input name="attr_knowledgemax" type="hidden"><input name="attr_knowledgedrugs" type="hidden"></div>
  <div class="sheet-knoscore"><span name="attr_knowledge"></div>
  <div class="sheet-contitle">CONCENTRATION</div>
  <div class="sheet-conbasescore"><input name="attr_concentrationbase" type="number"><input name="attr_concentrationmax" type="hidden"><input name="attr_concentrationebb" type="hidden"><input name="attr_concentrationdrugs" type="hidden"></div>
  <div class="sheet-conscore"><span name="attr_concentration"></div>
  <div class="sheet-chatitle">CHARISMA</div>
  <div class="sheet-chabasescore"><input name="attr_charismabase" type="number"><input name="attr_charismamax" type="hidden"><input name="attr_charismaebb" type="hidden"><input name="attr_charismadrugs" type="hidden"></div>
  <div class="sheet-chascore"><span name="attr_charisma"></div>
  <div class="sheet-cootitle">COOL</div>
  <div class="sheet-coobasescore"><input name="attr_coolbase" type="number"><input name="attr_coolmax" type="hidden"><input name="attr_cooldrugs" type="hidden"><input name="attr_coolarmour" type="hidden"></div>
  <div class="sheet-cooscore"><span name="attr_cool"></div>
  <div class="sheet-bodytitle">BODY</div>
  <div class="sheet-bodyscore"><input name="attr_body" type="number" min=0></div>
  <div class="sheet-bodybasescore"><input name="attr_bodybase" type="number" min=0></div>
  <div class="sheet-brainstitle">BRAINS</div>
  <div class="sheet-brainsscore"><input name="attr_brains" type="number" min=0></div>
  <div class="sheet-brainsbasescore"><input name="attr_brainsbase" type="number" min=0></div>
  <div class="sheet-bravadotitle">BRAVADO</div>
  <div class="sheet-bravadoscore"><input name="attr_bravado" type="number" min=0></div>
  <div class="sheet-bravadobasescore"><input name="attr_bravadobase" type="number" min=0></div>
  <div class="sheet-inittitle">INITIATIVE BONUS</div>
  <div class="sheet-initscore"><input name="attr_initiative" type="number"><input name="attr_initiativedrugs" type="hidden"><input name="attr_initiativearmour" type="hidden"><button type="roll"value="&{template:initiative} {{name=initiative}}{{initiative=[[1d10+@{initiative}&{tracker}]]}}">&nbsp;</button></div>
  <div class="sheet-FATEtitle"><span name="attr_FATEflux"/></div>
  <div class="sheet-FATEmaxtitle">MAX</div>
  <div class="sheet-FATEcurrtitle">CURRENT</div>
  <div class="sheet-FATEmaxscore"><input name="attr_FATE" type="number" min=0><input name="attr_FATEmax" type="hidden"></div>
  <div class="sheet-FATEcurrscore"><input name="attr_FATEcurrent" type="number"></div>
  <div class="sheet-xptitle">XP</div>
  <div class="sheet-xpawardtitle">AWARD</div>
  <div class="sheet-xpspenttitle">SPENT</div>
  <div class="sheet-xpdifftitle">DIFF</div>
  <div class="sheet-xpawardscore"><input name="attr_xpaward" type="text"></div>
  <div class="sheet-xpspentscore"><input name="attr_xpspent" type="text"></div>
  <div class="sheet-xpdiffscore"><input name="attr_xpdiff" type="text"></div>
  <div class="sheet-creditstitle">MAX-ENC</div>
  <div class="sheet-creditsscore"><input name="attr_maxenc" type="text"></div>
  <div class="sheet-unistitle">CUR-ENC</div>
  <div class="sheet-unisscore"><input name="attr_curenc" type="text"></div>
  <div class="sheet-ladtitle">CASH</div>
  <div class="sheet-ladscore"><input name="attr_currency" type="text"></div>
  <div class="sheet-space14">&nbsp;</div>
  
  <div class="sheet-skillstitle">SKILLS</div>
  <div class="sheet-skill1title">SKILL</div>
  <div class="sheet-skill1ranktitle">RANK</div>
  <div class="sheet-skill1stattitle">STAT</div>
  <div class="sheet-skill1bonustitle">BONUS</div>

  <div class="sheet-acrobaticsbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Acrobatics Test}} {{success=[[{1d10+@{acrobatics_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{acrobatics}+1]]d10+@{acrobatics_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Acrobatics</button></div> 
  <div class="sheet-acrobaticsrank"><input name="attr_acrobatics" type="number" min=0 max=4></div>
  <div class="sheet-acrobaticsstat">Dexterity</div>
  <div class="sheet-acrobaticsbonus"><span name="attr_acrobatics_total"></div>
  
  <div class="sheet-animalbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Animal Training Test}}{{success=[[{1d10+@{animal_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{animal}+1]]d10+@{animal_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Animal Training</button></div>
  <div class="sheet-animalrank"><input name="attr_animal" type="number" min=0 max=4></div>
  <div class="sheet-animalstat">Cool</div>
  <div class="sheet-animalbonus"><span name="attr_animal_total"></div>

  <div class="sheet-athleticsbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Athletics Test}}{{success=[[{1d10+@{athletics_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{athletics}+1]]d10+@{athletics_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Athletics</button></div>
  <div class="sheet-athleticsrank"><input name="attr_athletics" type="number" min=0 max=4></div>
  <div class="sheet-athleticsstat">Dexterity</div>
  <div class="sheet-athleticsbonus"><span name="attr_athletics_total"></div>
  
  <div class="sheet-briberybutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Bribery Test}}{{success=[[{1d10+@{bribery_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{bribery}+1]]d10+@{bribery_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Bribery</button></div>
  <div class="sheet-briberyrank"><input name="attr_bribery" type="number" min=0 max=4></div>
  <div class="sheet-briberystat">Cool</div>
  <div class="sheet-briberybonus"><span name="attr_bribery_total"></div>
  
  <div class="sheet-climbingbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Climbing Test}}{{success=[[{1d10+@{climbing_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{climbing}+1]]d10+@{climbing_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Climbing</button></div>
  <div class="sheet-climbingrank"><input name="attr_climbing" type="number" min=0 max=4></div>
  <div class="sheet-climbingstat">Strength</div>
  <div class="sheet-climbingbonus"><span name="attr_climbing_total"></div>
  
  <div class="sheet-computerbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Computer Test}}{{success=[[{1d10+@{computer_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{computer}+1]]d10+@{computer_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Computer</button></div>
  <div class="sheet-computerrank"><input name="attr_computer" type="number" min=0 max=4></div>
  <div class="sheet-computerstat">Knowledge</div>
  <div class="sheet-computerbonus"><span name="attr_computer_total"></div>
  
  <div class="sheet-demolitionsbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Demolitions Test}}{{success=[[{1d10+@{demolitions_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{demolitions}+1]]d10+@{demolitions_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Demolitions</button></div>
  <div class="sheet-demolitionsrank"><input name="attr_demolitions" type="number" min=0 max=4></div>
  <div class="sheet-demolitionsstat">Concentration</div>
  <div class="sheet-demolitionsbonus"><span name="attr_demolitions_total"></div>
  
  <div class="sheet-detectbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Detect Test}}{{success=[[{1d10+@{detect_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{detect}+1]]d10+@{detect_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Detect</button></div>
  <div class="sheet-detectrank"><input name="attr_detect" type="number" min=0 max=4></div>
  <div class="sheet-detectstat">Concentration</div>
  <div class="sheet-detectbonus"><span name="attr_detect_total"></div>
  
  <div class="sheet-diplomacybutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Diplomacy Test}}{{success=[[{1d10+@{diplomacy_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{diplomacy}+1]]d10+@{diplomacy_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Diplomacy</button></div>
  <div class="sheet-diplomacyrank"><input name="attr_diplomacy" type="number" min=0 max=4></div>
  <div class="sheet-diplomacystat">Charisma</div>
  <div class="sheet-diplomacybonus"><span name="attr_diplomacy_total"></div>
  
  <div class="sheet-drivecarbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Drive Car Test}}{{success=[[{1d10+@{drivecar_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{drivecar}+1]]d10+@{drivecar_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Drive Car</button></div>
  <div class="sheet-drivecarrank"><input name="attr_drivecar" type="number" min=0 max=4></div>
  <div class="sheet-drivecarstat">Concentration</div>
  <div class="sheet-drivecarbonus"><span name="attr_drivecar_total"></div>
  
  <div class="sheet-drivemilbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Drive Military Vehicle Test}}{{success=[[{1d10+@{drivemil_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{drivemil}+1]]d10+@{drivemil_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Drive Military</button></div>
  <div class="sheet-drivemilrank"><input name="attr_drivemil" type="number" min=0 max=4></div>
  <div class="sheet-drivemilstat">Concentration</div>
  <div class="sheet-drivemilbonus"><span name="attr_drivemil_total"></div>
  
  <div class="sheet-drivepilbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Pilot Craft Test}}{{success=[[{1d10+@{drivepil_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{drivepil}+1]]d10+@{drivepil_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Drive Pilot</button></div>
  <div class="sheet-drivepilrank"><input name="attr_drivepil" type="number" min=0 max=4></div>
  <div class="sheet-drivepilstat">Concentration</div>
  <div class="sheet-drivepilbonus"><span name="attr_drivepil_total"></div>
  
  <div class="sheet-drivemotbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Ride Motorcycle Test}}{{success=[[{1d10+@{drivemot_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{drivemot}+1]]d10+@{drivemot_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Drive Motorcycle</button></div>
  <div class="sheet-drivemotrank"><input name="attr_drivemot" type="number" min=0 max=4></div>
  <div class="sheet-drivemotstat">Dexterity</div>
  <div class="sheet-drivemotbonus"><span name="attr_drivemot_total"></div>
  
  <div class="sheet-eduacadbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Education: Academic Test}}{{success=[[{1d10+@{eduacad_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{eduacad}+1]]d10+@{eduacad_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Edu Academic</button></div>
  <div class="sheet-eduacadrank"><input name="attr_eduacad" type="number" min=0 max=4></div>
  <div class="sheet-eduacadstat">Knowledge</div>
  <div class="sheet-eduacadbonus"><span name="attr_eduacad_total"></div>
  
  <div class="sheet-edunatbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Education: Natural Test}}{{success=[[{1d10+@{edunat_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{edunat}+1]]d10+@{edunat_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Edu Natural</button></div>
  <div class="sheet-edunatrank"><input name="attr_edunat" type="number" min=0 max=4></div>
  <div class="sheet-edunatstat">Knowledge</div>
  <div class="sheet-edunatbonus"><span name="attr_edunat_total"></div>
  
  <div class="sheet-endurancebutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Endurance Test}}{{success=[[{1d10+@{endurance_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{endurance}+1]]d10+@{endurance_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Endurance</button></div>
  <div class="sheet-endurancerank"><input name="attr_endurance" type="number" min=0 max=4></div>
  <div class="sheet-endurancestat">Strength</div>
  <div class="sheet-endurancebonus"><span name="attr_endurance_total"></div>
  
   <div class="sheet-forensicsbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Forensics Test}}{{success=[[{1d10+@{forensics_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{forensics}+1]]d10+@{forensics_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Forensics</button></div>
  <div class="sheet-forensicsrank"><input name="attr_forensics" type="number" min=0 max=4></div>
  <div class="sheet-forensicsstat">Knowledge</div>
  <div class="sheet-forensicsbonus"><span name="attr_forensics_total"></div>
  
  <div class="sheet-forgerybutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Forgery Test}}{{success=[[{1d10+@{forgery_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{forgery}+1]]d10+@{forgery_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Forgery</button></div>
  <div class="sheet-forgeryrank"><input name="attr_forgery" type="number" min=0 max=4></div>
  <div class="sheet-forgerystat">Dexterity</div>
  <div class="sheet-forgerybonus"><span name="attr_forgery_total"></div>
  
  <div class="sheet-gamblingbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Gambling Test}}{{success=[[{1d10+@{gambling_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{gambling}+1]]d10+@{gambling_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Gambling</button></div>
  <div class="sheet-gamblingrank"><input name="attr_gambling" type="number" min=0 max=4></div>
  <div class="sheet-gamblingstat">Cool</div>
  <div class="sheet-gamblingbonus"><span name="attr_gambling_total"></div>
  
  <div class="sheet-hagglebutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Haggle Test}}{{success=[[{1d10+@{haggle_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{haggle}+1]]d10+@{haggle_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Haggle</button></div>
  <div class="sheet-hagglerank"><input name="attr_haggle" type="number" min=0 max=4></div>
  <div class="sheet-hagglestat">Charisma</div>
  <div class="sheet-hagglebonus"><span name="attr_haggle_total"></div>
  
  <div class="sheet-interrogatebutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Interrogate Test}}{{success=[[{1d10+@{interrogate_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{interrogate}+1]]d10+@{interrogate_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Interrogate</button></div>
  <div class="sheet-interrogaterank"><input name="attr_interrogate" type="number" min=0 max=4></div>
  <div class="sheet-interrogatestat">Cool</div>
  <div class="sheet-interrogatebonus"><span name="attr_interrogate_total"></div>
  
  <div class="sheet-intimidatebutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Intimidate Test}}{{success=[[{1d10+@{intimidate_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{intimidate}+1]]d10+@{intimidate_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Intimidate</button></div>
  <div class="sheet-intimidaterank"><input name="attr_intimidate" type="number" min=0 max=4></div>
  <div class="sheet-intimidatestat">Cool</div>
  <div class="sheet-intimidatebonus"><span name="attr_intimidate_total"></div>

  <div class="sheet-langsignbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Sign Language Test}}{{success=[[{1d10+@{langsign_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{langsign}+1]]d10+@{langsign_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Lang Sign</button></div>
  <div class="sheet-langsignrank"><input name="attr_langsign" type="number" min=0 max=4></div>
  <div class="sheet-langsignstat">Knowledge</div>
  <div class="sheet-langsignbonus"><span name="attr_langsign_total"></div> 
  
  <div class="sheet-languagesbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Languages Test}}{{success=[[{1d10+@{languages_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{languages}+1]]d10+@{languages_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Languages</button></div>
  <div class="sheet-languagesrank"><input name="attr_languages" type="number" min=0 max=4></div>
  <div class="sheet-languagesstat">Knowledge</div>
  <div class="sheet-languagesbonus"><span name="attr_languages_total"></div>
  
  <div class="sheet-leadershipbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Leadership Test}}{{success=[[{1d10+@{leadership_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{leadership}+1]]d10+@{leadership_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Leadership</button></div>
  <div class="sheet-leadershiprank"><input name="attr_leadership" type="number" min=0 max=4></div>
  <div class="sheet-leadershipstat">Charisma</div>
  <div class="sheet-leadershipbonus"><span name="attr_leadership_total"></div>
  
  <div class="sheet-lockpickmanbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Lockpick: Manual Test}}{{success=[[{1d10+@{lockpickman_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{lockpickman}+1]]d10+@{lockpickman_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Lockpick Manual</button></div>
  <div class="sheet-lockpickmanrank"><input name="attr_lockpickman" type="number" min=0 max=4></div>
  <div class="sheet-lockpickmanstat">Concentration</div>
  <div class="sheet-lockpickmanbonus"><span name="attr_lockpickman_total"></div>
  
   <div class="sheet-userdefbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=@{userdefdesc} Test}}{{success=[[{1d10+(@{userdef}+@{userdefstat})+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{userdef}+1]]d10+(@{userdef}+@{userdefstat})+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}"></button><input name="attr_userdefdesc" type="text"></div>
  <div class="sheet-userdefrank"><input name="attr_userdef" type="number" min=0 max=4></div>
  <div class="sheet-userdefstat"> <select name="attr_userdefstat"> <option value="@{strength}">Strength</option>  <option value="@{dexterity}">Dexterity</option>   <option value="@{knowledge}">Knowledge</option> <option value="@{concentration}">Concentration</option>  <option value="@{charisma}">Charisma</option>  <option value="@{cool}">Cool</option>   </select> </div>
<div class="sheet-userdefbonus"><span name="attr_userdef_total"></div>

    <div class="sheet-skill2title">SKILL</div>
  <div class="sheet-skill2ranktitle">RANK</div>
  <div class="sheet-skill2stattitle">STAT</div>
  <div class="sheet-skill2bonustitle">BONUS</div>
  
  <div class="sheet-lockpickelecbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Lockpick: Electronic Test}}{{success=[[{1d10+@{lockpickelec_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{lockpickelec}+1]]d10+@{lockpickelec_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Lockpick Elec</button></div>
  <div class="sheet-lockpickelecrank"><input name="attr_lockpickelec" type="number" min=0 max=4></div>
  <div class="sheet-lockpickelecstat">Concentration</div>
  <div class="sheet-lockpickelecbonus"><span name="attr_lockpickelec_total"></div>
  
  <div class="sheet-loreSkybutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Lore: SkyNet Test}}{{success=[[{1d10+@{loreSky_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{loreSky}+1]]d10+@{loreSky_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Lore Skynet</button></div>
  <div class="sheet-loreSkyrank"><input name="attr_loreSky" type="number" min=0 max=4></div>
  <div class="sheet-loreSkystat">Knowledge</div>
  <div class="sheet-loreSkybonus"><span name="attr_loreSky_total"></div>
  
  <div class="sheet-loreResbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Lore: Resistance Test}}{{success=[[{1d10+@{loreRes_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{loreRes}+1]]d10+@{loreRes_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Lore Resistance</button></div>
  <div class="sheet-loreResrank"><input name="attr_loreRes" type="number" min=0 max=4></div>
  <div class="sheet-loreResstat">Knowledge</div>
  <div class="sheet-loreResbonus"><span name="attr_loreRes_total"></div>
  
  <div class="sheet-medicalbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Medical Test}}{{success=[[{1d10+@{medical_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{medical}+1]]d10+@{medical_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Medical</button></div>
  <div class="sheet-medicalrank"><input name="attr_medical" type="number" min=0 max=4></div>
  <div class="sheet-medicalstat">Knowledge</div>
  <div class="sheet-medicalbonus"><span name="attr_medical_total"></div>
  
  <div class="sheet-meleewpnbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Melee Weapon Test}}{{success=[[{1d10+@{meleewpn_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{meleewpn}+1]]d10+@{meleewpn_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Melee Weapons</button></div>
  <div class="sheet-meleewpnrank"><input name="attr_meleewpn" type="number" min=0 max=4></div>
  <div class="sheet-meleewpnstat">Strength</div>
  <div class="sheet-meleewpnbonus"><span name="attr_meleewpn_total"></div>
  
   <div class="sheet-oratorybutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Oratory Test}}{{success=[[{1d10+@{oratory_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{oratory}+1]]d10+@{oratory_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Oratory</button></div>
  <div class="sheet-oratoryrank"><input name="attr_oratory" type="number" min=0 max=4></div>
  <div class="sheet-oratorystat">Charisma</div>
  <div class="sheet-oratorybonus"><span name="attr_oratory_total"></div>
  
  <div class="sheet-persuasionbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Persuasion Test}}{{success=[[{1d10+@{persuasion_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{persuasion}+1]]d10+@{persuasion_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Persuasion</button></div>
  <div class="sheet-persuasionrank"><input name="attr_persuasion" type="number" min=0 max=4></div>
  <div class="sheet-persuasionstat">Charisma</div>
  <div class="sheet-persuasionbonus"><span name="attr_persuasion_total"></div>
  
  <div class="sheet-pistolbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Pistol Test}}{{success=[[{1d10+@{pistol_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{pistol}+1]]d10+@{pistol_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Pistol</button></div>
  <div class="sheet-pistolrank"><input name="attr_pistol" type="number" min=0 max=4></div>
  <div class="sheet-pistolstat">Dexterity</div>
  <div class="sheet-pistolbonus"><span name="attr_pistol_total"></div>
  
  <div class="sheet-readlipsbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Readlips Test}}{{success=[[{1d10+@{readlips_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{readlips}+1]]d10+@{readlips_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Read Lips</button></div>
  <div class="sheet-readlipsrank"><input name="attr_readlips" type="number" min=0 max=4></div>
  <div class="sheet-readlipsstat">Concentration</div>
  <div class="sheet-readlipsbonus"><span name="attr_readlips_total"></div>
  
  <div class="sheet-riflebutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Rifle Test}}{{success=[[{1d10+@{rifle_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{rifle}+1]]d10+@{rifle_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Rifle</button></div>
  <div class="sheet-riflerank"><input name="attr_rifle" type="number" min=0 max=4></div>
  <div class="sheet-riflestat">Dexterity</div>
  <div class="sheet-riflebonus"><span name="attr_rifle_total"></div>
  
  <div class="sheet-seductionbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Seduction Test}}{{success=[[{1d10+@{seduction_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{seduction}+1]]d10+@{seduction_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Seduction</button></div>
  <div class="sheet-seductionrank"><input name="attr_seduction" type="number" min=0 max=4></div>
  <div class="sheet-seductionstat">Charisma</div>
  <div class="sheet-seductionbonus"><span name="attr_seduction_total"></div>
  
  <div class="sheet-sleightbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Sleight-of-hand Test}}{{success=[[{1d10+@{sleight_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{sleight}+1]]d10+@{sleight_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Sleight</button></div>
  <div class="sheet-sleightrank"><input name="attr_sleight" type="number" min=0 max=4></div>
  <div class="sheet-sleightstat">Dexterity</div>
  <div class="sheet-sleightbonus"><span name="attr_sleight_total"></div>
  
  <div class="sheet-stealthbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Stealth Test}}{{success=[[{1d10+@{stealth_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{stealth}+1]]d10+@{stealth_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Stealth</button></div>
  <div class="sheet-stealthrank"><input name="attr_stealth" type="number" min=0 max=4></div>
  <div class="sheet-stealthstat">Dexterity</div>
  <div class="sheet-stealthbonus"><span name="attr_stealth_total"></div>
  
  <div class="sheet-streetwisebutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Streetwise Test}}{{success=[[{1d10+@{streetwise_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{streetwise}+1]]d10+@{streetwise_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Streetwise</button></div>
  <div class="sheet-streetwiserank"><input name="attr_streetwise" type="number" min=0 max=4></div>
  <div class="sheet-streetwisestat">Knowledge</div>
  <div class="sheet-streetwisebonus"><span name="attr_streetwise_total"></div>
  
  <div class="sheet-supportwpnbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Support Weapons Test}}{{success=[[{1d10+@{supportwpn_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{supportwpn}+1]]d10+@{supportwpn_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Support Weapon</button></div>
  <div class="sheet-supportwpnrank"><input name="attr_supportwpn" type="number" min=0 max=4></div>
  <div class="sheet-supportwpnstat">Strength</div>
  <div class="sheet-supportwpnbonus"><span name="attr_supportwpn_total"></div>
  
  <div class="sheet-survivalbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Survival Test}}{{success=[[{1d10+@{survival_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{survival}+1]]d10+@{survival_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Survival</button></div>
  <div class="sheet-survivalrank"><input name="attr_survival" type="number" min=0 max=4></div>
  <div class="sheet-survivalstat">Cool</div>
  <div class="sheet-survivalbonus"><span name="attr_survival_total"></div>
  
  <div class="sheet-swimmingbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Swimming Test}}{{success=[[{1d10+@{swimming_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{swimming}+1]]d10+@{swimming_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Swimming</button></div>
  <div class="sheet-swimmingrank"><input name="attr_swimming" type="number" min=0 max=4></div>
  <div class="sheet-swimmingstat">Strength</div>
  <div class="sheet-swimmingbonus"><span name="attr_swimming_total"></div>
  
  <div class="sheet-tacticsbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Tactics Test}}{{success=[[{1d10+@{tactics_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{tactics}+1]]d10+@{tactics_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Tactics</button></div>
  <div class="sheet-tacticsrank"><input name="attr_tactics" type="number" min=0 max=4></div>
  <div class="sheet-tacticsstat">Concentration</div>
  <div class="sheet-tacticsbonus"><span name="attr_tactics_total"></div>
  
  <div class="sheet-techelecbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Technical: Electronic Test}}{{success=[[{1d10+@{techelec_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{techelec}+1]]d10+@{techelec_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Tech Electrical</button></div>
  <div class="sheet-techelecrank"><input name="attr_techelec" type="number" min=0 max=4></div>
  <div class="sheet-techelecstat">Concentration</div>
  <div class="sheet-techelecbonus"><span name="attr_techelec_total"></div>
  
  <div class="sheet-techmanbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Technical: Mechanical Test}}{{success=[[{1d10+@{techman_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{techman}+1]]d10+@{techman_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Tech Mechanical</button></div>
  <div class="sheet-techmanrank"><input name="attr_techman" type="number" min=0 max=4></div>
  <div class="sheet-techmanstat">Concentration</div>
  <div class="sheet-techmanbonus"><span name="attr_techman_total"></div>
  
  <div class="sheet-techwpnbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Technical: Weapon Test}}{{success=[[{1d10+@{techwpn_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{techwpn}+1]]d10+@{techwpn_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Tech Weapons</button></div>
  <div class="sheet-techwpnrank"><input name="attr_techwpn" type="number" min=0 max=4></div>
  <div class="sheet-techwpnstat">Concentration</div>
  <div class="sheet-techwpnbonus"><span name="attr_techwpn_total"></div>
  
  <div class="sheet-throwskbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Throw Test}}{{success=[[{1d10+@{throwsk_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{throwsk}+1]]d10+@{throwsk_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Throw</button></div>
  <div class="sheet-throwskrank"><input name="attr_throwsk" type="number" min=0 max=4></div>
  <div class="sheet-throwskstat">Strength</div>
  <div class="sheet-throwskbonus"><span name="attr_throwsk_total"></div>
  
  <div class="sheet-timescbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Time Science Test}}{{success=[[{1d10+@{timesc_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{timesc}+1]]d10+@{timesc_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Time Science</button></div>
  <div class="sheet-timescrank"><input name="attr_timesc" type="number" min=0 max=4></div>
  <div class="sheet-timescstat">Cool</div>
  <div class="sheet-timescbonus"><span name="attr_timesc_total"></div>
  
  <div class="sheet-trackingbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Tracking Test}}{{success=[[{1d10+@{tracking_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{tracking}+1]]d10+@{tracking_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Tracking</button></div>
  <div class="sheet-trackingrank"><input name="attr_tracking" type="number" min=0 max=4></div>
  <div class="sheet-trackingstat">Concentration</div>
  <div class="sheet-trackingbonus"><span name="attr_tracking_total"></div>
  
  <div class="sheet-unarmedbutton"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=Unarmed Combat Test}}{{success=[[{1d10+@{unarmed_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{unarmed}+1]]d10+@{unarmed_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}">Unarmed Cmbt</button></div>
  <div class="sheet-unarmedrank"><input name="attr_unarmed" type="number" min=0 max=4></div>
  <div class="sheet-unarmedstat">Strength</div>
  <div class="sheet-unarmedbonus"><span name="attr_unarmed_total"></div>

  <div class="sheet-userdef1button"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=@{userdef1desc} Test}}{{success=[[{1d10+@{userdef1}+@{userdef1stat}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{userdef1}+1]]d10+@{userdef1}+@{userdef1stat}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}"></button><input name="attr_userdef1desc" type="text"></div>
  <div class="sheet-userdef1rank"><input name="attr_userdef1" type="number" min=0 max=4></div>
   <div class="sheet-userdef1stat"> <select name="attr_userdef1stat">   <option value="@{strength}">Strength</option>  <option value="@{dexterity}">Dexterity</option>   <option value="@{knowledge}">Knowledge</option>   <option value="@{concentration}">Concentration</option>  <option value="@{charisma}">Charisma</option>  <option value="@{cool}">Cool</option>   </select> </div>  
  <div class="sheet-userdef1bonus"><span name="attr_userdef1_total"></div>
  
    <div class="sheet-userdef2button"><button type="roll"value="&{template:skill} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name=@{userdef2desc} Test}}{{success=[[{1d10+@{userdef2}+@{userdef2stat}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{userdef2}+1]]d10+@{userdef2}+@{userdef2stat}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}"></button><input name="attr_userdef2desc" type="text"></div>
  <div class="sheet-userdef2rank"><input name="attr_userdef2" type="number" min=0 max=4></div>
  <div class="sheet-userdef2stat"> <select name="attr_userdef2stat">   <option value="@{strength}">Strength</option>  <option value="@{dexterity}">Dexterity</option>   <option value="@{knowledge}">Knowledge</option>   <option value="@{concentration}">Concentration</option>  <option value="@{charisma}">Charisma</option>  <option value="@{cool}">Cool</option>   </select> </div> 
  <div class="sheet-userdef2bonus"><span name="attr_userdef2_total"></div>
  
  <div class="sheet-weapons">WEAPONS</div>
  <div class="sheet-rangedweapontitle">RANGED WEAPON</div>
  <div class="sheet-rangedweaponskilltitle">SKILL</div>
  <div class="sheet-rangedweaponrngtitle">RNG</div>
  <div class="sheet-rangedweapondmgtitle">DMG</div>
  <div class="sheet-rangedweaponmindmgtitle">Min DMG</div>
  <div class="sheet-rangedweaponadtitle">AD</div>
  <div class="sheet-rangedweaponroftitle">ROF</div>
  <div class="sheet-rangedweaponrecoiltitle">RECOIL</div>
  <div class="sheet-rangedweaponcliptitle">CLIP</div>
  <div class="sheet-rangedweaponclipusedtitle">CLIP USED</div>
  <div class="sheet-rangedweaponammotitle">AMMO TYPE</div>
  <div class="sheet-rangedweaponequiptitle">EQUIP</div>
  <div class="sheet-rangedweaponrolltitle">ROLL</div>
  <div class="sheet-rangedweapon1score"><input type="text" list="rangedlist" name="attr_rangedweapon_1"></div>
  <div class="sheet-rangedweapon1skillscore">
  	<select name="attr_rangedweapon_skill_1">
		<option value=""></option>
		<option value="pistol">Pistol</option>
		<option value="rifle">Rifle</option>
		<option value="supportwpn">Support Weapons</option>
		<option value="throwsk">Throw</option>
		<option value="detect">Detect</option>
		<option value="demolitions">Demolitions</option>
    </select>
  </div>
  <div class="sheet-rangedweapon1rngscore"><input name="attr_rangedweapon_range_1" type="text"></div>
  <div class="sheet-rangedweapon1dmgscore"><input name="attr_rangedweapon_damage_1" type="text"></div>
  <div class="sheet-rangedweapon1mindmgscore"><input name="attr_rangedweapon_mindamage_1" type="number"></div>
  <div class="sheet-rangedweapon1adscore"><input name="attr_rangedweapon_armourdamage_1" type="number"></div>
  <div class="sheet-rangedweapon1rofscore">
	<select name="attr_rangedweapon_rof_1">
		<option>1</option>
		<option>3</option>
		<option>10</option>
		<option>SUP(25)</option>
		<option>SUP(40)</option>
		<option>SUP(50)</option>
		<option>SUP(100)</option>
	</select>
  </div>
  <div class="sheet-rangedweapon1recoilscore"><input name="attr_rangedweapon_recoil_1" type="number"></div>
  <div class="sheet-rangedweapon1clipscore"><input name="attr_rangedweapon_clip_1" type="number"></div>
  <div class="sheet-rangedweapon1clipusedscore"><input name="attr_rangedweapon_clipused_1" type="number"></div>
  <div class="sheet-rangedweapon1ammoscore"><input list="ammotypelist" name="attr_rangedweapon_ammo_1" type="text"></div>
  <div class="sheet-rangedweapon1equipscore"><input name="attr_rangedweapon_enc_1" type="text"></div>
  <div class="sheet-rangedweapon1rollscore"><button type="roll" name="attr_rangedweapon_roll_1">&nbsp;</button></div>
  <div class="sheet-rangedweapon2score"><input type="text" list="rangedlist" name="attr_rangedweapon_2"></div>
  <div class="sheet-rangedweapon2skillscore">  	
    <select name="attr_rangedweapon_skill_2">
		<option value=""></option>
		<option value="pistol">Pistol</option>
		<option value="rifle">Rifle</option>
		<option value="supportwpn">Support Weapons</option>
		<option value="throwsk">Throw</option>
		<option value="detect">Detect</option>
		<option value="demolitions">Demolitions</option>
    </select>
</div>
  <div class="sheet-rangedweapon2rngscore"><input name="attr_rangedweapon_range_2" type="text"></div>
  <div class="sheet-rangedweapon2dmgscore"><input name="attr_rangedweapon_damage_2" type="text"></div>
  <div class="sheet-rangedweapon2mindmgscore"><input name="attr_rangedweapon_mindamage_2" type="number"></div>
  <div class="sheet-rangedweapon2adscore"><input name="attr_rangedweapon_armourdamage_2" type="number"></div>
  <div class="sheet-rangedweapon2rofscore">
	<select name="attr_rangedweapon_rof_2">
		<option>1</option>
		<option>3</option>
		<option>10</option>
		<option>SUP(25)</option>
		<option>SUP(40)</option>
		<option>SUP(50)</option>
		<option>SUP(100)</option>
	</select>
  </div>
  <div class="sheet-rangedweapon2recoilscore"><input name="attr_rangedweapon_recoil_2" type="number"></div>
  <div class="sheet-rangedweapon2clipscore"><input name="attr_rangedweapon_clip_2" type="number"></div>
  <div class="sheet-rangedweapon2clipusedscore"><input name="attr_rangedweapon_clipused_2" type="number"></div>
  <div class="sheet-rangedweapon2ammoscore"><input list="ammotypelist" name="attr_rangedweapon_ammo_2" type="text"></div>
  <div class="sheet-rangedweapon2equipscore"><input name="attr_rangedweapon_enc_2" type="text"></div>
  <div class="sheet-rangedweapon2rollscore"><button type="roll" name="attr_rangedweapon_roll_2">&nbsp;</button></div>
  <div class="sheet-rangedweapon3score"><input type="text" list="rangedlist" name="attr_rangedweapon_3"></div>
  <div class="sheet-rangedweapon3skillscore">
  	<select name="attr_rangedweapon_skill_3">
		<option value=""></option>
		<option value="pistol">Pistol</option>
		<option value="rifle">Rifle</option>
		<option value="supportwpn">Support Weapons</option>
		<option value="throwsk">Throw</option>
		<option value="detect">Detect</option>
		<option value="demolitions">Demolitions</option>
    </select>
  </div>
  <div class="sheet-rangedweapon3rngscore"><input name="attr_rangedweapon_range_3" type="text"></div>
  <div class="sheet-rangedweapon3dmgscore"><input name="attr_rangedweapon_damage_3" type="text"></div>
  <div class="sheet-rangedweapon3mindmgscore"><input name="attr_rangedweapon_mindamage_3" type="number"></div>
  <div class="sheet-rangedweapon3adscore"><input name="attr_rangedweapon_armourdamage_3" type="number"></div>
  <div class="sheet-rangedweapon3rofscore">
	<select name="attr_rangedweapon_rof_3">
		<option>1</option>
		<option>3</option>
		<option>10</option>
		<option>SUP(25)</option>
		<option>SUP(40)</option>
		<option>SUP(50)</option>
		<option>SUP(100)</option>
	</select>
  </div>
  <div class="sheet-rangedweapon3recoilscore"><input name="attr_rangedweapon_recoil_3" type="number"></div>
  <div class="sheet-rangedweapon3clipscore"><input name="attr_rangedweapon_clip_3" type="number"></div>
  <div class="sheet-rangedweapon3clipusedscore"><input name="attr_rangedweapon_clipused_3" type="number"></div>
  <div class="sheet-rangedweapon3ammoscore"><input list="ammotypelist" name="attr_rangedweapon_ammo_3" type="text"></div>
  <div class="sheet-rangedweapon3equipscore"><input name="attr_rangedweapon_enc_3" type="text"></div>
  <div class="sheet-rangedweapon3rollscore"><button type="roll" name="attr_rangedweapon_roll_3">&nbsp;</button></div>
  <div class="sheet-rangedweapon4score"><input type="text" list="rangedlist" name="attr_rangedweapon_4"></div>
  <div class="sheet-rangedweapon4skillscore">
  	<select name="attr_rangedweapon_skill_4">
		<option value=""></option>
		<option value="pistol">Pistol</option>
		<option value="rifle">Rifle</option>
		<option value="supportwpn">Support Weapons</option>
		<option value="throwsk">Throw</option>
		<option value="detect">Detect</option>
		<option value="demolitions">Demolitions</option>
    </select>
  </div>
  <div class="sheet-rangedweapon4rngscore"><input name="attr_rangedweapon_range_4" type="text"></div>
  <div class="sheet-rangedweapon4dmgscore"><input name="attr_rangedweapon_damage_4" type="text"></div>
  <div class="sheet-rangedweapon4mindmgscore"><input name="attr_rangedweapon_mindamage_4" type="number"></div>
  <div class="sheet-rangedweapon4adscore"><input name="attr_rangedweapon_armourdamage_4" type="number"></div>
  <div class="sheet-rangedweapon4rofscore">
	<select name="attr_rangedweapon_rof_4">
		<option>1</option>
		<option>3</option>
		<option>10</option>
		<option>SUP(25)</option>
		<option>SUP(40)</option>
		<option>SUP(50)</option>
		<option>SUP(100)</option>
	</select>
  </div>
  <div class="sheet-rangedweapon4recoilscore"><input name="attr_rangedweapon_recoil_4" type="number"></div>
  <div class="sheet-rangedweapon4clipscore"><input name="attr_rangedweapon_clip_4" type="number"></div>
  <div class="sheet-rangedweapon4clipusedscore"><input name="attr_rangedweapon_clipused_4" type="number"></div>
  <div class="sheet-rangedweapon4ammoscore"><input list="ammotypelist" name="attr_rangedweapon_ammo_4" type="text"></div>
  <div class="sheet-rangedweapon4equipscore"><input name="attr_rangedweapon_enc_4" type="text"></div>
  <div class="sheet-rangedweapon4rollscore"><button type="roll" name="attr_rangedweapon_roll_4">&nbsp;</button></div>
  <div class="sheet-rangedweapon5score"><input type="text" list="rangedlist" name="attr_rangedweapon_5"></div>
  <div class="sheet-rangedweapon5skillscore">
  	<select name="attr_rangedweapon_skill_5">
		<option value=""></option>
		<option value="pistol">Pistol</option>
		<option value="rifle">Rifle</option>
		<option value="supportwpn">Support Weapons</option>
		<option value="throwsk">Throw</option>
		<option value="detect">Detect</option>
		<option value="demolitions">Demolitions</option>
    </select>
  </div>
  <div class="sheet-rangedweapon5rngscore"><input name="attr_rangedweapon_range_5" type="text"></div>
  <div class="sheet-rangedweapon5dmgscore"><input name="attr_rangedweapon_damage_5" type="text"></div>
  <div class="sheet-rangedweapon5mindmgscore"><input name="attr_rangedweapon_mindamage_5" type="number"></div>
  <div class="sheet-rangedweapon5adscore"><input name="attr_rangedweapon_armourdamage_5" type="number"></div>
  <div class="sheet-rangedweapon5rofscore">
	<select name="attr_rangedweapon_rof_5">
		<option>1</option>
		<option>3</option>
		<option>10</option>
		<option>SUP(25)</option>
		<option>SUP(40)</option>
		<option>SUP(50)</option>
		<option>SUP(100)</option>
	</select>
  </div>
  <div class="sheet-rangedweapon5recoilscore"><input name="attr_rangedweapon_recoil_5" type="number"></div>
  <div class="sheet-rangedweapon5clipscore"><input name="attr_rangedweapon_clip_5" type="number"></div>
  <div class="sheet-rangedweapon5clipusedscore"><input name="attr_rangedweapon_clipused_5" type="number"></div>
  <div class="sheet-rangedweapon5ammoscore"><input list="ammotypelist" name="attr_rangedweapon_ammo_5" type="text"></div>
  <div class="sheet-rangedweapon5equipscore"><input name="attr_rangedweapon_enc_5" type="text"></div>
  <div class="sheet-rangedweapon5rollscore"><button type="roll" name="attr_rangedweapon_roll_5">&nbsp;</button></div>

  <div class="sheet-meleeweapontitle">MELEE WEAPON</div>
  <div class="sheet-meleeweaponskilltitle">SKILL</div>
  <div class="sheet-meleeweapondmgtitle">DMG</div>
  <div class="sheet-meleeweaponmindmgtitle">Min DMG</div>
  <div class="sheet-meleeweaponadtitle">AD</div>
  <div class="sheet-meleeweaponnotestitle">NOTES</div>
  <div class="sheet-meleeweaponequiptitle">EQUIP</div>
  <div class="sheet-meleeweaponrolltitle">ROLL</div>
  <div class="sheet-meleeweapon1score"><input type="text" list="meleelist" name="attr_meleeweapon_1"></div>
  <div class="sheet-meleeweapon1skillscore">  	
    <select name="attr_meleeweapon_skill_1">
		<option value=""></option>
		<option value="meleewpn">Melee Weapons</option>
		<option value="Unarmed">Unarmed Combat</option>
    </select>
  </div>
  <div class="sheet-meleeweapon1dmgscore"><input name="attr_meleeweapon_damage_1" type="text"></div>
  <div class="sheet-meleeweapon1mindmgscore"><input name="attr_meleeweapon_mindamage_1" type="number"></div>
  <div class="sheet-meleeweapon1adscore"><input name="attr_meleeweapon_armourdamage_1" type="number"></div>
  <div class="sheet-meleeweapon1notesscore"><input name="attr_meleeweapon_note_1" type="text"></div>
  <div class="sheet-meleeweapon1rollscore"><button type="roll" name="attr_meleeweapon_roll_1">&nbsp;</button></div>
  <div class="sheet-meleeweapon1equipscore"><input name="attr_meleeweapon_enc_1" type="text"></div>
  <div class="sheet-meleeweapon2score"><input type="text" list="meleelist" name="attr_meleeweapon_2"></div>
  <div class="sheet-meleeweapon2skillscore">  	
    <select name="attr_meleeweapon_skill_2">
		<option value=""></option>
		<option value="meleewpn">Melee Weapons</option>
		<option value="Unarmed">Unarmed Combat</option>
    </select>
  </div>
  <div class="sheet-meleeweapon2dmgscore"><input name="attr_meleeweapon_damage_2" type="text"></div>
  <div class="sheet-meleeweapon2mindmgscore"><input name="attr_meleeweapon_mindamage_2" type="number"></div>
  <div class="sheet-meleeweapon2adscore"><input name="attr_meleeweapon_armourdamage_2" type="number"></div>
  <div class="sheet-meleeweapon2notesscore"><input name="attr_meleeweapon_note_2" type="text"></div>
  <div class="sheet-meleeweapon2rollscore"><button type="roll" name="attr_meleeweapon_roll_2">&nbsp;</button></div>
  <div class="sheet-meleeweapon2equipscore"><input name="attr_meleeweapon_enc_2" type="text"></div>
  <div class="sheet-meleeweapon3score"><input type="text" list="meleelist" name="attr_meleeweapon_3"></div>
  <div class="sheet-meleeweapon3skillscore">  	
    <select name="attr_meleeweapon_skill_3">
		<option value=""></option>
		<option value="meleewpn">Melee Weapons</option>
		<option value="Unarmed">Unarmed Combat</option>
    </select>
  </div>
  <div class="sheet-meleeweapon3dmgscore"><input name="attr_meleeweapon_damage_3" type="text"></div>
  <div class="sheet-meleeweapon3mindmgscore"><input name="attr_meleeweapon_mindamage_3" type="number"></div>
  <div class="sheet-meleeweapon3adscore"><input name="attr_meleeweapon_armourdamage_3" type="number"></div>
  <div class="sheet-meleeweapon3notesscore"><input name="attr_meleeweapon_note_3" type="text"></div>
  <div class="sheet-meleeweapon3rollscore"><button type="roll" name="attr_meleeweapon_roll_3">&nbsp;</button></div>
  <div class="sheet-meleeweapon3equipscore"><input name="attr_meleeweapon_enc_3" type="text"></div>
  <div class="sheet-meleeweapon4score"><input type="text" list="meleelist" name="attr_meleeweapon_4"></div>
  <div class="sheet-meleeweapon4skillscore">  	
    <select name="attr_meleeweapon_skill_4">
		<option value=""></option>
		<option value="meleewpn">Melee Weapons</option>
		<option value="Unarmed">Unarmed Combat</option>
    </select>
  </div>
  <div class="sheet-meleeweapon4dmgscore"><input name="attr_meleeweapon_damage_4" type="text"></div>
  <div class="sheet-meleeweapon4mindmgscore"><input name="attr_meleeweapon_mindamage_4" type="number"></div>
  <div class="sheet-meleeweapon4adscore"><input name="attr_meleeweapon_armourdamage_4" type="number"></div>
  <div class="sheet-meleeweapon4notesscore"><input name="attr_meleeweapon_note_4" type="text"></div>
  <div class="sheet-meleeweapon4rollscore"><button type="roll" name="attr_meleeweapon_roll_4">&nbsp;</button></div>
  <div class="sheet-meleeweapon4equipscore"><input name="attr_meleeweapon_enc_4" type="text"></div>

  <div class="sheet-equip">EQUIPMENT</div>
  <div class="sheet-equipscore"><textarea name="attr_equip"></textarea></div>
  
  <div class="sheet-physique">PHYSIQUE</div>
  <div class="sheet-description">DESCRIPTION</div>
  <div class="sheet-agetitle">AGE</div>
  <div class="sheet-agescore"><input name="attr_age" type="text"></div>
  <div class="sheet-heighttitle">HEIGHT</div>
  <div class="sheet-heightscore"><input name="attr_height" type="text"></div>
  <div class="sheet-weighttitle">WEIGHT</div>
  <div class="sheet-weightscore"><input name="attr_weight" type="text"></div>
  <div class="sheet-eyetitle">EYE COLOUR</div>
  <div class="sheet-eyescore"><input name="attr_eyecolour" type="text"></div>
  <div class="sheet-hairtitle">HAIR COLOUR</div>
  <div class="sheet-hairscore"><input name="attr_haircolour" type="text"></div>
  <div class="sheet-complexiontitle">COMPLEXION</div>
  <div class="sheet-complexionscore"><input name="attr_complexion" type="text"></div>
  <div class="sheet-roleskillstitle">Resistance Skill</div>
  <div class="sheet-roleskillsscore1"><input name="attr_role_ability_1" type="text"></div>
  <div class="sheet-roleskillsscore2"><textarea name="attr_role_ability_2"> </textarea></div>
  <div class="sheet-movement">MOVEMENT</div>
  <div class="sheet-moveclosingtitle">CLOSING</div>
  <div class="sheet-moveclosingscore"><input name="attr_move_closing" type="number"><input name="attr_move_closingebb" type="hidden"><input name="attr_move_closingarmour" type="hidden"></div>
  <div class="sheet-moverushingtitle">RUSHING</div>
  <div class="sheet-moverushingscore"><input name="attr_move_rushing" type="number"><input name="attr_move_rushingebb" type="hidden"><input name="attr_move_rushingarmour" type="hidden"></div>
  <div class="sheet-armourtottitle">ARMOUR</div>
  <div class="sheet-armourtotscore"><textarea name="attr_armour"></textarea></div>
  <div class="sheet-armourtotpvscore"><input name="attr_armour_pv_total" type="text"></div>
  <div class="sheet-hitpointstitle">HITPOINTS</div>
  <div class="sheet-hpcurrtitle">CURRENT</div>
  <div class="sheet-hpcurrscore"><input name="attr_HPCurrent" type="number">  </div>
  <div class="sheet-hpstarttitle">STARTING</div>
  <div class="sheet-hpstartscore"><input name="attr_HPStarting" type="number"></div>

  <div class="sheet-wptitle">WILLPOWER</div>
  <div class="sheet-wpcurrtitle">CURRENT</div>
  <div class="sheet-wpcurrscore"><input name="attr_WPCurrent" type="number"></div>
  <div class="sheet-wpstarttitle">STARTING</div>
  <div class="sheet-wpstartscore"><input name="attr_WPStarting" type="number"></div>
  
  <div class="sheet-woundstitle">WOUNDS</div>
  <div class="sheet-woundheadtitle">HEAD</div>
  <div class="sheet-woundheadscore"><input name="attr_head_wound" type="checkbox"></div>
  <div class="sheet-woundtorsotitle">TORSO</div>
  <div class="sheet-woundtorsoscore"><input name="attr_torso_wound" type="checkbox"></div>
  <div class="sheet-woundlarmtitle">LEFT ARM</div>
  <div class="sheet-woundlarmscore"><input name="attr_leftarm_wound" type="checkbox"></div>
  <div class="sheet-woundrarmtitle">RIGHT ARM</div>
  <div class="sheet-woundrarmscore"><input name="attr_rightarm_wound" type="checkbox"></div>
  <div class="sheet-woundllegtitle">LEFT LEG</div>
  <div class="sheet-woundllegscore"><input name="attr_leftleg_wound" type="checkbox"></div>
  <div class="sheet-woundrlegtitle">RIGHT LEG</div>
  <div class="sheet-woundrlegscore"><input name="attr_rightleg_wound" type="checkbox"></div>
  <div class="sheet-traitstitle">TRAITS</div>
  <div class="sheet-traitstraittitle">TRAIT</div>
  <div class="sheet-traitsnotestitle">NOTES</div>
  <div class="sheet-traitsranktitle">RANK</div>
  <div class="sheet-negtrait1score"><input type="text" list="negtraitlist" name="attr_negtrait_1"></div>
  <div class="sheet-negtrait1notescore"><input name="attr_negtrait_1_notes" type="text"></div>
  <div class="sheet-negtrait1rankscore"><input name="attr_negtrait_1_rank" type="number"></div>
  <div class="sheet-negtrait2score"><input type="text" list="negtraitlist" name="attr_negtrait_2"></div>
  <div class="sheet-negtrait2notescore"><input name="attr_negtrait_2_notes" type="text"></div>
  <div class="sheet-negtrait2rankscore"><input name="attr_negtrait_2_rank" type="number"></div>
  <div class="sheet-negtrait3score"><input type="text" list="negtraitlist" name="attr_negtrait_3"></div>
  <div class="sheet-negtrait3notescore"><input name="attr_negtrait_3_notes" type="text"></div>
  <div class="sheet-negtrait3rankscore"><input name="attr_negtrait_3_rank" type="number"></div>
  <div class="sheet-postrait1score"><input type="text" list="postraitlist" name="attr_postrait_1"></div>
  <div class="sheet-postrait1notescore"><input name="attr_postrait_1_notes" type="text"></div>
  <div class="sheet-postrait1rankscore"><input name="attr_postrait_1_rank" type="number"></div>
  <div class="sheet-postrait2score"><input type="text" list="postraitlist" name="attr_postrait_2"></div>
  <div class="sheet-postrait2notescore"><input name="attr_postrait_2_notes" type="text"></div>
  <div class="sheet-postrait2rankscore"><input name="attr_postrait_2_rank" type="number"></div>
  <div class="sheet-postrait3score"><input type="text" list="postraitlist" name="attr_postrait_3"></div>
  <div class="sheet-postrait3notescore"><input name="attr_postrait_3_notes" type="text"></div>
  <div class="sheet-postrait3rankscore"><input name="attr_postrait_3_rank" type="number"></div>
  

  <div class="sheet-armourtitle">ARMOUR</div>
  <div class="sheet-armourpvtitle">PV</div>
  <div class="sheet-armourpvscore"><input name="attr_armour_pv_total" type="number"></div>
  <div class="sheet-armour1title">ARMOUR TYPE</div>
  <div class="sheet-armour1pvtitle">PV</div>
  <div class="sheet-armour1currpvtitle">Current PV</div>
  <div class="sheet-armour1resisttitle">RESISTANCE</div>
  <div class="sheet-armour1damagetitle">DAMAGE</div>
  <div class="sheet-armour1enctitle">EQUIP</div>
  <div class="sheet-armour1score"><input type="text" list="armourlist" name="attr_armour_1"></div>
  <div class="sheet-armour1pvscore"><input name="attr_armour_pv_1" type="number"></div>
  <div class="sheet-armour1currpvscore"><span name="attr_armour_currpv_1"></div>
  <div class="sheet-armour1resistscore"><input name="attr_armour_resistance_1" type="number"></div>
  <div class="sheet-armour1damagescore"><input name="attr_armour_damage_1" type="number"></div>
  <div class="sheet-armour1encscore"><input name="attr_armour_enc_1" type="number"></div>
 
 <div class="sheet-armour2maintitle">SECOND ARMOUR / SHIELD</div>
  <div class="sheet-armour2title">ARMOUR TYPE</div>
  <div class="sheet-armour2pvtitle">PV</div>
  <div class="sheet-armour2currpvtitle">Current PV</div>
  <div class="sheet-armour2resisttitle">RESISTANCE</div>
  <div class="sheet-armour2damagetitle">DAMAGE</div>
  <div class="sheet-armour2enctitle">EQUIP</div>
  <div class="sheet-armour2score"><input type="text" list="armourlist" name="attr_armour_2"></div>
  <div class="sheet-armour2pvscore"><input name="attr_armour_pv_2" type="number"></div>
  <div class="sheet-armour2currpvscore"><span name="attr_armour_currpv_2"></div>
  <div class="sheet-armour2resistscore"><input name="attr_armour_resistance_2" type="number"></div>
  <div class="sheet-armour2damagescore"><input name="attr_armour_damage_2" type="number"></div>
  <div class="sheet-armour2encscore"><input name="attr_armour_enc_2" type="number"></div>


<!--  <div class="sheet-ebbenhancetitle">EBB ENHANCE</div>
  <div class="sheet-ebbboosttitle">Boost/Advanced/Ebb Beast</div>
  <div class="sheet-ebbboostscore"><input name="attr_ebbboostactive" type="checkbox" value="1"></div>
  <div class="sheet-ebbadvancedscore"><input name="attr_ebbadvancedactive" type="checkbox" value="1"></div>
  <div class="sheet-ebbbeastscore"><input name="attr_ebbbeastactive" type="checkbox" value="1"></div>
-->
  <div class="sheet-notestitle">NOTES</div>
  <div class="sheet-notesscore"><textarea name="attr_notes"></textarea></div>
  <div class="sheet-space67">&nbsp;</div>

  <div class="sheet-resistsktitle">Resistance Ability</div>
  <div class="sheet-resistskcore"><textarea name="attr_resistsk"></textarea></div>
  

</div>

<rolltemplate class="sheet-rolltemplate-initiative">
    <div class="container">
        <div class="rollheader">{{name}} | {{initiative}}</div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-skill">
    <div class="container">
        <div class="rollheader">{{name}}</div>
        <div class="rollrow1"><span class="tcat">Success: </span>{{success}} | <span class="tcat">Skill: </span> {{skill}}</div>
        <div class="rollrow2"><span class="tcat">{{successreroll}}</span><span class="tcat">{{skillreroll}} </span></div>
        <div class="rollrow1"><span class="tcat">{{reroll}}</span> </div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-reroll">
    <div class="container">
        <div class="rollheader">Reroll</div>
        <div class="rollrow1"><span class="tcat">Success: </span>{{success}} | <span class="tcat">Skill: </span> {{skill}}</div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-successreroll">
    <div class="container">
        <div class="rollheader">Reroll</div>
        <div class="rollrow1"><span class="tcat">Success: </span>{{success}} </div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-skillreroll">
    <div class="container">
        <div class="rollheader">Reroll</div>
        <div class="rollrow1"><span class="tcat">Skill: </span>{{skill}} </div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-weapon">
    <div class="container">
        <div class="rollheader">{{name}}</div>
        <div class="rollrow1"><span class="tcat">Success: </span>{{success}} | <span class="tcat">Skill: </span> {{skill}}</div>
        <div class="rollrow2">
			<span class="tcat">Dam: </span>
				{{damage}} | 
			<span class="tcat">Min. Dam: </span> 
				{{mindmg}} | 
			<span class="tcat">AD: </span> 
				{{ad}}
		</div>
        <div class="rollrow2"><span class="tcat">{{successreroll}}</span><span class="tcat">{{skillreroll}} </span></div>
        <div class="rollrow1"><span class="tcat">{{reroll}}</span> </div>
        <div class="rollrow2">{{weaponnotes}}</div>
		<div class="rollrow1">
			{{#rollTotal() success 1}}
				{{#rollTotal() skill 1}}
					+1 Damage
				{{/rollTotal() skill 1}}
				{{#rollTotal() skill 2}}
					+2 Damage or hit an arm
				{{/rollTotal() skill 2}}
				{{#rollTotal() skill 3}}
					+4 Damage or hit a leg
				{{/rollTotal() skill 3}}
				{{#rollTotal() skill 4}}
					+6 Damage and hit the head
				{{/rollTotal() skill 4}}
				{{#rollTotal() skill 5}}
					+6 Damage and hit the head
				{{/rollTotal() skill 5}}
			{{/rollTotal() success 1}}
		</div>
    </div>
</rolltemplate>

<script type="text/worker">


on('change:role', event => {
     const roledetails = {
       "Engineer":		{strengthbase: '1', strengthmax: '5',  dexteritybase: '0', dexteritymax: '4',  knowledgebase: '1', knowledgemax: '4',  concentrationbase: '2', concentrationmax: '5',  charismabase: '0', charismamax: '4',  coolbase: '1', coolmax: '4', FATE: '0',  FATEmax: '3', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '0', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'2', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Technically Minded", 	  role_ability_2:"Reroll Tech ability", 	FATEflux:"FATE", SCL:'Add 2 Rank to Drive (1 type), Lock Pick (1 Type) and Technical (any 2)', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'}, 
        "Grunt": 		{strengthbase: '2', strengthmax: '6',  dexteritybase: '1', dexteritymax: '5',  knowledgebase: '0', knowledgemax: '3',  concentrationbase: '0', concentrationmax: '3',  charismabase: '0', charismamax: '4',  coolbase: '2', coolmax: '5', FATE: '0',  FATEmax: '2', acrobatics:'0', animal:'0', athletics:'2', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'2', readlips:'0', rifle:'2', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '0', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '2', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Physical Training", 	  role_ability_2:"Spend Fate on STR/Dex", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
		"Hacker":		{strengthbase: '0', strengthmax: '3',  dexteritybase: '0', dexteritymax: '3',  knowledgebase: '2', knowledgemax: '6',  concentrationbase: '2', concentrationmax: '5',  charismabase: '0', charismamax: '3',  coolbase: '1', coolmax: '4', FATE: '0',  FATEmax: '4', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'2', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '2', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'2', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '0', swimming:'0', tactics:'0', techelec:'2', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Knock, Knock", 	  role_ability_2:"See Below", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
        "Historian": 		{strengthbase: '0', strengthmax: '2',  dexteritybase: '0', dexteritymax: '3',  knowledgebase: '3', knowledgemax: '6',  concentrationbase: '1', concentrationmax: '4',  charismabase: '0', charismamax: '5',  coolbase: '0', coolmax: '4', FATE: '1',  FATEmax: '5', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '0', diplomacy: '2', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '2', edunat: '2', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '2', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '2', persuasion: '0', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '0', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Natural Academic", 	  role_ability_2:"+1Die Edu:Academic", 	FATEflux:"FATE", SCL:'Add 2 Rank Lore (1 type). Choose a Language', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
		"Medic":		{strengthbase: '0', strengthmax: '2',  dexteritybase: '0', dexteritymax: '4',  knowledgebase: '2', knowledgemax: '6',  concentrationbase: '2', concentrationmax: '5',  charismabase: '0', charismamax: '4',  coolbase: '1', coolmax: '4', FATE: '0',  FATEmax: '4', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '2', endurance:'0', forensics:'2', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'2', meleewpn: '0', oratory: '0', persuasion: '2', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '0', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Experienced Medic", 	  role_ability_2:"Reroll Medic/Forensics", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
        "Pilot": 		{strengthbase: '0', strengthmax: '3',  dexteritybase: '1', dexteritymax: '4',  knowledgebase: '0', knowledgemax: '4',  concentrationbase: '3', concentrationmax: '6',  charismabase: '0', charismamax: '3',  coolbase: '1', coolmax: '5', FATE: '0',  FATEmax: '4', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'2', drivemil:'2', drivemot:'0', drivepil:'2', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '0', swimming:'0', tactics:'0', techelec:'0', techman:'2', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Mechanized Warrior", 	  role_ability_2:"See Below", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
		"Scout":		{strengthbase: '1', strengthmax: '4',  dexteritybase: '2', dexteritymax: '5',  knowledgebase: '0', knowledgemax: '4',  concentrationbase: '1', concentrationmax: '5',  charismabase: '0', charismamax: '3',  coolbase: '1', coolmax: '5', FATE: '0',  FATEmax: '2', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'0', readlips:'0', rifle:'2', seduction:'0', sleight:'0', stealth: '2', streetwise: '0', supportwpn:'0', survival: '2', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '2', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Heightened Awareness", 	  role_ability_2:"Reroll Detect/Stealth/tracking", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
        "Strategist": 		{strengthbase: '1', strengthmax: '4',  dexteritybase: '0', dexteritymax: '4',  knowledgebase: '1', knowledgemax: '4',  concentrationbase: '1', concentrationmax: '5',  charismabase: '1', charismamax: '4',  coolbase: '1', coolmax: '5', FATE: '0',  FATEmax: '3', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '2', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'2', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '2', supportwpn:'0', survival: '1', swimming:'0', tactics:'2', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"Military Mind", 	  role_ability_2:"+1Die Tactics", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
		"Advanced":	{strengthbase: '0', strengthmax: '6',  dexteritybase: '0', dexteritymax: '6',  knowledgebase: '0', knowledgemax: '6',  concentrationbase: '0', concentrationmax: '6',  charismabase: '0', charismamax: '6',  coolbase: '0', coolmax: '6', FATE: '0',  FATEmax: '6', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '0', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '1', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"All Hope Is Gone", 	  role_ability_2:"+2 Fate/0 Hope", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
		"Fated":	{strengthbase: '0', strengthmax: '5',  dexteritybase: '0', dexteritymax: '5',  knowledgebase: '0', knowledgemax: '5',  concentrationbase: '0', concentrationmax: '5',  charismabase: '1', charismamax: '5',  coolbase: '1', coolmax: '5', FATE: '3',  FATEmax: '5', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '2', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '2', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '2', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '0', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'15', wpStarting:'15',  role_ability_1:"FATED", 	  role_ability_2:"See Below", 	FATEflux:"FATE", SCL:'', squad: 'Spend pts: 7 Stat, 3 Hope,36 Skills(pg43)'},
		"NPC":	{strengthbase: '0', strengthmax: '20',  dexteritybase: '0', dexteritymax: '20',  knowledgebase: '0', knowledgemax: '20',  concentrationbase: '0', concentrationmax: '20',  charismabase: '0', charismamax: '20',  coolbase: '0', coolmax: '20', FATE: '0',  FATEmax: '20', acrobatics:'0', animal:'0', athletics:'0', bribery: '0', climbing: '0', computer:'0', demolitions:'0', detect: '0', diplomacy: '0', drivecar:'0', drivemil:'0', drivemot:'0', drivepil:'0', eduacad: '0', edunat: '0', endurance:'0', forensics:'0', forgery:'0', gambling:'0', haggle:'0', interrogate:'0', intimidate: '0', langsign:'0', languages: '0', leadership: '0', lockpickelec:'0', lockpickman:'0', loreRes:'0', loreSky:'0', medical:'0', meleewpn: '0', oratory: '0', persuasion: '0', pistol:'0', readlips:'0', rifle:'0', seduction:'0', sleight:'0', stealth: '0', streetwise: '0', supportwpn:'0', survival: '1', swimming:'0', tactics:'0', techelec:'0', techman:'0', techwpn:'0', throwsk: '0', timesc:'0', tracking: '0', unarmed: '0', move_closing:'2', move_rushing:'5', heal:'0', HPStarting:'5', wpStarting:'5',  role_ability_1:"", 	  role_ability_2:"", 	FATEflux:"FATE", SCL:'', squad: ''},
    };
    getAttrs(['role'], values => {
        let name = values.role;
        let output = roledetails[name] || '';
        if(output) setAttrs(output);
    });
});

on('change:role_ability_1', event => {
     const role_ability_1details = {
	 "Technically Minded": {resistsk:'An Engineer can choose to spend a point of FATE to reroll any or all dice during any Technical Skill Test (skill and success dice alike). In addition, after character creation, an Engineer may select one CONC related skill they do not already possess and add it to their character sheet at rank 1.'},
	"Physical Training": {resistsk:'When a Grunt spends a point of FATE on any STR or DEX related Skill Test instead of any normal benefit, they can opt to trade any one of their Skill dice for the Success dice. If they choose to do this, then the success is always a messy success regardless of how many other dice might have scored successes. In addition, a Grunt gains +2 Hit Points during character creation to represent their physical training.'},
	"Knock, Knock": {resistsk:'A Hacker is always looking for an angle. When attempting a hack, the Hacker can, prior to rolling, spend 1 FATE to have I/O nodes equal to their ranks in computer revealed to them (see page 91). The Hacker can also use their Computer skill instead of the Pick Lock: Electronic Skill.'},
	"Natural Academic": {resistsk:'A Historian is considered to have one additional Skill Die success when making any Education (Academics) Skill Test. In addition, at the end of character creation, a Historian may select one rank 3 KNOW related skill on their character sheet and increase it to rank 4, ignoring the usual restrictions.'},
	"Experienced Medic": {resistsk:'A Medic can choose to spend a point of FATE to reroll any or all dice during a Medical or Forensics Skill Test. If they do this, they can roll the amount of hit points healed by the medical kit twice and take the best result.'},
	"Mechanized Warrior": {resistsk:'A Pilot can drive a vehicle as an Auxillary action using the Passive Skill Test rules. In addition, the Pilot can choose one general type of vehicle and when piloting it, count as if they had a skill 1 higher than normal.'},
	"Heightened Awareness": {resistsk:'A Scout can choose to spend a point of FATE to reroll any or all dice during a Detect, Stealth or Tracking Skill Test (skill and success dice alike). In addition, a Scout adds 1 to their Initiative Bonus, making them more likely to act before others in combat.'},
	"Military Mind": {resistsk:'A Strategist is considered to have one additional Skill Die success when making a Tactics Skill Test. In addition, at any time, a Strategist may spend one Hope Point from the Brains category to replenish two points of FATE. They can choose to grant one of these FATE points to another character should they so wish, but this ability will not allow any character to gain more FATE points than their normal maximum.'},
	"FATED": {resistsk:'Any time a Fated character uses fate in a scene they can, as soon as they catch their breath, roll 1d10. If the result is greater than double their current Fate they gain a point of Fate. If their Fate is 0 they gain a point of fate without requiring a roll. 0x0 is easy to beat on 1d10. Characters with Fated are automatically ‘Known to Skynet’ and so cannot take this Trait. Fated characters are not a standard option, many have a particular drive allowing them to dive into a regular role in quick order.'},
	"All Hope Is Gone": {resistsk:'While Cyborgs may indeed be fated to excel, they do not benefit from Hope. The cyborg increases their Fate by 2 but never accrues nor uses hope at any point. The metaphysical ramifications of living withouthope are for the Director and player to roleplay.'},	 
    };
	getAttrs(['role_ability_1'], values => {
        let name = values.role_ability_1;
        let output = role_ability_1details[name] || '';
       if(output) setAttrs(output);	 
  });
});

on("change:dexteritybase change:dexterityarmour change:dexteritydrugs change:dexterityebb change:initiativedrugs change:initiativearmour change:postrait_1 change:postrait_2 change:postrait_3", function() {
  getAttrs(["dexteritybase","role","concentration","acrobatics","athletics","drivemot","forgery","pistol","rifle","sleight","stealth","dexterityarmour","dexteritydrugs","dexterityebb","initiativedrugs","initiativearmour","userdef","userdefstat","userdef1","userdef1stat","userdef2","userdef2stat","postrait_1", "postrait_2", "postrait_3"], function(values) {
     const roledetails = {
        "Engineer":		{dexteritybase: '0', dexteritymax: '4'},
        "Grunt": 		{dexteritybase: '1', dexteritymax: '5'},
        "Hacker": 		{dexteritybase: '0', dexteritymax: '3'},
        "Historian": 	{dexteritybase: '0', dexteritymax: '3'},
        "Medic": 		{dexteritybase: '0', dexteritymax: '4'},
		"Pilot": 		{dexteritybase: '1', dexteritymax: '4'},
		"Scout": 		{dexteritybase: '2', dexteritymax: '5'},
		"Strategist": 	{dexteritybase: '0', dexteritymax: '4'},
		"Advanced": 	{dexteritybase: '0', dexteritymax: '6'},
		"Fated": 		{dexteritybase: '0', dexteritymax: '5'},
		"NPC": 			{dexteritybase: '0', dexteritymax: '20'},
    };
      var dexteritybase = parseInt(values["dexteritybase"])||0;
      var dexterityarmour = parseInt(values["dexterityarmour"])||0;
      var dexteritydrugs = parseInt(values["dexteritydrugs"])||0;
      var dexterityebb = parseInt(values["dexterityebb"])||0;
      var initiativedrugs = parseInt(values["initiativedrugs"])||0;
      var initiativearmour = parseInt(values["initiativearmour"])||0;
	  var role = values["role"]||"";
	  var postrait_1 = values["postrait_1"]||"";
	  var postrait_2 = values["postrait_2"]||"";
	  var postrait_3 = values["postrait_3"]||"";

      var dexteritymin = parseInt(roledetails[role]["dexteritybase"])||0;
      var dexteritymax = parseInt(roledetails[role]["dexteritymax"])||20;

      if (postrait_1 === "Natural Aptitude DEX" || postrait_2 === "Natural Aptitude DEX" || postrait_3 === "Natural Aptitude DEX") {
        dexteritymax = parseInt(roledetails[role]["dexteritymax"]) + 1;
      }	  
	  	  
	  if (dexteritybase > dexteritymax) { dexteritybase = dexteritymax;}
	  if (dexteritybase < dexteritymin) { dexteritybase = dexteritymin;}
	  
	  var dexterity = dexteritybase + dexterityarmour + dexteritydrugs + dexterityebb;
		
      var concentration = parseInt(values["concentration"])||0;
      var acrobatics = parseInt(values["acrobatics"])||0;
      var athletics = parseInt(values["athletics"])||0;
      var drivemot = parseInt(values["drivemot"])||0;
      var forgery = parseInt(values["forgery"])||0;
      var pistol = parseInt(values["pistol"])||0;
      var rifle = parseInt(values["rifle"])||0;
      var sleight = parseInt(values["sleight"])||0;
      var stealth = parseInt(values["stealth"])||0;
      var acrobaticstotal = acrobatics + dexterity;
      var athleticstotal = athletics + dexterity;
      var drivemottotal = drivemot + dexterity;
      var forgerytotal = forgery + dexterity;
      var pistoltotal = pistol + dexterity;
      var rifletotal = rifle + dexterity;
      var sleighttotal = sleight + dexterity;
      var stealthtotal = stealth + dexterity;
	  var userdef = parseInt(values["userdef"])||0;
	  var userdefstat = parseInt(values["userdefstat"])||0;
	  var userdef1 = parseInt(values["userdef1"])||0;
	  var userdef1stat = parseInt(values["userdef1stat"])||0;
	  var userdef2 = parseInt(values["userdef2"])||0;
	  var userdef2stat = parseInt(values["userdef2stat"])||0;
	  var userdeftotal = userdef + userdefstat;
	  var userdef1total = userdef1 + userdef1stat;
	  var userdef2total = userdef2 + userdef2stat;
	  var initiative = dexterity + concentration + initiativearmour + initiativedrugs;
	        setAttrs({
		"dexterity": dexterity,
		"dexteritybase": dexteritybase,
        "acrobatics_total": acrobaticstotal,
        "athletics_total": athleticstotal,
        "drivemot_total": drivemottotal,
        "forgery_total": forgerytotal,
        "pistol_total": pistoltotal,
        "rifle_total": rifletotal,
        "sleight_total": sleighttotal,
        "stealth_total": stealthtotal,
		"userdef_total": userdeftotal,
		"userdef1_total": userdef1total,
		"userdef2_total": userdef2total,
		"initiative": initiative,
      });
  });
});
on("change:strengthbase change:strengtharmour change:strengthdrugs change:strengthebb change:postrait_1 change:postrait_2 change:postrait_3", function() {
getAttrs(["role","strengthbase","climbing","meleewpn","endurance","shieldcraft","supportwpn","swimming","throwsk","unarmed","strengtharmour","strengthdrugs","strengthebb","userdef","userdefstat","userdef1","userdef1stat","userdef2","userdef2stat", "maxenc","postrait_1", "postrait_2", "postrait_3"], function(values) {
     const roledetails = {
        "Engineer":		{strengthbase: '1', strengthmax: '5', hpbase: '15'},
        "Grunt": 		{strengthbase: '2', strengthmax: '6', hpbase: '15'},
        "Hacker": 		{strengthbase: '0', strengthmax: '3', hpbase: '15'},
        "Historian": 	{strengthbase: '0', strengthmax: '2', hpbase: '15'},
        "Medic": 		{strengthbase: '0', strengthmax: '2', hpbase: '15'},
		"Pilot": 		{strengthbase: '0', strengthmax: '3', hpbase: '15'},
		"Scout": 		{strengthbase: '1', strengthmax: '4', hpbase: '15'},
		"Strategist": 	{strengthbase: '1', strengthmax: '4', hpbase: '15'},
		"Advanced": 	{strengthbase: '0', strengthmax: '6', hpbase: '15'},
		"Fated": 		{strengthbase: '0', strengthmax: '5', hpbase: '15'},
		"NPC": 			{strengthbase: '0', strengthmax: '20', hpbase: '0'},
    };
      var strengthbase = parseInt(values["strengthbase"])||0;
      var strengtharmour = parseInt(values["strengtharmour"])||0;
      var strengthdrugs = parseInt(values["strengthdrugs"])||0;
      var strengthebb = parseInt(values["strengthebb"])||0;
	  var role = values["role"]||"";
      var strengthmin = parseInt(roledetails[role]["strengthbase"])||0;
      var strengthmax = parseInt(roledetails[role]["strengthmax"])||20;
	  var hpbase = parseInt(roledetails[role]["hpbase"])||20;
	  var postrait_1 = values["postrait_1"]||"";
	  var postrait_2 = values["postrait_2"]||"";
	  var postrait_3 = values["postrait_3"]||"";

      if (postrait_1 === "Natural Aptitude STR" || postrait_2 === "Natural Aptitude STR" || postrait_3 === "Natural Aptitude STR") {
        strengthmax = parseInt(roledetails[role]["strengthmax"]) + 1;
      }	  
	  
	  if (strengthbase > strengthmax) { strengthbase = strengthmax;}
	  if (strengthbase < strengthmin) { strengthbase = strengthmin;}
	  
	  var strength = strengthbase + strengtharmour + strengthdrugs + strengthebb;
	  
	  var strengthdam = 0;
	  
	  if (strength == 5) {strengthdam = 1;}
	  if (strength == 6) {strengthdam = 2;}
	  if (strength > 6) {strengthdam = 4;}

      var climbing = parseInt(values["climbing"])||0;
      var meleewpn = parseInt(values["meleewpn"])||0;
      var endurance = parseInt(values["endurance"])||0;
      var shieldcraft = parseInt(values["shieldcraft"])||0;
      var supportwpn = parseInt(values["supportwpn"])||0;
      var swimming = parseInt(values["swimming"])||0;
      var throwsk = parseInt(values["throwsk"])||0;
      var unarmed = parseInt(values["unarmed"])||0;
	  var userdef = parseInt(values["userdef"])||0;
	  var userdefstat = parseInt(values["userdefstat"])||0;
	  var userdef1 = parseInt(values["userdef1"])||0;
	  var userdef1stat = parseInt(values["userdef1stat"])||0;
	  var userdef2 = parseInt(values["userdef2"])||0;
	  var userdef2stat = parseInt(values["userdef2stat"])||0;
      var climbingtotal = climbing + strength;
      var meleewpntotal = meleewpn + strength;
      var endurancetotal = endurance + strength;
	  var maxenctotal = endurance + strength +2;
      var shieldcrafttotal = shieldcraft + strength;
      var supportwpntotal = supportwpn + strength;
      var swimmingtotal = swimming + strength;
      var throwsktotal = throwsk + strength;
      var unarmedtotal = unarmed + strength;
	  var hpStarting = hpbase + strength;
	  var userdeftotal = userdef + userdefstat;
	  var userdef1total = userdef1 + userdef1stat;
	  var userdef2total = userdef2 + userdef2stat;
      setAttrs({ 
	    "strength": strength,
	    "strengthbase": strengthbase,
        "climbing_total": climbingtotal,
        "meleewpn_total": meleewpntotal,
        "endurance_total": endurancetotal,
		"maxenc":maxenctotal,
        "shieldcraft_total": shieldcrafttotal,
        "supportwpn_total": supportwpntotal,
        "swimming_total": swimmingtotal,
        "throwsk_total": throwsktotal,
        "unarmed_total": unarmedtotal,
		"strengthdam": strengthdam,
		"userdef_total": userdeftotal,
		"userdef1_total": userdef1total,
		"userdef2_total": userdef2total,
		"HPStarting": hpStarting,
      });
  });
}); 

on("change:knowledgebase change:knowledgedrugs change:postrait_1 change:postrait_2 change:postrait_3", function() {
  getAttrs(["knowledgebase","role","postrait_1","postrait_2","postrait_3","animal","computer","eduacad","edunat","forensics","langbiya","langgristle","langneo","langshak","langsign","languages","loreSky","loreRes","loresector","medical","optimise","streetwise","knowledgedrugs","userdef","userdefstat","userdef1","userdef1stat","userdef2","userdef2stat"], function(values) {
     const roledetails = {
  		"Engineer":		{knowledgebase: '1', knowledgemax: '4'},
        "Grunt": 		{knowledgebase: '0', knowledgemax: '3'},
        "Hacker": 		{knowledgebase: '2', knowledgemax: '6'},
        "Historian": 	{knowledgebase: '3', knowledgemax: '6'},
        "Medic": 		{knowledgebase: '2', knowledgemax: '6'},
		"Pilot": 		{knowledgebase: '0', knowledgemax: '4'},
		"Scout": 		{knowledgebase: '0', knowledgemax: '4'},
		"Strategist": 	{knowledgebase: '1', knowledgemax: '4'},
		"Advanced": 	{knowledgebase: '0', knowledgemax: '6'},
		"Fated": 		{knowledgebase: '0', knowledgemax: '5'},
		"NPC": 			{knowledgebase: '0', knowledgemax: '20'},
    };
      var knowledgebase = parseInt(values["knowledgebase"])||0;
      var knowledgedrugs = parseInt(values["knowledgedrugs"])||0;
	  var role = values["role"]||"";
	  var postrait_1 = values["postrait_1"]||"";
	  var postrait_2 = values["postrait_2"]||"";
	  var postrait_3 = values["postrait_3"]||"";
      var knowledgemin = parseInt(roledetails[role]["knowledgebase"])||0;
      var knowledgemax = parseInt(roledetails[role]["knowledgemax"])||20;
     
     if (postrait_1 === "Natural Aptitude KNOW" || postrait_2 === "Natural Aptitude KNOW" || postrait_3 === "Natural Aptitude KNOW") {
      knowledgemax = parseInt(roledetails[role]["knowledgemax"]) + 1;;
        }
	  
	  if (knowledgebase > knowledgemax) { knowledgebase = knowledgemax;}
	  if (knowledgebase < knowledgemin) { knowledgebase = knowledgemin;}
	  
	  var knowledge = knowledgebase + knowledgedrugs;

      var animal = parseInt(values["animal"])||0;
      var computer = parseInt(values["computer"])||0;
      var eduacad = parseInt(values["eduacad"])||0;
      var edunat = parseInt(values["edunat"])||0;
      var forensics = parseInt(values["forensics"])||0;
      var langbiya = parseInt(values["langbiya"])||0;
      var langgristle = parseInt(values["langgristle"])||0;
      var langneo = parseInt(values["langneo"])||0;
      var langshak = parseInt(values["langshak"])||0;
      var langsign = parseInt(values["langsign"])||0;
      var languages = parseInt(values["languages"])||0;
      var loreSky = parseInt(values["loreSky"])||0;
      var loreRes = parseInt(values["loreRes"])||0;
      var loresector = parseInt(values["loresector"])||0;
      var medical = parseInt(values["medical"])||0;
      var optimise = parseInt(values["optimise"])||0;
      var streetwise = parseInt(values["streetwise"])||0;
      var animaltotal = animal + knowledge;
      var computertotal = computer + knowledge;
      var eduacadtotal = eduacad + knowledge;
      var edunattotal = edunat + knowledge;
      var forensicstotal = forensics + knowledge;
      var langbiyatotal = langbiya + knowledge;
      var langgristletotal = langgristle + knowledge;
      var langneototal = langneo + knowledge;
      var langshaktotal = langshak + knowledge;
      var langsigntotal = langsign + knowledge;
      var languagestotal = languages + knowledge;
      var loreSkytotal = loreSky + knowledge;
      var loreRestotal = loreRes + knowledge;
      var loresectortotal = loresector + knowledge;
      var medicaltotal = medical + knowledge;
      var optimisetotal = optimise + knowledge;
      var streetwisetotal = streetwise + knowledge;
	  var userdef = parseInt(values["userdef"])||0;
	  var userdefstat = parseInt(values["userdefstat"])||0;
	  var userdef1 = parseInt(values["userdef1"])||0;
	  var userdef1stat = parseInt(values["userdef1stat"])||0;
	  var userdef2 = parseInt(values["userdef2"])||0;
	  var userdef2stat = parseInt(values["userdef2stat"])||0;
	  var userdeftotal = userdef + userdefstat;
	  var userdef1total = userdef1 + userdef1stat;
	  var userdef2total = userdef2 + userdef2stat;
      setAttrs({
			"knowledge": knowledge,
			"knowledgebase": knowledgebase,
			"animal_total": animaltotal,
			"computer_total": computertotal,
			"eduacad_total": eduacadtotal,
			"edunat_total": edunattotal,
			"forensics_total": forensicstotal,
			"langbiya_total": langbiyatotal,
			"langgristle_total": langgristletotal,
			"langneo_total": langneototal,
			"langshak_total": langshaktotal,
			"langsign_total": langsigntotal,
			"languages_total": languagestotal,
			"loreSky_total": loreSkytotal,
			"loreRes_total": loreRestotal,
			"loresector_total": loresectortotal,
			"medical_total": medicaltotal,
			"optimise_total": optimisetotal,
			"streetwise_total":streetwisetotal,
			"userdef_total": userdeftotal,
			"userdef1_total": userdef1total,
			"userdef2_total": userdef2total,
		});
  });
});
on("change:concentrationbase change:concentrationdrugs change:concentrationebb change:initiativedrugs change:initiativearmour change:postrait_1 change:postrait_2 change:postrait_3", function() {

getAttrs(["concentrationbase","dexterity","role","appraisal","demolitions","detect","drivecar","drivemil","drivepil","lockpickman","lockpickelec","readlips","tactics","techelec","techman","techwpn","tracking","awareness","blast","communicate","enhance","heal","protect","realityfold","senses","telekinesis","thermal","concentrationdrugs","concentrationebb","initiativedrugs","initiativearmour","userdef","userdefstat","userdef1","userdef1stat","userdef2","userdef2stat","postrait_1", "postrait_2", "postrait_3"], function(values) {
     const roledetails = {
  		"Engineer":		{concentrationbase: '2', concentrationmax: '5'},
        "Grunt": 		{concentrationbase: '0', concentrationmax: '3'},
        "Hacker": 		{concentrationbase: '2', concentrationmax: '5'},
        "Historian": 	{concentrationbase: '1', concentrationmax: '4'},
        "Medic": 		{concentrationbase: '2', concentrationmax: '5'},
		"Pilot": 		{concentrationbase: '3', concentrationmax: '6'},
		"Scout": 		{concentrationbase: '1', concentrationmax: '5'},
		"Strategist": 	{concentrationbase: '1', concentrationmax: '5'},
		"Advanced": 	{concentrationbase: '0', concentrationmax: '6'},
		"Fated": 		{concentrationbase: '0', concentrationmax: '5'},
		"NPC": 			{concentrationbase: '0', concentrationmax: '20'},
    };
	  var role = values["role"]||"";
      var concentrationbase = parseInt(values["concentrationbase"])||0;
      var concentrationdrugs = parseInt(values["concentrationdrugs"])||0;
      var concentrationebb = parseInt(values["concentrationebb"])||0;
      var initiativedrugs = parseInt(values["initiativedrugs"])||0;
      var initiativearmour = parseInt(values["initiativearmour"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
	  var postrait_1 = values["postrait_1"]||"";
	  var postrait_2 = values["postrait_2"]||"";
	  var postrait_3 = values["postrait_3"]||"";

      var concentrationmin = parseInt(roledetails[role]["concentration"])||0;
      var concentrationmax = parseInt(roledetails[role]["concentrationmax"])||20;

	  if (postrait_1 === "Natural Aptitude CONC" || postrait_2 === "Natural Aptitude CONC" || postrait_3 === "Natural Aptitude CONC") {
        concentrationmax = parseInt(roledetails[role]["concentrationmax"]) + 1;
      }	  
	  
	  if (concentrationbase > concentrationmax) { concentrationbase = concentrationmax;}
	  if (concentrationbase < concentrationmin) { concentrationbase = concentrationmin;}

	  var concentration = concentrationbase + concentrationdrugs + concentrationebb;
	  
      var appraisal = parseInt(values["appraisal"])||0;
      var demolitions = parseInt(values["demolitions"])||0;
      var detect = parseInt(values["detect"])||0;
      var drivecar = parseInt(values["drivecar"])||0;
      var drivemil = parseInt(values["drivemil"])||0;
      var drivepil = parseInt(values["drivepil"])||0;
      var lockpickman = parseInt(values["lockpickman"])||0;
      var lockpickelec = parseInt(values["lockpickelec"])||0;
      var readlips = parseInt(values["readlips"])||0;
      var tactics = parseInt(values["tactics"])||0;
      var techelec = parseInt(values["techelec"])||0;
      var techman = parseInt(values["techman"])||0;
      var techwpn = parseInt(values["techwpn"])||0;
      var tracking = parseInt(values["tracking"])||0;
      var awareness = parseInt(values["awareness"])||0;
      var blast = parseInt(values["blast"])||0;
      var communicate = parseInt(values["communicate"])||0;
      var enhance = parseInt(values["enhance"])||0;
      var heal = parseInt(values["heal"])||0;
      var protect = parseInt(values["protect"])||0;
      var realityfold = parseInt(values["realityfold"])||0;
      var senses = parseInt(values["senses"])||0;
      var telekinesis = parseInt(values["telekinesis"])||0;
      var thermal = parseInt(values["thermal"])||0;
      var appraisaltotal = appraisal + concentration;
      var demolitionstotal = demolitions + concentration;
      var detecttotal = detect + concentration;
      var drivecartotal = drivecar + concentration;
      var drivemiltotal = drivemil + concentration;
      var drivepiltotal = drivepil + concentration;
      var lockpickmantotal = lockpickman + concentration;
      var lockpickelectotal = lockpickelec + concentration;
      var readlipstotal = readlips + concentration;
      var tacticstotal = tactics + concentration;
      var techelectotal = techelec + concentration;
      var techmantotal = techman + concentration;
      var techwpntotal = techwpn + concentration;
      var trackingtotal = tracking + concentration;
	  var initiative = dexterity + concentration + initiativearmour + initiativedrugs;
	  var userdef = parseInt(values["userdef"])||0;
	  var userdefstat = parseInt(values["userdefstat"])||0;
	  var userdef1 = parseInt(values["userdef1"])||0;
	  var userdef1stat = parseInt(values["userdef1stat"])||0;
	  var userdef2 = parseInt(values["userdef2"])||0;
	  var userdef2stat = parseInt(values["userdef2stat"])||0;
	  var userdeftotal = userdef + userdefstat;
	  var userdef1total = userdef1 + userdef1stat;
	  var userdef2total = userdef2 + userdef2stat;
      setAttrs({
		"concentration": concentration,
		"concentrationbase": concentrationbase,
        "appraisal_total": appraisaltotal,
        "demolitions_total": demolitionstotal,
        "detect_total": detecttotal,
        "drivecar_total": drivecartotal,
        "drivemil_total": drivemiltotal,
        "drivepil_total": drivepiltotal,
        "lockpickman_total": lockpickmantotal,
        "lockpickelec_total": lockpickelectotal,
        "readlips_total": readlipstotal,
        "tactics_total": tacticstotal,
        "techelec_total": techelectotal,
        "techman_total": techmantotal,
        "techwpn_total": techwpntotal,
        "tracking_total": trackingtotal,
		"initiative": initiative,
		"userdef_total": userdeftotal,
		"userdef1_total": userdef1total,
		"userdef2_total": userdef2total,
      });
  });
});
on("change:charismabase change:charismadrugs change:charismaebb change:postrait_1 change:postrait_2 change:postrait_3", function() {
  getAttrs(["charismabase","role","diplomacy","haggle","leadership","oratory","persuasion","seduction","charismadrugs","charismaebb","userdef","userdefstat","userdef1","userdef1stat","userdef2","userdef2stat","postrait_1", "postrait_2", "postrait_3"], function(values) {
     const roledetails = {
  		"Engineer":		{charismabase: '0', charismamax: '4'},
        "Grunt": 		{charismabase: '0', charismamax: '4'},
        "Hacker": 		{charismabase: '0', charismamax: '6'},
        "Historian": 	{charismabase: '0', charismamax: '5'},
        "Medic": 		{charismabase: '0', charismamax: '4'},
		"Pilot": 		{charismabase: '0', charismamax: '3'},
		"Scout": 		{charismabase: '0', charismamax: '3'},
		"Strategist": 	{charismabase: '1', charismamax: '4'},
		"Advanced": 	{charismabase: '0', charismamax: '6'},
		"Fated": 		{charismabase: '1', charismamax: '5'},
		"NPC": 			{charismabase: '0', charismamax: '20'},
    };
      var charismabase = parseInt(values["charismabase"])||0;
      var charismadrugs = parseInt(values["charismadrugs"])||0;
      var charismaebb = parseInt(values["charismaebb"])||0;
	  var role = values["role"]||"";
	  var postrait_1 = values["postrait_1"]||"";
	  var postrait_2 = values["postrait_2"]||"";
	  var postrait_3 = values["postrait_3"]||"";

      var charismamin = parseInt(roledetails[role]["charismabase"])||0;
      var charismamax = parseInt(roledetails[role]["charismamax"])||20;

      if (postrait_1 === "Natural Aptitude CHA" || postrait_2 === "Natural Aptitude CHA" || postrait_3 === "Natural Aptitude CHA") {
        charismamax = parseInt(roledetails[role]["charismamax"]) + 1;
      }	  
  	  
	  if (charismabase > charismamax) { charismabase = charismamax;}
	  if (charismabase < charismamin) { charismabase = charismamin;}

	  var charisma = charismabase + charismadrugs + charismaebb;

      var diplomacy = parseInt(values["diplomacy"])||0;
      var haggle = parseInt(values["haggle"])||0;
      var leadership = parseInt(values["leadership"])||0;
      var oratory = parseInt(values["oratory"])||0;
      var persuasion = parseInt(values["persuasion"])||0;
      var seduction = parseInt(values["seduction"])||0;
      var diplomacytotal = diplomacy + charisma;
      var haggletotal = haggle + charisma;
      var leadershiptotal = leadership + charisma;
      var oratorytotal = oratory + charisma;
      var persuasiontotal = persuasion + charisma;
      var seductiontotal = seduction + charisma;
	  var userdef = parseInt(values["userdef"])||0;
	  var userdefstat = parseInt(values["userdefstat"])||0;
	  var userdef1 = parseInt(values["userdef1"])||0;
	  var userdef1stat = parseInt(values["userdef1stat"])||0;
	  var userdef2 = parseInt(values["userdef2"])||0;
	  var userdef2stat = parseInt(values["userdef2stat"])||0;
	  var userdeftotal = userdef + userdefstat;
	  var userdef1total = userdef1 + userdef1stat;
	  var userdef2total = userdef2 + userdef2stat;
      setAttrs({ 
		"charisma": charisma,
		"charismabase": charismabase,
        "diplomacy_total": diplomacytotal,
        "haggle_total": haggletotal,
        "leadership_total": leadershiptotal,
        "oratory_total": oratorytotal,
        "persuasion_total": persuasiontotal,
        "seduction_total": seductiontotal,
		"userdef_total": userdeftotal,
		"userdef1_total": userdef1total,
		"userdef2_total": userdef2total,
      });
  });
});
on("change:coolbase change:cooldrugs change:coolarmour change:postrait_1 change:postrait_2 change:postrait_3", function() {
  getAttrs(["coolbase","role","bribery","gambling","interrogate","intimidate","survival","timesc","cooldrugs","coolarmour","userdef","userdefstat","userdef1","userdef1stat","userdef2","userdef2stat","postrait_1", "postrait_2", "postrait_3"], function(values) {
     const roledetails = {
  		"Engineer":		{coolbase: '1', coolmax: '4', wpbase: '15'},
        "Grunt": 		{coolbase: '2', coolmax: '5', wpbase: '15'},
        "Hacker": 		{coolbase: '1', coolmax: '4', wpbase: '15'},
        "Historian": 	{coolbase: '0', coolmax: '4', wpbase: '15'},
        "Medic": 		{coolbase: '1', coolmax: '4', wpbase: '15'},
		"Pilot": 		{coolbase: '1', coolmax: '5', wpbase: '15'},
		"Scout": 		{coolbase: '1', coolmax: '5', wpbase: '15'},
		"Strategist": 	{coolbase: '1', coolmax: '5', wpbase: '15'},
		"Advanced": 	{coolbase: '0', coolmax: '6', wpbase: '15'},
		"Fated": 		{coolbase: '1', coolmax: '5', wpbase: '15'},
		"NPC": 			{coolbase: '0', coolmax: '20', wpbase: '0'},
    };
      var coolbase = parseInt(values["coolbase"])||0;
      var cooldrugs = parseInt(values["cooldrugs"])||0;
      var coolarmour = parseInt(values["coolarmour"])||0;
	  var role = values["role"]||"";
	  
	  var coolmin = parseInt(roledetails[role]["coolbase"])||0;
      var coolmax = parseInt(roledetails[role]["coolmax"])||20;
	  var wpbase = parseInt(roledetails[role]["wpbase"])||20;
	  var postrait_1 = values["postrait_1"]||"";
	  var postrait_2 = values["postrait_2"]||"";
	  var postrait_3 = values["postrait_3"]||"";

      if (postrait_1 === "Natural Aptitude COOL" || postrait_2 === "Natural Aptitude COOL" || postrait_3 === "Natural Aptitude COOL") {
        coolmax = parseInt(roledetails[role]["coolmax"]) + 1;
      }
	  
	  if (coolbase > coolmax) { coolbase = coolmax;}
	  if (coolbase < coolmin) { coolbase = coolmin;}
	  
	  cool = coolbase + cooldrugs + coolarmour;

      var bribery = parseInt(values["bribery"])||0;
      var gambling = parseInt(values["gambling"])||0;
      var interrogate = parseInt(values["interrogate"])||0;
      var intimidate = parseInt(values["intimidate"])||0;
      var survival = parseInt(values["survival"])||0;
      var timesc = parseInt(values["timesc"])||0;
      var briberytotal = bribery + cool;
      var gamblingtotal = gambling + cool;
      var interrogatetotal = interrogate + cool;
      var intimidatetotal = intimidate + cool;
      var survivaltotal = survival + cool;
      var timesctotal = timesc + cool;
	  var wpstarting = wpbase + cool;
	  var userdef = parseInt(values["userdef"])||0;
	  var userdefstat = parseInt(values["userdefstat"])||0;
	  var userdef1 = parseInt(values["userdef1"])||0;
	  var userdef1stat = parseInt(values["userdef1stat"])||0;
	  var userdef2 = parseInt(values["userdef2"])||0;
	  var userdef2stat = parseInt(values["userdef2stat"])||0;
	  var userdeftotal = userdef + userdefstat;
	  var userdef1total = userdef1 + userdef1stat;
	  var userdef2total = userdef2 + userdef2stat;
      setAttrs({ 
		"cool": cool,
		"coolbase": coolbase,
        "bribery_total": briberytotal,
        "gambling_total": gamblingtotal,
        "interrogate_total": interrogatetotal,
        "intimidate_total": intimidatetotal,
        "survival_total": survivaltotal,
        "timesc_total": timesctotal,
		"userdef_total": userdeftotal,
		"userdef1_total": userdef1total,
		"userdef2_total": userdef2total,
		"WPStarting": wpstarting,
		
      });
  });
});
on("change:FATE change:postrait_1 change:postrait_2 change:postrait_3", function() {
  getAttrs(["FATE","role","protect", "postrait_1", "postrait_2", "postrait_3"], function(values) {
     const roledetails = {
  		"Engineer":		{FATE: '0', FATEmax: '3'},
        "Grunt": 		{FATE: '0', FATEmax: '2'},
        "Hacker": 		{FATE: '0', FATEmax: '4'},
        "Historian": 	{FATE: '1', FATEmax: '5'},
        "Medic": 		{FATE: '0', FATEmax: '4'},
		"Pilot": 		{FATE: '0', FATEmax: '4'},
		"Scout": 		{FATE: '0', FATEmax: '2'},
		"Strategist": 	{FATE: '0', FATEmax: '3'},
		"Advanced": 	{FATE: '0', FATEmax: '6'},
		"Fated": 		{FATE: '3', FATEmax: '5'},
		"NPC": 			{FATE: '0', FATEmax: '20'},
    };
      var FATE = parseInt(values["FATE"])||0;
      var protect = parseInt(values["protect"])||0;
	  var role = values["role"]||"";
	  var postrait_1 = values["postrait_1"]||"";
	  var postrait_2 = values["postrait_2"]||"";
	  var postrait_3 = values["postrait_3"]||"";

      var FATEmin = parseInt(roledetails[role]["FATE"])||0;
      var FATEmax = parseInt(roledetails[role]["FATEmax"])||20;
      
      if (postrait_1 === "Natural Aptitude FATE" || postrait_2 === "Natural Aptitude FATE" || postrait_3 === "Natural Aptitude FATE") {
        FATEmax = parseInt(roledetails[role]["FATEmax"]) + 1;
      }
	  
	  if (protect > 2) {FATEmax = FATEmax + 2;}
	  if (FATE > FATEmax) { FATE = FATEmax;}
	  if (FATE < FATEmin) { FATE = FATEmin;}

      setAttrs({ 
		"FATE": FATE,
      });
  });
});


on("change:dexterity change:strength change:knowledge change:concentration change:charisma change:cool", function() {
getAttrs(["dexterity", "strength", "knowledge", "concentration", "charisma", "cool"], function(values) {

      var dexterity = parseInt(values["dexterity"])||0;
	  var strength = parseInt(values["strength"])||0;
	  var knowledge = parseInt(values["knowledge"])||0;
	  var concentration = parseInt(values["concentration"])||0;
	  var charisma = parseInt(values["charisma"])||0;
	  var cool = parseInt(values["cool"])||0;
 
	  var bodycal = strength + dexterity;
	  var brainscal = knowledge + concentration;
	  var bravadocal = charisma + cool;

		if (bodycal > brainscal &&  bodycal > bravadocal && brainscal > bravadocal) {
		 bodybase = '2';
		 brainsbase ='1';
		 bravadobase = '0';
		 		 }
		else if (bodycal > brainscal &&  bodycal > bravadocal && brainscal < bravadocal) {
		 bodybase = '2';
		 brainsbase ='0';
		 bravadobase = '1';
				}
		else if (brainscal > bodycal &&  brainscal > bravadocal && bodycal > bravadocal) {
		 bodybase = '1';
		 brainsbase ='2';
		 bravadobase = '0';
		 		}
		else if (brainscal > bodycal &&  brainscal > bravadocal && bodycal < bravadocal) {
		 bodybase = '0';
		 brainsbase ='2';
		 bravadobase = '1';
		 		}
		else if (bravadocal > bodycal &&  bravadocal > brainscal && bodycal > brainscal) {
		 bodybase = '1';
		 brainsbase ='0';
		 bravadobase = '2';
		 		}
		else if (bravadocal > bodycal &&  bravadocal > brainscal && bodycal > brainscal) {
		 bodybase = '0';
		 brainsbase ='1';
		 bravadobase = '2';
		 		}
	
 setAttrs({
		"bodybase": bodybase,
		"brainsbase": brainsbase,
		"bravadobase": bravadobase,
      });
  });
});


on("change:acrobatics", function() {
  getAttrs(["acrobatics","dexterity"], function(values) {
      var acrobatics = parseInt(values["acrobatics"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = acrobatics + dexterity;
      setAttrs({
        "acrobatics_total": output,
      });
  });
});
on("change:animal", function() {
  getAttrs(["animal","cool"], function(values) {
      var animal = parseInt(values["animal"])||0;
      var knowledge = parseInt(values["cool"])||0;
      var output = animal + knowledge;
      setAttrs({
        "animal_total": output,
      });
  });
});

on("change:athletics change:move_rushing change:move_closing change:move_rushingarmour change:move_rushingebb change:move_closingarmour change:move_closingebb", function() {
  getAttrs(["athletics","dexterity","role","move_rushing","move_rushingarmour","move_rushingebb","move_closing","move_closingarmour","move_closingebb"], function(values) {
     const roledetails = {
  		"Engineer":		{move_rushing:'5', move_closing:'2'},
        "Grunt": 		{move_rushing:'5', move_closing:'2'},
        "Hacker": 		{move_rushing:'5', move_closing:'2'},
        "Historian": 	{move_rushing:'5', move_closing:'2'},
        "Medic": 		{move_rushing:'5', move_closing:'2'},
		"Pilot": 		{move_rushing:'5', move_closing:'2'},
		"Scout": 		{move_rushing:'5', move_closing:'2'},
		"Strategist": 	{move_rushing:'5', move_closing:'2'},
		"Advanced": 	{move_rushing:'5', move_closing:'2'},
		"Fated": 		{move_rushing:'5', move_closing:'2'},
		"NPC": 			{move_rushing:'5', move_closing:'2'},
    };
	  var role = values["role"]||"";
      var move_rushing = parseInt(values["move_rushing"])||0;
      var move_rushingarmour = parseInt(values["move_rushingarmour"])||0;
      var move_rushingebb = parseInt(values["move_rushingebb"])||0;
      var move_closing = parseInt(values["move_closing"])||0;
      var move_closingarmour = parseInt(values["move_closingarmour"])||0;
      var move_closingebb = parseInt(values["move_closingebb"])||0;
      var sp_rushing = parseInt(roledetails[role]["move_rushing"])||move_rushing;
      var sp_closing = parseInt(roledetails[role]["move_closing"])||move_closing;
      var athletics = parseInt(values["athletics"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
	  var rushingtotal = sp_rushing + Math.floor(athletics/2) + move_rushingarmour + move_rushingebb;
	  var closingtotal = sp_closing + move_closingarmour + move_closingebb;
      var athleticstotal = athletics + dexterity;
	  setAttrs({
        "athletics_total": athleticstotal,
		"move_rushing": rushingtotal,
		"move_closing": closingtotal,
      });
  });
});
on("change:bribery", function() {
  getAttrs(["bribery","cool"], function(values) {
      var bribery = parseInt(values["bribery"])||0;
      var cool = parseInt(values["cool"])||0;
      var output = bribery + cool;
      setAttrs({
        "bribery_total": output,
      });
  });
});
on("change:climbing", function() {
  getAttrs(["climbing","strength"], function(values) {
      var climbing = parseInt(values["climbing"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = climbing + strength;
      setAttrs({
        "climbing_total": output,
      });
  });
});
on("change:computer", function() {
  getAttrs(["computer","knowledge"], function(values) {
      var computer = parseInt(values["computer"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = computer + knowledge;
      setAttrs({
        "computer_total": output,
      });
  });
});
on("change:demolitions", function() {
  getAttrs(["demolitions","concentration"], function(values) {
      var demolitions = parseInt(values["demolitions"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = demolitions + concentration;
      setAttrs({
        "demolitions_total": output,
      });
  });
});
on("change:detect", function() {
  getAttrs(["detect","concentration"], function(values) {
      var detect = parseInt(values["detect"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = detect + concentration;
      setAttrs({
        "detect_total": output,
      });
  });
});
on("change:diplomacy", function() {
  getAttrs(["diplomacy","charisma"], function(values) {
      var diplomacy = parseInt(values["diplomacy"])||0;
      var charisma = parseInt(values["charisma"])||0;
      var output = diplomacy + charisma;
      setAttrs({
        "diplomacy_total": output,
      });
  });
});
on("change:drivecar", function() {
  getAttrs(["drivecar","concentration"], function(values) {
      var drivecar = parseInt(values["drivecar"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = drivecar + concentration;
      setAttrs({
        "drivecar_total": output,
      });
  });
});
on("change:drivemil", function() {
  getAttrs(["drivemil","concentration"], function(values) {
      var drivemil = parseInt(values["drivemil"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = drivemil + concentration;
      setAttrs({
        "drivemil_total": output,
      });
  });
});
on("change:drivepil", function() {
  getAttrs(["drivepil","concentration"], function(values) {
      var drivepil = parseInt(values["drivepil"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = drivepil + concentration;
      setAttrs({
        "drivepil_total": output,
      });
  });
});
on("change:drivemot", function() {
  getAttrs(["drivemot","dexterity"], function(values) {
      var drivemot = parseInt(values["drivemot"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = drivemot + dexterity;
      setAttrs({
        "drivemot_total": output,
      });
  });
});
on("change:eduacad", function() {
  getAttrs(["eduacad","knowledge"], function(values) {
      var eduacad = parseInt(values["eduacad"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = eduacad + knowledge;
      setAttrs({
        "eduacad_total": output,
      });
  });
});
on("change:edunat", function() {
  getAttrs(["edunat","knowledge"], function(values) {
      var edunat = parseInt(values["edunat"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = edunat + knowledge;
      setAttrs({
        "edunat_total": output,
      });
  });
});
on("change:endurance", function() {
  getAttrs(["endurance","strength","maxenc"], function(values) {
      var endurance = parseInt(values["endurance"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = endurance + strength;
      setAttrs({
        "endurance_total": output,
      });
  });
});
on("change:endurance", function() {
  getAttrs(["endurance","strength","maxenc"], function(values) {
      var endurance = parseInt(values["endurance"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = endurance + strength +2;
      setAttrs({
		"maxenc": output,
      });
  });
});
on("change:forensics", function() {
  getAttrs(["forensics","knowledge"], function(values) {
      var forensics = parseInt(values["forensics"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = forensics + knowledge;
      setAttrs({
        "forensics_total": output,
      });
  });
});
on("change:forgery", function() {
  getAttrs(["forgery","dexterity"], function(values) {
      var forgery = parseInt(values["forgery"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = forgery + dexterity;
      setAttrs({
        "forgery_total": output,
      });
  });
});
on("change:gambling", function() {
  getAttrs(["gambling","cool"], function(values) {
      var gambling = parseInt(values["gambling"])||0;
      var cool = parseInt(values["cool"])||0;
      var output = gambling + cool;
      setAttrs({
        "gambling_total": output,
      });
  });
});
on("change:haggle", function() {
  getAttrs(["haggle","charisma"], function(values) {
      var haggle = parseInt(values["haggle"])||0;
      var charisma = parseInt(values["charisma"])||0;
      var output = haggle + charisma;
      setAttrs({
        "haggle_total": output
      });
  });
});
on("change:interrogate", function() {
  getAttrs(["interrogate","cool"], function(values) {
      var interrogate = parseInt(values["interrogate"])||0;
      var cool = parseInt(values["cool"])||0;
      var output = interrogate + cool;
      setAttrs({
        "interrogate_total": output,
      });
  });
});
on("change:intimidate", function() {
  getAttrs(["intimidate","cool"], function(values) {
      var intimidate = parseInt(values["intimidate"])||0;
      var cool = parseInt(values["cool"])||0;
      var output = intimidate + cool;
      setAttrs({
        "intimidate_total": output,
      });
  });
});
on("change:langsign", function() {
  getAttrs(["langsign","knowledge"], function(values) {
      var langsign = parseInt(values["langsign"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = langsign + knowledge;
      setAttrs({
        "langsign_total": output,
      });
  });
});
on("change:languages", function() {
  getAttrs(["languages","knowledge"], function(values) {
      var languages = parseInt(values["languages"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = languages + knowledge;
      setAttrs({
        "languages_total": output,
      });
  });
});
on("change:leadership", function() {
  getAttrs(["leadership","charisma"], function(values) {
      var leadership = parseInt(values["leadership"])||0;
      var charisma = parseInt(values["charisma"])||0;
      var output = leadership + charisma;
      setAttrs({
        "leadership_total": output,
      });
  });
});
on("change:lockpickman", function() {
  getAttrs(["lockpickman","concentration"], function(values) {
      var lockpickman = parseInt(values["lockpickman"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = lockpickman + concentration;
      setAttrs({
        "lockpickman_total": output,
      });
  });
});
on("change:userdef", function() {
  getAttrs(["userdef","userdefstat"], function(values) {
      var userdef = parseInt(values["userdef"])||0;
      var userdefstat = parseInt(values["userdefstat"])||0;
      var output = userdef + userdefstat;
      setAttrs({
        "userdef_total": output,
      });
  });
});

on("change:lockpickelec", function() {
  getAttrs(["lockpickelec","concentration"], function(values) {
      var lockpickelec = parseInt(values["lockpickelec"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = lockpickelec + concentration;
      setAttrs({
        "lockpickelec_total": output,
      });
  });
});
on("change:loreSky", function() {
  getAttrs(["loreSky","knowledge"], function(values) {
      var loreSky = parseInt(values["loreSky"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = loreSky + knowledge;
      setAttrs({
        "loreSky_total": output,
      });
  });
});
on("change:loreRes", function() {
  getAttrs(["loreRes","knowledge"], function(values) {
      var loreRes = parseInt(values["loreRes"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = loreRes + knowledge;
      setAttrs({
        "loreRes_total": output,
      });
  });
});
on("change:medical", function() {
  getAttrs(["medical","knowledge"], function(values) {
      var medical = parseInt(values["medical"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = medical + knowledge;
      setAttrs({
        "medical_total": output,
      });
  });
});
on("change:meleewpn", function() {
  getAttrs(["meleewpn","strength"], function(values) {
      var meleewpn = parseInt(values["meleewpn"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = meleewpn + strength;
      setAttrs({
        "meleewpn_total": output,
      });
  });
});
on("change:oratory", function() {
  getAttrs(["oratory","charisma"], function(values) {
      var oratory = parseInt(values["oratory"])||0;
      var charisma = parseInt(values["charisma"])||0;
      var output = oratory + charisma;
      setAttrs({
        "oratory_total": output,
      });
  });
});
on("change:persuasion", function() {
  getAttrs(["persuasion","charisma"], function(values) {
      var persuasion = parseInt(values["persuasion"])||0;
      var charisma = parseInt(values["charisma"])||0;
      var output = persuasion + charisma;
      setAttrs({
        "persuasion_total": output,
      });
  });
});
on("change:pistol", function() {
  getAttrs(["pistol","dexterity"], function(values) {
      var pistol = parseInt(values["pistol"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = pistol + dexterity;
      setAttrs({
        "pistol_total": output,
      });
  });
});
on("change:polearm", function() {
  getAttrs(["polearm","strength"], function(values) {
      var polearm = parseInt(values["polearm"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = polearm + strength;
      setAttrs({
        "polearm_total": output,
      });
  });
});
on("change:readlips", function() {
  getAttrs(["readlips","concentration"], function(values) {
      var readlips = parseInt(values["readlips"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = readlips + concentration;
      setAttrs({
        "readlips_total": output,
      });
  });
});
on("change:rifle", function() {
  getAttrs(["rifle","dexterity"], function(values) {
      var rifle = parseInt(values["rifle"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = rifle + dexterity;
      setAttrs({
        "rifle_total": output,
      });
  });
});
on("change:seduction", function() {
  getAttrs(["seduction","charisma"], function(values) {
      var seduction = parseInt(values["seduction"])||0;
      var charisma = parseInt(values["charisma"])||0;
      var output = seduction + charisma;
      setAttrs({
        "seduction_total": output,
      });
  });
});
on("change:sleight", function() {
  getAttrs(["sleight","dexterity"], function(values) {
      var sleight = parseInt(values["sleight"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = sleight + dexterity;
      setAttrs({
        "sleight_total": output,
      });
  });
});
on("change:stealth", function() {
  getAttrs(["stealth","dexterity"], function(values) {
      var stealth = parseInt(values["stealth"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = stealth + dexterity;
      setAttrs({
        "stealth_total": output,
      });
  });
});
on("change:streetwise", function() {
  getAttrs(["streetwise","knowledge"], function(values) {
      var streetwise = parseInt(values["streetwise"])||0;
      var knowledge = parseInt(values["knowledge"])||0;
      var output = streetwise + knowledge;
      setAttrs({
        "streetwise_total": output,
      });
  });
});
on("change:supportwpn", function() {
  getAttrs(["supportwpn","strength"], function(values) {
      var supportwpn = parseInt(values["supportwpn"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = supportwpn + strength;
      setAttrs({
        "supportwpn_total": output,
      });
  });
});
on("change:survival", function() {
  getAttrs(["survival","cool"], function(values) {
      var survival = parseInt(values["survival"])||0;
      var cool = parseInt(values["cool"])||0;
      var output = survival + cool;
      setAttrs({
        "survival_total": output,
      });
  });
});
on("change:swimming", function() {
  getAttrs(["swimming","dexterity"], function(values) {
      var swimming = parseInt(values["swimming"])||0;
      var dexterity = parseInt(values["dexterity"])||0;
      var output = swimming + dexterity;
      setAttrs({
        "swimming_total": output,
      });
  });
});
on("change:tactics", function() {
  getAttrs(["tactics","concentration"], function(values) {
      var tactics = parseInt(values["tactics"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = tactics + concentration;
      setAttrs({
        "tactics_total": output,
      });
  });
});
on("change:techelec", function() {
  getAttrs(["techelec","concentration"], function(values) {
      var techelec = parseInt(values["techelec"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = techelec + concentration;
      setAttrs({
        "techelec_total": output,
      });
  });
});
on("change:techman", function() {
  getAttrs(["techman","concentration"], function(values) {
      var techman = parseInt(values["techman"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = techman + concentration;
      setAttrs({
        "techman_total": output,
      });
  });
});
on("change:techwpn", function() {
  getAttrs(["techwpn","concentration"], function(values) {
      var techwpn = parseInt(values["techwpn"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = techwpn + concentration;
      setAttrs({
        "techwpn_total": output,
      });
  });
});
on("change:throwsk", function() {
  getAttrs(["throwsk","strength"], function(values) {
      var throwsk = parseInt(values["throwsk"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = throwsk + strength;
      setAttrs({
        "throwsk_total": output,
      });
  });
});
on("change:timesc", function() {
  getAttrs(["timesc","cool"], function(values) {
      var timesc = parseInt(values["timesc"])||0;
      var cool = parseInt(values["cool"])||0;
      var output = timesc + cool;
      setAttrs({
        "timesc_total": output,
      });
  });
});
on("change:tracking", function() {
  getAttrs(["tracking","concentration"], function(values) {
      var tracking = parseInt(values["tracking"])||0;
      var concentration = parseInt(values["concentration"])||0;
      var output = tracking + concentration;
      setAttrs({
        "tracking_total": output,
      });
  });
});
on("change:unarmed", function() {
  getAttrs(["unarmed","strength"], function(values) {
      var unarmedcombat = parseInt(values["unarmed"])||0;
      var strength = parseInt(values["strength"])||0;
      var output = unarmedcombat + strength;
      setAttrs({
        "unarmed_total": output,
      });
  });
});


on("change:userdef1", function() {
  getAttrs(["userdef1","userdef1stat"], function(values) {
      var userdef1 = parseInt(values["userdef1"])||0;
      var userdef1stat = parseInt(values["userdef1stat"])||0;
      var output = userdef1 + userdef1stat;
      setAttrs({
        "userdef1_total": output,
      });
  });
});
on("change:userdef2", function() {
  getAttrs(["userdef2","userdef2stat"], function(values) {
      var userdef2 = parseInt(values["userdef2"])||0;
      var userdef2stat = parseInt(values["@userdef2stat"])||0;
      var output = userdef2 + userdef2stat;
      setAttrs({
        "userdef2_total": output,
      });
  });
});



on('change:armour_1', event => {
     const armourdetails = {
		"Biohazard Suit":					{armour_pv_1:'1',	armour_resistance_1:'6',	armour_enc_1:'1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Gas Mask":							{armour_pv_1:'0',	armour_resistance_1:'0',	armour_enc_1:'0', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"NBC Warfare Suit":						{armour_pv_1:'2',	armour_resistance_1:'10',	armour_enc_1:'3', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Radiation Suit":						{armour_pv_1:'1',	armour_resistance_1:'6',	armour_enc_1:'1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Light Protection":						{armour_pv_1:'1',	armour_resistance_1:'6',	armour_enc_1:'1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Covert Armour":						{armour_pv_1:'1',	armour_resistance_1:'8',	armour_enc_1:'2', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Bulletproof Vest":						{armour_pv_1:'2',	armour_resistance_1:'8',	armour_enc_1:'2', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Paramilitary Protection":					{armour_pv_1:'2',	armour_resistance_1:'10',	armour_enc_1:'2', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Heavy Duty Protection":						{armour_pv_1:'4',	armour_resistance_1:'12',	armour_enc_1:'3', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Reinforcement Plates":					{armour_pv_1:'+2',	armour_resistance_1:'+2',	armour_enc_1:'+1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Advanced Composites":					{armour_pv_1:'+2',	armour_resistance_1:'+1',	armour_enc_1:'+0', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Helmet":			{armour_pv_1:'+1',	armour_resistance_1:'+0',	armour_enc_1:'+1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Reflective Coating":					{armour_pv_1:'+1',	armour_resistance_1:'+0',	armour_enc_1:'+0', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
	}
    getAttrs(['armour_1'], values => {
        let name = values.armour_1;
        let output = armourdetails[name] || '';
        if(output) setAttrs(output);
    });
});

on('change:armour_2', event => {
     const armourdetails = {
		"Biohazard Suit":					{armour_pv_1:'1',	armour_resistance_1:'6',	armour_enc_1:'1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Gas Mask":							{armour_pv_1:'0',	armour_resistance_1:'0',	armour_enc_1:'0', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"NBC Warfare Suit":						{armour_pv_1:'2',	armour_resistance_1:'10',	armour_enc_1:'3', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Radiation Suit":						{armour_pv_1:'1',	armour_resistance_1:'6',	armour_enc_1:'1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Light Protection":						{armour_pv_1:'1',	armour_resistance_1:'6',	armour_enc_1:'1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Covert Armour":						{armour_pv_1:'1',	armour_resistance_1:'8',	armour_enc_1:'2', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Bulletproof Vest":						{armour_pv_1:'2',	armour_resistance_1:'8',	armour_enc_1:'2', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Paramilitary Protection":					{armour_pv_1:'2',	armour_resistance_1:'10',	armour_enc_1:'2', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Heavy Duty Protection":						{armour_pv_1:'4',	armour_resistance_1:'12',	armour_enc_1:'3', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Reinforcement Plates":					{armour_pv_1:'+2',	armour_resistance_1:'+2',	armour_enc_1:'+1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Advanced Composites":					{armour_pv_1:'+2',	armour_resistance_1:'+1',	armour_enc_1:'+0', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Helmet":			{armour_pv_1:'+1',	armour_resistance_1:'+0',	armour_enc_1:'+1', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
		"Reflective Coating":					{armour_pv_1:'+1',	armour_resistance_1:'+0',	armour_enc_1:'+0', dexterityarmour: '0', strengtharmour: '0', move_rushing_armour: '0', move_closing_armour: '0', initiativearmour: '0', coolarmour: '0'},
	}
    getAttrs(['armour_2'], values => {
        let name = values.armour_2;
        let output = armourdetails[name] || '';
        if(output) setAttrs(output);
    });
});

on("change:armour_pv_1 change:armour_pv_2 change:armour_damage_1 change:armour_damage_2", function() {
  getAttrs(["armour_pv_1","armour_pv_2","armour_1","armour_2","armour_damage_1","armour_damage_2","armour_resistance_1","armour_resistance_2"], function(values) {
      var armourpv1 = parseInt(values["armour_pv_1"])||0;
      var armourpv2 = parseInt(values["armour_pv_2"])||0;
      var armourdamage1 = parseInt(values["armour_damage_1"])||0;
      var armourdamage2 = parseInt(values["armour_damage_2"])||0;
      var armourresistance1 = parseInt(values["armour_resistance_1"])||0;
      var armourresistance2 = parseInt(values["armour_resistance_2"])||0;
	  var armour1 = values["armour_1"];
	  var armour2 = values["armour_2"];
	  
	  var currentpv1 = (armourdamage1 >= armourresistance1) ? 0 : (armourdamage1 >= Math.floor(armourresistance1/2)) ? Math.floor(armourpv1/2) : armourpv1;
	  var currentpv2 = (armourdamage2 >= armourresistance2) ? 0 : (armourdamage2 >= Math.floor(armourresistance2/2)) ? Math.floor(armourpv2/2) : armourpv2;
	  
      var armourpvtotal = currentpv1 + currentpv2;
	  var armour = armour1 + " " + armour2;
      setAttrs({
        "armour_pv_total": armourpvtotal,
		"armour": armour,
		"armour_currpv_1": currentpv1,
		"armour_currpv_2": currentpv2,
      });
  });
});

on('change:rangedweapon_1', event => {
     const rangeddetails = {
"A Heavyish Rock":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwsk/2m', rangedweapon_damage_1:'1d10-5', rangedweapon_mindamage_1:'1',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Combat Knife":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwsk/2m', rangedweapon_damage_1:'1d10-3', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Tomahawk":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwsk/2m', rangedweapon_damage_1:'1d10-3', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Hunting Knife":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwsk/2m', rangedweapon_damage_1:'1d10-3', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Spear":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwskm', rangedweapon_damage_1:'1d10-3', rangedweapon_mindamage_1:'0',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Shuriken":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwskm', rangedweapon_damage_1:'1d10-6', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'3',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Throwing Knife":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwskm', rangedweapon_damage_1:'1d10-6', rangedweapon_mindamage_1:'1',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'3',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Chakram":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwskm', rangedweapon_damage_1:'1d10-2', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Plumbata":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwskm', rangedweapon_damage_1:'1d10-2', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Dart":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'throwskm', rangedweapon_damage_1:'1d10-6', rangedweapon_mindamage_1:'1',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'3',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'0', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Pre-20th Century Pistol":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'40m', rangedweapon_damage_1:'1d10-3', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'1', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Light Pistol":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'60m', rangedweapon_damage_1:'1d10-2', rangedweapon_mindamage_1:'3',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'3',  rangedweapon_recoil_1:'1', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'12', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Heavy Pistol":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'50m', rangedweapon_damage_1:'1d10+1', rangedweapon_mindamage_1:'4',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'1', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'8', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Light SMG":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'60m', rangedweapon_damage_1:'1d10-2', rangedweapon_mindamage_1:'3',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'3',  rangedweapon_recoil_1:'1', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'32', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Heavy SMG ":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'80m', rangedweapon_damage_1:'1d10+1', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'2', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'32', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Carbine":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'400m', rangedweapon_damage_1:'1d10+1', rangedweapon_mindamage_1:'4',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'2', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'30', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"Assault Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'500m', rangedweapon_damage_1:'1d10+3', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'2', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'30', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"Hunting Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'800m', rangedweapon_damage_1:'1d10+3', rangedweapon_mindamage_1:'5',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'5', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"Sniper Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'1400m', rangedweapon_damage_1:'1d10+6', rangedweapon_mindamage_1:'7',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'1', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'30', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"Shotgun":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'100m', rangedweapon_damage_1:'1d10+2', rangedweapon_mindamage_1:'5',   rangedweapon_armourdamage_1:'4', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'1', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'5', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"Anti-Material Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'1400m', rangedweapon_damage_1:'2d10+5', rangedweapon_mindamage_1:'10',   rangedweapon_armourdamage_1:'4', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'2', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'5', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"FlameThrower":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'15m', rangedweapon_damage_1:'2d10', rangedweapon_mindamage_1:'8',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'6', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"Grenade Launcher":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'200m', rangedweapon_damage_1:'', rangedweapon_mindamage_1:'',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'2', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'4', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Light Machine Gun":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'500m', rangedweapon_damage_1:'1d10+4', rangedweapon_mindamage_1:'6',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0.5', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'50', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
"Heavy Machine Gun":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'600m', rangedweapon_damage_1:'2d10-3', rangedweapon_mindamage_1:'8',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'4', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'200', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"Portable Rocket or Torpedo":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'m', rangedweapon_damage_1:'', rangedweapon_mindamage_1:'',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Rocket',  rangedweapon_clip_1:'1', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
"Anti-Personnel Rocket":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'1000m', rangedweapon_damage_1:'3d10+6', rangedweapon_mindamage_1:'10',   rangedweapon_armourdamage_1:'4', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'12mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Anti-Tank Rocket":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'1000m', rangedweapon_damage_1:'3d10+6', rangedweapon_mindamage_1:'10',   rangedweapon_armourdamage_1:'10', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'10mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Ground to Air Missile":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'10000m', rangedweapon_damage_1:'3d10+6', rangedweapon_mindamage_1:'10',   rangedweapon_armourdamage_1:'10', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'8mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"A130 Magnetic Protocol Mine":   {rangedweapon_skill_1:  'Detect', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+4', rangedweapon_mindamage_1:'5',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'12mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Anti-Personnel Mine":   {rangedweapon_skill_1:  'demolitions', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+4', rangedweapon_mindamage_1:'6',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'10mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Dynamite":   {rangedweapon_skill_1:  'demolitions', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+1', rangedweapon_mindamage_1:'4',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'6mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Flashbang":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10-5', rangedweapon_mindamage_1:'1',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'6mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Frag Grenade":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+4', rangedweapon_mindamage_1:'5',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'10mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Molotov Cocktail":   {rangedweapon_skill_1:  'throwsk', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+1', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'3mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Plasma Charge":   {rangedweapon_skill_1:  'demolitions', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+8', rangedweapon_mindamage_1:'7',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'1mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Satchel Charge":   {rangedweapon_skill_1:  'demolitions', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+6', rangedweapon_mindamage_1:'7',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'8mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"Shaped Charge":   {rangedweapon_skill_1:  'demolitions', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10+5', rangedweapon_mindamage_1:'5',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'1mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Smoke Grenade":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'m', rangedweapon_damage_1:'', rangedweapon_mindamage_1:'',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'12mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Tactical Warhead":   {rangedweapon_skill_1:  'demolitions', rangedweapon_range_1:'m', rangedweapon_damage_1:'4d10', rangedweapon_mindamage_1:'20',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'30mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Terminator Power Cell":   {rangedweapon_skill_1:  'demolitions', rangedweapon_range_1:'m', rangedweapon_damage_1:'2d10+4', rangedweapon_mindamage_1:'7',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'10mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Jury-rigged Plasma Pistol":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'45m', rangedweapon_damage_1:'1d10+4', rangedweapon_mindamage_1:'5',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'3',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'15', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"Jury-rigged Plasma Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'250m', rangedweapon_damage_1:'2d10-2', rangedweapon_mindamage_1:'7',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'3',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'30', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
"M-14 Plasma Pistol":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'90m', rangedweapon_damage_1:'1d10+3', rangedweapon_mindamage_1:'5',   rangedweapon_armourdamage_1:'2', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'30', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"M-25 Phased Plasma Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'150m', rangedweapon_damage_1:'2d10-4', rangedweapon_mindamage_1:'8',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'60', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'2'},
"M-20 Phased Plasma Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'600m', rangedweapon_damage_1:'2d10', rangedweapon_mindamage_1:'8',   rangedweapon_armourdamage_1:'4', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'100', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
"P-30: Plasma Mode":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'150m', rangedweapon_damage_1:'2d10-2', rangedweapon_mindamage_1:'7',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'60', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"P-30: Laser Mode":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'500m', rangedweapon_damage_1:'1d10', rangedweapon_mindamage_1:'4',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'60', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"H-31 Plasma Repeater":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'300m', rangedweapon_damage_1:'2d10+2', rangedweapon_mindamage_1:'8',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'250', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"H-23 Heavy Plasma Repeater":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'300m', rangedweapon_damage_1:'2d10+6', rangedweapon_mindamage_1:'10',   rangedweapon_armourdamage_1:'4', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'150', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'5'},
"P-80 Light Plasma Cannon":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'700m', rangedweapon_damage_1:'2d10+2', rangedweapon_mindamage_1:'6',   rangedweapon_armourdamage_1:'5', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'150', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"P-40 Heavy Plasma Cannon":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'1000m', rangedweapon_damage_1:'2d10+6', rangedweapon_mindamage_1:'8',   rangedweapon_armourdamage_1:'5', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'150', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'6'},
"L-3 Laser Rifle":   {rangedweapon_skill_1:  'rifle', rangedweapon_range_1:'500m', rangedweapon_damage_1:'1d10', rangedweapon_mindamage_1:'4',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'100', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
"Blinding Laser":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'250m', rangedweapon_damage_1:'1d10-5', rangedweapon_mindamage_1:'1',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'100', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
"L-7 Laser Cannon":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'1500m', rangedweapon_damage_1:'2d10', rangedweapon_mindamage_1:'4',   rangedweapon_armourdamage_1:'3', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'100', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"L-7P laser Pulse Cannon":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'1000m', rangedweapon_damage_1:'2d10', rangedweapon_mindamage_1:'4',   rangedweapon_armourdamage_1:'5', rangedweapon_rof_1:'10',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'50', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"Z-6 Portable Denial System":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'100m', rangedweapon_damage_1:'1d10-5', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'25', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"Z-7 Area Denial System":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'1000m', rangedweapon_damage_1:'1d10+1', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'100', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'8'},
"P2 Particle Beam Weapons":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'m', rangedweapon_damage_1:'4d10', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'1', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'20', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'10'},
"Screamer":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'50m', rangedweapon_damage_1:'1d10-5', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'100', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"Hypersonic Emitter":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10-8', rangedweapon_mindamage_1:'1',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'', rangedweapon_ammo_1:'50mBlast',  rangedweapon_clip_1:'', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Stun Gun":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'10m', rangedweapon_damage_1:'1d10+1', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'15', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'1'},
"Electomagnetic Pulse":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'100m', rangedweapon_damage_1:'1d10-2', rangedweapon_mindamage_1:'2',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'10', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'4'},
"XF23-EES Shield":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'m', rangedweapon_damage_1:'1d10-1', rangedweapon_mindamage_1:'3',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'',  rangedweapon_recoil_1:'', rangedweapon_ammo_1:'5mBlast',  rangedweapon_clip_1:'10', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'8'},
"Doser":   {rangedweapon_skill_1:  'pistol', rangedweapon_range_1:'2m', rangedweapon_damage_1:'', rangedweapon_mindamage_1:'',   rangedweapon_armourdamage_1:'', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'25', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'0'},
"Duster":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'20m', rangedweapon_damage_1:'', rangedweapon_mindamage_1:'0',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'10', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
"Water Cannon":   {rangedweapon_skill_1:  'supportwpn', rangedweapon_range_1:'20m', rangedweapon_damage_1:'1d10-5', rangedweapon_mindamage_1:'0',   rangedweapon_armourdamage_1:'0', rangedweapon_rof_1:'1',  rangedweapon_recoil_1:'0', rangedweapon_ammo_1:'Standard',  rangedweapon_clip_1:'100', rangedweapon_clipused_1:'0',   rangedweapon_enc_1:'3'},
	}
    getAttrs(['rangedweapon_1'], values => {
        let name = values.rangedweapon_1;
        let output = rangeddetails[name] || '';
        if(output) setAttrs(output);
    });
}); 
on("change:rangedweapon_1 change:rangedweapon_rof_1 change:rangedweapon_recoil_1", function() {
  getAttrs(["rangedweapon_1","rangedweapon_rof_1","rangedweapon_recoil_1"], function(values) {
     const rofdetails = {
"A Heavyish Rock":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Combat Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tomahawk":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Spear":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shuriken":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Throwing Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Chakram":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plumbata":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dart":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Pre-20th Century Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light SMG":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy SMG ":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Carbine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Assault Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Sniper Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shotgun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Material Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"FlameThrower":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Grenade Launcher":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Portable Rocket or Torpedo":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Tank Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Ground to Air Missile":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"A130 Magnetic Protocol Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dynamite":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Flashbang":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Frag Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Molotov Cocktail":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plasma Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Satchel Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shaped Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Smoke Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tactical Warhead":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Terminator Power Cell":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-14 Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-25 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-20 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Plasma Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Laser Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-31 Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-23 Heavy Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-80 Light Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-40 Heavy Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-3 Laser Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Blinding Laser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7 Laser Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7P laser Pulse Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-6 Portable Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-7 Area Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P2 Particle Beam Weapons":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Screamer":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hypersonic Emitter":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Stun Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Electomagnetic Pulse":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"XF23-EES Shield":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Doser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Duster":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Water Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_1"]||"";
      var setweaponname = values["rangedweapon_1"]||"";
      var setweaponrof = values["rangedweapon_rof_1"]||"";

	  if (setweaponrof == "1") {
		setweaponrecoil = rofdetails[setweaponname]["rec1"];
		setweaponrof = rofdetails[setweaponname]["rof1"];
		} 
	  else if (setweaponrof == "3") {
		setweaponrecoil = rofdetails[setweaponname]["rec3"];
		setweaponrof = rofdetails[setweaponname]["rof3"];
		}
	  else if (setweaponrof == "10") {
		setweaponrecoil = rofdetails[setweaponname]["rec10"];
		setweaponrof = rofdetails[setweaponname]["rof10"];
		}
	  else if (setweaponrof == "SUP(25)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup25"];
		setweaponrof = rofdetails[setweaponname]["rofsup25"];
		}
	  else if (setweaponrof == "SUP(40)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup40"];
		setweaponrof = rofdetails[setweaponname]["rofsup40"];
		}
	  else if (setweaponrof == "SUP(50)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup50"];
		setweaponrof = rofdetails[setweaponname]["rofsup50"];
		}
	  else if (setweaponrof == "SUP(100)") {
		setweaponrecoil = rofdetails[setweaponname]["rec100"];
		setweaponrof = rofdetails[setweaponname]["rofsup100"];
		};

      setAttrs({
		"rangedweapon_rof_1": setweaponrof,
		"rangedweapon_recoil_1": setweaponrecoil,
      });
  });
});

on("change:rangedweapon_1 change:rangedweapon_skill_1 change:rangedweapon_damage_1 change:rangedweapon_mindamage_1 change:rangedweapon_armourdamage_1 change:rangedweapon_rof_1 change:rangedweapon_recoil_1 change:rangedweapon_ammo_1", function() {
  getAttrs(["rangedweapon_1","rangedweapon_skill_1","rangedweapon_damage_1","rangedweapon_mindamage_1","rangedweapon_armourdamage_1","rangedweapon_rof_1","rangedweapon_recoil_1","rangedweapon_ammo_1"], function(values) {
     const ammodetails = {
		"Standard":	{dammod: '0',	admod: '0',	ammonotes: ''},
		"Rocket":	{dammod: '0',	admod: '0',	ammonotes: 'This is a Rocket Launcher'},
		"1mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 1 meter blast radius'},
		"5mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 5 meter blast radius'},
		"6mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 6 meter blast radius'},
		"8mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 8 meter blast radius'},
		"10mBlast":	{dammod: '0',	admod: '0',ammonotes: 'Damage affects 10 meter blast radius'},
		"12mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 12 meter blast radius'},
		"30mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 30 meter blast radius'},
		"50mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 50 meter blast radius'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_1"]||"";
      var setweaponrof = values["rangedweapon_rof_1"]||"";
      var setweaponname = values["rangedweapon_1"]||"";
      var setweaponskill = values["rangedweapon_skill_1"]||"";
      var setweaponammo = values["rangedweapon_ammo_1"]||"";

	  var setammodamage = ammodetails[setweaponammo]["dammod"];
	  var setammoad = ammodetails[setweaponammo]["admod"];
	  var setammonotes = ammodetails[setweaponammo]["ammonotes"];
	  var setrofbonusdamage = "0";
	  if (setweaponrof == "1") {
		setrofbonusdamage = "0";
		} 
	  else if (setweaponrof == "3") {
		setrofbonusdamage = "2";
		}
	  else if (setweaponrof == "10") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(25)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(40)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(50)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(100)") {
		setrofbonusdamage = "4";
		};

      var setweapondmg = values["rangedweapon_damage_1"]+"+"+setrofbonusdamage+"+"+setammodamage||"";
      var setweaponmindmg = values["rangedweapon_mindamage_1"]+"+"+setrofbonusdamage+"+"+setammodamage||"0";
      var setweaponad = values["rangedweapon_armourdamage_1"]+"+"+setammoad||"0";
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}-"+setweaponrecoil+"}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}{{weaponnotes="+setammonotes+"}}";
      setAttrs({
		"rangedweapon_roll_1": setweaponroll,
      });
  });
});

on('change:rangedweapon_2', event => {
     const rangeddetails = {
"A Heavyish Rock":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwsk/2m', rangedweapon_damage_2:'1d10-5', rangedweapon_mindamage_2:'1',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Combat Knife":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwsk/2m', rangedweapon_damage_2:'1d10-3', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Tomahawk":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwsk/2m', rangedweapon_damage_2:'1d10-3', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Hunting Knife":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwsk/2m', rangedweapon_damage_2:'1d10-3', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Spear":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwskm', rangedweapon_damage_2:'1d10-3', rangedweapon_mindamage_2:'0',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Shuriken":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwskm', rangedweapon_damage_2:'1d10-6', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'3',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Throwing Knife":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwskm', rangedweapon_damage_2:'1d10-6', rangedweapon_mindamage_2:'1',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'3',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Chakram":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwskm', rangedweapon_damage_2:'1d10-2', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Plumbata":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwskm', rangedweapon_damage_2:'1d10-2', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Dart":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'throwskm', rangedweapon_damage_2:'1d10-6', rangedweapon_mindamage_2:'1',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'3',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'0', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Pre-20th Century Pistol":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'40m', rangedweapon_damage_2:'1d10-3', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'1', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Light Pistol":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'60m', rangedweapon_damage_2:'1d10-2', rangedweapon_mindamage_2:'3',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'3',  rangedweapon_recoil_2:'1', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'12', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Heavy Pistol":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'50m', rangedweapon_damage_2:'1d10+1', rangedweapon_mindamage_2:'4',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'1', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'8', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Light SMG":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'60m', rangedweapon_damage_2:'1d10-2', rangedweapon_mindamage_2:'3',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'3',  rangedweapon_recoil_2:'1', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'32', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Heavy SMG ":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'80m', rangedweapon_damage_2:'1d10+1', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'2', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'32', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Carbine":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'400m', rangedweapon_damage_2:'1d10+1', rangedweapon_mindamage_2:'4',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'2', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'30', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"Assault Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'500m', rangedweapon_damage_2:'1d10+3', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'2', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'30', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"Hunting Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'800m', rangedweapon_damage_2:'1d10+3', rangedweapon_mindamage_2:'5',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'5', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"Sniper Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'1400m', rangedweapon_damage_2:'1d10+6', rangedweapon_mindamage_2:'7',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'1', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'30', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"Shotgun":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'100m', rangedweapon_damage_2:'1d10+2', rangedweapon_mindamage_2:'5',   rangedweapon_armourdamage_2:'4', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'1', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'5', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"Anti-Material Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'1400m', rangedweapon_damage_2:'2d10+5', rangedweapon_mindamage_2:'10',   rangedweapon_armourdamage_2:'4', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'2', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'5', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"FlameThrower":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'15m', rangedweapon_damage_2:'2d10', rangedweapon_mindamage_2:'8',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'6', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"Grenade Launcher":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'200m', rangedweapon_damage_2:'', rangedweapon_mindamage_2:'',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'2', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'4', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Light Machine Gun":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'500m', rangedweapon_damage_2:'1d10+4', rangedweapon_mindamage_2:'6',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0.5', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'50', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},
"Heavy Machine Gun":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'600m', rangedweapon_damage_2:'2d10-3', rangedweapon_mindamage_2:'8',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'4', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'200', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"Portable Rocket or Torpedo":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'m', rangedweapon_damage_2:'', rangedweapon_mindamage_2:'',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Rocket',  rangedweapon_clip_2:'1', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},
"Anti-Personnel Rocket":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'1000m', rangedweapon_damage_2:'3d10+6', rangedweapon_mindamage_2:'10',   rangedweapon_armourdamage_2:'4', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'12mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Anti-Tank Rocket":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'1000m', rangedweapon_damage_2:'3d10+6', rangedweapon_mindamage_2:'10',   rangedweapon_armourdamage_2:'10', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'10mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Ground to Air Missile":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'10000m', rangedweapon_damage_2:'3d10+6', rangedweapon_mindamage_2:'10',   rangedweapon_armourdamage_2:'10', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'8mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"A130 Magnetic Protocol Mine":   {rangedweapon_skill_2:  'Detect', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+4', rangedweapon_mindamage_2:'5',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'12mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Anti-Personnel Mine":   {rangedweapon_skill_2:  'demolitions', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+4', rangedweapon_mindamage_2:'6',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'10mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Dynamite":   {rangedweapon_skill_2:  'demolitions', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+1', rangedweapon_mindamage_2:'4',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'6mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Flashbang":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10-5', rangedweapon_mindamage_2:'1',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'6mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Frag Grenade":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+4', rangedweapon_mindamage_2:'5',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'10mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Molotov Cocktail":   {rangedweapon_skill_2:  'throwsk', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+1', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'3mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Plasma Charge":   {rangedweapon_skill_2:  'demolitions', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+8', rangedweapon_mindamage_2:'7',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'1mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Satchel Charge":   {rangedweapon_skill_2:  'demolitions', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+6', rangedweapon_mindamage_2:'7',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'8mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"Shaped Charge":   {rangedweapon_skill_2:  'demolitions', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10+5', rangedweapon_mindamage_2:'5',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'1mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Smoke Grenade":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'m', rangedweapon_damage_2:'', rangedweapon_mindamage_2:'',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'12mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Tactical Warhead":   {rangedweapon_skill_2:  'demolitions', rangedweapon_range_2:'m', rangedweapon_damage_2:'4d10', rangedweapon_mindamage_2:'20',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'30mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Terminator Power Cell":   {rangedweapon_skill_2:  'demolitions', rangedweapon_range_2:'m', rangedweapon_damage_2:'2d10+4', rangedweapon_mindamage_2:'7',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'10mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Jury-rigged Plasma Pistol":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'45m', rangedweapon_damage_2:'1d10+4', rangedweapon_mindamage_2:'5',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'3',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'15', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"Jury-rigged Plasma Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'250m', rangedweapon_damage_2:'2d10-2', rangedweapon_mindamage_2:'7',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'3',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'30', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},
"M-14 Plasma Pistol":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'90m', rangedweapon_damage_2:'1d10+3', rangedweapon_mindamage_2:'5',   rangedweapon_armourdamage_2:'2', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'30', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"M-25 Phased Plasma Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'150m', rangedweapon_damage_2:'2d10-4', rangedweapon_mindamage_2:'8',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'60', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'2'},
"M-20 Phased Plasma Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'600m', rangedweapon_damage_2:'2d10', rangedweapon_mindamage_2:'8',   rangedweapon_armourdamage_2:'4', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'100', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},
"P-30: Plasma Mode":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'150m', rangedweapon_damage_2:'2d10-2', rangedweapon_mindamage_2:'7',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'60', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"P-30: Laser Mode":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'500m', rangedweapon_damage_2:'1d10', rangedweapon_mindamage_2:'4',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'60', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"H-31 Plasma Repeater":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'300m', rangedweapon_damage_2:'2d10+2', rangedweapon_mindamage_2:'8',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'250', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"H-23 Heavy Plasma Repeater":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'300m', rangedweapon_damage_2:'2d10+6', rangedweapon_mindamage_2:'10',   rangedweapon_armourdamage_2:'4', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'150', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'5'},
"P-80 Light Plasma Cannon":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'700m', rangedweapon_damage_2:'2d10+2', rangedweapon_mindamage_2:'6',   rangedweapon_armourdamage_2:'5', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'150', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"P-40 Heavy Plasma Cannon":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'1000m', rangedweapon_damage_2:'2d10+6', rangedweapon_mindamage_2:'8',   rangedweapon_armourdamage_2:'5', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'150', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'6'},
"L-3 Laser Rifle":   {rangedweapon_skill_2:  'rifle', rangedweapon_range_2:'500m', rangedweapon_damage_2:'1d10', rangedweapon_mindamage_2:'4',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'100', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},
"Blinding Laser":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'250m', rangedweapon_damage_2:'1d10-5', rangedweapon_mindamage_2:'1',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'100', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},
"L-7 Laser Cannon":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'1500m', rangedweapon_damage_2:'2d10', rangedweapon_mindamage_2:'4',   rangedweapon_armourdamage_2:'3', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'100', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"L-7P laser Pulse Cannon":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'1000m', rangedweapon_damage_2:'2d10', rangedweapon_mindamage_2:'4',   rangedweapon_armourdamage_2:'5', rangedweapon_rof_2:'10',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'50', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"Z-6 Portable Denial System":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'100m', rangedweapon_damage_2:'1d10-5', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'25', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"Z-7 Area Denial System":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'1000m', rangedweapon_damage_2:'1d10+1', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'100', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'8'},
"P2 Particle Beam Weapons":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'m', rangedweapon_damage_2:'4d10', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'1', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'20', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'10'},
"Screamer":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'50m', rangedweapon_damage_2:'1d10-5', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'100', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"Hypersonic Emitter":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10-8', rangedweapon_mindamage_2:'1',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'', rangedweapon_ammo_2:'50mBlast',  rangedweapon_clip_2:'', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Stun Gun":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'10m', rangedweapon_damage_2:'1d10+1', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'15', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'1'},
"Electomagnetic Pulse":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'100m', rangedweapon_damage_2:'1d10-2', rangedweapon_mindamage_2:'2',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'10', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'4'},
"XF23-EES Shield":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'m', rangedweapon_damage_2:'1d10-1', rangedweapon_mindamage_2:'3',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'',  rangedweapon_recoil_2:'', rangedweapon_ammo_2:'5mBlast',  rangedweapon_clip_2:'10', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'8'},
"Doser":   {rangedweapon_skill_2:  'pistol', rangedweapon_range_2:'2m', rangedweapon_damage_2:'', rangedweapon_mindamage_2:'',   rangedweapon_armourdamage_2:'', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'25', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'0'},
"Duster":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'20m', rangedweapon_damage_2:'', rangedweapon_mindamage_2:'0',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'10', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},
"Water Cannon":   {rangedweapon_skill_2:  'supportwpn', rangedweapon_range_2:'20m', rangedweapon_damage_2:'1d10-5', rangedweapon_mindamage_2:'0',   rangedweapon_armourdamage_2:'0', rangedweapon_rof_2:'1',  rangedweapon_recoil_2:'0', rangedweapon_ammo_2:'Standard',  rangedweapon_clip_2:'100', rangedweapon_clipused_2:'0',   rangedweapon_enc_2:'3'},

	}
    getAttrs(['rangedweapon_2'], values => {
        let name = values.rangedweapon_2;
        let output = rangeddetails[name] || '';
        if(output) setAttrs(output);
    });
});
on("change:rangedweapon_2 change:rangedweapon_rof_2 change:rangedweapon_recoil_2", function() {
  getAttrs(["rangedweapon_2","rangedweapon_rof_2","rangedweapon_recoil_2"], function(values) {
     const rofdetails = {
"A Heavyish Rock":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Combat Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tomahawk":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Spear":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shuriken":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Throwing Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Chakram":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plumbata":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dart":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Pre-20th Century Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light SMG":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy SMG ":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Carbine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Assault Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Sniper Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shotgun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Material Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"FlameThrower":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Grenade Launcher":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Portable Rocket or Torpedo":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Tank Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Ground to Air Missile":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"A130 Magnetic Protocol Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dynamite":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Flashbang":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Frag Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Molotov Cocktail":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plasma Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Satchel Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shaped Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Smoke Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tactical Warhead":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Terminator Power Cell":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-14 Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-25 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-20 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Plasma Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Laser Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-31 Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-23 Heavy Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-80 Light Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-40 Heavy Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-3 Laser Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Blinding Laser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7 Laser Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7P laser Pulse Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-6 Portable Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-7 Area Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P2 Particle Beam Weapons":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Screamer":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hypersonic Emitter":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Stun Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Electomagnetic Pulse":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"XF23-EES Shield":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Doser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Duster":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Water Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},

	}

      var setweaponrecoil = values["rangedweapon_recoil_2"]||"";
      var setweaponname = values["rangedweapon_2"]||"";
      var setweaponrof = values["rangedweapon_rof_2"]||"";

	  if (setweaponrof == "1") {
		setweaponrecoil = rofdetails[setweaponname]["rec1"];
		setweaponrof = rofdetails[setweaponname]["rof1"];
		} 
	  else if (setweaponrof == "3") {
		setweaponrecoil = rofdetails[setweaponname]["rec3"];
		setweaponrof = rofdetails[setweaponname]["rof3"];
		}
	  else if (setweaponrof == "10") {
		setweaponrecoil = rofdetails[setweaponname]["rec10"];
		setweaponrof = rofdetails[setweaponname]["rof10"];
		}
	  else if (setweaponrof == "SUP(25)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup25"];
		setweaponrof = rofdetails[setweaponname]["rofsup25"];
		}
	  else if (setweaponrof == "SUP(40)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup40"];
		setweaponrof = rofdetails[setweaponname]["rofsup40"];
		}
	  else if (setweaponrof == "SUP(50)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup50"];
		setweaponrof = rofdetails[setweaponname]["rofsup50"];
		}
	  else if (setweaponrof == "SUP(100)") {
		setweaponrecoil = rofdetails[setweaponname]["rec100"];
		setweaponrof = rofdetails[setweaponname]["rofsup100"];
		};

      setAttrs({
		"rangedweapon_rof_2": setweaponrof,
		"rangedweapon_recoil_2": setweaponrecoil,
      });
  });
});

on("change:rangedweapon_2 change:rangedweapon_skill_2 change:rangedweapon_damage_2 change:rangedweapon_mindamage_2 change:rangedweapon_armourdamage_2 change:rangedweapon_rof_2 change:rangedweapon_recoil_2 change:rangedweapon_ammo_2", function() {
  getAttrs(["rangedweapon_2","rangedweapon_skill_2","rangedweapon_damage_2","rangedweapon_mindamage_2","rangedweapon_armourdamage_2","rangedweapon_rof_2","rangedweapon_recoil_2","rangedweapon_ammo_2"], function(values) {
     const ammodetails = {
		"Standard":	{dammod: '0',	admod: '0',	ammonotes: ''},
		"Rocket":	{dammod: '0',	admod: '0',	ammonotes: 'This is a Rocket Launcher'},
		"1mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 1 meter blast radius'},
		"5mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 5 meter blast radius'},
		"6mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 6 meter blast radius'},
		"8mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 8 meter blast radius'},
		"10mBlast":	{dammod: '0',	admod: '0',ammonotes: 'Damage affects 10 meter blast radius'},
		"12mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 12 meter blast radius'},
		"30mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 30 meter blast radius'},
		"50mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 50 meter blast radius'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_2"]||"";
      var setweaponrof = values["rangedweapon_rof_2"]||"";
      var setweaponname = values["rangedweapon_2"]||"";
      var setweaponskill = values["rangedweapon_skill_2"]||"";
      var setweaponammo = values["rangedweapon_ammo_2"]||"";

	  var setammodamage = ammodetails[setweaponammo]["dammod"];
	  var setammoad = ammodetails[setweaponammo]["admod"];
	  var setammonotes = ammodetails[setweaponammo]["ammonotes"];
	  var setrofbonusdamage = "0";
	  if (setweaponrof == "1") {
		setrofbonusdamage = "0";
		} 
	  else if (setweaponrof == "3") {
		setrofbonusdamage = "2";
		}
	  else if (setweaponrof == "10") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(25)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(40)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(50)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(100)") {
		setrofbonusdamage = "4";
		};

      var setweapondmg = values["rangedweapon_damage_2"]+"+"+setrofbonusdamage+"+"+setammodamage||"";
      var setweaponmindmg = values["rangedweapon_mindamage_2"]+"+"+setrofbonusdamage+"+"+setammodamage||"0";
      var setweaponad = values["rangedweapon_armourdamage_2"]+"+"+setammoad||"0";
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}-"+setweaponrecoil+"}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}{{weaponnotes="+setammonotes+"}}";
      setAttrs({
		"rangedweapon_roll_2": setweaponroll,
      });
  });
});
on('change:rangedweapon_3', event => {
     const rangeddetails = {
"A Heavyish Rock":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwsk/2m', rangedweapon_damage_3:'1d10-5', rangedweapon_mindamage_3:'1',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Combat Knife":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwsk/2m', rangedweapon_damage_3:'1d10-3', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Tomahawk":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwsk/2m', rangedweapon_damage_3:'1d10-3', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Hunting Knife":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwsk/2m', rangedweapon_damage_3:'1d10-3', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Spear":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwskm', rangedweapon_damage_3:'1d10-3', rangedweapon_mindamage_3:'0',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Shuriken":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwskm', rangedweapon_damage_3:'1d10-6', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'3',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Throwing Knife":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwskm', rangedweapon_damage_3:'1d10-6', rangedweapon_mindamage_3:'1',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'3',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Chakram":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwskm', rangedweapon_damage_3:'1d10-2', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Plumbata":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwskm', rangedweapon_damage_3:'1d10-2', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Dart":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'throwskm', rangedweapon_damage_3:'1d10-6', rangedweapon_mindamage_3:'1',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'3',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'0', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Pre-20th Century Pistol":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'40m', rangedweapon_damage_3:'1d10-3', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'1', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Light Pistol":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'60m', rangedweapon_damage_3:'1d10-2', rangedweapon_mindamage_3:'3',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'3',  rangedweapon_recoil_3:'1', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'12', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Heavy Pistol":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'50m', rangedweapon_damage_3:'1d10+1', rangedweapon_mindamage_3:'4',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'1', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'8', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Light SMG":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'60m', rangedweapon_damage_3:'1d10-2', rangedweapon_mindamage_3:'3',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'3',  rangedweapon_recoil_3:'1', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'32', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Heavy SMG ":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'80m', rangedweapon_damage_3:'1d10+1', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'2', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'32', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Carbine":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'400m', rangedweapon_damage_3:'1d10+1', rangedweapon_mindamage_3:'4',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'2', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'30', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"Assault Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'500m', rangedweapon_damage_3:'1d10+3', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'2', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'30', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"Hunting Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'800m', rangedweapon_damage_3:'1d10+3', rangedweapon_mindamage_3:'5',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'5', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"Sniper Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'1400m', rangedweapon_damage_3:'1d10+6', rangedweapon_mindamage_3:'7',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'1', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'30', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"Shotgun":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'100m', rangedweapon_damage_3:'1d10+2', rangedweapon_mindamage_3:'5',   rangedweapon_armourdamage_3:'4', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'1', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'5', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"Anti-Material Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'1400m', rangedweapon_damage_3:'2d10+5', rangedweapon_mindamage_3:'10',   rangedweapon_armourdamage_3:'4', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'2', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'5', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"FlameThrower":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'15m', rangedweapon_damage_3:'2d10', rangedweapon_mindamage_3:'8',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'6', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"Grenade Launcher":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'200m', rangedweapon_damage_3:'', rangedweapon_mindamage_3:'',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'2', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'4', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Light Machine Gun":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'500m', rangedweapon_damage_3:'1d10+4', rangedweapon_mindamage_3:'6',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0.5', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'50', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
"Heavy Machine Gun":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'600m', rangedweapon_damage_3:'2d10-3', rangedweapon_mindamage_3:'8',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'4', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'200', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"Portable Rocket or Torpedo":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'m', rangedweapon_damage_3:'', rangedweapon_mindamage_3:'',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Rocket',  rangedweapon_clip_3:'1', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
"Anti-Personnel Rocket":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'1000m', rangedweapon_damage_3:'3d10+6', rangedweapon_mindamage_3:'10',   rangedweapon_armourdamage_3:'4', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'12mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Anti-Tank Rocket":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'1000m', rangedweapon_damage_3:'3d10+6', rangedweapon_mindamage_3:'10',   rangedweapon_armourdamage_3:'10', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'10mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Ground to Air Missile":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'10000m', rangedweapon_damage_3:'3d10+6', rangedweapon_mindamage_3:'10',   rangedweapon_armourdamage_3:'10', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'8mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"A130 Magnetic Protocol Mine":   {rangedweapon_skill_3:  'Detect', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+4', rangedweapon_mindamage_3:'5',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'12mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Anti-Personnel Mine":   {rangedweapon_skill_3:  'demolitions', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+4', rangedweapon_mindamage_3:'6',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'10mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Dynamite":   {rangedweapon_skill_3:  'demolitions', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+1', rangedweapon_mindamage_3:'4',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'6mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Flashbang":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10-5', rangedweapon_mindamage_3:'1',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'6mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Frag Grenade":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+4', rangedweapon_mindamage_3:'5',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'10mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Molotov Cocktail":   {rangedweapon_skill_3:  'throwsk', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+1', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'3mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Plasma Charge":   {rangedweapon_skill_3:  'demolitions', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+8', rangedweapon_mindamage_3:'7',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'1mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Satchel Charge":   {rangedweapon_skill_3:  'demolitions', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+6', rangedweapon_mindamage_3:'7',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'8mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"Shaped Charge":   {rangedweapon_skill_3:  'demolitions', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10+5', rangedweapon_mindamage_3:'5',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'1mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Smoke Grenade":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'m', rangedweapon_damage_3:'', rangedweapon_mindamage_3:'',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'12mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Tactical Warhead":   {rangedweapon_skill_3:  'demolitions', rangedweapon_range_3:'m', rangedweapon_damage_3:'4d10', rangedweapon_mindamage_3:'20',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'30mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Terminator Power Cell":   {rangedweapon_skill_3:  'demolitions', rangedweapon_range_3:'m', rangedweapon_damage_3:'2d10+4', rangedweapon_mindamage_3:'7',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'10mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Jury-rigged Plasma Pistol":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'45m', rangedweapon_damage_3:'1d10+4', rangedweapon_mindamage_3:'5',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'3',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'15', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"Jury-rigged Plasma Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'250m', rangedweapon_damage_3:'2d10-2', rangedweapon_mindamage_3:'7',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'3',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'30', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
"M-14 Plasma Pistol":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'90m', rangedweapon_damage_3:'1d10+3', rangedweapon_mindamage_3:'5',   rangedweapon_armourdamage_3:'2', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'30', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"M-25 Phased Plasma Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'150m', rangedweapon_damage_3:'2d10-4', rangedweapon_mindamage_3:'8',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'60', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'2'},
"M-20 Phased Plasma Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'600m', rangedweapon_damage_3:'2d10', rangedweapon_mindamage_3:'8',   rangedweapon_armourdamage_3:'4', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'100', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
"P-30: Plasma Mode":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'150m', rangedweapon_damage_3:'2d10-2', rangedweapon_mindamage_3:'7',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'60', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"P-30: Laser Mode":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'500m', rangedweapon_damage_3:'1d10', rangedweapon_mindamage_3:'4',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'60', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"H-31 Plasma Repeater":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'300m', rangedweapon_damage_3:'2d10+2', rangedweapon_mindamage_3:'8',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'250', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"H-23 Heavy Plasma Repeater":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'300m', rangedweapon_damage_3:'2d10+6', rangedweapon_mindamage_3:'10',   rangedweapon_armourdamage_3:'4', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'150', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'5'},
"P-80 Light Plasma Cannon":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'700m', rangedweapon_damage_3:'2d10+2', rangedweapon_mindamage_3:'6',   rangedweapon_armourdamage_3:'5', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'150', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"P-40 Heavy Plasma Cannon":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'1000m', rangedweapon_damage_3:'2d10+6', rangedweapon_mindamage_3:'8',   rangedweapon_armourdamage_3:'5', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'150', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'6'},
"L-3 Laser Rifle":   {rangedweapon_skill_3:  'rifle', rangedweapon_range_3:'500m', rangedweapon_damage_3:'1d10', rangedweapon_mindamage_3:'4',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'100', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
"Blinding Laser":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'250m', rangedweapon_damage_3:'1d10-5', rangedweapon_mindamage_3:'1',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'100', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
"L-7 Laser Cannon":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'1500m', rangedweapon_damage_3:'2d10', rangedweapon_mindamage_3:'4',   rangedweapon_armourdamage_3:'3', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'100', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"L-7P laser Pulse Cannon":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'1000m', rangedweapon_damage_3:'2d10', rangedweapon_mindamage_3:'4',   rangedweapon_armourdamage_3:'5', rangedweapon_rof_3:'10',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'50', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"Z-6 Portable Denial System":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'100m', rangedweapon_damage_3:'1d10-5', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'25', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"Z-7 Area Denial System":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'1000m', rangedweapon_damage_3:'1d10+1', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'100', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'8'},
"P2 Particle Beam Weapons":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'m', rangedweapon_damage_3:'4d10', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'1', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'20', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'10'},
"Screamer":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'50m', rangedweapon_damage_3:'1d10-5', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'100', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"Hypersonic Emitter":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10-8', rangedweapon_mindamage_3:'1',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'', rangedweapon_ammo_3:'50mBlast',  rangedweapon_clip_3:'', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Stun Gun":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'10m', rangedweapon_damage_3:'1d10+1', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'15', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'1'},
"Electomagnetic Pulse":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'100m', rangedweapon_damage_3:'1d10-2', rangedweapon_mindamage_3:'2',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'10', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'4'},
"XF23-EES Shield":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'m', rangedweapon_damage_3:'1d10-1', rangedweapon_mindamage_3:'3',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'',  rangedweapon_recoil_3:'', rangedweapon_ammo_3:'5mBlast',  rangedweapon_clip_3:'10', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'8'},
"Doser":   {rangedweapon_skill_3:  'pistol', rangedweapon_range_3:'2m', rangedweapon_damage_3:'', rangedweapon_mindamage_3:'',   rangedweapon_armourdamage_3:'', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'25', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'0'},
"Duster":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'20m', rangedweapon_damage_3:'', rangedweapon_mindamage_3:'0',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'10', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
"Water Cannon":   {rangedweapon_skill_3:  'supportwpn', rangedweapon_range_3:'20m', rangedweapon_damage_3:'1d10-5', rangedweapon_mindamage_3:'0',   rangedweapon_armourdamage_3:'0', rangedweapon_rof_3:'1',  rangedweapon_recoil_3:'0', rangedweapon_ammo_3:'Standard',  rangedweapon_clip_3:'100', rangedweapon_clipused_3:'0',   rangedweapon_enc_3:'3'},
	}
    getAttrs(['rangedweapon_3'], values => {
        let name = values.rangedweapon_3;
        let output = rangeddetails[name] || '';
        if(output) setAttrs(output);
    });
});
on("change:rangedweapon_3 change:rangedweapon_rof_3 change:rangedweapon_recoil_3", function() {
  getAttrs(["rangedweapon_3","rangedweapon_rof_3","rangedweapon_recoil_3"], function(values) {
     const rofdetails = {
"A Heavyish Rock":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Combat Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tomahawk":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Spear":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shuriken":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Throwing Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Chakram":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plumbata":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dart":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Pre-20th Century Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light SMG":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy SMG ":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Carbine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Assault Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Sniper Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shotgun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Material Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"FlameThrower":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Grenade Launcher":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Portable Rocket or Torpedo":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Tank Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Ground to Air Missile":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"A130 Magnetic Protocol Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dynamite":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Flashbang":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Frag Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Molotov Cocktail":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plasma Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Satchel Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shaped Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Smoke Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tactical Warhead":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Terminator Power Cell":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-14 Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-25 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-20 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Plasma Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Laser Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-31 Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-23 Heavy Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-80 Light Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-40 Heavy Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-3 Laser Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Blinding Laser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7 Laser Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7P laser Pulse Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-6 Portable Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-7 Area Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P2 Particle Beam Weapons":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Screamer":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hypersonic Emitter":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Stun Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Electomagnetic Pulse":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"XF23-EES Shield":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Doser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Duster":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Water Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_3"]||"";
      var setweaponname = values["rangedweapon_3"]||"";
      var setweaponrof = values["rangedweapon_rof_3"]||"";

	  if (setweaponrof == "1") {
		setweaponrecoil = rofdetails[setweaponname]["rec1"];
		setweaponrof = rofdetails[setweaponname]["rof1"];
		} 
	  else if (setweaponrof == "3") {
		setweaponrecoil = rofdetails[setweaponname]["rec3"];
		setweaponrof = rofdetails[setweaponname]["rof3"];
		}
	  else if (setweaponrof == "10") {
		setweaponrecoil = rofdetails[setweaponname]["rec10"];
		setweaponrof = rofdetails[setweaponname]["rof10"];
		}
	  else if (setweaponrof == "SUP(25)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup25"];
		setweaponrof = rofdetails[setweaponname]["rofsup25"];
		}
	  else if (setweaponrof == "SUP(40)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup40"];
		setweaponrof = rofdetails[setweaponname]["rofsup40"];
		}
	  else if (setweaponrof == "SUP(50)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup50"];
		setweaponrof = rofdetails[setweaponname]["rofsup50"];
		}
	  else if (setweaponrof == "SUP(100)") {
		setweaponrecoil = rofdetails[setweaponname]["rec100"];
		setweaponrof = rofdetails[setweaponname]["rofsup100"];
		};

      setAttrs({
		"rangedweapon_rof_3": setweaponrof,
		"rangedweapon_recoil_3": setweaponrecoil,
      });
  });
});

on("change:rangedweapon_3 change:rangedweapon_skill_3 change:rangedweapon_damage_3 change:rangedweapon_mindamage_3 change:rangedweapon_armourdamage_3 change:rangedweapon_rof_3 change:rangedweapon_recoil_3 change:rangedweapon_ammo_3", function() {
  getAttrs(["rangedweapon_3","rangedweapon_skill_3","rangedweapon_damage_3","rangedweapon_mindamage_3","rangedweapon_armourdamage_3","rangedweapon_rof_3","rangedweapon_recoil_3","rangedweapon_ammo_3"], function(values) {
     const ammodetails = {
		"Standard":	{dammod: '0',	admod: '0',	ammonotes: ''},
		"Rocket":	{dammod: '0',	admod: '0',	ammonotes: 'This is a Rocket Launcher'},
		"1mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 1 meter blast radius'},
		"5mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 5 meter blast radius'},
		"6mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 6 meter blast radius'},
		"8mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 8 meter blast radius'},
		"10mBlast":	{dammod: '0',	admod: '0',ammonotes: 'Damage affects 10 meter blast radius'},
		"12mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 12 meter blast radius'},
		"30mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 30 meter blast radius'},
		"50mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 50 meter blast radius'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_3"]||"";
      var setweaponrof = values["rangedweapon_rof_3"]||"";
      var setweaponname = values["rangedweapon_3"]||"";
      var setweaponskill = values["rangedweapon_skill_3"]||"";
      var setweaponammo = values["rangedweapon_ammo_3"]||"";

	  var setammodamage = ammodetails[setweaponammo]["dammod"];
	  var setammoad = ammodetails[setweaponammo]["admod"];
	  var setammonotes = ammodetails[setweaponammo]["ammonotes"];
	  var setrofbonusdamage = "0";
	  if (setweaponrof == "1") {
		setrofbonusdamage = "0";
		} 
	  else if (setweaponrof == "3") {
		setrofbonusdamage = "2";
		}
	  else if (setweaponrof == "10") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(25)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(40)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(50)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(100)") {
		setrofbonusdamage = "4";
		};

      var setweapondmg = values["rangedweapon_damage_3"]+"+"+setrofbonusdamage+"+"+setammodamage||"";
      var setweaponmindmg = values["rangedweapon_mindamage_3"]+"+"+setrofbonusdamage+"+"+setammodamage||"0";
      var setweaponad = values["rangedweapon_armourdamage_3"]+"+"+setammoad||"0";
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}-"+setweaponrecoil+"}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}{{weaponnotes="+setammonotes+"}}";
      setAttrs({
		"rangedweapon_roll_3": setweaponroll,
      });
  });
});on('change:rangedweapon_4', event => {
     const rangeddetails = {
"A Heavyish Rock":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwsk/2m', rangedweapon_damage_4:'1d10-5', rangedweapon_mindamage_4:'1',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Combat Knife":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwsk/2m', rangedweapon_damage_4:'1d10-3', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Tomahawk":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwsk/2m', rangedweapon_damage_4:'1d10-3', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Hunting Knife":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwsk/2m', rangedweapon_damage_4:'1d10-3', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Spear":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwskm', rangedweapon_damage_4:'1d10-3', rangedweapon_mindamage_4:'0',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Shuriken":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwskm', rangedweapon_damage_4:'1d10-6', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'3',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Throwing Knife":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwskm', rangedweapon_damage_4:'1d10-6', rangedweapon_mindamage_4:'1',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'3',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Chakram":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwskm', rangedweapon_damage_4:'1d10-2', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Plumbata":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwskm', rangedweapon_damage_4:'1d10-2', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Dart":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'throwskm', rangedweapon_damage_4:'1d10-6', rangedweapon_mindamage_4:'1',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'3',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'0', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Pre-20th Century Pistol":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'40m', rangedweapon_damage_4:'1d10-3', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'1', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Light Pistol":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'60m', rangedweapon_damage_4:'1d10-2', rangedweapon_mindamage_4:'3',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'3',  rangedweapon_recoil_4:'1', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'12', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Heavy Pistol":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'50m', rangedweapon_damage_4:'1d10+1', rangedweapon_mindamage_4:'4',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'1', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'8', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Light SMG":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'60m', rangedweapon_damage_4:'1d10-2', rangedweapon_mindamage_4:'3',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'3',  rangedweapon_recoil_4:'1', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'32', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Heavy SMG ":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'80m', rangedweapon_damage_4:'1d10+1', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'2', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'32', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Carbine":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'400m', rangedweapon_damage_4:'1d10+1', rangedweapon_mindamage_4:'4',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'2', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'30', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"Assault Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'500m', rangedweapon_damage_4:'1d10+3', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'2', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'30', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"Hunting Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'800m', rangedweapon_damage_4:'1d10+3', rangedweapon_mindamage_4:'5',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'5', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"Sniper Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'1400m', rangedweapon_damage_4:'1d10+6', rangedweapon_mindamage_4:'7',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'1', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'30', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"Shotgun":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'100m', rangedweapon_damage_4:'1d10+2', rangedweapon_mindamage_4:'5',   rangedweapon_armourdamage_4:'4', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'1', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'5', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"Anti-Material Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'1400m', rangedweapon_damage_4:'2d10+5', rangedweapon_mindamage_4:'10',   rangedweapon_armourdamage_4:'4', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'2', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'5', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"FlameThrower":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'15m', rangedweapon_damage_4:'2d10', rangedweapon_mindamage_4:'8',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'6', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"Grenade Launcher":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'200m', rangedweapon_damage_4:'', rangedweapon_mindamage_4:'',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'2', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'4', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Light Machine Gun":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'500m', rangedweapon_damage_4:'1d10+4', rangedweapon_mindamage_4:'6',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0.5', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'50', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},
"Heavy Machine Gun":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'600m', rangedweapon_damage_4:'2d10-3', rangedweapon_mindamage_4:'8',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'4', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'200', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"Portable Rocket or Torpedo":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'m', rangedweapon_damage_4:'', rangedweapon_mindamage_4:'',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Rocket',  rangedweapon_clip_4:'1', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},
"Anti-Personnel Rocket":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'1000m', rangedweapon_damage_4:'3d10+6', rangedweapon_mindamage_4:'10',   rangedweapon_armourdamage_4:'4', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'12mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Anti-Tank Rocket":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'1000m', rangedweapon_damage_4:'3d10+6', rangedweapon_mindamage_4:'10',   rangedweapon_armourdamage_4:'10', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'10mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Ground to Air Missile":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'10000m', rangedweapon_damage_4:'3d10+6', rangedweapon_mindamage_4:'10',   rangedweapon_armourdamage_4:'10', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'8mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"A130 Magnetic Protocol Mine":   {rangedweapon_skill_4:  'Detect', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+4', rangedweapon_mindamage_4:'5',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'12mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Anti-Personnel Mine":   {rangedweapon_skill_4:  'demolitions', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+4', rangedweapon_mindamage_4:'6',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'10mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Dynamite":   {rangedweapon_skill_4:  'demolitions', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+1', rangedweapon_mindamage_4:'4',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'6mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Flashbang":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10-5', rangedweapon_mindamage_4:'1',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'6mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Frag Grenade":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+4', rangedweapon_mindamage_4:'5',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'10mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Molotov Cocktail":   {rangedweapon_skill_4:  'throwsk', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+1', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'3mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Plasma Charge":   {rangedweapon_skill_4:  'demolitions', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+8', rangedweapon_mindamage_4:'7',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'1mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Satchel Charge":   {rangedweapon_skill_4:  'demolitions', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+6', rangedweapon_mindamage_4:'7',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'8mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"Shaped Charge":   {rangedweapon_skill_4:  'demolitions', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10+5', rangedweapon_mindamage_4:'5',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'1mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Smoke Grenade":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'m', rangedweapon_damage_4:'', rangedweapon_mindamage_4:'',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'12mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Tactical Warhead":   {rangedweapon_skill_4:  'demolitions', rangedweapon_range_4:'m', rangedweapon_damage_4:'4d10', rangedweapon_mindamage_4:'20',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'30mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Terminator Power Cell":   {rangedweapon_skill_4:  'demolitions', rangedweapon_range_4:'m', rangedweapon_damage_4:'2d10+4', rangedweapon_mindamage_4:'7',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'10mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Jury-rigged Plasma Pistol":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'45m', rangedweapon_damage_4:'1d10+4', rangedweapon_mindamage_4:'5',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'3',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'15', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"Jury-rigged Plasma Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'250m', rangedweapon_damage_4:'2d10-2', rangedweapon_mindamage_4:'7',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'3',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'30', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},
"M-14 Plasma Pistol":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'90m', rangedweapon_damage_4:'1d10+3', rangedweapon_mindamage_4:'5',   rangedweapon_armourdamage_4:'2', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'30', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"M-25 Phased Plasma Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'150m', rangedweapon_damage_4:'2d10-4', rangedweapon_mindamage_4:'8',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'60', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'2'},
"M-20 Phased Plasma Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'600m', rangedweapon_damage_4:'2d10', rangedweapon_mindamage_4:'8',   rangedweapon_armourdamage_4:'4', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'100', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},
"P-30: Plasma Mode":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'150m', rangedweapon_damage_4:'2d10-2', rangedweapon_mindamage_4:'7',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'60', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"P-30: Laser Mode":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'500m', rangedweapon_damage_4:'1d10', rangedweapon_mindamage_4:'4',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'60', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"H-31 Plasma Repeater":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'300m', rangedweapon_damage_4:'2d10+2', rangedweapon_mindamage_4:'8',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'250', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"H-23 Heavy Plasma Repeater":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'300m', rangedweapon_damage_4:'2d10+6', rangedweapon_mindamage_4:'10',   rangedweapon_armourdamage_4:'4', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'150', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'5'},
"P-80 Light Plasma Cannon":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'700m', rangedweapon_damage_4:'2d10+2', rangedweapon_mindamage_4:'6',   rangedweapon_armourdamage_4:'5', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'150', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"P-40 Heavy Plasma Cannon":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'1000m', rangedweapon_damage_4:'2d10+6', rangedweapon_mindamage_4:'8',   rangedweapon_armourdamage_4:'5', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'150', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'6'},
"L-3 Laser Rifle":   {rangedweapon_skill_4:  'rifle', rangedweapon_range_4:'500m', rangedweapon_damage_4:'1d10', rangedweapon_mindamage_4:'4',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'100', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},
"Blinding Laser":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'250m', rangedweapon_damage_4:'1d10-5', rangedweapon_mindamage_4:'1',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'100', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},
"L-7 Laser Cannon":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'1500m', rangedweapon_damage_4:'2d10', rangedweapon_mindamage_4:'4',   rangedweapon_armourdamage_4:'3', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'100', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"L-7P laser Pulse Cannon":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'1000m', rangedweapon_damage_4:'2d10', rangedweapon_mindamage_4:'4',   rangedweapon_armourdamage_4:'5', rangedweapon_rof_4:'10',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'50', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"Z-6 Portable Denial System":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'100m', rangedweapon_damage_4:'1d10-5', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'25', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"Z-7 Area Denial System":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'1000m', rangedweapon_damage_4:'1d10+1', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'100', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'8'},
"P2 Particle Beam Weapons":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'m', rangedweapon_damage_4:'4d10', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'1', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'20', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'10'},
"Screamer":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'50m', rangedweapon_damage_4:'1d10-5', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'100', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"Hypersonic Emitter":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10-8', rangedweapon_mindamage_4:'1',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'', rangedweapon_ammo_4:'50mBlast',  rangedweapon_clip_4:'', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Stun Gun":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'10m', rangedweapon_damage_4:'1d10+1', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'15', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'1'},
"Electomagnetic Pulse":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'100m', rangedweapon_damage_4:'1d10-2', rangedweapon_mindamage_4:'2',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'10', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'4'},
"XF23-EES Shield":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'m', rangedweapon_damage_4:'1d10-1', rangedweapon_mindamage_4:'3',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'',  rangedweapon_recoil_4:'', rangedweapon_ammo_4:'5mBlast',  rangedweapon_clip_4:'10', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'8'},
"Doser":   {rangedweapon_skill_4:  'pistol', rangedweapon_range_4:'2m', rangedweapon_damage_4:'', rangedweapon_mindamage_4:'',   rangedweapon_armourdamage_4:'', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'25', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'0'},
"Duster":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'20m', rangedweapon_damage_4:'', rangedweapon_mindamage_4:'0',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'10', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},
"Water Cannon":   {rangedweapon_skill_4:  'supportwpn', rangedweapon_range_4:'20m', rangedweapon_damage_4:'1d10-5', rangedweapon_mindamage_4:'0',   rangedweapon_armourdamage_4:'0', rangedweapon_rof_4:'1',  rangedweapon_recoil_4:'0', rangedweapon_ammo_4:'Standard',  rangedweapon_clip_4:'100', rangedweapon_clipused_4:'0',   rangedweapon_enc_4:'3'},

	}
    getAttrs(['rangedweapon_4'], values => {
        let name = values.rangedweapon_4;
        let output = rangeddetails[name] || '';
        if(output) setAttrs(output);
    });
});
on("change:rangedweapon_4 change:rangedweapon_rof_4 change:rangedweapon_recoil_4", function() {
  getAttrs(["rangedweapon_4","rangedweapon_rof_4","rangedweapon_recoil_4"], function(values) {
     const rofdetails = {
"A Heavyish Rock":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Combat Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tomahawk":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Spear":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shuriken":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Throwing Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Chakram":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plumbata":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dart":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Pre-20th Century Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light SMG":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy SMG ":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Carbine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Assault Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Sniper Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shotgun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Material Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"FlameThrower":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Grenade Launcher":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Portable Rocket or Torpedo":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Tank Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Ground to Air Missile":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"A130 Magnetic Protocol Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dynamite":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Flashbang":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Frag Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Molotov Cocktail":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plasma Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Satchel Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shaped Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Smoke Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tactical Warhead":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Terminator Power Cell":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-14 Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-25 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-20 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Plasma Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Laser Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-31 Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-23 Heavy Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-80 Light Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-40 Heavy Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-3 Laser Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Blinding Laser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7 Laser Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7P laser Pulse Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-6 Portable Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-7 Area Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P2 Particle Beam Weapons":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Screamer":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hypersonic Emitter":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Stun Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Electomagnetic Pulse":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"XF23-EES Shield":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Doser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Duster":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Water Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_4"]||"";
      var setweaponname = values["rangedweapon_4"]||"";
      var setweaponrof = values["rangedweapon_rof_4"]||"";

	  if (setweaponrof == "1") {
		setweaponrecoil = rofdetails[setweaponname]["rec1"];
		setweaponrof = rofdetails[setweaponname]["rof1"];
		} 
	  else if (setweaponrof == "3") {
		setweaponrecoil = rofdetails[setweaponname]["rec3"];
		setweaponrof = rofdetails[setweaponname]["rof3"];
		}
	  else if (setweaponrof == "10") {
		setweaponrecoil = rofdetails[setweaponname]["rec10"];
		setweaponrof = rofdetails[setweaponname]["rof10"];
		}
	  else if (setweaponrof == "SUP(25)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup25"];
		setweaponrof = rofdetails[setweaponname]["rofsup25"];
		}
	  else if (setweaponrof == "SUP(40)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup40"];
		setweaponrof = rofdetails[setweaponname]["rofsup40"];
		}
	  else if (setweaponrof == "SUP(50)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup50"];
		setweaponrof = rofdetails[setweaponname]["rofsup50"];
		}
	  else if (setweaponrof == "SUP(100)") {
		setweaponrecoil = rofdetails[setweaponname]["rec100"];
		setweaponrof = rofdetails[setweaponname]["rofsup100"];
		};

      setAttrs({
		"rangedweapon_rof_4": setweaponrof,
		"rangedweapon_recoil_4": setweaponrecoil,
      });
  });
});

on("change:rangedweapon_4 change:rangedweapon_skill_4 change:rangedweapon_damage_4 change:rangedweapon_mindamage_4 change:rangedweapon_armourdamage_4 change:rangedweapon_rof_4 change:rangedweapon_recoil_4 change:rangedweapon_ammo_4", function() {
  getAttrs(["rangedweapon_4","rangedweapon_skill_4","rangedweapon_damage_4","rangedweapon_mindamage_4","rangedweapon_armourdamage_4","rangedweapon_rof_4","rangedweapon_recoil_4","rangedweapon_ammo_4"], function(values) {
     const ammodetails = {
		"Standard":	{dammod: '0',	admod: '0',	ammonotes: ''},
		"Rocket":	{dammod: '0',	admod: '0',	ammonotes: 'This is a Rocket Launcher'},
		"1mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 1 meter blast radius'},
		"5mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 5 meter blast radius'},
		"6mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 6 meter blast radius'},
		"8mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 8 meter blast radius'},
		"10mBlast":	{dammod: '0',	admod: '0',ammonotes: 'Damage affects 10 meter blast radius'},
		"12mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 12 meter blast radius'},
		"30mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 30 meter blast radius'},
		"50mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 50 meter blast radius'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_4"]||"";
      var setweaponrof = values["rangedweapon_rof_4"]||"";
      var setweaponname = values["rangedweapon_4"]||"";
      var setweaponskill = values["rangedweapon_skill_4"]||"";
      var setweaponammo = values["rangedweapon_ammo_4"]||"";

	  var setammodamage = ammodetails[setweaponammo]["dammod"];
	  var setammoad = ammodetails[setweaponammo]["admod"];
	  var setammonotes = ammodetails[setweaponammo]["ammonotes"];
	  var setrofbonusdamage = "0";
	  if (setweaponrof == "1") {
		setrofbonusdamage = "0";
		} 
	  else if (setweaponrof == "3") {
		setrofbonusdamage = "2";
		}
	  else if (setweaponrof == "10") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(25)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(40)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(50)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(100)") {
		setrofbonusdamage = "4";
		};

      var setweapondmg = values["rangedweapon_damage_4"]+"+"+setrofbonusdamage+"+"+setammodamage||"";
      var setweaponmindmg = values["rangedweapon_mindamage_4"]+"+"+setrofbonusdamage+"+"+setammodamage||"0";
      var setweaponad = values["rangedweapon_armourdamage_4"]+"+"+setammoad||"0";
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}-"+setweaponrecoil+"}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}{{weaponnotes="+setammonotes+"}}";
      setAttrs({
		"rangedweapon_roll_4": setweaponroll,
      });
  });
});
on('change:rangedweapon_5', event => {
     const rangeddetails = {
"A Heavyish Rock":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwsk/2m', rangedweapon_damage_5:'1d10-5', rangedweapon_mindamage_5:'1',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Combat Knife":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwsk/2m', rangedweapon_damage_5:'1d10-3', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Tomahawk":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwsk/2m', rangedweapon_damage_5:'1d10-3', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Hunting Knife":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwsk/2m', rangedweapon_damage_5:'1d10-3', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Spear":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwskm', rangedweapon_damage_5:'1d10-3', rangedweapon_mindamage_5:'0',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Shuriken":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwskm', rangedweapon_damage_5:'1d10-6', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'3',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Throwing Knife":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwskm', rangedweapon_damage_5:'1d10-6', rangedweapon_mindamage_5:'1',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'3',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Chakram":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwskm', rangedweapon_damage_5:'1d10-2', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Plumbata":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwskm', rangedweapon_damage_5:'1d10-2', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Dart":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'throwskm', rangedweapon_damage_5:'1d10-6', rangedweapon_mindamage_5:'1',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'3',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'0', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Pre-20th Century Pistol":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'40m', rangedweapon_damage_5:'1d10-3', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'1', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Light Pistol":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'60m', rangedweapon_damage_5:'1d10-2', rangedweapon_mindamage_5:'3',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'3',  rangedweapon_recoil_5:'1', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'12', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Heavy Pistol":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'50m', rangedweapon_damage_5:'1d10+1', rangedweapon_mindamage_5:'4',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'1', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'8', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Light SMG":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'60m', rangedweapon_damage_5:'1d10-2', rangedweapon_mindamage_5:'3',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'3',  rangedweapon_recoil_5:'1', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'32', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Heavy SMG ":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'80m', rangedweapon_damage_5:'1d10+1', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'2', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'32', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Carbine":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'400m', rangedweapon_damage_5:'1d10+1', rangedweapon_mindamage_5:'4',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'2', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'30', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"Assault Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'500m', rangedweapon_damage_5:'1d10+3', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'2', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'30', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"Hunting Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'800m', rangedweapon_damage_5:'1d10+3', rangedweapon_mindamage_5:'5',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'5', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"Sniper Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'1400m', rangedweapon_damage_5:'1d10+6', rangedweapon_mindamage_5:'7',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'1', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'30', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"Shotgun":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'100m', rangedweapon_damage_5:'1d10+2', rangedweapon_mindamage_5:'5',   rangedweapon_armourdamage_5:'4', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'1', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'5', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"Anti-Material Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'1400m', rangedweapon_damage_5:'2d10+5', rangedweapon_mindamage_5:'10',   rangedweapon_armourdamage_5:'4', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'2', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'5', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"FlameThrower":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'15m', rangedweapon_damage_5:'2d10', rangedweapon_mindamage_5:'8',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'6', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"Grenade Launcher":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'200m', rangedweapon_damage_5:'', rangedweapon_mindamage_5:'',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'2', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'4', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Light Machine Gun":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'500m', rangedweapon_damage_5:'1d10+4', rangedweapon_mindamage_5:'6',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0.5', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'50', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
"Heavy Machine Gun":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'600m', rangedweapon_damage_5:'2d10-3', rangedweapon_mindamage_5:'8',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'4', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'200', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"Portable Rocket or Torpedo":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'m', rangedweapon_damage_5:'', rangedweapon_mindamage_5:'',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Rocket',  rangedweapon_clip_5:'1', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
"Anti-Personnel Rocket":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'1000m', rangedweapon_damage_5:'3d10+6', rangedweapon_mindamage_5:'10',   rangedweapon_armourdamage_5:'4', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'12mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Anti-Tank Rocket":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'1000m', rangedweapon_damage_5:'3d10+6', rangedweapon_mindamage_5:'10',   rangedweapon_armourdamage_5:'10', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'10mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Ground to Air Missile":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'10000m', rangedweapon_damage_5:'3d10+6', rangedweapon_mindamage_5:'10',   rangedweapon_armourdamage_5:'10', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'8mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"A130 Magnetic Protocol Mine":   {rangedweapon_skill_5:  'Detect', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+4', rangedweapon_mindamage_5:'5',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'12mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Anti-Personnel Mine":   {rangedweapon_skill_5:  'demolitions', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+4', rangedweapon_mindamage_5:'6',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'10mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Dynamite":   {rangedweapon_skill_5:  'demolitions', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+1', rangedweapon_mindamage_5:'4',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'6mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Flashbang":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10-5', rangedweapon_mindamage_5:'1',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'6mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Frag Grenade":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+4', rangedweapon_mindamage_5:'5',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'10mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Molotov Cocktail":   {rangedweapon_skill_5:  'throwsk', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+1', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'3mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Plasma Charge":   {rangedweapon_skill_5:  'demolitions', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+8', rangedweapon_mindamage_5:'7',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'1mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Satchel Charge":   {rangedweapon_skill_5:  'demolitions', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+6', rangedweapon_mindamage_5:'7',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'8mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"Shaped Charge":   {rangedweapon_skill_5:  'demolitions', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10+5', rangedweapon_mindamage_5:'5',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'1mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Smoke Grenade":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'m', rangedweapon_damage_5:'', rangedweapon_mindamage_5:'',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'12mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Tactical Warhead":   {rangedweapon_skill_5:  'demolitions', rangedweapon_range_5:'m', rangedweapon_damage_5:'4d10', rangedweapon_mindamage_5:'20',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'30mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Terminator Power Cell":   {rangedweapon_skill_5:  'demolitions', rangedweapon_range_5:'m', rangedweapon_damage_5:'2d10+4', rangedweapon_mindamage_5:'7',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'10mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Jury-rigged Plasma Pistol":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'45m', rangedweapon_damage_5:'1d10+4', rangedweapon_mindamage_5:'5',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'3',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'15', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"Jury-rigged Plasma Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'250m', rangedweapon_damage_5:'2d10-2', rangedweapon_mindamage_5:'7',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'3',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'30', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
"M-14 Plasma Pistol":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'90m', rangedweapon_damage_5:'1d10+3', rangedweapon_mindamage_5:'5',   rangedweapon_armourdamage_5:'2', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'30', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"M-25 Phased Plasma Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'150m', rangedweapon_damage_5:'2d10-4', rangedweapon_mindamage_5:'8',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'60', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'2'},
"M-20 Phased Plasma Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'600m', rangedweapon_damage_5:'2d10', rangedweapon_mindamage_5:'8',   rangedweapon_armourdamage_5:'4', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'100', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
"P-30: Plasma Mode":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'150m', rangedweapon_damage_5:'2d10-2', rangedweapon_mindamage_5:'7',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'60', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"P-30: Laser Mode":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'500m', rangedweapon_damage_5:'1d10', rangedweapon_mindamage_5:'4',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'60', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"H-31 Plasma Repeater":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'300m', rangedweapon_damage_5:'2d10+2', rangedweapon_mindamage_5:'8',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'250', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"H-23 Heavy Plasma Repeater":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'300m', rangedweapon_damage_5:'2d10+6', rangedweapon_mindamage_5:'10',   rangedweapon_armourdamage_5:'4', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'150', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'5'},
"P-80 Light Plasma Cannon":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'700m', rangedweapon_damage_5:'2d10+2', rangedweapon_mindamage_5:'6',   rangedweapon_armourdamage_5:'5', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'150', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"P-40 Heavy Plasma Cannon":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'1000m', rangedweapon_damage_5:'2d10+6', rangedweapon_mindamage_5:'8',   rangedweapon_armourdamage_5:'5', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'150', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'6'},
"L-3 Laser Rifle":   {rangedweapon_skill_5:  'rifle', rangedweapon_range_5:'500m', rangedweapon_damage_5:'1d10', rangedweapon_mindamage_5:'4',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'100', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
"Blinding Laser":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'250m', rangedweapon_damage_5:'1d10-5', rangedweapon_mindamage_5:'1',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'100', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
"L-7 Laser Cannon":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'1500m', rangedweapon_damage_5:'2d10', rangedweapon_mindamage_5:'4',   rangedweapon_armourdamage_5:'3', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'100', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"L-7P laser Pulse Cannon":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'1000m', rangedweapon_damage_5:'2d10', rangedweapon_mindamage_5:'4',   rangedweapon_armourdamage_5:'5', rangedweapon_rof_5:'10',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'50', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"Z-6 Portable Denial System":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'100m', rangedweapon_damage_5:'1d10-5', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'25', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"Z-7 Area Denial System":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'1000m', rangedweapon_damage_5:'1d10+1', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'100', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'8'},
"P2 Particle Beam Weapons":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'m', rangedweapon_damage_5:'4d10', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'1', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'20', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'10'},
"Screamer":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'50m', rangedweapon_damage_5:'1d10-5', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'100', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"Hypersonic Emitter":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10-8', rangedweapon_mindamage_5:'1',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'', rangedweapon_ammo_5:'50mBlast',  rangedweapon_clip_5:'', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Stun Gun":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'10m', rangedweapon_damage_5:'1d10+1', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'15', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'1'},
"Electomagnetic Pulse":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'100m', rangedweapon_damage_5:'1d10-2', rangedweapon_mindamage_5:'2',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'10', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'4'},
"XF23-EES Shield":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'m', rangedweapon_damage_5:'1d10-1', rangedweapon_mindamage_5:'3',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'',  rangedweapon_recoil_5:'', rangedweapon_ammo_5:'5mBlast',  rangedweapon_clip_5:'10', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'8'},
"Doser":   {rangedweapon_skill_5:  'pistol', rangedweapon_range_5:'2m', rangedweapon_damage_5:'', rangedweapon_mindamage_5:'',   rangedweapon_armourdamage_5:'', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'25', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'0'},
"Duster":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'20m', rangedweapon_damage_5:'', rangedweapon_mindamage_5:'0',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'10', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
"Water Cannon":   {rangedweapon_skill_5:  'supportwpn', rangedweapon_range_5:'20m', rangedweapon_damage_5:'1d10-5', rangedweapon_mindamage_5:'0',   rangedweapon_armourdamage_5:'0', rangedweapon_rof_5:'1',  rangedweapon_recoil_5:'0', rangedweapon_ammo_5:'Standard',  rangedweapon_clip_5:'100', rangedweapon_clipused_5:'0',   rangedweapon_enc_5:'3'},
	}
    getAttrs(['rangedweapon_5'], values => {
        let name = values.rangedweapon_5;
        let output = rangeddetails[name] || '';
        if(output) setAttrs(output);
    });
});

on("change:rangedweapon_5 change:rangedweapon_rof_5 change:rangedweapon_recoil_5", function() {
  getAttrs(["rangedweapon_5","rangedweapon_rof_5","rangedweapon_recoil_5"], function(values) {
     const rofdetails = {
"A Heavyish Rock":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Combat Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tomahawk":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Spear":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shuriken":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Throwing Knife":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Chakram":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plumbata":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dart":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Pre-20th Century Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light SMG":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy SMG ":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Carbine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Assault Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hunting Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Sniper Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shotgun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Material Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"FlameThrower":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Grenade Launcher":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Light Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Heavy Machine Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Portable Rocket or Torpedo":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Tank Rocket":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Ground to Air Missile":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"A130 Magnetic Protocol Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Anti-Personnel Mine":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Dynamite":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Flashbang":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Frag Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Molotov Cocktail":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Plasma Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Satchel Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Shaped Charge":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Smoke Grenade":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Tactical Warhead":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Terminator Power Cell":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Jury-rigged Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-14 Plasma Pistol":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-25 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"M-20 Phased Plasma Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Plasma Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-30: Laser Mode":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-31 Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"H-23 Heavy Plasma Repeater":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-80 Light Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P-40 Heavy Plasma Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-3 Laser Rifle":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Blinding Laser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7 Laser Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"L-7P laser Pulse Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-6 Portable Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Z-7 Area Denial System":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"P2 Particle Beam Weapons":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Screamer":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Hypersonic Emitter":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Stun Gun":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Electomagnetic Pulse":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"XF23-EES Shield":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Doser":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Duster":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
"Water Cannon":  {rof1: '1',             rof3: '3',      rof10: '3',             rofsup25: '3',                  rofsup40: '3',                  rofsup50: '3',                  rofsup100: '3',                         rec1: '0',      rec3: '0',      rec10: '0',     recsup25: '0',  recsup40: '0',  recsup50: '0',  rec100: '0'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_5"]||"";
      var setweaponname = values["rangedweapon_5"]||"";
      var setweaponrof = values["rangedweapon_rof_5"]||"";

	  if (setweaponrof == "1") {
		setweaponrecoil = rofdetails[setweaponname]["rec1"];
		setweaponrof = rofdetails[setweaponname]["rof1"];
		} 
	  else if (setweaponrof == "3") {
		setweaponrecoil = rofdetails[setweaponname]["rec3"];
		setweaponrof = rofdetails[setweaponname]["rof3"];
		}
	  else if (setweaponrof == "10") {
		setweaponrecoil = rofdetails[setweaponname]["rec10"];
		setweaponrof = rofdetails[setweaponname]["rof10"];
		}
	  else if (setweaponrof == "SUP(25)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup25"];
		setweaponrof = rofdetails[setweaponname]["rofsup25"];
		}
	  else if (setweaponrof == "SUP(40)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup40"];
		setweaponrof = rofdetails[setweaponname]["rofsup40"];
		}
	  else if (setweaponrof == "SUP(50)") {
		setweaponrecoil = rofdetails[setweaponname]["recsup50"];
		setweaponrof = rofdetails[setweaponname]["rofsup50"];
		}
	  else if (setweaponrof == "SUP(100)") {
		setweaponrecoil = rofdetails[setweaponname]["rec100"];
		setweaponrof = rofdetails[setweaponname]["rofsup100"];
		};

      setAttrs({
		"rangedweapon_rof_5": setweaponrof,
		"rangedweapon_recoil_5": setweaponrecoil,
      });
  });
});

on("change:rangedweapon_5 change:rangedweapon_skill_5 change:rangedweapon_damage_5 change:rangedweapon_mindamage_5 change:rangedweapon_armourdamage_5 change:rangedweapon_rof_5 change:rangedweapon_recoil_5 change:rangedweapon_ammo_5", function() {
  getAttrs(["rangedweapon_5","rangedweapon_skill_5","rangedweapon_damage_5","rangedweapon_mindamage_5","rangedweapon_armourdamage_5","rangedweapon_rof_5","rangedweapon_recoil_5","rangedweapon_ammo_5"], function(values) {
     const ammodetails = {
		"Standard":	{dammod: '0',	admod: '0',	ammonotes: ''},
		"Rocket":	{dammod: '0',	admod: '0',	ammonotes: 'This is a Rocket Launcher'},
		"1mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 1 meter blast radius'},
		"5mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 5 meter blast radius'},
		"6mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 6 meter blast radius'},
		"8mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 8 meter blast radius'},
		"10mBlast":	{dammod: '0',	admod: '0',ammonotes: 'Damage affects 10 meter blast radius'},
		"12mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 12 meter blast radius'},
		"30mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 30 meter blast radius'},
		"50mBlast":	{dammod: '0',	admod: '0',	ammonotes: 'Damage affects 50 meter blast radius'},
	}

      var setweaponrecoil = values["rangedweapon_recoil_5"]||"";
      var setweaponrof = values["rangedweapon_rof_5"]||"";
      var setweaponname = values["rangedweapon_5"]||"";
      var setweaponskill = values["rangedweapon_skill_5"]||"";
      var setweaponammo = values["rangedweapon_ammo_5"]||"";

	  var setammodamage = ammodetails[setweaponammo]["dammod"];
	  var setammoad = ammodetails[setweaponammo]["admod"];
	  var setammonotes = ammodetails[setweaponammo]["ammonotes"];
	  var setrofbonusdamage = "0";
	  if (setweaponrof == "1") {
		setrofbonusdamage = "0";
		} 
	  else if (setweaponrof == "3") {
		setrofbonusdamage = "2";
		}
	  else if (setweaponrof == "10") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(25)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(40)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(50)") {
		setrofbonusdamage = "4";
		}
	  else if (setweaponrof == "SUP(100)") {
		setrofbonusdamage = "4";
		};

      var setweapondmg = values["rangedweapon_damage_5"]+"+"+setrofbonusdamage+"+"+setammodamage||"";
      var setweaponmindmg = values["rangedweapon_mindamage_5"]+"+"+setrofbonusdamage+"+"+setammodamage||"0";
      var setweaponad = values["rangedweapon_armourdamage_5"]+"+"+setammoad||"0";
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}-"+setweaponrecoil+"}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}{{weaponnotes="+setammonotes+"}}";
      setAttrs({
		"rangedweapon_roll_5": setweaponroll,
      });
  });
});


on('change:meleeweapon_1', event => {
     const meleedetails = {
		"Punch or Kick":						{meleeweapon_skill_1: 'Unarmed',		meleeweapon_damage_1: 'STR-2',	meleeweapon_mindamage_1: '1',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '0'},
		"Brass Knuckles":						{meleeweapon_skill_1: 'Unarmed',		meleeweapon_damage_1: 'STR',	meleeweapon_mindamage_1: '1',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '0'},
		"A Heavyish Rock":						{meleeweapon_skill_1: 'Unarmed',		meleeweapon_damage_1: '1d10-5',	meleeweapon_mindamage_1: '1',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '1'},
		"Combat Knife":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10-3',	meleeweapon_mindamage_1: '2',	meleeweapon_armourdamage_1: '1',	meleeweapon_enc_1: '0'},
		"Tomahawk":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10-3',	meleeweapon_mindamage_1: '2',	meleeweapon_armourdamage_1: '1',	meleeweapon_enc_1: '0'},
		"Hunting Knife":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10-3',	meleeweapon_mindamage_1: '2',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '0'},
		"Folding Knife":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10-4',	meleeweapon_mindamage_1: '1',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '0'},
		"Sword":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10-1',	meleeweapon_mindamage_1: '3',	meleeweapon_armourdamage_1: '1',	meleeweapon_enc_1: '1'},
		"Police Baton":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10-4',	meleeweapon_mindamage_1: '2',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '1'},
		"Improvised Bludgeon":						{meleeweapon_skill_1: 'Unarmed',		meleeweapon_damage_1: '1d10-4',	meleeweapon_mindamage_1: '1',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '0'},
		"Spear":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10-3',	meleeweapon_mindamage_1: '2',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '1'},
		"Power Tools":						{meleeweapon_skill_1: 'Unarmed',		meleeweapon_damage_1: '1d10-2',	meleeweapon_mindamage_1: '2',	meleeweapon_armourdamage_1: '2',	meleeweapon_enc_1: '2'},
		"Stun Gun":						{meleeweapon_skill_1: 'Unarmed',		meleeweapon_damage_1: '1d10-3',	meleeweapon_mindamage_1: '1',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '0'},
		"Cattle Prod":						{meleeweapon_skill_1: 'meleewpn',		meleeweapon_damage_1: '1d10+1',	meleeweapon_mindamage_1: '3',	meleeweapon_armourdamage_1: '0',	meleeweapon_enc_1: '2'},
	}
    getAttrs(['meleeweapon_1'], values => {
        let name = values.meleeweapon_1;
        let output = meleedetails[name] || '';
        if(output) setAttrs(output);
    });
});

on("change:meleeweapon_1 change:meleeweapon_skill_1 change:meleeweapon_damage_1 change:meleeweapon_mindamage_1 change:meleeweapon_armourdamage_1 change:strengthdam change:strength", function() {
  getAttrs(["meleeweapon_1","meleeweapon_skill_1","meleeweapon_damage_1","meleeweapon_mindamage_1","meleeweapon_armourdamage_1","strengthdam","strength"], function(values) {
	  var strengthdam = parseInt(values["strengthdam"])||0;
      var setweaponname = values["meleeweapon_1"]||"";
      var setweaponskill = values["meleeweapon_skill_1"]||"";
      var setweapondmg = values["meleeweapon_damage_1"]||"";
      var setweapondam = values["meleeweapon_damage_1"]||"";
      var setweaponmindmg = parseInt(values["meleeweapon_mindamage_1"])||0;
	  var strength = values["strength"]||0;
	  
	  if (setweapondmg.substring(0,3) == "STR") {
		setweapondmg = setweapondmg.replace("STR",strength);
		}
	  else if (setweaponskill == "Unarmed") {
		setweapondmg = setweapondmg;
		setweaponmindmg = setweaponmindmg;
	  }
	  else {
		setweapondmg = setweapondmg+"+"+strengthdam;
		setweaponmindmg = setweaponmindmg+strengthdam;
	  };
      var setweaponad = parseInt(values["meleeweapon_armourdamage_1"])||0;
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}";
      setAttrs({
		"meleeweapon_roll_1": setweaponroll,
      });
  });
});

on('change:meleeweapon_2', event => {
     const meleedetails = {
		"Punch or Kick":						{meleeweapon_skill_2: 'Unarmed',		meleeweapon_damage_2: 'STR-2',	meleeweapon_mindamage_2: '1',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '0'},
		"Brass Knuckles":						{meleeweapon_skill_2: 'Unarmed',		meleeweapon_damage_2: 'STR',	meleeweapon_mindamage_2: '1',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '0'},
		"A Heavyish Rock":						{meleeweapon_skill_2: 'Unarmed',		meleeweapon_damage_2: '1d10-5',	meleeweapon_mindamage_2: '1',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '1'},
		"Combat Knife":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10-3',	meleeweapon_mindamage_2: '2',	meleeweapon_armourdamage_2: '1',	meleeweapon_enc_2: '0'},
		"Tomahawk":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10-3',	meleeweapon_mindamage_2: '2',	meleeweapon_armourdamage_2: '1',	meleeweapon_enc_2: '0'},
		"Hunting Knife":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10-3',	meleeweapon_mindamage_2: '2',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '0'},
		"Folding Knife":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10-4',	meleeweapon_mindamage_2: '1',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '0'},
		"Sword":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10-1',	meleeweapon_mindamage_2: '3',	meleeweapon_armourdamage_2: '1',	meleeweapon_enc_2: '1'},
		"Police Baton":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10-4',	meleeweapon_mindamage_2: '2',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '1'},
		"Improvised Bludgeon":						{meleeweapon_skill_2: 'Unarmed',		meleeweapon_damage_2: '1d10-4',	meleeweapon_mindamage_2: '1',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '0'},
		"Spear":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10-3',	meleeweapon_mindamage_2: '2',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '1'},
		"Power Tools":						{meleeweapon_skill_2: 'Unarmed',		meleeweapon_damage_2: '1d10-2',	meleeweapon_mindamage_2: '2',	meleeweapon_armourdamage_2: '2',	meleeweapon_enc_2: '2'},
		"Stun Gun":						{meleeweapon_skill_2: 'Unarmed',		meleeweapon_damage_2: '1d10-3',	meleeweapon_mindamage_2: '1',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '0'},
		"Cattle Prod":						{meleeweapon_skill_2: 'meleewpn',		meleeweapon_damage_2: '1d10+1',	meleeweapon_mindamage_2: '3',	meleeweapon_armourdamage_2: '0',	meleeweapon_enc_2: '2'},
	}
    getAttrs(['meleeweapon_2'], values => {
        let name = values.meleeweapon_2;
        let output = meleedetails[name] || '';
        if(output) setAttrs(output);
    });
});
on("change:meleeweapon_2 change:meleeweapon_skill_2 change:meleeweapon_damage_2 change:meleeweapon_mindamage_2 change:meleeweapon_armourdamage_2 change:strengthdam change:strength", function() {
  getAttrs(["meleeweapon_2","meleeweapon_skill_2","meleeweapon_damage_2","meleeweapon_mindamage_2","meleeweapon_armourdamage_2","strengthdam","strength"], function(values) {
	  var strengthdam = parseInt(values["strengthdam"])||0;
      var setweaponname = values["meleeweapon_2"]||"";
      var setweaponskill = values["meleeweapon_skill_2"]||"";
      var setweapondmg = values["meleeweapon_damage_2"]||"";
      var setweaponmindmg = parseInt(values["meleeweapon_mindamage_2"])||0;
      var setweaponad = parseInt(values["meleeweapon_armourdamage_2"])||0;
	  var strength = values["strength"]||0;
	  
	  if (setweapondmg.substring(0,3) == "STR") {
		setweapondmg = setweapondmg.replace("STR",strength);
		}
	  else if (setweaponskill == "Unarmed") {
		setweapondmg = setweapondmg;
		setweaponmindmg = setweaponmindmg;
	  }
	  else {
		setweapondmg = setweapondmg+"+"+strengthdam;
		setweaponmindmg = setweaponmindmg+strengthdam;
	  };
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}";
      setAttrs({
		"meleeweapon_roll_2": setweaponroll,
      });
  });
});

on('change:meleeweapon_3', event => {
     const meleedetails = {
		"Punch or Kick":						{meleeweapon_skill_3: 'Unarmed',		meleeweapon_damage_3: 'STR-2',	meleeweapon_mindamage_3: '1',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '0'},
		"Brass Knuckles":						{meleeweapon_skill_3: 'Unarmed',		meleeweapon_damage_3: 'STR',	meleeweapon_mindamage_3: '1',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '0'},
		"A Heavyish Rock":						{meleeweapon_skill_3: 'Unarmed',		meleeweapon_damage_3: '1d10-5',	meleeweapon_mindamage_3: '1',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '1'},
		"Combat Knife":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10-3',	meleeweapon_mindamage_3: '2',	meleeweapon_armourdamage_3: '1',	meleeweapon_enc_3: '0'},
		"Tomahawk":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10-3',	meleeweapon_mindamage_3: '2',	meleeweapon_armourdamage_3: '1',	meleeweapon_enc_3: '0'},
		"Hunting Knife":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10-3',	meleeweapon_mindamage_3: '2',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '0'},
		"Folding Knife":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10-4',	meleeweapon_mindamage_3: '1',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '0'},
		"Sword":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10-1',	meleeweapon_mindamage_3: '3',	meleeweapon_armourdamage_3: '1',	meleeweapon_enc_3: '1'},
		"Police Baton":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10-4',	meleeweapon_mindamage_3: '2',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '1'},
		"Improvised Bludgeon":						{meleeweapon_skill_3: 'Unarmed',		meleeweapon_damage_3: '1d10-4',	meleeweapon_mindamage_3: '1',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '0'},
		"Spear":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10-3',	meleeweapon_mindamage_3: '2',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '1'},
		"Power Tools":						{meleeweapon_skill_3: 'Unarmed',		meleeweapon_damage_3: '1d10-2',	meleeweapon_mindamage_3: '2',	meleeweapon_armourdamage_3: '2',	meleeweapon_enc_3: '2'},
		"Stun Gun":						{meleeweapon_skill_3: 'Unarmed',		meleeweapon_damage_3: '1d10-3',	meleeweapon_mindamage_3: '1',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '0'},
		"Cattle Prod":						{meleeweapon_skill_3: 'meleewpn',		meleeweapon_damage_3: '1d10+1',	meleeweapon_mindamage_3: '3',	meleeweapon_armourdamage_3: '0',	meleeweapon_enc_3: '2'},
	}
    getAttrs(['meleeweapon_3'], values => {
        let name = values.meleeweapon_3;
        let output = meleedetails[name] || '';
        if(output) setAttrs(output);
    });
});
on("change:meleeweapon_3 change:meleeweapon_skill_3 change:meleeweapon_damage_3 change:meleeweapon_mindamage_3 change:meleeweapon_armourdamage_3 change:strengthdam change:strength", function() {
  getAttrs(["meleeweapon_3","meleeweapon_skill_3","meleeweapon_damage_3","meleeweapon_mindamage_3","meleeweapon_armourdamage_3","strengthdam","strength"], function(values) {
	  var strengthdam = parseInt(values["strengthdam"])||0;
      var setweaponname = values["meleeweapon_3"]||"";
      var setweaponskill = values["meleeweapon_skill_3"]||"";
      var setweapondmg = values["meleeweapon_damage_3"]||"";
      var setweaponmindmg = parseInt(values["meleeweapon_mindamage_3"])||0;
      var setweaponad = parseInt(values["meleeweapon_armourdamage_3"])||0;
	  var strength = values["strength"]||0;
	  
	  if (setweapondmg.substring(0,3) == "STR") {
		setweapondmg = setweapondmg.replace("STR",strength);
		}
	  else if (setweaponskill == "Unarmed") {
		setweapondmg = setweapondmg;
		setweaponmindmg = setweaponmindmg;
	  }
	  else {
		setweapondmg = setweapondmg+"+"+strengthdam;
		setweaponmindmg = setweaponmindmg+strengthdam;
	  };
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}";
      setAttrs({
		"meleeweapon_roll_3": setweaponroll,
      });
  });
});

on('change:meleeweapon_4', event => {
     const meleedetails = {
		"Punch or Kick":						{meleeweapon_skill_4: 'Unarmed',		meleeweapon_damage_4: 'STR-2',	meleeweapon_mindamage_4: '1',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '0'},
		"Brass Knuckles":						{meleeweapon_skill_4: 'Unarmed',		meleeweapon_damage_4: 'STR',	meleeweapon_mindamage_4: '1',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '0'},
		"A Heavyish Rock":						{meleeweapon_skill_4: 'Unarmed',		meleeweapon_damage_4: '1d10-5',	meleeweapon_mindamage_4: '1',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '1'},
		"Combat Knife":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10-3',	meleeweapon_mindamage_4: '2',	meleeweapon_armourdamage_4: '1',	meleeweapon_enc_4: '0'},
		"Tomahawk":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10-3',	meleeweapon_mindamage_4: '2',	meleeweapon_armourdamage_4: '1',	meleeweapon_enc_4: '0'},
		"Hunting Knife":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10-3',	meleeweapon_mindamage_4: '2',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '0'},
		"Folding Knife":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10-4',	meleeweapon_mindamage_4: '1',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '0'},
		"Sword":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10-1',	meleeweapon_mindamage_4: '3',	meleeweapon_armourdamage_4: '1',	meleeweapon_enc_4: '1'},
		"Police Baton":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10-4',	meleeweapon_mindamage_4: '2',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '1'},
		"Improvised Bludgeon":						{meleeweapon_skill_4: 'Unarmed',		meleeweapon_damage_4: '1d10-4',	meleeweapon_mindamage_4: '1',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '0'},
		"Spear":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10-3',	meleeweapon_mindamage_4: '2',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '1'},
		"Power Tools":						{meleeweapon_skill_4: 'Unarmed',		meleeweapon_damage_4: '1d10-2',	meleeweapon_mindamage_4: '2',	meleeweapon_armourdamage_4: '2',	meleeweapon_enc_4: '2'},
		"Stun Gun":						{meleeweapon_skill_4: 'Unarmed',		meleeweapon_damage_4: '1d10-3',	meleeweapon_mindamage_4: '1',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '0'},
		"Cattle Prod":						{meleeweapon_skill_4: 'meleewpn',		meleeweapon_damage_4: '1d10+1',	meleeweapon_mindamage_4: '3',	meleeweapon_armourdamage_4: '0',	meleeweapon_enc_4: '2'},
	}
    getAttrs(['meleeweapon_4'], values => {
        let name = values.meleeweapon_4;
        let output = meleedetails[name] || '';
        if(output) setAttrs(output);
    });
});
on("change:meleeweapon_4 change:meleeweapon_skill_4 change:meleeweapon_damage_4 change:meleeweapon_mindamage_4 change:meleeweapon_armourdamage_4 change:strengthdam change:strength", function() {
  getAttrs(["meleeweapon_4","meleeweapon_skill_4","meleeweapon_damage_4","meleeweapon_mindamage_4","meleeweapon_armourdamage_4","strengthdam","strength"], function(values) {
	  var strengthdam = parseInt(values["strengthdam"])||0;
      var setweaponname = values["meleeweapon_4"]||"";
      var setweaponskill = values["meleeweapon_skill_4"]||"";
      var setweapondmg = values["meleeweapon_damage_4"]||"";
      var setweaponmindmg = parseInt(values["meleeweapon_mindamage_4"])||0;
      var setweaponad = parseInt(values["meleeweapon_armourdamage_4"])||0;
	  var strength = values["strength"]||0;
	  
	  if (setweapondmg.substring(0,3) == "STR") {
		setweapondmg = setweapondmg.replace("STR",strength);
		}
	  else if (setweaponskill == "Unarmed") {
		setweapondmg = setweapondmg;
		setweaponmindmg = setweaponmindmg;
	  }
	  else {
		setweapondmg = setweapondmg+"+"+strengthdam;
		setweaponmindmg = setweaponmindmg+strengthdam;
	  };
	  var setweaponroll = "&{template:weapon} !?{Target Number|10|9|8|7|6|5|4|11|12|13|14|15|16|17|18} ?{Success Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} ?{Skill Dice Modifier|0|-1|-2|-3|-4|-5|-6|-7|-8|-9|1|2|3|4|5|6|7|8|9} {{name="+setweaponname+":"+setweaponskill+"}}{{success=[[{1d10+@{"+setweaponskill+"_total}+?{Success Dice Modifier}}>?{Target Number}]]}}{{skill=[[{[[@{"+setweaponskill+"}+1]]d10+@{"+setweaponskill+"_total}+?{Skill Dice Modifier}}>?{Target Number}]]}}{{damage=[["+setweapondmg+"]]}}{{mindmg=[["+setweaponmindmg+"]]}}{{ad=[["+setweaponad+"]]}}{{successreroll=[Reroll Success](~@{character_name}|successreroll)}}{{skillreroll=[Reroll Skill](~@{character_name}|skillreroll)}}{{reroll=[Reroll](~@{character_name}|reroll)}}";
      setAttrs({
		"meleeweapon_roll_4": setweaponroll,
      });
  });
});
</script>





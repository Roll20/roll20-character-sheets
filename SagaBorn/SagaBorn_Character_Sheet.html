<!-- SagaBorn Character Sheet -->
<!-- by Kilter -->
<!-- Version 2.0.0 02/07/18 (Basic)-->
<input type="hidden" name="attr_currentsheetversion" title="currentsheetversion" value="0.1"/>
<input type="radio" class="sheet-switch-pc-show sheet-switch" title="npc-show" name="attr_npc-show" value="1" checked /><span style="text-align: left;">PC </span><span> &nbsp; &nbsp; &nbsp; &nbsp;</span>
<input type="radio" class="sheet-switch-npc-show sheet-switch" title="npc-show" name="attr_npc-show" value="2" /><span style="text-align: left;">NPC</span>

<div class="sheet-switch-pc" style="width: 800px">
<!-- start PC section -->
	<div class="sheet-pc-charrpinfo" style="width: 800px;">
<!-- Header / Character Description -->

	<div style="float: left; width: 80px"></div>
    <div style="float: left"><img src="https://i.imgur.com/xsS6iH8.png" style="float: left; width: 300px;"></img><br>
    <div style="float: left; width: 30px;">&nbsp;</div><div style="float: left; width: 246px; font-size: 2em;">Character Sheet</div>
    </div>
    <div style="float: left"><input type="text" name="attr_character_name" style="width: 246px;"> <br>Character Name</div>
    <div style="float: left"><input type="text" name="attr_playername" style="width: 246px;"><br>Player Name</div>
    <br>
    <div style="float: left"><input type="text" name="attr_level" style="width: 246px;"> <br>Character Level</div>
    <div style="float: left"><input type="text" name="attr_classname" style="width: 246px;"><br>Class</div>
    <br>
    <div style="float: left"><input type="text" name="attr_homeland" style="width: 246px;"><br>Homeland</div>
    <div style="float: left"><input type="text" name="attr_hair" style="width: 120px;"> <br>Hair</div>
    <div style="float: left"><input type="text" name="attr_eyes" style="width: 120px;"> <br>Eyes</div>
    <br>
    <div style="float: left">
    <select name="attr_race" class="dtype" style="width: 110px;">
        <option>Human</option>
        <option>Dwarf</option>
        <option>Half-Dwarf</option>
        <option>Elf</option>
        <option>Elfing</option>
        <option>Feral Elfing</option>
        <option>Faun</option>
    </select><br>Race</div>
    <div style="float: left"><select style="width: 115px;" name="attr_size">
        <option value="-8">Colossal</option>
        <option value="-4">Gargantuan</option>
        <option value="-2">Huge</option>
        <option value="-1">Large</option>
        <option value="0" selected>Medium</option>
        <option value="1">Small</option>
        <option value="2">Tiny</option>
        <option value="4">Diminutive</option>
        <option value="8">Fine</option>
    </select><br>Size</div>
    <div style="float: left"><input type="text" name="attr_gender" style="width: 60px;"> <br>Gender</div>
    <div style="float: left"><input type="text" name="attr_age" style="width: 60px;"> <br>Age</div>
    <div style="float: left"><input type="text" name="attr_height" style="width: 60px;"> <br>Height</div>
    <div style="float: left"><input type="text" name="attr_weight" style="width: 60px;"> <br>Weight</div>

		<hr/>
<!-- TABS -->

	&nbsp;
	<input type="radio" name="attr_tab" class="sheet-tab sheet-tab1" value="1" title="Stats" checked="checked" />
		<span class="sheet-tab sheet-tab1">Stats</span>
	<input type="radio" name="attr_tab" class="sheet-tab sheet-tab2" value="2" title="Saga" />
		<span class="sheet-tab sheet-tab2">Saga</span>
	<input type="radio" name="attr_tab" class="sheet-tab sheet-tab3" value="3" title="Equipment" />
		<span class="sheet-tab sheet-tab3">Equipment</span>
	<input type="radio" name="attr_tab" class="sheet-tab sheet-tab4" value="4" title="Spell Book" />
		<span class="sheet-tab sheet-tab4">Spell Book</span>
	<input type="radio" name="attr_tab" class="sheet-tab sheet-tab5" value="5" title="Sanity" />
		<span class="sheet-tab sheet-tab5">Sanity</span>
	<!--input type="radio" name="attr_tab" class="sheet-tab sheet-tab6" value="6" title="Spells" />
		<span class="sheet-tab sheet-tab6">Spells</span-->
	<!--input type="radio" name="attr_tab" class="sheet-tab sheet-tab7" value="7" title="Saga" />
		<span class="sheet-tab sheet-tab7">Saga</span-->
	<!--input type="radio" name="attr_tab" class="sheet-tab sheet-tab8" value="8" title="Misc" />
		<span class="sheet-tab sheet-tab8" name="miscellaneous">Misc</span-->
	<!--input type="radio" name="attr_tab" class="sheet-tab sheet-tab9" value="9" title="Animal Companion" />
		<span class="sheet-tab sheet-tab9" name="Animal Companion">Animal Companion</span-->
	<!--input type="radio" name="attr_tab" class="sheet-tab sheet-tab10" value="10" title="Sanity" />
		<span class="sheet-tab sheet-tab10">Sanity</span-->
	<input type="radio" name="attr_tab" class="sheet-tab sheet-tab99" value="99" title="All" checked="checked" />
		<span class="sheet-tab sheet-tab99">All</span>

<!-- Tab 1 Stats -->
	<div class="sheet-tab-content sheet-tab1 sheet-tab99">
<!-- Stat block -->
	<table>
	<tr>
	<td>
		<table>
		<tr>
   		<td style="vertical-align: top;">
<!-- Ability Stat block -->
        <table>
            <tr>
                <td style="font-size: 0.50em; line-height: 100%;">ABILITYNAME</td>
                <td style="font-size: 0.50em; line-height: 100%;">ABILITY<br>SCORE</td>
                <td style="font-size: 0.50em; line-height: 100%;">ABILITY<br>MODIFIER</td>
                <td style="font-size: 0.50em; line-height: 100%;">BOUNS OR<br>PENAITY</td>
                <td style="font-size: 0.50em; line-height: 100%;">MODIFIER</td>
                <td style="font-size: 0.50em; line-height: 100%;">BASE<br>SCORE</td><td></td>
            </tr>
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%;">STR<br><div style="font-size: 0.65em;">Strength</div></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_str" style="height: 24px; width: 30px;" value="(@{strbase}+@{strmisc})" disabled="true"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_strmod" style="height: 24px; width: 30px;" value="(floor(@{str}/2-5)+@{strtemp})" disabled="true"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_strmisc" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_strtemp" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_strbase" value="7" style="height: 24px; width: 30px;"></td>
                <td>
                <button type="roll" name="attr_strcheck" title="strcheck" value="@{str-macro}"></button>
                <textarea rows="1" cols="50" style="display: none" name="attr_str-macro" title="str-macro (modify to modify roll macro)">&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Strength check:}} {{checkroll= [[ 1d20 + @{strmod} ]] }}</textarea>
                </td>
            </tr>
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%;">DEX<br><div style="font-size: 0.65em;">Dexterity</div></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_dex" style="height: 24px; width: 30px;" value="(@{dexbase}+@{dexmisc})" disabled="true"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_dexmod" style="height: 24px; width: 30px;" value="floor(@{dex}/2-5)+@{dextemp}" disabled="true"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_dexmisc" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_dextemp" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_dexbase" value="7" style="height: 24px; width: 30px;"></td>
                <td>
                <button type="roll" name="attr_dexcheck" title="dexcheck" value="@{dex-macro}"></button>
                <textarea rows="1" cols="50" style="display: none" name="attr_dex-macro" title="dex-macro (modify to modify roll macro)">&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Dexterity check:}} {{checkroll= [[ 1d20 + @{dexmod} ]] }}</textarea>
                </td>
            </tr>
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%;">CON<br><div style="font-size: 0.65em;">Constitution</div></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_con" style="height: 24px; width: 30px;" value="(@{conbase}+@{conmisc})" disabled="true"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_conmod" style="height: 24px; width: 30px;" value="(floor(@{con}/2-5)+@{contemp})" disabled="true"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_conmisc" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_contemp" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_conbase" value="7" style="height: 24px; width: 30px;"></td>
                <td>
                <button type="roll" name="attr_concheck" title="concheck" value="@{con-macro}"></button>
                <textarea rows="1" cols="50" style="display: none" name="attr_con-macro" title="con-macro (modify to modify roll macro)">&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Constitution check:}} {{checkroll= [[ 1d20 + @{conmod} ]] }}</textarea>
                </td>
            </tr>
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%;">INT<br><div style="font-size: 0.65em;">Intelligence</div></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_int" style="height: 24px; width: 30px;" value="(@{intbase}+@{intmisc})" disabled="true"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_intmod" style="height: 24px; width: 30px;" value="(floor(@{int}/2-5)+@{inttemp})" disabled="true"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_intmisc" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_inttemp" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_intbase" value="7" style="height: 24px; width: 30px;"></td>
                <td>
                <button type="roll" name="attr_intcheck" title="intcheck" value="@{int-macro}"></button>
                <textarea rows="1" cols="50" style="display: none" name="attr_int-macro" title="int-macro (modify to modify roll macro)">&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Intelligence check:}} {{checkroll= [[ 1d20 + @{intmod} ]] }}</textarea>
                </td>
            </tr>
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%;">WIS<br><div style="font-size: 0.65em;">Wisdom</div></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_wis" style="height: 24px; width: 30px;" value="(@{wisbase}+@{wismisc})" disabled="true"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_wismod" style="height: 24px; width: 30px;" value="(floor(@{wis}/2-5)+@{wistemp})" disabled="true"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_wismisc" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_wistemp" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_wisbase" value="7" style="height: 24px; width: 30px;"></td>
                <td>
                <button type="roll" name="attr_wischeck" title="wischeck" value="@{wis-macro}"></button>
                <textarea rows="1" cols="50" style="display: none" name="attr_wis-macro" title="wis-macro (modify to modify roll macro)">&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Wisdom check:}} {{checkroll= [[ 1d20 + @{wismod} ]] }}</textarea>
                </td>
            </tr>
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%;">CHA<br><div style="font-size: 0.65em;">Charisma</div></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_cha" style="height: 24px; width: 30px;" value="(@{chabase}+@{chamisc})" disabled="true"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_chamod" style="height: 24px; width: 30px;" value="(floor(@{cha}/2-5)+@{chatemp})" disabled="true"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_chamisc" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center1"><input class="sheet-inputbox" type="number" name="attr_chatemp" value="0" style="height: 24px; width: 30px;"></td>
                <td class="sheet-table-data-center"><input class="sheet-inputbox" type="number" name="attr_chabase" value="7" style="height: 24px; width: 30px;"></td>
                <td>
                <button type="roll" name="attr_chacheck" title="chacheck" value="@{cha-macro}"></button>
                <textarea rows="1" cols="50" style="display: none" name="attr_cha-macro" title="cha-macro (modify to modify roll macro)">&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Charisma check:}} {{checkroll= [[ 1d20 + @{chamod} ]] }}</textarea>
                </td>
            </tr>
        </table>
    </td>
    <td style="vertical-align: top;">
<!-- HitPoints block -->
        <table style="width: 210px;">
            <tr>
                <td class="sheet-statlabel-big" style="width: 70px; line-height: 90%;">HP<br><div style="font-size: 0.65em;">Hit Points</div></td>
                <td><input class="sheet-inputbox" type="number" name="attr_hitpoints" style="height: 24px; width: 53px;"><br><div style="font-size: 0.5em;">Total</div></td>
                <td><input class="sheet-inputbox" type="number" name="attr_damageresistance" style="height: 24px; width: 53px;"><br><div style="font-size: 0.5em;">DR</div></td>
            </tr>
            <tr>
            	<td colspan="2"><input class="sheet-inputbox" type="number" name="attr_woundscurrenthp" style="height: 24px; width: 106px;"><br><div style="font-size: 0.5em;">Wounds/Current HP</div></td>
                <td><input class="sheet-inputbox" type="number" name="attr_nonlethaldamage" style="height: 24px; width: 53px;"><br><div style="font-size: 0.5em;">Nonlethal Damage</div></td>
            </tr>
        </table>    
<!-- Initiative Stat block -->
        <table>
            <tr>
                <td class="sheet-statlabel-big" colspan="4" style="width: 210px; height: 24px; line-height: 90%;">INITIATIVE<br><div style="font-size: 0.65em;">MODIFIER</div></td>
            </tr>
            <tr>   
                <td style="line-height: 90%;"><input class="sheet-inputbox" type="number" name="attr_init" style="height: 24px; width: 33px;" value="(floor(@{dex}/2-5)+@{initmiscmod})" disabled="true">&nbsp;=<br><div style="font-size: 0.5em;">TOTAL<br>&nbsp;</div></td>
                <td style="line-height: 90%;"><input class="sheet-inputbox" type="number" name="attr_initdexmod" value="floor(@{dex}/2-5)" disabled="true" style="height: 24px; width: 33px;">&nbsp;+<br><div style="font-size: 0.5em;">DEX<br>MODIFIER</div></td>
                <td style=" line-height: 90%;"><input class="sheet-inputbox" type="number" name="attr_initmiscmod" value="0" style="height: 24px; width: 33px;"><br><div style="font-size: 0.5em;">MISC<br>MODIFIER</div></td>
                <td style="vertical-align: top;">
                	<textarea rows="1" cols="40" style="display: none" title="initmacro" name="attr_initmacro">&{template:SagaBornInitiative} {{name=@{character_name} }} {{check=Initiative:}} {{checkroll= [[ 1d20 + [[ @{init} ]] &{tracker} ]] }}
                	</textarea>
                	<button class="tokenaction" type="roll" name="attr_initiative" title="initiative" value="@{initmacro}"></button>
                </td>
            </tr>
        </table>
 <!--  ABILITY RECALCULATION BLOCK -->
			<table>
				<tr>
					<td style="width: 30px;"><input type="checkbox" name="attr_recalc" title="recalc" value="1" /> </td>
					<td style="line-height: 90%; font-size: 0.45em; text-align: left" >Ability score recalc. Click this box to force a recalc of the ability scores.</td>
				</tr>
			</table>
    </td>
</tr>
<tr>
    <td colspan="2">
<!-- Armor Class Stat block -->
        <table>
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%;">AC<br><div style="font-size: 0.65em;">Armor Class</div></td>
                <td style="line-height: 90%;"><input class="sheet-inputbox" type="text" name="attr_armorclass" title="armorclass"
                value="(@{basearmorclass}+@{armorclassbonus}+@{armorclassshieldbonus}+@{armorclassdexmod}+@{armorclasssizemod}+@{armorclassnaturalarmor}+@{armorclassmiscmod})" disabled="true" style="height: 24px; width: 30px;"><br><div style="line-height: 90%; font-size: 0.5em;">Total<br>AC</div></td>
                <td style="line-height: 90%;">= <input class="sheet-inputbox" type="text" name="attr_basearmorclass" title="basearmorclass" style="height: 24px; width: 24px;" value="10" disabled="true">+ <div style="line-height: 90%; font-size: 0.5em;">Base<br>AC</div></td>
                <td style="line-height: 90%;"><input class="sheet-inputbox" type="text" name="attr_armorclassbonus" title="armorclassbonus" style="height: 24px; width: 30px;" value="0" >
                 <br><div style="line-height: 90%; font-size: 0.5em;">Armor<br>Bonus</div></td>
                <td style="line-height: 90%;">+ <input class="sheet-inputbox" type="text" name="attr_armorclassshieldbonus" title="armorclassshieldbonus" value="@{shieldbonus}" disabled="true" style="height: 24px; width: 30px;"> <br><div style="line-height: 90%; font-size: 0.5em;">Shield<br>Bonus</div></td>
                <td style="line-height: 90%;">+ <input class="sheet-inputbox" type="text" name="attr_armorclassdexmod" title="armorclassdexmod" value="floor(@{dex}/2-5)+@{dextemp}" disabled="true" style="height: 24px; width: 30px;"> <br><div style="line-height: 90%; font-size: 0.5em;">Dex<br>Modifier</div></td>
                <td style="line-height: 90%;">+ <input class="sheet-inputbox" type="text" name="attr_armorclasssizemod" title="armorclasssizemod" value="@{size}" disabled="true" style="height: 24px; width: 30px;"> <br><div style="line-height: 90%; font-size: 0.5em;">Size<br>Modifier</div></td>
                <td style="line-height: 90%;">+ <input class="sheet-inputbox" type="text" name="attr_armorclassnaturalarmor" title="armorclassnaturalarmor" value="0" style="height: 24px; width: 30px;"> <br><div style="line-height: 90%; font-size: 0.5em;">Natural<br>Armor</div></td>
                <td style="line-height: 90%;">+ <input class="sheet-inputbox" type="text" name="attr_armorclassmiscmod" title="armorclassmiscmod" value="0" style="height: 24px; width: 30px;"> <br><div style="line-height: 90%; font-size: 0.5em;">Misc<br>Modifier</div></td>
            </tr>
        </table>
        <table>
		<tr>
		<td style="font-size: 0.65em; line-height: 90%; width: 35px;" class="sheet-statlabel">TOUCH<br>Armor Class</td>
		<td valign="top"><input class="sheet-inputbox" type="text" style="width: 35px;" name="attr_touchac" title="touchac" value="@{basearmorclass}+@{armorclassdexmod}+@{armorclasssizemod}+@{armorclassmiscmod}" disabled="true" /> &nbsp; </td>
		<td style="font-size: 0.65em; line-height: 90%; width: 70px;" class="sheet-statlabel">FLAT-FOOTED<br>Armor Class</td>
		<td valign="top"><input class="sheet-inputbox" type="text" style="width: 35px;" name="attr_flatac" title="flatac" value="@{basearmorclass}+@{armorclassbonus}+@{armorclassshieldbonus}+@{armorclasssizemod}+@{armorclassnaturalarmor}+@{armorclassmiscmod}" disabled="true" /> &nbsp; </td>
		</tr>
		</table>
    </td>
</tr>
<tr>
    <td colspan="2">
<!-- Save Throws Stat block -->
        <table>
            <tr style="line-height: 90%;" >
                <th>Saving Throws</th>
                <th>Total</th>
                <th>Base<br>Save</th>
                <th>Ability<br>Modifier</th>
                <th>Magic<br>Modifier</th>
                <th>Misc<br>Modifier</th>
                <th>Temp<br>Modifier</th>
                <td></td>                
            </tr>
            <tr>
                <td class="sheet-statlabel-big" style="width: 60px;">Fortitude<br><div style="font-size: 0.65em;">(Constitution)</div>
                </td>
                <td><input class="sheet-inputbox" type="number" name="attr_fortitude" style="height: 24px; width: 30px;" 
                value="(@{fortitudebase}+@{fortitudeabilitymod}+@{fortitudemagicmod}+@{fortitudemiscmod}+@{fortitudetempmod})" 
                disabled="true"> = </td>
                <td><input class="sheet-inputbox" type="number" name="attr_fortitudebase" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_fortitudeabilitymod" 
                value="(@{conmod})" style="height: 24px; width: 30px;" disabled="true"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_fortitudemagicmod" value="0" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_fortitudemiscmod" value="0" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_fortitudetempmod" value="0" style="height: 24px; width: 30px;"></td>
                <td>
            <button type="roll" style="width:20px;" name="attr_fortitudecheck" title="fortitudecheck" value="@{fortitudemacro}"></button>
            <textarea rows="1" cols="50" style="display: none" name="attr_fortitudemacro" title="fortitudemacro">&{template:SagaBornStdRoll} {{saveflag=true}} {{name=@{character_name} }} {{subtags=braces against the attack}} {{check=Fortitude check:}} {{checkroll= [[ 1d20 + [[ @{fortitude} ]] ]] }}</textarea>
                </td>
            </tr>
            <tr>
                <td class="sheet-statlabel-big" style="width: 60px;">Reflex<br><div style="font-size: 0.65em;">(Dexterity)</div></td>
                <td><input class="sheet-inputbox" type="number" name="attr_reflex" style="height: 24px; width: 30px;" 
                value="(@{reflexbase}+@{reflexabilitymod}+@{reflexmagicmod}+@{reflexmiscmod}+@{reflextempmod})" disabled="true"> =
                </td>
                <td><input class="sheet-inputbox" type="number" name="attr_reflexbase" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_reflexabilitymod" value="@{dexmod}" style="height: 24px; width: 30px;" disabled="true"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_reflexmagicmod" value="0" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_reflexmiscmod" value="0" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_reflextempmod" value="0" style="height: 24px; width: 30px;"></td>
               <td>
            <button type="roll" style="width:20px;" name="attr_reflexcheck" title="reflexcheck" value="@{reflexmacro}"></button>
            <textarea rows="1" cols="50" style="display: none" name="attr_reflexmacro" title="reflexmacro">&{template:SagaBornStdRoll} {{saveflag=true}} {{name=@{character_name} }} {{subtags=tries to dodge}} {{check=Reflex check:}} {{checkroll= [[ 1d20 + [[ @{reflex} ]] ]] }}</textarea>
                </td>
            </tr>            
            <tr>
                <td class="sheet-statlabel-big" style="width: 60px;">Will<br><div style="font-size: 0.65em;">(Wisdom)</div></td>
                <td><input class="sheet-inputbox" type="number" name="attr_will" style="height: 24px; width: 30px;" 
                value="(@{willbase}+@{willabilitymod}+@{willmagicmod}+@{willmiscmod}+@{willtempmod})" disabled="true"> = </td>
                <td><input class="sheet-inputbox" type="number" name="attr_willbase" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_willabilitymod" value="@{wismod}" style="height: 24px; width: 30px;" disabled="true"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_willmagicmod" value="0" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_willmiscmod" value="0" style="height: 24px; width: 30px;"> + </td>
                <td><input class="sheet-inputbox" type="number" name="attr_willtempmod" value="0" style="height: 24px; width: 30px;"></td>
               <td>
            <button type="roll" style="width:20px;" name="attr_willcheck" title="willcheck" value="@{willmacro}"></button>
            <textarea rows="1" cols="50" style="display: none" name="attr_willmacro" title="willmacro">&{template:SagaBornStdRoll} {{saveflag=true}} {{name=@{character_name} }} {{subtags=tries to resist}} {{check=Will check:}} {{checkroll= [[ 1d20 + [[ @{will} ]] ]] }}
            </textarea>
                </td>                
            </tr>            
        </table>
        <br>
    </td>
</tr>

</table>

</td>
<td style="vertical-align: top;">
<!-- Movement block -->
    <table>
        <tr>
            <td class="sheet-statlabel-big" style="width: 70px; line-height: 90%;">SPEED<br><div style="font-size: 0.65em;">Land</div></td>
            <td><input class="sheet-inputbox" type="text" name="attr_speed" style="height: 24px; width: 75px;"><div style="font-size: 0.5em;">FT.</div></td>
            <td><input class="sheet-inputbox" type="text" name="attr_speedarmor" style="height: 24px; width: 75px;"><div style="font-size: 0.5em;">SQ.</div></td>
        </tr>
    </table>
<!-- Mana block -->
        <table>
            <tr>
                <td class="sheet-statlabel-big" style="width: 70px;">Mana</td>
                <td><input class="sheet-inputbox" type="number" name="attr_Mana" style="height: 24px; width: 70px;"><br><div style="font-size: 0.5em;">Total</div></td>
                <td><input class="sheet-inputbox" type="number" name="attr_currentmana" style="height: 24px; width: 70px;"><br><div style="font-size: 0.5em;">Current Mana</div></td>
                <td><input class="sheet-inputbox" type="number" name="attr_ravagepoints" style="height: 24px; width: 70px;"><br><div style="font-size: 0.5em;">Ravage points</div></td>
            <td><input class="sheet-inputbox" type="number" name="attr_nonlethaldamage" style="height: 24px; width: 70px;"><br><div style="font-size: 0.5em;">Mental Fatigue</div></td>
            </tr>
        </table>   
<!-- Attack Bonus Stat block -->
        <table>
            <tr>
                <td class="sheet-statlabel-big" style="width: 200px;">Base Attack Bonus (BAB)</td>
                <td><input class="sheet-inputbox" type="number" name="attr_baseattackbonus" value="0" style="height: 24px; 
                width: 50px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_baseattackbonus2" value="-" style="height: 24px; 
                width: 50px;"></td>
            </tr>
        </table>
<!-- Skills Stat block -->
    <table>
        <tr>
            <td colspan="10" class="sheet-statlabel-big" style="width: 350px;">SKILLS</td>
        </tr>
        <tr>
            
            <th style="font-size: 0.6em; text-align: left">Skill Names</th>
            <th style="font-size: 0.6em;">Total<br>Bonus</th>
            <th></th>
            <th style="font-size: 0.6em;">Ability<br>Mod.</th>
            <th></th>
            <th style="font-size: 0.6em;">Ranks</th>
            <th></th>
            <th style="font-size: 0.6em;">Misc.<br>Mod</th>
        </tr>
        <tr><td class="sheet-skillsbox">Acrobatics</td>
        <td><input type="number" name="attr_acrobatics" style="width: 30px;" value="(@{acrobaticsdexmod}+@{acrobaticsranks}+@{acrobaticsmiscmod})" disabled="true"></td>
        <td>= Dex</td>
        <td><input type="number" name="attr_acrobaticsdexmod" style="width: 35px;" value="(@{dexmod})" disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_acrobaticsranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_acrobaticsmiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_acrobaticsmacro" title="acrobaticsmacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Acrobatics check:}} {{checkroll=[[1d20 + [[@{acrobatics}]] ]] }}</textarea><button type="roll" name="attr_acrobaticscheck" title="acrobaticscheck" value="@{acrobaticsmacro}" ></button></td>
        </tr>
        <tr><td class="sheet-skillsbox">Athletics</td>
        <td><input type="number" name="attr_athletics" style="width: 30px;" 
        value="(@{athleticsstrmod}+@{athleticsranks}+@{athleticssmiscmod})" 
        disabled="true"></td>
        <td>= Str</td>
        <td><input type="number" name="attr_athleticsstrmod" style="width: 35px;" 
        value="@{strmod}" 
        disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_athleticsranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_athleticssmiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_athleticsmacro" title="athleticsmacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Athletics check:}} {{checkroll=[[1d20 + [[@{athletics}]] ]] }}</textarea><button type="roll" name="attr_athleticscheck" title="athleticscheck" value="@{athleticsmacro}" ></button></td>
        </tr>
        <tr><td class="sheet-skillsbox">Awareness</td>
        <td><input type="number" name="attr_awareness" title="awareness" style="width: 30px;" 
        value="(@{awarenesswismod}+@{awarenessranks}+@{awarenessmiscmod})" 
        disabled="true"></td>
        <td>= Wis</td>
        <td><input type="number" name="attr_awarenesswismod" style="width: 35px;" 
        value="@{wismod}" 
        disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_awarenessranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_awarenessmiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_awarenessmacro" title="awarenessmacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Awareness check:}} {{checkroll=[[1d20 + [[@{awareness}]] ]] }}</textarea><button type="roll" name="attr_awarenesscheck" title="awarenesscheck" value="@{awarenessmacro}" ></button></td>        
        </tr>
        <tr><td class="sheet-skillsbox">Endurance</td>
        <td><input type="number" name="attr_endurance" style="width: 30px;" 
        value="(@{enduranceconmod}+@{enduranceranks}+@{endurancemiscmod})" 
        disabled="true"></td>
        <td>= Con</td>
        <td><input type="number" name="attr_enduranceconmod" style="width: 35px;" 
        value="@{conmod}" 
        disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_enduranceranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_endurancemiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_endurancemacro" title="endurancemacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Endurance check:}} {{checkroll=[[1d20 + [[@{endurance}]] ]] }}</textarea><button type="roll" name="attr_endurancecheck" title="endurancecheck" value="@{endurancemacro}" ></button></td>        
        </tr>
        <tr><td class="sheet-skillsbox">Knowledge</td>
        <td><input type="number" name="attr_knowledge" style="width: 30px;" 
        value="(@{knowledgeintmod}+@{knowledgeranks}+@{knowledgeemiscmod})" 
        disabled="true"></td>
        <td>= Int</td>
        <td><input type="number" name="attr_knowledgeintmod" style="width: 35px;" 
        value="@{intmod}" 
        disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_knowledgeranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_knowledgeemiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_knowledgemacro" title="knowledgemacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Knowledge check:}} {{checkroll=[[1d20 + [[@{knowledge}]] ]] }}</textarea><button type="roll" name="attr_knowledgecheck" title="knowledgecheck" value="@{knowledgemacro}" ></button></td>        
        </tr>
        <tr><td class="sheet-skillsbox">Persuasion</td>
        <td><input type="number" name="attr_persuasion" style="width: 30px;" 
        value="(@{persuasionchamod}+@{persuasionranks}+@{persuasionmiscmod})" 
        disabled="true"></td>
        <td>= Cha</td>
        <td><input type="number" name="attr_persuasionchamod" style="width: 35px;" 
        value="@{chamod}" 
        disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_persuasionranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_persuasionmiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_persuasionmacro" title="persuasionmacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Persuasion check:}} {{checkroll=[[1d20 + [[@{persuasion}]] ]] }}</textarea><button type="roll" name="attr_persuasioncheck" title="persuasioncheck" value="@{persuasionmacro}" ></button></td>        
        </tr>
        <tr><td class="sheet-skillsbox">Spellcraft</td>
        <td><input type="number" name="attr_spellcraft" style="width: 30px;" 
        value="(@{spellcraftstat} +@{spellcraftranks} +@{spellcraftmiscmod})" 
        disabled="true"></td>
        <td>=<select class="sheet-table-data-center-sm" style="height: 24px; width: 44px; 
					font-size: 0.75em;" name="attr_spellcraftstat" title="spellcraftstat">
					<option type="text" style="width: 45px;" value="@{intmod} "selected>Int</option>
					<option type="text" style="width: 45px;" value="@{wismod} ">Wis</option>
					<option type="text" style="width: 45px;" value="@{chamod} ">Cha</option>
					</select></td>
        <td><input type="text" class="sheet-table-data-center-skills" name="attr_spellcraftstatmod" title="spellcraftstatmod" 
        value="@{spellcraftstat}" disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_spellcraftranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_spellcraftmiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_spellcraftmacro" title="spellcraftmacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Spellcraft check:}} {{checkroll=[[1d20 + [[@{spellcraft}]] ]] }}</textarea><button type="roll" name="attr_spellcraftcheck" title="spellcraftcheck" value="@{spellcraftmacro}" ></button></td>        
        </tr>
        <tr><td class="sheet-skillsbox">Survival</td>
        <td><input type="number" name="attr_survival" style="width: 30px;" 
        value="(@{survivalwismod}+@{survivalranks}+@{survivalmiscmod})" 
        disabled="true"></td>
        <td>= Wis</td>
        <td><input type="number" name="attr_survivalwismod" style="width: 35px;" 
        value="@{wismod}" 
        disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_survivalranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_survivalmiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_survivalmacro" title="survivalmacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Survival check:}} {{checkroll=[[1d20 + [[@{survival}]] ]] }}</textarea><button type="roll" name="attr_survivalcheck" title="survivalcheck" value="@{survivalmacro}" ></button></td>        
        </tr>
        <tr><td class="sheet-skillsbox">Thievery</td>
        <td><input type="number" name="attr_thievery" style="width: 30px;" 
        value="(@{thieverydexmod}+@{thieveryranks}+@{thieverymiscmod})" 
        disabled="true"></td>
        <td>= Dex</td>
        <td><input type="number" name="attr_thieverydexmod" style="width: 35px;" 
        value="@{dexmod}" 
        disabled="true"></td>
        <td>+</td>
        <td><input type="number" name="attr_thieveryranks" value="0" style="width: 30px;"></td>
        <td>+</td>
        <td><input type="number" name="attr_thieverymiscmod" value="0" style="width: 30px;"></td>
        <td><textarea rows="1" cols="50" style="display: none" name="attr_thieverymacro" title="thieverymacro">/w gm &{template:SagaBornStdRoll} {{skillflag=true}} {{name=@{character_name} }} {{check=Thievery check:}} {{checkroll=[[1d20 + [[@{thievery}]] ]] }}</textarea><button type="roll" name="attr_thieverycheck" title="thieverycheck" value="@{thieverymacro}" ></button></td>        
        </tr>
    </table>
</td>
</tr>
</table>
</div>
<!-- Tab 2 Saga -->
	<div class="sheet-tab-content sheet-tab2 sheet-tab99">
	        <table cellpadding="10" cellspacing="0">
            <tr>
                <td class="sheet-statlabel-big" style="width: 795px;">Character Class and Levels</td>
            </tr>
            <tr>
            	<td>
            		<!-- Class Charts Stat block -->
    <div style="display: inline-block; text-align: left">
        <div class="sheet-colorred" title='	Warrior Class
Level	BAB	Fort	Ref	Will
1st	+1	+0	+0	+2
2nd	+2	+0	+0	+3
3rd	+3	+1	+1	+3
4th	+4	+1	+1	+4
5th	+5	+1	+1	+4
6th	+6/+1	+2	+2	+5
7th	+7/+2	+2	+2	+5
8th	+8/+3	+2	+2	+6
'>Archeon</div> | 
		<div class="sheet-colorred" title='	Warrior Class
Level	BAB	Fort	Ref	Will
1st	+1	+2	+0	+0
2nd	+2	+3	+0	+0
3rd	+3	+3	+1	+1
4th	+4	+4	+1	+1
5th	+5	+4	+1	+1
6th	+6/+1	+5	+2	+2
7th	+7/+2	+5	+2	+2
8th	+8/+3	+6	+2	+2
'>Barbarian</div> |
    	<div class="sheet-colorred" title='	Mage Class
Level	BAB	Fort	Ref	Will
1st	+0	+0	+2	+2
2nd	+1	+0	+3	+3
3rd	+2	+1	+3	+3
4th	+3	+1	+4	+4
5th	+3	+1	+4	+4
6th	+4	+2	+5	+5
7th	+5	+2	+5	+5
8th	+6/+1	+6	+2	+6
'>Bard</div> |
        <div class="sheet-colorred" title='	Warrior Class
Level	BAB	Fort	Ref	Will
1st	+1	+2	+0	+0
2nd	+2	+3	+0	+0
3rd	+3	+3	+1	+1
4th	+4	+4	+1	+1
5th	+5	+4	+1	+1
6th	+6/+1	+5	+2	+2
7th	+7/+2	+5	+2	+2
8th	+8/+3	+6	+2	+2
'>Fighter</div> |
        <div class="sheet-colorred" title='	Mage Class
Level	BAB	Fort	Ref	Will
1st	+0	+1	+0	+2
2nd	+1	+1	+0	+3
3rd	+1	+2	+1	+3
4th	+2	+2	+1	+4
5th	+2	+2	+1	+4
6th	+3	+3	+2	+5
7th	+3	+3	+2	+5
8th	+4	+3	+2	+6
'>Luminar</div> |
        <div class="sheet-colorred" title='	Scout Class
Level	BAB	Fort	Ref	Will
1st	+1	+2	+2	+0
2nd	+2	+3	+3	+0
3rd	+3	+3	+3	+1
4th	+4	+4	+4	+1
5th	+5	+4	+4	+1
6th	+6/+1	+5	+5	+2
7th	+7/+2	+5	+5	+2
8th	+8/+3	+6	+6	+2
'>Ranger</div> |
    <div class="sheet-colorred" title='	Scout Class
Level	BAB	Fort	Ref	Will
1st	+0	+0	+2	+0
2nd	+1	+0	+3	+0
3rd	+2	+1	+3	+1
4th	+3	+1	+4	+1
5th	+3	+1	+4	+1
6th	+4	+2	+5	+2
7th	+5	+2	+5	+2
8th	+6/+1	+2	+6	+2
'>Rogue</div> |
        <div class="sheet-colorred" title='	Mage Class
Level	BAB	Fort	Ref	Will
1st	+0	+2	+0	+2
2nd	+1	+3	+0	+3
3rd	+2	+3	+1	+3
4th	+3	+4	+1	+4
5th	+3	+4	+1	+4
6th	+4	+5	+2	+5
7th	+5	+5	+2	+5
8th	+5/+1	+6	+2	+6
'>Wylder</div>
    </div>
        <br>
            	</td>
            </tr>
        </table>

        <!-- Class Level & Hit Dice block -->
 <fieldset class="repeating_classes">
<table style="width: 800px">
	<tr>
		<td class="sheet-statlabel" style="line-height: 90%; width: 25px" >Character<br>Level</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 100px">Class</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 25px" >Class<br>Level</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 50px" >Class Hit<br> Points</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 150px">Base Attack<br>Bonus(bab)</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 25px" >Fort<br>Save</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 25px" >Ref<br>Save</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 25px" >Will<br>Save</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 200px" >Class Feature</td>
		<td class="sheet-statlabel" style="line-height: 90%; width: 200px" >Level Bonus</td>
	</tr>
	<tr>
		<td style="align: left; vertical-align: top;">
			<input class="sheet-inputbox" type="number" name="attr_characterlevel1"
			 style="height: 24px; width: 25px;">
		</td>
		<td style="align: left; vertical-align: top;">
			<select name="attr_classname" class="dtype" style="width: 100px;">
                        <option>Archeon</option>
                        <option>Barbarian</option>
                        <option>Bard</option>
                        <option>Fighter</option>
                        <option>Luminar</option>
                        <option>Ranger</option>
                        <option>Rogue</option>
                        <option>Wylder</option>
           </select>
        </td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_classlevel1" style="height: 24px; width: 25px;"></td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_classhproll1" style="height: 24px; width: 25px;"></td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_class1bab1" title="bab1" value="0" style="height: 24px; width: 25px;">/
		<input class="sheet-inputbox" type="text" name="attr_class2bab1" title="bab2" value="-" style="height: 24px; width: 25px;">
		</td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_classfortsave1" style="height: 24px; width: 25px;"></td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_classrefsave1" style="height: 24px; width: 25px;"></td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_classwillsave1" style="height: 24px; width: 25px;"></td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_classfeature1" style="height: 24px; width: 200px;"></td>
		<td style="align: left; vertical-align: top;">
		<input class="sheet-inputbox" type="text" name="attr_levelbouns1" style="height: 24px; width: 200px;"></td>
	</tr>
</table>
</fieldset>
 <br>
 <table>
 	<tr>
 		<td style="vertical-align:top;">
 		<table>
        	<tr>
            	<td colspan="2" class="sheet-statlabel-big" style="width: 400px;">TALENTS</td>
        	</tr>
  		</table>
   		<fieldset class="repeating_talents">
   		<table style="width: 395px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 100px;" type="text" name="attr_talent" title="repeating_talents" 
			placeholder="Talent"></span>
			<span class="sheet-table-col"><textarea input class="sheet-inputbox" rows="1" cols="55" style="height: 20px; width: 280px;" 
			name="attr_talentdiscipt" title="repeating_talentdiscipt" placeholder="Description"></textarea>
			</span>
			</div>
		</table>
		</fieldset>
 		</td>
 		<td style="vertical-align:top;">
 		<table>
        <tr>
        	<td colspan="2" class="sheet-statlabel-big" style="width: 400px;">SPECIAL ABILLITES</td>
        </tr>
    	</table>
 		<fieldset class="repeating_specialabillites">
   		<table style="width: 395px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 100px;" type="text" name="attr_specialabillites" 
			title="repeating_specialabillites" placeholder="Special Abillites"></span>
			<span class="sheet-table-col"><textarea input class="sheet-inputbox" rows="1" cols="55" style="height: 20px; width: 280px;" 
			name="attr_specialabillitesdiscipt" title="repeating_specialabillitesdiscipt" placeholder="Description"></textarea>
			</span>
			</div>
		</table>
		</fieldset>
 		</td>
 	</tr>
 	<tr>
 		<td style="vertical-align:top;">
 		<table>
        <tr>
            <td colspan="2" class="sheet-statlabel-big" style="width: 400px;">LANGUAGES</td>
        </tr>
    	</table>
		<fieldset class="repeating_languages">
   		<table style="width:395px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 395px;" type="text" name="attr_language" title="repeating_language" 
			placeholder="Languages"></span>
			</div>
		</table>
		</fieldset> 	
 		</td>
 		<td></td>
 	</tr>
 	<tr>
 		<td colspan="2">
<div class="sheet-pc-history">
			<!--Notes-->
			<table style="width:800;" class="sheet-table-row" cellpadding="0" cellspacing="0">
				<tr>
				<td colspan="2" class="sheet-statlabel-big" style="width:795px; height: 35px; font-size: 1.5em;">History</td>
				</tr>
			</table>
			<input type="text" style="width: 795px;" name="attr_background" title="background" value="Background">
			<div class="sheet-pc-background">
				<table>
					<tr>
						<td style="vertical-align:top;">
							<fieldset class="repeating_background">
								<table style="width: 795px;" class="sheet-table-row">
									<div class="sheet-table-row">
										<span class="sheet-table-col"><input style="width: 70px;" type="text" name="attr_backgrounddate" title="repeating_backgrounddate" placeholder="Date"></span>
										<span class="sheet-table-col">
										<textarea class="sheet-inputbox" rows="1" cols="50" style="height: 20px; width: 700px;" name="attr_backgroundbody" title="repeating_backgroundbody" placeholder="Note etc"></textarea>
											</span>
									</div>
								</table>
							</fieldset>
						</td>
					</tr>
				</table>
			</div>
			<hr/>
			<input type="text" style="width: 795px;" name="attr_saga" title="saga" value="Saga">
			<div class="sheet-pc-saga">
				<table>
					<tr>
						<td style="vertical-align:top;">
							<fieldset class="repeating_saga">
								<table style="width: 795px;" class="sheet-table-row">
									<div class="sheet-table-row">
										<span class="sheet-table-col"><input style="width: 70px;" type="text" name="attr_sagadate" title="repeating_sagadate" placeholder="Date"></span>
										<span class="sheet-table-col">
										<textarea class="sheet-inputbox" rows="1" cols="50" style="height: 20px; width: 700px;" name="attr_sagabody" title="repeating_sagabody" placeholder="Note etc"></textarea>
											</span>
									</div>
								</table>
							</fieldset>
						</td>
					</tr>
				</table>
			</div>
			<hr/>
		</div> 			
 		</td>
 	</tr>
 </table>

	</div>
	<!-- Tab 3 Equipment-->
	<div class="sheet-tab-content sheet-tab3 sheet-tab99">
	<table style="display: none">
				<tr>
					<td colspan="4"> Weight unit setup for weight calculations.</td>
					<td colspan="2"> Unit should be an abbreviation of 2 or 3 characters.</td>
				</tr>
				<tr>
					<td > Scaling factor </td>
					<td > Unit </td>
					<td> </td>
					<td> </td>
					<td> </td>
					<td> </td>
				</tr>
				<tr>
					<td><input type="text" name="attr_weightscale" title="weightscale" style="text-align:right" value="1" /> </td>
					<td style="text-align:left"><input type="text" name="attr_weightunit" title="weightunit (up to 3 characters long abbr.)" style="width: 3em;" value="lbs" /></td>
					<td> = 1 </td>
					<td style="text-align:left" > pound </td>
					<td> </td>
					<td> </td>
				</tr>
			</table>
		<div style="clear:both"></div>
<table>
	<tr>
		<td style="vertical-align:top;">
			<table cellpadding="10" cellspacing="0">
            <tr>
                <td colspan="3" class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 400px;">Weapons</td>
            </tr>
        </table>


        <fieldset class="repeating_weapons">
            <table cellpadding="0" cellspacing="0">
                <tr>
                    <td colspan="4" class="sheet-statlabel-big" style="font-size: 1.5em; width: 200px;">Weapon</td>
                    <td class="sheet-statlabel" style="width: 100px;">Attack Bonus</td>
                    <td class="sheet-statlabel" style="width: 100px;">Critical</td>
                </tr>
                <tr>
                    <td colspan="4"><input class="sheet-inputbox" type="text" name="attr_weaponname" style="height: 24px; width: 200px;"></td>
                    <td><input class="sheet-inputbox" type="number" name="attr_weaponattackbonus" style="height: 24px; width: 100px;"></td>
                    <td><input class="sheet-inputbox" type="number" name="attr_weaponcritical" style="height: 24px; width: 100px;"></td>
                </tr>            
                <tr>
                    <td class="sheet-statlabel" style="width: 25px;">Type</td>
                    <td class="sheet-statlabel" style="width: 85px;">Range</td>
                    <td class="sheet-statlabel" style="width: 45px;font-size: .65em;">Ammunition</td>
                    <td class="sheet-statlabel" style="width: 45px;">Weight</td>
                    <td colspan="2" class="sheet-statlabel" style="width: 200px;">Damage</td>
                </tr>
                <tr>
                    <td><input class="sheet-inputbox" type="text" name="attr_weapontype" style="height: 24px; width: 25px;"></td>
                    <td><input class="sheet-inputbox" type="text" name="attr_weaponrange" style="height: 24px; width: 85px;"></td>
                    <td><input class="sheet-inputbox" type="text" name="attr_weaponammunition" style="height: 24px; width: 45px;"></td>
                    <td><input class="sheet-inputbox" type="text" name="attr_weaponweight" style="height: 24px; width: 45px;"></td>
                    <td colspan="2"><input class="sheet-inputbox" type="text" name="attr_weapondamage" style="height: 24px; width: 200px;"></td>
                </tr>
            </table>
<table>
<tr><td class="sheet-statlabel" style="width: 400px" colspan="4">To Hit and Damage Rolls</td></tr>
<tr><td class="sheet-statlabel" colspan="2">Melee</td><td class="sheet-statlabel" colspan="2">Ranged</td></tr>
<tr><td>Single Action<br>
<button type="roll" name="attr_meleeattackroll" title="meleeattackroll" value="@{meleeattack-macro}"></button>
<textarea rows="1" cols="50" style="display: none" name="attr_meleeattackcalc" title="meleeattackcalc">1d20cs>@{weaponcritical} +@{baseattackbonus}[BAB] +@{strmod}[Ability] +@{weaponattackbonus}[Weapon AB] +?{Additional Attack Bonus?|0}[Ad'l Atk Bon] </textarea>
<textarea rows="1" cols="50" style="display: none" name="attr_meleedamagecalc" title="meleedamagecalc">@{weapondamage}+?{Additional Damage Bonus?|0}[Ad'l Dmg Bon] </textarea>
<textarea rows="1" cols="50" style="display: none" name="attr_meleeattack-macro" title="meleeattack-macro">&{template:SagaBornAttack} {{pcflag=true}} {{name=@{character_name}}} {{subtags=attacks with a @{weaponname} }} {{attack1= hitting AC [[ @{meleeattackcalc} ]] }} {{damage1= for [[ @{meleedamagecalc} ]]dmg}} {{critdmg1=+ [[ @{meleedamagecalc} ]] crit dmg}} {{fullattackflag= [[ 0d1 ]] }} </textarea></td>
<td>Full Action<br><button type="roll" name="attr_meleefullattackroll" title="meleefullattackroll" value="@{meleefullattack-macro}"></button>
<textarea rows="1" cols="50" style="display: none" name="attr_meleefullattack-macro" title="meleefullattack-macro">&{template:SagaBornAttack} {{pcflag=true}} {{name=@{character_name}}} {{subtags=attacks with a @{weaponname} }} {{attack1=A1 hitting AC: [[ @{meleeattackcalc} ]] }} {{damage1= for: [[ @{meleedamagecalc} ]] }} {{critdmg1=+ [[ @{meleedamagecalc} ]] }} {{fullattackflag= [[ d1} ]] }} {{attack2=A2 hitting AC: [[ @{meleeattackcalc}-5 ]] }}{{damage2= for: [[ @{meleedamagecalc} ]] }} {{critdmg2=+ [[ @{meleedamagecalc} ]] }}  </textarea></td><td>Single Action<br><button type="roll" name="attr_rangedattackroll" title="rangedattackroll" value="@{rangedattack-macro}"></button>
<textarea rows="1" cols="50" style="display: none;" name="attr_rangedattackcalc" title="rangedattackcalc">1d20cs>@{weaponcritical} +@{baseattackbonus}[BAB] +@{dexmod}[Ability] +@{weaponattackbonus}[Weapon AB] +?{Additional Attack Bonus?|0}[Ad'l Atk Bon] </textarea>
<textarea rows="1" cols="50" style="display: none;" name="attr_rangeddamagecalc" title="rangeddamagecalc">@{weapondamage}+?{Additional Damage Bonus?|0}[Ad'l Dmg Bon] </textarea>
<textarea rows="1" cols="50" style="display: none" name="attr_rangedattack-macro" title="rangedattack-macro">&{template:SagaBornAttack} {{pcflag=true}} {{name=@{character_name}}} {{subtags=attacks with a @{weaponname} }} {{attack1=hitting AC [[ @{rangedattackcalc} ]] }} {{damage1=for [[ @{rangeddamagecalc} ]]dmg}} {{critdmg1=+ [[ @{rangeddamagecalc} ]] crit dmg}} {{fullattackflag= [[ 0d1 ]] }} </textarea></td><td>Full Action<br><button type="roll" name="attr_rangedfullattackroll" title="rangedfullattackroll" value="@{rangedfullattack-macro}"></button>
<textarea rows="1" cols="50" style="display: none" name="attr_rangedfullattack-macro" title="rangedfullattack-macro">&{template:SagaBornAttack} {{pcflag=true}} {{name=@{character_name}}} {{subtags=attacks with a @{weaponname} }} {{attack1=A1 hitting AC: [[ @{rangedattackcalc} ]] }} {{damage1= for: [[ @{rangeddamagecalc} ]] }} {{critdmg1=+ [[ @{rangeddamagecalc} ]] }} {{fullattackflag= [[ d1} ]] }} {{attack2=A2 hitting AC: [[ @{rangedattackcalc}-5 ]] }} {{damage2= for: [[ @{rangeddamagecalc} ]] }} {{critdmg2=+ [[ @{rangeddamagecalc} ]] }}  </textarea>
</td></tr></table>
        </fieldset>
		</td>
		<td style="vertical-align:top;">
			 <table cellpadding="10" cellspacing="0">
            <tr>
                <td colspan="3" class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 365px;">AC Items</td>
            </tr>
        </table>

        <fieldset class="repeating_acitems">
            <table cellpadding="0" cellspacing="0">
                <tr style=" line-height: 90%;">
                    <td class="sheet-statlabel" style="line-height: 90%; font-size: 1em; width: 65px;">Item Name</td>
                    <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 50px;">AC Bonus</td>
                    <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 50px;">Type</td>
                    <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 50px;">Max Dex Bonus</td>
                    <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 50px;">Weight</td>
                    <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 100px;">Properties</td>
                </tr>
                <tr>
                    <td><input class="sheet-inputbox" type="text" name="attr_acitem" style="height: 24px; width: 65px;"></td>
                    <td><input class="sheet-inputbox" type="number" name="attr_acitembonus" style="height: 24px; width: 50px;"></td>
                    <td><input class="sheet-inputbox" type="text" name="attr_acitemtype" style="height: 24px; width: 50px;"></td>
                    <td><input class="sheet-inputbox" type="number" name="attr_acitemcheckpenalty" style="height: 24px; width: 50px;"></td>
                    <td><input class="sheet-inputbox" type="number" name="attr_acitemweight" style="height: 24px; width: 50px;"></td>
                    <td><input class="sheet-inputbox" type="text" name="attr_acitemproperties" style="height: 24px; width: 100px;"></td>
                </tr>
            </table>
        </fieldset>
        <br>
        <table cellpadding="0" cellspacing="0">
            <tr>
                <td class="sheet-statlabel-big" style="line-height: 90%; font-size: 1em; width: 125px;">Shield</td>
                <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 50px;">AC Bonus</td>
                <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 50px;">Max Dex Bonus</td>
                <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 50px;">Weight</td>
                <td class="sheet-statlabel" style="line-height: 90%; font-size: 0.65em; width: 100px;">Properties</td>
            </tr>
            <tr>
                <td><input class="sheet-inputbox" type="text" name="attr_shield" style="height: 24px; width: 125px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_shieldbonus" value="0" style="height: 24px; width: 50px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_shieldcheckpenalty" style="height: 24px; width: 50px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_shieldweight" style="height: 24px; width: 50px;"></td>
                <td><input class="sheet-inputbox" type="text" name="attr_shieldproperties" style="height: 24px; width: 100px;"></td>
            </tr>
        </table>
		</td>
	</tr>
</table>
 
        <br>
       
        <br>
        <table>
            <tr><td valign="top">
                <table cellpadding="10" cellspacing="0">
                    <tr>
                        <td class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 230px;">Gear</td>
                    </tr>
                </table>

                <fieldset class="repeating_gear">
                    <table cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="sheet-statlabel" style="font-size: 1em; width: 200px;">Item Name</td>
                            <td class="sheet-statlabel" style="font-size: 0.65em; width: 50px;">Wt.</td>
                        </tr>
                        <tr>
                            <td><input class="sheet-inputbox" type="text" name="attr_gearitenname" style="height: 24px; width: 200px;"></td>
                            <td><input class="sheet-inputbox" type="text" name="attr_gearitemwt" style="height: 24px; width: 50px;"></td>
                        </tr>
                    </table>
                </fieldset>
            </td>
            <td valign="top">
                <table cellpadding="10" cellspacing="0">
                    <tr>
                        <td colspan="3" class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 230px;">Legacy Items</td>
                    </tr>
                </table>

                <fieldset class="repeating_legacyitem">
                    <table cellpadding="0" cellspacing="0">
                        <tr>
                            <td class="sheet-statlabel" style="font-size: 0.65em; width: 200px;">Item Name</td>
                            <td class="sheet-statlabel" style="font-size: 0.65em; width: 50px;">Wt.</td>
                        </tr>
                        <tr>
                          <td><input class="sheet-inputbox" type="text" name="attr_legacyitemname" style="height: 24px; width: 200px;"></td>
                          <td><input class="sheet-inputbox" type="text" name="attr_legacyitemwt" style="height: 24px; width: 50px;"></td>
                        </tr>
                         <tr>
                            <td class="sheet-statlabel" colspan="2" style="font-size: 0.65em; width: 250px;">Item Description</td>
                        </tr>
                    	<tr>
                            <td class="sheet-inputbox" colspan="2" style="font-size: 1em; width: 250px;"><input class="sheet-inputbox" type="text" name="attr_legacyitemdiscription" style="height: 24px; width: 250px;"></td>
                        </tr>
                        </table>
                        <table>
                        <tr>
                        	<td class="sheet-statlabel" style="font-size: 0.65em; width: 50px;">Level</td>
                            <td class="sheet-statlabel" style="font-size: 0.65em; width: 200px;">Advancement</td>
                       </tr>
                        <tr>
                          <td>2nd</td>
                          <td><input class="sheet-inputbox" type="text" name="legacyitem2lvladv" style="height: 24px; width: 200px;"></td>
                        </tr>
                        <tr>
                          <td>4th</td>
                          <td><input class="sheet-inputbox" type="text" name="legacyitem4lvladv" style="height: 24px; width: 200px;"></td>
                        </tr>
                        <tr>
                          <td>6th</td>
                          <td><input class="sheet-inputbox" type="text" name="legacyitem6lvladv" style="height: 24px; width: 200px;"></td>
                        </tr>
                        <tr>
                          <td>8th</td>
                          <td><input class="sheet-inputbox" type="text" name="legacyitem7lvladv" style="height: 24px; width: 200px;"></td>
                        </tr>                                                
                    </table>
                </fieldset>
                </td>
                <td style="vertical-align:top;">
                <!-- Money -->
                   <table cellpadding="10" cellspacing="0">
                    <tr>
                        <td colspan="2" class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 230px;">Money</td>
                    </tr>
                    <tr>
                    	<td>
                    	<span class="sheet-table-data-center"><input type="text" name="attr_copper" title="copper" style="width: 57px;"><br><span >CP</span></span>
							<span class="sheet-table-data-center"><input type="text" name="attr_silver" title="silver" style="width: 57px;"><br><span >SP</span></span>
							<span class="sheet-table-data-center"><input type="text" name="attr_gold" title="gold" style="width: 57px;"><br><span >GP</span></span>
							<span class="sheet-table-data-center"><input type="text" name="attr_platinum" title="platinum" style="width: 57px;"><br><span >PP</span></span>
                    	</td>
                    </tr>
            	</table>
            	<table cellpadding="10" cellspacing="0">
					<tr>
						<td colspan="4" class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 230px;" >Encumbrance</td>
					</tr>
				</table>
				<table cellpadding="0" cellspacing="0">
					<tr>
						<td style="font-size: 0.65em; line-height: 90%;"> Light<br>Load </td>
						<td style="font-size: 0.65em; line-height: 90%;"><input type="hidden" name="attr_encumbrstr" title="encumbrstr" value="0"><input class="sheet-inputbox" type="text" name="attr_lightloadmax" title="lightloadmax" style="height: 24px; width: 30px; text-align: right;" disabled="true" value="floor(@{encumbrsize}*(floor(@{encumbrstr}/3))*(@{weightscale}))"/>or less.</td>
						<td style="font-size: 0.65em; line-height: 90%;">Lift Over<br>Head</td>
						<td style="font-size: 0.65em; line-height: 90%;">
							<input class="sheet-inputbox" type="text" name="attr_liftovermax" title="liftovermax" style="height: 24px; width: 35px; text-align: right;" disabled="true" value="floor(@{encumbrsize}*(@{encumbrstr})*(@{weightscale}))"/>or less.
						</td>
					</tr>
					<tr>
						<td style="font-size: 0.65em; line-height: 90%;">Medium<br>Load </td>
						<td style="font-size: 0.65em; line-height: 90%;"><input class="sheet-inputbox" type="text" name="attr_medloadmin" title="medloadmin" style="height: 24px; width: 30px; text-align: right;" disabled="true" value="floor(@{encumbrsize}*(floor(@{encumbrstr}/3)*(@{weightscale}))+1)"/>-<input class="sheet-inputbox" type="text" name="attr_medloadmax" title="medloadmax" style="height: 24px; width: 30px; text-align: left;" disabled="true" value="floor(@{encumbrsize}*(floor(2*@{encumbrstr}/3))*(@{weightscale}))"/>.</td>
						<td style="font-size: 0.65em; line-height: 90%;">Lift Off<br>Ground </td>
						<td style="font-size: 0.65em; line-height: 90%;">
							<input class="sheet-inputbox" type="text" name="attr_liftoffmax" title="liftoffmax" style="height: 24px; width: 35px; text-align: right;" disabled="true" value="floor(@{encumbrsize}*(2*(@{encumbrstr}))*(@{weightscale}))"/>or less.
						</td>
					</tr>
					<tr>
						<td style="font-size: 0.65em; line-height: 90%;">Heavy<BR>Load </td>
						<td style="font-size: 0.65em; line-height: 90%;"><input class="sheet-inputbox" type="text" name="attr_heavyloadmin" title="heavyloadmin" style="height: 24px; width: 30px; text-align: right;" disabled="true" value="floor(@{encumbrsize}*(floor(2*@{encumbrstr}/3)*(@{weightscale}))+1)"/>-<input class="sheet-inputbox" type="text" name="attr_heavyloadmax" title="heavyloadmax" style="height: 24px; width: 30px; text-align: left;" disabled="true" value="floor(@{encumbrsize}*(@{encumbrstr})*(@{weightscale}))"/></td>
						<td style="font-size: 0.65em; line-height: 90%;"> Push or<br>Drag </td>
						<td style="font-size: 0.65em; line-height: 90%;">
							<input class="sheet-inputbox" type="text" name="attr_pushdragmax" title="pushdragmax" style="height: 24px; width: 35px; text-align: right;" disabled="true" value="floor(@{encumbrsize}*(5*(@{encumbrstr}))*(@{weightscale}))"/>or less.
						</td>
					</tr>
					<tr><td colspan="2" class="sheet-statlabel-encumbrance" style="width: 115px;" > Weight Carried </td>
						<td colspan="2" class="sheet-statlabel-encumbrance" style="width: 115px;" > Char Size </td></tr>
					<tr>
						<td colspan="2"><input class="sheet-inputbox" type="text" name="attr_totalcarriedweight" title="totalcarriedweight" style="height: 24px; width: 75px;" value="0"></td>
						<td colspan="2"><select style="height: 24px; width: 100px; padding: 0px;" name="attr_encumbrsize" title="encumbrsize">
								<option value="16" >Colossal</option>
								<option value="8" >Gargantuan</option>
								<option value="4" >Huge</option>
								<option value="2" >Large</option>
								<option value="1"  selected>Medium</option>
								<option value=".75" >Small</option>
								<option value=".5" >Tiny</option>
								<option value=".25" >Diminutive</option>
								<option value=".125" >Fine</option>
							</select></td>
					</tr>
				</table>
                </td>
            </tr>
        </table>
	</div>
	<!-- Tab 4 Spell Book-->
	<div class="sheet-tab-content sheet-tab4 sheet-tab99">
		<div style="clear:both"></div>
<table cellpadding="10" cellspacing="0">
            <tr>
                <td colspan="3" class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 795px;">Spells</td>
            </tr>
        </table>
<table>
	<tr>
		<td valign="top">
		 <table cellpadding="0" cellspacing="0">
            <tr>
                <td class="sheet-statlabel" style="line-height: 90%; width: 85px;">SPELL<br>LEVEL</td>
                <td class="sheet-statlabel" style="line-height: 90%; width: 85px;">MANA<br>COST</td>
                <td class="sheet-statlabel" style="line-height: 90%; width: 85px;">SPELL<br>MEMORY</td>
                <td class="sheet-statlabel" style="line-height: 90%; width: 85px;">MISC</td>
                <td class="sheet-statlabel" style="line-height: 90%; width: 85px;">SAVE<br>DC</td>
            </tr>
            <tr>
                <td><input class="sheet-inputbox" type="number" name="attr_spelllvl0" style="height: 24px; width: 45px; 
                text-align:center" value="0" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_manacostlvl0" style="height: 24px; width: 45px;
                text-align:center" value="0" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsmemorylvl0" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellmisclvl0" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsavedclvl0" style="height: 24px; width: 45px; 
                text-align:center" value="13" readonly="readonly"></td>
            </tr>
            <tr>
                <td><input class="sheet-inputbox" type="number" name="attr_spelllvl1" style="height: 24px; width: 45px; 
                text-align:center" value="1" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_manacostlvl1" style="height: 24px; width: 45px;
                text-align:center" value="1" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsmemorylvl1" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellmisclvl1" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsavedclvl1" style="height: 24px; width: 45px; 
                text-align:center" value="14" readonly="readonly"></td>
            </tr>
            <tr>
                <td><input class="sheet-inputbox" type="number" name="attr_spelllvl2" style="height: 24px; width: 45px; 
                text-align:center" value="2" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_manacostlvl2" style="height: 24px; width: 45px;
                text-align:center" value="3" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsmemorylvl2" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellmisclvl2" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsavedclvl2" style="height: 24px; width: 45px; 
                text-align:center" value="15" readonly="readonly"></td>
            </tr>
            <tr>
                <td><input class="sheet-inputbox" type="number" name="attr_spelllvl3" style="height: 24px; width: 45px; 
                text-align:center" value="3" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_manacostlvl3" style="height: 24px; width: 45px;
                text-align:center" value="5" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsmemorylvl3" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellmisclvl3" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsavedclvl3" style="height: 24px; width: 45px; 
                text-align:center" value="16" readonly="readonly"></td>
            </tr>
            <tr>
                <td><input class="sheet-inputbox" type="number" name="attr_spelllvl4" style="height: 24px; width: 45px; 
                text-align:center" value="4" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_manacostlvl4" style="height: 24px; width: 45px;
                text-align:center" value="7" readonly="readonly"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsmemorylvl4" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellmisclvl4" style="height: 24px; width: 45px;"></td>
                <td><input class="sheet-inputbox" type="number" name="attr_spellsavedclvl4" style="height: 24px; width: 45px; 
                text-align:center" value="17" readonly="readonly"></td>
            </tr>
        </table>
        <table cellpadding="10" cellspacing="0">
            <tr>
            <td style="font-size: 0.64em;"><input class="sheet-inputbox" type="text" name="attr_spellsconditionalmodifiers" style="height: 34px;  width: 390px;"><br>Conditional Modifiers</td>
            </tr>
        </table>
        </td>
		<td valign="top">
			 		<table>
        <tr>
        	<td colspan="2" class="sheet-statlabel-big" style="width: 390px;">0 MANA SPELLS</td>
        </tr>
    	</table>
 		<fieldset class="repeating_0manaspell">
   		<table style="width: 400px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 80px;" type="text" name="attr_0manaspell" 
			title="repeating_0manaspell" placeholder="Spell"></span>
			<span class="sheet-table-col"><textarea input class="sheet-inputbox" rows="1" cols="55" style="height: 20px; width: 280px;" 
			name="attr_0manaspelldiscipt" title="repeating_0manaspelldiscipt" placeholder="Description"></textarea>
			</span>
			</div>
		</table>
		</fieldset>
		</td>
	</tr>
	<tr>
		<td valign="top">
			<table>
			  <tr>
            	<td class="sheet-statlabel-big" style="width: 390px;">1 MANA SPELLS</td>
        	</tr>
		    </table>
		     <fieldset class="repeating_1manaspell">
   		<table style="width: 400px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 80px;" type="text" name="attr_1manaspell" 
			title="repeating_1manaspell" placeholder="Spell"></span>
			<span class="sheet-table-col"><textarea input class="sheet-inputbox" rows="1" cols="55" style="height: 20px; width: 280px;" 
			name="attr_1manaspelldiscipt" title="repeating_1manaspelldiscipt" placeholder="Description"></textarea>
			</span>
			</div>
		</table>
		</fieldset>
		</td>
		<td valign="top">
			<table>
			  <tr>
            	<td class="sheet-statlabel-big" style="width: 390px;">3 MANA SPELLS</td>
        	</tr>
		    </table>
		    <fieldset class="repeating_3manaspell">
   		<table style="width: 400px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 80px;" type="text" name="attr_3manaspell" 
			title="repeating_3manaspell" placeholder="Spell"></span>
			<span class="sheet-table-col"><textarea input class="sheet-inputbox" rows="1" cols="55" style="height: 20px; width: 280px;" 
			name="attr_3manaspelldiscipt" title="repeating_3manaspelldiscipt" placeholder="Description"></textarea>
			</span>
			</div>
		</table>
		</fieldset>
		</td>
	</tr>
	<tr>
		<td valign="top">
			<table>
			  <tr>
            	<td class="sheet-statlabel-big" style="width: 390px;">5 MANA SPELLS</td>
        	</tr>
        	</table>
        	<fieldset class="repeating_5manaspell">
   			<table style="width: 400px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 80px;" type="text" name="attr_5manaspell" 
			title="repeating_5manaspell" placeholder="Spell"></span>
			<span class="sheet-table-col"><textarea input class="sheet-inputbox" rows="1" cols="55" style="height: 20px; width: 280px;" 
			name="attr_5manaspelldiscipt" title="repeating_5manaspelldiscipt" placeholder="Description"></textarea>
			</span>
			</div>
		</table>
		</fieldset>
		</td>
		<td valign="top">
		<table>
			  <tr>
            	<td class="sheet-statlabel-big" style="width: 390px;">7 MANA SPELLS</td>
        	</tr>
        </table>
        <fieldset class="repeating_7manaspell">
   		<table style="width: 400px;" class="sheet-table-row">
			<div class="sheet-table-row">
			<span class="sheet-table-col"><input style="width: 80px;" type="text" name="attr_7manaspell" 
			title="repeating_7manaspell" placeholder="Spell"></span>
			<span class="sheet-table-col"><textarea input class="sheet-inputbox" rows="1" cols="55" style="height: 20px; width: 280px;" 
			name="attr_7manaspelldiscipt" title="repeating_7manaspelldiscipt" placeholder="Description"></textarea>
			</span>
			</div>
		</table>
		</fieldset>
		</td>
	</tr>

</table>
	</div>
	<!-- Tab 5 Sanity-->
	<div class="sheet-tab-content sheet-tab5 sheet-tab99">
	<table cellpadding="10" cellspacing="0">
            <tr>
                <td colspan="3" class="sheet-statlabel-big-gray" style="font-size: 1.5em; width: 795px;">SANITY</td>
            </tr>
        </table>
	<table style="width: 795px">
		<tr>
			<td  align="top">
				<table>
					<tr>
            			<td colspan="3" class="sheet-statlabel-big" style="width: 475px">Sanity Points</td>
        			</tr>
        			<tr>
        				<td>
        					Current Sanity<br><input type="number" class="sheet-inputbox" style="width: 100px; height: 100px" name="attr_currentsanity"/>
        				</td>
        				<td style="width: 275px">
        				<table>
        					<tr>
        						<td colspan="9" style="text-align: right;">Affliction<br>Threshold</td>
        					</tr>
        					<tr>
        					<td><input style="width: 25px; height: 50px" type="text" name="attr_afbasebouns" title="afbasebouns"	
        					placeholder="Base Bonus" value="2" disabled="true"><br>Base<br>Bonus</td><td>+</td>
        					<td><input style="width: 25px; height: 50px" type="text" name="attr_afwisbouns" title="afwisbouns" 
        					placeholder="Wis Bonus" value="floor(@{wismod})" disabled="true"><br>WIS<br>Bonus</td><td>+</td>
        					<td><input style="width: 25px; height: 50px" type="text" name="attr_aflevelbouns" title="aflevelbouns" 
        					placeholder="Level" value="floor(@{level})" disabled="true"><br>Level<br>&nbsp;&nbsp;</td><td>+</td>
        					<td><input style="width: 25px; height: 50px" type="text" name="attr_afmiscbouns" title="afmiscbouns" 
        					placeholder="Misc Mods" value="0"><br>Misc Mods</td><td>=</td>
        					<td><input class="sheet-inputbox" type="text" style="width: 50px; height: 90px" 
        					value="(@{afbasebouns}+@{afwisbouns}+@{aflevelbouns}+@{afmiscbouns})" 
        					name="attr_afflictionthreshold" title="afflictionthreshold" disabled="true"></td>
        					</tr>
        				</table>
        					
        				</td>
        				<td style="width: 100px">
        					Sanity<br>Resistance<br><input type="text" class="sheet-inputbox" style="width: 100px; height: 100px" name="attr_sanityresistance"/>
        				</td>
        			</tr>
        			<tr>
        				<td>
        				<table>
        					<tr>
        						<td colspan="5" style="text-align: right;">Base<br>Sanity</td>
        					</tr>
        					<tr>
        					<td><input style="line-height: 90%; width: 25px; height: 50px" type="text" name="attr_startingsanity"
        					 title="startingsanity"	placeholder="Starting Sanity" value="75" readonly="readonly">
        					 <br>Starting<br>Sanity<br>&nbsp;&nbsp;</td><td>+</td>
        					<td><input style="line-height: 90%; width: 25px; height: 50px" type="text" name="attr_mentalabilitybouns"
        					title="mentalabilitybouns" placeholder="mental ability bonus" value="(@{wismod}+@{intmod}+@{chamod})" 
        					disabled="true"><br>Mental<br>Ability<br>Bonus</td><td>=</td>
        					<td><input type="text" class="sheet-inputbox" style="width: 50px; height: 90px"
        					value="(@{startingsanity}+@{mentalabilitybouns})"
        					name="attr_basesanity" title="basesanity" disabled="true"></td>
        					</tr>
        				</table>        					
        				</td>
        				<td>Sanity<br>Threshold<br>x .25 =<input type="text" class="sheet-inputbox" style="width: 50px; height: 90px" 
        					value="round(@{basesanity}/4)" name="attr_sanitythreshold" title="sanitythreshold" disabled="true"></td>
        				<td align="center">Forbidden Knowledge Points<br><input type="text" class="sheet-inputbox" style="width: 100px; height: 90px" 
        					name="attr_forbbiddenknowledgepoints" title="forbbiddenknowledgepoints"></td>
        			</tr>
				</table>				
			</td>
			<td style="320px; vertical-align: top">
				<table>
					<tr>
            			<td class="sheet-statlabel-big" style="width: 320px;">FEARS -3</td>
        				</tr>
				</table>
				<fieldset class="repeating_fear">
                    <table cellpadding="0" cellspacing="0">
                    <tr>
                    	<td>
                    	<input class="sheet-inputbox" type="text" name="attr_fear" style="height: 24px; width: 320px;">
                    	</td>
                    </tr>
                    </table>
                </fieldset>				
			</td>
		</tr>
		<tr>
			<td style="vertical-align: top">
				<table>
					<tr>
            			<td class="sheet-statlabel-big" style="width: 475px">FORBIDDEN KNOWLEDGE SOURCES</td>
        			</tr>
				</table>
				<fieldset class="repeating_forbiddebknowledge">
                    <table cellpadding="0" cellspacing="0">
                    <tr>
                    	<td>
                    	<input class="sheet-inputbox" type="text" name="attr_forbiddebknowledge" style="height: 24px; width: 320px;">
                    	</td>
                    </tr>
                    </table>
                </fieldset>				
			</td>
			<td   style="vertical-align: top; width: 320px">
				<table>
					<tr>
            			<td class="sheet-statlabel-big" style="width: 320px">PHOBIAS -5</td>
        			</tr>
				</table>
				<fieldset class="repeating_phobias">
                    <table cellpadding="0" cellspacing="0">
                    <tr>
                    	<td>
                    	<input class="sheet-inputbox" type="text" name="attr_phobia" style="height: 24px; width: 320px;">
                    	</td>
                    </tr>
                    </table>
                </fieldset>				
			</td>
		</tr>
	</table>

	</div>
<br>
</div>
</div>
<div style="width: 825px" class="sheet-switch-npc">
<!-- start NPC section -->
<div class="sheet-rolltemplate-SagaBornStdRoll" >
	<table>
	    <tr>
	    	<td colspan="2"><img src="http://www.sagaborn.com/wp-content/uploads/2015/12/sagaborn-rpgweb3-630x300.png?x54576"
	    	style="float: center; width: 100px;"></img><br><div class="arrow-spell"></div>
	    	</td>
	    </tr>
	    <tr style="background-color: black">
	    	<td style="width: 395px"><input type="text" STYLE="color: white; font-family: Verdana; font-weight: bold; font-size: 24px;"
		    size="10" maxlength="30" name="attr_character_name">
		    </td>
			<td style="width: 395px"><input STYLE="color: white; font-family: Verdana; font-weight: bold; font-size: 24px;"
			type="text" name="attr_npccr" title="npccr" placeholder="CR">
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-spell"></div>
			</td>
		</tr>
		<tr>
			<td colspan="2" class="subheader" class="sheet-table-left">
			<span>Size</span>/<span>Type</span>:<input style="width: 140px;" type="text" name="attr_npcsize" title="npcsize" placeholder="Size">
			/<input style="width: 180px;" type="text" name="attr_npctype" title="npctype" placeholder="Type">
			<span>Initiative</span>:<input style="width: 40px;" type="text" name="attr_npcinit" title="npcinit" value="0"> <textarea rows="1" cols="40" style="display: none" title="npcinitmacro (modify to modify npc's initiative roll macro)" name="attr_npcinitmacro">/w gm &{template:SagaBornInitiative} {{name=@{character_name} }} {{check=Initiative:}} {{checkroll= [[ 1d20 + [[ @{npcinit} ]] &{tracker} ]] }}</textarea><button type="roll" name="attr_npcinitiative" title="npcinitiative" value="@{npcinitmacro}"></button>
			</td>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-spell"></div>
			</td>
		</tr>
		<tr>
			<td colspan="2" class="subheader" class="sheet-table-left" style="font-weight: bold; font-size: 20px">Defense
			</td>
		</tr>
		<tr>
			<td colspan="2" class="subheader" class="sheet-table-left">
			Hit Dice:<input style="width: 100px;" type="text" name="attr_npchitdie" title="npchitdie" placeholder="HD">(
			<input style="width: 50px;" type="text" name="attr_npchitpoints" title="npchitpoints" placeholder="Hit Points">/
			<input style="width: 50px;" type="text" name="attr_npchitpoints_max" title="npchitpoints|max" 
		    placeholder="Max HP">)<br>
			<span>Armor Class</span>:<input style="width: 40px;" type="text" name="attr_npcarmorclass" title="npcarmorclass" 
			placeholder="AC">(<input style="width: 290px;" type="text" name="attr_npcarmorclassinfo" title="npcarmorclassinfo" 
			placeholder="Armor Class Mod Info">), <span>Touch</span>:<input style="width: 40px;" type="text" 
			name="attr_npctoucharmorclass" title="npctoucharmorclass" placeholder="T AC">, <span>FF</span>:<input style="width: 40px;" 
			type="text" name="attr_npcflatfootarmorclass" title="npcflatfootarmorclass" placeholder="FF AC"><br>
			<span>Saves</span>: <span>Fort</span>:<input style="width: 40px;" type="text" name="attr_npcfortsave" title="npcfortsave" 
			placeholder="Fort"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none" name="attr_npcfortmacro" title="npcfortmacro" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{saveflag=true}} {{subtags=braces against the attack}} {{check=Fortitude check:}} {{checkroll= [[ 1d20 + [[ @{npcfortsave} ]] ]] }}</textarea><button type="roll" name="attr_npcfortsaveroll" title="npcfortsaveroll" value="@{npcfortmacro}"></button>,
			<span>Ref</span>:<input style="width: 40px;" type="text" name="attr_npcrefsave" 
			title="npcrefsave" placeholder="Ref"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none" name="attr_npcrefmacro" title="npcrefmacro" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{saveflag=true}} {{subtags=tries to dodge}} {{check=Reflex check:}} {{checkroll= [[ 1d20 + [[ @{npcrefsave} ]] ]] }}</textarea><button type="roll" name="attr_npcrefsaveroll" title="npcrefsaveroll" value="@{npcrefmacro}"></button>,
			<span>Will</span>:<input style="width: 40px;" type="text" 
			name="attr_npcwillsave" title="npcwillsave" placeholder="Will"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none" name="attr_npcwillmacro" title="npcwillmacro" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{saveflag=true}} {{subtags=tries to resist}} {{check=Will check:}} {{checkroll= [[ 1d20 + [[ @{npcwillsave} ]] ]] }}</textarea><button type="roll" name="attr_npcwillsaveroll" title="npcwillsaveroll" value="@{npcwillmacro}"></button><br>
			Weaknesses:<input style="width: 650px;" type="text" name="attr_npcweaknesses" title="npcweaknesses"
			 placeholder="None">
			 
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-spell"></div>
			</td>
		</tr>
		<tr>
			<td colspan="2" class="subheader" class="sheet-table-left" style="font-weight: bold; font-size: 20px">Offense
			</td>
		</tr>
		<tr>
			<td colspan="2" class="subheader" class="sheet-table-left">
			<span>Speed</span>:<input style="width: 650px;" type="text" name="attr_npcspeed" title="npcspeed" 
			placeholder="Speed"><br>
			<span>Base Attack</span>:<input style="width: 50px;" type="text" name="attr_npcbaseatt" title="npcbaseatt" 
			placeholder="Base Attack"><br>
			<span>Melee:(Weapon/Attack bonus/Damage/Crit Range)</span>
			<fieldset class="repeating_meleeattack">
			<input type="text" style="width: 200px;" name="attr_npcmeleeweapon" title="npcmeleeweapon" placeholder="Weapon">
			/<input type="text" style="width: 50px;" name="attr_npcmeleeab" title="npcmeleeab" placeholder="Attack Bonus">
			/<input type="text" style="width: 100px;" name="attr_npcmeleedamage" title="npcmeleedamage" placeholder="Damage">
			/<input type="text" style="width: 25px;" name="attr_npcmeleecritmin" title="npcmeleecritmin" placeholder="Crit min">
			<button type="roll" name="attr_npcattackroll" title="npcattackroll" value="@{npcattack-macro}"></button>
			<textarea rows="1" cols="50" style="display: none;" name="attr_npcattackcalc" title="npcattackcalc">
				1d20cs>@{npcmeleecritmin}@{npcmeleeab}</textarea><textarea rows="1" cols="50" style="display: none;" name="attr_npcdamagecalc" title="npcdamagecalc">
				@{npcmeleedamage}</textarea>
			<textarea rows="1" cols="50" style="width: 0px; height: 0px" name="attr_npcattack-macro" title="npcattack-macro">
			&{template:SagaBornAttack} {{npcflag=true}} {{name=@{character_name}}} {{subtags=attacks with a @{npcmeleeweapon} }} {{attack1=hitting AC [[ @{npcattackcalc} ]] }} {{fumbleroll=Fumble: [[ d20 ]] }} {{damage1=for [[ @{npcmeleedamage} ]]dmg}} {{critdmg1=+ [[ @{npcdamagecalc} ]] crit dmg}} {{fullattackflag= [[ 0d1 ]] }} </textarea>
			</fieldset><br>
			<span>Ranged:(Weapon/Attack bonus/Damage/Crit Range)</span>
			<fieldset class="repeating_rangedattack">
			<input type="text" style="width: 200px;" name="attr_npcrangedweapon" title="npcrangedweapon" placeholder="Weapon">
			/<input type="text" style="width: 50px;" name="attr_npcrangedab" title="npcrangedab" placeholder="Attack Bonus">
			/<input type="text" style="width: 100px;" name="attr_npcrangeddamage" title="npcrangeddamage" placeholder="Damage">
			/<input type="text" style="width: 25px;" name="attr_npcrangedcritmin" title="npcrangedcritmin" placeholder="Crit min">
			<button type="roll" name="attr_npcrangedroll" title="npcrangedroll" value="@{npcranged-macro}"></button>
			<textarea rows="1" cols="50" style="display: none;" name="attr_npcrangedcalc" title="npcrangedcalc">
				1d20cs>@{npcrangedcritmin}@{npcrangedab}</textarea><textarea rows="1" cols="50" style="display: none;" name="attr_npcrangeddamagecalc" title="npcrangeddamagecalc">
				@{npcrangeddamage}</textarea>
			<textarea rows="1" cols="50" style="width: 0px; height: 0px" name="attr_npcranged-macro" title="npcranged-macro">
			&{template:SagaBornAttack} {{npcflag=true}} {{name=@{character_name}}} {{subtags=attacks with a @{npcrangedweapon} }} {{attack1=hitting AC [[ @{npcrangedcalc} ]] }} {{fumbleroll=Fumble: [[ d20 ]] }} {{damage1=for [[ @{npcrangeddamage} ]]dmg}} {{critdmg1=+ [[ @{npcrangeddamagecalc} ]] crit dmg}} {{fullattackflag= [[ 0d1 ]] }} </textarea>
			</fieldset><br>
			<span>Special Attacks:</span><input style="width: 650px;" type="text" name="attr_npcspecialattacks" title="npcspecialattacks"
			 placeholder="Special Attacks"><br>
			<span>Space</span>/<span>Reach</span>:<input style="width: 140px;" type="text" name="attr_npcspace" title="npcspace" 
			placeholder="Space">/<input style="width: 140px;" type="text" name="attr_npcreach" title="npcreach" placeholder="Reach"><br>
			<span>Sanity Effects:</span>:<input style="width: 650px;" type="text" name="attr_npcsanityeffects" title="npcsanityeffects" 
			placeholder="Sanity Effects">
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-spell"></div>
			</td>
		</tr>
		<tr>
			<td colspan="2" class="subheader" class="sheet-table-left" style="font-weight: bold; font-size: 20px">Sanity
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2" class="subheader" class="sheet-table-left">
			Starting Sanity<input style="width: 40px;" type="text" name="attr_npcstartsanit" 
			title="npcstartsanit" value="0" />; 
			Sanity Threshold<input style="width: 40px;" type="text" name="attr_npcst" title="npcst" value="0" />;
			Affliction Threshold <input style="width: 40px;" type="text" name="attr_npcat" title="npcat" value="0" />;<br>
			Sanity Resistance <input style="width: 40px;" type="text" name="attr_npcsr" title="npcsr" value="0" />;
			Current Sanity<input style="width: 40px;" type="text" name="attr_npccurrentsanity" title="npccurrentsanity" value="0" />;
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-ability"></div>
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2" style="font-weight: bold; font-size: 20px">Statistics
			</td>
		</tr>
		<tr class="solid-container" class="sheet-table-left">
			<td class="subheader" colspan="2">
			<span>Abilities</span>:<br><span>Str</span>:<input style="width: 3em;" type="text" name="attr_npcstr" title="npcstr" 
			placeholder="Str">(+<input style="width: 2em;" type="text" name="attr_npcstrmod" title="npcstrmod" 
			value="floor(@{npcstr}/2-5)" disabled="true" >)
			<button type="roll" name="attr_npcstrcheck" title="npcstrcheck" value="@{npcstr-macro}"></button>
            <textarea rows="1" cols="50" style="display: none;" name="attr_npcstr-macro" title="npcstr-macro">
			&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Strength check:}} {{checkroll= [[ 1d20 +  [[ @{npcstrmod} ]] ]] }}</textarea>, 
			&nbsp; <span>Dex</span>:<input style="width: 3em;" type="text" name="attr_npcdex" title="npcdex" placeholder="Dex">
			(+<input style="width: 2em;" type="text" name="attr_npcdexmod" title="npcdexmod" value="floor(@{npcdex}/2-5)" disabled="true">)
			<button type="roll" name="attr_npcdexcheck" title="npcdexcheck" value="@{npcdex-macro}"></button>
			<textarea rows="1" cols="50" style="display: none;" name="attr_npcdex-macro" title="npcdex-macro">
			&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Dexterity check:}} {{checkroll= [[ 1d20 + [[ @{npcdexmod} ]] ]] }}</textarea>,
			&nbsp; <span>Con</span>:<input style="width: 3em;" type="text" name="attr_npccon" title="npccon" 
			placeholder="Con">(+<input style="width: 2em;" type="text" name="attr_npcconmod" title="npcconmod" value="floor(@{npccon}/2-5)" disabled="true">)
			<button type="roll" name="attr_npcconcheck" title="npcconcheck" value="@{npccon-macro}"></button>
			<textarea rows="1" cols="50" style="display: none;" name="attr_npccon-macro" title="npccon-macro">
			&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Constitution check:}} {{checkroll= [[ 1d20 + [[ @{npcconmod} ]] ]] }}</textarea>,
			&nbsp;<br><span>Int</span>:<input style="width: 3em;" type="text" name="attr_npcint" title="npcint" 
			placeholder="Int">(+<input style="width: 2em;" type="text" name="attr_npcintmod" title="npcintmod" value="floor(@{npcint}/2-5)" disabled="true">)
			<button type="roll" name="attr_npcintcheck" title="npcintcheck" value="@{npcint-macro}"></button>
            <textarea rows="1" cols="50" style="display: none;" name="attr_npcint-macro" title="npcint-macro">
			&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Intelligence check:}} {{checkroll= [[ 1d20+ [[ @{npcintmod} ]] ]] }}</textarea>,
			&nbsp; <span>Wis</span>:<input style="width: 3em;" type="text" name="attr_npcwis" title="npcwis" 
			placeholder="Wis">(+<input style="width: 2em;" type="text" name="attr_npcwismod" title="npcwismod" value="floor(@{npcwis}/2-5)" disabled="true">)
			<button type="roll" name="attr_npcwischeck" title="npcwischeck" value="@{npcwis-macro}"></button>
            <textarea rows="1" cols="50" style="display: none;" name="attr_npcwis-macro" title="npcwis-macro">
			&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Wisdom check:}} {{checkroll= [[ 1d20+ [[ @{npcwismod} ]] ]] }} </textarea>,
			&nbsp; <span>Cha</span>:<input style="width: 3em;" type="text" name="attr_npccha" title="npccha" 
			placeholder="Cha">(+<input style="width: 2em;" type="text" name="attr_npcchamod" title="npcchamod" value="floor(@{npccha}/2-5)" disabled="true">)
			<button type="roll" name="attr_npcchacheck" title="npcchacheck" value="@{npccha-macro}"></button>
         	<textarea rows="1" cols="50" style="display: none;" name="attr_npccha-macro" title="npccha-macro">
			&{template:SagaBornStdRoll} {{abilityflag=true}} {{name=@{character_name} }} {{check=Charisma check:}} {{checkroll= [[ 1d20+ [[ @{npcchamod} ]] ]] }} </textarea>
			<br> 
			<span>Skills:</span><br>
			<span> Acrobatics:</span><input style="width: 30px;" type="text" name="attr_npcacrobatics" title="npcacrobatics" 
			placeholder="Acrobatics">
			<textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" name="attr_acrobaticsnote" 
			title="acrobaticsnote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Acrobatics check:}} {{checkroll= [[ 1d20 + [[ @{npcacrobatics} ]] ]] }}</textarea><button type="roll" name="attr_acrobaticsroll" title="acrobaticsroll" value="@{acrobaticsnote}"></button>,
			<span> Athletics:</span><input style="width: 30px;" type="text" name="attr_npcathletics" title="npcathletics" 
			placeholder="Athletics">
			<textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" name="attr_athleticsnote" 
			title="athleticsnote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Athletics check:}} {{checkroll= [[ 1d20 + [[ @{npcathletics} ]] ]] }}</textarea>
			<button type="roll" name="attr_athleticsroll" title="athleticsroll" value="@{athleticsnote}"></button>,
			
			<span> Awareness:</span><input style="width: 30px;" type="text" name="attr_npcawareness" title="npcawareness" 
			placeholder="Awareness"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" 
			name="attr_npcawarenessnote" title="npcawarenessnote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Awareness check:}} {{checkroll= [[ 1d20 + [[ @{npcawareness} ]] ]] }}</textarea>
			<button type="roll" name="attr_npcawarenessroll" title="npcawarenessroll" value="@{npcawarenessnote}"></button>,
						
			<span> Endurance:</span><input style="width: 30px;" type="text" name="attr_npcendurance" title="npcendurance" 
			placeholder="Endurance"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" 
			name="attr_npcendurancenote" title="npcendurancenote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Endurance check:}} {{checkroll= [[ 1d20 + [[ @{npcendurance} ]] ]] }}</textarea><button type="roll" name="attr_npcenduranceroll" title="npcenduranceroll" value="@{npcendurancenote}"></button>,
			<span> Knowledge:</span><input style="width: 30px;" type="text" name="attr_npcknowledge" title="npcknowledge" 
			placeholder="Knowledge"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" name="attr_npcknowledgenote" title="npcknowledgenote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Knowledge check:}} {{checkroll= [[ 1d20 + [[ @{npcknowledge} ]] ]] }}</textarea><button type="roll" name="attr_npcknowledgeroll" title="npcknowledgeroll" value="@{npcknowledgenote}"></button>,<br>
			<span> Persuasion:</span><input style="width: 30px;" type="text" name="attr_npcpersuasion" title="npcpersuasion" 
			placeholder="Persuasion"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" name="attr_npcpersuasionnote" 
			title="npcpersuasionnote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Persuasion check:}} {{checkroll= [[ 1d20 + [[ @{npcpersuasion} ]] ]] }}</textarea><button type="roll" name="attr_npcpersuasionroll" title="npcpersuasion" value="@{npcpersuasionnote}"></button>,
			<span> Spellcraft:</span><input style="width: 30px;" type="text" name="attr_npcspellcraft" title="npcspellcraft" 
			placeholder="Spellcraft"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" name="attr_npcspellcraftnote" 
			title="npcspellcraftnote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Spellcraft check:}} {{checkroll= [[ 1d20 + [[ @{npcspellcraft} ]] ]] }}</textarea><button type="roll" name="attr_npcspellcraftroll" title="npcspellcraft" value="@{npcspellcraftnote}"></button>,
			<span> Survival:</span><input style="width: 30px;" type="text" name="attr_npcsurvival" title="npcsurvival" 
			placeholder="Survival"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" name="attr_npcsurvivalnote" 
			title="npcsurvivalnote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Survival check:}} {{checkroll= [[ 1d20 + [[ @{npcsurvival} ]] ]] }}</textarea><button type="roll" name="attr_npcsurvivalroll" title="npcsurvivalroll" value="@{npcsurvivalnote}"></button>,
			<span> Thievery:</span><input style="width: 30px;" type="text" name="attr_npcthievery" title="npcthievery" 
			placeholder="Thievery"><textarea class="sheet-inputbox" rows="6" cols="55" style="display: none;" name="attr_npcthieverynote" 
			title="npcthieverynote" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Thievery check:}} {{checkroll= [[ 1d20 + [[ @{npcthievery} ]] ]] }}</textarea><button type="roll" name="attr_npcthieveryroll" title="npcthieveryroll" value="@{npcthieverynote}"></button>,<br>
			<span>Talents:</span><input style="width: 600px;" type="text" name="attr_npctalents" title="npctalents" placeholder="Talents"><br>
			<span>Special Qualities</span>:<input style="width: 600px;" type="text" name="attr_npcspecialqualities" 
			title="npcspecialqualities" placeholder="Special Qualities"><br>
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-ability"></div>
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2" style="font-weight: bold; font-size: 20px">Ecology
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2" class="sheet-table-left">
			<span>Environment:</span><input style="width: 650px;" type="text" name="attr_npcenv" title="npcenv" 
			placeholder="Environment"><br>
			<span>Organization:</span><input style="width: 650px;" type="text" name="attr_npcorg" title="npcorg" 
			placeholder="Organization"><br>
			<span>Treasure:</span><input style="width: 650px;" type="text" name="attr_npctreasure" title="npctreasure" 
			placeholder="Treasure">
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-ability"></div>
			</td>
		</tr>
		<tr class="solid-container">
			<td class="sheet-table-left" style="font-weight: bold; font-size: 20px" colspan="2">Notes: 
			</td>
		</tr>
		<tr class="solid-container">
			<td class="sheet-table-left" colspan="2"><textarea class="sheet-inputbox" rows="1" cols="55" style="width: 650px;" 
			name="attr_npcnotes" title="npcnotes" placeholder="Notes"></textarea>
			</td>
		</tr>
		<tr class="solid-container">
			<td colspan="2"><div class="arrow-ability"></div>
			</td>
		</tr>
	</table>
	
</div>
<!-- end NPC section-->
</div>
<br>
<p style="font-size: 0.8em;">SagaBorn Character Sheet v2. 09/09/16 by Conrad H.</p>
<p style="font-size: 0.8em;">Repeating section calculations with sheetworkers done using TheAaronSheet :: <a href="https://github.com/shdwjk/TheAaronSheet">https://github.com/shdwjk/TheAaronSheet</a></p>


<!--Roll Template Examples-->
<input style="display: none" type="checkbox" class="sheet-pc-rolltemplates-show sheet-arrow" title="rolltemplates-show" name="attr_rolltemplates-show" value="1" /><span style="text-align: left; display: none" >Roll Templates</span>
<div style="display: none" class="sheet-pc-rolltemplates">
	<table style="width:100%;" class="sheet-table-row" cellpadding="0" cellspacing="0">
		<tr>
			<td colspan="2" class="sheet-statlabel-big-gray" style="width:800px; height: 35px; font-size: 1.5em;" >Roll Templates</td>
		</tr>
	</table>
	<table>
		<tr><td style="text-align: left;">
			All of the roll templates use the flags initflag, skillcatflag, skillflag, saveflag, abilityflag, spellflag, pcflag, npcflag, and basicflag to vary the roll template appearance. See below for more details.
			<br>
			<br> The SagaBornAttack roll template allows up to 10 attacks to be displayed in the same template. If the roll for attack# results in a critical success (can set a custom value such as: [[ d20cs&gt;18 ]] ), then critconfirm# and critdmg# will display. If the roll for attack# results in a critical failure (can set a custom value such as: [[ d20cf&lt;2 ]] ), then fumbleroll will display.
			<br> To use this Roll Template to show multiple attacks, the fullattackflag must be set to [[ d1 ]] . You can use either {{fullattackflag= [[ d1 ]] }} or set it as a query {{fullattackflag= [[ ?{Full Attack? (hit space for full attack else hit return) |0}d1 ]] }} or {{fullattackflag= [[?{Full Attack?|No, 0d1|Yes, d1} ]] }} as in the example macro. 
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;" > Attack Roll: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornAttack">
					<table>
						<tr><th class="sheet-table-left">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left">subtags2</td></tr>
						<tr class="arrow-container"><td><div class="arrow-right"></div></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack1 critconfirm1 fumbleroll <span class="dcolor"> damage1 critdmg1</span></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack2 critconfirm2 fumbleroll <span class="dcolor"> damage2 critdmg2</span></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack3 critconfirm3 fumbleroll <span class="dcolor"> damage3 critdmg3</span></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> .... </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack10 critconfirm10 fumbleroll <span class="dcolor"> damage10 critdmg10</span></td></tr>
						<tr><td class="sheet-table-left"><span class="tcat">notes</span></td></tr>
					</table>
				</div> </span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea input class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_exampleattack" title="exampleattack" >&{template:SagaBornAttack} {{name=@{character_name}}} {{subtags=swings a @{weapon1name} }} {{pcflag=true}} {{attack1=A1: [[ @{weapon1attackcalc} ]] }} {{critconfirm1=Crit!: [[ @{weapon1attackcalc} ]] }} {{fumbleroll=Fumble: [[ d20 ]] }} {{damage1=D1: [[ @{weapon1damage} ]] }} {{critdmg1=+ [[ @{weapon1crit} ]] }} {{fullattackflag= [[?{Full Attack?|No, 0d1|Yes, d1} ]] }} {{attack2=A2: [[ @{weapon1attackcalc}-5 ]] }} {{critconfirm2=Crit!: [[ @{weapon1attackcalc}-5 ]] }} {{damage2=D2: [[ @{weapon1damage} ]] }} {{critdmg2=+ [[ @{weapon1crit} ]] }} {{attack3=A3: [[ @{weapon1attackcalc}-10 ]] }} {{critconfirm3=Crit!: [[ @{weapon1attackcalc}-10 ]] }} {{damage3=D3: [[ @{weapon1damage} ]] }} {{critdmg3=+ [[ @{weapon1crit} ]] }} {{attack4=A4: [[ @{weapon1attackcalc}-15 ]] }} {{critconfirm4=Crit!: [[ @{weapon1attackcalc}-15 ]] }} {{damage4=D4: [[ @{weapon1damage} ]] }} {{critdmg4=+ [[ @{weapon1crit} ]] }}</textarea>
					<button type="roll" name="attr_exampleattackroll" title="exampleattackroll" value="@{exampleattack}"></button>
					<br> The pcflag sets the name and dividing line to be red. For this flag, the arrow in the dividing line points to the right.
			</div>
			<br>	
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Attack Roll v2 (NPC): </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornAttack">
					<table>
						<tr><th class="sheet-table-left">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left">subtags2</td></tr>
						<tr class="arrow-container"><td><div class="arrow-left"></div></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack1 critconfirm1 fumbleroll <span class="dcolor"> damage1 critdmg1</span></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack2 critconfirm2 fumbleroll <span class="dcolor"> damage2 critdmg2</span></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack3 critconfirm3 fumbleroll <span class="dcolor"> damage3 critdmg3</span></td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> .... </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left"> attack10 critconfirm10 fumbleroll <span class="dcolor"> damage10 critdmg10</span></td></tr>
						<tr><td class="sheet-table-left"><span class="tcat">notes</span></td></tr>
					</table>
				</div></span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_examplenpcattack" title="examplenpcattack" >/w gm &{template:SagaBornAttack} {{name=@{selected|token_name}}} {{subtags=attacks @{target|token_name} }} {{npcflag=true}} {{fullattackflag= [[ d1 ]] }} {{attack1=A1 (?{attack 1 name| claw} ): [[ {d20cs>?{attack 1 crit range?|20}+?{attack 1 bonus|0}}>@{target|bar2} ]] hit; }} {{critconfirm1=Crit!: [[ {d20+?{attack 1 bonus|0}}>@{target|bar2} ]] hit }} {{fumbleroll=Fumble: [[ d20 ]] }} {{damage1=D1:?{attack 1 damage?| [[ 1d6+6 ]] } }} {{critdmg1=+?{attack 1 addt'l crit damage?| [[ 1d6+6 ]] } crit dmg }} {{attack2=A2 (?{attack 2 name| claw} ): [[ {d20cs>?{attack 2 crit range?|20}+?{attack 2 bonus|0}}>@{target|bar2} ]] hit; }} {{critconfirm2=Crit!: [[ {d20+?{attack 2 bonus|0}}>@{target|bar2} ]] hit }} {{fumbleroll=Fumble: [[ d20 ]] }} {{damage2=D2:?{damage 2?| [[ 1d6+6 ]] } }} {{critdmg2=+?{addt'l crit damage 2?| [[ 1d6+6 ]] } crit dmg }} {{attack3=A3 (?{attack 3 name| bite} ): [[ {d20cs>?{attack 3 crit range?|20}+?{attack 3 bonus|0}}>@{target|bar2} ]] hit; }} {{critconfirm3=Crit!: [[ {d20+?{attack 3 bonus|0}}>@{target|bar2} ]] hit }} {{fumbleroll=Fumble: [[ d20 ]] }} {{damage3=D3:?{damage 3?| [[ 1d8+3 ]] phys + [[ 1d6 ]] acid} }} {{critdmg3=+?{addt'l crit damage 3?| [[ 1d6 ]] } crit dmg }} {{notes= Note: if it hits with both claws, it latches on and tears the flesh, automatically doing an additional [[ 2d6+12 ]]damage}} </textarea>
					<button type="roll" name="attr_examplenpcattackroll" title="examplenpcattackroll" value="@{examplenpcattack}"></button>
					<br> The npcflag sets the name and dividing line to be red. For this flag, the arrow in the dividing line points to the left.
					<br> Example of SagaBornAttack with {{npcflag=true}} set.  This example has the fullattackflag set to d1 so it will always show the attacks. Also set to whisper to the gm for the NPC's attacks. This example compares against an AC value stored in bar2 to report success (1 hit) or failure (0 hit) of the attack.
			</div>
			<br>
			<br> The SagaBornInitiative roll template consists of name check and checkroll on the same line. Notes can be added below. There is no dividing line in this template.
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Initiative: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornInitiative">
					<table>
						<tr><th class="sheet-table-left"> Name check checkroll </th></tr>
						<tr class="rowcolor"><td class="sheet-table-left"><span class="tcat">notes</span></td></tr>
					</table>
				</div></span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_exampleinit" title="exampleinit" >&{template:SagaBornInitiative} {{name=@{character_name} }} {{check=Initiative:}} {{checkroll= [[ 1d20 + [[ @{selected|init} ]] + ( [[ (@{selected|init}) ]] /100) &{tracker} ]] }}</textarea>
					<button type="roll" name="attr_exampleinitroll" title="exampleinitroll" value="@{exampleinit}"></button>
					<br> The initflag used with SagaBornStdRoll or SagaBornAttack sets the name this same yellow and adds a thin solid yellow dividing line.
			</div>
			<br>
			<br> For the SagaBornStdRoll, the first section is a repeating section where you can give a key and a value which will be displayed in columns. Key words which cannot be used (since they are used in other parts of the template) are: notes, subtags, subtags2, compcheck, failcheck, succeedcheck, check, checkroll, critroll, fumbleroll, initflag, skillcatflag, skillflag, saveflag, abilityflag, spellflag, pcflag, npcflag, basicflag, name.
			<br>
			<br> The compcheck line expects a comparison type roll [[ d20&gt;15 ]] and will display the succeedcheck if the result is a 1 or the failcheck if the result is a 0.
			<br>
			<br> The next section takes a check and checkroll and will display the critroll if the checkroll was a critical success and the fumble roll if the checkroll was a critical failure.
			<br>
			<br> Any or all of the sections can be used; if you don't put in the key word, the section will not be displayed. Note that you cannot use the check keyword by itself; you must include the checkroll as well for that section to display.
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Spell: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornStdRoll">
					<table>
						<tr><th class="header-spell" colspan="2">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags2</td></tr>
						<tr class="solid-container"><td colspan="2"><div class="arrow-spell"></div></td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>compcheck </td><td>succeedcheck &nbsp; failcheck </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2">check checkroll </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2"> critroll fumbleroll </td></tr>
						<tr><td class="sheet-table-left" colspan="2">notes</td></tr>
					</table>
				</div> </span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_examplespell" title="examplespell" >&{template:SagaBornStdRoll} {{spellflag=true}} {{name= @{character_name} casts Doom on @{target|token_name} }} {{School:=Necromancy (Fear, Mind affecting)}} {{Level: =Cleric 1}} {{Comp'nts:=V, S, DF}} {{Casting Time:= 1 std action}} {{Range:= Medium ( [[ 100+10*@{casterlevel} ]] ft)}} {{Target:= 1 living creature}} {{Duration:= [[ @{casterlevel} ]] min.}} {{Saving Throw:= Will negates (DC= [[ @{spelldc1} ]] ) }} {{Spell Resist.:= Yes }} {{ Caster level check: = [[ 1d20+@{casterlevel2}+@{spellpen} ]] vs spell resistance.}} {{compcheck= Conc: [[ {1d20 + [[ @{concentration} ]] }>?{Concentration DC=15+Spell Level or 10+Damage Received|16} ]] }} {{succeedcheck=Success! She casts her spell!}} {{failcheck=She fails :( }} {{notes=Target is filled with a feeling of horrible dread that causes it to become shaken (-2 on attack rolls, saves, skill checks, ability checks).}} </textarea>
					<button type="roll" name="attr_examplespellroll" title="examplespellroll" value="@{examplespell}"></button>
					<br> The spellflag sets the dividing line to be a blue 4-pointed star pattern and the name to be blue.
			</div>
			<br>
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Ability Check: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornStdRoll">
					<table>
						<tr><th class="header-ability" colspan="2">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags2</td></tr>
						<tr class="solid-container"><td colspan="2"><div class="arrow-ability"></div></td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>compcheck </td><td>succeedcheck &nbsp; failcheck </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2">check checkroll </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2"> critroll fumbleroll </td></tr>
						<tr><td class="sheet-table-left" colspan="2">notes</td></tr>
					</table>
				</div> </span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_exampleability" title="exampleability" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{abilityflag=true}} {{check=Strength check:}} {{checkroll= [[ 1d20 + [[ @{strmod} ]] ]] }}"</textarea>
					<button type="roll" name="attr_exampleabilityroll" title="exampleabilityroll" value="@{exampleability}"></button>
					<br> The abilityflag sets the name and dividing line brown.
			</div>
			<br>
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Save: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornStdRoll">
					<table>
						<tr><th class="header-save" colspan="2">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags2</td></tr>
						<tr class="solid-container"><td colspan="2"><div class="arrow-save"></div></td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>compcheck </td><td>succeedcheck &nbsp; failcheck </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2">check checkroll </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2"> critroll fumbleroll </td></tr>
						<tr><td class="sheet-table-left" colspan="2">notes</td></tr>
					</table>
				</div> </span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_examplesave" title="examplesave" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{saveflag=true}} {{subtags=braces against the attack}} {{check=Fortitude check:}} {{checkroll= [[ 1d20 + [[ @{fortitude} ]] ]] }}</textarea>
					<button type="roll" name="attr_examplesaveroll" title="examplesaveroll" value="@{examplesave}"></button>
					<br> The saveflag sets the name and thick dividing line to be purple.
			</div>
				<br>
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Skill Check: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornStdRoll">
					<table>
						<tr><th class="header-skill" colspan="2">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags2</td></tr>
						<tr class="solid-container"><td colspan="2"><div class="arrow-skill"></div></td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>compcheck </td><td>succeedcheck &nbsp; failcheck </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2">check checkroll </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2"> critroll fumbleroll </td></tr>
						<tr><td class="sheet-table-left" colspan="2">notes</td></tr>
					</table>
				</div> </span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_exampleskill" title="exampleskill" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillflag=true}} {{check=Appraise check:}} {{checkroll= [[ 1d20 + [[ @{appraise} ]] ]] }}</textarea>
					<button type="roll" name="attr_exampleskillroll" title="exampleskillroll" value="@{exampleskill}"></button>
					<br> The skillflag sets the name and double-arrow dividing line a darkish green.
			</div>
			<br>
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Skill Check v2: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornStdRoll">
					<table>
						<tr><th class="header-skillcat" colspan="2">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags2</td></tr>
						<tr class="solid-container"><td colspan="2"><div class="arrow-skillcat"></div></td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>compcheck </td><td>succeedcheck &nbsp; failcheck </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2">check checkroll </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2"> critroll fumbleroll </td></tr>
						<tr><td class="sheet-table-left" colspan="2">notes</td></tr>
					</table>
				</div> </span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_exampleskillcat" title="exampleskillcat" >&{template:SagaBornStdRoll} {{name=@{character_name} }} {{skillcatflag=true}} {{check=Appraise check:}} {{checkroll= [[ 1d20 + [[ @{appraise} ]] ]] }}</textarea>
					<button type="roll" name="attr_exampleskillcatroll" title="exampleskillcatroll" value="@{exampleskillcat}"></button>
					<br> The skillcatflag sets the dividing line to be an upward pointed arrow and both it and the name a teal color.
			</div>
			<br>
			<div class="sheet-table-row">
				<span class="sheet-table-header-left" style="width: 124px;"> Basic: </span>
				<span class="sheet-table-header-left" style="width: 218px;">
				<div class="sheet-rolltemplate-SagaBornStdRoll">
					<table>
						<tr><th colspan="2" class="header-basic">Name</th></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags</td></tr>
						<tr><td class="subheader" class="sheet-table-left" colspan="2">subtags2</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>key </td><td>value</td></tr>
						<tr class="sheet-tr-repeating"><td>compcheck </td><td>succeedcheck &nbsp; failcheck </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2">check checkroll </td></tr>
						<tr class="sheet-tr-repeating"><td class="sheet-table-left" colspan="2"> critroll fumbleroll </td></tr>
						<tr><td class="sheet-table-left" colspan="2">notes</td></tr>
					</table>
				</div> </span>
				<span class="sheet-table-header-right" style="width: 117px;"> Example macro: </span><textarea class="sheet-inputbox" rows="6" cols="55" style="height: 80px; width: 296px;" name="attr_examplebasic" title="examplebasic" >&{template:SagaBornStdRoll} {{basicflag=true}} {{name=Test Roll}} {{subtags=swinging violently}} {{subtags2=at the kitchen sink.}} {{attack= [[ 1d20 ]] }} {{damage= [[ 1d8 ]] }} {{note= This is some note content}} {{Saving throw= [[ @{will} ]] Will save}} {{Attack1: [[ d20cs>10+5 ]] *crit on 10+=Damage1: [[ d6+2 ]] }} {{Confirm: [[ d20+5 ]] =+ [[ d6+2 ]] ad'l dmg }} {{Attack2: [[ d20+5 ]] =Damage2: [[ d6+2 ]] }} {{Attack3: [[ d20+5 ]] =Damage3: [[ d6+2 ]] }} {{compcheck= Conc: [[ {1d20 + [[ @{concentration} ]] }>?{Concentration DC=15+Spell Level or 10+Damage Received|16} ]] }} {{succeedcheck=Success! The spell is cast!}} {{failcheck=Failure. :( }} {{notes=Additional notes under the notes tag will be at the bottom.}} </textarea>
					<button type="roll" name="attr_examplebasicroll" title="examplebasicroll" value="@{examplebasic}"></button>
					<br> This basic grey and white appearance can be used with the various templates by setting {{basicflag=true}} . There is no dividing line with this appearance flag.
			</div>
		</td></tr>
	</table>
<rolltemplate class="sheet-rolltemplate-SagaBornAttack">
	<table>
		{{#pcflag}}<tr><th class="header-attack">{{name}}</th></tr> {{/pcflag}}
		{{#npcflag}}<tr><th class="header-attack">{{name}}</th></tr> {{/npcflag}}
		{{#spellflag}}<tr><th class="header-spell">{{name}}</th></tr> {{/spellflag}}
		{{#abilityflag}} <tr><th class="header-ability">{{name}}</th></tr> {{/abilityflag}}
		{{#saveflag}} <tr><th class="header-save">{{name}}</th></tr> {{/saveflag}}
		{{#skillflag}} <tr><th class="header-skill">{{name}}</th></tr> {{/skillflag}}
		{{#skillcatflag}} <tr><th class="header-skillcat">{{name}}</th></tr> {{/skillcatflag}}
		{{#initflag}} <tr><th class="header-initiative">{{name}}</th></tr> {{/initflag}}
		{{#basicflag}} <tr><th class="header-basic">{{name}}</th></tr> {{/basicflag}}
		{{^initflag}} {{^skillcatflag}} {{^skillflag}} {{^saveflag}} {{^abilityflag}} {{^spellflag}} {{^pcflag}} {{^npcflag}} {{^basicflag}} <tr><th>{{name}}</th></tr> {{/basicflag}} {{/npcflag}} {{/pcflag}} {{/spellflag}}{{/abilityflag}} {{/saveflag}} {{/skillflag}} {{/skillcatflag}} {{/initflag}}
		{{#subtags}}<tr><td class="subheader">{{subtags}}</td></tr>{{/subtags}}
		{{#subtags2}}<tr><td class="subheader">{{subtags2}}</td></tr>{{/subtags2}}
		{{#npcflag}} <tr class="arrow-container"><td><div class="arrow-left"></div></td></tr> {{/npcflag}}
		{{#pcflag}} <tr class="arrow-container"><td><div class="arrow-right"></div></td></tr> {{/pcflag}}
		{{#spellflag}}<tr class="arrow-container"><td><div class="arrow-spell"></div></td></tr> {{/spellflag}}
		{{#abilityflag}} <tr class="arrow-container"><td><div class="arrow-ability"></div></td></tr> {{/abilityflag}}
		{{#saveflag}} <tr class="arrow-container"><td><div class="arrow-save"></div></td></tr> {{/saveflag}}
		{{#skillflag}} <tr class="arrow-container"><td><div class="arrow-skill"></div></td></tr> {{/skillflag}}
		{{#skillcatflag}} <tr class="arrow-container"><td><div class="arrow-skillcat"></div></td></tr> {{/skillcatflag}}
		{{#initflag}} <tr class="arrow-container"><td><div class="arrow-initiative"></div></td></tr> {{/initflag}}
			<tr class="sheet-tr-repeating">
				<td>{{attack1}} 
				{{#rollWasCrit() attack1}} {{critconfirm1}} {{/rollWasCrit() attack1}}
				{{#rollWasFumble() attack1}} {{fumbleroll}} {{/rollWasFumble() attack1}}
				{{#damage1}}
					{{^rollWasFumble() attack1}}<span class="dcolor"> {{damage1}} 
							{{#rollWasCrit() attack1}} {{critdmg1}} {{/rollWasCrit() attack1}} </span>
					{{/rollWasFumble() attack1}}
				{{/damage1}} 
				</td>
			</tr>
		{{#rollWasCrit() fullattackflag}}
			{{#attack2}}
				<tr class="sheet-tr-repeating">
					<td>{{attack2}} 
					{{#rollWasCrit() attack2}} {{critconfirm2}} {{/rollWasCrit() attack2}}
					{{#rollWasFumble() attack2}} {{fumbleroll}} {{/rollWasFumble() attack2}}
					{{#damage2}}
						{{^rollWasFumble() attack2}}<span class="dcolor"> {{damage2}} 
								{{#rollWasCrit() attack2}} {{critdmg2}} {{/rollWasCrit() attack2}} </span>
						{{/rollWasFumble() attack2}}
					{{/damage2}} 
					</td>
				</tr>
			{{/attack2}}
			{{#attack3}}
				<tr class="sheet-tr-repeating">
					<td>{{attack3}} 
					{{#rollWasCrit() attack3}} {{critconfirm3}} {{/rollWasCrit() attack3}}
					{{#rollWasFumble() attack3}} {{fumbleroll}} {{/rollWasFumble() attack3}}
					{{#damage3}}
						{{^rollWasFumble() attack3}}<span class="dcolor"> {{damage3}} 
								{{#rollWasCrit() attack3}} {{critdmg3}} {{/rollWasCrit() attack3}} </span>
						{{/rollWasFumble() attack3}}
					{{/damage3}} 
					</td>
				</tr>
			{{/attack3}}
			{{#attack4}}
				<tr class="sheet-tr-repeating"><td>{{attack4}} 
					{{#rollWasCrit() attack4}} {{critconfirm4}} {{/rollWasCrit() attack4}}
					{{#rollWasFumble() attack4}} {{fumbleroll}} {{/rollWasFumble() attack4}}
					{{#damage4}}
						{{^rollWasFumble() attack4}}<span class="dcolor"> {{damage4}} 
								{{#rollWasCrit() attack4}} {{critdmg4}} {{/rollWasCrit() attack4}}</span>
						{{/rollWasFumble() attack4}}
					{{/damage4}} 
					</td>
				</tr>
			{{/attack4}}
			{{#attack5}}
				<tr class="sheet-tr-repeating">
					<td>{{attack5}} 
					{{#rollWasCrit() attack5}} {{critconfirm5}} {{/rollWasCrit() attack5}}
					{{#rollWasFumble() attack5}} {{fumbleroll}} {{/rollWasFumble() attack5}}
					{{#damage5}}
						{{^rollWasFumble() attack5}}<span class="dcolor"> {{damage5}} 
								{{#rollWasCrit() attack5}} {{critdmg5}} {{/rollWasCrit() attack5}}</span>
						{{/rollWasFumble() attack5}}
					{{/damage5}} 
					</td>
				</tr>
			{{/attack5}}
			{{#attack6}}
				<tr class="sheet-tr-repeating">
					<td>{{attack6}} 
					{{#rollWasCrit() attack6}} {{critconfirm6}} {{/rollWasCrit() attack6}}
					{{#rollWasFumble() attack6}} {{fumbleroll}} {{/rollWasFumble() attack6}}
					{{#damage6}}
						{{^rollWasFumble() attack6}}<span class="dcolor"> {{damage6}} 
								{{#rollWasCrit() attack6}} {{critdmg6}} {{/rollWasCrit() attack6}}</span>
						{{/rollWasFumble() attack6}}
					{{/damage6}} 
					</td>
				</tr>
			{{/attack6}}
			{{#attack7}}
				<tr class="sheet-tr-repeating">
					<td>{{attack7}} 
					{{#rollWasCrit() attack7}} {{critconfirm7}} {{/rollWasCrit() attack7}}
					{{#rollWasFumble() attack7}} {{fumbleroll}} {{/rollWasFumble() attack7}}
					{{#damage7}}
						{{^rollWasFumble() attack7}}<span class="dcolor"> {{damage7}} 
								{{#rollWasCrit() attack7}} {{critdmg7}} {{/rollWasCrit() attack7}}</span>
						{{/rollWasFumble() attack7}}
					{{/damage7}} 
					</td>
				</tr>
			{{/attack7}}
			{{#attack8}}
				<tr class="sheet-tr-repeating">
					<td>{{attack8}} 
					{{#rollWasCrit() attack8}} {{critconfirm8}} {{/rollWasCrit() attack8}}
					{{#rollWasFumble() attack8}} {{fumbleroll}} {{/rollWasFumble() attack8}}
					{{#damage8}}
						{{^rollWasFumble() attack8}}<span class="dcolor"> {{damage8}} 
								{{#rollWasCrit() attack8}} {{critdmg8}} {{/rollWasCrit() attack8}} </span>
						{{/rollWasFumble() attack8}}
					{{/damage8}} 
					</td>
				</tr>
			{{/attack8}}
			{{#attack9}}
				<tr class="sheet-tr-repeating">
					<td>{{attack9}} 
					{{#rollWasCrit() attack9}} {{critconfirm9}} {{/rollWasCrit() attack9}}
					{{#rollWasFumble() attack9}} {{fumbleroll}} {{/rollWasFumble() attack9}}
					{{#damage9}}
						{{^rollWasFumble() attack9}}<span class="dcolor"> {{damage9}} 
								{{#rollWasCrit() attack9}} {{critdmg9}} {{/rollWasCrit() attack9}} </span>
						{{/rollWasFumble() attack9}}
					{{/damage9}} 
					</td>
				</tr>
			{{/attack9}}
			{{#attack10}}
				<tr class="sheet-tr-repeating">
					<td>{{attack10}} 
					{{#rollWasCrit() attack10}} {{critconfirm10}} {{/rollWasCrit() attack10}}
					{{#rollWasFumble() attack10}} {{fumbleroll}} {{/rollWasFumble() attack10}}
					{{#damage10}}
						{{^rollWasFumble() attack10}}<span class="dcolor"> {{damage10}} 
								{{#rollWasCrit() attack10}} {{critdmg10}} {{/rollWasCrit() attack10}} </span>
						{{/rollWasFumble() attack10}}
					{{/damage10}} 
					</td>
				</tr>
			{{/attack10}}
		{{/rollWasCrit() fullattackflag}}
		{{#notes}}<tr class="sheet-tr-repeating"><td><span class="tcat">{{notes}}</span></td></tr>{{/notes}}
	</table>
</rolltemplate> 

<rolltemplate class="sheet-rolltemplate-SagaBornInitiative">
	<table>
		{{#pcflag}}<tr><th class="header-attack" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/pcflag}}
		{{#npcflag}}<tr><th class="header-attack" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/npcflag}}
		{{#spellflag}}<tr><th class="header-spell" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/spellflag}}
		{{#abilityflag}} <tr><th class="header-ability" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/abilityflag}}
		{{#saveflag}} <tr><th class="header-save" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/saveflag}}
		{{#skillflag}} <tr><th class="header-skill" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/skillflag}}
		{{#skillcatflag}} <tr><th class="header-skillcat" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/skillcatflag}}
		{{#basicflag}} <tr><th class="header-basic" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/basicflag}}
		{{^skillcatflag}} {{^skillflag}} {{^saveflag}} {{^abilityflag}} {{^spellflag}} {{^pcflag}} {{^npcflag}} {{^basicflag}} <tr><th class="header-initiative" colspan="2"> {{name}} {{check}} {{checkroll}} </th></tr> {{/basicflag}} {{/npcflag}} {{/pcflag}} {{/spellflag}}{{/abilityflag}} {{/saveflag}} {{/skillflag}} {{/skillcatflag}}
		{{#notes}}<tr><td><span class="tcat">{{notes}}</span></td></tr>{{/notes}}
	</table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-SagaBornStdRoll">
	<table>
		{{#pcflag}}<tr><th class="header-attack" colspan="2">{{name}}</th></tr> {{/pcflag}}
		{{#npcflag}}<tr><th class="header-attack" colspan="2">{{name}}</th></tr> {{/npcflag}}
		{{#spellflag}}<tr><th class="header-spell" colspan="2">{{name}}</th></tr> {{/spellflag}}
		{{#abilityflag}} <tr><th class="header-ability" colspan="2">{{name}}</th></tr> {{/abilityflag}}
		{{#saveflag}} <tr><th class="header-save" colspan="2">{{name}}</th></tr> {{/saveflag}}
		{{#skillflag}} <tr><th class="header-skill" colspan="2">{{name}}</th></tr> {{/skillflag}}
		{{#skillcatflag}} <tr><th class="header-skillcat" colspan="2">{{name}}</th></tr> {{/skillcatflag}}
		{{#initflag}} <tr><th class="header-initiative" colspan="2">{{name}}</th></tr> {{/initflag}}
		{{#basicflag}} <tr><th class="header-basic" colspan="2">{{name}}</th></tr> {{/basicflag}}
		{{^initflag}} {{^skillcatflag}} {{^skillflag}} {{^saveflag}} {{^abilityflag}} {{^spellflag}} {{^pcflag}} {{^npcflag}} {{^basicflag}} <tr><th class="header-basic" colspan="2">{{name}}</th></tr> {{/basicflag}} {{/npcflag}} {{/pcflag}} {{/spellflag}}{{/abilityflag}} {{/saveflag}} {{/skillflag}} {{/skillcatflag}} {{/initflag}}
		{{#subtags}}<tr><td class="subheader" colspan="2">{{subtags}}</td></tr>{{/subtags}}
		{{#subtags2}}<tr><td class="subheader" colspan="2">{{subtags2}}</td></tr>{{/subtags2}}
		{{#npcflag}} <tr class="arrow-container"><td colspan="2"><div class="arrow-left"></div></td></tr> {{/npcflag}}
		{{#pcflag}} <tr class="arrow-container"><td colspan="2"><div class="arrow-right"></div></td></tr> {{/pcflag}}
		{{#spellflag}}<tr class="arrow-container"><td colspan="2"><div class="arrow-spell"></div></td></tr> {{/spellflag}}
		{{#abilityflag}} <tr class="arrow-container"><td colspan="2"><div class="arrow-ability"></div></td></tr> {{/abilityflag}}
		{{#saveflag}} <tr class="arrow-container"><td colspan="2"><div class="arrow-save"></div></td></tr> {{/saveflag}}
		{{#skillflag}} <tr class="arrow-container"><td colspan="2"><div class="arrow-skill"></div></td></tr> {{/skillflag}}
		{{#skillcatflag}} <tr class="arrow-container"><td colspan="2"><div class="arrow-skillcat"></div></td></tr> {{/skillcatflag}}
		{{#initflag}} <tr class="arrow-container"><td colspan="2"><div class="arrow-initiative"></div></td></tr> {{/initflag}}
		{{#allprops() notes subtags subtags2 compcheck failcheck succeedcheck check checkroll critroll fumbleroll initflag skillcatflag skillflag saveflag abilityflag spellflag pcflag npcflag basicflag name}}
			<tr class="sheet-tr-repeating"><td>{{key}} </td><td>{{value}} </td></tr>
		{{/allprops() notes subtags subtags2 compcheck failcheck succeedcheck check checkroll critroll fumbleroll initflag skillcatflag skillflag saveflag abilityflag spellflag pcflag npcflag basicflag name}}
		{{#compcheck}}
			<tr class="sheet-tr-repeating"><td colspan="2">{{compcheck}} 
			{{#rollTotal() compcheck 1}} {{succeedcheck}} {{/rollTotal() compcheck 1}}
			{{#rollTotal() compcheck 0}} {{failcheck}} {{/rollTotal() compcheck 0}}</td></tr>
		{{/compcheck}}
		{{#checkroll}}
			<tr class="sheet-tr-repeating"><td colspan="2">{{check}} {{checkroll}} </td></tr>
			<tr class="sheet-tr-repeating"><td colspan="2">
				{{#rollWasCrit() checkroll}} {{critroll}} {{/rollWasCrit() checkroll}}
				{{#rollWasFumble() checkroll}} {{fumbleroll}} {{/rollWasFumble() checkroll}}
			</td></tr>{{/checkroll}}
		{{#notes}}<tr><td colspan="2"><span class="tcat">{{notes}}</span></td></tr>{{/notes}}
	</table>
</rolltemplate> 

<rolltemplate class="sheet-rolltemplate-SagaBornStats">
<table>
<tr><td colspan="4" class="header-attack">{{Name}}</td></tr>
<tr><td class="subheader" colspan="2">{{classname}}</td></tr>
<tr class="arrow-container"><td colspan="4"><div class="arrow-right"></div></td></tr>
<tr><td colspan="4">Defences<br></td></tr>
<tr><td class="ac">AC<br>{{AC}}</td><td class="saves"><span style="color: white; font-weight: bold;">[Fort](~selected|fortitudecheck)</span><br>{{fort}}</td><td  class="saves"><span style="color: white; font-weight: bold;">[Ref](~selected|reflexcheck)</span><br>{{ref}}</td><td  class="saves"><span style="color: white; font-weight: bold;">[Will](~selected|willcheck)</span><br>{{will}}</td></tr>
<tr><td colspan="4">Abillity</td></tr>
<tr class="arrow-container"><td colspan="4"><div class="arrow-ability"></div></td></tr>
<tr><td colspan="2" class="twotone"><span style="float:left">{{hp}}</span><span style="color: white; float: right;">Hit Points</span></td><td colspan="2" class="twotone"><span style="float:left">{{init}}</span><span style="color: white; float: right;">[Initiative](~selected|initiative)&nbsp;</span></td></tr>
<tr><td colspan="2" class="twotone"><span style="float:left">{{mana}}</span><span style="color: white; float: right;">Mana&nbsp;&nbsp;&nbsp;&nbsp;</span></td><td colspan="2" class="twotone"><span style="float:left">{{sanity}}</span><span style="color: white; float: right;">Sanity&nbsp;&nbsp;&nbsp;&nbsp;</span></td></tr>
<tr><td colspan="2" class="threetone"><span style="float:left">{{str}}</span><span style="color: white">[STR](~selected|strcheck)</span><span style="float: right;">{{strmod}}</span></td><td colspan="2" class="threetone"><span style="float:left">{{int}}</span><span style="color: white">[INT](~selected|intcheck)</span><span style="float: right;">{{intmod}}</span></td></tr>
<tr><td colspan="2"class="threetone"><span style="float:left">{{dex}}</span><span style="color: white">[DEX](~selected|dexcheck)</span><span style="float: right;">{{dexmod}}</span></td><td colspan="2"class="threetone"><span style="float:left">{{wis}}</span><span style="color: white">[WIS](~selected|wischeck)</span><span style="float: right;">{{wismod}}</span></td></tr>
<tr><td colspan="2"class="threetone"><span style="float:left">{{con}}</span><span style="color: white">[CON](~selected|concheck)</span><span style="float: right;">{{conmod}}</span></td><td colspan="2"class="threetone"><span style="float:left">{{cha}}</span><span style="color: white">[CHA](~selected|chacheck)</span><span style="float: right;">{{chamod}}</span></td></tr>
</table>
</rolltemplate>

</div>

<script type="text/worker">
/* ---- BEGIN: TheAaronSheet.js ---- */
// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
// By:       The Aaron, Arcane Scriptomancer
// Contact:  https://app.roll20.net/users/104025/the-aaron
var TAS = TAS || (function(){
    'use strict';
    var version = '0.2.3',
        lastUpdate = 1457014728,
        loggingSettings = {
            debug: {
                key:     'debug',
                title:   'DEBUG',
                color: {
                    bgLabel: '#7732A2',
                    label:   '#F2EF40',
                    bgText:  '#FFFEB7',
                    text:    '#7732A2'
                }
            },
            error: {
                key:     'error',
                title:   'Error',
                color: {
                    bgLabel: '#C11713',
                    label:   'white',
                    bgText:  '#C11713',
                    text:    'white'
                }
            },
            warn: {
                key:     'warn',
                title:   'Warning',
                color: {
                    bgLabel: '#F29140',
                    label:   'white',
                    bgText:  '#FFD8B7',
                    text:    'black'
                }
            },
            info: {
                key:     'info',
                title:   'Info',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            notice: {
                key:     'notice',
                title:   'Notice',
                color: {
                    bgLabel: '#33C133',
                    label:   'white',
                    bgText:  '#ADF1AD',
                    text:    'black'
                }
            },
            log: {
                key:     'log',
                title:   'Log',
                color: {
                    bgLabel: '#f2f240',
                    label:   'black',
                    bgText:  '#ffff90',
                    text:    'black'
                }
            },
            callstack: {
                key:     'TAS',
                title:   'function',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#B3B2EB',
                    text:    'black'
                }
            },
            callstack_async: {
                key:     'TAS',
                title:   'ASYNC CALL',
                color: {
                    bgLabel: '#413FA9',
                    label:   'white',
                    bgText:  '#413FA9',
                    text:    'white'
                }
            },
            TAS: {
                key:     'TAS',
                title:   'TAS',
                color: {
                    bgLabel: 'grey',
                    label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
                    bgText:  'grey',
                    text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
                }
            }
        },
        config = {
            debugMode: false,
            logging: {
                log: true,
                notice: true,
                info: true,
                warn: true,
                error: true,
                debug: false
            }
        },
        callstackRegistry = [],
		queuedUpdates = {}, //< Used for delaying saves till the last momment.
    complexType = function(o){
        switch(typeof o){
            case 'string':
                return 'string';
            case 'boolean':
                return 'boolean';
            case 'number':
                return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
            case 'function':
                return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
            case 'object':
                return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
            default:
                return typeof o;
        }
    },
	dataLogger = function(primaryLogger,secondaryLogger,data){
        _.each(data,function(m){
            var type = complexType(m);
            switch(type){
                case 'string':
                    primaryLogger(m);
                    break;
                case 'undefined':
                case 'null':
                case 'NaN':
                    primaryLogger('['+type+']');
                    break;
                case 'number':
                case 'not a number':
                case 'integer':
                case 'decimal':
                case 'boolean':
                    primaryLogger('['+type+']: '+m);
                    break;
                default:
                    primaryLogger('['+type+']:=========================================');
                    secondaryLogger(m);
                    primaryLogger('=========================================================');
                    break;
            }
        });
	},
    colorLog = function(options){
        var coloredLoggerFunction,
            key = options.key,
            label = options.title || 'TAS',
            lBGColor = (options.color && options.color.bgLabel) || 'blue',
            lTxtColor = (options.color && options.color.label) || 'white',
            mBGColor = (options.color && options.color.bgText) || 'blue',
            mTxtColor = (options.color && options.color.text) || 'white';
        coloredLoggerFunction = function(message){
            console.log(
                '%c '+label+': %c '+message + ' ',
                'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
                'background-color: '+mBGColor+';color: '+mTxtColor+';'
            ); 
        };
        return function(){
            if('TAS'===key || config.logging[key]){
               dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
            }
        };
    },
    logDebug  = colorLog(loggingSettings.debug),
    logError  = colorLog(loggingSettings.error),
    logWarn   = colorLog(loggingSettings.warn),
    logInfo   = colorLog(loggingSettings.info),
    logNotice = colorLog(loggingSettings.notice),
    logLog    = colorLog(loggingSettings.log),
    log       = colorLog(loggingSettings.TAS),
    logCS     = colorLog(loggingSettings.callstack),
    logCSA    = colorLog(loggingSettings.callstack_async),
    registerCallstack = function(callstack,label){
        var idx=_.findIndex(callstackRegistry,function(o){
            return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
                _.difference(o.stack,callstack).length === 0 &&
                o.label === label;
        });
        if(-1 === idx){
            idx=callstackRegistry.length;
            callstackRegistry.push({
                stack: callstack,
                label: label
            });
        }
        return idx;
    },
    setConfigOption = function(options){
        var newconf =_.defaults(options,config);
        newconf.logging=_.defaults(
            (options && options.logging)||{},
            config.logging
        );
        config=newconf;
    },
    
    debugMode = function(){
        config.logging.debug=true;
        config.debugMode = true;
    },
    getCallstack = function(){
        var e = new Error('dummy'),
            stack = _.map(_.rest(e.stack.replace(/^[^\(]+?[\n$]/gm, '')
            .replace(/^\s+at\s+/gm, '')
            .replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
            .split('\n')),function(l){
                return l.replace(/\s+.*$/,'');
            });
        return stack;
    },
    logCallstackSub = function(cs){
        var matches, csa;
        _.find(cs,function(line){
            matches = line.match(/TAS_CALLSTACK_(\d+)/);
            if(matches){
               csa=callstackRegistry[matches[1]];
               logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
               logCallstackSub(csa.stack);
               return true;
            } 
            logCS(line);
            return false;
        });
    },
    logCallstack = function(){
        var cs;
        if(config.debugMode){
            cs = getCallstack();
            cs.shift();
            log('==============================> CALLSTACK <==============================');
            logCallstackSub(cs);
            log('=========================================================================');
        }
    },
    wrapCallback = function (label, callback, context){
        var callstack;
        if('function' === typeof label){
            context=callback;
            callback=label;
            label=undefined;
        }
        if(!config.debugMode){
            return (function(cb,ctx){
                return function(){
                    cb.apply(ctx||{},arguments);
                };
            }(callback,context));
        }
        
        callstack = getCallstack();
        callstack.shift();
        
        return (function(cb,ctx,cs,lbl){
            var ctxref=registerCallstack(cs,lbl);
            /*jshint -W054 */
            return new Function('cb','ctx','TASlog',
                "return function TAS_CALLSTACK_"+ctxref+"(){"+
                    "TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
                    "cb.apply(ctx||{},arguments);"+
                    "TASlog('Exiting: '+(cb.name||'(anonymous function)'));"+
                "};")(cb,ctx,log);
            /*jshint +W054 */
        }(callback,context,callstack,label));
    },
    prepareUpdate = function( attribute, value ){
        queuedUpdates[attribute]=value;
    },
    applyQueuedUpdates = function() {
      setAttrs(queuedUpdates);
      queuedUpdates = {};
    },
	namesFromArgs = function(args,base){
        return _.chain(args)
            .reduce(function(memo,attr){
                if('string' === typeof attr) {
                    memo.push(attr);
                } else if(_.isArray(args) || _.isArguments(args)){
                    memo = namesFromArgs(attr,memo);
                }
                return memo;
            },(_.isArray(base) && base) || [])
            .uniq()
            .value();
	},
	addId = function(obj,value){
		Object.defineProperty(obj,'id',{
			value: value,
			writeable: false,
			enumerable: false
		});
	},
	addProp = function(obj,prop,value,fullname){
		(function(){
            var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
			    full_pname = fullname || prop,
                pvalue=value;
            _.each(['S','I','F'],function(p){
                if( !_.has(obj,p)){
                    Object.defineProperty(obj, p, {
                        value: {},
                        enumerable: false,
                        readonly: true
                    });
                }
            });
            if( !_.has(obj,'D')){
                Object.defineProperty(obj, 'D', {
                    value: _.reduce(_.range(10),function(m,d){
                            Object.defineProperty(m, d, {
                                value: {},
                                enumerable: true,
                                readonly: true
                            });
                            return m;
                        },{}),
                    enumerable: false,
                    readonly: true
                });
            }
            // Raw value
			Object.defineProperty(obj, pname, {
                enumerable: true,
				set: function(v){
                    if(v!==pvalue) {
                        pvalue=v;
                        prepareUpdate(full_pname,v);
                    }
				},
				get: function(){
					return pvalue;
				}
			});
            
            // string value
			Object.defineProperty(obj.S, pname, {
                enumerable: true,
				set: function(v){
                    var val=v.toString();
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return pvalue.toString();
				}
			});
            // int value
			Object.defineProperty(obj.I, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseInt(v,10) || 0;
                    if(val !== pvalue){
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseInt(pvalue,10) || 0;
				}
			});
            // float value
			Object.defineProperty(obj.F, pname, {
                enumerable: true,
				set: function(v){
                    var val=parseFloat(v) || 0;
                    if(val !== pvalue) {
                        pvalue=val;
                        prepareUpdate(full_pname,val);
                    }
				},
				get: function(){
					return parseFloat(pvalue) || 0;
				}
			});
            _.each(_.range(10),function(d){
                Object.defineProperty(obj.D[d], pname, {
                    enumerable: true,
                    set: function(v){
                        var val=(parseFloat(v) || 0).toFixed(d);
                        if(val !== pvalue){
                            pvalue=val;
                            prepareUpdate(full_pname,val);
                        }
                    },
                    get: function(){
                        return (parseFloat(pvalue) || 0).toFixed(d);
                    }
                });
            });
		}());
	},
	
	repeating = function( section ) {
		return (function(s){
			var sectionName = s,
				attrNames = [],
				fieldNames = [],
				operations = [],
                after = [],
			
			repAttrs = function TAS_Repeating_Attrs(){
				attrNames = namesFromArgs(arguments,attrNames);
				return this;
			},
			repFields = function TAS_Repeating_Fields(){
				fieldNames = namesFromArgs(arguments,fieldNames);
				return this;
			},
			repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
				operations.push({
                    type: 'reduce',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    memo: (_.isUndefined(initial) && 0) || initial,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
			repMap = function TAS_Repeating_Map(func, final, context) {
				operations.push({
                    type: 'map',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
			},
            repEach = function TAS_Repeating_Each(func, final, context) {
				operations.push({
                    type: 'each',
                    func: (func && _.isFunction(func) && func) || _.noop,
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repTap = function TAS_Repeating_Tap(final, context) {
				operations.push({
                    type: 'tap',
                    final: (final && _.isFunction(final) && final) || _.noop,
                    context: context || {}
                });
				return this;
            },
            repAfter = function TAS_Repeating_After(callback,context) {
				after.push({
                    callback: (callback && _.isFunction(callback) && callback) || _.noop,
                    context: context || {}
                });
				return this;
            },
			repExecute = function TAS_Repeating_Execute(callback,context){
				var rowSet = {},
					attrSet = {},
					fieldIds = [],
					fullFieldNames = [];
                repAfter(callback,context);
				// call each operation per row.
				// call each operation's final
				getSectionIDs("repeating_"+sectionName,function(ids){
					fieldIds = ids;
					fullFieldNames = _.reduce(fieldIds,function(memo,id){
						return memo.concat(_.map(fieldNames,function(name){
							return 'repeating_'+sectionName+'_'+id+'_'+name;  
						}));
					},[]);
					getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
						_.each(attrNames,function(aname){
							if(values.hasOwnProperty(aname)){
								addProp(attrSet,aname,values[aname]);
							}
						});
						rowSet = _.reduce(fieldIds,function(memo,id){
							var r={};
							addId(r,id);
							_.each(fieldNames,function(name){
								var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
								addProp(r,name,values[fn],fn);
							});
							memo[id]=r;
							return memo;
						},{});
                        _.each(operations,function(op){
                            var res;
                            switch(op.type){
                                case 'tap':
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;
                                case 'each':
                                    _.each(rowSet,function(r){
                                        _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,rowSet,attrSet)();
                                    break;
                                case 'map':
                                    res = _.map(rowSet,function(r){
                                        return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                                case 'reduce':
                                    res = op.memo;
                                    _.each(rowSet,function(r){
                                        res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
                                    });
                                    _.bind(op.final,op.context,res,rowSet,attrSet)();
                                    break;
                            }
                        });
                        // finalize attrs
                        applyQueuedUpdates();
                        _.each(after,function(op){
                            _.bind(op.callback,op.context)();
                        });
					});
				});
			};
				
			return {
				attrs: repAttrs,
				attr: repAttrs,
				column: repFields,
				columns: repFields,
				field: repFields,
				fields: repFields,
				reduce: repReduce,
				inject: repReduce,
				foldl: repReduce,
				map: repMap,
				collect: repMap,
				each: repEach,
                forEach: repEach,
                tap: repTap,
                'do': repTap,
				after: repAfter,
				last: repAfter,
				done: repAfter,
				execute: repExecute,
				go: repExecute,
				run: repExecute
			};
		}(section));
	},
    repeatingSimpleSum = function(section, field, destination){
        repeating(section)
            .attr(destination)
            .field(field)
            .reduce(function(m,r){
                return m + (r.F[field]);
            },0,function(t,r,a){
                a[destination].S=t;
            })
            .execute();
    };
	console.log('%câ?¢.Â¸Â¸.â?¢*Â´Â¨`*â?¢.Â¸Â¸.â?¢*Â´Â¨`*â?¢.Â¸  The Aaron Sheet  v'+version+'  Â¸.â?¢*Â´Â¨`*â?¢.Â¸Â¸.â?¢*Â´Â¨`*â?¢.Â¸Â¸.â?¢','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
	console.log('%câ?¢.Â¸Â¸.â?¢*Â´Â¨`*â?¢.Â¸Â¸.â?¢*Â´Â¨`*â?¢.Â¸  Last update: '+(new Date(lastUpdate*1000))+'  Â¸.â?¢*Â´Â¨`*â?¢.Â¸Â¸.â?¢*Â´Â¨`*â?¢.Â¸Â¸.â?¢','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
    return {
        /* Repeating Sections */
        repeatingSimpleSum: repeatingSimpleSum,
		repeating: repeating,
        /* Configuration */
        config: setConfigOption,
        /* Debugging */
        callback: wrapCallback,
        callstack: logCallstack,
        debugMode: debugMode,
        _fn: wrapCallback,
        /* Logging */
        debug: logDebug,
        error: logError,
        warn: logWarn,
        info: logInfo,
        notice: logNotice,
        log: logLog
    };
}());
/* ---- END: TheAaronSheet.js ---- */
on('change:repeating_equipment', function(){
    TAS.repeating('equipment')
        .attrs('totalequipmentweight','totalequipmentcost','summary')  
        .fields('equipmentname','equipmentquantity','equipmentweight','equipmenttotalweight','equipmentcost','equipmenttotalcost') 
        .reduce(function(m,r){
            m.equipmentweight+=(r.F.equipmentweight*r.I.equipmentquantity);
            r.D[3].equipmenttotalweight=(r.F.equipmentweight*r.I.equipmentquantity);
            m.equipmentcost+=(r.F.equipmentcost*r.I.equipmentquantity);
            r.D[2].equipmenttotalcost=(r.F.equipmentcost*r.I.equipmentquantity);
            m.desc.push(r.equipmentname+(r.I.equipmentquantity>1 ? ' (x'+r.S.equipmentquantity+')' : ''));
            return m;
        },{equipmentweight:0,equipmentcost:0, desc: []},function(m,r,a){
            a.summary=m.desc.join(', ');
            a.D[3].totalequipmentweight=m.equipmentweight;
            a.D[2].totalequipmentcost=m.equipmentcost;
        })
        .execute(); 
});
/* Setup for when a character sheet gets opened for the first time.  -Calc ability and ability mods as well as encumbrance. */
function StartingSetup(version, cversion, calc) {
   mod = version;
   console.log('/* ----------entering StartingSetup; sheetversion:' + version + '  cversion:' + cversion + '  calc:' + calc + '------------ */');
   if ((version < cversion) || (isNaN(version)) || (calc == 1)) {
	  mod = cversion;
      getAttrs(["str", "strmod", "strbase", "strmisc", "strtemp", "encumbrstr", "dex", "dexmod", "dexbase", "dexmisc", "dextemp", "con", "conmod", "conbase", "conmisc", "contemp", "int", "intmod", "intbase", "intmisc", "inttemp", "wis", "wismod", "wisbase", "wismisc", "wistemp", "cha", "chamod", "chabase", "chamisc", "chatemp", "recalc"], function(values){
	     strtempvar = (parseInt(values["strbase"],10) + parseInt(values["strmisc"],10));
		 dextempvar = (parseInt(values["dexbase"],10) + parseInt(values["dexmisc"],10));
		 contempvar = (parseInt(values["conbase"],10) + parseInt(values["conmisc"],10));
		 inttempvar = (parseInt(values["intbase"],10) + parseInt(values["intmisc"],10));
		 wistempvar = (parseInt(values["wisbase"],10) + parseInt(values["wismisc"],10));
		 chatempvar = (parseInt(values["chabase"],10) + parseInt(values["chamisc"],10));
	     setAttrs({
	        str: strtempvar,
		    "strmod": (Math.floor((strtempvar / 2) - 5) + parseInt(values["strtemp"],10)),
		    "encumbrstr": (1 - Math.round((Math.abs(strtempvar - 10) / ((strtempvar - 10)- 0.01) + 1) / 2)) * strtempvar * 10 + (Math.round((Math.abs(strtempvar - 10) / ((strtempvar - 10) - 0.01) + 1) / 2)) * (200 - (Math.round((Math.abs((strtempvar % 5) - 1) / (((strtempvar % 5) - 1) - 0.01) + 1) / 2)) * (15 * (1 - Math.round((Math.abs((strtempvar % 5) - 1) / (((strtempvar % 5) - 1) - 0.01) + 1) / 2)) + 15 * (1 - Math.round((Math.abs((strtempvar % 5) - 2) / (((strtempvar % 5) - 2) - 0.01) + 1) / 2)) + 20 * (1 - Math.round((Math.abs((strtempvar % 5) - 3) / (((strtempvar % 5) - 3) - 0.01) + 1) / 2)) + 25 * (1 - Math.round((Math.abs((strtempvar % 5) - 4) / (((strtempvar % 5) - 4) - 0.01) + 1) / 2)) + 25 * (1 - Math.round((Math.abs((strtempvar % 5) - 5) / (((strtempvar % 5) - 5) - 0.01) + 1) / 2)))) * Math.pow(2,(Math.ceil(strtempvar / 5) - 3)),
	        dex: dextempvar,
		    "dexmod": (Math.floor((dextempvar / 2) - 5) + parseInt(values["dextemp"],10)),
	        con: contempvar,
		    "conmod": (Math.floor((contempvar / 2) - 5) + parseInt(values["contemp"],10)),
	        int: inttempvar,
		    "intmod": (Math.floor((inttempvar / 2) - 5) + parseInt(values["inttemp"],10)),
	        wis: wistempvar,
		    "wismod": (Math.floor((wistempvar / 2) - 5) + parseInt(values["wistemp"],10)),
	        cha: chatempvar,
		    "chamod": (Math.floor((chatempvar / 2) - 5) + parseInt(values["chatemp"],10)),
			recalc: 0
		 });
	  });
   }
   console.log('/* ----------leaving StartingSetup; mod:' + mod + '------------ */');
   	setAttrs({
	  character_sheet: "SagaBorn v2."+mod
	});
   return mod;
}
//  <!---- Run the setup if the sheet is opened or the recalc box is clicked ---->
on("sheet:opened change:recalc", function() {
  getAttrs(["sheetversion", "currentsheetversion", "recalc"], function(values) {
	setAttrs({
	  sheetversion: StartingSetup(parseFloat(values.sheetversion), parseFloat(values.currentsheetversion), parseInt(values.recalc,10))
	});
  });
});
//	<!---- Do these for each stat ---->	
on("sheet:opened change:strbase change:strmisc change:strtemp", function() {
  getAttrs(["str", "strbase", "strmisc", "strtemp"], function(values) {
	setAttrs({
	  str: (parseInt(values["strbase"],10) + parseInt(values["strmisc"],10))
	});
  });
});
on("change:str", function() {
  getAttrs(["str", "encumbrstr"], function(values) {
	setAttrs({
	  "strmod": (Math.floor((parseInt(values.str,10) / 2) - 5) + parseInt(values["strtemp"],10)),
	  "encumbrstr": (1 - Math.round((Math.abs(parseInt(values.str,10) - 10) / ((parseInt(values.str,10) - 10)- 0.01) + 1) / 2)) * parseInt(values.str,10) * 10 + (Math.round((Math.abs(parseInt(values.str,10) - 10) / ((parseInt(values.str,10) - 10) - 0.01) + 1) / 2)) * (200 - (Math.round((Math.abs((parseInt(values.str,10) % 5) - 1) / (((parseInt(values.str,10) % 5) - 1) - 0.01) + 1) / 2)) * (15 * (1 - Math.round((Math.abs((parseInt(values.str,10) % 5) - 1) / (((parseInt(values.str,10) % 5) - 1) - 0.01) + 1) / 2)) + 15 * (1 - Math.round((Math.abs((parseInt(values.str,10) % 5) - 2) / (((parseInt(values.str,10) % 5) - 2) - 0.01) + 1) / 2)) + 20 * (1 - Math.round((Math.abs((parseInt(values.str,10) % 5) - 3) / (((parseInt(values.str,10) % 5) - 3) - 0.01) + 1) / 2)) + 25 * (1 - Math.round((Math.abs((parseInt(values.str,10) % 5) - 4) / (((parseInt(values.str,10) % 5) - 4) - 0.01) + 1) / 2)) + 25 * (1 - Math.round((Math.abs((parseInt(values.str,10) % 5) - 5) / (((parseInt(values.str,10) % 5) - 5) - 0.01) + 1) / 2)))) * Math.pow(2,(Math.ceil(parseInt(values.str,10) / 5) - 3))
	});
  });
});
on("sheet:opened change:dexbase change:dexmisc change:dextemp", function() {
  getAttrs(["dex", "dexbase", "dexmisc", "dextemp"], function(values) {
	setAttrs({
	  dex: (parseInt(values["dexbase"],10) + parseInt(values["dexmisc"],10))
	});
  });
});
on("change:dex", function() {
  getAttrs(["dex", "dexmod"], function(values) {
	setAttrs({
	  "dexmod": (Math.floor((parseInt(values.dex,10) / 2) - 5) + parseInt(values["dextemp"],10))
	});
  });
});
on("sheet:opened change:conbase change:conmisc change:contemp", function() {
  getAttrs(["con", "conbase", "conmisc", "contemp"], function(values) {
	setAttrs({
	  con: (parseInt(values["conbase"],10) + parseInt(values["conmisc"],10))
	});
  });
});
on("change:con", function() {
  getAttrs(["con", "conmod"], function(values) {
	setAttrs({
	  "conmod": (Math.floor((parseInt(values.con,10) / 2) - 5) + parseInt(values["contemp"],10))
	});
  });
});
on("sheet:opened change:intbase change:intmisc change:inttemp", function() {
  getAttrs(["int", "intbase", "intmisc", "inttemp"], function(values) {
	setAttrs({
	  int: (parseInt(values["intbase"],10) + parseInt(values["intmisc"],10))
	});
  });
});
on("change:int", function() {
  getAttrs(["int", "intmod"], function(values) {
	setAttrs({
	  "intmod": (Math.floor((parseInt(values.int,10) / 2) - 5) + parseInt(values["inttemp"],10))
	});
  });
});
on("sheet:opened change:wisbase change:wismisc change:wistemp", function() {
  getAttrs(["wis", "wisbase", "wismisc", "wistemp"], function(values) {
	setAttrs({
	  wis: (parseInt(values["wisbase"],10) + parseInt(values["wismisc"],10))
	});
  });
});
on("change:wis", function() {
  getAttrs(["wis", "wismod"], function(values) {
	setAttrs({
	  "wismod": (Math.floor((parseInt(values.wis,10) / 2) - 5) + parseInt(values["wistemp"],10))
	});
  });
});
on("sheet:opened change:chabase change:chamisc change:chatemp", function() {
  getAttrs(["cha", "chabase", "chamisc", "chatemp"], function(values) {
	setAttrs({
	  cha: (parseInt(values["chabase"],10) + parseInt(values["chamisc"],10))
	});
  });
});
on("change:cha", function() {
  getAttrs(["cha", "chamod"], function(values) {
	setAttrs({
	  "chamod": (Math.floor((parseInt(values.cha,10) / 2) - 5) + parseInt(values["chatemp"],10))
	});
  });
});
//  <!---- Copy weight from total equipment weight to total carried weight if wanted ---->
on("change:totalequipmentweight change:equipmentweightcopy", function() {
  getAttrs(["totalequipmentweight", "equipmentweightcopy", "totalcarriedweight"], function(values) {
     setAttrs({
		"totalcarriedweight": (parseInt(values.equipmentweightcopy,10) * parseFloat(values.totalequipmentweight)) + ((1 - parseInt(values.equipmentweightcopy,10)) * parseFloat(values.totalcarriedweight))
	 });
  });
});
</script>





<div class="wrapper">

  <div class="container fullwidth">
  <div class="align-stretch justify-between">
    <span class="field-label" data-i18n="name">Name:</span> <input type="text" name="attr_char_name" class="oneline" />
    <span class="field-label" data-i18n="alignment">Alignment:</span> <input type="text" name="attr_alignment" class="oneline" />
    <span class="field-label" data-i18n="level">Level:</span> <input type="number" name="attr_level" value="1" />
    <span class="field-label" data-i18n="xp">XP:</span> <input type="number" name="attr_xp" value="0" class="tenwidth" />
  </div>
  </div>

  <div class="container">

    <div class="halfwidth bordered">
      <span class="blackbg field-label" data-i18n="bonusesdefenses">Ability Bonuses &amp; Defenses</span>
      <div>
      <div class="first">
      <span class="field-label halfwidth" data-i18n="strength">Strength</span> <input type="number" name="attr_str_bonus" value="0" /> | <input type="number" name="attr_str_defense" value="@{str_bonus} + 10" disabled="true" /> <button type="roll" value="&{template:default} {{name=@{strength}}} {{Check Result=[[1d20 + @{str_bonus}]] | [[1d20 + @{str_bonus}]]}}" name="roll_str_bonus"></button>
      </div>
      <div>
      <span class="field-label halfwidth" data-i18n="dexterity">Dexterity</span> <input type="number" name="attr_dex_bonus" value="0" /> | <input type="number" name="attr_dex_defense" value="@{dex_bonus} + 10" disabled="true" /> <button type="roll" value="&{template:default} {{name=@{dexterity}}} {{Check Result=[[1d20 + @{dex_bonus}]] | [[1d20 + @{dex_bonus}]]}}" name="roll_dex_bonus"></button>
      </div>
      <div>
      <span class="field-label halfwidth" data-i18n="constitution">Constitution</span> <input type="number" name="attr_con_bonus" value="0" /> | <input type="number" name="attr_con_defense" value="@{con_bonus} + 10" disabled="true" /> <button type="roll" value="&{template:default} {{name=@{constitution}}} {{Check Result=[[1d20 + @{con_bonus}]] | [[1d20 + @{con_bonus}]]}}" name="roll_con_bonus"></button>
      </div>
      <div>
      <span class="field-label halfwidth" data-i18n="intelligence">Intelligence</span> <input type="number" name="attr_int_bonus" value="0" /> | <input type="number" name="attr_int_defense" value="@{int_bonus} + 10" disabled="true" /> <button type="roll" value="&{template:default} {{name=@{intelligence}}} {{Check Result=[[1d20 + @{int_bonus}]] | [[1d20 + @{int_bonus}]]}}" name="roll_int_bonus"></button>
      </div>
      <div>
      <span class="field-label halfwidth" data-i18n="wisdom">Wisdom</span> <input type="number" name="attr_wis_bonus" value="0" /> | <input type="number" name="attr_wis_defense" value="@{wis_bonus} + 10" disabled="true" /> <button type="roll" value="&{template:default} {{name=@{wisdom}}} {{Check Result=[[1d20 + @{wis_bonus}]] | [[1d20 + @{wis_bonus}]]}}" name="roll_wis_bonus"></button>
      </div>
      <div>
      <span class="field-label halfwidth" data-i18n="charisma">Charisma</span> <input type="number" name="attr_cha_bonus" value="0" /> | <input type="number" name="attr_cha_defense" value="@{cha_bonus} + 10" disabled="true" /> <button type="roll" value="&{template:default} {{name=@{charisma}}} {{Check Result=[[1d20 + @{cha_bonus}]] | [[1d20 + @{cha_bonus}]]}}" name="roll_cha_bonus"></button>
      </div>
      </div>
    </div>

    <div class="halfwidth">

      <div class="bordered container centered centered-text">
        <span class="field-label padded" data-i18n="initiative">Initiative</span> <button type="roll" value="&{template:default} {{name=@{initiative}}} {{Total=[[1d6 + @{dex_bonus}]]}}" class="margined"></button>
      </div>

      <div class="container">

        <div class="bordered halfwidth halfwidth-left">
          <span class="field-label label-centered blackbg" data-i18n="hp">HP</span>
          <br />
          <input type="number" name="attr_hp" value="0" class="centered" />
        </div>

        <div class="bordered halfwidth halfwidth-right">
          <span class="field-label label-centered blackbg" data-i18n="ac">AC</span>
          <br />
          <input type="number" name="attr_ac" value="0" class="centered" />
        </div>

      </div>

      <div class="bordered">
        <span class="field-label label-centered blackbg" data-i18n="loot">Loot</span>
        <br />
        <input type="number" name="attr_loot" class="fullwidth centered" />
      </div>

    </div>

  </div>

  <div class="container">

  <div class="fullwidth bordered">
    <span class="field-label blackbg" data-i18n="inventory">Inventory</span>
    <div class="first container margined fullwidth">
      <div class="threefourthswidth">
        <span class="field-label" data-i18n="itemslots">Total Item Slots:</span> <input type="number" value="@{con_bonus} + 10" disabled="true" name="attr_inventory_slots" />
      </div>
      <div class="quarterwidth centered">
        <span class="field-label" data-i18n="damageusage">Damage/Usage</span>
      </div>
    </div>
    <div class="fullwidth centered">
      <fieldset class="repeating_inventory" name="repeating_inventory">
        <input type="text" name="attr_inventory" class="threefourthswidth" />
        <select name="attr_dmg_usage_die" class="quarterwidth">
          <option value="" selected>--</option>
          <option value="1d4">1d4</option>
          <option value="1d6">1d6</option>
          <option value="1d8">1d8</option>
          <option value="1d10">1d10</option>
          <option value="1d12">1d12</option>
          <option value="1d20">1d20</option>
        </select>
        <button type="roll" value="&{template:default} {{name=@{damageusage}}} {{@{inventory}=[[@{dmg_usage_die}]]}}"></button>
      </fieldset>
    </div>
  </div>

  </div>

  <div class="container">

  <div class="halfwidth bordered">
    <span class="field-label blackbg" data-i18n="ancestrytalents">Ancestry &amp; Talents</span>
    <br />
    <fieldset class="repeating_talents" name="repeating_talents">
      <input type="text" name="attr_talents" class="fullwidth centered" />
    </fieldset>
  </div>

  <div class="halfwidth bordered">
    <span class="field-label blackbg" data-i18n="traits">Traits</span>
    <br />
    <fieldset class="repeating_traits" name="repeating_traits">
      <input type="text" name="attr_traits" class="fullwidth centered" />
    </fieldset>
  </div>

  </div>

  <div class="container">

  <div class="fullwidth bordered">
    <span class="field-label blackbg" data-i18n="notes">Notes</span>
    <br />
    <textarea name="attr_notes" class="fullwidth centered"></textarea>
  </div>

  </div>

</div>

<div class="no-display">
  <span class="no-display" data-i18n="checkresult">Check Result</span>
</div>

<script type="text/worker">
  on("sheet:opened", function (eventInfo) {
    setAttrs({
      ["strength"]: getTranslationByKey("strength"),
      ["dexterity"]: getTranslationByKey("dexterity"),
      ["constitution"]: getTranslationByKey("constitution"),
      ["intelligence"]: getTranslationByKey("intelligence"),
      ["wisdom"]: getTranslationByKey("wisdom"),
      ["charisma"]: getTranslationByKey("charisma"),
      ["initiative"]: getTranslationByKey("initiative"),
      ["checkresult"]: getTranslationByKey("checkresult"),
      ["damageusage"]: getTranslationByKey("damageusage")
    });
  });
</script>

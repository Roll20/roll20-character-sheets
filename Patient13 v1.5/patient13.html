<!-- Valeurs cachées -->

<input type="hidden" class="page" name="attr_page"  value="1">
<input type="hidden" name="attr_malus_vitalite"  value="0">
<input type="hidden" name="attr_malus_sang_froid"  value="0">
<input type="hidden" name="attr_gm"  value="">
<input type="hidden" class="insecte" name="attr_insecte"  value="1">



<!-- Cadre insecte -->
<div class="insecte_1"></div>
<div class="insecte_2"></div>
<div class="insecte_3"></div>
<div class="insecte_4"></div>
<div class="insecte_5"></div>
<div class="insecte_6"></div>
<div class="insecte_7"></div>
<div class="insecte_8"></div>
<div class="insecte_9"></div>
<div class="insecte_10"></div>
<div class="insecte_11"></div>
<div class="insecte_12"></div>
<div class="insecte_12"></div>
<div class="insecte_13"></div>
<div class="insecte_14"></div>
<div class="insecte_15"></div>
<div class="insecte_16"></div>
<div class="insecte_17"></div>
<div class="insecte_18"></div>
<div class="insecte_19"></div>
<div class="insecte_20"></div>
<div class="insecte_21"></div>

<!-- Cadre retourner carte -->
<div class="retourner_carte">
    <button type="action" class="retourner_page" name="act_retourner" title="Verso de votre fiche">RETOURNER L'ÉTIQUETTE</button>
</div>
<div class="retourner_carte_inverse">
    <button type="action" class="retourner_page" name="act_retourner" title="Recto de votre fiche">RETOURNER L'ÉTIQUETTE</button>
</div>
<div class="fleche"></div>

<!-- Cadre des Roll -->
<span class="shadow">
<div class="cadre_roll">
    <div class="wrapper_roll">
        <div class="roll_type" title="Définissez le type de jet">
            type
        </div>
        <div class="roll_type_boutton">
            <input type="hidden" class="jet_type" name="attr_type_jet"  value="1">
            <div class="jet_action">
                <button type="action" class="roll_action" name="act_type_jet_1" title="Jet pour une action" style="cursor: default;">action</button>
                / 
                <button type="action" class="roll_combat" name="act_type_jet_2" title="Jet pour un affrontement physique" style="color: #00000052;">physique</button>
                / 
                <button type="action" class="roll_mental" name="act_type_jet_3" title="Jet pour un affrontement psychologique" style="color: #00000052;">psycho</button> 
            </div>
            <div class="jet_combat">
                <button type="action" class="roll_action" name="act_type_jet_1" title="Jet pour une action" style="color: #00000052;">action</button>
                / 
                <button type="action" class="roll_combat" name="act_type_jet_2" title="Jet pour un affrontement physique" style="cursor: default;">physique</button>
                / 
                <button type="action" class="roll_mental" name="act_type_jet_3" title="Jet pour un affrontement psychologique" style="color: #00000052;">psycho</button> 
            </div>
            <div class="jet_mental">
                <button type="action" class="roll_action" name="act_type_jet_1" title="Jet pour une action" style="color: #00000052;">action</button>
                / 
                <button type="action" class="roll_combat" name="act_type_jet_2" title="Jet pour un affrontement physique" style="color: #00000052;">physique</button>
                / 
                <button type="action" class="roll_mental" name="act_type_jet_3" title="Jet pour un affrontement psychologique" style="cursor: default;">psycho</button> 
            </div>
        </div>
        <div class="roll_public" title="Définissez si le jet est public ou privé">
            entretien
        </div>
        <div class="roll_public_boutton">
            <input type="hidden" class="jet" name="attr_jet"  value="1">
            <div class="jet_public">
                <button type="action" class="roll_public" name="act_jet" title="Jet public" style="cursor: default;">publique</button>
                / 
                <button type="action" class="roll_prive" name="act_jet" title="Jet privé" style="color: #00000052;">privé</button> 
            </div>
            <div class="jet_prive">
                <button type="action" class="roll_public" name="act_jet" title="Jet public" style="color: #00000052;">publique</button>
                / 
                <button type="action" class="roll_prive" name="act_jet" title="Jet privé" style="cursor: default;">privé</button> 
            </div>
        </div>
        <div class="roll_mod_titre" title="Si un de vos Traits est en rapport 
avec l’action qui est tentée, notez
sa valeur ici.">
            modificateur
        </div>
        <div class="roll_mod_valeur">
            <input type="number" class="roll_mod" name="attr_roll_mod" min="-3" max="3" value="0" title="Si un de vos Traits est en rapport 
avec l’action qui est tentée, notez
sa valeur ici.">
        </div>
        <div class="roll_des_bonus_titre" title="En dépensant 1 point de Lucidité,
lancez un dé supplémentaire.">
            dés bonus
        </div>
        <div class="roll_des_bonus_checkbox">
            <input type="checkbox" class="de_bonus" name="attr_des_bonus" value="1" checked >
        </div>
        <div class="roll_lancer">
            <input type="hidden" class="jet_type" name="attr_type_jet"  value="1">
            <input type="hidden" class="jet_final" name="attr_jet_final"  value="1">
            <div class="type_action">
                <button type="action" class="roll_3d6" name="act_roll_action" title="Traitement hasardeux...">Tenter l'action...</button>
            </div>
            <div class="type_combat">
                <button type="action" class="roll_3d6" name="act_roll_combat" title="Traitement hasardeux...">Affrontement physique...</button>
            </div>
            <div class="type_mental">
                <button type="action" class="roll_3d6" name="act_roll_mental" title="Traitement hasardeux...">Combat psychologique...</button>
            </div>
            <div class="type_action_4d">
                <button type="action" class="roll_3d6" name="act_roll_action_4d" title="Traitement hasardeux avec bonus...">Tenter l'action...</button>
            </div>
            <div class="type_combat_4d">
                <button type="action" class="roll_3d6" name="act_roll_combat_4d" title="Traitement hasardeux avec bonus...">Affrontement physique...</button>
            </div>
            <div class="type_mental_4d">
                <button type="action" class="roll_3d6" name="act_roll_mental_4d" title="Traitement hasardeux avec bonus...">Combat psychologique...</button>
            </div>
        </div>
    </div>
</div>
</span>

<!-- Shadow du clip path -->
<span class="shadow">

<input type="hidden" class="page" name="attr_page"  value="1">
<!-- Page Recto -->
<div class="recto">
    <div class="rond_carte"></div>
    <div class="portrait_patient"><img class="portrait" name="attr_character_avatar"></div>

    <div class="wrapper_recto">
        <div class="surnom">
            SURNOM
            <br>
            <input type="text" class="surnom" name="attr_character_name">
        </div>
        <div class="matricule">
            MATRICULE
            <br>
            <input type="text" class="matricule" name="attr_matricule" value="# 000000">
        </div>
        <div class="age">
            ÂGE APPARENT
            <br>
            <input type="text" class="age" name="attr_age">
        </div>
        <div class="apparence">
            APPARENCE<br>
            <textarea class="apparence" name="attr_apparence" spellcheck="false"></textarea>
        </div>
        <div class="caractere">
            CARACTÈRE<br>
            <textarea class="caractere" name="attr_caractere" spellcheck="false"></textarea>
        </div>
        <div class="medecin">
            MÉDECIN RÉFÉRANT
            <br>
            <input type="text" class="medecin" name="attr_medecin">
        </div>
        <div class="signe">
            SIGNE PARTICULIER<br>
            <textarea class="signe" name="attr_signe" spellcheck="false"></textarea>
        </div>
        <div class="contact">
            CONTACTS<br>
            <textarea class="contact" name="attr_contact" spellcheck="false"></textarea>
        </div>
        <div class="allies">
            ALLIÉS
            <br>
            <input type="text" class="allie" name="attr_allies">
        </div>
        <div class="ennemis">
            ENNEMIS
            <br>
            <input type="text" class="ennemis" name="attr_ennemis">
        </div>
        <div class="effets_personnels">
            EFFETS PERSONNELS<br>
            <textarea class="stuff" name="attr_stuff" spellcheck="false"></textarea>
        </div>
    </div>
</div>

<!-- Page verso -->
<div class="verso">
    <div class="rond_carte"></div>
    <div class="wrapper_verso_titre">
        <div class="traits_titre">
            TRAITS
        </div>
        <div class="traits_plus_moins">
            +/-
        </div>
    </div>
    <!-- Trait 1 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_1_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_1_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_1_1" name="attr_trait_1_1"  value="0">
            <input type="hidden" class="trait_1_2" name="attr_trait_1_2"  value="0">
            <input type="hidden" class="trait_1_3" name="attr_trait_1_3"  value="0">
            <input type="hidden" class="trait_1_4" name="attr_trait_1_4"  value="0">
            <input type="hidden" class="trait_1_5" name="attr_trait_1_5"  value="0">
            <div class="trait_1_1_zero"><button type="action" class="trait" name="act_trait_1_1"></button></div>
            <div class="trait_1_1_plus"><button type="action" class="trait_plus" name="act_trait_1_1"></button></div>
            <div class="trait_1_1_moins"><button type="action" class="trait_moins" name="act_trait_1_1"></button></div>

            <div class="trait_1_2_zero"><button type="action" class="trait" name="act_trait_1_2"></button></div>
            <div class="trait_1_2_plus"><button type="action" class="trait_plus" name="act_trait_1_2"></button></div>
            <div class="trait_1_2_moins"><button type="action" class="trait_moins" name="act_trait_1_2"></button></div>

            <div class="trait_1_3_zero"><button type="action" class="trait" name="act_trait_1_3"></button></div>
            <div class="trait_1_3_plus"><button type="action" class="trait_plus" name="act_trait_1_3"></button></div>
            <div class="trait_1_3_moins"><button type="action" class="trait_moins" name="act_trait_1_3"></button></div>

            <div class="trait_1_4_zero"><button type="action" class="trait" name="act_trait_1_4"></button></div>
            <div class="trait_1_4_plus"><button type="action" class="trait_plus" name="act_trait_1_4"></button></div>
            <div class="trait_1_4_moins"><button type="action" class="trait_moins" name="act_trait_1_4"></button></div>

            <div class="trait_1_5_zero"><button type="action" class="trait" name="act_trait_1_5"></button></div>
            <div class="trait_1_5_plus"><button type="action" class="trait_plus" name="act_trait_1_5"></button></div>
            <div class="trait_1_5_moins"><button type="action" class="trait_moins" name="act_trait_1_5"></button></div>
        </div>
    </div>

    <!-- Trait 2 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_2_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_2_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_2_1" name="attr_trait_2_1"  value="0">
            <input type="hidden" class="trait_2_2" name="attr_trait_2_2"  value="0">
            <input type="hidden" class="trait_2_3" name="attr_trait_2_3"  value="0">
            <input type="hidden" class="trait_2_4" name="attr_trait_2_4"  value="0">
            <input type="hidden" class="trait_2_5" name="attr_trait_2_5"  value="0">
            <div class="trait_2_1_zero"><button type="action" class="trait" name="act_trait_2_1"></button></div>
            <div class="trait_2_1_plus"><button type="action" class="trait_plus" name="act_trait_2_1"></button></div>
            <div class="trait_2_1_moins"><button type="action" class="trait_moins" name="act_trait_2_1"></button></div>

            <div class="trait_2_2_zero"><button type="action" class="trait" name="act_trait_2_2"></button></div>
            <div class="trait_2_2_plus"><button type="action" class="trait_plus" name="act_trait_2_2"></button></div>
            <div class="trait_2_2_moins"><button type="action" class="trait_moins" name="act_trait_2_2"></button></div>

            <div class="trait_2_3_zero"><button type="action" class="trait" name="act_trait_2_3"></button></div>
            <div class="trait_2_3_plus"><button type="action" class="trait_plus" name="act_trait_2_3"></button></div>
            <div class="trait_2_3_moins"><button type="action" class="trait_moins" name="act_trait_2_3"></button></div>

            <div class="trait_2_4_zero"><button type="action" class="trait" name="act_trait_2_4"></button></div>
            <div class="trait_2_4_plus"><button type="action" class="trait_plus" name="act_trait_2_4"></button></div>
            <div class="trait_2_4_moins"><button type="action" class="trait_moins" name="act_trait_2_4"></button></div>

            <div class="trait_2_5_zero"><button type="action" class="trait" name="act_trait_2_5"></button></div>
            <div class="trait_2_5_plus"><button type="action" class="trait_plus" name="act_trait_2_5"></button></div>
            <div class="trait_2_5_moins"><button type="action" class="trait_moins" name="act_trait_2_5"></button></div>
        </div>
    </div>

    <!-- Trait 3 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_3_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_3_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_3_1" name="attr_trait_3_1"  value="0">
            <input type="hidden" class="trait_3_2" name="attr_trait_3_2"  value="0">
            <input type="hidden" class="trait_3_3" name="attr_trait_3_3"  value="0">
            <input type="hidden" class="trait_3_4" name="attr_trait_3_4"  value="0">
            <input type="hidden" class="trait_3_5" name="attr_trait_3_5"  value="0">
            <div class="trait_3_1_zero"><button type="action" class="trait" name="act_trait_3_1"></button></div>
            <div class="trait_3_1_plus"><button type="action" class="trait_plus" name="act_trait_3_1"></button></div>
            <div class="trait_3_1_moins"><button type="action" class="trait_moins" name="act_trait_3_1"></button></div>

            <div class="trait_3_2_zero"><button type="action" class="trait" name="act_trait_3_2"></button></div>
            <div class="trait_3_2_plus"><button type="action" class="trait_plus" name="act_trait_3_2"></button></div>
            <div class="trait_3_2_moins"><button type="action" class="trait_moins" name="act_trait_3_2"></button></div>

            <div class="trait_3_3_zero"><button type="action" class="trait" name="act_trait_3_3"></button></div>
            <div class="trait_3_3_plus"><button type="action" class="trait_plus" name="act_trait_3_3"></button></div>
            <div class="trait_3_3_moins"><button type="action" class="trait_moins" name="act_trait_3_3"></button></div>

            <div class="trait_3_4_zero"><button type="action" class="trait" name="act_trait_3_4"></button></div>
            <div class="trait_3_4_plus"><button type="action" class="trait_plus" name="act_trait_3_4"></button></div>
            <div class="trait_3_4_moins"><button type="action" class="trait_moins" name="act_trait_3_4"></button></div>

            <div class="trait_3_5_zero"><button type="action" class="trait" name="act_trait_3_5"></button></div>
            <div class="trait_3_5_plus"><button type="action" class="trait_plus" name="act_trait_3_5"></button></div>
            <div class="trait_3_5_moins"><button type="action" class="trait_moins" name="act_trait_3_5"></button></div>
        </div>
    </div>

    <!-- Trait 4 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_4_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_4_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_4_1" name="attr_trait_4_1"  value="0">
            <input type="hidden" class="trait_4_2" name="attr_trait_4_2"  value="0">
            <input type="hidden" class="trait_4_3" name="attr_trait_4_3"  value="0">
            <input type="hidden" class="trait_4_4" name="attr_trait_4_4"  value="0">
            <input type="hidden" class="trait_4_5" name="attr_trait_4_5"  value="0">
            <div class="trait_4_1_zero"><button type="action" class="trait" name="act_trait_4_1"></button></div>
            <div class="trait_4_1_plus"><button type="action" class="trait_plus" name="act_trait_4_1"></button></div>
            <div class="trait_4_1_moins"><button type="action" class="trait_moins" name="act_trait_4_1"></button></div>

            <div class="trait_4_2_zero"><button type="action" class="trait" name="act_trait_4_2"></button></div>
            <div class="trait_4_2_plus"><button type="action" class="trait_plus" name="act_trait_4_2"></button></div>
            <div class="trait_4_2_moins"><button type="action" class="trait_moins" name="act_trait_4_2"></button></div>

            <div class="trait_4_3_zero"><button type="action" class="trait" name="act_trait_4_3"></button></div>
            <div class="trait_4_3_plus"><button type="action" class="trait_plus" name="act_trait_4_3"></button></div>
            <div class="trait_4_3_moins"><button type="action" class="trait_moins" name="act_trait_4_3"></button></div>

            <div class="trait_4_4_zero"><button type="action" class="trait" name="act_trait_4_4"></button></div>
            <div class="trait_4_4_plus"><button type="action" class="trait_plus" name="act_trait_4_4"></button></div>
            <div class="trait_4_4_moins"><button type="action" class="trait_moins" name="act_trait_4_4"></button></div>

            <div class="trait_4_5_zero"><button type="action" class="trait" name="act_trait_4_5"></button></div>
            <div class="trait_4_5_plus"><button type="action" class="trait_plus" name="act_trait_4_5"></button></div>
            <div class="trait_4_5_moins"><button type="action" class="trait_moins" name="act_trait_4_5"></button></div>
        </div>
    </div>

    <!-- Trait 5 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_5_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_5_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_5_1" name="attr_trait_5_1"  value="0">
            <input type="hidden" class="trait_5_2" name="attr_trait_5_2"  value="0">
            <input type="hidden" class="trait_5_3" name="attr_trait_5_3"  value="0">
            <input type="hidden" class="trait_5_4" name="attr_trait_5_4"  value="0">
            <input type="hidden" class="trait_5_5" name="attr_trait_5_5"  value="0">
            <div class="trait_5_1_zero"><button type="action" class="trait" name="act_trait_5_1"></button></div>
            <div class="trait_5_1_plus"><button type="action" class="trait_plus" name="act_trait_5_1"></button></div>
            <div class="trait_5_1_moins"><button type="action" class="trait_moins" name="act_trait_5_1"></button></div>

            <div class="trait_5_2_zero"><button type="action" class="trait" name="act_trait_5_2"></button></div>
            <div class="trait_5_2_plus"><button type="action" class="trait_plus" name="act_trait_5_2"></button></div>
            <div class="trait_5_2_moins"><button type="action" class="trait_moins" name="act_trait_5_2"></button></div>

            <div class="trait_5_3_zero"><button type="action" class="trait" name="act_trait_5_3"></button></div>
            <div class="trait_5_3_plus"><button type="action" class="trait_plus" name="act_trait_5_3"></button></div>
            <div class="trait_5_3_moins"><button type="action" class="trait_moins" name="act_trait_5_3"></button></div>

            <div class="trait_5_4_zero"><button type="action" class="trait" name="act_trait_5_4"></button></div>
            <div class="trait_5_4_plus"><button type="action" class="trait_plus" name="act_trait_5_4"></button></div>
            <div class="trait_5_4_moins"><button type="action" class="trait_moins" name="act_trait_5_4"></button></div>

            <div class="trait_5_5_zero"><button type="action" class="trait" name="act_trait_5_5"></button></div>
            <div class="trait_5_5_plus"><button type="action" class="trait_plus" name="act_trait_5_5"></button></div>
            <div class="trait_5_5_moins"><button type="action" class="trait_moins" name="act_trait_5_5"></button></div>
        </div>
    </div>

    <!-- Trait 6 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_6_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_6_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_6_1" name="attr_trait_6_1"  value="0">
            <input type="hidden" class="trait_6_2" name="attr_trait_6_2"  value="0">
            <input type="hidden" class="trait_6_3" name="attr_trait_6_3"  value="0">
            <input type="hidden" class="trait_6_4" name="attr_trait_6_4"  value="0">
            <input type="hidden" class="trait_6_5" name="attr_trait_6_5"  value="0">
            <div class="trait_6_1_zero"><button type="action" class="trait" name="act_trait_6_1"></button></div>
            <div class="trait_6_1_plus"><button type="action" class="trait_plus" name="act_trait_6_1"></button></div>
            <div class="trait_6_1_moins"><button type="action" class="trait_moins" name="act_trait_6_1"></button></div>

            <div class="trait_6_2_zero"><button type="action" class="trait" name="act_trait_6_2"></button></div>
            <div class="trait_6_2_plus"><button type="action" class="trait_plus" name="act_trait_6_2"></button></div>
            <div class="trait_6_2_moins"><button type="action" class="trait_moins" name="act_trait_6_2"></button></div>

            <div class="trait_6_3_zero"><button type="action" class="trait" name="act_trait_6_3"></button></div>
            <div class="trait_6_3_plus"><button type="action" class="trait_plus" name="act_trait_6_3"></button></div>
            <div class="trait_6_3_moins"><button type="action" class="trait_moins" name="act_trait_6_3"></button></div>

            <div class="trait_6_4_zero"><button type="action" class="trait" name="act_trait_6_4"></button></div>
            <div class="trait_6_4_plus"><button type="action" class="trait_plus" name="act_trait_6_4"></button></div>
            <div class="trait_6_4_moins"><button type="action" class="trait_moins" name="act_trait_6_4"></button></div>

            <div class="trait_6_5_zero"><button type="action" class="trait" name="act_trait_6_5"></button></div>
            <div class="trait_6_5_plus"><button type="action" class="trait_plus" name="act_trait_6_5"></button></div>
            <div class="trait_6_5_moins"><button type="action" class="trait_moins" name="act_trait_6_5"></button></div>
        </div>
    </div>

    <!-- Trait 7 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_7_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_7_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_7_1" name="attr_trait_7_1"  value="0">
            <input type="hidden" class="trait_7_2" name="attr_trait_7_2"  value="0">
            <input type="hidden" class="trait_7_3" name="attr_trait_7_3"  value="0">
            <input type="hidden" class="trait_7_4" name="attr_trait_7_4"  value="0">
            <input type="hidden" class="trait_7_5" name="attr_trait_7_5"  value="0">
            <div class="trait_7_1_zero"><button type="action" class="trait" name="act_trait_7_1"></button></div>
            <div class="trait_7_1_plus"><button type="action" class="trait_plus" name="act_trait_7_1"></button></div>
            <div class="trait_7_1_moins"><button type="action" class="trait_moins" name="act_trait_7_1"></button></div>

            <div class="trait_7_2_zero"><button type="action" class="trait" name="act_trait_7_2"></button></div>
            <div class="trait_7_2_plus"><button type="action" class="trait_plus" name="act_trait_7_2"></button></div>
            <div class="trait_7_2_moins"><button type="action" class="trait_moins" name="act_trait_7_2"></button></div>

            <div class="trait_7_3_zero"><button type="action" class="trait" name="act_trait_7_3"></button></div>
            <div class="trait_7_3_plus"><button type="action" class="trait_plus" name="act_trait_7_3"></button></div>
            <div class="trait_7_3_moins"><button type="action" class="trait_moins" name="act_trait_7_3"></button></div>

            <div class="trait_7_4_zero"><button type="action" class="trait" name="act_trait_7_4"></button></div>
            <div class="trait_7_4_plus"><button type="action" class="trait_plus" name="act_trait_7_4"></button></div>
            <div class="trait_7_4_moins"><button type="action" class="trait_moins" name="act_trait_7_4"></button></div>

            <div class="trait_7_5_zero"><button type="action" class="trait" name="act_trait_7_5"></button></div>
            <div class="trait_7_5_plus"><button type="action" class="trait_plus" name="act_trait_7_5"></button></div>
            <div class="trait_7_5_moins"><button type="action" class="trait_moins" name="act_trait_7_5"></button></div>
        </div>
    </div>

    <!-- Trait 8 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_8_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_8_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_8_1" name="attr_trait_8_1"  value="0">
            <input type="hidden" class="trait_8_2" name="attr_trait_8_2"  value="0">
            <input type="hidden" class="trait_8_3" name="attr_trait_8_3"  value="0">
            <input type="hidden" class="trait_8_4" name="attr_trait_8_4"  value="0">
            <input type="hidden" class="trait_8_5" name="attr_trait_8_5"  value="0">
            <div class="trait_8_1_zero"><button type="action" class="trait" name="act_trait_8_1"></button></div>
            <div class="trait_8_1_plus"><button type="action" class="trait_plus" name="act_trait_8_1"></button></div>
            <div class="trait_8_1_moins"><button type="action" class="trait_moins" name="act_trait_8_1"></button></div>

            <div class="trait_8_2_zero"><button type="action" class="trait" name="act_trait_8_2"></button></div>
            <div class="trait_8_2_plus"><button type="action" class="trait_plus" name="act_trait_8_2"></button></div>
            <div class="trait_8_2_moins"><button type="action" class="trait_moins" name="act_trait_8_2"></button></div>

            <div class="trait_8_3_zero"><button type="action" class="trait" name="act_trait_8_3"></button></div>
            <div class="trait_8_3_plus"><button type="action" class="trait_plus" name="act_trait_8_3"></button></div>
            <div class="trait_8_3_moins"><button type="action" class="trait_moins" name="act_trait_8_3"></button></div>

            <div class="trait_8_4_zero"><button type="action" class="trait" name="act_trait_8_4"></button></div>
            <div class="trait_8_4_plus"><button type="action" class="trait_plus" name="act_trait_8_4"></button></div>
            <div class="trait_8_4_moins"><button type="action" class="trait_moins" name="act_trait_8_4"></button></div>

            <div class="trait_8_5_zero"><button type="action" class="trait" name="act_trait_8_5"></button></div>
            <div class="trait_8_5_plus"><button type="action" class="trait_plus" name="act_trait_8_5"></button></div>
            <div class="trait_8_5_moins"><button type="action" class="trait_moins" name="act_trait_8_5"></button></div>
        </div>
    </div>

    <!-- Trait 9 -->
    <div class="wrapper_verso">
        <div class="traits">
            <input type="text" class="traits_nom" name="attr_trait_9_nom">
        </div>
        <div class="traits_valeur">
			<input type="number" class="trait_bonus" name="attr_trait_9_bonus" min="-3" max="3">
        </div>
        <div class="traits_box">
            <input type="hidden" class="trait_9_1" name="attr_trait_9_1"  value="0">
            <input type="hidden" class="trait_9_2" name="attr_trait_9_2"  value="0">
            <input type="hidden" class="trait_9_3" name="attr_trait_9_3"  value="0">
            <input type="hidden" class="trait_9_4" name="attr_trait_9_4"  value="0">
            <input type="hidden" class="trait_9_5" name="attr_trait_9_5"  value="0">
            <div class="trait_9_1_zero"><button type="action" class="trait" name="act_trait_9_1"></button></div>
            <div class="trait_9_1_plus"><button type="action" class="trait_plus" name="act_trait_9_1"></button></div>
            <div class="trait_9_1_moins"><button type="action" class="trait_moins" name="act_trait_9_1"></button></div>

            <div class="trait_9_2_zero"><button type="action" class="trait" name="act_trait_9_2"></button></div>
            <div class="trait_9_2_plus"><button type="action" class="trait_plus" name="act_trait_9_2"></button></div>
            <div class="trait_9_2_moins"><button type="action" class="trait_moins" name="act_trait_9_2"></button></div>

            <div class="trait_9_3_zero"><button type="action" class="trait" name="act_trait_9_3"></button></div>
            <div class="trait_9_3_plus"><button type="action" class="trait_plus" name="act_trait_9_3"></button></div>
            <div class="trait_9_3_moins"><button type="action" class="trait_moins" name="act_trait_9_3"></button></div>

            <div class="trait_9_4_zero"><button type="action" class="trait" name="act_trait_9_4"></button></div>
            <div class="trait_9_4_plus"><button type="action" class="trait_plus" name="act_trait_9_4"></button></div>
            <div class="trait_9_4_moins"><button type="action" class="trait_moins" name="act_trait_9_4"></button></div>

            <div class="trait_9_5_zero"><button type="action" class="trait" name="act_trait_9_5"></button></div>
            <div class="trait_9_5_plus"><button type="action" class="trait_plus" name="act_trait_9_5"></button></div>
            <div class="trait_9_5_moins"><button type="action" class="trait_moins" name="act_trait_9_5"></button></div>
        </div>
    </div>

    <!-- Trait 10 -->
    <div class="wrapper_verso" style="grid-auto-rows: 45px;">
        <div class="traits" style="border-bottom: none;">
            <input type="text" class="traits_nom" name="attr_trait_10_nom">
        </div>
        <div class="traits_valeur" style="border-bottom: none;">
			<input type="number" class="trait_bonus" name="attr_trait_10_bonus" min="-3" max="3">
        </div>
        <div class="traits_box" style="border-bottom: none;">
            <input type="hidden" class="trait_10_1" name="attr_trait_10_1"  value="0">
            <input type="hidden" class="trait_10_2" name="attr_trait_10_2"  value="0">
            <input type="hidden" class="trait_10_3" name="attr_trait_10_3"  value="0">
            <input type="hidden" class="trait_10_4" name="attr_trait_10_4"  value="0">
            <input type="hidden" class="trait_10_5" name="attr_trait_10_5"  value="0">
            <div class="trait_10_1_zero"><button type="action" class="trait" name="act_trait_10_1"></button></div>
            <div class="trait_10_1_plus"><button type="action" class="trait_plus" name="act_trait_10_1"></button></div>
            <div class="trait_10_1_moins"><button type="action" class="trait_moins" name="act_trait_10_1"></button></div>

            <div class="trait_10_2_zero"><button type="action" class="trait" name="act_trait_10_2"></button></div>
            <div class="trait_10_2_plus"><button type="action" class="trait_plus" name="act_trait_10_2"></button></div>
            <div class="trait_10_2_moins"><button type="action" class="trait_moins" name="act_trait_10_2"></button></div>

            <div class="trait_10_3_zero"><button type="action" class="trait" name="act_trait_10_3"></button></div>
            <div class="trait_10_3_plus"><button type="action" class="trait_plus" name="act_trait_10_3"></button></div>
            <div class="trait_10_3_moins"><button type="action" class="trait_moins" name="act_trait_10_3"></button></div>

            <div class="trait_10_4_zero"><button type="action" class="trait" name="act_trait_10_4"></button></div>
            <div class="trait_10_4_plus"><button type="action" class="trait_plus" name="act_trait_10_4"></button></div>
            <div class="trait_10_4_moins"><button type="action" class="trait_moins" name="act_trait_10_4"></button></div>

            <div class="trait_10_5_zero"><button type="action" class="trait" name="act_trait_10_5"></button></div>
            <div class="trait_10_5_plus"><button type="action" class="trait_plus" name="act_trait_10_5"></button></div>
            <div class="trait_10_5_moins"><button type="action" class="trait_moins" name="act_trait_10_5"></button></div>
        </div>
    </div>

    <div class="wrapper_verso_stats_max">
        <div class="stat_recap_1">LUCIDITÉ MAX : <input type="number" class="max_stat" name="attr_lucidite_max" min="5" max="13"></div>
        <div class="stat_recap_2">SANG-FROID MAX : <input type="number" class="max_stat" name="attr_sang_froid_max" min="5" max="13"></div>
        <div class="stat_recap_3">VITALITÉ MAX : <input type="number" class="max_stat" name="attr_vitalite_max" min="5" max="13"></div>
    </div>

    <!-- Lucidité -->
    <div class="wrapper_verso_stats" style="padding-top: 10px;">
        <div class="stat_titre">LUCIDITÉ</div>
        <div class="stat_check_0">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_1" class="sheet-radio">
            <span class="sheet-checked" style="background-color: #bd0000;"></span>
            </button>
        </div>
        <div class="stat_check_1">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_2" class="sheet-radio sheet-gt-1">
            <span class="sheet-checked" style="background-color: #b10b09;"></span>
            </button>
        </div>
        <div class="stat_check_2">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_3" class="sheet-radio sheet-gt-1 sheet-gt-2">
            <span class="sheet-checked" style="background-color: #a41612;"></span>
            </button>
        </div>
        <div class="stat_check_3">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_4" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3">
            <span class="sheet-checked" style="background-color: #8c2b25;"></span>
            </button>
        </div>
        <div class="stat_check_4">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_5" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4">
            <span class="sheet-checked" style="background-color: #80362e;"></span>
            </button>
        </div>
        <div class="stat_check_5">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_6" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5">
            <span class="sheet-checked" style="background-color: #734137;"></span>
            </button>
        </div>
        <div class="stat_check_6">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_7" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6">
            <span class="sheet-checked" style="background-color: #674c40;"></span>
            </button>
        </div>
        <div class="stat_check_7">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_8" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7">
            <span class="sheet-checked" style="background-color: #5b5749;"></span>
            </button>
        </div>
        <div class="stat_check_8">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_9" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8">
            <span class="sheet-checked" style="background-color: #4f6252;"></span>
            </button>
        </div>
        <div class="stat_check_9">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_10" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9">
            <span class="sheet-checked" style="background-color: #426d5b;"></span>
            </button>
        </div>
        <div class="stat_check_10">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_11" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10">
            <span class="sheet-checked" style="background-color: #367864;"></span>
            </button>
        </div>
        <div class="stat_check_11">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_12" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11">
            <span class="sheet-checked" style="background-color: #2a826e;"></span>
            </button>
        </div>
        <div class="stat_check_12">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_13" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12">
            <span class="sheet-checked" style="background-color: #1e8d77;"></span>
            </button>
        </div>
        <div class="stat_check_13">
            <input type="hidden" class="sheet-radio" name="attr_check_lucidite" value="14" />
            <button type="action" name="act_check_lucidite_14" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12 sheet-gt-13">
            <span class="sheet-checked" style="background-color: #119880;"></span>
            </button>
        </div>
    </div>
    <div class="wrapper_verso_stats" style="margin-top: -3px;">
        <input type="hidden" class="memoire" name="attr_memoire" value="0" />
        <div class="stat_sous_titre"><button type="action" class="crises" name="act_memoire_0">PERTE DE MÉMOIRE</button></div>
        <div class="stat_check_1_memoire"><button type="action" class="crises" name="act_memoire_1">1</button></div>
        <div class="stat_check_2_memoire"><button type="action" class="crises" name="act_memoire_2">2</button></div>
        <div class="stat_check_3_memoire"><button type="action" class="crises" name="act_memoire_3">3</button></div>
        <div class="stat_check_4_memoire"><button type="action" class="crises" name="act_memoire_4">4</button></div>
        <div class="stat_check_5_memoire"><button type="action" class="crises" name="act_memoire_5">5</button></div>
        <div class="stat_check_6_memoire"><button type="action" class="crises" name="act_memoire_6">6</button></div>
        <div class="stat_check_7_memoire"><button type="action" class="crises" name="act_memoire_7">7</button></div>
        <div class="stat_check_8_memoire"><button type="action" class="crises" name="act_memoire_8">8</button></div>
        <div class="stat_check_9_memoire"><button type="action" class="crises" name="act_memoire_9">9</button></div>
        <div class="stat_check_10_memoire"><button type="action" class="crises" name="act_memoire_10">10</button></div>
        <div class="stat_check_11_memoire"><button type="action" class="crises" name="act_memoire_11">11</button></div>
        <div class="stat_check_12_memoire"><button type="action" class="crises" name="act_memoire_12">12</button></div>
        <div class="stat_check_13_memoire"><button type="action" class="crises" name="act_memoire_13">13</button></div>
    </div>

    <!-- Sang froid -->
    <div class="wrapper_verso_stats" style="padding-top: 10px;">
        <div class="stat_titre" style="font-size: 14px;">SANG-FROID</div>
        <div class="stat_check_0">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_1" class="sheet-radio">
            <span class="sheet-checked" style="background-color: #bd0000;"></span>
            </button>
        </div>
        <div class="stat_check_1">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_2" class="sheet-radio sheet-gt-1">
            <span class="sheet-checked" style="background-color: #b10b09;">-3</span>
            </button>
        </div>
        <div class="stat_check_2">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_3" class="sheet-radio sheet-gt-1 sheet-gt-2">
            <span class="sheet-checked" style="background-color: #a41612;"></span>
            </button>
        </div>
        <div class="stat_check_3">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_4" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3">
            <span class="sheet-checked" style="background-color: #8c2b25;">-2</span>
            </button>
        </div>
        <div class="stat_check_4">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_5" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4">
            <span class="sheet-checked" style="background-color: #80362e;"></span>
            </button>
        </div>
        <div class="stat_check_5">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_6" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5">
            <span class="sheet-checked" style="background-color: #734137;">-1</span>
            </button>
        </div>
        <div class="stat_check_6">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_7" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6">
            <span class="sheet-checked" style="background-color: #674c40;"></span>
            </button>
        </div>
        <div class="stat_check_7">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_8" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7">
            <span class="sheet-checked" style="background-color: #5b5749;"></span>
            </button>
        </div>
        <div class="stat_check_8">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_9" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8">
            <span class="sheet-checked" style="background-color: #4f6252;"></span>
            </button>
        </div>
        <div class="stat_check_9">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_10" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9">
            <span class="sheet-checked" style="background-color: #426d5b;"></span>
            </button>
        </div>
        <div class="stat_check_10">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_11" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10">
            <span class="sheet-checked" style="background-color: #367864;"></span>
            </button>
        </div>
        <div class="stat_check_11">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_12" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11">
            <span class="sheet-checked" style="background-color: #2a826e;"></span>
            </button>
        </div>
        <div class="stat_check_12">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_13" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12">
            <span class="sheet-checked" style="background-color: #1e8d77;"></span>
            </button>
        </div>
        <div class="stat_check_13">
            <input type="hidden" class="sheet-radio" name="attr_check_sang_froid" value="14" />
            <button type="action" name="act_check_sang_froid_14" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12 sheet-gt-13">
            <span class="sheet-checked" style="background-color: #119880;"></span>
            </button>
        </div>
    </div>
    <div class="wrapper_verso_stats" style="margin-top: -3px;">
        <input type="hidden" class="hysterie" name="attr_hysterie" value="0" />
        <div class="stat_sous_titre"><button type="action" class="crises" name="act_hysterie_0">HYSTÉRIE</button></div>
        <div class="stat_check_1_hysterie"><button type="action" class="crises" name="act_hysterie_1">1</button></div>
        <div class="stat_check_2_hysterie"><button type="action" class="crises" name="act_hysterie_2">2</button></div>
        <div class="stat_check_3_hysterie"><button type="action" class="crises" name="act_hysterie_3">3</button></div>
        <div class="stat_check_4_hysterie"><button type="action" class="crises" name="act_hysterie_4">4</button></div>
        <div class="stat_check_5_hysterie"><button type="action" class="crises" name="act_hysterie_5">5</button></div>
        <div class="stat_check_6_hysterie"><button type="action" class="crises" name="act_hysterie_6">6</button></div>
        <div class="stat_check_7_hysterie"><button type="action" class="crises" name="act_hysterie_7">7</button></div>
        <div class="stat_check_8_hysterie"><button type="action" class="crises" name="act_hysterie_8">8</button></div>
        <div class="stat_check_9_hysterie"><button type="action" class="crises" name="act_hysterie_9">9</button></div>
        <div class="stat_check_10_hysterie"><button type="action" class="crises" name="act_hysterie_10">10</button></div>
        <div class="stat_check_11_hysterie"><button type="action" class="crises" name="act_hysterie_11">11</button></div>
        <div class="stat_check_12_hysterie"><button type="action" class="crises" name="act_hysterie_12">12</button></div>
        <div class="stat_check_13_hysterie"><button type="action" class="crises" name="act_hysterie_13">13</button></div>
    </div>

    <!-- VITALITÉ -->
    <div class="wrapper_verso_stats" style="padding-top: 10px;">
        <div class="stat_titre">VITALITÉ</div>
        <div class="stat_check_0">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_1" class="sheet-radio">
            <span class="sheet-checked" style="background-color: #bd0000;"></span>
            </button>
        </div>
        <div class="stat_check_1">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_2" class="sheet-radio sheet-gt-1">
            <span class="sheet-checked" style="background-color: #b10b09;">-3</span>
            </button>
        </div>
        <div class="stat_check_2">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_3" class="sheet-radio sheet-gt-1 sheet-gt-2">
            <span class="sheet-checked" style="background-color: #a41612;"></span>
            </button>
        </div>
        <div class="stat_check_3">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_4" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3">
            <span class="sheet-checked" style="background-color: #8c2b25;">-2</span>
            </button>
        </div>
        <div class="stat_check_4">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_5" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4">
            <span class="sheet-checked" style="background-color: #80362e;"></span>
            </button>
        </div>
        <div class="stat_check_5">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_6" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5">
            <span class="sheet-checked" style="background-color: #734137;">-1</span>
            </button>
        </div>
        <div class="stat_check_6">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_7" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6">
            <span class="sheet-checked" style="background-color: #674c40;"></span>
            </button>
        </div>
        <div class="stat_check_7">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_8" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7">
            <span class="sheet-checked" style="background-color: #5b5749;"></span>
            </button>
        </div>
        <div class="stat_check_8">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_9" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8">
            <span class="sheet-checked" style="background-color: #4f6252;"></span>
            </button>
        </div>
        <div class="stat_check_9">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_10" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9">
            <span class="sheet-checked" style="background-color: #426d5b;"></span>
            </button>
        </div>
        <div class="stat_check_10">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_11" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10">
            <span class="sheet-checked" style="background-color: #367864;"></span>
            </button>
        </div>
        <div class="stat_check_11">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_12" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11">
            <span class="sheet-checked" style="background-color: #2a826e;"></span>
            </button>
        </div>
        <div class="stat_check_12">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_13" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12">
            <span class="sheet-checked" style="background-color: #1e8d77;"></span>
            </button>
        </div>
        <div class="stat_check_13">
            <input type="hidden" class="sheet-radio" name="attr_check_vitalite" value="14" />
            <button type="action" name="act_check_vitalite_14" class="sheet-radio sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12 sheet-gt-13">
            <span class="sheet-checked" style="background-color: #119880;"></span>
            </button>
        </div>
    </div>
    <div class="wrapper_verso_stats" style="margin-top: -3px;">
        <input type="hidden" class="inconscience" name="attr_inconscience" value="0" />
        <div class="stat_sous_titre"><button type="action" class="crises" name="act_inconscience_0">INCONSCIENCE</button></div>
        <div class="stat_check_1_inconscience"><button type="action" class="crises" name="act_inconscience_1">1</button></div>
        <div class="stat_check_2_inconscience"><button type="action" class="crises" name="act_inconscience_2">2</button></div>
        <div class="stat_check_3_inconscience"><button type="action" class="crises" name="act_inconscience_3">3</button></div>
        <div class="stat_check_4_inconscience"><button type="action" class="crises" name="act_inconscience_4">4</button></div>
        <div class="stat_check_5_inconscience"><button type="action" class="crises" name="act_inconscience_5">5</button></div>
        <div class="stat_check_6_inconscience"><button type="action" class="crises" name="act_inconscience_6">6</button></div>
        <div class="stat_check_7_inconscience"><button type="action" class="crises" name="act_inconscience_7">7</button></div>
        <div class="stat_check_8_inconscience"><button type="action" class="crises" name="act_inconscience_8">8</button></div>
        <div class="stat_check_9_inconscience"><button type="action" class="crises" name="act_inconscience_9">9</button></div>
        <div class="stat_check_10_inconscience"><button type="action" class="crises" name="act_inconscience_10">10</button></div>
        <div class="stat_check_11_inconscience"><button type="action" class="crises" name="act_inconscience_11">11</button></div>
        <div class="stat_check_12_inconscience"><button type="action" class="crises" name="act_inconscience_12">12</button></div>
        <div class="stat_check_13_inconscience"><button type="action" class="crises" name="act_inconscience_13">13</button></div>
    </div>
 
    <!-- Récapitulatif stats
    <div class="wrapper_verso_stats" style="padding-top: 10px;">
        <div class="stat_recap_1">LUCIDITÉ max. : input</div>
        <div class="stat_recap_2">SANG-FROID max. : input</div>
        <div class="stat_recap_3">VITALITÉ max. : input</div>
        <div class="stat_recap_1">Amnésie : input</div>
        <div class="stat_recap_2">Crise : input</div>
        <div class="stat_recap_3">Malaise : input</div>
    </div> -->

    <!-- ANCIENNETE -->
    <div class="wrapper_verso_stats" style="padding-top: 10px;background-color: transparent;color:#000000eb">
        <div class="stat_titre" style="color:#000000eb;">ANCIENNETÉ</div>
        <div class="stat_check_0">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_1" class="sheet-radio-anciennete" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_1">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_2" class="sheet-radio-anciennete sheet-gt-1" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_2">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_3" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_3">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_4" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_4">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_5" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_5">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_6" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_6">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_7" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_7">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_8" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_8">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_9" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_9">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_10" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_10">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_11" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_11">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_12" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;background-color: #ffffff00;">✓</span>
            </button>
        </div>
        <div class="stat_check_12">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_13" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
        <div class="stat_check_13">
            <input type="hidden" class="sheet-radio-anciennete" name="attr_check_anciennete" value="1" />
            <button type="action" name="act_check_anciennete_14" class="sheet-radio-anciennete sheet-gt-1 sheet-gt-2 sheet-gt-3 sheet-gt-4 sheet-gt-5 sheet-gt-6 sheet-gt-7 sheet-gt-8 sheet-gt-9 sheet-gt-10 sheet-gt-11 sheet-gt-12 sheet-gt-13" style="background-color: #ffffff75;border:none;">
            <span class="sheet-checked" style="font-weight: bold;">✓</span>
            </button>
        </div>
    </div>
    <div class="wrapper_verso_stats" style="margin-top: -3px;background-color: transparent;color:#000000eb">
        <div class="stat_check_0">0</div>
        <div class="stat_check_1">1</div>
        <div class="stat_check_2">2</div>
        <div class="stat_check_3">3</div>
        <div class="stat_check_4">4</div>
        <div class="stat_check_5">5</div>
        <div class="stat_check_6">6</div>
        <div class="stat_check_7">7</div>
        <div class="stat_check_8">8</div>
        <div class="stat_check_9">9</div>
        <div class="stat_check_10">10</div>
        <div class="stat_check_11">11</div>
        <div class="stat_check_12">12</div>
        <div class="stat_check_13">13</div>
    </div>


    
</div>
</span>


<!-- --------------------------- -->
<!-- --------- SCRIPT ---------- -->
<!-- --------------------------- -->

<!-- Ouverture page insecte / Retourner étiquette / Jet public privé / Crise et autre / Checkbox stats-->
<script type="text/worker">
    on('sheet:opened change:check_lucidite change:check_sang_froid change:check_vitalite', function() {
        getAttrs(["insecte"], function(values) {
            let insecte = parseInt(values["insecte"]) || 0;
            
            if (insecte < 21) insecte_new = insecte + 1;
            else if (insecte == 21) insecte_new = 1;
            else insecte = "1";

            setAttrs({
            "insecte" : insecte_new
            });
        });
    });
    
    on('sheet:opened', function() {
            let gm = "";  
            let jet = "1";
            let des_bonus = "0";

            setAttrs({
            "gm" : gm,
            "jet" : jet,
            "des_bonus" : des_bonus
            });
    });
    
    on('clicked:retourner', function() {
        getAttrs(["page", "insecte"], function(values) {
        let page = parseInt(values["page"]) || 0;
        
            if (page == 1) page = "2";
            else if (page == 2) page = "1";
            else page == "1";

        let insecte = parseInt(values["insecte"]) || 0;
            
            if (insecte < 21) insecte_new = insecte + 1;
            else if (insecte == 21) insecte_new = 1;
            else insecte = "1";
            
            setAttrs({
            "page" : page,
            "insecte" : insecte_new
            });
        });
    });

    on('clicked:jet', function() {
        getAttrs(["jet"], function(values) {
        let jet = parseInt(values["jet"]) || 0;
        
            if (jet == 1) jet = "2", gm = "/w gm ";
            else if (jet == 2) jet = "1", gm = "";
            else jet == "1";
            
            setAttrs({
            "jet" : jet,
            "gm" : gm
            });
        });
    });

    const memoireValues = ["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];
    memoireValues.forEach(function(value) {
      on(`clicked:memoire_${value}`, function() {
        setAttrs({
          "memoire": value
        });
      });
    });
    
    const type_jetValues = ["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];
    type_jetValues.forEach(function(value) {
      on(`clicked:type_jet_${value}`, function() {
        setAttrs({
          "type_jet": value
        });
      });
    });

    on('change:type_jet change:des_bonus', function() {
        getAttrs(["type_jet", "des_bonus"], function(values) {
            let type_jet = parseInt(values["type_jet"]) || 0;
            let des_bonus = parseInt(values["des_bonus"]) || 0;
            
            if (type_jet == 1 && des_bonus == 0) jet_final = 1;
            else if (type_jet == 1 && des_bonus == 1) jet_final = 4;
            else if (type_jet == 2 && des_bonus == 0) jet_final = 2;
            else if (type_jet == 2 && des_bonus == 1) jet_final = 5;
            else if (type_jet == 3 && des_bonus == 0) jet_final = 3;
            else if (type_jet == 3 && des_bonus == 1) jet_final = 6;
            else jet_final = "1";

            setAttrs({
            "jet_final" : jet_final
            });
        });
    });

    const inconscienceValues = ["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];
    inconscienceValues.forEach(function(value) {
      on(`clicked:inconscience_${value}`, function() {
        setAttrs({
          "inconscience": value
        });
      });
    });

    const hysterieValues = ["0","1","2","3","4","5","6","7","8","9","10","11","12","13"];
    hysterieValues.forEach(function(value) {
      on(`clicked:hysterie_${value}`, function() {
        setAttrs({
          "hysterie": value
        });
      });
    });

    const check_luciditeValues = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14"];
check_luciditeValues.forEach(function(value) {
    on(`clicked:check_lucidite_${value}`, function() {
        let lucidite = value - 1;
        setAttrs({
        "check_lucidite": value,
        "lucidite": lucidite
        });
    });
});

    const check_sang_froidValues = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14"];
    check_sang_froidValues.forEach(function(value) {
        on(`clicked:check_sang_froid_${value}`, function() {
            let sang_froid = value - 1;
            setAttrs({
                "check_sang_froid": value,
                "sang_froid": sang_froid
            });
        });
    });

    const check_vitaliteValues = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14"];
    check_vitaliteValues.forEach(function(value) {
        on(`clicked:check_vitalite_${value}`, function() {
            let vitalite = value - 1;
            setAttrs({
                "check_vitalite": value,
                "vitalite": vitalite
            });
        });
    });

    const check_ancienneteValues = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14"];
    check_ancienneteValues.forEach(function(value) {
            on(`clicked:check_anciennete_${value}`, function() {
            setAttrs({
                "check_anciennete": value
            });
            });
        });

 </script>

<!-- Checkbox trait -->
<script type="text/worker">
    on('clicked:trait_1_1', function() {
        getAttrs(["trait_1_1"], function(values) {
        let trait_1_1 = parseInt(values["trait_1_1"]) || 0;
        
            if (trait_1_1 === 0) trait_1_1 = "1";
            else if (trait_1_1 === 1) trait_1_1 = "2";
            else if (trait_1_1 === 2) trait_1_1 = "0";
            else trait_1_1 === "0";

            setAttrs({
            "trait_1_1" : trait_1_1
            });
        });
    });

    on('clicked:trait_1_2', function() {
        getAttrs(["trait_1_2"], function(values) {
        let trait_1_2 = parseInt(values["trait_1_2"]) || 0;
        
            if (trait_1_2 === 0) trait_1_2 = "1";
            else if (trait_1_2 === 1) trait_1_2 = "2";
            else if (trait_1_2 === 2) trait_1_2 = "0";
            else trait_1_2 === "0";

            setAttrs({
            "trait_1_2" : trait_1_2
            });
        });
    });

    on('clicked:trait_1_3', function() {
        getAttrs(["trait_1_3"], function(values) {
        let trait_1_3 = parseInt(values["trait_1_3"]) || 0;
        
            if (trait_1_3 === 0) trait_1_3 = "1";
            else if (trait_1_3 === 1) trait_1_3 = "2";
            else if (trait_1_3 === 2) trait_1_3 = "0";
            else trait_1_3 === "0";

            setAttrs({
            "trait_1_3" : trait_1_3
            });
        });
    });

    on('clicked:trait_1_4', function() {
        getAttrs(["trait_1_4"], function(values) {
        let trait_1_4 = parseInt(values["trait_1_4"]) || 0;
        
            if (trait_1_4 === 0) trait_1_4 = "1";
            else if (trait_1_4 === 1) trait_1_4 = "2";
            else if (trait_1_4 === 2) trait_1_4 = "0";
            else trait_1_4 === "0";

            setAttrs({
            "trait_1_4" : trait_1_4
            });
        });
    });

    on('clicked:trait_1_5', function() {
        getAttrs(["trait_1_5"], function(values) {
        let trait_1_5 = parseInt(values["trait_1_5"]) || 0;
        
            if (trait_1_5 === 0) trait_1_5 = "1";
            else if (trait_1_5 === 1) trait_1_5 = "2";
            else if (trait_1_5 === 2) trait_1_5 = "0";
            else trait_1_5 === "0";

            setAttrs({
            "trait_1_5" : trait_1_5
            });
        });
    });

    on('clicked:trait_2_1', function() {
        getAttrs(["trait_2_1"], function(values) {
        let trait_2_1 = parseInt(values["trait_2_1"]) || 0;
        
            if (trait_2_1 === 0) trait_2_1 = "1";
            else if (trait_2_1 === 1) trait_2_1 = "2";
            else if (trait_2_1 === 2) trait_2_1 = "0";
            else trait_2_1 === "0";

            setAttrs({
            "trait_2_1" : trait_2_1
            });
        });
    });

    on('clicked:trait_2_2', function() {
        getAttrs(["trait_2_2"], function(values) {
        let trait_2_2 = parseInt(values["trait_2_2"]) || 0;
        
            if (trait_2_2 === 0) trait_2_2 = "1";
            else if (trait_2_2 === 1) trait_2_2 = "2";
            else if (trait_2_2 === 2) trait_2_2 = "0";
            else trait_2_2 === "0";

            setAttrs({
            "trait_2_2" : trait_2_2
            });
        });
    });

    on('clicked:trait_2_3', function() {
        getAttrs(["trait_2_3"], function(values) {
        let trait_2_3 = parseInt(values["trait_2_3"]) || 0;
        
            if (trait_2_3 === 0) trait_2_3 = "1";
            else if (trait_2_3 === 1) trait_2_3 = "2";
            else if (trait_2_3 === 2) trait_2_3 = "0";
            else trait_2_3 === "0";

            setAttrs({
            "trait_2_3" : trait_2_3
            });
        });
    });

    on('clicked:trait_2_4', function() {
        getAttrs(["trait_2_4"], function(values) {
        let trait_2_4 = parseInt(values["trait_2_4"]) || 0;
        
            if (trait_2_4 === 0) trait_2_4 = "1";
            else if (trait_2_4 === 1) trait_2_4 = "2";
            else if (trait_2_4 === 2) trait_2_4 = "0";
            else trait_2_4 === "0";

            setAttrs({
            "trait_2_4" : trait_2_4
            });
        });
    });

    on('clicked:trait_2_5', function() {
        getAttrs(["trait_2_5"], function(values) {
        let trait_2_5 = parseInt(values["trait_2_5"]) || 0;
        
            if (trait_2_5 === 0) trait_2_5 = "1";
            else if (trait_2_5 === 1) trait_2_5 = "2";
            else if (trait_2_5 === 2) trait_2_5 = "0";
            else trait_2_5 === "0";

            setAttrs({
            "trait_2_5" : trait_2_5
            });
        });
    });

    on('clicked:trait_3_1', function() {
        getAttrs(["trait_3_1"], function(values) {
        let trait_3_1 = parseInt(values["trait_3_1"]) || 0;
        
            if (trait_3_1 === 0) trait_3_1 = "1";
            else if (trait_3_1 === 1) trait_3_1 = "2";
            else if (trait_3_1 === 2) trait_3_1 = "0";
            else trait_3_1 === "0";

            setAttrs({
            "trait_3_1" : trait_3_1
            });
        });
    });

    on('clicked:trait_3_2', function() {
        getAttrs(["trait_3_2"], function(values) {
        let trait_3_2 = parseInt(values["trait_3_2"]) || 0;
        
            if (trait_3_2 === 0) trait_3_2 = "1";
            else if (trait_3_2 === 1) trait_3_2 = "2";
            else if (trait_3_2 === 2) trait_3_2 = "0";
            else trait_3_2 === "0";

            setAttrs({
            "trait_3_2" : trait_3_2
            });
        });
    });

    on('clicked:trait_3_3', function() {
        getAttrs(["trait_3_3"], function(values) {
        let trait_3_3 = parseInt(values["trait_3_3"]) || 0;
        
            if (trait_3_3 === 0) trait_3_3 = "1";
            else if (trait_3_3 === 1) trait_3_3 = "2";
            else if (trait_3_3 === 2) trait_3_3 = "0";
            else trait_3_3 === "0";

            setAttrs({
            "trait_3_3" : trait_3_3
            });
        });
    });

    on('clicked:trait_3_4', function() {
        getAttrs(["trait_3_4"], function(values) {
        let trait_3_4 = parseInt(values["trait_3_4"]) || 0;
        
            if (trait_3_4 === 0) trait_3_4 = "1";
            else if (trait_3_4 === 1) trait_3_4 = "2";
            else if (trait_3_4 === 2) trait_3_4 = "0";
            else trait_3_4 === "0";

            setAttrs({
            "trait_3_4" : trait_3_4
            });
        });
    });

    on('clicked:trait_3_5', function() {
        getAttrs(["trait_3_5"], function(values) {
        let trait_3_5 = parseInt(values["trait_3_5"]) || 0;
        
            if (trait_3_5 === 0) trait_3_5 = "1";
            else if (trait_3_5 === 1) trait_3_5 = "2";
            else if (trait_3_5 === 2) trait_3_5 = "0";
            else trait_3_5 === "0";

            setAttrs({
            "trait_3_5" : trait_3_5
            });
        });
    });

    on('clicked:trait_4_1', function() {
        getAttrs(["trait_4_1"], function(values) {
        let trait_4_1 = parseInt(values["trait_4_1"]) || 0;
        
            if (trait_4_1 === 0) trait_4_1 = "1";
            else if (trait_4_1 === 1) trait_4_1 = "2";
            else if (trait_4_1 === 2) trait_4_1 = "0";
            else trait_4_1 === "0";

            setAttrs({
            "trait_4_1" : trait_4_1
            });
        });
    });

    on('clicked:trait_4_2', function() {
        getAttrs(["trait_4_2"], function(values) {
        let trait_4_2 = parseInt(values["trait_4_2"]) || 0;
        
            if (trait_4_2 === 0) trait_4_2 = "1";
            else if (trait_4_2 === 1) trait_4_2 = "2";
            else if (trait_4_2 === 2) trait_4_2 = "0";
            else trait_4_2 === "0";

            setAttrs({
            "trait_4_2" : trait_4_2
            });
        });
    });

    on('clicked:trait_4_3', function() {
        getAttrs(["trait_4_3"], function(values) {
        let trait_4_3 = parseInt(values["trait_4_3"]) || 0;
        
            if (trait_4_3 === 0) trait_4_3 = "1";
            else if (trait_4_3 === 1) trait_4_3 = "2";
            else if (trait_4_3 === 2) trait_4_3 = "0";
            else trait_4_3 === "0";

            setAttrs({
            "trait_4_3" : trait_4_3
            });
        });
    });

    on('clicked:trait_4_4', function() {
        getAttrs(["trait_4_4"], function(values) {
        let trait_4_4 = parseInt(values["trait_4_4"]) || 0;
        
            if (trait_4_4 === 0) trait_4_4 = "1";
            else if (trait_4_4 === 1) trait_4_4 = "2";
            else if (trait_4_4 === 2) trait_4_4 = "0";
            else trait_4_4 === "0";

            setAttrs({
            "trait_4_4" : trait_4_4
            });
        });
    });

    on('clicked:trait_4_5', function() {
        getAttrs(["trait_4_5"], function(values) {
        let trait_4_5 = parseInt(values["trait_4_5"]) || 0;
        
            if (trait_4_5 === 0) trait_4_5 = "1";
            else if (trait_4_5 === 1) trait_4_5 = "2";
            else if (trait_4_5 === 2) trait_4_5 = "0";
            else trait_4_5 === "0";

            setAttrs({
            "trait_4_5" : trait_4_5
            });
        });
    });

    on('clicked:trait_5_1', function() {
        getAttrs(["trait_5_1"], function(values) {
        let trait_5_1 = parseInt(values["trait_5_1"]) || 0;
        
            if (trait_5_1 === 0) trait_5_1 = "1";
            else if (trait_5_1 === 1) trait_5_1 = "2";
            else if (trait_5_1 === 2) trait_5_1 = "0";
            else trait_5_1 === "0";

            setAttrs({
            "trait_5_1" : trait_5_1
            });
        });
    });

    on('clicked:trait_5_2', function() {
        getAttrs(["trait_5_2"], function(values) {
        let trait_5_2 = parseInt(values["trait_5_2"]) || 0;
        
            if (trait_5_2 === 0) trait_5_2 = "1";
            else if (trait_5_2 === 1) trait_5_2 = "2";
            else if (trait_5_2 === 2) trait_5_2 = "0";
            else trait_5_2 === "0";

            setAttrs({
            "trait_5_2" : trait_5_2
            });
        });
    });

    on('clicked:trait_5_3', function() {
        getAttrs(["trait_5_3"], function(values) {
        let trait_5_3 = parseInt(values["trait_5_3"]) || 0;
        
            if (trait_5_3 === 0) trait_5_3 = "1";
            else if (trait_5_3 === 1) trait_5_3 = "2";
            else if (trait_5_3 === 2) trait_5_3 = "0";
            else trait_5_3 === "0";

            setAttrs({
            "trait_5_3" : trait_5_3
            });
        });
    });

    on('clicked:trait_5_4', function() {
        getAttrs(["trait_5_4"], function(values) {
        let trait_5_4 = parseInt(values["trait_5_4"]) || 0;
        
            if (trait_5_4 === 0) trait_5_4 = "1";
            else if (trait_5_4 === 1) trait_5_4 = "2";
            else if (trait_5_4 === 2) trait_5_4 = "0";
            else trait_5_4 === "0";

            setAttrs({
            "trait_5_4" : trait_5_4
            });
        });
    });

    on('clicked:trait_5_5', function() {
        getAttrs(["trait_5_5"], function(values) {
        let trait_5_5 = parseInt(values["trait_5_5"]) || 0;
        
            if (trait_5_5 === 0) trait_5_5 = "1";
            else if (trait_5_5 === 1) trait_5_5 = "2";
            else if (trait_5_5 === 2) trait_5_5 = "0";
            else trait_5_5 === "0";

            setAttrs({
            "trait_5_5" : trait_5_5
            });
        });
    });

    on('clicked:trait_6_1', function() {
        getAttrs(["trait_6_1"], function(values) {
        let trait_6_1 = parseInt(values["trait_6_1"]) || 0;
        
            if (trait_6_1 === 0) trait_6_1 = "1";
            else if (trait_6_1 === 1) trait_6_1 = "2";
            else if (trait_6_1 === 2) trait_6_1 = "0";
            else trait_6_1 === "0";

            setAttrs({
            "trait_6_1" : trait_6_1
            });
        });
    });

    on('clicked:trait_6_2', function() {
        getAttrs(["trait_6_2"], function(values) {
        let trait_6_2 = parseInt(values["trait_6_2"]) || 0;
        
            if (trait_6_2 === 0) trait_6_2 = "1";
            else if (trait_6_2 === 1) trait_6_2 = "2";
            else if (trait_6_2 === 2) trait_6_2 = "0";
            else trait_6_2 === "0";

            setAttrs({
            "trait_6_2" : trait_6_2
            });
        });
    });

    on('clicked:trait_6_3', function() {
        getAttrs(["trait_6_3"], function(values) {
        let trait_6_3 = parseInt(values["trait_6_3"]) || 0;
        
            if (trait_6_3 === 0) trait_6_3 = "1";
            else if (trait_6_3 === 1) trait_6_3 = "2";
            else if (trait_6_3 === 2) trait_6_3 = "0";
            else trait_6_3 === "0";

            setAttrs({
            "trait_6_3" : trait_6_3
            });
        });
    });

    on('clicked:trait_6_4', function() {
        getAttrs(["trait_6_4"], function(values) {
        let trait_6_4 = parseInt(values["trait_6_4"]) || 0;
        
            if (trait_6_4 === 0) trait_6_4 = "1";
            else if (trait_6_4 === 1) trait_6_4 = "2";
            else if (trait_6_4 === 2) trait_6_4 = "0";
            else trait_6_4 === "0";

            setAttrs({
            "trait_6_4" : trait_6_4
            });
        });
    });

    on('clicked:trait_6_5', function() {
        getAttrs(["trait_6_5"], function(values) {
        let trait_6_5 = parseInt(values["trait_6_5"]) || 0;
        
            if (trait_6_5 === 0) trait_6_5 = "1";
            else if (trait_6_5 === 1) trait_6_5 = "2";
            else if (trait_6_5 === 2) trait_6_5 = "0";
            else trait_6_5 === "0";

            setAttrs({
            "trait_6_5" : trait_6_5
            });
        });
    });

    on('clicked:trait_7_1', function() {
        getAttrs(["trait_7_1"], function(values) {
        let trait_7_1 = parseInt(values["trait_7_1"]) || 0;
        
            if (trait_7_1 === 0) trait_7_1 = "1";
            else if (trait_7_1 === 1) trait_7_1 = "2";
            else if (trait_7_1 === 2) trait_7_1 = "0";
            else trait_7_1 === "0";

            setAttrs({
            "trait_7_1" : trait_7_1
            });
        });
    });

    on('clicked:trait_7_2', function() {
        getAttrs(["trait_7_2"], function(values) {
        let trait_7_2 = parseInt(values["trait_7_2"]) || 0;
        
            if (trait_7_2 === 0) trait_7_2 = "1";
            else if (trait_7_2 === 1) trait_7_2 = "2";
            else if (trait_7_2 === 2) trait_7_2 = "0";
            else trait_7_2 === "0";

            setAttrs({
            "trait_7_2" : trait_7_2
            });
        });
    });

    on('clicked:trait_7_3', function() {
        getAttrs(["trait_7_3"], function(values) {
        let trait_7_3 = parseInt(values["trait_7_3"]) || 0;
        
            if (trait_7_3 === 0) trait_7_3 = "1";
            else if (trait_7_3 === 1) trait_7_3 = "2";
            else if (trait_7_3 === 2) trait_7_3 = "0";
            else trait_7_3 === "0";

            setAttrs({
            "trait_7_3" : trait_7_3
            });
        });
    });

    on('clicked:trait_7_4', function() {
        getAttrs(["trait_7_4"], function(values) {
        let trait_7_4 = parseInt(values["trait_7_4"]) || 0;
        
            if (trait_7_4 === 0) trait_7_4 = "1";
            else if (trait_7_4 === 1) trait_7_4 = "2";
            else if (trait_7_4 === 2) trait_7_4 = "0";
            else trait_7_4 === "0";

            setAttrs({
            "trait_7_4" : trait_7_4
            });
        });
    });

    on('clicked:trait_7_5', function() {
        getAttrs(["trait_7_5"], function(values) {
        let trait_7_5 = parseInt(values["trait_7_5"]) || 0;
        
            if (trait_7_5 === 0) trait_7_5 = "1";
            else if (trait_7_5 === 1) trait_7_5 = "2";
            else if (trait_7_5 === 2) trait_7_5 = "0";
            else trait_7_5 === "0";

            setAttrs({
            "trait_7_5" : trait_7_5
            });
        });
    });

    on('clicked:trait_8_1', function() {
        getAttrs(["trait_8_1"], function(values) {
        let trait_8_1 = parseInt(values["trait_8_1"]) || 0;
        
            if (trait_8_1 === 0) trait_8_1 = "1";
            else if (trait_8_1 === 1) trait_8_1 = "2";
            else if (trait_8_1 === 2) trait_8_1 = "0";
            else trait_8_1 === "0";

            setAttrs({
            "trait_8_1" : trait_8_1
            });
        });
    });

    on('clicked:trait_8_2', function() {
        getAttrs(["trait_8_2"], function(values) {
        let trait_8_2 = parseInt(values["trait_8_2"]) || 0;
        
            if (trait_8_2 === 0) trait_8_2 = "1";
            else if (trait_8_2 === 1) trait_8_2 = "2";
            else if (trait_8_2 === 2) trait_8_2 = "0";
            else trait_8_2 === "0";

            setAttrs({
            "trait_8_2" : trait_8_2
            });
        });
    });

    on('clicked:trait_8_3', function() {
        getAttrs(["trait_8_3"], function(values) {
        let trait_8_3 = parseInt(values["trait_8_3"]) || 0;
        
            if (trait_8_3 === 0) trait_8_3 = "1";
            else if (trait_8_3 === 1) trait_8_3 = "2";
            else if (trait_8_3 === 2) trait_8_3 = "0";
            else trait_8_3 === "0";

            setAttrs({
            "trait_8_3" : trait_8_3
            });
        });
    });

    on('clicked:trait_8_4', function() {
        getAttrs(["trait_8_4"], function(values) {
        let trait_8_4 = parseInt(values["trait_8_4"]) || 0;
        
            if (trait_8_4 === 0) trait_8_4 = "1";
            else if (trait_8_4 === 1) trait_8_4 = "2";
            else if (trait_8_4 === 2) trait_8_4 = "0";
            else trait_8_4 === "0";

            setAttrs({
            "trait_8_4" : trait_8_4
            });
        });
    });

    on('clicked:trait_8_5', function() {
        getAttrs(["trait_8_5"], function(values) {
        let trait_8_5 = parseInt(values["trait_8_5"]) || 0;
        
            if (trait_8_5 === 0) trait_8_5 = "1";
            else if (trait_8_5 === 1) trait_8_5 = "2";
            else if (trait_8_5 === 2) trait_8_5 = "0";
            else trait_8_5 === "0";

            setAttrs({
            "trait_8_5" : trait_8_5
            });
        });
    });

    on('clicked:trait_9_1', function() {
        getAttrs(["trait_9_1"], function(values) {
        let trait_9_1 = parseInt(values["trait_9_1"]) || 0;
        
            if (trait_9_1 === 0) trait_9_1 = "1";
            else if (trait_9_1 === 1) trait_9_1 = "2";
            else if (trait_9_1 === 2) trait_9_1 = "0";
            else trait_9_1 === "0";

            setAttrs({
            "trait_9_1" : trait_9_1
            });
        });
    });

    on('clicked:trait_9_2', function() {
        getAttrs(["trait_9_2"], function(values) {
        let trait_9_2 = parseInt(values["trait_9_2"]) || 0;
        
            if (trait_9_2 === 0) trait_9_2 = "1";
            else if (trait_9_2 === 1) trait_9_2 = "2";
            else if (trait_9_2 === 2) trait_9_2 = "0";
            else trait_9_2 === "0";

            setAttrs({
            "trait_9_2" : trait_9_2
            });
        });
    });

    on('clicked:trait_9_3', function() {
        getAttrs(["trait_9_3"], function(values) {
        let trait_9_3 = parseInt(values["trait_9_3"]) || 0;
        
            if (trait_9_3 === 0) trait_9_3 = "1";
            else if (trait_9_3 === 1) trait_9_3 = "2";
            else if (trait_9_3 === 2) trait_9_3 = "0";
            else trait_9_3 === "0";

            setAttrs({
            "trait_9_3" : trait_9_3
            });
        });
    });

    on('clicked:trait_9_4', function() {
        getAttrs(["trait_9_4"], function(values) {
        let trait_9_4 = parseInt(values["trait_9_4"]) || 0;
        
            if (trait_9_4 === 0) trait_9_4 = "1";
            else if (trait_9_4 === 1) trait_9_4 = "2";
            else if (trait_9_4 === 2) trait_9_4 = "0";
            else trait_9_4 === "0";

            setAttrs({
            "trait_9_4" : trait_9_4
            });
        });
    });

    on('clicked:trait_9_5', function() {
        getAttrs(["trait_9_5"], function(values) {
        let trait_9_5 = parseInt(values["trait_9_5"]) || 0;
        
            if (trait_9_5 === 0) trait_9_5 = "1";
            else if (trait_9_5 === 1) trait_9_5 = "2";
            else if (trait_9_5 === 2) trait_9_5 = "0";
            else trait_9_5 === "0";

            setAttrs({
            "trait_9_5" : trait_9_5
            });
        });
    });

    on('clicked:trait_10_1', function() {
        getAttrs(["trait_10_1"], function(values) {
        let trait_10_1 = parseInt(values["trait_10_1"]) || 0;
        
            if (trait_10_1 === 0) trait_10_1 = "1";
            else if (trait_10_1 === 1) trait_10_1 = "2";
            else if (trait_10_1 === 2) trait_10_1 = "0";
            else trait_10_1 === "0";

            setAttrs({
            "trait_10_1" : trait_10_1
            });
        });
    });

    on('clicked:trait_10_2', function() {
        getAttrs(["trait_10_2"], function(values) {
        let trait_10_2 = parseInt(values["trait_10_2"]) || 0;
        
            if (trait_10_2 === 0) trait_10_2 = "1";
            else if (trait_10_2 === 1) trait_10_2 = "2";
            else if (trait_10_2 === 2) trait_10_2 = "0";
            else trait_10_2 === "0";

            setAttrs({
            "trait_10_2" : trait_10_2
            });
        });
    });

    on('clicked:trait_10_3', function() {
        getAttrs(["trait_10_3"], function(values) {
        let trait_10_3 = parseInt(values["trait_10_3"]) || 0;
        
            if (trait_10_3 === 0) trait_10_3 = "1";
            else if (trait_10_3 === 1) trait_10_3 = "2";
            else if (trait_10_3 === 2) trait_10_3 = "0";
            else trait_10_3 === "0";

            setAttrs({
            "trait_10_3" : trait_10_3
            });
        });
    });

    on('clicked:trait_10_4', function() {
        getAttrs(["trait_10_4"], function(values) {
        let trait_10_4 = parseInt(values["trait_10_4"]) || 0;
        
            if (trait_10_4 === 0) trait_10_4 = "1";
            else if (trait_10_4 === 1) trait_10_4 = "2";
            else if (trait_10_4 === 2) trait_10_4 = "0";
            else trait_10_4 === "0";

            setAttrs({
            "trait_10_4" : trait_10_4
            });
        });
    });

    on('clicked:trait_10_5', function() {
        getAttrs(["trait_10_5"], function(values) {
        let trait_10_5 = parseInt(values["trait_10_5"]) || 0;
        
            if (trait_10_5 === 0) trait_10_5 = "1";
            else if (trait_10_5 === 1) trait_10_5 = "2";
            else if (trait_10_5 === 2) trait_10_5 = "0";
            else trait_10_5 === "0";

            setAttrs({
            "trait_10_5" : trait_10_5
            });
        });
    });


 </script>

<!-- Stats ajustement valeur -->

<script type="text/worker">
    on("change:lucidite_max change:check_lucidite", function() {
        getAttrs(["lucidite", "lucidite_max", "check_lucidite"], function(values) {
             let lucidite = parseInt(values["lucidite"]) || 0;
             let check_lucidite = parseInt(values["check_lucidite"]) || 0;
             let lucidite_max = parseInt(values["lucidite_max"]) || 0;

                if (lucidite_max < lucidite ) lucidite = lucidite_max;
                else if (lucidite_max == 0 ) lucidite = lucidite;
                if (lucidite_max < check_lucidite - 1 ) check_lucidite = lucidite_max + 1;
                else if (lucidite_max == 0 ) check_lucidite = check_lucidite;
               
                
                setAttrs({
               
                "lucidite": lucidite,
                "check_lucidite": check_lucidite
            });
        });
    });

    on("change:sang_froid_max change:check_sang_froid", function() {
        getAttrs(["sang_froid", "sang_froid_max", "check_sang_froid"], function(values) {
             
             let sang_froid = parseInt(values["sang_froid"]) || 0;
             let check_sang_froid = parseInt(values["check_sang_froid"]) || 0;
             let sang_froid_max = parseInt(values["sang_froid_max"]) || 0;

                if (sang_froid_max < sang_froid ) sang_froid = sang_froid_max;
                else if (sang_froid_max == 0 ) sang_froid = sang_froid;
                if (sang_froid_max < check_sang_froid - 1 ) check_sang_froid = sang_froid_max + 1;
                else if (sang_froid_max == 0 ) check_sang_froid = check_sang_froid;

                if (check_sang_froid == 6 ) malus_sang_froid = "1";
                else if (check_sang_froid == 5) malus_sang_froid = "1";
                else if (check_sang_froid == 4) malus_sang_froid = "2";
                else if (check_sang_froid == 3) malus_sang_froid = "2";
                else if (check_sang_froid == 2) malus_sang_froid = "3";
                else if (check_sang_froid == 1) malus_sang_froid = "3";
                else malus_sang_froid = "0";
                
                
                setAttrs({
                
                "sang_froid": sang_froid,
                "check_sang_froid": check_sang_froid,
                "malus_sang_froid": malus_sang_froid
            });
        });
    });

    on("change:vitalite_max change:check_vitalite", function() {
        getAttrs(["vitalite", "vitalite_max", "check_vitalite"], function(values) {
             let vitalite = parseInt(values["vitalite"]) || 0;
             let check_vitalite = parseInt(values["check_vitalite"]) || 0;
             let vitalite_max = parseInt(values["vitalite_max"]) || 0;
             
                if (vitalite_max < vitalite ) vitalite = vitalite_max;
                else if (vitalite_max == 0 ) vitalite = vitalite;
                if (vitalite_max < check_vitalite - 1 ) check_vitalite = vitalite_max + 1;
                else if (vitalite_max == 0 ) check_vitalite = check_vitalite;

                if (check_vitalite == 6 ) malus_vitalite = "1";
                else if (check_vitalite == 5 ) malus_vitalite = "1";
                else if (check_vitalite == 4) malus_vitalite = "2";
                else if (check_vitalite == 3) malus_vitalite = "2";
                else if (check_vitalite == 2) malus_vitalite = "3";
                else if (check_vitalite == 1) malus_vitalite = "3";
                else malus_vitalite = "0";
                
                
                setAttrs({
                "vitalite": vitalite,
                "check_vitalite": check_vitalite,
                "malus_vitalite": malus_vitalite
            });
        });
    });
    </script>
    
<!-- --------------------------- -->
<!-- ------ SCRIPT ROLL -------- -->
<!-- --------------------------- -->

<!-- Roll 3D -->
<!-- Script de Roll action -->
<script type="text/worker">
    on('clicked:roll_action', (info) => {
        startRoll("@{gm}  &{template:patient13} {{title=@{matricule}}} {{action=oui}} {{bonus=[[0]]}} {{d1=[[D6]]}} {{d2=[[D6]]}} {{d3=[[D6]]}} {{mod=[[@{roll_mod}]]}} {{seuil=[[?{Seuil de réussite|4} -1]]}} {{rappel_seuil=[[?{Seuil de réussite|4}]]}}", (results) => {
                 
            let d1 = parseInt(results.results.d1.dice);
            let d2 = parseInt(results.results.d2.dice);
            let d3 = parseInt(results.results.d3.dice);
            let mod = parseInt(results.results.mod.result);
            let computed_d1 = 0;
            let computed_d2 = 0;
            let computed_d3 = 0;
        
                if (d2 <= d1 && d1 <= d3) computed_d1 = d1 + mod, computed_d2 = d2, computed_d3 = d3;
                else if (d3 <= d1 && d1 <= d2) computed_d1 = d1 + mod, computed_d2 = d2, computed_d3 = d3;
                else if (d1 <= d2 && d2 <= d3) computed_d2 = d2 + mod, computed_d1 = d1, computed_d3 = d3;
                else if (d3 <= d2 && d2 <= d1) computed_d2 = d2 + mod, computed_d1 = d1, computed_d3 = d3;
                else if (d1 <= d3 && d3 <= d2) computed_d3 = d3 + mod, computed_d1 = d1, computed_d2 = d2;
                else if (d2 <= d3 && d3 <= d1) computed_d3 = d3 + mod, computed_d1 = d1, computed_d2 = d2;
    
                finishRoll(
                    results.rollId,
                    {
                        d1: computed_d1,
                        d2: computed_d2,
                        d3: computed_d3
                    }
                    );
                });
            });

    on('clicked:roll_action', (info) => {
        getAttrs(["insecte"], function(values) {
            let insecte = parseInt(values["insecte"]) || 0;
            
            if (insecte < 21) insecte_new = insecte + 1;
            else if (insecte == 21) insecte_new = 1;
            else insecte = "1";

            setAttrs({
            "insecte" : insecte_new
            });
        });
    });
</script>
<!-- Script de Roll combat -->
<script type="text/worker">
    on('clicked:roll_combat', (info) => {
        startRoll("@{gm}  &{template:patient13} {{title=@{matricule}}} {{combat=oui}} {{bonus=[[0]]}} {{d1=[[D6]]}} {{d2=[[D6]]}} {{d3=[[D6]]}} {{mod=[[@{roll_mod}]]}} {{malus=[[@{malus_vitalite}]]}} {{seuil=[[?{Seuil de réussite|4} -1]]}} {{rappel_seuil=[[?{Seuil de réussite|4}]]}}", (results) => {
                 
            let d1 = parseInt(results.results.d1.dice);
            let d2 = parseInt(results.results.d2.dice);
            let d3 = parseInt(results.results.d3.dice);
            let mod = parseInt(results.results.mod.result);
            let malus = parseInt(results.results.malus.result);
            let computed_d1 = 0;
            let computed_d2 = 0;
            let computed_d3 = 0;
        
                if (d2 <= d1 && d1 <= d3) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d3 <= d1 && d1 <= d2) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d1 <= d2 && d2 <= d3) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d3 <= d2 && d2 <= d1) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d1 <= d3 && d3 <= d2) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
                else if (d2 <= d3 && d3 <= d1) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
    
                finishRoll(
                    results.rollId,
                    {
                        d1: computed_d1,
                        d2: computed_d2,
                        d3: computed_d3
                    }
                    );
                });
            });

            on('clicked:roll_combat', (info) => {
                getAttrs(["insecte"], function(values) {
                    let insecte = parseInt(values["insecte"]) || 0;
                    
                    if (insecte < 21) insecte_new = insecte + 1;
                    else if (insecte == 21) insecte_new = 1;
                    else insecte = "1";
        
                    setAttrs({
                    "insecte" : insecte_new
                    });
                });
            });
</script>
<!-- Script de Roll mental -->
<script type="text/worker">
    on('clicked:roll_mental', (info) => {
        startRoll("@{gm}  &{template:patient13} {{title=@{matricule}}} {{mental=oui}} {{bonus=[[0]]}} {{d1=[[D6]]}} {{d2=[[D6]]}} {{d3=[[D6]]}} {{mod=[[@{roll_mod}]]}} {{malus=[[@{malus_sang_froid}]]}} {{seuil=[[?{Seuil de réussite|4} -1]]}} {{rappel_seuil=[[?{Seuil de réussite|4}]]}}", (results) => {
                 
            let d1 = parseInt(results.results.d1.dice);
            let d2 = parseInt(results.results.d2.dice);
            let d3 = parseInt(results.results.d3.dice);
            let mod = parseInt(results.results.mod.result);
            let malus = parseInt(results.results.malus.result);
            let computed_d1 = 0;
            let computed_d2 = 0;
            let computed_d3 = 0;
        
                if (d2 <= d1 && d1 <= d3) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d3 <= d1 && d1 <= d2) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d1 <= d2 && d2 <= d3) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d3 <= d2 && d2 <= d1) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d1 <= d3 && d3 <= d2) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
                else if (d2 <= d3 && d3 <= d1) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
    
                finishRoll(
                    results.rollId,
                    {
                        d1: computed_d1,
                        d2: computed_d2,
                        d3: computed_d3
                    }
                    );
                });
            });

            on('clicked:roll_mental', (info) => {
                getAttrs(["insecte"], function(values) {
                    let insecte = parseInt(values["insecte"]) || 0;
                    
                    if (insecte < 21) insecte_new = insecte + 1;
                    else if (insecte == 21) insecte_new = 1;
                    else insecte = "1";
        
                    setAttrs({
                    "insecte" : insecte_new
                    });
                });
            });
</script>



<!-- Roll 4D -->
<!-- Script de Roll 4d action -->
<script type="text/worker">
    on('clicked:roll_action_4d', (info) => {
        startRoll("@{gm}  &{template:patient13} {{title=@{matricule}}} {{action=oui}} {{bonus=[[1]]}} {{d1=[[D6]]}} {{d2=[[D6]]}} {{d3=[[D6]]}} {{d4=[[D6]]}} {{mod=[[@{roll_mod}]]}} {{seuil=[[?{Seuil de réussite|4} -1]]}} {{rappel_seuil=[[?{Seuil de réussite|4}]]}}", (results) => {
                 
            let d1 = parseInt(results.results.d1.dice);
            let d2 = parseInt(results.results.d2.dice);
            let d3 = parseInt(results.results.d3.dice);
            let d4 = parseInt(results.results.d4.dice);
            let mod = parseInt(results.results.mod.result);
            let computed_d1 = 0;
            let computed_d2 = 0;
            let computed_d3 = 0;

                if (d1 <= d2 && d1 <= d3 && d1 <= d4) d1 = d4;
                else if (d2 <= d1 && d2 <= d3 && d2 <= d4) d2 = d4;
                else if (d3 <= d1 && d3 <= d2 && d3 <= d4) d2 = d4;
        
                if (d2 <= d1 && d1 <= d3) computed_d1 = d1 + mod, computed_d2 = d2, computed_d3 = d3;
                else if (d3 <= d1 && d1 <= d2) computed_d1 = d1 + mod, computed_d2 = d2, computed_d3 = d3;
                else if (d1 <= d2 && d2 <= d3) computed_d2 = d2 + mod, computed_d1 = d1, computed_d3 = d3;
                else if (d3 <= d2 && d2 <= d1) computed_d2 = d2 + mod, computed_d1 = d1, computed_d3 = d3;
                else if (d1 <= d3 && d3 <= d2) computed_d3 = d3 + mod, computed_d1 = d1, computed_d2 = d2;
                else if (d2 <= d3 && d3 <= d1) computed_d3 = d3 + mod, computed_d1 = d1, computed_d2 = d2;
    
                finishRoll(
                    results.rollId,
                    {
                        d1: computed_d1,
                        d2: computed_d2,
                        d3: computed_d3
                    }
                    );
                });
            });

    on('clicked:roll_action_4d', (info) => {
        getAttrs(["insecte"], function(values) {
            let insecte = parseInt(values["insecte"]) || 0;
            
            if (insecte < 21) insecte_new = insecte + 1;
            else if (insecte == 21) insecte_new = 1;
            else insecte = "1";

            setAttrs({
            "insecte" : insecte_new
            });
        });
    });
</script>
<!-- Script de Roll 4d combat -->
<script type="text/worker">
    on('clicked:roll_combat_4d', (info) => {
        startRoll("@{gm}  &{template:patient13} {{title=@{matricule}}} {{combat=oui}} {{bonus=[[1]]}} {{d1=[[D6]]}} {{d2=[[D6]]}} {{d3=[[D6]]}} {{d4=[[D6]]}} {{mod=[[@{roll_mod}]]}} {{malus=[[@{malus_vitalite}]]}} {{seuil=[[?{Seuil de réussite|4} -1]]}} {{rappel_seuil=[[?{Seuil de réussite|4}]]}}", (results) => {
                 
            let d1 = parseInt(results.results.d1.dice);
            let d2 = parseInt(results.results.d2.dice);
            let d3 = parseInt(results.results.d3.dice);
            let d4 = parseInt(results.results.d4.dice);
            let mod = parseInt(results.results.mod.result);
            let malus = parseInt(results.results.malus.result);
            let computed_d1 = 0;
            let computed_d2 = 0;
            let computed_d3 = 0;

                if (d1 <= d2 && d1 <= d3 && d1 <= d4) d1 = d4;
                else if (d2 <= d1 && d2 <= d3 && d2 <= d4) d2 = d4;
                else if (d3 <= d1 && d3 <= d2 && d3 <= d4) d2 = d4;
        
                if (d2 <= d1 && d1 <= d3) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d3 <= d1 && d1 <= d2) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d1 <= d2 && d2 <= d3) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d3 <= d2 && d2 <= d1) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d1 <= d3 && d3 <= d2) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
                else if (d2 <= d3 && d3 <= d1) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
    
                finishRoll(
                    results.rollId,
                    {
                        d1: computed_d1,
                        d2: computed_d2,
                        d3: computed_d3
                    }
                    );
                });
            });

    on('clicked:roll_combat_4d', (info) => {
        getAttrs(["insecte"], function(values) {
            let insecte = parseInt(values["insecte"]) || 0;
            
            if (insecte < 21) insecte_new = insecte + 1;
            else if (insecte == 21) insecte_new = 1;
            else insecte = "1";

            setAttrs({
            "insecte" : insecte_new
            });
        });
    });
</script>
<!-- Script de Roll 4d mental -->
<script type="text/worker">
    on('clicked:roll_mental_4d', (info) => {
        startRoll("@{gm}  &{template:patient13} {{title=@{matricule}}} {{mental=oui}} {{bonus=[[1]]}} {{d1=[[D6]]}} {{d2=[[D6]]}} {{d3=[[D6]]}} {{d4=[[D6]]}} {{mod=[[@{roll_mod}]]}} {{malus=[[@{malus_sang_froid}]]}} {{seuil=[[?{Seuil de réussite|4} -1]]}} {{rappel_seuil=[[?{Seuil de réussite|4}]]}}", (results) => {
                 
            let d1 = parseInt(results.results.d1.dice);
            let d2 = parseInt(results.results.d2.dice);
            let d3 = parseInt(results.results.d3.dice);
            let d4 = parseInt(results.results.d4.dice);
            let mod = parseInt(results.results.mod.result);
            let malus = parseInt(results.results.malus.result);
            let computed_d1 = 0;
            let computed_d2 = 0;
            let computed_d3 = 0;

                if (d1 <= d2 && d1 <= d3 && d1 <= d4) d1 = d4;
                else if (d2 <= d1 && d2 <= d3 && d2 <= d4) d2 = d4;
                else if (d3 <= d1 && d3 <= d2 && d3 <= d4) d2 = d4;
        
                if (d2 <= d1 && d1 <= d3) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d3 <= d1 && d1 <= d2) computed_d1 = d1 + mod - malus, computed_d2 = d2, computed_d3 = d3;
                else if (d1 <= d2 && d2 <= d3) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d3 <= d2 && d2 <= d1) computed_d2 = d2 + mod - malus, computed_d1 = d1, computed_d3 = d3;
                else if (d1 <= d3 && d3 <= d2) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
                else if (d2 <= d3 && d3 <= d1) computed_d3 = d3 + mod - malus, computed_d1 = d1, computed_d2 = d2;
    
                finishRoll(
                    results.rollId,
                    {
                        d1: computed_d1,
                        d2: computed_d2,
                        d3: computed_d3
                    }
                    );
                });
            });

    on('clicked:roll_mental_4d', (info) => {
        getAttrs(["insecte"], function(values) {
            let insecte = parseInt(values["insecte"]) || 0;
            
            if (insecte < 21) insecte_new = insecte + 1;
            else if (insecte == 21) insecte_new = 1;
            else insecte = "1";

            setAttrs({
            "insecte" : insecte_new
            });
        });
    });
</script>


<!-- --------------------------- -->
<!-- ----- ROLL TEMPLATE ------- -->
<!-- --------------------------- -->

<rolltemplate class="sheet-rolltemplate-patient13">
<div class="ecart"></div>
<span class="shadow_roll">
    <div class="sheet-container">
        <div class="sheet-content">
            <div class="sheet-patient-titre">patient</div>
            <div class="sheet-patient-valeur">{{title}}</div>
        {{#rollTotal() bonus 0}}
            {{#action}}
                {{#rollTotal() seuil 0}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 1">résultats</div>
                {{/rollTotal() seuil 0}}
                {{#rollTotal() seuil 1}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 2">résultats</div>
                {{/rollTotal() seuil 1}}
                {{#rollTotal() seuil 2}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 3">résultats</div>
                {{/rollTotal() seuil 2}}
                {{#rollTotal() seuil 3}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 4">résultats</div>
                {{/rollTotal() seuil 3}}
                {{#rollTotal() seuil 4}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 5">résultats</div>
                {{/rollTotal() seuil 4}}
                {{#rollTotal() seuil 5}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 6">résultats</div>
                {{/rollTotal() seuil 5}}
            {{/action}}
            {{#combat}}
                {{#rollTotal() seuil 0}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 1">résultats</div>
                {{/rollTotal() seuil 0}}
                {{#rollTotal() seuil 1}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 2">résultats</div>
                {{/rollTotal() seuil 1}}
                {{#rollTotal() seuil 2}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 3">résultats</div>
                {{/rollTotal() seuil 2}}
                {{#rollTotal() seuil 3}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 4">résultats</div>
                {{/rollTotal() seuil 3}}
                {{#rollTotal() seuil 4}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 5">résultats</div>
                {{/rollTotal() seuil 4}}
                {{#rollTotal() seuil 5}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 6">résultats</div>
                {{/rollTotal() seuil 5}}
            {{/combat}}
            {{#mental}}
                {{#rollTotal() seuil 0}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite: 1">résultats</div>
                {{/rollTotal() seuil 0}}
                {{#rollTotal() seuil 1}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite: 2">résultats</div>
                {{/rollTotal() seuil 1}}
                {{#rollTotal() seuil 2}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 3">résultats</div>
                {{/rollTotal() seuil 2}}
                {{#rollTotal() seuil 3}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 4">résultats</div>
                {{/rollTotal() seuil 3}}
                {{#rollTotal() seuil 4}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 5">résultats</div>
                {{/rollTotal() seuil 4}}
                {{#rollTotal() seuil 5}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 6">résultats</div>
                {{/rollTotal() seuil 5}}
            {{/mental}}
        {{/rollTotal() bonus 0}}
        {{#rollTotal() bonus 1}}
            {{#action}}
                {{#rollTotal() seuil 0}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 1
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 0}}
                {{#rollTotal() seuil 1}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 2
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 1}}
                {{#rollTotal() seuil 2}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 3
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 2}}
                {{#rollTotal() seuil 3}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 4
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 3}}
                {{#rollTotal() seuil 4}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 5
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 4}}
                {{#rollTotal() seuil 5}}
                <div class="sheet-posologie" title="Jet d'action
Seuil de réussite: 6
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 5}}
            {{/action}}
            {{#combat}}
                {{#rollTotal() seuil 0}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 1
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 0}}
                {{#rollTotal() seuil 1}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 2
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 1}}
                {{#rollTotal() seuil 2}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 3
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 2}}
                {{#rollTotal() seuil 3}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 4
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 3}}
                {{#rollTotal() seuil 4}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 5
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 4}}
                {{#rollTotal() seuil 5}}
                <div class="sheet-posologie" title="Jet de combat
Seuil de réussite: 6
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 5}}
            {{/combat}}
            {{#mental}}
                {{#rollTotal() seuil 0}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite: 1
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 0}}
                {{#rollTotal() seuil 1}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite: 2
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 1}}
                {{#rollTotal() seuil 2}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 3
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 2}}
                {{#rollTotal() seuil 3}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 4
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 3}}
                {{#rollTotal() seuil 4}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 5
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 4}}
                {{#rollTotal() seuil 5}}
                <div class="sheet-posologie" title="Jet de psychologie
Seuil de réussite : 6
Avec dé bonus">résultats</div>
                {{/rollTotal() seuil 5}}
            {{/mental}}
        {{/rollTotal() bonus 1}}

            {{#rollGreater() computed::d1 seuil}}
                <div class="sheet-value-1-reussite">{{computed::d1}}</div>
            {{/rollGreater() computed::d1 seuil}}
             {{#^rollGreater() computed::d1 seuil}}
                <div class="sheet-value-1-echec">{{computed::d1}}</div>
            {{/^rollGreater() computed::d1 seuil}}

            {{#rollGreater() computed::d2 seuil}}
                <div class="sheet-value-2-reussite">{{computed::d2}}</div>
            {{/rollGreater() computed::d2 seuil}}
             {{#^rollGreater() computed::d2 seuil}}
                <div class="sheet-value-2-echec">{{computed::d2}}</div>
            {{/^rollGreater() computed::d2 seuil}}

            {{#rollGreater() computed::d3 seuil}}
                <div class="sheet-value-3-reussite">{{computed::d3}}</div>
            {{/rollGreater() computed::d3 seuil}}
             {{#^rollGreater() computed::d3 seuil}}
                <div class="sheet-value-3-echec">{{computed::d3}}</div>
            {{/^rollGreater() computed::d3 seuil}}
        <!-- Jet sans bonus -->
        {{#rollTotal() bonus 0}}
            <!-- Echec classique -->
                {{#rollGreater() computed::d1 seuil}}
                    {{#^rollGreater() computed::d2 seuil}}
                        {{#^rollGreater() computed::d3 seuil}}
                        <div class="sheet-desc-echec1">échec du test</div>
                        {{/^rollGreater() computed::d3 seuil}}
                    {{/^rollGreater() computed::d2 seuil}}
                {{/rollGreater() computed::d1 seuil}}

                {{#rollGreater() computed::d3 seuil}}
                    {{#^rollGreater() computed::d1 seuil}}
                        {{#^rollGreater() computed::d2 seuil}}
                        <div class="sheet-desc-echec1">échec du test</div>
                        {{/^rollGreater() computed::d2 seuil}}
                    {{/^rollGreater() computed::d1 seuil}}
                {{/rollGreater() computed::d3 seuil}}

                {{#rollGreater() computed::d2 seuil}}
                    {{#^rollGreater() computed::d1 seuil}}
                        {{#^rollGreater() computed::d3 seuil}}
                        <div class="sheet-desc-echec1">échec du test</div>
                        {{/^rollGreater() computed::d3 seuil}}
                    {{/^rollGreater() computed::d1 seuil}}
                {{/rollGreater() computed::d2 seuil}}

            <!-- Echec 3d -->
                {{#^rollGreater() computed::d1 seuil}}
                    {{#^rollGreater() computed::d2 seuil}}
                        {{#^rollGreater() computed::d3 seuil}}
                            {{#^rollTotal() computed::d1 computed::d2}}
                                {{#rollGreater() computed::d1 computed::d2}}
                                    {{#rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                    <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                    {{/rollGreater() computed::d1 computed::d3}}
                                    {{#^rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-echec2-1"<div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                    <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                    {{/^rollGreater() computed::d1 computed::d3}}
                                {{/rollGreater() computed::d1 computed::d2}}

                                {{#^rollGreater() computed::d1 computed::d2}}
                                    {{#rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-echec2-1"<div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                    <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                    {{/rollGreater() computed::d1 computed::d3}}
                                    {{#^rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-echec2-1"<div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                    <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                    {{/^rollGreater() computed::d1 computed::d3}}
                                {{/^rollGreater() computed::d1 computed::d2}}
                            {{/^rollTotal() computed::d1 computed::d2}}

                            {{#rollTotal() computed::d1 computed::d2}}
                                {{#^rollTotal() computed::d1 computed::d3}}
                                    {{#rollGreater() computed::d1 computed::d2}}
                                        {{#rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-echec2-1"<div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                        <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                        {{/rollGreater() computed::d1 computed::d3}}
                                        {{#^rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-echec2-1"<div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                        <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                        {{/^rollGreater() computed::d1 computed::d3}}
                                    {{/rollGreater() computed::d1 computed::d2}}

                                    {{#^rollGreater() computed::d1 computed::d2}}
                                        {{#rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-echec2-1"<div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                        <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                        {{/rollGreater() computed::d1 computed::d3}}
                                        {{#^rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-echec2-1"<div class="sheet-desc-echec2-1" title="L’action est particulièrement ratée. 
Vous ne faites pas simplement qu’échouer,
vous perdez du temps, vous trompez totalement, etc.
Notez un - à côté du Trait impliqué dans l’action.">échec majeur</div>
                                        <div class="sheet-desc-echec2-2">(notez un - au Trait)</div>
                                        {{/^rollGreater() computed::d1 computed::d3}}
                                    {{/^rollGreater() computed::d1 computed::d2}}
                                 {{/^rollTotal() computed::d1 computed::d3}}
                            {{/rollTotal() computed::d1 computed::d2}}


                        {{/^rollGreater() computed::d3 seuil}}
                    {{/^rollGreater() computed::d2 seuil}}
                {{/^rollGreater() computed::d1 seuil}}

            <!-- Echec triple -->
                {{#^rollGreater() computed::d1 seuil}}
                    {{#^rollGreater() computed::d2 seuil}}
                        {{#^rollGreater() computed::d3 seuil}}
                            {{#rollTotal() computed::d1 computed::d2}}
                                {{#rollTotal() computed::d2 computed::d3}}
                                <div class="sheet-desc-echec3-1" title="L’action est un fiasco total, une vraie catastrophe,
un pitoyable échec  !
Notez trois - à côté du Trait impliqué dans l’action.">catastrophe !!!</div>
                                <div class="sheet-desc-echec3-2">(notez trois - au Trait)</div>
                                {{/rollTotal() computed::d2 computed::d3}}
                            {{/rollTotal() computed::d1 computed::d2}}  
                        {{/^rollGreater() computed::d3 seuil}}
                    {{/^rollGreater() computed::d2 seuil}}
                {{/^rollGreater() computed::d1 seuil}}

            <!-- Resussite classique -->
                {{#rollGreater() computed::d1 seuil}}
                    {{#rollGreater() computed::d2 seuil}}
                        {{#^rollGreater() computed::d3 seuil}}
                        <div class="sheet-desc-reussite1">réussite du test</div>
                        {{/^rollGreater() computed::d3 seuil}}
                    {{/rollGreater() computed::d2 seuil}}
                {{/rollGreater() computed::d1 seuil}}

                {{#rollGreater() computed::d3 seuil}}
                    {{#rollGreater() computed::d1 seuil}}
                        {{#^rollGreater() computed::d2 seuil}}
                        <div class="sheet-desc-reussite1">réussite du test</div>
                        {{/^rollGreater() computed::d2 seuil}}
                    {{/rollGreater() computed::d1 seuil}}
                {{/rollGreater() computed::d3 seuil}}

                {{#rollGreater() computed::d3 seuil}}
                    {{#rollGreater() computed::d2 seuil}}
                        {{#^rollGreater() computed::d1 seuil}}
                        <div class="sheet-desc-reussite1">réussite du test</div>
                        {{/^rollGreater() computed::d1 seuil}}
                    {{/rollGreater() computed::d2 seuil}}
                {{/rollGreater() computed::d3 seuil}}

            <!-- Reussite 3d -->
                {{#rollGreater() computed::d1 seuil}}
                    {{#rollGreater() computed::d2 seuil}}
                        {{#rollGreater() computed::d3 seuil}}
                            {{#^rollTotal() computed::d1 computed::d2}}
                                {{#rollGreater() computed::d1 computed::d2}}
                                    {{#rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-reussite2-1" title="Vous accomplissez votre action plus facilement
ou plus rapidement, mais dans tout les cas,
mieux que prévu. 
Notez un + à côté du Trait impliqué dans l’action.">réussite majeur</div>
                                    <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                    {{/rollGreater() computed::d1 computed::d3}}
                                    {{#^rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-reussite2-1" title="Vous accomplissez votre action plus facilement
ou plus rapidement, mais dans tout les cas,
mieux que prévu. 
Notez un + à côté du Trait impliqué dans l’action.">réussite majeur</div>
                                    <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                    {{/^rollGreater() computed::d1 computed::d3}}
                                {{/rollGreater() computed::d1 computed::d2}}

                                {{#^rollGreater() computed::d1 computed::d2}}
                                    {{#rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-reussite2-1" title="Vous accomplissez votre action plus facilement
ou plus rapidement, mais dans tout les cas,
mieux que prévu. 
Notez un + à côté du Trait impliqué dans l’action.">réussite majeur</div>
                                    <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                    {{/rollGreater() computed::d1 computed::d3}}
                                    {{#^rollGreater() computed::d1 computed::d3}}
                                    <div class="sheet-desc-reussite2-1">réussite majeur</div>
                                    <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                    {{/^rollGreater() computed::d1 computed::d3}}
                                {{/^rollGreater() computed::d1 computed::d2}}
                            {{/^rollTotal() computed::d1 computed::d2}}  
                            
                            {{#rollTotal() computed::d1 computed::d2}}
                                {{#^rollTotal() computed::d1 computed::d3}}
                                    {{#rollGreater() computed::d1 computed::d2}}
                                        {{#rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-reussite2-1" title="Vous accomplissez votre action plus facilement
ou plus rapidement, mais dans tout les cas,
mieux que prévu. 
Notez un + à côté du Trait impliqué dans l’action.">réussite majeur</div>
                                        <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                        {{/rollGreater() computed::d1 computed::d3}}
                                        {{#^rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-reussite2-1" title="Vous accomplissez votre action plus facilement
ou plus rapidement, mais dans tout les cas,
mieux que prévu. 
Notez un + à côté du Trait impliqué dans l’action.">réussite majeur</div>
                                        <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                        {{/^rollGreater() computed::d1 computed::d3}}
                                    {{/rollGreater() computed::d1 computed::d2}}

                                    {{#^rollGreater() computed::d1 computed::d2}}
                                        {{#rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-reussite2-1" title="Vous accomplissez votre action plus facilement
ou plus rapidement, mais dans tout les cas,
mieux que prévu. 
Notez un + à côté du Trait impliqué dans l’action.">réussite majeur</div>
                                        <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                        {{/rollGreater() computed::d1 computed::d3}}
                                        {{#^rollGreater() computed::d1 computed::d3}}
                                        <div class="sheet-desc-reussite2-1" title="Vous accomplissez votre action plus facilement
ou plus rapidement, mais dans tout les cas,
mieux que prévu. 
Notez un + à côté du Trait impliqué dans l’action.">réussite majeur</div>
                                        <div class="sheet-desc-reussite2-2">(notez un + au Trait)</div>
                                        {{/^rollGreater() computed::d1 computed::d3}}
                                    {{/^rollGreater() computed::d1 computed::d2}}
                                {{/^rollTotal() computed::d1 computed::d3}}
                            {{/rollTotal() computed::d1 computed::d2}}  


                        {{/rollGreater() computed::d3 seuil}}
                    {{/rollGreater() computed::d2 seuil}}
                {{/rollGreater() computed::d1 seuil}}

            <!-- Reussite triple -->
                {{#rollGreater() computed::d1 seuil}}
                    {{#rollGreater() computed::d2 seuil}}
                        {{#rollGreater() computed::d3 seuil}}
                            {{#rollTotal() computed::d1 computed::d2}}
                                {{#rollTotal() computed::d2 computed::d3}}
                                <div class="sheet-desc-reussite3-1"title="L’action est une réussite exceptionnelle, 
quasiment miraculeuse ! 
Notez trois + à côté du Trait impliqué dans l’action.">réussite exceptionnelle !!!</div>
                                <div class="sheet-desc-reussite3-2">(notez trois + au Trait)</div>
                                {{/rollTotal() computed::d2 computed::d3}}
                            {{/rollTotal() computed::d1 computed::d2}}  
                        {{/rollGreater() computed::d3 seuil}}
                    {{/rollGreater() computed::d2 seuil}}
                {{/rollGreater() computed::d1 seuil}}
        {{/rollTotal() bonus 0}}

        <!-- Jet avec bonus -->
        {{#rollTotal() bonus 1}}
                <!-- Echec -->
                {{#^rollGreater() computed::d2 seuil}}
                    {{#^rollGreater() computed::d3 seuil}}
                        <div class="sheet-desc-echec1">échec du test</div>
                    {{/^rollGreater() computed::d3 seuil}}
                {{/^rollGreater() computed::d2 seuil}}

                {{#^rollGreater() computed::d1 seuil}}
                    {{#^rollGreater() computed::d2 seuil}}
                        <div class="sheet-desc-echec1">échec du test</div>
                    {{/^rollGreater() computed::d2 seuil}}
                {{/^rollGreater() computed::d1 seuil}}

                {{#^rollGreater() computed::d1 seuil}}
                    {{#^rollGreater() computed::d3 seuil}}
                        <div class="sheet-desc-echec1">échec du test</div>
                    {{/^rollGreater() computed::d3 seuil}}
                {{/^rollGreater() computed::d1 seuil}}

                <!-- Resussite -->
                {{#rollGreater() computed::d1 seuil}}
                    {{#rollGreater() computed::d2 seuil}}
                        <div class="sheet-desc-reussite1">réussite du test</div>
                    {{/rollGreater() computed::d2 seuil}}
                {{/rollGreater() computed::d1 seuil}}

                {{#rollGreater() computed::d3 seuil}}
                    {{#rollGreater() computed::d1 seuil}}
                        <div class="sheet-desc-reussite1">réussite du test</div>
                    {{/rollGreater() computed::d1 seuil}}
                {{/rollGreater() computed::d3 seuil}}

                {{#rollGreater() computed::d3 seuil}}
                    {{#rollGreater() computed::d2 seuil}}
                        <div class="sheet-desc-reussite1">réussite du test</div>
                    {{/rollGreater() computed::d2 seuil}}
                {{/rollGreater() computed::d3 seuil}}
        {{/rollTotal() bonus 1}}
            
        </div>
    </div>
</span>
</rolltemplate>
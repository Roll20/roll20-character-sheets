<input class="selector-switch npc" name="attr_npcswitch" type="checkbox" value="1">
<input class="selector-switch vamp" name="attr_vampswitch" type="checkbox" value="1">

<input class="selector-switch toc" name="attr_sheetswitch" type="radio" value="toc" checked="true">
<input class="selector-switch nba" name="attr_sheetswitch" type="radio" value="nba">

<div class="master-container">

<input class="main-options options-flag" type="checkbox" name="attr_sheet-options-flag"><span>y</span>

<div class="main-settings container">
	<div class="content">
		<div class="input-row top-row">
			<label data-i18n="system:-o">System: </label>
			<select name="attr_sheetswitch">
				<option data-i18n="trail-of-cthulhu-o" value="toc" selected="true">Trail of Cthulhu</option>
				<option data-i18n="nights-black-agents-o" value="nba">Night's Black Agents</option>
			</select>
			<label data-i18n="npc:-o">NPC: </label>
			<input name="attr_npcswitch" type="checkbox" value="1">
			<label data-i18n="vampire:-o" class="toc-hide pc-hide">Vampire: </label>
			<input class="toc-hide pc-hide" name="attr_vampswitch" type="checkbox" value="1">
		</div>
	</div>
	<div class="content npc-hide">
		<div class="input-row">
			<label data-i18n="inv-build-points">Investigative Build Points: </label>
			<input name="attr_inv_points_max" type="number" value="16">
			<label data-i18n="gen-build-points">General Build Points: </label>
			<input name="attr_gen_points_max" type="number" value="65">
		</div>
	</div>
	<div class="content starting-abilities npc-hide">
		<h4 data-i18n="ability-starting-o">Ability Starting Values</h4>
		<div class="input-row">
			<label data-i18n="health:-o">Health: </label>
			<input name="attr_health_default" type="number" value="4">
			<label data-i18n="stability:-o">Stability: </label>
			<input name="attr_stability_default" type="number" value="1">
			<label data-i18n="sanity:-o" class="nba-hide">Sanity: </label>
			<input class="nba-hide" name="attr_sanity_default" type="number" value="4">
			<label data-i18n="cover:-o" class="toc-hide">Cover: </label>
			<input class="toc-hide" name="attr_cover_default" type="number" value="10">
			<label data-i18n="network:-o" class="toc-hide">Network: </label>
			<input class="toc-hide" name="attr_network_default" type="number" value="15">
		</div>
	</div>
	<div class="input-row toc-hide npc-hide">
		<label data-i18n="cherry-branch-height:-o">Cherry Branch Height: </label>
		<input name="attr_cherry-branch-height" type="number" value="8">
	</div>
</div>

<div class="main-container container" style="float: left">
	<div class="toc-col header npc-full">
		<img class="nba-hide" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Gumshoe%20by%20Roll20/images/toc/toc-logo.png" />
		<img class="toc-hide" src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Gumshoe%20by%20Roll20/images/nba/nba-title.png" />
	</div>
	<!-- NPC Info -->
	<div class="col section npc-full pc-hide">
		<div class="content">
			<div class="input-row name">
				<label data-i18n="name:-n">Name:</label>
				<input type="text" name="attr_character_name">
			</div>
			<div class="input-row npc-mods">
				<div>
					<label data-i18n="alertness:-n">Alertness:</label>
					<input type="number" name="attr_npc-alertness-mod">
				</div>
				<div>
					<label  data-i18n="stealth:-n">Stealth:</label>
					<input type="number" name="attr_npc-stealth-mod">
				</div>
				<div>
					<label data-i18n="hit-rating:-n">Hit Rating:</label>
					<input type="number" name="attr_hit-rating">
				</div>
				<div class="nba-hide">
					<label  data-i18n="stability-loss:-n">Stability Loss:</label>
					<input type="number" name="attr_stability-loss">
				</div>
			</div>
			<div class="input-row nba-hide armor-notes">
				<label data-i18n="armor-notes:-n">Armor Notes:</label>
				<textarea name="attr_armor-notes"></textarea>
			</div>
		</div>
	</div>
	<!-- Agent Info -->
	<div class="col section toc-col-right nba-col1 nba-left nba-caps npc-hide">
		<div class="content">
			<div class="input-row">
				<label data-i18n="agent-name-i">Agent Name</label>
				<input type="text" name="attr_character_name">
			</div>
			<div class="input-row toc-hide">
				<label data-i18n="background-i">Background</label>
				<input type="text" name="attr_background">
			</div>
			<div class="input-row">
				<label data-i18n="drive-i">Drive</label>
				<input type="text" name="attr_character-drive">
			</div>
			<div class="input-row toc-hide">
				<label data-i18n="previous-patron-i">Previous Patron</label>
				<input type="text" name="attr_previous-patron">
			</div>
			<div class="input-row nba-hide">
				<label data-i18n="occupation-i">Occupation</label>
				<input type="text" name="attr_character-occupation">
			</div>
			<div class="nba-hide">
				<span data-i18n="occupational-benefits">Occupational benefits</span>
				<br>
				<textarea name="attr_occupational-benefits"></textarea>
			</div>
		</div>
	</div>
	<!-- Pilars of Sanity -->
	<div class="col section nba-hide npc-hide">
		<div class="content">
			<b data-i18n="pillars-of-sanity">Pillars of Sanity</b>
			<br>
			<textarea name="attr_pillars-of-sanity"></textarea>
		</div>
	</div>
	<!-- Sources of Stability -->
	<div class="col section toc-col-right nba-left nba-col1 nba-fix nba-caps npc-hide">
		<div class="content">
			<b data-i18n="sources-of-stability">Sources of Stability</b>
			<br>
			<textarea class="nba-hide" name="attr_sources-of-stability"></textarea>
			<ul class="toc-hide">
				<li class="input-row">
					<label data-i18n="bullet-symbol">&bull; Symbol</label><input type="text" name="attr_stability-symbol">
				</li>
				<li class="input-row">
					<label data-i18n="bullet-solace">&bull; Solace</label><input type="text" name="attr_stability-solace">
				</li>
				<li class="input-row">
					<label data-i18n="bullet-safety">&bull; Safety</label><input type="text" name="attr_stability-safety">
				</li>
			</ul>
		</div>
	</div>
	<!-- Health/Stability -->
	<div class="tables toc-col1 nba-col2 nba-caps npc-hide">
		<div class="section" style="width: 100%">
			<div class="content">
				<div class="nba-col">
					<div class="table-head" style="display: block; float: left">
						<div data-i18n="health-h">Health</div>
					</div>
					<div class="table-flex" style="margin-top: 0;">
						<div><input type="radio" name="attr_health" value="-12"><span>-12</span></div>
						<div><input type="radio" name="attr_health" value="-11"><span>-11</span></div>
						<div><input type="radio" name="attr_health" value="-10"><span>-10</span></div>
						<div><input type="radio" name="attr_health" value="-9"><span>-9</span></div>
						<div><input type="radio" name="attr_health" value="-8"><span>-8</span></div>
						<div><input type="radio" name="attr_health" value="-7"><span>-7</span></div>
						<div><input type="radio" name="attr_health" value="-6"><span>-6</span></div>
						<div><input type="radio" name="attr_health" value="-5"><span>-5</span></div>
						<div><input type="radio" name="attr_health" value="-4"><span>-4</span></div>
						<div><input type="radio" name="attr_health" value="-3"><span>-3</span></div>
						<div><input type="radio" name="attr_health" value="-2"><span>-2</span></div>
						<div><input type="radio" name="attr_health" value="-1"><span>-1</span></div>
						<div><input type="radio" name="attr_health" value="0"><span>0</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="0">
						<div><input type="radio" name="attr_health" value="1"><span>1</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="1">
						<div><input type="radio" name="attr_health" value="2"><span>2</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="2">
						<div><input type="radio" name="attr_health" value="3"><span>3</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="3">
						<div><input type="radio" name="attr_health" value="4"><span>4</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="4">
						<div><input type="radio" name="attr_health" value="5"><span>5</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="5">
						<div><input type="radio" name="attr_health" value="6"><span>6</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="6">
						<div><input type="radio" name="attr_health" value="7"><span>7</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="7">
						<div><input type="radio" name="attr_health" value="8"><span>8</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="8">
						<div><input type="radio" name="attr_health" value="9"><span>9</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="9">
						<div><input type="radio" name="attr_health" value="10"><span>10</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="10">
						<div><input type="radio" name="attr_health" value="11"><span>11</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="11">
						<div><input type="radio" name="attr_health" value="12"><span>12</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="12">
						<div><input type="radio" name="attr_health" value="13"><span>13</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="13">
						<div><input type="radio" name="attr_health" value="14"><span>14</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="14">
						<div><input type="radio" name="attr_health" value="15"><span>15</span></div>
						<input class="max-marker" type="radio" name="attr_health_max" value="15">
					</div>
					<div class="footer">
						<span>
							<b data-i18n="hit-rating-h">Hit Rating</b>: <input type="number" name="attr_hit-rating" value="3">
						</span>
					</div>
				</div>
				<div class="nba-col-right">
					<div class="table-head">
						<div data-i18n="stability-h">Stability</div>
					</div>
					<div class="table-flex">
						<div><input type="radio" name="attr_stability" value="-12"><span>-12</span></div>
						<div><input type="radio" name="attr_stability" value="-11"><span>-11</span></div>
						<div><input type="radio" name="attr_stability" value="-10"><span>-10</span></div>
						<div><input type="radio" name="attr_stability" value="-9"><span>-9</span></div>
						<div><input type="radio" name="attr_stability" value="-8"><span>-8</span></div>
						<div><input type="radio" name="attr_stability" value="-7"><span>-7</span></div>
						<div><input type="radio" name="attr_stability" value="-6"><span>-6</span></div>
						<div><input type="radio" name="attr_stability" value="-5"><span>-5</span></div>
						<div><input type="radio" name="attr_stability" value="-4"><span>-4</span></div>
						<div><input type="radio" name="attr_stability" value="-3"><span>-3</span></div>
						<div><input type="radio" name="attr_stability" value="-2"><span>-2</span></div>
						<div><input type="radio" name="attr_stability" value="-1"><span>-1</span></div>
						<div><input type="radio" name="attr_stability" value="0"><span>0</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="0">
						<div><input type="radio" name="attr_stability" value="1"><span>1</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="1">
						<div><input type="radio" name="attr_stability" value="2"><span>2</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="2">
						<div><input type="radio" name="attr_stability" value="3"><span>3</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="3">
						<div><input type="radio" name="attr_stability" value="4"><span>4</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="4">
						<div><input type="radio" name="attr_stability" value="5"><span>5</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="5">
						<div><input type="radio" name="attr_stability" value="6"><span>6</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="6">
						<div><input type="radio" name="attr_stability" value="7"><span>7</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="7">
						<div><input type="radio" name="attr_stability" value="8"><span>8</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="8">
						<div><input type="radio" name="attr_stability" value="9"><span>9</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="9">
						<div><input type="radio" name="attr_stability" value="10"><span>10</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="10">
						<div><input type="radio" name="attr_stability" value="11"><span>11</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="11">
						<div><input type="radio" name="attr_stability" value="12"><span>12</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="12">
						<div><input type="radio" name="attr_stability" value="13"><span>13</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="13">
						<div><input type="radio" name="attr_stability" value="14"><span>14</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="14">
						<div><input type="radio" name="attr_stability" value="15"><span>15</span></div>
						<input class="max-marker" type="radio" name="attr_stability_max" value="15">
					</div>
				</div>
				<div class="nba-hide">
					<div data-i18n="sanity-h" class="table-head">Sanity</div>
					<div class="table-flex">
						<div><input type="radio" name="attr_sanity" value="0"><span>0</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="0">
						<div><input type="radio" name="attr_sanity" value="1"><span>1</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="1">
						<div><input type="radio" name="attr_sanity" value="2"><span>2</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="2">
						<div><input type="radio" name="attr_sanity" value="3"><span>3</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="3">
						<div><input type="radio" name="attr_sanity" value="4"><span>4</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="4">
						<div><input type="radio" name="attr_sanity" value="5"><span>5</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="5">
						<div><input type="radio" name="attr_sanity" value="6"><span>6</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="6">
						<div><input type="radio" name="attr_sanity" value="7"><span>7</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="7">
						<div><input type="radio" name="attr_sanity" value="8"><span>8</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="8">
						<div><input type="radio" name="attr_sanity" value="9"><span>9</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="9">
						<div><input type="radio" name="attr_sanity" value="10"><span>10</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="10">
						<div><input type="radio" name="attr_sanity" value="11"><span>11</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="11">
						<div><input type="radio" name="attr_sanity" value="12"><span>12</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="12">
						<div><input type="radio" name="attr_sanity" value="13"><span>13</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="13">
						<div><input type="radio" name="attr_sanity" value="14"><span>14</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="14">
						<div><input type="radio" name="attr_sanity" value="15"><span>15</span></div>
						<input class="max-marker" type="radio" name="attr_sanity_marker" value="15">
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Armor -->
	<div class="col section nba-full nba-left npc-full toc-hide resistances">
		<div class="content">
			<div class="armor armor-type">
				<div>
					<label data-i18n="armor" class="nba-caps">Armor:</label>
					<select name="attr_armor-type">
						<option data-i18n="none-u" value="none" selected="true">None</option>
						<option data-i18n="ballistic-cloth" value="balistic-cloth">Ballistic Cloth</option>
						<option data-i18n="police-vest" value="police-vest">Police Vest</option>
						<option data-i18n="military-armor" value="military-armor">Military Armor</option>
						<option data-i18n="other" value="other">Other</option>
					</select>
				</div>
			</div>
			<div class="armor resist">
				<h4 data-i18n="damage-resistances">Damage Resistances</h4>
				<div>
					<div>
						<label data-i18n="bullets:-r">Bullets:</label>
						<input type="number" name="attr_bullet-reduction" value="0">
					</div>
					<div>
						<label data-i18n="melee:-r">Melee:</label>
						<input type="number" name="attr_melee-reduction" value="0">
					</div>
					<div>
						<label data-i18n="explosives:-r">Explosives:</label>
						<input type="number" name="attr_explosive-reduction" value="0">
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- Abilities -->
	<div class="toc-col2 toc-right nba-full npc-full" style="display: inline-block;">
		<div class="section ability-section">
			<div class="content" style="font-size: 11px;">
				<h2 data-i18n="abilities-a" class="nba-hide npc-hide">Abilities</h2>

				<input class="edit npc-hide" name="attr_edit-abilities" type="checkbox" value="1" checked><span class="npc-hide"></span>

				<div class="ability-edit npc-hide">
					<div class="build-points">
						<div>
							<span data-i18n="inv-build-points" class="light">Investigative Build Points: </span>
							<span name="attr_inv_points"></span><span>/</span><span name="attr_inv_points_max"></span>
						</div>
						<div>
							<span data-i18n="gen-build-points" class="light">General Build Points: </span>
							<span name="attr_gen_points"></span><span>/</span><span name="attr_gen_points_max"></span>
						</div>
					</div>
					<input name="attr_spinner" type="radio" value="" checked style="display: none;">
					<div class="starting-credit nba-hide">
						<div class="input-row">
							<label data-i18n="starting-credit">Starting Credit Rating: </label>
							<input type="number" name="attr_credit-rating_free" value="0" min="0">
						</div>
					</div>
					<div data-i18n="occupational-abilities-message" class="nba-hide occupation-message">
						Occupational abilities are half price. Click the <span></span> to mark them before assigning points.
					</div>
					<div class="toc-hide">
						<p data-i18n="mos-ability-message" class="mos-message">Click the <span></span> to mark your MOS ability.</p>
						<p data-i18n="red-abilities-message" class="cherry-message">Abilities in <span>red</span> indicate that extra effects have been unlocked.</p>
					</div>
					<div class="reset">
						<div class="placeholder reset-inv">
							<span data-i18n="reset-investigative">Reset Investigative</span>
							<input class="reset" name="attr_spinner" type="radio" value="reset-inv">
						</div>
						<div class="placeholder reset-gen">
							<span data-i18n="reset-general">Reset General</span>
							<input class="reset" name="attr_spinner" type="radio" value="reset-gen">
						</div>
					</div>
				</div>

				<div class="abilities">
					<input class="free" type="checkbox" value="1"><span data-i18n="free-points">Free Points</span>

					<div class="abilities-col">
						<div class="abilities-header">
							<span data-i18n="academic-toc" class="nba-hide">Academic</span>
							<span data-i18n="academic-abilities-nba" class="toc-hide">ACADEMIC ABILITIES</span>
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_accounting_constraint" type="hidden" value="abd">
							<input name="attr_accounting_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="accounting-a" class="abilities-title">Accounting</span>
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_accounting_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_accounting" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="accounting_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="accounting_dec"></label>
								</div><span>/</span><input class="max" name="attr_accounting_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="accounting_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="accounting_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_accounting_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_anthropology_constraint" type="hidden" value="abd">
							<input name="attr_anthropology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="anthropology-a" class="abilities-title">Anthropology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_anthropology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_anthropology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="anthropology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="anthropology_dec"></label>
								</div><span>/</span><input class="max" name="attr_anthropology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="anthropology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="anthropology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_anthropology_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_archaeology_constraint" type="hidden" value="abd">
							<input name="attr_archaeology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="archaeology-a" class="abilities-title">Archaeology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_archaeology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_archaeology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="archaeology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="archaeology_dec"></label>
								</div><span>/</span><input class="max" name="attr_archaeology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="archaeology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="archaeology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_archaeology_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_architecture_constraint" type="hidden" value="abd">
							<input name="attr_architecture_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="architecture-a" class="abilities-title">Architecture</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_architecture_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_architecture" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="architecture_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="architecture_dec"></label>
								</div><span>/</span><input class="max" name="attr_architecture_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="architecture_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="architecture_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_architecture_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_art-history_constraint" type="hidden" value="abd">
							<input name="attr_art-history_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="art-history-a" class="abilities-title">Art History</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_art-history_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_art-history" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="art-history_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="art-history_dec"></label>
								</div><span>/</span><input class="max" name="attr_art-history_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="art-history_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="art-history_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_art-history_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_biology_constraint" type="hidden" value="abd">
							<input name="attr_biology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="biology-a" class="abilities-title">Biology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_biology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_biology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="biology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="biology_dec"></label>
								</div><span>/</span><input class="max" name="attr_biology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="biology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="biology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_biology_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_cthulhu-mythos_constraint" type="hidden" value="abd">
							<input name="attr_cthulhu-mythos_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="cthulhu-mythos-a" class="abilities-title">Cthulhu Mythos</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_cthulhu-mythos_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_cthulhu-mythos" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cthulhu-mythos_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cthulhu-mythos_dec"></label>
								</div><span>/</span><input class="max" name="attr_cthulhu-mythos_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cthulhu-mythos_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cthulhu-mythos_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_cthulhu-mythos_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_criminology_constraint" type="hidden" value="abd">
							<input name="attr_criminology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="criminology-a" class="abilities-title">Criminology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_criminology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_criminology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="criminology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="criminology_dec"></label>
								</div><span>/</span><input class="max" name="attr_criminology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="criminology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="criminology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_criminology_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_cryptography_constraint" type="hidden" value="abd">
							<input name="attr_cryptography_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="cryptography-a" class="abilities-title">Cryptography</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_cryptography_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_cryptography" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cryptography_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cryptography_dec"></label>
								</div><span>/</span><input class="max" name="attr_cryptography_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cryptography_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cryptography_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_cryptography_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_diagnosis_constraint" type="hidden" value="abd">
							<input name="attr_diagnosis_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="diagnosis-a" class="abilities-title">Diagnosis</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_diagnosis_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_diagnosis" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="diagnosis_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="diagnosis_dec"></label>
								</div><span>/</span><input class="max" name="attr_diagnosis_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="diagnosis_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="diagnosis_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_diagnosis_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_geology_constraint" type="hidden" value="abd">
							<input name="attr_geology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="geology-a" class="abilities-title">Geology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_geology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_geology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="geology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="geology_dec"></label>
								</div><span>/</span><input class="max" name="attr_geology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="geology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="geology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_geology_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_history_constraint" type="hidden" value="abd">
							<input name="attr_history_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="history-a" class="abilities-title">History</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_history_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_history" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="history_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="history_dec"></label>
								</div><span>/</span><input class="max" name="attr_history_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="history_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="history_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_history_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_human-terrain_constraint" type="hidden" value="abd">
							<input name="attr_human-terrain_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="human-terrain-a" class="abilities-title">Human Terrain</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_human-terrain_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_human-terrain" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="human-terrain_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="human-terrain_dec"></label>
								</div><span>/</span><input class="max" name="attr_human-terrain_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="human-terrain_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="human-terrain_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_human-terrain_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_languages_constraint" type="hidden" value="abd">
							<input name="attr_languages_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="languages-a" class="abilities-title">Languages</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_languages_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_languages" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="languages_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="languages_dec"></label>
								</div><span>/</span><input class="max" name="attr_languages_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="languages_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="languages_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_languages_free" type="number" value="0" min="0">
							<fieldset class="repeating_r-languages">
								<div class="subsection">
									<input type="text" name="attr_r-language">
								</div>
							</fieldset>
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_law_constraint" type="hidden" value="abd">
							<input name="attr_law_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="law-a" class="abilities-title">Law</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_law_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_law" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="law_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="law_dec"></label>
								</div><span>/</span><input class="max" name="attr_law_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="law_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="law_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_law_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_library-use_constraint" type="hidden" value="abd">
							<input name="attr_library-use_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="library-use-a" class="abilities-title">Library Use</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_library-use_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_library-use" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="library-use_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="library-use_dec"></label>
								</div><span>/</span><input class="max" name="attr_library-use_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="library-use_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="library-use_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_library-use_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_medicine_constraint" type="hidden" value="abd">
							<input name="attr_medicine_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="medicine-a" class="abilities-title">Medicine</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_medicine_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_medicine" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="medicine_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="medicine_dec"></label>
								</div><span>/</span><input class="max" name="attr_medicine_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="medicine_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="medicine_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_medicine_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_military-science_constraint" type="hidden" value="abd">
							<input name="attr_military-science_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="military-science-a" class="abilities-title">Military Science</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_military-science_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_military-science" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="military-science_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="military-science_dec"></label>
								</div><span>/</span><input class="max" name="attr_military-science_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="military-science_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="military-science_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_military-science_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_occult_constraint" type="hidden" value="abd">
							<input name="attr_occult_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="occult-a" class="abilities-title">Occult</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_occult_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_occult" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="occult_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="occult_dec"></label>
								</div><span>/</span><input class="max" name="attr_occult_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="occult_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="occult_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_occult_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_occult-studies_constraint" type="hidden" value="abd">
							<input name="attr_occult-studies_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="occult-studies-a" class="abilities-title">Occult Studies</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_occult-studies_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_occult-studies" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="occult-studies_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="occult-studies_dec"></label>
								</div><span>/</span><input class="max" name="attr_occult-studies_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="occult-studies_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="occult-studies_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_occult-studies_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_physics_constraint" type="hidden" value="abd">
							<input name="attr_physics_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="physics-a" class="abilities-title">Physics</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_physics_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_physics" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="physics_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="physics_dec"></label>
								</div><span>/</span><input class="max" name="attr_physics_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="physics_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="physics_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_physics_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_research_constraint" type="hidden" value="abd">
							<input name="attr_research_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="research-a" class="abilities-title">Research</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_research_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_research" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="research_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="research_dec"></label>
								</div><span>/</span><input class="max" name="attr_research_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="research_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="research_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_research_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_theology_constraint" type="hidden" value="abd">
							<input name="attr_theology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="theology-a" class="abilities-title">Theology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_theology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_theology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="theology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="theology_dec"></label>
								</div><span>/</span><input class="max" name="attr_theology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="theology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="theology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_theology_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_vampirology_constraint" type="hidden" value="abd">
							<input name="attr_vampirology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="vampirology-a" class="abilities-title">Vampirology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_vampirology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_vampirology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="vampirology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="vampirology_dec"></label>
								</div><span>/</span><input class="max" name="attr_vampirology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="vampirology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="vampirology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_vampirology_free" type="number" value="0" min="0">
						</div>
						<fieldset class="repeating_academic">
							<div class="abilities-item">
								<input class="constraint" name="attr_r-academic_constraint" type="hidden" value="abd">
								<input name="attr_r-academic_dice" type="hidden" value="@{basic_roll}">
								<div class="rep-title">
									<input class="options-flag" type="checkbox" name="attr_r-academic_options-flag" checked="checked">
									<span>y</span>
									<div class="options">
										<input type="text" name="attr_r-academic_title">
									</div>
									<div class="display">
										<span type="roll" class="abilities-title rep-title">
											<span name="attr_r-academic_title"></span>
										</span>
									</div>
								</div>
								<span>
									<input class="occupation nba-hide npc-hide" name="attr_r-academic_occupation" type="checkbox" value="0.5"
									><input class="available" name="attr_r-academic" type="number"><div>
										<label class="increment"><input name="attr_r-academic_inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-academic_dec" type="checkbox" value="1"></label>
									</div><span>/</span><input class="max" name="attr_r-academic_max" type="number" value="0"><div>
										<label class="increment"><input name="attr_r-academic_max-inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-academic_max-dec" type="checkbox" value="1"></label>
									</div>
								</span>
								<input class="free-points" name="attr_r-academic_free" type="number" value="0" min="0">
							</div>
						</fieldset>
					</div>
					<div class="abilities-col">
						<div class="abilities-header">
							<span data-i18n="interpersonal-toc" class="nba-hide">Interpersonal</span>
							<span data-i18n="interpersonal-abilities-nba" class="toc-hide">INTERPERSONAL ABILITIES</span>
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_assess-honesty_constraint" type="hidden" value="abd">
							<input name="attr_assess-honesty_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="assess-honesty-a" class="abilities-title">Assess Honesty</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_assess-honesty_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_assess-honesty" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="assess-honesty_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="assess-honesty_dec"></label>
								</div><span>/</span><input class="max" name="attr_assess-honesty_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="assess-honesty_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="assess-honesty_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_assess-honesty_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_bullshit-detector_constraint" type="hidden" value="abd">
							<input name="attr_bullshit-detector_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="bullshit-detector-a" class="abilities-title">Bullshit Detector</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_bullshit-detector_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_bullshit-detector" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="bullshit-detector_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="bullshit-detector_dec"></label>
								</div><span>/</span><input class="max" name="attr_bullshit-detector_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="bullshit-detector_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="bullshit-detector_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_bullshit-detector_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_bargain_constraint" type="hidden" value="abd">
							<input name="attr_bargain_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="bargain-a" class="abilities-title">Bargain</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_bargain_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_bargain" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="bargain_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="bargain_dec"></label>
								</div><span>/</span><input class="max" name="attr_bargain_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="bargain_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="bargain_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_bargain_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_bureaucracy_constraint" type="hidden" value="abd">
							<input name="attr_bureaucracy_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="bureaucracy-a" class="abilities-title">Bureaucracy</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_bureaucracy_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_bureaucracy" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="bureaucracy_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="bureaucracy_dec"></label>
								</div><span>/</span><input class="max" name="attr_bureaucracy_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="bureaucracy_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="bureaucracy_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_bureaucracy_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_cop-talk_constraint" type="hidden" value="abd">
							<input name="attr_cop-talk_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="cop-talk-a" class="abilities-title">Cop Talk</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_cop-talk_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_cop-talk" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cop-talk_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cop-talk_dec"></label>
								</div><span>/</span><input class="max" name="attr_cop-talk_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cop-talk_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cop-talk_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_cop-talk_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_credit-rating_constraint" type="hidden" value="abd">
							<input name="attr_credit-rating_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="credit-rating-a" class="abilities-title">Credit Rating</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_credit-rating_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_credit-rating" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="credit-rating_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="credit-rating_dec"></label>
								</div><span>/</span><input class="max" name="attr_credit-rating_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="credit-rating_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="credit-rating_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_credit-rating_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_flattery_constraint" type="hidden" value="abd">
							<input name="attr_flattery_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="flattery-a" class="abilities-title">Flattery</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_flattery_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_flattery" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="flattery_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="flattery_dec"></label>
								</div><span>/</span><input class="max" name="attr_flattery_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="flattery_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="flattery_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_flattery_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_flirting_constraint" type="hidden" value="abd">
							<input name="attr_flirting_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="flirting-a" class="abilities-title">Flirting</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_flirting_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_flirting" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="flirting_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="flirting_dec"></label>
								</div><span>/</span><input class="max" name="attr_flirting_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="flirting_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="flirting_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_flirting_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_high-society_constraint" type="hidden" value="abd">
							<input name="attr_high-society_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="high-society-a" class="abilities-title">High Society</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_high-society_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_high-society" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="high-society_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="high-society_dec"></label>
								</div><span>/</span><input class="max" name="attr_high-society_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="high-society_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="high-society_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_high-society_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_interrogation_constraint" type="hidden" value="abd">
							<input name="attr_interrogation_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="interrogation-a" class="abilities-title">Interrogation</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_interrogation_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_interrogation" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="interrogation_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="interrogation_dec"></label>
								</div><span>/</span><input class="max" name="attr_interrogation_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="interrogation_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="interrogation_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_interrogation_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_intimidation_constraint" type="hidden" value="abd">
							<input name="attr_intimidation_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="intimidation-a" class="abilities-title">Intimidation</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_intimidation_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_intimidation" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="intimidation_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="intimidation_dec"></label>
								</div><span>/</span><input class="max" name="attr_intimidation_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="intimidation_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="intimidation_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_intimidation_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_negotiation_constraint" type="hidden" value="abd">
							<input name="attr_negotiation_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="negotiation-a" class="abilities-title">Negotiation</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_negotiation_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_negotiation" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="negotiation_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="negotiation_dec"></label>
								</div><span>/</span><input class="max" name="attr_negotiation_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="negotiation_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="negotiation_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_negotiation_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_oral-history_constraint" type="hidden" value="abd">
							<input name="attr_oral-history_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="oral-history-a" class="abilities-title">Oral History</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_oral-history_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_oral-history" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="oral-history_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="oral-history_dec"></label>
								</div><span>/</span><input class="max" name="attr_oral-history_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="oral-history_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="oral-history_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_oral-history_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_reassurance_constraint" type="hidden" value="abd">
							<input name="attr_reassurance_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="reassurance-a" class="abilities-title">Reassurance</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_reassurance_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_reassurance" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="reassurance_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="reassurance_dec"></label>
								</div><span>/</span><input class="max" name="attr_reassurance_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="reassurance_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="reassurance_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_reassurance_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_streetwise_constraint" type="hidden" value="abd">
							<input name="attr_streetwise_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="streetwise-a" class="abilities-title">Streetwise</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_streetwise_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_streetwise" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="streetwise_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="streetwise_dec"></label>
								</div><span>/</span><input class="max" name="attr_streetwise_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="streetwise_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="streetwise_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_streetwise_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_tradecraft_constraint" type="hidden" value="abd">
							<input name="attr_tradecraft_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="tradecraft-a" class="abilities-title">Tradecraft</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_tradecraft_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_tradecraft" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="tradecraft_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="tradecraft_dec"></label>
								</div><span>/</span><input class="max" name="attr_tradecraft_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="tradecraft_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="tradecraft_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_tradecraft_free" type="number" value="0" min="0">
						</div>
						<fieldset class="repeating_interpersonal">
							<div class="abilities-item">
								<input class="constraint" name="attr_r-interpersonal_constraint" type="hidden" value="abd">
								<input name="attr_r-interpersonal_dice" type="hidden" value="@{basic_roll}">
								<div class="rep-title">
									<input class="options-flag" type="checkbox" name="attr_r-interpersonal_options-flag" checked="checked">
									<span>y</span>
									<div class="options">
										<input type="text" name="attr_r-interpersonal_title">
									</div>
									<div class="display">
										<span type="roll" class="abilities-title rep-title"> <span name="attr_r-interpersonal_title"></span>
										</span>
									</div>
								</div>
								<span>
									<input class="occupation nba-hide npc-hide" name="attr_r-interpersonal_occupation" type="checkbox" value="0.5"
									><input class="available" name="attr_r-interpersonal" type="number"><div>
										<label class="increment"><input name="attr_r-interpersonal_inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-interpersonal_dec" type="checkbox" value="1"></label>
									</div><span>/</span><input class="max" name="attr_r-interpersonal_max" type="number" value="0"><div>
										<label class="increment"><input name="attr_r-interpersonal_max-inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-interpersonal_max-dec" type="checkbox" value="1"></label>
									</div>
								</span>
								<input class="free-points" name="attr_r-interpersonal_free" type="number" value="0" min="0">
							</div>
						</fieldset>
						<div class="abilities-header">
							<span data-i18n="technical-toc" class="nba-hide">Technical</span>
							<span data-i18n="technical-abilities-nba" class="toc-hide">TECHNICAL ABILITIES</span>
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_art_constraint" type="hidden" value="abd">
							<input name="attr_art_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="art-a" class="abilities-title">Art</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_art_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_art" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="art_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="art_dec"></label>
								</div><span>/</span><input class="max" name="attr_art_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="art_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="art_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_art_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_astronomy_constraint" type="hidden" value="abd">
							<input name="attr_astronomy_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="astronomy-a" class="abilities-title">Astronomy</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_astronomy_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_astronomy" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="astronomy_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="astronomy_dec"></label>
								</div><span>/</span><input class="max" name="attr_astronomy_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="astronomy_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="astronomy_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_astronomy_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_chemistry_constraint" type="hidden" value="abd">
							<input name="attr_chemistry_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="chemistry-a" class="abilities-title">Chemistry</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_chemistry_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_chemistry" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="chemistry_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="chemistry_dec"></label>
								</div><span>/</span><input class="max" name="attr_chemistry_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="chemistry_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="chemistry_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_chemistry_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_craft_constraint" type="hidden" value="abd">
							<input name="attr_craft_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="craft-a" class="abilities-title">Craft</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_craft_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_craft" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="craft_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="craft_dec"></label>
								</div><span>/</span><input class="max" name="attr_craft_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="craft_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="craft_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_craft_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_cryptography_constraint" type="hidden" value="abd">
							<input name="attr_cryptography_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="cryptography-a" class="abilities-title">Cryptography</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_cryptography_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_cryptography" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cryptography_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cryptography_dec"></label>
								</div><span>/</span><input class="max" name="attr_cryptography_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cryptography_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cryptography_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_cryptography_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_data-recovery_constraint" type="hidden" value="abd">
							<input name="attr_data-recovery_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="data-recovery-a" class="abilities-title">Data Recovery</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_data-recovery_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_data-recovery" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="data-recovery_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="data-recovery_dec"></label>
								</div><span>/</span><input class="max" name="attr_data-recovery_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="data-recovery_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="data-recovery_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_data-recovery_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_electronic-surveillance_constraint" type="hidden" value="abd">
							<input name="attr_electronic-surveillance_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="electronic-surveillance-a" class="abilities-title">Electronic Surveillance</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_electronic-surveillance_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_electronic-surveillance" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="electronic-surveillance_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="electronic-surveillance_dec"></label>
								</div><span>/</span><input class="max" name="attr_electronic-surveillance_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="electronic-surveillance_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="electronic-surveillance_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_electronic-surveillance_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_evidence-collection_constraint" type="hidden" value="abd">
							<input name="attr_evidence-collection_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="evidence-collection-a" class="abilities-title">Evidence Collection</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_evidence-collection_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_evidence-collection" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="evidence-collection_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="evidence-collection_dec"></label>
								</div><span>/</span><input class="max" name="attr_evidence-collection_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="evidence-collection_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="evidence-collection_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_evidence-collection_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_forensics_constraint" type="hidden" value="abd">
							<input name="attr_forensics_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="forensics-a" type="roll" class="abilities-title">Forensics</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_forensics_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_forensics" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="forensics_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="forensics_dec"></label>
								</div><span>/</span><input class="max" name="attr_forensics_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="forensics_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="forensics_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_forensics_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_forensic-pathology_constraint" type="hidden" value="abd">
							<input name="attr_forensic-pathology_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="forensic-pathology-a" class="abilities-title">Forensic Pathology</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_forensic-pathology_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_forensic-pathology" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="forensic-pathology_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="forensic-pathology_dec"></label>
								</div><span>/</span><input class="max" name="attr_forensic-pathology_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="forensic-pathology_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="forensic-pathology_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_forensic-pathology_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_forgery_constraint" type="hidden" value="abd">
							<input name="attr_forgery_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="forgery-a" class="abilities-title">Forgery</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_forgery_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_forgery" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="forgery_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="forgery_dec"></label>
								</div><span>/</span><input class="max" name="attr_forgery_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="forgery_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="forgery_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_forgery_free" type="number" value="0" min="0">
							<fieldset class="repeating_r-forgeries">
								<div class="subsection">
									<input type="text" name="attr_r-forgery">
								</div>
							</fieldset>
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_locksmith_constraint" type="hidden" value="abd">
							<input name="attr_locksmith_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="locksmith-a" class="abilities-title">Locksmith</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_locksmith_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_locksmith" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="locksmith_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="locksmith_dec"></label>
								</div><span>/</span><input class="max" name="attr_locksmith_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="locksmith_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="locksmith_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_locksmith_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_notice_constraint" type="hidden" value="abd">
							<input name="attr_notice_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="notice-a" class="abilities-title">Notice</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_notice_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_notice" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="notice_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="notice_dec"></label>
								</div><span>/</span><input class="max" name="attr_notice_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="notice_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="notice_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_notice_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_outdoorsman_constraint" type="hidden" value="abd">
							<input name="attr_outdoorsman_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="outdoorsman-a" class="abilities-title">Outdoorsman</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_outdoorsman_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_outdoorsman" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="outdoorsman_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="outdoorsman_dec"></label>
								</div><span>/</span><input class="max" name="attr_outdoorsman_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="outdoorsman_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="outdoorsman_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_outdoorsman_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_outdoor-survival_constraint" type="hidden" value="abd">
							<input name="attr_outdoor-survival_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="outdoor-survival-a" class="abilities-title">Outdoor Survival</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_outdoor-survival_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_outdoor-survival" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="outdoor-survival_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="outdoor-survival_dec"></label>
								</div><span>/</span><input class="max" name="attr_outdoor-survival_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="outdoor-survival_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="outdoor-survival_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_outdoor-survival_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_pharmacy_constraint" type="hidden" value="abd">
							<input name="attr_pharmacy_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="pharmacy-a" class="abilities-title">Pharmacy</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_pharmacy_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_pharmacy" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="pharmacy_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="pharmacy_dec"></label>
								</div><span>/</span><input class="max" name="attr_pharmacy_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="pharmacy_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="pharmacy_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_pharmacy_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_photography_constraint" type="hidden" value="abd">
							<input name="attr_photography_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="photography-a" class="abilities-title">Photography</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_photography_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_photography" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="photography_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="photography_dec"></label>
								</div><span>/</span><input class="max" name="attr_photography_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="photography_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="photography_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_photography_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_traffic-analysis_constraint" type="hidden" value="abd">
							<input name="attr_traffic-analysis_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="traffic-analysis-a" class="abilities-title">Traffic Analysis</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_traffic-analysis_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_traffic-analysis" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="traffic-analysis_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="traffic-analysis_dec"></label>
								</div><span>/</span><input class="max" name="attr_traffic-analysis_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="traffic-analysis_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="traffic-analysis_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_traffic-analysis_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_urban-survival_constraint" type="hidden" value="abd">
							<input name="attr_urban-survival_dice" type="hidden" value="@{basic_roll}">
							<span data-i18n="urban-survival-a" class="abilities-title">Urban Survival</span>						
							<span class="inv-ability">
								<input class="occupation nba-hide npc-hide" name="attr_urban-survival_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_urban-survival" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="urban-survival_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="urban-survival_dec"></label>
								</div><span>/</span><input class="max" name="attr_urban-survival_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="urban-survival_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="urban-survival_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_urban-survival_free" type="number" value="0" min="0">
							<fieldset class="repeating_r-cities">
								<div class="subsection">
									<input type="text" name="attr_r-city">
								</div>
							</fieldset>
						</div>
						<fieldset class="repeating_technical">
							<div class="abilities-item">
								<input class="constraint" name="attr_r-technical_constraint" type="hidden" value="abd">
								<input name="attr_r-technical_dice" type="hidden" value="@{basic_roll}">
								<div class="rep-title">
									<input class="options-flag" type="checkbox" name="attr_r-technical_options-flag" checked="checked">
									<span>y</span>
									<div class="options">
										<input type="text" name="attr_r-technical_title">
									</div>
									<div class="display">
										<span type="roll" class="abilities-title rep-title"><span name="attr_r-technical_title"></span></span>
									</div>
								</div>
								<span>
									<input class="occupation nba-hide npc-hide" name="attr_r-technical_occupation" type="checkbox" value="0.5">
									<input class="available" name="attr_r-technical" type="number"><div>
										<label class="increment"><input name="attr_r-technical_inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-technical_dec" type="checkbox" value="1"></label>
									</div><span>/</span><input class="max" name="attr_r-technical_max" type="number" value="0"><div>
										<label class="increment"><input name="attr_r-technical_max-inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-technical_max-dec" type="checkbox" value="1"></label>
									</div>
								</span>
								<input class="free-points" name="attr_r-technical_free" type="number" value="0" min="0">
							</div>
						</fieldset>
					</div>
					<div class="abilities-col general">
						<div class="abilities-header">
							<span data-i18n="general-toc" class="nba-hide">General</span>
							<span data-i18n="general-abilities-nba" class="toc-hide">GENERAL ABILITIES</span>
						</div>
						<div class="abilities-item npc-ability vampire toc-hide nba-hide">
							<input class="constraint" name="attr_aberrance_constraint" type="hidden" value="abd">
							<input name="attr_aberrance_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="aberrance-a" type="roll" name="attr_aberrance_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{aberrance_dice} {{rname=^{aberrance-a}}}">
								Aberrance
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_aberrance_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_aberrance" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="aberrance_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="aberrance_dec"></label>
								</div>
							</span>
						</div>
						<div class="abilities-item npc-ability vampire-hide">
							<input class="constraint" name="attr_athletics_constraint" type="hidden" value="abd">
							<input name="attr_athletics_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="athletics-a" type="roll" name="attr_athletics_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{athletics_dice} {{rname=^{athletics-a}}}">
								Athletics
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="athletics">
								<input class="occupation nba-hide npc-hide" name="attr_athletics_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_athletics" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="athletics_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="athletics_dec"></label>
								</div><span>/</span><input class="max" name="attr_athletics_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="athletics_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="athletics_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_athletics_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item npc-ability nba-npc">
							<input class="constraint" name="attr_conceal_constraint" type="hidden" value="abd">
							<input name="attr_conceal_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="conceal-a" type="roll" name="attr_conceal_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{conceal_dice} {{rname=^{conceal-a}}}">
								Conceal
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="conceal">
								<input class="occupation nba-hide npc-hide" name="attr_conceal_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_conceal" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="conceal_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="conceal_dec"></label>
								</div><span>/</span><input class="max" name="attr_conceal_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="conceal_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="conceal_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_conceal_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_cover_constraint" type="hidden" value="abd">
							<input name="attr_cover_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="cover-a" type="roll" name="attr_cover_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{cover_dice} {{rname=^{cover-a}}}">
								Cover
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="cover">
								<input class="occupation nba-hide npc-hide" name="attr_cover_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_cover" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cover_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cover_dec"></label>
								</div><span>/</span><input class="max" name="attr_cover_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="cover_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="cover_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_cover_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_digital-intrusion_constraint" type="hidden" value="abd">
							<input name="attr_digital-intrusion_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="digital-intrusion-a" type="roll" name="attr_digital-intrusion_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{digital-intrusion_dice} {{rname=^{digital-intrusion-a}}}">
								Digital Intrusion
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="digital-intrusion">
								<input class="occupation nba-hide npc-hide" name="attr_digital-intrusion_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_digital-intrusion" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="digital-intrusion_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="digital-intrusion_dec"></label>
								</div><span>/</span><input class="max" name="attr_digital-intrusion_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="digital-intrusion_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="digital-intrusion_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_digital-intrusion_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_disguise_constraint" type="hidden" value="abd">
							<input name="attr_disguise_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="disguise-a" type="roll" name="attr_disguise_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{disguise_dice} {{rname=^{disguise-a}}}">
								Disguise
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="disguise">
								<input class="occupation nba-hide npc-hide" name="attr_disguise_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_disguise" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="disguise_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="disguise_dec"></label>
								</div><span>/</span><input class="max" name="attr_disguise_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="disguise_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="disguise_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_disguise_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item npc-ability nba-npc">
							<input class="constraint" name="attr_driving_constraint" type="hidden" value="abd">
							<input name="attr_driving_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="driving-a" type="roll" name="attr_driving_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{driving_dice} {{rname=^{driving-a}}}">
								Driving
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="driving">
								<input class="occupation nba-hide npc-hide" name="attr_driving_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_driving" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="driving_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="driving_dec"></label>
								</div><span>/</span><input class="max" name="attr_driving_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="driving_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="driving_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_driving_free" type="number" value="0" min="0">
							<fieldset class="repeating_r-drivings">
								<div class="subsection">
									<input type="text" name="attr_r-driving">
								</div>
							</fieldset>
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_electrical-repair_constraint" type="hidden" value="abd">
							<input name="attr_electrical-repair_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="electrical-repair-a" type="roll" name="attr_electrical-repair_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{electrical-repair_dice} {{rname=^{electrical-repair-a}}}">
								Electrical Repair
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_electrical-repair_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_electrical-repair" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="electrical-repair_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="electrical-repair_dec"></label>
								</div><span>/</span><input class="max" name="attr_electrical-repair_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="electrical-repair_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="electrical-repair_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_electrical-repair_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_explosive-devices_constraint" type="hidden" value="abd">
							<input name="attr_explosive-devices_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="explosive-devices-a" type="roll" name="attr_explosive-devices_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{explosive-devices_dice} {{rname=^{explosive-devices-a}}}">
								Explosive Devices
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="explosive-devices">
								<input class="occupation nba-hide npc-hide" name="attr_explosive-devices_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_explosive-devices" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="explosive-devices_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="explosive-devices_dec"></label>
								</div><span>/</span><input class="max" name="attr_explosive-devices_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="explosive-devices_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="explosive-devices_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_explosive-devices_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_explosives_constraint" type="hidden" value="abd">
							<input name="attr_explosives_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="explosives-a" type="roll" name="attr_explosives_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{explosives_dice} {{rname=^{explosives-a}}}">
								Explosives
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_explosives_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_explosives" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="explosives_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="explosives_dec"></label>
								</div><span>/</span><input class="max" name="attr_explosives_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="explosives_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="explosives_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_explosives_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_filch_constraint" type="hidden" value="abd">
							<input name="attr_filch_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="filch-a" type="roll" name="attr_filch_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{filch_dice} {{rname=^{filch-a}}}">
								Filch
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="filch">
								<input class="occupation nba-hide npc-hide" name="attr_filch_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_filch" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="filch_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="filch_dec"></label>
								</div><span>/</span><input class="max" name="attr_filch_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="filch_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="filch_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_filch_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide npc-ability">
							<input class="constraint" name="attr_firearms_constraint" type="hidden" value="abd">
							<input name="attr_firearms_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="firearms-a" type="roll" name="attr_firearms_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{firearms_dice} {{rname=^{firearms-a}}}">
								Firearms
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_firearms_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_firearms" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="firearms_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="firearms_dec"></label>
								</div><span>/</span><input class="max" name="attr_firearms_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="firearms_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="firearms_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_firearms_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_first-aid_constraint" type="hidden" value="abd">
							<input name="attr_first-aid_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="first-aid-a" type="roll" name="attr_first-aid_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{first-aid_dice} {{rname=^{first-aid-a}}}">
								First Aid
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_first-aid_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_first-aid" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="first-aid_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="first-aid_dec"></label>
								</div><span>/</span><input class="max" name="attr_first-aid_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="first-aid_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="first-aid_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_first-aid_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_fleeing_constraint" type="hidden" value="abd">
							<input name="attr_fleeing_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="fleeing-a" type="roll" name="attr_fleeing_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{fleeing_dice} {{rname=^{fleeing-a}}}">
								Fleeing
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_fleeing_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_fleeing" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="fleeing_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="fleeing_dec"></label>
								</div><span>/</span><input class="max" name="attr_fleeing_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="fleeing_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="fleeing_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_fleeing_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_gambling_constraint" type="hidden" value="abd">
							<input name="attr_gambling_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="gambling-a" type="roll" name="attr_gambling_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{gambling_dice} {{rname=^{gambling-a}}}">
								Gambling
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="gambling">
								<input class="occupation nba-hide npc-hide" name="attr_gambling_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_gambling" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="gambling_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="gambling_dec"></label>
								</div><span>/</span><input class="max" name="attr_gambling_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="gambling_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="gambling_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_gambling_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide npc-ability">
							<input class="constraint" name="attr_hand-to-hand_constraint" type="hidden" value="abd">
							<input name="attr_hand-to-hand_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="hand-to-hand-a" type="roll" name="attr_hand-to-hand_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{hand-to-hand_dice} {{rname=^{hand-to-hand-a}}}">
								Hand-to-Hand
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="hand-to-hand">
								<input class="occupation nba-hide npc-hide" name="attr_hand-to-hand_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_hand-to-hand" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="hand-to-hand_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="hand-to-hand_dec"></label>
								</div><span>/</span><input class="max" name="attr_hand-to-hand_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="hand-to-hand_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="hand-to-hand_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_hand-to-hand_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item npc-ability">
							<input class="constraint" name="attr_health_constraint" type="hidden" value="abd">
							<input name="attr_health_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="health-a" type="roll" name="attr_health_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{health_dice} {{rname=^{health-a}}}">
								Health
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_health_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_health" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="health_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="health_dec"></label>
								</div><span>/</span><input class="max" name="attr_health_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="health_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="health_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_health_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_hypnosis_constraint" type="hidden" value="abd">
							<input name="attr_hypnosis_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="hypnosis-a" type="roll" name="attr_hypnosis_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{hypnosis_dice} {{rname=^{hypnosis-a}}}">
								Hypnosis
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_hypnosis_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_hypnosis" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="hypnosis_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="hypnosis_dec"></label>
								</div><span>/</span><input class="max" name="attr_hypnosis_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="hypnosis_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="hypnosis_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_hypnosis_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_infiltration_constraint" type="hidden" value="abd">
							<input name="attr_infiltration_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="infiltration-a" type="roll" name="attr_infiltration_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{infiltration_dice} {{rname=^{infiltration-a}}}">
								Infiltration
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="infiltration">
								<input class="occupation nba-hide npc-hide" name="attr_infiltration_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_infiltration" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="infiltration_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="infiltration_dec"></label>
								</div><span>/</span><input class="max" name="attr_infiltration_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="infiltration_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="infiltration_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_infiltration_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_mechanical-repair_constraint" type="hidden" value="abd">
							<input name="attr_mechanical-repair_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="mechanical-repair-a" type="roll" name="attr_mechanical-repair_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{mechanical-repair_dice} {{rname=^{mechanical-repair-a}}}">
								Mechanical Repair
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_mechanical-repair_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_mechanical-repair" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="mechanical-repair_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="mechanical-repair_dec"></label>
								</div><span>/</span><input class="max" name="attr_mechanical-repair_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="mechanical-repair_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="mechanical-repair_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_mechanical-repair_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_mechanics_constraint" type="hidden" value="abd">
							<input name="attr_mechanics_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="mechanics-a" type="roll" name="attr_mechanics_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{mechanics_dice} {{rname=^{mechanics-a}}}">
								Mechanics
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="mechanics">
								<input class="occupation nba-hide npc-hide" name="attr_mechanics_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_mechanics" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="mechanics_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="mechanics_dec"></label>
								</div><span>/</span><input class="max" name="attr_mechanics_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="mechanics_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="mechanics_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_mechanics_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide npc-ability">
							<input class="constraint" name="attr_medic_constraint" type="hidden" value="abd">
							<input name="attr_medic_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="medic-a" type="roll" name="attr_medic_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{medic_dice} {{rname=^{medic-a}}}">
								Medic
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="medic">
								<input class="occupation nba-hide npc-hide" name="attr_medic_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_medic" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="medic_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="medic_dec"></label>
								</div><span>/</span><input class="max" name="attr_medic_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="medic_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="medic_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_medic_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_network_constraint" type="hidden" value="abd">
							<input name="attr_network_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="network-a" type="roll" name="attr_network_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{network_dice} {{rname=^{network-a}}}">
								Network
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="network">
								<input class="occupation nba-hide npc-hide" name="attr_network_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_network" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="network_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="network_dec"></label>
								</div><span>/</span><input class="max" name="attr_network_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="network_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="network_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_network_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_piloting_constraint" type="hidden" value="abd">
							<input name="attr_piloting_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="piloting-a" type="roll" name="attr_piloting_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{piloting_dice} {{rname=^{piloting-a}}}">
								Piloting
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="piloting">
								<input class="occupation nba-hide npc-hide" name="attr_piloting_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_piloting" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="piloting_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="piloting_dec"></label>
								</div><span>/</span><input class="max" name="attr_piloting_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="piloting_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="piloting_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_piloting_free" type="number" value="0" min="0">
							<fieldset class="repeating_r-pilotings">
								<div class="subsection">
									<input type="text" name="attr_r-piloting">
								</div>
							</fieldset>
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_preparedness_constraint" type="hidden" value="abd">
							<input name="attr_preparedness_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="preparedness-a" type="roll" name="attr_preparedness_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{preparedness_dice} {{rname=^{preparedness-a}}}">
								Preparedness
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="preparedness">
								<input class="occupation nba-hide npc-hide" name="attr_preparedness_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_preparedness" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="preparedness_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="preparedness_dec"></label>
								</div><span>/</span><input class="max" name="attr_preparedness_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="preparedness_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="preparedness_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_preparedness_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_psychoanalysis_constraint" type="hidden" value="abd">
							<input name="attr_psychoanalysis_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="psychoanalysis-a" type="roll" name="attr_psychoanalysis_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{psychoanalysis_dice} {{rname=^{psychoanalysis-a}}}">
								Psychoanalysis
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_psychoanalysis_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_psychoanalysis" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="psychoanalysis_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="psychoanalysis_dec"></label>
								</div><span>/</span><input class="max" name="attr_psychoanalysis_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="psychoanalysis_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="psychoanalysis_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_psychoanalysis_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_riding_constraint" type="hidden" value="abd">
							<input name="attr_riding_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="riding-a" type="roll" name="attr_riding_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{riding_dice} {{rname=^{riding-a}}}">
								Riding
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_riding_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_riding" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="riding_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="riding_dec"></label>
								</div><span>/</span><input class="max" name="attr_riding_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="riding_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="riding_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_riding_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_sanity_constraint" type="hidden" value="abd">
							<input name="attr_sanity_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="sanity-a" type="roll" name="attr_sanity_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{sanity_dice} {{rname=^{sanity-a}}}">
								Sanity
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_sanity_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_sanity" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="sanity_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="sanity_dec"></label>
								</div><span>/</span><input class="max" name="attr_sanity_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="sanity_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="sanity_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_sanity_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide npc-ability">
							<input class="constraint" name="attr_scuffling_constraint" type="hidden" value="abd">
							<input name="attr_scuffling_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="scuffling-a" type="roll" name="attr_scuffling_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{scuffling_dice} {{rname=^{scuffling-a}}}">
								Scuffling
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_scuffling_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_scuffling" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="scuffling_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="scuffling_dec"></label>
								</div><span>/</span><input class="max" name="attr_scuffling_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="scuffling_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="scuffling_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_scuffling_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_sense-trouble_constraint" type="hidden" value="abd">
							<input name="attr_sense-trouble_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="sense-trouble-a" type="roll" name="attr_sense-trouble_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{sense-trouble_dice} {{rname=^{sense-trouble-a}}}">
								Sense Trouble
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="sense-trouble">
								<input class="occupation nba-hide npc-hide" name="attr_sense-trouble_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_sense-trouble" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="sense-trouble_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="sense-trouble_dec"></label>
								</div><span>/</span><input class="max" name="attr_sense-trouble_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="sense-trouble_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="sense-trouble_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_sense-trouble_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_shadowing_constraint" type="hidden" value="abd">
							<input name="attr_shadowing_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="shadowing-a" type="roll" name="attr_shadowing_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{shadowing_dice} {{rname=^{shadowing-a}}}">
								Shadowing
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_shadowing_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_shadowing" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="shadowing_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="shadowing_dec"></label>
								</div><span>/</span><input class="max" name="attr_shadowing_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="shadowing_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="shadowing_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_shadowing_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide npc-ability">
							<input class="constraint" name="attr_shooting_constraint" type="hidden" value="abd">
							<input name="attr_shooting_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="shooting-a" type="roll" name="attr_shooting_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{shooting_dice} {{rname=^{shooting-a}}}">
								Shooting
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="shooting">
								<input class="occupation nba-hide npc-hide" name="attr_shooting_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_shooting" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="shooting_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="shooting_dec"></label>
								</div><span>/</span><input class="max" name="attr_shooting_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="shooting_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="shooting_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_shooting_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_shrink_constraint" type="hidden" value="abd">
							<input name="attr_shrink_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="shrink-a" type="roll" name="attr_shrink_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{shrink_dice} {{rname=^{shrink-a}}}">
								Shrink
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="shrink">
								<input class="occupation nba-hide npc-hide" name="attr_shrink_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_shrink" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="shrink_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="shrink_dec"></label>
								</div><span>/</span><input class="max" name="attr_shrink_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="shrink_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="shrink_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_shrink_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item">
							<input class="constraint" name="attr_stability_constraint" type="hidden" value="abd">
							<input name="attr_stability_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="stability-a" type="roll" name="attr_stability_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{stability_dice} {{rname=^{stability-a}}}">
								Stability
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_stability_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_stability" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="stability_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="stability_dec"></label>
								</div><span>/</span><input class="max" name="attr_stability_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="stability_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="stability_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_stability_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item nba-hide">
							<input class="constraint" name="attr_stealth_constraint" type="hidden" value="abd">
							<input name="attr_stealth_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="stealth-a" type="roll" name="attr_stealth_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{stealth_dice} {{rname=^{stealth-a}}}">
								Stealth
							</button>
							<span>
								<input class="occupation nba-hide npc-hide" name="attr_stealth_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_stealth" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="stealth_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="stealth_dec"></label>
								</div><span>/</span><input class="max" name="attr_stealth_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="stealth_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="stealth_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_stealth_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item toc-hide">
							<input class="constraint" name="attr_surveillance_constraint" type="hidden" value="abd">
							<input name="attr_surveillance_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="surveillance-a" type="roll" name="attr_surveillance_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{surveillance_dice} {{rname=^{surveillance-a}}}">
								Surveillance
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="surveillance">
								<input class="occupation nba-hide npc-hide" name="attr_surveillance_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_surveillance" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="surveillance_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="surveillance_dec"></label>
								</div><span>/</span><input class="max" name="attr_surveillance_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="surveillance_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="surveillance_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_surveillance_free" type="number" value="0" min="0">
						</div>
						<div class="abilities-item npc-ability">
							<input class="constraint" name="attr_weapons_constraint" type="hidden" value="abd">
							<input name="attr_weapons_dice" type="hidden" value="@{basic_roll}">
							<button data-i18n="weapons-a" type="roll" name="attr_weapons_roll" class="abilities-title"
								value="&{template:@{sheetswitch}} @{weapons_dice} {{rname=^{weapons-a}}}">
								Weapons
							</button>
							<span>
								<input class="mos toc-hide" name="attr_mos" type="radio" value="weapons">
								<input class="occupation nba-hide npc-hide" name="attr_weapons_occupation" type="checkbox" value="0.5">
								<input class="available" name="attr_weapons" type="number"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="weapons_inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="weapons_dec"></label>
								</div><span>/</span><input class="max" name="attr_weapons_max" type="number" value="0"><div>
									<label class="increment"><input name="attr_spinner" type="radio" value="weapons_max-inc"></label>
									<label class="decrement"><input name="attr_spinner" type="radio" value="weapons_max-dec"></label>
								</div>
							</span>
							<input class="free-points" name="attr_weapons_free" type="number" value="0" min="0">
						</div>
						<fieldset class="repeating_general">
							<div class="abilities-item npc-ability">
								<input class="constraint" name="attr_r-general_constraint" type="hidden" value="abd">
								<input name="attr_r-general_dice" type="hidden" value="@{basic_roll}">
								<div class="rep-title">
									<input class="options-flag" type="checkbox" name="attr_r-general_options-flag" checked="checked">
									<span>y</span>
									<div class="options">
										<input type="text" name="attr_r-general_title">
									</div>
									<div class="display">
										<button type="roll" name="attr_r-general_roll" class="abilities-title rep-title"
											value="&{template:@{sheetswitch}} @{r-general_dice} {{rname=@{r-general_title}}}">
											<span name="attr_r-general_title"></span>
										</button>
									</div>
								</div>
								<span>
									<input class="mos toc-hide" name="attr_r-mos" type="checkbox" value="1">
									<input class="occupation nba-hide npc-hide" name="attr_r-general_occupation" type="checkbox" value="0.5">
									<input class="available" name="attr_r-general" type="number"><div>
										<label class="increment"><input name="attr_r-general_inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-general_dec" type="checkbox" value="1"></label>
									</div><span>/</span><input class="max" name="attr_r-general_max" type="number" value="0"><div>
										<label class="increment"><input name="attr_r-general_max-inc" type="checkbox" value="1"></label>
										<label class="decrement"><input name="attr_r-general_max-dec" type="checkbox" value="1"></label>
									</div>
								</span>
								<input class="free-points" name="attr_r-general_free" type="number" value="0" min="0">
							</div>
						</fieldset>
					</div>
				</div>
			</div>
		</div>
	</div>
	<!-- NBA info -->
	<div class="nba-col1 section toc-hide nba-caps npc-hide">
		<div class="content">
			<b data-i18n="tag-team-benefits">Tag-Team Benefits</b>
			<br>
			<textarea name="attr_tag-team-benefits"></textarea>
		</div>
		<div class="content">
			<b data-i18n="special-weapons-training">Special Weapons Training</b>
			<br>
			<textarea name="attr_special-weapons-training"></textarea>
		</div>
	</div>
	<!-- Weapons -->
	<div class="toc-col2 toc-right nba-col2 nba-right npc-full">
		<div class="section">
			<div class="content weapons">
				<h2 data-i18n="weapons-w" class="nba-caps">Weapons</h2>

				<div class="weapon unarmed">
					<input class="options-flag" type="checkbox" name="attr_weapon-options-flag"><span>y</span>
					<div class="options">
						<div style="position: relative">
							<div class="weapon-options">
								<div class="options-col">
									<div class="input-row">
										<span class="additional"><span data-i18n="adjust:-w">Adjust: </span><input type="number" name="attr_unarmed_adjust" value="0"></span>
									</div>
								</div>
								<div class="options-col">
									<div class="mod-display mod-display-melee">
										<div>
											<span data-i18n="damage:-w">Damage: </span>
											<span class="mod-display" name="attr_unarmed_mod"></span>
										</div>
									</div>
								</div>
							</div>
						</div>
					</div>

					<div class="display">
						<span data-i18n="unarmed-attack" class="weapon-name">Unarmed Attack</span>
						<div class="weapon-rollers">
							<button type="roll" value="&{template:@{sheetswitch}-weapon} {{name=@{character_name}}} {{roll=[[1d6+@{unarmed_mod}]]}} {{rname=^{unarmed-attack}}}">
								<b data-i18n="attack-w">Attack</b>(<span name="attr_unarmed_mod"></span>)
							</button>
						</div>
					</div>
					<input type="hidden" name="attr_unarmed_mod" value="-2">
				</div>

				<fieldset class="repeating_weapons">
					<div class="weapon">
						<input type="hidden" name="attr_weapon-type-flag" value="m">
						<input class="options-flag" type="checkbox" name="attr_weapon-options-flag" checked="checked"><span>y</span>
						<div class="options">
							<div class="options-col">
								<div class="input-row">
									<label data-i18n="name:-n">Name:</label>
									<input type="text" name="attr_weapon" placeholder="Weapon Name">
								</div>
							</div>

							<div style="position: relative">
								<input class="category ranged" type="radio" name="attr_category" value="ranged" checked="true"><span data-i18n="ranged-w">Ranged</span>
								<input class="category melee" type="radio" name="attr_category" value="melee"><span data-i18n="melee-w">Melee</span>
								<div class="weapon-options ranged-options">
									<div class="options-col">
										<select name="attr_weapon-type">
											<option data-i18n="pistol-submachine-gun" class="toc-hide" value="pistol">Pistol/Submachine Gun</option>
											<option data-i18n="pistol" class="nba-hide" value="pistol">Pistol</option>
											<option data-i18n="shotgun" value="shotgun">Shotgun</option>
											<option data-i18n="automatic-w" class="nba-hide" value="automatic">Automatic</option>
											<option data-i18n="rifle" value="rifle">Rifle</option>
											<option data-i18n="thrown-w" class="toc-hide" value="thrown">Thrown</option>
											<option data-i18n="other" value="other">Other</option>
										</select>
									</div>
									<div class="options-col">
										<div class="input-row">
											<label>
												<input type="radio" name="attr_ranged_weight" value="0" checked="true">
												<span data-i18n="light-w"> Light</span>
											</label>
											<label>
												<input type="radio" name="attr_ranged_weight" value="1">
												<span data-i18n="heavy-w"> Heavy</span>
											</label>
											<label>
												<input type="radio" name="attr_ranged_weight" value="2">
												<span data-i18n="very-heavy-w"> Very Heavy</span>
											</label>
										</div>
										<div class="input-row nba-hide">
											<span class="additional capacity">
												<span data-i18n="ammo-capacity:-w">Ammo Capacity: </span>
												<input type="number" name="attr_capacity" value="20">
											</span>
											<label class="shotgun">
												<input type="checkbox" name="attr_double-barreled" value="1"><span data-i18n="doubl-barreled-w">Double Barreled</span>
											</label>
										</div>
									</div>
									<div class="mod-display">
										<div>
											<span data-i18n="point-blank-w">Point-Blank</span>
											<span class="additional"><span data-i18n="adjust:-w">Adjust: </span><input type="number" name="attr_point-blank_adjust" value="0"></span>
											<span class="mod-display" name="attr_point-blank_mod"></span>
										</div>
										<div>
											<span data-i18n="close-w">Close</span>
											<span class="additional"><span data-i18n="adjust:-w">Adjust: </span><input type="number" name="attr_close_adjust" value="0"></span>
											<span class="mod-display" name="attr_close_mod"></span>
										</div>
										<div>
											<span data-i18n="near-w">Near</span>
											<span class="additional"><span data-i18n="adjust:-w">Adjust: </span><input type="number" name="attr_near_adjust" value="0"></span>
											<span class="mod-display" name="attr_near_mod"></span>
										</div>
										<div class="long-range">
											<span data-i18n="long-w">Long</span>
											<span class="additional"><span data-i18n="adjust:-w">Adjust: </span><input type="number" name="attr_long_adjust" value="0"></span>
											<span class="mod-display" name="attr_long_mod"></span>
											<span data-i18n="out-of-range-w" class="range-message">(Out of Range)</span>
											<span data-i18n="extended-range-w" class="ex-range-message">(Extended Range)</span>
										</div>
									</div>
								</div>
								<div class="weapon-options melee-options">
									<div class="options-col">
										<div class="input-row">
											<label>
												<input type="radio" name="attr_melee_weight" value="-1" checked="true">
												<span data-i18n="light-w"> Light</span>
											</label>
										</div>
										<div class="input-row">
											<label>
												<input type="radio" name="attr_melee_weight" value="0">
												<span data-i18n="heavy-w"> Heavy</span>
											</label>
										</div>
										<div class="input-row">
											<label>
												<input type="radio" name="attr_melee_weight" value="1">
												<span data-i18n="very-heavy-w"> Very Heavy</span>
											</label>
										</div>
									</div>
									<div class="options-col">
										<div class="mod-display mod-display-melee">
											<div>
												<span class="additional"><span data-i18n="adjust:-w">Adjust: </span><input type="number" name="attr_melee_adjust" value="0"></span>
												<span data-i18n="damage:-w">Damage: </span>
												<span class="mod-display" name="attr_melee_mod"></span>
											</div>
										</div>
									</div>
								</div>
							</div>
							<input type="hidden" name="attr_point-blank_mod" value="+2">
							<input type="hidden" name="attr_close_mod" value="+0">
							<input type="hidden" name="attr_near_mod" value="+0">
							<input type="hidden" name="attr_long_mod" value="+0">
							<input type="hidden" name="attr_melee_mod" value="+0">
							<input type="hidden" name="attr_point-blank_roll" value="{{roll=[[1d6+2]]}}">
							<input type="hidden" name="attr_close_roll" value="{{roll=[[1d6]]}}">
							<input type="hidden" name="attr_near_roll" value="{{roll=[[1d6]]}}">
							<input type="hidden" name="attr_long_roll" value="{{roll=[[1d6]]}}">
							<input type="hidden" name="attr_melee_roll" value="{{roll=[[1d6]]}}">

						</div>
						<div class="display">
							<span class="weapon-name" name="attr_weapon"></span>
							<span data-i18n="capacity:-w" class="capacity nba-hide">Capacity: </span><span name="attr_capacity" class="capacity"></span>
							<div class="weapon-rollers">
								<button type="roll" class="melee-button" value="&{template:@{sheetswitch}-weapon} {{name=@{character_name}}} @{melee_roll} {{rname=@{weapon}}}">
									<b data-i18n="attack-w">Attack</b>(<span name="attr_melee_mod"></span>)
								</button>
								<button  type="roll" value="&{template:@{sheetswitch}-weapon} {{name=@{character_name}}} @{point-blank_roll} {{rname=@{weapon}}}">
									<b data-i18n="point-blank-w">Point-Blank</b>(<span name="attr_point-blank_mod"></span>)
								</button>
								<button  type="roll" value="&{template:@{sheetswitch}-weapon} {{name=@{character_name}}} @{close_roll} {{rname=@{weapon}}}">
									<b data-i18n="close-w">Close</b>(<span name="attr_close_mod"></span>)
								</button>
								<button  type="roll" value="&{template:@{sheetswitch}-weapon} {{name=@{character_name}}} @{near_roll} {{rname=@{weapon}}}">
									<b data-i18n="near-w">Near</b>(<span name="attr_near_mod"></span>)
								</button>
								<button type="roll" class="long-range" value="&{template:@{sheetswitch}-weapon} {{name=@{character_name}}} @{long_roll} {{rname=@{weapon}}}">
									<b data-i18n="long-w" class="long">Long</b><b data-i18n="slash-extended" class="slash">/Extended</b><b data-i18n="parenthetical-extended" class="extended">(Extended)</b>(<span name="attr_long_mod"></span>)
								</button>
							</div>
						</div>
					</div>
				</fieldset>

			</div>
		</div>
	</div>
	<!-- Spells -->
	<div class="toc-col2 toc-right nba-hide npc-hide">
		<div class="section spells">
			<div class="content">
				<h2 data-i18n="spells">Spells</h2>
				<fieldset class="repeating_r-spells">
					<div class="subsection">
						<input type="text" name="attr_r-spell">
					</div>
				</fieldset>
			</div>
		</div>
	</div>
	<!-- Vampire Stats -->
	<div class="npc-full vampire toc-hide nba-hide">
		<div class="section content">
			<div class="nba-col1">
				<b data-i18n="powers-v" class="nba-caps">Powers</b>
				<fieldset class="repeating_r-powers">
					<div class="subsection">
						<input type="text" name="attr_r-power">
					</div>
				</fieldset>
			</div>
			<div class="nba-col1">
				<b data-i18n="banes-v" class="nba-caps">Banes</b>
				<fieldset class="repeating_r-banes">
					<div class="subsection">
						<input type="text" name="attr_r-bane">
					</div>
				</fieldset>
			</div>
			<div class="nba-col1">
				<b data-i18n="compulsions-v" class="nba-caps">Compulsions</b>
				<fieldset class="repeating_r-compulsions">
					<div class="subsection">
						<input type="text" name="attr_r-compulsion">
					</div>
				</fieldset>
			</div>
			<div class="nba-col1">
				<b data-i18n="dreads-v" class="nba-caps">Dreads</b>
				<fieldset class="repeating_r-dreads">
					<div class="subsection">
						<input type="text" name="attr_r-dread">
					</div>
				</fieldset>
			</div>
			<div class="nba-col1">
				<b data-i18n="requirements-v" class="nba-caps">Requirements</b>
				<fieldset class="repeating_r-requirements">
					<div class="subsection">
						<input type="text" name="attr_r-requirement">
					</div>
				</fieldset>
			</div>
			<div class="nba-col1">
				<b data-i18n="blocks-v" class="nba-caps">Blocks</b>
				<fieldset class="repeating_r-blocks">
					<div class="subsection">
						<input type="text" name="attr_r-block">
					</div>
				</fieldset>
			</div>
		</div>
	</div>
	<!-- Contacts/Covers, Etc. -->
	<div class="nba-full nba-left toc-hide npc-hide">
		<div class="section content">
			<div class="nba-col1">
				<b data-i18n="covers" class="nba-caps">Covers</b>
				<fieldset class="repeating_r-covers">
					<div class="subsection-num">
						<input type="text" name="attr_r-cover">
						<input name="attr_r-cover-n" type="number" value="1">
					</div>
				</fieldset>
			</div>
			<div class="nba-col1">
				<b data-i18n="network-contacts" class="nba-caps">Network Contacts</b>
				<fieldset class="repeating_r-contacts">
					<div class="subsection-num">
						<input type="text" name="attr_r-contact">
						<input name="attr_r-contact-n" type="number" value="1">
					</div>
				</fieldset>
			</div>
			<div class="nba-col1">
				<b data-i18n="trust" class="nba-caps">Trust</b>
				<fieldset class="repeating_r-trusts">
					<div class="subsection">
						<input type="text" name="attr_r-trust">
					</div>
				</fieldset>
			</div>
		</div>
	</div>
	<!-- Notes -->
	<div class="notes-full nba-full section toc-col2 npc-full">
		<div class="content">
			<div data-i18n="notes-n">Notes</div>
			<textarea name="attr_notes"></textarea>
		</div>
	</div>
</div>

<!-- Hidden Attributes -->
<input type="hidden" name="attr_version" value="0">
<input type="hidden" name="attr_academic_points" value="0">
<input type="hidden" name="attr_r-academic_points" value="0">
<input type="hidden" name="attr_interpersonal_points" value="0">
<input type="hidden" name="attr_r-interpersonal_points" value="0">
<input type="hidden" name="attr_technical_points" value="0">
<input type="hidden" name="attr_r-technical_points" value="0">
<input type="hidden" name="attr_general_points" value="0">
<input type="hidden" name="attr_r-general_points" value="0">
<input type="hidden" name="attr_inv_points" value="0">
<input type="hidden" name="attr_gen_points" value="0">
<input type="hidden" name="attr_hit-rating" value="3">
<input type="hidden" name="attr_point_query" value="{{name=@{character_name}}} {{points=[[?{Spend|0}]]}} {{roll=[[1d6+?{Spend}]]}}">
<input type="hidden" name="attr_basic_roll" value="{{name=@{character_name}}} {{roll=[[1d6]]}}">
<input type="hidden" name="attr_automatic_query" value="{{automatic=[[?{Full Auto|No,0|Yes,2}]]}} {{roll=[[1d6+?{Full Auto}">
<input type="hidden" name="attr_automatic-heavy_query" value="{{automatic=[[?{Full Auto|No,0|Yes,3}]]}} {{roll=[[1d6+?{Full Auto}">
<input type="hidden" name="attr_barrels_query" value="{{barrels=[[?{Both barrels|No,0|Yes,1}]]}} {{roll=[[1d6+?{Both barrels}">

<div class="rolltemplates">
	<rolltemplate class="sheet-rolltemplate-toc">
		<div class="name">
			{{name}}
		</div>
		<div class="result">
			{{roll}}
		</div>
		{{#rollGreater() points 0}}
			<div class="points">
				<span data-i18n="point-spend">Points spent: </span>{{points}}
			</div>
		{{/rollGreater() points 0}}
		<div class="label">
			{{rname}}
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-toc-weapon">
		<div class="name">
			{{name}}
		</div>
		<div class="label">
			{{rname}}
		</div>
		{{#rollGreater() automatic 0}}
			<div data-i18n="full-auto" class="points">
				Full auto
			</div>
		{{/rollGreater() automatic 0}}
		{{#rollGreater() barrels 0}}
			<div data-i18n="both-barrels" class="points">
				Both barrels
			</div>
		{{/rollGreater() barrels 0}}
		<div class="result">
			{{roll}}
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-nba">
		<div class="name">
			{{name}}
		</div>
		<div class="result">
			{{roll}}
		</div>
		{{#rollGreater() points 0}}
			<div class="points">
				<span data-i18n="point-spend">Points spent: </span>{{points}}
			</div>
		{{/rollGreater() points 0}}
		<div class="label">
			{{rname}}
		</div>
	</rolltemplate>

	<rolltemplate class="sheet-rolltemplate-nba-weapon">
		<div class="name">
			{{name}}
		</div>
		<div class="label">
			{{rname}}
		</div>
		<div class="result">
			{{roll}}
		</div>
	</rolltemplate>
</div>

</div>
<script type="text/worker">    //changes: occult -> occult-studies; Assess Honesty -> Bullshit Detector; Outdoorsman -> Outdoor Survival; Explosives -> Explosive Devices;
    // Mechanical Repair -> Mechanics; 
    var currentAbilities = {},
        reverseAbilities = {},
        allAbilities = ["accounting", "anthropology", "archaeology", "architecture", "art", "art-history", "art-hsitory", "assess-honesty", "astronomy", "athletics", "bargain", "biology", "bullshit-detector", "bureaucracy", "chemistry", "conceal", "cop-talk", "cover", "craft", "credit-rating", "criminology", "cryptography", "cthulhu-mythos", "data-recovery", "diagnosis", "digital-intrusion", "disguise", "driving", "electrical-repair", "electronic-surveillance", "evidence-collection", "explosive-devices", "explosives", "filch", "firearms", "first-aid", "flattery", "fleeing", "flirting", "forensic-pathology", "forensics", "forgery", "gambling", "geology", "hand-to-hand", "health", "high-society", "history", "human-terrain", "hypnosis", "infiltration", "interrogation", "intimidation", "languages", "law", "library-use", "locksmith", "mechanical-repair", "mechanics", "medic", "medicine", "military-science", "negotiation", "network", "notice", "occult", "occult-studies", "oral-history", "outdoorsman", "outdoor-survival", "pharmacy", "photography", "physics", "piloting", "preparedness", "psychoanalysis", "reassurance", "research", "riding", "sanity", "scuffling", "sense-trouble", "shadowing", "shooting", "shrink", "stability", "stealth", "streetwise", "surveillance", "theology", "tradecraft", "traffic-analysis", "urban-survival", "vampirology"],
        system = 'toc',
        npc = false,
        sections = ['academic', 'interpersonal', 'technical', 'general'],
        pointChange = ['inc', 'dec', 'max-inc', 'max-dec', '', 'max'],
        maxChange = ['occupation', 'max', 'free'],
    
        changeString = function(elementList, endings = [""], repeating = false) {
            let string = '';
            if(repeating) {
                _.each(elementList, function(element) {
                    _.each(endings, function(ending) {
                        string += ' change:repeating_' + element + ':r-' + element;
                        string += (ending == '') ? '' : '_' + ending;
                    });
                });
            } else {
                _.each(elementList, function(element) {
                    _.each(endings, function(ending) {
                        string += ' change:' + element;
                        string += (ending == '') ? '' : '_' + ending;
                    });
                });
            }
            return string;
        },
    
        getAbility = function(trigger) {
            return trigger ? trigger.split("_") : false;
        },
    
        abilityList = function(elementList, endings, repeating = false) {
            let returnList = [],
                prefix = repeating ? repeating : '';
            _.each(elementList, function(element) {
                _.each(endings, function(ending) {
                    let underscore = ending == '' ? '' : '_';
                    returnList.push(prefix + element + underscore + ending);
                });
            });
            return returnList;
        },
    
        returnInt = function(x) {
            return isNaN(x) ? "" : parseInt(x);
        },
    
        makeRepeatingArray = function(section, repIds) {
            let result = [];
    
            _.each(repIds, function(repId) {
                result.push('repeating_' + section + '_' + repId + '_r-' + section);
            });
            return result;
        },
    
        getRepeating = function(secArray, callback, resultArray = [], returnSecs = []) {
            let tempArray = [].concat(secArray);
    
            if(tempArray.length > 0) {
                let x = tempArray.pop();
                getSectionIDs(x, function(repIds) {
                    resultArray = resultArray.concat(makeRepeatingArray(x, repIds));
                    returnSecs.push(x);
                    getRepeating(tempArray, callback, resultArray, returnSecs);
                });
            } else {
                callback(resultArray, returnSecs);
            }
        },
    
        getSectionTotal = function(secs = {}, eventInfo = {category: false}, repeating = false) {
            // console.log("getSectionTotal::secs",secs);
            // console.log("getSectionTotal::eventInfo",eventInfo);
            // console.log("getSectionTotal::repeating",repeating);
            let aList = [],
                pointList = abilityList(sections, ['points']);
            pointList = pointList.concat(abilityList(sections, ['points'], 'r-'));
    
            if(eventInfo.category) {
                aList = aList.concat(abilityList(secs, maxChange.concat([""])));
            } else {
                _.each(sections, function(sec) {
                    aList = aList.concat(abilityList(currentAbilities[sec], maxChange));
                });
            }
    
            getAttrs(aList.concat(pointList), function(values) {
                // console.log("getSectionTotal::getAttrs::values",values);
                let result = {},
    
                    current = repeating ? 'r-' + eventInfo.category + '_points' : eventInfo.category + '_points',
    
                    computePoints = function(abilities) {
                        //console.log("computePoints::abilities",abilities);
                        let result = 0;
                        _.each(abilities, function(ability) {
                            let max = parseInt(values[ability + "_max"]),
                                occupation = values[ability + "_occupation"];
                            //console.log("====== ABILITY ======: ",ability);
                            //console.log(`initial values: {max: ${max}, occupation: ${occupation}}`);
                            if(ability == 'fleeing') {
                                let ath = values['athletics_max'] ? parseInt(values['athletics_max']) : 0;
                                if(ath == 0 || occupation == 0.5) {
                                    max = Math.max(max - values[ability + "_free"], 0);
                                    occupation = 0.5;
                                }
                                else if(2*ath < max){
                                    max = ath + 0.5*max; //Fleeing points cost half when having more than (2*athletics points) amount of fleeing   (ToC p.26) 
                                }else{
                                    max = Math.max(max - values[ability + "_free"], 0);
                                }
                            } else {
                                //console.log(`max calculation: max(${max} - ${values[ability+"_free"]})`);
                                max = Math.max(max - values[ability + "_free"], 0);
                                //console.log(`= ${max}`);
                            }
                            occupation = system == 'toc' ? occupation : 0;
                            //console.log("computePoints::each::max",max);
                            //console.log("computePoints::each::occupation",occupation);
                            result += max ? Math.ceil(max * (1 - occupation)) : 0;
                        });
                        //console.log("computePoints::result",result);
    
                        return result;
                    },
    
                    setResult = function(result) {
                        //console.log("setResult::result", result);
                        result['inv_points'] = 0;
                        result['gen_points'] = 0;
                        _.each(['academic', 'interpersonal', 'technical'], function(sec) {
                            result['inv_points'] += parseInt(result[sec + '_points']) + parseInt(result['r-' + sec + '_points']);
                        });
                        result['gen_points'] += parseInt(result['general_points']) + parseInt(result['r-general_points']);
                        setAttrs(result);
                    };
    
                if(eventInfo.category) {
                    _.each(pointList, function(sec) {
                        result[sec] = parseInt(values[sec]);
                    });
                    result[current] = 0;
    
                    result[current] = computePoints(secs);
    
                    if(eventInfo.sourceAttribute.substr(-4) == 'free') {
                        let oldVal = 0, diff = 0,
                            trigger = eventInfo.sourceAttribute.slice(0,-5),
                            newVal = parseInt(values[trigger + '_free']);
    
                        if(eventInfo.previousValue) {
                            oldVal = parseInt(eventInfo.previousValue);
                            if(oldVal == newVal) {
                                oldVal = 0;
                            }
                        }
    
                        diff = newVal - oldVal;
    
                        console.log("trigger:",trigger);
                        result[trigger + '_max'] = Math.max(parseInt(values[trigger + '_max']) + diff, 0);
                        result[trigger] = Math.max(parseInt(values[trigger]) + diff, 0);
                    }
                    setResult(result);
    
                } else {
                    let idResult = [];
    
                    result = secs;
    
                    _.each(pointList, function(sec) {
                        result[sec] = 0;
                    });
    
                    _.each(sections, function(sec) {
                        result[sec + '_points'] += computePoints(currentAbilities[sec]);
                    });
                    console.log("result after computing points:",result);
    
                    console.log("repeating sections:",sections);
                    getRepeating(sections, function(resultArray) {
                        console.log(`resultArray: ${resultArray}, maxChange:${maxChange}`);
                        getAttrs(abilityList(resultArray, maxChange), function(vals) {
                            _.each(resultArray, function(rAbility) {
                                let max = vals[rAbility + "_max"],
                                    occupation = vals[rAbility + "_occupation"];
                                console.log(`repeating section abilityList(${resultArray}, ${maxChange}) array iteration: {max:${max},occupation:${occupation}}`)
                                occupation = system == 'toc' ? occupation : 0;
                                result[rAbility.split('_')[3] + '_points'] += max ? Math.ceil(max * (1 - occupation)) : 0;
                            });
                            setResult(result);
                        });
                    });
    
                }
            });
        },
    
        abilityChange = function(trigger, repeating = false) {
            if (trigger == false) {
                return;
            }
    
            let ability = trigger[0],
                source = trigger[1],
                max = ability + "_max",
                constraint = ability + "_constraint",
                free = ability + "_free",
                noCherry = ["health", "stability", "cover", "network"];
    
            console.log(`ability: ${ability}, max: ${max}, free: ${free}`)
            getAttrs([ability, max, free, "cherry-branch-height"], function(values) {
                let change = {},
                    maxMin = npc ? 0 : parseInt(values[free]),
                    min = ["health", "stability"].indexOf(ability) == -1 ? 0 : -12;
    
                change[ability] = returnInt(values[ability]);
                change[max] = returnInt(values[max]);
                change[constraint] = " ";
    
                if(source == "inc") {
                    change[ability] = change[ability] ? change[ability] + 1 : 1;
                }
                if(source == "dec") {
                    change[ability] -= 1;
                }
    
                if(source == "max-inc") {
                    change[max] = change[max] ? change[max] : 0;
                    change[ability] = change[ability] ? change[ability] : 0;
                    if(change[ability] == change[max]) {
                        change[ability] = change[max] + 1;
                    }
                    change[max] += 1;
                }
                if(source == "max-dec") {
                    if(change[ability] == change[max]) {
                        change[ability] = change[max] - 1;
                    }
                    change[max] -= 1;
                }
    
                if(change[max] <= maxMin) {
                    change[constraint] += "d";
                    change[max] = maxMin ? maxMin : "";
                }
                if(change[ability] >= change[max]) {
                    change[constraint] += "a";
                }
                if(change[ability] <= min) {
                    change[constraint] += "b";
                    change[ability] = change[max] ? min : "";
                }
    
                if(values[ability] == "" && values[max] == 0) {
                    change[ability] = change[max];
                }
    
                if(ability == 'athletics' && !npc) {
                    change['hit-rating'] = change[max] >= 8 ? 4 : 3;
                }
    
                if(change[ability] <= -10) {
                    change[constraint] += 's';
                }
    
                if(parseInt(change[ability]) > 0) {
                    change[ability + "_dice"] = "@{point_query}";
                } else {
                    change[ability + "_dice"] = "@{basic_roll}";
                }
    
                if(npc) {
                    change[ability] = change[ability] == "" ? 0 : change[ability];
                }
    
                if(change[ability] >= values["cherry-branch-height"] && noCherry.indexOf(ability) == -1) {
                    change[constraint] += "x";
                }
    
                console.log("change:",change);
                setAttrs(change); //this is causing a Firebase error when changing Abilities
            });
        };
    
    on("sheet:opened change:sheetswitch", function(eventInfo) {
        let systemAbilities = {
                tocAcademic: ['accounting', 'anthropology', 'archaeology', 'architecture', 'art-history', 'biology', 'cthulhu-mythos', 'cryptography', 'geology', 'history', 'languages', 'law', 'library-use', 'medicine', 'occult', 'physics', 'theology'],
                tocInterpersonal: ['assess-honesty', 'bargain', 'bureaucracy', 'cop-talk', 'credit-rating', 'flattery', 'interrogation', 'intimidation', 'oral-history', 'reassurance', 'streetwise'],
                tocTechnical: ['art', 'astronomy', 'chemistry', 'craft', 'evidence-collection', 'forensics', 'locksmith', 'outdoorsman', 'pharmacy', 'photography'],
                tocGeneral: ['athletics', 'conceal', 'disguise', 'driving', 'electrical-repair', 'explosives', 'filch', 'firearms', 'first-aid', 'fleeing', 'health', 'hypnosis', 'mechanical-repair', 'piloting', 'preparedness', 'psychoanalysis', 'riding', 'sanity', 'scuffling', 'sense-trouble', 'shadowing', 'stability', 'stealth', 'weapons'],
                nbaAcademic: ['accounting', 'archaeology', 'architecture', 'art-history', 'criminology', 'diagnosis', 'history', 'human-terrain', 'languages', 'law', 'military-science', 'occult-studies', 'research', 'vampirology'],
                nbaInterpersonal: ['bullshit-detector', 'bureaucracy', 'cop-talk', 'flattery', 'flirting', 'high-society', 'interrogation', 'intimidation', 'negotiation', 'reassurance', 'streetwise', 'tradecraft'],
                nbaTechnical: ['astronomy', 'chemistry', 'cryptography', 'data-recovery', 'electronic-surveillance', 'forensic-pathology', 'forgery', 'notice', 'outdoor-survival', 'pharmacy', 'photography', 'traffic-analysis', 'urban-survival'],
                nbaGeneral: ['athletics', 'conceal', 'cover', 'digital-intrusion', 'disguise', 'driving', 'explosive-devices', 'filch', 'gambling', 'hand-to-hand', 'health', 'infiltration', 'mechanics', 'medic', 'network', 'piloting', 'preparedness', 'sense-trouble', 'shooting', 'shrink', 'stability', 'surveillance', 'weapons']};
    
        getAttrs(["health_default", "stability_default", "sanity_default", "cover_default", "network_default", "sheetswitch", "firstopen", "gen_points_default", "inv_points_default"], function(values) {
            let updates = {version: 0.5};
    
            system = values.sheetswitch;
            _.each(sections, function(section) {
                tempArray = systemAbilities[system + section[0].toUpperCase() + section.substr(1)];
                currentAbilities[section] = tempArray;
                _.each(tempArray, function(ability) {
                    reverseAbilities[ability] = section;
                });
            });
    
            if(!values.firstopen) {
                _.each(["health", "stability", "sanity", "cover", "network"], function(ability) {
                    updates[ability + '_free'] = values[ability + "_default"];
                    if(!npc) {
                        updates[ability + '_max'] = updates[ability + "_free"];
                        updates[ability] = updates[ability + "_free"];
                    }
                });
    
                ["gen_points", "inv_points"].forEach((ability) => {
                    updates[ability] = 0;
                    updates[`${ability}_max`] = values[`${ability}_default`];
                });
                console.log(updates);
    
                updates.sanity_marker = updates.sanity_free;
                updates.firstopen = 1;
            }
    
            if(system == "toc") {
                updates.vampswitch = 0;
            }
    
            updates.sheetswitch = values.sheetswitch;
            setAttrs(updates, {}, function() {
                getSectionTotal();
            });
        });
    });
    
    on(changeString(["health", "stability", "sanity", "cover", "network"], ["default"]), function(eventInfo) {
        let trigger = eventInfo.sourceAttribute.split('_')[0],
            updates = {};
    
        updates[trigger + '_free'] = eventInfo.newValue;
        setAttrs(updates);
    });
    
    on("change:npcswitch", function(eventInfo) {
        let abilities = ["aberrance", "athletics", "conceal", "driving", "firearms", "hand-to-hand", "health", "medic", "scuffling", "shooting", "weapons"],
            abilityVal = 0,
            updates = {};
    
        if(parseInt(eventInfo.newValue) == 1) {
            updates["edit-abilities"] = 0;
            npc = true;
        } else {
            updates["edit-abilities"] = 1;
            abilityVal = "";
            npc = false;
        }
    
        _.each(abilities, function(x) {
            updates[x] = abilityVal;
        });
    
        if(npc) {
            setAttrs(updates);
        } else {
            getAttrs(abilityList(abilities, ["free"]), function(values) {
                _.each(abilities, function(ability) {
                    if(values[ability + '_free']) {
                        updates[ability + '_max'] = values[ability + '_free'];
                        updates[ability] = values[ability + '_free'];
                    }
                });
                setAttrs(updates);
            });
        }
    });
    
    on(changeString(allAbilities) + " change:spinner", function(eventInfo) {
        let trigger = eventInfo.sourceAttribute,
            resetAbilities = function(sectionArray) {
                getRepeating(sectionArray, function(resultArray, returnedSecs) {
                    let secAbilities = [],
                        fullList = []; //resultArray.concat(allAbilities);
    
                    _.each(returnedSecs, function(sec) {
                        secAbilities = secAbilities.concat(currentAbilities[sec]);
                    });
    
                    fullList = resultArray.concat(secAbilities);
    
                    getAttrs(abilityList(fullList, ['max', '']), function(vals) {
                        let results = {},
                            noReset = ["sanity", "health", "stability", "cover", "network"];
    
                        _.each(fullList, function(ability) {
                            if(vals[ability] != vals[ability + '_max'] && vals[ability + '_max'] != "0") {
                                if(noReset.indexOf(ability) == -1) {
                                    results[ability] = vals[ability + '_max'];
                                }
                            }
                        });
    
                        setAttrs(results);
                    });
                });
            };
    
        if(trigger) {
            if(trigger == "spinner") {
                getAttrs(["spinner"], function(values) {
                    setAttrs({spinner: ""}, {silent: true});
                    if(values.spinner == "reset-inv") {
                        resetAbilities(["academic", "interpersonal", "technical"]);
                    } else if(values.spinner == "reset-gen") {
                        resetAbilities(["general"]);
                    }
                    else {
                        abilityChange(getAbility(values.spinner));
                    }
                });
            } else {
                abilityChange(getAbility(trigger));
            }
        }
    });
    
    on(changeString(sections, pointChange, true), function(eventInfo) {
        let triggerArray = eventInfo.sourceAttribute.split('_'),
            trigger = triggerArray.pop();
        triggerArray.splice(2, 1);
        abilityChange([triggerArray.join('_'), trigger], true);
    });
    
    on(changeString(allAbilities, maxChange), function(eventInfo) {
        eventInfo.category = reverseAbilities[eventInfo.sourceAttribute.split('_')[0]];
        if(!npc) {
            getSectionTotal(currentAbilities[eventInfo.category], eventInfo);
        }
    });
    
    on(changeString(sections, maxChange, true), function(eventInfo) {
        eventInfo.category = eventInfo.sourceAttribute.split('_')[1];
        if(!npc) {
            getSectionIDs(eventInfo.category, function(repIds) {
                let nameArray = makeRepeatingArray(eventInfo.category, repIds);
                getSectionTotal(nameArray, eventInfo, true);
            });
        }
    });
    
    on("change:repeating_weapons", function(eventInfo) {
        if(eventInfo.sourceAttribute.split('_').length > 3) {
            getAttrs(
                abilityList(["melee", "point-blank", "close", "near", "long"], ["adjust"], "repeating_weapons_").concat(
                abilityList(["weapon-type", "capacity", "category", "ranged_weight", "melee_weight", "automatic", "double-barreled", "weapon-type-flag"], [""], "repeating_weapons_")),
            function(values) {
                let prefix = "repeating_weapons_",
                    results = {},
                    rWeight = parseInt(values[prefix + "ranged_weight"]),
                    pbWeight = rWeight,
                    nlWeight = rWeight,
                    cMod = 0,
                    nMod = 0,
                    lMod = 0,
                    pbMod = 2,
                    query = "",
                    changeRoll = function(roll, weight, extra = "", base = "") {
                        let fullQuery = extra == "" ? "" : "@{" + extra + "_query} ",
                            addMod = function(mod) {
                                if(mod == "") {
                                    return "";
                                } else {
                                    let intMod = parseInt(mod);
                                    if(intMod != 0) {
                                        return intMod > 0 ? "+" + intMod : intMod;
                                    } else {
                                        return "";
                                    }
                                }
                            };
                            results[prefix + roll +"_roll"] = extra ? fullQuery : "{{roll=[[1d6"
                            results[prefix + roll +"_roll"] += addMod(base) + addMod(weight) + addMod(values[prefix + roll +"_adjust"]) + "]]}}";
                        };
                results[prefix + "weapon-type-flag"] = values[prefix + "category"] == 'melee' ? 'm' : values[prefix + "weapon-type"][0];
                if(values[prefix + "category"] == "melee") {
                    results[prefix + "melee_mod"] = parseInt(values[prefix + "melee_weight"]) + parseInt(values[prefix + "melee_adjust"]);
                    changeRoll('melee', values[prefix + "melee_weight"]);
                } else {
                    if(values[prefix + "weapon-type"] == "shotgun") {
                        pbWeight = rWeight < 2 ? 1 : rWeight;
                        nlWeight = 0;
                        cMod = system == 'nba' ? 1 : 0;
                        if(values[prefix + "double-barreled"] == "1") {
                            query = "barrels";
                        }
                    }
    
                    if(values[prefix + "weapon-type"] == "automatic") {
                        results[prefix + "double-barreled"] = "";
                        query = "automatic";
                        if(parseInt(results[prefix + "capacity"]) >= 50) {
                            query = "automatic-heavy";
                        }
                    }
    
                    if(values[prefix + "weapon-type"] == "thrown") {
                        rWeight -= 1;
                        pbWeight -= 1;
                        nlWeight -= 1;
                        nMod = -1;
                        lMod = -1;
                        pbMod = 0;
                    }
    
                    results[prefix + "point-blank_mod"] = pbMod + pbWeight + parseInt(values[prefix + "point-blank_adjust"]);
                    changeRoll('point-blank', pbWeight, query, pbMod);
                    results[prefix + "close_mod"] = rWeight + cMod + parseInt(values[prefix + "close_adjust"]);
                    changeRoll('close', rWeight, query, cMod);
                    results[prefix + "near_mod"] = nlWeight + nMod + parseInt(values[prefix + "near_adjust"]);
                    changeRoll('near', nlWeight, query, nMod);
                    results[prefix + "long_mod"] = nlWeight +lMod + parseInt(values[prefix + "long_adjust"]);
                    changeRoll('long', nlWeight, query, lMod);
                }
                for(let key in results) {
                    if(key.substr(-4) == '_mod') {
                        results[key.slice(0, -4)] = results[key];
                        results[key] = results[key] >= 0 ? "+" + results[key] : results[key];
                    }
                }
                setAttrs(results, {silent: true});
            });
        }
    });
    
    on("change:unarmed_adjust", function() {
        getAttrs(["unarmed_adjust"], function(values) {
            let results = {};
    
            results.unarmed_mod = parseInt(values.unarmed_adjust) - 2;
            setAttrs(results);
        }) ;
    });
    
    on(changeString(["digital-intrusion", "medic", "shrink", "surveillance"], ["max"]), function(eventInfo) {
        if(system == "nba") {
            let updates = {}, trigger = eventInfo.sourceAttribute.split("_")[0],
                cherries = {medic: "diagnosis", shrink: "bullshit-detector", surveillance: "electronic-surveillance"};
            cherries["digital-intrusion"] = "cryptography";
    
            getAttrs([trigger + "_max", trigger + "_cherry", "cherry-branch-height",
                    cherries[trigger], cherries[trigger] + "_max", cherries[trigger] + "_free"], function(values) {
                let addPoint = function(ability, inc = 1) {
                    let points = values[ability] ? parseInt(values[ability]) : 0;
    
                    //updates[ability] = Math.max(points + inc, 0);
                    //updates[ability + "_max"] = Math.max(parseInt(values[ability + "_max"]) + inc, 0);
                    updates[ability + "_free"] = Math.max(parseInt(values[ability + "_free"]) + inc, 0);
                };
    
                if(values[trigger + "_max"] >= values["cherry-branch-height"]) {
                    if(!values[trigger + "_cherry"]) {
                        addPoint(cherries[trigger]);
                        updates[trigger + "_cherry"] = 1;
                    }
                } else {
                    if(values[trigger + "_cherry"]) {
                        addPoint(cherries[trigger], -1);
                        updates[trigger + "_cherry"] = "";
                    }
                }
    
                setAttrs(updates);
            });
        }
    });
    
    on("change:armor-type", function(eventInfo) {
        let updates = {};
    
        updates["bullet-reduction"] = 0;
        updates["melee-reduction"] = 0;
        updates["explosive-reduction"] = 0;
    
        switch(eventInfo.newValue) {
            case "balistic-cloth":
                updates["bullet-reduction"] = 1;
                break;
            case "police-vest":
                updates["bullet-reduction"] = 2;
                updates["melee-reduction"] = 1;
                break;
            case "military-armor":
                updates["bullet-reduction"] = 3;
                updates["explosive-reduction"] = 3;
        }
    
        setAttrs(updates);
    });
    
    on(changeString(["sanity", "cthulhu-mythos"], ["max"]), function() {
        getAttrs(["sanity", "sanity_max", "cthulhu-mythos_max"], function(values) {
            let result = {};
            if(!values["cthulhu-mythos_max"]) {
                values["cthulhu-mythos_max"] = 0;
            }
            result["sanity_marker"] = parseInt(values["sanity_max"]);
            if(parseInt(values["cthulhu-mythos_max"]) > 0) {
                result["sanity_marker"] = Math.min(parseInt(values["sanity_max"]), 10 - parseInt(values["cthulhu-mythos_max"]));
            }
            result["sanity_marker"] = Math.max(result["sanity_marker"], 0);
            result["sanity_marker"] = Math.min(result["sanity_marker"], 15);
            setAttrs(result);
        });
    });
    
    on("change:repeating_general:r-mos", function(eventInfo) {
        if(eventInfo.newValue == "1") {
            let updates = {mos: "blank"};
    
            getSectionIDs("repeating_general", function(idArray) {
                console.log(idArray);
                _.each(idArray, function(abilityID){
                    if(eventInfo.sourceAttribute != "repeating_general_" + abilityID + "_r-mos") {
                        updates["repeating_general_" + abilityID + "_r-mos"] = 0;
                    }
                });
                setAttrs(updates, {silent: true});
            });
        }
    });
    
    on("change:mos", function(eventInfo) {
        let updates = {};
    
        getSectionIDs("repeating_general", function(idArray) {
            _.each(idArray, function(abilityID){
                updates["repeating_general_" + abilityID + "_r-mos"] = 0;
            });
            console.log(updates);
            setAttrs(updates, {silent: true});
        });
    });
</script>





<input name="attr_SetupDone" style="display: none;" type="text" value="0"> 
<input type="radio" class="sheet-page1" name="attr_page" value="1" checked="checked" id="sheet-page1">
    <label for="sheet-page1" data-i18n="traveller-c">Time Traveller</label>
<input type="radio" class="sheet-page2" name="attr_page" value="2" id="sheet-page2">
    <label for="sheet-page2" data-i18n="machine-c">Time Machine</label>
<div style="padding-left: 700px;">
	<input type="hidden" name="attr_isDL" value="{{DL=?{Difficulty|9}}}">
	<input id="DL" type="checkbox" name="attr_suppressDL" value="1"><label style='margin: -14px 0px -4px 20px;  font-size: 10px;' title="When DarkRed: Request Difficulty for roll. When Black: Don't request" for="DL" data-i18n="suppressDifficulty-c">Suppress Difficulty?</label>
</div>
<br />
<br />
<div class="sheet-page1">
	<!-- Introduction -->
	<div style="display: inline-block; vertical-align: top; width: 236px; height: 110px;">
		<label style="text-align: center; width: 300px; font-weight: bold; font-size: 28px; margin: 26px 0px 0px 0px; padding: 0px 1px 12px 0px; border-bottom: 2px solid Black;" data-i18n="doctorWho-u">DOCTOR WHO</label>
		<label style="text-align: center; width: 300px; font-weight: bold; font-size: 12px; margin: 2px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="theRoleplayingGame-u">THE ROLEPLAYING GAME</label>
		<label style="text-align: center; width: 300px; font-weight: bold; font-size:  9px; margin: -6px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="secondEdition-u">SECOND EDITION</label>
	</div>
	
	<div  style="display: inline-block; vertical-align: top; width: 300px; height: 270px; margin-left: 12px;">
		<img class="sheet-clipPhoto" name="attr_character_avatar" style="height: 330px; width: 290 px;" title="ID Photograph(Character Avatar)"> 

	</div>
	
	<div style="display: inline-block; vertical-align: top; width: 236px; height: 110px; margin-left: 6px;">
		<label style="text-align: center; width: 300px; font-weight: bold; font-size: 25px; margin: 20px 0px 0px 0px; padding: 0px 1px 6px 0px;" data-i18n="character-u">CHARACTER</label>
		<label style="text-align: center; width: 300px; font-weight: bold; font-size: 25px; margin: 10px 0px 0px 0px; padding: 0px 1px 6px 0px;" data-i18n="sheet-u">SHEET</label>

	</div>
	<!-- Biography -->
	<div  style="display: inline-block; vertical-align: top;">
		<div style="display: inline-block; vertical-align: top; width: 224px; height: 284px; margin: -154px 0px 0px 6px; padding-left: 0px;">
			<label style="width: 230px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="characterName-u">CHARACTER NAME</label>
			<input type="text" spellcheck="false" name="attr_character_name" style="width: 226px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />
			<label style="width: 230px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="concept-u">CONCEPT</label>
			<input type="text" spellcheck="false" name="attr_concept" style="width: 226px; height: 28px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;" />
			<input type="text" spellcheck="false" name="attr_concept" style="width: 226px; height: 28px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent; border-bottom: 2px solid Black;" />
			<label style="width: 230px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="focus-u">FOCUS</label>
			<input type="text" spellcheck="false" name="attr_focus" style="width: 226px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />
			<label style="display: inline-block; vertical-align: top;width: 146px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="homeworld-u">HOMEWORLD</label>
			<label style="display: inline-block; vertical-align: top;width: 64px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="techLevel-u">TECH LEVEL</label>

			<input type="text" spellcheck="false" name="attr_homeworld" style="display: inline-block; vertical-align: top;width: 150px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />
			<input type="text" name="attr_techLevel" style="display: inline-block; vertical-align: top;width: 62px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />

			<label style="display: inline-block; vertical-align: top; width: 290px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="short-termGoal-u">SHORT-TERM GOAL</label>
			<input type="text" spellcheck="false" name="attr_shortTerm" style="display: inline-block; vertical-align: top; width: 295px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />

			<label style="display: inline-block; vertical-align: top;width: 304px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="long-termGoal-u">LONG-TERM GOAL</label>
			<input type="text" spellcheck="false" name="attr_longTerm" style="display: inline-block; vertical-align: top; width: 304px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;;" />

		</div>
	</div>
	<!-- Story Points -->
	<!-- 	<div style="display: inline-block; vertical-align: top; width: 104px; height: 54px; margin: 90px 0px 0px 110px; padding-left: 0px;"> -->
	<div style="display: inline-block; vertical-align: top; width: 104px; height: 94px; margin: 50px 0px 0px 110px; padding-left: 0px; border: 0px solid Red;">
		<label style="display: inline-block; vertical-align: top; width: 104px; height: 20px; color: Black; font-weight: bold; font-size: 20px; text-align: center; margin: 2px 0px 0px 4px; padding: 0px 1px 0px 0px;" data-i18n="story-u">STORY</label>
		<label style="display: inline-block; vertical-align: top; width: 104px; height: 20px; color: Black; font-weight: bold; font-size: 20px; text-align: center; margin: 2px 0px 0px 4px; padding: 0px 1px 0px 0px;" data-i18n="points-u">POINTS</label>
		<input type="number"  name="attr_storyPoints" style="width: 104px; height: 52px; font-weight: bold; font-size: 36px; text-align: center; background-color: transparent; border: 0px solid transparent; margin: 2px 2px 2px 12px;" min=0 value=12 />
	</div>
	<!-- Distinctions -->
	<div  style="display: inline-block; vertical-align: top; width: 228px; height: 280px; margin: -154px 0px 0px 112px;">
		<label style="width: 230px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="distinctions-u">DISTINCTIONS</label>
		<textarea name="attr_distinctions" cols=120 rows=12 style="width: 226px; height: 250px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 8px; padding: 0px 3px 0px 3px;" placeholder="Critical Distinctions"></textarea>
	</div>
	<!-- Attributes and Skills -->
	<div style="display: inline-block; vertical-align: top; width: 388px; height: 588px; margin: 10px 6px 0px 6px; padding-left: 0px;">
		<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 10px 0px; padding: 0px 1px 0px 0px; " data-i18n="attributes-u">ATTRIBUTES</label>
		<input type='hidden' name='attr_totalAttributePoints' value="0">
		    <label class="sheet-attribLabel" data-i18n="awareness-u">AWARENESS</label>
			<input type="text" class="sheet-attribMax" name="attr_awarenessMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_awareness" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_awareness" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="8" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="9" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_awareness" value="10" class="sheet-rndused" /><span></span>
		    </div>

		    <label class="sheet-attribLabel" data-i18n="coordination-u">COORDINATION</label>
			<input type="text" class="sheet-attribMax" name="attr_coordinationMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_coordination" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_coordination" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="8" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="9" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_coordination" value="10" class="sheet-rndused" /><span></span>
		    </div>	

		    <label class="sheet-attribLabel" data-i18n="ingenuity-u">INGENUITY</label>
			<input type="text" class="sheet-attribMax" name="attr_ingenuityMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_ingenuity" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_ingenuity" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="8" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="9" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_ingenuity" value="10" class="sheet-rndused" /><span></span>
		    </div>

		    <label class="sheet-attribLabel" data-i18n="presence-u">PRESENCE</label>
			<input type="text" class="sheet-attribMax" name="attr_presenceMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_presence" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_presence" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="8" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="9" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_presence" value="10" class="sheet-rndused" /><span></span>
		    </div>	

		    <label class="sheet-attribLabel" data-i18n="resolve-u">RESOLVE</label>
			<input type="text" class="sheet-attribMax" name="attr_resolveMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_resolve" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_resolve" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="8" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="9" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_resolve" value="10" class="sheet-rndused" /><span></span>
		    </div>

		    <label class="sheet-attribLabel" data-i18n="strength-u">STRENGTH</label>
			<input type="text" class="sheet-attribMax" name="attr_strengthMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_strength" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_strength" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="8" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="9" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_strength" value="10" class="sheet-rndused" /><span></span>
		    </div>				
		<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="skills-u">SKILLS</label>
		<label style="box-sizing: border-box;  width: 376px; font-weight: bold; font-size: 12px; text-align: right; margin: 2px 0px 0px 0px; padding: 0px 0px 0px 0px; " data-i18n="specialisations-u">SPECIALISATIONS</label>
			<input type='hidden' name='attr_totalSkillPoints' value="0">
			<label class="sheet-skillName" style="margin: 4px 0px 4px 0px !important;" data-i18n="athletics-u">ATHLETICS</label>
			<input class="sheet-skillValue" style="margin: 4px 0px 4px 0px !important;" type="text" name="attr_athletics" value="0"/>
			<input class="sheet-skillSpec"  style="margin: 4px 0px 4px 0px !important;"  type="text" name="attr_athleticsSpec" value=""/>

			<label class="sheet-skillName" data-i18n="conflict-u">CONFLICT</label>
			<input class="sheet-skillValue" type="text" name="attr_conflict" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_conflictSpec" value=""/>

			<label class="sheet-skillName" data-i18n="convince-u">CONVINCE</label>
			<input class="sheet-skillValue" type="text" name="attr_convince" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_convinceSpec" value=""/>

			<label class="sheet-skillName" data-i18n="craft-u">CRAFT</label>
			<input class="sheet-skillValue" type="text" name="attr_craft" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_craftSpec" value=""/>

			<label class="sheet-skillName" data-i18n="intuition-u">INTUITION</label>
			<input class="sheet-skillValue" type="text" name="attr_intuition" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_intuitionSpec" value=""/>

			<label class="sheet-skillName" data-i18n="knowledge-u">KNOWLEDGE</label>
			<input class="sheet-skillValue" type="text" name="attr_knowledge" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_knowledgeSpec" value=""/>

			<label class="sheet-skillName" data-i18n="medicine-u">MEDICINE</label>
			<input class="sheet-skillValue" type="text" name="attr_medicine" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_medicineSpec" value=""/>

			<label class="sheet-skillName" data-i18n="science-u">SCIENCE</label>
			<input class="sheet-skillValue" type="text" name="attr_science" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_scienceSpec" value=""/>

			<label class="sheet-skillName" data-i18n="subterfuge-u">SUBTERFUGE</label>
			<input class="sheet-skillValue" type="text" name="attr_subterfuge" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_subterfugeSpec" value=""/>

			<label class="sheet-skillName" data-i18n="survival-u">SURVIVAL</label>
			<input class="sheet-skillValue" type="text" name="attr_survival" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_survivalSpec" value=""/>

			<label class="sheet-skillName" data-i18n="technology-u">TECHNOLOGY</label>
			<input class="sheet-skillValue" type="text" name="attr_technology" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_technologySpec" value=""/>

			<label class="sheet-skillName" data-i18n="transport-u">TRANSPORT</label>
			<input class="sheet-skillValue" type="text" name="attr_transport" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_transportSpec" value=""/>

	</div>
	<!-- Experiences -->
	<div style="display: inline-block; vertical-align: top; width: 380px; height: 218px; margin: 10px 6px 0px 14px; padding-left: 0px;">
		<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="experiences-u">EXPERIENCES</label>
		<textarea name="attr_experiences" spellcheck="false" cols=120 rows=12 style="width: 372px; height: 180px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 10px; padding: 0px 3px 0px 3px;" placeholder="Notable Experiences"></textarea>
	</div>
	<!-- Equipment -->
	<div style="display: inline-block; vertical-align: top; width: 380px; height: 176px; margin: -346px 6px 0px 414px; padding-left: 0px;">
		<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="equipment-u">EQUIPMENT</label>
		<textarea name="attr_equipment" cols=120 rows=12 spellcheck="false" style="width: 372px; height: 142px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 6px; padding: 0px 3px 0px 3px;" placeholder="Important Equipment"></textarea>
	</div>
	<!-- Conditions -->
	<div style="display: inline-block; vertical-align: top; width: 380px; height: 140px; margin: -166px 6px 0px 414px; padding-left: 0px;">
		<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="conditions-u">CONDITIONS</label>
		<textarea name="attr_conditions" cols=120 rows=12 spellcheck="false" style="width: 372px; height: 110px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 6px; padding: 0px 3px 0px 3px;" placeholder="Abnormal Conditions"></textarea>
	</div>	
	
	<!-- Rolls -->
	<div class="form1" style="display: inline-block; vertical-align: top; width: 400px">
		<h3 style="text-align: center; width: 310px;" data-i18n="comboRolls-c">Attribute+Skill Rolls</h3>
		
		<input type='hidden' name='attr_difficulty' value="2d6s">
		<input type="radio" class="skillChoosen sheet-page1" id="normal" name="attr_difficulty" value="2d6s" checked>
			<label class="skillChoosen sheet-page1" for="normal" style="width: 80px; margin: 6px 0px 16px 4px;" data-i18n="normal-c">Normal</label>
		<input type="radio" class="skillChoosen sheet-page1" id="advantage" name="attr_difficulty" value="3d6kh2s">
			<label class="skillChoosen" for="advantage" style="width: 100px; margin: 6px 0px 16px 6px;" data-i18n="advantage-c">Advantage</label>
		<input type="radio" class="skillChoosen sheet-page1" id="disadvantage" name="attr_difficulty" value="3d6kl2s">
			<label class="skillChoosen"  for="disadvantage" style="width: 120px; margin: 6px 0px 16px 6px;" data-i18n="disadvantage-c">Disadvantage</label>
	
		<label style="display: inline-block; vertical-align: top; text-align: center; width: 150px; font-style: normal; font-weight: bold; margin-top: 2px;" data-i18n="attribute-c">Attribute</label>
		<label style="display: inline-block; vertical-align: top; text-align: center; width: 150px; font-style: normal; font-weight: bold; margin-top: 2px;" data-i18n="skill-c">Skill</label>

		<div class="dicepool">
		  <input type='hidden' name='attr_dicepool1Title' value="Attribute+Skill Roll1a">
		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAtt1">
			<option value="0" selected></option>
			<option value="@{awareness}" data-i18n="awareness-u">AWARENESS</option>
			<option value="@{coordination}" data-i18n="coordination-u">COORDINATION</option>
			<option value="@{ingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
			<option value="@{presence}" data-i18n="presence-u">PRESENCE</option>
			<option value="@{resolve}" data-i18n="resolve-u">RESOLVE</option>
			<option value="@{strength}" data-i18n="strength-u">STRENGTH</option>
		  </select>
		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAbi1">
			<option value="0" selected></option>
			<option value="@{athletics}" data-i18n="athletics-u">ATHLETICS</option>
			<option value="@{conflict}" data-i18n="conflict-u">CONFLICT</option>
			<option value="@{convince}" data-i18n="convince-u">CONVINCE</option>
			<option value="@{craft}" data-i18n="craft-u">CRAFT</option>
			<option value="@{intuition}" data-i18n="intuition-u">INTUITION</option>
			<option value="@{knowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
			<option value="@{medicine}" data-i18n="medicine-u">MEDICINE</option>
			<option value="@{science}" data-i18n="science-u">SCIENCE</option>
			<option value="@{subterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
			<option value="@{survival}" data-i18n="survival-u">SURVIVAL</option>
			<option value="@{technology}" data-i18n="technology-u">TECHNOLOGY</option>
			<option value="@{transport}" data-i18n="transport-u">TRANSPORT</option>
		  </select>
<!--
		  <button class="nospec btn ui-draggable" type="roll" name="roll_Combo1"
			value="&{template:check} {{name=@{character_name}}} {{SkillName=@{dicepool1Title}}} {{Check=[[1]]}} {{Roll=[[@{DPAtt1}+@{DPAbi1}+@{difficulty}+?{Cooperation and/or More Time Bonus|0}]]}}" title="Attribute+Skill Roll1"></button>
-->
		  <button type='action' name='act_combo1-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee1_action}'><label class="sheet-attack-button">j</label></button>
		</div>
		<div class="dicepool">
		  <input type='hidden' name='attr_dicepool2Title' value="Attribute+Skill Roll2">

		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAtt2">
			<option value="0" selected></option>
			<option value="@{awareness}" data-i18n="awareness-u">AWARENESS</option>
			<option value="@{coordination}" data-i18n="coordination-u">COORDINATION</option>
			<option value="@{ingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
			<option value="@{presence}" data-i18n="presence-u">PRESENCE</option>
			<option value="@{resolve}" data-i18n="resolve-u">RESOLVE</option>
			<option value="@{strength}" data-i18n="strength-u">STRENGTH</option>
		  </select>
		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAbi2">
			<option value="0" selected></option>
			<option value="@{athletics}" data-i18n="athletics-u">ATHLETICS</option>
			<option value="@{conflict}" data-i18n="conflict-u">CONFLICT</option>
			<option value="@{convince}" data-i18n="convince-u">CONVINCE</option>
			<option value="@{craft}" data-i18n="craft-u">CRAFT</option>
			<option value="@{intuition}" data-i18n="intuition-u">INTUITION</option>
			<option value="@{knowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
			<option value="@{medicine}" data-i18n="medicine-u">MEDICINE</option>
			<option value="@{science}" data-i18n="science-u">SCIENCE</option>
			<option value="@{subterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
			<option value="@{survival}" data-i18n="survival-u">SURVIVAL</option>
			<option value="@{technology}" data-i18n="technology-u">TECHNOLOGY</option>
			<option value="@{transport}" data-i18n="transport-u">TRANSPORT</option>
		  </select>
<!--
		  <button class="nospec btn ui-draggable" type="roll" name="roll_Combo2"
			value="&{template:check} {{name=@{character_name}}} {{SkillName=@{dicepool2Title}}} {{Check=[[1]]}} {{Roll=[[@{DPAtt2}+@{DPAbi2}+@{difficulty}+?{Cooperation and/or More Time Bonus|0}]]}}" title="Attribute+Skill Roll2"></button>
-->
		  <button type='action' name='act_combo2-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee2_action}'><label class="sheet-attack-button">j</label></button>
		</div>
		<div class="dicepool">
		  <input type='hidden' name='attr_dicepool3Title' value="Attribute+Skill Roll3">
		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAtt3">
			<option value="0" selected></option>
			<option value="@{awareness}" data-i18n="awareness-u">AWARENESS</option>
			<option value="@{coordination}" data-i18n="coordination-u">COORDINATION</option>
			<option value="@{ingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
			<option value="@{presence}" data-i18n="presence-u">PRESENCE</option>
			<option value="@{resolve}" data-i18n="resolve-u">RESOLVE</option>
			<option value="@{strength}" data-i18n="strength-u">STRENGTH</option>
		  </select>
		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAbi3">
			<option value="0" selected></option>
			<option value="@{athletics}" data-i18n="athletics-u">ATHLETICS</option>
			<option value="@{conflict}" data-i18n="conflict-u">CONFLICT</option>
			<option value="@{convince}" data-i18n="convince-u">CONVINCE</option>
			<option value="@{craft}" data-i18n="craft-u">CRAFT</option>
			<option value="@{intuition}" data-i18n="intuition-u">INTUITION</option>
			<option value="@{knowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
			<option value="@{medicine}" data-i18n="medicine-u">MEDICINE</option>
			<option value="@{science}" data-i18n="science-u">SCIENCE</option>
			<option value="@{subterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
			<option value="@{survival}" data-i18n="survival-u">SURVIVAL</option>
			<option value="@{technology}" data-i18n="technology-u">TECHNOLOGY</option>
			<option value="@{transport}" data-i18n="transport-u">TRANSPORT</option>
		  </select>
<!--
		  <button class="nospec btn ui-draggable" type="roll" name="roll_Combo3"
			value="&{template:check} {{name=@{character_name}}} {{SkillName=@{dicepool3Title}}} {{Check=[[1]]}} {{Roll=[[@{DPAtt3}+@{DPAbi3}+@{difficulty}+?{Cooperation and/or More Time Bonus|0}]]}}" title="Attribute+Skill Roll3"></button>
-->
		  <button type='action' name='act_combo3-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee3_action}'><label class="sheet-attack-button">j</label></button>
		</div>
		<div class="dicepool">
		  <input type='hidden' name='attr_dicepool4Title' value="Attribute+Skill Roll4">
		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAtt4">
			<option value="0" selected></option>
			<option value="@{awareness}" data-i18n="awareness-u">AWARENESS</option>
			<option value="@{coordination}" data-i18n="coordination-u">COORDINATION</option>
			<option value="@{ingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
			<option value="@{presence}" data-i18n="presence-u">PRESENCE</option>
			<option value="@{resolve}" data-i18n="resolve-u">RESOLVE</option>
			<option value="@{strength}" data-i18n="strength-u">STRENGTH</option>
		  </select>
		  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAbi4">
			<option value="0" selected></option>
			<option value="@{athletics}" data-i18n="athletics-u">ATHLETICS</option>
			<option value="@{conflict}" data-i18n="conflict-u">CONFLICT</option>
			<option value="@{convince}" data-i18n="convince-u">CONVINCE</option>
			<option value="@{craft}" data-i18n="craft-u">CRAFT</option>
			<option value="@{intuition}" data-i18n="intuition-u">INTUITION</option>
			<option value="@{knowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
			<option value="@{medicine}" data-i18n="medicine-u">MEDICINE</option>
			<option value="@{science}" data-i18n="science-u">SCIENCE</option>
			<option value="@{subterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
			<option value="@{survival}" data-i18n="survival-u">SURVIVAL</option>
			<option value="@{technology}" data-i18n="technology-u">TECHNOLOGY</option>
			<option value="@{transport}" data-i18n="transport-u">TRANSPORT</option>
		  </select>
<!--
		  <button class="nospec btn ui-draggable" type="roll" name="roll_Combo4"
			value="&{template:check} {{name=@{character_name}}} {{SkillName=@{dicepool4Title}}} {{Check=[[1]]}} {{Roll=[[@{DPAtt4}+@{DPAbi4}+@{difficulty}+?{Cooperation and/or More Time Bonus|0}]]}}" title="Attribute+Skill Roll4"></button>
-->
		  <button type='action' name='act_combo4-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee4_action}'><label class="sheet-attack-button">j</label></button>
		</div>
		
		<div class="dicepool">
			<fieldset class="repeating_roll">
			  <input type='hidden' name='attr_dicepoolTitle' value="Attribute+Skill Roll">
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAtt">
				<option value="0" selected></option>
				<option value="@{awareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{coordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{ingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{presence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{resolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{strength}" data-i18n="strength-u">STRENGTH</option>
			  </select>
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_DPAbi">
				<option value="0" selected></option>
				<option value="@{athletics}" data-i18n="athletics-u">ATHLETICS</option>
				<option value="@{conflict}" data-i18n="conflict-u">CONFLICT</option>
				<option value="@{convince}" data-i18n="convince-u">CONVINCE</option>
				<option value="@{craft}" data-i18n="craft-u">CRAFT</option>
				<option value="@{intuition}" data-i18n="intuition-u">INTUITION</option>
				<option value="@{knowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
				<option value="@{medicine}" data-i18n="medicine-u">MEDICINE</option>
				<option value="@{science}" data-i18n="science-u">SCIENCE</option>
				<option value="@{subterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
				<option value="@{survival}" data-i18n="survival-u">SURVIVAL</option>
				<option value="@{technology}" data-i18n="technology-u">TECHNOLOGY</option>
				<option value="@{transport}" data-i18n="transport-u">TRANSPORT</option>
			  </select>
			  <button class="nospec btn ui-draggable" type="roll" name="roll_Combo"
				value="&{template:check} {{name=@{character_name}}} {{SkillName=@{dicepoolTitle}}} {{Check=[[1]]}} {{Roll=[[@{DPAtt}+@{DPAbi}+@{difficulty}+?{Cooperation and/or More Time Bonus|0}]]}}" title="Attribute+Skill Roll (no Sixes/Ones parsing)"></button>
			</fieldset>
		</div>				
		
	</div>
		<div style="display: inline-block; vertical-align: top; width: 400px">
			<div>
				<h3 class="sheet-attribLabel" data-i18n="armour-u">ARMOUR</h3>
				<input type="text" class="sheet-skillSpec" style="text-align: center; margin: -3px 0px 0px 0px;"  name="attr_armour" value=""/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="attributePointsInUse-c">ATTRIBUTE POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" readonly name="attr_totalAttributePoints" value="0"/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="skillPointsInUse-c">SKILL POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" readonly name="attr_totalSkillPoints" value="0"/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="specialisationPointsInUse-c">SPECIALISATION POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" name="attr_totalSpecialisationPoints" value="0"/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="totalPointsInUse-c">TOTAL POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" readonly name="attr_totalPoints" value="0"/>
			</div>			
		</div>
</div>
	
	
<div class="sheet-page2">	
		<!-- Introduction -->
		<div style="display: inline-block; vertical-align: top; width: 236px; height: 110px;">
			<label style="text-align: center; width: 300px; font-weight: bold; font-size: 28px; margin: 26px 0px 0px 0px; padding: 0px 1px 12px 0px; border-bottom: 2px solid Black;" data-i18n="doctorWho-u">DOCTOR WHO</label>
			<label style="text-align: center; width: 300px; font-weight: bold; font-size: 12px; margin: 2px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="theRoleplayingGame-u">THE ROLEPLAYING GAME</label>
			<label style="text-align: center; width: 300px; font-weight: bold; font-size:  9px; margin: -6px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="secondEdition-u">SECOND EDITION</label>
		</div>
		
		<div  style="display: inline-block; vertical-align: top; width: 300px; height: 270px; margin-left: 12px;">
			<img class="sheet-clipPhoto" name="attr_character_token" style="height: 330px; width: 290 px;" title="ID Photograph(Character Token Image)"> 

		</div>
		
		<div style="display: inline-block; vertical-align: top; width: 236px; height: 110px; margin-left: 6px;">
			<label style="text-align: center; width: 300px; font-weight: bold; font-size: 25px; margin: 20px 0px 0px 0px; padding: 0px 1px 6px 0px;" data-i18n="temporal-u">TEMPORAL</label>
			<label style="text-align: center; width: 300px; font-weight: bold; font-size: 25px; margin: 10px 0px 0px 0px; padding: 0px 1px 6px 0px;" data-i18n="device-u">DEVICE</label>
		</div>
	<!-- Biography -->
	<div  style="display: inline-block; vertical-align: top;">
		<div style="display: inline-block; vertical-align: top; width: 224px; height: 284px; margin: -154px 0px 0px 6px; padding-left: 0px;">
			<label style="width: 230px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="deviceName-u">DEVICE NAME</label>
			<input type="text"  name="attr_TMcharacter_name" spellcheck="false" style="width: 226px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />
			<label style="width: 230px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" spellcheck="false" data-i18n="concept-u">CONCEPT</label>
			<input type="text"  name="attr_TMconcept" spellcheck="false" style="width: 226px; height: 60px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />
			<label style="width: 230px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" spellcheck="false" data-i18n="focus-u">FOCUS</label>
			<input type="text"  name="attr_TMfocus" spellcheck="false" style="width: 226px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />
			<label style="display: inline-block; vertical-align: top;width: 146px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="homeworld-u">HOMEWORLD</label>
			<label style="display: inline-block; vertical-align: top;width: 64px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="techLevel-u">TECH LEVEL</label>

			<input type="text"  name="attr_TMhomeworld" spellcheck="false" style="display: inline-block; vertical-align: top;width: 150px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />
			<input type="text"  name="attr_TMtechLevel" style="display: inline-block; vertical-align: top;width: 62px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />

			<label style="display: inline-block; vertical-align: top; width: 290px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="short-termGoal-u">SHORT-TERM GOAL</label>
			<input type="text"  name="attr_TMshortTerm" spellcheck="false" style="display: inline-block; vertical-align: top; width: 295px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;; border-bottom: 2px solid Black;" />

			<label style="display: inline-block; vertical-align: top;width: 304px; font-weight: bold; font-size: 10px; text-align: left; margin: 0px 0px 0px 0px; padding: 0px 1px 0px 0px;" data-i18n="long-termGoal-u">LONG-TERM GOAL</label>
			<input type="text"  name="attr_TMlongTerm" spellcheck="false" style="display: inline-block; vertical-align: top; width: 304px; height: 20px; font-weight: bold; font-size: 16px; text-align: center; margin: 0px 1px 0px 2px; border: 0px solid transparent;;" />

		</div>
	</div>
	<!-- Story Points -->
	<div style="display: inline-block; vertical-align: top; width: 104px; height: 94px; margin: 50px 0px 0px 110px; padding-left: 0px; border: 0px solid Red;">
		<label style="display: inline-block; vertical-align: top; width: 104px; height: 20px; color: Black; font-weight: bold; font-size: 20px; text-align: center; margin: 2px 0px 0px 4px; padding: 0px 1px 0px 0px;" data-i18n="story-u">STORY</label>
		<label style="display: inline-block; vertical-align: top; width: 104px; height: 20px; color: Black; font-weight: bold; font-size: 20px; text-align: center; margin: 2px 0px 0px 4px; padding: 0px 1px 0px 0px;" data-i18n="points-u">POINTS</label>
		<input type="number"  name="attr_TMstoryPoints" style="width: 104px; height: 52px; font-weight: bold; font-size: 36px; text-align: center; background-color: transparent; border: 0px solid transparent; margin: 2px 2px 2px 12px;" min=0 value=12 />
	</div>	

	<!-- Distinctions -->
	<div  style="display: inline-block; vertical-align: top; width: 228px; height: 280px; margin: -154px 0px 0px 112px;">
		<label style="width: 230px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="distinctions-u">DISTINCTIONS</label>
		<textarea name="attr_TMdistinctions" cols=120 rows=12 style="width: 226px; height: 250px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 8px; padding: 0px 3px 0px 3px;" placeholder="Critical Distinctions"></textarea>
	</div>
	<!-- Attributes and Skills -->
	<div style="display: inline-block; vertical-align: top; width: 380px; height: 580px; margin: 10px 6px 0px 6px; padding-left: 0px;">
		<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 10px 0px; padding: 0px 1px 0px 0px; " data-i18n="attributes-u">ATTRIBUTES</label>

		    <label class="sheet-attribLabel" data-i18n="awareness-u">AWARENESS</label>
			<input type="text" class="sheet-attribMax" name="attr_TMawarenessMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_TMawareness" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_TMawareness" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMawareness" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMawareness" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMawareness" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMawareness" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMawareness" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMawareness" value="8" class="sheet-rndused" /><span></span>
		    </div>

		    <label class="sheet-attribLabel" data-i18n="coordination-u">COORDINATION</label>
			<input type="text" class="sheet-attribMax" name="attr_TMcoordinationMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_TMcoordination" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_TMcoordination" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMcoordination" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMcoordination" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMcoordination" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMcoordination" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMcoordination" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMcoordination" value="8" class="sheet-rndused" /><span></span>
		    </div>	

		    <label class="sheet-attribLabel" data-i18n="ingenuity-u">INGENUITY</label>
			<input type="text" class="sheet-attribMax" name="attr_TMingenuityMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_TMingenuity" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_TMingenuity" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMingenuity" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMingenuity" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMingenuity" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMingenuity" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMingenuity" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMingenuity" value="8" class="sheet-rndused" /><span></span>
		    </div>

		    <label class="sheet-attribLabel" data-i18n="presence-u">PRESENCE</label>
			<input type="text" class="sheet-attribMax" name="attr_TMpresenceMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_TMpresence" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_TMpresence" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMpresence" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMpresence" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMpresence" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMpresence" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMpresence" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMpresence" value="8" class="sheet-rndused" /><span></span>
		    </div>	

		    <label class="sheet-attribLabel" data-i18n="resolve-u">RESOLVE</label>
			<input type="text" class="sheet-attribMax" name="attr_TMresolveMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_TMresolve" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_TMresolve" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMresolve" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMresolve" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMresolve" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMresolve" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMresolve" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMresolve" value="8" class="sheet-rndused" /><span></span>
		    </div>

		    <label class="sheet-attribLabel" data-i18n="strength-u">STRENGTH</label>
			<input type="text" class="sheet-attribMax" name="attr_TMstrengthMax" value=""/>
			<div class="sheet-attribArray">
				<input type="radio" name="attr_TMstrength" value="1" class="sheet-rndused" checked /><span></span>
				<input type="radio" name="attr_TMstrength" value="2" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMstrength" value="3" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMstrength" value="4" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMstrength" value="5" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMstrength" value="6" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMstrength" value="7" class="sheet-rndused" /><span></span>
				<input type="radio" name="attr_TMstrength" value="8" class="sheet-rndused" /><span></span>
		    </div>				
		<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="skills-u">SKILLS</label>
		<label style="box-sizing: border-box;  width: 376px; font-weight: bold; font-size: 12px; text-align: right; margin: 2px 0px 0px 0px; padding: 0px 0px 0px 0px; " data-i18n="specialisations-u">SPECIALISATIONS</label>

			<label class="sheet-skillName" style="margin: 4px 0px 4px 0px !important;" data-i18n="athletics-u">ATHLETICS</label>
			<input class="sheet-skillValue" style="margin: 4px 0px 4px 0px !important;" type="text" name="attr_TMathletics" value="0"/>
			<input class="sheet-skillSpec"  style="margin: 4px 0px 4px 0px !important;"  type="text" name="attr_TMathleticsSpec" value=""/>

			<label class="sheet-skillName" data-i18n="conflict-u">CONFLICT</label>
			<input class="sheet-skillValue" type="text" name="attr_TMconflict" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMconflictSpec" value=""/>

			<label class="sheet-skillName" data-i18n="convince-u">CONVINCE</label>
			<input class="sheet-skillValue" type="text" name="attr_TMconvince" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMconvinceSpec" value=""/>

			<label class="sheet-skillName" data-i18n="craft-u">CRAFT</label>
			<input class="sheet-skillValue" type="text" name="attr_TMcraft" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMcraftSpec" value=""/>

			<label class="sheet-skillName" data-i18n="intuition-u">INTUITION</label>
			<input class="sheet-skillValue" type="text" name="attr_TMintuition" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMintuitionSpec" value=""/>

			<label class="sheet-skillName" data-i18n="knowledge-u">KNOWLEDGE</label>
			<input class="sheet-skillValue" type="text" name="attr_TMknowledge" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMknowledgeSpec" value=""/>

			<label class="sheet-skillName" data-i18n="medicine-u">MEDICINE</label>
			<input class="sheet-skillValue" type="text" name="attr_TMmedicine" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMmedicineSpec" value=""/>

			<label class="sheet-skillName" data-i18n="science-u">SCIENCE</label>
			<input class="sheet-skillValue" type="text" name="attr_TMscience" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMscienceSpec" value=""/>

			<label class="sheet-skillName" data-i18n="subterfuge-u">SUBTERFUGE</label>
			<input class="sheet-skillValue" type="text" name="attr_TMsubterfuge" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMsubterfugeSpec" value=""/>

			<label class="sheet-skillName" data-i18n="survival-u">SURVIVAL</label>
			<input class="sheet-skillValue" type="text" name="attr_TMsurvival" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMsurvivalSpec" value=""/>

			<label class="sheet-skillName" data-i18n="technology-u">TECHNOLOGY</label>
			<input class="sheet-skillValue" type="text" name="attr_TMtechnology" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMtechnologySpec" value=""/>

			<label class="sheet-skillName" data-i18n="transport-u">TRANSPORT</label>
			<input class="sheet-skillValue" type="text" name="attr_TMtransport" value="0"/>
			<input class="sheet-skillSpec"  type="text" name="attr_TMtransportSpec" value=""/>
		</div>
		<!-- Experiences -->
		<div style="display: inline-block; vertical-align: top; width: 380px; height: 218px; margin: 10px 6px 0px 14px; padding-left: 0px;">
			<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="experiences-u">EXPERIENCES</label>
			<textarea name="attr_TMexperiences" cols=120 rows=12 style="width: 372px; height: 180px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 10px; padding: 0px 3px 0px 3px;" placeholder="Notable Experiences"></textarea>
		</div>
		<!-- Equipment -->
		<div style="display: inline-block; vertical-align: top; width: 380px; height: 176px; margin: -346px 6px 0px 414px; padding-left: 0px;">
			<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="equipment-u">EQUIPMENT</label>
			<textarea name="attr_TMequipment" cols=120 rows=12 style="width: 372px; height: 142px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 6px; padding: 0px 3px 0px 3px;" placeholder="Important Equipment"></textarea>
		</div>
		<!-- Conditions -->
		<div style="display: inline-block; vertical-align: top; width: 380px; height: 140px; margin: -166px 6px 0px 414px; padding-left: 0px;">
			<label style="width: 380px; font-weight: bold; font-size: 22px; text-align: center; margin: 8px 0px 0px 0px; padding: 0px 1px 0px 0px; " data-i18n="conditions-u">CONDITIONS</label>
			<textarea name="attr_TMconditions" cols=120 rows=12 style="width: 372px; height: 110px; font-weight: bold; font-size: 16px; text-align: center; border: 0px solid transparent; margin: 8px 0px 0px 6px; padding: 0px 3px 0px 3px;" placeholder="Abnormal Conditions"></textarea>
		</div>

		<!-- Rolls -->
		<div class="form1" style="display: inline-block; vertical-align: top; width: 400px">
			<h3 style="text-align: center; width: 310px;" data-i18n="comboRolls-c">Attribute+Skill Rolls</h3>
			<input type='hidden' name='attr_TMdifficulty' value="2d6">
			<input type="radio" class="skillChoosen sheet-page2" id="TMnormal" name="attr_TMdifficulty" value="2d6s" checked>
				<label class="skillChoosen sheet-page2" for="TMnormal" style="width: 80px; margin: 6px 0px 16px 4px;" data-i18n="normal-c">Normal</label>
			<input type="radio" class="skillChoosen sheet-page2" id="TMadvantage" name="attr_TMdifficulty" value="3d6kh2s">
				<label class="skillChoosen" for="TMadvantage" style="width: 100px; margin: 6px 0px 16px 6px;" data-i18n="advantage-c">Advantage</label>
			<input type="radio" class="skillChoosen sheet-page2" id="TMdisadvantage" name="attr_TMdifficulty" value="3d6kl2s">
				<label class="skillChoosen"  for="TMdisadvantage" style="width: 120px; margin: 6px 0px 16px 6px;" data-i18n="disadvantage-c">Disadvantage</label>
		
			<label style="display: inline-block; vertical-align: top; text-align: center; width: 150px; font-style: normal; font-weight: bold; margin-top: 2px;" data-i18n="attribute-c">Attribute</label>
			<label style="display: inline-block; vertical-align: top; text-align: center; width: 150px; font-style: normal; font-weight: bold; margin-top: 2px;" data-i18n="skill-c">Skill</label>

			<div class="dicepool">
			  <input type='hidden' name='attr_TMdicepool1Title' value="Attribute+Skill Roll1a">
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAtt1">
				<option value="0" selected></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAbi1">
				<option value="0" selected></option>
				<option value="@{TMathletics}" data-i18n="athletics-u">ATHLETICS</option>
				<option value="@{TMconflict}" data-i18n="conflict-u">CONFLICT</option>
				<option value="@{TMconvince}" data-i18n="convince-u">CONVINCE</option>
				<option value="@{TMcraft}" data-i18n="craft-u">CRAFT</option>
				<option value="@{TMintuition}" data-i18n="intuition-u">INTUITION</option>
				<option value="@{TMknowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
				<option value="@{TMmedicine}" data-i18n="medicine-u">MEDICINE</option>
				<option value="@{TMscience}" data-i18n="science-u">SCIENCE</option>
				<option value="@{TMsubterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
				<option value="@{TMsurvival}" data-i18n="survival-u">SURVIVAL</option>
				<option value="@{TMtechnology}" data-i18n="technology-u">TECHNOLOGY</option>
				<option value="@{TMtransport}" data-i18n="transport-u">TRANSPORT</option>
				<option value=""></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>

			  <button type='action' name='act_TMcombo1-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee1_action}'><label class="sheet-attack-button">j</label></button>

			</div>
			<div class="dicepool">
			  <input type='hidden' name='attr_TMdicepool2Title' value="Attribute+Skill Roll2">

			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAtt2">
				<option value="0" selected></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAbi2">
				<option value="0" selected></option>
				<option value="@{TMathletics}" data-i18n="athletics-u">ATHLETICS</option>
				<option value="@{TMconflict}" data-i18n="conflict-u">CONFLICT</option>
				<option value="@{TMconvince}" data-i18n="convince-u">CONVINCE</option>
				<option value="@{TMcraft}" data-i18n="craft-u">CRAFT</option>
				<option value="@{TMintuition}" data-i18n="intuition-u">INTUITION</option>
				<option value="@{TMknowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
				<option value="@{TMmedicine}" data-i18n="medicine-u">MEDICINE</option>
				<option value="@{TMscience}" data-i18n="science-u">SCIENCE</option>
				<option value="@{TMsubterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
				<option value="@{TMsurvival}" data-i18n="survival-u">SURVIVAL</option>
				<option value="@{TMtechnology}" data-i18n="technology-u">TECHNOLOGY</option>
				<option value="@{TMtransport}" data-i18n="transport-u">TRANSPORT</option>
				<option value=""></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>

			  <button type='action' name='act_TMcombo2-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee2_action}'><label class="sheet-attack-button">j</label></button>

			</div>
			<div class="dicepool">
			  <input type='hidden' name='attr_TMdicepool3Title' value="Attribute+Skill Roll3">
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAtt3">
				<option value="0" selected></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAbi3">
				<option value="0" selected></option>
				<option value="@{TMathletics}" data-i18n="athletics-u">ATHLETICS</option>
				<option value="@{TMconflict}" data-i18n="conflict-u">CONFLICT</option>
				<option value="@{TMconvince}" data-i18n="convince-u">CONVINCE</option>
				<option value="@{TMcraft}" data-i18n="craft-u">CRAFT</option>
				<option value="@{TMintuition}" data-i18n="intuition-u">INTUITION</option>
				<option value="@{TMknowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
				<option value="@{TMmedicine}" data-i18n="medicine-u">MEDICINE</option>
				<option value="@{TMscience}" data-i18n="science-u">SCIENCE</option>
				<option value="@{TMubterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
				<option value="@{TMsurvival}" data-i18n="survival-u">SURVIVAL</option>
				<option value="@{TMtechnology}" data-i18n="technology-u">TECHNOLOGY</option>
				<option value="@{TMtransport}" data-i18n="transport-u">TRANSPORT</option>
				<option value=""></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>

			  <button type='action' name='act_TMcombo3-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee3_action}'><label class="sheet-attack-button">j</label></button>
			</div>
			<div class="dicepool">
			  <input type='hidden' name='attr_TMdicepool4Title' value="Attribute+Skill Roll4">
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAtt4">
				<option value="0" selected></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>
			  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAbi4">
				<option value="0" selected></option>
				<option value="@{TMathletics}" data-i18n="athletics-u">ATHLETICS</option>
				<option value="@{TMconflict}" data-i18n="conflict-u">CONFLICT</option>
				<option value="@{TMconvince}" data-i18n="convince-u">CONVINCE</option>
				<option value="@{TMcraft}" data-i18n="craft-u">CRAFT</option>
				<option value="@{TMintuition}" data-i18n="intuition-u">INTUITION</option>
				<option value="@{TMknowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
				<option value="@{TMmedicine}" data-i18n="medicine-u">MEDICINE</option>
				<option value="@{TMscience}" data-i18n="science-u">SCIENCE</option>
				<option value="@{TMsubterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
				<option value="@{TMsurvival}" data-i18n="survival-u">SURVIVAL</option>
				<option value="@{TMtechnology}" data-i18n="technology-u">TECHNOLOGY</option>
				<option value="@{TMtransport}" data-i18n="transport-u">TRANSPORT</option>
				<option value=""></option>
				<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
				<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
				<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
				<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
				<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
				<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
			  </select>

			  <button type='action' name='act_TMcombo4-action' style="box-sizing: content-box; width: 18px; heigth: 28px; border: 0px solid black; padding: 4px 1px 1px 1px;" value='@{melee4_action}'><label class="sheet-attack-button">j</label></button>
			</div>
			
			<div class="dicepool">
				<fieldset class="repeating_tmroll">
				  <input type='hidden' name='attr_TMdicepoolTitle' value="Attribute+Skill Roll">
				  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAtt">
					<option value="0" selected></option>
					<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
					<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
					<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
					<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
					<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
					<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>
				  </select>
				  <select style="display: inline-block; vertical-align: top; width: 150px; text-align: center;" name="attr_TMDPAbi">
					<option value="0" selected></option>
					<option value="@{TMathletics}" data-i18n="athletics-u">ATHLETICS</option>
					<option value="@{TMconflict}" data-i18n="conflict-u">CONFLICT</option>
					<option value="@{TMconvince}" data-i18n="convince-u">CONVINCE</option>
					<option value="@{TMcraft}" data-i18n="craft-u">CRAFT</option>
					<option value="@{TMintuition}" data-i18n="intuition-u">INTUITION</option>
					<option value="@{TMknowledge}" data-i18n="knowledge-u">KNOWLEDGE</option>
					<option value="@{TMmedicine}" data-i18n="medicine-u">MEDICINE</option>
					<option value="@{TMscience}" data-i18n="science-u">SCIENCE</option>
					<option value="@{TMsubterfuge}" data-i18n="subterfuge-u">SUBTERFUGE</option>
					<option value="@{TMsurvival}" data-i18n="survival-u">SURVIVAL</option>
					<option value="@{TMtechnology}" data-i18n="technology-u">TECHNOLOGY</option>
					<option value="@{TMtransport}" data-i18n="transport-u">TRANSPORT</option>
					<option value=""></option>
					<option value="@{TMawareness}" data-i18n="awareness-u">AWARENESS</option>
					<option value="@{TMcoordination}" data-i18n="coordination-u">COORDINATION</option>
					<option value="@{TMingenuity}" data-i18n="ingenuity-u">INGENUITY</option>
					<option value="@{TMpresence}" data-i18n="presence-u">PRESENCE</option>
					<option value="@{TMresolve}" data-i18n="resolve-u">RESOLVE</option>
					<option value="@{TMstrength}" data-i18n="strength-u">STRENGTH</option>

				  </select>

				  <button class="nospec btn ui-draggable" type="roll" name="roll_Combo"
					value="&{template:check} {{name=@{character_name}}} {{SkillName=@{TMdicepoolTitle}}} {{Check=[[1]]}} {{Roll=[[@{TMDPAtt}+@{TMDPAbi}+@{difficulty}+?{Cooperation and/or More Time Bonus|0}]]}}" title="Attribute+Skill Roll (no Sixes/Ones parsing)"></button>
				</fieldset>
			</div>				
		</div>
		<div style="display: inline-block; vertical-align: top; width: 400px">
			<div>
				<h3 class="sheet-attribLabel" data-i18n="armour-u">ARMOUR</h3>
				<input type="text" class="sheet-skillSpec" style="text-align: center; margin: -3px 0px 0px 0px;"  name="attr_TMarmour" value=""/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="attributePointsInUse-c">ATTRIBUTE POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" readonly name="attr_TMtotalAttributePoints" value="0"/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="skillPointsInUse-c">SKILL POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" readonly name="attr_TMtotalSkillPoints" value="0"/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="specialisationPointsInUse-c">SPECIALISATION POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" name="attr_TMtotalSpecialisationPoints" value="0"/>
			</div>
			<div>
				<h3 class="sheet-pointsLabel" data-i18n="totalPointsInUse-c">TOTAL POINTS</h3>
				<input type="text" class="sheet-pointsSpec" style="text-align: center; margin: -3px 0px 0px 0px;" readonly name="attr_TMtotalPoints" value="0"/>
			</div>			
		</div>		
</div>	
<!-- Roll Templates -->

<rolltemplate class="sheet-rolltemplate-initiative">
    <div class="container">
        <div><h1>Initiative *for* {{name}}</h1></div>
		<div class="arrow-container"><div class="arrow-right"></div></div>
		<div class="rowcolor"><span class="tcat">Rolled: </span>{{computed::roll1}}</div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-display">
    <div class="container">
        <div><h1> {{name}} *{{SkillName}}* </h1></div>
		<div class="arrow-container"><div class="arrow-right"></div></div>
		<div class="rowcolor">{{Display}}</div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-check">
    <div class="container">
        <div><h1>{{name}}{{#SkillName}} *for* {{SkillName}}{{/SkillName}}</h1></div>
		<div class="arrow-container"><div class="arrow-right"></div></div>
		{{#Check}}
			<div class="rowcolor"><span class="tcat" data-i18n="check-c">Check: </span>{{Roll}}</div>
		{{/Check}}
		{{#DL}}
			<div class="rowcolor"><span class="tcat" data-i18n="difficulty-level-u">DL: </span>{{DL}}</div>
			{{#rollLess() Roll DL }}
				<div class="rowcolor"><span class="tcat" data-i18n="Result-c">Result: </span><span data-i18n="failure-c"> Failure</span></div>
			{{/rollLess() Roll DL }}
			{{#^rollLess() Roll DL }}
				<div class="rowcolor"><span class="tcat" data-i18n="Result-c">Result: </span><span data-i18n="success-c">Success!</span></div>
			{{/^rollLess() Roll DL }}
		{{/DL}}
		{{#Damage}}
			<div class="rowcolor"><span class="tcat" data-i18n="damage-c">Damage: </span>{{Damage}}</div>
		{{/Damage}}
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-display">
    <div class="container">
        <div><h1>{{name}}{{#SkillName}} *for* {{SkillName}}{{/SkillName}}</h1></div>
		<div class="arrow-container"><div class="arrow-right"></div></div>
		{{#Check}}
			<div class="rowcolor"><span class="tcat" data-i18n="check-c">Check: </span>{{Roll}}</div>
		{{/Check}}
		{{#DL}}
			<div class="rowcolor"><span class="tcat" data-i18n="difficulty-level-u">DL: </span>{{DL}}</div>
			{{#Sixes}}
				{{#rollGreater() computed::Sixes 0 }}
					{{#rollGreater() computed::Sixes 1 }} <!-- Two Sixes -->
						<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="success-c"> Success</span>++</div>
					{{/rollGreater() computed::Sixes 1 }}
					{{#^rollGreater() computed::Sixes 1 }} <!-- Not Two Sixes -->
						{{#rollGreater() computed::Sixes computed::Ones }} <!-- One Six, No Ones -->
							{{#rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="failure-c"> Failure</span>+</div>
							{{/rollLess() Roll DL }}
							{{#^rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="success-c"> Success</span>+</div>
							{{/^rollLess() Roll DL }}
						{{/rollGreater() computed::Sixes computed::Ones }}
						{{#^rollGreater() computed::Sixes computed::Ones }} <!-- One Six, One One: Chaotic Harmony -->
							{{#rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="failure-c"> Failure</span></div>
							{{/rollLess() Roll DL }}
							{{#^rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="success-c"> Success</span></div>
							{{/^rollLess() Roll DL }}						
						{{/^rollGreater() computed::Sixes computed::Ones }}
					{{/^rollGreater() computed::Sixes 1 }}
				{{/rollGreater() computed::Sixes 0 }}
				{{#^rollGreater() computed::Sixes 0 }}
					{{#rollGreater() computed::Ones 1 }} <!-- Two Ones -->
						<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="failure-c"> Failure</span>--</div>
					{{/rollGreater() computed::Ones 1 }}
					{{#^rollGreater() computed::Ones 1 }} <!-- Not Two Ones -->
						{{#rollGreater() computed::Ones 0}} <!-- One One, No Sixes -->
							{{#rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="failure-c"> Failure</span>-</div>
							{{/rollLess() Roll DL }}
							{{#^rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="success-c"> Success</span>-</div>
							{{/^rollLess() Roll DL }}						
						{{/rollGreater() computed::Ones 0}}
						{{#^rollGreater() computed::Ones 0}} <!--No Ones, No Sixes -->
							{{#rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="failure-c"> Failure</span></div>
							{{/rollLess() Roll DL }}
							{{#^rollLess() Roll DL }}
								<div class="rowcolor"><span class="tcat" data-i18n="result-c">Result: </span><span data-i18n="success-c"> Success</span></div>
							{{/^rollLess() Roll DL }}						
						{{/^rollGreater() computed::Ones 0}}						
					{{/^rollGreater() computed::Ones 1 }}
				{{/^rollGreater() computed::Sixes 0 }}	
			{{/Sixes}}
			{{#^Sixes}}
				{{#rollLess() Roll DL }}
					<div class="rowcolor"><span class="tcat">Result: </span><span data-i18n="failure-c"> Failure</span></div>
				{{/rollLess() Roll DL }}
				{{#^rollLess() Roll DL }}
					<div class="rowcolor"><span class="tcat">Result: </span><span data-i18n="success-c"> Success</span></div>
				{{/^rollLess() Roll DL }}
			{{/^Sixes}}
		{{/DL}}
		{{#Sixes}}
			{{#rollGreater() computed::Sixes 0 }}
				<div class="rowcolor"><span class="tcat" style="color: White; background-color: rgb(0, 59, 111); font-weight: bold;" data-i18n="sixes-c">Sixes: </span>{{computed::Sixes}}&nbsp; &#9752;</div>
			{{/rollGreater() computed::Sixes 0 }}
			{{#rollGreater() computed::Ones 0 }}
				<div style="background-color: White; color: Gray; font-weight: bold;"><span class="tcat" style="color: White; background-color: Purple; font-weight: bold;" data-i18n="ones-c">Ones: </span>{{computed::Ones}}&nbsp; &#9875;</div>
			{{/rollGreater() computed::Ones 0 }}
		{{/Sixes}}
		
		{{#Damage}}
			<div class="rowcolor"><span class="tcat" data-i18n="damage-c">Damage: </span>{{Damage}}</div>
		{{/Damage}}
    </div>
</rolltemplate>

<!-- Maybe later? -->
<rolltemplate class="sheet-rolltemplate-melee">
    <div class="container">
		{{#Actor}}
			<div><span class="subheader">{{Actor}}&#39;s </span></div>
		{{/Actor}}
		<div><h1>{{Name}}</h1></div>
		<div class="arrow-container"><div class="arrow-right"></div></div>
		<div class="rowcolor"><span class="tcat">{{Type}}: </span>{{Roll}}</div>

		{{#DR}}
			<div class="rowcolor"><span class="tcat" title="Victory Sum - succeed by rolling over this amount">DR: </span>{{DR}}</div>
			{{#rollLess() Roll DR }}
				<div class="rowcolor"><span class="tcat">Result: </span>Failure</div>
			{{/rollLess() Roll DR }}
			{{#^rollLess() Roll DR }}
				<div class="rowcolor"><span class="tcat">Result: </span>Success!</div>
				<div class="rowcolor"><span class="tcat">Damage: </span>{{Damage}}</div>
			{{/^rollLess() Roll DR }}
		{{/DR}}		
	</div>
</rolltemplate>

<script type="text/worker">

on("sheet:opened", function(eventInfo){
    
	
	getAttrs(["setupDone"], function(pvalue) {
	console.log("Hello there");

	let SetupDone=parseInt(pvalue.setupDone);
	console.log("setupdone: "+SetupDone );

	if (SetupDone==0){
		console.log("Do setup");

	}	
  });    
});

	
	function incSkill(section,skill,value){
		 getSectionIDs(section, function(idArray) {
			var found = false;
			if (idArray.length > 0) {
				var fields = [];
				_.each(idArray, function(currentID) {
					fields.push(section+"_" + currentID + "_skill");
					fields.push(section+"_" + currentID + "_skillValue");
				});
				getAttrs(fields, function(values) {
					_.each(idArray, function(currentID, i) {
						var curSkill = values[section+"_" + idArray[i] + "_skill"];
						if (curSkill === skill){
							found = true;
						}
					});
					if (!found) {
						//console.log(skill+""+section+" add !!!!!!!!!!!");
						addSkill(section,skill,value);
					}
				});
			}
			else{
				addSkill(section,skill,value);
			}

		});
	}


	function addSkill(section,skill,value){
			var id=getId();
			var setObj = {};
			setObj[section+"_"+id+'_skill']=skill;
			setAttrs(setObj);
			setObj[section+"_"+id+'_skillValue']=value;
			//console.log("!!!!!!!!! skill value: "+value);
			setAttrs(setObj);
	}


	function getId(){
		const sattrs = {};
		const createdIDs = [];
		var retId = 0;
		if (createdIDs.length==0){
			retId = generateRowID();
			createdIDs.push(retId);
		}
		var checkit = true;
		  while (checkit==true) {
			let newID = generateRowID();
			//console.log("Newid "+newID);
			if (!createdIDs.includes(newID)) {
			  newrowid = newID;
			  //console.log("newrowid "+newID);
			  createdIDs.push(newrowid);
			  checkit=false;
			}
		  }
			  retId = newrowid;

		return retId;
	}



on('clicked:initiative', (info) => {
	startRoll("&{template:initiative} {{name=@{character_name}}} {{roll1=[[@{intuition}+@{speed}+1d20 &{tracker}]]}}", (results) => {
		const total = results.results.roll1.result;
		const computed = total;
		/* console.log("   *** Action Initiative: ");
		console.log(" roll1Dice " + results.results.roll1.dice );
		console.log(" roll1Result " + results.results.roll1.result );
		console.log(" roll1Expression " + results.results.roll1.expression );
		*/

		setAttrs({ initiative: computed });

		finishRoll(
			results.rollId,
			{
				roll1: computed
			}
		);
	});
});


function prepName(val) {
	/* Strip the preceding '@{' and trailing '}', and capitalize the first letter */
    return String(val).charAt(2).toUpperCase() + String(val).slice(3,val.length-1);
}

function prepTMName(val) {
	/* Strip the preceding '@{TM' and trailing '}', and capitalize the first letter */
    return String(val).charAt(4).toUpperCase() + String(val).slice(5,val.length-1);
}

// Set Roll1 title
on("change:DPAtt1 change:DPAbi1", function(eventInfo) {
	let NewName = eventInfo.newValue;
	let OldName = eventInfo.previousValue;
	let SourceAttribute = eventInfo.sourceAttribute;
	console.log("  SourceAttribute: " + SourceAttribute + " NewName " + NewName);
	getAttrs(["DPAtt1","DPAbi1"], function(values) {
		let Attribute = prepName(values.DPAtt1);
		let Skill = prepName(values.DPAbi1);
		let Title = Attribute + "+" + Skill;
		console.log("  Attribute: " + Attribute + " Skill: " + Skill + " Title " + Title);

		setAttrs({                            
				dicepool1Title: Title
		});

	});
});
// Set Roll2 title
on("change:DPAtt2 change:DPAbi2", function(eventInfo) {
	getAttrs(["DPAtt2","DPAbi2"], function(values) {
		let Attribute = prepName(values.DPAtt2);
		let Skill = prepName(values.DPAbi2);
		let Title = Attribute + "+" + Skill;
		console.log("  Attribute: " + Attribute + " Skill: " + Skill + " Title " + Title);

		setAttrs({                            
				dicepool2Title: Title
		});

	});
});
// Set Roll3 title
on("change:DPAtt3 change:DPAbi3", function(eventInfo) {
	getAttrs(["DPAtt3","DPAbi3"], function(values) {
		let Attribute = prepName(values.DPAtt3);
		let Skill = prepName(values.DPAbi3);
		let Title = Attribute + "+" + Skill;
		console.log("  Attribute: " + Attribute + " Skill: " + Skill + " Title " + Title);

		setAttrs({                            
				dicepool3Title: Title
		});

	});
});
// Set Roll4 title
on("change:DPAtt4 change:DPAbi4", function(eventInfo) {
	getAttrs(["DPAtt4","DPAbi4"], function(values) {
		let Attribute = prepName(values.DPAtt4);
		let Skill = prepName(values.DPAbi4);
		let Title = Attribute + "+" + Skill;
		console.log("  Attribute: " + Attribute + " Skill: " + Skill + " Title " + Title);

		setAttrs({                            
				dicepool4Title: Title
		});

	});
});
// Change Attribute or Skill in repeating_roll
on("change:repeating_roll:DPAtt change:repeating_roll:DPAbi", function(eventInfo) {
	getAttrs(["repeating_roll_DPAtt","repeating_roll_DPAbi"], function(values) {
		let Attribute = prepName(values.repeating_roll_DPAtt);
		let Skill = prepName(values.repeating_roll_DPAbi);
		let Title = Attribute + "+" + Skill;
		console.log("  Attribute: " + Attribute + " Skill: " + Skill + " Title " + Title);

		setAttrs({                            
				repeating_roll_dicepoolTitle: Title
		});

	});
});
// Change Attribute or Skill in repeating_tmroll
on("change:repeating_tmroll:TMDPAtt change:repeating_tmroll:TMDPAbi", function(eventInfo) {
	getAttrs(["repeating_tmroll_TMDPAtt","repeating_tmroll_TMDPAbi"], function(values) {
		let Attribute = prepName(values.repeating_tmroll_TMDPAtt);
		let Skill = prepName(values.repeating_tmroll_TMDPAbi);
		let Title = Attribute + "+" + Skill;
		console.log("  TMAttribute: " + Attribute + " TMSkill: " + Skill + " Title " + Title);

		setAttrs({                            
				repeating_tmroll_dicepoolTitle: Title
		});

	});
});

// Change Attribute - re totalAttributePoints
on("change:awareness change:coordination change:ingenuity change:presence change:resolve change:strength", function(eventInfo) {
	getAttrs(["awareness","coordination","ingenuity","presence","resolve","strength"], function(values) {
		let Awareness = parseInt(values.awareness)||0;
		let Coordination = parseInt(values.coordination)||0;
		let Ingenuity = parseInt(values.ingenuity)||0;
		let Presence = parseInt(values.presence)||0;
		let Resolve = parseInt(values.resolve)||0;
		let Strength = parseInt(values.strength)||0;
		let AttibuteTotal = Awareness + Coordination + Ingenuity + Presence + Resolve + Strength;
		console.log("  Awareness " + Awareness + " Coordination " + Coordination + " Ingenuity " + Ingenuity + "  Presence " + Presence + " Resolve " + Resolve + " Strength " + Strength);
		console.log("  AttibuteTotal: " + AttibuteTotal);
		setAttrs({                            
				totalAttributePoints: AttibuteTotal
		});

	});
});
// Change Skill - re totalSkillPoints
on("change:athletics change:conflict change:convince change:craft change:intuition change:knowledge change:medicine change:science change:subterfuge change:survival change:technology change:transport", function(eventInfo) {
	getAttrs(["athletics","conflict","convince","craft","intuition","knowledge","medicine","science","subterfuge","survival","technology","transport"], function(values) {
		let Athletics = parseInt(values.athletics)||0;
		let Conflict = parseInt(values.conflict)||0;
		let Convince = parseInt(values.convince)||0;
		let Craft = parseInt(values.craft)||0;
		let Intuition = parseInt(values.intuition)||0;
		let Knowledge = parseInt(values.knowledge)||0;
		let Medicine = parseInt(values.medicine)||0;
		
		let Science = parseInt(values.science)||0;
		let Subterfuge = parseInt(values.subterfuge)||0;
		let Survival = parseInt(values.survival)||0;
		let Technology = parseInt(values.technology)||0;
		let Transport = parseInt(values.transport)||0;		
		let SkillTotal = Athletics + Conflict + Convince + Craft + Intuition + Knowledge + Medicine + Science + Craft + Intuition + Knowledge + Medicine;
		console.log("  Athletics " + Athletics + " Conflict " + Conflict + " Convince " + Convince + " Craft " + Craft + "  Intuition " + Intuition + " Knowledge " + Knowledge + " Medicine " + Medicine + " Science " + Science + " Subterfuge " + Subterfuge + "  Survival " + Survival + " Technology " + Technology + " Transport " + Transport);
		console.log("  SkillTotal: " + SkillTotal);

		setAttrs({                            
				totalSkillPoints: SkillTotal
		});
	});
});

on("change:totalAttributePoints change:totalSkillPoints change:totalSpecialisationPoints", function(eventInfo) {
	getAttrs(["totalAttributePoints","totalSkillPoints","totalSpecialisationPoints"], function(values) {
		let AttributePoints = parseInt(values.totalAttributePoints)||0;
		let SkillPoints = parseInt(values.totalSkillPoints)||0;
		let SpecialisationPoints = parseInt(values.totalSpecialisationPoints)||0;
		
		let Total = AttributePoints + SkillPoints + SpecialisationPoints;
		console.log("  AttributePoints " + AttributePoints + " SkillPoints " + SkillPoints + " SpecialisationPoints " + SpecialisationPoints);
		console.log("  Total: " + Total); 

		setAttrs({                            
				totalPoints: Total
		});
	});
});


// Time Machine
// Change Attribute - re totalAttributePoints
on("change:TMawareness change:TMcoordination change:TMingenuity change:TMawarenesspresence change:TMresolve change:TMstrength", function(eventInfo) {
	getAttrs(["TMawareness","TMcoordination","TMngenuity","TMpresence","TMresolve","TMstrength"], function(values) {
		let Awareness = parseInt(values.TMawareness)||0;
		let Coordination = parseInt(values.TMcoordination)||0;
		let Ingenuity = parseInt(values.TMingenuity)||0;
		let Presence = parseInt(values.TMpresence)||0;
		let Resolve = parseInt(values.TMresolve)||0;
		let Strength = parseInt(values.TMstrength)||0;
		let AttibuteTotal = Awareness + Coordination + Ingenuity + Presence + Resolve + Strength;
		console.log("  Awareness " + Awareness + " Coordination " + Coordination + " Ingenuity " + Ingenuity + "  Presence " + Presence + " Resolve " + Resolve + " Strength " + Strength);
		console.log("  AttibuteTotal: " + AttibuteTotal);
		setAttrs({                            
				TMtotalAttributePoints: AttibuteTotal
		});

	});
});
// Change Skill - re totalSkillPoints
on("change:TMathletics change:TMconflict change:TMconvince change:TMcraft change:TMintuition change:TMknowledge change:TMmedicine change:TMscience change:TMsubterfuge change:TMsurvival change:TMtechnology change:TMtransport", function(eventInfo) {
	getAttrs(["TMathletics","TMconflict","TMconvince","TMcraft","TMintuition","TMknowledge","TMmedicine","TMscience","TMsubterfuge","TMsurvival","TMtechnology","TMtransport"], function(values) {
		let Athletics = parseInt(values.TMathletics)||0;
		let Conflict = parseInt(values.TMconflict)||0;
		let Convince = parseInt(values.TMconvince)||0;
		let Craft = parseInt(values.TMcraft)||0;
		let Intuition = parseInt(values.TMintuition)||0;
		let Knowledge = parseInt(values.TMknowledge)||0;
		let Medicine = parseInt(values.TMmedicine)||0;
		
		let Science = parseInt(values.TMscience)||0;
		let Subterfuge = parseInt(values.TMsubterfuge)||0;
		let Survival = parseInt(values.TMsurvival)||0;
		let Technology = parseInt(values.TMtechnology)||0;
		let Transport = parseInt(values.TMtransport)||0;		
		let SkillTotal = Athletics + Conflict + Convince + Craft + Intuition + Knowledge + Medicine + Science + Craft + Intuition + Knowledge + Medicine;
		console.log("  TM  Athletics " + Athletics + " Conflict " + Conflict + " Convince " + Convince + " Craft " + Craft + "  Intuition " + Intuition + " Knowledge " + Knowledge + " Medicine " + Medicine + " Science " + Science + " Subterfuge " + Subterfuge + "  Survival " + Survival + " Technology " + Technology + " Transport " + Transport);
		console.log("  TMSkillTotal: " + SkillTotal);

		setAttrs({                            
				TMtotalSkillPoints: SkillTotal
		});
	});
});

on("change:TMtotalAttributePoints change:TMtotalSkillPoints change:TMtotalSpecialisationPoints", function(eventInfo) {
	getAttrs(["TMtotalAttributePoints","TMtotalSkillPoints","TMtotalSpecialisationPoints"], function(values) {
		let AttributePoints = parseInt(values.TMtotalAttributePoints)||0;
		let SkillPoints = parseInt(values.TMtotalSkillPoints)||0;
		let SpecialisationPoints = parseInt(values.TMtotalSpecialisationPoints)||0;
		
		let Total = AttributePoints + SkillPoints + SpecialisationPoints;
		console.log("  AttributePoints " + AttributePoints + " SkillPoints " + SkillPoints + " SpecialisationPoints " + SpecialisationPoints);
		console.log("  Total: " + Total); 

		setAttrs({                            
				TMtotalPoints: Total
		});
	});
});


on('clicked:combo1-action clicked:combo2-action clicked:combo3-action clicked:combo4-action clicked:combo-action clicked:tmcombo1-action clicked:tmcombo2-action clicked:tmcombo3-action clicked:tmcombo4-action clicked:tmcombo-action', async (eventInfo) => {
	console.log(" Clicked ---action");
	console.log("  triggerName " + eventInfo.triggerName);
	
	let Attribute = "";
	let Skill = "";
	let Difficulty = "";
	let TMflag = false;



	switch (eventInfo.triggerName) {
		case "clicked:combo1-action": Attribute = "DPAtt1"; Skill = "DPAbi1"; Difficulty = "difficulty";  break;
		case "clicked:combo2-action": Attribute = "DPAtt2"; Skill = "DPAbi2"; Difficulty = "difficulty";  break;
		case "clicked:combo3-action": Attribute = "DPAtt3"; Skill = "DPAbi3"; Difficulty = "difficulty";  break;
		case "clicked:combo4-action": Attribute = "DPAtt4"; Skill = "DPAbi4"; Difficulty = "difficulty";  break;
		case "clicked:combo-action":  Attribute = "DPAtt";  Skill = "DPAbi";  Difficulty = "difficulty";   break;

		case "clicked:tmcombo1-action": Attribute = "TMDPAtt1"; Skill = "TMDPAbi1"; Difficulty = "TMdifficulty"; TMflag = true; break;
		case "clicked:tmcombo2-action": Attribute = "TMDPAtt2"; Skill = "TMDPAbi2"; Difficulty = "TMdifficulty"; TMflag = true;  break;
		case "clicked:tmcombo3-action": Attribute = "TMDPAtt3"; Skill = "TMDPAbi3"; Difficulty = "TMdifficulty"; TMflag = true;  break;
		case "clicked:tmcombo4-action": Attribute = "TMDPAtt4"; Skill = "TMDPAbi4"; Difficulty = "TMdifficulty"; TMflag = true;  break;
		case "clicked:tmcombo-action":  Attribute = "TMDPAtt";  Skill = "TMDPAbi"; Difficulty = "TMdifficulty"; TMflag = true;   break;
		default: 
			Attribute = "None";
	}
	
	console.log("  Attribute: " + Attribute + " Skill " + Skill + " Difficulty " + Difficulty);
	getAttrs([Attribute, Skill, Difficulty, "suppressDL"], function(v){
		let AttributeValue = v[Attribute];
		let SkillValue = v[Skill];
		let DifficultyValue = v[Difficulty];
		let SuppressDL = parseInt(v.suppressDL)||0;
		let AttributeName = "";
		let SkillName = "";
		if (TMflag === true) {
			AttributeName = prepTMName(v[Attribute]);
			SkillName = prepTMName(v[Skill]);
		} else {
			AttributeName = prepName(v[Attribute]);
			SkillName = prepName(v[Skill]);

		}
		let DLrequest = "";
		if ( SuppressDL != 1 ) {
			DLrequest = " {{DL=[[?{Difficulty Level|9}]]}} " ;
		}


		//console.log("  AttributeValue: " + AttributeValue + " SkillValue " + SkillValue);
		let Title = AttributeName + "+" + SkillName;

		//console.log("  Attribute: " + Attribute + " Skill: " + Skill + " DifficultyValue " + DifficultyValue);
		//console.log(" Title " + Title);
		
		const rollString = "&{template:display} {{name=@{character_name}}} {{SkillName="+ Title +"}} {{Check=[[1]]}} {{Sixes=[[0]]}} {{Ones=[[0]]}} "+ DLrequest +" {{Roll=[["+AttributeValue+"+"+SkillValue+"+"+DifficultyValue+"+?{Cooperation and/or More Time Bonus|0}]]}}";

		//console.log("rollString: " + rollString);	
		
		startRoll(rollString, (results) => { 
		
			//console.log(" Roll Dice " + results.results.Roll.dice );
			//console.log(" Roll Dice 1: " + results.results.Roll.dice[0] );
			//console.log(" Roll Dice 2: " + results.results.Roll.dice[1] );
			let idx = 0;
			let ones = 0;
			let sixes = 0;
			
			if (Difficulty === "3d6kh2s") { idx = 1; }
			//console.log("   idx: " + idx);
			if (results.results.Roll.dice[idx] == "1") {
				ones += 1;
				//console.log(" A One found at idx: " + idx);
			} else if (results.results.Roll.dice[idx] == "6") {
				sixes += 1;
				//console.log(" A Six found at idx: " + idx);
			}
			idx++;			
			if (results.results.Roll.dice[idx] == "1") {
				ones += 1;
				//console.log(" A One found at idx: " + idx);
			} else if (results.results.Roll.dice[idx] == "6") {
				sixes += 1;
				//console.log(" A Six found at idx: " + idx);
			}			
			//console.log(" Roll Result " + results.results.Roll.result );
			//console.log(" Roll Expression " + results.results.Roll.expression );

			//console.log(" Stringify results.results: ");
			//console.log(JSON.stringify(results.results));
			//console.log("\n Stringify results: ");
			//console.log(JSON.stringify(results));
			//console.log("\n Stringify results.results.Roll: ");
			//console.log(JSON.stringify(results.results.Roll));

			const SixeS = sixes;
			//console.log(" SixeS " + SixeS );

			finishRoll(
				results.rollId,
				{
					 Sixes: sixes, Ones: ones
				}
			);
		});
	});
});
	
</script>

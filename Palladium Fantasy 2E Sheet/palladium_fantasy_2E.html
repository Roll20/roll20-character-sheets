<!-- Navigation Bar -->
<div class="buttonbar">
  <div class="navbuttons">
    <input type="hidden" class="showspells" name="attr_showspells" value="1" />
    <input type="hidden" class="showpsionics" name="attr_showpsionics" value="1" />
    <input type="hidden" class="showwards" name="attr_showwards" value="1" />
    <input type="hidden" class="showcircles" name="attr_showcircles" value="1" />
    <input type="hidden" class="showstructures" name="attr_showstructures" value="1" />

    <button type="action" class="topbuttons" title="Character Main Page" name="act_character" >Character</button>
    <button type="action" class="topbuttons" title="Social Information" name="act_social" >Social</button>
    <button type="action" class="topbuttons" title="Percentile Based Skills" name="act_skills" >Skills</button>
    <button type="action" class="topbuttons" title="Inventory and Junk" name="act_inventory" >Inventory</button>
    <button type="action" class="topbuttons" title="Combat Skills and Saves" name="act_combat" >Combat</button>
    <button type="action" class="topbuttons confspells" title="Spells" name="act_spells" >Spells</button>
    <button type="action" class="topbuttons confpsionics" title="Psionics" name="act_psionics" >Psionics</button>
    <button type="action" class="topbuttons confwards" title="Wards" name="act_wards" >Wards</button>
    <button type="action" class="topbuttons confcircles" title="Circles" name="act_circles" >Circles</button>
    <button type="action" class="topbuttons confstructures" title="Ships and Structures" name="act_structures" >Structures</button>
    <button type="action" class="topbuttons" title="Journal or Notes" name="act_journal" >Journal</button>
  </div>
  <div class="docbuttons">
    <button type="action" class="picbuttons" title="Sheet Configuration" name="act_configuration" >x</button>
    <button type="action" class="picbuttons" title="Release Notes and Documentation" name="act_documentation" >N</button>
  </div>
</div>
<input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='character'  />

<!-- Main Character Tab -->
<div class='sheet-character'>
    <div class='statheader-container'>
        <h2>Character</h2>
        <h4>Macro Rolls:</h4>
        <div class="whispertoggle-container">
            <input type="radio" class="toggle-left" name="attr_whispertoggle" title="Public" value="" checked="checked"><span title="Public"></span>
            <input type="radio" class="toggle-right" name="attr_whispertoggle" title="GM Whisper" value="/w gm "><span title="Whisper"></span>
        </div>
    </div>
    <div class='name-grid-container'>
        <h4 class='name-label' title='Character Name' >Public Name</h4>
        <input class='name-stats parchment' type='text' title='@{character_name}' value='' name='attr_character_name'/>
        <div class="space-holder" ></div>
        <h4 class='name-label' title='Character True Name' >True Name</h4>
        <input class='name-stats parchment' type='text' title='@{true_name}' value='' name='attr_true_name'/>
    </div>
    <div class='class-grid-container'>
        <h4 class='class-label'title='Occupational Character Class' >O.C.C.</h4>
        <input class='occ-stats parchment' type='text' title='@{occ}' value='' name='attr_occ'/>
        <h4 class='class-label' title='Character Level' >Level</h4>
        <input class='class-stats parchment' type='text' title='@{character_level}' value='' name='attr_character_level'/>
        <h4 class='class-label' title='Experience Points' >Experience</h4>
        <input class='exp-stats parchment' type='text' title='@{experience}' value='' name='attr_experience'/>
    </div>

    <!-- Stat Sections -->
    <div class='middle-grid-container'>
      <!-- The main eight stats -->
        <div class='stat-grid-container'>
            <h4 class='stat-title'>Stat</h4>
            <h4 class='stat-title'>Now/Past</h4>
            <button class='statdice' type="roll" title='Intelligence Quotient' name='roll_iq_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=I.Q. Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{iq}}}" >I.Q.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{iq}' value='' name="attr_iq"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{iq_max}' value='' name="attr_iq_max"/>
            </div>

            <button class='statdice' type="roll" title='Mental Endurance' name='roll_me_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=Mental Endurance Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{me}}}" >M.E.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{me}' value='' name="attr_me"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{me_max}' value='' name="attr_me_max"/>
            </div>

            <button class='statdice' type="roll" title='Mental Affinity' name='roll_ma_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=Mental Affinity Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{ma}}}" >M.A.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{ma}' value='' name="attr_ma"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{ma_max}' value='' name="attr_ma_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Strength' name='roll_ps_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=Physical Strength Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{ps}}}" >P.S.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{ps}' value='' name="attr_ps"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{ps_max}' value='' name="attr_ps_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Prowess' name='roll_pp_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=Physical Prowess Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{pp}}}" >P.P.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{pp}' value='' name="attr_pp"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{pp_max}' value='' name="attr_pp_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Endurance' name='roll_pe_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=Physical Endurance Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{pe}}}" >P.E.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{pe}' value='' name="attr_pe"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{pe_max}' value='' name="attr_pe_max"/>
            </div>

            <button class='statdice' type="roll" title='Physical Beauty' name='roll_pb_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=Physical Beauty Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{pb}}}" >P.B.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{pb}' value='' name="attr_pb"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{pb_max}' value='' name="attr_pb_max"/>
            </div>

            <button class='statdice' type="roll" title='Speed' name='roll_spd_check' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}**}} {{subtitle=Speed Check}} {{Check=[[1d20cs<1cf>20]]|[[1d100cs<1cf>100]]}} {{Target=@{spd}}}" >Spd.</button>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{spd}' value='' name="attr_spd"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{spd_max}' value='' name="attr_spd_max"/>
            </div>
        </div>
        <div class='mid-column-gap'></div>

        <!-- Derived Stats -->
        <div class='calc-grid-container'>
            <h4 class='calc-title'>Derived</h4>
            <h4 class='calc-title'>Stats</h4>
            <h4 class='calc-label' title='Maximum Lift' >Lift lbs.</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_lift" readonly>
            <h4 class='calc-label' title='Maximum Carrying Weight' >Carry lbs.</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_carry" readonly>
            <h4 class='calc-label' title='Time Between Rests at Max Carry Weight' >Carry Max</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_carry_max" readonly>
            <h4 class='calc-label' title='Rounded Run Speed in Miles per Hour' >Run MPH</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_mph" readonly>
            <h4 class='calc-label' title='Maximum Feet of Movement per Melee' >Run/Melee</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_melee" readonly>
            <h4 class='calc-label' title='Maximum Feet of Movement per Action' >Run/Action</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_attack" readonly>
            <h4 class='calc-label' title='Time Beween Rests When Running' >Run Minutes</h4>
            <input class='calc-field faded-blue' type="text" value="" name="attr_run_max" readonly>
            <div class='spaceholder'></div>
            <div class='spaceholder'></div>          
        </div>

        <!-- Hit Points, AR, SDC -->
        <div class='mid-column-gap'></div>
        <div class='hp-grid-container'>
            <h4 class='roll-title'>Resources &</h4>
            <h4 class='roll-title'>Rolls</h4>
            <h4 class='roll-label' title='Hit Points' >Hit Points</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{character_hp}' value='' name="attr_character_hp"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{character_hp_max}' value='' name="attr_character_hp_max"/>
            </div>
            <h4 class='roll-label' title='Armor Structural Damage Capacity' >S.D.C.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{character_sdc}' value='' name="attr_character_sdc"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{character_sdc_max}' value='' name="attr_character_sdc_max"/>
            </div>
            <h4 class='roll-label' title='Armor Rating' >Armor Rating</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{character_ar}' value='' name="attr_character_ar"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{character_ar_max}' value='' name="attr_character_ar_max"/>
            </div>
            <h4 class='roll-label' title='Armor Structural Damage Capacity' >Armor S.D.C.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{armor_sdc}' value='' name="attr_armor_sdc"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{armor_sdc_max}' value='' name="attr_armor_sdc_max"/>
            </div>
            <button class='rolldice' type="roll" title='Trust or Intimidate' name='roll_invoke_trust' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}'s**}} {{subtitle=Trust or Intimidate Attempt}} {{Skill Check=[[1d100]]}} {{Chance of Success=@{invoke_trust}}}" >Trust</button>
            <input class='roll-field faded-blue' type="text" value="0" name="attr_invoke_trust" readonly>
            <button class='rolldice' type="roll" title='Charm or Impress' name='roll_charm_impress' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}'s**}} {{subtitle=Charm or Impress Attempt}} {{Skill Check=[[1d100]]}} {{Chance of Success=@{charm_impress}}}" >Charm</button>
            <input class='roll-field faded-blue' type="text" value="0" name="attr_charm_impress" readonly>
            <button class='rolldice' type="roll" title='Perception from Rifts' name='roll_perception' value="@{whispertoggle}&{template:custom} {{color=yellow}} {{title=**@{character_name}'s**}} {{subtitle=Perception}} {{Perception=[[d20+@{perception}]]}} {{desc=The number to beat is based on difficulty as determined by the GM
            **4** Easy
            **8** Moderate
            **14** Challenging
            **17** Difficult}}" >Percep.</button>
            <input class='roll-field parchment' type='text' title='Perception Bonus' value="0" name="attr_perception" />
            <button class='rolldice' type="roll" title='Initiative (d20+80)' name='roll_initiative' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}'s**}} {{subtitle=Initiative}} {{Initiative=[[d20+80+@{initiative}[HtH bonus]+@{pp_init}[PP bonus]+@{initiative_mod}&{tracker}]]}}" >Initiative</button>
            <input class='roll-field parchment' type='text' title='Initiative Bonus' value="0" name="attr_initiative_mod" />
        </div>

        <!-- Casting Stats -->
        <div class='mid-column-gap'></div>
        <div class='caster-grid-container'>
            <h4 class='caster-title'>Caster</h4>
            <h4 class='caster-title'>Stats</h4>
            <h4 class='caster-label' title='Psionic Level' >Psionic Lvl</h4>
            <input class='caster-field parchment' type='text' title='@{psi_level}' value="0" name="attr_psi_level"/>
            <h4 class='caster-label' title='Psionic Inner Strength Points' >I.S.P.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{character_pisp}' value='' name="attr_character_pisp"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{character_pisp_max}' value='' name="attr_character_pisp_max"/>
            </div>
            <h4 class='caster-label' title='Magic Caster Level' >Caster Lvl</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{caster_level}' value="0" name="attr_caster_level" />
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{caster_level_max}' value="0" name="attr_caster_level_max" />
            </div>
            <h4 class='caster-label' title='Potential Psychic Energy' >P.P.E.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type=text title='@{character_casts}' value='' name="attr_character_casts"/>
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type=text title='@{character_casts_max}' value='' name="attr_character_casts_max"/>
            </div>
            <h4 class='caster-label' title='Spell Strength' >Spell Str.</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{spell_strength}' value="0" name="attr_spell_strength" />
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{spell_strength_max}' value="0" name="attr_spell_strength_max" />
            </div>
            <h4 class='caster-label' title='Ward Level' >Ward Lvl</h4>
            <input class='caster-field parchment' type='text' title='@{ward_level}' value="0" name="attr_ward_level" />
            <h4 class='caster-label' title='Daily Ward Activations' >Daily Wards</h4>
            <div class='fraction-grid-container'>
                <input class='minmax parchment' type='text' title='@{ward_casts}' value="" name="attr_ward_casts" />
                <div class='minmaxdivider'></div>
                <input class='minmax parchment' type='text' title='@{ward_casts_max}' value="" name="attr_ward_casts_max" />
            </div>
            <h4 class='caster-label' title='Ward Strength' >Ward Str.</h4>
            <input class='caster-field parchment' type='text' title=@{ward_strength} value="0" name="attr_ward_strength" />
            <h4 class='caster-label' title='Circle Level' >Circle Lvl</h4>
            <input class='caster-field parchment' type='text' title='@{circle_level}' value="0" name="attr_circle_level" />
            <h4 class='caster-label' title='Circle Strength' >Circle Str.</h4>
            <input class='caster-field parchment' type='text' title='@{circle_strength}' value="0" name="attr_circle_strength" />
        </div>
    </div>

    <!-- Additional Movement -->
    <div class='movement-container'>
        <div class="movement-panel">
            <input type="checkbox" name="attr_addl_movement_toggle" class="sheet-arrow" />
            <h4>Additional Movement</h4>
            <div class="arrowbody">
                <div class="leap-panel">
                    <div class='leap-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Vertical</h5>
                        <h5>Horizontal</h5>
                        <div class='space-holder'></div>
                        <h4>Leaping Distance</h4>
                        <input class='leaping-field parchment' type="number" name="attr_leapup" value="3" />
                        <input class='leaping-field parchment' type="number" name="attr_leapout" value="4" />
                        <h4>Feet</h4>
                    </div>
                </div>
                <div class='movement-grid-container' >
                    <h5>Movement Type</h5>
                    <h5>Speed</h5>
                    <h5>MPH</h5>
                    <h5>Run/Melee</h5>
                    <h5>Run/Action</h5>
                    <h5>Max Run</h5>
                    <div class='space-holder'></div>
                </div>
                <fieldset class="repeating_movement">
                    <div class='movement-grid-container' >
                        <input class='movement-field parchment' type="text" value="" name="attr_movement_name" placeholder="Additional Movement Type" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_spd" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_mph" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_ft_melee" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_ft_attack" />
                        <input class='movement-field parchment' type="number" value="" name="attr_movement_at_max" />
                        <h4>minutes</h4>
                    </div>
                </fieldset>
            </div>
        </div>
    </div>

    <!-- Combat Maneuvers -->
    <div class="combatmaneuver-container">
        <div class="combatmaneuver-panel">
            <input type="checkbox" name="attr_combatmaneuver_toggle" class="sheet-arrow" />
            <h4>Combat Maneuvers</h4>
            <div class="arrowbody">
                <div class="maneuvers-container">
                    <div class="maneuver-cell">
                        <h5 class="centered underlined">Maneuver</h5>
                        <h5>Temp Bonus</h5>
                        <div class='space-holder'></div>
                    </div>
                    <div class="maneuver-cell">
                        <h5 class="centered underlined">Maneuver</h5>
                        <h5>Temp Bonus</h5>
                        <div class='space-holder'></div>
                    </div>
                    <div class="maneuver-cell">
                        <h5 class="centered underlined">Maneuver</h5>
                        <h5>Temp Bonus</h5>
                        <div class='space-holder'></div>
                    </div>

                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Dodge' name='roll_dodge' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=Attempts to Dodge}} {{Dodge=[[1d20+@{dodge}[dodge bonus]+@{pp_bonus}[pp bonus]+@{temp_dodge}[temp bonus]@{mountedpd}]]}} {{desc=@{dodge_note}}}" >Dodge</button>
                        <input class='roll-field parchment' type='text' title='Dodge Bonus Other Than HtH or PP' value="0" name="attr_temp_dodge"/>
                        <input type='checkbox' title='Show Note Field' name='attr_dodgenote_toggle' value="1">
                        <input class='dodgenote-toggle' type='hidden' name='attr_dodgenote_toggle'>
                        <div class='dodgenote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_dodge_note" placeholder='Dodge Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Auto Dodge' name='roll_dodge' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=Attempts to Dodge}} {{Auto Dodge=[[1d20+@{temp_autododge}[temp bonus]]]}} {{desc=@{autododge_note}}}" >Auto Dodge</button>
                        <input class='roll-field parchment' type='text' title='Auto Dodge Bonus' value="0" name="attr_temp_autododge"/>
                        <input type='checkbox' title='Show Note Field' name='attr_adodgenote_toggle' value="1">
                        <input class='adodgenote-toggle' type='hidden' name='attr_adodgenote_toggle'>
                        <div class='adodgenote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_autododge_note" placeholder='Autododge Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Disarm' name='roll_disarm' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=Attempts a Disarm}} {{Disarm=[[1d20+@{disarm}[disarm bonus]+@{pp_bonus}[pp bonus]+@{temp_disarm}[temp bonus]]]}} {{desc=@{disarm_note}}}" >Disarm</button>
                        <input class='roll-field parchment' type='text' title='Disarm Bonus Other Than HtH or PP' value="0" name="attr_temp_disarm"/>
                        <input type='checkbox' title='Show Note Field' name='attr_disarmnote_toggle' value="1">
                        <input class='disarmnote-toggle' type='hidden' name='attr_disarmnote_toggle'>
                        <div class='disarmnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_disarm_note" placeholder='Disarm Notes' ></textarea>
                            </div>
                        </div>
                     </div>

                    <div class="maneuver-cell">    
                        <button class='rolldice' type="roll" title='Roll with Punch or Impact' name='roll_rollpunch' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=Attempts to Roll with Impact}} {{Roll with Punch=[[1d20+@{rollpunch}[rollpunch bonus]+@{pp_bonus}[pp bonus]+@{temp_rollpunch}[temp bonus]]]}} {{desc=@{rpunch_note}}}" >Roll Punch</button>
                        <input class='roll-field parchment' type='text' title='Roll with Impact Bonus Other Than HtH or PP' value="0" name="attr_temp_rollpunch"/>
                        <input type='checkbox' title='Show Note Field' name='attr_rpunchnote_toggle' value="1">
                        <input class='rpunchnote-toggle' type='hidden' name='attr_rpunchnote_toggle'>
                        <div class='rpunchnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_rpunch_note" placeholder='Roll with Punch Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Pull Punch' name='roll_pullpunch' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=Attempts to Pull a Punch}} {{Pull Punch=[[1d20+@{pullpunch}[pullpunch bonus]+@{pp_bonus}[pp bonus]+@{temp_pullpunch}[temp bonus]]]}} {{desc=@{ppunch_note}}}" >Pull Punch</button>
                        <input class='roll-field parchment' type='text' title='Pull Punch Bonus Other Than HtH or PP' value="0" name="attr_temp_pullpunch"/>
                        <input type='checkbox' title='Show Note Field' name='attr_ppunchnote_toggle' value="1">
                        <input class='ppunchnote-toggle' type='hidden' name='attr_ppunchnote_toggle'>
                        <div class='ppunchnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_ppunch_note" placeholder='Pull Punch Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Entangle' name='roll_entangle' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=Attempts to Entangle}} {{Entangle=[[1d20+@{entangle}[entangle bonus]+@{pp_bonus}[pp bonus]+@{temp_entangle}[temp bonus]]]}} {{desc=@{entangle_note}}}" >Entangle</button>
                        <input class='roll-field parchment' type='text' title='Entangle Bonus Other Than HtH or PP' value="0" name="attr_temp_entangle"/>
                        <input type='checkbox' title='Show Note Field' name='attr_entanglenote_toggle' value="1">
                        <input class='entanglenote-toggle' type='hidden' name='attr_entanglenote_toggle'>
                        <div class='entanglenote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_entangle_note" placeholder='Entangle Notes' ></textarea>
                            </div>
                        </div>
                    </div>

                    <div class="maneuver-cell">
                        <button class='rolldice' type="roll" title='Knockout/Stun' name='roll_stun' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=Attempts to Knockout or Stun}} {{Attempt=[[1d20cs>@{knockout}+@{temp_knockout}[temp bonus]]]}} {{desc=@{knockout_note}}}" >Knockout</button>
                        <input class='roll-field parchment' type='text' title='Knockout or Stun Bonus' value="0" name="attr_temp_knockout"/>
                        <input type='checkbox' title='Show Note Field' name='attr_knockoutnote_toggle' value="1">
                        <input class='knockoutnote-toggle' type='hidden' name='attr_knockoutnote_toggle'>
                        <div class='knockoutnote-hide'>
                            <div class='mnote-container'>
                                <textarea class='maneuver-notes parchment' type="text" value="" name="attr_knockout_note" placeholder='Knockout/Stun Notes' ></textarea>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Melee Attack Section -->
    <div class="melee-attack-panel">
        <input type="checkbox" name="attr_melee_attacks-toggle" class="sheet-arrow" />
        <h4>Melee Attacks</h4>
        <div class="arrowbody">
            <div class="attackoptions-container">
                    <h4>Melee Options:</h4>
                    <h5>Parry/Dodge:</h5>
                    <div class="mountparry-container">
                        <input type="radio" class="toggle-left" name="attr_mountedpd" title="No extra bonuses" value="" checked="checked"><span title="On Foot"></span>
                        <input type="radio" class="toggle-right" name="attr_mountedpd" title="Adds mounted parry/dodge to parry and dodge rolls" value="+@{mountedparrydodge}[Mounted]"><span title="Mounted"></span>
                    </div>
                    <h5>Damage:</h5>
                    <div class="mountdamage-container">
                        <input type="radio" class="toggle-left" name="attr_mounteddam" title="No extra bonuses" value="" checked="checked"><span title="On Foot"></span>
                        <input type="radio" class="toggle-middle" name="attr_mounteddam" title="Adds mounted damage to melee damage rolls" value="+@{mounteddamage}[Mounted]"><span title="Mounted"></span>
                        <input type="radio" class="toggle-right" name="attr_mounteddam" title="Adds mounted charge damage to melee damage rolls" value="+@{chargedamage}[Charge]"><span title="Charge"></span>
                    </div>                    
                </div>
            <div class='meleetemp-container'>
                <h4>Temporary Bonuses:</h4>
                <h5>Strike:</h5>
                <input class='mattack-text parchment' type="text" title='Temporary Melee Strike Bonuses' value="0" name="attr_mtemp_strike" />
                <h5>Parry:</h5>
                <input class='mattack-text parchment' type="text" title='Temporary Melee Parry Bonuses' value="0" name="attr_mtemp_parry" />
                <h5>Damage:</h5>
                <input class='mattack-text parchment' type="text" title='Temporary Melee Damage Bonuses' value="0" name="attr_mtemp_damage" />
                
            </div>
            <div class='mattack-grid-container'>
                <h5>Weapon Name</h5>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h5>Damage</h5>
                <div class='space-holder'></div>
            </div>
            <fieldset class="repeating_meleeattacks">
                <div class='mattack-grid-container' >
                    <input class='mattack-label parchment' type="text" value="" title='Weapon name that will display in template header' name="attr_weapon_attack" placeholder="Weapon Name" />
                    <button class='meleedice' type='roll' title='Strike (Attack) Roll with Damage' name='roll_meleeattack' value="@{whispertoggle}&{template:custom} {{color=blue}} {{title=**@{character_name}**}} {{subtitle=attacks with @{weapon_attack}}} {{Attack= [[d20cs>@{critical}+@{weapon_strike}[weapon]+@{strike}[HtH]+@{pp_bonus}[PP]+@{mtemp_strike}[temp]]]}} {{Damage= [[@{weapon_damage}+@{damage}[HtH]+@{ps_bonus}[PS]+@{mtemp_damage}[temp]@{mounteddam}]]}} {{desc=@{mattack_reference}}}">Strike</button>
                    <button class='meleedice' type='roll' title='Parry Roll' name='roll_meleeparry' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}**}} {{subtitle=parries with @{weapon_attack}}} {{Parry= [[d20+@{weapon_parry}[bonus]+@{parry}[HtH]+@{pp_bonus}[PP]+@{mtemp_parry}[temp]@{mountedpd}]]}}">Parry</button>
                    <button class='meleedice' type='roll' title='Damage Roll' name='roll_meleedamage' value="@{whispertoggle}&{template:custom} {{color=red}} {{title=**@{character_name}**}} {{subtitle=lashes out}} {{@{character_name}'s @{weapon_attack} deals= [[@{weapon_damage}+@{damage}[HtH]+@{ps_bonus}[PS]+@{mtemp_damage}[temp]@{mounteddam}]]}} {{desc=@{mattack_reference}}}">Damage</button>
                    <input class='damage-dice parchment' type="text" title='Damage Dice Calculation other than HtH and PS' value="" name="attr_weapon_damage" placeholder="xdy+z" />
                    <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_toggle_mbonus' value="1">
                    <input class='mbonus-toggle' type='hidden' name='attr_toggle_mbonus'>
                    <div class='mbonus-hide'>
                        <div class='mbonus-container'>
                            <h5>Strike Bonus</h5>
                            <h5>Parry Bonus</h5>
                            <h5>Notes</h5>
                            <input class='mattack-bonus parchment' type="text" title='Strike Bonuses other than HtH or PP' value="0" name="attr_weapon_strike" />
                            <input class='mattack-bonus parchment' type="text" title='Parry Bonuses other than HtH or PP' value="0" name="attr_weapon_parry" />
                            <textarea class='mattack-notes parchment' type="text" title='Special Note About This Attack' value="" name="attr_mattack_reference" ></textarea>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>

    <!-- Ranged Attack Section -->
    <div class="ranged-attack-panel">
        <input type="checkbox" name="attr_ranged_attacks-toggle" class="sheet-arrow" />
        <h4>Ranged or Magical Attacks</h4>
        <div class="arrowbody">
            <div class='rangedtemp-container'>
                <h4>Temporary Bonuses:</h4>
                <h5>Strike:</h5>
                <input class='rattack-text parchment' type="text" title='Temporary Ranged Strike Bonuses' value="0" name="attr_rtemp_strike" />
                <h5>Damage:</h5>
                <input class='rattack-text parchment' type="text" title='Temporary Ranged Damage Bonuses' value="0" name="attr_rtemp_damage" />
            </div>
            <div class='rattack-grid-container' >
                <h5>Weapon Name</h5>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h5>Damage</h5>
                <h5>Range</h5>
                <h5>Ammo</h5>
                <div class='space-holder'></div>
            </div>
            <fieldset class="repeating_rangedattacks">
                <div class='rattack-grid-container' >
                    <input class='rattack-label parchment' type="text" title='Weapon name that will display in template header' value="" name="attr_weapon_attack" placeholder="Weapon Name" />
                    <button class='rangeddice' type='roll' title='Strike (Attack) Roll with Damage' name='roll_rangedattack' value="@{whispertoggle}&{template:custom} {{color=blue}} {{title=**@{character_name}**}} {{subtitle=attacks with @{weapon_attack}}} {{ammo=@{ammunition}}} {{range=@{weapon_range}}} {{Attack= [[d20cs>@{rcritical}+@{weapon_strike}[Weapon]+@{rtemp_strike}[Temp]]]}} {{Damage= [[@{weapon_damage}+@{rtemp_damage}[temp]]]}} {{desc=@{attack_reference}}}">Strike</button>
                    <button class='rangeddice' type='roll' title='Damage Roll' name='roll_rangeddamage' value="@{whispertoggle}&{template:custom} {{color=blue}} {{title=**@{character_name}**}} {{subtitle=deals damage with @{weapon_attack}}} {{Damage= [[@{weapon_damage}+@{rtemp_damage}[temp]]]}} {{desc=@{attack_reference}}}">Damage</button>
                    <input class='damage-dice parchment' type="text" title='Damage Dice Calculation' value="" name="attr_weapon_damage" placeholder="xdy+z" />
                    <input class='rattack-text parchment' type="text" title='Maximum Range of This Attack' value="" name="attr_weapon_range" />
                    <input class='rattack-text parchment' type='text' title='Ammunition' value='' name='attr_ammunition' />
                    <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_toggle_rbonus' value="1">
                    <input class='rbonus-toggle' type='hidden' name='attr_toggle_rbonus'>
                    <div class='rbonus-hide'>
                        <div class='rbonus-container'>
                            <h5>Strike Bonus</h5>
                            <h5>Notes</h5>
                            <input class='rattack-bonus parchment' type="text" title='Bonuses to Strike' value="0" name="attr_weapon_strike" />
                            <textarea class='rattack-notes parchment' title='Special Note About This Attack' value="" name="attr_attack_reference" ></textarea>
                        </div>
                    </div>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Social Tab -->
<div class="sheet-social">
  <h2>Social</h2>
    <div class='physical-grid-container'>
        <h4 class='physical-label'>Ethnicity</h4>
        <h4 class='physical-label'>Age</h4>
        <h4 class='physical-label'>Gender</h4>
        <h4 class='physical-label'>Height</h4>
        <h4 class='physical-label'>Weight</h4>
        <input class='physical-field parchment' type="text" value="" name="attr_character_ethnic"/>
        <input class='physical-field parchment' type="text" value="" name="attr_character_age" />
        <input class='physical-field parchment' type="text" value="" name="attr_character_gender" />
        <input class='physical-field parchment' type="text" value="" name="attr_character_height" />
        <input class='physical-field parchment' type="text" value="" name="attr_character_weight" />
    </div>
    <div class='origin-grid-container'>
        <h4 class='origin-label'>Alignment</h4>
        <h4 class='origin-label'>Homeland</h4>
        <h4 class='origin-label'>Native Language</h4>
        <input class='physical-field parchment' type="text" value='' name="attr_alignment" />
        <input class='origin-field parchment' type="text" value="" name="attr_character_landorigin" />
        <input class='origin-field parchment' type="text" value="" name="attr_character_languages" />
    </div>
    <div class='mental-grid-container'>
        <h4 class='mental-label'>Origin</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_familyorigin" placeholder='Family occupation, syblings, etc.' /></textarea>
        <h4 class='mental-label'>Natural Abilities</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_natural" placeholder='Racial, or story special abilities your character may have' /></textarea>
        <h4 class='mental-label'>Disposition</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_disposition" placeholder='Personality quirks and life outlook beyond alignment' /></textarea>
        <h4 class='mental-label'>Hostilities</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_hostility" placeholder='Hostilities, pet peeves, likes and dislikes' /></textarea>
        <h4 class='mental-label'>Insanity</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_insanity" placeholder='Hope this placeholder never gets replaced...' /></textarea>
        <h4 class='mental-label'>O.C.C. Notes</h4>
        <textarea class='mental-field parchment' value="" name="attr_character_classnotes" placeholder='Anything about your O.C.C. that needs kept in mind' /></textarea>
    </div>
</div>

<!--Skills Tab -->
<div class="sheet-skills">
  <div class="skill-header">
    <h2>Skills</h2>
    <h5>I.Q. Skill Bonus</h5>
    <input class='bonus-field faded-blue' type="text" value="" name="attr_iq_bonus" readonly>
    <h5>Misc. Skill Bonus</h5>
    <input class='bonus-field parchment' type="text" title="Applies to all Skills" value="0" name="attr_mskill_bonus">
  </div>          
    <div class="occ-skill-panel">
      <input type="checkbox" name="attr_OCC-Skill-toggle" class="sheet-arrow" />
      <h4>Occupational Class Skills</h4>
      <div class="arrowbody">
        <div class='skill-grid-container' >
            <div class='space-holder'></div>
            <h5>Skill Name</h5>
            <h5>Rating</h5>
            <div class='percent-space'></div>
            <h5>Skill Lvl</h5>
            <h5>Bonus</h5>
            
        </div>
        <fieldset class="repeating_skillocc">
          <div class='skill-grid-container' >
              <button class="skillroll dicefontd20" type="roll" name='roll_occskill' value="@{whispertoggle}&{template:custom} {{color=green}} {{title=**@{character_name}'s**}} {{subtitle=@{skill_name}}} {{Skill Check=[[d100cs<1cf>100]]}} {{Success Chance=**@{skill_rating}%**}} {{desc=@{skill_reference}}}">0</button>
              <input class='skill-field parchment' type="text" value="" name="attr_skill_name" placeholder="Skill name"/>
              <input class='skill-field faded-blue' type="number" title='Total Skill Percentage Rating' value="" name="attr_skill_rating" readonly/>
              <h6>%</h6>
              <input class='skill-field parchment' type="number" title='Skill Level' value="1" name="attr_skill_level" />
              <input class="skill-field parchment" type="number" title="Skill Bonus" value="0" name="attr_skill_bonus">
              <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_skillextras' value="1">
              <input class='skillextras-toggle' type='hidden' name='attr_skillextras'>
              <div class='skillextras-hide'>
                <div class="skillextras-container">
                  <h5>Skill Base</h5>
                  <h5>Skill Prog</h5>
                  <h5>Notes</h5>

                  <input class="skill-field parchment" type="number" title="Skill Base" value="0" name="attr_skill_base">
                  <input class="skill-field parchment" type="number" title="Skill Progression" value="0" name="attr_skill_prog">
                  <textarea class="skill-notes parchment" type="text" value="" name="attr_skill_reference" ></textarea>
                </div>
              </div>
          </div>
        </fieldset>
      </div>
    </div>

    <div class="scholastic-skill-panel">
      <input type="checkbox" name="attr_scholastic-skill-toggle" class="sheet-arrow" />
      <h4>O.C.C. Related Skills</h4>
      <div class="arrowbody">
        <div class='skill-grid-container' >
            <div class='space-holder'></div>
            <h5>Skill Name</h5>
            <h5>Rating</h5>
            <div class='percent-space'></div>
            <h5>Skill Lvl</h5>
            <h5>Bonus</h5>
            
        </div>
        <fieldset class="repeating_skillscholastic">
          <div class='skill-grid-container' >
              <button class="skillroll dicefontd20" type="roll" name='roll_scholasticskill' value="@{whispertoggle}&{template:custom} {{color=green}} {{title=**@{character_name}'s**}} {{subtitle=@{skill_name}}} {{Skill Check=[[d100cs<1cf>100]]}} {{Success Chance=**@{skill_rating}%**}} {{desc=@{skill_reference}}}">0</button>
              <input class='skill-field parchment' type="text" value="" name="attr_skill_name" placeholder="Skill name"/>
              <input class='skill-field faded-blue' type="number" title='Total Skill Percentage Rating' value="" name="attr_skill_rating" readonly/>
              <h6>%</h6>
              <input class="skill-field parchment" type="number" title='Skill Level' value="1" name="attr_skill_level" />
              <input class="skill-field parchment" type="number" title="Skill Bonus" value="0" name="attr_skill_bonus">
              <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_skillextras' value="1">
              <input class='skillextras-toggle' type='hidden' name='attr_skillextras'>
              <div class='skillextras-hide'>
                <div class="skillextras-container">
                  <h5>Skill Base</h5>
                  <h5>Skill Prog</h5>
                  <h5>Notes</h5>

                  <input class="skill-field parchment" type="number" title="Skill Base" value="0" name="attr_skill_base">
                  <input class="skill-field parchment" type="number" title="Skill Progression" value="0" name="attr_skill_prog">
                  <textarea class="skill-notes parchment" type="text" value="" name="attr_skill_reference" ></textarea>
                </div>
              </div>
          </div>
        </fieldset>
      </div>
    </div>

    <div class="secondary-skill-panel">
      <input type="checkbox" name="attr_secondary-skill-toggle" class="sheet-arrow" />
      <h4>Secondary Skills</h4>
      <div class="arrowbody">
        <div class='skill-grid-container' >
            <div class='space-holder'></div>
            <h5>Skill Name</h5>
            <h5>Rating</h5>
            <div class='percent-space'></div>
            <h5>Skill Lvl</h5>
            <h5>Bonus</h5>
            
        </div>
        <fieldset class="repeating_skillsecondary">
          <div class='skill-grid-container' >
              <button class="skillroll dicefontd20" type="roll" name='roll_secondaryskill' value="@{whispertoggle}&{template:custom} {{color=green}} {{title=**@{character_name}'s**}} {{subtitle=@{skill_name}}} {{Skill Check=[[d100cs<1cf>100]]}} {{Success Chance=**@{skill_rating}%**}} {{desc=@{skill_reference}}}">0</button>
              <input class='skill-field parchment' type="text" value="" name="attr_skill_name" placeholder="Skill name"/>
              <input class='skill-field faded-blue' type="number" title='Total Skill Percentage Rating' value="" name="attr_skill_rating" readonly/>
              <h6>%</h6>
              <input class="skill-field parchment" type="number" title='Skill Level' value="1" name="attr_skill_level" />
              <input class="skill-field parchment" type="number" title="Skill Bonus" value="0" name="attr_skill_bonus">
              <input type='checkbox' title='Show Bonus and Notes Fields' name='attr_skillextras' value="1">
              <input class='skillextras-toggle' type='hidden' name='attr_skillextras'>
              <div class='skillextras-hide'>
                <div class="skillextras-container">
                  <h5>Skill Base</h5>
                  <h5>Skill Prog</h5>
                  <h5>Notes</h5>

                  <input class="skill-field parchment" type="number" title="Skill Base" value="0" name="attr_skill_base">
                  <input class="skill-field parchment" type="number" title="Skill Progression" value="0" name="attr_skill_prog">
                  <textarea class="skill-notes parchment" value="" name="attr_skill_reference" ></textarea>
                </div>
              </div>
          </div>
        </fieldset>
      </div>
    </div>    
</div>

<!-- Combat Tab -->
<div class="sheet-combat">
    <h2>Combat</h2>
    <div class="ancient-proficiency-panel">
        <input type="checkbox" name="attr_anchient_weapon-toggle" class="sheet-arrow" />
        <h4>Melee Weapon Proficencies</h4>
        <div class="arrowbody">
            <div class='ancient-grid-container' >
                <h5>Weapon</h5>
                <h5>Skill Lvl</h5>
                <h5>Strike</h5>
                <h5>Parry</h5>
                <h5>Throw</h5>
                <h5>Entangle</h5>
                <h5>Range</h5>
            </div>
            <fieldset class="repeating_meleeweapon">
                <div class='ancient-grid-container' >
                    <input class='ancient-field parchment' type="text" value="" name="attr_name" placeholder="Weapon Type" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Skill Level' value="1" name="attr_level" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Strike Bonus' value="0" name="attr_strike" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Parry Bonus' value="0" name="attr_parry" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Throw Bonus' value="0" name="attr_throw" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Throw Bonus' value="0" name="attr_entangle" />
                    <input class='ancient-field parchment' type="number" title='Proficiency Throw Range (if any)' value="0" name="attr_range" />
                </div>
            </fieldset>
        </div>
    </div>
    <div class="modern-proficiency-panel">
        <input type="checkbox" name="attr_modern_weapon-toggle" class="sheet-arrow" />
        <h4>Ranged Weapon Proficencies</h4>
        <div class="arrowbody">
            <div class='modern-grid-container'>
                <h5>Weapon</h5>
                <h5>Skill Lvl</h5>
                <h5>Strike</h5>
                <h5>Range</h5>
                <h5>RoF</h5>
            </div>
            <fieldset class="repeating_rangedweapon">
                <div class='modern-grid-container' >
                    <input class='modern-field parchment' type="text" value="" name="attr_name" placeholder="Weapon Type" />
                    <input class='modern-field parchment' type="number" title='Proficiency Skill Level' value="1" name="attr_level" />
                    <input class='modern-field parchment' type="number" title='Proficiency Strike Bonus' value="0" name="attr_strike" />
                    <input class='modern-field parchment' type="number" title='Max Firing Distance' value="0" name="attr_range" />
                    <input class='modern-field parchment' type="number" title='Rate of Fire' value="0" name="attr_rof" />
                 </div>
            </fieldset>
        </div>
    </div>
    <div class="combat-skill-panel">
        <input type="checkbox" name="attr_combatskill-toggle" class="sheet-arrow" />
        <h4>Hand to Hand Combat Skill</h4>
        <div class="arrowbody">
            <div class='combat-grid-container' >
                <input class='combat-field parchment' type="text" class='combat-text' name="attr_combatskill_type" placeholder="Combat Type" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <textarea wrap="soft" class="combat-textarea parchment" value="" name="attr_combatskill_notes" placeholder="Style Details like kick attack, disarms, racial bite or claw attacks, etc." /></textarea>
            </div>
            <div class='bonus-grid-container' >
                <h5>Combat Skill Level</h5>
                <input class='combat-field parchment' type="number" title="@{hth_level}" name="attr_hth_level" value="0" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                
                <h5>Number of Attacks</h5>
                <input class='combat-field parchment' type="number" title="@{numberattacks}" name="attr_numberattacks" value="1" />
                <div class='space-holder'></div>
                <h5>Initiative</h5>
                <input class='combat-field parchment' type="number" title="@{initiative}" name="attr_initiative" value="0" />

                <h5>Strike</h5>
                <input class='combat-field parchment' type="number" title="@{strike}" name="attr_strike" value="0" />
                <div class='space-holder'></div>
                <h5>Damage</h5>
                <input class='combat-field parchment' type="number" title="@{damage}" name="attr_damage" value="0" />

                <h5>Parry</h5>
                <input class='combat-field parchment' type="number" title="@{parry}" name="attr_parry" value="0" />
                <div class='space-holder'></div>
                <h5>Dodge</h5>
                <input class='combat-field parchment' type="number" title="@{dodge}" name="attr_dodge" value="0" />

                <h5>Roll with Punch</h5>
                <input class="combat-field parchment" type="number" title="@{rollpunch}" name="attr_rollpunch" value="0" />
                <div class='space-holder'></div>
                <h5>Pull Punch</h5>
                <input class="combat-field parchment" type="number" title="@{pullpunch}" name="attr_pullpunch" value="0" />

                <h5>Entangle</h5>
                <input class="combat-field parchment" type="number" title="@{entangle}" name="attr_entangle" value="0" />
                <div class='space-holder'></div>
                <h5>Disarm</h5>
                <input class='combat-field parchment' type="number" title="@{disarm}" name="attr_disarm" value="0" />

                <h5>Knockout/Stun</h5>
                <input class='combat-field parchment' type="number" title="@{knockout}" name="attr_knockout" value="0" />
                <div class='space-holder'></div>
                <h5>Mounted Damage</h5>
                <input class='bonus-field parchment' type="text" title="@{mounteddamage}" name="attr_mounteddamage" value="0" />

                <h5>Mounted Parry/Dodge</h5>
                <input class='combat-field parchment' type="number" title="@{mountedparrydodge}" name="attr_mountedparrydodge" value="0" />
                <div class='space-holder'></div>
                <h5>Charge Damage</h5>
                <input class='bonus-field parchment' type="text" title="@{chargedamage}" name="attr_chargedamage" value="0" />
                
                <h5>Melee Critical Strike</h5>
                <input class='combat-field parchment' type="number" title="@{critical}" name="attr_critical" value="20" />
                <div class='space-holder'></div>
                <h5>Ranged Critical Strike</h5>
                <input class='combat-field parchment' type="number" title="@{rcritical}" name="attr_rcritical" value="20" />

                <h5>Physical Prowess Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="0" title="@{pp_bonus}" name="attr_pp_bonus" readonly/>
                <div class='space-holder'></div>
                <h5>Physical Strength Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="0" title="@{ps_bonus}" name="attr_ps_bonus" readonly/>

                <h5>Physical Prowess Initiative Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="0" title="@{pp_init}" name="attr_pp_init" readonly/>
            </div>
        </div>
    </div>
    <div class="saving-throw-panel">
        <input type="checkbox" name="attr_saves-toggle" class="sheet-arrow" />
        <h4>Saving Throws</h4>
        <div class="arrowbody">
            <div class='saves-grid-container' >
                <h5 class='underline'>Magic Save Type</h5>
                <h5 class='underline'>Target</h5>
                <h5 class='underline'>Bonus</h5>
                <div class='space-holder'></div>
                <h5 class='underline'>Save Type</h5>
                <h5 class='underline'>Target</h5>
                <h5 class='underline'>Bonus</h5>
                <button class='savedice' type="roll" name='roll_circlesave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Circles}} {{Save=[[d20+@{save_circle}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_circle_target}}} {{desc=@{save_notes}}}" >Circles</button>
                <input class='save-field parchment' type="number" value="13" name="attr_save_circle_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_circle" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_insanitysave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Insanity}} {{Save=[[d20+@{save_insane}+@{me_insanity}[ME Bonus]]]}} {{Target= @{save_insanity_target}}} {{desc=@{save_notes}}}" >Insanity</button>
                <input class='save-field parchment' type="number" value="12" name="attr_save_insanity_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_insane" />


                <button class='savedice' type="roll" name='roll_ritualsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Rituals}} {{Save=[[d20+@{save_ritual}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_ritual_target}}} {{desc=@{save_notes}}}" >Rituals</button>
                <input class='save-field parchment' type="number" value="16" name="attr_save_ritual_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_ritual" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_psionicsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Psionics}} {{Save=[[d20+@{save_psi}+@{me_psionic}[ME Bonus]]]}} {{Target= @{save_psi_target}}} {{desc=@{save_notes}}}" >Psionics</button>
                <input class='save-field parchment' type="number" value="15" name="attr_save_psi_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_psi" />


                <button class='savedice' type="roll" name='roll_spellsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Spells}} {{Save=[[d20+@{save_spells}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_spells_target}}} {{desc=@{save_notes}}}" >Spells</button>
                <input class='save-field parchment' type="number" value="12" name="attr_save_spells_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_spells" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_soulsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Nonlethal Poison}} {{Save=[[d20+@{save_poisonnonlethal}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_poisonnonlethal_target}}} {{desc=@{save_notes}}}" >Poison Nonlethal</button>
                <input class='save-field parchment' type="number" value="16" name="attr_save_poisonnonlethal_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_poisonnonlethal" />


                <button class='savedice' type="roll" name='roll_wardsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Wards}} {{Save=[[d20+@{save_wards}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_wards_target}}} {{desc=@{save_notes}}}" >Wards</button>
                <input class='save-field parchment' type="number" value="13" name="attr_save_wards_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_wards" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_poisonsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Lethal Poison}} {{Save=[[d20+@{save_poisonlethal}+@{pe_magpois}[PE Bonus]]]}} {{Target= @{save_poisonlethal_target}}} {{desc=@{save_notes}}}" >Poison Lethal</button>
                <input class='save-field parchment' type="number" value="14" name="attr_save_poisonlethal_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_poisonlethal" />

                <button class='savedice' type="roll" name='roll_deathsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Coma/Death}} {{Save 1=[[d100cs<1cf>100-@{save_comadeath}-@{pe_coma}[PE Bonus]]]}} {{Save 2=[[d100cs<1cf>100-@{save_comadeath}-@{pe_coma}[PE Bonus]]]}} {{Save 3=[[d100cs<1cf>100-@{save_comadeath}-@{pe_coma}[PE Bonus]]]}} {{desc=**Roll 3 times each hour and need 2 successes.** Target (equal or below) is:
                    **20** for nonprofessional care 
                    **40** for first aid
                    **65** for professional surgeon or holistic doctor
                    **75** for healer or priest with psionic or magic power
                    **66** for hospital
                    **88** for care through a deity or supernatural power.}}" >Coma/Death</button>
                <div class='space-holder'></div>
                <input class='save-field parchment' type="number" value="0" name="attr_save_comadeath" />
                <div class='space-holder'></div>
                <button class='savedice' type="roll" name='roll_toxinsave' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Drugs or Toxins}} {{Save=[[d20+@{save_toxin}]]}} {{Target=@{save_toxin_target}}} {{desc=@{save_notes}}}" >Drugs/Toxins</button>
                <input class='save-field parchment' type="number" value="15" name="attr_save_toxin_target" />
                <input class='save-field parchment' type="number" value="0" name="attr_save_toxin" />

                <button class='savedice' type="roll" name='roll_horror' value="@{whispertoggle}&{template:custom} {{color=brown}} {{title=**@{character_name}'s**}} {{subtitle=Save vs. Horror or Awe}} {{Save=[[1d20+@{save_horror}]]}}" >Horror</button>
                <div class='space-holder'></div>
                <input class='save-field parchment' type="number" value="0" name="attr_save_horror" />
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>

                <h5>PE Save Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{pe_magpois}" name="attr_pe_magpois" readonly>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h5>ME Psionic Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{me_psionic}" name="attr_me_psionic" readonly>
                <div class='space-holder'></div>

                <h5>PE Coma/Death Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{pe_coma}" name="attr_pe_coma" readonly>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h5>ME Insanity Bonus</h5>
                <input class='bonus-field faded-blue' type="text" value="" title="@{me_insanity}" name="attr_me_insanity" readonly>
                <div class='space-holder'></div>

                <div class="save-notes-container" >
                    <textarea class='save-misc parchment' value='' name='attr_save_notes' title='@{save_notes}' placeholder='Notes displayed with all saves except coma/death.' ></textarea>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Spell Tab -->
<div class="sheet-spells">
    <h2>Spell Book</h2>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell1_toggle" class="sheet-arrow" />
        <h4>Level 1 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell1">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell2_toggle" class="sheet-arrow" />
        <h4>Level 2 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell2">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell3_toggle" class="sheet-arrow" />
        <h4>Level 3 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell3">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell4_toggle" class="sheet-arrow" />
        <h4>Level 4 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell4">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell5_toggle" class="sheet-arrow" />
        <h4>Level 5 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell5">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell6_toggle" class="sheet-arrow" />
        <h4>Level 6 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell6">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell7_toggle" class="sheet-arrow" />
        <h4>Level 7 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell7">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell8_toggle" class="sheet-arrow" />
        <h4>Level 8 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell8">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell9_toggle" class="sheet-arrow" />
        <h4>Level 9 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell9">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell10_toggle" class="sheet-arrow" />
        <h4>Level 10 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell10">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell11_toggle" class="sheet-arrow" />
        <h4>Level 11 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell11">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell12_toggle" class="sheet-arrow" />
        <h4>Level 12 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell12">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell13_toggle" class="sheet-arrow" />
        <h4>Level 13 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell13">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell14_toggle" class="sheet-arrow" />
        <h4>Level 14 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell14">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="spell_container">
        <input type="checkbox" name="attr_spell15_toggle" class="sheet-arrow" />
        <h4>Level 15 Spells</h4>
        <div class="arrowbody">
            <fieldset class="repeating_spell15">
              <div class="spell-panel">
                <button type="roll" class="rollspell" name='roll_spell' value="@{whispertoggle}&{template:spells} {{color=@{spellcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{spell_name}**}} {{ppecost=@{spell_cost}}} {{range=@{spell_range}}} {{duration=@{spell_dur}}} {{spellsave=[[12+@{spell_strength}]]}} {{strike=@{spell_attack}}} {{damage=@{spell_damage}}} {{desc=@{spell_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Spell Name" name="attr_spell_name" placeholder="Spell Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_spell_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Spell Range" name="attr_spell_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Spell Duration" name="attr_spell_dur"/>
                <h4>Attack</h4>
                <input class="spell-attack parchment" type="text" title="Attack roll if needed" name="attr_spell_attack"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Spell Damage" name="attr_spell_damage" />
                <textarea class="spell-text parchment" name="attr_spell_desc" placeholder="Spell Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Psionics Tab -->
<div class="sheet-psionics">
    <h2>Psionics</h2>
    <div class="healing_psion_container">
        <input type="checkbox" name="attr_psion_healing_toggle" class="sheet-arrow" />
        <h4>Healing Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_healingpsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionheal' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="physical_psion_container">
        <input type="checkbox" name="attr_psion_physical_toggle" class="sheet-arrow" />
        <h4>Physical Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_physicalpsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionphysical' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="sensitive_psion_container">
        <input type="checkbox" name="attr_psion_sensitive_toggle" class="sheet-arrow" />
        <h4>Sensitive Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_sensitivepsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionsensitive' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="super_psion_container">
        <input type="checkbox" name="attr_psion_super_toggle" class="sheet-arrow" />
        <h4>Super Abilities</h4>
        <div class="arrowbody">
            <fieldset class="repeating_superpsionics">
              <div class="psionic-panel">
                <button type="roll" class="rollpsion" name='roll_psionsuper' value="@{whispertoggle}&{template:spells} {{color=@{psioncolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{psionic_name}**}} {{ispcost=@{psionic_cost}}} {{preptime=@{psionic_prep}}} {{range=@{psionic_range}}} {{duration=@{psionic_dur}}} {{desc=@{psionic_desc}}}">Roll</button>
                <input class="psionic-label parchment" type="text" title="Ability Name" name="attr_psionic_name" placeholder="Ability Name" />
                <h4>I.S.P. Cost</h4>
                <input class="psionic-number parchment" type="number" title="ISP Cost" name="attr_psionic_cost" />
                <h4>Range</h4>
                <input class="psionic-label parchment" type="text" title="Ability Range" name="attr_psionic_range" />

                <h4>Prep Time</h4>
                <input class="psionic-label parchment" type="text" title="Ability Preparation Time" name="attr_psionic_prep" />
                <div class="space-holder"></div>
                <div class="space-holder"></div>
                <h4>Duration</h4>
                <input class="psionic-label parchment" type="text" title="Ability Duration" name="attr_psionic_dur">
                <textarea class="psionic-text parchment" name="attr_psionic_desc" placeholder="Psionic Ability Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Inventory Tab -->
<div class="sheet-inventory">
    <div class="inventory-container">
        <h2>Inventory</h2>
        <div class='encumbrance-panel'>
            <h5>Total Weight</h5>
            <div class='space-holder' ></div>
            
            <input class='weight-box faded-blue' type='text' value='0' title='Total Weight' name='attr_total_weight' readonly>
            <h5>lbs.</h5>
            
            <input class='weightsub-box' type='text' value='0' title='Total Weapon Weight' name='attr_total_weapon' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Armor Weight' name='attr_total_armor' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Gear Weight' name='attr_total_gear' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Consumables Weight' name='attr_total_consumables' hidden>
            <input class='weightsub-box' type='text' value='0' title='Total Wealth Weight' name='attr_total_wealth' hidden>
        </div>
        <div class="weapon-inventory-panel">
            <input type="checkbox" name="attr_weapon-toggle" class="sheet-arrow" />
            <h4>Weapons</h4>
            <div class="arrowbody">
                <fieldset class="repeating_weapon"> 
                    <div class='weapon-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Weapon</h5>
                        <h5>Reference</h5>
                        <h5>Length</h5>
                        <h5>Damage</h5>
                        <h5>Weight</h5>
                        <h5>Value</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_weapon' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{weapon_name}**}} {{desc=**Length:** @{weapon_length} 
                            **Weight:** @{weapon_weight} 
                            **Damage:** @{weapon_damage} 
                            **Value:** @{weapon_value} 
                            **Count:** @{weapon_count} 
                            **Reference:** @{weapon_ref}
                            **Description:** @{weapon_details}}}">0</button>
                        <input class='weapon-field parchment' type="text" value="" name="attr_weapon_name" placeholder="Weapon Name" />
                        <input class='weapon-field parchment' type="text" value="" name="attr_weapon_ref" placeholder="Book and page numbers"/>
                        <input class='damage-dice parchment' type="text" value="" name="attr_weapon_length" />
                        <input class='damage-dice parchment' type="text" value="" name="attr_weapon_damage" placeholder="xdy+z" />
                        <input class='damage-dice parchment' type="text" value="" name="attr_weapon_weight" />
                        <input class='weapon-field parchment' type="number" value="" name="attr_weapon_value" />
                        <input class='counter parchment' type='text' value='1' name='attr_weapon_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class="weapon-textarea parchment" value="" name="attr_weapon_details" placeholder="Weapon Details" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="armor-inventory-panel">
            <input type="checkbox" name="attr_armor-toggle" class="sheet-arrow" />
            <h4>Armor</h4>
            <div class='arrowbody'>
                <fieldset class="repeating_armor"> 
                    <div class='armor-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Armor</h5>
                        <h5>Reference</h5>
                        <h5>A.R.</h5>
                        <h5>S.D.C.</h5>
                        <h5>Weight</h5>
                        <h5>Value</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_armor' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{armor_name}**}} {{desc=**A.R.:** @{armor_ar} 
                            **S.D.C.:** @{armor_sdc}
                            **Weight:** @{armor_weight} 
                            **Value:** @{armor_value} 
                            **Count:** @{armor_count} 
                            **Reference:** @{armor_ref}
                            **Description:** @{armor_details}}}">0</button>
                        <input class='armor-field parchment' type="text" value="" name="attr_armor_name" placeholder="Armor Name" />
                        <input class='armor-field parchment' type="text" value="" name="attr_armor_ref" placeholder="Book and page numbers"/>
                        <input class='armor-field parchment' type="number" value="" name="attr_armor_ar" />
                        <input class='armor-field parchment' type="number" value="" name="attr_armor_sdc" />
                        <input class='damage-dice parchment' type="text" value="" name="attr_armor_weight" />
                        <input class='armor-field parchment' type="number" value="" name="attr_armor_value" />
                        <input class='counter parchment' type='text' value='1' name='attr_armor_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='armor-textarea parchment' value="" name="attr_armor_details" placeholder="Armor Details" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="gear-inventory-panel">
            <input type="checkbox" name="attr_gear-toggle" class="sheet-arrow" />
            <h4>Gear</h4>
            <div class='arrowbody'>
                <fieldset class="repeating_gear"> 
                    <div class='inventory-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Item</h5>
                        <h5>Reference</h5>
                        <h5>Location</h5>
                        <h5>Weight</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_gear' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{wealth_name}**}} {{desc=**Value:** @{wealth_worth} 
                            **Weight:** @{gear_weight}
                            **Count:** @{gear_count} 
                            **Location:** @{wealth_location} 
                            **Description:** @{wealth_details}}}">0</button>
                        <input class='gear-field parchment' type="text" value="" name="attr_wealth_name" placeholder="Gear Name" />
                        <input class='gear-field parchment' type="text" value="" name="attr_wealth_worth" placeholder="Book and page numbers"/>
                        <input class='gear-field parchment' type="text" value="" name="attr_wealth_location" placeholder="Worn, pouch, bank, etc." />
                        <input class='damage-dice parchment' type='text' value='0' name='attr_gear_weight' />
                        <input class='counter parchment' type='text' value='1' name='attr_gear_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='inventory-textarea parchment' value="" name="attr_wealth_details" placeholder="Gear details, if any" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="consumable-inventory-panel">
            <input type="checkbox" name="attr_consumable-toggle" class="sheet-arrow" />
            <h4>Consumables</h4>
            <div class="arrowbody">
                <fieldset class="repeating_consumables"> 
                    <div class='inventory-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Item</h5>
                        <h5>Reference</h5>
                        <h5>Location</h5>
                        <h5>Weight</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_consumable' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{wealth_name}**}} {{desc=**Value:** @{wealth_worth} 
                            **Weight:** @{gear_weight}
                            **Count:** @{gear_count} 
                            **Location:** @{wealth_location} 
                            **Description:** @{wealth_details}}}">0</button>
                        <input class='consumable-field parchment' type="text" value="" name="attr_wealth_name" placeholder="Consumable Name" />
                        <input class='consumable-field parchment' type="text" value="" name="attr_wealth_worth" placeholder="Book and page numbers"/>
                        <input class='consumable-field parchment' type="text" value="" name="attr_wealth_location" placeholder="Worn, pouch, bank, etc." />
                        <input class='damage-dice parchment' type='text' value='0' name='attr_consumables_weight' />
                        <input class='counter parchment' type='text' value='1' name='attr_consumables_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='inventory-textarea parchment' value="" name="attr_wealth_details" placeholder="Consumable details, if any" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
        <div class="wealth-inventory-panel">
            <input type="checkbox" name="attr_wealth-toggle" class="sheet-arrow" />
            <h4>Wealth</h4>
            <div class="arrowbody">
                <fieldset class="repeating_wealth"> 
                    <div class='inventory-grid-container' >
                        <div class='space-holder'></div>
                        <h5>Item</h5>
                        <h5>Value</h5>
                        <h5>Location</h5>
                        <h5>Weight</h5>
                        <h5>#</h5>
                        <div class='space-holder'></div>
                        
                        <button class="skillroll dicefontd20" type="roll" name='roll_wealth' value="@{whispertoggle}&{template:custom} {{color=grey}} {{title=**@{character_name}'s**}} {{subtitle=**@{wealth_name}**}} {{desc=**Value:** @{wealth_worth} 
                            **Weight:** @{gear_weight}
                            **Count:** @{gear_count} 
                            **Location:** @{wealth_location} 
                            **Description:** @{wealth_details}}}">0</button>
                        <input class='wealth-field parchment' type="text" value="" name="attr_wealth_name" placeholder="Galary, cash, valuable, etc." />
                        <input class='wealth-field parchment' type="text" value="" name="attr_wealth_worth" placeholder="Value"/>
                        <input class='wealth-field parchment' type="text" value="" name="attr_wealth_location" placeholder="Wallet, pouch, bank, etc." />
                        <input class='damage-dice parchment' type='text' value='0' name='attr_wealth_weight' />
                        <input class='counter parchment' type='text' value='1' name='attr_wealth_count' />
                        <div class='space-holder'></div>
                        <textarea wrap="soft" class='inventory-textarea parchment' value="" name="attr_wealth_details" placeholder="Wealth item details, if any" /></textarea>
                    </div>            
                </fieldset>
            </div>
        </div>
    </div>
</div>

<!-- Wards Tab -->
<div class="sheet-wards">
    <h2>Wards</h2>
    <div class="ward_container">
        <h4>Ward Arsenal</h4>
        <div class="ward_section">
            <fieldset class="repeating_ward">
              <div class="ward-panel">
                <button type="roll" class="rollspell" name='roll_ward' value="@{whispertoggle}&{template:spells} {{color=@{wardcolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{ward_name}**}} {{ppecost=@{ward_cost}}} {{range=@{ward_range}}} {{duration=@{ward_dur}}} {{spellsave=[[13+@{ward_strength}]]}} {{damage=@{ward_damage}}} {{desc=@{ward_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Ward Name" name="attr_ward_name" placeholder="Ward Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_ward_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Ward Range" name="attr_ward_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Ward Duration" name="attr_ward_dur"/>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Ward Damage" name="attr_ward_damage" />
                <textarea class="spell-text parchment" name="attr_ward_desc" placeholder="Ward Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
</div>

<!--Circles Tab -->
<div class="sheet-circles">
    <h2>Circles Known</h2>
    <div class="circle_container">
        <input type="checkbox" name="attr_protcircle_toggle" class="sheet-arrow" />
        <h4>Protection Circles</h4>
        <div class="arrowbody">
            <fieldset class="repeating_protcircle">
              <div class="circle-panel">
                <button type="roll" class="rollspell" name='roll_circle' value="@{whispertoggle}&{template:spells} {{color=@{circlecolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{circle_name}**}} {{ppecost=@{circle_cost}}} {{range=@{circle_range}}} {{duration=@{circle_dur}}} {{preptime=@{circle_prep}}} {{spellstrength=@{circle_strength}}} {{damage=@{circle_damage}}} {{desc=@{circle_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Circle Name" name="attr_circle_name" placeholder="Circle Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_circle_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Circle Range" name="attr_circle_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Circle Duration" name="attr_circle_dur"/>
                <h4>Prep Time</h4>
                <input class="spell-attack parchment" type="text" title="Preparation Time" name="attr_circle_prep"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Circle Damage" name="attr_circle_damage" />
                <textarea class="spell-text parchment" name="attr_circle_desc" placeholder="Circle Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="circle_container">
        <input type="checkbox" name="attr_sumcircle_toggle" class="sheet-arrow" />
        <h4>Summoning Circles</h4>
        <div class="arrowbody">
            <fieldset class="repeating_sumcircle">
              <div class="circle-panel">
                <button type="roll" class="rollspell" name='roll_circle' value="@{whispertoggle}&{template:spells} {{color=@{circlecolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{circle_name}**}} {{ppecost=@{circle_cost}}} {{range=@{circle_range}}} {{duration=@{circle_dur}}} {{preptime=@{circle_prep}}} {{spellstrength=@{circle_strength}}} {{damage=@{circle_damage}}} {{desc=@{circle_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Circle Name" name="attr_circle_name" placeholder="Circle Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_circle_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Circle Range" name="attr_circle_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Circle Duration" name="attr_circle_dur"/>
                <h4>Prep Time</h4>
                <input class="spell-attack parchment" type="text" title="Preparation Time" name="attr_circle_prep"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Circle Damage" name="attr_circle_damage" />
                <textarea class="spell-text parchment" name="attr_circle_desc" placeholder="Circle Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
    <div class="circle_container">
        <input type="checkbox" name="attr_powercircle_toggle" class="sheet-arrow" />
        <h4>Power Circles</h4>
        <div class="arrowbody">
            <fieldset class="repeating_powercircle">
              <div class="circle-panel">
                <button type="roll" class="rollspell" name='roll_circle' value="@{whispertoggle}&{template:spells} {{color=@{circlecolor}}} {{title=**@{character_name}'s**}} {{subtitle=**@{circle_name}**}} {{ppecost=@{circle_cost}}} {{range=@{circle_range}}} {{duration=@{circle_dur}}} {{preptime=@{circle_prep}}} {{spellstrength=@{circle_strength}}} {{damage=@{circle_damage}}} {{desc=@{circle_desc}}}">Roll</button>
                <input class="spell-label parchment" type="text" title="Circle Name" name="attr_circle_name" placeholder="Circle Name" />
                <h4>P.P.E. Cost</h4>
                <input class="spell-number parchment" type="number" title="PPE Cost" name="attr_circle_cost" />
                <h4>Range</h4>
                <input class="spell-label parchment" type="text" title="Circle Range" name="attr_circle_range" />

                <h4>Duration</h4>
                <input class="spell-label parchment" type="text" title="Circle Duration" name="attr_circle_dur"/>
                <h4>Prep Time</h4>
                <input class="spell-attack parchment" type="text" title="Preparation Time" name="attr_circle_prep"/>
                <h4>Damage</h4>
                <input class="spell-label parchment" type="text" title="Circle Damage" name="attr_circle_damage" />
                <textarea class="spell-text parchment" name="attr_circle_desc" placeholder="Circle Description"></textarea>
              </div>
            </fieldset>
        </div>
    </div>
</div>

<!--Structures Tab-->
<div class="sheet-structures">
    <h2>Ships and Structures</h2>
    <div class="structures-container">
        <input type="checkbox" name="attr_ship_toggle" class="sheet-arrow" />
        <h4>Ship</h4>
        <div class="arrowbody">
            <div class="ship-name">
                <h4>Ship Name/Style</h4>
                <h5>Type</h5>
                <h5>Length</h5>
                <h5>Width</h5>

                <input class='weapon-field parchment' type="text" value="" name="attr_ship_name" />
                <input class='weapon-field parchment' type="text" value="" name="attr_ship_type" />
                <input class='damage-dice parchment' type="text" value="" name="attr_shiplength" />
                <input class='damage-dice parchment' type="text" value="" name="attr_shipwidth" />

                <textarea wrap="soft" class="ship-details parchment" value="" name="attr_ship_details" placeholder="Ship Details" /></textarea>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
            </div>
            <div class="shipattack-container">
                <div class="ship-attacks">
                    <div class='space-holder'></div>
                    <h4>Attack Name</h4>
                    <h4>Strike Macro</h4>
                    <h4>Damage Macro</h4>
                    <h4>Notes</h4>
                </div>
                <fieldset class="repeating_shipattacks">
                    <div class="ship-attacks">
                        <button class='shiproll' type="roll" name='roll_shipattack' value="@{whispertoggle}&{template:custom} {{color=red}} {{title=**@{ship_name}**}} {{subtitle=@{shipattack_name}}} {{Attack=@{shipstrike}}} {{Damage=@{shipdamage}}} {{desc=@{ship_note}}}" >Strike</button>
                        <input class="ship-text parchment" type="text" name="attr_shipattack_name">
                        <input class="ship-text parchment" type="text" name="attr_shipstrike" placeholder="[[1d20+1]]">
                        <input class="ship-text parchment" type="text" name="attr_shipdamage" placeholder="[[xdy+z]]">
                        <textarea class="ship-textarea parchment" name="attr_ship_note"></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="ship-parts">
                <h4 class="underline">Ship S.D.C.</h4>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>

                <h5>Foremast</h5>
                <h5>Mainmast</h5>
                <h5>Mizzenmast</h5>
                <h5>Jiggermast</h5>
                <h5>Main Sails</h5>
                <h5>Small Sails</h5>
                <h5>Rudder</h5>

                <input class='damage-dice parchment' type="text" value="" name="attr_foremastsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_mainmastsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_mizzenmastsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_jiggermastsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_mainsailsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_smallsailsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_ruddersdc" />

                <h5>Hull Section</h5>
                <h5>Keel Section</h5>
                <h5>Fore Ship</h5>
                <h5>Mid Ship</h5>
                <h5>Rear Ship</h5>
                <h5>Ram Prow</h5>
                <div class='space-holder'></div>

                <input class='damage-dice parchment' type="text" value="" name="attr_hullsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_keelsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_foreshipsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_midshipsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_rearshipsdc" />
                <input class='damage-dice parchment' type="text" value="" name="attr_ramprowsdc" />
                <div class='space-holder'></div>
            </div>
        </div>
    </div>
    <div class="structures_container">
        <input type="checkbox" name="attr_structure_toggle" class="sheet-arrow" />
        <h4>Structures</h4>
        <div class="arrowbody">
            <div class="structure-name">
                <h4>Structure Name</h4>
                <h5>Type</h5>
                <h5>Material</h5>
                <h5>Dimensions</h5>

                <input class='weapon-field parchment' type="text" value="" name="attr_structure_name" />
                <input class='weapon-field parchment' type="text" value="" name="attr_structure_type" />
                <input class='damage-dice parchment' type="text" value="" name="attr_structure_material" />
                <input class='damage-dice parchment' type="text" value="" name="attr_structure_dimensions" />

                <textarea wrap="soft" class="structure-details parchment" value="" name="attr_structure_details" placeholder="Structure Details" /></textarea>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
            </div>
            <div class="structureattack-container">
                <div class="structure-attacks">
                    <div class='space-holder'></div>
                    <h4>Attack Name</h4>
                    <h4>Strike Macro</h4>
                    <h4>Damage Macro</h4>
                    <h4>Notes</h4>
                </div>
                <fieldset class="repeating_structureattacks">
                    <div class="structure-attacks">
                        <button class='structureroll' type="roll" name='roll_structureattack' value="@{whispertoggle}&{template:custom} {{color=red}} {{title=**@{structure_name}**}} {{subtitle=@{structureattack_name}}} {{Attack=@{structurestrike}}} {{Damage=@{structuredamage}}} {{desc=@{structure_note}}}" >Strike</button>
                        <input class="structure-text parchment" type="text" name="attr_structureattack_name">
                        <input class="structure-text parchment" type="text" name="attr_structurestrike" placeholder="[[1d20+1]]">
                        <input class="structure-text parchment" type="text" name="attr_structuredamage" placeholder="[[xdy+z]]">
                        <textarea class="structure-textarea parchment" name="attr_structure_note"></textarea>
                    </div>
                </fieldset>
            </div>
            <div class="structure-parts">
                <h4 class="underline">Structure S.D.C.</h4>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>
                <div class='space-holder'></div>

                <h5>Wall Rating</h5>
                <h5>Wall Rating</h5>
                <h5>Wall Rating</h5>
                <h5>Wall Rating</h5>
                <h5>Door Type</h5>
                <h5>Door Type</h5>
                <h5>Misc.</h5>
                <h5>Misc.</h5>

                <input class='damage-dice parchment' type="text" value="" name="attr_wall1rating" placeholder="Wall 1" />
                <input class='damage-dice parchment' type="text" value="" name="attr_wall2rating" placeholder="Wall 2" />
                <input class='damage-dice parchment' type="text" value="" name="attr_wall3rating" placeholder="Wall 3" />
                <input class='damage-dice parchment' type="text" value="" name="attr_wall4rating" placeholder="Wall 4" />
                <input class='damage-dice parchment' type="text" value="" name="attr_door1type" placeholder="Door 1" />
                <input class='damage-dice parchment' type="text" value="" name="attr_door2type" placeholder="Door 2" />
                <input class='damage-dice parchment' type="text" value="" name="attr_misc1type" placeholder="Misc 1" />
                <input class='damage-dice parchment' type="text" value="" name="attr_misc2type" placeholder="Misc 2" />

                <h5>Wall S.D.C.</h5>
                <h5>Wall S.D.C.</h5>
                <h5>Wall S.D.C.</h5>
                <h5>Wall S.D.C.</h5>
                <h5>Door S.D.C.</h5>
                <h5>Door S.D.C.</h5>
                <h5>Misc. S.D.C.</h5>
                <h5>Misc. S.D.C.</h5>

                <input class='damage-dice parchment' type="text" value="" name="attr_wall1sdc" placeholder="Wall 1" />
                <input class='damage-dice parchment' type="text" value="" name="attr_wall2sdc" placeholder="Wall 2" />
                <input class='damage-dice parchment' type="text" value="" name="attr_wall3sdc" placeholder="Wall 3" />
                <input class='damage-dice parchment' type="text" value="" name="attr_wall4sdc" placeholder="Wall 4" />
                <input class='damage-dice parchment' type="text" value="" name="attr_door1sdc" placeholder="Door 1" />
                <input class='damage-dice parchment' type="text" value="" name="attr_door2sdc" placeholder="Door 2" />
                <input class='damage-dice parchment' type="text" value="" name="attr_misc1sdc" placeholder="Misc 1" />
                <input class='damage-dice parchment' type="text" value="" name="attr_misc2sdc" placeholder="Misc 2" />
            </div>
        </div>
    </div>
</div>

<!-- Journal Tab -->
<div class='sheet-journal'>
    <h2>Journal</h2>
    <div class="note-one-panel">
        <input type="checkbox" name="attr_notes-toggle" class="sheet-arrow" />
        <h4>Notes</h4>
        <div class='arrowbody'>
            <fieldset class="repeating_notes">
                <div class='notes-grid-container' >
                    <button class='noteroll' type="roll" name='roll_notes' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}'s**}} {{subtitle=Notes on @{notes_title}}} {{desc=@{notes_area}}}" >Notes On</button>
                    <input class='notes-field  parchment' type="text" value="" name="attr_notes_title" placeholder="Place, Person, or Topic" />
                    <div class="place-holder"></div>
                    <textarea wrap="soft" class='notes-textarea parchment' value="" name="attr_notes_area" placeholder="Note Details" /></textarea>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="note-two-panel">
        <input type="checkbox" name="attr_notes_2-toggle" class="sheet-arrow" />
        <h4>Notes 2</h4>
        <div class='arrowbody'>
            <fieldset class="repeating_notes2">
                <div class='second-notes-grid-container' >
                    <button class='noteroll' type="roll" name='roll_notes' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}'s**}} {{subtitle=Notes on @{notes_title}}} {{desc=@{notes_area}}}" >Notes On</button>
                    <input class='notes-field parchment' type="text" value="" name="attr_notes_title" placeholder="Place, Person, or Topic" />
                    <div class="place-holder"></div>
                    <textarea wrap="soft" class='notes-textarea parchment' value="" name="attr_notes_area" placeholder="Note Details" /></textarea>
                </div>
            </fieldset>
        </div>
    </div>
    <div class="note-three-panel">
        <input type="checkbox" name="attr_notes_3-toggle" class="sheet-arrow" />
        <h4>Notes 3</h4>
        <div class='arrowbody'>
            <fieldset class="repeating_notes3">
                <div class='third-notes-grid-container' >
                    <button class='noteroll' type="roll" name='roll_notes' value="@{whispertoggle}&{template:custom} {{color=black}} {{title=**@{character_name}'s**}} {{subtitle=Notes on @{notes_title}}} {{desc=@{notes_area}}}" >Notes On</button>
                    <input class='notes-field parchment' type="text" value="" name="attr_notes_title" placeholder="Place, Person, or Topic" />
                    <div class="place-holder"></div>
                    <textarea wrap="soft" class='notes-textarea parchment' value="" name="attr_notes_area" placeholder="Note Details" /></textarea>
                </div>
            </fieldset>
        </div>
    </div>
</div>

<!-- Configuration Tab -->
<div class='sheet-config'>
  <h2>Config/Settings</h2>
    <div class="configarea">
        <div class="tab-options">
            <div class="place-holder"></div><h4>Tab Display Options</h4>
            <input type="checkbox" class="showstructures" name="attr_showstructures" value="1" checked="true" /><h4>Show Structures Tab</h4>
            <input type="checkbox" class="showpsionics" name="attr_showpsionics" value="1" checked="true" /><h4>Show Psionics Tab</h4>
            <input type="checkbox" class="showspells" name="attr_showspells" value="1" checked="true" /><h4>Show Spells Tab</h4>
            <input type="checkbox" class="showwards" name="attr_showwards" value="1" checked="true" /><h4>Show Wards Tab</h4>
            <input type="checkbox" class="showcircles" name="attr_showcircles" value="1" checked="true" /><h4>Show Circles Tab</h4>
        </div>
        <div class="rightconfig">
            <div class="strengthpowers-options">
                <h4>Strength Level</h4>
                <div class="strengthtoggle-container">
                    <input type="radio" class="toggle-left" name="attr_strengthtoggle" title="Normal Strength" value="1" checked="checked"><span title="Normal"></span>
                    <input type="radio" class="toggle-right" name="attr_strengthtoggle" title="Supernatural Strength" value="2"><span title="Super N"></span>
                </div>
            </div>
            <div class="psion-color">
                <h4>Psionic Roll Color</h4>
                <div class="colortoggle">
                    <input type="radio" class="toggle-ice" name="attr_psioncolor" value="ice"><span title="Ice"></span>
                    <input type="radio" class="toggle-orange" name="attr_psioncolor" value="orange"><span title="Orange"></span>
                    <input type="radio" class="toggle-pine" name="attr_psioncolor" value="pine"><span title="Pine"></span>
                    <input type="radio" class="toggle-teal" name="attr_psioncolor" value="teal"><span title="Teal"></span>
                    <input type="radio" class="toggle-wine" name="attr_psioncolor" value="wine"><span title="Wine"></span>
                    <input type="radio" class="toggle-yellow" name="attr_psioncolor" value="yellow" checked="checked"><span title="Yellow"></span>
                </div>
            </div>
            <div class="spell-color">
                <h4>Spell Roll Color</h4>
                <div class="colortoggle">
                    <input type="radio" class="toggle-ice" name="attr_spellcolor" value="ice"><span title="Ice"></span>
                    <input type="radio" class="toggle-orange" name="attr_spellcolor" value="orange"><span title="Orange"></span>
                    <input type="radio" class="toggle-pine" name="attr_spellcolor" value="pine"><span title="Pine"></span>
                    <input type="radio" class="toggle-teal" name="attr_spellcolor" value="teal"><span title="Teal"></span>
                    <input type="radio" class="toggle-wine" name="attr_spellcolor" value="wine" checked="checked"><span title="Wine"></span>
                    <input type="radio" class="toggle-yellow" name="attr_spellcolor" value="yellow"><span title="Yellow"></span>
                </div>
            </div>
            <div class="ward-color">
                <h4>Ward Roll Color</h4>
                <div class="colortoggle">
                    <input type="radio" class="toggle-ice" name="attr_wardcolor" value="ice"><span title="Ice"></span>
                    <input type="radio" class="toggle-orange" name="attr_wardcolor" value="orange"><span title="Orange"></span>
                    <input type="radio" class="toggle-pine" name="attr_wardcolor" value="pine"><span title="Pine"></span>
                    <input type="radio" class="toggle-teal" name="attr_wardcolor" value="teal" checked="checked"><span title="Teal"></span>
                    <input type="radio" class="toggle-wine" name="attr_wardcolor" value="wine"><span title="Wine"></span>
                    <input type="radio" class="toggle-yellow" name="attr_wardcolor" value="yellow"><span title="Yellow"></span>
                </div>
            </div>
            <div class="circle-color">
                <h4>Circle Roll Color</h4>
                <div class="colortoggle">
                    <input type="radio" class="toggle-ice" name="attr_circlecolor" value="ice" checked="checked"><span title="Ice"></span>
                    <input type="radio" class="toggle-orange" name="attr_circlecolor" value="orange"><span title="Orange"></span>
                    <input type="radio" class="toggle-pine" name="attr_circlecolor" value="pine"><span title="Pine"></span>
                    <input type="radio" class="toggle-teal" name="attr_circlecolor" value="teal"><span title="Teal"></span>
                    <input type="radio" class="toggle-wine" name="attr_circlecolor" value="wine"><span title="Wine"></span>
                    <input type="radio" class="toggle-yellow" name="attr_circlecolor" value="yellow"><span title="Yellow"></span>
                </div>
            </div>
        </div>
    </div>
</div>

<!-- Documentation Tab -->
<div class='sheet-documentation'>
    <div class="documentation-panel">
        <h2>Documentation</h2>
        <div class="link-container">
            <p>For more information on this sheet, check the page dedicated to it on the Roll20 wiki.  
        <button type="roll" class="meleedice" name="roll_wiki" value="&{template:custom} {{color=black}} {{title=**Information Link**}} {{subtitle=Right Click Link to Open in a New Tab.}} {{desc=[Roll20 Wiki Palladium Fantasy 2E](https://wiki.roll20.net/Palladium_Fantasy_2E)}}" >Info Link</button></p>
        </div>
        <div class="documentation-segment">
            <h4>March 2022</h4>
            <p>Updated the sheet to use the CSE format, bringing it out of legacy mode.</p>
            <p>Instead of creating an entirely new reactive color layout for the sheet and roll templates, the sheet and template output was tweaked so that it should work no matter how the toggle is set.</p>
            <p>Added a verticle pixel limit of 500px to the description sections of the templates.  If you have output longer than that, there will be a scroll bar to reveal the rest of the output.</p>
            <p>Added roll buttons to the inventory tab.</p>
            <p>All links, whether embedded urls or macro buttons, should now be in bold font on the custom and spells roll templates.</p>
            <h4>November 2021</h4>
            <p>Removed the spinner buttons from the number input fields.  Removed the default value of 0 from the ammo input in the ranged attack section.</p>
            <p>Added ammo and range to the "custom" roll template header.  Added calls for ammo and range to the macro for ranged attacks.  If there is a value filled in for range and ammo, they will display in chat below the title and subtitle.  Ammo or Range will not display if they have a blank value.</p>
            <p>Messed with the colors.  Not sure if the current scheme looks better or is just different.</p>
            <h4>January 2021</h4>
            <p>On the skills tab, moved the skill level field out of the hidden section to make it quicker/easier to level up skills.</p>
            <h4>August 2020</h4>
            <p>Added a new tab named Structures, which has a place to set up some stats for Ships and Structures.  Since those are all in static attributes, they can be linked to token bars to track mast, sail, hull, wall, etc. S.D.C.. There is also a repeating section to set up attacks for each one.  Since the rules for attacking out of the High Seas book aren't always conventional rolls, I left the attack and damage blank, so you need to make whatever macros you want for those.  Or you can do everything in notes for some of the stranger setups based on percentages or whatever.</p> 
            <h4>Initial Release</h4>
            <p>The colors of this sheet are based on the scales and horns of the dragon on the Palladium Fantasy 2nd Edition Core book, with the input fields not far off some of the yellowish color of the orb the wizard is focused on in the foreground.</p>
            <p>All light blue-gray fields are readonly fields that will be filled in by sheetworkers.</p>
            <p>This sheet shares code both with the Palladium Fantasy 1E and Heroes Unlimited 2E character sheets, so I have included links to both of the wiki pages in the info link macro on this tab.  The repeating section attribute scheme is like the Heroes Unlimited Sheet.</p>
            <p>The melee attack section will pull in bonuses from your physical prowess and hand to hand combat (if there are any).  Bonuses from weapon proficiencies can be added as an attribute call in the strike or parry bonus fields for the attacks.  By design, the ranged attack section doesn't pull in any bonuses from anywhere, since some ranged attacks don't use the bonus from Physical Prowess.  You can add that to an attack by entering @{pp_bonus} in the strike bonuse field.  You can also add in the attribute calls for weapon proficiencies (ranged strike, or melee thrown).</p>
            <p>Skills should auto-calculate your skill rating assuming you check the box to see all the fields for the skill.  Enter the skill base percentage, the progression per level, and the level of the skill.  If you have a short time bonus to a particular skill, add or remove that as needed.  If you have a temporary bonus to all skills, there is a place at the top of the skill section for that.  The sheetworker multiply the progression number by the skill level (minus 1), add in any bonuses including an I.Q. bonus, and will fill in the overall skill rating.  That number will be printed out when you make a roll.</p>
            <p>Be wary of loading the sheet up with spells and psionics if you have a character with access to many of both.  That can be a significant source of sheet lag and game loading lag if many sheets are set up that way.  If you start experiencing trouble, it might be best to set up macro mule sheets with spells or psionics set up as ability macros on the Attributes & Abilities tab.  Hopefully, there will be no trouble, but you have been warned.</p>
        </div>
    </div>
    
</div>

<!-- Scripts -->
<script type="text/worker">
// sheet tab action buttons
const buttonlist = ["character","social","skills","inventory","combat","spells","psionics","wards","circles","structures","journal","configuration","documentation"];
buttonlist.forEach(button => {
    on(`clicked:${button}`, function() {
        setAttrs({
            sheetTab: button
        });
    });
});

// Stat bonus calculators
on("change:iq sheet:opened", function () {
    getAttrs(['iq'], function (values) {
        const iq = parseInt(values['iq'])||0;
        let iq_bonus = 0;
        if(iq > 30) iq_bonus = 16;
        else if(iq > 15) iq_bonus = Math.round(iq -14);
        setAttrs({
            iq_bonus: iq_bonus
        });
    });
});

on("change:me sheet:opened", function () {
    getAttrs(['me'], function (values) {
        const mep = parseInt(values['me'])||0;
        const mei = parseInt(values['me'])||0;
        let me_psionic = 0;
        if (mep > 30) me_psionic = 8;
        else if (mep > 15) me_psionic = Math.round((mep -15)*.5);
        let me_insanity = 0;
        if (mei > 30) me_insanity = 13;
        else if (mei > 20) me_insanity = Math.round(mei -17);
        else if (mei > 15) me_insanity = Math.round((mei-15)*.5);
        setAttrs({
            me_psionic: me_psionic,
            me_insanity: me_insanity
        });
    });
});
function maMod(score) {
    let bonus = 0;
    if (score >= 30) bonus = 97;
    else if (score >= 29) bonus = 96;
    else if (score >= 28) bonus = 94;
    else if (score >= 27) bonus = 92;
    else if (score >= 26) bonus = 88;
    else if (score >= 25) bonus = 84;
    else if (score >= 16) bonus = Math.floor(score-8)*5;
    return bonus;
};
on("change:ma sheet:opened", function () {
    getAttrs(['ma'], function (values) {
        let ma = parseInt(values['ma'])||0;
        let invoke_trust = maMod(ma);
        setAttrs({
            invoke_trust: invoke_trust
        });
    });
});
on("change:ps change:strengthtoggle sheet:opened", function () {
    getAttrs(['ps','strengthtoggle'], function (values) {
        const ps = parseInt(values.ps)||0;
        const s_toggle = parseInt(values.strengthtoggle)||0;
        const lift = s_toggle > 1 ? ps * 100 : ps * 20 * (ps > 16 ? 2 : 1);
        const carry = s_toggle > 1 ? ps * 50 : ps * 10 * (ps > 16 ? 2 : 1);
        const ps_bonus = Math.max(ps -15, 0);
        setAttrs({
            lift, carry, ps_bonus
        });
    });
});
function ppMod(score) {
    let bonus = 0;
    if (score >= 30) bonus = 8;
    else if (score >= 16) bonus = Math.round((score-15)*.5);
    return bonus;
};
on("change:pp sheet:opened", function () {
    getAttrs(['pp'], function (values) {
        let pp = parseInt(values['pp'])||0;
        let pp_bonus = ppMod(pp);
        let pp_init = 0;
        if (pp >= 50) pp_init = 5;
        else if (pp >= 34) pp_init = Math.round((pp - 32)/4);
        setAttrs({
            pp_bonus: pp_bonus,
            pp_init: pp_init
        });
    });
});
on("change:pe sheet:opened", function () {
    getAttrs(['pe'], function (values) {
        const pe = parseInt(values['pe'])||0;
        const pec = pe;
        const per = pe;
        let pe_magpois = 0;
        if (pe >= 30) pe_magpois = 8;
        else if (pe > 15) pe_magpois = Math.round((pe -15)*.5);
        let pe_coma = 0;
        if (pe > 30) pe_coma = pe;
        else if (pe > 17) pe_coma = Math.round((pe -15)*2);
        else if (pe > 15) pe_coma = Math.round(pe -12);
        setAttrs({
            carry_max: pec,
            run_max: per,
            pe_magpois: pe_magpois,
            pe_coma: pe_coma
        });
    });
});
function pbMod(score) {
    let bonus = 0;
    if (score >= 30) bonus = 92;
    else if (score >= 27) bonus = (score *3) +3;
    else if (score >= 16) bonus = Math.floor(score-10)*5;
    return bonus;
};
on("change:pb sheet:opened", function () {
    getAttrs(['pb'], function (values) {
        let pb = parseInt(values['pb'])||0;
        let charm_impress = pbMod(pb);
        setAttrs({
            charm_impress: charm_impress
        });
    });
});
on("change:spd sheet:opened", function () {
    getAttrs(['spd'], function (values) {
        const spd = parseInt(values['spd'])||0;
        const runmel = spd*15;
        const runmil = Math.round(spd*.68);
        setAttrs({
            run_melee: runmel,
            run_mph: runmil
        });
    });
});
on("change:spd change:combatskill change:hth1_numberattacks change:hth2_numberattacks sheet:opened", function () {
    getAttrs(['spd','hth1_numberattacks', 'hth2_numberattacks', 'combatskill'], function (values) {
        const spd = parseInt(values['spd'])||0;
        const combatskill = parseInt(values['combatskill']) || 1;
        const numberattacks = parseInt(values['hth' + combatskill + '_numberattacks']) || 1;
        const modifier = Math.round((spd/numberattacks)*15);
        setAttrs({
            run_attack: modifier
        });
    });
});

// Hand to Hand Skill Toggle
on('change:combatskill', () => {
    getAttrs(['combatskill'], values => {
        const skills = ['initiative', 'strike', 'parry', 'dodge', 'damage', 'disarm', 'knockout', 'pullpunch', 'rollpunch', 'entangle', 'critical', 'rangedcritical', 'numberattacks'];
        const output = {};
        const combatskill = values.combatskill;
        skills.forEach(skill => {
            output[skill] = `@{hth${combatskill}_${skill}}`;
        });
        setAttrs(output);
    });
});

// Skill success rating calculators    
on("change:repeating_skillocc:skill_base change:repeating_skillocc:skill_level change:repeating_skillocc:skill_prog change:repeating_skillocc:skill_bonus change:iq_bonus change:mskill_bonus", function () {
    getSectionIDs(`repeating_skillocc`, idArray => {
        const fieldnames = [];
        idArray.forEach(id => fieldnames.push(
            `repeating_skillocc_${id}_skill_base`,
            `repeating_skillocc_${id}_skill_level`,
            `repeating_skillocc_${id}_skill_prog`,
            `repeating_skillocc_${id}_skill_bonus`
        ));
        getAttrs([...fieldnames, 'iq_bonus','mskill_bonus'], function (values) {
            const output = {};
            const iq_bonus = parseInt(values['iq_bonus']) || 0;
            const mskill_bonus = parseInt(values['mskill_bonus']) || 0;
            idArray.forEach(id => {
                const base = parseInt(values[`repeating_skillocc_${id}_skill_base`]) || 0;
                const level = parseInt(values[`repeating_skillocc_${id}_skill_level`]) || 0;
                const prog = parseInt(values[`repeating_skillocc_${id}_skill_prog`]) || 0;
                const bonus = parseInt(values[`repeating_skillocc_${id}_skill_bonus`]) || 0;
                
                const rating = Math.round(base + iq_bonus + mskill_bonus + bonus + ((level - 1) * prog));
                output[`repeating_skillocc_${id}_skill_rating`] = rating;
            });
            setAttrs(output);
        });
    });
});
on("change:repeating_skillscholastic:skill_base change:repeating_skillscholastic:skill_level change:repeating_skillscholastic:skill_prog change:repeating_skillscholastic:skill_bonus change:iq_bonus change:mskill_bonus", function () {
    getSectionIDs(`repeating_skillscholastic`, idArray => {
        const fieldnames = [];
        idArray.forEach(id => fieldnames.push(
            `repeating_skillscholastic_${id}_skill_base`,
            `repeating_skillscholastic_${id}_skill_level`,
            `repeating_skillscholastic_${id}_skill_prog`,
            `repeating_skillscholastic_${id}_skill_bonus`
        ));
        getAttrs([...fieldnames, 'iq_bonus','mskill_bonus'], function (values) {
            const output = {};
            const iq_bonus = parseInt(values['iq_bonus']) || 0;
            const mskill_bonus = parseInt(values['mskill_bonus']) || 0;
            idArray.forEach(id => {
                const base = parseInt(values[`repeating_skillscholastic_${id}_skill_base`]) || 0;
                const level = parseInt(values[`repeating_skillscholastic_${id}_skill_level`]) || 0;
                const prog = parseInt(values[`repeating_skillscholastic_${id}_skill_prog`]) || 0;
                const bonus = parseInt(values[`repeating_skillscholastic_${id}_skill_bonus`]) || 0;
                
                const rating = Math.round(base + iq_bonus + mskill_bonus + bonus + ((level - 1) * prog));
                output[`repeating_skillscholastic_${id}_skill_rating`] = rating;
            });
            setAttrs(output);
        });
    });
});
on("change:repeating_skillsecondary:skill_base change:repeating_skillsecondary:skill_level change:repeating_skillsecondary:skill_prog change:repeating_skillsecondary:skill_bonus change:iq_bonus change:mskill_bonus", function () {
    getSectionIDs(`repeating_skillsecondary`, idArray => {
        const fieldnames = [];
        idArray.forEach(id => fieldnames.push(
            `repeating_skillsecondary_${id}_skill_base`,
            `repeating_skillsecondary_${id}_skill_level`,
            `repeating_skillsecondary_${id}_skill_prog`,
            `repeating_skillsecondary_${id}_skill_bonus`
        ));
        getAttrs([...fieldnames, 'iq_bonus','mskill_bonus'], function (values) {
            const output = {};
            const iq_bonus = parseInt(values['iq_bonus']) || 0;
            const mskill_bonus = parseInt(values['mskill_bonus']) || 0;
            idArray.forEach(id => {
                const base = parseInt(values[`repeating_skillsecondary_${id}_skill_base`]) || 0;
                const level = parseInt(values[`repeating_skillsecondary_${id}_skill_level`]) || 0;
                const prog = parseInt(values[`repeating_skillsecondary_${id}_skill_prog`]) || 0;
                const bonus = parseInt(values[`repeating_skillsecondary_${id}_skill_bonus`]) || 0;
                
                const rating = Math.round(base + iq_bonus + mskill_bonus + bonus + ((level - 1) * prog));
                output[`repeating_skillsecondary_${id}_skill_rating`] = rating;
            });
            setAttrs(output);
        });
    });
});

// Equipment Weight Calculator
const repeatingSum = (destination, section, fields, multiplier = 1) => {
    if (!Array.isArray(fields)) fields = [fields];
    getSectionIDs(`repeating_${section}`, idArray => {
        const attrArray = idArray.reduce( (m,id) => [...m, ...(fields.map(field => `repeating_${section}_${id}_${field}`))],[]);
        getAttrs(attrArray, v => {
            console.log("===== values of v: "+ JSON.stringify(v) +" =====");
                 // getValue: if not a number, returns 1 if it is 'on' (checkbox), otherwise returns 0..
            const getValue = (section, id,field) => parseFloat(v[`repeating_${section}_${id}_${field}`]) || (v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : 0); 
            const sumTotal = idArray.reduce((total, id) => total + fields.reduce((subtotal,field) => subtotal * getValue(section, id,field),1),0);
            setAttrs({[destination]: sumTotal * multiplier});    
        });
    });
};
on('change:repeating_weapon remove:repeating_weapon', function() {
    repeatingSum("total_weapon","weapon",["weapon_weight","weapon_count"]);
});
on('change:repeating_armor remove:repeating_armor', function() {
    repeatingSum("total_armor","armor",["armor_weight","armor_count"]);
});
on('change:repeating_gear remove:repeating_gear', function() {
    repeatingSum("total_gear","gear",["gear_weight","gear_count"]);
});
on('change:repeating_consumables remove:repeating_consumables', function() {
    repeatingSum("total_consumables","consumables",["consumables_weight","consumables_count"]);
});
on('change:repeating_wealth remove:repeating_wealth', function() {
    repeatingSum("total_wealth","wealth",["wealth_weight","wealth_count"]);
});
on("change:total_weapon change:total_armor change:total_gear change:total_consumables change:total_wealth", function () {
    getAttrs(['total_weapon','total_armor','total_gear','total_consumables','total_wealth'], function (values) {
        const total_weapon = parseInt(values['total_weapon'])||0;
        const total_armor = parseInt(values['total_armor'])||0;
        const total_gear = parseInt(values['total_gear'])||0;
        const total_consumables = parseInt(values['total_consumables'])||0;
        const total_wealth = parseInt(values['total_wealth'])||0;
        const total_weight = Math.round(total_weapon+total_armor+total_gear+total_consumables+total_wealth);
        setAttrs({
            total_weight: total_weight
        });
    });
}); 

</script>

<!-- Main Roll Template -->
<rolltemplate class="sheet-rolltemplate-custom">
  <div class="sheet-container sheet-color-{{color}}">
    <div class="sheet-header">
      {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
      {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
    </div>
    <div class="sheet-note">
        {{#ammo}}<div class="sheet-ammo">Ammo Count: {{ammo}}</div>{{/ammo}}
        {{#range}}<div class="sheet-range">Range: {{range}}</div>{{/range}}
    </div>
    <div class="sheet-content">
      {{#allprops() title subtitle ammo range desc color}}
      <div class="sheet-key">{{key}}</div>
      <div class="sheet-value">{{value}}</div>
      {{/allprops() title subtitle ammo range desc color}}
      {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
    </div>
  </div>
</rolltemplate>

<!-- Menu Roll Template -->
<rolltemplate class="sheet-rolltemplate-menu">
  <div class="sheet-container sheet-color-{{color}}">
    <div class="sheet-header">
      {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
      {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
    </div>
    <div class="sheet-content">
      {{#allprops() title subtitle desc color}}
      <div class="sheet-key">{{key}}</div>
      <div class="sheet-value">{{value}}</div>
      {{/allprops() title subtitle desc color}}
      {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
    </div>
  </div>
</rolltemplate>

<!-- Spell Roll Template -->
<rolltemplate class="sheet-rolltemplate-spells">
    <div class="sheet-container sheet-color-{{color}}">
        <div class="sheet-header">
            {{#title}}<div class="sheet-title">{{title}}</div>{{/title}}
            {{#subtitle}}<div class="sheet-subtitle">{{subtitle}}</div>{{/subtitle}}
        </div>
        <div class="sheet-note">
            {{#ispcost}}<div class="sheet-ispcost">I.S.P. Cost: {{ispcost}}</div>{{/ispcost}}
            {{#ppecost}}<div class="sheet-ppecost">P.P.E. Cost: {{ppecost}}</div>{{/ppecost}}
            {{#range}}<div class="sheet-range">Range: {{range}}</div>{{/range}}
            {{#preptime}}<div class="sheet-preptime">Prep Time: {{preptime}}</div>{{/preptime}}
            {{#duration}}<div class="sheet-duration">Duration: {{duration}}</div>{{/duration}}
            {{#spellstrength}}<div class="sheet=spellstrength">Strength: {{spellstrength}}</div>{{/spellstrength}}
            {{#spellsave}}<div class="sheet-spellsave">Save: {{spellsave}}</div>{{/spellsave}}
        </div>
        <div class="sheet-attack">
            {{#strike}}<div class="sheet-strike">Strike = {{strike}}</div>{{/strike}}
            {{#damage}}<div class="sheet-damage">Damage = {{damage}}</div>{{/damage}}
        </div>
        <div class="sheet-content">
            {{#allprops() title subtitle ispcost ppecost range preptime duration spellstrength spellsave strike damage desc color}}
            <div class="sheet-key">{{key}}</div>
            <div class="sheet-value">{{value}}</div>
            {{/allprops() title subtitle ispcost ppecost range preptime duration spellstrength spellsave strike damage desc color}}
            {{#desc}}<div class="sheet-desc">{{desc}}</div>{{/desc}}
        </div>
    </div>
</rolltemplate>

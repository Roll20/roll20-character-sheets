<rolltemplate class="sheet-rolltemplate-5e-shaped">
  <div class="rt-card">
    <div class="sheet-tooltip-position-wrapper">
      {{#advantage}}
        <div class="sheet-tooltip">
          <div class="tooltip-toggle-text advantage-circle advantage"></div>
          <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
            <span><span data-i18n="ADVANTAGE">Advantage</span></span>
          </div>
        </div>
      {{/advantage}}
      {{#disadvantage}}
        <div class="sheet-tooltip">
          <div class="tooltip-toggle-text advantage-circle disadvantage"></div>
          <div class="sheet-tooltip-content-left sheet-tooltip-small sheet-small-label">
            <span><span data-i18n="DISADVANTAGE">Disadvantage</span></span>
          </div>
        </div>
      {{/disadvantage}}
    </div>
    <div class="rt-title-wrap">
      <span class="rt-title {{#action}} action{{/action}}{{#spell}} spell{{/spell}}{{#ability}} ability{{/ability}}{{#saving_throw}} saving-throw{{/saving_throw}}{{#death_saving_throw}} death-saving-throw{{/death_saving_throw}}">
        {{title}}
      </span>
    </div>
    <div class="rt-subheader">
      {{#spell}}
        <div class="italic">
          {{spell_level}}{{#cast_as_level}} (<span class="lowercase" data-i18n="AS">as</span> {{cast_as_level}}){{/cast_as_level}}{{#school}} <span class="lowercase">{{school}}</span>{{/school}}{{#ritual}}
          (<span class="lowercase" data-i18n="RITUAL">ritual</span>){{/ritual}}
        </div>
      {{/spell}}
      {{#psionic_power}}
        <div class="italic">
          {{power_level}}{{#manifest_as_level}} (<span class="lowercase" data-i18n="AS">as</span> {{manifest_as_level}}){{/manifest_as_level}}{{#discipline}} <span class="lowercase">{{discipline}}</span>{{/discipline}}{{#meditate}}
          (<span class="lowercase" data-i18n="MEDITATE">meditate</span>){{/meditate}}
        </div>
      {{/psionic_power}}
      {{#show_character_name}}
        <div class="rt-character-name">{{character_name}}</div>
      {{/show_character_name}}
      {{#subheader}}
        <div>{{subheader}}</div>
      {{/subheader}}
    </div>

    {{#emote}}
      <p class="rt-emote">{{character_name}} {{emote}}</p>
    {{/emote}}
    <div class="rt-content">
      {{#uses}}
        <div class="no-border">
          <div class="bold"><span data-i18n="USES">Uses</span>:</span> {{uses}} / {{uses_max}}</div>
        </div>
      {{/uses}}
      {{#casting_time}}
        <div class="no-border">
          <span class="bold"><span data-i18n="CASTING_TIME">Casting Time</span>:</span> <span>{{casting_time}}</span>
        </div>
      {{/casting_time}}
      {{#manifesting_time}}
        <div class="no-border">
          <span class="bold"><span data-i18n="MANIFESTING_TIME">Manifesting Time</span>:</span> <span>{{manifesting_time}}</span>
        </div>
      {{/manifesting_time}}
      {{#range}}
        <div class="no-border">
          <span class="bold"><span data-i18n="RANGE">Range</span>:</span> <span>{{range}}</span> <span></span> <span>{{#ammo}}{{ammo}}{{#ammo_name}}{{ammo_name}}{{/ammo_name}}{{^ammo_name}}<span class="lowercase" data-i18n="AMMO">ammo</span>{{/ammo_name}}{{/ammo}}</span>
        </div>
      {{/range}}
      {{#reach}}
        <div class="no-border">
          <span class="bold"><span data-i18n="REACH">Reach</span>:</span> <span>{{reach}}</span>
        </div>
      {{/reach}}
      {{#components}}
        <div class="no-border">
          <span class="bold"><span data-i18n="COMPONENTS">Components</span>:</span>
          {{components}}
          {{#materials}}({{materials}}){{/materials}}
        </div>
      {{/components}}
      {{#display}}
        <div class="no-border">
          <span class="bold"><span data-i18n="DISPLAY">Display</span>:</span>
          {{display}}
          {{#materials}}({{materials}}){{/materials}}
        </div>
      {{/display}}
      {{#duration}}
        <div class="no-border">
          <span class="bold"><span data-i18n="DURATION">Duration</span>:</span>
          <span>{{duration}}</span>
        </div>
      {{/duration}}
      {{#target}}
        <div class="no-border">
          <span class="bold"><span data-i18n="TARGET">Target</span>:</span> <span>{{target}}</span>
        </div>
      {{/target}}
      {{#content}}
        <div class="mar-t-md{{#hide_spell_content}} gm-info-block{{/hide_spell_content}}">{{content}}</div>
      {{/content}}
      {{#text_top}}
        <div class="output-small">{{text_top}}</div>
      {{/text_top}}
      {{#roll1}}
        <div>
          <div class="shaped-row{{^roll2}} center{{/roll2}}{{#attack}}{{#hide_attack}} gm-info-flex{{/hide_attack}}{{/attack}}{{#action}}{{#hide_attack}} gm-info-flex{{/hide_attack}}{{/action}}{{#ability}}{{#hide_ability_checks}} gm-info-flex{{/hide_ability_checks}}{{/ability}}{{#saving_throw}}{{#hide_saving_throws}} gm-info-flex{{/hide_saving_throws}}{{/saving_throw}}">
            <div class="outer-padding output{{#roll2}} col-50 right{{/roll2}}">{{roll1}}</div>
            {{#roll2}}
              <div class="col-50 outer-padding output border-left">{{roll2}}</div>
            {{/roll2}}
          </div>
          {{#vs_ac}}
            <div class="output-small-label center ">
              <span data-i18n="VS">vs</span>
              {{#targetName}}
                <span>{{targetName}}</span>
              {{/targetName}}
              <span data-i18n="AC">AC</span>
              {{#targetAC}}
                <span>{{targetAC}}</span>
              {{/targetAC}}
            </div>
          {{/vs_ac}}
        </div>
      {{/roll1}}
      {{#saving_throw_dc}}
        <div class="center">
          {{#saving_throw_condition}}
            <div class="output-small-label">{{saving_throw_condition}}</div>
          {{/saving_throw_condition}}
          {{#saving_throw_dc}}
            {{#targetName}}
              <div class="col-100 output-small-label">
                <span data-i18n="VS">vs</span>
                <span>{{targetName}}</span>
              </div>
            {{/targetName}}
            <div>
              <span class="output-small">
                <span class="{{#hide_saving_throw_dc}}gm-info-inline-block{{/hide_saving_throw_dc}}"><span data-i18n="DC">DC</span> {{saving_throw_dc}}</span>
                <span>[<span data-i18n="{{saving_throw_vs_ability}}">{{saving_throw_vs_ability}}</span>](~target|shaped_{{saving_throw_vs_ability}}_saving_throw)</span>
                <span data-i18n="SAVING_THROW" class="lowercase">Saving throw</span>
              </span>
            </div>
          {{/saving_throw_dc}}
          {{#saving_throw_failure}}
            <div class="{{#hide_saving_throw_failure}}gm-info-block{{/hide_saving_throw_failure}}">
              <span class="bold italic"><span data-i18n="SAVE_FAILURE">Save Failure</span>.</span>
              {{saving_throw_failure}}
            </div>
          {{/saving_throw_failure}}
          {{#saving_throw_success}}
            <div class="{{#hide_saving_throw_success}}gm-info-block{{/hide_saving_throw_success}}">
              <span class="bold italic"><span data-i18n="SAVE_SUCCESS">Save Success</span>.</span>
              {{saving_throw_success}}
            </div>
          {{/saving_throw_success}}
        </div>
      {{/saving_throw_dc}}
      {{#damage}}
        <div class="shaped-row zebra vert-center{{^second_damage}} center{{/second_damage}}{{#hide_damage}} gm-info-flex{{/hide_damage}}">
          <div class="{{#second_damage}}col-45 right{{/second_damage}}">
            <div class="inline-block">
              <div class="output center">
                <span>{{damage}}</span>
                {{#rollWasCrit() roll1}}
                  <span>+ {{crit_damage}}</span>
                {{/rollWasCrit() roll1}}
                {{#^rollWasCrit() roll1}}
                  {{#rollWasCrit() roll2}}
                    <span>+ {{crit_damage}}</span>
                  {{/rollWasCrit() roll2}}
                {{/^rollWasCrit() roll1}}
              </div>
              <div class="output-small-label center">
                {{damage_type}}
                {{^damage_type}}
                  <span class="lowercase" data-i18n="DAMAGE">damage</span>
                {{/damage_type}}
              </div>
            </div>
          </div>
      {{/damage}}
      {{#second_damage}}
        {{#damage}}
          <div class="pad-l-md pad-r-md">
            <div class="output">+</div>
            <div class="height-one-em"></div>
          </div>
        {{/damage}}
        {{^damage}}
          <div class="shaped-row zebra vert-center">
        {{/damage}}
          <div class="col-45">
            <div class="inline-block">
              <div class="output center">
                <span>{{second_damage}}</span>
                {{#rollWasCrit() roll1}}
                  <span>+ {{second_crit_damage}}</span>
                {{/rollWasCrit() roll1}}
                {{#^rollWasCrit() roll1}}
                  {{#rollWasCrit() roll2}}
                    <span>+ {{second_crit_damage}}</span>
                  {{/rollWasCrit() roll2}}
                {{/^rollWasCrit() roll1}}
              </div>
              <div class="output-small-label center">
                {{second_damage_type}}
                {{^second_damage_type}}
                  <span class="lowercase" data-i18n="DAMAGE">damage</span>
                {{/second_damage_type}}
              </div>
            </div>
          </div>
        {{^damage}}
          </div>
        {{/damage}}
      {{/second_damage}}
      {{#damage}}
        </div>
      {{/damage}}
      {{#heal}}
        <div class="vert-center output-small"><span data-i18n="HEAL_FOR">Heal for</span> {{heal}} <span class="lowercase" data-i18n="HIT_POINTS">hit points</span></div>
      {{/heal}}
      {{#death_saving_throw_successes}}
        <div class="shaped-row space-around vert-center">
          <div>
            <span data-i18n="SUCCESSES">Successes</span> {{death_saving_throw_successes}} / 3
          </div>
          {{#death_saving_throw_failures}}
            <div>
              <span data-i18n="FAILURES">Failures</span> {{death_saving_throw_failures}} / 3
            </div>
          {{/death_saving_throw_failures}}
        </div>
      {{/death_saving_throw_successes}}
      {{#spell_list}}
        <div class="spell-list{{#spells_text_size}} output-small{{/spells_text_size}}">
          {{#has_spell_points}}
            <div class="rt-title">
              {{spell_points}}/{{spell_points_max}} <span data-i18n="POINTS">Points</span>
            </div>
          {{/has_spell_points}}
          {{#cantrips}}
            <div>
              <span class="bold italic"><span data-i18n="CANTRIPS">Cantrips</span>.</span>
              {{cantrips}}
            </div>
          {{/cantrips}}
          {{#spells_level_1_show}}
            <div>
              <span class="bold italic"><span data-i18n="1ST_LEVEL">1st-level</span>{{#has_spell_slots}}{{#spells_level_1_uses}} ({{spells_level_1_uses}}){{/spells_level_1_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 2{{/has_spell_points}}.</span>
              {{spells_level_1}}
            </div>
          {{/spells_level_1_show}}
          {{#spells_level_2_show}}
            <div>
              <span class="bold italic"><span data-i18n="2ND_LEVEL">2nd-level</span>{{#has_spell_slots}}{{#spells_level_2_uses}} ({{spells_level_2_uses}}){{/spells_level_2_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 3{{/has_spell_points}}.</span>
              {{spells_level_2}}
            </div>
          {{/spells_level_2_show}}
          {{#spells_level_3_show}}
            <div>
              <span class="bold italic"><span data-i18n="3RD_LEVEL">3rd-level</span>{{#has_spell_slots}}{{#spells_level_3_uses}} ({{spells_level_3_uses}}){{/spells_level_3_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 5{{/has_spell_points}}.</span>
              {{spells_level_3}}
            </div>
          {{/spells_level_3_show}}
          {{#spells_level_4_show}}
            <div>
              <span class="bold italic"><span data-i18n="4TH_LEVEL">4th-level</span>{{#has_spell_slots}}{{#spells_level_4_uses}} ({{spells_level_4_uses}}){{/spells_level_4_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 6{{/has_spell_points}}.</span>
              {{spells_level_4}}
            </div>
          {{/spells_level_4_show}}
          {{#spells_level_5_show}}
            <div>
              <span class="bold italic"><span data-i18n="5TH_LEVEL">5th-level</span>{{#has_spell_slots}}{{#spells_level_5_uses}} ({{spells_level_5_uses}}){{/spells_level_5_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 7{{/has_spell_points}}.</span>
              {{spells_level_5}}
            </div>
          {{/spells_level_5_show}}
          {{#spells_level_6_show}}
            <div>
              <span class="bold italic"><span data-i18n="6TH_LEVEL">6th-level</span>{{#has_spell_slots}}{{#spells_level_6_uses}} ({{spells_level_6_uses}}){{/spells_level_6_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 9{{/has_spell_points}}.</span>
              {{spells_level_6}}
            </div>
          {{/spells_level_6_show}}
          {{#spells_level_7_show}}
            <div>
              <span class="bold italic"><span data-i18n="7TH_LEVEL">7th-level</span>{{#has_spell_slots}}{{#spells_level_7_uses}} ({{spells_level_7_uses}}){{/spells_level_7_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 10{{/has_spell_points}}.</span>
              {{spells_level_7}}
            </div>
          {{/spells_level_7_show}}
          {{#spells_level_8_show}}
            <div>
              <span class="bold italic"><span data-i18n="8TH_LEVEL">8th-level</span>{{#has_spell_slots}}{{#spells_level_8_uses}} ({{spells_level_8_uses}}){{/spells_level_8_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 11{{/has_spell_points}}.</span>
              {{spells_level_8}}
            </div>
          {{/spells_level_8_show}}
          {{#spells_level_9_show}}
            <div>
              <span class="bold italic"><span data-i18n="9TH_LEVEL">9th-level</span>{{#has_spell_slots}}{{#spells_level_9_uses}} ({{spells_level_9_uses}}){{/spells_level_9_uses}}{{#has_spell_points}};{{/has_spell_points}}{{/has_spell_slots}}{{#has_spell_points}} 13{{/has_spell_points}}.</span>
              {{spells_level_9}}
            </div>
          {{/spells_level_9_show}}
          {{#has_warlock_spell_slots}}
            <div>
              <span class="bold italic"><span data-i18n="WARLOCK_SPELL_SLOTS">Warlock spell slots</span>.</span>
              {{warlock_spell_slots}}/{{warlock_spell_slots_max}}, {{warlock_spells_max_level}}
            </div>
          {{/has_warlock_spell_slots}}
        </div>
      {{/spell_list}}

      {{#text_center}}
        <div class="center">{{text_center}}</div>
      {{/text_center}}
      {{#text}}
        <div>{{text}}</div>
      {{/text}}
      {{#text_big}}
        <div class="output-small">{{text_big}}</div>
      {{/text_big}}
      {{#allprops() freetext text text_center text_big text_top character_name saving_throw title ignore show_character_name subheader uses uses_max roll1 roll2 advantage disadvantage vs_ac ability emote death_saving_throw death_saving_throw_successes death_saving_throw_failures targetAC targetName action type crit_name crit_text damage damage_type crit_damage second_damage second_damage_type second_crit_damage ranged damage target reach range ammo ammo_name spell spell_list saving_throw_condition saving_throw_dc saving_throw_vs_ability saving_throw_success saving_throw_failure spell_level school ritual content cast_as_level heal casting_time duration components materials hide_ability_checks hide_saving_throws hide_saving_throw_dc hide_spell_content hide_freetext hide_attack hide_damage hide_saving_throw_failure hide_saving_throw_success recharge hide_recharge fx trait armor equipment cantrips spells_level_1 spells_level_1_uses spells_level_1_show spells_level_2 spells_level_2_uses spells_level_2_show spells_level_3 spells_level_3_uses spells_level_3_show spells_level_4 spells_level_4_uses spells_level_4_show spells_level_5 spells_level_5_uses spells_level_5_show spells_level_6 spells_level_6_uses spells_level_6_show spells_level_7 spells_level_7_uses spells_level_7_show spells_level_8 spells_level_8_uses spells_level_8_show spells_level_9 spells_level_9_uses spells_level_9_show has_spell_slots has_spell_points spell_points spell_points_max has_warlock_spell_slots warlock_spell_slots warlock_spell_slots_max warlock_spells_max_level spells_text_size psionic_power power_level manifest_as_level discipline manifesting_time display meditate}}
        <div>
          <span class="bold italic">{{key}}.</span>
          {{value}}
        </div>
      {{/allprops() freetext text text_center text_big text_top character_name saving_throw title ignore show_character_name subheader uses uses_max roll1 roll2 advantage disadvantage vs_ac ability emote death_saving_throw death_saving_throw_successes death_saving_throw_failures targetAC targetName action type crit_name crit_text damage damage_type crit_damage second_damage second_damage_type second_crit_damage ranged damage target reach range ammo ammo_name spell spell_list saving_throw_condition saving_throw_dc saving_throw_vs_ability saving_throw_success saving_throw_failure spell_level school ritual content cast_as_level heal casting_time duration components materials hide_ability_checks hide_saving_throws hide_saving_throw_dc hide_spell_content hide_freetext hide_attack hide_damage hide_saving_throw_failure hide_saving_throw_success recharge hide_recharge fx trait armor equipment cantrips spells_level_1 spells_level_1_uses spells_level_1_show spells_level_2 spells_level_2_uses spells_level_2_show spells_level_3 spells_level_3_uses spells_level_3_show spells_level_4 spells_level_4_uses spells_level_4_show spells_level_5 spells_level_5_uses spells_level_5_show spells_level_6 spells_level_6_uses spells_level_6_show spells_level_7 spells_level_7_uses spells_level_7_show spells_level_8 spells_level_8_uses spells_level_8_show spells_level_9 spells_level_9_uses spells_level_9_show has_spell_slots has_spell_points spell_points spell_points_max has_warlock_spell_slots warlock_spell_slots warlock_spell_slots_max warlock_spells_max_level spells_text_size psionic_power power_level manifest_as_level discipline manifesting_time display meditate}}
      {{#freetext}}
        <div class="{{#hide_freetext}} gm-info-block{{/hide_freetext}}">{{freetext}}</div>
      {{/freetext}}
      {{#crit_name}}
        {{#rollWasCrit() roll1}}
          <div>
            <span class="bold italic">{{crit_name}}.</span>
            {{crit_text}}
          </div>
        {{/rollWasCrit() roll1}}
        {{#^rollWasCrit() roll1}}
          {{#rollWasCrit() roll2}}
            <div>
              <span class="bold italic">{{crit_name}}.</span>
              {{crit_text}}
            </div>
          {{/rollWasCrit() roll2}}
        {{/^rollWasCrit() roll1}}
      {{/crit_name}}
      {{#recharge}}
        <div class="{{#hide_recharge}}gm-info-block{{/hide_recharge}}">
          <span class="bold italic"><span data-i18n="RECHARGE">Recharge</span>.</span>
          {{recharge}}
        </div>
      {{/recharge}}
    </div>
  </div>
</rolltemplate>
<div style="display:inline-block;font-size:11px;color: #888888;text-align:left;font-weight: bold;"><span data-i18n="sheet-sheet">Sheet:</span></div>
<input type="radio" name="attr_sheetStyle" value="1" class="styleCharacter" title="Character" checked="checked" /><span data-i18n="sheet-character">Character</span>
<input type="radio" name="attr_sheetStyle" value="2" class="styleCharacterNotes" title="CharacterNotes" /><span data-i18n="sheet-characternotes">CharacterNotes</span>
<input type="radio" name="attr_sheetStyle" value="3" class="styleSpaceship" title="Spaceship" /><span data-i18n="sheet-spaceship">Spaceship</span>
<input type="radio" name="attr_sheetStyle" value="4" class="styleSpaceshipNotes" title="SpaceshipNotes" /><span data-i18n="sheet-spaceshipnotes">SpaceshipNotes</span>
<!-- <input type="radio" name="attr_sheetStyle" value="5" class="styleScripts" title="Scripts"/><span>Scripts</span> --> <!-- HIDDEN SCIRPTS -->

<!--    *************************   Character Sheet *************************   -->
<div class="character">
    <div class="sheet-hidden">
        <input type="hidden" name="attr_version"> <!-- VERSION -->
    </div>
    <div class="header"> <!-- Header -->
        <br><span data-i18n="sheet-character-title-u">CHARACTER SHEET</span><br><br>
        <img src="https://i.imgur.com/bwY1i2A.png" alt="Logo">
    </div> <!-- End Header -->
    <table class="ti">
        <tr>
            <td valign="top">
                <table class="table-thin table-graphic">
                    <tr class="table-dark bb">
                        <td colspan="2">
                            <h1 data-i18n="sheet-character-modifers">Modifiers</h1>
                        </td>
                    </tr>
                    <tr class="bb">
                        <td>
                            <h2 data-i18n="sheet-character-modifiers-positive">Positive</h2>
                        </td>
                        <td class="value">
                            <input type="number" name="attr_modifier-pos" value="0">
                        </td>
                    </tr>
                    <tr class="bb">
                        <td>
                            <h2 data-i18n="sheet-character-modifiers-negative">Negative</h2>
                        </td>
                        <td class="value">
                            <input type="number" name="attr_modifier-neg" value="0">
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table class="ti">
        <tr>
            <td valign="top">
                <table class="table-thin table-graphic">
                    <tr class="table-dark bb">
                        <td colspan="2">
                            <h1 data-i18n="sheet-character-attributes">Attributes</h1>
                        </td>
                    </tr>
                    <tr class="bb">
                        <td>
                            <h2 data-i18n="sheet-character-attributes-strength">Strength</h2>
                        </td>
                        <td class="value">
                            <button type="roll" name="roll_strength" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-attributes-strength}}} {{roll=[[(@{strength} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{strength} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
                            <input type="number" name="attr_strength" value="0">
                        </td>
                    </tr>
                    <tr class="bb">
                        <td>
                            <h2 data-i18n="sheet-character-attributes-agility">Agility</h2>
                        </td>
                        <td class="value">
                            <button type="roll" name="roll_agility" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-attributes-agility}}} {{roll=[[(@{agility} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{strength} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}" ></button>
                            <input type="number" name="attr_agility" value="0">
                        </td>
                    </tr>
                    <tr class="bb">
                        <td>
                            <h2 data-i18n="sheet-character-attributes-wits">Wits</h2>
                        </td>
                        <td class="value">
                            <button type="roll" name="roll_wits" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-attributes-wits}}} {{roll=[[(@{wits} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{strength} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
                            <input type="number" name="attr_wits" value="0">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h2 data-i18n="sheet-character-attributes-empathy">Empathy</h2>
                        </td>
                        <td class="value">
                            <button type="roll" name="roll_empathy" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-attributes-empathy}}} {{roll=[[(@{empathy} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{strength} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
                            <input type="number" name="attr_empathy" value="0">
                        </td>
                    </tr>
                </table>

                <table class="table-thin table-graphic">
                    <tr>
                        <td class="table-dark" colspan="2">
                            <h1 data-i18n="sheet-character-trauma">Trauma</h1>
                		</td>
                	</tr>
                    <tr>
                        <td class="table-invis2">
                            <h2 data-i18n="sheet-character-trauma-hitpoints">Hit Points<BR>(Str + Agi)</h2>
                        </td>
                        <td class="value">
                            <div>
                             <!--<span name="attr_hitpoints">0</span>-->
                              <input type="number" name="attr_hitpoints" value="0">
                             </div>
                        </td>
                    </tr>
                    <tr>
                        <td class="bb" colspan="2" align="center" valign="center">
                            <p class="flex-top checkbox-custom">
                                <input type="checkbox" name="attr_hitpoints-check1" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check2" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check3" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check4" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check5" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check6" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check7" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check8" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check9" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check10" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check11" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_hitpoints-check12" class="cb-small" value="1"><span></span>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="table-light bb" colspan="2">
                            <h3 data-i18n="sheet-character-trauma-critical-injuries">Critical Injuries:</h3>
                            <fieldset class="repeating_crits">
                                <table>
                                    <tr class="bb">
                                        <td>
                                            <input type="text" name="attr_crit-injury">
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                    <tr>
                        <td class="table-invis2">
                            <h2 data-i18n="sheet-character-trauma-mindpoints">Mind points<BR>(Wit + Emp)</h2>
                        </td>
                        <td class="value">
                            <!--<span name="attr_mindpoints">0</span>-->
                          <input type="number" name="attr_mindpoints" value="0">
                        </td>
                    </tr>
                    <tr>
                        <td class="table-invis2" colspan="2" align="center"valign="center">
                            <p  class="flex-top checkbox-custom">
                                <input type="checkbox" name="attr_mindpoints-check1" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check2" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check3" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check4" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check5" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check6" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check7" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check8" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check9" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check10" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check11" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_mindpoints-check12" class="cb-small" value="1"><span></span>
                            </p>
                        </td>
                    </tr>
                </table>
            </td>
            <td colspan="2" valign="top">
                <table class="table-wide">
                    <tr class="table-light bb">
                        <td>
                            <h3 data-i18n="sheet-character-name">Name:</h3>
                    	</td>
                        <td class="table-light bb">
                            <input type="text" name="attr_name">
                        </td>
                        <td class="table-light bb bl">
                            <h3 data-i18n="sheet-character-background">Background:</h3>
                        </td>
                        <td class="table-light bb">
                            <input type="text" name="attr_background">
                        </td>
                	</tr>
                    <tr class="table-light bb">
                        <td>
                            <h3 data-i18n="sheet-character-concept">Concept:</h3>
                    	</td>
                        <td>
                            <input type="text" name="attr_concept">
                        </td>
                        <td class="bl">
                            <h3 data-i18n="sheet-character-icon">Icon:</h3>
                        </td>
                        <td>
                            <input type="text" name="attr_icon">
                        </td>
                	</tr>
                    <tr class="table-light bb">
                        <td>
                            <h3 data-i18n="sheet-character-group-concept">Group concept:</h3>
                    	</td>
                        <td>
                            <input type="text" name="attr_groupconcept">
                        </td>
						<td class="table-graphic bl">
                            <h3 data-i18n="sheet-character-reputation">Reputation:</h3>
							<td class="table-graphic2 value">
								<input type="number" name="attr_reputation">
							</td>
						</td>
                	</tr>
                    <tr  class="table-light">
                        <td>
                            <h3 data-i18n="sheet-character-personal-problem">Personal Problem:</h3>
                        </td>
                        <td colspan="3">
                            <input type="text" name="attr_personal_problem">
                        </td>
                    </tr>
                </table>
                <table class="table-wide">
                    <tr>
                        <td class="table-dark" colspan="2">
                            <h1 data-i18n="sheet-character-appearance">Appearance</h1>
                    	</td>
                	</tr>
                    <tr class="table-light bb">
                        <td>
                            <h3 data-i18n="sheet-character-appearance-face">Face:</h3>
                        </td>
                        <td>
                            <input type="text" name="attr_face">
                        </td>
                    </tr>
                    <tr class="table-light">
                        <td>
                            <h3 data-i18n="sheet-character-appearance-clothing">Clothing:</h3>
                        </td>
                        <td>
                            <input type="text" name="attr_clothing">
                        </td>
                    </tr>
                </table>
                <table class="table-wide table-graphic">
                    <tr class="table-dark">
                        <td>
                            <h1 data-i18n="sheet-character-relationships">Relationships</h1>
                		</td>
                        <td align="right">
                            <h4 data-i18n="sheet-character-relationships-buddy">Buddy</h4>
                        </td>
                	</tr>
                    <tr class="table-light">
                        <td colspan="3">
                            <fieldset class="repeating_relationships">
                                <table>
                                    <tr class="bb">
                                        <td>
                                            <h3 data-i18n="sheet-character-relationships-pc">PC:</h3>
                                        </td>
                                        <td class="table-light">
                                            <input type="text" name="attr_relationship">
                                        </td>
                                        <td class="table-graphic borders">
                                            <p class="flex-top checkbox-custom">
                                                <input type="checkbox" value="1"><span></span>
                                            </p>
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table class="ti">
        <tr>
            <td colspan="2">
                <table class="ti"><tr><td>
                <table class="table-thin">
                    <tr>
                        <td class="table-dark">
                            <h1 data-i18n="sheet-character-radiation">Radiation</h1>
                        </td>
                    </tr>
                    <tr> <!-- Permant Radiation -->
                        <td class="table-graphic">
                            <p class="flex-bottom radio-fill">
                                <input type="radio" name="attr_permrad" value="0" checked="checked"/>reset
                                <input type="radio" name="attr_permrad" value="1" style="margin-left: -10px;"><span></span>
                                <input type="radio" name="attr_permrad" value="2"><span></span>
                                <input type="radio" name="attr_permrad" value="3"><span></span>
                                <input type="radio" name="attr_permrad" value="4"><span></span>
                                <input type="radio" name="attr_permrad" value="5"><span></span>
                                <input type="radio" name="attr_permrad" value="6"><span></span>
                                <input type="radio" name="attr_permrad" value="7"><span></span>
                                <input type="radio" name="attr_permrad" value="8"><span></span>
                                <input type="radio" name="attr_permrad" value="9"><span></span>
                                <input type="radio" name="attr_permrad" value="10"><span></span>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="table-graphic">
                            <p class="flex-top checkbox-custom">
                                <input type="checkbox" name="attr_rad0" value="1">
                                <input type="checkbox" name="attr_rad1" value="1" style="margin-left: 20px;"><span></span>
                                <input type="checkbox" name="attr_rad2" value="1"><span></span>
                                <input type="checkbox" name="attr_rad3" value="1"><span></span>
                                <input type="checkbox" name="attr_rad4" value="1"><span></span>
                                <input type="checkbox" name="attr_rad5" value="1"><span></span>
                                <input type="checkbox" name="attr_rad6" value="1"><span></span>
                                <input type="checkbox" name="attr_rad7" value="1"><span></span>
                                <input type="checkbox" name="attr_rad8" value="1"><span></span>
                                <input type="checkbox" name="attr_rad9" value="1"><span></span>
                                <input type="checkbox" name="attr_rad10" value="1"><span></span>
                            </p>
                        </td>
                    </tr>
                </table>
                </td>
                <td>
                <table class="table-thin">
                    <tr>
                        <td class="table-dark">
                            <h1 data-i18n="sheet-character-experience">Experience</h1>
                        </td>
                    </tr>
                        <tr>
                        <td class="table-graphic" align="center"valign="center">
                            <p class="flex-top checkbox-custom">
                                <input type="checkbox" class="cb-small" name="attr_exp1" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp2" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp3" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp4" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp5" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp6" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp7" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp8" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp9" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp10" value="1"><span></span>
                            </p>
                        </td>
                    </tr>
                    <tr>
                        <td class="table-graphic" align="center"valign="center">
                            <p class="flex-top checkbox-custom">
                                <input type="checkbox" class="cb-small" name="attr_exp11" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp12" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp13" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp14" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp15" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp16" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp17" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp18" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp19" value="1"><span></span>
                                <input type="checkbox" class="cb-small" name="attr_exp20" value="1"><span></span>
                            </p>
                        </td>
                    </tr>
                </table>
                </td></tr></table>
                <table class="table-wide table-graphic">
                    <tr class="table-dark bb">
                        <td>
                            <h1 data-i18n="sheet-character-skills">Skills</h1>
                    	</td>
                        <td>
                            <h4 data-i18n="sheet-character-skills-general" style="text-align:right">General</h4>
                        </td>
                        <td colspan="2">
                            <h4  data-i18n="sheet-character-skills-advanced" style="text-align:right">Advanced</h4>
                        </td>
                	</tr>
                    <tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-dexterity">Dexterity (Agi)</h2> <!-- Test -->
						</td>
						<td class="value">
							<button type="roll" name="roll_dexterity" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-dexterity}}} {{roll=[[(@{agility} + @{dexterity} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{agility} + @{dexterity} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_dexterity" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-command">Command (Emp)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_command" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-command}}} {{advanced-skill=[[@{command}>0]]}} {{roll=[[(@{empathy} + @{command} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{empathy} + @{command} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_command" value="0">
						</td>
					</tr>
					<tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-force">Force (Str)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_force" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-force}}} {{roll=[[(@{strength} + @{force} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{strength} + @{force} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_force" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-culture">Culture (Emp)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_culture" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-culture}}} {{advanced-skill=[[@{culture}>0]]}} {{roll=[[(@{empathy} + @{culture} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{empathy} + @{culture} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_culture" value="0">
						</td>
					</tr>
					<tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-infiltration">Infiltration (Agi)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_infiltration" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-infiltration}}} {{roll=[[(@{agility} + @{infiltration} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{agility} + @{infiltration} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_infiltration" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-datadjinn">Data Djinn (Wit)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_datadjinn" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-datadjinn}}} {{advanced-skill=[[@{datadjinn}>0]]}} {{roll=[[(@{wits} + @{datadjinn} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{wits} + @{datadjinn} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_datadjinn" value="0">
						</td>
					</tr>
					<tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-manipulation">Manipulation (Emp)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_manipulation" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-manipulation}}} {{roll=[[(@{empathy} + @{manipulation} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{empathy} + @{manipulation} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_manipulation" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-medicurgy">Medicurgy (Wit)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_medicurgy" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-medicurgy}}} {{advanced-skill=[[@{medicurgy}>0]]}} {{roll=[[(@{wits} + @{medicurgy} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{wits} + @{medicurgy} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_medicurgy" value="0">
						</td>
					</tr>
					<tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-meleecombat">Melee Combat (Str)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_melee-combat" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-meleecombat}}} {{roll=[[(@{strength} + @{melee-combat} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{strength} + @{melee-combat} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_melee-combat" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-mysticpowers">Mystic Powers (Emp)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_mystic-powers" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-mysticpowers}}} {{advanced-skill=[[@{mystic-powers}>0]]}} {{roll=[[(@{empathy} + @{mystic-powers} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{empathy} + @{mystic-powers} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_mystic-powers" value="0">
						</td>
					</tr>
					<tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-observation">Observation (Wit)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_observation" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-observation}}} {{roll=[[(@{wits} + @{observation} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[@{wits} + @{observation} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_observation" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-pilot">Pilot (Agi)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_pilot" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-pilot}}} {{advanced-skill=[[@{pilot}>0]]}} {{roll=[[(@{agility} + @{pilot} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{agility} + @{pilot} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_pilot" value="0">
						</td>
					</tr>
					<tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-rangedcombat">Ranged Combat (Agi)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_ranged-combat" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-rangedcombat}}} {{roll=[[(@{agility} + @{ranged-combat} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{agility} + @{ranged-combat} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_ranged-combat" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-science">Science (Wit)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_science" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-science}}} {{advanced-skill=[[@{science}>0]]}} {{roll=[[(@{wits} + @{science} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{wits} + @{science} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_science" value="0">
						</td>
					</tr>
					<tr class="bb">
						<td>
							<h2 data-i18n="sheet-character-skills-survival">Survival (Wit)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_survival" value="&{template:coriolis} {{isNotAdvanced=1}} {{name=^{sheet-character-skills-survival}}} {{roll=[[(@{wits} + @{survival} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{wits} + @{survival} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_survival" value="0">
						</td>
						<td>
							<h2 data-i18n="sheet-character-skills-technology">Technology (Wit)</h2>
						</td>
						<td class="value">
							<button type="roll" name="roll_technology" value="&{template:coriolis} {{isAdvanced=1}} {{name=^{sheet-character-skills-technology}}} {{advanced-skill=[[@{technology}>0]]}} {{roll=[[(@{wits} + @{technology} + @{modifier-pos} - @{modifier-neg})d6>6]]}} {{pool=[[(@{wits} + @{technology} + @{modifier-pos} - @{modifier-neg})>0]]}} {{reroll=[[2d6>6]]}}"></button>
							<input type="number" name="attr_technology" value="0">
						</td>
					</tr>
                </table>
            </td>
            <td valign="top">
                <table class="table-thin">
                    <tr>
                        <td class="table-dark">
                            <h1 data-i18n="sheet-character-skills-talents">Talents</h1>
                		</td>
                	</tr>
                    <tr>
                        <td class="table-light">
                            <fieldset class="repeating_talents">
                                <table>
                                    <tr class="bb">
                                        <td>
                                            <input type="text" name="attr_talent">
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                </table>
                <table class="table-thin">
                    <tr class="table-dark">
                        <td>
                            <h1 data-i18n="sheet-character-gear">Gear</h1>
                		</td>
                        <td>
                            <h4 data-i18n="sheet-character-gear-bonus" align="right">Bonus</h4>
                        </td>
                	</tr>
                    <tr class="table-light">
                        <td colspan="2">
                            <fieldset class="repeating_gear">
                                <table>
                                    <tr class="bb">
                                        <td>
                                            <input type="text" name="attr_gear">
                                        </td>
                                        <td style="float: right;">
                                            <input type="number" name="attr_gear_bonus" value="0">
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                </table>
                <table class="table-thin">
                    <tr class="table-dark">
                        <td>
                            <h1 data-i18n="sheet-character-armor">Armor</h1>
                        </td>
                        <td>
                            <h5 data-i18n="sheet-character-armor-rating">Rating</h5>
                        </td>
                        <td>
                            <h5 data-i18n="sheet-character-armor-comments">Comments</h5>
                        </td>
                	</tr>
                    <tr class="table-light">
                        <td>
                           <input type="text" name="attr_armor">
                        </td>
                        <td>
                            <input type="number" name="attr_armor_rating">
                        </td>
                        <td>
                            <input type="text" name="attr_armor_comments" >
                        </td>
                	</tr>
                </table>
            </td>
        </tr>
    </table>

    <table class="table-widest weapons">
        <tr class="table-dark">
            <td>
                <h1 data-i18n="sheet-character-weapons">Weapons</h1>
        	</td>
            <td align="center">
                <h5 data-i18n="sheet-character-weapons-bonus">Bonus</h5>
            </td>
            <td align="center">
                <h5 data-i18n="sheet-character-weapons-init">Init</h5>
            </td>
            <td align="center">
                <h5 data-i18n="sheet-character-weapons-damage">Damage</h5>
            </td>
            <td align="center">
                <h5 data-i18n="sheet-character-weapons-crit">Crit</h5>
            </td>
            <td align="center">
                <h5 data-i18n="sheet-character-weapons-range">Range</h5>
            </td>
            <td align="left">
                <h5 data-i18n="sheet-character-weapons-comments">Comments</h5>
            </td>
            <td align="center">
                <h5 data-i18n="sheet-character-weapons-reloads">Reloads</h5>
            </td>
    	</tr>
        <tr class="table-light">
            <td colspan="8">
                <fieldset class="repeating_weapon">
                    <table>
                        <tr>
                            <td class="borders">
                                <input type="text" name="attr_weapon">
                            </td>
                            <td class="borders" align="center" valign="center">
                                <input type="number" name="attr_weapon_bonus" value="0">
                            </td>
                            <td class="borders" align="center" valign="center">
                                <input type="number" name="attr_weapon_init" value="0">
                            </td>
                            <td class="borders" align="center" valign="center">
                                <input type="number" name="attr_weapon_damage" value="0">
                            </td>
                            <td class="borders" align="center" valign="center">
                                <input type="number" name="attr_weapon_crit" value="0">
                            </td>
                            <td class="borders">
                                <input type="text" name="attr_weapon_range">
                            </td>
                            <td class="borders" align="center" valign="center">
                                <input type="text" name="attr_weapon_comments">
                            </td>
                            <td class="table-graphic borders">
                                <p class="flex-top checkbox-custom">
                                    <input type="checkbox" class="cb-small" name="attr_reload1" value="1"><span></span>
                                    <input type="checkbox" class="cb-small" name="attr_reload2" value="1"><span></span>
                                    <input type="checkbox" class="cb-small" name="attr_reload3" value="1"><span></span>
                                    <input type="checkbox" class="cb-small" name="attr_reload4" value="1"><span></span>
                                    <input type="checkbox" class="cb-small" name="attr_reload5" value="1"><span></span>
                                    <input type="checkbox" class="cb-small" name="attr_reload6" value="1"><span></span>
                                </p>
                            </td>
                        </tr>
                    </table>
                </fieldset>
            </td>
        </tr>
    </table>
</div>

<!--    *************************   Character Notes *************************   -->
<div class="characternotes">
    <div class="header"> <!-- Header -->
        <br><span data-i18n="sheet-characternotes-title-u">CHARACTER NOTES</span><br><br>
        <img src="https://i.imgur.com/bwY1i2A.png" alt="Logo">
    </div> <!-- End Header -->
    <table class="table-widest people">
        <tr class="table-dark">
            <td>
                <h1 data-i18n="sheet-characternotes-people">People I"ve Met</h1>
            </td>
            <td align="left" padd>
                <h4 data-i18n="sheet-characternotes-people-concept">Concept</h4>
            </td>
            <td align="left">
                <h4 data-i18n="sheet-characternotes-people-notes">Notes</h4>
            </td>
    	</tr>
        <tr class="table-light">
            <td colspan="3">
                <fieldset class="repeating_character-logs">
                    <table>
                        <tr>
                            <td class="bb">
                                <input type="text" name="attr_character-log-people">
                            </td>
                            <td class="bl bb">
                                <input type="text" name="attr_character-log-concept">
                            </td>
                            <td class="bl bb">
                                <input type="text" name="attr_character-log-notes">
                            </td>
                        </tr>
                    </table>
                </fieldset>
            </td>
        </tr>
    </table>
    <table class="ti">
            <td>
                <table>
                    <tr>
                        <td class="table-dark" colspan="2">
                            <h1 data-i18n="sheet-characternotes-cabin">My Cabin</h1>
                    	</td>
                	</tr>
                    <tr class="table-light">
                        <td colspan="2">
                            <h3 data-i18n="sheet-characternotes-cabin-description">Description:</h3>
                        </td>
                    </tr>
                    <tr class="table-light bb">
                        <td colspan="2">
                        <textarea class="textbox" name="attr_cabin-description" style="min-height: 3em; height: 3em; min-width: 385px; max-width: 385px;"></textarea>
                        </td>
                    </tr>
                    <tr class="table-light">
                        <td colspan="2">
                            <h3 data-i18n="sheet-characternotes-cabin-gear">Gear:</h3>
                        </td>
                    </tr>
                    <tr class="table-light bb">
                        <td colspan="2">
                        <textarea class="textbox" name="attr_cabin-gear" style="min-height: 3em; height: 3em; min-width: 385px; max-width: 385px;"></textarea>
                        </td>
                    </tr>
                    <tr class="table-light">
                        <td colspan="2">
                            <h3 data-i18n="sheet-characternotes-cabin-other">Other:</h3>
                        </td>
                    </tr>
                    <tr class="table-light bb">
                        <td colspan="2">
                        <textarea class="textbox" name="attr_cabin-other" style="min-height: 3em; height: 3em; min-width: 385px; max-width: 385px;"></textarea>
                        </td>
                    </tr>
                </table>
            </td>
            <td>
                <table class="table-half">
                    <tr>
                        <td class="table-dark" style="padding-right:100px">
                            <h1 data-i18n="sheet-characternotes-tiny">Tiny Items</h1>
                    	</td>
						<td class="table-graphic">
                            <h3 data-i18n="sheet-characternotes-birr">Birr:</h3>
                        </td>
						<td class="table-graphic" style="text-align: center">
					        <input type="number" name="attr_birr">
						</td>
                	</tr>
                    <tr>
                        <td class="table-light" colspan="3">
                            <fieldset class="repeating_talents">
                                <table>
                                    <tr class="bb">
                                        <td>
                                            <input type="text" name="attr_items">
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table class="table-widest ship-logs">
        <tr class="table-dark">
            <td>
                <h1 data-i18n="sheet-characternotes-notes">Notes</h1>
            </td>
        </tr>
            <tr class="table-light bb">
                <td>
                <textarea class="textbox" name="attr_notes" style="min-height: 3em; height: 3em; min-width: 810px; max-width: 810px;"></textarea>
                </td>
            </tr>
    </table>
</div>

<!--    *************************   Spaceship Sheet *************************   -->
<div class="spaceship">
    <div class="header"> <!-- Header -->
        <br><span data-i18n="sheet-spaceship-title-u">SPACESHIP SHEET</span><br><br>
        <img src="https://i.imgur.com/bwY1i2A.png" alt="Logo">
    </div> <!-- End Header -->
    <table class="ti">
        <tr>
            <td>
                <table class="table-wide table-light">
                    <tr class="bb">
                        <td>
                            <h3 data-i18n="sheet-spaceship-name">Name:</h3>
                        </td>
                        <td colspan="3">
                            <input type="text" name="attr_spaceship-name">
                        </td>
                    </tr>
                    <tr class="bb">
                        <td>
                            <h3 data-i18n="sheet-spaceship-class">Class & Type:</h3>
                        </td>
                        <td>
                            <input type="text" name="attr_spaceship-type">
                        </td>
                        <td>
                            <h3 data-i18n="sheet-spaceship-shipyard">Shipyard:</h3>
                        </td>
                        <td>
                            <input type="text" name="attr_spaceship-yard">
                        </td>
                    </tr>
                    <tr>
                        <td>
                            <h3 data-i18n="sheet-spaceship-problem">Problem:</h3>
                        </td>
                        <td>
                            <input type="text" name="attr_spaceship-problem">
                        </td>
                        <td>
                            <h3 data-i18n="sheet-spaceship-debt">Debt:</h3>
                        </td>
                        <td>
                            <input type="text" name="attr_spaceship-debt">
                        </td>
                    </tr>
                </table>
                <table class="table-wide table-graphic">
                    <tr>
                        <td colspan="4" class="table-dark">
                            <h1 data-i18n="sheet-spaceship-data">Data</h1>
                        </td>
                    </tr>
                    <tr class="table-invis2 bb">
                        <td>
                            <h2 data-i18n="sheet-spaceship-data-maneuverability">Maneuverability</h2>
                        </td>
                        <td class="value">
                            <input type="number" name="attr_spaceship-maneuverability" value="0">
                        </td>
                        <td>
                            <h2 data-i18n="sheet-spaceship-data-signature">Signature</h2>
                        </td>
                        <td class="value">
                            <input type="number" name="attr_spaceship-signature" value="0">
                        </td>
                    </tr>
                    <tr class="table-invis2">
                        <td>
                            <h2 data-i18n="sheet-spaceship-data-speed">Speed</h2>
                        </td>
                        <td class="value">
                            <input type="number" name="attr_spaceship-speed" value="0">
                        </td>
                        <td>
                            <h2 data-i18n="sheet-spaceship-data-armor">Armor</h2>
                        </td>
                        <td class="value">
                            <input type="number" name="attr_spaceship-armor" value="0">
                        </td>
                    </tr>
                </table>
                <table class="table-wide table-graphic">
                    <tr>
                        <td class="table-dark">
                            <h1 data-i18n="sheet-spaceship-modules">Modules</h1>
                        </td>
                        <td class="table-dark">
                            <h4 data-i18n="sheet-spaceship-modules-disabled" align="right">Disabled</h4>
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2">
                            <fieldset class="repeating_spaceship-modules">
                                <table class="table-graphic">
                                    <tr class="bb">
                                        <td class="table-light">
                                            <input type="text" name="attr_spaceship-module" >
                                        </td>
                                        <td class="table-graphic borders">
                                            <p class="flex-top checkbox-custom">
                                                <input type="checkbox" name="attr_disabled" value="1"><span></span>
                                            </p>
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                    <tr class="table-invis2 table-graphic">
                        <td>
                            <h2 data-i18n="sheet-spaceship-modules-maximum">Maximum number of modules</h2>
                        </td>
                        <td>
                            <input type="number" style="float: right;" name="attr_spaceship-modules-max" value="0">
                        </td>
                    </tr>
                </table>
            </td>
            <td valign="top">
                <table class="table-thin table-graphic">
                    <tr>
                        <td class="table-dark">
                            <h1 data-i18n="sheet-spaceship-energypoints">Energy Points</h1>
                    	</td>
                	</tr>
                    <tr>
                         <td class="bb" colspan="2" align="center" valign="center">
                            <p class="flex-top checkbox-custom">
                                <input type="checkbox" name="attr_ep1" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep2" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep3" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep4" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep5" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep6" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep7" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep8" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep9" class="cb-small" value="1"><span></span>
                                <input type="checkbox" name="attr_ep10" class="cb-small" value="1"><span></span>
                            </p>
                        </td>
                    </tr>
                </table>
                <table class="table-thin table-graphic">
                    <tr class="table-dark bb">
                        <td>
                            <h1 data-i18n="sheet-spaceship-hullpoints">Hull points</h1>
                        </td>
                	</tr>
					<tr>
					<td class="table-graphic" align="center"valign="center">
						<p class="flex-top checkbox-custom">
							<input type="checkbox" class="cb-small" name="attr_space-hp1" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp2" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp3" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp4" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp5" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp6" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp7" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp8" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp9" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp10" value="1"><span></span>
						</p>
					</td>
				</tr>
				<tr>
					<td class="table-graphic" align="center"valign="center">
						<p class="flex-top checkbox-custom">
							<input type="checkbox" class="cb-small" name="attr_space-hp11" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp12" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp13" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp14" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp15" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp16" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp17" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp18" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp19" value="1"><span></span>
							<input type="checkbox" class="cb-small" name="attr_space-hp20" value="1"><span></span>
						</p>
					</td>
				</tr>

                    <tr>
                        <td class="table-light bb">
                            <h3 data-i18n="sheet-spaceship-hullpoints-criticaldamage">Critical Damage</h3>
                            <fieldset class="repeating_spaceship-crits">
                                <table>
                                    <tr class="bb">
                                        <td>
                                            <input type="text" name="attr_spaceship-crit-damage">
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                </table>
                <table class="table-thin">
                    <tr class="table-dark">
                        <td>
                            <h1 data-i18n="sheet-spaceship-features">Features</h1>
                    	</td>
                        <td align="right">
                            <h5 data-i18n="sheet-spaceship-features-bonus">Bonus</h5>
                        </td>
                	</tr>
                    <tr class="table-light">
                        <td colspan="2">
                            <fieldset class="repeating_spaceship-features">
                                <table>
                                    <tr class="bb">
                                        <td>
                                            <input type="text" name="attr_spaceship-features-name">
                                        </td>
                                        <td style="float: right;">
                                            <input type="number" name="attr_spaceship-features-bonus" value="0">
                                        </td>
                                    </tr>
                                </table>
                            </fieldset>
                        </td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table class="table-widest ti" >
        <tr align="center" valign="center">
            <td align="right" valign="center">
                <table class="table-thin">
                    <tr class="table-dark">
                        <td class="bl"><h1 data-i18n="sheet-spaceship-captain">Captain</h1></td>
                        <td><h4 data-i18n="sheet-spaceship-skilllevel">Skill Level</h4></td>
                    </tr>
                    <tr class="table-light">
                        <td class="bl"><input type="text" name="attr_role-captain"></td>
                        <td style="float: right;"><input type="number" name="attr_captainskill" value="0"></td>
                    </tr>
                </table>
            </td>
            <td align="left" valign="center">
                <table class="table-thin">
                    <tr class="table-dark">
                        <td class="bl"><h1 data-i18n="sheet-spaceship-pilot">Pilot</h1></td>
                        <td><h4 data-i18n="sheet-spaceship-skilllevel">Skill Level</h4></td>
                    </tr>
                    <tr class="table-light">
                        <td class="bl"><input type="text" name="attr_role-pilot"></td>
                        <td style="float: right;"><input type="number" name="attr_pilotskill" value="0"></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table class="table-widest ti">
        <tr>
            <td>
                <table class="table-thin">
                    <tr class="table-dark">
                        <td class="bl"><h1 data-i18n="sheet-spaceship-sensoroperator">Sensor Operator</h1></td>
                        <td><h4 data-i18n="sheet-spaceship-skilllevel">Skill Level</h4></td>
                    </tr>
                    <tr class="table-light">
                        <td class="bl"><input type="text" name="attr_role-sensoroperator"></td>
                        <td style="float: right;"><input type="number" name="attr_sensoroperatorskill" value="0"></td>
                    </tr>
                </table>
            </td>
            <td>
                <table class="table-thin">
                    <tr class="table-dark">
                        <td class="bl"><h1 data-i18n="sheet-spaceship-gunner">Gunner</h1></td>
                        <td style="float: right;"><h4 data-i18n="sheet-spaceship-skilllevel">Skill Level</h4></td>
                    </tr>
                    <tr class="table-light">
                        <td class="bl"><input type="text" name="attr_role-gunner"></td>
                        <td style="float: right;"><input type="number" name="attr_gunnerskill" value="0"></td>
                    </tr>
                </table>
            </td>
            <td>
                <table class="table-thin">
                    <tr class="table-dark">
                        <td class="bl"><h1 data-i18n="sheet-spaceship-engineer">Engineer</h1></td>
                        <td><h4 data-i18n="sheet-spaceship-skilllevel">Skill Level</h4></td>
                    </tr>
                    <tr class="table-light">
                        <td class="bl"><input type="text" name="attr_role-engineer"></td>
                        <td style="float: right;"><input type="number" name="attr_engineerskill" value="0"></td>
                    </tr>
                </table>
            </td>
        </tr>
    </table>
    <table class="table-widest ship-weapons">
        <tr class="table-dark">
            <td>
                <h1 data-i18n="sheet-spaceship-weapons">Weapons</h1>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceship-weapons-bonus">Bonus</h4>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceship-weapons-damage">Damage</h4>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceship-weapons-crit">Crit</h4>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceship-weapons-range">Range</h4>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceship-weapons-comments">Comments</h4>
            </td>
    	</tr>
        <tr class="table-light">
            <td colspan="6">
                <fieldset class="repeating_spaceship-weapons">
                    <table>
                        <tr>
                            <td class="borders">
                                <input type="text" name="attr_spaceship-weaponsystem">
                            </td>
                            <td style="text-align: center;" class="borders">
                                <input type="number" name="attr_spaceship-weaponsystem-bonus" value="0">
                            </td>
                            <td style="text-align: center;" class="borders">
                                <input type="number" name="attr_spaceship-weaponsystem-damage" value="0">
                            </td>
                            <td style="text-align: center;" class="borders">
                                <input type="number" name="attr_spaceship-weaponsystem-crit" value="0">
                            </td>
                            <td class="borders">
                                <input type="text" name="attr_spaceship-weaponsystem-range">
                            </td>
                            <td class="borders">
                                <input type="text" name="attr_spaceship-weaponsystem-comments">
                            </td>
                        </tr>
                    </table>
                </fieldset>
            </td>
        </tr>
    </table>
</div>

<!--    *************************   Spaceship Notes *************************   -->
<div class="spaceshipnotes">
    <div class="header"> <!-- Header -->
        <br><span data-i18n="sheet-spaceshipnotes-title-u">SPACESHIP NOTES</span><br><br>
        <img src="https://i.imgur.com/bwY1i2A.png" alt="Logo">
    </div> <!-- End Header -->

    <table class="table-widest ship-logs">
        <tr class="table-dark">
            <td>
                <h1 data-i18n="sheet-spaceshipnotes-log">Ship"s Log</h1>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceshipnotes-log-segment">CC/Segment</h4>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceshipnotes-log-route">Route</h4>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceshipnotes-log-danger">Danger</h4>
            </td>
            <td>
                <h4 data-i18n="sheet-spaceshipnotes-log-notes">Notes</h4>
            </td>
    	</tr>
        <tr class="table-light">
            <td colspan="5">
                <fieldset class="repeating_logs">
                    <table>
                        <tr>
                            <td class="bb">
                                <input type="text" name="attr_spaceship-logs" value= "Destination">
                            </td>
                            <td class="bl bb">
                                <input type="text" name="attr_spaceship-logs-segment">
                            </td>
                            <td class="bl bb">
                                <input type="text" name="attr_spaceship-logs-route">
                            </td>
                            <td class="bl bb">
                                <input type="text" name="attr_spaceship-logs-danger">
                            </td>
                            <td class="bl bb">
                                <input type="text" name="attr_spaceship-logs-notes">
                            </td>
                        </tr>
                    </table>
                </fieldset>
            </td>
        </tr>
    </table>

    <table class="table-widest ship-logs">
        <tr class="table-dark">
            <td>
                <h1 data-i18n="sheet-spaceshipnotes-cargo">Cargo and Gear</h1>
            </td>
        </tr>
            <tr class="table-light bb">
                <td>
                <textarea class="textbox" name="attr_cargo" style="min-height: 3em; height: 3em; min-width: 810px; max-width: 810px;"></textarea>
                </td>
            </tr>
    </table>
</div>

<!--    *************************   Hidden test  *************************   -->
<div class="scripts">
  <rolltemplate class="sheet-rolltemplate-coriolis">
    <table class="sheet-skill-roll">
    	<tr>
			<th>
				{{name}}
			</th>
		</tr>

	    {{#isNotAdvanced}}
	        {{#rollLess() pool 1}}
        		<tr class="sheet-reroll">
        		    <td><span data-i18n="rolltemplate-dice-pool">Dice pool is 0 or less.<br> Rolling 2d6 instead.</span></td>
        		</tr>

            	{{#rollLess() reroll 2}}
        			<tr class="sheet-fail">
        				<td><span class="sheet-roll">{{reroll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-fail">Failure.</span></td>
        			</tr>
        		{{/rollLess() reroll 2}}

        		{{#rollGreater() reroll 1}}
        				<tr class="sheet-great-success">
        				<td><span class="sheet-roll">{{reroll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-limitedsuccess">Limited Success.</span></td>
        				</tr>
        		{{/rollGreater() reroll 1}}
    	    {{/rollLess() pool 1}}

    	    {{#rollGreater() pool 0}}
        		{{#rollLess() roll 1}}
        				<tr class="sheet-fail">
        					<td><span class="sheet-roll">{{roll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-fail">Failure.</span></td>
        				</tr>
        	    {{/rollLess() roll 1}}

        	    {{#rollBetween() roll 1 2}}
        				<tr class="sheet-success">
        					<td><span class="sheet-roll">{{roll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-limitedsuccess">Limited Success.</span></td>
        				</tr>
        	    {{/rollBetween() roll 1 2}}

        	    {{#rollGreater() roll 2}}
        				<tr class="sheet-great-success">
        					<td><span class="sheet-roll">{{roll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-criticalsuccess">Critical Success.</span></td>
        				</tr>
        	    {{/rollGreater() roll 2}}
    		{{/rollGreater() pool 0}}
	    {{/isNotAdvanced}}

	    {{#isAdvanced}}
    		{{#rollLess() advanced-skill 1}}
              <tr class="sheet-reroll">
                  <td data-i18n="rolltemplate-autofail">Missing skill point in advanced skill. Automatic fail.</td>
              </tr>
            {{/rollLess() advanced-skill 1}}

            {{#rollGreater() advanced-skill 0}}
                {{#rollLess() pool 1}}
            		<tr class="sheet-reroll">
            		    <td><span data-i18n="rolltemplate-dice-pool">Dice pool is 0 or less.<br> Rolling 2d6 instead.</span></td>
            		</tr>

                	{{#rollLess() reroll 2}}
            			<tr class="sheet-fail">
            				<td><span class="sheet-roll">{{reroll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-fail">Failure.</span></td>
            			</tr>
            		{{/rollLess() reroll 2}}

            		{{#rollGreater() reroll 1}}
            				<tr class="sheet-great-success">
            				<td><span class="sheet-roll">{{reroll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-limitedsuccess">Limited Success.</span></td>
            				</tr>
            		{{/rollGreater() reroll 1}}
        	    {{/rollLess() pool 1}}

        	    {{#rollGreater() pool 0}}
            		{{#rollLess() roll 1}}
            				<tr class="sheet-fail">
            					<td><span class="sheet-roll">{{roll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-fail">Failure.</span></td>
            				</tr>
            	    {{/rollLess() roll 1}}

            	    {{#rollBetween() roll 1 2}}
            				<tr class="sheet-success">
            					<td><span class="sheet-roll">{{roll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-limitedsuccess">Limited Success.</span></td>
            				</tr>
            	    {{/rollBetween() roll 1 2}}

            	    {{#rollGreater() roll 2}}
            				<tr class="sheet-great-success">
            					<td><span class="sheet-roll">{{roll}}</span><span style="padding-left: 20px" data-i18n="rolltemplate-criticalsuccess">Critical Success.</span></td>
            				</tr>
            	    {{/rollGreater() roll 2}}
        		{{/rollGreater() pool 0}}
            {{/rollGreater() advanced-skill 0}}
        {{/isAdvanced}}

    </table>
  </rolltemplate>
</div>

<!--    *************************   WORKERS  *************************   -->
<script type="text/worker">

    on("sheet:opened", function() {
        console.log("! Coriolis Third Horizon Character Sheet 2.0 by Nicolaj G.")
        console.log("! Script: Sheet Opened")
        versioning();
    });

    on("change:strength change:agility", function() {
        update_hitpoints("strength", "agility");
    });

    on("change:wits change:empathy", function() {
        update_mindpoints("wits", "empathy");
    });

    var versioning = function() {
        console.log("Version Checking...")
        getAttrs(["version"], function(v) {
            if(v.version == undefined || v.version == "") {
                console.log("UPGRADING TO Coriolis v2.0 by Nicolaj G.");

                upgrade_to_2_0()
                setAttrs({version: 2.0});
            }
            else {
                console.log("Coriolis Updated by Nicolaj G. v2.0");
                return;
            }
        });
    };

    var upgrade_to_2_0 = function() {

        update_number("pc", "sheetstyle");
        update_number("sty", "strength");
        update_number("kyl", "agility");
        update_number("skp", "wits");
        update_number("kns", "empathy");
        update_number("rorlighet", "dexterity");
        update_number("befal", "command");
        update_number("kraftprov", "force");
        update_number("horisontens_kultur", "culture");
        update_number("smyga", "infiltration");
        update_number("datadjinn", "datadjinn");
        update_number("manipulera", "manipulation");
        update_number("medikurgi", "medicurgy");
        update_number("narkamp", "melee-combat");
        update_number("mystiska_krafter", "mystic-powers");
        update_number("spaning", "observation");
        update_number("pilot", "pilot");
        update_number("skjutvape", "ranged-combat");
        update_number("vetenskap", "science");
        update_number("overlevnad", "survival");
        update_number("rustning_skydd", "armor_rating");
        update_number("skepp-manoverformaga", "spaceship-maneuverability");
        update_number("skepp-signatur", "spaceship-signature");
        update_number("skepp-hastighet", "spaceship-speed");
        update_number("skepp-pansar", "spaceship-armor");
        update_number("skepp-max-modulerderp", "spaceship-modules-max");
        update_number("captainnum", "captainskill");
        update_number("pilotnum", "pilotskill");
        update_number("sensoroperatornum", "sensoroperatorskill");
        update_number("gunnernum", "gunnerskill");
        update_number("engineernum", "engineerskill");
        update_number("teknologi", "technology");
        update_number("teknologi", "technology");
        update_number("teknologi", "technology");
        update_number("teknologi", "technology");
        update_number("teknologi", "technology");
        update_number("teknologi", "technology");

        update_text("namn", "name");
        update_text("bakgrund", "background");
        update_text("koncept", "concept");
        update_text("ikon", "icon");
        update_text("gruppkoncept", "groupconcept");
        update_text("pers_problem", "personal_problem");
        update_text("anseende", "reputation");
        update_text("ansikte", "face");
        update_text("rustning", "armor");
        update_text("rustning_ovrigt", "armor_comments");
        update_text("skepp-namn", "spaceship-name");
        update_text("skepp-typ", "spaceship-type");
        update_text("skepp-varv", "spaceship-yard");
        update_text("skepp-problem", "spaceship-problem");
        update_text("captain", "captain");
        update_text("sensoroperator", "sensoroperator");
        update_text("gunner", "gunner");
        update_text("engineer", "engineer");
        update_text("kladsel", "clothing");

        update_checkbox("trauma", "hitpoints-check", 12)
        update_checkbox("mind", "mindpoints-check", 12)
        update_checkbox("stp", "rad", 10)
        update_checkbox("erf", "exp", 20)
        update_checkbox("skepp-energi", "ep", 10)
        update_checkbox("skepp-kp", "space-hp", 20)

        update_repeating("repeating_krits", "repeating_crits", "krit-skador", "crit-injury");
        update_repeating("repeating_relations", "repeating_relationships", "relation", "relationship");
        update_repeating("repeating_talanger", "repeating_talents", "talang", "talent");
        update_repeating("repeating_skepp-krits", "repeating_spaceship-crits", "skepp-krit-skador", "spaceship-crit-damage");
        update_repeating("repeating_utrustning", "repeating_gear", "utrustning", "gear", "utrustning_bonus", "gear_bonus");
        update_repeating("repeating_skepp-tillval", "repeating_spaceship-features", "skepp-tillvalsnamn", "spaceship-features-name", "skepp-tillval-bonus", "spaceship-features-bonus"); //2

        update_hitpoints("strength", "agility");
        update_mindpoints("wits", "empathy");

        update_weapons();
        update_spaceship_module();
        update_spaceship_weaponsystem();
     };

    var update_text = function(oldAttribute, newAttribute) {
        console.log("Updating Text from: " + oldAttribute + " to: " + newAttribute);

        getAttrs([oldAttribute], function(v) {
            if(v[oldAttribute]) {
                var update = {};
                update[newAttribute] = v[oldAttribute];
                setAttrs(update, {silent: true});
            }
        });
    }

    var update_number = function(oldAttribute, newAttribute) {
        console.log("Updating number from: " + oldAttribute + " to: " + newAttribute);

        getAttrs([oldAttribute], function(v) {
            if(v[oldAttribute]) {
                var update = {};
                update[newAttribute] = parseInt(v[oldAttribute], 10);
                setAttrs(update, {silent: true});
            }
        });
    }

    var update_checkbox = function(oldAttribute, newAttribute, numberOfAttributes) {
        console.log("Updating checkbox from: " + oldAttribute + " to: " + newAttribute);
        var array = [];

        for(var i = 1; i <= numberOfAttributes; i++) {
            array.push(oldAttribute + i);
        }

        getAttrs(array, function(v) {
            for(var i = 1; i <= numberOfAttributes; i++) {
                var update = {};

                if( isNaN(parseInt(v[oldAttribute + i], 10)) ) {
                    update[newAttribute + i] = 0;
                    console.log(oldAttribute + i + " Is NaN. Updating " + newAttribute + i + " with 0")
                    setAttrs(update, {silent: true});
                }
                else {
                    update[newAttribute + i] = 1;
                    console.log(oldAttribute + i + " Is aN. Updating " + newAttribute + i + " with 1")
                    setAttrs(update, {silent: true});
                }
            }
        });
    }

    var update_repeating = function(oldRepeating, newRepeating, oldField1, newField1, oldField2, newField2) {
        console.log("Updating repeating from: " + oldRepeating + " to: " + newRepeating);

        getSectionIDs(oldRepeating, function(idArray) {
            if(!oldField2) {
                var update={};
                _.each(idArray, function(currentID) {
                    getAttrs([oldRepeating + "_" + currentID + "_" + oldField1], function(v) {
                        if(v[oldRepeating + "_" + currentID + "_" + oldField1]) {
                            var newrowid = generateRowID();
                            update[newRepeating + "_" + newrowid + "_" + newField1] = v[oldRepeating + "_" + currentID + "_" + oldField1];
                            setAttrs(update);
                        }
                    });
                });
            }

            if(oldField2) {
                var update={};
                _.each(idArray, function(currentID) {
                    getAttrs([oldRepeating + "_" + currentID + "_" + oldField1, oldRepeating + "_" + currentID + "_" + oldField2], function(v) {
                        if(v[oldRepeating + "_" + currentID + "_" + oldField1]) {
                            var newrowid = generateRowID();
                            update[newRepeating + "_" + newrowid + "_" + newField1] = v[oldRepeating + "_" + currentID + "_" + oldField1];
                            setAttrs(update);

                            if(v[oldRepeating + "_" + currentID + "_" + oldField2]) {
                                update[newRepeating + "_" + newrowid + "_" + newField2] = v[oldRepeating + "_" + currentID + "_" + oldField2];
                                setAttrs(update);
                            }
                        }
                    });
                });
            }
        });
    }

    //weapon, weapon_bonus, weapon_init, weapon_damage, weapon_crit, weapon_range, weapon_comments
    var update_weapons = function() {
        console.log("Updating repeating from: repeating_vapen to: repeating_weapon");
        getSectionIDs("repeating_vapen", function(idarray) {
            var update={};
            _.each(idarray, function(currentID) {
                getAttrs(["repeating_vapen" + "_" + currentID + "_" + "vapen", "repeating_vapen" + "_" + currentID + "_" + "vapen_bonus", "repeating_vapen" + "_" + currentID + "_" + "vapen_init", "repeating_vapen" + "_" + currentID + "_" + "vapen_skada", "repeating_vapen" + "_" + currentID + "_" + "vapen_krit", "repeating_vapen" + "_" + currentID + "_" + "vapen_rackvidd", "repeating_vapen" + "_" + currentID + "_" + "vapen_ovrigt", "repeating_vapen" + "_" + currentID + "_" + "reload1", "repeating_vapen" + "_" + currentID + "_" + "reload2", "repeating_vapen" + "_" + currentID + "_" + "reload3", "repeating_vapen" + "_" + currentID + "_" + "reload4", "repeating_vapen" + "_" + currentID + "_" + "reload5", "repeating_vapen" + "_" + currentID + "_" + "reload6"], function(v) {
                    var newrowid = generateRowID();
                    if(v["repeating_vapen" + "_" + currentID + "_" + "vapen"]) {
                        update["repeating_weapon" + "_" + newrowid + "_" + "weapon"] = v["repeating_vapen" + "_" + currentID + "_" + "vapen"];
                        setAttrs(update);
                        update["repeating_weapon" + "_" + newrowid + "_" + "weapon_bonus"] = v["repeating_vapen" + "_" + currentID + "_" + "vapen_bonus"];
                        setAttrs(update);
                        update["repeating_weapon" + "_" + newrowid + "_" + "weapon_init"] = v["repeating_vapen" + "_" + currentID + "_" + "vapen_init"];
                        setAttrs(update);
                        update["repeating_weapon" + "_" + newrowid + "_" + "weapon_damage"] = v["repeating_vapen" + "_" + currentID + "_" + "vapen_skada"];
                        setAttrs(update);
                        update["repeating_weapon" + "_" + newrowid + "_" + "weapon_crit"] = v["repeating_vapen" + "_" + currentID + "_" + "vapen_krit"];
                        setAttrs(update);
                        update["repeating_weapon" + "_" + newrowid + "_" + "weapon_range"] = v["repeating_vapen" + "_" + currentID + "_" + "vapen_rackvidd"];
                        setAttrs(update);
                        update["repeating_weapon" + "_" + newrowid + "_" + "weapon_comments"] = v["repeating_vapen" + "_" + currentID + "_" + "vapen_ovrigt"];
                        setAttrs(update);

                        for(var i = 1; i <= 6; i++) {
                            if( isNaN(parseInt(v["repeating_vapen" + "_" + currentID + "_" + "reload" + i],10)) ) {
                                update["repeating_weapon" + "_" + newrowid + "_" + "reload" + i] = 0;
                                setAttrs(update, {silent: true});
                            }
                            else {
                                update["repeating_weapon" + "_" + newrowid + "_" + "reload" + i] = 1;
                                setAttrs(update, {silent: true});
                            }
                        }
                    }
                });
            });
        });
    }

    //spaceship_module
    var update_spaceship_module = function() {
        console.log("Updating repeating from: repeating_skeppsmoduler to: repeating_spaceship-modules");
        getSectionIDs("repeating_skeppsmoduler", function(idarray) {
            var update={};
            _.each(idarray, function(currentID) {
                getAttrs(["repeating_skeppsmoduler" + "_" + currentID + "_" + "skeppsmodul", "repeating_skeppsmoduler" + "_" + currentID + "_" + "utslagen"], function(v) {
                    var newrowid = generateRowID();
                    if(v["repeating_skeppsmoduler" + "_" + currentID + "_" + "skeppsmodul"]) {
                        update["repeating_spaceship-modules" + "_" + newrowid + "_" + "spaceship-module"] = v["repeating_skeppsmoduler" + "_" + currentID + "_" + "skeppsmodul"];
                        setAttrs(update);

                        if( isNaN(parseInt(v["repeating_skeppsmoduler" + "_" + currentID + "_" + "utslagen"],10)) ) {
                            update["repeating_spaceship-modules" + "_" + newrowid + "_" + "disabled"] = 0;
                            setAttrs(update, {silent: true});
                        }
                        else if(parseInt(v["repeating_skeppsmoduler" + "_" + currentID + "_" + "utslagen"],10) === 0) { // Checking for 0, since original sheet set this value to 0 if checked
                            update["repeating_spaceship-modules" + "_" + newrowid + "_" + "disabled"] = 1;
                            setAttrs(update, {silent: true});
                        }
                    }
                });
            });
        });
    }

    //spaceship-weaponsystem, spaceship-weaponsystem-bonus, spaceship-weaponsystem-damage, spaceship-weaponsystem-crit, spaceship-weaponsystem-range, spaceship-weaponsystem-comments
    var update_spaceship_weaponsystem = function() {
    console.log("Updating repeating from: repeating_skepp-vapen to: repeating_spaceship-weapons");
    getSectionIDs("repeating_skepp-vapen", function(idarray) {
            var update={};
            _.each(idarray, function(currentID) {
                getAttrs(["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem", "repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-bonus", "repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-r&auml;ckvidd", "repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-skada", "repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-krit", "repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-ovrigt"], function(v) {
                    var newrowid = generateRowID();
                    if(v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem"]) {
                            update["repeating_spaceship-weapons" + "_" + newrowid + "_" + "spaceship-weaponsystem"] = v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem"];
                            setAttrs(update);
                        if(v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-bonus"]) {
                            update["repeating_spaceship-weapons" + "_" + newrowid + "_" + "spaceship-weaponsystem-bonus"] = v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-bonus"];
                            setAttrs(update);
                        }
                        if(v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-skada"]) {
                            update["repeating_spaceship-weapons" + "_" + newrowid + "_" + "spaceship-weaponsystem-damage"] = v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-skada"];
                            setAttrs(update);
                        }
                        if(v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-krit"]) {
                            update["repeating_spaceship-weapons" + "_" + newrowid + "_" + "spaceship-weaponsystem-crit"] = v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-krit"];
                            setAttrs(update);
                        }
                        if(v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-r&auml;ckvidd"]) {
                            update["repeating_spaceship-weapons" + "_" + newrowid + "_" + "spaceship-weaponsystem-range"] = v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-r&auml;ckvidd"];
                            setAttrs(update);
                        }
                        if(v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-ovrigt"]) {
                            update["repeating_spaceship-weapons" + "_" + newrowid + "_" + "spaceship-weaponsystem-comments"] = v["repeating_skepp-vapen" + "_" + currentID + "_" + "skepp-vapensystem-ovrigt"];
                            setAttrs(update);
                        }
                    }
                });
            });
        });
    }

    var update_hitpoints = function(par_Strength, par_Agility) {
        console.log("Updating hitpoints");
            getAttrs([par_Strength, par_Agility], function(v) {
                setAttrs({
                    "hitpoints": parseInt(v[par_Strength],10) + parseInt(v[par_Agility],10)
                });
            });
    }

    var update_mindpoints = function(par_Wits, par_Empathy) {
        console.log("Updating mindpoints");
            getAttrs([par_Wits, par_Empathy], function(v) {
                setAttrs({
                    "mindpoints": parseInt(v[par_Wits],10) + parseInt(v[par_Empathy],10)
                });
            });
    }

</script>

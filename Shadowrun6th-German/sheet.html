<!-- DO NOT USE RADIO BUTTONS IN REPEATING SECTIONS -->


<div class="wholedocument"> <!-- WIL max 12, KON max 14 + Robust gebaut 4 -->
    <div class="header">
        <div class="header-row">
            <div class="header-fullcell">
                <h4><span data-i18n="title_condition_monitors">Zustandsmonitor und Wundabzüge</span></h4>
            </div>
            <div class="header-shortcell">
                <div class="center">
                    <h4><span data-i18n="title_edge">Edge</span></h4>
                </div>
            </div>
            <div class="header-hugecell">
                <div class="center">
                    <h4><span data-i18n="title_generics_rolls">Generische Würfelwürfe</span></h4>
                </div>
            </div>
        </div>
        <div class="header-row">
            <div class="header-fullcell"> <!-- das ist eine Tabellenzelle, da hinein muss eine neue Tabelle -->
                <div class="innertable">
                    <div class="table-row">
                        <div class="table-cell-huge-center">
                            <h6><span data-i18n="title_stun">geistig</span></h6>
                            <input class="smallinput" type="number" name="attr_wounds_stun_base" value="0" placeholder="0" title="wounds_stun_base" max="0" readonly/>
                        </div>
                        <div class="table-cell-huge-center">
                            <h6><span data-i18n="title_physical">körperlich</span></h6>
                            <input class="smallinput" type="number" name="attr_wounds_phys_base" value="0" placeholder="0" title="wounds_phys_base" max="0" readonly/>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell-huge-center"> <!-- erneut innere Tabelle für Zentrierung erforderlich -->
                            <div class="header-centered">
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_1_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_1" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_1">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_2_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_2" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_2">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_3_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_3" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_3">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">        
                                    <input class="toggle-hide" name="attr_stun_4_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_4" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_4">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_5_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_5" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_5">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_6_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_6" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_6">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_7_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_7" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_7">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_8_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_8" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_8">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_9_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_9" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_9">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_10_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_10" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_10">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_11_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_11" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_11">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_12_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_12" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_12">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_13_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_13" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_13">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_14_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_14" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_14">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                     <input class="toggle-hide" name="attr_stun_15_hide" type="checkbox" value="1"/>
                                     <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_15" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_15">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_stun_16_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_16" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_stun_toggle_16">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_17_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_17" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_17">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_stun_18_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_stun_18" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_stun_toggle_18">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                            </div>
                        </div>
                        <div class="table-cell-huge-center">
                            <div class="header-centered">
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_1_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_1" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_1">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_2_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_2" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_2">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_3_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_3" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_3">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">        
                                    <input class="toggle-hide" name="attr_phys_4_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_4" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_4">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_5_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_5" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_5">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_6_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_6" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_6">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_7_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_7" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_7">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_8_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_8" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_8">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_9_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_9" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_9">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_10_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_10" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_10">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_11_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_11" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_11">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_12_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_12" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_12">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_13_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_13" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_13">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_14_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_14" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_14">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                     <input class="toggle-hide" name="attr_phys_15_hide" type="checkbox" value="1"/>
                                     <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_15" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_15">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_16_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_16" value="unchecked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_16">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_17_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_17" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_17">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                    <input class="toggle-hide" name="attr_phys_18_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_18" value="unchecked" />
                                        <button class="healthbutton" type="action" name="act_phys_toggle_18">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button><br>
                                    </div>
                                </div>
                                <div class="header-row">
                                    <input class="toggle-hide" name="attr_phys_19_hide" type="checkbox" value="1"/>
                                    <div class="inline conditionmonitorbutton">
                                        <input type="hidden" class="direction" name="attr_phys_19" value="unchecked" />
                                        <input type="hidden" class="direction" name="attr_phys_19" value="checked" />
                                        <button class="healthbutton-startofblock" type="action" name="act_phys_toggle_19">
                                            <span class="checked">✗</span>
                                            <span class="unchecked">&nbsp;&nbsp;</span>
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="header-shortcell">
                <div class="whiteborder">
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_0" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <span class="cyberberry center" data-i18n="noedge">Du hast kein Edge.</span>
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_1" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_2" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_3" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_4" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_5" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_6" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="toggle-hide toggle-hide-edge" name="attr_edge_7" type="checkbox" value="1"/>
                    <div class="inline edgetoken">
                        <img src="https://i.imgur.com/vNh5DtX.png" height="20" width="20" />
                    </div>
                    <input class="hide smallinput" type="number" name="attr_edge_current" value="0" placeholder="0" title="edge_current"/>
                </div>
                <div class="inline">
                    <button class="edgebutton" type="action" name="act_edge_plus_two">+2 <span data-i18n="edge">Edge</span></button>
                    <button class="edgebutton" type="action" name="act_edge_plus_one">+1 <span data-i18n="edge">Edge</span></button>
                    <button class="edgebutton" type="action" name="act_edge_minus_one">-1 <span data-i18n="edge">Edge</span></button>
                    <button class="edgebutton" type="action" name="act_edge_minus_two">-2 <span data-i18n="edge">Edge</span></button>
                    <button class="edgebutton" type="action" name="act_edge_minus_three">-3 <span data-i18n="edge">Edge</span></button>
                    <button class="edgebutton" type="action" name="act_edge_minus_four">-4 <span data-i18n="edge">Edge</span></button>
                    <button class="edgebutton" type="action" name="act_edge_minus_five">-5 <span data-i18n="edge">Edge</span></button>
                    <button class="edgebutton" type="action" name="act_edge_reset"><span data-i18n="endscene">Szenenende</span></button>
                </div>
            </div>
            <div class="header-fullcell">
                <div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="offense" value="@{gm_toggle} &{template:roll}{{mainattribute=^{offense}}}{{weaponname=?{Name|@{personal_mainweapon}}}}{{attackrating=[[?{Angriffswert|@{personal_attackrating}}]]}}{{damage=[[?{Schadenscode|@{personal_damagecode}}]]}}{{dice=[[(?{Würfelpool|@{personal_attack_dicepool}}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="offense">Angriff</span>
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="defense" value="@{gm_toggle} &{template:roll}{{mainattribute=^{defense}}}{{defenserating=[[?{Verteidigungswert|@{personal_defenserating}}]]}}{{dice=[[(?{Würfelpool|@{personal_defensepool}}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="defense">Verteidigung</span>
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="soak" value="@{gm_toggle} &{template:roll}{{mainattribute=^{soak}}}{{soaksuccess=[[?{Autoerfolge|@{personal_autosoak}}]]}}{{dice=[[(?{Würfelpool|@{personal_soakpool}}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="soak">Schadenswiderstand</span>
                </button> 
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="initiative" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{initiative}}}{{dice=[[(?{Initiativebasis|@{display_ini}}+@{use_wounds}+@{sustain_malus})+?{Initiativewürfel|@{display_inidice}}d6cs>7cf<0 &{tracker}]]}}">
                    <span class="cyberberry" data-i18n="initiative">Initiative</span>
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <button class="shortcutbutton" type="roll" name="initiative" value="@{gm_toggle} &{template:roll}{{mainattribute=^{attributeorskill}}}{{weaponname=?{Was würfelst du?|@{personal_skilldesc}}}}{{dice=[[(?{Würfelpool|@{personal_dicepool}}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="cyberberry" data-i18n="attributeorskill">Attributs- oder Fertigkeitswurf</span>
                </button>
            </div>
        </div>
        <div class="header-row">
            <div class="header-fullcell">
                &nbsp;
            </div>
            <div class="header-shortcell">
                <div class="center">
                    <h4><span data-i18n="titre_options">Optionen</span></h4>
                </div>
            </div>
            <div class="header-fullcell">
                <div class="center">
                    <h4><span data-i18n="title_condition_monitors">Handlungsmonitor</span></h4>
                </div>
            </div>
        </div>
        <div class="header-row">
            <div class="header-fullcell">
                <div class="table-row">
                    <input class="smallinput" type="number" name="attr_wounds_mod" value="0" placeholder="0" title="wounds_phys_base"/>
                    <span class="cyberberry-normal" data-i18n="mod">Modifikator (Wundabzüge)</span>
                </div>
                <div class="table-row">
                    <input class="smallinput" type="number" name="attr_wounds_total" value="0" placeholder="0" title="wounds_phys_base" readonly/>
                    <h6><span data-i18n="title_total_wounds">Gesamtwert (Wundabzüge)</span></h6>
                </div>
                <div class="table-row">
                    <input class="smallinput" type="number" name="attr_overflow" value="0" placeholder="0" title="wounds_phys_base"/>
                    <h6><span data-i18n="title_overflow">Überzähliger Schaden</span></h6>
                </div>
            </div>
            <div class="header-shortcell">
                <label class="switch" data-i18n-title="gm_whisper" title="GM-Roll y/n">
                    <input name="attr_gm_toggle" type="checkbox" value="/w gm"/>
                    <span class="slider">&nbsp;</span>
                </label>
                <div class="slider-label" data-i18n="title_gm_roll">Würfe an Spielleiter</span></div><br>
                <label class="switch" data-i18n-title="mod_roll" title="Modify y/n">
                    <input name="attr_mod_roll" type="checkbox" value="?{Modifier|0}"/>
                    <span class="slider">&nbsp;</span>
                </label>
                <div class="slider-label"><span data-i18n="sample_modifiers">Probenmodifikatoren</span></div><br>
                <label class="switch" data-i18n-title="use_wounds" title="Wounds Penalties y/n">
                    <input name="attr_use_wounds" type="checkbox" value="@{wounds_total}"/>
                    <span class="slider">&nbsp;</span>
                </label>
                <div class="slider-label"><span data-i18n="apply_wounds">Appliquer les blessures</span></div><br>
                <label class="switch" data-i18n-title="exploding_dice" title="Exploding dice y/n">
                    <input name="attr_explode_toggle" type="checkbox" value="!"/>
                    <span class="slider">&nbsp;</span>
                </label>
                <input type="hidden" name="attr_exploding_dice" value=""/>
                <div class="slider-label"><span data-i18n="title_exploding_dice">explodierende Würfel</span></div><br>
            </div>
            <div class="header-fullcell">
                <div class="smallspacer">&nbsp;</div>
                <input class="smallinput" type="number" name="attr_minor_action_count" value="0" placeholder="0" title="minor_actions_count" min="2" max="5"/>
                <h6>Nebenhandlungen</h6>
                <button class="resetbutton" type="action" name="act_reset_action_count">
                    Zurücksetzen
                </button>
                <br><div class="smallspacer">&nbsp;</div>
                <input class="toggle-hide" name="attr_major_1_show" type="checkbox" value="1"/>
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_major_1" value="unstruck" />
                    <button class="actionbutton" type="action" name="act_major_1_toggle">
                        <span class="unstruck">Haupthandlung #1</span>
                        <span class="struck">Haupthandlung #1</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_major_2_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_major_2" value="unstruck" />
                    <button class="actionbutton" type="action" name="act_major_2_toggle">
                        <span class="unstruck">Haupthandlung #2</span>
                        <span class="struck">Haupthandlung #2</span>
                    </button>
                </div>
                <br><div class="smallspacer">&nbsp;</div>
                <input class="toggle-hide" name="attr_minor_1_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_1" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_1_toggle">
                        <span class="unstruck">Neben 1</span>
                        <span class="struck">Neben 1</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_2_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_2" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_2_toggle">
                        <span class="unstruck">Neben 2</span>
                        <span class="struck">Neben 2</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_3_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_3" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_3_toggle">
                        <span class="unstruck">Neben 3</span>
                        <span class="struck">Neben 3</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_4_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_4" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_4_toggle">
                        <span class="unstruck">Neben 4</span>
                        <span class="struck">Neben 4</span>
                    </button>
                </div>
                <input class="toggle-hide" name="attr_minor_5_show" type="checkbox" value="1"/> 
                <div class="inline actionbutton">
                    <input type="hidden" class="direction" name="attr_minor_5" value="unstruck" />
                    <button class="minoractionbutton" type="action" name="act_minor_5_toggle">
                        <span class="unstruck">Neben 5</span>
                        <span class="struck">Neben 5</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <br>
    <button class="toggle-hide headlinebutton" type="action" name="act_copyright" data-i18n="copyright">Copyright</button>
    <button class="headlinebutton" type="action" name="act_chardata" data-i18n="character">Charakter</button>
    <button class="headlinebutton" type="action" name="act_attributes" data-i18n="attributes">Attribute</button>
    <button class="headlinebutton" type="action" name="act_skills" data-i18n="skills">Fertigkeiten</button>
    <button class="headlinebutton" type="action" name="act_attacks" data-i18n="attacks">Angriffe</button>
    <button class="headlinebutton" type="action" name="act_magic" data-i18n="magic">Magie</button>
    <button class="headlinebutton" type="action" name="act_matrix" data-i18n="matrix">Matrix</button>
    <button class="headlinebutton" type="action" name="act_rigging" data-i18n="rigging">Rigger</button>
    <button class="headlinebutton" type="action" name="act_contacts" data-i18n="contacts">Connections</button>
    <button class="headlinebutton" type="action" name="act_gear" data-i18n="gear">Ausrüstung</button>
    <button class="headlinebutton" type="action" name="act_notes" data-i18n="notes">Notizen</button>
    <button class="headlinebutton" type="action" name="act_configuration" data-18n="config" >Configuration</button>
    <input type='hidden' class='sheet-tabstoggle' name='attr_sheetTab'  value='copyright' /> <!--Tab-Steuerung, zwingend notwendig-->
    <div class="sheet-copyright">
        <br>
        <h4>Shadowrun 6 Charakterbogen by Avalia</h4>
        <br>
        <h6>Version 0.1</h6>
        <br>
        <div data-i18n="copyrightfooter">
            The Topps Company, Inc. has sole ownership of the names, logo, artwork, marks, photographs, sounds, audio, video and/or any proprietary material used in connection with the game Shadowrun. The Topps Company, Inc. has granted permission to use such names, logos, artwork, marks and/or any proprietary materials for promotional and informational purposes on its website but does not endorse, and is not affiliated with any official capacity whatsoever.
		</div>
	</div>
    <div class='sheet-chardata'>
        <h3>Char</h3>
    </div>
    <div class='sheet-attributes'>
        <br>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-half">
                    <h4 data-i18n="attributes">Attribute</h4> 
                </div>
                <div class="table-cell-half">
                    <h4 data-i18n="derivatives">Abgeleitete Werte</h4>
                </div>
            </div>
        </div>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-half">
                    <div class="innertable">
                        <div class="table-row">
                            <div class="table-cell"><span class="red" data-i18n="empty">&nbsp;</span></div>
                            <div class="table-cell"><span class="red" data-i18n="basis">Basis</span></div>
                            <div class="table-cell"><span class="red" data-i18n="mod">Mod</span></div>
                            <div class="table-cell"><span class="red" data-i18n="total">Gesamt</span></div>
                            <div class="table-cell-center"><span class="red" data-i18n="rolls">Würfe</span></div>
                        </div>
                        <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_body">Konstitution</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_body_base" value="2" placeholder="2" title="@{body_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_body_modifier" value="0" placeholder="0" title="@{body_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_body" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="body" value="@{gm_toggle} &{template:roll}{{mainattribute=^{body}}}{{dice=[[(@{display_body}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="body_short">body</span>
                            </button>
                            <button class="smallbutton" type="roll" name="body" value="@{gm_toggle} &{template:roll}{{mainattribute=^{body}}}{{secondattribute=^{body}}}{{dice=[[(@{display_body}+@{display_body}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_agility">Geschicklichkeit</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_agility_base" value="2" placeholder="2" title="@{agility_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_agility_modifier" value="0" placeholder="0" title="@{agility_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_agility" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="agility" value="@{gm_toggle} &{template:roll}{{mainattribute=^{agility}}}{{dice=[[(@{display_agility}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="agility_short">agility</span>
                            </button>
                            <button class="smallbutton" type="roll" name="agility" value="@{gm_toggle} &{template:roll}{{mainattribute=^{agility}}}{{secondattribute=^{agility}}}{{dice=[[(@{display_agility}+@{display_agility}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                  (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_reaction">Reaktion</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_reaction_base" value="2" placeholder="2" title="@{reaction_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_reaction_modifier" value="0" placeholder="0" title="@{reaction_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_reaction" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="reaction" value="@{gm_toggle} &{template:roll}{{mainattribute=^{reaction}}}{{dice=[[(@{display_reaction}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="reaction_short">reaction</span>
                            </button>
                            <button class="smallbutton" type="roll" name="reaction" value="@{gm_toggle} &{template:roll}{{mainattribute=^{reaction}}}{{secondattribute=^{reaction}}}{{dice=[[(@{display_reaction}+@{display_reaction}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_strength">Stärke</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_strength_base" value="2" placeholder="2" title="@{strength_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_strength_modifier" value="0" placeholder="0" title="@{strength_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_strength" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="strength" value="@{gm_toggle} &{template:roll}{{mainattribute=^{strength}}}{{dice=[[(@{display_strength}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="strength_short">strength</span>
                            </button>
                            <button class="smallbutton" type="roll" name="strength" value="@{gm_toggle} &{template:roll}{{mainattribute=^{strength}}}{{secondattribute=^{strength}}}{{dice=[[(@{display_strength}+@{display_strength}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_willpower">Willenskraft</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_willpower_base" value="2" placeholder="2" title="@{willpower_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_willpower_modifier" value="0" placeholder="0" title="@{willpower_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_willpower" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="willpower" value="@{gm_toggle} &{template:roll}{{mainattribute=^{willpower}}}{{dice=[[(@{display_willpower}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="willpower_short">willpower</span>
                            </button>
                            <button class="smallbutton" type="roll" name="willpower" value="@{gm_toggle} &{template:roll}{{mainattribute=^{willpower}}}{{secondattribute=^{willpower}}}{{dice=[[(@{display_willpower}+@{display_willpower}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_logic">Logik</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_logic_base" value="2" placeholder="2" title="@{logic_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_logic_modifier" value="0" placeholder="0" title="@{logic_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_logic" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="logic" value="@{gm_toggle} &{template:roll}{{mainattribute=^{logic}}}{{dice=[[(@{display_logic}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="logic_short">logic</span>
                            </button>
                            <button class="smallbutton" type="roll" name="logic" value="@{gm_toggle} &{template:roll}{{mainattribute=^{logic}}}{{secondattribute=^{logic}}}{{dice=[[(@{display_logic}+@{display_logic}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_intuition">Intuition</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_intuition_base" value="2" placeholder="2" title="@{intuition_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_intuition_modifier" value="0" placeholder="0" title="@{intuition_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_intuition" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="intuition" value="@{gm_toggle} &{template:roll}{{mainattribute=^{intuition}}}{{dice=[[(@{display_intuition}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="intuition_short">intuition</span>
                            </button>
                            <button class="smallbutton" type="roll" name="intuition" value="@{gm_toggle} &{template:roll}{{mainattribute=^{intuition}}}{{secondattribute=^{intuition}}}{{dice=[[(@{display_intuition}+@{display_intuition}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_charisma">Charisma</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_charisma_base" value="2" placeholder="2" title="@{charisma_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_charisma_modifier" value="0" placeholder="0" title="@{charisma_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_charisma" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="charisma" value="@{gm_toggle} &{template:roll}{{mainattribute=^{charisma}}}{{dice=[[(@{display_charisma}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="charisma_short">charisma</span>
                            </button>
                            <button class="smallbutton" type="roll" name="charisma" value="@{gm_toggle} &{template:roll}{{mainattribute=^{charisma}}}{{secondattribute=^{charisma}}}{{dice=[[(@{display_charisma}+@{display_charisma}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    <div class="table-row">
                        <div class="table-cell">
                            <span class="red" data-i18n="display_edge">Edge</span>
                        </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_edge_base" value="1" placeholder="1" title="@{edge_base}" min="1"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_edge_modifier" value="0" placeholder="0" title="@{edge_modifier}" max="4"/> </div>
                        <div class="table-cell"><input class="smallinput" type="number" name="attr_display_edge" value="2" placeholder="2" readonly/></div>
                        <div class="table-cell">
                            <button class="smallbutton" type="roll" name="edge" value="@{gm_toggle} &{template:roll}{{mainattribute=^{edge}}}{{dice=[[(@{display_edge}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="edge_short">edge</span>
                            </button>
                            <button class="smallbutton" type="roll" name="edge" value="@{gm_toggle} &{template:roll}{{mainattribute=^{edge}}}{{secondattribute=^{edge}}}{{dice=[[(@{display_edge}+@{display_edge}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                (x2)
                            </button>
                        </div>
                    </div>
                    </div>
                </div>
                <div class="table-cell-half">
                    <div class="innertable">
                        <div class="table-row">
                            <div class="table-cell"><span class="red" data-i18n="empty">&nbsp;</span></div>
                            <div class="table-cell"><span class="red" data-i18n="basis">Basis</span></div>
                            <div class="table-cell"><span class="red" data-i18n="mod">Mod</span></div>
                            <div class="table-cell"><span class="red" data-i18n="total">Gesamt</span></div>
                            <div class="table-cell-center"><span class="red" data-i18n="rolls">Würfe</span></div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="composure">Selbstbeherrschung</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_composure_base" value="4" placeholder="4" title="@{composure_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_composure_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_composure" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="composure" value="@{gm_toggle} &{template:roll}{{mainattribute=^{composure}}}{{dice=[[(@{display_composure}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="cha_wil">CHA + WIL</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="judgeintent">Menschenkenntnis</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_judgeintent_base" value="4" placeholder="4" title="@{judgeintent_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_judgeintent_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_judgeintent" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="judgeintent" value="@{gm_toggle} &{template:roll}{{mainattribute=^{judgeintent}}}{{dice=[[(@{display_judgeintent}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="int_wil">INT + WIL</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="memory">Erinnerungsvermögen</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_memory_base" value="4" placeholder="4" title="@{memory_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_memory_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_memory" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="memory" value="@{gm_toggle} &{template:roll}{{mainattribute=^{memory}}}{{dice=[[(@{display_memory}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="log_int">LOG + INT</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="liftcarry">Heben & Tragen</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_liftcarry_base" value="4" placeholder="4" title="@{liftcarry_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_liftcarry_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_liftcarry" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="liftcarry" value="@{gm_toggle} &{template:roll}{{mainattribute=^{liftcarry}}}{{dice=[[(@{display_liftcarry}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="bod_wil">KON + WIL</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="ini">Verteidigungspool</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_ini_base" value="4" placeholder="4" title="@{ini_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_ini_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_ini" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="ini" value="@{gm_toggle} &{template:roll}{{mainattribute=^{ini}}}{{dice=[[(@{display_ini}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-i18n="rea_int">REA + INT</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="inidice">Initiativewürfel</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inidice_base" value="1" placeholder="1" title="@{inidice_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inidice_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_inidice" value="1" placeholder="1" readonly/></div>
                            <div class="table-cell">
                                <button class="hiddensmallbutton" type="roll" name="ini" value="@{gm_toggle} &{template:roll}{{mainattribute=^{ini}}}{{dice=[[(@{display_ini})d6@{exploding_dice}cs>5>5sd+@{use_wounds}+@{sustain_malus}]]}}">
                                        <span class="red" data-i18n="rea_int">This is hidden</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="iniphys">Initiative (physisch)</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniphys_base" value="4" placeholder="4" title="@{iniphys_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniphys_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_iniphys" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="iniphys" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{iniphys}}}{{dice=[[(@{display_iniphys}+@{use_wounds}+@{sustain_malus})+(@{display_inidice})d6cs>7cf<0 &{tracker}]]}}">
                                        <span class="red" data-18n="select_token">Tokenroll</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="inimatrix">Initiative (Matrix)</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inimatrix_base" value="4" placeholder="4" title="@{inimatrix_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_inimatrix_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_inimatrix" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="inimatrix" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{inimatrix}}}{{dice=[[(@{display_inimatrix}+@{use_wounds}+@{sustain_malus})+3d6cs>7cf<0 &{tracker}]]}}">
                                        <span class="red" data-18n="select_token">Tokenroll</span>
                                </button>
                            </div>
                        </div>
                        <div class="table-row">
                            <div class="table-cell">
                                <span class="red" data-i18n="iniastral">Initiative (Astral)</span>
                            </div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniastral_base" value="4" placeholder="4" title="@{iniastral_base}" /></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_iniastral_modifier" value="0" placeholder="0"/></div>
                            <div class="table-cell"><input class="smallinput" type="number" name="attr_display_iniastral" value="4" placeholder="4" readonly/></div>
                            <div class="table-cell">
                                <button class="mediumbutton" type="roll" name="iniastral" value="@{gm_toggle} &{template:initiative}{{mainattribute=^{iniastral}}}{{dice=[[(@{display_iniastral}+@{use_wounds}+@{sustain_malus})+2d6cs>7cf<0 &{tracker}]]}}">
                                        <span class="red" data-18n="select_token">Tokenroll</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class='sheet-skills'>
        <br>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-quarter">
                    <h4 data-i18n="skills">Fertigkeiten</h4>
                </div>
                <div class="table-cell-threequarter">
                    <button type="action" name="act_reset_skill_visibility">
                        alle Fertigkeiten sichtbar machen
                    </button>
                    <button type="action" name="act_hide_unused_skills">
                        Fertigkeiten ohne Punkte ausblenden
                    </button>
                    <button type="action" name="act_reset_skill_values">
                        Fertigkeiten zurücksetzen
                    </button>
                </div>
            </div>
        </div>
        <div class="table-row">
            <div class="table-fullrow">
                <div class="table-cell-full">
                    <div class="innertable">
                        <div class="table-row">
                            <div class="table-cell-skill-hide"><span class="red" data-i18n="hide">Verbergen</span></div>
                            <div class="table-cell-skill-level"><span class="red" data-i18n="skill_level">Stufe</span></div>
                            <div class="table-cell-skill-mod"><span class="red" data-i18n="skill_modifier">Mod</span></div>
                            <div class="table-cell-skill-attribute"><span class="red" data-i18n="skill_attribute">Attribut</span></div>
                            <div class="table-cell-skill-spec"><span class="red" data-i18n="specialisation">Spezialisierung</span></div>
                            <div class="table-cell-skill-exp"><span class="red" data-i18n="expertise">Expertise</span></div>
                            <div class="table-cell-skill-total"><span class="red" data-i18n="total">Gesamt</span></div>
                            <div class="table-cell-skill-rolls">&nbsp;</div>
                            <div class="table-cell-skill-rolls"><span class="red" data-i18n="rolls">Würfe</span></div>
                            <div class="table-cell-skill-rolls">&nbsp;</div>
                            
                        </div>
                        <!--Astral-->
                        <input class="toggle-hide-astral" name="attr_skill_astral_hide" type="checkbox" value="1"/>
                        <div class="table-row-astral">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_astral_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_astral">Astral</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_astral_base" value="-1" placeholder="-1" title="@{skill_astral_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_astral_modifier" value="0" placeholder="0" title="@{skill_astral_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_astral_attribute" value="int" title="skill_astral_attribute"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-astral-spec" name="attr_skill_astral_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-astral-spec" type="text" name="attr_skill_astral_spec" title="@{skill_astral_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-astral-exp" name="attr_skill_astral_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-astral-exp" type="text" name="attr_skill_astral_exp" title="@{skill_astral_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_astral_total" value="@{skill_astral_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_astral_total_spec" value="@{skill_astral_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_astral_total_exp" value="@{skill_astral_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{dicepool=^{@{skill_astral_total}+@{use_wounds}+@{sustain_malus}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_astral_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-astral-spec"></span>
                                <span class="invisible-astral-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{specialisation=@{skill_astral_spec}}}{{dicepool=^{@{skill_astral_total_spec}+@{use_wounds}+@{sustain_malus}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_astral_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-astral-exp"></span>
                                <span class="invisible-astral-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{expertise=@{skill_astral_exp}}}{{dicepool=^{@{skill_astral_total_exp}+@{use_wounds}+@{sustain_malus}}}}{{dice=[[(@{skill_astral_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--athletics-->
                        <input class="toggle-hide-athletics" name="attr_skill_athletics_hide" type="checkbox" value="1"/>
                        <div class="table-row-athletics">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_athletics_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_athletics">athletics</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_athletics_base" value="-1" placeholder="-1" title="@{skill_athletics_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_athletics_modifier" value="0" placeholder="0" title="@{skill_athletics_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_athletics_attribute" value="int" title="@{skill_athletics_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-athletics-spec" name="attr_skill_athletics_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-athletics-spec" type="text" name="attr_skill_athletics_spec" title="@{skill_athletics_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-athletics-exp" name="attr_skill_athletics_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-athletics-exp" type="text" name="attr_skill_athletics_exp" title="@{skill_athletics_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_athletics_total" value="@{skill_athletics_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_athletics_total_spec" value="@{skill_athletics_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_athletics_total_exp" value="@{skill_athletics_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_athletics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_athletics_attribute}}}}{{secondattribute=^{skill_athletics}}}{{dicepool=^{@{skill_athletics_total}}}}{{dice=[[(@{skill_athletics_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_athletics_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-athletics-spec"></span>
                                <span class="invisible-athletics-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_athletics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_athletics_attribute}}}}{{secondattribute=^{skill_athletics}}}{{specialisation=@{skill_athletics_spec}}}{{dicepool=^{@{skill_athletics_total_spec}}}}{{dice=[[(@{skill_athletics_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_athletics_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-athletics-exp"></span>
                                <span class="invisible-athletics-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_athletics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_athletics_attribute}}}}{{secondattribute=^{skill_athletics}}}{{expertise=@{skill_athletics_exp}}}{{dicepool=^{@{skill_athletics_total_exp}}}}{{dice=[[(@{skill_athletics_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--biotech-->
                        <input class="toggle-hide-biotech" name="attr_skill_biotech_hide" type="checkbox" value="1"/>
                        <div class="table-row-biotech">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_biotech_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_biotech">biotech</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_biotech_base" value="-1" placeholder="-1" title="@{skill_biotech_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_biotech_modifier" value="0" placeholder="0" title="@{skill_biotech_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_biotech_attribute" value="int" title="@{skill_biotech_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-biotech-spec" name="attr_skill_biotech_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-biotech-spec" type="text" name="attr_skill_biotech_spec" title="@{skill_biotech_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-biotech-exp" name="attr_skill_biotech_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-biotech-exp" type="text" name="attr_skill_biotech_exp" title="@{skill_biotech_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_biotech_total" value="@{skill_biotech_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_biotech_total_spec" value="@{skill_biotech_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_biotech_total_exp" value="@{skill_biotech_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_biotech_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_biotech_attribute}}}}{{secondattribute=^{skill_biotech}}}{{dicepool=^{@{skill_biotech_total}}}}{{dice=[[(@{skill_biotech_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_biotech_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-biotech-spec"></span>
                                <span class="invisible-biotech-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_biotech_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_biotech_attribute}}}}{{secondattribute=^{skill_biotech}}}{{specialisation=@{skill_biotech_spec}}}{{dicepool=^{@{skill_biotech_total_spec}}}}{{dice=[[(@{skill_biotech_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_biotech_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-biotech-exp"></span>
                                <span class="invisible-biotech-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_biotech_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_biotech_attribute}}}}{{secondattribute=^{skill_biotech}}}{{expertise=@{skill_biotech_exp}}}{{dicepool=^{@{skill_biotech_total_exp}}}}{{dice=[[(@{skill_biotech_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--cracking-->
                        <input class="toggle-hide-cracking" name="attr_skill_cracking_hide" type="checkbox" value="1"/>
                        <div class="table-row-cracking">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_cracking_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_cracking">cracking</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_cracking_base" value="-1" placeholder="-1" title="@{skill_cracking_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_cracking_modifier" value="0" placeholder="0" title="@{skill_cracking_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_cracking_attribute" value="int" title="@{skill_cracking_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-cracking-spec" name="attr_skill_cracking_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-cracking-spec" type="text" name="attr_skill_cracking_spec" title="@{skill_cracking_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-cracking-exp" name="attr_skill_cracking_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-cracking-exp" type="text" name="attr_skill_cracking_exp" title="@{skill_cracking_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_cracking_total" value="@{skill_cracking_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_cracking_total_spec" value="@{skill_cracking_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_cracking_total_exp" value="@{skill_cracking_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_cracking_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_cracking_attribute}}}}{{secondattribute=^{skill_cracking}}}{{dicepool=^{@{skill_cracking_total}}}}{{dice=[[(@{skill_cracking_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_cracking_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-cracking-spec"></span>
                                <span class="invisible-cracking-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_cracking_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_cracking_attribute}}}}{{secondattribute=^{skill_cracking}}}{{specialisation=@{skill_cracking_spec}}}{{dicepool=^{@{skill_cracking_total_spec}}}}{{dice=[[(@{skill_cracking_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_cracking_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-cracking-exp"></span>
                                <span class="invisible-cracking-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_cracking_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_cracking_attribute}}}}{{secondattribute=^{skill_cracking}}}{{expertise=@{skill_cracking_exp}}}{{dicepool=^{@{skill_cracking_total_exp}}}}{{dice=[[(@{skill_cracking_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--influence-->
                        <input class="toggle-hide-influence" name="attr_skill_influence_hide" type="checkbox" value="1"/>
                        <div class="table-row-influence">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_influence_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_influence">influence</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_influence_base" value="-1" placeholder="-1" title="@{skill_influence_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_influence_modifier" value="0" placeholder="0" title="@{skill_influence_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_influence_attribute" value="int" title="@{skill_influence_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma" selected>CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-influence-spec" name="attr_skill_influence_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-influence-spec" type="text" name="attr_skill_influence_spec" title="@{skill_influence_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-influence-exp" name="attr_skill_influence_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-influence-exp" type="text" name="attr_skill_influence_exp" title="@{skill_influence_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_influence_total" value="@{skill_influence_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_influence_total_spec" value="@{skill_influence_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_influence_total_exp" value="@{skill_influence_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_influence_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_influence_attribute}}}}{{secondattribute=^{skill_influence}}}{{dicepool=^{@{skill_influence_total}}}}{{dice=[[(@{skill_influence_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_influence_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-influence-spec"></span>
                                <span class="invisible-influence-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_influence_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_influence_attribute}}}}{{secondattribute=^{skill_influence}}}{{specialisation=@{skill_influence_spec}}}{{dicepool=^{@{skill_influence_total_spec}}}}{{dice=[[(@{skill_influence_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_influence_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-influence-exp"></span>
                                <span class="invisible-influence-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_influence_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_influence_attribute}}}}{{secondattribute=^{skill_influence}}}{{expertise=@{skill_influence_exp}}}{{dicepool=^{@{skill_influence_total_exp}}}}{{dice=[[(@{skill_influence_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--electronics-->
                        <input class="toggle-hide-electronics" name="attr_skill_electronics_hide" type="checkbox" value="1"/>
                        <div class="table-row-electronics">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_electronics_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_electronics">electronics</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_electronics_base" value="-1" placeholder="-1" title="@{skill_electronics_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_electronics_modifier" value="0" placeholder="0" title="@{skill_electronics_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_electronics_attribute" value="int" title="@{skill_electronics_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-electronics-spec" name="attr_skill_electronics_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-electronics-spec" type="text" name="attr_skill_electronics_spec" title="@{skill_electronics_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-electronics-exp" name="attr_skill_electronics_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-electronics-exp" type="text" name="attr_skill_electronics_exp" title="@{skill_electronics_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_electronics_total" value="@{skill_electronics_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_electronics_total_spec" value="@{skill_electronics_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_electronics_total_exp" value="@{skill_electronics_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_electronics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_electronics_attribute}}}}{{secondattribute=^{skill_electronics}}}{{dicepool=^{@{skill_electronics_total}}}}{{dice=[[(@{skill_electronics_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_electronics_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-electronics-spec"></span>
                                <span class="invisible-electronics-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_electronics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_electronics_attribute}}}}{{secondattribute=^{skill_electronics}}}{{specialisation=@{skill_electronics_spec}}}{{dicepool=^{@{skill_electronics_total_spec}}}}{{dice=[[(@{skill_electronics_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_electronics_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-electronics-exp"></span>
                                <span class="invisible-electronics-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_electronics_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_electronics_attribute}}}}{{secondattribute=^{skill_electronics}}}{{expertise=@{skill_electronics_exp}}}{{dicepool=^{@{skill_electronics_total_exp}}}}{{dice=[[(@{skill_electronics_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--firearms-->
                        <input class="toggle-hide-firearms" name="attr_skill_firearms_hide" type="checkbox" value="1"/>
                        <div class="table-row-firearms">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_firearms_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_firearms">firearms</span>
                                </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_firearms_base" value="-1" placeholder="-1" title="@{skill_firearms_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_firearms_modifier" value="0" placeholder="0" title="@{skill_firearms_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_firearms_attribute" value="int" title="@{skill_firearms_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-firearms-spec" name="attr_skill_firearms_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-firearms-spec" type="text" name="attr_skill_firearms_spec" title="@{skill_firearms_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-firearms-exp" name="attr_skill_firearms_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-firearms-exp" type="text" name="attr_skill_firearms_exp" title="@{skill_firearms_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_firearms_total" value="@{skill_firearms_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_firearms_total_spec" value="@{skill_firearms_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_firearms_total_exp" value="@{skill_firearms_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_firearms_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_firearms_attribute}}}}{{secondattribute=^{skill_firearms}}}{{dicepool=^{@{skill_firearms_total}}}}{{dice=[[(@{skill_firearms_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_firearms_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-firearms-spec"></span>
                                <span class="invisible-firearms-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_firearms_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_firearms_attribute}}}}{{secondattribute=^{skill_firearms}}}{{specialisation=@{skill_firearms_spec}}}{{dicepool=^{@{skill_firearms_total_spec}}}}{{dice=[[(@{skill_firearms_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_firearms_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-firearms-exp"></span>
                                <span class="invisible-firearms-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_firearms_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_firearms_attribute}}}}{{secondattribute=^{skill_firearms}}}{{expertise=@{skill_firearms_exp}}}{{dicepool=^{@{skill_firearms_total_exp}}}}{{dice=[[(@{skill_firearms_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--stealth-->
                        <input class="toggle-hide-stealth" name="attr_skill_stealth_hide" type="checkbox" value="1"/>
                        <div class="table-row-stealth">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_stealth_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_stealth">stealth</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_stealth_base" value="-1" placeholder="-1" title="@{skill_stealth_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_stealth_modifier" value="0" placeholder="0" title="@{skill_stealth_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_stealth_attribute" value="int" title="@{skill_stealth_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-stealth-spec" name="attr_skill_stealth_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-stealth-spec" type="text" name="attr_skill_stealth_spec" title="@{skill_stealth_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-stealth-exp" name="attr_skill_stealth_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-stealth-exp" type="text" name="attr_skill_stealth_exp" title="@{skill_stealth_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_stealth_total" value="@{skill_stealth_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_stealth_total_spec" value="@{skill_stealth_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_stealth_total_exp" value="@{skill_stealth_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_stealth_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_stealth_attribute}}}}{{secondattribute=^{skill_stealth}}}{{dicepool=^{@{skill_stealth_total}}}}{{dice=[[(@{skill_stealth_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_stealth_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-stealth-spec"></span>
                                <span class="invisible-stealth-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_stealth_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_stealth_attribute}}}}{{secondattribute=^{skill_stealth}}}{{specialisation=@{skill_stealth_spec}}}{{dicepool=^{@{skill_stealth_total_spec}}}}{{dice=[[(@{skill_stealth_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_stealth_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-stealth-exp"></span>
                                <span class="invisible-stealth-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_stealth_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_stealth_attribute}}}}{{secondattribute=^{skill_stealth}}}{{expertise=@{skill_stealth_exp}}}{{dicepool=^{@{skill_stealth_total_exp}}}}{{dice=[[(@{skill_stealth_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--engineering-->
                        <input class="toggle-hide-engineering" name="attr_skill_engineering_hide" type="checkbox" value="1"/>
                        <div class="table-row-engineering">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_engineering_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_engineering">engineering</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_engineering_base" value="-1" placeholder="-1" title="@{skill_engineering_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_engineering_modifier" value="0" placeholder="0" title="@{skill_engineering_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_engineering_attribute" value="int" title="@{skill_engineering_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic" selected>LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-engineering-spec" name="attr_skill_engineering_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-engineering-spec" type="text" name="attr_skill_engineering_spec" title="@{skill_engineering_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-engineering-exp" name="attr_skill_engineering_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-engineering-exp" type="text" name="attr_skill_engineering_exp" title="@{skill_engineering_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_engineering_total" value="@{skill_engineering_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_engineering_total_spec" value="@{skill_engineering_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_engineering_total_exp" value="@{skill_engineering_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_engineering_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_engineering_attribute}}}}{{secondattribute=^{skill_engineering}}}{{dicepool=^{@{skill_engineering_total}}}}{{dice=[[(@{skill_engineering_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_engineering_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-engineering-spec"></span>
                                <span class="invisible-engineering-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_engineering_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_engineering_attribute}}}}{{secondattribute=^{skill_engineering}}}{{specialisation=@{skill_engineering_spec}}}{{dicepool=^{@{skill_engineering_total_spec}}}}{{dice=[[(@{skill_engineering_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_engineering_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-engineering-exp"></span>
                                <span class="invisible-engineering-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_engineering_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_engineering_attribute}}}}{{secondattribute=^{skill_engineering}}}{{expertise=@{skill_engineering_exp}}}{{dicepool=^{@{skill_engineering_total_exp}}}}{{dice=[[(@{skill_engineering_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--melee-->
                        <input class="toggle-hide-melee" name="attr_skill_melee_hide" type="checkbox" value="1"/>
                        <div class="table-row-melee">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_melee_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_melee">melee</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_melee_base" value="-1" placeholder="-1" title="@{skill_melee_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_melee_modifier" value="0" placeholder="0" title="@{skill_melee_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_melee_attribute" value="int" title="@{skill_melee_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility" selected>GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-melee-spec" name="attr_skill_melee_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-melee-spec" type="text" name="attr_skill_melee_spec" title="@{skill_melee_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-melee-exp" name="attr_skill_melee_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-melee-exp" type="text" name="attr_skill_melee_exp" title="@{skill_melee_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_melee_total" value="@{skill_melee_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_melee_total_spec" value="@{skill_melee_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_melee_total_exp" value="@{skill_melee_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_melee_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_melee_attribute}}}}{{secondattribute=^{skill_melee}}}{{dicepool=^{@{skill_melee_total}}}}{{dice=[[(@{skill_melee_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_melee_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-melee-spec"></span>
                                <span class="invisible-melee-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_melee_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_melee_attribute}}}}{{secondattribute=^{skill_melee}}}{{specialisation=@{skill_melee_spec}}}{{dicepool=^{@{skill_melee_total_spec}}}}{{dice=[[(@{skill_melee_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_melee_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-melee-exp"></span>
                                <span class="invisible-melee-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_melee_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_melee_attribute}}}}{{secondattribute=^{skill_melee}}}{{expertise=@{skill_melee_exp}}}{{dicepool=^{@{skill_melee_total_exp}}}}{{dice=[[(@{skill_melee_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--outdoors-->
                        <input class="toggle-hide-outdoors" name="attr_skill_outdoors_hide" type="checkbox" value="1"/>
                        <div class="table-row-outdoors">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_outdoors_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_outdoors">outdoors</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_outdoors_base" value="-1" placeholder="-1" title="@{skill_outdoors_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_outdoors_modifier" value="0" placeholder="0" title="@{skill_outdoors_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_outdoors_attribute" value="int" title="@{skill_outdoors_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-outdoors-spec" name="attr_skill_outdoors_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-outdoors-spec" type="text" name="attr_skill_outdoors_spec" title="@{skill_outdoors_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-outdoors-exp" name="attr_skill_outdoors_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-outdoors-exp" type="text" name="attr_skill_outdoors_exp" title="@{skill_outdoors_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_outdoors_total" value="@{skill_outdoors_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_outdoors_total_spec" value="@{skill_outdoors_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_outdoors_total_exp" value="@{skill_outdoors_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_outdoors_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_outdoors_attribute}}}}{{secondattribute=^{skill_outdoors}}}{{dicepool=^{@{skill_outdoors_total}}}}{{dice=[[(@{skill_outdoors_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_outdoors_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-outdoors-spec"></span>
                                <span class="invisible-outdoors-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_outdoors_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_outdoors_attribute}}}}{{secondattribute=^{skill_outdoors}}}{{specialisation=@{skill_outdoors_spec}}}{{dicepool=^{@{skill_outdoors_total_spec}}}}{{dice=[[(@{skill_outdoors_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_outdoors_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-outdoors-exp"></span>
                                <span class="invisible-outdoors-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_outdoors_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_outdoors_attribute}}}}{{secondattribute=^{skill_outdoors}}}{{expertise=@{skill_outdoors_exp}}}{{dicepool=^{@{skill_outdoors_total_exp}}}}{{dice=[[(@{skill_outdoors_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--piloting-->
                        <input class="toggle-hide-piloting" name="attr_skill_piloting_hide" type="checkbox" value="1"/>
                        <div class="table-row-piloting">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_piloting_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_piloting">piloting</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_piloting_base" value="-1" placeholder="-1" title="@{skill_piloting_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_piloting_modifier" value="0" placeholder="0" title="@{skill_piloting_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_piloting_attribute" value="int" title="@{skill_piloting_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction" selected>REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-piloting-spec" name="attr_skill_piloting_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-piloting-spec" type="text" name="attr_skill_piloting_spec" title="@{skill_piloting_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-piloting-exp" name="attr_skill_piloting_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-piloting-exp" type="text" name="attr_skill_piloting_exp" title="@{skill_piloting_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_piloting_total" value="@{skill_piloting_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_piloting_total_spec" value="@{skill_piloting_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_piloting_total_exp" value="@{skill_piloting_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_piloting_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_piloting_attribute}}}}{{secondattribute=^{skill_piloting}}}{{dicepool=^{@{skill_piloting_total}}}}{{dice=[[(@{skill_piloting_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_piloting_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-piloting-spec"></span>
                                <span class="invisible-piloting-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_piloting_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_piloting_attribute}}}}{{secondattribute=^{skill_piloting}}}{{specialisation=@{skill_piloting_spec}}}{{dicepool=^{@{skill_piloting_total_spec}}}}{{dice=[[(@{skill_piloting_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_piloting_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-piloting-exp"></span>
                                <span class="invisible-piloting-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_piloting_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_piloting_attribute}}}}{{secondattribute=^{skill_piloting}}}{{expertise=@{skill_piloting_exp}}}{{dicepool=^{@{skill_piloting_total_exp}}}}{{dice=[[(@{skill_piloting_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--con-->
                        <input class="toggle-hide-con" name="attr_skill_con_hide" type="checkbox" value="1"/>
                        <div class="table-row-con">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_con_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_con">con</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_con_base" value="-1" placeholder="-1" title="@{skill_con_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_con_modifier" value="0" placeholder="0" title="@{skill_con_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_con_attribute" value="int" title="@{skill_con_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition">INT</option>
                                    <option value="display_charisma" data-i18n="charisma" selected>CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-con-spec" name="attr_skill_con_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-con-spec" type="text" name="attr_skill_con_spec" title="@{skill_con_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-con-exp" name="attr_skill_con_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-con-exp" type="text" name="attr_skill_con_exp" title="@{skill_con_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_con_total" value="@{skill_con_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_con_total_spec" value="@{skill_con_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_con_total_exp" value="@{skill_con_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_con_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_con_attribute}}}}{{secondattribute=^{skill_con}}}{{dicepool=^{@{skill_con_total}}}}{{dice=[[(@{skill_con_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_con_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-con-spec"></span>
                                <span class="invisible-con-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_con_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_con_attribute}}}}{{secondattribute=^{skill_con}}}{{specialisation=@{skill_con_spec}}}{{dicepool=^{@{skill_con_total_spec}}}}{{dice=[[(@{skill_con_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_con_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-con-exp"></span>
                                <span class="invisible-con-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_con_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_con_attribute}}}}{{secondattribute=^{skill_con}}}{{expertise=@{skill_con_exp}}}{{dicepool=^{@{skill_con_total_exp}}}}{{dice=[[(@{skill_con_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                        <!--perception-->
                        <input class="toggle-hide-perception" name="attr_skill_perception_hide" type="checkbox" value="1"/>
                        <div class="table-row-perception">
                            <div class="table-cell-skill-name">
                                <input name="attr_skill_perception_hide" type="checkbox" value="1"/>
                                <span class="red" data-i18n="skill_perception">perception</span>
                            </div>
                            <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_perception_base" value="-1" placeholder="-1" title="@{skill_perception_base}" min="-1" max="10"/></div>
                            <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_perception_modifier" value="0" placeholder="0" title="@{skill_perception_modifier}" max="4"/> </div>
                            <div class="table-cell-skill-attribute">
                                <select class="attributedropdown" name="attr_skill_perception_attribute" value="int" title="@{skill_perception_attribute}"> 
                                    <option value="display_body" data-i18n="body">KON</option>
                                    <option value="display_agility" data-i18n="agility">GES</option>
                                    <option value="display_reaction" data-i18n="reaction">REA</option>
                                    <option value="display_strength" data-i18n="strength">STÄ</option>
                                    <option value="display_willpower" data-i18n="willpower">WIL</option>
                                    <option value="display_logic" data-i18n="logic">LOG</option>
                                    <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                    <option value="display_charisma" data-i18n="charisma">CHA</option>
                                </select>
                            </div>
                            <div class="table-cell-skill-spec">
                                <input class="toggle-hide-perception-spec" name="attr_skill_perception_spec_visibility" type="checkbox" value="1"/>
                                <input class="input-perception-spec" type="text" name="attr_skill_perception_spec" title="@{skill_perception_spec}"/>
                            </div>
                            <div class="table-cell-skill-exp">
                                <input class="toggle-hide-perception-exp" name="attr_skill_perception_exp_visibility" type="checkbox" value="1"/>
                                <input class="input-perception-exp" type="text" name="attr_skill_perception_exp" title="@{skill_perception_exp}"/>
                            </div>
                            <div class="table-cell-skill-total">
                                <input class="smallinput" type="number" name="attr_skill_perception_total" value="@{skill_perception_attribute}" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_perception_total_spec" value="@{skill_perception_total}+2" placeholder="0" readonly/>
                                <input class="smallinput" type="hidden" name="attr_skill_perception_total_exp" value="@{skill_perception_total}+3" placeholder="0" readonly/>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <button class="widesmallbutton" type="roll" name="@{skill_perception_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_perception_attribute}}}}{{secondattribute=^{skill_perception}}}{{dicepool=^{@{skill_perception_total}}}}{{dice=[[(@{skill_perception_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                    <span class="red" data-i18n="skill_short">Skill</span>
                                </button>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_perception_spec_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-perception-spec"></span>
                                <span class="invisible-perception-spec">
                                    <button class="widesmallbutton" type="roll" name="@{skill_perception_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_perception_attribute}}}}{{secondattribute=^{skill_perception}}}{{specialisation=@{skill_perception_spec}}}{{dicepool=^{@{skill_perception_total_spec}}}}{{dice=[[(@{skill_perception_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="spec_short">Spez.</span>
                                    </button>
                                </span>
                            </div>
                            <div class="table-cell-skill-rolls">
                                <input class="toggle-hide" name="attr_skill_perception_exp_roll_visibility" type="checkbox" value="1"/>
                                <span class="visible-perception-exp"></span>
                                <span class="invisible-perception-exp">
                                    <button class="widesmallbutton" type="roll" name="@{skill_perception_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{skill_perception_attribute}}}}{{seconddattribute=^{skill_perception}}}{{expertise=@{skill_perception_exp}}}{{dicepool=^{@{skill_perception_total_exp}}}}{{dice=[[(@{skill_perception_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="red" data-18n="exp_short">Exp.</span>
                                    </button>
                                </span>
                            </div>
                        </div><!--End of skill-->
                    </div>
                </div>  
            </div>
        </div>
    </div>
    <div class='sheet-attacks'><br>
        <h4>Nahkampfwaffen</h4>
        <fieldset class="repeating_meleeweapons"> 
            <select class="meleetypedropdown" name="attr_mwskill"> 
                <option value="exotic" data-i18n="exotic">Exotische</option>
                <option value="unarmed" data-i18n="unarmed">Waffenlos</option>
                <option value="blades" data-i18n="blades">Klingen</option>
                <option value="clubs" data-i18n="clubs">Knüppel</option>
            </select>
            <input class="weaponname" type="text" name="attr_melee_name" /><br>
            <div class="hidebycomplexdamage">
                <div class="melee-textbox-medium">Schaden:</div>
            </div>
            <div class="melee-textbox-small">
                <input class="smallinput" type="number" name="attr_meleeweapondamage" value="2" placeholder="2" title="@{melee_damage_base}" min="1" max="15"/>
            </div>
            <div class="melee-textbox-large">Schadensart:</div>
            <div class="melee-textbox-small">
                <select class="damagetypedropdown" name="attr_mwtype">
                    <option value="phys" data-i18n="phys_short_shifted">körperlich</option>
                    <option value="stun" data-i18n="stun_short_shifted">geistig</option>
                    <option value="unown" data-i18n="unown_shifted">andere</option>
                </select>
            </div>
            <div class="melee-textbox-medium">Pool:</div>
            <div class="melee-textbox-small">
                <input class="smallinput" type="number" name="attr_melee_attack_pool" value="(@{skill_melee_total})" placeholder="2" title="@{melee_damage_base}" min="1" max="50"/>
            </div>
            <div class="melee-textbox-large">Angriffswert:</div>
            <div class="melee-textbox-small">
              <input class="smallinput" type="number" name="attr_melee_attack_rating" value="8" placeholder="8" title="@{melee_attack_rating}" min="1" max="50"/>
            </div>
            <div class="melee-rollbox">
                <button class="longbutton" type="roll" name="meleeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_melee}}}{{specialisation=^{@{mwskill}}}}{{weaponname=@{melee_name}}}{{attackrating=[[@{melee_attack_rating}]]}}{{damage=[[@{meleeweapondamage}]]}}{{damagetype=^{@{mwtype}}}}{{dice=[[(@{melee_attack_pool}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                    <span class="red" data-i18n="attackroll">Angriffswurf</span>
                </button>
            </div>
        </fieldset><br>
        <h4>Fernkampfwaffen</h4>
        <fieldset class="repeating_rangeweapons">
            <select class="rangetypedropdown" name="attr_rwskill">
                <option value="exotic" data-i18n="exotic">Exotische</option>
                <option value="projectile" data-i18n="projectile">Projektilwaffen</option>
                <option value="thrown" data-i18n="thrown">Wurwaffen</option>
                <option value="taser" data-i18n="taser">Taser</option>
                <option value="holdout" data-i18n="holdout">Holdout-Pistolen</option>
                <option value="lightpistol" data-i18n="lightpistol">Leichte Pistolen</option>
                <option value="heavypistol" data-i18n="heavypistol">Schwere Pistolen</option>
                <option value="machinepistol" data-i18n="machinepistol">Automatikpistolen</option>
                <option value="submachinegun" data-i18n="submachinegun">Maschinenpistolen</option>
                <option value="shotgun" data-i18n="shotgun">Schrotflinten</option>
                <option value="assaultrifle" data-i18n="assaultrifle">Sturmgewehre</option>
                <option value="carbine" data-i18n="carbine">Karabiner</option>
                <option value="sportrifle" data-i18n="sportrifle">Sportgewehre</option>
                <option value="sniperrifle" data-i18n="sniperrifle">Scharfschützengewehre</option>
                <option value="machinegun" data-i18n="machinegun">Maschinengewehre</option>
                <option value="assaultcannon" data-i18n="assaultcannon">Sturmkanonen</option>
            </select>
            <input class="weaponname" type="text" name="attr_range_name" value="Name" />
            <div class="range-textbox-small">Pool:</div>
            <div class="range-textbox-small">
                <input class="smallinput" type="number" name="attr_range_attack_pool" value="(@{skill_range_total})" placeholder="2" title="@{range_damage_base}" min="1" max="50"/>
            </div>
            <div class="smallspacer">&nbsp;</div>
            <input class="toggle-hide-complex-damage" name="attr_rangehidecomplexdamage" type="checkbox" value="1"/>
            <span class="red" data-18n="complex_damage_options">komplexer Schaden</span>
            <div class="smallspacer">&nbsp;</div>
            <input class="toggle-hide-complex-ammo" name="attr_rangehidecomplexammo" type="checkbox" value="1"/>
            <span class="red" data-18n="complex_ammo_options">komplexe Munition</span>
            <input class="toggle-hide toggle-hide-both" name="attr_rangehideboth" type="checkbox" value="1"/>
            <div class="hidebyboth">
                <br>
            </div>
            <div class="hidebycomplexdamage inline">
                <div class="range-textbox-medium">Schaden:</div>
                <div class="range-textbox-small">
                    <input class="smallinput" type="number" name="attr_rangeweapondamage" value="2" placeholder="2" title="@{range_damage_base}" min="1" max="15"/>
                </div>
            </div>
            <input class="toggle-hide toggle-hide-both" name="attr_rangehideboth" type="checkbox" value="1"/>
            <div class="hidebyboth">
                <div class="range-textbox-large">Schadensart:</div>
                <div class="range-textbox-small">
                    <select class="damagetypedropdown" name="attr_rwtype">
                        <option value="phys" data-i18n="phys_short_shifted">körperlich</option>
                        <option value="stun" data-i18n="stun_short_shifted">geistig</option>
                        <option value="unown" data-i18n="unown_shifted">andere</option>
                    </select>
                </div>
            </div>
            <div class="hidebycomplexammo inline">
                <div class="range-textbox-colossal">Schadensmodifikator (Munition)</div>
                <div class="range-textbox-small">
                    <input class="smallinput" type="number" name="attr_ammodamagemodifier" value="0" placeholder="0" />
                </div>
            </div>
            <div class="hidebycomplexammo inline">
                <div class="range-textbox-colossal">Angriffswertmodifikator (Munition)</div>
                <div class="range-textbox-small">
                    <input class="smallinput" type="number" name="attr_ammoarmodifier" value="0" placeholder="0" />
                </div>
            </div>
            <br>

            <div class="range-textbox-medium">Munition:</div>
            <select class="ammotypedropdown" name="attr_ammotype">
                <option value="apds" data-i18n="ammo_apds">APDS-Munition</option>
                <option value="explosive" data-i18n="ammo_explosive">Explosivmunition</option>
                <option value="flechette" data-i18n="ammo_flechette">Flechettemunition</option>
                <option value="gel" data-i18n="ammo_gel">Gelmunition</option>
                <option value="precision" data-i18n="ammo_precision">Präzisionsmunition</option>
                <option value="revo" data-i18n="ammo_revo">REVO-Munition</option>
                <option value="selfmade" data-i18n="ammo_selfmade">selbst gemachte Munitiion</option>
                <option value="shocker" data-i18n="ammo_shocker">Schockermunition</option>
                <option value="standard" data-i18n="ammo_standard">Standardmunition</option>
                <option value="standard_ac" data-i18n="ammo_standardac">Sturmkanonenmunition</option>
            </select>
            <div class="range-textbox-large">
                <input class="smallinput" type="number" name="attr_current_ammo" value="0" placeholder="0" /> / 
                <input class="smallinput" type="number" name="attr_maximum_ammo" value="15" placeholder="15"/>
            </div>
            <select class="reloadtypdropdown" name="attr_reloadtyp">
                <option value="g" data-i18n="reload_g">Gurtmunition</option>
                <option value="i" data-i18n="reload_i">internes Magazin</option>
                <option value="k" data-i18n="reload_k">Klapplademechanismus</option>
                <option value="s" data-i18n="reload_s">Stangenmagazin</option>
                <option value="t" data-i18n="reload_t">Trommelmagazin</option>
                <option value="tr" data-i18n="reload_tr">Trommel, aufklappbar</option>
                <option value="v" data-i18n="reload_v">Vorderlader</option>
            </select>
            <div class="range-textbox-medium">
                <button class="bluebutton" type="action" name="act_reload" data-i18n="reload">
                    Nachladen
                </button>
            </div>
            <div class="unhidebyboth">
                <div class="smallspacer">&nbsp;</div>
                <div class="range-textbox-large">Schadensart:</div>
                <div class="range-textbox-small">
                    <select class="damagetypedropdown" name="attr_rwtype">
                        <option value="phys" data-i18n="phys_short_shifted">körperlich</option>
                        <option value="stun" data-i18n="stun_short_shifted">geistig</option>
                        <option value="unown" data-i18n="unown_shifted">andere</option>
                    </select>
                </div>
            </div>
            <br>
            <div class="range-textbox-huge">verfügbare Feuermodi</div>
            <select class="firemodedropdown" name="attr_firemode">
                <option value="0" data-i18n="em">nur EM</option>
                <option value="1" data-i18n="hm">HM</option>
                <option value="2" data-i18n="sm">SM</option>
                <option value="3" data-i18n="hmsm">HM/SM</option>
                <option value="4" data-i18n="am">AM</option>
                <option value="5" data-i18n="hmam">HM/AM</option>
                <option value="6" data-i18n="smam">SM/AM</option>
                <option value="7" data-i18n="hmsmam">HM/SM/AM</option>
            </select>
            <input class="hide smallinput" type="number" name="attr_firemode_ar_mod" value="0" placeholder="0" title="@{firemode_ar_mod}" min="-10" max="10" />
            <input class="hide smallinput" type="number" name="attr_firemode_dam_mod" value="0" placeholder="0" title="@{firemode_dam_mod}" min="-10" max="10" />
            <div class="range-textbox-huge">Feuermodus wählen:</div>
            <input class="toggle-hide-em" name="attr_em_visibility" type="checkbox" value="1"/>
            <div class="radio-em-visible">
                <span class="em-visible"></span>
                <span class="em-invisible">
                    <input type="checkbox" id="EM" name="attr_firemodeem" value="1" />
                    <span class="red" data-i8n="em">EM</span>
                </span>
            </div>
            <input class="toggle-hide-hm" name="attr_hm_visibility" type="checkbox" value="1"/>
            <div class="radio-hm-visible">
                <span class="hm-visible"></span>
                <span class="hm-invisible">
                    <input type="checkbox" name="attr_firemodehm" value="1" />
                    <span class="red" data-i18n="hm">HM</span>
                </span>
            </div>
            <input class="toggle-hide-sm" name="attr_sm_visibility" type="checkbox" value="1"/>
            <div class="radio-sm-visible">
                <span class="sm-visible"></span>
                <span class="sm-invisible">
                    <input type="checkbox" name="attr_firemodesm" value="1" />
                    <span class="red" data-i18n="sm">SM</span>
                </span>
            </div>
            <input class="toggle-hide-am" name="attr_am_visibility" type="checkbox" value="1"/>
            <div class="radio-am-visible">
                <span class="am-visible"></span>
                <span class="am-invisible">
                    <input type="checkbox" name="attr_firemodeam" value="1" />
                    <span class="red" data-i18n="am">AM</span>
                </span>
            </div>
            <input class="toggle-hide" type="text" name="attr_firemode_name" value="Name" />
            <div class="range-table">
                <div class="range-ranges-row">
                    <div class="range-textbox-huge">
                        Reichweiten (Meter)
                    </div>
                    <div class="range-textbox-huge-center">
                        0 - 3
                    </div>
                    <div class="range-textbox-huge-center">
                        4 - 50
                    </div>
                    <div class="range-textbox-huge-center">
                        51 - 250
                    </div>
                    <div class="range-textbox-huge-center">
                        250 - 500
                    </div>
                    <div class="range-textbox-huge-center">
                        501+
                    </div>
                </div>
                <div class="range-ranges-row">
                    <div class="range-textbox-huge">
                        Angriffswert
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_vclose" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_close" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_medium" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_long" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_attack_rating_vlong" value="0" placeholder="0"/>
                    </div>
                </div>
                <input class="toggle-hide toggle-hide-complex-ammo" name="attr_rangehidecomplexammo" type="checkbox" value="1"/>
                <div class="range-ranges-row-ammo">
                    <div class="range-textbox-huge">
                        > Modifikator (Munition)
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arvclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_armediummod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arlongmod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_arvlongmod" value="0" placeholder="0"/>
                    </div>
                </div>
                <input class="toggle-hide  toggle-hide-complex-damage" name="attr_rangehidecomplexdamage" type="checkbox" value="1"/>
                <div class="range-ranges-row-damage">
                    <div class="range-textbox-huge">
                        Schaden
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_vclose" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_close" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_medium" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_long" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damage_vlong" value="0" placeholder="0"/>
                    </div>
                </div>
                <div class="range-ranges-row-ammo range-ranges-row-damage">
                    <div class="range-textbox-huge">
                        > Schaden (Munition)
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagevclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damageclosemod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagemediummod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagelongmod" value="0" placeholder="0"/>
                    </div>
                    <div class="range-textbox-huge-center">
                        <input class="smallinput" type="number" name="attr_damagevlongmod" value="0" placeholder="0"/>
                    </div>
                </div>
                <div class="range-ranges-row">
                    <div class="range-textbox-huge">
                        Angriffswurf
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_vclose}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_vclose}+@{arvclosemod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_vclose}+@{damagevclosemod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_close}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_close}+@{arclosemod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_close}+@{damageclosemod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_medium}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_medium}+@{armediummod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_medium}+@{damagemediummod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_long}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_long}+@{arlongmod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_long}+@{damagelongmod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                    <div class="range-textbox-huge-center">
                        <button class="rangebutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{skill_range}}}{{specialisation=^{@{rwskill}}}}{{weaponname=@{range_name}}}{{range=^{range_vlong}}}{{firemode=^{@{firemode_name}}}}{{attackrating=[[@{attack_rating_vlong}+@{arvlongmod}+@{firemode_ar_mod}]]}}{{damage=[[@{damage_vlong}+@{damagevlongmod}+@{firemode_dam_mod}]]}}{{damagetype=^{@{rwtype}}}}{{dicepool=^{@{range_attack_pool}}}}{{dice=[[(@{range_attack_pool}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                            <span class="red" data-i18n="attackroll">sehr nah</span>
                        </button>
                    </div>
                </div>
            </div>
        </fieldset>
    </div>
    <div class="sheet-magic">
        <br>
        <h6>Magie</h6>
        <input class="smallinput" type="number" name="attr_display_magic" value="0" placeholder="0" title="magic_value" min="0"/>
        <div class="smallspacer">&nbsp;</div>
        <h6>Initiatengrad</h6>
        <input class="smallinput" type="number" name="attr_display_inigrade" value="0" placeholder="0" title="initiate_grade" min="0"/>
        <input class="toggle-hide" name="attr_adept_power_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            <div class="smallspacer">&nbsp;</div>
            <h6>Kraftpunkte</h6>
            <input class="smallinput" type="number" name="attr_display_powerpoints" value="0" placeholder="0" title="initiate_grade" min="0"/>
        </div>
        <div class="smallspacer">&nbsp;</div>
        <input class="toggle-hide" name="attr_spell_hide" type="checkbox" value="1"/>
        <div class="inline magicsection">
            <h6>Malus (Dauer: A)</h6>
            <input class="smallinput" type="number" name="attr_sustain_malus" value="0" placeholder="0" title="sustain_malus" max="0"/>
        </div>
        <input class="toggle-hide" name="attr_drain_hide" type="checkbox" value="0"/>
        <div class="inline magicsection">
            <h6>Entzug:</h6>
            <select class="attributedropdown" name="attr_magic_drain_attribute" value="int" title="magic_drain_attribute"> 
                <option value="@{display_body}" data-i18n="body">KON</option>
                <option value="@{display_agility}" data-i18n="agility">GES</option>
                <option value="@{display_reaction}" data-i18n="reaction">REA</option>
                <option value="@{display_strength}" data-i18n="strength">STÄ</option>
                <option value="@{display_willpower}" data-i18n="willpower">WIL</option>
                <option value="@{display_logic}" data-i18n="logic">LOG</option>
                <option value="@{display_intuition}" data-i18n="intuition" selected>INT</option>
                <option value="@{display_charisma}" data-i18n="charisma">CHA</option>
                <option value="@{display_magic}" data-i18n="magic">MAG</option>
            </select>
        </div>
        <input class="toggle-hide" name="attr_magic_skill_hide" type="checkbox" value="1"/>
        <div class="inline magicsection"><br>
            <div class="magic-table">
                <div class="table-row">
                    <div class="table-fullrow">
                        <div class="table-cell-quarter">
                            <h4 data-i18n="skills">Fertigkeiten</h4>
                        </div>
                        <div class="table-cell-threequarter">
                            <button type="action" name="act_reset_magic_visibility">
                                alle Fertigkeiten sichtbar machen
                            </button>
                            <button type="action" name="act_hide_unused_magics">
                                Fertigkeiten ohne Punkte ausblenden
                            </button>
                            <button type="action" name="act_reset_magic_values">
                                Fertigkeiten zurücksetzen
                            </button>
                        </div>
                    </div>
                </div>
                <div class="table-row">
                    <div class="table-fullrow">
                        <div class="table-cell-full">
                            <div class="innertable">
                                <div class="table-row">
                                    <div class="table-cell-skill-hide"><span class="red" data-i18n="hide">Verbergen</span></div>
                                    <div class="table-cell-skill-level"><span class="red" data-i18n="skill_level">Stufe</span></div>
                                    <div class="table-cell-skill-mod"><span class="red" data-i18n="skill_modifier">Mod</span></div>
                                    <div class="table-cell-skill-attribute"><span class="red" data-i18n="skill_attribute">Attribut</span></div>
                                    <div class="table-cell-skill-spec"><span class="red" data-i18n="specialisation">Spezialisierung</span></div>
                                    <div class="table-cell-skill-exp"><span class="red" data-i18n="expertise">Expertise</span></div>
                                    <div class="table-cell-skill-total"><span class="red" data-i18n="total">Gesamt</span></div>
                                    <div class="table-cell-skill-rolls">&nbsp;</div>
                                    <div class="table-cell-skill-rolls"><span class="red" data-i18n="rolls">Würfe</span></div>
                                    <div class="table-cell-skill-rolls">&nbsp;</div>
                                    
                                </div>
                                <!--Astral-->
                                <input class="toggle-hide-magic-astral" name="attr_magic_astral_hide" type="checkbox" value="1"/>
                                <div class="table-row-astral">
                                    <div class="table-cell-skill-name">
                                        <input name="attr_magic_astral_hide" type="checkbox" value="1"/>
                                        <span class="red" data-i18n="skill_astral">Astral</span>
                                    </div>
                                    <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_astral_base" value="-1" placeholder="-1" title="@{skill_astral_base}" min="-1" max="10"/></div>
                                    <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_astral_modifier" value="0" placeholder="0" title="@{skill_astral_modifier}" max="4"/> </div>
                                    <div class="table-cell-skill-attribute">
                                        <select class="attributedropdown" name="attr_magic_astral_attribute" value="int" title="magic_astral_attribute">
                                            <option value="display_body" data-i18n="body">KON</option>
                                            <option value="display_agility" data-i18n="agility">GES</option>
                                            <option value="display_reaction" data-i18n="reaction">REA</option>
                                            <option value="display_strength" data-i18n="strength">STÄ</option>
                                            <option value="display_willpower" data-i18n="willpower">WIL</option>
                                            <option value="display_logic" data-i18n="logic">LOG</option>
                                            <option value="display_intuition" data-i18n="intuition" selected>INT</option>
                                            <option value="display_charisma" data-i18n="charisma">CHA</option>
                                            <option value="display_magic" data-i18n="magic">MAG</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-skill-spec">
                                        <input class="toggle-hide-astral-spec" name="attr_skill_astral_spec_visibility" type="checkbox" value="1"/>
                                        <input class="input-astral-spec" type="text" name="attr_skill_astral_spec" title="@{skill_astral_spec}"/>
                                    </div>
                                    <div class="table-cell-skill-exp">
                                        <input class="toggle-hide-astral-exp" name="attr_skill_astral_exp_visibility" type="checkbox" value="1"/>
                                        <input class="input-astral-exp" type="text" name="attr_skill_astral_exp" title="@{skill_astral_exp}"/>
                                    </div>
                                    <div class="table-cell-skill-total">
                                        <input class="smallinput" type="number" name="attr_magic_astral_total" value="@{magic_astral_attribute}" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_astral_total_spec" value="@{magic_astral_total}+2" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_astral_total_exp" value="@{magic_astral_total}+3" placeholder="0" readonly/>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <button class="widesmallbutton" type="roll" name="@{magic_astral_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{dicepool=^{@{magic_astral_total}}}}{{dice=[[(@{magic_astral_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                            <span class="red" data-i18n="skill_short">Skill</span>
                                        </button>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_astral_spec_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-astral-spec"></span>
                                        <span class="invisible-astral-spec">
                                            <button class="widesmallbutton" type="roll" name="@{magic_astral_spec}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{specialisation=@{skill_astral_spec}}}{{dicepool=^{@{magic_astral_total_spec}}}}{{dice=[[(@{magic_astral_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="spec_short">Spez.</span>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_astral_exp_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-astral-exp"></span>
                                        <span class="invisible-astral-exp">
                                            <button class="widesmallbutton" type="roll" name="@{magic_astral_exp}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_astral_attribute}}}}{{secondattribute=^{skill_astral}}}{{expertise=@{skill_astral_exp}}}{{dicepool=^{@{magic_astral_total_exp}}}}{{dice=[[(@{magic_astral_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="exp_short">Exp.</span>
                                            </button>
                                        </span>
                                    </div>
                                </div><!--End of skill-->
                                <!--conjuring-->
                                <input class="toggle-hide-magic-conjuring" name="attr_magic_conjuring_hide" type="checkbox" value="1"/>
                                <div class="table-row-conjuring">
                                    <div class="table-cell-skill-name">
                                        <input name="attr_magic_conjuring_hide" type="checkbox" value="1"/>
                                        <span class="red" data-i18n="skill_conjuring">conjuring</span>
                                    </div>
                                    <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_conjuring_base" value="-1" placeholder="-1" title="@{skill_conjuring_base}" min="-1" max="10"/></div>
                                    <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_conjuring_modifier" value="0" placeholder="0" title="@{skill_conjuring_modifier}" max="4"/> </div>
                                    <div class="table-cell-skill-attribute">
                                        <select class="attributedropdown" name="attr_magic_conjuring_attribute" value="int" title="magic_conjuring_attribute"> 
                                            <option value="display_body" data-i18n="body">KON</option>
                                            <option value="display_agility" data-i18n="agility">GES</option>
                                            <option value="display_reaction" data-i18n="reaction">REA</option>
                                            <option value="display_strength" data-i18n="strength">STÄ</option>
                                            <option value="display_willpower" data-i18n="willpower">WIL</option>
                                            <option value="display_logic" data-i18n="logic">LOG</option>
                                            <option value="display_intuition" data-i18n="intuition">INT</option>
                                            <option value="display_charisma" data-i18n="charisma">CHA</option>
                                            <option value="display_magic" data-i18n="magic" selected>MAG</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-skill-spec">
                                        <input class="toggle-hide-conjuring-spec" name="attr_skill_conjuring_spec_visibility" type="checkbox" value="1"/>
                                        <input class="input-conjuring-spec" type="text" name="attr_skill_conjuring_spec" title="@{skill_conjuring_spec}"/>
                                    </div>
                                    <div class="table-cell-skill-exp">
                                        <input class="toggle-hide-conjuring-exp" name="attr_skill_conjuring_exp_visibility" type="checkbox" value="1"/>
                                        <input class="input-conjuring-exp" type="text" name="attr_skill_conjuring_exp" title="@{skill_conjuring_exp}"/>
                                    </div>
                                    <div class="table-cell-skill-total">
                                        <input class="smallinput" type="number" name="attr_magic_conjuring_total" value="@{magic_conjuring_attribute}" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_conjuring_total_spec" value="@{magic_conjuring_total}+2" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_conjuring_total_exp" value="@{magic_conjuring_total}+3" placeholder="0" readonly/>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <button class="widesmallbutton" type="roll" name="@{magic_conjuring_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_conjuring_attribute}}}}{{secondattribute=^{skill_conjuring}}}{{dicepool=^{@{magic_conjuring_total}}}}{{dice=[[(@{magic_conjuring_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                            <span class="red" data-i18n="skill_short">Skill</span>
                                        </button>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_conjuring_spec_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-conjuring-spec"></span>
                                        <span class="invisible-conjuring-spec">
                                            <button class="widesmallbutton" type="roll" name="@{magic_conjuring_spec}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_conjuring_attribute}}}}{{secondattribute=^{skill_conjuring}}}{{specialisation=@{skill_conjuring_spec}}}{{dicepool=^{@{magic_conjuring_total_spec}}}}{{dice=[[(@{magic_conjuring_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="spec_short">Spez.</span>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_conjuring_exp_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-conjuring-exp"></span>
                                        <span class="invisible-conjuring-exp">
                                            <button class="widesmallbutton" type="roll" name="@{magic_conjuring_exp}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_conjuring_attribute}}}}{{secondattribute=^{skill_conjuring}}}{{expertise=@{skill_conjuring_exp}}}{{dicepool=^{@{magic_conjuring_total_exp}}}}{{dice=[[(@{magic_conjuring_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="exp_short">Exp.</span>
                                            </button>
                                        </span>
                                    </div>
                                </div><!--End of skill-->
                                <!--sorcery-->
                                <input class="toggle-hide-magic-sorcery" name="attr_magic_sorcery_hide" type="checkbox" value="1"/>
                                <div class="table-row-sorcery">
                                    <div class="table-cell-skill-name">
                                        <input name="attr_magic_sorcery_hide" type="checkbox" value="1"/>
                                        <span class="red" data-i18n="skill_sorcery">sorcery</span>
                                    </div>
                                    <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_sorcery_base" value="-1" placeholder="-1" title="@{skill_sorcery_base}" min="-1" max="10"/></div>
                                    <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_sorcery_modifier" value="0" placeholder="0" title="@{skill_sorcery_modifier}" max="4"/> </div>
                                    <div class="table-cell-skill-attribute">
                                        <select class="attributedropdown" name="attr_magic_sorcery_attribute" value="int" title="magic_sorcery_attribute"> 
                                            <option value="display_body" data-i18n="body">KON</option>
                                            <option value="display_agility" data-i18n="agility">GES</option>
                                            <option value="display_reaction" data-i18n="reaction">REA</option>
                                            <option value="display_strength" data-i18n="strength">STÄ</option>
                                            <option value="display_willpower" data-i18n="willpower">WIL</option>
                                            <option value="display_logic" data-i18n="logic">LOG</option>
                                            <option value="display_intuition" data-i18n="intuition">INT</option>
                                            <option value="display_charisma" data-i18n="charisma">CHA</option>
                                            <option value="display_magic" data-i18n="magic" selected>MAG</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-skill-spec">
                                        <input class="toggle-hide-sorcery-spec" name="attr_skill_sorcery_spec_visibility" type="checkbox" value="1"/>
                                        <input class="input-sorcery-spec" type="text" name="attr_skill_sorcery_spec" title="@{skill_sorcery_spec}"/>
                                    </div>
                                    <div class="table-cell-skill-exp">
                                        <input class="toggle-hide-sorcery-exp" name="attr_skill_sorcery_exp_visibility" type="checkbox" value="1"/>
                                        <input class="input-sorcery-exp" type="text" name="attr_skill_sorcery_exp" title="@{skill_sorcery_exp}"/>
                                    </div>
                                    <div class="table-cell-skill-total">
                                        <input class="smallinput" type="number" name="attr_magic_sorcery_total" value="@{magic_sorcery_attribute}" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_sorcery_total_spec" value="@{magic_sorcery_total}+2" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_sorcery_total_exp" value="@{magic_sorcery_total}+3" placeholder="0" readonly/>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <button class="widesmallbutton" type="roll" name="@{magic_sorcery_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_sorcery_attribute}}}}{{secondattribute=^{skill_sorcery}}}{{dicepool=^{@{magic_sorcery_total}}}}{{dice=[[(@{magic_sorcery_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                            <span class="red" data-i18n="skill_short">Skill</span>
                                        </button>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_sorcery_spec_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-sorcery-spec"></span>
                                        <span class="invisible-sorcery-spec">
                                            <button class="widesmallbutton" type="roll" name="@{magic_sorcery_spec}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_sorcery_attribute}}}}{{secondattribute=^{skill_sorcery}}}{{specialisation=@{skill_sorcery_spec}}}{{dicepool=^{@{magic_sorcery_total_spec}}}}{{dice=[[(@{magic_sorcery_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="spec_short">Spez.</span>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_sorcery_exp_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-sorcery-exp"></span>
                                        <span class="invisible-sorcery-exp">
                                            <button class="widesmallbutton" type="roll" name="@{magic_sorcery_exp}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_sorcery_attribute}}}}{{secondattribute=^{skill_sorcery}}}{{expertise=@{skill_sorcery_exp}}}{{dicepool=^{@{magic_sorcery_total_exp}}}}{{dice=[[(@{magic_sorcery_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="exp_short">Exp.</span>
                                            </button>
                                        </span>
                                    </div>
                                </div><!--End of skill-->
                                <!--enchanting-->
                                <input class="toggle-hide-magic-enchanting" name="attr_magic_enchanting_hide" type="checkbox" value="1"/>
                                <div class="table-row-enchanting">
                                    <div class="table-cell-skill-name">
                                        <input name="attr_magic_enchanting_hide" type="checkbox" value="1"/>
                                        <span class="red" data-i18n="skill_enchanting">enchanting</span>
                                    </div>
                                    <div class="table-cell-skill-level"><input class="smallinput" type="number" name="attr_skill_enchanting_base" value="-1" placeholder="-1" title="@{skill_enchanting_base}" min="-1" max="10"/></div>
                                    <div class="table-cell-skill-mod"><input class="smallinput" type="number" name="attr_skill_enchanting_modifier" value="0" placeholder="0" title="@{skill_enchanting_modifier}" max="4"/> </div>
                                    <div class="table-cell-skill-attribute">
                                        <select class="attributedropdown" name="attr_magic_enchanting_attribute" value="int" title="magic_enchanting_attribute"> 
                                            <option value="display_body" data-i18n="body">KON</option>
                                            <option value="display_agility" data-i18n="agility">GES</option>
                                            <option value="display_reaction" data-i18n="reaction">REA</option>
                                            <option value="display_strength" data-i18n="strength">STÄ</option>
                                            <option value="display_willpower" data-i18n="willpower">WIL</option>
                                            <option value="display_logic" data-i18n="logic">LOG</option>
                                            <option value="display_intuition" data-i18n="intuition" >INT</option>
                                            <option value="display_charisma" data-i18n="charisma">CHA</option>
                                            <option value="display_magic" data-i18n="magic" selected>MAG</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-skill-spec">
                                        <input class="toggle-hide-enchanting-spec" name="attr_skill_enchanting_spec_visibility" type="checkbox" value="1"/>
                                        <input class="input-enchanting-spec" type="text" name="attr_skill_enchanting_spec" title="@{skill_enchanting_spec}"/>
                                    </div>
                                    <div class="table-cell-skill-exp">
                                        <input class="toggle-hide-enchanting-exp" name="attr_skill_enchanting_exp_visibility" type="checkbox" value="1"/>
                                        <input class="input-enchanting-exp" type="text" name="attr_skill_enchanting_exp" title="@{skill_enchanting_exp}"/>
                                    </div>
                                    <div class="table-cell-skill-total">
                                        <input class="smallinput" type="number" name="attr_magic_enchanting_total" value="@{magic_enchanting_attribute}" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_enchanting_total_spec" value="@{magic_enchanting_total}+2" placeholder="0" readonly/>
                                        <input class="smallinput" type="hidden" name="attr_magic_enchanting_total_exp" value="@{magic_enchanting_total}+3" placeholder="0" readonly/>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <button class="widesmallbutton" type="roll" name="@{magic_enchanting_total}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_enchanting_attribute}}}}{{secondattribute=^{skill_enchanting}}}{{dicepool=^{@{magic_enchanting_total}}}}{{dice=[[(@{magic_enchanting_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                            <span class="red" data-i18n="skill_short">Skill</span>
                                        </button>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_enchanting_spec_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-enchanting-spec"></span>
                                        <span class="invisible-enchanting-spec">
                                            <button class="widesmallbutton" type="roll" name="@{magic_enchanting_spec}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_enchanting_attribute}}}}{{secondattribute=^{skill_enchanting}}}{{specialisation=@{skill_enchanting_spec}}}{{dicepool=^{@{magic_enchanting_total_spec}}}}{{dice=[[(@{magic_enchanting_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+2)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="spec_short">Spez.</span>
                                            </button>
                                        </span>
                                    </div>
                                    <div class="table-cell-skill-rolls">
                                        <input class="toggle-hide" name="attr_skill_enchanting_exp_roll_visibility" type="checkbox" value="1"/>
                                        <span class="visible-enchanting-exp"></span>
                                        <span class="invisible-enchanting-exp">
                                            <button class="widesmallbutton" type="roll" name="@{magic_enchanting_exp}" value="@{gm_toggle} &{template:roll}{{mainattribute=^{@{magic_enchanting_attribute}}}}{{secondattribute=^{skill_enchanting}}}{{expertise=@{skill_enchanting_exp}}}{{dicepool=^{@{magic_enchanting_total_exp}}}}{{dice=[[(@{magic_enchanting_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+3)d6@{exploding_dice}cs>5>5sd]]}}">
                                                <span class="red" data-18n="exp_short">Exp.</span>
                                            </button>
                                        </span>
                                    </div>
                                </div><!--End of skill-->
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <input class="toggle-hide" name="attr_adept_power_hide" type="checkbox" value="1"/>
        <div class="inline magicsection"><br>
            <h4 data-i18n="adept_powers">Adeptenkräfte</h4>
            <div class="magic-table">
                <div class="table-fullrow">
                    <div class="table-cell-full">
                        <div class="innertable">
                            <div class="table-row-flat">
                                <div class="table-cell-adept-name"><span class="red" data-i18n="adept_name">Name der Adeptenkraft</span></div>
                                <div class="table-cell-adept-level"><span class="red" data-i18n="adept_level">Stufe</span></div>
                                <div class="table-cell-adept-pp"><span class="red" data-i18n="adept_pp">Kosten</span></div>
                                <div class="table-cell-adept-longdesc"><span class="red" data-i18n="adept_longdesc">Langbeschreibung</span></div>
                                <div class="table-cell-adept-showchat"><span class="red" data-i18n="adept_showchat">Im Chat anzeigen</span></div>
                            </div>
                            <fieldset class="repeating_adeptpowers">
                                <div class="table-row-flat">
                                    <div class="table-cell-adept-name">
                                        <input class="adeptpowername" type="text" name="attr_adept_power_name" value="Adeptenkraft" />
                                    </div>
                                    <div class="table-cell-adept-level">
                                        <input class="smallinput" type="number" name="attr_adept_power_level" value="0" placeholder="0" title="@{adept_power_level}" min="0" max="@{display_magic}"/>
                                    </div>
                                    <div class="table-cell-adept-pp">
                                        <input class="smallinput" type="number" name="attr_adept_power_cost" value="0" placeholder="0" step="0.25" title="@{adept_power_cost}" min="0" max="@{display_magic}"/>
                                    </div>
                                    <div class="table-cell-adept-longdesc">
                                        <input class="toggle-hide" name="attr_toggle_rule_adeptpowers" type="checkbox" value="1"/>
                                        <div class="magictoggle-on">
                                            <button class="togglebutton" type="action" name="act_unlockrules">
                                                <span class="cyberberry-normal" data-i18n="editrules">Eingabemodus</span>
                                            </button>
                                        </div>
                                        <div class="magictoggle-off">
                                            <input class="adeptpowerrules" type="text" name="attr_adept_power_rules" value="Regeltext" />
                                            <div class="tinyspacer">&nbsp;</div>
                                            <button class="mini-togglebutton" type="action" name="act_lockrules">
                                                <span class="cyberberry-normal" data-i18n="done">Fertig</span>
                                            </button>
                                        </div>
                                    </div>
                                    <div class="table-cell-adept-showchat">
                                        <button class="postbutton" type="roll" name="adeptpower" value="@{gm_toggle} &{template:post}{{category=^{adeptpower}}}{{name=@{adept_power_name}}}{{description=@{adept_power_rules}}}">
                                            <span class="cyberberry" data-i18n="showinchat">im Chat posten</span>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <input class="toggle-hide" name="attr_conjuring_hide" type="checkbox" value="1"/>
        <div class="inline magicsection"><br>
            <h4 data-i18n="conjuring">Beschwören</h4>
            <div class="magic-table">
                <div class="table-fullrow">
                    <div class="table-cell-full">
                        <div class="innertable-stagger">
                            <div class="table-row-flat">
                                <div class="table-cell-one-third">
                                    <input class="smallinput" type="number" name="attr_mod_magic" value="0" placeholder="0" title="@{mod_magic}">
                                    <span class="red" data-i18n="mod_magic">Magiebonus allgemein</span>
                                </div>
                                <div class="table-cell-one-third">
                                    <input class="smallinput" type="number" name="attr_mod_conjuring" value="0" placeholder="0" title="@{mod_conjuring}">
                                    <span class="red" data-i18n="mod_conjuring">Geisterbonus allgemein</span>
                                </div>
                                <div class="table-cell-one-third">
                                    <span class="red" data-i18n="conjuring_specific">spezifische Boni ↓</span>
                                </div>
                            </div>
                        </div>
                        <div class="innertable-stagger">
                            <div class="table-row-flat">
                                <div class="table-cell-one-fifth">
                                    <input class="smallinput" type="number" name="attr_conjuring_combat" value="0" placeholder="0" title="@{conjuring_specific}">
                                    <select class="spirittypedropdown" name="attr_spirit_combat_type" value="fire" title="conjuring_combat_type"> 
                                        <option value="fire" data-i18n="combat_fire" selected>Feuer (Kampf)</option>
                                        <option value="water" data-i18n="combat_water">Wasser (Kampf)</option>
                                        <option value="earth" data-i18n="combat_earth">Erde (Kampf)</option>
                                        <option value="air" data-i18n="combat_air">Luft (Kampf)</option>
                                        <option value="man" data-i18n="combat_man">Mensch (Kampf)</option>
                                        <option value="beast" data-i18n="combat_beast">Tier (Kampf)</option>
                                        <option value="task" data-i18n="combat_task">Helfer (Kampf)</option>
                                        <option value="guardian" data-i18n="combat_guardian">Beschützer (Kampf)</option>
                                        <option value="plant" data-i18n="combat_plant">Pflanze (Kampf)</option>
                                        <option value="blood" data-i18n="combat_blood">Blut (Kampf)</option>
                                    </select>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <input class="smallinput" type="number" name="attr_conjuring_health" value="0" placeholder="0" title="@{conjuring_specific}">
                                    <select class="spirittypedropdown" name="attr_spirit_health_type" value="fire" title="conjuring_health_type"> 
                                        <option value="fire" data-i18n="health_fire">Feuer (Kampf)</option>
                                        <option value="water" data-i18n="health_water">Wasser (Kampf)</option>
                                        <option value="earth" data-i18n="health_earth">Erde (Kampf)</option>
                                        <option value="air" data-i18n="health_air">Luft (Kampf)</option>
                                        <option value="man" data-i18n="health_man" selected>Mensch (Kampf)</option>
                                        <option value="beast" data-i18n="health_beast">Tier (Kampf)</option>
                                        <option value="task" data-i18n="health_task">Helfer (Kampf)</option>
                                        <option value="guardian" data-i18n="health_guardian">Beschützer (Kampf)</option>
                                        <option value="plant" data-i18n="health_plant">Pflanze (Kampf)</option>
                                        <option value="blood" data-i18n="health_blood">Blut (Kampf)</option>
                                    </select>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <input class="smallinput" type="number" name="attr_conjuring_illusion" value="0" placeholder="0" title="@{conjuring_specific}">
                                    <select class="spirittypedropdown" name="attr_spirit_illusion_type" value="fire" title="conjuring_illusion_type"> 
                                        <option value="fire" data-i18n="illusion_fire">Feuer (Kampf)</option>
                                        <option value="water" data-i18n="illusion_water" selected>Wasser (Kampf)</option>
                                        <option value="earth" data-i18n="illusion_earth">Erde (Kampf)</option>
                                        <option value="air" data-i18n="illusion_air">Luft (Kampf)</option>
                                        <option value="man" data-i18n="illusion_man">Mensch (Kampf)</option>
                                        <option value="beast" data-i18n="illusion_beast">Tier (Kampf)</option>
                                        <option value="task" data-i18n="illusion_task">Helfer (Kampf)</option>
                                        <option value="guardian" data-i18n="illusion_guardian">Beschützer (Kampf)</option>
                                        <option value="plant" data-i18n="illusion_plant">Pflanze (Kampf)</option>
                                        <option value="blood" data-i18n="illusion_blood">Blut (Kampf)</option>
                                    </select>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <input class="smallinput" type="number" name="attr_conjuring_manipulation" value="0" placeholder="0" title="@{conjuring_specific}">
                                    <select class="spirittypedropdown" name="attr_spirit_manipulation_type" value="fire" title="conjuring_manipulation_type"> 
                                        <option value="fire" data-i18n="manipulation_fire">Feuer (Kampf)</option>
                                        <option value="water" data-i18n="manipulation_water">Wasser (Kampf)</option>
                                        <option value="earth" data-i18n="manipulation_earth" selected>Erde (Kampf)</option>
                                        <option value="air" data-i18n="manipulation_air">Luft (Kampf)</option>
                                        <option value="man" data-i18n="manipulation_man">Mensch (Kampf)</option>
                                        <option value="beast" data-i18n="manipulation_beast">Tier (Kampf)</option>
                                        <option value="task" data-i18n="manipulation_task">Helfer (Kampf)</option>
                                        <option value="guardian" data-i18n="manipulation_guardian">Beschützer (Kampf)</option>
                                        <option value="plant" data-i18n="manipulation_plant">Pflanze (Kampf)</option>
                                        <option value="blood" data-i18n="manipulation_blood">Blut (Kampf)</option>
                                    </select>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <input class="smallinput" type="number" name="attr_conjuring_detection" value="0" placeholder="0" title="@{conjuring_specific}">
                                    <select class="spirittypedropdown" name="attr_spirit_detection_type" value="fire" title="conjuring_detection_type"> 
                                        <option value="fire" data-i18n="detection_fire">Feuer (Kampf)</option>
                                        <option value="water" data-i18n="detection_water">Wasser (Kampf)</option>
                                        <option value="earth" data-i18n="detection_earth">Erde (Kampf)</option>
                                        <option value="air" data-i18n="detection_air" selected>Luft (Kampf)</option>
                                        <option value="man" data-i18n="detection_man">Mensch (Kampf)</option>
                                        <option value="beast" data-i18n="detection_beast">Tier (Kampf)</option>
                                        <option value="task" data-i18n="detection_task">Helfer (Kampf)</option>
                                        <option value="guardian" data-i18n="detection_guardian">Beschützer (Kampf)</option>
                                        <option value="plant" data-i18n="detection_plant">Pflanze (Kampf)</option>
                                        <option value="blood" data-i18n="detection_blood">Blut (Kampf)</option>
                                    </select>
                                </div>
                            </div>
                            <div class="table-row-flat">
                                <div class="table-cell-one-fifth">
                                    <h6>Herbeirufen</h6>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <input class="toggle-hide-not" name="attr_conjuring_specialisation" type="checkbox" value="2"/>
                                    <span class="cyberberry" data-i18n="conjuring_specialisation">+2</span>
                                    <div class="tinyspacer">&nbsp;</div>
                                    <input class="toggle-hide-not" name="attr_conjuring_expertise" type="checkbox" value="3"/>
                                    <span class="cyberberry" data-i18n="conjuring_expertise">+3</span>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <select class="spirittypedropdown whitebackground" name="attr_conjuring_summoning_type" value="fire" title="conjuring_detection_type"> 
                                        <option value="spirit_fire" data-i18n="spirit_fire">Feuer</option>
                                        <option value="spirit_water" data-i18n="spirit_water">Wasser</option>
                                        <option value="spirit_earth" data-i18n="spirit_earth">Erde</option>
                                        <option value="spirit_air" data-i18n="spirit_air" selected>Luft</option>
                                        <option value="spirit_man" data-i18n="spirit_man">Mensch</option>
                                        <option value="spirit_beast" data-i18n="spirit_beast">Tier</option>
                                        <option value="spirit_task" data-i18n="spirit_task">Helfer</option>
                                        <option value="spirit_guardian" data-i18n="spirit_guardian">Beschützer</option>
                                        <option value="spirit_plant" data-i18n="spirit_plant">Pflanze</option>
                                        <option value="spirit_blood" data-i18n="spirit_blood">Blut</option>
                                    </select>
                                    <input class="smallinput hiddeninput" type="number" name="attr_conjuring_bonus" value="0" placeholder="0" title="@{conjuring_bonus}" readonly>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <span class="cyberberry" data-i18n="conjuring_force">Kraftstufe des Geistes</span>
                                    <input class="smallinput" type="number" name="attr_conjuring_force_summoning" value="1" placeholder="1" min="1" title="@{conjuring_force}">
                                </div>
                                <div class="table-cell-one-fifth">
                                    <button class="magicrollbutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{act_summoning}}}{{spiritheadline=^{@{conjuring_summoning_type}}}}{{force=@{conjuring_force_summoning}}}{{summoner=^{summoner}}}{{dice=[[(@{magic_conjuring_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+@{conjuring_specialisation}+@{conjuring_expertise}+@{conjuring_bonus})d6@{exploding_dice}cs>5>5sd]]}}{{actingpperson=^{summoner}}}{{spirit=[[(@{conjuring_force_summoning}+@{conjuring_force_summoning})d6cs>5>5sd]]}}{{drain=[[(@{display_willpower}+@{magic_drain_attribute})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="cyberberry" data-i18n="roll">Würfeln</span>
                                    </button>
                                </div>
                            </div>
                            <div class="table-row-flat">
                                <div class="table-cell-one-fifth">
                                    <h6>Verbannen</h6>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <input class="toggle-hide-not" name="attr_conjuring_specialisation" type="checkbox" value="2"/>
                                    <span class="cyberberry" data-i18n="conjuring_specialisation">+2</span>
                                    <div class="tinyspacer">&nbsp;</div>
                                    <input class="toggle-hide-not" name="attr_conjuring_expertise" type="checkbox" value="3"/>
                                    <span class="cyberberry" data-i18n="conjuring_expertise">+3</span>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <select class="spirittypedropdown whitebackground" name="attr_conjuring_banishing_type" value="fire" title="conjuring_detection_type"> 
                                        <option value="spirit_fire" data-i18n="spirit_fire">Feuer</option>
                                        <option value="spirit_water" data-i18n="spirit_water">Wasser</option>
                                        <option value="spirit_earth" data-i18n="spirit_earth">Erde</option>
                                        <option value="spirit_air" data-i18n="spirit_air" selected>Luft</option>
                                        <option value="spirit_man" data-i18n="spirit_man">Mensch</option>
                                        <option value="spirit_beast" data-i18n="spirit_beast">Tier</option>
                                        <option value="spirit_task" data-i18n="spirit_task">Helfer</option>
                                        <option value="spirit_guardian" data-i18n="spirit_guardian">Beschützer</option>
                                        <option value="spirit_plant" data-i18n="spirit_plant">Pflanze</option>
                                        <option value="spirit_blood" data-i18n="spirit_blood">Blut</option>
                                    </select>
                                    <input class="smallinput hiddeninput" type="number" name="attr_conjuring_bonus" value="0" placeholder="0" title="@{conjuring_bonus}" readonly>
                                </div>
                                <div class="table-cell-one-fifth">
                                    <span class="cyberberry" data-i18n="conjuring_force">Kraftstufe des Geistes</span>
                                    <input class="smallinput" type="number" name="attr_conjuring_force_banishing" value="1" placeholder="1" min="1" title="@{conjuring_force}">
                                </div>
                                <div class="table-cell-one-fifth">
                                    <button class="magicrollbutton" type="roll" name="rangeweapon" value="@{gm_toggle} &{template:roll}{{mainattribute=^{act_banishing}}}{{spiritheadline=^{@{conjuring_banishing_type}}}}{{force=@{conjuring_force_banishing}}}{{summoner=^{summoner}}}{{dice=[[(@{magic_conjuring_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+@{conjuring_specialisation}+@{conjuring_expertise}+@{conjuring_bonus})d6@{exploding_dice}cs>5>5sd]]}}{{actingpperson=^{summoner}}}{{spirit=[[(@{conjuring_force_banishing}+@{conjuring_force_banishing})d6cs>5>5sd]]}}{{drain=[[(@{display_willpower}+@{magic_drain_attribute})d6@{exploding_dice}cs>5>5sd]]}}">
                                        <span class="cyberberry" data-i18n="roll">Würfeln</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                        <h6>Vorhandene Geister</h6>
                        <div class="innertable-stagger">
                            <fieldset class="repeating_spirits">
                                <div class="table-row-flat">
                                    <div class="table-cell-one-fifth">
                                        <select class="spirittypedropdown whitebackground" name="attr_conjuring_present_type" value="fire" title="conjuring_present_type"> 
                                            <option value="spirit_fire" data-i18n="spirit_fire">Feuer</option>
                                            <option value="spirit_water" data-i18n="spirit_water">Wasser</option>
                                            <option value="spirit_earth" data-i18n="spirit_earth">Erde</option>
                                            <option value="spirit_air" data-i18n="spirit_air" selected>Luft</option>
                                            <option value="spirit_man" data-i18n="spirit_man">Mensch</option>
                                            <option value="spirit_beast" data-i18n="spirit_beast">Tier</option>
                                            <option value="spirit_task" data-i18n="spirit_task">Helfer</option>
                                            <option value="spirit_guardian" data-i18n="spirit_guardian">Beschützer</option>
                                            <option value="spirit_plant" data-i18n="spirit_plant">Pflanze</option>
                                            <option value="spirit_blood" data-i18n="spirit_blood">Blut</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry" data-i18n="conjuring_force">Kraftstufe des Geistes</span>
                                        <input class="smallinput" type="number" name="attr_conjuring_force_present" value="1" placeholder="1" min="1" title="@{conjuring_force}">
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry" data-i18n="condition_monitor">Monitore</span>
                                        <input class="tinyinput" type="number" name="attr_conjuring_condition_stun" value="0" placeholder="0" min="0" title="@{conjuring_stun_monitor}">
                                        &nbsp;/&nbsp;
                                        <input class="tinyinput" type="number" name="attr_conjuring_condition_phys" value="0" placeholder="0" min="0" title="@{conjuring_phys_monitor}">
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry" data-i18n="conjuring_services">Dienste</span>
                                        <div class="smallerspacer">&nbsp;</div>
                                        <input class="smallinput" type="number" name="attr_conjuring_services" value="1" placeholder="1" min="1" title="@{conjuring_services}">
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <button class="magicrollbutton" type="roll" name="spirit_action" value="@{gm_toggle} &{template:roll}{{mainattribute=^{act_spirit}}}{{spiritheadline=^{@{conjuring_present_type}}}}{{force=@{conjuring_force_present}}}{{dice=[[(?{Pool des Geistes|4}+@{mod_roll})d6@{exploding_dice}cs>5>5sd]]}}">
                                            <span class="cyberberry" data-i18n="roll">Würfeln</span>
                                        </button>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <input class="toggle-hide" name="attr_spell_hide" type="checkbox" value="1"/>
        <div class="inline magicsection"><br>
            <h4 data-i18n="spells">Zauber</h4>
            <div class="magic-table">
                <div class="table-fullrow">
                    <div class="table-cell-full">
                        <div class="innertable-stagger">
                            <div class="table-row-flat">
                                <div class="table-cell-one-third">
                                    <input class="smallinput" type="number" name="attr_mod_magic" value="0" placeholder="0" title="@{mod_magic}">
                                    <span class="red" data-i18n="mod_magic">Magiebonus allgemein</span>
                                </div>
                                <div class="table-cell-one-third">
                                    <input class="smallinput" type="number" name="attr_mod_spells" value="0" placeholder="0" title="@{mod_spells}">
                                    <span class="red" data-i18n="mod_spells">Zauberbonus allgemein</span>
                                </div>
                                <div class="table-cell-one-third">
                                    <span class="cyberberry-normal" data-i18n="spells_specific">spezifische Boni ↓</span>
                                    <div class="smallspacer">&nbsp;</div>
                                    <input class="toggle-hide-not" name="attr_togglespelldetails" type="checkbox" value="1"/>
                                    <span class="cyberberry-normal" data-i18n="spell_details">Zauberdetails</span>
                                </div>
                            </div>
                        </div>
                        <div class="innertable-stagger">
                            <div class="table-row-flat">
                                <div class="table-cell-one-fifth">
                                    <span class="cyberberry-normal" data-i18n="spell_bonus_combat">Kampf</span>
                                    <input class="smallinput right" type="number" name="attr_spell_combat_bonus" value="0" placeholder="0" title="@{spell_combat_bonus}">
                                </div>
                                <div class="table-cell-one-fifth">
                                    <span class="cyberberry-normal" data-i18n="spell_bonus_health">Heilung</span>
                                    <input class="smallinput right" type="number" name="attr_spell_health_bonus" value="0" placeholder="0" title="@{spell_health_bonus}">
                                </div>
                                <div class="table-cell-one-fifth">
                                    <span class="cyberberry-normal" data-i18n="spell_bonus_illusion">Illusion</span>
                                    <input class="smallinput right" type="number" name="attr_spell_illusion_bonus" value="0" placeholder="0" title="@{spell_illusion_bonus}">
                                </div>
                                <div class="table-cell-one-fifth">
                                    <span class="cyberberry-normal" data-i18n="spell_bonus_manipulation">Manipulation</span>
                                    <input class="smallinput right" type="number" name="attr_spell_manipulation_bonus" value="0" placeholder="0" title="@{spell_manipulation_bonus}">
                                </div>
                                <div class="table-cell-one-fifth">
                                    <span class="cyberberry-normal" data-i18n="spell_bonus_detection">Wahrnehmung</span>
                                    <input class="smallinput right" type="number" name="attr_spell_detection_bonus" value="0" placeholder="0" title="@{spell_detection_bonus}">
                                </div>
                            </div>
                        </div>
                        <div class="innertable-stagger">
                            <fieldset class="repeating_spells">
                                <div class="innertable-stagger-flat">
                                    <div class="table-row-superflat">
                                        <div class="table-cell-tiny">
                                            &nbsp; <!-- Spacer -->
                                        </div>
                                    </div>
                                </div>
                                <div class="table-row-flat">
                                    <div class="table-cell-one-fifth">
                                        <input class="spellname" type="text" name="attr_spell_name" value="Zaubername" />
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry-normal" data-i18n="spell_drain">Entzug des Zaubers</span>
                                        <input class="smallinput right" type="number" name="attr_spell_drain_base" value="2" placeholder="2" min="2" title="@{spell_drain_base}">
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry-normal" data-i18n="spelldrainampup">Hochdrehen</span>
                                        <input class="smallinput right" type="number" name="attr_spelldrainampup" value="0" placeholder="0" min="0" title="@{spelldrainampup}">
                                        <input class="smallinput right" type="hidden" name="attr_spelldamage" value="0" placeholder="0" min="0" title="@{spelldamage}">
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry-normal" data-i18n="spell_drain_area">Fläche vergrößern</span>
                                        <input class="smallinput right" type="number" name="attr_spell_drain_area" value="0" placeholder="0" min="0" title="@{spell_drain_area}">
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <button class="magicrollbutton" type="roll" name="cast_spell" value="@{gm_toggle} &{template:roll}{{mainattribute=^{act_spellcasting}}}{{spiritheadline=@{spell_name}}}{{category=^{@{spellscategory}}}}{{range=^{@{spellsrange}}}}{{type=^{@{spellstype}}}}{{duration=^{@{spellsduration}}}}{{spelldamage=[[@{spelldamage}]]}}{{draincode=[[@{spell_drain_base}+2*@{spelldrainampup}+@{spell_drain_area}]]}}{{drain=[[(@{display_willpower}+@{magic_drain_attribute})d6@{exploding_dice}cs>5>5sd]]}}{{dice=[[(@{magic_sorcery_total}+@{use_wounds}+@{sustain_malus}+@{mod_roll}+@{sorcery_bonus})d6@{exploding_dice}cs>5>5sd]]}}{{resist=^{@{spellsresist}}}}{{description=@{spells_rules}}}">
                                            <span class="cyberberry" data-i18n="roll">Würfeln</span>
                                        </button>
                                    </div>
                                </div>
                                <input class="toggle-hide" name="attr_togglespelldetails" type="checkbox" value="1"/>
                                <div class="table-row-flat">
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry-nopadding" data-i18n="spell_category">Kategorie</span>
                                        <select class="spellcategorydropdown whitebackground" name="attr_spellscategory" value="health" title="spells_type"> 
                                            <option value="spells_health" data-i18n="spells_health" selected>Heilung</option>
                                            <option value="spells_combat_direct" data-i18n="spells_combat_direct">Kampf</option>
                                            <option value="spells_combat_indirect" data-i18n="spells_combat_indirect">Kampf</option>
                                            <option value="spells_illusion" data-i18n="spells_illusion">Illusion</option>
                                            <option value="spells_manipulation" data-i18n="spells_manipulation" >Manipulation</option>
                                            <option value="spells_detection" data-i18n="spells_detection">Wahrnehmung</option>
                                        </select>
                                        <input class="smallinput hiddeninput" type="number" name="attr_sorcery_bonus" value="0" placeholder="0" title="@{sorcery_bonus}" readonly>
                                </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry-normal" data-i18n="spell_range">Reichweite</span>
                                        <select class="spellrangedropdown whitebackground right" name="attr_spellsrange" value="touch" title="spells_range" dir="rtl">
                                            <option value="spells_range_b" data-i18n="spells_range_b" selected>B</option>
                                            <option value="spells_range_bf" data-i18n="spells_range_bf">BF</option>
                                            <option value="spells_range_bff" data-i18n="spells_range_bff">BF (F)</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <span class="cyberberry-normal" data-i18n="spell_type">Art</span>
                                        <select class="spelltypedropdown whitebackground" name="attr_spellstype" value="mana" title="spells_type">
                                            <option value="spells_type_m" data-i18n="spells_type_m" selected>M</option>
                                            <option value="spells_type_p" data-i18n="spells_type_p">P</option>
                                        </select>
                                        <span class="cyberberry-normal" data-i18n="spell_duration">Dauer</span>
                                        <select class="adeptpowercostdropdown whitebackground right" name="attr_spellsduration" value="instant" title="spells_duration">
                                            <option value="spells_duration_i" data-i18n="spells_duration_i" selected>S</option>
                                            <option value="spells_duration_s" data-i18n="spells_duration_s">A</option>
                                            <option value="spells_duration_l" data-i18n="spells_duration_l">ZB</option>
                                            <option value="spells_duration_p" data-i18n="spells_duration_p">P</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <!--<div class="smallspacertwenty">&nbsp;</div>-->
                                        <select class="spellresistdropdown whitebackground" name="attr_spellsresist" value="choose" title="spells_resist">
                                            <option value="spells_resist_choose" data-i18n="spells_resist_choose" selected>Widerstand auswählen</option>
                                            <option value="spells_resist_bodstr" data-i18n="spells_resist_bodstr">KON + STÄ</option>
                                            <option value="spells_resist_bodwil" data-i18n="spells_resist_bodwil">KON + WIL</option>
                                            <option value="spells_resist_doubleforce" data-i18n="spells_resist_doubleforce">Kraftstufe×2</option>
                                            <option value="spells_resist_objectresistance" data-i18n="spells_resist_objectresistance">Objektwiderstand</option>
                                            <option value="spells_resist_perc" data-i18n="spells_resist_perc">INT + Wahrnehmung</option>
                                            <option value="spells_resist_reaint" data-i18n="spells_resist_reaint">REA + INT</option>
                                            <option value="spells_resist_reawil" data-i18n="spells_resist_reawil">REA + WIL</option>
                                            <option value="spells_resist_wilint" data-i18n="spells_resist_wilint">WIL + INT</option>
                                            <option value="spells_resist_willog" data-i18n="spells_resist_willog">WIL + LOG</option>
                                        </select>
                                    </div>
                                    <div class="table-cell-one-fifth">
                                        <input class="toggle-hide" name="attr_toggle_rule_spells" type="checkbox" value="1"/>
                                        <div class="magictoggle-on">
                                            <button class="spelltogglebutton" type="action" name="act_unlockrules">
                                                <span class="cyberberry-normal" data-i18n="editrules">Eingabemodus</span>
                                            </button>
                                        </div>
                                        <div class="magictoggle-off">
                                            <div class="tinyspacer">&nbsp;</div>
                                            <input class="spellrules" type="text" name="attr_spells_rules" value="Regeltext" />
                                            <div class="tinyspacer">&nbsp;</div>
                                            <button class="mini-togglebutton" type="action" name="act_lockrules">
                                                <span class="cyberberry-normal" data-i18n="done">Fertig</span>
                                            </button>
                                        </div>
                                    </div>
                                </div>
                            </fieldset>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <input class="toggle-hide" name="attr_rituals_hide" type="checkbox" value="1"/>
        <div class="inline magicsection"><br>
            rituals inside
        </div>
        <input class="toggle-hide" name="attr_alchemy_hide" type="checkbox" value="1"/>
        <div class="inline magicsection"><br>
            alchemy inside
        </div>
        <input class="toggle-hide" name="attr_craft_focus_hide" type="checkbox" value="1"/>
        <div class="inline magicsection"><br>
            focus crafting inside
        </div><br>
        Bitte wähle relevante Bereiche aus:<br>
        <input class="toggle-hide-not" name="attr_magic_skill_hide" type="checkbox" value="1"/> Magische Fertigkeiten
        <input class="toggle-hide-not" name="attr_adept_power_hide" type="checkbox" value="1"/> Adeptenkräfte
        <input class="toggle-hide-not" name="attr_conjuring_hide" type="checkbox" value="1"/> Beschwören
        <input class="toggle-hide-not" name="attr_spell_hide" type="checkbox" value="1"/> Zauber
        <input class="toggle-hide-not" name="attr_rituals_hide" type="checkbox" value="1"/> Rituale
        <input class="toggle-hide-not" name="attr_alchemy_hide" type="checkbox" value="1"/> Alchemie
        <input class="toggle-hide-not" name="attr_craft_focus_hide" type="checkbox" value="1"/> Fokusbau
    </div>
    <div class='sheet-matrix'>
        <h2>Matrix</h2>
        Angriff
        <input class="smallinput" type="number" name="attr_display_angriff" value="0" placeholder="0" title="@{at_base}" min="0" max="15"/>
        Schleicher
        <input class="smallinput" type="number" name="attr_display_schleicher" value="0" placeholder="0" title="@{sl_base}" min="0" max="15"/>
        Datenverarbeitung
        <input class="smallinput" type="number" name="attr_display_datenverarbeitung" value="0" placeholder="0" title="@{dv_base}" min="0" max="15"/>
        Firewall
        <input class="smallinput" type="number" name="attr_display_firewall" value="0" placeholder="0" title="@{fw_base}" min="0" max="15"/>
    </div>
    <div class='sheet-rigging'><h2>Rigging</h2></div>
    <div class='sheet-contacts'><h2>Contacts</h2></div>
    <div class='sheet-gear'><h2>Gear</h2></div>
    <div class='sheet-notes'><h2>Notes</h2></div>
    <div class='sheet-config'><br>
        <span class="cyberberry" data-i18n="customization_monitors">Anpassung der Schadensmonitore</span><br>
        <input class="smallinput" type="number" name="attr_phys_monitor_shift" value="0" placeholder="0" title="@{phys_monitor_shift}" min="-6" max="10"/>
        <span class="cyberberry" data-i18n="monitor_modifier_phys">Modifikator körperlicher Monitor</span>
        <input class="smallinput" type="number" name="attr_stun_monitor_shift" value="0" placeholder="0" title="@{stun_monitor_shift}" min="-6" max="10"/>
        <span class="cyberberry" data-i18n="monitor_modifier_stun">Modifikator geistiger Monitor</span>
        <br><br>
        
        <span class="cyberberry" data-i18n="customization_explanation">Hier steht der Text zur Erklärung der Headerwürfe</span><br>
        <h4>Angriffswurf</h4><br>
        <span class="cyberberry" data-i18n="weapon_name">Waffenname</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="weaponname" type="text" name="attr_personal_mainweapon" value="Ares Predator VI" />
        <span class="cyberberry" data-i18n="weapon_attackrating">Angriffswert</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_attackrating" value="2" placeholder="2" title="@{personal_attackrating}" min="1"/>
        <div class="tinyspacer">&nbsp;</div>
        <span class="cyberberry" data-i18n="weapon_damage">Schadenswert</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_damagecode" value="2" placeholder="2" title="@{personal_damagecode}" min="1"/>
        <div class="tinyspacer">&nbsp;</div>
        <span class="cyberberry" data-i18n="weapon_dicepool">Würfelpool</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_attack_dicepool" value="2" placeholder="2" title="@{personal_attack_dicepool}" min="1"/>
        
        <h4>Verteidigungswurf</h4><br>
        <span class="cyberberry" data-i18n="defense_rating">Verteidigungswert</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_defenserating" value="2" placeholder="2" title="@{defenserating}" min="0"/>
        <div class="tinyspacer">&nbsp;</div>
        <span class="cyberberry" data-i18n="defense_pool">Verteidigungspool</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_defensepool" value="2" placeholder="2" title="@{defensepool}" min="0"/>
        <div class="tinyspacer">&nbsp;</div><br>
        
        <h4>Schadenswiderstand</h4><br>
        <span class="cyberberry" data-i18n="defense_autosoak">Autoerfolge beim Soak</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_autosoak" value="0" placeholder="0" title="@{autosoak}" min="0"/>
        <div class="tinyspacer">&nbsp;</div>
        <span class="cyberberry" data-i18n="defense_soakpool">Schadenswiderstandspool</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_soakpool" value="2" placeholder="2" title="@{soakpool}" min="0"/>
        <div class="tinyspacer">&nbsp;</div><br>
        
        <h4>Fertigkeitswurf</h4><br>
        <span class="cyberberry" data-i18n="skillroll">Fertigkeitswurf</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="weaponname" type="text" name="attr_personal_skilldesc" value="Ares Predator VI" />
        <div class="tinyspacer">&nbsp;</div>
        <span class="cyberberry" data-i18n="defense_soakpool">Schadenswiderstandspool</span>
        <div class="tinyspacer">&nbsp;</div>
        <input class="smallinput" type="number" name="attr_personal_dicepool" value="2" placeholder="2" title="@{dicepool}" min="0"/>
        <div class="tinyspacer">&nbsp;</div>
        <!--<label class="switch" data-i18n-title="gm_whisper" title="GM-Roll y/n">
            <input name="attr_gm_toggle" type="checkbox" value"/w gm"/>
            <span class="slider">&nbsp;</span>
        </label><br>-->
    </div>
</div>
<!-- to do: toggle Wunden, Mods, explodierende Würfel ... Benennung der Fenster ... Unglück-->

<!-- Aufbau des Templates:
&{tracker}
Head: Skill/Attribut (optional: + zweites Attribut)(optional: Spezialisierung/Expertise)
Body: (optional: Angriffswert)
Body: (optional: Feuermodus)
Body: (optional: Verteidigungswert)
Body: (optional: Entzug) --> 
<!-- weiteres Template: Waffenname, AR, optional Reichweite, optional Munitionsverbrauch -->
<!-- was meint base? -> Recherche-->
<rolltemplate class="sheet-rolltemplate-post">
    <div class="sheet-template-container">
    	<div class="sheet-template-header">
    	    {{#category}}{{category}}{{/category}}
    	</div>
    	<div class="sheet-template-row">
    	    <div class="sheet-sub-headline">
    	        {{#name}}{{name}}{{/name}}
    	    </div>
    	</div>
	    <div class="sheet-template-row">
	        {{#description}}{{description}}{{/description}}
	    </div>
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-roll">
    <div class="sheet-template-container">
    	<div class="sheet-template-header">
    	    {{#mainattribute}}{{mainattribute}}{{/mainattribute}}
    	    {{#secondattribute}}+ {{secondattribute}}{{/secondattribute}}
    	    {{#specialisation}} [{{specialisation}}]{{/specialisation}}
    	    {{#expertise}} [{{expertise}}]{{/expertise}}
    	</div>
    	{{#spiritheadline}}
    	    <div class="sheet-template-row">
        	    <div class="sheet-sub-headline">
        	        {{spiritheadline}}
        	    </div>
        	    {{#force}}
    	            <div class="sheet-small-black-text">
        	            (Kraftstufe {{force}})
        	        </div>
        	    {{/force}}
                {{#category}}
    	            <div class="sheet-small-black-text">
        	            ({{category}}{{#range}}, {{range}}{{/range}}{{#type}}, {{type}}{{/type}}{{#duration}}, {{duration}}{{/duration}})
        	        </div>
        	    {{/category}}
        	</div>
    	{{/spiritheadline}}
    	{{#weaponname}}
        	<div class="sheet-template-row">
        	    <div class="sheet-sub-headline">
        	        {{weaponname}}
        	    </div>
        	    {{#firemode}}
        	        {{#range}}
        	        <br>
        	        <div class="sheet-small-black-text">
        	            ({{range}}, {{firemode}})
        	        </div>
        	        {{/range}}
        	    {{/firemode}}
        	</div>
    	{{/weaponname}}
    	{{#attackrating}}
    	    <div class="sheet-template-row">
    	        {{attackrating}} Angriffswert
    	    </div>
    	{{/attackrating}}
    	{{#defenserating}}
    	    <div class="sheet-template-row">
    	        {{defenserating}} Verteidigungswert
    	    </div>
    	{{/defenserating}}
    	{{#soaksuccess}}
    	    <div class="sheet-template-row">
    	        {{soaksuccess}} Autoerfolge
    	    </div>
    	{{/soaksuccess}}
    	{{#damage}}
    	    <div class="sheet-template-row">
    	        {{damage}} Schaden {{#damagetype}}({{damagetype}}){{/damagetype}}
    	    </div>
    	{{/damage}}
    	<div class="sheet-template-row">
    	    {{#dice}}{{dice}} Erfolge {{/dice}} {{#actingperson}}{{actingperson}}{{/actingperson}}
    	</div>
    	{{#rollGreater() spelldamage 0}}
    	    <div class="sheet-template-row">
    	        {{spelldamage}} Grundschaden
    	    </div>
    	{{/rollGreater() spelldamage 0}}
    	{{#spirit}}
    	    <div class="sheet-template-row">
    	        {{spirit}} Erfolge (Geist)
    	    </div>
    	{{/spirit}}
    	{{#draincode}}
    	    <div class="sheet-template-row">
    	        {{draincode}} Entzugscode
    	    </div>
    	{{/draincode}}
    	{{#drain}}
    	    <div class="sheet-template-row">
    	        {{drain}} Erfolge (Entzug)
    	    </div>
    	{{/drain}}
    	{{#resist}}
        	<div class="sheet-template-row">
    	        Probe {{resist}}
    	    </div>
    	{{/resist}}
    	{{#description}}
    		<div class="sheet-template-row">
	            {{description}}
	        </div> 
        {{/description}}
    </div>
</rolltemplate>
<rolltemplate class="sheet-rolltemplate-initiative">
    <div class="sheet-template-container">
    	<div class="sheet-template-header">
	        {{#mainattribute}}{{mainattribute}}{{/mainattribute}}: {{#dice}}{{dice}}{{/dice}}
    	</div>
    </div>
</rolltemplate>
<!-- ---------------------------SHEET WORKERS----------------- -->

<script type="text/worker">
    const buttonlist = ["copyright","chardata","attributes","skills","attacks","magic","matrix","rigging","contacts","gear","notes","configuration"];
    buttonlist.forEach(button => {
        on(`clicked:${button}`, function() {
            setAttrs({
                sheetTab: button
            });
        })
    });
    
    //Da Roll20 for-Schleifen außerhalb von Funktionen bei Systemstart initialisiert, scheint es nicht anders zu gehen
    const stunmonitor = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18"];
    stunmonitor.forEach(stuncheckbox => {
        on(`clicked:stun_toggle_${stuncheckbox}`, function(){
            getAttrs([`stun_${stuncheckbox}`], function(v){
                let checkstate=v[`stun_${stuncheckbox}`]!=="unchecked"?"unchecked":"checked";
                for(var checkedBoxes = 1; checkedBoxes < stuncheckbox; checkedBoxes++){
                    setAttrs({
                        [`stun_${checkedBoxes}`]: "checked",
                    })
                }
                for(var uncheckedBoxes = stuncheckbox; uncheckedBoxes < 19; uncheckedBoxes++){
                    setAttrs({[`stun_${uncheckedBoxes}`]: "unchecked",})
                }
                if(checkstate == "checked"){
                    setAttrs({
                        [`stun_${stuncheckbox}`]: "checked",
                        "wounds_stun_base": -Math.floor(stuncheckbox/3),
                    })
                } else {
                    setAttrs({"wounds_stun_base": -Math.floor((stuncheckbox-1)/3),})
                }
            })
        })
    })
    const physmonitor = ["1","2","3","4","5","6","7","8","9","10","11","12","13","14","15","16","17","18","19"];
    physmonitor.forEach(physcheckbox => {
        on(`clicked:phys_toggle_${physcheckbox}`, function(){
            getAttrs([`phys_${physcheckbox}`], function(v){
                let checkstate=v[`phys_${physcheckbox}`]!=="unchecked"?"unchecked":"checked";
                for(var checkedBoxes = 1; checkedBoxes < physcheckbox; checkedBoxes++){
                    setAttrs({
                        [`phys_${checkedBoxes}`]: "checked",
                    })
                }
                for(var uncheckedBoxes = physcheckbox; uncheckedBoxes < 20; uncheckedBoxes++){
                    setAttrs({[`phys_${uncheckedBoxes}`]: "unchecked",})
                }
                if(checkstate == "checked"){
                    setAttrs({
                        [`phys_${physcheckbox}`]: "checked",
                        "wounds_phys_base": -Math.floor(physcheckbox/3),
                    })
                } else {
                    setAttrs({"wounds_phys_base": -Math.floor((physcheckbox-1)/3),})
                }
            })
        })
    })
    on("change:wounds_stun_base change:wounds_phys_base change:wounds_mod", function(){
        getAttrs(["wounds_stun_base","wounds_phys_base","wounds_mod"], function(v){
            setAttrs({wounds_total: +v.wounds_stun_base+ +v.wounds_phys_base+ +v.wounds_mod})
        })
    })
    
    //Handlungsverwaltung
    on("change:minor_action_count", function(){
        getAttrs(["minor_action_count"], function(v){
            let mac = v.minor_action_count;
            if(mac <= 2){
                setAttrs({
                    "minor_action_count":2,"major_1_show":1,"major_2_show":0,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":0,"minor_4_show":0,"minor_5_show":0,
                })
            }
            if(mac == 3){
                setAttrs({
                    "minor_action_count":3,"major_1_show":1,"major_2_show":0,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":1,"minor_4_show":0,"minor_5_show":0,
                })
            }
            if(mac == 4){
                setAttrs({
                    "minor_action_count":4,"major_1_show":1,"major_2_show":1,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":1,"minor_4_show":1,"minor_5_show":0,
                })
            }
            if(mac >= 5){
                setAttrs({
                    "minor_action_count":5,"major_1_show":1,"major_2_show":1,
                    "minor_1_show":1,"minor_2_show":1,"minor_3_show":1,"minor_4_show":1,"minor_5_show":1,
                })
            }
        })
    })
    const actions = ["major_1","major_2","minor_1","minor_2","minor_3","minor_4","minor_5"]; //major_1_toggle
    actions.forEach(action => {
        on(`clicked:${action}_toggle`, function(){ //one-way-toggle does not need getAttrs
            setAttrs({
                [`${action}`]: "struck",
            })
        })
    })
    on("clicked:reset_action_count", function(){
        setAttrs({
            "major_1": "unstruck","major_2": "unstruck",
            "minor_1": "unstruck","minor_2": "unstruck","minor_3": "unstruck","minor_4": "unstruck","minor_5": "unstruck",
        })
    })
    
    //Edge Management
    on("clicked:edge_plus_two", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.min(7,+v.edge_current+2),})})})
    on("clicked:edge_plus_one", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.min(7,+v.edge_current+1),})})})
    on("clicked:edge_minus_one", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-1),})})})
    on("clicked:edge_minus_two", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-2),})})})
    on("clicked:edge_minus_three", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-3),})})})
    on("clicked:edge_minus_four", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-4),})})})
    on("clicked:edge_minus_five", function(){getAttrs(["edge_current"], function(v){setAttrs({edge_current: Math.max(0,+v.edge_current-5),})})})
    on("change:edge_current", function(){ 
        getAttrs(["edge_current"], function(v){
            for(var i=v.edge_current; i<8; i++){
                setAttrs({
                    [`edge_${i}`]:1,
                })
            }
            for(var i=1;i <= v.edge_current;i++){
                setAttrs({
                    [`edge_${i}`]:0,
                })
            }
            if(v.edge_current == 0){ //reverse logic for edge 0, otherwise it destroys the shape of the sheet
                setAttrs({edge_0:0})
            } else {
                setAttrs({edge_0:1})
            }
        })
    })
    on("clicked:edge_reset", () => {
        getAttrs(["display_edge","edge_current"], (v) => {
            if(v.edge_current > v.display_edge){
                setAttrs({
                    edge_current: v.display_edge,
                })
            }
        })
    })
    
    //exploding dice
    on("change:explode_toggle", function(){
        getAttrs(["explode_toggle"], function(v){
            let edge = (v.explode_toggle != 0) ? "!" : "";
            setAttrs({
                exploding_dice: edge,
            })
        })
    })
    
    on("change:phys_monitor_shift", () => {
        getAttrs(["body_base","body_modifier","phys_monitor_shift"], (v) => {
            var physmonitorsize = 8 + +v.phys_monitor_shift + Math.ceil((+v.body_base + +v.body_modifier)/2);
            for(var a = 1; a <= physmonitorsize; a++){setAttrs({[`phys_${a}_hide`]: 0,})}
            for(var i = physmonitorsize+1; i < 20; i++){setAttrs({[`phys_${i}_hide`]: 1,[`phys_${i}`]: "unchecked",})}
        })
    })
        on("change:stun_monitor_shift", () => {
        getAttrs(["willpower_base","willpower_modifier","stun_monitor_shift"], (v) => {
            var stunmonitorsize = 8 + +v.stun_monitor_shift + Math.ceil((+v.willpower_base + +v.willpower_modifier)/2);
            for(var a = 1; a <= stunmonitorsize; a++){setAttrs({[`stun_${a}_hide`]: 0,})}
            for(var i = stunmonitorsize+1; i < 20; i++){setAttrs({[`stun_${i}_hide`]: 1,[`stun_${i}`]: "unchecked",})}
        })
    })
    const attributes = ["body","agility","reaction","strength","willpower","logic","intuition","charisma","edge","magic","resonance","composure","judgeintent","memory","liftcarry","ini","inidice","iniphys","inimatrix","iniastral"];
    attributes.forEach(attribute => {
        on(`change:${attribute}_base change:${attribute}_modifier`, function(){
            getAttrs([`${attribute}_base`,`${attribute}_modifier`], function(v){
                setAttrs({
                    [`display_${attribute}`]: +v[`${attribute}_base`] + +v[`${attribute}_modifier`],
                    inidice_base:       1,
                }) //no switches?!
                if(attribute == "body"){
                    getAttrs(["display_willpower"], function(val){
                        setAttrs({
                            liftcarry_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_willpower,
                        })  
                    })
                    getAttrs(["phys_monitor_shift"], (val) => {
                        var physmonitorsize = 8 + +val.phys_monitor_shift + Math.ceil((+v[`${attribute}_base`] + +v[`${attribute}_modifier`])/2);
                        for(var a = 1; a <= physmonitorsize; a++){setAttrs({[`phys_${a}_hide`]: 0,})}
                        for(var i = physmonitorsize+1; i < 20; i++){setAttrs({[`phys_${i}_hide`]: 1,[`phys_${i}`]: "unchecked",})}
                    })
                }
                if(attribute == "agility"){console.log("working on: "+attribute);}
                if(attribute == "reaction"){
                    getAttrs(["display_intuition"], function(val){
                        setAttrs({
                            ini_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                            iniphys_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                        })  
                    })
                }
                if(attribute == "strength"){console.log("working on: "+attribute);}
                if(attribute == "willpower"){
                    getAttrs(["display_body","display_intuition","display_charisma"], function(val){
                        setAttrs({
                            liftcarry_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_body,
                            judgeintent_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                            composure_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_charisma,
                        })  
                    })
                    getAttrs(["stun_monitor_shift"], (val) => {
                        console.log(val.stun_monitor_shift);
                        var stunmonitorsize = 8 + +val.stun_monitor_shift + Math.ceil((+v[`${attribute}_base`] + +v[`${attribute}_modifier`])/2);
                        console.log(stunmonitorsize);
                        for(var a = 1; a <= stunmonitorsize; a++){setAttrs({[`stun_${a}_hide`]: 0,})}
                        for(var i = stunmonitorsize+1; i < 19; i++){setAttrs({[`stun_${i}_hide`]: 1,[`stun_${i}`]: "unchecked",})}
                    })
                }
                if(attribute == "logic"){
                    getAttrs(["display_intuition"], function(val){
                        setAttrs({
                            iniastral_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                            memory_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_intuition,
                        })  
                    })
                }
                if(attribute == "intuition"){
                    getAttrs(["display_reaction","display_willpower","display_logic","display_datenverarbeitung"], function(val){
                        setAttrs({
                            composure_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_willpower,
                            ini_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_reaction,
                            iniastral_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_logic,
                            inimatrix_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_datenverarbeitung,
                            iniphys_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_reaction,
                            memory_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_logic,
                        })  
                    })
                }
                if(attribute == "charisma"){
                    getAttrs(["display_willpower"], function(val){
                        setAttrs({
                            composure_base: +v[`${attribute}_base`] + +v[`${attribute}_modifier`] + +val.display_willpower,
                        })  
                    })
                }
                if(attribute == "edge"){console.log("working on: "+attribute);}
                if(attribute == "magic"){console.log("working on: "+attribute);}
                if(attribute == "resonance"){console.log("working on: "+attribute);}
            })
        })
    })
    
    //Fertigkeitspools
    const skills = ["athletics","influence","electronics","firearms","stealth","engineering","melee","outdoors","piloting","con","perception","astral","biotech","cracking","exoticweapons"];
    const magicalSkills = ["astral","conjuring","sorcery","enchanting"];
    skills.forEach(skill => {
        on(`change:skill_${skill}_base change:skill_${skill}_modifier change:skill_${skill}_attribute`, function(){
            getAttrs([`skill_${skill}_base`,`skill_${skill}_modifier`,`skill_${skill}_attribute`], function(v){
                getAttrs([skill_attribute = v[`skill_${skill}_attribute`]], function(val){
                    console.log(skill +" -> "+ v[`skill_${skill}_attribute`] +"="+ val[skill_attribute] +" + skill="+ v[`skill_${skill}_base`] + " + mod="+ v[`skill_${skill}_modifier`]);
                    if(v[`skill_${skill}_base`] > 4) {
                        setAttrs({
                            [`skill_${skill}_exp_visibility`]:1,
                            //no change for expertise entry
                            [`skill_${skill}_total_exp`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+3,
                            [`skill_${skill}_spec_visibility`]:1,
                            //no change for specialisation entry
                            [`skill_${skill}_total_spec`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+2,
                            [`skill_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                        })
                    }
                    if(v[`skill_${skill}_base`] > 0 && v[`skill_${skill}_base`] < 5){
                        setAttrs({
                            [`skill_${skill}_exp_visibility`]:0,
                            [`skill_${skill}_exp`]:"",
                            [`skill_${skill}_total_exp`]:0,
                            [`skill_${skill}_spec_visibility`]:1,
                            //no change for specialisation entry
                            [`skill_${skill}_total_spec`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+2,
                            [`skill_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                        })
                        
                    }
                    if(skill == "astral" || skill == "biotech" || skill == "conjuring" || skill == "exoticweapons" || skill == "sorcery" || skill == "tasking" || skill == "enchanting"){
                        if(v[`skill_${skill}_base`] < 1){
                            setAttrs({
                                [`skill_${skill}_exp_visibility`]:0,
                                [`skill_${skill}_exp`]:"",
                                [`skill_${skill}_total_exp`]:0,
                                [`skill_${skill}_spec_visibility`]:0,
                                [`skill_${skill}_spec`]:"",
                                [`skill_${skill}_total_spec`]: 0,
                                [`skill_${skill}_total`]: 0,
                                [`skill_${skill}_base`]: -1,
                            })
                        }
                    } else {
                        if(v[`skill_${skill}_base`] < 1) {
                            setAttrs({
                                [`skill_${skill}_exp_visibility`]:0,
                                [`skill_${skill}_exp`]:"",
                                [`skill_${skill}_total_exp`]:0,
                                [`skill_${skill}_spec_visibility`]:0,
                                [`skill_${skill}_spec`]:"",
                                [`skill_${skill}_total_spec`]: 0,
                                [`skill_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                                [`skill_${skill}_base`]: -1,
                            })
                        }
                    }
                })
            })
        })
    })
    magicalSkills.forEach(skill => {
        on(`change:skill_${skill}_base change:skill_${skill}_modifier change:skill_${skill}_attribute`, function(){
            getAttrs([`skill_${skill}_base`,`skill_${skill}_modifier`,`magic_${skill}_attribute`], function(v){
                getAttrs([skill_attribute = v[`magic_${skill}_attribute`]], function(val){
                    console.log("magic: " + skill +" -> "+ v[`magic_${skill}_attribute`] +"="+ val[skill_attribute] +" + skill="+ v[`skill_${skill}_base`] + " + mod="+ v[`skill_${skill}_modifier`]);
                    if(v[`skill_${skill}_base`] > 4) {
                        setAttrs({
                            [`skill_${skill}_exp_visibility`]:1,
                            //no change for expertise entry
                            [`magic_${skill}_total_exp`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+3,
                            [`skill_${skill}_spec_visibility`]:1,
                            //no change for specialisation entry
                            [`magic_${skill}_total_spec`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+2,
                            [`magic_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                        })
                    }
                    if(v[`skill_${skill}_base`] > 0 && v[`skill_${skill}_base`] < 5){
                        setAttrs({
                            [`skill_${skill}_exp_visibility`]:0,
                            [`skill_${skill}_exp`]:"",
                            [`magic_${skill}_total_exp`]:0,
                            [`skill_${skill}_spec_visibility`]:1,
                            //no change for specialisation entry
                            [`magic_${skill}_total_spec`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`]+2,
                            [`magic_${skill}_total`]: +val[skill_attribute]+ +v[`skill_${skill}_base`]+ +v[`skill_${skill}_modifier`],
                        })
                        
                    }
                    if(v[`skill_${skill}_base`] < 1){
                        setAttrs({
                            [`skill_${skill}_exp_visibility`]:0,
                            [`skill_${skill}_exp`]:"",
                            [`magic_${skill}_total_exp`]:0,
                            [`skill_${skill}_spec_visibility`]:0,
                            [`skill_${skill}_spec`]:"",
                            [`magic_${skill}_total_spec`]: 0,
                            [`magic_${skill}_total`]: 0,
                            [`skill_${skill}_base`]: -1,
                        })
                    }
                })
            })
        })
    })
    
    //Ausblenden von Rolls ohne Spez und Exp
    skills.forEach(skill => {
        on(`change:skill_${skill}_spec change:skill_${skill}_exp`, function(){
            getAttrs([`skill_${skill}_spec`,`skill_${skill}_exp`], function(v){
                if(!!v[`skill_${skill}_spec`]){setAttrs({[`skill_${skill}_spec_roll_visibility`]:1,})
                } else {setAttrs({[`skill_${skill}_spec_roll_visibility`]:0,})}
                if(!!v[`skill_${skill}_exp`]){setAttrs({[`skill_${skill}_exp_roll_visibility`]:1,})
                } else {setAttrs({[`skill_${skill}_exp_roll_visibility`]:0,})}
            })
        })
    })
    magicalSkills.forEach(skill => {
        on(`change:skill_${skill}_spec change:skill_${skill}_exp`, function(){
            getAttrs([`skill_${skill}_spec`,`skill_${skill}_exp`], function(v){
                if(!!v[`skill_${skill}_spec`]){setAttrs({[`skill_${skill}_spec_roll_visibility`]:1,})
                } else {setAttrs({[`skill_${skill}_spec_roll_visibility`]:0,})}
                if(!!v[`skill_${skill}_exp`]){setAttrs({[`skill_${skill}_exp_roll_visibility`]:1,})
                } else {setAttrs({[`skill_${skill}_exp_roll_visibility`]:0,})}

            })
        })
    })
    //alle Fertigkeiten sichtbar machen
    on("clicked:reset_skill_visibility", function(){ //für den Reiter Fertigkeiten
        skills.forEach(skill => {
            setAttrs({
                [`skill_${skill}_hide`]:0,
            })
        })
    })
    on("clicked:reset_magic_visibility", () => { //für den Reiter Magie
        magicalSkills.forEach(skill => {
            setAttrs({
                [`magic_${skill}_hide`]:0,
            })
        })
    })
    
    //Ausblenden von Fertigkeiten
    on("clicked:hide_unused_skills", function(){
        skills.forEach(skill => {
            getAttrs([`skill_${skill}_base`], function(v){
                if(v[`skill_${skill}_base`] < 0){
                    setAttrs({
                        [`skill_${skill}_hide`]:1,
                    })
                }
            })
        })
    })
    
    on("clicked:hide_unused_magics", () => {
        magicalSkills.forEach(skill => {
            getAttrs([`skill_${skill}_base`], (v) => {
                if(v[`skill_${skill}_base`] < 0){
                    setAttrs({
                        [`magic_${skill}_hide`]:1,
                    })
                }
            })
        })
    })
    //Zurücksetzen von Fertigkeiten, Attribute sind ein Krampf ^_^
    on("clicked:reset_magic_values", function(){
        magicalSkills.forEach(skill => {
           setAttrs({
               [`skill_${skill}_base`]:-1,
               [`skill_${skill}_exp`]:"",
               [`skill_${skill}_exp_roll_visibility`]:0,
               [`skill_${skill}_exp_visibility`]:0,
               [`skill_${skill}_hide`]:0,
               [`skill_${skill}_spec`]:"",
               [`skill_${skill}_spec_roll_visibility`]:0,
               [`skill_${skill}_spec_visibility`]:0,
               [`magic_${skill}_total`]:0,
           }) 
           if(skill = "astral"){
               setAttrs({
                        [`magic_${skill}_attribute`]:"display_intuition",
                })
           } else {
              setAttrs({
                        [`magic_${skill}_attribute`]:"display_magic",
                })
           }
        });
    });
    
    on("clicked:reset_skill_values", function(){
        skills.forEach(skill => {
            setAttrs({
                [`skill_${skill}_base`]:-1,
                [`skill_${skill}_exp`]:"",
                [`skill_${skill}_exp_roll_visibility`]:0,
                [`skill_${skill}_exp_visibility`]:0,
                [`skill_${skill}_hide`]:0,
                [`skill_${skill}_spec`]:"",
                [`skill_${skill}_spec_roll_visibility`]:0,
                [`skill_${skill}_spec_visibility`]:0,
            })
            if(skill == "athletics" || skill == "firearms" || skill == "stealth" || skill == "melee"){
                getAttrs(["display_agility"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_agility",
                        [`skill_${skill}_total`]: +v.display_agility -1,
                    })
                })
            }
            if(skill == "piloting"){
                getAttrs(["display_reaction"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_reaction",
                        [`skill_${skill}_total`]: +v.display_reaction -1,
                    })
                })
            }
            if(skill == "outdoors" ||skill == "perception"){
                getAttrs(["display_intuition"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_intuition",
                        [`skill_${skill}_total`]: +v.display_intuition -1,
                    })
                })
            }
            if(skill == "astral"){
                getAttrs(["display_intuition"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_intuition",
                        [`skill_${skill}_total`]:0,
                    })
                })
            }
            if(skill == "engineering"){
                getAttrs(["display_logic"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_logic",
                        [`skill_${skill}_total`]: +v.display_logic -1,
                    })
                })
            }
            if(skill == "biotech" || skill == "cracking" || skill == "electronics"){
                getAttrs(["display_logic"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_logic",
                        [`skill_${skill}_total`]:0,
                    })
                })
            }
            if(skill == "influence" || skill == "con"){
                getAttrs(["display_charisma"], function(v){
                    setAttrs({
                        [`skill_${skill}_attribute`]:"display_charisma",
                        [`skill_${skill}_total`]: +v.display_charisma -1,
                    })
                })
            }
        })
    });
    /* ALWAYS REMEMBER ... ACTION BUTTONS IN REPEATING SECTIONS WITHOUT UNDERSCORES*/

    on("clicked:repeating_rangeweapons:reload", function(){
        getAttrs(["repeating_rangeweapons_maximum_ammo"], function(values){
            setAttrs({
                'repeating_rangeweapons_current_ammo': values.repeating_rangeweapons_maximum_ammo,
            });
       })
    });
    
    on("change:repeating_rangeweapons:firemodeem", function(){getAttrs(["repeating_rangeweapons_firemodeem"], function(values){if(values.repeating_rangeweapons_firemodeem == 1){setAttrs({'repeating_rangeweapons_firemodehm': 0,'repeating_rangeweapons_firemodesm': 0,'repeating_rangeweapons_firemodeam': 0,'repeating_rangeweapons_firemode_ar_mod': 0,'repeating_rangeweapons_firemode_dam_mod': 0,'repeating_rangeweapons_firemode_name': "firemode_em",});}})});
    on("change:repeating_rangeweapons:firemodehm", function(){getAttrs(["repeating_rangeweapons_firemodehm"], function(values){if(values.repeating_rangeweapons_firemodehm == 1){setAttrs({'repeating_rangeweapons_firemodeem': 0,'repeating_rangeweapons_firemodesm': 0,'repeating_rangeweapons_firemodeam': 0,'repeating_rangeweapons_firemode_ar_mod': -2,'repeating_rangeweapons_firemode_dam_mod': 1,'repeating_rangeweapons_firemode_name': "firemode_hm",})
           }
       }) 
    });
        on("change:repeating_rangeweapons:firemodesm", function(){ /* only ask for single changing field ... thus the element of change is obvious*/
       getAttrs(["repeating_rangeweapons_firemodesm"], function(values){
           if(values.repeating_rangeweapons_firemodesm == 1){
               setAttrs({
                   'repeating_rangeweapons_firemodehm': 0,
                   'repeating_rangeweapons_firemodeem': 0,
                   'repeating_rangeweapons_firemodeam': 0,
                   'repeating_rangeweapons_firemode_ar_mod': -4,
                   'repeating_rangeweapons_firemode_dam_mod': 2,
                   'repeating_rangeweapons_firemode_name': "firemode_sm",
               })
           }
       }) 
    });
        on("change:repeating_rangeweapons:firemodeam", function(){ /* only ask for single changing field ... thus the element of change is obvious*/
       getAttrs(["repeating_rangeweapons_firemodeam"], function(values){
           if(values.repeating_rangeweapons_firemodeam == 1){
               setAttrs({
                   'repeating_rangeweapons_firemodehm': 0,
                   'repeating_rangeweapons_firemodesm': 0,
                   'repeating_rangeweapons_firemodeem': 0,
                   'repeating_rangeweapons_firemode_ar_mod': 0,
                   'repeating_rangeweapons_firemode_dam_mod': 0,
                   'repeating_rangeweapons_firemode_name': "firemode_am",
               })
           }
       }) 
    });
    
    on("change:repeating_rangeweapons:firemode", function(){
       getAttrs(["repeating_rangeweapons_firemode"], function(values){
          if(values.repeating_rangeweapons_firemode > 3){setAttrs({'repeating_rangeweapons_am_visibility': 1});
          } else {setAttrs({'repeating_rangeweapons_am_visibility': 0});}
          if(values.repeating_rangeweapons_firemode % 2 == 1){setAttrs({'repeating_rangeweapons_hm_visibility': 1});
          } else {setAttrs({'repeating_rangeweapons_hm_visibility': 0});}
          if(values.repeating_rangeweapons_firemode % 4 > 1){setAttrs({'repeating_rangeweapons_sm_visibility': 1});
          } else {setAttrs({'repeating_rangeweapons_sm_visibility': 0});}
          setAttrs({'repeating_rangeweapons_em_visibility': 1,}); 
       }) 
    });
    on("change:repeating_rangeweapons:ammodamagemodifier change:repeating_rangeweapons:rangehidecomplexammo", function(){
        getAttrs(["repeating_rangeweapons_rangehidecomplexdamage","repeating_rangeweapons_ammodamagemodifier"], function(values){
            if(values.repeating_rangeweapons_rangehidecomplexdamage == "0"){
                setAttrs({
                    'repeating_rangeweapons_damagevclosemod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damageclosemod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damagemediummod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damagelongmod': values.repeating_rangeweapons_ammodamagemodifier,
                    'repeating_rangeweapons_damagevlongmod': values.repeating_rangeweapons_ammodamagemodifier,
                });
            }
        })
    });
    on("change:repeating_rangeweapons:ammoarmodifier change:repeating_rangeweapons:rangehidecomplexammo", function(){
        getAttrs(["repeating_rangeweapons_rangehidecomplexammo","repeating_rangeweapons_ammoarmodifier"], function(values){
            if(values.repeating_rangeweapons_rangehidecomplexammo == "0"){
                setAttrs({
                   'repeating_rangeweapons_arvclosemod': values.repeating_rangeweapons_ammoarmodifier,
                   'repeating_rangeweapons_arclosemod': values.repeating_rangeweapons_ammoarmodifier,
                   'repeating_rangeweapons_armediummod': values.repeating_rangeweapons_ammoarmodifier,
                   'repeating_rangeweapons_arlongmod': values.repeating_rangeweapons_ammoarmodifier,
                   'repeating_rangeweapons_arvlongmod': values.repeating_rangeweapons_ammoarmodifier,
                });
            }
        })
    });
    
    on("change:repeating_rangeweapons:rangeweapondamage change:repeating_rangeweapons:rangehidecomplexdamage", function(){
        getAttrs(["repeating_rangeweapons_rangeweapondamage","repeating_rangeweapons_rangehidecomplexdamage"], function(values){
            if(values.repeating_rangeweapons_rangehidecomplexdamage == "0"){
                setAttrs({
                    'repeating_rangeweapons_damage_vclose': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_close': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_medium': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_long': values.repeating_rangeweapons_rangeweapondamage,
                    'repeating_rangeweapons_damage_vlong': values.repeating_rangeweapons_rangeweapondamage,
                });
            }
        })
    });
    /* for visual purposes ... multi-connected CSS sucks*/
    on("change:repeating_rangeweapons:rangehidecomplexdamage change:repeating_rangeweapons:rangehidecomplexammo", function(){
       getAttrs(["repeating_rangeweapons_rangehidecomplexdamage","repeating_rangeweapons_rangehidecomplexammo"], function(values){
          if(values.repeating_rangeweapons_rangehidecomplexdamage == "1" && values.repeating_rangeweapons_rangehidecomplexammo == "1") {
              setAttrs({
                  'repeating_rangeweapons_rangehideboth': 1,
              });
          } else {
              setAttrs({
                  'repeating_rangeweapons_rangehideboth': 0,
              });
          }
       }) 
    });
    
    on("clicked:repeating_adeptpowers:lockrules", function(){setAttrs({'repeating_adeptpowers_toggle_rule_adeptpowers': 0,});});
    on("clicked:repeating_adeptpowers:unlockrules", function(){setAttrs({'repeating_adeptpowers_toggle_rule_adeptpowers': 1,});});
    on("clicked:repeating_spells:lockrules", function(){setAttrs({'repeating_spells_toggle_rule_spells': 0,});});
    on("clicked:repeating_spells:unlockrules", function(){setAttrs({'repeating_spells_toggle_rule_spells': 1,});});
    
    on("change:spirit_combat_type change:spirit_health_type change:spirit_illusion_type change:spirit_manipulation_type change:spirit_detection_type change:conjuring_combat change:conjuring_health change:conjuring_illusion change:conjuring_manipulation change:conjuring_detection change:mod_magic change:mod_conjuring change:conjuring_summoning_type", () => {
        getAttrs(["spirit_combat_type","spirit_health_type","spirit_illusion_type","spirit_manipulation_type","spirit_detection_type","conjuring_combat","conjuring_health","conjuring_illusion","conjuring_manipulation","conjuring_detection","mod_magic","mod_conjuring","conjuring_summoning_type"], (v) => {
            let totalbonus = 0;
            if(v.conjuring_summoning_type == v.spirit_combat_type){totalbonus += +v.conjuring_combat}
            if(v.conjuring_summoning_type == v.spirit_health_type){totalbonus += +v.conjuring_health}
            if(v.conjuring_summoning_type == v.spirit_illusion_type){totalbonus += +v.conjuring_illusion}
            if(v.conjuring_summoning_type == v.spirit_manipulation_type){totalbonus += +v.conjuring_manipulation}
            if(v.conjuring_summoning_type == v.spirit_detection_type){totalbonus += +v.conjuring_detection}
            totalbonus += +v.mod_magic;
            totalbonus += +v.mod_conjuring;
            setAttrs({
                conjuring_bonus: +totalbonus,
            })
        })
    });
    on("change:spell_combat_bonus change:spell_health_bonus change:spell_illusion_bonus change:spell_manipulation_bonus change:spell_detection_bonus change:mod_magic change:mod_spells change:repeating_spells:spellscategory", () => {
            getAttrs(["spell_combat_bonus","spell_health_bonus","spell_illusion_bonus","spell_manipulation_bonus","spell_detection_bonus","mod_magic","mod_spells","repeating_spells_spellscategory","skill_sorcery_spec","skill_sorcery_exp"], (v) => {
                let totalbonus = 0;
                if(v.repeating_spells_spellscategory == "spells_combat_indirect" || v.repeating_spells_spellscategory == "spells_combat_direct"){totalbonus += +v.spell_combat_bonus;}
                if(v.repeating_spells_spellscategory == "spells_health"){totalbonus += +v.spell_health_bonus;}
                if(v.repeating_spells_spellscategory == "spells_illusion"){totalbonus += +v.spell_illusion_bonus;}
                if(v.repeating_spells_spellscategory == "spells_manipulation"){totalbonus += +v.spell_manipulation_bonus;}
                if(v.repeating_spells_spellscategory == "spells_detection"){totalbonus += +v.spell_detection_bonus;}
                console.log("#1");
                if(v.skill_sorcery_spec == "Spruchzauberei" || v.skill_sorcery_spec == "sorcery"){totalbonus += 2; console.log("#2");}
                console.log("#3");
                if(v.skill_sorcery_exp == "Spruchzauberei" || v.skill_sorcery_exp == "sorcery"){totalbonus += 2}
                totalbonus += +v.mod_magic;
                totalbonus += +v.mod_spells;
                console.log(totalbonus + " = " + v.spell_combat_bonus + " " + v.spell_health_bonus + " " + v.spell_illusion_bonus + " " + v.spell_manipulation_bonus + " " + v.spell_detection_bonus + " / " + v.mod_magic + " / " + v.mod_spells + " | " + v.repeating_spells_spellscategory);
                setAttrs({
                    repeating_spells_sorcery_bonus: +totalbonus,
                })
            })
    });
    on("change:repeating_spells:spellscategory change:repeating_spells:spelldrainampup change:display_magic", () => {
        getAttrs(["repeating_spells_spellscategory","repeating_spells_spelldrainampup","display_magic"], (v) => {
          console.log(v.repeating_spells_spellscategory + ", " + v.repeating_spells_spelldrainampup + ", " + v.display_magic + ", " +Math.ceil(v.display_magic/2));
          if(v.repeating_spells_spellscategory == "spells_combat_indirect"){
              setAttrs({
                  repeating_spells_spelldamage: +Math.ceil(v.display_magic/2) + +v.repeating_spells_spelldrainampup,
              })
          }
          if(v.repeating_spells_spellscategory == "spells_combat_direct"){
              setAttrs({
                  repeating_spells_spelldamage: +v.repeating_spells_spelldrainampup,
              })
          }
          if(!v.repeating_spells_spellscategory.includes("combat")){
              setAttrs({
                  repeating_spells_spelldamage: 0,
                  repeating_spells_spelldrainampup: 0,
              })
          }
        })
    });
    on("change:togglespelldetails change:repeating_spells:togglespelldetails", () => {
        getAttrs(["togglespelldetails"], (v) => {
            getSectionIDs('repeating_spells', (idarray) => {
                idarray.forEach(id => {
                    setAttrs({
                        [`repeating_spells_${id}_togglespelldetails`]: v.togglespelldetails,
                    });
                });
            })
       });
    })
</script>

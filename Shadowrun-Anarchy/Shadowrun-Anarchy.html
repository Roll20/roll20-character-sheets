<div class="sheet-wrapper">
<div class="sheet-box">
    <!-- The "Shadowrun" logo -->
    <div class="sheet-thirtythreepercent">
        <img src="http://i.imgur.com/nyTmn4c.png" style="max-height: 100px;"/>
    </div>
    <!-- Top line: name, metatype, emerged/awakened checkboxes, essence -->
    <div class="sheet-sixtysixpercent">
        <div class="sheet-doublerow sheet-topline">
            <input type="text" name="attr_name"/><label>Name / Alias</label>
        </div>
        <div class="sheet-wrapper">
            <div class="sheet-fiftypercent">
                <div class="sheet-doublerow sheet-topline">
                    <input type="text" name="attr_metatype"/><label>Metatype</label>
                </div>
            </div>
            <div class="sheet-fiftypercent">
                <div class="sheet-row" style="margin-top:-20px;">
                    <div class="sheet-item sheet-tiny"></div>
                    <div class="sheet-item sheet-med"><label>Emerged:</label></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_emerged" value="1"/></div>
                    <div class="sheet-item sheet-med"><label>Awakened:</label></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_awakened" value="1"/></div>
                </div>
                <div class="sheet-row sheet-item">
                    <div class="sheet-item sheet-tiny"></div>
                    <div class="sheet-item sheet-small2"><label>Essence:</label></div>
                    <div class="sheet-item sheet-micro"></div>
                    <div class="sheet-item sheet-tiny"><input type="text" name="attr_essence" value="6"/></div>
                    <div class="sheet-item sheet-halftiny"></div>
                    <div class="sheet-item sheet-small2"><label>Penalty:</label></div>
                    <div class="sheet-item sheet-micro"></div>
                    <div class="sheet-item sheet-tiny"><input type="text" name="attr_essencePenalty" value="0"/></div>
                </div>
                <div class="sheet-row sheet-item"></div>
            </div>
        </div>
    </div>
    <!-- Attributes (left column) -->
    <div class="sheet-fiftypercent">
        <div class="sheet-header">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"></div>
            <div class="sheet-item sheet-puny"><label>Base</label></div>
            <div class="sheet-item sheet-halflittle"></div>
            <div class="sheet-item sheet-puny"><label>Mod</label></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-big"><label>Note</label></div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"><label>Strength:</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_strengthBase" value="1"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_strengthMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-morebig"><input type="text" name="attr_strengthModNote"/></div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"><label>Agility:</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_agilityBase" value="1"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_agilityMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-morebig"><input type="text" name="attr_agilityModNote"/></div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"><label>Willpower:</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_willpowerBase" value="1"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_willpowerMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-morebig"><input type="text" name="attr_willpowerModNote"/></div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"><label>Logic:</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_logicBase" value="1"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_logicMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-morebig"><input type="text" name="attr_logicModNote"/></div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"><label>Charisma:</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_charismaBase" value="1"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_charismaMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-morebig"><input type="text" name="attr_charismaModNote"/></div>
        </div>
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"><label>Edge:</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_edgeBase" value="1"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_edgeMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-morebig"><input type="text" name="attr_edgeModNote"/></div>
        </div>
        <div class="sheet-row sheet-item" style="margin-top:-12px;">
        </div>
        <div class="sheet-row sheet-item"></div>
        <div class="sheet-row sheet-item"></div>
    </div>
    <!-- Edge / plot checkboxes (right column) -->
    <div class="sheet-fiftypercent">
        <div class="sheet-wrapper">
            <div class="sheet-fiftypercent">
                <div class="sheet-row" style="margin-top:-10px;">
                    <div class="sheet-item sheet-tiny"></div>
                    <div class="sheet-item sheet-small2"><label>Edge:</label></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_ep1" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_ep2" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_ep3" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_ep4" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_ep5" value="1"/></div>
                </div>
            </div>
            <div class="sheet-fiftypercent">
                <div class="sheet-row" style="margin-top:-10px;">
                    <div class="sheet-item sheet-tiny"></div>
                    <div class="sheet-item sheet-small2"><label>Plot:</label></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_pp1" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_pp2" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_pp3" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_pp4" value="1"/></div>
                    <div class="sheet-item sheet-little"><input type="checkbox" name="attr_pp5" value="1"/></div>
                </div>
            </div>
        </div>
        <!-- Damage tracks: armor, physical, stun -->
        <div class="sheet-box">       
            <div class="sheet-wrapper">
                <!-- Armor track -->
                <div class="sheet-thirtythreepercent">
                    <div class="sheet-row sheet-item sheet-large">
                        <label>Armor:</label>
                    </div>
                    <!--
                     The formula for value is meant to result in either a 1 or a 0 depending on
                     whether the player actually has that many boxes available (per their Max).
                    <-->
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad1" value="floor((@{adMax}+99)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad2" value="floor((@{adMax}+98)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad3" value="floor((@{adMax}+97)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label></label></div>
                        <div class="sheet-item sheet-tiny"><label></label></div>
                        <div class="sheet-item sheet-doubletiny">
                            <!-- This seemed like a good idea but looks messy so it's hidden -->
                            <input type="hidden" name="attr_adCur" value="(@{armorDamage})" disabled="disabled"/>
                        </div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad4" value="floor((@{adMax}+96)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad5" value="floor((@{adMax}+95)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad6" value="floor((@{adMax}+94)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label></label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad7" value="floor((@{adMax}+93)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad8" value="floor((@{adMax}+92)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_ad9" value="floor((@{adMax}+91)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label></label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_adA" value="floor((@{adMax}+90)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_adB" value="floor((@{adMax}+89)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_adC" value="floor((@{adMax}+88)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label></label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"><label>of</label></div>
                        <div class="sheet-item sheet-doubletiny">
                            <input type="number" name="attr_adMax" value="12"/>
                        </div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_adD" value="floor((@{adMax}+87)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_adE" value="floor((@{adMax}+86)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_adF" value="floor((@{adMax}+85)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label></label></div>
                    </div>
                </div>
                <!-- Physical track -->
                <div class="sheet-thirtythreepercent">
                    <div class="sheet-row sheet-item sheet-large">
                        <label>Physical:</label>
                    </div>
                    <!--
                     Physical Condition is based on Strength. Divide Strength by two, round up, and add eight,
                     and thatâ€™s how many boxes you get on your Physical Condition Monitor.
                     So we always get at least 9 boxes for Physical. Conditionally neutralize the ones past that
                     by setting their value to 0 if the box doesn't apply (since we can't conditionally hide them).
                     The formula for value is meant to result in either a 1 or a 0 depending on whether the player
                     actually has that many boxes available (per their Max).
                    <-->
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd1" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd2" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd3" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><label>-1</label></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-doubletiny">
                            <!-- This seemed like a good idea but looks messy so it's hidden -->
                            <input type="hidden" name="attr_pdCur" value="(@{physicalDamage})" disabled="disabled"/>
                        </div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd4" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd5" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd6" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><label>-2</label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd7" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd8" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pd9" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><label>-3</label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pdA" value="floor((@{physicalLimit}+90)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pdB" value="floor((@{physicalLimit}+89)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pdC" value="floor((@{physicalLimit}+88)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label>-4</label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"><label>of</label></div>
                        <div class="sheet-item sheet-doubletiny">
                            <input type="number" name="attr_pdMax" value="(@{physicalLimit})" disabled="disabled"/>
                        </div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pdD" value="floor((@{physicalLimit}+87)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pdE" value="floor((@{physicalLimit}+86)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_pdF" value="floor((@{physicalLimit}+85)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label>-5</label></div>
                    </div>
                </div>
                <!-- Stun track -->
                <div class="sheet-thirtythreepercent">
                    <div class="sheet-row sheet-item sheet-large">
                            <label>Stun:</label>
                    </div>
                    <!--
                     Stun Damage is based on Willpower. As with Strength in the Physical Damage Track, divide
                     Willpower by two, round up, and add eight.
                     So we always get at least 9 boxes for Stun. Conditionally neutralize the ones past that by
                     setting their value to 0 if the box doesn't apply (since we can't conditionally hide them).
                     
                     The formula for value is meant to result in either a 1 or a 0 depending on whether the player
                     actually has that many boxes available (per their Max).
                    <-->
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd1" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd2" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd3" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><label>-1</label></div>
                        <div class="sheet-item sheet-tiny"><label></label></div>
                        <div class="sheet-item sheet-doubletiny">
                            <!-- This seemed like a good idea but looks messy so it's hidden -->
                            <input type="hidden" name="attr_sdCur" value="(@{stunDamage})" disabled="disabled"/>
                        </div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd4" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd5" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd6" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><label>-2</label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd7" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd8" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sd9" value="1"/></div>
                        <div class="sheet-item sheet-tiny"><label>-3</label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sdA" value="floor((@{stunLimit}+90)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sdB" value="floor((@{stunLimit}+89)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sdC" value="floor((@{stunLimit}+88)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label>-4</label></div>
                    </div>
                    <div class="sheet-row" style="margin-top:-12px;">
                        <div class="sheet-item sheet-tiny"><label>of</label></div>
                        <div class="sheet-item sheet-doubletiny">
                            <input type="number" name="attr_sdMax" value="(@{stunLimit})" disabled="disabled"/>
                        </div>
                        <div class="sheet-item sheet-tiny"></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sdD" value="floor((@{stunLimit}+87)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sdE" value="floor((@{stunLimit}+86)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><input type="checkbox" name="attr_sdF" value="floor((@{stunLimit}+85)/100)"/></div>
                        <div class="sheet-item sheet-tiny"><label>-5</label></div>
                    </div>
                </div>
            </div>
        </div>
        <!-- Static skills header (right column) -->
        <div class="sheet-header">
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-small"></div>
            <div class="sheet-item sheet-puny"><label>Base</label></div>
            <div class="sheet-item sheet-halflittle"></div>
            <div class="sheet-item sheet-puny"><label>Mod</label></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-big"><label>Note</label></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-puny"><label>Roll</label></div>
        </div>
        <!-- Static skill: perception (right column) -->
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <span title="(WIL+LOG)"><div class="sheet-item sheet-small"><label>Perception:</label></div></span>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_perceptionBase" value="(@{willpower} + @{logic})" disabled="disabled"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_perceptionMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-big"><input type="text" name="attr_perceptionModNote"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-puny">
                <button class="sheet-hidden-roll" type="roll" name="roll_perceptionRoll" value="&{template:default} {{name=Perception }} {{check=[[(@{perceptionDice} + ?{Modifiers?|0})d6>5]]}}" title="Perception Roll">
                    <input type="number" name="attr_perceptionDice" value="[[(@{willpowerBase} + @{willpowerMod} + @{logicBase} + @{logicMod} + @{perceptionMod} - @{rollMod})]]" disabled="disabled"/>
                </button>
            </div>
        </div>
        <!-- Static skill: memory (right column) -->
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <span title="(LOG+LOG)"><div class="sheet-item sheet-small"><label>Memory:</label></div></span>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_memoryBase" value="(@{logic} + @{logic})" disabled="disabled"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_memoryMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-big"><input type="text" name="attr_memoryModNote"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-puny">
                <button class="sheet-hidden-roll" type="roll" name="roll_memoryRoll" value="&{template:default} {{name=Memory }} {{check=[[(@{memoryDice} + ?{Modifiers?|0})d6>5]]}}">
                    <input type="number" name="attr_memoryDice" value="[[(@{logicBase} + @{logicMod} + @{logicBase} + @{logicMod} + @{memoryMod} - @{rollMod})]]" disabled="disabled"/>
                </button>
            </div>
        </div>
        <!-- Static skill: initiative (right column) -->
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <span title="(fixed:8)"><div class="sheet-item sheet-small"><label>Initiative:</label></div></span>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_initiativeBase" value="8" disabled="disabled"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_initiativeMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-big"><input type="text" name="attr_initiativeModNote"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-puny">
                <button class="sheet-hidden-roll" type="roll" name="roll_initiativeRoll" value="&{template:default} {{name=Initiative }} {{check=[[(@{initiativeDice})d6]]}}" title="Initiative Roll">
                    <input type="number" name="attr_initiativeDice" value="[[@{initiativeBase} + @{initiativeMod}]]" disabled="disabled"/>
                </button>
            </div>
        </div>
        <!-- Static skill: defense (right column) -->
        <div class="sheet-row">
            <div class="sheet-item sheet-micro"></div>
            <span title="(AGI+LOG)"><div class="sheet-item sheet-small"><label>Defense:</label></div></span>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_defenseBase" value="(@{agility} + @{logic})" disabled="disabled"/></div>
            <div class="sheet-item sheet-halflittle"><label>+</label></div>
            <div class="sheet-item sheet-puny"><input type="number" name="attr_defenseMod" value="0"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-big"><input type="text" name="attr_defenseModNote"/></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-puny">
                <button class="sheet-hidden-roll" type="roll" name="roll_defenseRoll" value="&{template:default} {{name=Defense }} {{check=[[(@{defenseDice} + ?{Modifiers?|0})d6>5]]}}" title="Defense Roll">
                    <input type="number" name="attr_defenseDice" value="[[(@{agilityBase} + @{agilityMod} + @{logicBase} + @{logicMod} + @{defenseMod} - @{rollMod})]]" disabled="disabled"/>
                </button>
            </div>
        </div>
    </div>
    <!-- One row of padding to push the next block down a bit -->
    <div class="sheet-row"><label></label></div>
    <!-- Skill list (left column) -->
    <div class="sheet-box sheet-sixtysixpercent">
        <div class="sheet-item sheet-center">
            <h3>Skills</h3>
        </div>
        <!-- Skill header, widths have to match the skill boxes below -->
        <div class="sheet-header">
            <div class="sheet-item sheet-med"><label>Skill</label></div>
            <div class="sheet-item sheet-pico"></div>
            <div class="sheet-item sheet-tiny"><label>Attr</label></div>
            <div class="sheet-item sheet-pico"></div>
            <div class="sheet-item sheet-puny"><label>Base</label></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-puny"><label>Mod</label></div>
            <div class="sheet-item sheet-pico"></div>
            <div class="sheet-item sheet-med"><label>Note</label></div>
            <div class="sheet-item sheet-pico"></div>
            <div class="sheet-item sheet-puny"><label>Roll</label></div>
        </div>
        <!-- Dynamic skill list, widths have to match the header above -->
        <fieldset class="repeating_skills">
            <div class="sheet-row">
                <div class="sheet-item sheet-med"><input type="text" name="attr_skillName"/></div>
                <div class="sheet-item sheet-pico"></div>
                <div class="sheet-item sheet-tiny">
                    <select name="attr_skillAttr">
                        <option value="@{agility}">AGI</option>
                        <option value="@{willpower}">WIL</option>
                        <option value="@{logic}">LOG</option>
                        <option value="@{charisma}">CHA</option>
                        <option value="@{edge}">EDG</option>
                    </select>
                </div>
                <div class="sheet-item sheet-pico"></div>
                <div class="sheet-item sheet-puny"><input type="number" name="attr_skillBase" value="0"/></div>
                <div class="sheet-item sheet-micro"><label>+</label></div>
                <div class="sheet-item sheet-puny"><input type="number" name="attr_skillMod" value="0"/></div>
                <div class="sheet-item sheet-pico"></div>
                <div class="sheet-item sheet-med"><input type="text" name="attr_skillNote"/></div>
                <div class="sheet-item sheet-pico"></div>
                <div class="sheet-item sheet-puny">
                    <button class="sheet-hidden-roll" type="roll" name="roll_skillRoll" value="&{template:default} {{name=@{skillName} }} {{check=[[(@{skillDice} + ?{Modifiers?|0})d6>5]]}}" title="Skill Roll">
                        <input type="number" name="attr_skillDice" value="(@{skillAttr} + @{skillBase} + @{skillMod} - @{rollMod})" disabled="disabled"/>
                    </button>
                </div>
            </div>
        </fieldset>
    </div>
    <!-- Weapon list (right column) -->
    <div class="sheet-box sheet-thirtythreepercent">
        <div class="sheet-item sheet-center">
            <h3>Weapons</h3>
        </div>
        <!-- Weapon header, widths have to match the weapon boxes below -->
        <div class="sheet-header">
            <div class="sheet-item sheet-big"><label>Name</label></div>
            <div class="sheet-item sheet-pico"></div>
            <div class="sheet-item sheet-little"><label>Dam</label></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-little"><label>Close</label></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-little"><label>Near</label></div>
            <div class="sheet-item sheet-micro"></div>
            <div class="sheet-item sheet-little"><label>Far</label></div>
        </div>
        <!-- Dynamic weapon list, widths have to match the header above -->
        <fieldset class="repeating_weapons">
            <div class="sheet-row">
                <div class="sheet-item sheet-big"><input type="text" name="attr_weaponName"/></div>
                <div class="sheet-item sheet-pico"></div>
                 <div class="sheet-item sheet-little"><input type="text" name="attr_weaponDamage" value=""/></div>
                <div class="sheet-item sheet-pico"></div>
                 <div class="sheet-item sheet-little"><input type="text" name="attr_weaponClose" value=""/></div>
                <div class="sheet-item sheet-pico"></div>
                 <div class="sheet-item sheet-little"><input type="text" name="attr_weaponNear" value=""/></div>
                <div class="sheet-item sheet-pico"></div>
                 <div class="sheet-item sheet-little"><input type="text" name="attr_weaponFar" value=""/></div>
            </div>
        </fieldset>
    </div>
    <div class="sheet-wrapper">
        <div class="sheet-fiftypercent">
            <div class="sheet-item sheet-center">
                <h3>Amps</h3>
            </div>
            <!-- Dynamic amp list, widths have to match the header above -->
            <fieldset class="repeating_amps">
                <div class="sheet-item sheet-tiny"><label>Name:</label></div>
                <div class="sheet-item sheet-morebig"><input type="text" name="attr_ampName"/></div>
                <div class="sheet-item sheet-little"></div>              
                <div class="sheet-item sheet-little"><label>Level:</label></div>
                <div class="sheet-item sheet-puny2"><input type="number" name="attr_ampLevel" value="1"/></div>
                <textarea class="sheet-textarea" name="attr_ampInfo"></textarea>
            </fieldset>
        </div>
        <div class="sheet-fiftypercent">
            <!-- Text boxes for qualities (2 pos, 1 neg) and plot directives (2 total) -->
            <div class="sheet-item sheet-center">
                <h3>Qualities</h3>
            </div>
            <textarea class="sheet-textarea" name="attr_qualityP1"></textarea>
            <textarea class="sheet-textarea" name="attr_qualityP2"></textarea>
            <textarea class="sheet-textarea" name="attr_qualityN1"></textarea>
            <div class="sheet-row sheet-item"></div>
            <div class="sheet-item sheet-center">
                <h3>Plot Directives</h3>
            </div>
            <textarea class="sheet-textarea" name="attr_plotDirective1"></textarea>
            <textarea class="sheet-textarea" name="attr_plotDirective2"></textarea>
        </div>
    </div>
    <!--
    <
    < Computed fields
    <
    <-->
    <!-- Attributes -->
    <input type="hidden" name="attr_strength" value="(@{strengthBase} + @{strengthMod})" disabled="disabled"/>
    <input type="hidden" name="attr_agility" value="(@{agilityBase} + @{agilityMod})" disabled="disabled"/>
    <input type="hidden" name="attr_willpower" value="[[(@{willpowerBase} + @{willpowerMod})]]" disabled="disabled"/>
    <input type="hidden" name="attr_logic" value="(@{logicBase} + @{logicMod})" disabled="disabled"/>
    <input type="hidden" name="attr_charisma" value="(@{charismaBase} + @{charismaMod})" disabled="disabled"/>
    <input type="hidden" name="attr_edge" value="(@{edgeBase} + @{edgeMod})" disabled="disabled"/>
    <!-- Skills -->
    <input type="hidden" name="attr_perception" value="(@{perceptionBase} + @{perceptionMod})" disabled="disabled"/>
    <input type="hidden" name="attr_memory" value="(@{memoryBase} + @{memoryMod})" disabled="disabled"/>
    <input type="hidden" name="attr_initiative" value="(@{initiativeBase} + @{initiativeMod})" disabled="disabled"/>
    <input type="hidden" name="attr_defense" value="(@{defenseBase} + @{defenseMod})" disabled="disabled"/>
    <!-- Damage -->
    <input type="hidden" name="attr_physicalLimit" value="(ceil(@{strength} / 2) + 8)" disabled="disabled"/>
    <input type="hidden" name="attr_stunLimit" value="(ceil(@{willpower} / 2) + 8)" disabled="disabled"/>
    <input type="hidden" name="attr_armorDamage" value="(@{ad1} + @{ad2} + @{ad3} + @{ad4} + @{ad5} + @{ad6} + @{ad7} + @{ad8} + @{ad9} + @{adA} + @{adB} + @{adC} + @{adD} + @{adE} + @{adF})" disabled="disabled"/>
    <input type="hidden" name="attr_physicalDamage" value="(@{pd1} + @{pd2} + @{pd3} + @{pd4} + @{pd5} + @{pd6} + @{pd7} + @{pd8} + @{pd9} + @{pdA} + @{pdB} + @{pdC} + @{pdD} + @{pdE} + @{pdF})" disabled="disabled"/>
    <input type="hidden" name="attr_stunDamage" value="(@{sd1} + @{sd2} + @{sd3} + @{sd4} + @{sd5} + @{sd6} + @{sd7} + @{sd8} + @{sd9} + @{sdA} + @{sdB} + @{sdC} + @{sdD} + @{sdE} + @{sdF})" disabled="disabled"/>
    <input type="hidden" name="attr_armorPenalty" value="(floor(@{armorDamage} / 3))" disabled="disabled"/>
    <input type="hidden" name="attr_physicalPenalty" value="(floor(@{physicalDamage} / 3))" disabled="disabled"/>
    <input type="hidden" name="attr_stunPenalty" value="(floor(@{stunDamage} / 3))" disabled="disabled"/>
    <!--
     NOTE: Double square brackets around a thing collapse a formula into an value with that formula as a
           tooltip when displyed in roll results. A second level of brackets eliminates the tooltip entirely.
    <-->
    <input type="hidden" name="attr_rollMod" value="[[[[(@{physicalPenalty} + @{stunPenalty})]]]]" disabled="disabled"/>
</div>
</div>

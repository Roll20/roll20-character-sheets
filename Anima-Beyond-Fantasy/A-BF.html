<script type="text/worker">
	/* ---- BEGIN: TheAaronSheet.js ---- */
	// Github:   https://github.com/shdwjk/TheAaronSheet/blob/master/TheAaronSheet.js
	// By:       The Aaron, Arcane Scriptomancer
	// Contact:  https://app.roll20.net/users/104025/the-aaron

	var TAS = TAS || (function(){
		'use strict';

		var version = '0.2.5',
			lastUpdate = 1504710542,

			loggingSettings = {
				debug: {
					key:     'debug',
					title:   'DEBUG',
					color: {
						bgLabel: '#7732A2',
						label:   '#F2EF40',
						bgText:  '#FFFEB7',
						text:    '#7732A2'
					}
				},
				error: {
					key:     'error',
					title:   'Error',
					color: {
						bgLabel: '#C11713',
						label:   'white',
						bgText:  '#C11713',
						text:    'white'
					}
				},
				warn: {
					key:     'warn',
					title:   'Warning',
					color: {
						bgLabel: '#F29140',
						label:   'white',
						bgText:  '#FFD8B7',
						text:    'black'
					}
				},
				info: {
					key:     'info',
					title:   'Info',
					color: {
						bgLabel: '#413FA9',
						label:   'white',
						bgText:  '#B3B2EB',
						text:    'black'
					}
				},
				notice: {
					key:     'notice',
					title:   'Notice',
					color: {
						bgLabel: '#33C133',
						label:   'white',
						bgText:  '#ADF1AD',
						text:    'black'
					}
				},
				log: {
					key:     'log',
					title:   'Log',
					color: {
						bgLabel: '#f2f240',
						label:   'black',
						bgText:  '#ffff90',
						text:    'black'
					}
				},
				callstack: {
					key:     'TAS',
					title:   'function',
					color: {
						bgLabel: '#413FA9',
						label:   'white',
						bgText:  '#B3B2EB',
						text:    'black'
					}
				},
				callstack_async: {
					key:     'TAS',
					title:   'ASYNC CALL',
					color: {
						bgLabel: '#413FA9',
						label:   'white',
						bgText:  '#413FA9',
						text:    'white'
					}
				},
				TAS: {
					key:     'TAS',
					title:   'TAS',
					color: {
						bgLabel: 'grey',
						label:   'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)',
						bgText:  'grey',
						text:    'black;background:linear-gradient(#304352,#d7d2cc,#d7d2cc,#d7d2cc,#304352)'
					}
				}
			},


			config = {
				debugMode: false,
				logging: {
					log: true,
					notice: true,
					info: true,
					warn: true,
					error: true,
					debug: false
				}
			},

			callstackRegistry = [],
			queuedUpdates = {}, //< Used for delaying saves till the last moment.

		complexType = function(o){
			switch(typeof o){
				case 'string':
					return 'string';
				case 'boolean':
					return 'boolean';
				case 'number':
					return (_.isNaN(o) ? 'NaN' : (o.toString().match(/\./) ? 'decimal' : 'integer'));
				case 'function':
					return 'function: '+(o.name ? o.name+'()' : '(anonymous)');
				case 'object':
					return (_.isArray(o) ? 'array' : (_.isArguments(o) ? 'arguments' : ( _.isNull(o) ? 'null' : 'object')));
				default:
					return typeof o;
			}
		},

		dataLogger = function(primaryLogger,secondaryLogger,data){
			_.each(data,function(m){
				var type = complexType(m);
				switch(type){
					case 'string':
						primaryLogger(m);
						break;
					case 'undefined':
					case 'null':
					case 'NaN':
						primaryLogger('['+type+']');
						break;
					case 'number':
					case 'not a number':
					case 'integer':
					case 'decimal':
					case 'boolean':
						primaryLogger('['+type+']: '+m);
						break;
					default:
						primaryLogger('['+type+']:=========================================');
						secondaryLogger(m);
						primaryLogger('=========================================================');
						break;
				}
			});
		},


		colorLog = function(options){
			var coloredLoggerFunction,
				key = options.key,
				label = options.title || 'TAS',
				lBGColor = (options.color && options.color.bgLabel) || 'blue',
				lTxtColor = (options.color && options.color.label) || 'white',
				mBGColor = (options.color && options.color.bgText) || 'blue',
				mTxtColor = (options.color && options.color.text) || 'white';

			coloredLoggerFunction = function(message){
				/* eslint-disable no-console */
				console.log(
					'%c '+label+': %c '+message + ' ',
					'background-color: '+lBGColor+';color: '+lTxtColor+'; font-weight:bold;',
					'background-color: '+mBGColor+';color: '+mTxtColor+';'
				); 
				/* eslint-enable no-console */
			};
			return function(){
				if('TAS'===key || config.logging[key]){
					/* eslint-disable no-console */
				   dataLogger(coloredLoggerFunction,function(m){console.log(m);},_.toArray(arguments)); 
					/* eslint-enable no-console */
				}
			};
		},

		logDebug  = colorLog(loggingSettings.debug),
		logError  = colorLog(loggingSettings.error),
		logWarn   = colorLog(loggingSettings.warn),
		logInfo   = colorLog(loggingSettings.info),
		logNotice = colorLog(loggingSettings.notice),
		logLog    = colorLog(loggingSettings.log),
		log       = colorLog(loggingSettings.TAS),
		logCS     = colorLog(loggingSettings.callstack),
		logCSA    = colorLog(loggingSettings.callstack_async),

		registerCallstack = function(callstack,label){
			var idx=_.findIndex(callstackRegistry,function(o){
				return (_.difference(o.stack,callstack).length === _.difference(callstack,o.stack).length) &&
					_.difference(o.stack,callstack).length === 0 &&
					o.label === label;
			});
			if(-1 === idx){
				idx=callstackRegistry.length;
				callstackRegistry.push({
					stack: callstack,
					label: label
				});
			}
			return idx;
		},

		setConfigOption = function(options){
			var newconf =_.defaults(options,config);
			newconf.logging=_.defaults(
				(options && options.logging)||{},
				config.logging
			);
			config=newconf;
		},
		
		isDebugMode = function(){
			return config.debugMode;
		},

		debugMode = function(){
			config.logging.debug=true;
			config.debugMode = true;
		},

		getCallstack = function(){
			var e = new Error('dummy'),
				stack = _.map(_.rest(e.stack.replace(/^[^(]+?[\n$]/gm, '')
				.replace(/^\s+at\s+/gm, '')
				.replace(/^Object.<anonymous>\s*\(/gm, '{anonymous}()@')
				.split('\n')),function(l){
					return l.replace(/\s+.*$/,'');
				});
			return stack;
		},
		logCallstackSub = function(cs){
			var matches, csa;
			_.find(cs,function(line){
				matches = line.match(/TAS_CALLSTACK_(\d+)/);
				if(matches){
				   csa=callstackRegistry[matches[1]];
				   logCSA( '===================='+(csa.label ? '> '+csa.label+' <' : '')+'====================');
				   logCallstackSub(csa.stack);
				   return true;
				} 
				logCS(line);
				return false;
			});
		},
		logCallstack = function(){
			var cs;
			if(config.debugMode){
				cs = getCallstack();
				cs.shift();
				log('==============================> CALLSTACK <==============================');
				logCallstackSub(cs);
				log('=========================================================================');
			}
		},


		wrapCallback = function (label, callback, context){
			var callstack;
			if('function' === typeof label){
				context=callback;
				callback=label;
				label=undefined;
			}
			if(!config.debugMode){
				return (function(cb,ctx){
					return function(){
						cb.apply(ctx||{},arguments);
					};
				}(callback,context));
			}
			
			callstack = getCallstack();
			callstack.shift();
			
			return (function(cb,ctx,cs,lbl){
				var ctxref=registerCallstack(cs,lbl);

				/*jshint -W054 */
				return new Function('cb','ctx','TASlog',
					"return function TAS_CALLSTACK_"+ctxref+"(){"+
						"var start,end;"+
						"TASlog('Entering: '+(cb.name||'(anonymous function)'));"+
						"start=_.now();"+
						"cb.apply(ctx||{},arguments);"+
						"end=_.now();"+
						"TASlog('Exiting: '+(cb.name||'(anonymous function)')+' :: '+(end-start)+'ms elapsed');"+
					"};")(cb,ctx,log);
				/*jshint +W054 */
			}(callback,context,callstack,label));
		},


		prepareUpdate = function( attribute, value ){
			queuedUpdates[attribute]=value;
		},

		applyQueuedUpdates = function() {
		  setAttrs(queuedUpdates);
		  queuedUpdates = {};
		},

		namesFromArgs = function(args,base){
			return _.chain(args)
				.reduce(function(memo,attr){
					if('string' === typeof attr) {
						memo.push(attr);
					} else if(_.isArray(args) || _.isArguments(args)){
						memo = namesFromArgs(attr,memo);
					}
					return memo;
				},(_.isArray(base) && base) || [])
				.uniq()
				.value();
		},

		addId = function(obj,value){
			Object.defineProperty(obj,'id',{
				value: value,
				writable: false,
				enumerable: false
			});
		},

		addProp = function(obj,prop,value,fullname){
			(function(){
				var pname=(_.contains(['S','F','I','D'],prop) ? '_'+prop : prop),
					full_pname = fullname || prop,
					pvalue=value;

				_.each(['S','I','F'],function(p){
					if( !_.has(obj,p)){
						Object.defineProperty(obj, p, {
							value: {},
							enumerable: false,
							readonly: true
						});
					}
				});
				if( !_.has(obj,'D')){
					Object.defineProperty(obj, 'D', {
						value: _.reduce(_.range(10),function(m,d){
								Object.defineProperty(m, d, {
									value: {},
									enumerable: true,
									readonly: true
								});
								return m;
							},{}),
						enumerable: false,
						readonly: true
					});
				}


				// Raw value
				Object.defineProperty(obj, pname, {
					enumerable: true,
					set: function(v){
						if(v!==pvalue) {
							pvalue=v;
							prepareUpdate(full_pname,v);
						}
					},
					get: function(){
						return pvalue;
					}
				});
				
				// string value
				Object.defineProperty(obj.S, pname, {
					enumerable: true,
					set: function(v){
						var val=v.toString();
						if(val !== pvalue) {
							pvalue=val;
							prepareUpdate(full_pname,val);
						}
					},
					get: function(){
						return pvalue.toString();
					}
				});

				// int value
				Object.defineProperty(obj.I, pname, {
					enumerable: true,
					set: function(v){
						var val=parseInt(v,10) || 0;
						if(val !== pvalue){
							pvalue=val;
							prepareUpdate(full_pname,val);
						}
					},
					get: function(){
						return parseInt(pvalue,10) || 0;
					}
				});

				// float value
				Object.defineProperty(obj.F, pname, {
					enumerable: true,
					set: function(v){
						var val=parseFloat(v) || 0;
						if(val !== pvalue) {
							pvalue=val;
							prepareUpdate(full_pname,val);
						}
					},
					get: function(){
						return parseFloat(pvalue) || 0;
					}
				});
				_.each(_.range(10),function(d){
					Object.defineProperty(obj.D[d], pname, {
						enumerable: true,
						set: function(v){
							var val=(parseFloat(v) || 0).toFixed(d);
							if(val !== pvalue){
								pvalue=val;
								prepareUpdate(full_pname,val);
							}
						},
						get: function(){
							return (parseFloat(pvalue) || 0).toFixed(d);
						}
					});
				});

			}());
		},
		
		repeating = function( section ) {
			return (function(s){
				var sectionName = s,
					attrNames = [],
					fieldNames = [],
					operations = [],
					after = [],
				
				repAttrs = function TAS_Repeating_Attrs(){
					attrNames = namesFromArgs(arguments,attrNames);
					return this;
				},
				repFields = function TAS_Repeating_Fields(){
					fieldNames = namesFromArgs(arguments,fieldNames);
					return this;
				},
				repReduce = function TAS_Repeating_Reduce(func, initial, final, context) { 
					operations.push({
						type: 'reduce',
						func: (func && _.isFunction(func) && func) || _.noop,
						memo: (_.isUndefined(initial) && 0) || initial,
						final: (final && _.isFunction(final) && final) || _.noop,
						context: context || {}
					});
					return this;
				},
				repMap = function TAS_Repeating_Map(func, final, context) {
					operations.push({
						type: 'map',
						func: (func && _.isFunction(func) && func) || _.noop,
						final: (final && _.isFunction(final) && final) || _.noop,
						context: context || {}
					});
					return this;
				},
				repEach = function TAS_Repeating_Each(func, final, context) {
					operations.push({
						type: 'each',
						func: (func && _.isFunction(func) && func) || _.noop,
						final: (final && _.isFunction(final) && final) || _.noop,
						context: context || {}
					});
					return this;
				},
				repTap = function TAS_Repeating_Tap(final, context) {
					operations.push({
						type: 'tap',
						final: (final && _.isFunction(final) && final) || _.noop,
						context: context || {}
					});
					return this;
				},
				repAfter = function TAS_Repeating_After(callback,context) {
					after.push({
						callback: (callback && _.isFunction(callback) && callback) || _.noop,
						context: context || {}
					});
					return this;
				},
				repExecute = function TAS_Repeating_Execute(callback,context){
					var rowSet = {},
						attrSet = {},
						fieldIds = [],
						fullFieldNames = [];

					repAfter(callback,context);

					// call each operation per row.
					// call each operation's final
					getSectionIDs("repeating_"+sectionName,function(ids){
						fieldIds = ids;
						fullFieldNames = _.reduce(fieldIds,function(memo,id){
							return memo.concat(_.map(fieldNames,function(name){
								return 'repeating_'+sectionName+'_'+id+'_'+name;  
							}));
						},[]);
						getAttrs( _.uniq(attrNames.concat(fullFieldNames)), function(values){
							_.each(attrNames,function(aname){
								if(values.hasOwnProperty(aname)){
									addProp(attrSet,aname,values[aname]);
								}
							});

							rowSet = _.reduce(fieldIds,function(memo,id){
								var r={};
								addId(r,id);
								_.each(fieldNames,function(name){
									var fn = 'repeating_'+sectionName+'_'+id+'_'+name;  
									addProp(r,name,values[fn],fn);
								});

								memo[id]=r;

								return memo;
							},{});

							_.each(operations,function(op){
								var res;
								switch(op.type){
									case 'tap':
										_.bind(op.final,op.context,rowSet,attrSet)();
										break;

									case 'each':
										_.each(rowSet,function(r){
											_.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
										});
										_.bind(op.final,op.context,rowSet,attrSet)();
										break;

									case 'map':
										res = _.map(rowSet,function(r){
											return _.bind(op.func,op.context,r,attrSet,r.id,rowSet)();
										});
										_.bind(op.final,op.context,res,rowSet,attrSet)();
										break;

									case 'reduce':
										res = op.memo;
										_.each(rowSet,function(r){
											res = _.bind(op.func,op.context,res,r,attrSet,r.id,rowSet)();
										});
										_.bind(op.final,op.context,res,rowSet,attrSet)();
										break;
								}
							});

							// finalize attrs
							applyQueuedUpdates();
							_.each(after,function(op){
								_.bind(op.callback,op.context)();
							});
						});
					});
				};
					
				return {
					attrs: repAttrs,
					attr: repAttrs,

					column: repFields,
					columns: repFields,
					field: repFields,
					fields: repFields,

					reduce: repReduce,
					inject: repReduce,
					foldl: repReduce,

					map: repMap,
					collect: repMap,

					each: repEach,
					forEach: repEach,

					tap: repTap,
					'do': repTap,

					after: repAfter,
					last: repAfter,
					done: repAfter,

					execute: repExecute,
					go: repExecute,
					run: repExecute
				};
			}(section));
		},


		repeatingSimpleSum = function(section, field, destination){
			repeating(section)
				.attr(destination)
				.field(field)
				.reduce(function(m,r){
					return m + (r.F[field]);
				},0,function(t,r,a){
					a.S[destination]=t;
				})
				.execute();
		};

		/* eslint-disable no-console */
		console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  The Aaron Sheet  v'+version+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
		console.log('%c•.¸¸.•*´¨`*•.¸¸.•*´¨`*•.¸  Last update: '+(new Date(lastUpdate*1000))+'  ¸.•*´¨`*•.¸¸.•*´¨`*•.¸¸.•','background: linear-gradient(to right,green,white,white,green); color:black;text-shadow: 0 0 8px white;');
		/* eslint-enable no-console */


		return {
			/* Repeating Sections */
			repeatingSimpleSum: repeatingSimpleSum,
			repeating: repeating,

			/* Configuration */
			config: setConfigOption,

			/* Debugging */
			callback: wrapCallback,
			callstack: logCallstack,
			debugMode: debugMode,
			isDebugMode: isDebugMode,
			_fn: wrapCallback,

			/* Logging */
			debug: logDebug,
			error: logError,
			warn: logWarn,
			info: logInfo,
			notice: logNotice,
			log: logLog
		};
	}());

	/* ---- END: TheAaronSheet.js ---- */
	
	function Semaphore(callback, initial, context) {
		var args = (arguments.length === 1 ? [arguments[0]] : Array.apply(null, arguments));

		this.lock = parseInt(initial, 10) || 0;
		this.callback = callback;
		this.context = context || callback;
		this.args = args.slice(3);
	}
	Semaphore.prototype = {
		v: function() { this.lock++; },
		p: function() {
			var parameters;

			this.lock--;

			if (this.lock === 0 && this.callback) {
				// allow sem.p(arg1, arg2, ...) to override args passed to Semaphore constructor
				if (arguments.length > 0) { parameters = arguments; }
				else { parameters = this.args; }

				this.callback.apply(this.context, parameters);
			}
		}
	};
	
	const parseMod = (total) => 
	{
		var mod = 0;
		
		switch(total)
		{
			case 1:
				mod = -30;
			break;
			case 2:
				mod = -20;
			break;
			case 3:
				mod = -10;
			break;
			case 4:
				mod = -5;
			break;
			case 5:
				mod = 0;
			break;
			case 6:
			case 7:
				mod = 5;
			break;
			case 8:
			case 9:
				mod = 10;
			break;
			case 10:
				mod = 15;
			break;
			case 11:
			case 12:
				mod = 20;
			break;
			case 13:
			case 14:
				mod = 25;
			break;
			case 15:
				mod = 30;
			break;
			case 16:
			case 17:
				mod = 35;
			break;
			case 18:
			case 19:
				mod = 40;
			break;
			case 20:
				mod = 45;
			break;
			default:
				mod = 0;
			break;
		}
		
		return mod;
	};
	
	const parseRegen = (con) => 
	{
		var regen = 0;
		switch(con)
		{
			case 1:
			case 2:
				regen = 0;
			break;
			case 3:
			case 4:
			case 5:
			case 6:
			case 7:
				regen = 1;
			break;
			case 8:
			case 9:
				regen = 2;
			break;
			case 10:
				regen = 3;
			break;
			case 11:
				regen = 4;
			break;
			case 12:
				regen = 5;
			break;
			case 13:
				regen = 6;
			break;
			case 14:
				regen = 7;
			break;
			case 15:
				regen = 8;
			break;
			case 16:
				regen = 9;
			break;
			case 17:
				regen = 10;
			break;
			case 18:
				regen = 11;
			break;
			case 19:
			case 20:
				regen = 12;
			break;
			default:
				regen = 0;
			break;
		}
		
		return regen;
	};
	
	const parseMA = (pow) => 
	{
		var ma = 0;
		
		switch(pow)
		{
			case 1:
			case 2:
			case 3:
			case 4:
				ma = 0;
			break;
			case 5:
			case 6:
			case 7:
				ma = 5;
			break;
			case 8:
			case 9:
			case 10:
			case 11:
				ma = 10;
			break;
			case 12:
			case 13:
			case 14:
				ma = 15;
			break;
			case 15:
				ma = 20;
			break;
			case 16:
			case 17:
				ma = 25;
			break;
			case 18:
			case 19:
				ma = 30;
			break;
			case 20:
				ma = 35;
			break;
			default:
				ma = 0;
			break;
		}
		
		return ma;
	};
	
	const parseZeon = (pow) => 
	{
		var zeon = 0;
		
		switch(pow)
		{
			case 1:
				zeon = 5;
			break;
			case 2:
				zeon = 20;
			break;
			case 3:
				zeon = 40;
			break;
			case 4:
				zeon = 55;
			break;
			case 5:
				zeon = 70;
			break;
			case 6:
				zeon = 85;
			break;
			case 7:
				zeon = 95;
			break;
			case 8:
				zeon = 110;
			break;
			case 9:
				zeon = 120;
			break;
			case 10:
				zeon = 135;
			break;
			case 11:
				zeon = 150;
			break;
			case 12:
				zeon = 160;
			break;
			case 13:
				zeon = 175;
			break;
			case 14:
				zeon = 185;
			break;
			case 15:
				zeon = 200;
			break;
			case 16:
				zeon = 215;
			break;
			case 17:
				zeon = 225;
			break;
			case 18:
				zeon = 240;
			break;
			case 19:
				zeon = 250;
			break;
			case 20:
				zeon = 265;
			break;
			default:
				zeon = 0;
			break;
		}
		
		return zeon;
	};
	
	const parseMl = (intel) => 
	{
		var ml = 0;
		
		switch(intel)
		{
			case 1:
			case 2:
			case 3:
			case 4:
			case 5:
				ml = 0;
			break;
			case 6:
				ml = 10;
			break;
			case 7:
				ml = 20;
			break;
			case 8:
				ml = 30;
			break;
			case 9:
				ml = 40;
			break;
			case 10:
				ml = 50;
			break;
			case 11:
				ml = 75;
			break;
			case 12:
				ml = 100;
			break;
			case 13:
				ml = 150;
			break;
			case 14:
				ml = 200;
			break;
			case 15:
				ml = 300;
			break;
			case 16:
				ml = 400;
			break;
			case 17:
				ml = 500;
			break;
			case 18:
				ml = 600;
			break;
			case 19:
				ml = 700;
			break;
			case 20:
				ml = 800;
			break;
			default:
				ml = 0;
			break;
		}
		
		return ml;
	};
	
	//Caractéristiques
	const stats = ['agi','con','dex','str','int','per','pow','wp'];
	stats.forEach(function (stat) 
	{
		on("change:" + stat + " change:" + stat + "_temp change:" + stat + "_special change:" + stat + "_opposed change:aam change:AMTransDraSceaux change:AMTransDraPortes sheet:opened", function () 
		{
			getAttrs([stat, stat + '_special', stat + '_temp', stat + '_opposed', "aam", "AMTransDraPortes", "AMTransDraSceaux"], function (values) 
			{
				const base = parseInt(values[stat], 10)||0;
				const special = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const opposed = parseInt(values[stat+'_opposed'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				const door = parseInt(values['AMTransDraPortes'], 10)||0;
				
				var totalAAM = aam+(seal*5);
				
				var total = base+special+temp;
				
				if(stat == "agi" || stat == "con" || stat == "dex" || stat == "str" || stat == "pow")
				{
					total += door;
				}

				var mod = parseMod(total);
				var opp = 0;
				if(totalAAM < 0)
					opp = total+opposed+Math.ceil(totalAAM/20);
				
				if(totalAAM >= 0)
					opp = total+opposed+Math.floor(totalAAM/20);
				
				setAttrs({
					[stat + '_final']: total,
					[stat + '_mod']: mod,
					[stat + '_opposed_final']: opp
				});
				
				if(stat == "con")
				{
					var regen = parseRegen(total);
					setAttrs({
						['base_regenLP']: regen
					});
				}
				
				if(stat == "int")
				{
					var ml = parseMl(total);
			
					setAttrs({
						['ml_fromint']: ml
					});
				}
				
				if(stat == "pow")
				{
					var ma = parseMA(total);
					var zeon = parseZeon(total);
					
					setAttrs({
						['ma_pow']: ma,
						['zeon_pow']: zeon
					});
				}
			});
		});
	});
	
	//Nombres d'actions
	on("change:agi_final change:dex_final sheet:opened", function () 
	{
		getAttrs(["agi_final", "dex_final"], function (values) 
		{
			const agi = parseInt(values["agi_final"], 10)||0;
			const dex = parseInt(values["dex_final"], 10)||0;
			
			var total = agi+dex;
			var actions = 0;
			switch(total)
			{
				case 1:
				case 2:
				case 3:
				case 4:
				case 5:
				case 6:
				case 7:
				case 8:
				case 9:
				case 10:
					actions = 1;
				break;
				
				case 11:
				case 12:
				case 13:
				case 14:
					actions = 2;
				break;
				case 15:
				case 16:
				case 17:
				case 18:
				case 19:
					actions = 3;
				break;
				case 20:
				case 21:
				case 22:
					actions = 4;
				break;
				case 23:
				case 24:
				case 25:
					actions = 5;
				break;
				case 26:
				case 27:
				case 28:
					actions = 6;
				break;
				case 29:
				case 30:
				case 31:
					actions = 8;
				break;
				case 32:
					actions = 10;
				break;
				default:
					actions = 10;
				break;
			}
			
			setAttrs({
				['noa']: actions
			});
		});
	});
	
	//Résistances
	on("change:classe_Lvl_Sum change:con_mod change:pow_mod change:wp_mod change:body_of_emptiness change:resist_physical_special change:resist_disease_special change:resist_poison_special change:resist_magic_special change:resist_psychic_special sheet:opened", function () 
	{
		getAttrs(["classe_Lvl_Sum", "con_mod", "pow_mod", "wp_mod", "body_of_emptiness", "resist_physical_special", "resist_disease_special", "resist_poison_special", "resist_magic_special", "resist_psychic_special"], function (v) 
		{
			const lvl = parseInt(v["classe_Lvl_Sum"], 10)||0;
			var presence = ((lvl*100)+500)/20;
			
			const con = parseInt(v["con_mod"], 10)||0;
			const pow = parseInt(v["pow_mod"], 10)||0;
			const wp = parseInt(v["wp_mod"], 10)||0;
			
			const emptiness = parseInt(v["body_of_emptiness"], 10)||0;
			
			const rphy = parseInt(v["resist_physical_special"], 10)||0;
			
			const rmal = parseInt(v["resist_disease_special"], 10)||0;
			
			const rpoi = parseInt(v["resist_poison_special"], 10)||0;
			
			const rmag = parseInt(v["resist_magic_special"], 10)||0;
			
			const rpsy = parseInt(v["resist_psychic_special"], 10)||0;
			
			var baseC = presence+con+emptiness;
			var baseP = presence+pow+emptiness;
			var baseW = presence+wp+emptiness;
			
			var rphyT = baseC+rphy;
			var rmalT = baseC+rmal;
			var rpoiT = baseC+rpoi;
			var rmagT = baseP+rmag;
			var rpsyT = baseW+rpsy;
			
			setAttrs({
				['resist_physical_final']: rphyT,
				['resist_disease_final']: rmalT,
				['resist_poison_final']: rpoiT,
				['resist_magic_final']: rmagT,
				['resist_psychic_final']: rpsyT
			});
			
		});
	});
	
	//Initiative
	on("change:agi_mod change:dex_mod change:repeating_initiative change:classe_Init_Sum change:ki_increasedSpeed change:aam change:AMTransDraSceaux sheet:opened", function ()
	{
		
		getSectionIDs("repeating_initiative", function (ids) 
		{
			_.each(ids,function(id) 
			{
				getAttrs(["agi_mod", "dex_mod", "classe_Init_Sum", "AMTransDraSceaux", "ki_increasedSpeed", "aam", "repeating_initiative_"+id+"_init_armor", "repeating_initiative_"+id+"_init_weapon", "repeating_initiative_"+id+"_init_special"], function (v) 
				{					
					const agi = parseInt(v["agi_mod"], 10)||0;
					const dex = parseInt(v["dex_mod"], 10)||0;
					const initArmor = parseInt(v["repeating_initiative_"+id+"_init_armor"], 10)||0;
					const initWeap = parseInt(v["repeating_initiative_"+id+"_init_weapon"], 10)||0;
					const initSpe = parseInt(v["repeating_initiative_"+id+"_init_special"], 10)||0;
					const initClass = parseInt(v["classe_Init_Sum"], 10)||0;
					const ki = parseInt(v["ki_increasedSpeed"], 10)||0;
					const aam = parseInt(v["aam"], 10)||0;
					const seal = parseInt(v["AMTransDraSceaux"], 10)||0;
					
					var totalSeal = (seal*5);
					var totalAAM = aam+(seal*5);
					
					var aap = (((totalAAM) - Math.abs(totalAAM)) / 2)/2;
					
					var total = 20+agi+dex+initArmor+initWeap+initSpe+initClass+ki+aap+totalSeal;
					
					setAttrs({
						["repeating_initiative_"+id+"_init_final"]: total
					});
				});
				
			});
		});
	});
	
	//Compétences
	const cAGI = ["acro", "athl", "clim", "ride", "swim", "stea", "danc"];
	const cDEX = ["disg", "lock", "thef", "trap", "forg", "jewel", "ritc", "slig", "tail", "rune"];
	const cSTR = ["jump", "feat"];
	const cINT = ["etiq", "pers", "stre", "trad", "anim", "appr", "arch", "herb", "hist", "law", "medi", "memo", "navi", "occu", "scie", "tact", "pois", "alchemy"];
	const cPER = ["noti", "sear", "trac", "hide"];
	const cPOW = ["lead", "styl", "mapp", "art", "musi", "animisme"];
	const cWP = ["inti", "comp", "with"];
	
	cAGI.forEach(function (stat) 
	{
		on("change:" + stat + "_naturals change:" + stat + "_naturabi change:" + stat + "_base change:classe_"+ stat +"_Sum change:" + stat + "_special change:" + stat + "_temp change:agi_mod change:aam change:AMTransDraSceaux sheet:opened", function () 
		{
			getAttrs([stat + "_naturals", stat + "_naturabi", stat + "_base", "classe_"+ stat +"_Sum", stat + "_special", stat + "_temp", "agi_mod", "aam", "AMTransDraSceaux"], function (values) 
			{
				const bonNat = parseInt(values[stat+"_naturals"], 10)||0;
				const compNat = parseInt(values[stat+"_naturabi"], 10)||0;
				const mod = parseInt(values["agi_mod"], 10)||0;
				var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
				
				const base = parseInt(values[stat+"_base"], 10)||0;
				const clas = parseInt(values["classe_"+ stat +"_Sum"], 10)||0;
				const spec = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				
				var total = calc+base+clas+spec+temp+aam+(seal*5);
				
				setAttrs({
					[stat+"_final"]: total
				});
			});
		});
	});
	
	cDEX.forEach(function (stat) 
	{
		on("change:" + stat + "_naturals change:" + stat + "_naturabi change:" + stat + "_base change:classe_"+ stat +"_Sum change:" + stat + "_special change:" + stat + "_temp change:dex_mod change:aam change:AMTransDraSceaux sheet:opened", function () 
		{
			getAttrs([stat + "_naturals", stat + "_naturabi", stat + "_base", "classe_"+ stat +"_Sum", stat + "_special", stat + "_temp", "dex_mod", "aam", "AMTransDraSceaux"], function (values) 
			{
				const bonNat = parseInt(values[stat+"_naturals"], 10)||0;
				const compNat = parseInt(values[stat+"_naturabi"], 10)||0;
				const mod = parseInt(values["dex_mod"], 10)||0;
				var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
				
				const base = parseInt(values[stat+"_base"], 10)||0;
				const clas = parseInt(values["classe_"+ stat +"_Sum"], 10)||0;
				const spec = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				
				var total = calc+base+clas+spec+temp+aam+(seal*5);
				
				setAttrs({
					[stat+"_final"]: total
				});
			});
		});
	});
	
	cSTR.forEach(function (stat) 
	{
		on("change:" + stat + "_naturals change:" + stat + "_naturabi change:" + stat + "_base change:classe_"+ stat +"_Sum change:" + stat + "_special change:" + stat + "_temp change:str_mod change:aam change:AMTransDraSceaux sheet:opened", function () 
		{
			getAttrs([stat + "_naturals", stat + "_naturabi", stat + "_base", "classe_"+ stat +"_Sum", stat + "_special", stat + "_temp", "str_mod", "aam", "AMTransDraSceaux"], function (values) 
			{
				const bonNat = parseInt(values[stat+"_naturals"], 10)||0;
				const compNat = parseInt(values[stat+"_naturabi"], 10)||0;
				const mod = parseInt(values["str_mod"], 10)||0;
				var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
				
				const base = parseInt(values[stat+"_base"], 10)||0;
				const clas = parseInt(values["classe_"+ stat +"_Sum"], 10)||0;
				const spec = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				
				var total = calc+base+clas+spec+temp+aam+(seal*5);
				
				setAttrs({
					[stat+"_final"]: total
				});
			});
		});
	});
	
	cINT.forEach(function (stat) 
	{
		on("change:" + stat + "_naturals change:" + stat + "_naturabi change:" + stat + "_base change:classe_"+ stat +"_Sum change:" + stat + "_special change:" + stat + "_temp change:int_mod change:aam change:AMTransDraSceaux sheet:opened", function () 
		{
			getAttrs([stat + "_naturals", stat + "_naturabi", stat + "_base", "classe_"+ stat +"_Sum", stat + "_special", stat + "_temp", "int_mod", "aam", "AMTransDraSceaux"], function (values) 
			{
				const bonNat = parseInt(values[stat+"_naturals"], 10)||0;
				const compNat = parseInt(values[stat+"_naturabi"], 10)||0;
				const mod = parseInt(values["int_mod"], 10)||0;
				var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
				
				const base = parseInt(values[stat+"_base"], 10)||0;
				const clas = parseInt(values["classe_"+ stat +"_Sum"], 10)||0;
				const spec = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				
				var total = calc+base+clas+spec+temp+aam+(seal*5);
				
				setAttrs({
					[stat+"_final"]: total
				});
			});
		});
	});
	
	cPER.forEach(function (stat) 
	{
		on("change:" + stat + "_naturals change:" + stat + "_naturabi change:" + stat + "_base change:classe_"+ stat +"_Sum change:" + stat + "_special change:" + stat + "_temp change:per_mod change:aam change:AMTransDraSceaux sheet:opened", function () 
		{
			getAttrs([stat + "_naturals", stat + "_naturabi", stat + "_base", "classe_"+ stat +"_Sum", stat + "_special", stat + "_temp", "per_mod", "aam", "AMTransDraSceaux"], function (values) 
			{
				const bonNat = parseInt(values[stat+"_naturals"], 10)||0;
				const compNat = parseInt(values[stat+"_naturabi"], 10)||0;
				const mod = parseInt(values["per_mod"], 10)||0;
				var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
				
				const base = parseInt(values[stat+"_base"], 10)||0;
				const clas = parseInt(values["classe_"+ stat +"_Sum"], 10)||0;
				const spec = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				
				var total = calc+base+clas+spec+temp+aam+(seal*5);
				
				setAttrs({
					[stat+"_final"]: total
				});
			});
		});
	});
	
	cPOW.forEach(function (stat) 
	{
		on("change:" + stat + "_naturals change:" + stat + "_naturabi change:" + stat + "_base change:classe_"+ stat +"_Sum change:" + stat + "_special change:" + stat + "_temp change:pow_mod change:aam change:AMTransDraSceaux sheet:opened", function () 
		{
			getAttrs([stat + "_naturals", stat + "_naturabi", stat + "_base", "classe_"+ stat +"_Sum", stat + "_special", stat + "_temp", "pow_mod", "aam", "AMTransDraSceaux"], function (values) 
			{
				const bonNat = parseInt(values[stat+"_naturals"], 10)||0;
				const compNat = parseInt(values[stat+"_naturabi"], 10)||0;
				const mod = parseInt(values["pow_mod"], 10)||0;
				var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
				
				const base = parseInt(values[stat+"_base"], 10)||0;
				const clas = parseInt(values["classe_"+ stat +"_Sum"], 10)||0;
				const spec = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				
				var total = calc+base+clas+spec+temp+aam+(seal*5);
				
				setAttrs({
					[stat+"_final"]: total
				});
			});
		});
	});
	
	cWP.forEach(function (stat) 
	{
		on("change:" + stat + "_naturals change:" + stat + "_naturabi change:" + stat + "_base change:classe_"+ stat +"_Sum change:" + stat + "_special change:" + stat + "_temp change:wp_mod change:aam change:AMTransDraSceaux sheet:opened", function () 
		{
			getAttrs([stat + "_naturals", stat + "_naturabi", stat + "_base", "classe_"+ stat +"_Sum", stat + "_special", stat + "_temp", "wp_mod", "aam", "AMTransDraSceaux"], function (values) 
			{
				const bonNat = parseInt(values[stat+"_naturals"], 10)||0;
				const compNat = parseInt(values[stat+"_naturabi"], 10)||0;
				const mod = parseInt(values["wp_mod"], 10)||0;
				var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
				
				const base = parseInt(values[stat+"_base"], 10)||0;
				const clas = parseInt(values["classe_"+ stat +"_Sum"], 10)||0;
				const spec = parseInt(values[stat+'_special'], 10)||0;
				const temp = parseInt(values[stat+'_temp'], 10)||0;
				const aam = parseInt(values['aam'], 10)||0;
				const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
				
				var total = calc+base+clas+spec+temp+aam+(seal*5);
				
				setAttrs({
					[stat+"_final"]: total
				});
			});
		});
	});
	
	//Compétences CUSTOM
	on("change:agi_mod change:con_mod change:dex_mod change:str_mod change:int_mod change:per_mod change:pow_mod change:wp_mod change:aam change:AMTransDraSceaux change:repeating_secondaryabilities:custom_temp change:repeating_secondaryabilities:custom_special change:repeating_secondaryabilities:custom_class change:repeating_secondaryabilities:custom_base change:repeating_secondaryabilities:custom_mod change:repeating_secondaryabilities:custom_naturals change:repeating_secondaryabilities:custom_naturabi sheet:opened", function () 
	{
		
		getSectionIDs("repeating_secondaryabilities", function (ids) 
		{
			_.each(ids,function(id) 
			{
				getAttrs(["agi_mod", "con_mod", "dex_mod", "str_mod", "int_mod", "per_mod", "pow_mod", "wp_mod", "aam", "AMTransDraSceaux", "repeating_secondaryabilities_"+id+"_custom_temp", "repeating_secondaryabilities_"+id+"_custom_special", "repeating_secondaryabilities_"+id+"_custom_class", "repeating_secondaryabilities_"+id+"_custom_base", "repeating_secondaryabilities_"+id+"_custom_mod", "repeating_secondaryabilities_"+id+"_custom_naturals", "repeating_secondaryabilities_"+id+"_custom_naturabi"], function (v) 
				{									
					const modN = v["repeating_secondaryabilities_"+id+"_custom_mod"];
					var mod;					
					
					switch(modN)
					{
						case "@{agi_mod}":
							mod = parseInt(v["agi_mod"], 10)||0;
						break;
						
						case "@{con_mod}":
							mod = parseInt(v["con_mod"], 10)||0;
						break;
						
						case "@{dex_mod}":
							mod = parseInt(v["dex_mod"], 10)||0;
						break;
						
						case "@{str_mod}":
							mod = parseInt(v["str_mod"], 10)||0;
						break;
						
						case "@{int_mod}":
							mod = parseInt(v["int_mod"], 10)||0;
						break;
						
						case "@{per_mod}":
							mod = parseInt(v["per_mod"], 10)||0;
						break;
						
						case "@{pow_mod}":
							mod = parseInt(v["pow_mod"], 10)||0;
						break;
						
						case "@{wp_mod}":
							mod = parseInt(v["wp_mod"], 10)||0;
						break;
						
						default:
							mod = 0;
						break;
					}
					
					const bonNat = parseInt(v["repeating_secondaryabilities_"+id+"_custom_naturals"], 10)||0;
					const compNat = parseInt(v["repeating_secondaryabilities_"+id+"_custom_naturabi"], 10)||0;
					var calc = (((bonNat+1)*mod+compNat+100) - Math.abs((bonNat+1)*mod+compNat-100))/2;
					
					const temp = parseInt(v["repeating_secondaryabilities_"+id+"_custom_temp"], 10)||0;
					const special = parseInt(v["repeating_secondaryabilities_"+id+"_custom_special"], 10)||0;
					const clas = parseInt(v["repeating_secondaryabilities_"+id+"_custom_class"], 10)||0;
					const base = parseInt(v["repeating_secondaryabilities_"+id+"_custom_base"], 10)||0;
					const aam = parseInt(v["aam"], 10)||0;
					const seal = parseInt(v['AMTransDraSceaux'], 10)||0;
					
					var total = calc+base+clas+special+temp+aam+(seal*5);
					
					setAttrs({
						["repeating_secondaryabilities_"+id+"_custom_final"]: total
					});
				});
				
			});
		});
	});
	
	on("change:magicprojection_base change:dex_mod change:magicprojection_special change:magicprojection_temp change:aam change:AMTransDraSceaux change:magicprojection_imbalance sheet:opened", function () 
	{
		getAttrs(["magicprojection_base", "dex_mod", "magicprojection_special", "magicprojection_temp", "aam", "AMTransDraSceaux", "magicprojection_imbalance"], function (values) 
		{
			const base = parseInt(values['magicprojection_base'], 10)||0;
			const mod = parseInt(values['dex_mod'], 10)||0;
			const spe = parseInt(values['magicprojection_special'], 10)||0;
			const temp = parseInt(values['magicprojection_temp'], 10)||0;
			const aam = parseInt(values['aam'], 10)||0;
			const seal = parseInt(values['AMTransDraSceaux'], 10)||0;
			const imba = parseInt(values['magicprojection_imbalance'], 10)||0;
			
			var total = base+mod+spe+temp+(aam+(seal*5));
			var off = total+imba;
			var def = -1*imba+total;

			setAttrs({
				["magicprojection_final"]: total,
				["magicprojection_offensive_final"]: off,
				["magicprojection_defensive_final"]: def
			});
		});
	});

	//Paramètre des classes
	on('change:repeating_classes:classe_niveau change:repeating_classes:classe_PV change:repeating_classes:classe_Init change:repeating_classes:classe_Att change:repeating_classes:classe_Esq change:repeating_classes:classe_Par change:repeating_classes:classe_PortArmure change:repeating_classes:classe_DI change:repeating_classes:classe_PPP change:repeating_classes:classe_Zeon change:repeating_classes:classe_summon change:repeating_classes:classe_control change:repeating_classes:classe_bind change:repeating_classes:classe_banish change:repeating_classes:acro_innate_bonus change:repeating_classes:athl_innate_bonus change:repeating_classes:clim_innate_bonus change:repeating_classes:jump_innate_bonus change:repeating_classes:ride_innate_bonus change:repeating_classes:swim_innate_bonus change:repeating_classes:etiq_innate_bonus change:repeating_classes:inti_innate_bonus change:repeating_classes:lead_innate_bonus change:repeating_classes:pers_innate_bonus change:repeating_classes:stre_innate_bonus change:repeating_classes:styl_innate_bonus change:repeating_classes:trad_innate_bonus change:repeating_classes:noti_innate_bonus change:repeating_classes:sear_innate_bonus change:repeating_classes:trac_innate_bonus change:repeating_classes:anim_innate_bonus change:repeating_classes:appr_innate_bonus change:repeating_classes:arch_innate_bonus change:repeating_classes:herb_innate_bonus change:repeating_classes:hist_innate_bonus change:repeating_classes:law_innate_bonus change:repeating_classes:mapp_innate_bonus change:repeating_classes:medi_innate_bonus change:repeating_classes:memo_innate_bonus change:repeating_classes:navi_innate_bonus change:repeating_classes:occu_innate_bonus change:repeating_classes:scie_innate_bonus change:repeating_classes:tact_innate_bonus change:repeating_classes:comp_innate_bonus change:repeating_classes:feat_innate_bonus change:repeating_classes:with_innate_bonus change:repeating_classes:disg_innate_bonus change:repeating_classes:hide_innate_bonus change:repeating_classes:lock_innate_bonus change:repeating_classes:pois_innate_bonus change:repeating_classes:stea_innate_bonus change:repeating_classes:thef_innate_bonus change:repeating_classes:trap_innate_bonus change:repeating_classes:alchemy_innate_bonus change:repeating_classes:animisme_innate_bonus change:repeating_classes:art_innate_bonus change:repeating_classes:danc_innate_bonus change:repeating_classes:forg_innate_bonus change:repeating_classes:jewe_innate_bonus change:repeating_classes:musi_innate_bonus change:repeating_classes:rune_innate_bonus change:repeating_classes:ritc_innate_bonus change:repeating_classes:slig_innate_bonus change:repeating_classes:tail_innate_bonus',function()
	{
		getAttrs(["repeating_classes_classe_niveau","repeating_classes_classe_PV","repeating_classes_classe_Init","repeating_classes_classe_Att","repeating_classes_classe_Esq","repeating_classes_classe_Par","repeating_classes_classe_PortArmure","repeating_classes_classe_DI","repeating_classes_classe_PPP","repeating_classes_classe_Zeon", "repeating_classes_classe_summon", "repeating_classes_classe_control", "repeating_classes_classe_bind", "repeating_classes_classe_banish", "repeating_classes_acro_innate_bonus","repeating_classes_athl_innate_bonus","repeating_classes_clim_innate_bonus","repeating_classes_jump_innate_bonus","repeating_classes_ride_innate_bonus","repeating_classes_swim_innate_bonus","repeating_classes_etiq_innate_bonus","repeating_classes_inti_innate_bonus","repeating_classes_lead_innate_bonus","repeating_classes_pers_innate_bonus","repeating_classes_stre_innate_bonus","repeating_classes_styl_innate_bonus","repeating_classes_trad_innate_bonus","repeating_classes_noti_innate_bonus","repeating_classes_sear_innate_bonus","repeating_classes_trac_innate_bonus","repeating_classes_anim_innate_bonus","repeating_classes_appr_innate_bonus","repeating_classes_arch_innate_bonus","repeating_classes_herb_innate_bonus","repeating_classes_hist_innate_bonus","repeating_classes_law_innate_bonus","repeating_classes_mapp_innate_bonus","repeating_classes_medi_innate_bonus","repeating_classes_memo_innate_bonus","repeating_classes_navi_innate_bonus","repeating_classes_occu_innate_bonus","repeating_classes_scie_innate_bonus","repeating_classes_tact_innate_bonus","repeating_classes_comp_innate_bonus","repeating_classes_feat_innate_bonus","repeating_classes_with_innate_bonus","repeating_classes_disg_innate_bonus","repeating_classes_hide_innate_bonus","repeating_classes_lock_innate_bonus","repeating_classes_pois_innate_bonus","repeating_classes_stea_innate_bonus","repeating_classes_thef_innate_bonus","repeating_classes_trap_innate_bonus","repeating_classes_alchemy_innate_bonus","repeating_classes_animisme_innate_bonus","repeating_classes_art_innate_bonus","repeating_classes_danc_innate_bonus","repeating_classes_forg_innate_bonus","repeating_classes_jewe_innate_bonus","repeating_classes_musi_innate_bonus","repeating_classes_rune_innate_bonus","repeating_classes_ritc_innate_bonus","repeating_classes_slig_innate_bonus","repeating_classes_tail_innate_bonus"], function (values) 
		{
			const lvl = parseInt(values.repeating_classes_classe_niveau, 10)||0;
			const pv = parseInt(values.repeating_classes_classe_PV, 10)||0;
			const init = parseInt(values.repeating_classes_classe_Init, 10)||0;
			const att = parseInt(values.repeating_classes_classe_Att, 10)||0;
			const esq = parseInt(values.repeating_classes_classe_Esq, 10)||0;
			const par = parseInt(values.repeating_classes_classe_Par, 10)||0;
			const pa = parseInt(values.repeating_classes_classe_PortArmure, 10)||0;
			const di = parseInt(values.repeating_classes_classe_DI, 10)||0;
			const ppp = parseInt(values.repeating_classes_classe_PPP, 10)||0;
			const zeon = parseInt(values.repeating_classes_classe_Zeon, 10)||0;
			
			const summon = parseInt(values.repeating_classes_classe_summon, 10)||0;
			const control = parseInt(values.repeating_classes_classe_control, 10)||0;
			const bind = parseInt(values.repeating_classes_classe_bind, 10)||0;
			const banish = parseInt(values.repeating_classes_classe_banish, 10)||0;

			const acro = parseInt(values.repeating_classes_acro_innate_bonus, 10)||0;
			const athl = parseInt(values.repeating_classes_athl_innate_bonus, 10)||0;
			const clim = parseInt(values.repeating_classes_clim_innate_bonus, 10)||0;
			const jump = parseInt(values.repeating_classes_jump_innate_bonus, 10)||0;
			const ride = parseInt(values.repeating_classes_ride_innate_bonus, 10)||0;
			const swim = parseInt(values.repeating_classes_swim_innate_bonus, 10)||0;

			const etiq = parseInt(values.repeating_classes_etiq_innate_bonus, 10)||0;
			const inti = parseInt(values.repeating_classes_inti_innate_bonus, 10)||0;
			const lead = parseInt(values.repeating_classes_lead_innate_bonus, 10)||0;
			const pers = parseInt(values.repeating_classes_pers_innate_bonus, 10)||0;
			const stre = parseInt(values.repeating_classes_stre_innate_bonus, 10)||0;
			const styl = parseInt(values.repeating_classes_styl_innate_bonus, 10)||0;
			const trad = parseInt(values.repeating_classes_trad_innate_bonus, 10)||0;

			const noti = parseInt(values.repeating_classes_noti_innate_bonus, 10)||0;
			const sear = parseInt(values.repeating_classes_sear_innate_bonus, 10)||0;
			const trac = parseInt(values.repeating_classes_trac_innate_bonus, 10)||0;

			const anim = parseInt(values.repeating_classes_anim_innate_bonus, 10)||0;
			const appr = parseInt(values.repeating_classes_appr_innate_bonus, 10)||0;
			const arch = parseInt(values.repeating_classes_arch_innate_bonus, 10)||0;
			const herb = parseInt(values.repeating_classes_herb_innate_bonus, 10)||0;
			const hist = parseInt(values.repeating_classes_hist_innate_bonus, 10)||0;
			const law = parseInt(values.repeating_classes_law_innate_bonus, 10)||0;
			const mapp = parseInt(values.repeating_classes_mapp_innate_bonus, 10)||0;
			const medi = parseInt(values.repeating_classes_medi_innate_bonus, 10)||0;
			const memo = parseInt(values.repeating_classes_memo_innate_bonus, 10)||0;
			const navi = parseInt(values.repeating_classes_navi_innate_bonus, 10)||0;
			const occu = parseInt(values.repeating_classes_occu_innate_bonus, 10)||0;
			const scie = parseInt(values.repeating_classes_scie_innate_bonus, 10)||0;
			const tact = parseInt(values.repeating_classes_tact_innate_bonus, 10)||0;

			const comp = parseInt(values.repeating_classes_comp_innate_bonus, 10)||0;
			const feat = parseInt(values.repeating_classes_feat_innate_bonus, 10)||0;
			const witp = parseInt(values.repeating_classes_with_innate_bonus, 10)||0;

			const disg = parseInt(values.repeating_classes_disg_innate_bonus, 10)||0;
			const hide = parseInt(values.repeating_classes_hide_innate_bonus, 10)||0;
			const lock = parseInt(values.repeating_classes_lock_innate_bonus, 10)||0;
			const pois = parseInt(values.repeating_classes_pois_innate_bonus, 10)||0;
			const stea = parseInt(values.repeating_classes_stea_innate_bonus, 10)||0;
			const thef = parseInt(values.repeating_classes_thef_innate_bonus, 10)||0;
			const trap = parseInt(values.repeating_classes_trap_innate_bonus, 10)||0;

			const alchemy = parseInt(values.repeating_classes_alchemy_innate_bonus, 10)||0;
			const animisme = parseInt(values.repeating_classes_animisme_innate_bonus, 10)||0;
			const art = parseInt(values.repeating_classes_art_innate_bonus, 10)||0;
			const danc = parseInt(values.repeating_classes_danc_innate_bonus, 10)||0;
			const forg = parseInt(values.repeating_classes_forg_innate_bonus, 10)||0;
			const jewe = parseInt(values.repeating_classes_jewe_innate_bonus, 10)||0;
			const musi = parseInt(values.repeating_classes_musi_innate_bonus, 10)||0;
			const ritc = parseInt(values.repeating_classes_ritc_innate_bonus, 10)||0;
			const rune = parseInt(values.repeating_classes_rune_innate_bonus, 10)||0;
			const slig = parseInt(values.repeating_classes_slig_innate_bonus, 10)||0;
			const tail = parseInt(values.repeating_classes_tail_innate_bonus, 10)||0;

			var totPV = lvl*pv;
			var totInit = lvl*init;
			var totAtt = Math.min(lvl*att, 50);
			var totEsq = Math.min(lvl*esq, 50);
			var totPar = Math.min(lvl*par, 50);
			var totPA = lvl*pa;
			var totDI = lvl*di;
			var totZeon = lvl*zeon;
			
			var totSummon = lvl*summon;
			var totControl = lvl*control;
			var totBind = lvl*bind;
			var totBanish = lvl*banish;
			
			var totAcro = lvl*acro;
			var totAthl = lvl*athl;
			var totClim = lvl*clim;
			var totJump = lvl*jump;
			var totRide = lvl*ride;
			var totSwim = lvl*swim;
			
			var totEtiq = lvl*etiq;
			var totInti = lvl*inti;
			var totLead = lvl*lead;
			var totPers = lvl*pers;
			var totStre = lvl*stre;
			var totStyl = lvl*styl;
			var totTrad = lvl*trad;
			
			var totNoti = lvl*noti;
			var totSear = lvl*sear;
			var totTrac = lvl*trac;
			
			var totAnim = lvl*anim;
			var totAppr = lvl*appr;
			var totArch = lvl*arch;
			var totHerb = lvl*herb;
			var totHist = lvl*hist;
			var totLaw = lvl*law;
			var totMapp = lvl*mapp;
			var totMedi = lvl*medi;
			var totMemo = lvl*memo;
			var totNavi = lvl*navi;
			var totOccu = lvl*occu;
			var totScie = lvl*scie;
			var totTact = lvl*tact;
			
			var totComp = lvl*comp;
			var totFeat = lvl*feat;
			var totWitp = lvl*witp;
			
			var totDisg = lvl*disg;
			var totHide = lvl*hide;
			var totLock = lvl*lock;
			var totPois = lvl*pois;
			var totStea = lvl*stea;
			var totThef = lvl*thef;
			var totTrap = lvl*trap;
			
			var totAlchemy = lvl*alchemy;
			var totAnimisme = lvl*animisme;
			var totArt = lvl*art;
			var totDanc = lvl*danc;
			var totForg = lvl*forg;
			var totJewe = lvl*jewe;
			var totMusi = lvl*musi;
			var totRitc = lvl*ritc;
			var totRune = lvl*rune;
			var totSlig = lvl*slig;
			var totTail = lvl*tail;
			
			var totPPP
			
			switch(ppp)
			{
				case 1:
					totPPP = lvl*1;
				break;
				
				case 2:
					totPPP = Math.floor(lvl/2)*1;
				break;
				
				case 3:
					totPPP = Math.floor(lvl/3)*1;
				break;
			}

			setAttrs({
				repeating_classes_classe_PV_Total: totPV,
				repeating_classes_classe_Init_Total: totInit,
				repeating_classes_classe_Att_Total: totAtt,
				repeating_classes_classe_Esq_Total: totEsq,
				repeating_classes_classe_Par_Total: totPar,
				repeating_classes_classe_PA_Total: totPA,
				repeating_classes_classe_DI_Total: totDI,
				repeating_classes_classe_Zeon_Total: totZeon,
				repeating_classes_classe_Summon_Total: totSummon,
				repeating_classes_classe_Control_Total: totControl,
				repeating_classes_classe_Bind_Total: totBind,
				repeating_classes_classe_Banish_Total: totBanish,
				repeating_classes_classe_acro_Total:totAcro,
				repeating_classes_classe_athl_Total:totAthl,
				repeating_classes_classe_clim_Total:totClim,
				repeating_classes_classe_jump_Total:totJump,
				repeating_classes_classe_ride_Total:totRide,
				repeating_classes_classe_swim_Total:totSwim,
				repeating_classes_classe_etiq_Total:totEtiq,
				repeating_classes_classe_inti_Total:totInti,
				repeating_classes_classe_lead_Total:totLead,
				repeating_classes_classe_pers_Total:totPers,
				repeating_classes_classe_stre_Total:totStre,
				repeating_classes_classe_styl_Total:totStyl,
				repeating_classes_classe_trad_Total:totTrad,
				repeating_classes_classe_noti_Total:totNoti,
				repeating_classes_classe_sear_Total:totSear,
				repeating_classes_classe_trac_Total:totTrac,
				repeating_classes_classe_anim_Total:totAnim,
				repeating_classes_classe_appr_Total:totAppr,
				repeating_classes_classe_arch_Total:totArch,
				repeating_classes_classe_herb_Total:totHerb,
				repeating_classes_classe_hist_Total:totHist,
				repeating_classes_classe_law_Total:totLaw,
				repeating_classes_classe_mapp_Total:totMapp,
				repeating_classes_classe_medi_Total:totMedi,
				repeating_classes_classe_memo_Total:totMemo,
				repeating_classes_classe_navi_Total:totNavi,
				repeating_classes_classe_occu_Total:totOccu,
				repeating_classes_classe_scie_Total:totScie,
				repeating_classes_classe_tact_Total:totTact,
				repeating_classes_classe_comp_Total:totComp,
				repeating_classes_classe_feat_Total:totFeat,
				repeating_classes_classe_with_Total:totWitp,
				repeating_classes_classe_disg_Total:totDisg,
				repeating_classes_classe_hide_Total:totHide,
				repeating_classes_classe_lock_Total:totLock,
				repeating_classes_classe_pois_Total:totPois,
				repeating_classes_classe_stea_Total:totStea,
				repeating_classes_classe_thef_Total:totThef,
				repeating_classes_classe_trap_Total:totTrap,
				repeating_classes_classe_alchemy_Total:totAlchemy,
				repeating_classes_classe_animisme_Total:totAnimisme,
				repeating_classes_classe_art_Total:totArt,
				repeating_classes_classe_danc_Total:totDanc,
				repeating_classes_classe_forg_Total:totForg,
				repeating_classes_classe_jewe_Total:totJewe,
				repeating_classes_classe_musi_Total:totMusi,
				repeating_classes_classe_rune_Total:totRune,
				repeating_classes_classe_ritc_Total:totRitc,
				repeating_classes_classe_slig_Total:totSlig,
				repeating_classes_classe_tail_Total:totTail,
				repeating_classes_classe_PPP_Total: totPPP
			});
		});
	});
	
	//Total des paramètres des classes
	const classSum = ['classe_niveau', 'classe_PV_Total','classe_Init_Total','classe_Att_Total','classe_Esq_Total','classe_Par_Total','classe_PA_Total', 'classe_Summon_Total', 'classe_Control_Total', 'classe_Bind_Total', 'classe_Banish_Total','classe_DI_Total','classe_PPP_Total','classe_Zeon_Total','classe_acro_Total','classe_athl_Total','classe_clim_Total','classe_jump_Total','classe_ride_Total','classe_swim_Total','classe_etiq_Total','classe_inti_Total','classe_lead_Total','classe_pers_Total','classe_stre_Total','classe_styl_Total','classe_trad_Total','classe_noti_Total','classe_sear_Total','classe_trac_Total','classe_anim_Total','classe_appr_Total','classe_arch_Total','classe_herb_Total','classe_hist_Total','classe_law_Total','classe_mapp_Total','classe_medi_Total','classe_memo_Total','classe_navi_Total','classe_occu_Total','classe_scie_Total','classe_tact_Total','classe_comp_Total','classe_feat_Total','classe_with_Total','classe_disg_Total','classe_hide_Total','classe_lock_Total','classe_pois_Total','classe_stea_Total','classe_thef_Total','classe_trap_Total','classe_alchemy_Total','classe_animisme_Total','classe_art_Total','classe_danc_Total','classe_forg_Total','classe_jewe_Total','classe_musi_Total','classe_rune_Total','classe_ritc_Total','classe_slig_Total','classe_tail_Total'];
	classSum.forEach(function (classS) 
	{
		on('sheet:opened change:repeating_classes:'+classS, function()
		{
			var sum;
			
			switch(classS)
			{
				case "classe_niveau":
					sum = "classe_Lvl_Sum";
				break;
				
				case "classe_PV_Total":
					sum = "classe_PV_Sum";
				break;
				
				case "classe_Init_Total":
					sum = "classe_Init_Sum";
				break;
				
				case "classe_Att_Total":
					sum = "classe_Att_Sum";
				break;
				
				case "classe_Esq_Total":
					sum = "classe_Esq_Sum";
				break;
				
				case "classe_Par_Total":
					sum = "classe_Par_Sum";
				break;
				
				case "classe_PA_Total":
					sum = "classe_PA_Sum";
				break;
				
				case "classe_DI_Total":
					sum = "classe_DI_Sum";
				break;
				
				case "classe_PPP_Total":
					sum = "classe_PPP_Sum";
				break;
				
				case "classe_Zeon_Total":
					sum = "classe_Zeon_Sum";
				break;
				
				case "classe_Summon_Total":
					sum = "classe_Summon_Sum";
				break;
				
				case "classe_Control_Total":
					sum = "classe_Control_Sum";
				break;
				
				case "classe_Bind_Total":
					sum = "classe_Bind_Sum";
				break;
				
				case "classe_Banish_Total":
					sum = "classe_Banish_Sum";
				break;
				
				case "classe_acro_Total":
					sum = "classe_acro_Sum";
				break;

				case "classe_athl_Total":
					sum = "classe_athl_Sum";
				break;

				case "classe_clim_Total":
					sum = "classe_clim_Sum";
				break;

				case "classe_jump_Total":
					sum = "classe_jump_Sum";
				break;

				case "classe_ride_Total":
					sum = "classe_ride_Sum";
				break;

				case "classe_swim_Total":
					sum = "classe_swim_Sum";
				break;

				case "classe_etiq_Total":
					sum = "classe_etiq_Sum";
				break;

				case "classe_inti_Total":
					sum = "classe_inti_Sum";
				break;

				case "classe_lead_Total":
					sum = "classe_lead_Sum";
				break;

				case "classe_pers_Total":
					sum = "classe_pers_Sum";
				break;

				case "classe_stre_Total":
					sum = "classe_stre_Sum";
				break;

				case "classe_styl_Total":
					sum = "classe_styl_Sum";
				break;

				case "classe_trad_Total":
					sum = "classe_trad_Sum";
				break;

				case "classe_noti_Total":
					sum = "classe_noti_Sum";
				break;

				case "classe_sear_Total":
					sum = "classe_sear_Sum";
				break;

				case "classe_trac_Total":
					sum = "classe_trac_Sum";
				break;

				case "classe_anim_Total":
					sum = "classe_anim_Sum";
				break;

				case "classe_appr_Total":
					sum = "classe_appr_Sum";
				break;

				case "classe_arch_Total":
					sum = "classe_arch_Sum";
				break;

				case "classe_herb_Total":
					sum = "classe_herb_Sum";
				break;

				case "classe_hist_Total":
					sum = "classe_hist_Sum";
				break;

				case "classe_law_Total":
					sum = "classe_law_Sum";
				break;

				case "classe_mapp_Total":
					sum = "classe_mapp_Sum";
				break;

				case "classe_medi_Total":
					sum = "classe_medi_Sum";
				break;

				case "classe_memo_Total":
					sum = "classe_memo_Sum";
				break;

				case "classe_navi_Total":
					sum = "classe_navi_Sum";
				break;

				case "classe_occu_Total":
					sum = "classe_occu_Sum";
				break;

				case "classe_scie_Total":
					sum = "classe_scie_Sum";
				break;

				case "classe_tact_Total":
					sum = "classe_tact_Sum";
				break;

				case "classe_comp_Total":
					sum = "classe_comp_Sum";
				break;

				case "classe_feat_Total":
					sum = "classe_feat_Sum";
				break;

				case "classe_with_Total":
					sum = "classe_with_Sum";
				break;

				case "classe_disg_Total":
					sum = "classe_disg_Sum";
				break;

				case "classe_hide_Total":
					sum = "classe_hide_Sum";
				break;

				case "classe_lock_Total":
					sum = "classe_lock_Sum";
				break;

				case "classe_pois_Total":
					sum = "classe_pois_Sum";
				break;

				case "classe_stea_Total":
					sum = "classe_stea_Sum";
				break;

				case "classe_thef_Total":
					sum = "classe_thef_Sum";
				break;

				case "classe_trap_Total":
					sum = "classe_trap_Sum";
				break;

				case "classe_alchemy_Total":
					sum = "classe_alchemy_Sum";
				break;
				
				case "classe_animisme_Total":
					sum = "classe_animisme_Sum";
				break;

				case "classe_art_Total":
					sum = "classe_art_Sum";
				break;

				case "classe_danc_Total":
					sum = "classe_danc_Sum";
				break;

				case "classe_forg_Total":
					sum = "classe_forg_Sum";
				break;

				case "classe_jewe_Total":
					sum = "classe_jewel_Sum";
				break;

				case "classe_musi_Total":
					sum = "classe_musi_Sum";
				break;
				
				case "classe_rune_Total":
					sum = "classe_rune_Sum";
				break;

				case "classe_ritc_Total":
					sum = "classe_ritc_Sum";
				break;

				case "classe_slig_Total":
					sum = "classe_slig_Sum";
				break;

				case "classe_tail_Total":
					sum = "classe_tail_Sum";
				break;

			}
			
			TAS.repeatingSimpleSum('classes', classS, sum);
		});
	});
		
	//Système de magie
	on('change:spell-system change:repeating_spells sheet:opened',function()
	{
		getSectionIDs("repeating_spells", function (ids) 
		{
			_.each(ids,function(id) 
			{
				getAttrs(["spell-system"], function (v) 
				{
					const ss = parseInt(v["spell-system"], 10)||0;
					
					setAttrs({
						["repeating_spells_"+id+"_spell_system"]: ss
					});
				});
				
			});
		});
	});
	
	//Calcul d'IP
	on('change:repeating_armorlayer remove:repeating_armorlayer change:at_cut_1 change:at_cut_2 change:at_cut_3 sheet:opened',function()
	{
		getSectionIDs("repeating_armorlayer", function (idarray) 
		{
			var atT = [];
			var atL = idarray.length;
			if(idarray.length != 0)
			{
				_.each(idarray,function(id) 
				{
					getAttrs(["repeating_armorlayer_"+id+"_armorlayer_cut", "at_cut_1", "at_cut_2", "at_cut_3"], function (v) 
					{
						const value = parseInt(v["repeating_armorlayer_"+id+"_armorlayer_cut"], 10)||0;
						
						atT.push(value);
						
						if(atL == atT.length)
						{
							var max = 0;
							var maxID = 0;
							var other = 0;
							
							const v1 = parseInt(v["at_cut_1"], 10)||0;
							const v2 = parseInt(v["at_cut_2"], 10)||0;
							const v3 = parseInt(v["at_cut_3"], 10)||0;
							atT.push(v1);
							atT.push(v2);
							atT.push(v3);
							
							for(var n = 0; n < atT.length;n++)
							{
								if(atT[n] > max)
								{
									max = atT[n];
									maxID = n;
								}
							}
							
							atT[maxID] = 0;
							
							for(var n = 0; n < atT.length;n++)
							{
								other = other+Math.floor(atT[n]/2);
							}
							
							max = max+other;
							
							setAttrs({
								["at_cut_final"]: max
							});
						}
					});
				});
			}
			else
			{
				getAttrs(["at_cut_1", "at_cut_2", "at_cut_3"], function (v) 
				{
					var max = 0;
					var maxID = 0;
					var other = 0;
					
					const v1 = parseInt(v["at_cut_1"], 10)||0;
					const v2 = parseInt(v["at_cut_2"], 10)||0;
					const v3 = parseInt(v["at_cut_3"], 10)||0;
					atT.push(v1);
					atT.push(v2);
					atT.push(v3);
					
					for(var n = 0; n < atT.length;n++)
					{
						if(atT[n] > max)
						{
							max = atT[n];
							maxID = n;
						}
					}
					
					atT[maxID] = 0;
					
					for(var n = 0; n < atT.length;n++)
					{
						other = other+Math.floor(atT[n]/2);
					}
					
					max = max+other;
					
					setAttrs({
						["at_cut_final"]: max
					});
				});
			}
		});
	});

	on('change:repeating_armorlayer remove:repeating_armorlayer change:at_imp_1 change:at_imp_2 change:at_imp_3 sheet:opened',function()
	{
		getSectionIDs("repeating_armorlayer", function (idarray) 
		{
			var atT = [];
			var atL = idarray.length;
			if(idarray.length != 0)
			{
				_.each(idarray,function(id) 
				{
					getAttrs(["repeating_armorlayer_"+id+"_armorlayer_imp", "at_imp_1", "at_imp_2", "at_imp_3"], function (v) 
					{
						const value = parseInt(v["repeating_armorlayer_"+id+"_armorlayer_imp"], 10)||0;
						
						atT.push(value);
						
						if(atL == atT.length)
						{
							var max = 0;
							var maxID = 0;
							var other = 0;
							
							const v1 = parseInt(v["at_imp_1"], 10)||0;
							const v2 = parseInt(v["at_imp_2"], 10)||0;
							const v3 = parseInt(v["at_imp_3"], 10)||0;
							atT.push(v1);
							atT.push(v2);
							atT.push(v3);
							
							for(var n = 0; n < atT.length;n++)
							{
								if(atT[n] > max)
								{
									max = atT[n];
									maxID = n;
								}
							}
							
							atT[maxID] = 0;
							
							for(var n = 0; n < atT.length;n++)
							{
								other = other+Math.floor(atT[n]/2);
							}
							
							max = max+other;
							
							setAttrs({
								["at_imp_final"]: max
							});
						}
					});
				});
			}
			else
			{
				getAttrs(["at_imp_1", "at_imp_2", "at_imp_3"], function (v) 
				{
					var max = 0;
					var maxID = 0;
					var other = 0;
					
					const v1 = parseInt(v["at_imp_1"], 10)||0;
					const v2 = parseInt(v["at_imp_2"], 10)||0;
					const v3 = parseInt(v["at_imp_3"], 10)||0;
					atT.push(v1);
					atT.push(v2);
					atT.push(v3);
					
					for(var n = 0; n < atT.length;n++)
					{
						if(atT[n] > max)
						{
							max = atT[n];
							maxID = n;
						}
					}
					
					atT[maxID] = 0;
					
					for(var n = 0; n < atT.length;n++)
					{
						other = other+Math.floor(atT[n]/2);
					}
					
					max = max+other;
					
					setAttrs({
						["at_imp_final"]: max
					});
				});
			}
		});
	});

	on('change:repeating_armorlayer remove:repeating_armorlayer change:at_thr_1 change:at_thr_2 change:at_thr_3 sheet:opened',function()
	{
		getSectionIDs("repeating_armorlayer", function (idarray) 
		{
			var atT = [];
			var atL = idarray.length;
			if(idarray.length != 0)
			{
				_.each(idarray,function(id) 
				{
					getAttrs(["repeating_armorlayer_"+id+"_armorlayer_thr", "at_thr_1", "at_thr_2", "at_thr_3"], function (v) 
					{
						const value = parseInt(v["repeating_armorlayer_"+id+"_armorlayer_thr"], 10)||0;
						
						atT.push(value);
						
						if(atL == atT.length)
						{
							var max = 0;
							var maxID = 0;
							var other = 0;
							
							const v1 = parseInt(v["at_thr_1"], 10)||0;
							const v2 = parseInt(v["at_thr_2"], 10)||0;
							const v3 = parseInt(v["at_thr_3"], 10)||0;
							atT.push(v1);
							atT.push(v2);
							atT.push(v3);
							
							for(var n = 0; n < atT.length;n++)
							{
								if(atT[n] > max)
								{
									max = atT[n];
									maxID = n;
								}
							}
							
							atT[maxID] = 0;
							
							for(var n = 0; n < atT.length;n++)
							{
								other = other+Math.floor(atT[n]/2);
							}
							
							max = max+other;
							
							setAttrs({
								["at_thr_final"]: max
							});
						}
					});
				});
			}
			else
			{
				getAttrs(["at_thr_1", "at_thr_2", "at_thr_3"], function (v) 
				{
					var max = 0;
					var maxID = 0;
					var other = 0;
					
					const v1 = parseInt(v["at_thr_1"], 10)||0;
					const v2 = parseInt(v["at_thr_2"], 10)||0;
					const v3 = parseInt(v["at_thr_3"], 10)||0;
					atT.push(v1);
					atT.push(v2);
					atT.push(v3);
					
					for(var n = 0; n < atT.length;n++)
					{
						if(atT[n] > max)
						{
							max = atT[n];
							maxID = n;
						}
					}
					
					atT[maxID] = 0;
					
					for(var n = 0; n < atT.length;n++)
					{
						other = other+Math.floor(atT[n]/2);
					}
					
					max = max+other;
					
					setAttrs({
						["at_thr_final"]: max
					});
				});
			}
		});
	});

	on('change:repeating_armorlayer remove:repeating_armorlayer change:at_hea_1 change:at_hea_2 change:at_hea_3 sheet:opened',function()
	{
		getSectionIDs("repeating_armorlayer", function (idarray) 
		{
			var atT = [];
			var atL = idarray.length;
			if(idarray.length != 0)
			{
				_.each(idarray,function(id) 
				{
					getAttrs(["repeating_armorlayer_"+id+"_armorlayer_hea", "at_hea_1", "at_hea_2", "at_hea_3"], function (v) 
					{
						const value = parseInt(v["repeating_armorlayer_"+id+"_armorlayer_hea"], 10)||0;
						
						atT.push(value);
						
						if(atL == atT.length)
						{
							var max = 0;
							var maxID = 0;
							var other = 0;
							
							const v1 = parseInt(v["at_hea_1"], 10)||0;
							const v2 = parseInt(v["at_hea_2"], 10)||0;
							const v3 = parseInt(v["at_hea_3"], 10)||0;
							atT.push(v1);
							atT.push(v2);
							atT.push(v3);
							
							for(var n = 0; n < atT.length;n++)
							{
								if(atT[n] > max)
								{
									max = atT[n];
									maxID = n;
								}
							}
							
							atT[maxID] = 0;
							
							for(var n = 0; n < atT.length;n++)
							{
								other = other+Math.floor(atT[n]/2);
							}
							
							max = max+other;
							
							setAttrs({
								["at_hea_final"]: max
							});
						}
					});
				});
			}
			else
			{
				getAttrs(["at_hea_1", "at_hea_2", "at_hea_3"], function (v) 
				{
					var max = 0;
					var maxID = 0;
					var other = 0;
					
					const v1 = parseInt(v["at_hea_1"], 10)||0;
					const v2 = parseInt(v["at_hea_2"], 10)||0;
					const v3 = parseInt(v["at_hea_3"], 10)||0;
					atT.push(v1);
					atT.push(v2);
					atT.push(v3);
					
					for(var n = 0; n < atT.length;n++)
					{
						if(atT[n] > max)
						{
							max = atT[n];
							maxID = n;
						}
					}
					
					atT[maxID] = 0;
					
					for(var n = 0; n < atT.length;n++)
					{
						other = other+Math.floor(atT[n]/2);
					}
					
					max = max+other;
					
					setAttrs({
						["at_hea_final"]: max
					});
				});
			}
		});
	});

	on('change:repeating_armorlayer remove:repeating_armorlayer change:at_col_1 change:at_col_2 change:at_col_3 sheet:opened',function()
	{
		getSectionIDs("repeating_armorlayer", function (idarray) 
		{
			var atT = [];
			var atL = idarray.length;
			if(idarray.length != 0)
			{
				_.each(idarray,function(id) 
				{
					getAttrs(["repeating_armorlayer_"+id+"_armorlayer_col", "at_col_1", "at_col_2", "at_col_3"], function (v) 
					{
						const value = parseInt(v["repeating_armorlayer_"+id+"_armorlayer_col"], 10)||0;
						
						atT.push(value);
						
						if(atL == atT.length)
						{
							var max = 0;
							var maxID = 0;
							var other = 0;
							
							const v1 = parseInt(v["at_col_1"], 10)||0;
							const v2 = parseInt(v["at_col_2"], 10)||0;
							const v3 = parseInt(v["at_col_3"], 10)||0;
							atT.push(v1);
							atT.push(v2);
							atT.push(v3);
							
							for(var n = 0; n < atT.length;n++)
							{
								if(atT[n] > max)
								{
									max = atT[n];
									maxID = n;
								}
							}
							
							atT[maxID] = 0;
							
							for(var n = 0; n < atT.length;n++)
							{
								other = other+Math.floor(atT[n]/2);
							}
							
							max = max+other;
							
							setAttrs({
								["at_col_final"]: max
							});
						}
					});
				});
			}
			else
			{
				getAttrs(["at_col_1", "at_col_2", "at_col_3"], function (v) 
				{
					var max = 0;
					var maxID = 0;
					var other = 0;
					
					const v1 = parseInt(v["at_col_1"], 10)||0;
					const v2 = parseInt(v["at_col_2"], 10)||0;
					const v3 = parseInt(v["at_col_3"], 10)||0;
					atT.push(v1);
					atT.push(v2);
					atT.push(v3);
					
					for(var n = 0; n < atT.length;n++)
					{
						if(atT[n] > max)
						{
							max = atT[n];
							maxID = n;
						}
					}
					
					atT[maxID] = 0;
					
					for(var n = 0; n < atT.length;n++)
					{
						other = other+Math.floor(atT[n]/2);
					}
					
					max = max+other;
					
					setAttrs({
						["at_col_final"]: max
					});
				});
			}
		});
	});

	on('change:repeating_armorlayer remove:repeating_armorlayer change:at_ele_1 change:at_ele_2 change:at_ele_3 sheet:opened',function()
	{
		getSectionIDs("repeating_armorlayer", function (idarray) 
		{
			var atT = [];
			var atL = idarray.length;
			if(idarray.length != 0)
			{
				_.each(idarray,function(id) 
				{
					getAttrs(["repeating_armorlayer_"+id+"_armorlayer_ele", "at_ele_1", "at_ele_2", "at_ele_3"], function (v) 
					{
						const value = parseInt(v["repeating_armorlayer_"+id+"_armorlayer_ele"], 10)||0;
						
						atT.push(value);
						
						if(atL == atT.length)
						{
							var max = 0;
							var maxID = 0;
							var other = 0;
							
							const v1 = parseInt(v["at_ele_1"], 10)||0;
							const v2 = parseInt(v["at_ele_2"], 10)||0;
							const v3 = parseInt(v["at_ele_3"], 10)||0;
							atT.push(v1);
							atT.push(v2);
							atT.push(v3);
							
							for(var n = 0; n < atT.length;n++)
							{
								if(atT[n] > max)
								{
									max = atT[n];
									maxID = n;
								}
							}
							
							atT[maxID] = 0;
							
							for(var n = 0; n < atT.length;n++)
							{
								other = other+Math.floor(atT[n]/2);
							}
							
							max = max+other;
							
							setAttrs({
								["at_ele_final"]: max
							});
						}
					});
				});
			}
			else
			{
				getAttrs(["at_ele_1", "at_ele_2", "at_ele_3"], function (v) 
				{
					var max = 0;
					var maxID = 0;
					var other = 0;
					
					const v1 = parseInt(v["at_ele_1"], 10)||0;
					const v2 = parseInt(v["at_ele_2"], 10)||0;
					const v3 = parseInt(v["at_ele_3"], 10)||0;
					atT.push(v1);
					atT.push(v2);
					atT.push(v3);
					
					for(var n = 0; n < atT.length;n++)
					{
						if(atT[n] > max)
						{
							max = atT[n];
							maxID = n;
						}
					}
					
					atT[maxID] = 0;
					
					for(var n = 0; n < atT.length;n++)
					{
						other = other+Math.floor(atT[n]/2);
					}
					
					max = max+other;
					
					setAttrs({
						["at_ele_final"]: max
					});
				});
			}
		});
	});

	on('change:repeating_armorlayer remove:repeating_armorlayer change:at_ene_1 change:at_ene_2 change:at_ene_3 sheet:opened',function()
	{
		getSectionIDs("repeating_armorlayer", function (idarray) 
		{
			var atT = [];
			var atL = idarray.length;
			if(idarray.length != 0)
			{
				_.each(idarray,function(id) 
				{
					getAttrs(["repeating_armorlayer_"+id+"_armorlayer_ene", "at_ene_1", "at_ene_2", "at_ene_3"], function (v) 
					{
						const value = parseInt(v["repeating_armorlayer_"+id+"_armorlayer_ene"], 10)||0;
						
						atT.push(value);
						
						if(atL == atT.length)
						{
							var max = 0;
							var maxID = 0;
							var other = 0;
							
							const v1 = parseInt(v["at_ene_1"], 10)||0;
							const v2 = parseInt(v["at_ene_2"], 10)||0;
							const v3 = parseInt(v["at_ene_3"], 10)||0;
							atT.push(v1);
							atT.push(v2);
							atT.push(v3);
							
							for(var n = 0; n < atT.length;n++)
							{
								if(atT[n] > max)
								{
									max = atT[n];
									maxID = n;
								}
							}
							
							atT[maxID] = 0;
							
							for(var n = 0; n < atT.length;n++)
							{
								other = other+Math.floor(atT[n]/2);
							}
							
							max = max+other;
							
							setAttrs({
								["at_ene_final"]: max
							});
						}
					});
				});
			}
			else
			{
				getAttrs(["at_ene_1", "at_ene_2", "at_ene_3"], function (v) 
				{
					var max = 0;
					var maxID = 0;
					var other = 0;
					
					const v1 = parseInt(v["at_ene_1"], 10)||0;
					const v2 = parseInt(v["at_ene_2"], 10)||0;
					const v3 = parseInt(v["at_ene_3"], 10)||0;
					atT.push(v1);
					atT.push(v2);
					atT.push(v3);
					
					for(var n = 0; n < atT.length;n++)
					{
						if(atT[n] > max)
						{
							max = atT[n];
							maxID = n;
						}
					}
					
					atT[maxID] = 0;
					
					for(var n = 0; n < atT.length;n++)
					{
						other = other+Math.floor(atT[n]/2);
					}
					
					max = max+other;
					
					setAttrs({
						["at_ene_final"]: max
					});
				});
			}
		});
	});

	on('sheet:opened change:repeating_spellcreature',function()
	{
		TAS.repeatingSimpleSum('spellcreature', "daily_spell_creature_cost", "daily_spell_creature_totalcost");
	});
	
	on('sheet:opened change:fameBravery change:fameCowardice change:fameHonor change:fameInfamy change:fameTalent',function()
	{
		getAttrs(["fameBravery", "fameCowardice", "fameHonor", "fameInfamy", "fameTalent"], function (v) 
		{
			const bravery = parseInt(v["fameBravery"], 10)||0;
			const cowardice = parseInt(v["fameCowardice"], 10)||0;
			const honor = parseInt(v["fameHonor"], 10)||0;
			const infamy = parseInt(v["fameInfamy"], 10)||0;
			const talent = parseInt(v["fameTalent"], 10)||0;
			
			var total = bravery + cowardice + honor + infamy + talent;
			
			
			if(total < 10)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: 0,
					["recognition"]: getTranslationByKey("unknown")
				});
			}
			else if(total >= 10 && total < 20)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: -1,
					["recognition"]: getTranslationByKey("known")
				});
			}
			else if(total >= 20 && total < 30)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: -3,
					["recognition"]: getTranslationByKey("popular")
				});
			}
			else if(total >= 30 && total < 40)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: -5,
					["recognition"]: getTranslationByKey("renowned")
				});
			}
			else if(total >= 40 && total < 50)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: -10,
					["recognition"]: getTranslationByKey("famous")
				});
			}
			else if(total >= 50 && total < 70)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: -15,
					["recognition"]: getTranslationByKey("celebrated")
				});
			}
			else if(total >= 70 && total < 100)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: -25,
					["recognition"]: getTranslationByKey("legendary")
				});
			}
			else if(total >= 100)
			{
				setAttrs({
					["fameTotal"]: total,
					["fameDifficulty"]: NA,
					["recognition"]: getTranslationByKey("beyond-legend")
				});
			}
		});
	});
		
	on('sheet:opened',function()
	{
		getSectionIDs("repeating_classes", function (ids) 
		{
			_.each(ids,function(id) 
			{
				getAttrs(["repeating_classes_"+id+"_classe_niveau", "repeating_classes_"+id+"_classe_PV", "repeating_classes_"+id+"_classe_Init", "repeating_classes_"+id+"_classe_Att","repeating_classes_"+id+"_classe_Esq","repeating_classes_"+id+"_classe_Par", "repeating_classes_"+id+"_classe_PortArmure", "repeating_classes_"+id+"_classe_DI", "repeating_classes_"+id+"_classe_PPP", "repeating_classes_"+id+"_classe_summon", "repeating_classes_"+id+"_classe_control", "repeating_classes_"+id+"_classe_bind", "repeating_classes_"+id+"_classe_banish", "repeating_classes_"+id+"_acro_innate_bonus","repeating_classes_"+id+"_athl_innate_bonus","repeating_classes_"+id+"_clim_innate_bonus","repeating_classes_"+id+"_jump_innate_bonus","repeating_classes_"+id+"_ride_innate_bonus","repeating_classes_"+id+"_swim_innate_bonus","repeating_classes_"+id+"_etiq_innate_bonus","repeating_classes_"+id+"_inti_innate_bonus","repeating_classes_"+id+"_lead_innate_bonus","repeating_classes_"+id+"_pers_innate_bonus","repeating_classes_"+id+"_stre_innate_bonus","repeating_classes_"+id+"_styl_innate_bonus","repeating_classes_"+id+"_trad_innate_bonus","repeating_classes_"+id+"_noti_innate_bonus","repeating_classes_"+id+"_sear_innate_bonus","repeating_classes_"+id+"_trac_innate_bonus","repeating_classes_"+id+"_anim_innate_bonus","repeating_classes_"+id+"_appr_innate_bonus","repeating_classes_"+id+"_arch_innate_bonus","repeating_classes_"+id+"_herb_innate_bonus","repeating_classes_"+id+"_hist_innate_bonus","repeating_classes_"+id+"_law_innate_bonus","repeating_classes_"+id+"_mapp_innate_bonus","repeating_classes_"+id+"_medi_innate_bonus","repeating_classes_"+id+"_memo_innate_bonus","repeating_classes_"+id+"_navi_innate_bonus","repeating_classes_"+id+"_occu_innate_bonus","repeating_classes_"+id+"_scie_innate_bonus","repeating_classes_"+id+"_tact_innate_bonus","repeating_classes_"+id+"_comp_innate_bonus","repeating_classes_"+id+"_feat_innate_bonus","repeating_classes_"+id+"_with_innate_bonus","repeating_classes_"+id+"_disg_innate_bonus","repeating_classes_"+id+"_hide_innate_bonus","repeating_classes_"+id+"_lock_innate_bonus","repeating_classes_"+id+"_pois_innate_bonus","repeating_classes_"+id+"_stea_innate_bonus","repeating_classes_"+id+"_thef_innate_bonus","repeating_classes_"+id+"_trap_innate_bonus","repeating_classes_"+id+"_art_innate_bonus","repeating_classes_"+id+"_danc_innate_bonus","repeating_classes_"+id+"_forg_innate_bonus","repeating_classes_"+id+"_jewe_innate_bonus","repeating_classes_"+id+"_musi_innate_bonus","repeating_classes_"+id+"_ritc_innate_bonus","repeating_classes_"+id+"_slig_innate_bonus","repeating_classes_"+id+"_tail_innate_bonus"], function (v) 
				{					
					const lvl = parseInt(v["repeating_classes_"+id+"_classe_niveau"], 10)||0;
					const pv = parseInt(v["repeating_classes_"+id+"_classe_PV"], 10)||0;
					const init = parseInt(v["repeating_classes_"+id+"_classe_Init"], 10)||0;
					const att = parseInt(v["repeating_classes_"+id+"_classe_Att"], 10)||0;
					const esq = parseInt(v["repeating_classes_"+id+"_classe_Esq"], 10)||0;
					const par = parseInt(v["repeating_classes_"+id+"_classe_Par"], 10)||0;
					const pa = parseInt(v["repeating_classes_"+id+"_classe_PortArmure"], 10)||0;
					const di = parseInt(v["repeating_classes_"+id+"_classe_DI"], 10)||0;
					const ppp = parseInt(v["repeating_classes_"+id+"_classe_PPP"], 10)||0;
					
					const summon = parseInt(v["repeating_classes_"+id+"_classe_summon"], 10)||0;
					const control = parseInt(v["repeating_classes_"+id+"_classe_control"], 10)||0;
					const bind = parseInt(v["repeating_classes_"+id+"_classe_bind"], 10)||0;
					const banish = parseInt(v["repeating_classes_"+id+"_classe_banish"], 10)||0;
					
					const acro = parseInt(v["repeating_classes_"+id+"_acro_innate_bonus"], 10)||0;
					const athl = parseInt(v["repeating_classes_"+id+"_athl_innate_bonus"], 10)||0;
					const clim = parseInt(v["repeating_classes_"+id+"_clim_innate_bonus"], 10)||0;
					const jump = parseInt(v["repeating_classes_"+id+"_jump_innate_bonus"], 10)||0;
					const ride = parseInt(v["repeating_classes_"+id+"_ride_innate_bonus"], 10)||0;
					const swim = parseInt(v["repeating_classes_"+id+"_swim_innate_bonus"], 10)||0;

					const etiq = parseInt(v["repeating_classes_"+id+"_etiq_innate_bonus"], 10)||0;
					const inti = parseInt(v["repeating_classes_"+id+"_inti_innate_bonus"], 10)||0;
					const lead = parseInt(v["repeating_classes_"+id+"_lead_innate_bonus"], 10)||0;
					const pers = parseInt(v["repeating_classes_"+id+"_pers_innate_bonus"], 10)||0;
					const stre = parseInt(v["repeating_classes_"+id+"_stre_innate_bonus"], 10)||0;
					const styl = parseInt(v["repeating_classes_"+id+"_styl_innate_bonus"], 10)||0;
					const trad = parseInt(v["repeating_classes_"+id+"_trad_innate_bonus"], 10)||0;

					const noti = parseInt(v["repeating_classes_"+id+"_noti_innate_bonus"], 10)||0;
					const sear = parseInt(v["repeating_classes_"+id+"_sear_innate_bonus"], 10)||0;
					const trac = parseInt(v["repeating_classes_"+id+"_trac_innate_bonus"], 10)||0;

					const anim = parseInt(v["repeating_classes_"+id+"_anim_innate_bonus"], 10)||0;
					const appr = parseInt(v["repeating_classes_"+id+"_appr_innate_bonus"], 10)||0;
					const arch = parseInt(v["repeating_classes_"+id+"_arch_innate_bonus"], 10)||0;
					const herb = parseInt(v["repeating_classes_"+id+"_herb_innate_bonus"], 10)||0;
					const hist = parseInt(v["repeating_classes_"+id+"_hist_innate_bonus"], 10)||0;
					const law = parseInt(v["repeating_classes_"+id+"_law_innate_bonus"], 10)||0;
					const mapp = parseInt(v["repeating_classes_"+id+"_mapp_innate_bonus"], 10)||0;
					const medi = parseInt(v["repeating_classes_"+id+"_medi_innate_bonus"], 10)||0;
					const memo = parseInt(v["repeating_classes_"+id+"_memo_innate_bonus"], 10)||0;
					const navi = parseInt(v["repeating_classes_"+id+"_navi_innate_bonus"], 10)||0;
					const occu = parseInt(v["repeating_classes_"+id+"_occu_innate_bonus"], 10)||0;
					const scie = parseInt(v["repeating_classes_"+id+"_scie_innate_bonus"], 10)||0;
					const tact = parseInt(v["repeating_classes_"+id+"_tact_innate_bonus"], 10)||0;

					const comp = parseInt(v["repeating_classes_"+id+"_comp_innate_bonus"], 10)||0;
					const feat = parseInt(v["repeating_classes_"+id+"_feat_innate_bonus"], 10)||0;
					const witp = parseInt(v["repeating_classes_"+id+"_with_innate_bonus"], 10)||0;

					const disg = parseInt(v["repeating_classes_"+id+"_disg_innate_bonus"], 10)||0;
					const hide = parseInt(v["repeating_classes_"+id+"_hide_innate_bonus"], 10)||0;
					const lock = parseInt(v["repeating_classes_"+id+"_lock_innate_bonus"], 10)||0;
					const pois = parseInt(v["repeating_classes_"+id+"_pois_innate_bonus"], 10)||0;
					const stea = parseInt(v["repeating_classes_"+id+"_stea_innate_bonus"], 10)||0;
					const thef = parseInt(v["repeating_classes_"+id+"_thef_innate_bonus"], 10)||0;
					const trap = parseInt(v["repeating_classes_"+id+"_trap_innate_bonus"], 10)||0;

					const art = parseInt(v["repeating_classes_"+id+"_art_innate_bonus"], 10)||0;
					const danc = parseInt(v["repeating_classes_"+id+"_danc_innate_bonus"], 10)||0;
					const forg = parseInt(v["repeating_classes_"+id+"_forg_innate_bonus"], 10)||0;
					const jewe = parseInt(v["repeating_classes_"+id+"_jewe_innate_bonus"], 10)||0;
					const musi = parseInt(v["repeating_classes_"+id+"_musi_innate_bonus"], 10)||0;
					const ritc = parseInt(v["repeating_classes_"+id+"_ritc_innate_bonus"], 10)||0;
					const slig = parseInt(v["repeating_classes_"+id+"_slig_innate_bonus"], 10)||0;
					const tail = parseInt(v["repeating_classes_"+id+"_tail_innate_bonus"], 10)||0;
					
					var totPV = lvl*pv;
					var totInit = lvl*init;
					var totAtt = Math.min(lvl*att, 50);
					var totEsq = Math.min(lvl*esq, 50);
					var totPar = Math.min(lvl*par, 50);
					var totPA = lvl*pa;
					var totDI = lvl*di;
					
					var totSummon = lvl*summon;
					var totControl = lvl*control;
					var totBind = lvl*bind;
					var totBanish = lvl*banish;
					
					var totAcro = lvl*acro;
					var totAthl = lvl*athl;
					var totClim = lvl*clim;
					var totJump = lvl*jump;
					var totRide = lvl*ride;
					var totSwim = lvl*swim;
					
					var totEtiq = lvl*etiq;
					var totInti = lvl*inti;
					var totLead = lvl*lead;
					var totPers = lvl*pers;
					var totStre = lvl*stre;
					var totStyl = lvl*styl;
					var totTrad = lvl*trad;
					
					var totNoti = lvl*noti;
					var totSear = lvl*sear;
					var totTrac = lvl*trac;
					
					var totAnim = lvl*anim;
					var totAppr = lvl*appr;
					var totArch = lvl*arch;
					var totHerb = lvl*herb;
					var totHist = lvl*hist;
					var totLaw = lvl*law;
					var totMapp = lvl*mapp;
					var totMedi = lvl*medi;
					var totMemo = lvl*memo;
					var totNavi = lvl*navi;
					var totOccu = lvl*occu;
					var totScie = lvl*scie;
					var totTact = lvl*tact;
					
					var totComp = lvl*comp;
					var totFeat = lvl*feat;
					var totWitp = lvl*witp;
					
					var totDisg = lvl*disg;
					var totHide = lvl*hide;
					var totLock = lvl*lock;
					var totPois = lvl*pois;
					var totStea = lvl*stea;
					var totThef = lvl*thef;
					var totTrap = lvl*trap;
					
					var totArt = lvl*art;
					var totDanc = lvl*danc;
					var totForg = lvl*forg;
					var totJewe = lvl*jewe;
					var totMusi = lvl*musi;
					var totRitc = lvl*ritc;
					var totSlig = lvl*slig;
					var totTail = lvl*tail;
					
					var totPPP
					
					switch(ppp)
					{
						case 1:
							totPPP = lvl*1;
						break;
						
						case 2:
							totPPP = Math.floor(lvl/2)*1;
						break;
						
						case 3:
							totPPP = Math.floor(lvl/3)*1;
						break;
					}
					
					setAttrs({
						["repeating_classes_"+id+"_classe_PV_Total"]: totPV,
						["repeating_classes_"+id+"_classe_Init_Total"]: totInit,
						["repeating_classes_"+id+"_classe_Att_Total"]: totAtt,
						["repeating_classes_"+id+"_classe_Esq_Total"]: totEsq,
						["repeating_classes_"+id+"_classe_Par_Total"]: totPar,
						["repeating_classes_"+id+"_classe_PA_Total"]: totPA,
						["repeating_classes_"+id+"_classe_DI_Total"]: totDI,
						["repeating_classes_"+id+"_classe_Summon_Total"]: totSummon,
						["repeating_classes_"+id+"_classe_Control_Total"]: totControl,
						["repeating_classes_"+id+"_classe_Bind_Total"]: totBind,
						["repeating_classes_"+id+"_classe_Banish_Total"]: totBanish,
						["repeating_classes_"+id+"_classe_acro_Total"]:totAcro,
						["repeating_classes_"+id+"_classe_athl_Total"]:totAthl,
						["repeating_classes_"+id+"_classe_clim_Total"]:totClim,
						["repeating_classes_"+id+"_classe_jump_Total"]:totJump,
						["repeating_classes_"+id+"_classe_ride_Total"]:totRide,
						["repeating_classes_"+id+"_classe_swim_Total"]:totSwim,
						["repeating_classes_"+id+"_classe_etiq_Total"]:totEtiq,
						["repeating_classes_"+id+"_classe_inti_Total"]:totInti,
						["repeating_classes_"+id+"_classe_lead_Total"]:totLead,
						["repeating_classes_"+id+"_classe_pers_Total"]:totPers,
						["repeating_classes_"+id+"_classe_stre_Total"]:totStre,
						["repeating_classes_"+id+"_classe_styl_Total"]:totStyl,
						["repeating_classes_"+id+"_classe_trad_Total"]:totTrad,
						["repeating_classes_"+id+"_classe_noti_Total"]:totNoti,
						["repeating_classes_"+id+"_classe_sear_Total"]:totSear,
						["repeating_classes_"+id+"_classe_trac_Total"]:totTrac,
						["repeating_classes_"+id+"_classe_anim_Total"]:totAnim,
						["repeating_classes_"+id+"_classe_appr_Total"]:totAppr,
						["repeating_classes_"+id+"_classe_arch_Total"]:totArch,
						["repeating_classes_"+id+"_classe_herb_Total"]:totHerb,
						["repeating_classes_"+id+"_classe_hist_Total"]:totHist,
						["repeating_classes_"+id+"_classe_law_Total"]:totLaw,
						["repeating_classes_"+id+"_classe_mapp_Total"]:totMapp,
						["repeating_classes_"+id+"_classe_medi_Total"]:totMedi,
						["repeating_classes_"+id+"_classe_memo_Total"]:totMemo,
						["repeating_classes_"+id+"_classe_navi_Total"]:totNavi,
						["repeating_classes_"+id+"_classe_occu_Total"]:totOccu,
						["repeating_classes_"+id+"_classe_scie_Total"]:totScie,
						["repeating_classes_"+id+"_classe_tact_Total"]:totTact,
						["repeating_classes_"+id+"_classe_comp_Total"]:totComp,
						["repeating_classes_"+id+"_classe_feat_Total"]:totFeat,
						["repeating_classes_"+id+"_classe_with_Total"]:totWitp,
						["repeating_classes_"+id+"_classe_disg_Total"]:totDisg,
						["repeating_classes_"+id+"_classe_hide_Total"]:totHide,
						["repeating_classes_"+id+"_classe_lock_Total"]:totLock,
						["repeating_classes_"+id+"_classe_pois_Total"]:totPois,
						["repeating_classes_"+id+"_classe_stea_Total"]:totStea,
						["repeating_classes_"+id+"_classe_thef_Total"]:totThef,
						["repeating_classes_"+id+"_classe_trap_Total"]:totTrap,
						["repeating_classes_"+id+"_classe_art_Total"]:totArt,
						["repeating_classes_"+id+"_classe_danc_Total"]:totDanc,
						["repeating_classes_"+id+"_classe_forg_Total"]:totForg,
						["repeating_classes_"+id+"_classe_jewe_Total"]:totJewe,
						["repeating_classes_"+id+"_classe_musi_Total"]:totMusi,
						["repeating_classes_"+id+"_classe_ritc_Total"]:totRitc,
						["repeating_classes_"+id+"_classe_slig_Total"]:totSlig,
						["repeating_classes_"+id+"_classe_tail_Total"]:totTail,
						["repeating_classes_"+id+"_classe_PPP_Total"]: totPPP
					});
				});
				
			});
		});
		
		getAttrs(["update_1MS"], function (value) 
		{
			const uMS = parseInt(value["update_1MS"], 10)||0;
			
			if(uMS != 1)
			{
				getSectionIDs("repeating_spells", function (ids) 
				{
					_.each(ids,function(id) 
					{
						getAttrs(["repeating_spells_"+id+"_spell_system"], function (v) 
						{					
							const ss = parseInt(v["repeating_spells_"+id+"_spell_system"], 10)||0;
							
							setAttrs({
								["spell-system"]: ss,
								["update_1MS"]: 1
							});
						});
						
					});
				});
			}
		});
		
		getAttrs(["lp_actual", "fatigue_actual", "update_1"], function(values) 
		{
			var getUpdated = values["update_1"];
			
			if(getUpdated != 1)
			{
				var lpOld = values["lp_actual"];
				var fatigueOld = values["fatigue_actual"];
				
				setAttrs({
					lp:lpOld,
					fatigue:fatigueOld,
					update_1:1
				});
			}
		});
		
		getAttrs(["gold_option", "update_2"], function(values) 
		{
			var getUpdated = parseInt(values["update_2"], 10)||0;
			
			if(getUpdated != 1)
			{
				var gold = parseInt(values["gold_option"], 10)||0;
				
				if(gold != 0)
				{
					setAttrs({
						gc_amount:gold	
					});
				}
				
				setAttrs({
					update_2:1	
				});
			}
		});
		
		getAttrs(["gold_option", "update_2"], function(values) 
		{
			var getUpdated = parseInt(values["update_2"], 10)||0;
			
			if(getUpdated != 1)
			{
				var gold = parseInt(values["gold_option"], 10)||0;
				
				if(gold != 0)
				{
					setAttrs({
						gc_amount:gold	
					});
				}
				
				setAttrs({
					update_2:1	
				});
			}
		});

		getAttrs(["update_3"], function(values) 
		{
			let getUpdated = parseInt(values["update_3"], 10)||0;
			
			if(getUpdated != 1)
			{
				getSectionIDs("repeating_weapons", function (ids) 
				{
					_.each(ids,function(id) 
					{
						getAttrs(["repeating_weapons_"+id+"_weapon_strbonus"], function (v) 
						{					
							const strB = v["repeating_weapons_"+id+"_weapon_strbonus"];
							
							if(strB == "@{agi_mod})") {
								setAttrs({
								["repeating_weapons_"+id+"_weapon_strbonus"]: "@{agi_mod}"
								});
							}
						});
					});
				});
			
				setAttrs({
					update_3: 1
				});
			}
		});	
		
		setAttrs({
			modifiersTrad: getTranslationByKey("modifiers"),
			fatigueTrad: getTranslationByKey("fatigue"),
			openRollTrad: getTranslationByKey("open-roll-no"),
			lastResultTrad: getTranslationByKey("last-result"),
			addedEffectTrad: getTranslationByKey("added-effect"),
			useTrad: getTranslationByKey("use"),
			maintTrad: getTranslationByKey("maintenance")
		});
			
	});
</script>

<img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Anima-Beyond-Fantasy/img/logo.png" alt="Anima Beyond Fantasy" class="logo" />
<div class="char-info">
	<label>
		<span data-i18n="name">Name</span>
		<input type="text" name="attr_character_name" />
	</label>
	
	<label>
		<span data-i18n="race">Race</span>
		<input type="text" name="attr_character_race" />
	</label>
	
	<label>
		<span data-i18n="class">Class</span>
		<input type="text" name="attr_character_class" />
	</label>
	
	<label>
		<span data-i18n="char-gender">Gender</span>
		<input type="text" name="attr_character_gender"/>
	</label>
	
	<label>
		<span data-i18n="char-height">Height</span>
		<input type="text" name="attr_character_height"/>
	</label>
	
	<label>
		<span data-i18n="char-weight">Weight</span>
		<input type="text" name="attr_character_weight"/>
	</label>
	
	<label>
		<span data-i18n="char-size">Size</span>
		<input type="number" name="attr_character_size" value="10" min="0"/>
	</label>
	
	<label>
		<span data-i18n="age">Age</span>
		<input type="text" name="attr_character_age" value="18" min="0"/>
	</label>
	
	<label>
		<span data-i18n="char-appearance">Appear.</span>
		<input type="number" name="attr_character_appearance" value="5" min="0" max="10"/>
	</label>
	
	<label>
		<span data-i18n="level">Level</span>
		<input type="number" name="attr_character_level" value="@{classe_Lvl_Sum}" min="0" disabled />
	</label>
	
	<label>
		<span data-i18n="xperience-points">XP</span>
		<input type="number" name="attr_character_xp" value="0" min="0"/>
	</label>
	
	<label>
		<span data-i18n="level-next">Next Level</span>
		<input type="number" name="attr_character_nextlvl" min="0" value="100"/>
	</label>
	
	<label>
		<span data-i18n="development-points">DP</span>
		<input type="number" name="attr_DP" value="( @{character_level}*100 ) + 500" disabled="true"/>
	</label>
	
	<label>
		<span data-i18n="presence">Presence</span>
		<input type="number" name="attr_presence" value="((@{character_level}*100 +500)/20)" disabled />
	</label>
</div>
<div class="menu">
	<input type="hidden" name="attr_visible-tabs-magic" value="1" />
	<input type="hidden" name="attr_visible-tabs-psychic" value="1" />
	<input type="hidden" name="attr_visible-tabs-ki" value="1" />
	
	<label>
		<input type="radio" name="attr_tab" value="1" checked />
		<span data-i18n-title="tab-general" title="General"></span>
	</label>
	
	<label>
		<input type="radio" name="attr_tab" value="7" checked />
		<span data-i18n-title="tab-background" title="Background"></span>
	</label>
	
	<label class="magic">
		<input type="radio" name="attr_tab" value="2"/>
		<span data-i18n-title="tab-magic" title="Magic"></span>
	</label>
	
	<label class="psychic">
		<input type="radio" name="attr_tab" value="3"/>
		<span data-i18n-title="tab-psychic" title="Psychic"></span>
	</label>
	
	<label class="ki">
		<input type="radio" name="attr_tab" value="4"/>
		<span data-i18n-title="tab-ki" title="Ki"></span>
	</label>
	
	<label>
		<input type="radio" name="attr_tab" value="5"/>
		<span data-i18n-title="tab-armory" title="Armory"></span>
	</label>
	
	<label>
		<input type="radio" name="attr_tab" value="6"/>
		<span title="y"></span>
	</label>
</div>
<input type="hidden" name="attr_update_1" value="0" readonly />
<input type="hidden" name="attr_update_2" value="0" readonly />
<input type="hidden" name="attr_update_3" value="0" readonly />
<input type="hidden" name="attr_update_1MS" value="0" readonly />
<input type="hidden" name="attr_aap" value="((((@{aam})+(@{AMTransDraSceaux}*5)) - abs((@{aam}+(@{AMTransDraSceaux}*5)))) / 2)" disabled />
<input type="hidden" name="attr_tab" class="tabExtend" value="1" />

<input type="hidden" name="attr_modifiersTrad" value="Modifiers" />
<input type="hidden" name="attr_fatigueTrad" value="Fatigue" />
<input type="hidden" name="attr_openRollTrad" value="Open Roll No" />
<input type="hidden" name="attr_lastResultTrad" value="Last Result" />
<input type="hidden" name="attr_addedEffectTrad" value="Added Effect" />
<input type="hidden" name="attr_useTrad" value="Use" />
<input type="hidden" name="attr_maintTrad" value="Maint." />

<input type="hidden" name="attr_diceRollChar" value="@{wtype} &{template:ABFCharac} {{name=@{character_name}}}" />
<input type="hidden" name="attr_diceRollD100" value="@{roll-system}@{wtype} &{template:ABFBase} {{name=@{character_name}}} {{critique=[^{open-roll}](~open)}} {{fumble=[^{fumble}](~fumble)}}" />
<input type="hidden" name="attr_diceRollResist" value="@{wtype} &{template:ABFBase} {{name=@{character_name}}} {{critique=[^{open-roll}](~open)}} {{fumble=[^{fumble}](~fumble)}}" />
<input type="hidden" name="attr_diceRollSpell" value="@{wtype} &{template:ABFSpell} {{name=@{character_name}}} {{system=[[@{spell-system}]]}}" />
<input type="hidden" name="attr_diceRollSpellCast" value="@{wtype} &{template:ABFSpellCast} {{name=@{character_name}}}" />
<input type="hidden" name="attr_diceRollPsi" value="@{wtype} &{template:ABFPsi} {{name=@{character_name}}}" />
<input type="hidden" name="attr_diceRollKi" value="@{wtype} &{template:ABFKi} {{name=@{character_name}}}" />
<input type="hidden" name="attr_diceRollWeapon" value="@{wtype} &{template:ABFWeapon} {{name=@{character_name}}}" />
<input type="hidden" name="attr_diceRollORFU" value="@{wtype} &{template:ABFBase} {{name=@{character_name}}} {{critique=[^{open-roll}](~open)}} {{fumble=[^{fumble}](~fumble)}}" />

<div class="body tab1">
	<div>
		<div>
			<div class="charac">
				<h2 data-i18n="characteristics">Characteristics</h2>
				<div>
					<span data-i18n="attribute-short">Atr.</span>
					<span data-i18n="final-value">Final</span>
					<span data-i18n="opposed">Opposed</span>
				</div>
				<div>
					<input type="hidden" name="attr_agi_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_agi" value="@{diceRollChar} {{subname=^{agility}}} {{result=[[1d10+@{agi_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{agi_final}+?{@{fatigueTrad} ?|0}]]+?{@{modifiersTrad} ?|0}]]}}">
								<span class="physical" data-i18n="agility-short">AGI</span>
								<span name="attr_agi_final"></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_agi_opposed" value="@{diceRollChar} {{subname=^{agility}}} {{result=[[1d10+@{agi_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{agi_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_agi_opposed_final"></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="physical" data-i18n="agility">Agility</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_agi" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_agi_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_agi_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_agi_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_agi_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_agi_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_agi_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_agi_option" value="1" />
						<span></span>
					</label>
				</div>
				<div>
					<input type="hidden" name="attr_con_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_con" value="@{diceRollChar} {{subname=^{constitution}}} {{result=[[1d10+@{con_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{con_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span class="physical" data-i18n="constitution-short">CON</span>
								<span name="attr_con_final"></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_con_opposed" value="@{diceRollChar} {{subname=^{constitution}}} {{result=[[1d10+@{con_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{con_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_con_opposed_final" value="" ></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="physical" data-i18n="constitution">Constitution</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_con" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_con_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_con_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_con_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_con_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_con_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_con_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_con_option" value="1" />
						<span></span>
					</label>
				</div>
				<div>
					<input type="hidden" name="attr_dex_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_dex" value="@{diceRollChar} {{subname=^{dexterity}}} {{result=[[1d10+@{dex_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{dex_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span class="physical" data-i18n="dexterity-short">DEX</span>
								<span name="attr_dex_final"></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_dex_opposed" value="@{diceRollChar} {{subname=^{dexterity}}} {{result=[[1d10+@{dex_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{dex_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_dex_opposed_final" ></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="physical" data-i18n="dexterity">Dexterity</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_dex" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_dex_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_dex_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_dex_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_dex_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_dex_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_dex_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_dex_option" value="1" />
						<span></span>
					</label>
				</div>
				<div>
					<input type="hidden" name="attr_str_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_str" value="@{diceRollChar} {{subname=^{strength}}} {{result=[[1d10+@{str_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{str_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span class="physical" data-i18n="strength-short">STR</span>
								<span name="attr_str_final"></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_str_opposed" value="@{diceRollChar} {{subname=^{strength}}} {{result=[[1d10+@{str_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{str_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_str_opposed_final" ></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="physical" data-i18n="strength">Strength</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_str" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_str_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_str_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_str_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_str_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_str_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_str_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_str_option" value="1" />
						<span></span>
					</label>
				</div>
				<div>
					<input type="hidden" name="attr_int_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_int" value="@{diceRollChar} {{subname=^{intelligence}}} {{result=[[1d10+@{int_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{int_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span class="mental" data-i18n="intelligence-short">INT</span>
								<span name="attr_int_final" ></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_int_opposed" value="@{diceRollChar} {{subname=^{intelligence}}} {{result=[[1d10+@{int_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{int_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_int_opposed_final" ></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="mental" data-i18n="intelligence">Intelligence</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_int" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_int_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_int_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_int_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_int_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_int_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_int_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_int_option" value="1" />
						<span></span>
					</label>
				</div>
				<div>
					<input type="hidden" name="attr_per_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_per" value="@{diceRollChar} {{subname=^{perception}}} {{result=[[1d10+@{per_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{per_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span class="mental" data-i18n="perception-short">PER</span>
								<span name="attr_per_final" ></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_per_opposed" value="@{diceRollChar} {{subname=^{perception}}} {{result=[[1d10+@{per_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{per_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_per_opposed_final"></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="mental" data-i18n="perception">Perception</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_per" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_per_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_per_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_per_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_per_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_per_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_per_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_per_option" value="1" />
						<span></span>
					</label>
				</div>
				<div>
					<input type="hidden" name="attr_pow_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_pow" value="@{diceRollChar} {{subname=^{soul-power}}} {{result=[[1d10+@{pow_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{pow_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span class="mental" data-i18n="soul-power-short">POW</span>
								<span name="attr_pow_final" ></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_pow_opposed" value="@{diceRollChar} {{subname=^{soul-power}}} {{result=[[1d10+@{pow_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{pow_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_pow_opposed_final" ></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="mental" data-i18n="soul-power">Power</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_pow" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_pow_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_pow_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_pow_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_pow_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_pow_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_pow_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_pow_option" value="1" />
						<span></span>
					</label>
				</div>
				<div>
					<input type="hidden" name="attr_wp_option" class="characExtend" value="0" />
					<div class="compact">
						<label>
							<button type="roll" name="roll_wp" value="@{diceRollChar} {{subname=^{willpower}}} {{result=[[1d10+@{wp_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{wp_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span class="mental" data-i18n="willpower-short">WP</span>
								<span name="attr_wp_final" ></span>
							</button>
						</label>
						<label>
							<button type="roll" name="roll_wp_opposed" value="@{diceRollChar} {{subname=^{willpower}}} {{result=[[1d10+@{wp_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}} {{resultCrit=[[12+@{wp_opposed_final}+?{@{fatigueTrad} ?|0}+?{@{modifiersTrad} ?|0}]]}}">
								<span name="attr_wp_opposed_final" ></span>
							</button>
						</label>
					</div>
					<div class="extend">
						<h3 class="mental" data-i18n="willpower">Willpower</h3>
						<label>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_wp" value="5" />
						</label>
						<label>
							<span data-i18n="special-bonus">Special</span>
							<input type="number" name="attr_wp_special" value="0" />
						</label>
						<label>
							<span data-i18n="temporary-bonus">Temp.</span>
							<input type="number" name="attr_wp_temp" value="0" />
						</label>
						<label>
							<span data-i18n="final-value">Final</span>
							<input type="number" name="attr_wp_final" value="0" readonly />
						</label>
						<label>
							<span data-i18n="modifier">Mod</span>
							<input type="number" name="attr_wp_mod" value="0" readonly />
						</label>
						<label>
							<span data-i18n="opposed">Opposed</span>
							<input type="number" name="attr_wp_opposed" value="0" />
						</label>
						<label>
							<span data-i18n="final-opposed">Final Opp.</span>
							<input type="number" name="attr_wp_opposed_final" value="0" readonly />
						</label>
					</div>
					<label>
						<input type="checkbox" name="attr_wp_option" value="1" />
						<span></span>
					</label>
				</div>
			</div>
		</div>
		
		<div>
			<div class="resist">
				<h2 data-i18n="resistances">Resistances</h2>
				<div>
					<span data-i18n="type">Type</span>
					<span data-i18n="final-value">Final</span>
					<span data-i18n="special-bonus">Special</span>
				</div>
				<div>
					<div>
						<button type="roll" name="roll_resist_physical" value="@{diceRollResist} {{subname=^{physical-resistance}}} {{result=[[1d100+@{resist_physical_final}]]}} {{noOR=[[1]]}} {{noFU=[[1]]}}">
							<span data-i18n="physical-resistance-short">PhR</span>
							<span name="attr_resist_physical_final"></span>
							<input type="hidden" name="attr_resist_physical_final" value="0" readonly />
						</button>
						<input type="number" name="attr_resist_physical_special" value="0" />
					</div>
					<div>
						<button type="roll" name="roll_resist_disease" value="@{diceRollResist} {{subname=^{disease-resistance}}} {{result=[[1d100+@{resist_disease_final}]]}} {{noOR=[[1]]}} {{noFU=[[1]]}}">
							<span data-i18n="disease-resistance-short">DR</span>
							<span name="attr_resist_disease_final"></span>
							<input type="hidden" name="attr_resist_disease_final" value="0" readonly />
						</button>
						<input type="number" name="attr_resist_disease_special" value="0" />
					</div>
					<div>
						<button type="roll" name="roll_resist_poison" value="@{diceRollResist} {{subname=^{poison-resistance}}} {{result=[[1d100+@{resist_poison_final}]]}} {{noOR=[[1]]}} {{noFU=[[1]]}}">
							<span data-i18n="poison-resistance-short">PsnR</span>
							<span name="attr_resist_poison_final"></span>
							<input type="hidden" name="attr_resist_poison_final" value="0" readonly />
						</button>
						<input type="number" name="attr_resist_poison_special" value="0" />
					</div>    
					<div>
						<button type="roll" name="roll_resist_magic" value="@{diceRollResist} {{subname=^{magic-resistance}}} {{result=[[1d100+@{resist_magic_final}]]}} {{noOR=[[1]]}} {{noFU=[[1]]}}">
							<span data-i18n="magic-resistance-short">MR</span>
							<span name="attr_resist_magic_final"></span>
							<input type="hidden" name="attr_resist_magic_final" value="0" readonly />
						</button>
						<input type="number" name="attr_resist_magic_special" value="0" />
					</div>
					<div>
						<button type="roll" name="roll_resist_psychic" value="@{diceRollResist} {{subname=^{psychic-resistance}}} {{result=[[1d100+@{resist_psychic_final}]]}} {{noOR=[[1]]}} {{noFU=[[1]]}}">
							<span data-i18n="psychic-resistance-short">PsyR</span>
							<span name="attr_resist_psychic_final"></span>
							<input type="hidden" name="attr_resist_psychic_final" value="0" readonly />
						</button>
						<input type="number" name="attr_resist_psychic_special" value="0" />
					</div>
				</div>
			</div>
				
			<div class="aam">
				<label>
					<span data-i18n="all-action-modifier">All Action Modifier</span>
					<input type="number" name="attr_aam" value="0" />
				</label>
				<label>
					<span data-i18n="number-of-actions">Number of actions</span>
					<input type="number" name="attr_noa" value="0" readonly />
				</label>
			</div>
		</div>
		
		<div>
			<div class="movement">
				<h2 data-i18n="movement">Movement</h2>
				<input type="hidden" name="attr_movement_option" value="0" />
				<label>
					<span data-i18n="base-value">Base</span>
					<input type="number" name="attr_movement_base" value="@{agi_final}" disabled />
				</label>
				<label>
					<span data-i18n="penalty-short">Pen.</span>
					<input type="number" name="attr_movement_penalty" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="special-bonus">Spec.</span>
					<input type="number" name="attr_movement_bonus" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_movement_temp" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="final-value">Final</span>
					<input type="number" name="attr_movement_final" min="0" value="((((@{movement_base})+@{movement_bonus}+@{movement_temp}-abs(@{movement_penalty})+ceil(@{aap}/20)) + 1 + abs(((@{movement_base})+@{movement_bonus}+@{movement_temp}-abs(@{movement_penalty})+ceil(@{aap}/20)) - 1)) /2)" disabled />
				</label>
				<label>
					<span data-i18n="full-movement">Full</span>
					<div>
						<input type="number" name="attr_movement_per_turn" min="0" value="" />
						<span data-i18n="feet-short">FT</span>
					</div>
				</label>
				<label>
					<span data-i18n="1/4-movement">1/4 Move</span>
					<div>
						<input type="number" name="attr_movement_passive" min="0" value="" />
						<span data-i18n="feet-short">FT</span>
					</div>
				</label>
				<label>
					<span data-i18n="running-movement">Running</span>
					<div>
						<input type="number" name="attr_movement_running" min="0" value="" />
						<span data-i18n="feet-short">FT</span>
					</div>
				</label>
			</div>
		</div>
		
		<div>
			<div class="lp">
				<h2 data-i18n="lifepoints-short">LP</h2>
				<label class="opt-titre">
					<input type="checkbox" name="attr_lp_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_lp_option" value="0" />
				<div class="extend">
					<label>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_lp_base" value="25+10*(@{con_final})+@{con_mod}-ceil(((@{con_final})-1)/(@{con_final}))*5" disabled />
					</label>
					<label>
						<span data-i18n="multiples-short">Mult.</span>
						<input type="number" name="attr_lp_multiples" min="0" value="0" />
					</label>
					<label>
						<span data-i18n="class">Class</span>
						<input type="number" name="attr_lp_class" min="0" value="@{classe_PV_Sum}" disabled />
					</label>
					<label>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_lp_special" value="0" />
					</label>
				</div>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_lp_temp" value="0" />
				</label>
				<label>
					<span data-i18n="final-value">Final</span>
					<input type="number" name="attr_lp_max" value="@{lp_base}+@{lp_multiples}*(@{con_final})+@{lp_class}+@{lp_special}+@{lp_temp}" disabled />
				</label>
				<label>
					<span data-i18n="actual-value">Actual</span>
					<input type="number" name="attr_lp" value="0" />
				</label>
			</div>
			
			<div class="fatigue">
				<h2 data-i18n="fatigue">Fatigue</h2>
				<label class="opt-titre">
					<input type="checkbox" name="attr_fatigue_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_fatigue_option" value="0" />
				<div class="extend">
					<label>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_fatigue_base" value="(@{con_final})" disabled />
					</label>
					<label>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_fatigue_special" value="0" />
					</label>
				</div>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_fatigue_temp" value="0" />
				</label>
				<label>
					<span data-i18n="final-value">Final</span>
					<input type="number" name="attr_fatigue_max" value="@{fatigue_special}+@{fatigue_temp}+@{fatigue_base}" disabled />
				</label>
				<label>
					<span data-i18n="actual-value">Actual</span>
					<input type="number" name="attr_fatigue" min="0" value="0" />
				</label>
			</div>
		</div>
		
		<div class="regen">
			<h2 data-i18n="regeneration-short">Regen.</h2>
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_base_regenLP" value="0" readonly />
			</label>
			<label>
				<span data-i18n="special-bonus">Spec.</span>
				<input type="number" name="attr_spec_regenLP" value="0" />
			</label>
			<label>
				<span data-i18n="temporary-bonus">Temp.</span>
				<input type="number" name="attr_temp_regenLP" value="0" />
			</label>
			<label>
				<span data-i18n="final-value">Final</span>
				<input type="number" name="attr_regen_total" value="@{base_regenLP}+@{spec_regenLP}+@{temp_regenLP}" disabled />
			</label>
			<label>
				<span data-i18n="resting">Resting</span>
				<input type="number" name="attr_resting" value="0" />
			</label>
			<label>
				<span data-i18n="not-resting">Not Resting</span>
				<input type="number" name="attr_notResting" value="0" />
			</label>
			<label>
				<span data-i18n="reduction-penalty">Redu. Penalty</span>
				<input type="number" name="attr_reductionPenalty" value="0" />
			</label>
			<textarea name="attr_regen_special" data-i18n-placeholder="special-bonus" placeholder="Spec."></textarea>
		</div>
			
		<div class="abd">
			<h2 data-i18n="attack">Attack</h2>
			<label class="opt-titre">
				<input type="checkbox" name="attr_attack_option" value="1" />
				<span></span>
			</label>
			<input type="hidden" name="attr_attack_option" value="0" />
			<div class="extend">
				<label>
					<span data-i18n="base-value">Base</span>
					<input type="number" name="attr_attack_base" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="class">Class</span>
					<input type="number" name="attr_attack_class" value="(((@{classe_Att_Sum} + 50) - abs(@{classe_Att_Sum} - 50)) / 2)" disabled />
				</label>
				<label>
					<span data-i18n="special-bonus">Special</span>
					<input type="number" name="attr_attack_special" min="0" value="0" />
				</label>
			</div>
			<label class="extend btn-mastery">
				<input type="checkbox" class="" name="attr_attack_mastery" value="1" />
				<span data-i18n-title="spell-mastery" title="Mastery"></span>
			</label>
			<div>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_attack_temp" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="final-value">Final</span>
					<input type="number" name="attr_attack_final" value="@{attack_base}+(@{attack_class})+@{dex_mod}+@{attack_special}+@{attack_temp}+@{aam}+(@{AMTransDraSceaux}*5)" disabled />
				</label>
			</div>
			<button type="roll" name="roll_attack" value="@{diceRollD100} {{subname=^{attack}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{attack_mastery}]] + 0) + abs([[@{fr}-@{attack_mastery}]] - 0)) / 2)]]+[[@{attack_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}"></button>
		</div>
	
		<div class="abd">
			<h2 data-i18n="block">Block</h2>
			<label class="opt-titre">
				<input type="checkbox" name="attr_block_option" value="1" />
				<span></span>
			</label>
			<input type="hidden" name="attr_block_option" value="0" />
			<div class="extend">
				<label>
					<span data-i18n="base-value">Base</span>
					<input type="number" name="attr_block_base" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="class">Class</span>
					<input type="number" name="attr_block_class" min="0" value="(((@{classe_Par_Sum} + 50) - abs(@{classe_Par_Sum} - 50)) / 2)" disabled />
				</label>
				<label>
					<span data-i18n="special-bonus">Special</span>
					<input type="number" name="attr_block_special" min="0" value="0" />
				</label>
			</div>
			<label class="extend btn-mastery">
				<input type="checkbox" class="" name="attr_block_mastery" value="1" />
				<span data-i18n-title="spell-mastery" title="Mastery"></span>
			</label>
			<div>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_block_temp" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="final-value">Final</span>
					<input type="number" name="attr_block_final" value="@{block_base}+(@{block_class})+@{dex_mod}+@{block_special}+@{block_temp}+@{aam}+(@{AMTransDraSceaux}*5)" disabled />
				</label>
			</div>
			<button type="roll" name="roll_block" value="@{diceRollD100} {{subname=^{block}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{block_mastery}]] + 0) + abs([[@{fr}-@{block_mastery}]] - 0)) / 2)]]+[[@{block_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}"></button>
		</div>
		
		<div class="abd">
			<h2 data-i18n="dodge">Dodge</h2>
			<label class="opt-titre">
				<input type="checkbox" name="attr_dodge_option" value="1" />
				<span></span>
			</label>
			<input type="hidden" name="attr_dodge_option" value="0" />
			<div class="extend">
				<label>
					<span data-i18n="base-value">Base</span>
					<input type="number" name="attr_dodge_base" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="class">Class</span>
					<input type="number" name="attr_dodge_class" min="0" value="(((@{classe_Esq_Sum} + 50) - abs(@{classe_Esq_Sum} - 50)) / 2)" disabled />
				</label>
				<label>
					<span data-i18n="special-bonus">Special</span>
					<input type="number" name="attr_dodge_special" min="0" value="0" />
				</label>
			</div>
			<label class="extend btn-mastery">
				<input type="checkbox" class="" name="attr_dodge_mastery" value="1" />
				<span data-i18n-title="spell-mastery" title="Mastery"></span>
			</label>
			<div>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_dodge_temp" min="0" value="0" />
				</label>
				<label>
					<span data-i18n="final-value">Final</span>
					<input type="number" name="attr_dodge_final" value="@{dodge_base}+(@{dodge_class})+@{agi_mod}+@{dodge_special}+@{dodge_temp}+@{aam}+(@{AMTransDraSceaux}*5)" disabled />
				</label>
			</div>
			<button type="roll" name="roll_dodge" value="@{diceRollD100} {{subname=^{dodge}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{dodge_mastery}]] + 0) + abs([[@{fr}-@{dodge_mastery}]] - 0)) / 2)]]+[[@{dodge_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}"></button>
		</div>
	
		<div class="initiative">
			<h2 data-i18n="initiative">Initiative</h2>
			<fieldset class="repeating_initiative">
				<input type="hidden" name="attr_init_option" value="0" />
				<button type="roll" name="roll_init" value="@{diceRollD100} {{subname=^{initiative}}} {{subtitle=@{init_label}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[@{fr}]]+[[@{init_final}]]+?{@{modifiersTrad} ?|0}&{tracker}]]}}">
					<input type="text" name="attr_init_label" value=""/>
					<span name="attr_init_final" />
				</button>
				<div class="extend">
					<input type="text" name="attr_init_label" />
					<label>
						<span data-i18n="armor">Armor</span>
						<input type="number" name="attr_init_armor" value="0"/>
					</label>
					<label>
						<span data-i18n="weapon">Weapon</span>
						<input type="number" name="attr_init_weapon" value="20"/>
					</label>
					<label>
						<span data-i18n="class">Class</span>
						<input type="number" name="attr_init_class" min="0" value="@{classe_Init_Sum}" disabled />
					</label>
					<label>
						<span data-i18n="special-bonus">Special</span>
						<input type="number" name="attr_init_special" value="0"/>
					</label>
					<label>
						<span data-i18n="final-value">Final</span>
						<input type="number" name="attr_init_final" value="0" readonly />
					</label>
				</div>
				<label>
					<input type="checkbox" name="attr_init_option" value="1" />
					<span></span>
				</label>
			</fieldset>
		</div>
	
		<div class="avantageDesavantage">
			<h2 data-i18n="advantages">Advantages</h2>
			<div>
				<span data-i18n="name">Name</span>
				<span data-i18n="benefit">Benefit</span>
			</div>
			<fieldset class="repeating_advantage">
				<input type="text" name="attr_advantage_name" />
				<input type="number" name="attr_advantage_cost"/>
				<label>
					<input type="checkbox" name="attr_advanage_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_advanage_option" value="0" />
				<div class="extend autoex autoex22">
					<textarea name="attr_advantage_desc"></textarea>
					<span name="attr_advantage_desc"></span>
				</div>
			</fieldset>
		</div>
		
		<div class="avantageDesavantage">
			<h2 data-i18n="disadvantages">Disadvantages</h2>
			<div>
				<span data-i18n="name">Name</span>
				<span data-i18n="benefit">Benefit</span>
			</div>
			<div>
				<div>
					<input type="text" name="attr_disadvantage1_name" />
					<input type="number" name="attr_disadvantage1_benefit"/>
					<label>
						<input type="checkbox" name="attr_disadvantage1_option" value="1" />
						<span></span>
					</label>
					<input type="hidden" name="attr_disadvantage1_option" value="0" />
					<div class="extend autoex autoex22">
						<textarea name="attr_disadvantage1_desc"></textarea>
						<span name="attr_disadvantage1_desc"></span>
					</div>
				</div>
				<div>
					<input type="text" name="attr_disadvantage2_name" />
					<input type="number" name="attr_disadvantage2_benefit"/>
					<label>
						<input type="checkbox" name="attr_disadvantage2_option" value="1" />
						<span></span>
					</label>
					<input type="hidden" name="attr_disadvantage2_option" value="0" />
					<div class="extend autoex autoex22">
						<textarea name="attr_disadvantage2_desc"></textarea>
						<span name="attr_disadvantage2_desc"></span>
					</div>
				</div>
				<div>
					<input type="text" name="attr_disadvantage3_name" />
					<input type="number" name="attr_disadvantage3_benefit"/>
					<label>
						<input type="checkbox" name="attr_disadvantage3_option" value="1" />
						<span></span>
					</label>
					<input type="hidden" name="attr_disadvantage3_option" value="0" />
					<div class="extend autoex autoex22">
						<textarea name="attr_disadvantage3_desc"></textarea>
						<span name="attr_disadvantage3_desc"></span>
					</div>
				</div>
				<div>
					<input type="text" name="attr_disadvantage4_name" />
					<input type="number" name="attr_disadvantage4_benefit"/>
					<label>
						<input type="checkbox" name="attr_disadvantage4_option" value="1" />
						<span></span>
					</label>
					<input type="hidden" name="attr_disadvantage4_option" value="0" />
					<div class="extend autoex autoex22">
						<textarea name="attr_disadvantage4_desc"></textarea>
						<span name="attr_disadvantage4_desc"></span>
					</div>
				</div>
			</div>
		</div>
	</div>
	<div class="secondary">
		<h2 data-i18n="secondary-abilities">Secondary Abilities</h2>
		<div data-i18n-list="list-skill-athletics">
			<div>
				<span data-i18n="tab-athletics">Athletics</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				
				<label>
					<input type="checkbox" name="attr_athletics_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_athletics_open" class="athletics" value="1"/>
			<div class="athletics" data-i18n-list-item="acrobatics">
				<input type="hidden" name="attr_acro_option" value="0" />
				<div>
					<button type="roll" name="roll_acro" class="armorPenalty" value="@{diceRollD100} {{subname=^{acrobatics}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{acro_mastery}]] + 0) + abs([[@{fr}-@{acro_mastery}]] - 0)) / 2)]]+[[@{acro_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="acrobatics">Acrobatics</span>
						<span name="attr_acro_final"></span>
						<input type="hidden" name="attr_acro_final" value="0" readonly />
					</button>
					<input type="number" name="attr_acro_temp" value="-30"/>
					<input type="number" name="attr_acro_special" value="0"/>
					<input type="number" name="attr_acro_class" value="@{classe_acro_Sum}" disabled />
					<input type="number" name="attr_acro_base" min="0" value="0"/>
					<span class="physical" data-i18n="agility-short">AGI</span>
					
					<label>
						<input type="checkbox" name="attr_acro_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_acro_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_acro_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_acro_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="athletics" data-i18n-list-item="athleticism">
				<input type="hidden" name="attr_athl_option" value="0" />
				<div>
					<button type="roll" name="roll_athl" class="armorPenalty" value="@{diceRollD100} {{subname=^{athleticism}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{athl_mastery}]] + 0) + abs([[@{fr}-@{athl_mastery}]] - 0)) / 2)]]+[[@{athl_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="athleticism">Athleticism</span>
						<span name="attr_athl_final"></span>
						<input type="hidden" name="attr_athl_final" value="" readonly />
					</button>
					<input type="number" name="attr_athl_temp" value="-30"/>
					<input type="number" name="attr_athl_special" value="0"/>
					<input type="number" name="attr_athl_class" value="@{classe_athl_Sum}" disabled />
					<input type="number" name="attr_athl_base" min="0" value="0"/>
					<span class="physical" data-i18n="agility-short">AGI</span>
					
					<label>
						<input type="checkbox" name="attr_athl_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_athl_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_athl_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_athl_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="athletics" data-i18n-list-item="climb">
				<input type="hidden" name="attr_clim_option" value="0" />
				<div>
					<button type="roll" name="roll_clim" class="armorPenalty" value="@{diceRollD100} {{subname=^{climb}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{clim_mastery}]] + 0) + abs([[@{fr}-@{clim_mastery}]] - 0)) / 2)]]+[[@{clim_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="climb">Climb</span>
						<span name="attr_clim_final"></span>
						<input type="hidden" name="attr_clim_final" value="0" readonly />
					</button>
					<input type="number" name="attr_clim_temp" value="-30"/>
					<input type="number" name="attr_clim_special" value="0"/>
					<input type="number" name="attr_clim_class" value="@{classe_clim_Sum}" disabled />
					<input type="number" name="attr_clim_base" min="0" value="0"/>
					<span class="physical" data-i18n="agility-short">AGI</span>
					
					<label>
						<input type="checkbox" name="attr_clim_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_clim_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_clim_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_clim_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="athletics" data-i18n-list-item="jump">
				<input type="hidden" name="attr_jump_option" value="0" />
				<div>
					<button type="roll" name="roll_jump" class="armorPenalty" value="@{diceRollD100} {{subname=^{jump}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{jump_mastery}]] + 0) + abs([[@{fr}-@{jump_mastery}]] - 0)) / 2)]]+[[@{jump_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="jump">Jump</span>
						<span name="attr_jump_final"></span>
						<input type="hidden" name="attr_jump_final" value="0" readonly />
					</button>
					<input type="number" name="attr_jump_temp" value="-30"/>
					<input type="number" name="attr_jump_special" value="0"/>
					<input type="number" name="attr_jump_class" value="@{classe_jump_Sum}" disabled />
					<input type="number" name="attr_jump_base" min="0" value="0"/>
					<span class="physical" data-i18n="strength-short">STR</span>
					
					<label>
						<input type="checkbox" name="attr_jump_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_jump_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_jump_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_jump_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="athletics" data-i18n-list-item="ride">
				<input type="hidden" name="attr_ride_option" value="0" />
				<div>
					<button type="roll" name="roll_ride" class="armorPenalty" value="@{diceRollD100} {{subname=^{ride}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{ride_mastery}]] + 0) + abs([[@{fr}-@{ride_mastery}]] - 0)) / 2)]]+[[@{ride_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="ride">Ride</span>
						<span name="attr_ride_final"></span>
						<input type="hidden" name="attr_ride_final" value="0" readonly />
					</button>
					<input type="number" name="attr_ride_temp" value="-30"/>
					<input type="number" name="attr_ride_special" value="0"/>
					<input type="number" name="attr_ride_class" value="@{classe_ride_Sum}" disabled />
					<input type="number" name="attr_ride_base" min="0" value="0"/>
					<span class="physical" data-i18n="agility-short">AGI</span>
					
					<label>
						<input type="checkbox" name="attr_ride_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_ride_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_ride_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_ride_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="athletics" data-i18n-list-item="swim">
				<input type="hidden" name="attr_swim_option" value="0" />
				<div>
					<button type="roll" name="roll_swim" class="armorPenalty" value="@{diceRollD100} {{subname=^{swim}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{swim_mastery}]] + 0) + abs([[@{fr}-@{swim_mastery}]] - 0)) / 2)]]+[[@{swim_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="swim">Swim</span>
						<span name="attr_swim_final"></span>
						<input type="hidden" name="attr_swim_final" value="0" readonly />
					</button>
					<input type="number" name="attr_swim_temp" value="-30"/>
					<input type="number" name="attr_swim_special" value="0"/>
					<input type="number" name="attr_swim_class" value="@{classe_swim_Sum}" disabled />
					<input type="number" name="attr_swim_base" min="0" value="0"/>
					<span class="physical" data-i18n="agility-short">AGI</span>
					
					<label>
						<input type="checkbox" name="attr_swim_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_swim_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_swim_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_swim_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
		</div>
		
		<div data-i18n-list="list-skill-social">
			<div>
				<span data-i18n="tab-social">Social</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				
				<label>
					<input type="checkbox" name="attr_social_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_social_open" class="social" value="1"/>
			<div class="social" data-i18n-list-item="etiquette">
				<input type="hidden" name="attr_etiq_option" value="0" />
				<div>
					<button type="roll" name="roll_etiq" value="@{diceRollD100} {{subname=^{etiquette}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{etiq_mastery}]] + 0) + abs([[@{fr}-@{etiq_mastery}]] - 0)) / 2)]]+[[@{etiq_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="etiquette">Etiquette</span>
						<span name="attr_etiq_final"></span>
						<input type="hidden" name="attr_etiq_final" value="0" readonly />
					</button>
					<input type="number" name="attr_etiq_temp" value="-30"/>
					<input type="number" name="attr_etiq_special" value="0"/>
					<input type="number" name="attr_etiq_class" value="@{classe_etiq_Sum}" disabled />
					<input type="number" name="attr_etiq_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_etiq_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_etiq_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_etiq_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_etiq_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="social" data-i18n-list-item="intimidate">
				<input type="hidden" name="attr_inti_option" value="0" />
				<div>
					<button type="roll" name="roll_inti" value="@{diceRollD100} {{subname=^{intimidate}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{inti_mastery}]] + 0) + abs([[@{fr}-@{inti_mastery}]] - 0)) / 2)]]+[[@{inti_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="intimidate">Intimidate</span>
						<span name="attr_inti_final"></span>
						<input type="hidden" name="attr_inti_final" value="0" readonly />
					</button>
					<input type="number" name="attr_inti_temp" value="-30"/>
					<input type="number" name="attr_inti_special" value="0"/>
					<input type="number" name="attr_inti_class" value="@{classe_inti_Sum}" disabled />
					<input type="number" name="attr_inti_base" min="0" value="0"/>
					<span class="mental" data-i18n="willpower-short">WP</span>
					
					<label>
						<input type="checkbox" name="attr_inti_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_inti_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_inti_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_inti_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="social" data-i18n-list-item="leadership">
				<input type="hidden" name="attr_lead_option" value="0" />
				<div>
					<button type="roll" name="roll_lead" value="@{diceRollD100} {{subname=^{leadership}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{lead_mastery}]] + 0) + abs([[@{fr}-@{lead_mastery}]] - 0)) / 2)]]+[[@{lead_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="leadership">Leadership</span>
						<span name="attr_lead_final"></span>
						<input type="hidden" name="attr_lead_final" value="0" readonly />
					</button>
					<input type="number" name="attr_lead_temp" value="-30"/>
					<input type="number" name="attr_lead_special" value="0"/>
					<input type="number" name="attr_lead_class" value="@{classe_lead_Sum}" disabled />
					<input type="number" name="attr_lead_base" min="0" value="0"/>
					<span class="mental" data-i18n="soul-power-short">POW</span>
					
					<label>
						<input type="checkbox" name="attr_lead_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_lead_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_lead_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_lead_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="social" data-i18n-list-item="persuasion">
				<input type="hidden" name="attr_pers_option" value="0" />
				<div>
					<button type="roll" name="roll_pers" value="@{diceRollD100} {{subname=^{persuasion}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{pers_mastery}]] + 0) + abs([[@{fr}-@{pers_mastery}]] - 0)) / 2)]]+[[@{pers_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="persuasion">Persuasion</span>
						<span name="attr_pers_final"></span>
						<input type="hidden" name="attr_pers_final" value="0" readonly />
					</button>
					<input type="number" name="attr_pers_temp" value="-30"/>
					<input type="number" name="attr_pers_special" value="0"/>
					<input type="number" name="attr_pers_class" value="@{classe_pers_Sum}" disabled />
					<input type="number" name="attr_pers_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_pers_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_pers_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_pers_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_pers_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="social" data-i18n-list-item="streetwise">
				<input type="hidden" name="attr_stre_option" value="0" />
				<div>
					<button type="roll" name="roll_stre" value="@{diceRollD100} {{subname=^{streetwise}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{stre_mastery}]] + 0) + abs([[@{fr}-@{stre_mastery}]] - 0)) / 2)]]+[[@{stre_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="streetwise">Streetwise</span>
						<span name="attr_stre_final"></span>
						<input type="hidden" name="attr_stre_final" value="0" readonly />
					</button>
					<input type="number" name="attr_stre_temp" value="-30"/>
					<input type="number" name="attr_stre_special" value="0"/>
					<input type="number" name="attr_stre_class" value="@{classe_stre_Sum}" disabled />
					<input type="number" name="attr_stre_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_stre_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_stre_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_stre_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_stre_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="social" data-i18n-list-item="style">
				<input type="hidden" name="attr_styl_option" value="0" />
				<div>
					<button type="roll" name="roll_styl" value="@{diceRollD100} {{subname=^{style}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{styl_mastery}]] + 0) + abs([[@{fr}-@{styl_mastery}]] - 0)) / 2)]]+[[@{styl_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="style">Style</span>
						<span name="attr_styl_final"></span>
						<input type="hidden" name="attr_styl_final" value="0" readonly />
					</button>
					<input type="number" name="attr_styl_temp" value="-30"/>
					<input type="number" name="attr_styl_special" value="0"/>
					<input type="number" name="attr_styl_class" value="@{classe_styl_Sum}" disabled />
					<input type="number" name="attr_styl_base" min="0" value="0"/>
					<span class="mental" data-i18n="soul-power-short">POW</span>
					
					<label>
						<input type="checkbox" name="attr_styl_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_styl_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_styl_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_styl_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="social" data-i18n-list-item="trading">
				<input type="hidden" name="attr_trad_option" value="0" />
				<div>
					<button type="roll" name="roll_trad" value="@{diceRollD100} {{subname=^{trading}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{trad_mastery}]] + 0) + abs([[@{fr}-@{trad_mastery}]] - 0)) / 2)]]+[[@{trad_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="trading">Trading</span>
						<span name="attr_trad_final"></span>
						<input type="hidden" name="attr_trad_final" value="0" readonly />
					</button>
					<input type="number" name="attr_trad_temp" value="-30"/>
					<input type="number" name="attr_trad_special" value="0"/>
					<input type="number" name="attr_trad_class" value="@{classe_trad_Sum}" disabled />
					<input type="number" name="attr_trad_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_trad_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_trad_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_trad_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_trad_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
		</div>
		
		<div data-i18n-list="list-skill-perceptive">
			<div>
				<span data-i18n="tab-perceptive">Perceptive</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				
				<label>
					<input type="checkbox" name="attr_perceptive_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_perceptive_open" class="perceptive" value="1"/>
			<div class="perceptive" data-i18n-list-item="notice">
				<input type="hidden" name="attr_noti_option" value="0" />
				<div>
					<button type="roll" name="roll_noti" value="@{diceRollD100} {{subname=^{notice}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{noti_mastery}]] + 0) + abs([[@{fr}-@{noti_mastery}]] - 0)) / 2)]]+[[@{noti_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="notice">Notice</span>
						<span name="attr_noti_final"></span>
						<input type="hidden" name="attr_noti_final" value="0" readonly />
					</button>
					<input type="number" name="attr_noti_temp" value="-30"/>
					<input type="number" name="attr_noti_special" value="0"/>
					<input type="number" name="attr_noti_class" value="@{classe_noti_Sum}" disabled />
					<input type="number" name="attr_noti_base" min="0" value="0"/>
					<span class="mental" data-i18n="perception-short">PER</span>
					
					<label>
						<input type="checkbox" name="attr_noti_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_noti_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_noti_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_noti_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="perceptive" data-i18n-list-item="search">
				<input type="hidden" name="attr_sear_option" value="0" />
				<div>
					<button type="roll" name="roll_sear" value="@{diceRollD100} {{subname=^{search}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{sear_mastery}]] + 0) + abs([[@{fr}-@{sear_mastery}]] - 0)) / 2)]]+[[@{sear_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="search">Search</span>
						<span name="attr_sear_final"></span>
						<input type="hidden" name="attr_sear_final" value="0" readonly />
					</button>
					<input type="number" name="attr_sear_temp" value="-30"/>
					<input type="number" name="attr_sear_special" value="0"/>
					<input type="number" name="attr_sear_class" value="@{classe_sear_Sum}" disabled />
					<input type="number" name="attr_sear_base" min="0" value="0"/>
					<span class="mental" data-i18n="perception-short">PER</span>
					
					<label>
						<input type="checkbox" name="attr_sear_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_sear_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_sear_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_sear_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="perceptive" data-i18n-list-item="track">
				<input type="hidden" name="attr_trac_option" value="0" />
				<div>
					<button type="roll" name="roll_trac" value="@{diceRollD100} {{subname=^{track}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{trac_mastery}]] + 0) + abs([[@{fr}-@{trac_mastery}]] - 0)) / 2)]]+[[@{trac_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="track">Track</span>
						<span name="attr_trac_final"></span>
						<input type="hidden" name="attr_trac_final" value="0" readonly />
					</button>
					<input type="number" name="attr_trac_temp" value="-30"/>
					<input type="number" name="attr_trac_special" value="0"/>
					<input type="number" name="attr_trac_class" value="@{classe_trac_Sum}" disabled />
					<input type="number" name="attr_trac_base" min="0" value="0"/>
					<span class="mental" data-i18n="perception-short">PER</span>
					
					<label>
						<input type="checkbox" name="attr_trac_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_trac_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_trac_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_trac_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
		</div>
		
		<div data-i18n-list="list-skill-intellectual">
			<div>
				<span data-i18n="tab-intellectual">Intellectual</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				
				<label>
					<input type="checkbox" name="attr_intellectual_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_intellectual_open" class="intellectual" value="1"/>
			<div class="intellectual" data-i18n-list-item="animals">
				<input type="hidden" name="attr_anim_option" value="0" />
				<div>
					<button type="roll" name="roll_anim" value="@{diceRollD100} {{subname=^{animals}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{anim_mastery}]] + 0) + abs([[@{fr}-@{anim_mastery}]] - 0)) / 2)]]+[[@{anim_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="animals">Animals</span>
						<span name="attr_anim_final"></span>
						<input type="hidden" name="attr_anim_final" value="0" readonly />
					</button>
					<input type="number" name="attr_anim_temp" value="-30"/>
					<input type="number" name="attr_anim_special" value="0"/>
					<input type="number" name="attr_anim_class" value="@{classe_anim_Sum}" disabled />
					<input type="number" name="attr_anim_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_anim_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_anim_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_anim_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_anim_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="appraisal">
				<input type="hidden" name="attr_appr_option" value="0" />
				<div>
					<button type="roll" name="roll_appr" value="@{diceRollD100} {{subname=^{appraisal}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{appr_mastery}]] + 0) + abs([[@{fr}-@{appr_mastery}]] - 0)) / 2)]]+[[@{appr_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="appraisal">Appraisal</span>
						<span name="attr_appr_final"></span>
						<input type="hidden" name="attr_appr_final" value="0" readonly />
					</button>
					<input type="number" name="attr_appr_temp" value="-30"/>
					<input type="number" name="attr_appr_special" value="0"/>
					<input type="number" name="attr_appr_class" value="@{classe_appr_Sum}" disabled />
					<input type="number" name="attr_appr_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_appr_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_appr_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_appr_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_appr_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="architecture">
				<input type="hidden" name="attr_arch_option" value="0" />
				<div>
					<button type="roll" name="roll_arch" value="@{diceRollD100} {{subname=^{architecture}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{arch_mastery}]] + 0) + abs([[@{fr}-@{arch_mastery}]] - 0)) / 2)]]+[[@{arch_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="architecture">Architecture</span>
						<span name="attr_arch_final"></span>
						<input type="hidden" name="attr_arch_final" value="0" readonly />
					</button>
					<input type="number" name="attr_arch_temp" value="-30"/>
					<input type="number" name="attr_arch_special" value="0"/>
					<input type="number" name="attr_arch_class" value="@{classe_arch_Sum}" disabled />
					<input type="number" name="attr_arch_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_arch_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_arch_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_arch_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_arch_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="herbal lore">
				<input type="hidden" name="attr_herb_option" value="0" />
				<div>
					<button type="roll" name="roll_herb" value="@{diceRollD100} {{subname=^{herbal-lore}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{herb_mastery}]] + 0) + abs([[@{fr}-@{herb_mastery}]] - 0)) / 2)]]+[[@{herb_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="herbal-lore">Herbal Lore</span>
						<span name="attr_herb_final"></span>
						<input type="hidden" name="attr_herb_final" value="0" readonly />
					</button>
					<input type="number" name="attr_herb_temp" value="-30"/>
					<input type="number" name="attr_herb_special" value="0"/>
					<input type="number" name="attr_herb_class" value="@{classe_herb_Sum}" disabled />
					<input type="number" name="attr_herb_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_herb_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_herb_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_herb_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_herb_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="history">
				<input type="hidden" name="attr_hist_option" value="0" />
				<div>
					<button type="roll" name="roll_hist" value="@{diceRollD100} {{subname=^{history}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{hist_mastery}]] + 0) + abs([[@{fr}-@{hist_mastery}]] - 0)) / 2)]]+[[@{hist_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="history">History</span>
						<span name="attr_hist_final"></span>
						<input type="hidden" name="attr_hist_final" value="0" readonly />
					</button>
					<input type="number" name="attr_hist_temp" value="-30"/>
					<input type="number" name="attr_hist_special" value="0"/>
					<input type="number" name="attr_hist_class" value="@{classe_hist_Sum}" disabled />
					<input type="number" name="attr_hist_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_hist_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_hist_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_hist_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_hist_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="law">
				<input type="hidden" name="attr_law_option" value="0" />
				<div>
					<button type="roll" name="roll_law" value="@{diceRollD100} {{subname=^{law}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{law_mastery}]] + 0) + abs([[@{fr}-@{law_mastery}]] - 0)) / 2)]]+[[@{law_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="law">Law</span>
						<span name="attr_law_final"></span>
						<input type="hidden" name="attr_law_final" value="0" readonly />
					</button>
					<input type="number" name="attr_law_temp" value="-30"/>
					<input type="number" name="attr_law_special" value="0"/>
					<input type="number" name="attr_law_class" value="@{classe_law_Sum}" disabled />
					<input type="number" name="attr_law_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_law_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_law_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_law_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_law_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="magic appraisal">
				<input type="hidden" name="attr_mapp_option" value="0" />
				<div>
					<button type="roll" name="roll_mapp" value="@{diceRollD100} {{subname=^{magic-appraisal}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{mapp_mastery}]] + 0) + abs([[@{fr}-@{mapp_mastery}]] - 0)) / 2)]]+[[@{mapp_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="magic-appraisal">Magic Appr.</span>
						<span name="attr_mapp_final"></span>
						<input type="hidden" name="attr_mapp_final" value="0" readonly />
					</button>
					<input type="number" name="attr_mapp_temp" value="-30"/>
					<input type="number" name="attr_mapp_special" value="0"/>
					<input type="number" name="attr_mapp_class" value="@{classe_mapp_Sum}" disabled />
					<input type="number" name="attr_mapp_base" min="0" value="0"/>
					<span class="mental" data-i18n="soul-power-short">POW</span>
					
					<label>
						<input type="checkbox" name="attr_mapp_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_mapp_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_mapp_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_mapp_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="medicine">
				<input type="hidden" name="attr_medi_option" value="0" />
				<div>
					<button type="roll" name="roll_medi" value="@{diceRollD100} {{subname=^{medicine}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{medi_mastery}]] + 0) + abs([[@{fr}-@{medi_mastery}]] - 0)) / 2)]]+[[@{medi_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="medicine">Medicine</span>
						<span name="attr_medi_final"></span>
						<input type="hidden" name="attr_medi_final" value="0" readonly />
					</button>
					<input type="number" name="attr_medi_temp" value="-30"/>
					<input type="number" name="attr_medi_special" value="0"/>
					<input type="number" name="attr_medi_class" value="@{classe_medi_Sum}" disabled />
					<input type="number" name="attr_medi_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_medi_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_medi_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_medi_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_medi_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="memorize">
				<input type="hidden" name="attr_memo_option" value="0" />
				<div>
					<button type="roll" name="roll_memo" value="@{diceRollD100} {{subname=^{memorize}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{memo_mastery}]] + 0) + abs([[@{fr}-@{memo_mastery}]] - 0)) / 2)]]+[[@{memo_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="memorize">Memorize</span>
						<span name="attr_memo_final"></span>
						<input type="hidden" name="attr_memo_final" value="0" readonly />
					</button>
					<input type="number" name="attr_memo_temp" value="-30"/>
					<input type="number" name="attr_memo_special" value="0"/>
					<input type="number" name="attr_memo_class" value="@{classe_memo_Sum}" disabled />
					<input type="number" name="attr_memo_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_memo_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_memo_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_memo_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_memo_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="navigation">
				<input type="hidden" name="attr_navi_option" value="0" />
				<div>
					<button type="roll" name="roll_navi" value="@{diceRollD100} {{subname=^{navigation}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{navi_mastery}]] + 0) + abs([[@{fr}-@{navi_mastery}]] - 0)) / 2)]]+[[@{navi_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="navigation">Navigation</span>
						<span name="attr_navi_final"></span>
						<input type="hidden" name="attr_navi_final" value="0" readonly />
					</button>
					<input type="number" name="attr_navi_temp" value="-30"/>
					<input type="number" name="attr_navi_special" value="0"/>
					<input type="number" name="attr_navi_class" value="@{classe_navi_Sum}" disabled />
					<input type="number" name="attr_navi_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_navi_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_navi_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_navi_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_navi_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="occult">
				<input type="hidden" name="attr_occu_option" value="0" />
				<div>
					<button type="roll" name="roll_occu" value="@{diceRollD100} {{subname=^{occult}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{occu_mastery}]] + 0) + abs([[@{fr}-@{occu_mastery}]] - 0)) / 2)]]+[[@{occu_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="occult">Occult</span>
						<span name="attr_occu_final"></span>
						<input type="hidden" name="attr_occu_final" value="0" readonly />
					</button>
					<input type="number" name="attr_occu_temp" value="-30"/>
					<input type="number" name="attr_occu_special" value="0"/>
					<input type="number" name="attr_occu_class" value="@{classe_occu_Sum}" disabled />
					<input type="number" name="attr_occu_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_occu_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_occu_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_occu_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_occu_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="sciences">
				<input type="hidden" name="attr_scie_option" value="0" />
				<div>
					<button type="roll" name="roll_scie" value="@{diceRollD100} {{subname=^{sciences}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{scie_mastery}]] + 0) + abs([[@{fr}-@{scie_mastery}]] - 0)) / 2)]]+[[@{scie_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="sciences">Sciences</span>
						<span name="attr_scie_final"></span>
						<input type="hidden" name="attr_scie_final" value="0" readonly />
					</button>
					<input type="number" name="attr_scie_temp" value="-30"/>
					<input type="number" name="attr_scie_special" value="0"/>
					<input type="number" name="attr_scie_class" value="@{classe_scie_Sum}" disabled />
					<input type="number" name="attr_scie_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_scie_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_scie_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_scie_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_scie_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="intellectual" data-i18n-list-item="tactics">
				<input type="hidden" name="attr_tact_option" value="0" />
				<div>
					<button type="roll" name="roll_tact" value="@{diceRollD100} {{subname=^{tactics}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{tact_mastery}]] + 0) + abs([[@{fr}-@{tact_mastery}]] - 0)) / 2)]]+[[@{tact_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="tactics">Tactics</span>
						<span name="attr_tact_final"></span>
						<input type="hidden" name="attr_tact_final" value="0" readonly />
					</button>
					<input type="number" name="attr_tact_temp" value="-30"/>
					<input type="number" name="attr_tact_special" value="0"/>
					<input type="number" name="attr_tact_class" value="@{classe_tact_Sum}" disabled />
					<input type="number" name="attr_tact_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_tact_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_tact_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_tact_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_tact_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
		</div>
		
		<div data-i18n-list="list-skill-vigor">
			<div>
				<span data-i18n="tab-vigor">Vigor</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				
				<label>
					<input type="checkbox" name="attr_vigor_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_vigor_open" class="vigor" value="1"/>
			<div class="vigor" data-i18n-list-item="composure">
				<input type="hidden" name="attr_comp_option" value="0" />
				<div>
					<button type="roll" name="roll_comp" value="@{diceRollD100} {{subname=^{composure}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{comp_mastery}]] + 0) + abs([[@{fr}-@{comp_mastery}]] - 0)) / 2)]]+[[@{comp_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="composure">Composure</span>
						<span name="attr_comp_final"></span>
						<input type="hidden" name="attr_comp_final" value="0" readonly />
					</button>
					<input type="number" name="attr_comp_temp" value="-30"/>
					<input type="number" name="attr_comp_special" value="0"/>
					<input type="number" name="attr_comp_class" value="@{classe_comp_Sum}" disabled />
					<input type="number" name="attr_comp_base" min="0" value="0"/>
					<span class="mental" data-i18n="willpower-short">WP</span>
					
					<label>
						<input type="checkbox" name="attr_comp_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_comp_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_comp_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_comp_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="vigor" data-i18n-list-item="feats of strength">
				<input type="hidden" name="attr_feat_option" value="0" />
				<div>
					<button type="roll" name="roll_feat" class="armorPenalty" value="@{diceRollD100} {{subname=^{feats-of-strength}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{feat_mastery}]] + 0) + abs([[@{fr}-@{feat_mastery}]] - 0)) / 2)]]+[[@{feat_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="feats-of-strength">Feats of Str.</span>
						<span name="attr_feat_final"></span>
						<input type="hidden" name="attr_feat_final" value="0" readonly />
					</button>
					<input type="number" name="attr_feat_temp" value="-30"/>
					<input type="number" name="attr_feat_special" value="0"/>
					<input type="number" name="attr_feat_class" value="@{classe_feat_Sum}" disabled />
					<input type="number" name="attr_feat_base" min="0" value="0"/>
					<span class="mental" data-i18n="strength-short">STR</span>
					
					<label>
						<input type="checkbox" name="attr_feat_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_feat_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_feat_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_feat_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="vigor" data-i18n-list-item="withstand pain">
				<input type="hidden" name="attr_with_option" value="0" />
				<div>
					<button type="roll" name="roll_with" value="@{diceRollD100} {{subname=^{withstand-pain}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{with_mastery}]] + 0) + abs([[@{fr}-@{with_mastery}]] - 0)) / 2)]]+[[@{with_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="withstand-pain">Withst. Pain</span>
						<span name="attr_with_final"></span>
						<input type="hidden" name="attr_with_final" value="0" readonly />
					</button>
					<input type="number" name="attr_with_temp" value="-30"/>
					<input type="number" name="attr_with_special" value="0"/>
					<input type="number" name="attr_with_class" value="@{classe_with_Sum}" disabled />
					<input type="number" name="attr_with_base" min="0" value="0"/>
					<span class="mental" data-i18n="willpower-short">WP</span>
					
					<label>
						<input type="checkbox" name="attr_with_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_with_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_with_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_with_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
		</div>
		
		<div data-i18n-list="list-skill-subterfuge">
			<div>
				<span data-i18n="tab-subterfuge">Subterfuge</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				
				<label>
					<input type="checkbox" name="attr_subterfuge_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_subterfuge_open" class="subterfuge" value="1"/>
			<div class="subterfuge" data-i18n-list-item="disguise">
				<input type="hidden" name="attr_disg_option" value="0" />
				<div>
					<button type="roll" name="roll_disg" value="@{diceRollD100} {{subname=^{disguise}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{disg_mastery}]] + 0) + abs([[@{fr}-@{disg_mastery}]] - 0)) / 2)]]+[[@{disg_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="disguise">Disguise</span>
						<span name="attr_disg_final"></span>
						<input type="hidden" name="attr_disg_final" value="0" readonly />
					</button>
					<input type="number" name="attr_disg_temp" value="-30"/>
					<input type="number" name="attr_disg_special" value="0"/>
					<input type="number" name="attr_disg_class" value="@{classe_disg_Sum}" disabled />
					<input type="number" name="attr_disg_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_disg_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_disg_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_disg_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_disg_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="subterfuge" data-i18n-list-item="hide">
				<input type="hidden" name="attr_hide_option" value="0" />
				<div>
					<button type="roll" name="roll_hide" class="armorPenalty" value="@{diceRollD100} {{subname=^{hide}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{hide_mastery}]] + 0) + abs([[@{fr}-@{hide_mastery}]] - 0)) / 2)]]+[[@{hide_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="hide">Hide</span>
						<span name="attr_hide_final"></span>
						<input type="hidden" name="attr_hide_final" value="0" readonly />
					</button>
					<input type="number" name="attr_hide_temp" value="-30"/>
					<input type="number" name="attr_hide_special" value="0"/>
					<input type="number" name="attr_hide_class" value="@{classe_hide_Sum}" disabled />
					<input type="number" name="attr_hide_base" min="0" value="0"/>
					<span class="mental" data-i18n="perception-short">PER</span>
					
					<label>
						<input type="checkbox" name="attr_hide_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_hide_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_hide_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_hide_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="subterfuge" data-i18n-list-item="lockpicking">
				<input type="hidden" name="attr_lock_option" value="0" />
				<div>
					<button type="roll" name="roll_lock" value="@{diceRollD100} {{subname=^{lockpicking}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{lock_mastery}]] + 0) + abs([[@{fr}-@{lock_mastery}]] - 0)) / 2)]]+[[@{lock_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="lockpicking">Lockpicking</span>
						<span name="attr_lock_final"></span>
						<input type="hidden" name="attr_lock_final" value="0" readonly />
					</button>
					<input type="number" name="attr_lock_temp" value="-30"/>
					<input type="number" name="attr_lock_special" value="0"/>
					<input type="number" name="attr_lock_class" value="@{classe_lock_Sum}" disabled />
					<input type="number" name="attr_lock_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_lock_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_lock_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_lock_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_lock_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="subterfuge" data-i18n-list-item="poisons">
				<input type="hidden" name="attr_pois_option" value="0" />
				<div>
					<button type="roll" name="roll_pois" value="@{diceRollD100} {{subname=^{poisons}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{pois_mastery}]] + 0) + abs([[@{fr}-@{pois_mastery}]] - 0)) / 2)]]+[[@{pois_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="poisons">Poisons</span>
						<span name="attr_pois_final"></span>
						<input type="hidden" name="attr_pois_final" value="0" readonly />
					</button>
					<input type="number" name="attr_pois_temp" value="-30"/>
					<input type="number" name="attr_pois_special" value="0"/>
					<input type="number" name="attr_pois_class" value="@{classe_pois_Sum}" disabled />
					<input type="number" name="attr_pois_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_pois_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_pois_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_pois_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_pois_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="subterfuge" data-i18n-list-item="stealth">
				<input type="hidden" name="attr_stea_option" value="0" />
				<div>
					<button type="roll" name="roll_stea" class="armorPenalty" value="@{diceRollD100} {{subname=^{stealth}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{stea_mastery}]] + 0) + abs([[@{fr}-@{stea_mastery}]] - 0)) / 2)]]+[[@{stea_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="stealth">Stealth</span>
						<span name="attr_stea_final"></span>
						<input type="hidden" name="attr_stea_final" value="0" readonly />
					</button>
					<input type="number" name="attr_stea_temp" value="-30"/>
					<input type="number" name="attr_stea_special" value="0"/>
					<input type="number" name="attr_stea_class" value="@{classe_stea_Sum}" disabled />
					<input type="number" name="attr_stea_base" min="0" value="0"/>
					<span class="physical" data-i18n="agility-short">AGI</span>
					
					<label>
						<input type="checkbox" name="attr_stea_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_stea_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_stea_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_stea_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="subterfuge" data-i18n-list-item="theft">
				<input type="hidden" name="attr_thef_option" value="0" />
				<div>
					<button type="roll" name="roll_thef" value="@{diceRollD100} {{subname=^{theft}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{thef_mastery}]] + 0) + abs([[@{fr}-@{thef_mastery}]] - 0)) / 2)]]+[[@{thef_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="theft">Theft</span>
						<span name="attr_thef_final"></span>
						<input type="hidden" name="attr_thef_final" value="0" readonly />
					</button>
					<input type="number" name="attr_thef_temp" value="-30"/>
					<input type="number" name="attr_thef_special" value="0"/>
					<input type="number" name="attr_thef_class" value="@{classe_thef_Sum}" disabled />
					<input type="number" name="attr_thef_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_thef_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_thef_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_thef_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_thef_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="subterfuge" data-i18n-list-item="trap lore">
				<input type="hidden" name="attr_trap_option" value="0" />
				<div>
					<button type="roll" name="roll_trap" value="@{diceRollD100} {{subname=^{trap-lore}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{trap_mastery}]] + 0) + abs([[@{fr}-@{trap_mastery}]] - 0)) / 2)]]+[[@{trap_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="trap-lore">Trap Lore</span>
						<span name="attr_trap_final"></span>
						<input type="hidden" name="attr_trap_final" value="0" readonly />
					</button>
					<input type="number" name="attr_trap_temp" value="-30"/>
					<input type="number" name="attr_trap_special" value="0"/>
					<input type="number" name="attr_trap_class" value="@{classe_trap_Sum}" disabled />
					<input type="number" name="attr_trap_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_trap_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_trap_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_trap_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_trap_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
		</div>
		
		<div data-i18n-list="list-skill-creative">
			<div>
				<span data-i18n="tab-creative">Creative</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				
				<label>
					<input type="checkbox" name="attr_creative_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_creative_open" class="creative" value="1"/>
			<div class="creative" data-i18n-list-item="alchemy">
				<input type="hidden" name="attr_alchemy_option" value="0" />
				<div>
					<button type="roll" name="roll_alchemy" value="@{diceRollD100} {{subname=^{alchemy}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{alchemy_mastery}]] + 0) + abs([[@{fr}-@{alchemy_mastery}]] - 0)) / 2)]]+[[@{alchemy_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="alchemy">Alchemy</span>
						<span name="attr_alchemy_final"></span>
						<input type="hidden" name="attr_alchemy_final" value="0" readonly />
					</button>
					<input type="number" name="attr_alchemy_temp" value="-30"/>
					<input type="number" name="attr_alchemy_special" value="0"/>
					<input type="number" name="attr_alchemy_class" value="@{classe_alchemy_Sum}" disabled />
					<input type="number" name="attr_alchemy_base" min="0" value="0"/>
					<span class="mental" data-i18n="intelligence-short">INT</span>
					
					<label>
						<input type="checkbox" name="attr_alchemy_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_alchemy_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_alchemy_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_alchemy_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="animism">
				<input type="hidden" name="attr_animisme_option" value="0" />
				<div>
					<button type="roll" name="roll_animisme" value="@{diceRollD100} {{subname=^{animism}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{animisme_mastery}]] + 0) + abs([[@{fr}-@{animisme_mastery}]] - 0)) / 2)]]+[[@{animisme_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="animism">Animism</span>
						<span name="attr_animisme_final"></span>
						<input type="hidden" name="attr_animisme_final" value="0" readonly />
					</button>
					<input type="number" name="attr_animisme_temp" value="-30"/>
					<input type="number" name="attr_animisme_special" value="0"/>
					<input type="number" name="attr_animisme_class" value="@{classe_animisme_Sum}" disabled />
					<input type="number" name="attr_animisme_base" min="0" value="0"/>
					<span class="mental" data-i18n="soul-power-short">POW</span>
					
					<label>
						<input type="checkbox" name="attr_animisme_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_animisme_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_animisme_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_animisme_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="art">
				<input type="hidden" name="attr_art_option" value="0" />
				<div>
					<button type="roll" name="roll_art" value="@{diceRollD100} {{subname=^{art}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{art_mastery}]] + 0) + abs([[@{fr}-@{art_mastery}]] - 0)) / 2)]]+[[@{art_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="art">Art</span>
						<span name="attr_art_final"></span>
						<input type="hidden" name="attr_art_final" value="0" readonly />
					</button>
					<input type="number" name="attr_art_temp" value="-30"/>
					<input type="number" name="attr_art_special" value="0"/>
					<input type="number" name="attr_art_class" value="@{classe_art_Sum}" disabled />
					<input type="number" name="attr_art_base" min="0" value="0"/>
					<span class="mental" data-i18n="soul-power-short">POW</span>
					
					<label>
						<input type="checkbox" name="attr_art_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_art_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_art_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_art_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="dance">
				<input type="hidden" name="attr_danc_option" value="0" />
				<div>
					<button type="roll" name="roll_danc" class="armorPenalty" value="@{diceRollD100} {{subname=^{dance}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{danc_mastery}]] + 0) + abs([[@{fr}-@{danc_mastery}]] - 0)) / 2)]]+[[@{danc_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="dance">Dance</span>
						<span name="attr_danc_final"></span>
						<input type="hidden" name="attr_danc_final" value="0" readonly />
					</button>
					<input type="number" name="attr_danc_temp" value="-30"/>
					<input type="number" name="attr_danc_special" value="0"/>
					<input type="number" name="attr_danc_class" value="@{classe_danc_Sum}" disabled />
					<input type="number" name="attr_danc_base" min="0" value="0"/>
					<span class="physical" data-i18n="agility-short">AGI</span>
					
					<label>
						<input type="checkbox" name="attr_danc_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_danc_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_danc_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_danc_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="forging">
				<input type="hidden" name="attr_forg_option" value="0" />
				<div>
					<button type="roll" name="roll_forg" value="@{diceRollD100} {{subname=^{forging}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{forg_mastery}]] + 0) + abs([[@{fr}-@{forg_mastery}]] - 0)) / 2)]]+[[@{forg_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="forging">Forging</span>
						<span name="attr_forg_final"></span>
						<input type="hidden" name="attr_forg_final" value="0" readonly />
					</button>
					<input type="number" name="attr_forg_temp" value="-30"/>
					<input type="number" name="attr_forg_special" value="0"/>
					<input type="number" name="attr_forg_class" value="@{classe_forg_Sum}" disabled />
					<input type="number" name="attr_forg_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_forg_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_forg_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_forg_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_forg_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="jewelry">
				<input type="hidden" name="attr_jewel_option" value="0" />
				<div>
					<button type="roll" name="roll_jewel" value="@{diceRollD100} {{subname=^{jewelry}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{jewel_mastery}]] + 0) + abs([[@{fr}-@{jewel_mastery}]] - 0)) / 2)]]+[[@{jewel_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="jewelry">Jewelry</span>
						<span name="attr_jewel_final"></span>
						<input type="hidden" name="attr_jewel_final" value="0" readonly />
					</button>
					<input type="number" name="attr_jewel_temp" value="-30"/>
					<input type="number" name="attr_jewel_special" value="0"/>
					<input type="number" name="attr_jewel_class" value="@{classe_jewel_Sum}" disabled />
					<input type="number" name="attr_jewel_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_jewel_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_jewel_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_jewel_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_jewel_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="music">
				<input type="hidden" name="attr_musi_option" value="0" />
				<div>
					<button type="roll" name="roll_musi" value="@{diceRollD100} {{subname=^{music}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{musi_mastery}]] + 0) + abs([[@{fr}-@{musi_mastery}]] - 0)) / 2)]]+[[@{musi_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="music">Music</span>
						<span name="attr_musi_final"></span>
						<input type="hidden" name="attr_musi_final" value="0" readonly />
					</button>
					<input type="number" name="attr_musi_temp" value="-30"/>
					<input type="number" name="attr_musi_special" value="0"/>
					<input type="number" name="attr_musi_class" value="@{classe_musi_Sum}" disabled />
					<input type="number" name="attr_musi_base" min="0" value="0"/>
					<span class="mental" data-i18n="soul-power-short">POW</span>
					
					<label>
						<input type="checkbox" name="attr_musi_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_musi_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_musi_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_musi_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="ritual calligraphy">
				<input type="hidden" name="attr_ritc_option" value="0" />
				<div>
					<button type="roll" name="roll_ritc" value="@{diceRollD100} {{subname=^{ritual-calligraphy}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{ritc_mastery}]] + 0) + abs([[@{fr}-@{ritc_mastery}]] - 0)) / 2)]]+[[@{ritc_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="ritual-calligraphy">Ritual Calligraphy</span>
						<span name="attr_ritc_final"></span>
						<input type="hidden" name="attr_ritc_final" value="0" readonly />
					</button>
					<input type="number" name="attr_ritc_temp" value="-30"/>
					<input type="number" name="attr_ritc_special" value="0"/>
					<input type="number" name="attr_ritc_class" value="@{classe_ritc_Sum}" disabled />
					<input type="number" name="attr_ritc_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_ritc_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_ritc_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_ritc_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_ritc_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="rune">
				<input type="hidden" name="attr_rune_option" value="0" />
				<div>
					<button type="roll" name="roll_rune" value="@{diceRollD100} {{subname=^{rune}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{rune_mastery}]] + 0) + abs([[@{fr}-@{rune_mastery}]] - 0)) / 2)]]+[[@{rune_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="rune">Runes</span>
						<span name="attr_rune_final"></span>
						<input type="hidden" name="attr_rune_final" value="0" readonly />
					</button>
					<input type="number" name="attr_rune_temp" value="-30"/>
					<input type="number" name="attr_rune_special" value="0"/>
					<input type="number" name="attr_rune_class" value="@{classe_rune_Sum}" disabled />
					<input type="number" name="attr_rune_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_rune_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_rune_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_rune_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_rune_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="slight of hand">
				<input type="hidden" name="attr_slig_option" value="0" />
				<div>
					<button type="roll" name="roll_slig" value="@{diceRollD100} {{subname=^{slight-of-hand}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{slig_mastery}]] + 0) + abs([[@{fr}-@{slig_mastery}]] - 0)) / 2)]]+[[@{slig_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="slight-of-hand">Sl. of Hand</span>
						<span name="attr_slig_final"></span>
						<input type="hidden" name="attr_slig_final" value="0" readonly />
					</button>
					<input type="number" name="attr_slig_temp" value="-30"/>
					<input type="number" name="attr_slig_special" value="0"/>
					<input type="number" name="attr_slig_class" value="@{classe_slig_Sum}" disabled />
					<input type="number" name="attr_slig_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_slig_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_slig_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_slig_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_slig_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
			<div class="creative" data-i18n-list-item="tailoring">
				<input type="hidden" name="attr_tail_option" value="0" />
				<div>
					<button type="roll" name="roll_tail" value="@{diceRollD100} {{subname=^{tailoring}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{tail_mastery}]] + 0) + abs([[@{fr}-@{tail_mastery}]] - 0)) / 2)]]+[[@{tail_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="tailoring">Tailoring</span>
						<span name="attr_tail_final"></span>
						<input type="hidden" name="attr_tail_final" value="0" readonly />
					</button>
					<input type="number" name="attr_tail_temp" value="-30"/>
					<input type="number" name="attr_tail_special" value="0"/>
					<input type="number" name="attr_tail_class" value="@{classe_tail_Sum}" disabled />
					<input type="number" name="attr_tail_base" min="0" value="0"/>
					<span class="physical" data-i18n="dexterity-short">DEX</span>
					
					<label>
						<input type="checkbox" name="attr_tail_option" value="1" />
						<span></span>
					</label>
				</div>
				<div class="extend">
					<label>
						<span data-i18n="count-natural-bonus-short"># Nat.</span>
						<input type="number" name="attr_tail_naturals" min="0" value="0" />
					</label>
					
					<label>
						<span data-i18n="natural-ability-short">N.A.</span>
						<input type="number" name="attr_tail_naturabi" min="0" value="0" />
					</label>
					
					<label class="btn-mastery">
						<input type="checkbox" name="attr_tail_mastery" value="1"/>
						<span data-i18n-title="spell-mastery" title="Mastery"></span>
					</label>
				</div>
			</div>
		</div>
	
		<div>
			<div>
				<span data-i18n="tab-custom">Custom</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="temporary-bonus">Temp.</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="attribute-short">Atr.</span>
				<label>
					<input type="checkbox" name="attr_custom_open" value="1" checked />
					<span></span>
				</label>
			</div>
			
			<input type="hidden" name="attr_custom_open" class="custom" value="1"/>
			<div class="custom">
				<fieldset class="repeating_secondaryabilities">
					<input type="hidden" name="attr_custom_option" value="0" />
					<div>
						<button type="roll" name="roll_custom" value="@{diceRollD100} {{subname=@{custom_name}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{custom_mastery}]] + 0) + abs([[@{fr}-@{custom_mastery}]] - 0)) / 2)]]+[[@{custom_final}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
							<input type="text" name="attr_custom_name" readonly />
							<span name="attr_custom_final"></span>
							<input type="hidden" name="attr_custom_final" value="0" readonly />
						</button>
						<input type="text" name="attr_custom_name" />
						<input type="number" name="attr_custom_temp" value="-30"/>
						<input type="number" name="attr_custom_special" value="0"/>
						<input type="number" name="attr_custom_class" value="0"/>
						<input type="number" name="attr_custom_base" min="0" value="0"/>
						<select name="attr_custom_mod"> 
							<option value="@{agi_mod}" class="sheet-physical" data-i18n="agility-short">AGI</option>
							<option value="@{con_mod}" class="sheet-physical" data-i18n="constitution-short">CON</option>
							<option value="@{dex_mod}" class="sheet-physical" data-i18n="dexterity-short">DEX</option>
							<option value="@{str_mod}" class="sheet-physical" data-i18n="strength-short">STR</option>
							<option value="@{int_mod}" class="sheet-mental" data-i18n="intelligence-short">INT</option>
							<option value="@{per_mod}" class="sheet-mental" data-i18n="perception-short">PER</option>
							<option value="@{pow_mod}" class="sheet-mental" data-i18n="soul-power-short">POW</option>
							<option value="@{wp_mod}" class="sheet-mental" data-i18n="willpower-short">WP</option>
						</select>
						
						<label>
							<input type="checkbox" name="attr_custom_option" value="1" />
							<span></span>
						</label>
					</div>
					<div class="extend">
						<label>
							<span data-i18n="count-natural-bonus-short"># Nat.</span>
							<input type="number" name="attr_custom_naturals" min="0" value="0" />
						</label>
						
						<label>
							<span data-i18n="natural-ability-short">N.A.</span>
							<input type="number" name="attr_custom_naturabi" min="0" value="0" />
						</label>
						
						<label class="btn-mastery">
							<input type="checkbox" name="attr_custom_mastery" value="1"/>
							<span data-i18n-title="spell-mastery" title="Mastery"></span>
						</label>
					</div>
				</fieldset>
			</div>
		</div>
	
		<span data-i18n="secondary-penalty">Secondary Abilities in red are affected by armor penalties</span>
	</div>
</div>

<div class="body tab2">
	<div class="magicProjection">
		<h2 data-i18n="magic-projection">Magic Projection</h2>
		<label class="opt-titre">
			<input type="checkbox" name="attr_magicProjection_option" value="1" />
			<span></span>
		</label>
		<input type="hidden" name="attr_magicProjection_option" value="0" />
		<div class="extend">
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_magicprojection_base" value="0" />
			</label>
			<label>
				<span data-i18n="special-bonus">Special</span>
				<input type="number" name="attr_magicprojection_special" value="0" />
			</label>
			<label>
				<input type="number" name="attr_magicprojection_imbalance" value="0" min="-30" max="30" />
				<span data-i18n="Imbalance">Imbalance</span>
			</label>
			<div>
				<label class="btn-mastery">
					<input type="checkbox" class="" name="attr_magicprojection_offensive_mastery" value="1" />
					<span data-i18n-title="spell-mastery" title="Mastery"></span>
				</label>
			</div>
			<div>
				<label class="btn-mastery">
					<input type="checkbox" class="" name="attr_magicprojection_defensive_mastery" value="1" />
					<span data-i18n-title="spell-mastery" title="Mastery"></span>
				</label>
			</div>
		</div>
		<label>
			<span data-i18n="temporary-bonus">Temp.</span>
			<input type="number" name="attr_magicprojection_temp" value="0" />
		</label>
		<label>
			<span data-i18n="final-value">Final</span>
			<input type="number" name="attr_magicprojection_final" value="" readonly />
		</label>
		<button type="roll" name="roll_magicprojection_offensiveroll" value="@{diceRollD100} {{subname=^{magic-projection} (^{offensive})}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{magicprojection_offensive_mastery}]] + 0) + abs([[@{fr}-@{magicprojection_offensive_mastery}]] - 0)) / 2)]]+[[@{magicprojection_offensive_final}]]+?{@{modifiersTrad} ?|0}]]}}">
			<span data-i18n="offensive">Off.</span>
			<span name="attr_magicprojection_offensive_final"></span>
			<input type="hidden" name="attr_magicprojection_offensive_final" value="0" readonly />
		</button> 
		<button type="roll" name="roll_magicprojection_defensiveroll" value="@{diceRollD100} {{subname=^{magic-projection} (^{defensive})}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{magicprojection_defensive_mastery}]] + 0) + abs([[@{fr}-@{magicprojection_defensive_mastery}]] - 0)) / 2)]]+[[@{magicprojection_defensive_final}]]+?{@{modifiersTrad} ?|0}]]}}">
			<span data-i18n="defensive">Def.</span>
			<span name="attr_magicprojection_defensive_final"></span>
			<input type="hidden" name="attr_magicprojection_defensive_final" value="0" readonly />
		</button>
	</div>

	<div class="magicAccumulation">
		<h2 data-i18n="magic-accumulation">Magic Accumulation</h2>
		<div>
			<h3 data-i18n="accumulation">Accumulation</h3>
			<label class="opt-titre">
				<input type="checkbox" name="attr_ma_option" value="1" />
				<span></span>
			</label>
			<input type="hidden" name="attr_ma_option" value="0" />
			<div class="extend">
				<label>
					<span data-i18n="base-value">Base</span>
					<input type="number" name="attr_ma_base" value="0" min="0" />
				</label>
				<label>
					<span data-i18n="from-soul-power">POW</span>
					<input type="number" name="attr_ma_pow" value="0" readonly />
				</label>
				<label>
					<span data-i18n="multiples-short">Mult.</span>
					<input type="number" name="attr_ma_multiples" value="0" />
				</label>
				<label>
					<span data-i18n="special-bonus">Special</span>
					<input type="number" name="attr_ma_special" value="0" />
				</label>
			</div>
			<label>
				<span data-i18n="temporary-bonus">Temp.</span>
				<input type="number" name="attr_ma_temp" value="0" />
			</label>
			<label>
				<span data-i18n="final-value">Final</span>
				<input type="number" name="attr_ma_final" value="@{ma_pow}*(1+@{ma_multiples})+@{ma_base}+@{ma_special}+@{ma_temp}+ceil(@{aap}/2)" disabled />
			</label>
		</div>
		
		<div>
			<h3 data-i18n="magic-regeneration">Regeneration</h3>
			<label class="opt-titre">
				<input type="checkbox" name="attr_ma_regen_option" value="1" />
				<span></span>
			</label>
			<input type="hidden" name="attr_ma_regen_option" value="0" />
			<div class="extend">
				<label>
					<span data-i18n="magic-regneration-multiples">Regen. Mult.</span>
					<input type="number" name="attr_ma_regen_multiples" value="0" />
				</label>
				<label>
					<span data-i18n="special-bonus">Special</span>
					<input type="number" name="attr_ma_regen_special" value="0" />
				</label>
				<label>
					<span data-i18n="magic-recovery-multiplier">Recovery X</span>
					<input type="number" name="attr_ma_superior" value="0" />
				</label>
			</div>
			<label>
				<span data-i18n="temporary-bonus">Temp.</span>
				<input type="number" name="attr_ma_regen_temp" value="0" />
			</label>
			<label>
				<span data-i18n="magic-final-regeneration-per-day">Final Regen/Day</span>
				<input type="number" name="attr_ma_regen_final" value="@{daily_spell_creature_regen}" disabled />
			</label>
		</div>
	</div>

	<div class="zeon">
		<h2 data-i18n="zeon">Zeon</h2>
		<label class="opt-titre">
			<input type="checkbox" name="attr_zeon_option" value="1" />
			<span></span>
		</label>
		<input type="hidden" name="attr_zeon_option" value="0" />
		<div class="extend">
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_zeon_base" value="0" min="0" />
			</label>
			<label>
				<span data-i18n="from-soul-power">POW</span>
				<input type="number" name="attr_zeon_pow" value="0" readonly />
			</label>
			<label>
				<span data-i18n="class">Class</span>
				<input type="number" name="attr_zeon_class" value="@{classe_Zeon_Sum}" disabled />
			</label>
			<label>
				<span data-i18n="special-bonus">Spec.</span>
				<input type="number" name="attr_zeon_special" value="0" />
			</label>
		</div>
		<label>
			<span data-i18n="temporary-bonus">Temp.</span>
			<input type="number" name="attr_zeon_temp" value="0" />
		</label>
		<label>
			<span data-i18n="final-value">Final</span>
			<input type="number" name="attr_zeon_actual_max" value="@{zeon_base}+@{zeon_pow}+@{zeon_class}+@{zeon_special}+@{zeon_temp}" disabled />
		</label>
		<label>
			<span data-i18n="actual-value">Actual</span>
			<input type="number" name="attr_zeon_actual" value="0" />
		</label>
	</div>
	
	<div>
		<div class="magicDetails">
			<div class="magicLevels">
				<h2 data-i18n="magic-levels">Magic Levels</h2>
				<label class="opt-titre">
					<input type="checkbox" name="attr_ml_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_ml_option" value="0" />
				<div class="extend">
					<label>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_ml_base" value="0" />
					</label>
					<label>
						<span data-i18n="from-intelligence">From INT</span>
						<input type="number" name="attr_ml_fromint" value="0" readonly />
					</label>
					<label>
						<span data-i18n="special-bonus">Special</span>
						<input type="number" name="attr_ml_spec" value="0" />
					</label>
				</div>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_ml_temp" value="0" />
				</label>
				<label>
					<span data-i18n="final-value">Final</span>
					<input type="number" name="attr_ml_final" value="@{ml_spec}+@{ml_base}+@{ml_fromint}+@{ml_temp}" disabled />
				</label>
				<label>
					<span data-i18n="used-value">Used</span>
					<input type="number" name="attr_ml_used" value="0" />
				</label>
			</div>
		
			<div class="magicTheorem">
				<h4 data-i18n="magic-theorem">Magic Theorem</h4>
				<select name="attr_magic_theorem">
					<option value="1" data-i18n="magic-theorem-standard">Standard</option>
					<option value="2" data-i18n="magic-theorem-onmyodo">Onmyodo</option>
					<option value="3" data-i18n="magic-theorem-vodoun">Vodoun</option>
					<option value="4" data-i18n="magic-theorem-shamanism">Shamanism</option>
					<option value="5" data-i18n="magic-theorem-natural">Natural Magic</option>
				</select>
			</div>
			
			<div class="magicInnate">
				<h4 data-i18n="innate-magic">Innate Magic</h4>
				<input type="number" name="attr_innate_magic" min="0" />
			</div>
			
			<div class="magicAbility">
				<h4 data-i18n="magic-ability">Magic Ability</h4>
				<select name="attr_magic_ability">
					<option value="@{agi_final}" data-i18n="agility">Agility</option>
					<option value="@{con_final}" data-i18n="constitution">Constitution</option>
					<option value="@{dex_final}" data-i18n="dexterity">Dexterity</option>
					<option value="@{str_final}" data-i18n="strength">Strength</option>
					<option value="@{int_final}" data-i18n="intelligence" selected>Intelligence</option>
					<option value="@{per_final}" data-i18n="perception">Perception</option>
					<option value="@{pow_final}" data-i18n="soul-power">Power</option>
					<option value="@{wp_final}" data-i18n="willpower">Willpower</option>
				</select>
			</div>
		</div>
		
		<div class="magieSpellPath">
			<h2 data-i18n="spell-paths">Spell Paths</h2>
			<div>
				<span data-i18n="spell-paths">Spell Paths</span>
				<span data-i18n="level">Level</span>
			</div>
			<fieldset class="repeating_spellpaths">
				<input type="text" name="attr_spellpath_name" />
				<input type="number" name="attr_spellpath_level" min="0" max="100"/>
			</fieldset>
		</div>
	
		<div class="summoningAbilities">
			<h2 data-i18n="summoning-abilities">Summoning Abilities</h2>
			<div>
				<span data-i18n="ability">Ability</span>
				<span data-i18n="base-value">Base</span>
				<span data-i18n="class">Class</span>
				<span data-i18n="special-bonus">Special</span>
				<span data-i18n="final-value">Final</span>
				<span></span>
			</div>
			<div>
				<button type="roll" name="roll_summon" value="@{diceRollD100} {{subname=^{summon-ritual}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{summon_mastery}]] + 0) + abs([[@{fr}-@{summon_mastery}]] - 0)) / 2)]]+[[@{summon_final}]]+?{@{modifiersTrad} ?|0}]]}}">
					<span data-i18n="summon-ritual">Summon</span>
				</button>
				<input type="number" name="attr_summon_base" value="0" min="0"/>
				<input type="number" name="attr_summon_class" value="@{classe_Summon_Sum}" min="0" disabled />
				<input type="number" name="attr_summon_special" value="0" />
				<input type="number" name="attr_summon_final" value="@{summon_base}+@{summon_class}+@{summon_special}+@{pow_mod}+@{aap}" disabled />
				<label class="btn-mastery">
					<input type="checkbox" name="attr_summon_mastery" value="1"/>
					<span data-i18n-title="spell-mastery" title="Mastery"></span>
				</label>
			</div>
			<div>
				<button type="roll" name="roll_control" value="@{diceRollD100} {{subname=^{control-ritual}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{control_mastery}]] + 0) + abs([[@{fr}-@{control_mastery}]] - 0)) / 2)]]+[[@{control_final}]]+?{@{modifiersTrad} ?|0}]]}}">
					<span data-i18n="control-ritual">Control</span>
				</button>
				<input type="number" name="attr_control_base" value="0" min="0"/>
				<input type="number" name="attr_control_class" value="@{classe_Control_Sum}" min="0" disabled />
				<input type="number" name="attr_control_special" value="0" />
				<input type="number" name="attr_control_final" value="@{control_base}+@{control_class}+@{control_special}+@{wp_mod}+@{aap}" disabled />
			
				<label class="btn-mastery">
					<input type="checkbox" name="attr_control_mastery" value="1"/>
					<span data-i18n-title="spell-mastery" title="Mastery"></span>
				</label>
			</div>
			<div>
				<button type="roll" name="roll_bind" value="@{diceRollD100} {{subname=^{bind-ritual}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{bind_mastery}]] + 0) + abs([[@{fr}-@{bind_mastery}]] - 0)) / 2)]]+[[@{bind_final}]]+?{@{modifiersTrad} ?|0}]]}}">
					<span data-i18n="bind-ritual">Bind</span>
				</button>
				<input type="number" name="attr_bind_base" value="0" min="0"/>
				<input type="number" name="attr_bind_class" value="@{classe_Bind_Sum}" min="0" disabled />
				<input type="number" name="attr_bind_special" value="0" />
				<input type="number" name="attr_bind_final" value="@{bind_base}+@{bind_class}+@{bind_special}+@{pow_mod}+@{aap}" disabled />
			
				<label class="btn-mastery">
					<input type="checkbox" name="attr_bind_mastery" value="1"/>
					<span data-i18n-title="spell-mastery" title="Mastery"></span>
				</label>
			</div>
			<div>
				<button type="roll" name="roll_banish" value="@{diceRollD100} {{subname=^{banish-ritual}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{banish_mastery}]] + 0) + abs([[@{fr}-@{banish_mastery}]] - 0)) / 2)]]+[[@{banish_final}]]+?{@{modifiersTrad} ?|0}]]}}">
					<span data-i18n="banish-ritual">Banish</span>
				</button>
				<input type="number" name="attr_banish_base" value="0" min="0"/>
				<input type="number" name="attr_banish_class" value="@{classe_Banish_Sum}" min="0" disabled />
				<input type="number" name="attr_banish_special" value="0" />
				<input type="number" name="attr_banish_final" value="@{banish_base}+@{classe_Banish_Sum}+@{banish_special}+@{pow_mod}+@{aap}" disabled />
			
				<label class="btn-mastery">
					<input type="checkbox" name="attr_banish_mastery" value="1"/>
					<span data-i18n-title="spell-mastery" title="Mastery"></span>
				</label>
			</div>
		</div>
	
		<div class="asc">
			<h2 data-i18n="active-spells-and-creatures">Active Spells and Creatures</h2>
			<div>
				<span data-i18n="active-spell-or-bound-creature">Active spell or Bound Creature</span>
				<span data-i18n="zeon">Zeon</span>
				<span data-i18n="daily-cost">Daily Cost</span>
			</div>
			<fieldset class="repeating_spellcreature">
				<div>
					<input type="text" name="attr_daily_spell_creature_name" />
					<input type="number" name="attr_daily_spell_zeon" value="0"  min="0" />
					<input type="number" name="attr_daily_spell_creature_cost" value="0"  min="0"/>
				</div>
				<label>
					<input type="checkbox" name="attr_daily_spell_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_daily_spell_option" value="0" />
				<div class="extend">
					<div class="autoex autoex40">
						<textarea name="attr_daily_spell_desc"></textarea>
						<span name="attr_daily_spell_desc"></span>
					</div>
				</div>
			</fieldset>
			<div>
				<label>
					<span data-i18n="total-cost">Total Cost</span>
					<input type="number" name="attr_daily_spell_creature_totalcost" value="0" min="0" readonly />
				</label>
				
				<label>
					<span data-i18n="final-daily-regeneration">Final Daily Regen</span>
					<input type="number" name="attr_daily_spell_creature_regen" value="((@{ma_final}-@{ma_temp}-@{ma_special}+@{ma_regen_temp}+@{ma_regen_special}+@{ma_pow}*@{ma_regen_multiples})*@{ma_superior})-@{daily_spell_creature_totalcost}" disabled />
				</label>
			</div>
		</div>
	</div>
	<div>
		<div class="magicFABS">
			<h2 data-i18n="free-access-and-bought-spells">Free Access and Bought Spells</h2>
			<fieldset class="repeating_spells">
				<input type="hidden" name="attr_spell_option" value="0" />
				<input type="hidden" name="attr_spell_system" value="1" />
				<button type="roll" name="roll_spellNew" class="expandNewMagie" value="@{diceRollSpell} {{subtitle=@{spell_name}}} {{level=@{spell_level}}} {{action=@{spell_action}}} {{type=@{spell_type}}} {{maintenance=@{spell_maint}}} {{description=@{spell_desc}}} {{projection=@{spell_projection}}} {{basic=[^{basic}](~repeating_spells_spell_basic)}} {{inter=[^{intermediate}](~repeating_spells_spell_inter)}} {{advan=[^{advanced}](~repeating_spells_spell_advan)}} {{arcane=[^{arcane}](~repeating_spells_spell_arcan)}} {{basic_req=@{spell_basic_req}}} {{basic_zeon=@{spell_basic_zeon}}} {{basic_maint=@{spell_basic_maint}}} {{basic_desc=@{spell_basic_desc}}} {{inter_req=@{spell_inter_req}}} {{inter_zeon=@{spell_inter_zeon}}} {{inter_maint=@{spell_inter_maint}}} {{inter_desc=@{spell_inter_desc}}} {{advan_req=@{spell_advan_req}}} {{advan_zeon=@{spell_advan_zeon}}} {{advan_maint=@{spell_advan_maint}}} {{advan_desc=@{spell_advan_desc}}} {{arcane_req=@{spell_arcan_req}}} {{arcane_zeon=@{spell_arcan_zeon}}} {{arcane_maint=@{spell_arcan_maint}}} {{arcane_desc=@{spell_arcan_desc}}}">
					<input type="text" name="attr_spell_name" readonly />
					<input type="text" name="attr_spell_path" readonly />
				</button>
				<button type="roll" name="roll_spellOld" class="expandOldMagie" value="@{diceRollSpell} {{subtitle=@{spell_name}}} {{level=@{spell_level}}} {{action=@{spell_action}}} {{type=@{spell_type}}} {{maintenance=@{spell_maint}}} {{description=@{spell_desc}}} {{zeon=@{spell_zeon}}} {{zeon-max=@{spell_zeonmulti}}} {{projection=@{spell_projection}}} {{cast-spell=[^{cast-spell}](~repeating_spells_spell_old)}}">
					<input type="text" name="attr_spell_name" readonly />
					<input type="text" name="attr_spell_path" readonly />
				</button>
				<div class="compact">
					<label>
						<span data-i18n="name">Name</span>
						<input type="text" name="attr_spell_name" />
					</label>
					<label>
						<span data-i18n="bought">Bought?</span>
						<select name="attr_spell_bought">
							<option value="yes" data-i18n="yes">Yes</option>
							<option value="no" data-i18n="no">No</option>
						</select>
					</label>
					<label>
						<span data-i18n="spell-path">Path</span>
						<input type="text" name="attr_spell_path" />
					</label>
					<label>
						<span data-i18n="level">Level</span>
						<input type="number" name="attr_spell_level" value="0" />
					</label>
					<label>
						<span data-i18n="action">Action</span>
						<input type="text" name="attr_spell_action" value="" />
					</label>
					<label>
						<span data-i18n="cost">Cost</span>
						<input type="number" name="attr_spell_cost" value="0" />
					</label>
					<label>
						<span data-i18n="type">Type</span>
						<input type="text" name="attr_spell_type" value="" />
					</label>
					<label>
						<span data-i18n="projection">Projection</span>
						<select name="attr_spell_projection">
							<option value="[^{projection}](~repeating_spells_offensiveroll)" data-i18n="offensive">Offensive</option>
							<option value="[^{projection}](~repeating_spells_defensiveroll)" data-i18n="defensive">Defensive</option>
						</select>
					</label>
					<label>
						<span data-i18n="maintanance">Maint.</span>
						<input type="text" name="attr_spell_maint" value="" />
					</label>
					<label class="btn-rollas">
						<input type="checkbox" name="attr_spell_by_creature" value="1"/>
						<span data-i18n-title="roll-as-full" title="Roll as"></span>
					</label>
					<button type="roll" name="roll_offensiveroll" value="@{diceRollD100} {{subname=^{magic-projection} (^{offensive})}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{magicprojection_offensive_mastery}]] + 0) + abs([[@{fr}-@{magicprojection_offensive_mastery}]] - 0)) / 2)]]+[[@{magicprojection_offensive_final}]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="offensive">Off.</span>
					</button>
					<button type="roll" name="roll_defensiveroll" value="@{diceRollD100} {{subname=^{magic-projection} (^{defensive})}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{magicprojection_defensive_mastery}]] + 0) + abs([[@{fr}-@{magicprojection_defensive_mastery}]] - 0)) / 2)]]+[[@{magicprojection_defensive_final}]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="defensive">Def.</span>
					</button>
					<span data-i18n="description">Description</span>
					<div class="autoex autoex40">
						<textarea name="attr_spell_desc"></textarea>
						<span name="attr_spell_desc"></span>
					</div>
					<input type="hidden" name="attr_spell_system" value="1" />
					<div class="expandNewMagie">
						<div>
							<span data-i18n="rank">Rank</span>
							<span data-i18n="requirement">Req.</span>
							<span data-i18n="zeon">Zeon</span>
							<span data-i18n="maintanance">Maint.</span>
						</div>
						<div>
							<button type="roll" name="roll_spell_basic" value="@{diceRollSpellCast} {{subtitle=@{spell_name}}} {{power=^{basic}}} {{req=@{spell_basic_req}}} {{zeon=@{spell_basic_zeon}}} {{maint=@{spell_basic_maint}}} {{desc=@{spell_basic_desc}}} {{system=[[@{spell-system}]]}} {{rollas=[[@{spell_by_creature}]]}} {{roll=[[@{spell_basic_roll}]]}} {{as=@{spell_basic_name}}}">
								<span data-i18n="basic">Basic</span>
							</button>
							<input type="number" name="attr_spell_basic_req" />
							<input type="number" name="attr_spell_basic_zeon" />
							<input type="number" name="attr_spell_basic_maint" />
							<input type="hidden" name="attr_spell_by_creature" value="0"/>
							<div class="rollas">
								<span data-i18n="roll">Roll</span>
								<input type="text" name="attr_spell_basic_roll" value="0" />
								<span data-i18n="roll-as">as</span>
								<input type="text" name="attr_spell_basic_name" />
							</div>
							<div class="autoex autoex40">
								<textarea name="attr_spell_basic_desc"></textarea>
								<span name="attr_spell_basic_desc"></span>
							</div>
						</div>
						<div>
							<button type="roll" name="roll_spell_inter" value="@{diceRollSpellCast} {{subtitle=@{spell_name}}} {{power=^{intermediate}}} {{req=@{spell_inter_req}}} {{zeon=@{spell_inter_zeon}}} {{maint=@{spell_inter_maint}}} {{desc=@{spell_inter_desc}}} {{system=[[@{spell-system}]]}} {{rollas=[[@{spell_by_creature}]]}} {{roll=[[@{spell_inter_roll}]]}} {{as=@{spell_inter_name}}}">
								<span data-i18n="intermediate">Intermediate</span>
							</button>
							<input type="number" name="attr_spell_inter_req" />
							<input type="number" name="attr_spell_inter_zeon" />
							<input type="number" name="attr_spell_inter_maint" />
							<input type="hidden" name="attr_spell_by_creature" value="0"/>
							<div class="rollas">
								<span data-i18n="roll">Roll</span>
								<input type="text" name="attr_spell_inter_roll" value="0" />
								<span data-i18n="roll-as">as</span>
								<input type="text" name="attr_spell_inter_name" />
							</div>
							<div class="autoex autoex40">
								<textarea name="attr_spell_inter_desc"></textarea>
								<span name="attr_spell_inter_desc"></span>
							</div>
						</div>
						<div>
							<button type="roll" name="roll_spell_advan" value="@{diceRollSpellCast} {{subtitle=@{spell_name}}} {{power=^{advanced}}} {{req=@{spell_advan_req}}} {{zeon=@{spell_advan_zeon}}} {{maint=@{spell_advan_maint}}} {{desc=@{spell_advan_desc}}} {{system=[[@{spell-system}]]}} {{rollas=[[@{spell_by_creature}]]}} {{roll=[[@{spell_advan_roll}]]}} {{as=@{spell_advan_name}}}">
								<span data-i18n="advanced">Advanced</span>
							</button>
							<input type="number" name="attr_spell_advan_req" />
							<input type="number" name="attr_spell_advan_zeon" />
							<input type="number" name="attr_spell_advan_maint" />
							<input type="hidden" name="attr_spell_by_creature" value="0"/>
							<div class="rollas">
								<span data-i18n="roll">Roll</span>
								<input type="text" name="attr_spell_advan_roll" value="0" />
								<span data-i18n="roll-as">as</span>
								<input type="text" name="attr_spell_advan_name" />
							</div>
							<div class="autoex autoex40">
								<textarea name="attr_spell_advan_desc"></textarea>
								<span name="attr_spell_advan_desc"></span>
							</div>
						</div>
						<div>
							<button type="roll" name="roll_spell_arcan" value="@{diceRollSpellCast} {{subtitle=@{spell_name}}} {{power=^{arcane}}} {{req=@{spell_arcan_req}}} {{zeon=@{spell_arcan_zeon}}} {{maint=@{spell_arcan_maint}}} {{desc=@{spell_arcan_desc}}} {{system=[[@{spell-system}]]}} {{rollas=[[@{spell_by_creature}]]}} {{roll=[[@{spell_arcan_roll}]]}} {{as=@{spell_arcan_name}}}">
								<span data-i18n="arcane">Arcane</span>
							</button>
							<input type="hidden" name="attr_spell_by_creature" value="0"/>
							<div class="rollas">
								<span data-i18n="roll">Roll</span>
								<input type="text" name="attr_spell_arcan_roll" value="0" />
								<span data-i18n="roll-as">as</span>
								<input type="text" name="attr_spell_arcan_name" />
							</div>
							<input type="number" name="attr_spell_arcan_req" />
							<input type="number" name="attr_spell_arcan_zeon" />
							<input type="number" name="attr_spell_arcan_maint" />
							<div class="autoex autoex40">
								<textarea name="attr_spell_arcan_desc"></textarea>
								<span name="attr_spell_arcan_desc"></span>
							</div>
						</div>
					</div>
					<div class="expandOldMagie">
						<div>
							<span data-i18n="added-effect">Added effect</span>
							<input type="text" name="attr_spell_addef1_name" />
							<input type="text" name="attr_spell_addef2_name" />
							<input type="text" name="attr_spell_addef3_name" />
							<input type="text" name="attr_spell_addef4_name" />
						</div>
						<div>
							<span data-i18n="base-value">Base</span>
							<input type="number" name="attr_spell_addef1_base" value="0" />
							<input type="number" name="attr_spell_addef2_base" value="0" />
							<input type="number" name="attr_spell_addef3_base" value="0" />
							<input type="number" name="attr_spell_addef4_base" value="0" />
						</div>
						<div>
							<span data-i18n="added-value">Added</span>
							<input type="number" name="attr_spell_addef1_add" value="0" />
							<input type="number" name="attr_spell_addef2_add" value="0" />
							<input type="number" name="attr_spell_addef3_add" value="0" />
							<input type="number" name="attr_spell_addef4_add" value="0" />
						</div>
						<span data-i18n="maximum-zeon-multiplier">Max. Zeon Multi.</span>
						<input type="number" name="attr_spell_zeonmulti" value="0" />
						
						<span data-i18n="base-zeon">Base Zeon</span>
						<input type="number" name="attr_spell_zeon" value="0" />
						
						<button type="roll" name="roll_spell_old" value="@{diceRollSpellCast} {{subtitle=@{spell_name}}} {{addef1_name=@{spell_addef1_name}}} {{addef1_roll=[[@{spell_addef1_base}+@{spell_addef1_add}*?{@{addedEffectTrad}|0}]]}} {{addef2_name=@{spell_addef2_name}}} {{addef2_roll=[[@{spell_addef2_base}+@{spell_addef2_add}*?{@{addedEffectTrad}|0}]]}} {{addef3_name=@{spell_addef3_name}}} {{addef3_roll=[[@{spell_addef3_base}+@{spell_addef3_add}*?{@{addedEffectTrad}|0}]]}} {{addef4_name=@{spell_addef4_name}}} {{addef4_roll=[[@{spell_addef4_base}+@{spell_addef4_add}*?{@{addedEffectTrad}|0}]]}} {{zeon=[[@{spell_zeon}+10*?{@{addedEffectTrad}|0}]]}} {{system=[[@{spell-system}]]}}">
							<span data-i18n="cast-spell">Cast Spell</span>
						</button>
					</div>
				</div>
				<label>
					<input type="checkbox" name="attr_spell_option" value="1" />
					<span></span>
				</label>
			</fieldset>
		</div>
		
		<div class="summoning">
			<h2 data-i18n="invocations">Invocations</h2>
			<div>
				<span data-i18n="name">Name</span>
				<span data-i18n="cost">Cost</span>
				<span data-i18n="difficulty">Difficulty</span>
			</div>
			<fieldset class="repeating_invocations">
				<input type="hidden" name="attr_invocation_option" value="0" />
				<button type="roll" name="roll_invocation" value="">
					<input type="text" name="attr_invocation_name" readonly />
					<input type="number" name="attr_invocation_cost" value="0" min="0" readonly  />
					<input type="number" name="attr_invocation_diff" value="0"  min="0" readonly  />
				</button>
				<div class="compact">
					<input type="text" name="attr_invocation_name"/>
					<input type="number" name="attr_invocation_cost" value="0" min="0" />
					<input type="number" name="attr_invocation_diff" value="0" min="0" />
					<div class="autoex autoex40">
						<textarea name="attr_invocation_desc"></textarea>
						<span name="attr_invocation_desc"></span>
					</div>
				</div>
				<label>
					<input type="checkbox" name="attr_invocation_option" value="1" />
					<span></span>
				</label>
			</fieldset>
		</div>
	
		<div class="magicMetamagic">
			<h2 data-i18n="metamagic">Metamagic</h2>
			<div class="autoex autoex40">
				<textarea name="attr_metamagic_desc"></textarea>
				<span name="attr_metamagic_desc"></span>
			</div>
			<label>
				<span data-i18n="cost">Cost</span>
				<input type="number" name="attr_metamagic_cost" value="0" min="0" />
			</label>
		</div>
	</div>
</div>

<div class="body tab3">
	<div class="psychicPoints">
		<h2 data-i18n="psychic-points">Psychic Points</h2>
		<label class="opt-titre">
			<input type="checkbox" name="attr_pp_option" value="1" />
			<span></span>
		</label>
		<input type="hidden" name="attr_pp_option" value="0" />
		<div class="extend">
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_pp_base" value="0" min="0" />
			</label>
			<label>
				<span data-i18n="class">Class</span>
				<input type="number" name="attr_pp_class" value="@{classe_PPP_Sum}" min="0" disabled />
			</label>
		</div>
		<label>
			<span data-i18n="final-value">Final</span>
			<input type="number" name="attr_pp_final" value="@{pp_class}+@{pp_base}" disabled />
		</label>
		<label>
			<span data-i18n="used-value">Used</span>
			<input type="number" name="attr_pp_used" value="0" min="0" />
		</label>
		<label>
			<span data-i18n="free-psychic-points">Free PP</span>
			<input type="number" name="attr_pp_free" value="(@{pp_final})-@{pp_used}" disabled />
		</label>
	</div>
	
	<div class="psychicPotential">
		<h2 data-i18n="psychic-potential">Potential</h2>
		<label class="opt-titre">
			<input type="checkbox" name="attr_potential_option" value="1" />
			<span></span>
		</label>
		<input type="hidden" name="attr_potential_option" value="0" />
		<div class="extend">
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_potential_base" value="0" min="0" />
			</label>
			<label>
				<span data-i18n="spent-psychic-points">Spent PP</span>
				<select name="attr_potential_spent">
					<option value="0" selected>0</option>
					<option value="10">1</option>
					<option value="20">3</option>
					<option value="30">6</option>
					<option value="40">10</option>
					<option value="50">15</option>
					<option value="60">21</option>
					<option value="70">28</option>
					<option value="80">36</option>
					<option value="90">45</option>
					<option value="100">55</option>
				</select>
			</label>
			<label>
				<span data-i18n="special-bonus">Special</span>
				<input type="number" name="attr_potential_special" value="0" />
			</label>
			<label class="btn-mastery">
				<input type="checkbox" name="attr_potential_mastery" value="1"/>
				<span data-i18n-title="spell-mastery" title="Mastery"></span>
			</label>
		</div>
		<label>
			<span data-i18n="temporary-bonus">Temp.</span>
			<input type="number" name="attr_potential_temp" value="0" />
		</label>
		<input type="hidden" name="attr_max_xy" value="((((@{wp_final})+4) + abs((@{wp_final})-4)) / 2)" disabled />
		<label>
			<span data-i18n="final-value">Final</span>
			<input type="number" name="attr_potential_final" value="@{potential_spent}+@{potential_base}+@{potential_special}+@{potential_temp}+((@{max_xy}*10)-40)+((@{max_xy}*10)-140)*floor(@{max_xy}/15)+@{aap}" disabled />
		</label>
		<button type="roll" name="roll_psychic_potential" value="@{diceRollD100} {{subname=^{psychic-potential}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{potential_mastery}]] + 0) + abs([[@{fr}-@{potential_mastery}]] - 0)) / 2)]]+[[@{potential_final}]]+?{@{modifiersTrad} ?|0}]]}}"></button>
	</div>

	<div class="psychicProjection">
		<h2 data-i18n="psychic-projection">Projection</h2>
		<label class="opt-titre">
			<input type="checkbox" name="attr_projection_option" value="1" />
			<span></span>
		</label>
		<input type="hidden" name="attr_projection_option" value="0" />
		<div class="extend">
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_projection_base" value="0" min="0" />
			</label>
			
			<label>
				<span data-i18n="special-bonus">Special</span>
				<input type="number" name="attr_projection_special" value="0" min="0" />
			</label>
			
			<label class="btn-mastery">
				<input type="checkbox" name="attr_projection_mastery" value="1"/>
				<span data-i18n-title="spell-mastery" title="Mastery"></span>
			</label>
		</div>
		<label>
			<span data-i18n="temporary-bonus">Temp.</span>
			<input type="number" name="attr_projection_temp" value="0" />
		</label>
		<label>
			<span data-i18n="final-value">Final</span>
			<input type="number" name="attr_projection_final" value="@{projection_base}+@{projection_special}+@{projection_temp}+@{dex_mod}+@{aam}+(@{AMTransDraSceaux}*5)" disabled />
		</label>
		<button type="roll" name="roll_psychic_projection" value="@{diceRollD100} {{subname=^{psychic-projection}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{projection_mastery}]] + 0) + abs([[@{fr}-@{projection_mastery}]] - 0)) / 2)]]+[[@{projection_final}]]+?{@{modifiersTrad} ?|0}]]}}"></button>
	</div>

	<div class="psychicDisciplines">
		<h2 data-i18n="psychic-disciplines">Disciplines</h2>
		<fieldset class="repeating_disciplines">
			<input type="text" name="attr_discipline_name" />
		</fieldset>
	</div>
	<div>
		<div class="psychicMentalPatterns">
			<h2 data-i18n="mental-patterns">Mental Patterns</h2>
			<div>
				<span data-i18n="name">Name</span>
				<span data-i18n="cost">Cost</span>
				<span data-i18n="total-cost">Total Cost</span>
				<span></span>
			</div>
			<fieldset class="repeating_mentalpatterns">
				<input name="attr_mental_pattern_name" type="text" />
				<input name="attr_mental_pattern_cost" type="number" value="0" min="0" />
				<input name="attr_mental_pattern_total" type="number" value="0" min="0" />
				<label class="btn-mastery">
					<input name="attr_mental_pattern_cancelled" type="checkbox" value="1"/>
					<span data-i18n-title="cancelled" title="Cancelled"></span>
				</label>
			</fieldset>
			<div>
				<span data-i18n="modifiers">Modifiers</span>
			</div>
			<fieldset class="repeating_mentalmods">
				<input type="text" name="attr_mental_pattern_effects" />
			</fieldset>
		</div>
		<div class="psychicKnownPowers">
			<h2 data-i18n="known-powers">Known Powers</h2>
			<fieldset class="repeating_psychicpowers">
				<input type="hidden" name="attr_psychic_power_option" value="0" />
				<button type="roll" name="roll_psychic_power" value="@{diceRollPsi} {{subtitle=@{psychic_power_name}}} {{description=@{psychic_power_desc}}} {{diff20=@{psychic_power_diff20}}} {{diff40=@{psychic_power_diff40}}} {{diff80=@{psychic_power_diff80}}} {{diff120=@{psychic_power_diff120}}} {{diff140=@{psychic_power_diff140}}} {{diff180=@{psychic_power_diff180}}} {{diff240=@{psychic_power_diff240}}} {{diff280=@{psychic_power_diff280}}} {{diff320=@{psychic_power_diff320}}} {{diff440=@{psychic_power_diff440}}} {{projection=[^{psychic-projection}](~repeating_psychicpowers_power_projection)}} {{potential=[^{psychic-potential}](~repeating_psychicpowers_power_potential)}} {{bonus=@{psychic_power_bonus}}}">
					<input type="text" name="attr_psychic_power_name" readonly />
					<input type="number" name="attr_psychic_power_bonus" value="0" min="0" readonly />
				</button>
				<label>
					<input type="text" name="attr_psychic_power_name" />
					<span data-i18n="name">Name</span>
				</label>
				<label>
					<input type="number" name="attr_psychic_power_bonus" />
					<span data-i18n="bonus">Bonus</span>
				</label>
				<label>
					<input type="checkbox" name="attr_psychic_power_option" value="1" />
					<span></span>
				</label>
				<div class="compact">
					<span data-i18n="description">Description</span>
					<div class="autoex autoex40">
						<textarea name="attr_psychic_power_desc"></textarea>
						<span name="attr_psychic_power_desc"></span>
					</div>
					<div>
						<span data-i18n="difficulty-short">Diff.</span>
						<span data-i18n="effect">Effect</span>
					</div>
					<label>
						<span>20</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff20"></textarea>
							<span name="attr_psychic_power_diff20"></span>
						</div>
					</label>
					<label>
						<span>40</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff40"></textarea>
							<span name="attr_psychic_power_diff40"></span>
						</div>
					</label>
					<label>
						<span>80</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff80"></textarea>
							<span name="attr_psychic_power_diff80"></span>
						</div>
					</label>
					<label>
						<span>120</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff120"></textarea>
							<span name="attr_psychic_power_diff120"></span>
						</div>
					</label>
					<label>
						<span>140</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff140"></textarea>
							<span name="attr_psychic_power_diff140"></span>
						</div>
					</label>
					<label>
						<span>180</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff180"></textarea>
							<span name="attr_psychic_power_diff180"></span>
						</div>
					</label>
					<label>
						<span>240</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff240"></textarea>
							<span name="attr_psychic_power_diff240"></span>
						</div>
					</label>
					<label>
						<span>280</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff280"></textarea>
							<span name="attr_psychic_power_diff280"></span>
						</div>
					</label>
					<label>
						<span>320</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff320"></textarea>
							<span name="attr_psychic_power_diff320"></span>
						</div>
					</label>
					<label>
						<span>440</span>
						<div class="autoex autoex22">
							<textarea name="attr_psychic_power_diff440"></textarea>
							<span name="attr_psychic_power_diff440"></span>
						</div>
					</label>
					<button type="roll" name="roll_power_projection" value="@{diceRollD100} {{subname=^{psychic-projection}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{projection_mastery}]] + 0) + abs([[@{fr}-@{projection_mastery}]] - 0)) / 2)]]+[[@{projection_final}]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="psychic-projection">Projection</span>
					</button>
					<button type="roll" name="roll_power_potential" value="@{diceRollD100} {{subname=^{psychic-potential}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{projection_mastery}]] + 0) + abs([[@{fr}-@{projection_mastery}]] - 0)) / 2)]]+[[@{potential_final}]]+?{@{modifiersTrad} ?|0}+@{psychic_power_bonus}]]}}">
						<span data-i18n="psychic-potential">Potential</span>
					</button>
				</div>
			</fieldset>
			<div>
				<label>
					<span data-i18n="total-cost">Total Cost</span>
					<input type="number" name="attr_powers_ppcost" min="0" value="0" />
					<span>PP</span>
				</label>
			</div>
		</div>
	</div>
	<div class="psychicMaintainedPowers">
		<h2 data-i18n="maintained-powers">Maintained Powers</h2>
		<div>
			<label>
				<span data-i18n="number-of-innate-slots"># Innate Slots</span>
				<input type="number" name="attr_number_innate_slots" min="0" value="0" />
			</label>
			<label>
				<span data-i18n="total-cost">Total Cost</span>
				<input type="number" name="attr_innate_slots_ppcost" min="0" value="0" />
				<span data-i18n="psychic-points">PP</span>
			</label>
		</div>
		<div>
			<span data-i18n="name">Name</span>
			<span data-i18n="value">Value</span>
		</div>
		<fieldset class="repeating_maintainedpowers">
			<input type="text" name="attr_maintained_powername" />
			<input type="number" name="attr_maintained_powervalue" value="0" min="0"/>
			<div class="autoex autoex22">
				<textarea name="attr_maintained_powereffects"></textarea>
				<span name="attr_maintained_powereffects"></span>
			</div>
		</fieldset>
	</div>

</div>

<div class="body tab4">
	<div>
		<div class="kiNemesisAbilities">
			<h2 data-i18n="ki-abilities">Ki Abilities</h2>
			<div>
				<div>
					<span data-i18n="use-of-ki">Use of Ki</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_use_of_ki" value="1" />
						<span title="40"></span>
					</label>
				</div>
				<input type="hidden" name="attr_use_of_ki" value="0" />
				
				<div>
					<span data-i18n="ki-control">Ki Control</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_control" value="1" />
						<span title="30"></span>
					</label>
					<input type="hidden" name="attr_ki_control" value="0" />
					
					<div class="wRoll">
						<input type="hidden" name="attr_ki_detection" value="0" />
						<span data-i18n="ki-detection">Ki Detection</span>
						<input type="number" name="attr_ki_detection_value" value="round((@{noti_final} + @{mk_final})/2)+@{aam}+(@{AMTransDraSceaux}*5)" disabled />
						<button type="roll" name="roll_ki_detection" value="@{diceRollD100} {{subname=^{ki-detection}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[@{fr}]]+[[round(([[@{noti_final}]] + [[@{classe_DI_Sum}+@{mk_base}+@{mk_special}+@{mk_temp}]])/2)+@{aam}+(@{AMTransDraSceaux}*5)]]+?{@{modifiersTrad} ?|0}]]}}"></button>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_detection" value="1" />
							<span title="20"></span>
						</label>
						
						
						<div>
							<span data-i18n="ki-erudition">Erudition</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_erudition" value="ki-erudition" />
								<span title="10"></span>
							</label>
						</div>
					</div>
					
					<div>
						<span data-i18n="combat-aura">Combat Aura</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_combatAura" value="1" />
							<span title="10"></span>
						</label>
					</div>
					
					<div>
						<span data-i18n="physical-dominion">Physical Dominion</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_physicalDominion" value="1" />
							<span title="10"></span>
						</label>
						<input type="hidden" name="attr_ki_physicalDominion" value="0" />
						
						<div>
							<span data-i18n="physical-change">Physical Change</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_physicalChange" value="1" />
								<span title="30"></span>
							</label>
							<input type="hidden" name="attr_ki_physicalChange" value="0" />
							
							<div>
								<span data-i18n="superior-change">Superior Change</span>
								<label class="btn-ki">
									<input type="checkbox" name="attr_ki_superiorChange" value="1" />
									<span title="20"></span>
								</label>
							</div>
						</div>
						<div>
							<span data-i18n="multiplication-of-bodies">Multiplication of Bodies</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_multBodies" value="1" />
								<span title="30"></span>
							</label>
							<input type="hidden" name="attr_ki_multBodies" value="0" />
							
							<div>
								<span data-i18n="greater-multiplication-of-bodies">Greater Mult. of Bodies</span>
								<label class="btn-ki">
									<input type="checkbox" name="attr_ki_grtMultBodies" value="1" />
									<span title="30"></span>
								</label>
								<input type="hidden" name="attr_ki_multBodies" value="0" />
								
								<div>
									<span data-i18n="arcane-multiplication-of-bodies">Arcane Mult. of Bodies</span>
									<label class="btn-ki">
										<input type="checkbox" name="attr_ki_arcMultBodies" value="1" />
										<span title="40"></span>
									</label>
								</div>
							</div>
							
							<div>
								<span data-i18n="magnitude">Magnitude</span>
								<label class="btn-ki">
									<input type="checkbox" name="attr_ki_magnitude" value="1" />
									<span title="30"></span>
								</label>
								<input type="hidden" name="attr_ki_magnitude" value="0" />
								
								<div>
									<span data-i18n="arcane-magnitude">Arcane Magnitude</span>
									<label class="btn-ki">
										<input type="checkbox" name="attr_ki_arcMagnitude" value="1" />
										<span title="30"></span>
									</label>
								</div>
							</div>
						</div>
						
						<div>
							<span data-i18n="age-control">Age Control</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_ageControl" value="1" />
								<span title="20"></span>
							</label>
						</div>
					</div>
				
					<div>
						<span data-i18n="technique-imitation">Technique Imitation</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_techniqueImitation" value="1" />
							<span title="50"></span>
						</label>
					</div>
					
					<div>
						<span data-i18n="technique-pushing">Technique Pushing</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_techPushing" value="1" />
							<span title="20"></span>
						</label>
					</div>
				</div>
			
				<div>
					<span data-i18n="weight-elimination">Weight Elimination</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_weight_elimination" value="1" />
						<span title="10"></span>
					</label>
					<input type="hidden" name="attr_ki_weight_elimination" value="0" />
					
					<div>
						<span data-i18n="leviation">Levitation</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_levitation" value="1" />
							<span title="20"></span>
						</label>
						<input type="hidden" name="attr_ki_levitation" value="0" />
						
						<div>
							<span data-i18n="object-motion">Object Motion</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_objectMotion" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="mass-movement">Mass Movement</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_massMovement" value="1" />
								<span title="20"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="flight">Flight</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_flight" value="1" />
								<span title="20"></span>
							</label>
						</div>
					</div>
				</div>
				
				<div>
					<span data-i18n="presence-extrusion">Presence Extrusion</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_presenceExtrusion" value="1" />
						<span title="10"></span>
					</label>
					<input type="hidden" name="attr_ki_presenceExtrusion" value="0" />
					
					<div>
						<span data-i18n="anergy-armor">Energy Armor</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_energyArmor" value="1" />
							<span title="10"></span>
						</label>
						<input type="hidden" name="attr_ki_energyArmor" value="0" />
						
						<div>
							<span data-i18n="armor-of-greater-energy">Armor of Greater Energy</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_grtEnergyArmor" value="1" />
								<span title="10"></span>
							</label>
							<input type="hidden" name="attr_ki_grtEnergyArmor" value="0" />
							
							<div>
								<span data-i18n="armor-of-arcane-energy">Armor of Arcane Energy</span>
								<label class="btn-ki">
									<input type="checkbox" name="attr_ki_arcaneEnergyArmor" value="1" />
									<span title="10"></span>
								</label>
							</div>
						</div>
					</div>
				
					<div>
						<span data-i18n="aura-extension">Aura Extension</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_aura_extension" value="10" />
							<span title="10"></span>
						</label>
						<input type="hidden" name="attr_aura_extension" value="0" />
						
						<div>
							<span data-i18n="elemental-attack-fire">Elemental Attack: Fire</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleAttackFire" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="elemental-attack-ice">Elemental Attack: Ice</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleAttackIce" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="elemental-attack-air">Elemental Attack: Air</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleAttackAir" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="elemental-attack-earth">Elemental Attack: Earth</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleAttackEarth" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="elemental-attack-light">Elemental Attack: Light</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleAttackLight" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="elemental-attack-darkness">Elemental Attack: Darkness</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleAttackDark" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="increased-damage">Increased Damage</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_increased_damage" value="10" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="increased-reach">Increased Reach</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_increasedReach" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="increased-speed">Increased Speed</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_increasedSpeed" value="10" />
								<span title="10"></span>
							</label>
						</div>
					</div>
				
					<div>
						<span data-i18n="destruction-by-ki">Destruction By Ki</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_destructionByKi" value="1" />
							<span title="20"></span>
						</label>
					</div>
					
					<div>
						<span data-i18n="absorbtion-of-energy">Absorbtion of Energy</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_absorbEnergy" value="1" />
							<span title="30"></span>
						</label>
					</div>
					
					<div>
						<span data-i18n="physical-shield">Physical Shield</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_physicalShield" value="1" />
							<span title="10"></span>
						</label>
					</div>
				</div>
			
				<div>
					<span data-i18n="ki-transmission">Ki Transmission</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_transmission" value="1" />
						<span title="10"></span>
					</label>
					<input type="hidden" name="attr_ki_transmission" value="0" />
					
					<div>
						<span data-i18n="ki-healing">Ki Healing</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_healing" value="1" />
							<span title="10"></span>
						</label>
						<input type="hidden" name="attr_ki_healing" value="0" />
						
						<div>
							<span data-i18n="superior-healing">Superior Healing</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_superiorHealing" value="1" />
								<span title="10"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="stabilize">Stabilize</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_stabilize" value="1" />
								<span title="10"></span>
							</label>
						</div>
					</div>
				
					<div>
						<span data-i18n="life-sacrifice">Life Sacrifice</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_lifeSacrifice" value="1" />
							<span title="10"></span>
						</label>
					</div>
				</div>
			
				<div>
					<span data-i18n="use-of-necessary-energy">Use of Necessary Energy</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_useOfNecessaryEnergy" value="1" />
						<span title="10"></span>
					</label>
					<input type="hidden" name="attr_ki_useOfNecessaryEnergy" value="0" />
					
					<div class="wRoll">
						<input type="hidden" name="attr_ki_concealment" value="0" />
						<span data-i18n="ki-concealment">Ki Concealment</span>
						<input type="number" name="attr_ki_concealment_value" value="round((@{stea_final} + @{mk_final})/2)+@{aam}+(@{AMTransDraSceaux}*5)" disabled />
						<button type='roll' name='roll_ki_concealment' value="@{diceRollD100} {{subname=^{ki-concealment}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[@{fr}]]+[[round((@{stea_final} + @{classe_DI_Sum})/2)+@{aam}+(@{AMTransDraSceaux}*5)]]+?{@{modifiersTrad} ?|0}]]}}" ></button> 
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_concealment" value="1" />
							<span title="10"></span>
						</label>
						
						
						<div>
							<span data-i18n="aura-of-concealment">Aura of Concealment</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_concealmentAura" value="1" />
								<span title="10"></span>
							</label>
							<input type="hidden" name="attr_ki_concealmentAura" value="0" />
						</div>
						
						<div>
							<span data-i18n="false-death">False Death</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_falseDeath" value="1" />
								<span title="10"></span>
							</label>
						</div>
					</div>
				
					<div>
						<span data-i18n="elimination-of-necessities">Elimination of Necessities</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_eliminateNecessities" value="1" />
							<span title="10"></span>
						</label>
						<input type="hidden" name="attr_ki_eliminateNecessities" value="0" />
						
						<div>
							<span data-i18n="elemental-immunity-heat">Elemental Immunity: Heat</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleImmuneHeat" value="1" />
								<span title="20"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="elemental-immunity-cold">Elemental Immunity: Cold</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleImmuneCold" value="1" />
								<span title="20"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="elemental-immunity-electricity">Elemental Immunity: Electricity</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_eleImmuneElectric" value="1" />
								<span title="20"></span>
							</label>
						</div>
					</div>
				
					<div>
						<span data-i18n="penalty-reduction">Penalty Reduction</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_penaltyReduction" value="1" />
							<span title="20"></span>
						</label>
						<input type="hidden" name="attr_ki_penaltyReduction" value="0" />
						
						<div>
							<span data-i18n="recovery">Recovery</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_recovery" value="1" />
								<span title="20"></span>
							</label>
						</div>
						
						<div>
							<span data-i18n="restore-others">Restore Others</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_restoreOthers" value="1" />
								<span title="10"></span>
							</label>
						</div>
					</div>
				
					<div>
						<span data-i18n="characteristic-augmentation">Charact. Augmentation</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_charAugmentation" value="1" />
							<span title="20"></span>
						</label>
						<input type="hidden" name="attr_ki_charAugmentation" value="0" />
						
						<div>
							<span data-i18n="superior-characteristic-augmentation">Superior Charact. Augmentation</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_ki_superiorCharAugmentation" value="1" />
								<span title="20"></span>
							</label>
						</div>
					</div>
				</div>
			
				<div>
					<span data-i18n="improvised-combat-techniques">Improvised Combat Techniques</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_improvisedTechnique" value="1" />
						<span title="50"></span>
					</label>
				</div>
				
				<div>
					<span data-i18n="inhumanity">Inhumanity</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_inhumanity" value="1" />
						<span title="30"></span>
					</label>
					<input type="hidden" name="attr_ki_inhumanity" value="0" />
					
					<div>
						<span data-i18n="zen">Zen</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_ki_zen" value="1" />
							<span title="50"></span>
						</label>
					</div>
				</div>
			</div>
		</div>
	
		<div class="kiNemesisAbilities">
			<h2 data-i18n="nemesis-abilities">Nemesis Abilities</h2>
			<div>
				<div>
					<span data-i18n="use-of-nemesis">Use of Nemesis</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_use_of_nemesis" value="1" />
						<span title="70"></span>
					</label>
				</div>
				<input type="hidden" name="attr_use_of_nemesis" value="0" />
				
				<div>
					<span data-i18n="armor-of-emptiness">Armor of Emptiness</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_armor_of_emptiness" value="1" />
						<span title="20"></span>
					</label>
					<input type="hidden" name="attr_armor_of_emptiness" value="0" />
					
					<div>
						<span data-i18n="noht">Noht</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_noht" value="1" />
							<span title="30"></span>
						</label>
					</div>
				</div>
				
				<div>
					<span data-i18n="ki-cancellation">Ki Cancellation</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_ki_cancellation" value="1" />
						<span title="30"></span>
					</label>
					<input type="hidden" name="attr_ki_cancellation" value="0" />
					
					<div>
						<span data-i18n="greater-ki-cancellation">Greater Ki Cancellation</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_greater_ki_cancellation" value="1" />
							<span title="20"></span>
						</label>
					</div>
				</div>
				
				<div>
					<span data-i18n="magic-cancellation">Magic Cancellation</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_magic_cancellation" value="1" />
						<span title="30"></span>
					</label>
					<input type="hidden" name="attr_magic_cancellation" value="0" />
					
					<div>
						<span data-i18n="greater-magic-cancellation">Greater Magic Cancellation</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_greater_magic_cancellation" value="1" />
							<span title="20"></span>
						</label>
					</div>
				</div>
				
				<div>
					<span data-i18n="matrices-cancellation">Matrices Cancellation</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_matrices_cancellation" value="1" />
						<span title="30"></span>
					</label>
					<input type="hidden" name="attr_matrices_cancellation" value="0" />
					
					<div>
						<span data-i18n="greater-matrices-cancellation">Greater Matrices Cancellation</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_greater_matrices_cancellation" value="1" />
							<span title="20"></span>
						</label>
					</div>
				</div>
				
				<div>
					<span data-i18n="binding-cancellation">Binding Cancellation</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_binding_cancellation" value="1" />
						<span title="30"></span>
					</label>
				</div>
				
				<div>
					<span data-i18n="emptiness-extrusion">Emptiness Extrusion</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_emptiness_extrusion" value="1" />
						<span title="30"></span>
					</label>
					<input type="hidden" name="attr_emptiness_extrusion" value="0" />
					
					<div>
						<span data-i18n="form-of-emptiness">Form of Emptiness</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_form_of_emptiness" value="10" />
							<span title="30"></span>
						</label>
					</div>
				</div>
				
				<div>
					<span data-i18n="body-of-emptiness">Body of Emptiness</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_body_of_emptiness" value="10" />
						<span title="10"></span>
					</label>
					<input type="hidden" name="attr_body_of_emptiness" value="0" />
					
					<div>
						<span data-i18n="no-needs">No Needs</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_no_needs" value="1" />
							<span title="10"></span>
						</label>
					</div>
					
					<div>
						<span data-i18n="movement-of-emptiness">Movement of Emptiness</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_movement_of_emptiness" value="1" />
							<span title="20"></span>
						</label>
					</div>
					
					<div>
						<span data-i18n="essence-of-emptiness">Essence of Emptiness</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_essence_of_emptiness" value="1" />
							<span title="20"></span>
						</label>
						<input type="hidden" name="attr_essence_of_emptiness" value="0" />
						
						<div>
							<span data-i18n="one-with-the-nothing">One with the Nothing</span>
							<label class="btn-ki">
								<input type="checkbox" name="attr_one_with_nothing" value="1" />
								<span title="40"></span>
							</label>
						</div>
					</div>
				</div>
			
				<div>
					<span data-i18n="aura-of-emptiness">Aura of Emptiness</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_aura_of_emptiness" value="1" />
						<span title="30"></span>
					</label>
				</div>
				
				<div>
					<span data-i18n="undetectable">Undetectable</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_undetectable" value="1" />
						<span title="10"></span>
					</label>
				</div>
				
				<div>
					<span data-i18n="inhumanity">Inhumanity</span>
					<label class="btn-ki">
						<input type="checkbox" name="attr_nem_inhumanity" value="1" />
						<span title="20"></span>
					</label>
					<input type="hidden" name="attr_nem_inhumanity" value="0" />
					
					<div>
						<span data-i18n="zen">Zen</span>
						<label class="btn-ki">
							<input type="checkbox" name="attr_nem_zen" value="10" />
							<span title="40"></span>
						</label>
					</div>
				</div>
			</div>
		</div>
	</div>
	
	<div>
		<div class="kiPool">
			<h2 data-i18n="ki-pools">Ki Pools</h2>
			<div>
				<span data-i18n="ki-accumulation-short">Accu.</span>
				<span data-i18n="maximum-value">Max</span>
				<span data-i18n="actual-value">Actual</span>
			</div>
			<div>
				<div>
					<span data-i18n="agility-short">AGI</span>
					<input type="number" name="attr_ki_agi_accu_final" value="((((@{ki_agi_accu}+@{ki_agi_accu_special}+@{ki_agi_accu_temp}+ceil(@{aap}/20)) + 0) + abs((@{ki_agi_accu}+@{ki_agi_accu_special}+@{ki_agi_accu_temp}+ceil(@{aap}/20)) + 0)) / 2)" disabled />
					<input type="number" name="attr_ki_agi_max" value="(@{ki_agi_base}+@{ki_agi_special}+@{ki_agi_temp}+((@{agi_final})%21)+((((@{agi_final})-10)*(floor((@{agi_final})/11)))))" disabled />
					<input type="number" name="attr_ki_agi_actual" value="0" min="0"/>
				</div>
				<label>
					<input type="checkbox" name="attr_ki_agi_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_ki_agi_option" value="0" />
				<div class="extend">
					<div>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_ki_agi_accu" value="0" min="0"/>
						<input type="number" name="attr_ki_agi_base" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_ki_agi_accu_special" value="0" min="0"/>
						<input type="number" name="attr_ki_agi_special" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="temporary-bonus">Temp.</span>
						<input type="number" name="attr_ki_agi_accu_temp" value="0" min="0"/>
						<input type="number" name="attr_ki_agi_temp" value="0" min="0"/>
					</div>
				</div>
			</div>
			<div>
				<div>
					<span data-i18n="constitution-short">CON</span>
					<input type="number" name="attr_ki_con_accu_final" value="((((@{ki_con_accu}+@{ki_con_accu_special}+@{ki_con_accu_temp}+ceil(@{aap}/20)) + 0) + abs((@{ki_con_accu}+@{ki_con_accu_special}+@{ki_con_accu_temp}+ceil(@{aap}/20)) + 0)) / 2)" disabled />
					<input type="number" name="attr_ki_con_max" value="(@{ki_con_base}+@{ki_con_special}+@{ki_con_temp}+((@{con_final})%21)+((((@{con_final})-10)*(floor((@{con_final})/11)))))" disabled />
					<input type="number" name="attr_ki_con_actual" value="0" min="0"/>
				</div>
				<label>
					<input type="checkbox" name="attr_ki_con_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_ki_con_option" value="0" />
				<div class="extend">
					<div>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_ki_con_accu" value="0" min="0"/>
						<input type="number" name="attr_ki_con_base" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_ki_con_accu_special" value="0" min="0"/>
						<input type="number" name="attr_ki_con_special" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="temporary-bonus">Temp.</span>
						<input type="number" name="attr_ki_con_accu_temp" value="0" min="0"/>
						<input type="number" name="attr_ki_con_temp" value="0" min="0"/>
					</div>
				</div>
			</div>
			<div>
				<div>
					<span data-i18n="dexterity-short">DEX</span>
					<input type="number" name="attr_ki_dex_accu_final" value="((((@{ki_dex_accu}+@{ki_dex_accu_special}+@{ki_dex_accu_temp}+ceil(@{aap}/20)) + 0) + abs((@{ki_dex_accu}+@{ki_dex_accu_special}+@{ki_dex_accu_temp}+ceil(@{aap}/20)) + 0)) / 2)" disabled />
					<input type="number" name="attr_ki_dex_max" value="(@{ki_dex_base}+@{ki_dex_special}+@{ki_dex_temp}+((@{dex_final})%21)+((((@{dex_final})-10)*(floor((@{dex_final})/11)))))" disabled />
					<input type="number" name="attr_ki_dex_actual" value="0" min="0"/>
				</div>
				<label>
					<input type="checkbox" name="attr_ki_dex_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_ki_dex_option" value="0" />
				<div class="extend">
					<div>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_ki_dex_accu" value="0" min="0"/>
						<input type="number" name="attr_ki_dex_base" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_ki_dex_accu_special" value="0" min="0"/>
						<input type="number" name="attr_ki_dex_special" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="temporary-bonus">Temp.</span>
						<input type="number" name="attr_ki_dex_accu_temp" value="0" min="0"/>
						<input type="number" name="attr_ki_dex_temp" value="0" min="0"/>
					</div>
				</div>
			</div>
			<div>
				<div>
					<span data-i18n="strength-short">STR</span>
					<input type="number" name="attr_ki_str_accu_final" value="((((@{ki_str_accu}+@{ki_str_accu_special}+@{ki_str_accu_temp}+ceil(@{aap}/20)) + 0) + abs((@{ki_str_accu}+@{ki_str_accu_special}+@{ki_str_accu_temp}+ceil(@{aap}/20)) - 0)) / 2)" disabled />
					<input type="number" name="attr_ki_str_max" value="(@{ki_str_base}+@{ki_str_special}+@{ki_str_temp}+((@{str_final})%21)+((((@{str_final})-10)*(floor((@{str_final})/11)))))" disabled />
					<input type="number" name="attr_ki_str_actual" value="0" min="0"/>
				</div>
				<label>
					<input type="checkbox" name="attr_ki_str_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_ki_str_option" value="0" />
				<div class="extend">
					<div>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_ki_str_accu" value="0" min="0"/>
						<input type="number" name="attr_ki_str_base" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_ki_str_accu_special" value="0" min="0"/>
						<input type="number" name="attr_ki_str_special" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="temporary-bonus">Temp.</span>
						<input type="number" name="attr_ki_str_accu_temp" value="0" min="0"/>
						<input type="number" name="attr_ki_str_temp" value="0" min="0"/>
					</div>
				</div>
			</div>
			<div>
				<div>
					<span data-i18n="soul-power-short">POW</span>
					<input type="number" name="attr_ki_pow_accu_final" value="((((@{ki_pow_accu}+@{ki_pow_accu_special}+@{ki_pow_accu_temp}+ceil(@{aap}/20)) + 0) + abs((@{ki_pow_accu}+@{ki_pow_accu_special}+@{ki_pow_accu_temp}+ceil(@{aap}/20)) - 0)) / 2)" disabled />
					<input type="number" name="attr_ki_pow_max" value="(@{ki_pow_base}+@{ki_pow_special}+@{ki_pow_temp}+((@{pow_final})%21)+((((@{pow_final})-10)*(floor((@{pow_final})/11)))))" disabled />
					<input type="number" name="attr_ki_pow_actual" value="0" min="0"/>
				</div>
				<label>
					<input type="checkbox" name="attr_ki_pow_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_ki_pow_option" value="0" />
				<div class="extend">
					<div>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_ki_pow_accu" value="0" min="0"/>
						<input type="number" name="attr_ki_pow_base" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_ki_pow_accu_special" value="0" min="0"/>
						<input type="number" name="attr_ki_pow_special" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="temporary-bonus">Temp.</span>
						<input type="number" name="attr_ki_pow_accu_temp" value="0" min="0"/>
						<input type="number" name="attr_ki_pow_temp" value="0" min="0"/>
					</div>
				</div>
			</div>
			<div>
				<div>
					<span data-i18n="willpower-short">WP</span>
					<input type="number" name="attr_ki_wp_accu_final" value="((((@{ki_wp_accu}+@{ki_wp_accu_special}+@{ki_wp_accu_temp}+ceil(@{aap}/20)) + 0) + abs((@{ki_wp_accu}+@{ki_wp_accu_special}+@{ki_wp_accu_temp}+ceil(@{aap}/20)) - 0)) / 2)" disabled />
					<input type="number" name="attr_ki_wp_max" value="(@{ki_wp_base}+@{ki_wp_special}+@{ki_wp_temp}+((@{wp_final})%21)+((((@{wp_final})-10)*(floor((@{wp_final})/11)))))" disabled />
					<input type="number" name="attr_ki_wp_actual" value="0" min="0"/>
				</div>
				<label>
					<input type="checkbox" name="attr_ki_wp_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_ki_wp_option" value="0" />
				<div class="extend">
					<div>
						<span data-i18n="base-value">Base</span>
						<input type="number" name="attr_ki_wp_accu" value="0" min="0"/>
						<input type="number" name="attr_ki_wp_base" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="special-bonus">Spec.</span>
						<input type="number" name="attr_ki_wp_accu_special" value="0" min="0"/>
						<input type="number" name="attr_ki_wp_special" value="0" min="0"/>
					</div>
					<div>
						<span data-i18n="temporary-bonus">Temp.</span>
						<input type="number" name="attr_ki_wp_accu_temp" value="0" min="0"/>
						<input type="number" name="attr_ki_wp_temp" value="0" min="0"/>
					</div>
				</div>			
			</div>
			<div>
				<div>
					<span data-i18n="unified-pool">Unified</span>
					<input type="number" name="attr_ki_actual_max" value="@{ki_agi_max}+@{ki_con_max}+@{ki_dex_max}+@{ki_str_max}+@{ki_pow_max}+@{ki_wp_max}" disabled />
					<input type="number" name="attr_ki_actual" value="0" min="0" />
				</div>
			</div>
		</div>
		
		<div>
			<div class="kiMartialKnowledge">
				<h2 data-i18n="martial-knowledge-full">Martial Knowledge</h2>
				<input type="hidden" name="attr_mk_option" value="0" />
				<label>
					<span data-i18n="base-value">Base</span>
					<input type="number" name="attr_mk_base" value="0" min="0"/>
				</label>
				<label>
					<span data-i18n="class">Class</span>
					<input type="number" name="attr_mk_class" value="@{classe_DI_Sum}" min="0" disabled />
				</label>
				<label>
					<span data-i18n="special-bonus">Special</span>
					<input type="number" name="attr_mk_special" value="0" min="0"/>
				</label>
				<label>
					<span data-i18n="temporary-bonus">Temp.</span>
					<input type="number" name="attr_mk_temp" value="0" min="0"/>
				</label>
				<div>
					<label>
						<span data-i18n="final-value">Final</span>
						<input type="number" name="attr_mk_final" value="@{mk_class}+@{mk_base}+@{mk_special}+@{mk_temp}" disabled />
					</label>
					<label>
						<span data-i18n="used-value">Used</span>
						<input type="number" name="attr_mk_used" value="0" />
					</label>
				</div>
			</div>
		
			<div class="kiSeals">
				<h2 data-i18n="ki-seals">Ki Seals</h2>
				<div>
					<span data-i18n="wood-seal">Wood</span>
					<span data-i18n="metal-seal">Metal</span>
					<span data-i18n="air-seal">Air</span>
					<span data-i18n="water-seal">Water</span>
					<span data-i18n="fire-seal">Fire</span>
				</div>
				<div>
					<label class="btn-seals">
						<input name="attr_ki_seal_minorwood" type="checkbox" value="1" />
						<span data-i18n-title="minor" title="Minor"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_minormetal" type="checkbox" value="1" />
						<span data-i18n-title="minor" title="Minor"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_minorair" type="checkbox" value="1" />
						<span data-i18n-title="minor" title="Minor"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_minorwater" type="checkbox" value="1" />
						<span data-i18n-title="minor" title="Minor"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_minorfire" type="checkbox" value="1" />
						<span data-i18n-title="minor" title="Minor"></span>
					</label>
				</div>
				<div>
					<label class="btn-seals">
						<input name="attr_ki_seal_majorwood" type="checkbox" value="1" />
						<span data-i18n-title="major" title="Major"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_majormetal" type="checkbox" value="1" />
						<span data-i18n-title="major" title="Major"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_majorair" type="checkbox" value="1" />
						<span data-i18n-title="major" title="Major"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_majorwater" type="checkbox" value="1" />
						<span data-i18n-title="major" title="Major"></span>
					</label>
					<label class="btn-seals">
						<input name="attr_ki_seal_majorfire" type="checkbox" value="1" />
						<span data-i18n-title="major" title="Major"></span>
					</label>
				</div>
			</div>
		</div>
	
		<div class="kiArsMagus">
			<h2 data-i18n="ars-magnus">Ars Magnus</h2>
			<div>
				<span data-i18n="name">Name</span>
				<span data-i18n="development-points">DP</span>
				<span data-i18n="martial-knowledge">MK</span>
			</div>
			<fieldset class="repeating_arsmagnus">
				<input type="text" name="attr_arsmagnus_name" />
				<input type="number" name="attr_arsmagnus_dpcost" min="0" value="0" />
				<input type="number" name="attr_arsmagnus_mkcost" min="0" value="0" />
				<label>
					<input type="checkbox" name="attr_arsmagnus_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_arsmagnus_option" value="0" />
				<div class="extend autoex autoex40">
					<textarea name="attr_arsmagnus_desc"></textarea>
					<span name="attr_arsmagnus_desc"></span>
				</div>
			</fieldset>
			<div>
				<span data-i18n="specials">Specials</span>
				<span data-i18n="seals">Seals</span>
				<span data-i18n="doors">Doors</span>
			</div>
			<div>
				<span data-i18n="transformation-the-seals-of-the-dragon">Transformation : The Seals of the Dragon</span>
				<input type="number" name="attr_AMTransDraSceaux" min="0" value="0" />
				<input type="number" name="attr_AMTransDraPortes" min="0" value="0" />
			</div>
		</div>
	
		<div class="kiLimit">
			<h2 data-i18n="ki-limit">Limit</h2>
			<select name="attr_ki_limit1">
				<option value="0" data-i18n="limit-none">None</option>
				<option value="1" data-i18n="limit-mors">Mors: 20MK</option>
				<option value="2" data-i18n="limit-cenobus">Cenobus: 20MK</option>
				<option value="3" data-i18n="limit-caelum">Caelum: 15MK</option>
				<option value="4" data-i18n="limit-agon">Agon: 20MK</option>
				<option value="5" data-i18n="limit-custodium">Custodium: 10MK</option>
				<option value="6" data-i18n="limit-cruor">Cruor: 10MK</option>
				<option value="7" data-i18n="limit-terminus">Terminus: 10MK</option>
			</select>
			
			<select name="attr_ki_limit2">
				<option value="0" data-i18n="limit-none">None</option>
				<option value="1" data-i18n="limit-mors">Mors: 20MK</option>
				<option value="2" data-i18n="limit-cenobus">Cenobus: 20MK</option>
				<option value="3" data-i18n="limit-caelum">Caelum: 15MK</option>
				<option value="4" data-i18n="limit-agon">Agon: 20MK</option>
				<option value="5" data-i18n="limit-custodium">Custodium: 10MK</option>
				<option value="6" data-i18n="limit-cruor">Cruor: 10MK</option>
				<option value="7" data-i18n="limit-terminus">Terminus: 10MK</option>
			</select>
		</div>
	
		<div class="kiMartialArts">
			<h2 data-i18n="martial-arts">Martial Arts</h2>
			<div>
				<span data-i18n="martial-art">Martial Art</span>
				<span data-i18n="martial-degree">Degree</span>
				<span data-i18n="martial-knowledge">MK</span>
			</div>
			<fieldset class="repeating_martialarts">
				<input type="text" name="attr_martialarts_name" />
				<select name="attr_martialart_degree">
					<option value="0" data-i18n="degree-base">Base</option>
					<option value="1" data-i18n="degree-advanced">Advanced</option>
					<option value="2" data-i18n="degree-supreme">Supreme</option>
					<option value="3" data-i18n="degree-arcane">Arcane</option>
				</select>
				<input type="number" name="attr_martialart_mk" min="0" value="0" />
				<label>
					<input type="checkbox" name="attr_martialarts_option" value="1" />
					<span></span>
				</label>
				<input type="hidden" name="attr_martialarts_option" value="0" />
				<div class="extend autoex autoex40">
					<textarea name="attr_martialarts_desc"></textarea>
					<span name="attr_martialarts_desc"></span>
				</div>
			</fieldset>
			<div>
				<span data-i18n="damage">Damage</span>
				<span data-i18n="multiplier">Multiplier</span>
				<span data-i18n="final-value">Final</span>
				<span data-i18n="bonus-martial-knowledge">Bonus MK</span>
			</div>
			<div>
				<input type="number" name="attr_martialart_damage_base" value="0" min="0" />
				<input type="number" name="attr_martialart_damage_multiplier" value="1" min="1" />
				<span>X</span>
				<select name="attr_martialart_damage_scalar">
					<option value="@{str_mod}" data-i18n="strength">Strength</option>
					<option value="@{pow_mod}" data-i18n="soul-power">Power</option>
					<option value="@{pow_mod}+2*@{presence}" data-i18n="2presence+power">2xPresence+Power</option>
					<option value="@{str_mod}+(2*@{target|str_mod})" data-i18n="strength+2target_strength">Str + Target Str x2</option>
					<option value="@{str_mod}+(4*@{target|str_mod})" data-i18n="strength+4target_strength">Str + Target Str x4</option>
				</select>
				<input type="number" name="attr_martialart_damage_final" value="@{martialart_damage_base}+@{aura_extension}+@{increased_damage}+@{martialart_damage_multiplier}*@{martialart_damage_scalar}" disabled />
				<input type="number" name="attr_martialarts_mkgained" min="0" value="0" />
				<div class="autoex autoex22">
					<textarea name="attr_martialarts_special"></textarea>
					<span name="attr_martialarts_special"></span>
				</div>
			</div>
		</div>
	
		<div class="kiCreaturesKnown">
			<h2 data-i18n="creatures-known">Creatures Known</h2>
			<div>
				<span data-i18n="creature-name">Creature Name</span>
				<span data-i18n="level">Level</span>
				<span data-i18n="required-seals">Required Seals</span>
			</div>
			<fieldset class="repeating_kicreatures">
				<input type="hidden" name="attr_ki_creaturedifficulty" value="10*(@{ki_creaturelevel}-@{character_level})" disabled />
				<input type="hidden" name="attr_creaturesknown_option" value="1" />
				<button type="roll" name="roll_ki_summon" value="@{diceRollD100} {{subtitle=^{summon-ritual} (^{level} : @{ki_creaturelevel})}} {{subname=@{ki_creaturename}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[@{fr}]]+?{@{modifiersTrad} ?|0}+[[@{aap}]] ]]}} {{seals=@{ki_creatureseals}}} {{diff=[[@{ki_creaturedifficulty}]]}}">
					<span name="attr_ki_creaturename" ></span>
					<span name="attr_ki_creaturelevel" ></span>
					<span name="attr_ki_creatureseals" ></span>
				</button>
				<div class="extend">
					<input type="text" name="attr_ki_creaturename" />
					<input type="number" name="attr_ki_creaturelevel" min="0" value="0" />
					<input type="text" name="attr_ki_creatureseals" />
				</div>
				<label>
					<input type="checkbox" name="attr_creaturesknown_option" value="1" checked />
					<span></span>
				</label>
			</fieldset>
		</div>

		<div class="kiTechniques">
			<h2 data-i18n="ki-techniques">Ki Techniques</h2>
			<fieldset class="repeating_kitechniques">
				<input type="hidden" name="attr_ki_technique_option" value="1" />
				<button type="roll" name="roll_ki_technique" value="@{diceRollKi} {{subtitle=@{ki_technique_name}}}{{frequency=[[@{ki_technique_freq}]]}} {{frequency=[[@{ki_technique_freq}]]}} {{action=[[@{ki_technique_action}]]}} {{agi=[[@{ki_technique_agicost} [@{useTrad}] ]]}} {{con=[[@{ki_technique_concost} [@{useTrad}] ]]}} {{dex=[[@{ki_technique_dexcost} [@{useTrad}] ]]}} {{str=[[@{ki_technique_strcost} [@{useTrad}] ]]}} {{pow=[[@{ki_technique_powcost} [@{useTrad}] ]]}} {{wp=[[@{ki_technique_wpcost} [@{useTrad}] ]]}} {{agiM=[[@{ki_technique_agimaint} [@{maintTrad}] ]]}} {{conM=[[@{ki_technique_conmaint} [@{maintTrad}] ]]}} {{dexM=[[@{ki_technique_dexmaint} [@{maintTrad}] ]]}} {{strM=[[@{ki_technique_strmaint} [@{maintTrad}] ]]}} {{powM=[[@{ki_technique_powmaint} [@{maintTrad}] ]]}} {{wpM=[[@{ki_technique_wpimaint} [@{maintTrad}] ]]}} {{description=@{ki_technique_desc}}}">
					<div>
						<span name="attr_ki_technique_name"></span>
						<label>
							<span data-i18n="action-frequency">Frequency</span>:
							<select name="attr_ki_technique_freq" readonly >
								<option value="0" data-i18n="action">Action</option>
								<option value="1" data-i18n="turn">Turn</option>
								<option value="2" data-i18n="variable">Variable</option>
							</select>
						</label>
						<label>
							<span data-i18n="related-action">Related Action</span>:
							<select name="attr_ki_technique_action" readonly>
								<option value="0" data-i18n="attack">Attack</option>
								<option value="1" data-i18n="defense">Defense</option>
								<option value="2" data-i18n="counterattack">Counterattack</option>
								<option value="3" data-i18n="variable">Variable</option>
							</select>
						</label>
					</div>
					<label>
						<span name="attr_ki_technique_level"></span>
						<span data-i18n="level">Level</span>
					</label>
					<label>
						<span name="attr_ki_technique_cost"></span>
						<span data-i18n="martial-knowledge">MK</span>
					</label>
					<div>
						<span data-i18n="ki">Ki</span>
						<span data-i18n="agility-short">AGI</span>
						<span data-i18n="constitution-short">CON</span>
						<span data-i18n="dexterity-short">DEX</span>
						<span data-i18n="strength-short">STR</span>
						<span data-i18n="soul-power-short">POW</span>
						<span data-i18n="willpower-short">WP</span>
					</div>
					<div>
						<span data-i18n="use">Use</span>
						<span name="attr_ki_technique_agicost"></span>
						<span name="attr_ki_technique_concost"></span>
						<span name="attr_ki_technique_dexcost"></span>
						<span name="attr_ki_technique_strcost"></span>
						<span name="attr_ki_technique_powcost"></span>
						<span name="attr_ki_technique_wpcost"></span>
					</div>
					<div>
						<span data-i18n="maintenance">Maint.</span>
						<span name="attr_ki_technique_agimaint"></span>
						<span name="attr_ki_technique_conmaint"></span>
						<span name="attr_ki_technique_dexmaint"></span>
						<span name="attr_ki_technique_strmaint"></span>
						<span name="attr_ki_technique_powmaint"></span>
						<span name="attr_ki_technique_wpimaint"></span>
					</div>
					<div class="autoex autoex22">
						<textarea name="attr_ki_technique_desc"></textarea>
						<span name="attr_ki_technique_desc"></span>
					</div>
				</button>
				<div class="extend">
					<label>
						<input type="text" name="attr_ki_technique_name" />
						<span data-i18n="name">Name</span>
					</label>
					<label>
						<input type="number" name="attr_ki_technique_level" />
						<span data-i18n="level">Level</span>
					</label>
					<label>
						<input type="number" name="attr_ki_technique_cost" />
						<span data-i18n="martial-knowledge">MK</span>
					</label>
					<div>
						<label>
							<span data-i18n="action-frequency">Frequency</span>
							<select name="attr_ki_technique_freq">
								<option value="0" data-i18n="action">Action</option>
								<option value="1" data-i18n="turn">Turn</option>
								<option value="2" data-i18n="variable">Variable</option>
							</select>
						</label>
						<label>
							<span data-i18n="related-action">Related Action</span>
							<select name="attr_ki_technique_action">
								<option value="0" data-i18n="attack">Attack</option>
								<option value="1" data-i18n="defense">Defense</option>
								<option value="2" data-i18n="counterattack">Counterattack</option>
								<option value="3" data-i18n="variable">Variable</option>
							</select>
						</label>
					</div>
					<div>
						<span data-i18n="ki">Ki</span>
						<span data-i18n="agility-short">AGI</span>
						<span data-i18n="constitution-short">CON</span>
						<span data-i18n="dexterity-short">DEX</span>
						<span data-i18n="strength-short">STR</span>
						<span data-i18n="soul-power-short">POW</span>
						<span data-i18n="willpower-short">WP</span>
					</div>
					<div>
						<span data-i18n="use">Use</span>
						<input type="number" name="attr_ki_technique_agicost" min="0" value="0" />
						<input type="number" name="attr_ki_technique_concost" min="0" value="0" />
						<input type="number" name="attr_ki_technique_dexcost" min="0" value="0" />
						<input type="number" name="attr_ki_technique_strcost" min="0" value="0" />
						<input type="number" name="attr_ki_technique_powcost" min="0" value="0" />
						<input type="number" name="attr_ki_technique_wpcost" min="0" value="0" />
					</div>
					<div>
						<span data-i18n="maintenance">Maint.</span>
						<input type="number" name="attr_ki_technique_agimaint" min="0" value="0" />
						<input type="number" name="attr_ki_technique_conmaint" min="0" value="0" />
						<input type="number" name="attr_ki_technique_dexmaint" min="0" value="0" />
						<input type="number" name="attr_ki_technique_strmaint" min="0" value="0" />
						<input type="number" name="attr_ki_technique_powmaint" min="0" value="0" />
						<input type="number" name="attr_ki_technique_wpimaint" min="0" value="0" />
					</div>
					<div class="autoex autoex22">
						<textarea name="attr_ki_technique_desc"></textarea>
						<span name="attr_ki_technique_desc"></span>
					</div>
				</div>
				<label>
					<input type="checkbox" name="attr_ki_technique_option" value="1" checked />
					<span></span>
				</label>
			</fieldset>
		</div>
	</div>
</div>

<div class="body tab5">
	<div class="armoryWear">
		<h2 data-i18n="wear-armor">Wear Armor</h2>
		<label>
			<span data-i18n="base-value">Base</span>
			<input type="number" name="attr_weararmor_base" value="0" min="0"/>
		</label>
		<label>
			<span data-i18n="class">Class</span>
			<input type="number" name="attr_weararmor_class" value="@{classe_PA_Sum}" min="0" disabled />
		</label>
		<label>
			<span data-i18n="special-bonus">Spec.</span>
			<input type="number" name="attr_weararmor_special" value="0" />
		</label>
		<label>
			<span data-i18n="temporary-bonus">Temp.</span>
			<input type="number" name="attr_weararmor_temp" value="0" />
		</label>
		<label>
			<span data-i18n="final-value">Final</span>
			<input type="number" name="attr_weararmor_final" value="@{str_mod}+@{weararmor_base}+@{weararmor_special}+@{weararmor_temp}+@{weararmor_class}" disabled />
		</label>
	</div>
	
	<div class="armoryArmor">
		<h2 data-i18n="armor">Armor</h2>
		<div>
			<span data-i18n="name">Name</span>
			<span data-i18n="quality">Quality</span>
			<span data-i18n="presence">Presence</span>
			<span data-i18n="fortitude">Fortitude</span>
			<span data-i18n="requirement">Requirement</span>
		</div>
		<div>
			<input type="text" name="attr_armor1_name" />
			<input type="number" name="attr_armor1_quality" value="0" />
			<div>
				<input type="number" name="attr_armor1_presence_base" value="0" min="0" />
				<input type="number" name="attr_armor1_presence_final" value="@{armor1_presence_base}+(10*@{armor1_quality})" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor1_fort_base" value="0" min="0" />
				<input type="number" name="attr_armor_armor1_fort_final" value="@{armor1_fort_base}+2*@{armor1_quality}" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor1_req_base" value="0" min="0" />
				<input type="number" name="attr_armor1_req_final" value="((@{armor1_req_base}+(-1*@{armor1_quality}))+abs(@{armor1_req_base}+(-1*@{armor1_quality})))/2" disabled />
			</div>
		</div>
		<div>
			<input type="text" name="attr_armor2_name" />
			<input type="number" name="attr_armor2_quality" value="0" />
			<div>
				<input type="number" name="attr_armor2_presence_base" value="0" min="0" />
				<input type="number" name="attr_armor2_presence_final" value="@{armor2_presence_base}+10*@{armor2_quality}" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor2_fort_base" value="0" min="0" />
				<input type="number" name="attr_armor2_fort_final" value="@{armor2_fort_base}+2*@{armor2_quality}" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor2_req_base" value="0" min="0" />
				<input type="number" name="attr_armor2_req_final" value="((@{armor2_req_base}+(-1*@{armor2_quality}))+abs(@{armor2_req_base}+(-1*@{armor2_quality})))/2" disabled />
			</div>
		</div>
		<div>
			<input type="text" name="attr_armor3_name" />
			<input type="number" name="attr_armor3_quality" value="0" />
			<div>
				<input type="number" name="attr_armor3_presence_base" value="0" min="0" />
				<input type="number" name="attr_armor3_presence_final" value="@{armor3_presence_base}+10*@{armor3_quality}" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor3_fort_base" value="0" min="0" />
				<input type="number" name="attr_armor3_fort_final" value="@{armor3_fort_base}+2*@{armor3_quality}" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor3_req_base" value="0" min="0" />
				<input type="number" name="attr_armor3_req_final" value="((@{armor3_req_base}+(-1*@{armor3_quality}))+abs(@{armor3_req_base}+(-1*@{armor3_quality})))/2" disabled />
			</div>
		</div>
		<fieldset class="repeating_armorlayer">
			<input type="text" name="attr_armorlayer_name" />
			<input type="number" name="attr_armor_quality" value="0" />
			<div>
				<input type="number" name="attr_armor_presence_base" value="0" min="0" />
				<input type="number" name="attr_armor_presence_final" value="@{armor_presence_base}+10*@{armor_quality}" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor_fort_base" value="0" min="0" />
				<input type="number" name="attr_armor_fort_final" value="@{armor_fort_base}+2*@{armor_quality}" disabled />
			</div>
			<div>
				<input type="number" name="attr_armor_req_base" value="0" min="0" />
				<input type="number" name="attr_armor_req_final" value="((@{armor_req_base}+(-1*@{armor_quality}))+abs(@{armor_req_base}+(-1*@{armor_quality})))/2" disabled />
			</div>
		</fieldset>		
		
		<div>
			<span data-i18n="name">Name</span>
			<span data-i18n="cut">CUT</span>
			<span data-i18n="impact">IMP</span>
			<span data-i18n="thrust">THR</span>
			<span data-i18n="heat">HEA</span>
			<span data-i18n="cold">COL</span>
			<span data-i18n="electricity">ELE</span>
			<span data-i18n="energy">ENE</span>
		</div>
		<div>
			<input type="text" name="attr_armor1_name" />
			<input type="number" name="attr_at_cut_1" value="0" min="0" />
			<input type="number" name="attr_at_imp_1" value="0" min="0" />
			<input type="number" name="attr_at_thr_1" value="0" min="0" />
			<input type="number" name="attr_at_hea_1" value="0" min="0" />
			<input type="number" name="attr_at_col_1" value="0" min="0" />
			<input type="number" name="attr_at_ele_1" value="0" min="0" />
			<input type="number" name="attr_at_ene_1" value="0" min="0" />
		</div>
		<div>
			<input type="text" name="attr_armor2_name" />
			<input type="number" name="attr_at_cut_2" value="0" min="0" />
			<input type="number" name="attr_at_imp_2" value="0" min="0" />
			<input type="number" name="attr_at_thr_2" value="0" min="0" />
			<input type="number" name="attr_at_hea_2" value="0" min="0" />
			<input type="number" name="attr_at_col_2" value="0" min="0" />
			<input type="number" name="attr_at_ele_2" value="0" min="0" />
			<input type="number" name="attr_at_ene_2" value="0" min="0" />
		</div>
		<div>
			<input type="text" name="attr_armor3_name" />
			<input type="number" name="attr_at_cut_3" value="0" min="0" />
			<input type="number" name="attr_at_imp_3" value="0" min="0" />
			<input type="number" name="attr_at_thr_3" value="0" min="0" />
			<input type="number" name="attr_at_hea_3" value="0" min="0" />
			<input type="number" name="attr_at_col_3" value="0" min="0" />
			<input type="number" name="attr_at_ele_3" value="0" min="0" />
			<input type="number" name="attr_at_ene_3" value="0" min="0" />
		</div>
		<fieldset class="repeating_armorlayer">
			<input type="text" name="attr_armorlayer_name" />
			<input type="number" name="attr_armorlayer_cut" value="0" min="0" />
			<input type="number" name="attr_armorlayer_imp" value="0" min="0" />
			<input type="number" name="attr_armorlayer_thr" value="0" min="0" />
			<input type="number" name="attr_armorlayer_hea" value="0" min="0" />
			<input type="number" name="attr_armorlayer_col" value="0" min="0" />
			<input type="number" name="attr_armorlayer_ele" value="0" min="0" />
			<input type="number" name="attr_armorlayer_ene" value="0" min="0" />
		</fieldset>
		<div>
			<span data-i18n="final-armor-type">Final AT</span>
			<input type="number" name="attr_at_cut_final" value="0" readonly />
			<input type="number" name="attr_at_imp_final" value="0" readonly />
			<input type="number" name="attr_at_thr_final" value="0" readonly />
			<input type="number" name="attr_at_hea_final" value="0" readonly />
			<input type="number" name="attr_at_col_final" value="0" readonly />
			<input type="number" name="attr_at_ele_final" value="0" readonly />
			<input type="number" name="attr_at_ene_final" value="0" readonly />
		</div>
	</div>

	<div class="armoryProficiencies">
		<h2 data-i18n="proficiencies">Proficiencies</h2>
		<div>
			<span data-i18n="proficiency-name">Proficiency name</span>
			<span data-i18n="type"></span>
			<span data-i18n="cost">Cost</span>
		</div>
		<fieldset class="repeating_weaponpoficiencies">
			<input type="text" name="attr_weaponprof_name" />
			<select name="attr_weaponprof_class">
				<option value="0" data-i18n="proficiency-starting">Starting</option>
				<option value="1" data-i18n="proficiency-similar">Similar</option>
				<option value="2" data-i18n="proficiency-mixed-class">Mixed Class</option>
				<option value="3" data-i18n="proficiency-different Type">Different Type</option>
				<option value="4" data-i18n="proficiency-whole-class">Whole Class</option>
				<option value="5" data-i18n="proficiency-archetype">Archetype</option>
				<option value="6" data-i18n="proficiency-style">Style</option>
				<option value="7" data-i18n="proficiency-mystical">Mystical</option>
				<option value="8" data-i18n="proficiency-psychic">Psychic</option>
				<option value="9">- - -</option>
			</select>
			<input type="number" name="attr_weaponprof_cost" min="0" value="0"/>
		</fieldset>
	</div>
	
	<div class="armoryWeapon">
		<h2 data-i18n="attacks">Attacks</h2>
		<fieldset class="repeating_weapons">
			<input type="hidden" name="attr_weapon_option" value="1" />
			<button type="roll" name="roll_weapon" value="@{diceRollWeapon} {{subtitle=@{weapon_name}}} {{attack=[^{attack}](~repeating_weapons_weapon_attack)}} {{breakage=[^{breakage}](~repeating_weapons_weapon_breakage)}} {{block=[^{block}](~repeating_weapons_weapon_block)}} {{dodge=[^{dodge}](~repeating_weapons_weapon_dodge)}} {{quality=[[@{weapon_quality}]]}} {{presence=[[[[@{weapon_finalpresence}]]]]}} {{fortitude=[[[[@{weapon_finalfort}]]]]}} {{dmg=[[[[@{weapon_finaldmg}]]]]}} {{speed=[[[[@{weapon_finalspeed}]]]]}} {{primary=@{weapon_primary}}} {{secondary=@{weapon_secondary}}}">
				<input type="text" name="attr_weapon_name" />
			</button>
			<div class="extend">
				<input type="text" name="attr_weapon_name" />
			</div>
			<label>
				<input type="checkbox" name="attr_weapon_option" value="1" checked />
				<span></span>
			</label>
			
			<div class="extend">
				<div>
					<button type="roll" name="roll_weapon_attack" value="@{diceRollD100} {{subname=^{attack}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{attack_mastery}+[[(@{weapon_complex}-@{attack_mastery})*2]] ]] + 0) + abs([[@{fr}-@{attack_mastery}+[[(@{weapon_complex}-@{attack_mastery})*2]] ]] - 0)) / 2)]]+[[@{weapon_quality}+@{attack_base}+((((@{classe_Att_Sum} + 50) - abs(@{classe_Att_Sum} - 50)) / 2))+@{dex_mod}+@{attack_special}+@{attack_temp}+@{aam}+(@{AMTransDraSceaux}*5)+@{weapon_attackmod}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="attack">Attack</span>
					</button>
					
					<span data-i18n="shield">Shield</span>
					
					<button type="roll" name="roll_weapon_block" value="@{diceRollD100} {{subname=^{block}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{block_mastery}+[[(@{weapon_complex}-@{block_mastery})*2]] ]] + 0) + abs([[@{fr}-@{block_mastery}+[[(@{weapon_complex}-@{block_mastery})*2]] ]] - 0)) / 2)]]+[[@{weapon_quality}+@{weapon_shieldval}+@{block_base}+(((((@{classe_Par_Sum} + 50) - abs(@{classe_Par_Sum} - 50)) / 2)))+@{dex_mod}+@{block_special}+@{block_temp}+@{aam}+(@{AMTransDraSceaux}*5)+@{weapon_blockmod}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="block">Block</span>
					</button>
					
					<button type="roll" name="roll_weapon_dodge" value="@{diceRollD100} {{subname=^{dodge}}} {{result=[[1d100@{ord}cs>[[@{orr}]]cf<[[((([[@{fr}-@{dodge_mastery}]] + 0) + abs([[@{fr}-@{dodge_mastery}]] - 0)) / 2)]]+[[(@{dodge_base}+((((@{classe_Esq_Sum} + 50) - abs(@{classe_Esq_Sum} - 50)) / 2))+@{agi_mod}+@{dodge_special}+@{dodge_temp}+@{aam}+(@{AMTransDraSceaux}*5))+@{weapon_dodgemod}]]+[[(?{@{fatigueTrad} ?|0}*15)]]+?{@{modifiersTrad} ?|0}]]}}">
						<span data-i18n="dodge">Dodge</span>
					</button>
				</div>
				<div>
					<div>
						<input type="number" name="attr_weapon_attackmod" value="0" />
						<input type="number" name="attr_weapon_attack" value="@{weapon_quality}+@{attack_final}+@{weapon_attackmod}" disabled />
					</div>
					
					<select name="attr_weapon_shieldval">
						<option value="0" data-i18n="not-available">N/A</option>
						<option value="10" data-i18n="buckler">Buckler</option>
						<option value="20" data-i18n="shield">Shield</option>
						<option value="30" data-i18n="full-shield">F.Shield</option>
					</select>
					
					<div>
						<input type="number" name="attr_weapon_blockmod" value="0" />
						<input type="number" name="attr_weapon_block" value="@{weapon_quality}+@{weapon_shieldval}+(@{block_final})+@{weapon_blockmod}" disabled />
					</div>
					
					<div>
						<input type="number" name="attr_weapon_dodgemod" value="0" />
						<input type="number" name="attr_weapon_dodge" value="(@{dodge_final})+@{weapon_dodgemod}" disabled />
					</div>
				</div>
				<div>
					<span data-i18n="primary">Primary</span>
					<span data-i18n="secondary">Secondary</span>
					<span data-i18n="damage">Dmg.</span>
					<span data-i18n="final-value">Final</span>
				</div>
				<div>
					<select name="attr_weapon_primary">
						<option value="cut" data-i18n="cut">CUT</option>
						<option value="impact" data-i18n="impact">IMP</option>
						<option value="thrust" data-i18n="thrust">THR</option>
						<option value="heat" data-i18n="heat">HEA</option>
						<option value="cold" data-i18n="cold">COL</option>
						<option value="electricity" data-i18n="electricity">ELE</option>
						<option value="energy" data-i18n="energy">ENE</option>
					</select>
					
					<select name="attr_weapon_secondary">
						<option value="not-available" data-i18n="not-available">N/A</option>
						<option value="cut" data-i18n="cut">CUT</option>
						<option value="impact" data-i18n="impact">IMP</option>
						<option value="thrust" data-i18n="thrust">THR</option>
						<option value="heat" data-i18n="heat">HEA</option>
						<option value="cold" data-i18n="cold">COL</option>
						<option value="electricity" data-i18n="electricity">ELE</option>
						<option value="energy" data-i18n="energy">ENE</option>
					</select>
					
					<div>
						<input type="number" name="attr_weapon_basedmg" value="0" min="0" />
						<span>+</span>
						<select name="attr_weapon_strbonus">
							<option value="(0)" data-i18n="not-available" selected>N/A</option>
							<option value="@{agi_mod}" data-i18n="agility">Agility</option>
							<option value="@{con_mod}" data-i18n="constitution">Constitution</option>
							<option value="@{dex_mod}" data-i18n="dexterity">Dexterity</option>
							<option value="@{str_mod}" data-i18n="strength" selected="true">Strength</option>
							<option value="@{int_mod}" data-i18n="intelligence">Intelligence</option>
							<option value="@{per_mod}" data-i18n="perception">Perception</option>
							<option value="@{pow_mod}" data-i18n="soul-power">Power</option>
							<option value="@{wp_mod}" data-i18n="willpower">Willpower</option>
							<option value="@{pow_mod}+2*@{presence}" data-i18n="2presence+power">2xPresence+Power</option>
							<option value="@{str_mod}+(2*@{target|str_mod})" data-i18n="strength+2target_strength">Str + Target Str x2</option>
							<option value="@{str_mod}+(4*@{target|str_mod})" data-i18n="strength+4target_strength">Str + Target Str x4</option>
							<option value="-30">1 <span data-i18n="strength-short">STR</span></option>
							<option value="-20">2 <span data-i18n="strength-short">STR</span></option>
							<option value="-10">3 <span data-i18n="strength-short">STR</span></option>
							<option value="-5">4 <span data-i18n="strength-short">STR</span></option>
							<option value="0">5 <span data-i18n="strength-short">STR</span></option>
							<option value="5">6-7 <span data-i18n="strength-short">STR</span></option>
							<option value="10">8-9 <span data-i18n="strength-short">STR</span></option>
							<option value="15">10 <span data-i18n="strength-short">STR</span></option>
							<option value="20">11-12 <span data-i18n="strength-short">STR</span></option>
							<option value="25">13-14 <span data-i18n="strength-short">STR</span></option>
							<option value="30">15 <span data-i18n="strength-short">STR</span></option>
							<option value="35">16-17 <span data-i18n="strength-short">STR</span></option>
							<option value="40">18-19 <span data-i18n="strength-short">STR</span></option>
							<option value="45">20 <span data-i18n="strength-short">STR</span></option>
						</select>
						<label class="btn-2h">
							<input type="checkbox" name="attr_weapon_twohanded" value="1"/>
							<span data-i18n-title="two-handed" title="Two-handed"></span>
						</label>
						<span>=</span>
					</div>
					
					<input type="number" name="attr_weapon_finaldmg" value="@{weapon_basedmg}+@{weapon_strbonus}+@{weapon_twohanded}*(@{weapon_strbonus})+2*@{weapon_quality}+@{aura_extension}+@{increased_damage}" disabled />
				</div>
				<div>
					<span data-i18n="fortitude">Fortitude</span>
					<span data-i18n="breakage">Breakage</span>
					<span data-i18n="strength-short">STR</span>
					<button type="roll" name="roll_weapon_breakage" value="@{diceRollD100} {{subname=^{breakage}}} {{result=[[1d10+[[@{weapon_finalbreakage}]]]]}} {{noOR=[[1]]}} {{noFU=[[1]]}}">
						<span data-i18n="final-breakage">Final Breakage</span>
					</button>
				</div>
				<div>
					<div>
						<input type="number" name="attr_weapon_basefort" value="0" min="0"/>
						<input type="number" name="attr_weapon_finalfort" value="2*@{weapon_quality}+@{weapon_basefort}+@{aura_extension}" disabled />
					</div>
					<input type="number" name="attr_weapon_basebreakage" value="0" />
					<span>+</span>
					<select name="attr_weapon_strbreakage">
						<option value="0">1-8</option>
						<option value="1">8-9</option>
						<option value="2">10</option>
						<option value="4">11-12</option>
						<option value="6">13-14</option>
						<option value="8">15+</option>
					</select>
					<span>=</span>
					<input type="number" name="attr_weapon_finalbreakage" value="@{weapon_basebreakage}+@{weapon_strbreakage}+@{weapon_quality}+@{aura_extension}/2" disabled /> 
				</div>
				<div>
					<span data-i18n="quality">Quality</span>
					<span data-i18n="presence">Presence</span>
					<span data-i18n="speed">Speed</span>
				</div>
				<div>
					<input type="number" name="attr_weapon_quality" value="0" />
					<div>
						<input type="number" name="attr_weapon_basepresence" value="0" min="0"/>
						<input type="number" min="0" name="attr_weapon_finalpresence" value="@{weapon_basepresence}+10*@{weapon_quality}" disabled />
					</div>
					<div>
						<input type="number" name="attr_weapon_basespeed" value="0"/>
						<input type="number" name="attr_weapon_finalspeed" value="@{weapon_quality}+@{weapon_basespeed}" disabled />
					</div>
					<label class="btn-mastery">
						<input type="checkbox" name="attr_weapon_complex" value="1"/>
						<span data-i18n-title="complex" title="Complex"></span>
					</label>
				</div>
				<div class="autoex autoex22">
					<textarea name="attr_weapon_properties"></textarea>
					<span name="attr_weapon_properties"></span>
				</div>
			</div>
		</fieldset>
	</div>

	<div class="armoryValuables">
		<h2 data-i18n="valuables">Valuables</h2>
		<div>
			<span data-i18n="amount">Amount</span>
			<span data-i18n="name">Name</span>
		</div>
		<div>
			<input type="hidden" name="attr_copper_option" value="0" />
			<label>
				<input type="number" name="attr_cc_amount" value="0" min="0" />
				<span data-i18n="copper-coins">Copper Coins</span>
			</label>
			<div class="extend">
				<h3 data-i18n="copper-coins">Copper Coins</h3>
				<label>
					<span data-i18n="weight">Weight</span>
					<input type="number" name="attr_cc_weight" value="0.025" step="any" />
				</label>
				<label>
					<span data-i18n="gold-value">GV</span>
					<input type="number" name="attr_cc_gv" min="0" value="0.001" step="any" />
				</label>
			</div>
			<label>
				<input type="checkbox" name="attr_copper_option" value="1" />
				<span></span>
			</label>
		</div>
		<div>
			<input type="hidden" name="attr_silver_option" value="0" />
			<label>
				<input type="number" name="attr_sc_amount" value="0" min="0" />
				<span data-i18n="silver-coins">Silver Coins</span>
			</label>
			<div class="extend">
				<h3 data-i18n="silver-coins">Silver Coins</h3>
				<label>
					<span data-i18n="weight">Weight</span>
					<input type="number" name="attr_sc_weight" value="0.025" step="any" />
				</label>
				<label>
					<span data-i18n="gold-value">GV</span>
					<input type="number" name="attr_sc_gv" min="0" value="0.01" step="any" />
				</label>
			</div>
			<label>
				<input type="checkbox" name="attr_silver_option" value="1" />
				<span></span>
			</label>
		</div>
		<div>
			<input type="hidden" name="attr_gold_option" value="0" />
			<label>
				<input type="number" name="attr_gc_amount" value="0" min="0" />
				<span data-i18n="gold-coins">Gold Coins</span>
			</label>
			<div class="extend">
				<h3 data-i18n="gold-coins">Gold Coins</h3>
				<label>
					<span data-i18n="weight">Weight</span>
					<input type="number" name="attr_gc_weight" value="0.025" step="any" />
				</label>
				<label>
					<span data-i18n="gold-value">GV</span>
					<input type="number" name="attr_gc_gv" min="0" value="1" step="any" />
				</label>
			</div>
			<label>
				<input type="checkbox" name="attr_gold_option" value="1" />
				<span></span>
			</label>
		</div>
		<fieldset class="repeating_valuables">
			<input type="hidden" name="attr_option" value="0" />
			<label>
				<input type="number" name="attr_amount" value="0" min="0" />
				<input type="text" name="attr_name" />
			</label>
			<div class="extend">
				<h3><span name="attr_name"></span></h3>
				<label>
					<span data-i18n="weight">Weight</span>
					<input type="number" name="attr_weight" value="0" step="any" />
				</label>
				<label>
					<span data-i18n="gold-value">GV</span>
					<input type="number" name="attr_gv" min="0" value="0" step="any" />
				</label>
			</div>
			<label>
				<input type="checkbox" name="attr_option" value="1" />
				<span></span>
			</label>
		</fieldset>
	</div>

	<div class="armoryInventory">
		<h2 data-i18n="inventory">Inventory</h2>
		<div>
			<span data-i18n="amount">Amount</span>
			<span data-i18n="name">Name</span>
			<span data-i18n="weight">Weight</span>
		</div>
		<fieldset class="repeating_inventory">
			<input type="number" name="attr_ammount" value="1" />
			<input type="text" name="attr_name" />
			<input type="number" name="attr_weight" value="0" />
			<label>
				<input type="checkbox" name="attr_inventory_option" value="1" />
				<span></span>
			</label>
			<input type="hidden" name="attr_inventory_option" value="0" />
			<div class="extend autoex autoex22">
				<textarea name="attr_description"></textarea>
				<span name="attr_description"></span>
			</div>
		</fieldset>
	</div>
</div>

<div class="body tab6">
	<div class="optionsOpenRollRange">
		<h2 data-i18n="open-roll-range">Open Roll Range</h2>
		<div>
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_or_base" value="90"/>
			</label>
			<label>
				<span data-i18n="special-bonus">Spec.</span>
				<input type="number" name="attr_or_special" value="0"/>
			</label>
			<label>
				<span data-i18n="temporary-bonus">Temp.</span>
				<input type="number" name="attr_or_temp" value="0"/>
			</label>
			<label>
				<span data-i18n="doubles">Doubles</span>
				<select name="attr_ord">
					<option value="" selected="true" data-i18n="no">No</option>
					<option value="cs11cs22cs33cs44cs55cs66cs77cs88cs99" data-i18n="yes">Yes</option>
				</select>
			</label>
		</div>
		<div>
			<label>
				<span data-i18n="final-value">Final</span>
				<input type="number" name="attr_orr" value="@{or_base}+@{or_special}+@{or_temp}" disabled />
			</label>
			<button type="roll" name="roll_open" value="@{diceRollORFU} {{subname=^{open-roll}}} {{result=[[1d100@{ord}cs>[[ ((([[@{orr}+?{@{openRollTrad} ?|1}]] + 100) - abs([[@{orr}+?{@{openRollTrad} ?|1}]] - 100)) / 2) ]]+?{@{lastResultTrad} ?|0}]]}} {{noFU=[[1]]}}"></button>
		</div>
	</div>
	
	<div class="optionsOpenRollRange">
		<h2 data-i18n="fumble-range">Fumble Range</h2>
		<div>
			<label>
				<span data-i18n="base-value">Base</span>
				<input type="number" name="attr_f_base" value="3"/>
			</label>
			<label>
				<span data-i18n="special-bonus">Spec.</span>
				<input type="number" name="attr_f_special" value="0"/>
			</label>
			<label>
				<span data-i18n="temporary-bonus">Temp.</span>
				<input type="number" name="attr_f_temp" value="0"/>
			</label>
		</div>
		<div>
			<label>
				<span data-i18n="final-value">Final</span>
				<input type="number" name="attr_fr" value="@{f_base}+@{f_special}+@{f_temp}" disabled />
			</label>
			<button type="roll" name="roll_fumble" value="@{diceRollORFU} {{subname=^{fumble}}} {{result=[[?{@{modifiersTrad}|0}+?{@{lastResultTrad}|0}-1d100]]}} {{noOR=[[1]]}} {{noFU=[[1]]}}"></button>
		</div>
	</div>
	
	<div class="optionsCharacters">
		<h2 data-i18n="character-options">Chraracter Options</h2>
		<div>
			<label>
				<span data-i18n="whisper-rolls">Whipser Rolls?</span>
				<select name="attr_wtype">
					<option value="" selected="true" data-i18n="never">Never</option>
					<option value="/w gm " data-i18n="always">Always</option>
					<option value="?{Whisper|Public Roll,|Whisper Roll,/w gm } " data-i18n="querry">Querry</option>
				</select>
			</label>
		</div>
		<h3 data-i18n="visible-tabs">Visible Tabs</h3>
		<label class="btn-mastery">
			<input type="checkbox" name="attr_visible-tabs-magic" value="1" checked />
			<span data-i18n-title="tab-magic" title="Magic"></span>
		</label>
		<label class="btn-mastery">
			<input type="checkbox" name="attr_visible-tabs-psychic" value="1" checked />
			<span data-i18n-title="tab-psychic" title="Psychic"></span>
		</label>
		<label class="btn-mastery">
			<input type="checkbox" name="attr_visible-tabs-ki" value="1" checked />
			<span data-i18n-title="tab-ki" title="Ki"></span>
		</label>
		<h3 data-i18n="spell-system">Spell System</h3>
		<label class="btn-mastery">
			<input type="radio" name="attr_spell-system" value="0" checked />
			<span data-i18n-title="new" title="New"></span>
		</label>
		<label class="btn-mastery">
			<input type="radio" name="attr_spell-system" value="1"  />
			<span data-i18n-title="old" title="Old"></span>
		</label>
		<h3 data-i18n="roll-system">Roll System</h3>
		<label class="btn-mastery">
			<input type="radio" name="attr_roll-system" value="" checked />
			<span data-i18n-title="standard" title="Standard"></span>
		</label>
		<label class="btn-mastery">
			<input type="radio" name="attr_roll-system" value="!ABFAPI "  />
			<span data-i18n-title="api" title="API"></span>
		</label>

	</div>

	<div class="optionsInnateBonuses">
		<h2 data-i18n="innate-bonuses">Innate Bonuses</h2>
		<div>
			<span data-i18n="class">Class</span>
			<span data-i18n="level">Level</span>
		</div>
		<fieldset class="repeating_classes">
			<input type="text" name="attr_classe_nom" />
			<input type="number" name="attr_classe_niveau" value="0" />
			<label>
				<input type="checkbox" name="attr_class_option" value="1" checked />
				<span></span>
			</label>
			<input type="hidden" name="attr_class_option" value="1" />
			<div class="extend">
				<label>
					<span data-i18n="life-points-per-level">Life Points/level</span>
					<input type="number" name="attr_classe_PV" value="0" />
				</label>
				<label>
					<span data-i18n="initiative-per-level">Initiative/level</span>
					<input type="number" name="attr_classe_Init" value="0" />
				</label>
				<label>
					<span data-i18n="attack-per-level">Attack/level</span>
					<input type="number" name="attr_classe_Att" value="0" />
				</label>
				<label>
					<span data-i18n="dodge-per-level">Dodge/level</span>
					<input type="number" name="attr_classe_Esq" value="0" />
				</label>
				<label>
					<span data-i18n="block-per-level">Block/level</span>
					<input type="number" name="attr_classe_Par" value="0" />
				</label>
				<label>
					<span data-i18n="wear-armor-per-level">Wear Armor/level</span>
					<input type="number" name="attr_classe_PortArmure" value="0" />
				</label>
				<label>
					<span data-i18n="martial-knowledge-per-level">MK/level</span>
					<input type="number" name="attr_classe_DI" value="0" />
				</label>
				<label>
					<span data-i18n="innate-psychic-points-per-level">PP/level</span>
					<select name="attr_classe_PPP">
						<option value="3" data-i18n="+1-PP/3-level" selected>+1/3 levels</option>
						<option value="2" data-i18n="+1-PP/2-level">+1/2 levels</option>
						<option value="1" data-i18n="+1-PP/1-level">+1/levels</option>
					</select>
				</label>
				<label>
					<span data-i18n="zeon-per-level">Zeon/level</span>
					<input type="number" name="attr_classe_zeon" value="0" />
				</label>
				<h3 data-i18n="summoning-abilities">Summoning Abilities</h3>
				<label>
					<span data-i18n="summon-per-level">Summon/level</span>
					<input type="number" name="attr_classe_summon" value="0" />
				</label>
				<label>
					<span data-i18n="control-per-level">Control/level</span>
					<input type="number" name="attr_classe_control" value="0" />
				</label>
				<label>
					<span data-i18n="bind-per-level">Bind/level</span>
					<input type="number" name="attr_classe_bind" value="0" />
				</label>
				<label>
					<span data-i18n="banish-per-level">Banish/level</span>
					<input type="number" name="attr_classe_banish" value="0" />
				</label>
				<div>
					<h3 data-i18n="secondary-abilities">Secondary Abilities</h3>
					<div>
						<span data-i18n="tab-athletics">Athletics</span>
						<label>
							<input type="checkbox" name="attr_class_athletics_option" value="1" checked />
							<span></span>
						</label>
					</div>
					<input type="hidden" name="attr_class_athletics_option" value="1" />
					<div class="extend" data-i18n-list="list-skill-athletics">
						<label data-i18n-list-item="acrobatics">
							<div>
								<span data-i18n="acrobatics">Acrobatics</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_acro_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="athleticism">
							<div>
								<span data-i18n="athleticism">Athleticism</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_athl_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="climb">
							<div>
								<span data-i18n="climb">Climb</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_clim_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="jump">
							<div>
								<span data-i18n="jump">Jump</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_jump_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="ride">
							<div>
								<span data-i18n="ride">Ride</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_ride_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="swim">
							<div>
								<span data-i18n="swim">Swim</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_swim_innate_bonus" min="0" value="0" />
						</label>
					</div>
				
					<div>
						<span data-i18n="tab-social">Social</span>
						<label>
							<input type="checkbox" name="attr_class_social_option" value="1" checked />
							<span></span>
						</label>
					</div>
					<input type="hidden" name="attr_class_social_option" value="1" />
					<div class="extend" data-i18n-list="list-skill-social">
						<label data-i18n-list-item="etiquette">
							<div>
								<span data-i18n="etiquette">Etiquette</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_etiq_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="intimidate">
							<div>
								<span data-i18n="intimidate">Intimidate</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_inti_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="leadership">
							<div>
								<span data-i18n="leadership">Leadership</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_lead_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="persuasion">
							<div>
								<span data-i18n="persuasion">Persuasion</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_pers_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="streetwise">
							<div>
								<span data-i18n="streetwise">Streetwise</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_stre_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="style">
							<div>
								<span data-i18n="style">Style</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_styl_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="trading">
							<div>
								<span data-i18n="trading">Trading</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_trad_innate_bonus" min="0" value="0" />
						</label>
					</div>
				
					<div>
						<span data-i18n="tab-perceptive">Perceptive</span>
						<label>
							<input type="checkbox" name="attr_class_perceptive_option" value="1" checked />
							<span></span>
						</label>
					</div>
					<input type="hidden" name="attr_class_perceptive_option" value="1" />
					<div class="extend" data-i18n-list="list-skill-perceptive">
						<label data-i18n-list-item="notice">
							<div>
								<span data-i18n="notice">Notice</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_noti_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="search">
							<div>
								<span data-i18n="search">Search</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_sear_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="track">
							<div>
								<span data-i18n="track">Track</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_trac_innate_bonus" min="0" value="0" />
						</label>
					</div>
					
					<div>
						<span data-i18n="tab-intellectual">Intellectual</span>
						<label>
							<input type="checkbox" name="attr_class_intellectual_option" value="1" checked />
							<span></span>
						</label>
					</div>
					<input type="hidden" name="attr_class_intellectual_option" value="1" />
					<div class="extend" data-i18n-list="list-skill-intellectual">
						<label data-i18n-list-item="animals">
							<div>
								<span data-i18n="animals">Animals</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_anim_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="appraisal">
							<div>
								<span data-i18n="appraisal">Appraisal</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_appr_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="architecture">
							<div>
								<span data-i18n="architecture">Architecture</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_arch_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="herbal lore">
							<div>
								<span data-i18n="herbal-lore">Herbal Lore</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_herb_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="history">
							<div>
								<span data-i18n="history">History</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_hist_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="law">
							<div>
								<span data-i18n="law">Law</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_law_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="magic appraisal">
							<div>
								<span data-i18n="magic-appraisal">Magic Appr.</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_mapp_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="medicine">
							<div>
								<span data-i18n="medicine">Medicine</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_medi_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="memorize">
							<div>
								<span data-i18n="memorize">Memorize</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_memo_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="navigation">
							<div>
								<span data-i18n="navigation">Navigation</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_navi_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="occult">
							<div>
								<span data-i18n="occult">Occult</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_occu_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="sciences">
							<div>
								<span data-i18n="sciences">Sciences</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_scie_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="tactics">
							<div>
								<span data-i18n="tactics">Tactics</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_tact_innate_bonus" min="0" value="0" />
						</label>
					</div>
				
					<div>
						<span data-i18n="tab-vigor">Vigor</span>
						<label>
							<input type="checkbox" name="attr_class_vigor_option" value="1" checked />
							<span></span>
						</label>
					</div>
					<input type="hidden" name="attr_class_vigor_option" value="1" />
					<div class="extend" data-i18n-list="list-skill-vigor">
						<label data-i18n-list-item="composure">
							<div>
								<span data-i18n="composure">Composure</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_comp_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="feats of strength">
							<div>
								<span data-i18n="feats-of-strength">Feats of Str.</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_feat_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="withstand pain">
							<div>
								<span data-i18n="withstand-pain">Withst. Pain</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_with_innate_bonus" min="0" value="0" />
						</label>
					</div>
					
					<div>
						<span data-i18n="tab-subterfuge">Subterfuge</span>
						<label>
							<input type="checkbox" name="attr_class_subterfuge_option" value="1" checked />
							<span></span>
						</label>
					</div>
					<input type="hidden" name="attr_class_subterfuge_option" value="1" />
					<div class="extend" data-i18n-list="list-skill-subterfuge">
						<label data-i18n-list-item="disguise">
							<div>
								<span data-i18n="disguise">Disguise</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_disg_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="hide">
							<div>
								<span data-i18n="hide">Hide</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_hide_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="lockpicking">
							<div>
								<span data-i18n="lockpicking">Lockpicking</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_lock_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="poisons">
							<div>
								<span data-i18n="poisons">Poisons</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_pois_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="stealth">
							<div>
								<span data-i18n="stealth">Stealth</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_stea_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="theft">
							<div>
								<span data-i18n="theft">Theft</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_thef_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="trap lore">
							<div>
								<span data-i18n="trap-lore">Trap Lore</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_trap_innate_bonus" min="0" value="0" />
						</label>
					</div>

					<div>
						<span data-i18n="tab-creative">Creative</span>
						<label>
							<input type="checkbox" name="attr_class_creative_option" value="1" checked />
							<span></span>
						</label>
					</div>
					<input type="hidden" name="attr_class_creative_option" value="1" />
					<div class="extend" data-i18n-list="list-skill-creative">
						<label data-i18n-list-item="alchemy">
							<div>
								<span data-i18n="alchemy">Alchemy</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_alchemy_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="animism">
							<div>
								<span data-i18n="animism">Animism</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_animisme_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="art">
							<div>
								<span data-i18n="art">Art</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_art_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="dance">
							<div>
								<span data-i18n="dance">Dance</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_danc_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="forging">
							<div>
								<span data-i18n="forging">Forging</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_forg_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="jewelry">
							<div>
								<span data-i18n="jewelry">Jewelry</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_jewe_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="music">
							<div>
								<span data-i18n="music">Music</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_musi_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="rune">
							<div>
								<span data-i18n="rune">Runes</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_rune_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="ritual calligraphy">
							<div>
								<span data-i18n="ritual-calligraphy">Ritual Calligraphy</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_ritc_innate_bonus" min="0" value="0" />
						</label>
						<label data-i18n-list-item="slight of hand">
							<div>
								<span data-i18n="slight-of-hand">Sl. of Hand</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_slig_innate_bonus" min="0" value="0" />
						</label>
						
						<label data-i18n-list-item="tailoring">
							<div>
								<span data-i18n="tailoring">Tailoring</span><span>/</span><span data-i18n="level">Level</span>
							</div>
							<input type="number" name="attr_tail_innate_bonus" min="0" value="0" />
						</label>
					</div>
				</div>
			</div>
			
			<input type="hidden" name="attr_classe_PV_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Att_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Init_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Par_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_DI_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Esq_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_PPP_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_PA_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Zeon_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_Summon_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Control_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Bind_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_Banish_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_acro_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_athl_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_clim_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_jump_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_ride_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_swim_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_etiq_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_inti_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_lead_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_pers_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_stre_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_styl_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_trad_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_noti_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_sear_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_trac_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_anim_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_appr_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_arch_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_herb_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_hist_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_law_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_mapp_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_medi_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_memo_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_navi_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_occu_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_scie_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_tact_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_comp_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_feat_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_with_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_disg_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_hide_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_lock_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_pois_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_stea_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_thef_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_trap_Total" value="0" readonly />
			
			<input type="hidden" name="attr_classe_alchemy_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_animisme_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_art_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_danc_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_forg_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_jewe_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_musi_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_rune_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_ritc_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_slig_Total" value="0" readonly />
			<input type="hidden" name="attr_classe_tail_Total" value="0" readonly />
		</fieldset>
		
		<input type="hidden" name="attr_classe_Lvl_Sum" value="1" readonly />
		<input type="hidden" name="attr_classe_Att_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_Esq_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_Par_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_PA_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_PV_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_Init_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_DI_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_PPP_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_Zeon_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_Summon_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_Control_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_Bind_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_Banish_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_acro_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_athl_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_clim_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_jump_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_ride_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_swim_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_etiq_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_inti_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_lead_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_pers_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_stre_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_styl_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_trad_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_noti_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_sear_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_trac_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_anim_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_appr_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_arch_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_herb_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_hist_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_law_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_mapp_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_medi_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_memo_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_navi_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_occu_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_scie_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_tact_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_comp_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_feat_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_with_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_disg_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_hide_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_lock_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_pois_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_stea_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_thef_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_trap_Sum" value="0" readonly />
		
		<input type="hidden" name="attr_classe_alchemy_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_animisme_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_art_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_danc_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_forg_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_jewel_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_musi_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_rune_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_ritc_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_slig_Sum" value="0" readonly />
		<input type="hidden" name="attr_classe_tail_Sum" value="0" readonly />
	</div>
</div>

<div class="body tab7">
	<div class="langue">
		<h2 data-i18n="language">Language</h2>
		<fieldset class="repeating_langues">
			<input type="text" name="attr_langue_name" />
		</fieldset>
	</div>
	
	<div class="reput">
			<h2 data-i18n="fame">Fame</h2>
			<div>
				<input type="text" name="attr_recognition" value="Unknown" readonly />
			</div>
			<div>
				<label>
					<span data-i18n="fame">Fame</span><span>:</span>
					<input type="number" name="attr_fameTotal" value="0" readonly />
				</label>
				
				<label>
					<span data-i18n="difficulty">Difficulty</span><span>:</span>
					<input type="text" name="attr_fameDifficulty" value="0" readonly />
				</label>
			</div>
			<label>
				<span data-i18n="bravery">Bravery</span>
				<input type="number" name="attr_fameBravery" value="0" />
			</label>
			<label>
				<span data-i18n="cowardice">Cowardice</span>
				<input type="number" name="attr_fameCowardice" value="0" />
			</label>
			<label>
				<span data-i18n="honor">Honor</span>
				<input type="number" name="attr_fameHonor" value="0" />
			</label>
			<label>
				<span data-i18n="infamy">Infamy</span>
				<input type="number" name="attr_fameInfamy" value="0" />
			</label>
			<label>
				<span data-i18n="talent">Talent</span>
				<input type="number" name="attr_fameTalent" value="0" />
			</label>
		</div>
	
	<div class="natura">
		<h2 data-i18n="natura">Natura</h2>
		<label>
			<span data-i18n="gnosis">Gnose</span>
			<input type="number" name="attr_gnosis" value="0" />
		</label>
		<label>
			<span data-i18n="race-natura">Race Natura</span>
			<input type="number" name="attr_raceNatura" value="0" />
		</label>
		<label>
			<span data-i18n="total-natura">Natura Total</span>
			<input type="number" name="attr_totalNatura" value="@{gnosis}-@{raceNatura}" disabled />
		</label>
		<label>
			<span data-i18n="destiny-points">Destiny Points</span>
			<input type="number" name="attr_dp" value="0" />
		</label>
		<textarea name="attr_natura_special" data-i18n-placeholder="special-bonus" placeholder="Spec."></textarea>
	</div>

	<div class="elan">
		<h2 data-i18n="elan">Elan</h2>
		<div>
			<label>
				<input type="text" name="attr_elanName1" />
				<span data-i18n="name">Name</span>
			</label>
			<label>
				<input type="number" name="attr_elan1" value="0" />
				<span data-i18n="elan">Elan</span>
			</label>
		</div>
		<div>
			<span data-i18n="gifts">Gifts</span>
			<span data-i18n="cost">Cost</span>
		</div>
		<fieldset class="repeating_elan1">
			<input type="text" name="attr_giftElan1" />
			<input type="number" name="attr_costGiftElan1" value="0" />
			<label>
				<input type="checkbox" name="attr_elan1_option" value="1" checked />
				<span></span>
			</label>
			<input type="hidden" name="attr_elan1_option" value="1" />
			<div class="extend autoex autoex22">
				<textarea name="attr_elan1Description"></textarea>
				<span name="attr_elan1Description"></span>
			</div>
		</fieldset>
	</div>
	
	<div class="elan">
		<h2 data-i18n="elan">Elan</h2>
		<div>
			<label>
				<input type="text" name="attr_elanName2" />
				<span data-i18n="name">Name</span>
			</label>
			<label>
				<input type="number" name="attr_elan2" value="0" />
				<span data-i18n="elan">Elan</span>
			</label>
		</div>
		<div>
			<span data-i18n="gifts">Gifts</span>
			<span data-i18n="cost">Cost</span>
		</div>
		<fieldset class="repeating_elan2">
			<input type="text" name="attr_giftElan2" />
			<input type="number" name="attr_costGiftElan2" value="0" />
			<label>
				<input type="checkbox" name="attr_elan2_option" value="1" checked />
				<span></span>
			</label>
			<input type="hidden" name="attr_elan2_option" value="1" />
			<div class="extend autoex autoex22">
				<textarea name="attr_elan2Description"></textarea>
				<span name="attr_elan1Description"></span>
			</div>
		</fieldset>
	</div>
	
	<div class="elan">
		<h2 data-i18n="elan">Elan</h2>
		<div>
			<label>
				<input type="text" name="attr_elanName3" />
				<span data-i18n="name">Name</span>
			</label>
			<label>
				<input type="number" name="attr_elan3" value="0" />
				<span data-i18n="elan">Elan</span>
			</label>
		</div>
		<div>
			<span data-i18n="gifts">Gifts</span>
			<span data-i18n="cost">Cost</span>
		</div>
		<fieldset class="repeating_elan3">
			<input type="text" name="attr_giftElan3" />
			<input type="number" name="attr_costGiftElan3" value="0" />
			<label>
				<input type="checkbox" name="attr_elan3_option" value="1" checked />
				<span></span>
			</label>
			<input type="hidden" name="attr_elan3_option" value="1" />
			<div class="extend autoex autoex22">
				<textarea name="attr_elan3Description"></textarea>
				<span name="attr_elan3Description"></span>
			</div>
		</fieldset>
	</div>

	<div class="note">
		<h2 data-i18n="note">Note</h2>
		<fieldset class="repeating_note1">
			<div class="autoex autoex40">
				<textarea name="attr_notes"></textarea>
				<span name="attr_notes"></span>
			</div>
		</fieldset>
	</div>
	
	<div class="note">
		<h2 data-i18n="note">Note</h2>
		<fieldset class="repeating_note2">
			<div class="autoex autoex40">
				<textarea name="attr_notes"></textarea>
				<span name="attr_notes"></span>
			</div>
		</fieldset>
	</div>
</div>

<rolltemplate class="sheet-rolltemplate-ABFCharac">
	<h3>{{name}}</h3>
	<label>
		<span>{{subname}}</span>
		{{#^rollWasCrit() result}}
			<span>{{result}}</span>
		{{/^rollWasCrit() result}}
		{{#rollWasCrit() result}}
			<span class="crit">{{resultCrit}}</span>
		{{/rollWasCrit() result}}
	</label>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ABFBase">
	<h3>{{name}}</h3>
	{{#subtitle}}
		<h4>{{subtitle}}</h4>
	{{/subtitle}}
	{{#seals}}
		<div class="seals">
			<label>
				<span data-i18n="required-seals">Required Seals</span>
				<span>{{seals}}</span>
			</label>
			{{#diff}}
				<label class="diff">
					<span data-i18n="difficulty">Difficulty</span>
					<span>{{diff}}</span>
				</label>
			{{/diff}}
		</div>
	{{/seals}}
	<label>
		<span>{{subname}}</span>
		<span>{{result}}</span>
	</label>
	{{#rphy}}
		<label>
			<span data-i18n="physical-resistance-short">RPhy</span>
			<span>{{rphy}}</span>
		</label>
	{{/rphy}}
	{{#loc}}
		<div>
			{{loc}}
		</div>
	{{/loc}}
	{{^noOR}}
		{{#rollWasCrit() result}}
			<div>{{critique}}</div>
		{{/rollWasCrit() result}}
	{{/noOR}}
	
	{{^noFU}}
		{{#rollWasFumble() result}}
			<div>{{fumble}}</div>
		{{/rollWasFumble() result}}
	{{/noFU}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ABFSpell">
	<h3>{{name}}</h3>
	{{#subtitle}}
		<h4>{{subtitle}}</h4>
	{{/subtitle}}
	<div>
		<label>
			<span data-i18n="level">Level</span>
			<span>{{level}}</span>
		</label>
		<label>
			<span data-i18n="action">Action</span>
			<span>{{action}}</span>
		</label>
		<label>
			<span data-i18n="type">Type</span>
			<span>{{type}}</span>
		</label>
		<label>
			<span data-i18n="maintanance">Maint.</span>
			<span>{{maintenance}}</span>
		</label>
	</div>
	<div>{{description}}</div>
	<div>
		{{projection}}
	</div>
	{{#rollTotal() system 1}}
		<label>
			<span data-i18n="base-zeon">Base Zeon</span>
			<span>{{zeon}}</span>
		</label>
		<label>
			<span data-i18n="maximum-zeon">Max. Zeon</span>
			<span>{{zeon-max}}</span>
		</label>
		{{cast-spell}}
	{{/rollTotal() system 1}}
	{{#rollTotal() system 0}}
		<div>
			<h4>{{basic}}</h4>
			<label>
				<span data-i18n="requirement-short">Req.</span>
				<span>{{basic_req}}</span>
			</label>
			<label>
				<span data-i18n="zeon">Zeon</span>
				<span>{{basic_zeon}}</span>
			</label>
			<label>
				<span data-i18n="maintanance">Ma.</</span>
				<span>{{basic_maint}}</span>
			</label>
			<span>{{basic_desc}}</span>
		</div>
		<div>
			<h4>{{inter}}</h4>
			<label>
				<span data-i18n="requirement-short">Req.</span>
				<span>{{inter_req}}</span>
			</label>
			<label>
				<span data-i18n="zeon">Zeon</span>
				<span>{{inter_zeon}}</span>
			</label>
			<label>
				<span data-i18n="maintanance">Maint.</</span>
				<span>{{inter_maint}}</span>
			</label>
			<span>{{inter_desc}}</span>
		</div>
		<div>
			<h4>{{advan}}</h4>
			<label>
				<span data-i18n="requirement-short">Req.</span>
				<span>{{advan_req}}</span>
			</label>
			<label>
				<span data-i18n="zeon">Zeon</span>
				<span>{{advan_zeon}}</span>
			</label>
			<label>
				<span data-i18n="maintanance">Ma.</</span>
				<span>{{advan_maint}}</span>
			</label>
			<span>{{advan_desc}}</span>
		</div>
		<div>
			<h4>{{arcane}}</h4>
			<label>
				<span data-i18n="requirement-short">Req.</span>
				<span>{{arcane_req}}</span>
			</label>
			<label>
				<span data-i18n="zeon">Zeon</span>
				<span>{{arcane_zeon}}</span>
			</label>
			<label>
				<span data-i18n="maintanance">Ma.</</span>
				<span>{{arcane_maint}}</span>
			</label>
			<span>{{arcane_desc}}</span>
		</div>
	{{/rollTotal() system 0}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ABFSpellCast">
	<h3>{{name}}</h3>
	{{#subtitle}}
		<h4>{{subtitle}}
			{{#rollTotal() system 0}}
				({{power}})
			{{/rollTotal() system 0}}
		</h4>
	{{/subtitle}}
	{{#rollTotal() system 1}}
		<label>
			<span>{{addef1_name}}</span>
			<span>{{addef1_roll}}</span>
		</label>
		<label>
			<span>{{addef2_name}}</span>
			<span>{{addef2_roll}}</span>
		</label>
		<label>
			<span>{{addef3_name}}</span>
			<span>{{addef3_roll}}</span>
		</label>
		<label>
			<span>{{addef4_name}}</span>
			<span>{{addef4_roll}}</span>
		</label>
		<div>
			<span>Zeon</span>
			<span>{{zeon}}</span>
		</div>
	{{/rollTotal() system 1}}
	{{#rollTotal() system 0}}
		{{#rollTotal() rollas 1}}
			<div class="rollas">
				<label>
					<span data-i18n="roll">Roll</span>
					<span>{{roll}}</span>
				</label>
				<label>
					<span data-i18n="roll-as">As</span>
					<span>{{as}}</span>
				</label>
			</div>
		{{/rollTotal() rollas 1}}
		<div>
			<label>
				<span data-i18n="requirement-short">Req.</span>
				<span>{{req}}</span>
			</label>
			<label>
				<span data-i18n="zeon">Zeon</span>
				<span>{{zeon}}</span>
			</label>
			<label>
				<span data-i18n="maintanance">Ma.</</span>
				<span>{{maint}}</span>
			</label>
			<div>{{desc}}</div>
		</div>
	{{/rollTotal() system 0}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ABFPsi">
	<h3>{{name}}</h3>
	{{#subtitle}}
		<h4>{{subtitle}}</h4>
	{{/subtitle}}
	<span>{{description}}</span>
	<div>
		<span data-i18n="difficulty">Difficulty</span>
		<span data-i18n="effect">Effect</span>
	</div>
	{{#diff20}}
		<div>
			<span>20</span>
			<span>{{diff20}}</span>
		</div>
	{{/diff20}}
	{{#diff40}}
		<div>
			<span>40</span>
			<span>{{diff40}}</span>
		</div>
	{{/diff40}}
	{{#diff80}}
		<div>
			<span>80</span>
			<span>{{diff80}}</span>
		</div>
	{{/diff80}}
	{{#diff120}}
		<div>
			<span>120</span>
			<span>{{diff120}}</span>
		</div>
	{{/diff120}}
	{{#diff140}}
		<div>
			<span>140</span>
			<span>{{diff140}}</span>
		</div>
	{{/diff140}}
	{{#diff180}}
		<div>
			<span>180</span>
			<span>{{diff180}}</span>
		</div>
	{{/diff180}}
	{{#diff240}}
		<div>
			<span>240</span>
			<span>{{diff240}}</span>
		</div>
	{{/diff240}}
	{{#diff280}}
		<div>
			<span>280</span>
			<span>{{diff280}}</span>
		</div>
	{{/diff280}}
	{{#diff320}}
		<div>
			<span>320</span>
			<span>{{diff320}}</span>
		</div>
	{{/diff320}}
	{{#diff340}}
		<div>
			<span>340</span>
			<span>{{diff340}}</span>
		</div>
	{{/diff340}}
	{{potential}}
	<div>
		<span data-i18n="bonus">Bonus</span>
		<span>{{bonus}}</span>
	</div>
	{{projection}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ABFKi">
	<h3>{{name}}</h3>
	{{#subtitle}}
		<h4>{{subtitle}}</h4>
	{{/subtitle}}
	<div>
		<label>
			<span data-i18n="action-frequency">Frequency</span> : 
			{{#rollTotal() frequency 0}}
				<span data-i18n="action">Action</span>
			{{/rollTotal() frequency 0}}
			{{#rollTotal() frequency 1}}
				<span data-i18n="turn">Turn</span>
			{{/rollTotal() frequency 1}}
			{{#rollTotal() frequency 2}}
				<span data-i18n="variable">Variable</span>
			{{/rollTotal() frequency 2}}
		</label>
		
		<label>
			<span data-i18n="related-action">Related Action</span>:
			{{#rollTotal() action 0}}
				<span data-i18n="attack">Attack</span>
			{{/rollTotal() action 0}}
			{{#rollTotal() action 1}}
				<span data-i18n="defense">Defense</span>
			{{/rollTotal() action 1}}
			{{#rollTotal() action 2}}
				<span data-i18n="counterattack">Counterattack</span>
			{{/rollTotal() action 2}}
			{{#rollTotal() action 3}}
				<span data-i18n="variable">Variable</span>
			{{/rollTotal() action 3}}
		</label>
	</div>
	{{#rollGreater() agi 0}}
		<div>
			<span data-i18n="agility-short">AGI</span>
			<span>{{agi}}</span>
			<span>{{agiM}}</span>
		</div>
	{{/rollGreater() agi 0}}
	
	{{#rollGreater() con 0}}
		<div>
			<span data-i18n="constitution-short">CON</span>
			<span>{{con}}</span>
			<span>{{conM}}</span>
		</div>
	{{/rollGreater() con 0}}
	
	{{#rollGreater() dex 0}}
		<div>
			<span data-i18n="dexterity-short">DEX</span>
			<span>{{dex}}</span>
			<span>{{dexM}}</span>
		</div>
		{{/rollGreater() dex 0}}
	
	{{#rollGreater() str 0}}
		<div>
			<span data-i18n="strength-short">STR</span>
			<span>{{str}}</span>
			<span>{{strM}}</span>
		</div>
	{{/rollGreater() str 0}}
	
	{{#rollGreater() pow 0}}
		<div>
			<span data-i18n="soul-power-short">POW</span>
			<span>{{pow}}</span>
			<span>{{powM}}</span>
		</div>
	{{/rollGreater() pow 0}}
	
	{{#rollGreater() wp 0}}
		<div>
			<span data-i18n="willpower-short">WP</span>
			<span>{{wp}}</span>
			<span>{{wpM}}</span>
		</div>
	{{/rollGreater() wp 0}}
	<div>
		{{description}}
	</div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-ABFWeapon">
	<h3>{{name}}</h3>
	{{#subtitle}}
		<h4>{{subtitle}}</h4>
	{{/subtitle}}
	<div>
		<label>
			<span data-i18n="quality">Quality</span><span>:</span>
			<span>{{quality}}</span>
		</label>
		<label>
			<span data-i18n="presence">Presence</span><span>:</span>
			<span>{{presence}}</span>
		</label>
	</div>
	<div>
		<label>
			<span data-i18n="fortitude">Fortitude</span><span>:</span>
			<span>{{fortitude}}</span>
		</label>
		{{breakage}}
	</div>
	<div>
		<label>
			<span data-i18n="primary">Primary</span><span>:</span>
			<span data-i18n-dynamic>{{primary}}</span>
		</label>
		<label>
			<span data-i18n="damage">Damage</span><span>:</span>
			<span>{{dmg}}</span>
		</label>
		<label>
			<span data-i18n="secondary">Secondary</span><span>:</span>
			<span data-i18n-dynamic>{{secondary}}</span>
		</label>
		<label>
			<span data-i18n="speed">Speed</span><span>:</span>
			<span>{{speed}}</span>
		</label>
	</div>
	{{attack}}
	{{block}}
	{{dodge}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-APICompare">
	<h3>{{name}}</h3>
	{{#subtitle}}
		<h4>{{subtitle}}</h4>
	{{/subtitle}}
	<label>
		<span data-i18n="margin">Margin</span>
		<span>{{marge}}</span>
	</label>
	<label>
		<span data-i18n="final-armor-type">Final AT</span>
		<span>{{IP}}</span>
	</label>
	{{#dmg}}
		<label>
			<span data-i18n="damage"></span>
			<span>{{dmg}}</span>
		</label>
	{{/dmg}}
	{{#contreA}}
		<label>
			<span data-i18n="counterattack">Counterattack</span>
			<span>{{contreA}}</span>
		</label>
	{{/contreA}}
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-APIList">
	{{#allprops()}}
		<label>
			<span>{{key}}</span>
			<span>{{value}}</span>
		</label>
    {{/allprops()}}
</rolltemplate>

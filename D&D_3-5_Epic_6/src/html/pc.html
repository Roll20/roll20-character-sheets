<div class="flex-row pc-core">
    <div class="flex-column gap-2 w-4">
        <div class="flex-row gap-3 align-stretch">
            <!-- ATTRIBUTES !-->
            <!--=include ../../generated/characteristics.html-->
            <!-- JDS & Compétences !-->
            <div class="flex-column gap-2 w-9">
                <div class="saves frame-ct">
                    <h4 class="top-title"><span data-i18n="saves.title">Jets de sauvegardes</span></h4>
                    <div class="flex-row save">
                        <label class="label w-3"><span data-i18n="common.total">Total</span></label>
                        <label class="label w-6"></label>
                    </div>
                    <div class="flex-row save">
                        <input type="hidden" name="attr_ref_base">
                        <input type="hidden" class="input w-3" name="attr_ref_modified">
                        <input type="number" class="input w-3" name="attr_ref_total" readonly>
                        <input type="hidden" name="attr_ref_roll_value"
                               value="&{template:main} {{titre=Test de Réflexes}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{dex_mod}+@{ref_base}+@{ref_mod}]]}}">
                        <button type="roll" name="attr_ref_roll" value="@{ref_roll_value}"
                                class="button-label bold w-6"><span data-i18n="saves.reflex">Réflexes</span>
                        </button>
                    </div>
                    <div class="flex-row save">
                        <input type="hidden" name="attr_vig_base">
                        <input type="hidden" class="input w-3" name="attr_vig_modified">
                        <input type="hidden" class="input w-3" name="attr_vig_rollvalue">
                        <input type="number" class="input w-3" name="attr_vig_total" readonly>
                        <input type="hidden" name="attr_vig_roll_value"
                               value="&{template:main} {{titre=Test de Vigueur}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{con_mod}+@{vig_base}+@{vig_mod}]]}}">
                        <button type="roll" name="attr_vig_roll" value="@{vig_roll_value}"
                                class="button-label bold w-6"><span data-i18n="saves.fortitude">Vigueur</span>
                        </button>
                    </div>
                    <div class="flex-row save">
                        <input type="hidden" name="attr_vol_base">
                        <input type="hidden" class="input w-3" name="attr_vol_modified">
                        <input type="hidden" class="input w-3" name="attr_vol_rollvalue">
                        <input type="number" class="input w-3" name="attr_vol_total" readonly>
                        <input type="hidden" name="attr_vol_roll_value"
                               value="&{template:main} {{titre=Test de Volonté}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{sag_mod}+@{vol_base}+@{vol_mod}]]}}">
                        <button type="roll" name="attr_vol_roll" value="@{vol_roll_value}"
                                class="button-label bold w-6"><span data-i18n="saves.willpower">Volonté</span>
                        </button>
                    </div>
                </div>
                <div class="skills frame-cm">
                    <!--=include components/skills.html-->
                </div>
            </div>
        </div>
        <div class="flex-column">
            <!-- Autres Maitrises !-->
            <div class="flex-column masteries frame-cm">
                <h4 class="top-title"><span data-i18n="masteries.title">Maitrises</span></h4>
                <div class="flex-row">
                    <label class="label text-center w-4"><span data-i18n="masteries.type">Type</span></label>
                    <label class="label text-left w-7"><span data-i18n="masteries.description">Description</span></label>
                    <span class="picto invisible w-1"></span>
                </div>
                <fieldset class="repeating_masteries">
                    <div class="flex-row">
                        <input type="text" class="visible-input text-center w-4"
                               name="attr_mastery-type">
                        <input type="text" class="visible-input w-7" name="attr_mastery-desc">
                        <input type="hidden" name="attr_masteryrollvalue"
                               value="&{template:main} {{titre=^{rolltemplate.mastery} (@{mastery-type})}} {{subtitle=@{character_name} }} {{description=@{mastery-desc}}}">
                        <button name="attr_skillroll" type="roll" value="@{masteryrollvalue}"
                                class="button-roll picto w-1">w
                        </button>
                    </div>
                </fieldset>
            </div>
            <!-- Armures -->
            <div class="flex-column masteries frame-cb">
                <div class="armor flex-column">
                    <input class="options-flag" type="checkbox" name="attr_armor_options-flag"
                           checked><span>y</span>
                    <label class="w-12 label">
                        <span class="bold"><span class="bold" data-i18n="defenses.armor">Armure</span> :</span> <span name="attr_armor_name"></span>&nbsp;
                    </label>
                    <div class="flex-column options-options">
                        <div class="flex-row align-center">
                            <label class="label text-right w-3"><span data-i18n="defenses.name">Nom</span> :</label>
                            <input type="text" class="visible-input w-9 " name="attr_armor_name">
                        </div>
                        <label class="label text-left w-12"><span data-i18n="defenses.properties">Caractéristiques</span> :</label>
                        <div class="flex-row gap05">
                            <div class="flex-column w-3">
                                <input type="number" class="visible-input w-12" name="attr_armor_bonus">
                                <label class="label text-center"><span data-i18n="defenses.bonus">Bonus</span></label>
                            </div>
                            <div class="flex-column w-3">
                                <input type="number" class="visible-input w-12" name="attr_armor_max_dex">
                                <label class="label text-center"><span data-i18n="defenses.maximum.dexterity">Dex Max</span></label>
                            </div>
                            <div class="flex-column w-3">
                                <input type="number" class="visible-input w-12" name="attr_armor_malus">
                                <label class="label text-center"><span data-i18n="defenses.malus">Malus</span></label>
                            </div>
                            <div class="flex-column w-4 justify-end">
                                <input type="checkbox" class="visible-input w-12" name="attr_armor_equipe">
                                <label class="label text-center"><span data-i18n="defenses.equiped">Équipé?</span></label>
                            </div>
                        </div>
                        <label class="label text-left w-3"><span data-i18n="common.notes">Notes</span> :</label>
                        <input type="text" class="visible-input w-12 " name="attr_armor_notes">
                    </div>
                </div>
                <div class="armor flex-column">
                    <input class="options-flag" type="checkbox" name="attr_shield_options-flag"
                           checked><span>y</span>
                    <label class="w-12 label">
                        <span class="bold"><span class="bold" data-i18n="defenses.shield">Bouclier </span>:</span> <span name="attr_shield_name"></span>&nbsp;
                    </label>
                    <div class="flex-column options-options">
                        <div class="flex-row">
                            <label class="label text-right w-3"><span data-i18n="defenses.name">Nom</span> :</label>
                            <input type="text" class="visible-input w-9 " name="attr_shield_name">
                        </div>
                        <div class="flex-row gap05">
                            <div class="flex-column w-4">
                                <input type="number" class="visible-input w-12" name="attr_shield_bonus">
                                <label class="label text-center"><span data-i18n="defenses.bonus">Bonus</span></label>
                            </div>
                            <div class="flex-column w-4">
                                <input type="number" class="visible-input w-12" name="attr_shield_malus">
                                <label class="label text-center"><span data-i18n="defenses.malus">Malus</span></label>
                            </div>
                            <div class="flex-column w-4 justify-end">
                                <input type="checkbox" class="visible-input w-12" name="attr_shield_equipe">
                                <label class="label text-center"><span data-i18n="defenses.equiped">Équipé?</span></label>
                            </div>
                        </div>
                    </div>
                </div>
                <h4 class="bottom-title"><span data-i18n="defenses.title">Armure</span></h4>
            </div>
        </div>
    </div>
    <div class="flex-column w-4">
        <div class="flex-column gray-bg-b">
            <!-- AC Récapitulatif !-->
            <div class="flex-row AC-Recap">
                <div class="w-3 AC">
                    <input type="number" class="input" name="attr_ac_tot" readonly>
                    <label class="label"><span data-i18n="defenses.ac">Classe d'armure</span></label>
                </div>
                <div class="w-3 AC">
                    <input type="number" class="input" name="attr_ac_tot_ff" readonly>
                    <label class="label"><span data-i18n="defenses.ac.flatfooted">Pris au Dépourvu</label>
                </div>
                <div class="w-3 AC">
                    <input type="number" class="input" name="attr_ac_tot_t" readonly>
                    <label class="label"><span data-i18n="defenses.ac.touch">CA de<br>contact</span></label>
                </div>
            </div>
            <!-- Init Rd Vitesse  !-->
            <div class="flex-row stats">
                <div class="w-4 stat">
                    <input type="hidden" name="attr_init_modified" value="false">
                    <input type="number" class="input" name="attr_init_tot" step="0.01" readonly>
                    <input type="hidden" name="attr_init_rol_value"
                           value="&{template:main} {{titre=^{stats.initiative} }} {{subtitle=@{character_name}}} {{Jet=[[1D20+@{init_tot} &{tracker}]]}}">
                    <button name="attr_init_roll" type="roll" value="@{init_rol_value}"
                            class="button-label bold text-center">
                        <span data-i18n="stats.initiative">Initiative</span>
                    </button>
                </div>
                <div class="w-4 stat">
                    <input type="number" class="input" name="attr_rd">
                    <label class="label"><span data-i18n="stats.dr">RD</span></label>
                </div>
                <div class="w-4 stat">
                    <div class="speed-container">
                        <input type="hidden" name="attr_vit_modified">
                        <span name="attr_vit_total"></span>
                        <input type="number" class="input" name="attr_vit_base">
                    </div>
                    <label class="label"><span data-i18n="stats.speed">Vitesse</span></label>
                </div>
            </div>

            <div class="flex-column HP frame-ct">
                <div class="flex-row justify-center align-center">
                    <label class="label-secondary text-right w-6"><span data-i18n="health.max">Points de vie max</span></label>
                    <input type="number" class="visible-input w-6" name="attr_pv_max">
                </div>
                <input type="number" class="input" name="attr_pv">
                <h4 class="bottom-title"><span data-i18n="health.current">Points de vies Actuels</span></h4>
            </div>
            <div class="flex-column HP frame-cb">
                <input type="number" class="input" name="attr_pv_tmp">
                <h4 class="bottom-title"><span data-i18n="health.temporary">Points de vies temporaires</span></h4>
            </div>
        </div>
        <!-- Attaques -->
        <!--=include components/attacks.html -->
        <!-- Inventaire -->
        <div class="flex-column inventory-list frame-c">
            <!-- Inventory -->
            <fieldset class="repeating_inventaire">
                <div class="inventory">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_skillroll" type="roll" value="@{rollvalue}"
                                class="button-label  text-left">
                            <span class="bold" span name="attr_btn-bold-text"> </span> <span
                                name="attr_btn-text"></span>
                        </button>
                        <input type="hidden" name="attr_btn-text"/>
                        <input type="hidden" name="attr_btn-bold-text" val="New item"/>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{^{inventory.quantity}=@{qte}}} {{^{inventory.weight}=@{poids}kg}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row align-center">
                            <label class="label text-right w-3"><span data-i18n="inventory.name">Nom</span> : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <div class="flex-row align-center">
                            <label class="label text-right w-3"><span data-i18n="inventory.quantity">Qté</span> : </label>
                            <input type="number" class="visible-input w-9 " name="attr_qte">
                        </div>
                        <div class="flex-row align-center">
                            <label class="label text-right w-3"><span data-i18n="inventory.weight">Poids</span> : </label>
                            <input type="number" class="visible-input w-9 " name="attr_poids">
                        </div>
                        <label class="label"><span data-i18n="inventory.description">Description</span></label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="bottom-title"><span data-i18n="inventory.title">Inventaire</span></h4>
        </div>
    </div>
    <div class="flex-column gap-1 w-4">
        <!-- Capacités Raciales -->
        <div class="flex-column list frame-ct">
            <fieldset class="repeating_racial">
                <div class="list-element">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"><span data-i18n="common.name">Nom </span>: </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label"><span data-i18n="common.description">Description</span></label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="bottom-title"><span data-i18n="abilities.racials">Dons</span></h4>
        </div>
        <!-- Capacités classes -->
        <div class="flex-column list frame-cm">
            <fieldset class="repeating_class">
                <div class="list-element">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"><span data-i18n="common.name">Nom </span>: </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label"><span data-i18n="common.description">Description</span></label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="bottom-title"><span data-i18n="abilities.class">Dons</span></h4>
        </div>
        <!-- Dons -->
        <div class="flex-column list frame-cm">
            <fieldset class="repeating_feat">
                <div class="list-element">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"><span data-i18n="common.name">Nom </span>: </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label"><span data-i18n="common.description">Description</span></label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <h4 class="bottom-title"><span data-i18n="abilities.feats">Dons</span></h4>
        </div>
        <!--=include components/modifiers.html-->
    </div>
</div>

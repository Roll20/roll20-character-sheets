<div class="flex-row npc-core">
    <div class="flex-column w-6">
        <div class="flex-column frame-c npc-colu">
            <h4 class="h4"><span data-i18n="attribute.title">Caractéristiques</span></h4>
            <div class="flex-row justify-center">
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=^{attribute.for.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{for_mod}]]}}"
                            class="button-label text-center"><span data-i18n="attribute.for">FOR</span>
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_for_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=^{attribute.dex.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{dex_mod}]]}}"
                            class="button-label text-center"><span data-i18n="attribute.dex">DEX</span>
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_dex_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=^{attribute.con.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{con_mod}]]}}"
                            class="button-label text-center"><span data-i18n="attribute.con">CON</span>
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_con_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=^{attribute.int.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{int_mod}]]}}"
                            class="button-label text-center"><span data-i18n="attribute.int">INT</span>
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_int_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=^{attribute.sag.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{sag_mod}]]}}"
                            class="button-label text-center"><span data-i18n="attribute.sag">SAG</span>
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_sag_base">
                </div>
                <div class="flex-column w-2">
                    <button type="roll" value="&{template:main} {{titre=^{attribute.cha.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{cha_mod}]]}}"
                            class="button-label text-center"><span data-i18n="attribute.cha">CHA</span>
                    </button>
                    <input type="number" class="w-12 visible-input" name="attr_cha_base">
                </div>
            </div>
            <br>
            <h4 class="h4"><span data-i18n="health.hp">Points de vie</span></h4>
            <div class="flex-row justify-center align-center">

                <input type="number" class="visible-input w-2" name="attr_pv" placeholder="actuel">
                /
                <input type="number" class="visible-input w-2" name="attr_pv_max" placeholder="max.">
                (
                <input type="number" class="visible-input w-2" name="attr_pv_temp" placeholder="temp.">
                )
                <input type="text" class="visible-input w-6" name="attr_pv_desc" placeholder="12d8+42">
            </div>
            <br/>
            <h4 class="h4"><span data-i18n="defenses.ac">Classe d'armure</span></h4>
            <div class="flex-row align-center">
                <button type="roll"
                        value="&{template:main} {{titre=^{defenses.ac}}} {{subtitle=@{character_name} }} {{CA=@{npc_ca} }}{{description=@{npc_ca_text} }}"
                        class="button-label w-3 text-right"><span data-i18n="defenses.ac.normal">Normal</span> :
                </button>
                <input type="number" class="w-2 visible-input" name="attr_npc_ca">
                <input type="text" class="w-7 visible-input" name="attr_npc_ca_text">
            </div>
            <div class="flex-row align-center">
                <button type="roll"
                        value="&{template:main} {{titre=^{defenses.ac}(^{defenses.ac.flatfooted}) }} {{subtitle=@{character_name} }} {{CA=@{npc_caff} }}{{description=@{npc_caff_text} }}"
                        class="button-label w-3 text-right"><span data-i18n="defenses.ac.flatfooted">Au dépourvu</span> :
                </button>
                <input type="number" class="w-2 visible-input" name="attr_npc_caff">
                <input type="text" class="w-7 visible-input" name="attr_npc_caff_text">
            </div>
            <div class="flex-row align-center">
                <button type="roll"
                        value="&{template:main} {{titre=^{defenses.ac}(^{defenses.ac.touch})}} {{subtitle=@{character_name} }} {{CA=@{npc_cat} }}{{description=@{npc_cat_text} }}"
                        class="button-label w-3 text-right"><span data-i18n="defenses.ac.touch">De contact</span> :
                </button>
                <input type="number" class="w-2 visible-input" name="attr_npc_cat">
                <input type="text" class="w-7 visible-input" name="attr_npc_cat_text">
            </div>
            <br>
            <h4 class="h4"><span data-i18n="saves.title">Jets de sauvegarde</span></h4>
            <div class="flex-row save">
                <label class="label w-3 text-center"><span data-i18n="saves.base">Base</span></label>
                <label class="label w-3 text-center"><span data-i18n="saves.mod">Mod.</span></label>
                <label class="label w-6"></label>
            </div>
            <div class="flex-row save">
                <input type="number" class="input w-3" name="attr_ref_base">
                <input type="number" class="input w-3" name="attr_ref_mod">
                <input type="hidden" name="attr_ref_roll_value"
                       value="&{template:main} {{titre=^{save.ref.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{dex_mod}+@{ref_base}+@{ref_mod}]]}}">
                <button type="roll" name="attr_ref_roll" value="@{ref_roll_value}"
                        class="button-label bold w-6"><span data-i18n="saves.reflex">Réflexes</span>
                </button>
            </div>
            <div class="flex-row save">
                <input type="number" class="input w-3" name="attr_vig_base">
                <input type="number" class="input w-3" name="attr_vig_mod">
                <input type="hidden" name="attr_vig_roll_value"
                       value="&{template:main} {{titre=^{save.vig.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{con_mod}+@{vig_base}+@{vig_mod}]]}}">
                <button type="roll" name="attr_vig_roll" value="@{vig_roll_value}"
                        class="button-label bold w-6"><span data-i18n="saves.fortitude">Vigueur</span>
                </button>
            </div>
            <div class="flex-row save">
                <input type="number" class="input w-3" name="attr_vol_base">
                <input type="number" class="input w-3" name="attr_vol_mod">
                <input type="hidden" name="attr_vol_roll_value"
                       value="&{template:main} {{titre=^{save.vol.roll}}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{sag_mod}+@{vol_base}+@{vol_mod}]]}}">
                <button type="roll" name="attr_vol_roll" value="@{vol_roll_value}"
                        class="button-label bold w-6"><span data-i18n="saves.willpower">Volonté</span>
                </button>
            </div>
        </div>
        <div class="flex-column frame-c npc-colu">
            <h4 class="h4"><span data-i18n="abilities.npc">Capacités spécifiques</span></h4>
            <fieldset class="repeating_npc-capacite">
                <div class="skill">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"><span data-i18n="common.name">Nom</span> : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label"><span data-i18n="common.description">Description</span></label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
            <br>
            <h4 class="h4"><span data-i18n="npc.misc">Divers & Notes</span></h4>
            <div class="flex-row align-center justify-start">
                <label class="label text-right w-1"><span data-i18n="npc.cr">CR</span> : </label>
                <div class="w-2">
                    <input type="text" class="visible-input text-left" name="attr_npc_cr">
                </div>
                <div>(</div>
                <div class="w-3">
                    <input type="text" class="visible-input text-left" name="attr_npc_xp">
                </div>
                <div><span data-i18n="npc.xp">XP</span>)</div>
            </div>
            <label class="label"><span data-i18n="common.notes">Notes</span> :</label>
            <textarea class="textarea" name="attr_npc_notes"></textarea>
        </div>
    </div>
    <div class="flex-column w-6">
        <div class="flex-column frame-c list npc-colu">
            <h4 class="h4"><span data-i18n="abilities.npc.actions">Actions spécifiques</span></h4>
            <fieldset class="repeating_npc-actions">
                <div class="list-element">
                    <input class="options-flag" type="checkbox" name="attr_options-flag"
                           checked><span>y</span>
                    <div class="flex-row align-center">
                        <button name="attr_roll" type="roll" value="@{rollvalue}"
                                class="button-label bold text-left">
                            <span name="attr_name"></span>&nbsp;
                        </button>
                        <input type="hidden" name="attr_rollvalue"
                               value="&{template:main} {{titre=@{name}}} {{subtitle=@{character_name}}} {{description=@{description}}}">
                    </div>
                    <div class="flex-column options-options border-bottom">
                        <div class="flex-row">
                            <label class="label text-right w-3"><span data-i18n="common.name">Nom</span> : </label>
                            <input type="text" class="visible-input w-9 " name="attr_name">
                        </div>
                        <label class="label"><span data-i18n="common.description">Description</span></label>
                        <textarea class="textarea" name="attr_description"></textarea>
                    </div>
                </div>
            </fieldset>
        </div>
        <!--=include components/attacks.html-->
        <div class="flex-column frame-c npc-colu">
            <h4 class="h4"><span data-i18n="skills.title">Compétences</span></h4>
            <div class="npc-skills">
                <fieldset class="repeating_skills">
                    <div class="skill">
                        <input class="options-flag" type="checkbox" name="attr_options-flag"
                               checked><span>y</span>
                        <div class="flex-row align-center">
                            <div class="w-12">
                                <input type="hidden" name="attr_skillrollvalue"
                                       value="&{template:main} {{titre=Test de '@{name}'}} {{subtitle=@{character_name} }} {{Jet=[[1d20+@{total}]]}}">
                                <button name="attr_skillroll" type="roll" value="@{skillrollvalue}"
                                        class="button-label text-left">
                                    <span name="attr_name"></span>&nbsp;<span name="attr_caracname"></span>,&nbsp;&nbsp;
                                </button>
                            </div>
                        </div>
                        <!--=include components/skills-options.html-->
                    </div>
                </fieldset>
            </div>
        </div>
    </div>
</div>
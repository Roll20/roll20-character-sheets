<!-- <link rel="stylesheet" href="lutps.css"> -->
<div class="background_image">

  <!--Character info-->

  <div class="info">
    <div class="characterInfo">
      <div class="infoNames">
        <b data-i18n="name-i">Nome</b>
        <b data-i18n="character-i">Sono</b>
        <b data-i18n="merit-i">Pregio</b>
      </div>
      <div class="infoNamesInput">
        <input class="infoNamesInput1" type="text" name="attr_characterName" />
        <input class="infoNamesInput1" type="text" name="attr_race_and_role" />
        <input class="infoNamesInput1" type="text" name="attr_merit" />
      </div>
    </div>
    <div class="characterInfo2">
      <b data-i18n="adventure_points-i">Punti Avventura</b><input type="number" name="attr_character_pa"
        class="pa_input" min="0" />
    </div>
    <div class="characterInfo2">
      <b data-i18n="florins-i">Fiorini</b><input type="number" name="attr_florins" class="florins_input" min="0" />
    </div>
  </div>

  <div class="sheet-columns">
    <div>
      <input type="checkbox" class="sheet-toggle-show" />
      <span data-i18n="show_info_character-i">Mostra/Nascondi suggerimenti Caratteristiche Personaggio e Bestie
        Sovrane</span>
      <div data-i18n="info_character-i" class="sheet-body">Caratteristiche Personaggio: mettere a sinistra il numero di
        dadi (2 o 1) e a destra il modificatore con il simbolo (+1 o -1), come nella scheda originale.<br><br>Bestie
        Sovrane: negli
        spazi appositi, inserire i dadi da usare completi di numero, D e facce del dado (2D10 o 2d10).<br><br>
        IMPORTANTE: le caselle a destra del nome delle Bestie Sovrane, servono solo a ricordare
        quale pregio si possiede e quale trasformazione si possiede, ma non va a modificare il lancio dei dadi.
        Dovrete ricordarvi di ritirare il pregio delle Bestie se il dado o i dadi fanno 1 o 2 su quella caratteristica.
      </div>
    </div>
  </div>

  <!--Principal Stats-->

  <div class="allStats">
    <div class="statsLeft">
      <div class="stats_checkbox">
        <input type="checkbox" name="attr_agility_merit">
        <input type="checkbox" name="attr_courage_merit">
        <input type="checkbox" name="attr_strength_merit">
        <input type="checkbox" name="attr_intelligence_merit">
        <input type="checkbox" name="attr_magic_merit">
        <input type="checkbox" name="attr_perception_merit">
        <input type="checkbox" name="attr_dexterity_merit">
        <input type="checkbox" name="attr_presence_merit">
      </div>
      <div class="stats">
        <b data-i18n="agility-i">Agilità</b>
        <b data-i18n="courage-i">Coraggio</b>
        <b data-i18n="strength-i">Forza</b>
        <b data-i18n="intelligence-i">Intelligenza</b>
        <b data-i18n="magic-i">Magia</b>
        <b data-i18n="perception-i">Percezione</b>
        <b data-i18n="dexterity-i">Manualità</b>
        <b data-i18n="presence-i">Socialità</b>
      </div>
      <div class="stats_number">
        <input class="ability_input_dice" type="text" name="attr_agility_dices">
        <input class="ability_input_dice" type="text" name="attr_courage_dices">
        <input class="ability_input_dice" type="text" name="attr_strength_dices">
        <input class="ability_input_dice" type="text" name="attr_intelligence_dices">
        <input class="ability_input_dice" type="text" name="attr_magic_dices">
        <input class="ability_input_dice" type="text" name="attr_perception_dices">
        <input class="ability_input_dice" type="text" name="attr_dexterity_dices">
        <input class="ability_input_dice" type="text" name="attr_presence_dices">
      </div>
      <div class="dice">
        <b>D</b>
        <b>D</b>
        <b>D</b>
        <b>D</b>
        <b>D</b>
        <b>D</b>
        <b>D</b>
        <b>D</b>
      </div>
      <div class="stats_number">
        <input class="ability_input_mod" type="text" name="attr_agility_mod">
        <input class="ability_input_mod" type="text" name="attr_courage_mod">
        <input class="ability_input_mod" type="text" name="attr_strength_mod">
        <input class="ability_input_mod" type="text" name="attr_intelligence_mod">
        <input class="ability_input_mod" type="text" name="attr_magic_mod">
        <input class="ability_input_mod" type="text" name="attr_perception_mod">
        <input class="ability_input_mod" type="text" name="attr_dexterity_mod">
        <input class="ability_input_mod" type="text" name="attr_presence_mod">
      </div>
      <div class="stats_buttons">
        <button type="roll" name="agility_roll"
          value="&{template:default} {{name=@{characterName}, Agilità}} {{Agilità=[[@{agility_dices}d10skh1 @{agility_mod}]]}}"></button>
        <button type="roll" name="courage_roll"
          value="&{template:default} {{name=@{characterName}, Coraggio}} {{Coraggio=[[@{courage_dices}d10skh1 @{courage_mod}]]}}"></button>
        <button type="roll" name="strength_roll"
          value="&{template:default} {{name=@{characterName}, Forza}} {{Forza=[[@{strength_dices}d10skh1 @{strength_mod}]]}}"></button>
        <button type="roll" name="intelligence_roll"
          value="&{template:default} {{name=@{characterName}, Intelligenza}} {{Intelligenza=[[@{intelligence_dices}d10skh1 @{intelligence_mod}]]}}"></button>
        <button type="roll" name="magic_roll"
          value="&{template:default} {{name=@{characterName}, Magia}} {{Magia=[[@{magic_dices}d10skh1 @{magic_mod}]]}}"></button>
        <button type="roll" name="perception_roll"
          value="&{template:default} {{name=@{characterName}, Percezione}} {{Percezione=[[@{perception_dices}d10skh1 @{perception_mod}]]}}"></button>
        <button type="roll" name="dexterity_roll"
          value="&{template:default} {{name=@{characterName}, Manualità}} {{Manualità=[[@{dexterity_dices}d10skh1 @{dexterity_mod}]]}}"></button>
        <button type="roll" name="presence_roll"
          value="&{template:default} {{name=@{characterName}, Socialità}} {{Socialità=[[@{presence_dices}d10skh1 @{presence_mod}]]}}"></button>
      </div>
    </div>

    <!--Beasts Dices-->

    <div class="statsRight">
      <div class="bs">
        <div class="bsNameBear">
          <b data-i18n="bear-i">Orso</b>
          <input class="bsCheckbox" type="checkbox">
        </div>
        <div class="bsNameDeer">
          <b data-i18n="deer-i">Cervo</b>
          <input class="bsCheckbox" type="checkbox">
        </div>
        <div class="bsNameEagle">
          <b data-i18n="eagle-i">Aquila</b>
          <input class="bsCheckbox" type="checkbox">
        </div>
        <div class="bsNameSnake">
          <b data-i18n="snake-i">Serpente</b>
          <input class="bsCheckbox" type="checkbox">
        </div>
      </div>

      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_agility" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Agilità=[[@{bear_agility}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_agility" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Agilità=[[@{deer_agility}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_agility" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Agilità=[[@{eagle_agility}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_agility" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Agilità=[[@{snake_agility}skh1]]}}"></button>
      </div>
      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_courage" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Coraggio=[[@{bear_courage}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_courage" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Coraggio=[[@{deer_courage}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_courage" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Coraggio=[[@{eagle_courage}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_courage" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Coraggio=[[@{snake_courage}skh1]]}}"></button>
      </div>
      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_strength" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Forza=[[@{bear_strength}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_strength" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Forza=[[@{deer_strength}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_strength" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Forza=[[@{eagle_strength}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_strength" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Forza=[[@{snake_strength}skh1]]}}"></button>
      </div>
      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_intelligence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Intelligenza=[[@{bear_intelligence}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_intelligence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Intelligenza=[[@{deer_intelligence}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_intelligence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Intelligenza=[[@{eagle_intelligence}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_intelligence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Intelligenza=[[@{snake_intelligence}skh1]]}}"></button>
      </div>
      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_magic" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Magia=[[@{bear_magic}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_magic" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Magia=[[@{deer_magic}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_magic" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Magia=[[@{eagle_magic}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_magic" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Magia=[[@{snake_magic}skh1]]}}"></button>
      </div>
      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_perception" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Percezione=[[@{bear_perception}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_perception" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Percezione=[[@{deer_perception}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_perception" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Percezione=[[@{eagle_perception}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_perception" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Percezione=[[@{snake_perception}skh1]]}}"></button>
      </div>
      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_dexterity" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Manualità=[[@{bear_dexterity}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_dexterity" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Manualità=[[@{deer_dexterity}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_dexterity" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Manualità=[[@{eagle_dexterity}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_dexterity" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Manualità=[[@{snake_dexterity}skh1]]}}"></button>
      </div>
      <div class="bsButtons">
        <input class="inputBs" name="attr_bear_presence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Orso}} {{Socialità=[[@{bear_presence}skh1]]}}"></button>
        <input class="inputBs" name="attr_deer_presence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Cervo}} {{Socialità=[[@{deer_presence}skh1]]}}"></button>
        <input class="inputBs" name="attr_eagle_presence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Aquila}} {{Socialità=[[@{eagle_presence}skh1]]}}"></button>
        <input class="inputBs" name="attr_snake_presence" type="text">
        <button type="roll"
          value="&{template:default} {{name=@{characterName}, Serpente}} {{Socialità=[[@{snake_presence}skh1]]}}"></button>
      </div>

    </div>
  </div>

  <div class="sheet-columns">
    <div>
      <input type="checkbox" class="sheet-toggle-show" />
      <span data-i18n="show_info_ability-i">Mostra/Nascondi suggerimenti Armi e Abilità</span>
      <div class="sheet-body" data-i18n="info_ability-i">Armi e Abilità: inserire il nome dell'arma o dell'abilità nella
        parte di sopra.
        Nella parte di sotto, a sinistra i dadi da usare completi di numero, D e facce del dado (2D10 o 2d10) e
        a destra il modificatore (+1 o -1), poi premere il bottone adiacente che li tirerà. Si possono mettere
        fino a tre tiri di dado per abilità (esempio: Getto di Fiamme ha bersagli, tiro per colpire e danno)
      </div>
    </div>
  </div>

  <!--Weapons (only four) and other Character Stats-->

  <div class="centralSheet">
    <div class="centralLeft">
      <div class="centralHealt">
        <div class="centralStats">
          <b class="centralLeftSheetStatsName" data-i18n="health-i">Salute</b>
          <div class="statsRightBottomDisplay">
            <div class="inputStatsMinMax">
              <b data-i18n="actual-i">Attuale</b><input class="inputStats" type="number" name="attr_character_life">
            </div>
            <div class="inputStatsMinMax">
              <b data-i18n="max-i">Massima</b><input class="inputStats" type="number" name="attr_character_life_max">
            </div>
          </div>
        </div>
        <div class="centralStats">
          <b class="centralLeftSheetStatsName">Mana</b>
          <div class="statsRightBottomDisplay">
            <div class="inputStatsMinMax">
              <b data-i18n="actual-i">Attuale</b><input class="inputStats" type="number" name="attr_character_mana"
                min="0">
            </div>
            <div class="inputStatsMinMax">
              <b data-i18n="max-i">Massimo</b><input class="inputStats" type="number" name="attr_character_mana_max"
                min="0">
            </div>
          </div>
        </div>
        <div class="centralStats">
          <b class="centralLeftSheetStatsName2" data-i18n="armor-i">Armatura</b>
          <div class="statsRightBottomDisplay">
            <div class="inputStatsMinMax">
              <input class="inputStats" type="number" name="attr_character_armor" min="0">
            </div>
          </div>
        </div>
      </div>

      <div class="makeWeapon">
        <div>
          <div>
            <div class="weaponName"><b data-i18n="weapon-i">Arma</b><input type="text" class="weaponInput"
                name="attr_firstWeaponName">
            </div>
          </div>
          <div class="stats_weapon">
            <div class="weapons">
              <b data-i18n="attack-i">Attacco</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_attackDice">
              <input class="inputWeaponDiceMod" type="text" name="attr_attackDiceMod">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="attackRoll"
                value="&{template:default} {{name=@{characterName}, @{firstWeaponName}}} {{Attacco=[[@{attackDice}skh1 @{attackDiceMod}]]}}"></button>
            </div>
            <div class="weapons">
              <b data-i18n="damage-i">Danno</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_damageDice">
              <input class="inputWeaponDiceMod" type="text" name="attr_damageDiceMod">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="damageRoll"
                value="&{template:default} {{name=@{characterName}, @{firstWeaponName}}} {{Danno=[[@{damageDice}skh1 @{damageDiceMod}]]}}"></button>
            </div>
          </div>
        </div>
      </div>
      <div class="makeWeapon">
        <div>
          <div>
            <div class="weaponName"><b data-i18n="weapon-i">Arma</b><input type="text" class="weaponInput"
                name="attr_secondWeaponName">
            </div>
          </div>
          <div class="stats_weapon">
            <div class="weapons">
              <b data-i18n="attack-i">Attacco</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_attackDice2">
              <input class="inputWeaponDiceMod" type="text" name="attr_attackDiceMod2">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="attr_attackRoll2"
                value="&{template:default} {{name=@{characterName}, @{secondWeaponName}}} {{Attacco=[[@{attackDice2}skh1 @{attackDiceMod2}]]}}"></button>
            </div>
            <div class="weapons">
              <b data-i18n="damage-i">Danno</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_damageDice2">
              <input class="inputWeaponDiceMod" type="text" name="attr_damageDiceMod2">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="damageRoll2"
                value="&{template:default} {{name=@{characterName}, @{secondWeaponName}}} {{Danno=[[@{damageDice2}skh1 @{damageDiceMod2}]]}}"></button>
            </div>
          </div>
        </div>
      </div>
      <div class="makeWeapon">
        <div>
          <div>
            <div class="weaponName"><b data-i18n="weapon-i">Arma</b><input type="text" class="weaponInput"
                name="attr_thirdWeaponName">
            </div>
          </div>
          <div class="stats_weapon">
            <div class="weapons">
              <b data-i18n="attack-i">Attacco</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_attackDice3">
              <input class="inputWeaponDiceMod" type="text" name="attr_attackDiceMod3">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="attackRoll2"
                value="&{template:default} {{name=@{characterName}, @{thirdWeaponName}}} {{Attacco=[[@{attackDice3}skh1 @{attackDiceMod3}]]}}"></button>
            </div>
            <div class="weapons">
              <b data-i18n="damage-i">Danno</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_damageDice3">
              <input class="inputWeaponDiceMod" type="text" name="attr_damageDiceMod3">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="damageRoll3"
                value="&{template:default} {{name=@{characterName}, @{thirdWeaponName}}} {{Danno=[[@{damageDice3}skh1 @{damageDiceMod3}]]}}"></button>
            </div>
          </div>
        </div>
      </div>
      <div class="makeWeapon">
        <div>
          <div>
            <div class="weaponName"><b data-i18n="weapon-i">Arma</b><input type="text" class="weaponInput"
                name="attr_fourthWeaponName">
            </div>
          </div>
          <div class="stats_weapon">
            <div class="weapons">
              <b data-i18n="attack-i">Attacco</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_attackDice4">
              <input class="inputWeaponDiceMod" type="text" name="attr_attackDiceMod4">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="attackRoll4"
                value="&{template:default} {{name=@{characterName}, @{fourthWeaponName}}} {{Attacco=[[@{attackDice4}skh1 @{attackDiceMod4}]]}}"></button>
            </div>
            <div class="weapons">
              <b data-i18n="damage-i">Danno</b>
            </div>
            <div class="weaponsStats">
              <input class="inputWeaponDice" type="text" name="attr_damageDice4">
              <input class="inputWeaponDiceMod" type="text" name="attr_damageDiceMod4">
            </div>
            <div class="weaponButtons">
              <button type="roll" name="damageRoll4"
                value="&{template:default} {{name=@{characterName}, @{fourthWeaponName}}} {{Danno=[[@{damageDice4}skh1 @{damageDiceMod4}]]}}"></button>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!--Utility and other Beasts Stats-->

    <div class="utilityContainer">
      <div class="utility">
        <div class="utilityStats">
          <b class="utilityStatsName" data-i18n="arrows_darts-i">Freccie/Dardi</b>
          <div class="inputStatsMinMax">
            <input class="inputStats" type="number" max="20" min="0" name="attr_ammo">
          </div>
        </div>
        <div class="utilityStats">
          <b class="utilityStatsName" data-i18n="rations-i">Razioni</b>
          <div class="inputStatsMinMax">
            <input class="inputStats" type="number" max="20" min="0" name="attr_rations">
          </div>
        </div>
        <div class="utilityStats">
          <b class="utilityStatsName" data-i18n="canteen-i">Borraccia</b>
          <div class="inputStatsMinMax">
            <input class="inputStats" type="number" max="7" min="0" name="attr_water">
          </div>
        </div>
      </div>

      <div class="extraAbility">
        <div><b data-i18n="ability-i">Abilità</b><input type="text" class="abilityInput" name="attr_ability_name"></div>
        <div class="extraAbilityInput">
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_cx">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_cx">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name}}} {{Roll=[[@{ability_roll_cx}skh1 @{ability_roll_mod_cx}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_sx">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_sx">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name}}} {{Roll=[[@{ability_roll_sx}skh1 @{ability_roll_mod_sx}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_dx">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_dx">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name}}} {{Roll=[[@{ability_roll_dx}skh1 @{ability_roll_mod_dx}]]}}"></button>
        </div>
      </div>

      <div class="extraAbility">
        <div><b data-i18n="ability-i">Abilità</b><input type="text" class="abilityInput" name="attr_ability_name2">
        </div>
        <div class="extraAbilityInput">
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_cx2">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_cx2">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name2}}} {{Roll=[[@{ability_roll_cx2}skh1 @{ability_roll_mod_cx2}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_sx2">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_sx2">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name2}}} {{Roll=[[@{ability_roll_sx2}skh1 @{ability_roll_mod_sx2}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_dx2">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_dx2">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name2}}} {{Roll=[[@{ability_roll_dx2}skh1 @{ability_roll_mod_dx2}]]}}"></button>
        </div>
      </div>
      <div class="extraAbility">
        <div><b data-i18n="ability-i">Abilità</b><input type="text" class="abilityInput" name="attr_ability_name3">
        </div>
        <div class="extraAbilityInput">
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_cx3">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_cx3">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name3}}} {{Roll=[[@{ability_roll_cx3}skh1 @{ability_roll_mod_cx3}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_sx3">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_sx3">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name3}}} {{Roll=[[@{ability_roll_sx3}skh1 @{ability_roll_mod_sx3}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_dx3">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_dx3">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name3}}} {{Roll=[[@{ability_roll_dx3}skh1 @{ability_roll_mod_dx3}]]}}"></button>
        </div>
      </div>
      <div class="extraAbility">
        <div><b data-i18n="ability-i">Abilità</b><input type="text" class="abilityInput" name="attr_ability_name4">
        </div>
        <div class="extraAbilityInput">
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_cx4">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_cx4">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name4}}} {{Roll=[[@{ability_roll_cx4}skh1 @{ability_roll_mod_cx4}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_sx4">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_sx4">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name4}}} {{Roll=[[@{ability_roll_sx4}skh1 @{ability_roll_mod_sx4}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_dx4">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_dx4">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name4}}} {{Roll=[[@{ability_roll_dx4}skh1 @{ability_roll_mod_dx4}]]}}"></button>
        </div>
      </div>
      <div class="extraAbility">
        <div><b data-i18n="ability-i">Abilità</b><input type="text" class="abilityInput" name="attr_ability_name5">
        </div>
        <div class="extraAbilityInput">
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_cx5">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_cx5">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name5}}} {{Roll=[[@{ability_roll_cx5}skh1 @{ability_roll_mod_cx5}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_sx5">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_sx5">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name5}}} {{Roll=[[@{ability_roll_sx5}skh1 @{ability_roll_mod_sx5}]]}}"></button>
          <input type="text" class="extraAbilityInput2" name="attr_ability_roll_dx5">
          <input type="text" class="extraAbilityInput3" name="attr_ability_roll_mod_dx5">
          <button type="roll"
            value="&{template:default} {{name=@{characterName}, @{ability_name5}}} {{Roll=[[@{ability_roll_dx5}skh1 @{ability_roll_mod_dx5}]]}}"></button>
        </div>
      </div>
    </div>

    <div class="statsRightBottom">
      <b class="statsRightBottomName" data-i18n="bear-i">Orso</b>
      <div class="statsRightBottomDisplay">
        <div class="inputStatsMinMax">
          <b data-i18n="actual-i">Attuale</b><input class="inputStats" type="number" name="attr_bear_healt">
        </div>
        <div class="inputStatsMinMax">
          <b data-i18n="max-i">Massima</b><input class="inputStats" type="number" name="attr_bear_healt_max">
        </div>
      </div>
      <b class="statsRightBottomName" data-i18n="deer-i">Cervo</b>
      <div class="statsRightBottomDisplay">
        <div class="inputStatsMinMax">
          <b data-i18n="actual-i">Attuale</b><input class="inputStats" type="number" name="attr_deer_healt">
        </div>
        <div class="inputStatsMinMax">
          <b data-i18n="max-i">Massima</b><input class="inputStats" type="number" name="attr_deer_healt_max">
        </div>
      </div>
      <b class="statsRightBottomName" data-i18n="eagle-i">Aquila</b>
      <div class="statsRightBottomDisplay">
        <div class="inputStatsMinMax">
          <b data-i18n="actual-i">Attuale</b><input class="inputStats" type="number" name="attr_eagle_healt">
        </div>
        <div class="inputStatsMinMax">
          <b data-i18n="max-i">Massima</b><input class="inputStats" type="number" name="attr_eagle_healt_max">
        </div>
      </div>
      <b class="statsRightBottomName" data-i18n="snake-i">Serpente</b>
      <div class="statsRightBottomDisplay">
        <div class="inputStatsMinMax">
          <b data-i18n="actual-i">Attuale</b><input class="inputStats" type="number" name="attr_snake_healt">
        </div>
        <div class="inputStatsMinMax">
          <b data-i18n="max-i">Massima</b><input class="inputStats" type="number" name="attr_snake_healt_max">
        </div>
      </div>
    </div>

  </div>

  <!--Notes-->

  <div class="notes">
    <div class="equipAbility">
      <div><b data-i18n="racial-abilities-i">Abilità di razza</b></div>
      <textarea class="equipAbilityInputLeft" name="attr_race_abilites"></textarea>
      <div><b data-i18n="equipment-i">Equipaggiamento</b></div>
      <textarea class="equipAbilityInputLeft" name="attr_equip"></textarea>
    </div>
    <div class="equipAbility">
      <div><b data-i18n="role-abilities-i">Abilità di ruolo</b></div>
      <textarea class="equipAbilityInputRight" name="attr_role_abilites"></textarea>
    </div>
  </div>

</div>

<script type="text/worker">

  on("change:agility_merit change:courage_merit change:strength_merit change:intelligence_merit change:magic_merit change:dexterity_merit change:perception_merit change:presence_merit ",
  (eventInfo) => {
  const merit= "ro<2";
  
  switch(eventInfo.sourceAttribute){
      case "agility_merit":{
          getAttrs(["agility_roll"], v => {
              if(!v.agility_roll.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Agilità}} {{Agilità:= [[@{agility}d10kh1" + merit + " @{agility_mod}]] }}"
                  setAttrs({
                      agility_roll: valueRoll
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Agilità}} {{Agilità:= [[@{agility}d10kh1 @{agility_mod}]] }}"
                  setAttrs({
                      agility_roll: valueRoll
                  });
              }
          });
      break;
      }
      case "courage_merit":{
          getAttrs(["courage_roll"], v => {
              if(!v.courage_roll.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Coraggio}} {{Coraggio:= [[@{courage}d10kh1" + merit + " @{courage_mod}]] }}"
                  setAttrs({
                      courage_roll: valueRoll
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Coraggio}} {{Coraggio:= [[@{courage}d10kh1 @{courage_mod}]] }}"
                  setAttrs({
                      courage_roll: valueRoll
                  });
              }
          });
      break;
      }
      case "strength_merit":{
          getAttrs(["strength_roll"], v => {
              if(!v.strength_roll.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Forza}} {{Forza:= [[@{strength}d10kh1" + merit + " @{strength_mod}]] }}"
                  setAttrs({
                      strength_roll: valueRoll
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Forza}} {{Forza:= [[@{strength}d10kh1 @{strength_mod}]] }}"
                  setAttrs({
                      strength_roll: valueRoll
                  });
              }
          });
      break;
      }
      case "intelligence_merit":{
          getAttrs(["intelligence_roll"], v => {
              if(!v.intelligence_roll.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Intelligenza}} {{Intelligenza:= [[@{intelligence}d10kh1" + merit + " @{intelligence_mod}]] }}"
                  setAttrs({
                      intelligence_roll: valueRoll
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Intelligenza}} {{Intelligenza:= [[@{INTintelligence}d10kh1 @{intelligence_mod}]] }}"
                  setAttrs({
                      intelligence_roll: valueRoll
                  });
              }
          });
      break;
      }
      case "magic_merit":{
          getAttrs(["magic_roll"], v => {
              if(!v.magic.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Magia}} {{Magia:= [[@{magic}d10kh1" + merit + " @{magic_mod}]] }}"
                  setAttrs({
                      magic: valueRoll
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Magia}} {{Magia:= [[@{magic}d10kh1 @{magic_mod}]] }}"
                  setAttrs({
                      magic: valueRoll
                  });
              }
          });
      break;
      }
      case "dexterity_merit":{
          getAttrs(["dexterity_roll"], v => {
              if(!v.dexterity_roll.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Manualità}} {{Manualità:= [[@{dexterity}d10kh1" + merit + " @{dexterity_mod}]] }}"
                  setAttrs({
                      dexterity_roll: valueRoll,
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Manualità}} {{Manualità:= [[@{dexterity}d10kh1 @{dexterity_mod}]] }}"
                  setAttrs({
                      dexterity_roll: valueRoll,
                  });
              }
        
          });
      break;
      }
      case "perception_merit":{
          getAttrs(["perception_roll"], v => {
              if(!v.perception_roll.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Percezione}} {{Percezione:= [[@{perception}d10kh1" + merit + " @{perception_mod}]] }}"
                  setAttrs({
                      perception_roll: valueRoll
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Percezione}} {{Percezione:= [[@{perception}d10kh1 @{perception_mod}]] }}"
                  setAttrs({
                      perception_roll: valueRoll
                  });
              }
          });
      break;
      }
      case "presence_merit":{
          getAttrs(["presence_roll"], v => {
              if(!v.presence_roll.includes(merit)){
                  var valueRoll="&{template:default} {{name=@{characterName}, Socialità}} {{Socialità:= [[@{presence}d10kh1" + merit + " @{presence_mod}]] }}"
                  setAttrs({
                      presence_roll: valueRoll
                  });
              }else{
                  var valueRoll="&{template:default} {{name=@{characterName}, Socialità}} {{Socialità:= [[@{presence}d10kh1 @{presence_mod}]] }}"
                  setAttrs({
                      presence_roll: valueRoll
                  });
              }
          });
      break;
      }
  }
});
</script>
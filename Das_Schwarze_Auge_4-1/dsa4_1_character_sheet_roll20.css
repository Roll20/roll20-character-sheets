/* start CSS */
/* Basic Layout Definitions */
.charsheet {
	--color-background: #e6be74;
	--color-background-disabled: #bf9e60;
	--color-background-enabled: #ffedcc;
	--color-foreground: #000000;
	--color-foreground-default-stat: #ffffff;
	--color-border: #806940;
	background: var(--color-background);
	color: var(--color-foreground);
	font-family: serif; /* Let the user decide */
	font-size: 1em;
}

.charsheet .default-hide {
	display: none;
}

.charsheet .section-info * {
	text-align: left;
}

/* Headings */
.charsheet h1,
.charsheet h2,
.charsheet h3,
.charsheet h4,
.charsheet h5,
.charsheet h6 {
	color: var(--color-foreground);
	text-align: center;
}

.charsheet h1 {
	margin-bottom: 0.2em;
	margin-top: 0.4em;
}

.charsheet h4 {
	margin-bottom: 0.3em;
	margin-top: 1em;
}

.charsheet h5 {
	font-size: 1.1em;
	font-weight: 700;
	margin-bottom: 0.3em;
	margin-top: 0.8em;
}

/* Tables */
.charsheet div.excess-width-table {
	overflow-x: auto;
}

.charsheet table {
	border: 0;
	margin-bottom: 0.5em;

}
.charsheet .section-Grundwerte table {
	display: inline-block;
	vertical-align: top;
}

.charsheet th {
	font-weight: bold;
}

.charsheet .activation-items td {
	margin: 0;
	padding: 0;
}

/* Horizontal line */
.charsheet hr {
	border-color: var(--color-border);
	border-width: 0.1em;
}

/* Forms, input, label, select, textarea */
.charsheet input,
.charsheet select{
	background-color: var(--color-background-enabled);
	border-color: var(--color-border);
	border-style: solid;
	border-width: 0.1em;
	color: var(--color-foreground); /* Necessary to overwrite definition from base.css */
	font-family: serif; /* Necessary to overwrite definition from base.css */
	margin-bottom: 0; /* Necessary to overwrite definition from base.css */
}

.charsheet select.gm-roll-selector {
	margin-bottom: 0.5em;
	width: 14em;
}

.charsheet input[type="number"] {
	text-align: right;
	/* Remove spinner buttons in Firefox */
	-moz-appearance: textfield;
}
/* Remove spinner buttons for Safari, Chrome, Opera */
.charsheet input[type=number]::-webkit-inner-spin-button,
.charsheet input[type=number]::-webkit-outer-spin-button {
	-webkit-appearance: none;
	margin: 0; /* Removes leftover margin */
}

.charsheet input[type="text"]:disabled,
.charsheet input[type="number"]:disabled {
	background-color: var(--color-background-disabled);
	border-style: solid;
	border-color: var(--color-border);
	border-width: 0.1em;
	font-weight: bold;
}

.charsheet input[type="text"]:read-only,
.charsheet input[type="number"]:read-only {
	background-color: var(--color-background-disabled);
	border-style: solid;
	border-color: var(--color-border);
	border-width: 0.1em;
	font-weight: bold;
}

.charsheet input[type="number"]:-moz-read-only {
	background-color: var(--color-background-disabled);
	border-style: solid;
	border-color: var(--color-border);
	border-width: 0.1em;
	font-weight: bold;
}

.charsheet input[type="text"]:-moz-read-only {
	background-color: var(--color-background-disabled);
	border-style: solid;
	border-color: var(--color-border);
	border-width: 0.1em;
	font-weight: bold;
}

/* Selectable text has to go into <input> */
.charsheet input[type="text"].selectable-text {
	background-color: inherit;
	border: none;
	color: inherit;
	font-family: inherit;
	font-size: inherit;
	font-weight: inherit;
	padding-left: 0;
	padding-right: 0;
	padding-top: inherit;
	padding-bottom: inherit;
}

.charsheet .activation-items input[type="checkbox"] {
	margin: 0.1em 0.3em 0.1em 0em;
}

.charsheet label {
	color: var(--color-foreground);
	font-size: 0.833em; /* Necessary to counter definition from app.css */
	font-weight: 400;
	margin: 0;
	padding: 0;
}

.charsheet label.lone-input-label {
	display: inline;
}

/* Overwrite Roll20 default */
.charsheet label > input {
	vertical-align: baseline !important;
}

/* Used to completely cover outer <label> area whenever the activation item
columns do not have equal numbers of items to prevent accidental hiding by
clicking the empty <td> area
Unfortunately, setting the <label>'s visibility to hidden will give back the
area to the outer <label> and an empty label is not as high as with an <input>,
so I added <input>s of the same type as the other items and set their visibility
to hidden. */
.charsheet input.invisible {
	visibility: hidden;
}

/* details and summary */
.charsheet details > p,
.charsheet details {
	font-family: serif;
	font-size: 1em;
}

.charsheet summary {
	cursor: pointer;
}

.charsheet summary > h4 {
	display: list-item;
	text-align: left;
}

/* repeating conjuration-spells-myranor */
/* summaries */
div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.repitem + div.repitem {
	padding-top: 0.3em;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] summary {
	display: inline-flex;
	width: 100%;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] summary > div.hack {
	color: var(--color-border);
	display: list-item;
	font-size: 1.8em;
	width: 1.6rem;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] summary > div.flex-container {
	display: flex;
	flex-wrap: nowrap;
	align-items: center;
	justify-content: space-between;
	column-gap: 0.5em;
	width: 100%;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] details > div {
	margin-left: 1.6rem;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .roll {
	flex-grow: 0;
	/* Allow breaking within the button */
	white-space: normal;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .sphere,
div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .stats,
div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .zfw {
	display: inline-block;
	flex-grow: 1;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .stats,
div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .zfw {
	flex-grow: 0;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .sphere {
	min-width: 6em;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .stats {
	min-width: 7em;
	text-align: center;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.flex-container .zfw {
	min-width: 2em;
	text-align: right;
}

/* details */
div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container {
	display: grid;
	column-gap: 2em;
	row-gap: 0.5em;
	grid-template-columns: repeat(auto-fit, minmax(34em, 1fr));
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container p {
	margin: 0;
	padding: 0;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container p.source input {
	width: 10em;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container p.type input {
	width: 8em;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container p.representation input {
	width: 27em;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container p.stats select {
	width: 4em;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container p.name input {
	width: 20em;
}

div.repcontainer[data-groupname=repeating_conjuration-spells-myranor] div.grid-container p.value input {
	width: 3.5em;
}

div.repcontrol[data-groupname=repeating_conjuration-spells-myranor] {
	padding-top: 0.5em;
}

/* Fake fieldset and legend */
.charsheet div.fieldset-workaround {
	border: 0.2em var(--color-border) solid;
	margin-top: 1.2em;
	padding: 0 0.6em 0.6em 0.6em;
	font-size: 0.833em;
}

.charsheet h2.legend-workaround {
	position: relative;
	top: -1.5em;
	padding: 0 .5em;
	margin-bottom: -2em;
	display: block;
	background-color: initial;
	font-size: 1em;
	text-align: left;
}

.charsheet h2.legend-workaround span {
	background-color: var(--color-background);
	font-size: 1em;
	font-weight: normal;
	padding: 0 .5em;
}

/* --- Checkbox Hack --- */
.charsheet input[type="checkbox"].desc-show {
	display: none;
}

.charsheet label.desc-show {
	display: inline;
	cursor: pointer;
}

/* Default: Hide */
.charsheet input[type="checkbox"]:not(:checked).desc-show + span:before {
	content: "[ausklappen]";
}

.charsheet .desc-show:not(:checked)~.desc,
.charsheet .sect-show:not(:checked)~.sect {
	display: none;
}

/* Checked: Show */
.charsheet input[type="checkbox"]:checked.desc-show + span:before {
	content: "[einklappen]";
}

.charsheet .desc-show:checked~.desc,
.charsheet .sect-show:checked~.sect {
	display: block;
}
/* End of Checkbox Hack */

/* Special class to make stats appear like normal text */
/*
On Talente and Magie sheets, the stats and encumbrance are given.
Originally, both were put into disabled type="number" <input>s.
This added two useless buttons to the numbers wasting precious screen real estate. It was clear that the numbers were put into type="number" <input>s which were not meant to be manipulated by the user similar to the official PDF character sheets.
Since the values were auto-calculated, I could not just replace it with a <span> (or I just couldn't figure out how to do it).
The solution: convert the <input>s to type="text" and make them look like normal text.
*/
.charsheet input[type="text"]:disabled.stat-immutable {
	background-color: var(--color-background);
	border-style: hidden;
	box-shadow: none;
	cursor: auto;
	font-family: serif;
	padding: 0;
	width: 2.5em;
	vertical-align: bottom;
}

.charsheet input[type="text"]:read-only.stat-immutable {
	background-color: var(--color-background);
	border-style: hidden;
	box-shadow: none;
	cursor: auto;
	font-family: serif;
	padding: 0;
	width: 2.5em;
	vertical-align: bottom;
}

.charsheet input[type="text"]:-moz-read-only.stat-immutable {
	background-color: var(--color-background);
	border-style: hidden;
	box-shadow: none;
	cursor: auto;
	font-family: serif;
	padding: 0;
	width: 2.5em;
	vertical-align: bottom;
}

.charsheet input[type="text"]:disabled.stat-immutable-version {
	width: 7em;
}

/* Align text left to stick to stat name */
.charsheet th > input[type="text"]:disabled.stat-immutable {
	text-align: left;
}

.charsheet th > input[type="text"]:read-only.stat-immutable {
	text-align: left;
}

.charsheet th > input[type="text"]:-moz-read-only.stat-immutable {
	text-align: left;
}

/* Align text right to match other table cells */
.charsheet td > input[type="text"]:disabled.stat-immutable {
	text-align: center;
}

.charsheet td > input[type="text"]:read-only.stat-immutable {
	text-align: center;
}

.charsheet td > input[type="text"]:-moz-read-only.stat-immutable {
	text-align: center;
}

/* Style draggable UI buttons */
.charsheet button.btn {
	background-color: var(--color-background-enabled);
	background-image: none;
	border-color: var(--color-border);
	color: var(--color-foreground);
}

.charsheet button[type="roll"].utility-button::before {
	content: "⚙️";
}

.charsheet button[type="roll"] > span {
	font-family: serif;
	font-size: 0.769em; /* Reverse 1.3em from app.css */
	vertical-align: top;
}

.charsheet textarea {
	background-color: var(--color-background-enabled);
	border-style: solid;
	border-width: 0.1em;
	border-color: var(--color-border);
	width: 95%;
	resize: vertical;
	overflow-y: auto;
	min-height: 15em;
}

/*----------------------------------------------Spells--------------------------------------*/
.charsheet .table {
	display: table;
	width: 100%;
}
.charsheet .table-money {
	display: table;
}
.charsheet .small-label {
	font-size: 85%!important;
}
.charsheet .center {
	text-align: center;
}
.charsheet .table-data {
	display: table-cell;
	vertical-align: middle;
	padding: 1px
}

/*----------------------------------------------Combat--------------------------------------*/
.charsheet p {
	font-family: serif;
	font-size: 1em;
}
.charsheet .not-implemented {
	font-style: italic;
}

.charsheet table.table-armour-zones td {
	text-align: left;
}

.charsheet table.table-armour-zones td.table-armour-zones-center-cell {
	text-align: center;
}

.charsheet table.table-armour-zones td.table-armour-zones-right-cell {
	text-align: right;
}

.charsheet input.distance-class {
	width: 5em;
}

.charsheet table.hideable-melee-weapons,
.charsheet table.hideable-ranged-weapons {
	margin-top: 1em;
	margin-left: auto;
	margin-right: auto;
}

.charsheet .hide-melee-weapon-1:not(:checked) ~ div.hideable-melee-weapon-1,
.charsheet .hide-melee-weapon-2:not(:checked) ~ div.hideable-melee-weapon-2,
.charsheet .hide-melee-weapon-3:not(:checked) ~ div.hideable-melee-weapon-3,
.charsheet .hide-melee-weapon-4:not(:checked) ~ div.hideable-melee-weapon-4,
.charsheet .hide-ranged-weapon-1:not(:checked) ~ table tr.hideable-ranged-weapon-1,
.charsheet .hide-ranged-weapon-2:not(:checked) ~ table tr.hideable-ranged-weapon-2,
.charsheet .hide-ranged-weapon-3:not(:checked) ~ table tr.hideable-ranged-weapon-3,
.charsheet .hide-ranged-weapon-4:not(:checked) ~ table tr.hideable-ranged-weapon-4 {
	display: none;
}

.charsheet .hide-melee-weapon-1:checked ~ div.hideable-melee-weapon-none,
.charsheet .hide-melee-weapon-2:checked ~ div.hideable-melee-weapon-none,
.charsheet .hide-melee-weapon-3:checked ~ div.hideable-melee-weapon-none,
.charsheet .hide-melee-weapon-4:checked ~ div.hideable-melee-weapon-none {
	display: none;
}

.charsheet .hide-melee-weapon-1:not(:checked) ~ .hide-melee-weapon-2:not(:checked) ~ .hide-melee-weapon-3:not(:checked) ~ .hide-melee-weapon-4:not(:checked) ~ table.hideable-melee-weapons,
.charsheet .hide-ranged-weapon-1:not(:checked) ~ .hide-ranged-weapon-2:not(:checked) ~ .hide-ranged-weapon-3:not(:checked) ~ .hide-ranged-weapon-4:not(:checked) ~ table.hideable-ranged-weapons {
	display: none;
}

.charsheet table.hideable-ranged-weapons input[type="text"]:disabled.stat-immutable,
.charsheet table.hideable-ranged-weapons td {
	text-align: center;
}

.charsheet .active-melee input.be-at-mod-hint:checked ~ div span.be-at-mod-hint,
.charsheet .active-melee input.be-pa-mod-hint:checked ~ div span.be-pa-mod-hint {
	display: inline;
}

.charsheet input.input-weapon-name,
.charsheet input[type="text"]:disabled.input-weapon-name {
	width: 11em;
}

.charsheet table.table-defensive-actions,
.charsheet table.ranged-combat-calc {
	margin-left: 1em;
	margin-right: 1em;
}

.charsheet div.grid-combat-box,
.charsheet table.table-offensive-actions,
.charsheet table.table-defensive-actions,
.charsheet table.table-armour-zones,
.charsheet table.table-ranged-actions,
.charsheet table.ranged-combat-calc {
	border: 0.2em solid var(--color-border);
	border-collapse: separate;
	padding: 0.4em;
}

.charsheet table.table-armour-zones input[type="text"]:disabled.stat-immutable {
	text-align: center;
}

.charsheet span.hide-ranged-warning-shortsighted {
	font-size: 1.5em;
	color: #D00000;
	vertical-align: middle;
}

.charsheet table.ranged-combat-calc th ~ th,
.charsheet table.ranged-combat-calc td ~ td {
	text-align: right;
	width: 2em;
}

.charsheet table.ranged-combat-calc th:first-child,
.charsheet table.ranged-combat-calc td:first-child {
	padding-right: 0.5em;
}

.charsheet table.ranged-combat-calc th:nth-child(2),
.charsheet table.ranged-combat-calc td:nth-child(2) {
	border-left: 0.2em solid var(--color-border);
}

.charsheet table.ranged-combat-calc tr.last > td {
	padding-bottom: 0.5em;
}

.charsheet tr.ranged-combat-calc-results.first > td {
	border-top: 0.2em solid var(--color-border);
	padding-top: 0.5em;
}

.charsheet tr.ranged-combat-calc-results * {
	font-weight: 700;
}

/*----------------------------------------------Info--------------------------------------*/
.charsheet .section-info > h3 {
	margin-bottom: 0.3em;
	margin-top: 1em;
}

.charsheet .section-info > h3:first-child {
	margin-top: 0;
}

.charsheet .section-info > p {
	font-family: serif;
	font-size: 1em;
}

.charsheet .section-info .inline-heading,
.charsheet .section-info .highlight {
	font-weight: 700;
}

.charsheet p + p {
	margin-top: 0.3em;
	margin-bottom: 0em;
}
/*-------------------------------------------------Tabs--------------------------------------*/

.charsheet div[class^="section"] {
	visibility: hidden;
	opacity: 0;
	max-height: 0;
	overflow: hidden;
}

.charsheet input.tab {
	width: 8.45em;
	height: 1.7em;
	cursor: pointer;
	position: relative;
	opacity: 0;
	z-index: 9999;
}
.charsheet span.tab {
	background-color: var(--color-background-enabled);
	border-color: var(--color-border);
	border-style: solid;
	border-width: 0.1em;
	color: var(--color-foreground);
	display: inline-block;
	font-size: 1em;
	font-weight: bold;
	height: 1.5em;
	margin-bottom: 0.2em;
	margin-left: -8.7em; /* span width (8.15 em) + word-spacing (0.25 em) + border-width-left (0.1 em) + border-width-right (0.1em) */
	margin-top: -0.1em;
	width: 8.15em;
	text-align: center;
}

.charsheet input.tab1:checked ~ div.section-Allgemein,
.charsheet input.tab2:checked ~ div.section-Grundwerte,
.charsheet input.tab21:checked ~ div.section-Fertigkeiten,
.charsheet input.tab3:checked ~ div.section-Inventar,
.charsheet input.tab31:checked ~ div.section-IInventar,
.charsheet input.tab32:checked ~ div.section-Geldbeutel,
.charsheet input.tab4:checked ~ div.section-Talente,
.charsheet input.tab41:checked ~ div.section-Kampf,
.charsheet input.tab42:checked ~ div.section-Koerper,
.charsheet input.tab43:checked ~ div.section-Gesellschaft,
.charsheet input.tab44:checked ~ div.section-Natur,
.charsheet input.tab45:checked ~ div.section-Wissen,
.charsheet input.tab46:checked ~ div.section-Sprachen,
.charsheet input.tab47:checked ~ div.section-Handwerk,
.charsheet input.tab48:checked ~ div.section-Gaben,
.charsheet input.tab49:checked ~ div.section-Meta,
.charsheet input.tab5:checked ~ div.section-Magie,
.charsheet input.tab6:checked ~ div.section-Liturgien,
.charsheet input.tab7:checked ~ div.section-Kampfwerte,
.charsheet input.tab71:checked ~ div.section-Kampfwerte1,
.charsheet input.tab72:checked ~ div.section-Kampfwerte2,
.charsheet input.tab73:checked ~ div.section-Kampfwerte3,
.charsheet input.tab75:checked ~ div.section-Kampfwerte5,
.charsheet input.tab-regeneration:checked ~ div.section-regeneration,
.charsheet input.tab8:checked ~ div.section-Notizen,
.charsheet input.tab51:checked ~ div.section-Zauberbogen,
.charsheet input.conjuration-myranor:checked ~ div.section-conjuration-myranor,
.charsheet input.tab52:checked ~ div.section-Ritualbogen,
.charsheet input.tab53:checked ~ div.section-ZFertigkeiten,
.charsheet input.reg-relax:checked ~ div.reg-relax,
.charsheet input.reg-rest:checked ~ div.reg-rest,
.charsheet input.reg-sleep:checked ~ div.reg-sleep,
.charsheet input.reg-astralmeditation:checked ~ div.reg-astralmeditation,
.charsheet input.reg-karmicmeditation:checked ~ div.reg-karmicmeditation,
.charsheet input.tab81:checked ~ div.section-Notizblock,
.charsheet input.tab82:checked ~ div.section-Personen,
.charsheet input.tab83:checked ~ div.section-Orte,
.charsheet input.tab10:checked ~ div.section-config,
.charsheet input.tab101:checked ~ div.section-config1,
.charsheet input.tab11:checked ~ div.section-info {
	border-color: var(--color-border);
	border-style: solid;
	border-width: 0.2em 0 0.2em 0;
	margin: 0.3em 0 0.3em 0;
	padding: 0.3em 0 0.3em 0;
	max-height: 999999px;
	visibility: visible;
	opacity: 1;
	transition: opacity 0.5s linear 0s;
	overflow: hidden;
}

/* Suppress double borders (two </div>s) */
.charsheet div.section.section-Inventar > div.section.section-IInventar,
.charsheet div.section.section-Inventar > div.section.section-Geldbeutel,
.charsheet div.section.section-Talente > div.section.section-Kampf,
.charsheet div.section.section-Talente > div.section.section-Koerper,
.charsheet div.section.section-Talente > div.section.section-Gesellschaft,
.charsheet div.section.section-Talente > div.section.section-Natur,
.charsheet div.section.section-Talente > div.section.section-Wissen,
.charsheet div.section.section-Talente > div.section.section-Sprachen,
.charsheet div.section.section-Talente > div.section.section-Handwerk,
.charsheet div.section.section-Talente > div.section.section-Gaben,
.charsheet div.section.section-Talente > div.section.section-Meta,
.charsheet div.section.section-Magie > div.section.section-Zauberbogen,
.charsheet div.section.section-Magie > div.section.section-conjuration-myranor,
.charsheet div.section.section-Magie > div.section.section-Ritualbogen,
.charsheet div.section.section-Magie > div.section.section-ZFertigkeiten,
.charsheet div.section.section-regeneration > div.section.reg-relax,
.charsheet div.section.section-regeneration > div.section.reg-rest,
.charsheet div.section.section-regeneration > div.section.reg-sleep,
.charsheet div.section.section-regeneration > div.section.reg-astralmeditation,
.charsheet div.section.section-regeneration > div.section.reg-karmicmeditation,
.charsheet div.section.section-Notizen > div.section.section-Notizblock,
.charsheet div.section.section-Notizen > div.section.section-Personen,
.charsheet div.section.section-Notizen > div.section.section-Orte,
.charsheet div.section.section-config > div.section.section-config1 {
	border-bottom-style: none;
}

.charsheet input.tab1:checked + span.tab1,
.charsheet input.tab2:checked + span.tab2,
.charsheet input.tab21:checked + span.tab21,
.charsheet input.tab3:checked + span.tab3,
.charsheet input.tab31:checked + span.tab31,
.charsheet input.tab32:checked + span.tab32,
.charsheet input.tab4:checked + span.tab4,
.charsheet input.tab41:checked + span.tab41,
.charsheet input.tab42:checked + span.tab42,
.charsheet input.tab43:checked + span.tab43,
.charsheet input.tab44:checked + span.tab44,
.charsheet input.tab45:checked + span.tab45,
.charsheet input.tab46:checked + span.tab46,
.charsheet input.tab47:checked + span.tab47,
.charsheet input.tab48:checked + span.tab48,
.charsheet input.tab49:checked + span.tab49,
.charsheet input.tab5:checked + span.tab5,
.charsheet input.tab51:checked + span.tab51,
.charsheet input.tab52:checked + span.tab52,
.charsheet input.tab53:checked + span.tab53,
.charsheet input.conjuration-myranor:checked + span.conjuration-myranor,
.charsheet input.tab6:checked + span.tab6,
.charsheet input.tab7:checked + span.tab7,
.charsheet input.tab71:checked + span.tab71,
.charsheet input.tab72:checked + span.tab72,
.charsheet input.tab73:checked + span.tab73,
.charsheet input.tab75:checked + span.tab75,
.charsheet input.tab-regeneration:checked + span.tab-regeneration,
.charsheet input.tab8:checked + span.tab8,
.charsheet input.reg-relax:checked + span.reg-relax,
.charsheet input.reg-rest:checked + span.reg-rest,
.charsheet input.reg-sleep:checked + span.reg-sleep,
.charsheet input.reg-astralmeditation:checked + span.reg-astralmeditation,
.charsheet input.reg-karmicmeditation:checked + span.reg-karmicmeditation,
.charsheet input.tab81:checked + span.tab81,
.charsheet input.tab82:checked + span.tab82,
.charsheet input.tab83:checked + span.tab83,
.charsheet input.tab99:checked + span.tab99,
.charsheet input.tab10:checked + span.tab10,
.charsheet input.tab101:checked + span.tab101,
.charsheet input.tab11:checked + span.tab11 {
	background-color: var(--color-background-disabled);
	border-color: var(--color-border);
	color: var(--color-foreground);
}
.charsheet .verstecke-erschoepfung:checked ~ table tr.hideable-exhaustion,
.charsheet .verstecke-ueberanstrengung:checked ~ table tr.hideable-overstrain {
	display: none;
}

.charsheet .versteckeMagie:checked + input.tab5,
.charsheet .versteckeMagie:checked ~ span.tab5,
.charsheet .versteckeMagie:checked + div.section-Magie {
	display: none;
}
/* When hiding magic, hide astral energy as well */
.charsheet .versteckeMagie:checked ~ table tr.hideable-ae,
.charsheet .versteckeMagie:checked ~ div.hideable-ae {
	display: none;
}
.charsheet .versteckeLiturgien:checked + input.tab6,
.charsheet .versteckeLiturgien:checked ~ span.tab6,
.charsheet .versteckeLiturgien:checked + div.section-Liturgien {
	display: none;
}
/* When hiding liturgies, hide karma energy as well */
.charsheet .versteckeLiturgien:checked ~ table tr.hideable-ke,
.charsheet .versteckeLiturgien:checked ~ div.hideable-ke {
	display: none;
}
.charsheet .verstecke-dz-magie:checked + div.hideable-dz-magie {
	display: none;
}

/* Myranor hiding */
.charsheet .verstecke-myranor:checked ~ table tr.myranor,
.charsheet .verstecke-myranor:checked ~ input.myranor,
.charsheet .verstecke-myranor:checked ~ div.myranor,
.charsheet .verstecke-myranor:checked ~ span.myranor,
.charsheet .verstecke-myranor:checked ~ select > option.myranor {
	display: none;
}

.charsheet .verstecke-myranor:not(:checked) ~ div.myranor-hide,
.charsheet .verstecke-myranor:not(:checked) ~ table tr.myranor-hide,
.charsheet .verstecke-myranor:not(:checked) ~ select > option.myranor-hide {
	display: none;
}

/* Manoeuvre-related hiding */
.charsheet .hide-man-finte-o-sf:checked ~ div div button.hideable-man-finte-o-sf,
.charsheet .hide-man-wuchtschlag-o-sf:checked ~ div div button.hideable-man-wuchtschlag-o-sf,
.charsheet .hide-man-meisterlichesentwaffnen:checked ~ div div button.hideable-man-entwaffnen {
	display: none!important;
}

.charsheet .hide-man-finte-m-sf:not(:checked) ~ div div button.hideable-man-finte-m-sf,
.charsheet .hide-man-wuchtschlag-m-sf:not(:checked) ~ div div button.hideable-man-wuchtschlag-m-sf,
.charsheet .hide-man-ausfall:not(:checked) ~ div div button.hideable-man-ausfall,
.charsheet .hide-man-befreiungsschlag:not(:checked) ~ div div button.hideable-man-befreiungsschlag,
.charsheet .hide-man-betaubungsschlag:not(:checked) ~ div div button.hideable-man-betaubungsschlag,
.charsheet .hide-man-doppelangriff:not(:checked) ~ div div button.hideable-man-doppelangriff,
.charsheet .hide-man-entwaffnen:not(:checked) ~ div div button.hideable-man-entwaffnen,
.charsheet .hide-man-festnageln:not(:checked) ~ div div button.hideable-man-festnageln,
.charsheet .hide-man-gezielterstich:not(:checked) ~ div div button.hideable-man-gezielterstich,
.charsheet .hide-man-hammerschlag:not(:checked) ~ div div button.hideable-man-hammerschlag,
.charsheet .hide-man-klingensturm:not(:checked) ~ div div button.hideable-man-klingensturm,
.charsheet .hide-man-meisterlichesentwaffnen:not(:checked) ~ div div button.hideable-man-meisterlichesentwaffnen,
.charsheet .hide-man-niederwerfen:not(:checked) ~ div div button.hideable-man-niederwerfen,
.charsheet .hide-man-schildspalter:not(:checked) ~ div div button.hideable-man-schildspalter,
.charsheet .hide-man-sturmangriff:not(:checked) ~ div div button.hideable-man-sturmangriff,
.charsheet .hide-man-todvonlinks:not(:checked) ~ div div button.hideable-man-todvonlinks,
.charsheet .hide-man-todesstoss:not(:checked) ~ div div button.hideable-man-todesstoss,
.charsheet .hide-man-umreissen:not(:checked) ~ div div button.hideable-man-umreissen,
.charsheet .hide-man-gezieltes-ausweichen:not(:checked) ~ div div button.hideable-man-gezieltes-ausweichen,
.charsheet .hide-man-binden:not(:checked) ~ div div button.hideable-man-binden,
.charsheet .hide-man-gegenhalten:not(:checked) ~ div div button.hideable-man-gegenhalten,
.charsheet .hide-man-klingenwand:not(:checked) ~ div div button.hideable-man-klingenwand,
.charsheet .hide-man-meisterparade:not(:checked) ~ div div button.hideable-man-meisterparade,
.charsheet .hide-man-waffezerbrechen:not(:checked) ~ div div button.hideable-man-waffezerbrechen,
.charsheet .hide-man-windmuehle:not(:checked) ~ div div button.hideable-man-windmuehle,
.charsheet .hide-man-schildparade:not(:checked) ~ div div button.hideable-man-schildparade,
.charsheet .hide-man-schildattacke:not(:checked) ~ div div button.hideable-man-schildattacke,
.charsheet .hide-man-pwparade:not(:checked) ~ div div button.hideable-man-pwparade
{
	display: none;
}

/* Ranged combat related hiding and styling */
.charsheet .hide-ranged-combat-calc:checked ~ table.ranged-combat-calc,
.charsheet .hide-brightness:not(:checked) ~ table select.hide-wde-brightness,
.charsheet .hide-brightness:checked ~ table select.hide-wds-brightness,
.charsheet .hide-ranged-schussmitansage:checked ~ table div.hide-ranged-schussmitansage,
.charsheet .hide-ranged-targeted-shot-twolegged:checked ~ table div.hide-ranged-targeted-shot-twolegged,
.charsheet .hide-ranged-targeted-shot-fourlegged:checked ~ table div.hide-ranged-targeted-shot-fourlegged,
.charsheet .hide-ranged-targeted-shot-fourlegged-variable:checked ~ table div.hide-ranged-targeted-shot-fourlegged-variable,
.charsheet .hide-ranged-fray-counts:not(:checked) ~ div.hide-ranged-fray-counts,
.charsheet .hide-ranged-fray-counts:not(:checked) ~ table tr.hide-ranged-fray-counts,
.charsheet .hide-ranged-warning-shortsighted:not(:checked) ~ table span.hide-ranged-warning-shortsighted {
	display: none;
}

/* Talent Pseudo Tables */
.charsheet .talent-cell {
	display: inline-block;
}

.charsheet .talent-head {
	font-weight: bold;
}

.charsheet .talent-name {
	width: 18em !important;
}
.charsheet .section-Sprachen .talent-name {
	width: 22em !important;
}

.charsheet .talent-eigenschaften {
	width: 13.25em !important;
}

.charsheet .talent-rep {
	width: 4.5em !important;
}

.charsheet .talent-rep select {
	width: 100%;
}

.charsheet .talent-eigenschaft {
	width: 4.25em !important;
}

.charsheet .talent-default-eigenschaft {
	background-color: var(--color-background-disabled);
	color: var(--color-foreground-default-stat);
}

.charsheet .talent-stf {
	width: 2em !important;
}

.charsheet .talent-at,
.charsheet .talent-pa,
.charsheet .talent-komp,
.charsheet .talent-taw {
	width: 4em !important;
}

.charsheet .talent-spez {
	width: 14em !important;
}

.charsheet .talent-ebe,
.charsheet .talent-probe {
	width: 6em !important;
}

/* Replacement for abbr */
.charsheet span.abbr {
	text-decoration-line: underline;
	text-decoration-style: dotted;
}

/* <span>s in roll buttons should look like they contain the abbr */
.charsheet button.abbr > span {
	text-decoration-line: underline;
	text-decoration-style: dotted;
}

/* spell spec & ZfW input */
.charsheet .section-Zauberbogen .zauber input {
	vertical-align: baseline;
}

/*---------------------------------------------Aktivierung---------------------------------------*/
.charsheet .talent:checked + .talent,
.charsheet .basis.talent + .talent,
.charsheet .zauber:checked + .zauber {
	display: inline-block;
	white-space: nowrap;
}

.charsheet .sf-rustungsgewohnungI:not(:checked) + textarea {
	display: none;
}

.charsheet .zauber,
.charsheet .talent {
	display: none;
}

/* Fertigkeiten (Vor- und Nachteile und Sonderfertigkeiten */
.charsheet table.advantages-disadvantages {
	margin: auto;
}

.charsheet .advantages-disadvantages td {
	font-size: 0.833em;
	padding: 0.2em 0.4em 0.2em 0.4em;
}

/* Regeneration */
.charsheet .section-regeneration > p {
	font-family: serif;
	font-size: 1em;
}

.charsheet .automode:checked ~ label > .automode-hide {
	display: none;
}

.charsheet .automode:checked ~ label > .automode-show {
	display: initial;
}

/** Sleep */
.charsheet .show-homesickness:not(:checked) ~ div.hideable-homesickness,
.charsheet .show-food-restriction:not(:checked) ~ div.hideable-food-restriction,
.charsheet .show-addiction:not(:checked) ~ div.hideable-addiction,
.charsheet .show-spoilt:not(:checked) ~ div.hideable-spoilt,
.charsheet .show-spoilt:not(:checked) ~ span.hideable-spoilt {
	display: none;
}

.charsheet .metal-sensitive:checked ~ label.metal-sensitive {
	display: initial;
}

/** Astral Meditation */
.charsheet .versteckeMagie:checked ~ .reg-astralmeditation {
	display: none;
}

.charsheet div.inline-label-box > label {
	display: inline;
}

.charsheet .mod-skill-hint:not(:checked) ~ label > span.default-hide.mod-skill-hint,
.charsheet .mod-skill-hint:checked ~ label > span.default-show.mod-skill-hint {
	display: none;
}

.charsheet .mod-skill-hint:checked ~ label > span.default-hide.mod-skill-hint {
	display: initial;
}

.charsheet .special-skill-astral-meditation:checked ~ label.use-thonnys.thonnys-amount-variable,
.charsheet .special-skill-astral-meditation:not(:checked) ~ label.use-thonnys.thonnys-amount-fixed
{
	display: none;
}

.charsheet .special-skill-astral-meditation:checked ~ label.use-thonnys.thonnys-amount-fixed,
.charsheet .special-skill-astral-meditation:not(:checked) ~ label.use-thonnys.thonnys-amount-variable
{
	display: initial;
}

/** Karmic Meditation */
.charsheet .versteckeLiturgien:checked ~ .reg-karmicmeditation {
	display: none;
}

/*--------------------------------------------Configuration-------------------------------------*/


/*--------------------------------------------Roll Templates-------------------------------------*/

.sheet-rolltemplate-templates-general table {
	min-width: 8em;
	border-style: solid;
	border-width: 0.1em;
	color: var(--color-foreground);
}

.sheet-rolltemplate-templates-general {
	--color-foreground: #000000;
	--color-background-enabled: #ffedcc;
	--color-background-initiative: #f2f2f2;
	--color-background-warning: #f2f2f2;
	--color-background-hint: #f2f2f2;
	--color-background-succ-crit2: #e8cdf2;
	--color-background-succ-crit1: #cdf2f1;
	--color-background-succ: #d7f2cd;
	--color-background-fail: #f2f1cd;
	--color-background-fail-crit1: #f2e3cd;
	--color-background-fail-crit2: #f2cdcd;
	--color-background-regeneration: #f2f2f2;
	--color-background-regeneration-highlight: #ffffff;
	--color-border: #806940;
	--color-border-initiative: #b3b3b3;
	--color-border-warning: #b3b3b3;
	--color-border-hint: #b3b3b3;
	--color-border-succ-crit2: #ab97b3;
	--color-border-succ-crit1: #97b3b2;
	--color-border-succ: #9fb397;
	--color-border-fail: #b39797;
	--color-border-fail-crit1: #b3a797;
	--color-border-fail-crit2: #b39797;
	--color-border-regeneration: #b3b3b3;
}

/* Initiative, SP */
.sheet-rolltemplate-DSA-Initiative table,
.sheet-rolltemplate-DSA-Kampf-SP table {
	background-color: var(--color-background-initiative);
	border-color: var(--color-border-initiative);
}

/*
1d20: success, critical, confirmed (1 and check succeeded)
3d20: triple 1
*/
.sheet-rolltemplate-templates-general table.sheet-templates-succ-crc,
.sheet-rolltemplate-templates-general table.sheet-templates-succ-crit2 {
	background-color: var(--color-background-succ-crit2);
	border-color: var(--color-border-succ-crit2);
}

/*
1d20: success, critical, unconfirmed (1 and check failed)
3d20: double 1
*/
.sheet-rolltemplate-templates-general table.sheet-templates-succ-cru,
.sheet-rolltemplate-templates-general table.sheet-templates-succ-crit1 {
	background-color: var(--color-background-succ-crit1);
	border-color: var(--color-border-succ-crit1);
}

/* success, uncritical (no 1) */
.sheet-rolltemplate-templates-general table.sheet-templates-succ-uncr {
	background-color: var(--color-background-succ);
	border-color: var(--color-border-succ);
}

/* failure, uncritical (no 20) */
.sheet-rolltemplate-templates-general table.sheet-templates-fail-uncr {
	background-color: var(--color-background-fail);
	border-color: var(--color-border-fail);
}

/*
1d20: failure, critical, unconfirmed (20 and check succeeded)
3d20: double 20
*/
.sheet-rolltemplate-templates-general table.sheet-templates-fail-cru,
.sheet-rolltemplate-templates-general table.sheet-templates-fail-crit1 {
	background-color: var(--color-background-fail-crit1);
	border-color: var(--color-border-fail-crit1);
}

/*
1d20: failure, critical, confirmed (20 and check failed)
critical failure effect table
3d20: triple 20
*/
.sheet-rolltemplate-templates-general table.sheet-templates-fail-crc,
.sheet-rolltemplate-templates-general table.sheet-templates-fail-crit2 {
	background-color: var(--color-background-fail-crit2);
	border-color: var(--color-border-fail-crit2);
}

.sheet-rolltemplate-templates-general th {
	font-variant: small-caps;
	font-weight: 700;
	padding: 0.2em;
	text-align: left;
}

.sheet-rolltemplate-templates-general td {
	padding: 0.2em;
}

.sheet-rolltemplate-templates-general td.sheet-templates-result {
	font-variant: small-caps;
}

.sheet-rolltemplate-DSA-Nahkampf-AT table.sheet-templates-succ-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-AT table.sheet-templates-succ-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-AT table.sheet-templates-succ-crc span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-PA table.sheet-templates-succ-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-PA table.sheet-templates-succ-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-PA table.sheet-templates-succ-crc span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Kampf-Ausweichen table.sheet-templates-succ-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Kampf-Ausweichen table.sheet-templates-succ-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Kampf-Ausweichen table.sheet-templates-succ-crc span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Fernkampf-AT table.sheet-templates-succ-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Fernkampf-AT table.sheet-templates-succ-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Fernkampf-AT table.sheet-templates-succ-crc span.sheet-templates-result-content:before {
	content: "gelungen";
}

.sheet-rolltemplate-DSA-Nahkampf-AT table.sheet-templates-fail-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-AT table.sheet-templates-fail-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-AT table.sheet-templates-fail-crc span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-PA table.sheet-templates-fail-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-PA table.sheet-templates-fail-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Nahkampf-PA table.sheet-templates-fail-crc span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Kampf-Ausweichen table.sheet-templates-fail-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Kampf-Ausweichen table.sheet-templates-fail-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Kampf-Ausweichen table.sheet-templates-fail-crc span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Fernkampf-AT table.sheet-templates-fail-uncr span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Fernkampf-AT table.sheet-templates-fail-cru span.sheet-templates-result-content:before,
.sheet-rolltemplate-DSA-Fernkampf-AT table.sheet-templates-fail-crc span.sheet-templates-result-content:before {
	content: "misslungen";
}

.sheet-rolltemplate-templates-general td.sheet-templates-warning {
	background-color: var(--color-background-warning);
}

.sheet-rolltemplate-templates-general span.sheet-abbr {
	text-decoration-line: underline;
	text-decoration-style: dotted;
}

.sheet-rolltemplate-templates-general .inlinerollresult,
.sheet-rolltemplate-templates-general .inlinerollresult.fullcrit,
.sheet-rolltemplate-templates-general .inlinerollresult.fullfail,
.sheet-rolltemplate-templates-general .inlinerollresult.importantroll {
	border: none;
	padding: 0;
	background-color: unset;
	font-size: 1em;
	font-weight: inherit;
	color: var(--color-foreground);
}

.sheet-rolltemplate-combat-at .sheet-rolltemplate-roll-button {
	border: 0.1em solid;
	border-color: var(--color-border);
	border-radius: 4px;
	padding: 0.5em 0.3em 0.5em 0.3em;
	background-color: var(--color-background-enabled);
	color: var(--color-foreground);
	font-size: 0.769em;
	font-family: serif;
}

/* Shadows covering all sides and especially the corners to cover the original button
upper left, upper right, lower right, lower left */
.sheet-rolltemplate-combat-at .sheet-templates-succ-crit2 .sheet-rolltemplate-roll-button {
	box-shadow:
	-0.8em -0.3em var(--color-background-succ-crit2),
	 0.8em -0.3em var(--color-background-succ-crit2),
	 0.8em  0.3em var(--color-background-succ-crit2),
	-0.8em  0.3em var(--color-background-succ-crit2);
}
.sheet-rolltemplate-combat-at .sheet-templates-succ-crit1 .sheet-rolltemplate-roll-button {
	box-shadow:
	-0.8em -0.3em var(--color-background-succ-crit1),
	 0.8em -0.3em var(--color-background-succ-crit1),
	 0.8em  0.3em var(--color-background-succ-crit1),
	-0.8em  0.3em var(--color-background-succ-crit1);
}
.sheet-rolltemplate-combat-at .sheet-templates-succ-uncr .sheet-rolltemplate-roll-button {
	box-shadow:
	-0.8em -0.3em var(--color-background-succ-uncr),
	 0.8em -0.3em var(--color-background-succ-uncr),
	 0.8em  0.3em var(--color-background-succ-uncr),
	-0.8em  0.3em var(--color-background-succ-uncr);
}
.sheet-rolltemplate-combat-at .sheet-templates-fail-uncr .sheet-rolltemplate-roll-button {
	box-shadow:
	-0.8em -0.3em var(--color-background-fail-uncr),
	 0.8em -0.3em var(--color-background-fail-uncr),
	 0.8em  0.3em var(--color-background-fail-uncr),
	-0.8em  0.3em var(--color-background-fail-uncr);
}
.sheet-rolltemplate-combat-at .sheet-templates-fail-crit1 .sheet-rolltemplate-roll-button {
	box-shadow:
	-0.8em -0.3em var(--color-background-fail-crit1),
	 0.8em -0.3em var(--color-background-fail-crit1),
	 0.8em  0.3em var(--color-background-fail-crit1),
	-0.8em  0.3em var(--color-background-fail-crit1);
}
.sheet-rolltemplate-combat-at .sheet-templates-fail-crit2 .sheet-rolltemplate-roll-button {
	box-shadow:
	-0.8em -0.3em var(--color-background-fail-crit2),
	 0.8em -0.3em var(--color-background-fail-crit2),
	 0.8em  0.3em var(--color-background-fail-crit2),
	-0.8em  0.3em var(--color-background-fail-crit2);
}

/* Regeneration Roll Template(s) */
.sheet-rolltemplate-reg-astralmeditation table,
.sheet-rolltemplate-reg-astralmeditation-set-full table,
.sheet-rolltemplate-reg-deepbreath table,
.sheet-rolltemplate-reg-karmicmeditation table,
.sheet-rolltemplate-reg-relax table,
.sheet-rolltemplate-reg-rest table,
.sheet-rolltemplate-reg-sleep table {
	background-color: var(--color-background-regeneration);
	border-color: var(--color-border-regeneration);
}

.sheet-rolltemplate-reg-astralmeditation td.sheet-highlight,
.sheet-rolltemplate-reg-astralmeditation-set-full td.sheet-highlight,
.sheet-rolltemplate-reg-deepbreath td.sheet-highlight,
.sheet-rolltemplate-reg-karmicmeditation td.sheet-highlight,
.sheet-rolltemplate-reg-relax td.sheet-highlight,
.sheet-rolltemplate-reg-rest td.sheet-highlight,
.sheet-rolltemplate-reg-sleep td.sheet-highlight {
	background-color: var(--color-background-regeneration-highlight);
}

.sheet-rolltemplate-reg-astralmeditation tr.sheet-detail-level-1 td:first-child,
.sheet-rolltemplate-reg-astralmeditation-set-full tr.sheet-detail-level-1 td:first-child,
.sheet-rolltemplate-reg-deepbreath tr.sheet-detail-level-1 td:first-child,
.sheet-rolltemplate-reg-karmicmeditation tr.sheet-detail-level-1 td:first-child,
.sheet-rolltemplate-reg-relax tr.sheet-detail-level-1 td:first-child,
.sheet-rolltemplate-reg-rest tr.sheet-detail-level-1 td:first-child,
.sheet-rolltemplate-reg-sleep tr.sheet-detail-level-1 td:first-child {
	padding-left: 2.5em;
}

.sheet-rolltemplate-reg-astralmeditation td.sheet-regeneration-result,
.sheet-rolltemplate-reg-astralmeditation-set-full td.sheet-regeneration-result,
.sheet-rolltemplate-reg-deepbreath td.sheet-regeneration-result,
.sheet-rolltemplate-reg-karmicmeditation td.sheet-regeneration-result,
.sheet-rolltemplate-reg-relax td.sheet-regeneration-result,
.sheet-rolltemplate-reg-rest td.sheet-regeneration-result,
.sheet-rolltemplate-reg-sleep td.sheet-regeneration-result {
	text-align: right;
}

/* Shields and parry weapons */
.charsheet .shields-overflow-container {
	overflow-x: auto;
}

.charsheet .shields_container {
	display: grid;
	grid-template-columns: 3em 12em 10em 5em 5em 5em 5em 7em 5em;
	grid-gap: 0.2em;
/* Since every row of the repeating section adds a new grid, the row-gap property does not work. This is a workaround. */
	padding-bottom: 0.2em;
}

.charsheet .container_head > .shield_active,
.charsheet .container_head > .shield_item {
	font-weight: bold;
}

.charsheet .oversize-head {
	text-align: center;
}

/* Since number inputs are right-aligned, do the same for number-like text inputs and the accompanying headings */
.charsheet .number-content{
	text-align: right;
}

.charsheet .shield_item {
	grid-column-start: auto;
	grid-column-end: auto;
	grid-row-start: 1;
	grid-row-end: 1;
	align-self: center;
	justify-self: center;
	width: 100% !important;
}

/* Melee values summary for fighting without clutter */
.charsheet .hide-shield:not(:checked) ~ div.hideable-shield-active,
.charsheet .hide-shield:not(:checked) ~ span.hideable-shield-active,
.charsheet .hide-parry-weapon:not(:checked) ~ div.hideable-parry-weapon-active,
.charsheet .hide-parry-weapon:not(:checked) ~ span.hideable-parry-weapon-active {
	display: none;
}

.charsheet .hide-melee-weapon-1:checked ~ div.hideable-melee-weapon-none,
.charsheet .hide-melee-weapon-2:checked ~ div.hideable-melee-weapon-none,
.charsheet .hide-melee-weapon-3:checked ~ div.hideable-melee-weapon-none,
.charsheet .hide-melee-weapon-4:checked ~ div.hideable-melee-weapon-none {
	display: none;
}

/* Combat/Melee */
.charsheet .active-melee {
	display: grid;
	grid-template-columns: 10em auto;
	grid-gap: 0.2em;
}

.charsheet .grid-label {
	grid-column-start: 1;
	grid-column-end: 1;
	grid-row-start: auto;
	grid-row-end: auto;
	align-self: center;
	font-weight: bold;
}

.charsheet .flex-container {
	display: flex;
	flex-direction: row;
	flex-wrap: wrap;
	justify-content: flex-start;
	align-content: flex-start;
}

.charsheet .flex-container-melee-head {
	grid-column-start: 2;
	grid-column-end: 2;
	grid-row-start: auto;
	grid-row-end: auto;
}

.charsheet div.flex-container-melee-head input[type="text"]:read-only.stat-immutable {
	width: 1.5em;
}

.charsheet .flex-container > div:first-child {
	margin: auto;
	padding-right: 0.3em;
}

.charsheet .flex-container > div {
	margin: auto;
	padding-left: 0.3em;
	padding-right: 0.3em;
}

.charsheet .flex-container > div:last-child {
	margin: auto;
	padding-left: 0.3em;
}


.charsheet .combat-box {
	border: 0.2em solid var(--color-border);
	border-collapse: separate;
	margin-top: 0.25em;
	margin-bottom: 0.2em;
	padding: 0.4em;
}

.charsheet .combat-weapon-attack {
	grid-area: weapon-attack;
}
.charsheet .combat-weapon-parry {
	grid-area: weapon-parry;
}
.charsheet .combat-shield {
	grid-area: shield;
}

.charsheet .combat-damage {
	grid-area: damage;
}

.charsheet .grid-melee-actions-container {
	display: grid;
	grid-gap: 0.2em;
	grid-template-areas:
	"weapon-attack weapon-parry shield"
	"damage damage damage";
}

.charsheet .flex-container-wound-zone {
	display: flex;
	flex-direction: column;
}

.charsheet .flex-container-wound-zone > span {
	text-align: center;
}

.charsheet table.wound-effects-table tr,
.charsheet table.wound-effects-table th,
.charsheet table.wound-effects-table td {
	padding: 0.4em;
	padding-top: 0.2em;
	padding-bottom: 0.2em;
}

.charsheet .grid-melee-actions {
	display: grid;
	grid-template-columns: 5px auto auto 5px;
	grid-auto-rows: 30px;
	border: 1px solid blacK;
}

.charsheet .grid-melee-actions-button {
	grid-column-start: 2;
	grid-row-start: auto;
	justify-self: left;
	align-self: center;
}

.charsheet .grid-melee-actions-button-mod {
	grid-column-start: 3;
	grid-row-start: auto;
	justify-self: right;
	align-self: center;
}

.charsheet .grid-melee-actions-button-single {
	grid-column-start: 2;
	grid-column-end: span 2;
	grid-row-start: auto;
	justify-self: left;
	align-self: center;
}

.charsheet .grid-melee-actions-label {
	grid-column-start: 2;
	grid-column-end: span 2;
	grid-row-start: auto;
	align-self: center;
	text-align: center;
	font-weight: bold;
}

/* Beta Features */
.charsheet .beta-feature, .beta-feature-indicator {
	--color-text: #000000;
	--color-icon: #3030DD;
	--border-color: #586673;
	--background-color: #c4e2ff;
	text-shadow: none;
}
.charsheet span.beta-feature-indicator::after {
	content: " (β)";
	font-size: 0.769em;
	font-style: italic;
	font-weight: 700;
	color: var(--color-icon);
}

.charsheet button.beta-feature {
	background-color: var(--background-color);
	border-color: var(--border-color);
}

.charsheet span.beta-feature {
	display: none;
}

/* Beta: CRP Combat Confirmation Rolls */
.charsheet .beta-feature-crp-combat-confirmation-rolls {
	display: none;
}

.charsheet .beta-feature-crp-combat-confirmation-rolls:checked ~ * > * > .beta-feature-crp-combat-confirmation-rolls {
	display: inline-block;
}

.charsheet .beta-feature-crp-combat-confirmation-rolls:checked + div.beta-feature-crp-combat-confirmation-rolls {
	display: block;
}

/*--------------------------------------------Darkmode-------------------------------------*/

/* Temporary fix until proper darkmode CSS is implemented */
.sheet-darkmode .characterviewer label,
.sheet-rolltemplate-darkmode table th {
    color: var(--color-foreground) !important;
}

/* end CSS */

<div class="mb--3">
    <img width="300"
        src="https://imgsrv.roll20.net?src=https%3A//raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/Splittermond.png"
        style="display: inline;">
    <!--    <img width="300"
        src="https://imgsrv.roll20.net?src=https%3A//raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/Splittermond_w.png"
        style="display: inline;">-->
    <div style="display: inline-block; vertical-align: text-top;">
        <span style="display: block;">Splittermond Charakterbogen f&uuml;r <b>Roll20</b> (v. 2.2.2)</span>
        <span style="display: block;">Original Idee und Umsetzung von <b>Loki</b>, Design von <b>Andernath</b></span>
        <span style="display: block;">Weiterentwickelt von <b>0dr</b> </span>
    </div>
</div>  

<input type="checkbox" name="attr_theme" class="d--none theme" value="1" />
<input type="checkbox" class="isPC group__option" value="1" name="attr_pc" checked />
<input type="checkbox" class="isNPC group__option" value="0" name="attr_pc" />
<input type="checkbox" class="isCreature group__option" value="2" name="attr_pc" />
<input type="checkbox" class="d--none tab7" value="7" title="Genesis-Import" name="attr_pc" />
<input type="checkbox" class="d--none tab5" value="5" title="Einstellungen" name="attr_pc" />

<div class="creature">
    <div class="section">
        <table width="100%">
            <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; font-weight: bold; text-align: center;" width="100%">
                <td width="10%" bgcolor="#66BDED" st="color:white; border: 1px solid #66BDED; padding: 5px;">
                    Name:
                </td>
                <td width="23,68%">
                    <input type="text" name="attr_creature_name" style="background-color: #C7EAFF;">
                </td>
                <td  width="10%" bgcolor="#66BDED" style="color:white;">
                    Art:
                </td>
                <td width="15,79%">
                    <input type="text" name="attr_creature_kind" style="background-color: #C7EAFF;">
                </td>
                <td  width="10%" bgcolor="#66BDED" style="color:white;">
                    Einstellung:
                </td>
                <td width="15,79%">
                    <input type="text" name="attr_creature_attitude" style="background-color: #C7EAFF;">
                </td>
                <td width="10%" bgcolor="#66BDED" style="color:white;">
                    Potenzial:
                <td  width="4,74%">
                    <input type="text" name="attr_creature_potential" style="background-color: #C7EAFF;">
                </td>
            </tr>
            <tr>
                <td colspan="8">&nbsp;</td>
            </tr>
            <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; font-weight: bold; text-align: center;" width="100%">
                <td width="10%" bgcolor="#66BDED" style="color:white">
                    Typus
                </td>
                <td width="23,68%">
                    <input type="text" name="attr_creature_type" style="background-color: #C7EAFF;">
                <td  width="10%" bgcolor="#66BDED" style="color:white">
                </td>
                <td width="40,53%" colspan="5">
                    <input type="text" name="attr_creature_appearance" style="background-color: #C7EAFF;">
                </td>
            </tr>
        </table> 
        <table>
            <tr>
                <td>&nbsp;</td>
            </tr>
        </table>
        <table width="100%">
            <tr>
                <td width="45%">
                    <table>
                        <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; font-weight: bold; text-align: center;" width="100%">
                            <td width="5%" bgcolor="#66BDED" style="color:white">
                                AUS
                            </td>
                            <td width="5%">
                                <input type="number" name="attr_creature_ausstrahlung" style="background-color: #C7EAFF; text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                MYS
                            </td>
                            <td width="5%" colspan="5">
                                <input type="number" name="attr_creature_mystik" style="background-color: #C7EAFF; text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                GK
                            </td>
                            <td width="5%" colspan="5">
                                <input type="number" name="attr_creature_groessenklasse" style="background-color: #C7EAFF; text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                VTD
                            </td>
                            <td width="5%" colspan="5">
                                <input type="number" name="attr_creature_verteidigung" style="background-color: #C7EAFF; text-align: center;" value="1">
                                <input type="hidden" name="attr_creature_verteidigung_gesamt" value="1" />
                            </td>
                        </tr>
                        <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; font-weight: bold; text-align: center;" width="100%">
                            <td width="5%" bgcolor="#66BDED" style="color:white">
                                BEW
                            </td>
                            <td width="5%" bgcolor="white">
                                <input type="number" name="attr_creature_beweglichkeit" style="text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                ST&Auml;
                            </td>
                            <td width="5%" colspan="5" bgcolor="white" align="center">
                                <input type="number" name="attr_creature_staerke" style="text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                GSW
                            </td>
                            <td width="5%" colspan="5" bgcolor="white" align="center">
                                <input type="number" name="attr_creature_geschwindigkeit" style="text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                SR
                            </td>
                            <input type="hidden" name="attr_creature_sr_ruestung" value="0" />
                            <td width="5%" colspan="5" bgcolor="white" align="center">
                                <input type="number" name="attr_creature_schadensreduktion" style="text-align: center;" value="1">
                            </td>
                        </tr>
                        <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; font-weight: bold; text-align: center;" width="100%">
                            <td width="5%" bgcolor="#66BDED" style="color:white">
                                INT
                            </td>
                            <td width="5%" align="center">
                                <input type="number" name="attr_creature_inutition" style="background-color: #C7EAFF; text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                VER
                            </td>
                            <td width="5%" colspan="5" align="center">
                                <input type="number" name="attr_creature_verstand" style="background-color: #C7EAFF; text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                LP
                            </td>
                            <td width="5%" colspan="5" align="center">
                                <input type="number" name="attr_creature_lebenspunkte" style="background-color: #C7EAFF; text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                GW
                            </td>
                            <td width="5%" colspan="5" align="center">
                                <input type="number" name="attr_creature_geistigerwiderstand" style="background-color: #C7EAFF; text-align: center;" value="1">
                            </td>
                        </tr>
                        <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; font-weight: bold; text-align: center;" width="100%">
                            <td width="5%" bgcolor="#66BDED" style="color:white">
                                KON
                            </td>
                            <td width="5%" bgcolor="white" align="center">
                                <input type="number" name="attr_creature_konstitution" style="text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                WIL
                            </td>
                            <td width="5%" bgcolor="white" colspan="5" align="center">
                                <input type="number" name="attr_creature_willenskraft" style="text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                FO
                            </td>
                            <td width="5%" bgcolor="white" colspan="5" align="center">
                                <input type="number" name="attr_creature_fokus" style="text-align: center;" value="1">
                            </td>
                            <td  width="5%" bgcolor="#66BDED" style="color:white">
                                KW
                            </td>
                            <td width="5%" bgcolor="white" colspan="5" align="center">
                                <input type="number" name="attr_creature_koerperlicherwiderstand" style="text-align: center;" value="1">
                            </td>
                        </tr>
                    </table>
                </td>
                <td widht="10%" align="center">&nbsp;</td>
                <td width="45%">
                    <table width="100%">
                        <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; font-weight: bold; text-align: center;" width="100%">
                            <td colspan="3" width="100%" bgcolor="#66BDED"bgcolor="white" style="color:white;">
                                Diverses
                            </td>
                        </tr>
                        <tr style="padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; text-align: center;" bgcolor="#C7EAFF">
                            <td align="center">Initiative:</td>
                            <td><input type=number style="width: 4em; font-weight: bold; text-align: center; background-color:#C7EAFF;" min="1" name="attr_creatureinitiative" value="1"></td>
                            <td align="center"><button type=roll value="&{template:splittermond_initiative} {{name=Initiative}} {{charactername=@{creature_name}}} {{Wurf=[[@{creatureinitiative} - 1d6]]}}"></button></td>
                        </tr>
                        <tr style="padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; text-align: center;" bgcolor="#C7EAFF">
                            <td align="center">Akrobatik <button type=roll value="&{template:splittermond_aktiveabwehr} {{naming=[[3d1]]}} {{charactername=@{creature_name}}} {{dmg=[[1d6]]}} {{def=[[1d0]]}} {{Wurf=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Akrobatik|0} - @{schadensmodnsc}]]}} {{Ticks=[[3]]}} {{schwierigkeit=[[?{Schwierigkeit|15}]]}} {{v=[[1d0 + @{creature_verteidigung_gesamt}]]}} {{v1=[[1d1 + @{creature_verteidigung_gesamt}]]}} {{v2=[[2d1 + @{creature_verteidigung_gesamt}]]}} {{v3=[[3d1 + @{creature_verteidigung_gesamt}]]}} {{v4=[[4d1 + @{creature_verteidigung_gesamt}]]}} {{v5=[[5d1 + @{creature_verteidigung_gesamt}]]}} {{v6=[[6d1 + @{creature_verteidigung_gesamt}]]}} {{v7=[[7d1 + @{creature_verteidigung_gesamt}]]}} {{v8=[[8d1 + @{creature_verteidigung_gesamt}]]}} {{v9=[[9d1 + @{creature_verteidigung_gesamt}]]}} {{v10=[[10d1 + @{creature_verteidigung_gesamt}]]}} {{v11=[[11d1 + @{creature_verteidigung_gesamt}]]}} {{v12=[[12d1 + @{creature_verteidigung_gesamt}]]}} {{v13=[[13d1 + @{creature_verteidigung_gesamt}]]}} {{v14=[[14d1 + @{creature_verteidigung_gesamt}]]}} {{v15=[[15d1 + @{creature_verteidigung_gesamt}]]}} {{v16=[[16d1 + @{creature_verteidigung_gesamt}]]}} {{v17=[[17d1 + @{creature_verteidigung_gesamt}]]}} {{v18=[[18d1 + @{creature_verteidigung_gesamt}]]}} {{v19=[[19d1 + @{creature_verteidigung_gesamt}]]}} {{v20=[[20d1 + @{creature_verteidigung_gesamt}]]}} {{v21=[[21d1 + @{creature_verteidigung_gesamt}]]}}"></button></td>
                            <td align="center">KW <button type=roll value="&{template:splittermond_aktiveabwehr} {{naming=[[1d0]]}} {{charactername=@{creature_name}}} {{dmg=[[1d6]]}} {{def=[[1d0]]}} {{Wurf=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Zähigkeit|0} - @{schadensmodnsc}]]}} {{Ticks=[[3]]}} {{schwierigkeit=[[?{Schwierigkeit|15}]]}} {{v=[[1d0 + @{creature_koerperlicherwiderstand}]]}} {{v1=[[1d1 + @{creature_koerperlicherwiderstand}]]}} {{v2=[[2d1 + @{creature_koerperlicherwiderstand}]]}} {{v3=[[3d1 + @{creature_koerperlicherwiderstand}]]}} {{v4=[[4d1 + @{creature_koerperlicherwiderstand}]]}} {{v5=[[5d1 + @{creature_koerperlicherwiderstand}]]}} {{v6=[[6d1 + @{creature_koerperlicherwiderstand}]]}} {{v7=[[7d1 + @{creature_koerperlicherwiderstand}]]}} {{v8=[[8d1 + @{creature_koerperlicherwiderstand}]]}} {{v9=[[9d1 + @{creature_koerperlicherwiderstand}]]}} {{v10=[[10d1 + @{creature_koerperlicherwiderstand}]]}} {{v11=[[11d1 + @{creature_koerperlicherwiderstand}]]}} {{v12=[[12d1 + @{creature_koerperlicherwiderstand}]]}} {{v13=[[13d1 + @{creature_koerperlicherwiderstand}]]}} {{v14=[[14d1 + @{creature_koerperlicherwiderstand}]]}} {{v15=[[15d1 + @{creature_koerperlicherwiderstand}]]}} {{v16=[[16d1 + @{creature_koerperlicherwiderstand}]]}} {{v17=[[17d1 + @{creature_koerperlicherwiderstand}]]}} {{v18=[[18d1 + @{creature_koerperlicherwiderstand}]]}} {{v19=[[19d1 + @{creature_koerperlicherwiderstand}]]}} {{v20=[[20d1 + @{creature_koerperlicherwiderstand}]]}} {{v21=[[21d1 + @{creature_koerperlicherwiderstand}]]}}"></button></td>
                            <td align="center">GW <button type=roll value="&{template:splittermond_aktiveabwehr} {{naming=[[1d1]]}} {{charactername=@{creature_name}}} {{dmg=[[1d6]]}} {{def=[[1d0]]}} {{Wurf=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + ?{Entschlossenheit|0}- @{schadensmodnsc}]]}} {{Ticks=[[3]]}} {{schwierigkeit=[[?{Schwierigkeit|15}]]}} {{v=[[1d0 + @{creature_geistigerwiderstand}]]}} {{v1=[[1d1 + @{creature_geistigerwiderstand}]]}} {{v2=[[2d1 + @{creature_geistigerwiderstand}]]}} {{v3=[[3d1 + @{creature_geistigerwiderstand}]]}} {{v4=[[4d1 + @{creature_geistigerwiderstand}]]}} {{v5=[[5d1 + @{creature_geistigerwiderstand}]]}} {{v6=[[6d1 + @{creature_geistigerwiderstand}]]}} {{v7=[[7d1 + @{creature_geistigerwiderstand}]]}} {{v8=[[8d1 + @{creature_geistigerwiderstand}]]}} {{v9=[[9d1 + @{creature_geistigerwiderstand}]]}} {{v10=[[10d1 + @{creature_geistigerwiderstand}]]}} {{v11=[[11d1 + @{creature_geistigerwiderstand}]]}} {{v12=[[12d1 + @{creature_geistigerwiderstand}]]}} {{v13=[[13d1 + creature_geistigerwiderstand}]]}} {{v14=[[14d1 + @{creature_geistigerwiderstand}]]}} {{v15=[[15d1 + @{creature_geistigerwiderstand}]]}} {{v16=[[16d1 + @{creature_geistigerwiderstand}]]}} {{v17=[[17d1 + @{creature_geistigerwiderstand}]]}} {{v18=[[18d1 + @{creature_geistigerwiderstand}]]}} {{v19=[[19d1 + @{creature_geistigerwiderstand}]]}} {{v20=[[20d1 + @{creature_geistigerwiderstand}]]}} {{v21=[[21d1 + @{creature_geistigerwiderstand}]]}}"></button></td>
                        </tr>
                        <tr style="padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; text-align: center;" bgcolor="#C7EAFF">
                            <td>Kampfpatzer <button type=roll value="&{template:splittermond_patzer} {{naming=[[2]]}} {{charactername=@{creature_name}}} {{result=[[2d10]]}}"></button></td>
                            <td>&nbsp;</td>
                            <td>Zauberpatzer <button type=roll value="&{template:splittermond_patzer} {{charactername=@{creature_name}}} {{naming=[[?{Zauber- oder Priesterpatzer?|Zauberpatzer, 1|Priesterpatzer, 0}]]}} {{result=[[2d10 + ?{Negative Erfolgsgrade|1} * ?{Fokuskosten|1}]]}} {{fk=[[?{Fokuskontrolle oder Nichts passiert?|------, 0|Fokuskontrolle, 1|Nichts passiert!, 2}]]}} {{sbm=[[?{Stabile Magie?|------, 0|Stabile Magie, 1}]]}} {{s1=[[1d6]]}} {{s2=[[2d6]]}} {{s3=[[2d10]]}} {{s4=[[3d10]]}} {{s5=[[4d10]]}} {{s6=[[5d10]]}} {{s7=[[7d10]]}} {{s8=[[10d10]]}}"></button></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td>&nbsp;</td>
            </tr>
        </table>
        <table>
            <tr width="100%">
                <td>
                    <table style="border: 1px solid #66BDED">
                        <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; background-color: #66BDED; font-weight: bold; text-align: center;" width="100%">
                            <td width="15%">Waffe</td>
                            <td width="5%">Wert</td>
                            <td width="5%">WGS</td>
                            <td width="20%" colspan="4">Schaden</td>
                            <td width="5%">INI</td>
                            <td width="5%">Mod.</td>
                            <td width="30%">Merkmale</td>
                            <td width="15%" colspan="2">W&uuml;rfeln</td>
                        </tr>
                        <tr style="border: 1px solid #66BDED;">
                            <td width="15%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="text" name="attr_waffenkreatur_name1" style="background-color: #C7EAFF;" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_waffenkreatur_wert1" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_waffenkreatur_wgs1" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="text" name="attr_waffenkreatur_schaden11" value="1" style="background-color: #C7EAFF;">
                            </td>
                            <td width="10%" style="text-align: center;" bgcolor="#C7EAFF">
                                <select name="attr_waffenkreatur_wuerfel1" class="dtype" style="background-color: #C7EAFF;">  
                                    <option value="d6" selected="selected">W6</option>
                                    <option value="d10">W10</option>
                                </select>
                            </td>
                            <td style="text-align: center;" bgcolor="#C7EAFF">
                                +
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                               <input type="text" name="attr_waffenkreatur_schaden21" value="0" style="background-color: #C7EAFF;" />
                            </td>    
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_waffenkreatur_ini1" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_waffenkreatur_mod1" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="35%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="text" name="attr_waffenkreatur_merkmale1" style="background-color: #C7EAFF;"/>
                            </td>
                            <td width="7.5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <button type=roll class="button-attack" value="&{template:splittermond_generic} {{name=Waffe: @{waffenkreatur_name1}}} {{damage=@{rolldamagecreature1}}} {{charactername=@{creature_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + @{waffenkreatur_wert1} + @{waffenkreatur_mod1}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{Ticks=[[@{waffenkreatur_wgs1}+@{creature_tickplus_ruestung}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </td>
                            <td width="7.5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <button type=roll class="button-defense" value="&{template:splittermond_aktiveabwehr} {{waffenname=@{waffenkreatur_name1}}} {{def=[[1d0]]}} {{naming=[[2d1]]}} {{charactername=@{creature_name}}} {{Wurf=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{waffenkreatur_wert1} + @{waffenkreatur_mod1}]]}} {{Ticks=[[3]]}} {{schwierigkeit=[[?{Schwierigkeit|15}]]}} {{v=[[1d0 + @{creature_verteidigung_gesamt}]]}} {{v1=[[1d1 + @{creature_verteidigung_gesamt}]]}} {{v2=[[2d1 + @{creature_verteidigung_gesamt}]]}} {{v3=[[3d1 + @{creature_verteidigung_gesamt}]]}} {{v4=[[4d1 + @{creature_verteidigung_gesamt}]]}} {{v5=[[5d1 + @{creature_verteidigung_gesamt}]]}} {{v6=[[6d1 + @{creature_verteidigung_gesamt}]]}} {{v7=[[7d1 + @{creature_verteidigung_gesamt}]]}} {{v8=[[8d1 + @{verteidigung}]]}} {{v9=[[9d1 + @{creature_verteidigung_gesamt}]]}} {{v10=[[10d1 + @{creature_verteidigung_gesamt}]]}} {{v11=[[11d1 + @{creature_verteidigung_gesamt}]]}} {{v12=[[12d1 + @{creature_verteidigung_gesamt}]]}} {{v13=[[13d1 + @{creature_verteidigung_gesamt}]]}} {{v14=[[14d1 + @{creature_verteidigung_gesamt}]]}} {{v15=[[15d1 + @{creature_verteidigung_gesamt}]]}} {{v16=[[16d1 + @{creature_verteidigung_gesamt}]]}} {{v17=[[17d1 + @{creature_verteidigung_gesamt}]]}} {{v18=[[18d1 + @{creature_verteidigung_gesamt}]]}} {{v19=[[19d1 + @{creature_verteidigung_gesamt}]]}} {{v20=[[20d1 + @{creature_verteidigung_gesamt}]]}} {{v21=[[21d1 + @{creature_verteidigung_gesamt}]]}}"></button>
                            </td>
                            <input type="hidden" name="attr_waffenexakt_creature1" style="font-weight: bold; font-size: 10px; text-align: center;" value="0" />
                            <input type="hidden" name="attr_waffenscharf_creature1" style="font-weight: bold; font-size: 10px; text-align: center;" value="0"  />
                            <input type="hidden" name="attr_waffenkritisch_creature1" style="font-weight: bold; font-size: 10px; text-align: center;" value="0"  />
                            <input type="hidden" name="attr_damagerollcreature1" />
                            <input type="hidden" name="attr_rolldamagecreature1" value="[Wirf!](~show_damage_creature1)" />
                            <button type="roll" name="roll_show_damage_creature1" style="display: none" value="@{showing_damage_creature1}" class="btn ui-draggable"></button>
                            <input type="hidden" name="attr_showing_damage_creature1" value="&{template:splittermond_damage} {{charactername=@{creature_name}}} {{name=Waffe: @{waffenkreatur_name1}}} {{damage=[[@{damagerollcreature1}]]}}" />
                        </tr>
                        <tr>
                            <td width="15%" style="text-align: center;">
                                <input type="text" name="attr_waffenkreatur_name2" />
                            </td>
                            <td width="5%" style="text-align: center;">
                                <input type="number" name="attr_waffenkreatur_wert2" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;">
                                <input type="number" name="attr_waffenkreatur_wgs2" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;">
                                <input type="text" name="attr_waffenkreatur_schaden12" value="1">
                            </td>
                            <td width="10%" style="text-align: center;">
                                <select name="attr_waffenkreatur_wuerfel2" class="dtype">  
                                    <option value="d6" selected="selected">W6</option>
                                    <option value="d10">W10</option>
                                </select>
                            </td>
                            <td style="text-align: center;">
                                +
                            </td>
                            <td width="5%" style="text-align: center;">
                               <input type="text" name="attr_waffenkreatur_schaden22" value="0" />
                            </td>    
                            <td width="5%" style="text-align: center;">
                                <input type="number" name="attr_waffenkreatur_ini2" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;">
                                <input type="number" name="attr_waffenkreatur_mod2" value="0" />
                            </td>
                            <td width="35%" style="text-align: center;">
                                <input type="text" name="attr_waffenkreatur_merkmale2" />
                            </td>
                            <td width="7.5%" style="text-align: center;">
                                <button type=roll class="button-attack" value="&{template:splittermond_generic} {{name=Waffe: @{waffenkreatur_name2}}} {{damage=@{rolldamagecreature2}}} {{charactername=@{creature_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + @{waffenkreatur_wert2} + @{waffenkreatur_mod2}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{Ticks=[[@{waffenkreatur_wgs1}+@{creature_tickplus_ruestung}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </td>
                            <td width="7.5%" style="text-align: center;">
                                <button type=roll class="button-defense" value="&{template:splittermond_aktiveabwehr} {{waffenname=@{waffenkreatur_name2}}} {{def=[[1d0]]}} {{naming=[[2d1]]}} {{charactername=@{creature_name}}} {{Wurf=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{waffenkreatur_wert2} + @{waffenkreatur_mod2}]]}} {{schwierigkeit=[[?{Schwierigkeit|15}]]}} {{Ticks=[[3]]}} {{v=[[1d0 + @{creature_verteidigung_gesamt}]]}} {{v1=[[1d1 + @{creature_verteidigung_gesamt}]]}} {{v2=[[2d1 + @{creature_verteidigung_gesamt}]]}} {{v3=[[3d1 + @{creature_verteidigung_gesamt}]]}} {{v4=[[4d1 + @{creature_verteidigung_gesamt}]]}} {{v5=[[5d1 + @{creature_verteidigung_gesamt}]]}} {{v6=[[6d1 + @{creature_verteidigung_gesamt}]]}} {{v7=[[7d1 + @{creature_verteidigung_gesamt}]]}} {{v8=[[8d1 + @{verteidigung}]]}} {{v9=[[9d1 + @{creature_verteidigung_gesamt}]]}} {{v10=[[10d1 + @{creature_verteidigung_gesamt}]]}} {{v11=[[11d1 + @{creature_verteidigung_gesamt}]]}} {{v12=[[12d1 + @{creature_verteidigung_gesamt}]]}} {{v13=[[13d1 + @{creature_verteidigung_gesamt}]]}} {{v14=[[14d1 + @{creature_verteidigung_gesamt}]]}} {{v15=[[15d1 + @{creature_verteidigung_gesamt}]]}} {{v16=[[16d1 + @{creature_verteidigung_gesamt}]]}} {{v17=[[17d1 + @{creature_verteidigung_gesamt}]]}} {{v18=[[18d1 + @{creature_verteidigung_gesamt}]]}} {{v19=[[19d1 + @{creature_verteidigung_gesamt}]]}} {{v20=[[20d1 + @{creature_verteidigung_gesamt}]]}} {{v21=[[21d1 + @{creature_verteidigung_gesamt}]]}}"></button>
                            </td>
                            <input type="hidden" name="attr_waffenexakt_creature2" style="font-weight: bold; font-size: 10px; text-align: center;" value="0" />
                            <input type="hidden" name="attr_waffenscharf_creature2" style="font-weight: bold; font-size: 10px; text-align: center;" value="0"  />
                            <input type="hidden" name="attr_waffenkritisch_creature2" style="font-weight: bold; font-size: 10px; text-align: center;" value="0"  />
                            <input type="hidden" name="attr_damagerollcreature2" />
                            <input type="hidden" name="attr_rolldamagecreature2" value="[Wirf!](~show_damage_creature2)" />
                            <button type="roll" name="roll_show_damage_creature2" style="display: none" value="@{showing_damage_creature2}" class="btn ui-draggable"></button>
                            <input type="hidden" name="attr_showing_damage_creature2" value="&{template:splittermond_damage} {{charactername=@{creature_name}}} {{name=Waffe: @{waffenkreatur_name1}}} {{damage=[[@{damagerollcreature2}]]}}" />
                        </tr>
                <td>
            </tr>
        </table>
        <table>
            <tr>
                <td>&nbsp;</td>
            </tr>
        </table>
        <table style="border: 1px solid #66BDED" width="100%" border=1>
            <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; background-color: #66BDED; font-weight: bold; text-align: center;" width="100%">
                <td width="20%"><b>Zauberspruch</b></td>
                <td width="20%"><b>Magieschule</b></td>
                <td width="7.5%"><b>Wert</b></td>
                <td width="7.5%"><b>SG</b></td>
                <td width="7.5%"><b>Kosten</b></td>
                <td width="5.5%"><b>ZD</b></td>
                <td width="5%"><b>RW</b></td>
                <td width="5%"><b>WD</b></td>
                <td width="5%"><b>Mod.</b></td>
                <td width="8%"><b>W&uuml;rfeln</b></td>
            </tr>
            <tr style="width:100%">
                <td colspan="10" width="100%">
                    <fieldset class="repeating_creaturensc">
                        <input type="text" name="attr_zaubernamecreature" style='width: 22%;'>
                        <select name="attr_magieschulencreature" class="dtype" style="width: 21%;">
                            <option value="nix"></option>
                            <option value="arkanekundezauber">Arkane Kunde</option>
                            <option value="bann">Bann</option>
                            <option value="beherrschung">Beherrschung</option>
                            <option value="bewegung">Bewegung</option>
                            <option value="erkenntnis">Erkenntnis</option>
                            <option value="fels">Fels</option>
                            <option value="feuer">Feuer</option>
                            <option value="heilung">Heilung</option>
                            <option value="illusion">Illusion</option>
                            <option value="kampf">Kampf</option>
                            <option value="licht">Licht</option>
                            <option value="natur">Natur</option>
                            <option value="schatten">Schatten</option>
                            <option value="schicksal">Schicksal</option>
                            <option value="schutz">Schutz</option>
                            <option value="staerkung">St&auml;rkung</option>
                            <option value="tod">Tod</option>
                            <option value="verwandlung">Verwandlung</option>
                            <option value="wasser">Wasser</option>
                            <option value="wind">Wind</option>
                        </select>
                        <input type="number" name="attr_zauberwertcreature" style='width: 8.5%; text-align:center;' value="0">
                        <input type="text" name="attr_zauberschwierigkeitcreature" style="width: 8.5%; text-align: center;" value="0">
                        <input type="text" name="attr_zauberkostencreature" style="width: 7.5%; text-align: center;">
                        <input type="text" name="attr_zauberdauercreature" style="width: 4.5%; text-align: center;">
                        <input type="text" name="attr_zauberrwcreature" style="width: 5.5%; text-align: center;">
                        <input type="text" name="attr_zauberwdcreature" style="width: 5.5%; text-align: center;">
                        <input type="text" name="attr_zaubermodcreature" style="width: 5.5%; text-align:center;">
                        <button type=roll class="button-ability" value="&{template:splittermond_generic} {{name=Zauber: @{zaubernamecreature}}} {{charactername=@{creature_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{zauberwertcreature} + @{zaubermodcreature}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|@{zauberschwierigkeitcreature}}]]}} {{fokus=@{zauberkostencreature}}} {{Ticks=[[3]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        <button type=roll class="button-dm" value="/w GM &{template:splittermond_generic} {{name=Zauber: @{zaubernamecreature}}} {{charactername=@{creature_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{zauberwertcreature} + @{zaubermodcreature}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|@{zauberschwierigkeitcreature}}]]}} {{fokus=@{zauberkostencreature}}} {{Ticks=[[3]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                    </fieldset>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td>&nbsp;</td>
            </tr>
        </table>
        <table width="100%" border=0>
            <tr>
                 <td width="45%">
                    <table width="100%">
                        <tr bgcolor="#C7EAFF" style="color:white; background-color: #66BDED;" align="center">
                            <td width="20%"><b>Meisterschaften</b></td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                <fieldset class="repeating_meisterschaftencreature">
                                    <input type=text name="attr_meisterschaftcreature">
                                </fieldset>
                            </td>
                        </tr>
                    </table>
                </td>
                <td width="10%">
                    &nbsp;
                </td>
                <td width="45%">
                    <table width="100%">
                        <tr bgcolor="#C7EAFF" style="color:white; background-color: #66BDED;" align="center">
                            <td width="20%"><b>Merkmale</b></td>
                        </tr>
                        <tr>
                            <td colspan="4">
                                <fieldset class="repeating_merkmalecreature">
                                    <input type=text name="attr_merkmaltcreature">
                                </fieldset>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td width="45%">
                    <table width="100%">
                        <tr bgcolor="#C7EAFF" style="color:white; background-color: #66BDED;" align="center">
                            <td width="100%"><b>Abrichtungen</b></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <fieldset class="repeating_abrichtungencreature">
                                    <input type=text name="attr_abrichtungcreature">
                                </fieldset>
                            </td>
                        </tr>
                    </table>
                </td>
                <td width="10%">
                    &nbsp;
                </td>
                <td width="45%">
                    <table width="100%">
                        <tr bgcolor="#C7EAFF" style="color:white; background-color: #66BDED;" align="center">
                            <td width="100%"><b>Ausr&uuml;stung</b></td>
                        </tr>
                        <tr>
                            <td colspan="2">
                                <fieldset class="repeating_ausruestungcreature">
                                    <input type=text name="attr_ausruestungcreature">
                                </fieldset>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td width="50%">
                     <table width="100%">
                        <tr bgcolor="#C7EAFF" style="color:white; background-color: #66BDED;" align="center">
                            <td width="50%"><b>Fertigkeit</b></td>
                            <td width="20%"><b>Stufe</b></td>
                            <td width="30%"><b>W&uuml;rfeln</b></td>
                        </tr>
                        <tr>
                            <td colspan="3">
                                <fieldset class="repeating_fertigkeitencreature">
                                    <input type=text style="width: 50%;" name="attr_fertigkeitcreature">
                                    <input type=text style="width: 20%;" name="attr_fertigkeitsstufecreature">
                                    <button type=roll class="button-ability" value="&{template:splittermond_generic} {{name=@{fertigkeitcreature}}} {{charactername=@{creature_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{fertigkeitsstufecreature}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                                    <button type=roll class="button-dm" value="/w GM &{template:splittermond_generic} {{name=@{fertigkeitcreature}}} {{charactername=@{creature_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{fertigkeitsstufecreature}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                                </fieldset>
                            </td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <table>
            <tr>
                <td>&nbsp;</td>
            </tr>
        </table>
        <table width="100%">
            <tr width="100%">
                <td>
                    <table style="border: 1px solid #66BDED" width="100%">
                        <tr bgcolor="#C7EAFF" style="color: white; padding-top: 10%; padding-bottom: 10%; border: 1px solid #66BDED; background-color: #66BDED; font-weight: bold; text-align: center;" width="100%">
                            <td width="35%">R&uuml;stung</td>
                            <td width="5%">VTD</td>
                            <td width="5%">SR</td>
                            <td width="5%">Behinderung</td>
                            <td width="5%">Tick+</td>
                            <td width="35%">Merkmale</td>
                            <td width="10%">Aktiv?</td>
                        </tr>
                        <tr style="border: 1px solid #66BDED;">
                            <td width="35%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="text" name="attr_ruestungkreatur_name" style="background-color: #C7EAFF;" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_ruestungkreatur_vtd" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_ruestungkreatur_sr" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_ruestungkreatur_beh" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="5%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="number" name="attr_ruestungkreatur_tickplus" style="background-color: #C7EAFF;" value="0" />
                            </td>
                            <td width="35%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="text" name="attr_ruestungkreatur_merkmale" style="background-color: #C7EAFF;" />
                            </td>
                            <td width="10%" style="text-align: center;" bgcolor="#C7EAFF">
                                <input type="checkbox" value="1" name="attr_ruestungkreatur_onoff" />
                            </td>
                            <input type="hidden" name="attr_creature_tickplus_ruestung" value="0" />
                            <input type="hidden" name="attr_creature_vtd_ruestung" value="0" />
                            <input type="hidden" name="attr_creature_sr_ruestung" value="0" />
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
</div>

<div class="npc">
    <div class="section">
         <table>
            <tr bgcolor="#0489B1" style="color:white">
                <td align="center"><b>Name</b></td>
            </tr>
            <tr bgcolor="#81BEF7">
                <td><input type="text" name="attr_namensc" style="background-color:#81BEF7" /></td>
            </tr>
        </table>
        <br /><br />
        <table width="25%">
            <tr bgcolor="#0489B1" style="color:white">
                <td align="center"><b>NSC-Schablone</b></td>
            </tr>
            <tr bgcolor="#81BEF7">
                <td>
                    <select name="attr_nsctemplate" class="dtype" width="25%" style="background-color:#81BEF7">  
                        <option value="baumwandler">Baumwandler</option>
                        <option value="daemmerweide">D&auml;mmerweide</option>
                        <option value="dryade">Dryade</option>
                        <option value="felsling">Felsling</option>
                        <option value="feuerdjinn">Feuerdjinn</option>
                        <option value="finsterschwinge">Finsterschwinge</option>
                        <option value="flimmerfee">Flimmerfee</option>
                        <option value="gargyl">Gargyl</option>
                        <option value="geisterhafterkrieger">Geisterhafter Krieger</option>
                        <option value="geisterwolf">Geisterwolf</option>
                        <option value="ghul">Ghul</option>
                        <option value="grabbeisser">Grabbei&szlig;er</option>
                        <option value="harpyie">Harpyie</option>
                        <option value="hydra">Hydra</option>
                        <option value="oger">Oger</option>
                        <option value="orkkrieger">Orkkrieger</option>
                        <option value="orkspaeher">Orksp&auml;her</option>
                        <option value="rattling">Rattling</option>
                        <option value="raeuber">R&auml;uber</option>
                        <option value="raubritter">Raubritter</option>
                        <option value="raubskarabaeus">Raubskarab&auml;us</option>
                        <option value="riesenspinne">Riesenspinne</option>
                        <option value="sanddrache">Sanddrache</option>
                        <option value="schattenweber">Schattenweber</option>
                        <option value="schnappechse">Schnappechse</option>
                        <option value="skelett">Skelett</option>
                        <option value="soeldner">S&ouml;ldner</option>
                        <option value="spuk">Spuk</option>
                        <option value="traumbringer">Traumbringer</option>
                        <option value="waldbestie">Waldbestie</option>
                        <option value="walddrache">Walddrache</option>
                        <option value="wandelnderleichnam">Wandelnder Leichnam</option>
                        <option value="zaubermeister">Zaubermeister</option>
                        <option value="nothing">---------- Tiere ----------</option>
                        <option value="adler">Adler</option>
                        <option value="alligator">Alligator</option>
                        <option value="auerochse">Auerochse</option>
                        <option value="baer">B&auml;r</option>
                        <option value="falke">Falke</option>
                        <option value="hai">Hai</option>
                        <option value="hyaene">Hy&auml;ne</option>
                        <option value="jaguar">Jaguar</option>
                        <option value="kampfhund">Kampfhund</option>
                        <option value="loewe">L&ouml;we</option>
                        <option value="nashorn">Nashorn</option>
                        <option value="pferd">Pferd</option>
                        <option value="riesenschlange">Riesenschlange</option>
                        <option value="skorpion">Skorpion</option>
                        <option value="taube">Taube</option>
                        <option value="wildschwein">Wildschwein</option>
                        <option value="wolf">Wolf</option>
                    </select>
                </td>
            </tr>
        </table>
        <br /><br />
        <table width="50%" style="font-weight: bold">
            <tr>
                <td>
                    <div class=sheet-formblock>
                        <table class="stripes">
                            <tr bgcolor="#0489B1" style="color:white">
                                <td>Name</td>
                                <td>Wert</td>
                            </tr>
                            <tr bgcolor="#81BEF7">
                                <td>Ausstrahlung</td>
                                <td><input type=number style="width: 4em; font-weight: bold; background-color:#81BEF7; text-align: center" name="attr_ausstrahlungnsc" value="0"></td>
                            </tr>
                            <tr>
                                <td>Beweglichkeit</td>
                                <td><input type=number style="width: 4em; font-weight: bold; text-align: center" name="attr_beweglichkeitnsc" value="0"></td>
                            </tr>
                            <tr bgcolor="#81BEF7">
                                <td>Intuition</td>
                                <td><input type=number style="width: 4em; font-weight: bold; background-color:#81BEF7; text-align: center" name="attr_intuitionnsc" value="0"></td>
                            </tr>
                            <tr>
                                <td>Konstitution</td>
                                <td><input type=number style="width: 4em; font-weight: bold; text-align: center" name="attr_konstitutionnsc" value="0"></td>
                            </tr>
                            <tr bgcolor="#81BEF7">
                                <td>Mystik</td>
                                <td><input type=number style="width: 4em; font-weight: bold; background-color:#81BEF7; text-align: center" name="attr_mystiknsc" value="0"></td>
                            </tr>
                            <tr>
                                <td>St&auml;rke</td>
                                <td><input type=number style="width: 4em; font-weight: bold; text-align: center" min="0" name="attr_staerkensc" value="0"></td>
                            </tr>
                            <tr bgcolor="#81BEF7">
                                <td>Verstand</td>
                                <td><input type=number style="width: 4em; font-weight: bold; background-color:#81BEF7; text-align: center" name="attr_verstandnsc" value="0"></td>
                            </tr>
                            <tr>
                                <td>Willenskraft</td>
                                <td><input type=number style="width: 4em; font-weight: bold; text-align: center" name="attr_willenskraftnsc" value="0"></td>
                            </tr>
                        </table>
                    </div>
                </td>    
                <td>
                <div class=sheet-formblock>
                    <table>
                        <tr bgcolor="#0489B1" style="color:white">
                            <td color="white"><b>Name</b></td>
                            <td color="white"><b>Wert</b></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Gr&ouml;&szlig;enklasse</td>
                            <td colspan=2><input type=number style="width: 4em; font-weight: bold; background-color:#81BEF7; text-align: center" min="1" name="attr_groessenklassensc" value="1"></td>
                        </tr>
                        <tr>
                            <td>Geschwindigkeit</td>
                            <td><input type=number style="width: 4em; font-weight: bold; text-align: center" name="attr_geschwindigkeitnsc" value="0"></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Lebenspunkte</td>
                            <td><input type=number style="width: 4em; font-weight: bold; text-align: center; background-color:#81BEF7;" name="attr_lebenspunktensc" value="0"></td>
                        </tr>
                        <tr>
                            <td>Fokus</td>
                            <td align="center"><input type="number" name="attr_fokusnscgesamt" value="0" style="width: 4em; font-weight: bold; text-align: center;" /></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Verteidigung</td>
                            <td><input type=number style="width: 4em; font-weight: bold;  background-color:#81BEF7; text-align: center" name="attr_verteidigungnsc" value="0"></td>
                        </tr>
                        <tr>
                            <td>Schadensreduktion</td>
                            <td><input type=number style="width: 4em; font-weight: bold; text-align: center" name="attr_schadensreduktionnsc" value="0"></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>KW</td>
                            <td><input type=number style="width: 4em; font-weight: bold;  background-color:#81BEF7; text-align: center" name="attr_koerperlicherwiderstandnsc" value="0"></td>
                        </tr>
                        <tr>
                            <td>GW</td>
                            <td><input type=number style="width: 4em; font-weight: bold; text-align: center" name="attr_geistigerwiderstandnsc" value="0"></td>
                        </tr>
                    </table>
                </div>
            </tr>
            <tr>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td>
                    <table style="font-weight: bold; padding: 0px; border-collapse: collapse">
                        <tr bgcolor="#0489B1" style="color:white">
                            <td colspan="8" align="center">Diverses</td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td colspan=3>Gesamtlebenspunkte</td>
                            <td align="center"><input type="number" value="0" name="attr_lpnscgesamt" readonly="readonly" style="text-align: center; background-color:#81BEF7;" /></td>
                            <td align="center">K: <input type="number" name="attr_lebenspunktensc_k" min="0" value="0" style="text-align: center; background-color:#81BEF7;" /></td>
                            <td align="center">E: <input type="number" name="attr_lebenspunktensc_e" min="0" value="0" style="text-align: center; background-color:#81BEF7;" /></td>
                            <td align="center">V: <input type="number" name="attr_lebenspunktensc_v" min="0" value="0" style="text-align: center; background-color:#81BEF7;" /></td>
                        </tr>
                        <tr>
                            <td colspan=3>Gesundheitsleisten (1/3/5)</td>
                            <td align="center"><input type="number" value=5 name="attr_nschealth" style="text-align: center;" /></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td colspan=3>Schadensmodifikator</td>
                            <td align="center"><input type="number" name="attr_schadensmodnsc" value="0" readonly="true" style="text-align: center; background-color:#81BEF7;" /></td>
                        </tr>
                        <tr>
                            <td colspan=4 rowspan="2">Schmerzresistenz / -immunit&auml;t</td>
                            <td align="center" colspan="2">Resistenz:</td>
                            <td align="center"><input type="number" value="0" name="attr_schmerzresistenznsc" style="text-align: center;" /></td>
                        </tr>
                        <tr>
                            <td align="center" colspan="2">Immunit&auml;t:</td>
                            <td align="center"><input type="checkbox" value="1" name="attr_schmerzimmunnsc" /></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td colspan="3">Gesamtfokus &nbsp;</td>
                            <td align="center"><input type="number" value="0" name="attr_foknscgesamt" style="text-align: center; background-color:#81BEF7;" /></td>
                            <td align="center">K: <input type="number" name="attr_fokusnsc_k" min="0" value="0" style="text-align: center; background-color:#81BEF7;" /></td>
                            <td align="center">E: <input type="number" name="attr_fokusnsc_e" min="0" value="0" style="text-align: center; background-color:#81BEF7;" /></td>
                            <td align="center">V: <input type="number" name="attr_fokusnsc_v" min="0" value="0" style="text-align: center; background-color:#81BEF7;" /></td>
                        </tr>
                        <tr>
                            <td colspan="4">Aktive Abwehr</td>
                            <td align="center"><b>Akrobatik</b> <button type="action" name="act_akrobatik_nsc" class="sheet-ability-button">0</button></td>
                            <td align="center"><b>KW</b> <button type="action" name="act_kw_nsc" class="sheet-ability-button">0</button></td>
                            <td align="center"><b>GW</b> <button type="action" name="act_gw_nsc" class="sheet-ability-button">0</button></td></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td colspan=2>Initiative</td>
                            <td><input type=number style="width: 4em; font-weight: bold; text-align: center; background-color:#81BEF7;" name="attr_initiativensc" value=1></td>
                            <td align="center"><button type=roll value="&{template:splittermond_initiative} {{name=Initiative}} {{charactername=@{namensc}}} {{Wurf=[[@{initiativensc} - 1d6 @{initracker_input}]]}}"></button></td>
                        </tr>
                        <tr>
                            <td colspan=3>Kampfpatzer</td>
                            <td align="center"><button type=roll value="&{template:splittermond_patzer} {{naming=[[2]]}} {{charactername=@{character_name}}} {{result=[[2d10]]}}"></button></td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td colspan=3>Zauberpatzer</td>
                            <td align="center"><button type=roll value="&{template:splittermond_patzer} {{charactername=@{character_name}}} {{naming=[[?{Zauber- oder Priesterpatzer?|Zauberpatzer, 1|Priesterpatzer, 0}]]}} {{charactername=@{character_name}}} {{result=[[2d10 + ?{Negative Erfolgsgrade|1} * ?{Fokuskosten|1}]]}} {{fk=[[?{Fokuskontrolle oder Nichts passiert?|------, 0|Fokuskontrolle, 1|Nichts passiert!, 2}]]}} {{sbm=[[?{Stabile Magie?|------, 0|Stabile Magie, 1}]]}} {{s1=[[1d6]]}} {{s2=[[2d6]]}} {{s3=[[2d10]]}} {{s4=[[3d10]]}} {{s5=[[4d10]]}} {{s6=[[5d10]]}} {{s7=[[7d10]]}} {{s8=[[10d10]]}}"></button></td>  
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
        <br />
        <div>
            <span style="font-weight: bold;"><span>Roll20 Turn Tracker verwenden?</span>
                <input type="checkbox" value='1' name="attr_initracker_sc" class="initracker_sc" />
                <input type="hidden" name="attr_initracker_input" />
                <div class="initracker_sc_text hidden">
                    <b>Hinweis</b> Token muss angeklickt sein!
                    <h3 class="mb--2 mt--3">Kampfhandlungen</h3>
                    <p>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=zu zielen oder eine Lücke zu suchen}} {{Ticks=[[2 &{tracker:+}]]}}" title="Aufstehen (Liegend)" class="bt_initiative_tracker">Zielen / L&uuml;cke suchen (2 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=die Fernkampfwaffe bereit zu machen}} {{Ticks=[[@{wgs_tracker} &{tracker:+}]]}}" title="Fernkampfwaffe bereitmachen" class="bt_initiative_tracker">Fernkampfwaffe bereitmachen:</button>
                        <input type="number" name="attr_wgs_tracker" value=0 /> Ticks
                    </p>
                    <h3 class="mb--2">Bewegungshandlungen</h3>
                    <p>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=aufzustehen}} {{Ticks=[[6 &{tracker:+}]]}}" title="Aufstehen (Liegend)" class="bt_initiative_tracker">Aufstehen, liegend (6 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=aufzustehen}} {{Ticks=[[3 &{tracker:+}]]}}" title="Aufstehen (Liegend)" class="bt_initiative_tracker">Aufstehen, sitzend/kniend (3 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=sich aus dem Kampf zu lösen}} {{Ticks=[[5 &{tracker:+}]]}}" title="Aus dem Kampf l&ouml;sen" class="bt_initiative_tracker">Aus dem Kampf l&ouml;sen (5 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=sich fallen zu lassen}} {{Ticks=[[2 &{tracker:+}]]}}" title="Fallen lassen" class="bt_initiative_tracker">Fallen lassen (2 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=zu laufen oder zu kriechen}} {{Ticks=[[5 &{tracker:+}]]}}" title="Laufen/kriechen" class="bt_initiative_tracker">Laufen/Kriechen (5 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=zu sprinten}} {{Ticks=[[10 &{tracker:+}]]}}" title="Sprinten" class="bt_initiative_tracker">Sprinten (10 Ticks)</button>
                    </p>
                    <h3 class="mb--2">Verteidigungshandlungen</h3>
                    <p>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=in Deckung zu springen}} {{Ticks=[[3 &{tracker:+}]]}}" title="Ausweichsprung" class="bt_initiative_tracker">Ausweichsprung (3 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=sich aus der Umklammerung zu befreien}} {{Ticks=[[5 &{tracker:+}]]}}" title="Aus Umklammerung befreien" class="bt_initiative_tracker">Aus Umklammerung befreien (5 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=die Umklammerung zu l&ouml;sen}} {{Ticks=[[3 &{tracker:+}]]}}" title="Umklammerung l&ouml;sen" class="bt_initiative_tracker">Umklammerung lsen (3 Ticks)</button>
                    
                    </p>
                    <h3 class="mb--2">Weitere Handlungen</h3>
                    <p>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=Atem zu holen}} {{Ticks=[[8 &{tracker:+}]]}}" title="Atemholen" class="bt_initiative_tracker">Atemholen (8 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=einen Gegenstand zu verwenden}} {{Ticks=[[5 &{tracker:+}]]}}" title="Gegenstand verwenden" class="bt_initiative_tracker">Gegenstand verwenden (5 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=Wissen abzurufen oder einen Zauber zu identifizieren}} {{Ticks=[[2 &{tracker:+}]]}}" title="Wissen abrufen / Zauber identifizieren" class="bt_initiative_tracker">Wissen abrufen / Zauber identifizieren (2 Ticks)</button>
                        <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{namensc}}} {{action=Magie zu fokussieren}} {{Ticks=[[@{fokus_tracker} &{tracker:+}]]}}" title="Magie fokussieren" class="bt_initiative_tracker">Magie fokussieren:</button>
                        <input type="number" name="attr_fokus_tracker" value=0 /> Ticks
                    </p>
                </div>
            </span>
        </div>
        <div class="custom-card border">
            <span class="form-header text--center">W&uuml;rfelmodus</span>
            <div class="sheet-hundert-flex">
                <div>
                    <span>W&uuml;rfe sichtbar</span> <input type="radio" name="attr_gmroll_nsc" value=1 title="Alle Würfe für alle sichtbar anzeigen" checked="true" />
                </div>
                <div>
                    <span>W&uuml;rfe an SL</span> <input type="radio" name="attr_gmroll_nsc" value=0 title="Alle Würfe nur dem SL flüstern" />
                </div>
                <span>|</span>
                <div>
                    <span>Sicherheitswurf:</span> <input type="radio" name="attr_dice_mod_nsc" value="1" />
                </div>
                <div>
                    <span>Standardwurf:</span> <input type="radio" name="attr_dice_mod_nsc" checked="true" value="2" />
                </div>
                <div>
                    <span>Risikowurf:</span> <input type="radio" name="attr_dice_mod_nsc" value="3" />
                </div>
            </div>
        </div>
        <br />
        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="100%">
            <tr bgcolor="#0489B1" style="color:white" align="center">
                <td width="17.5%"><b>Waffenname</b></td>
                <td width="7%" colspan="3"><b>Wert</b></td>
                <td width="7%"><b>WGS</b></td>
                <td width="16.75%" colspan="3"><b>Schaden</b></td>
                <td width="7%"><b>INI</b></td>
                <td width="21%"><b>Merkmale</b></td>
                <td width="12%"><b>Angriff / AA</b></td>
                <td width="12%"><b>Gro&szlig;meister</b></td>
            </tr>
            <tr>
                <td colspan="12">
                    <fieldset class="repeating_waffennsc">
                        <input type=text style="width: 17.5%; font-weight: bold; text-align: center" name="attr_waffennamensc">
                        <input type=number style="width: 6.5%; font-weight: bold; text-align: center" name="attr_waffenwertnsc" value="0" min="0">
                        <input type="number" name="attr_waffenwgsnsc" style="width: 7%; font-weight: bold; text-align: center;" value=3>
                        <input type="text" name="attr_waffenschaden1nsc" style="width: 2.5%; font-weight: bold; text-align: center;" value="1">
                        <select name="attr_waffenschadenwuerfelnsc" class="dtype" style="width: 9%; font-weight: bold;">  
                            <option value="d6">W6</option>
                            <option value="d10">W10</option>
                        </select>
                        + <input type="text" name="attr_waffenschaden3nsc" style="width: 2.5%; font-weight: bold; text-align: center;" value="0">
                        <input type="text" name="attr_waffenininsc" style="width: 7%; font-weight: bold; text-align: center;" value="0">
                        <input type=text style="width: 21%; font-weight: bold; text-align: center" name="attr_waffenmerkmalensc">
                        <input type="hidden" name="attr_waffenexakt" style="font-weight: bold; font-size: 10px; text-align: center;" value="0" />
                        <input type="hidden" name="attr_waffenscharf" style="font-weight: bold; font-size: 10px; text-align: center;" value="0"  />
                        <input type="hidden" name="attr_waffenkritisch" style="font-weight: bold; font-size: 10px; text-align: center;" value="0"  />
                        <input type="hidden" name="attr_waffendefensiv" style="font-weight: bold; font-size: 10px; text-align: center;" value="0"  />
                        <input type="hidden" name="attr_damagerollnsc" />
                        <input type="hidden" name="attr_rolldamagensc" value="[Wirf!](~repeating_waffennsc_show_damage)" />
                        <button type="roll" name="roll_show_damage" style="display: none" value="@{showing_damage}" class="btn ui-draggable"></button>
                        <input type="hidden" name="attr_showing_damage" value="&{template:splittermond_damage} {{charactername=@{namensc}}} {{name=@{waffennamensc}}} {{damage=[[@{damagerollnsc}]]}}" />
                        <button type="action" name="act_angriff" class="sheet-ability-button">0</button>
                        <button type="action" name="act_aktiveabwehr" class="sheet-ability-button grey-background">0</button>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" name="attr_gm" value="1" />
                    </fieldset>
                </td>
            </tr>
        </table>
        <br />
        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="100%">
            <tr bgcolor="#0489B1" style="color:white" align="center">
                <td width="15%"><b>Meisterschaft</b></td>
                <td width="15%"><b>Fertigkeit</b></td>
                <td width="7.5%"><b>Schwelle</b></td>
                <td width="62.5%"><b>Wirkung</b></td>
            </tr>
            <tr>
                <td colspan="4">
                    <fieldset class="repeating_meisterschaftennsc">
                        <input type=text style="width: 15%; font-weight: bold; text-align: center" name="attr_meisterschaftnsc">
                        <select name="attr_meisterschaftsfertigkeitnsc" style="width: 15%; font-weight: bold; vertical-align: top;">                
                            <option value="nix"></option>
                            <option value="allgemein" style="text-align:center">--- Allgemein ---</option>
                            <option value="akrobatik">Akrobatik</option>
                            <option value="alchemie">Alchemie</option>
                            <option value="anfuehren">Anf&uuml;hren</option>
                            <option value="arkanekunde">Arkane Kunde</option>
                            <option value="athletik">Athletik</option>
                            <option value="darbietung">Darbietung</option>
                            <option value="diplomatie">Diplomatie</option>
                            <option value="edelhandwerk">Edelhandwerk</option>
                            <option value="empathie">Empathie</option>
                            <option value="entschlossenheit">Entschlossenheit</option>
                            <option value="fingerfertigkeit">Fingerfertigkeit</option>
                            <option value="geschichteundmythen">Geschichte &amp; Mythen</option>
                            <option value="handwerk">Handwerk</option>
                            <option value="heilkunde">Heilkunde</option>
                            <option value="heimlichkeit">Heimlichkeit</option>
                            <option value="jagdkunst">Jagdkunst</option>
                            <option value="laenderkunde">L&auml;nderkunde</option>
                            <option value="naturkunde">Naturkunde</option>
                            <option value="redegewandtheit">Redegewandtheit</option>
                            <option value="schloesserundfallen">Schl&ouml;sser &amp; Fallen</option>
                            <option value="schwimmen">Schwimmen</option>
                            <option value="seefahrt">Seefahrt</option>
                            <option value="strassenkunde">Stra&szlig;enkunde</option>
                            <option value="tierfuehrung">Tierf&uuml;hrung</option>
                            <option value="ueberleben">&Uuml;berleben</option>
                            <option value="wahrnehmung">Wahrnehmung</option>
                            <option value="zaehigkeit">Z&auml;higkeit</option>
                            <option value="kampf" style="text-align:center">--- Kampf ---</option>
                            <option value="handgemenge">Handgemenge</option>
                            <option value="hiebwaffen">Hiebwaffen</option>
                            <option value="kettenwaffen">Kettenwaffen</option>
                            <option value="klingenwaffen">Klingenwaffen</option>
                            <option value="stangenwaffen">Stangenwaffen</option>
                            <option value="schusswaffen">Schusswaffen</option>
                            <option value="wurfwaffen">Wurfwaffen</option>
                            <option value="magie" style="text-align:center">--- Magie ---</option>
                            <option value="bannmagie">Bannmagie</option>
                            <option value="beherrschungsmagie">Beherrschungsmagie</option>
                            <option value="bewegungsmagie">Bewegungsmagie</option>
                            <option value="erkenntnismagie">Erkenntnismagie</option>
                            <option value="felsmagie">Felsmagie</option>
                            <option value="feuermagie">Feuermagie</option>
                            <option value="heilmagie">Heilungsmagie</option>
                            <option value="illusionsmagie">Illusionsmagie</option>
                            <option value="kampfmagie">Kampfmagie</option>
                            <option value="lichtmagie">Lichtmagie</option>
                            <option value="naturmagie">Naturmagie</option>
                            <option value="schattenmagie">Schattenmagie</option>
                            <option value="schicksalsmagie">Schicksalsmagie</option>
                            <option value="schutzmagie">Schutzmagie</option>
                            <option value="staerkungsmagie">St&auml;rkungsmagie</option>
                            <option value="todesmagie">Todesmagie</option>
                            <option value="verwandlungsmagie">Verwandlungsmagie</option>
                            <option value="wassermagie">Wassermagie</option>
                            <option value="windmagie">Windmagie</option>
                        </select>
                        <input type=number style="width: 7.5%; font-weight: bold; text-align: center" name="attr_meisterschaftsschwellensc" value="1" min="1" max=4>
                        <input type=text style="width: 61%; font-weight: bold;" name="attr_meisterschaftswirkungnsc">
                    </fieldset>
                </td>
            </tr>
        </table>
        <br />
        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="100%">
            <tr bgcolor="#0489B1" style="color:white" align="center">
                <td width="15%"><b>Merkmal</b></td>
                <td width="7.5%"><b>Stufe</b></td>
                <td width="75%"><b>Wirkung</b></td>
            </tr>
            <tr>
                <td colspan="3">
                    <fieldset class="repeating_merkmalensc">
                        <input type=text style="width: 15%; font-weight: bold; text-align: center" name="attr_merkmalnsc">
                        <input type=number style="width: 7.5%; font-weight: bold; text-align: center" name="attr_merkmalstufensc" value="0" min="0">
                        <input type=text style="width: 76.5%; font-weight: bold;" name="attr_merkmalwirkungnsc">
                    </fieldset>
                </td>
            </tr>
        </table>
        <br />
        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="100%">
            <tr bgcolor="#0489B1" style="color:white" align="center" width="100%">
                <td width="12.5%"><b>Zauberspruch</b></td>
                <td width="11%"><b>Magieschule</b></td>
                <td width="5%"><b>Wert</b></td>
                <td width="4%"><b>SG</b></td>
                <td width="8%"><b>Kosten</b></td>
                <td width="8%"><b>Kosten (V)</b></td>
                <td width="4%"><b>ZD</b></td>
                <td width="5%"><b>RW</b></td>
                <td width="5%"><b>WD</b></td>
                <td width="5%"><b>Mod.</b></td>
                <td width="8%"><b>W&uuml;rfeln</b></td>
                <td width="9%"><b>Gro&szlig;m.</b></td>
            </tr>
            <tr style="width:100%">
                <td colspan="12" width="100%">
                    <fieldset class="repeating_zaubernsc">
                        <input type="text" name="attr_zaubernamensc" style='width: 14%; font-weight: bold;'>
                        <select name="attr_magieschulennsc" class="dtype" style="width: 13.5%; font-weight: bold;">
                            <option value="nix"></option>
                            <option value="arkanekundezauber">Arkane Kunde</option>
                            <option value="bann">Bann</option>
                            <option value="beherrschung">Beherrschung</option>
                            <option value="bewegung">Bewegung</option>
                            <option value="erkenntnis">Erkenntnis</option>
                            <option value="fels">Fels</option>
                            <option value="feuer">Feuer</option>
                            <option value="heilung">Heilung</option>
                            <option value="illusion">Illusion</option>
                            <option value="kampf">Kampf</option>
                            <option value="licht">Licht</option>
                            <option value="natur">Natur</option>
                            <option value="schatten">Schatten</option>
                            <option value="schicksal">Schicksal</option>
                            <option value="schutz">Schutz</option>
                            <option value="staerkung">St&auml;rkung</option>
                            <option value="tod">Tod</option>
                            <option value="verwandlung">Verwandlung</option>
                            <option value="wasser">Wasser</option>
                            <option value="wind">Wind</option>
                        </select>
                        <input type="number" name="attr_zauberwertnsc" style='width: 5.5%; font-weight: bold; text-align:center;' value="0">
                        <input type="text" name="attr_zauberschwierigkeitnsc" style="width: 3.5%; font-weight: bold; text-align: center;" value="0">
                        <div style="display: inline; position: relative;">
        	                <input type="text" name="attr_zauberkostennsc" style="font-weight: bold; width: 8%; text-align: center;" value="1">
        	                <input type="checkbox" name="attr_directcalcnsc" title="Fokuskosten direkt abrechnen" value="directcalc" style="font-weight: bold; background-color:#81BEF7; font-size:10px; width:15px; height: 15px; cursor: pointer; position: relative; z-index: 9999; opacity: 0;" />
        	                <span style="text-align: center; display: inline-block; font-size: 12px; background: #0489B1; width: 15px; height: 15px; cursor: pointer; margin-left: -25px;"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/wand_xsmall.png" /></span>
        	            </div>
        	            <div style="display: inline; position: relative;">
        	                <input type="text" name="attr_zauberkostennscv" style="font-weight: bold; width: 8%; text-align: center;" value="1">
        	                <input type="checkbox" name="attr_directcalcvnscv" title="Verstärkte Fokuskosten direkt abrechnen" value="directcalc" style="font-weight: bold; background-color:#81BEF7; font-size:10px; width: 15px; height: 15px; cursor: pointer; position: relative; z-index: 9999; opacity: 0;" />
        	                <span style="text-align: center; display: inline-block; font-size: 12px; background: #0489B1; width: 15px; height: 15px; cursor: pointer; margin-left: -25px;"><img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/wand_xsmall.png" /></span>
        	                <div style="display: inline; width: 2%"></div>
        	            </div>
                        <input type="text" name="attr_zauberdauernsc" style="width: 4.5%; font-weight: bold; text-align: center;">
                        <input type="text" name="attr_zauberrwnsc" style="width: 5.5%; font-weight: bold; text-align: center;">
                        <input type="text" name="attr_zauberwdnsc" style="width: 5.5%; font-weight: bold; text-align: center;" value="0">
                        <input type="text" name="attr_zaubermodnsc" style='width: 4.5%; font-weight: bold; text-align:center;' value="0">
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <button type="action" name="act_spell" class="sheet-ability-button">0</button>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" name="attr_gm" value="1" />
                        <br />
                        <span>Wirkung:</span><br/>
                        <textarea name="attr_zauberwirkungnsc" rows="2" class="textarea-description"></textarea> 
                    </fieldset>
                </td>
            </tr>
        </table>
        <br />
        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="50%">
            <tr bgcolor="#0489B1" style="color:white" align="center">
                <td width="50%"><b>Fertigkeit</b></td>
                <td width="20%"><b>Wert</b></td>
                <td width="15%"><b>W&uuml;rfeln</b></td>
                <td width="15%"><b>Gro&szlig;m.</b></td>
            </tr>
            <tr>
                <td colspan="4">
                    <input type="hidden" name="attr_akrobatik_nsc" value=0 />
                    <input type="hidden" name="attr_akrobatik_gm_nsc" value=0 />
                    <input type="hidden" name="attr_entschlossenheit_nsc" value=0 />
                    <input type="hidden" name="attr_entschlossenheit_gm_nsc" value=0 />
                    <input type="hidden" name="attr_zaehigkeit_nsc" value=0 />
                    <input type="hidden" name="attr_zaehigkeit_gm_nsc" value=0 />
                    <fieldset class="repeating_fertigkeitennsc">
                        <select name="attr_fertigkeitnsc" style="width: 50%; font-weight: bold; text-align: center">                
                            <option value="akrobatik">Akrobatik</option>
                            <option value="alchemie">Alchemie</option>
                            <option value="anfuehren">Anf&uuml;hren</option>
                            <option value="arkanekunde">Arkane Kunde</option>
                            <option value="athletik">Athletik</option>
                            <option value="darbietung">Darbietung</option>
                            <option value="diplomatie">Diplomatie</option>
                            <option value="edelhandwerk">Edelhandwerk</option>
                            <option value="empathie">Empathie</option>
                            <option value="entschlossenheit">Entschlossenheit</option>
                            <option value="fingerfertigkeit">Fingerfertigkeit</option>
                            <option value="geschichteundmythen">Geschichte &amp; Mythen</option>
                            <option value="handwerk">Handwerk</option>
                            <option value="heilkunde">Heilkunde</option>
                            <option value="heimlichkeit">Heimlichkeit</option>
                            <option value="jagdkunst">Jagdkunst</option>
                            <option value="laenderkunde">L&auml;nderkunde</option>
                            <option value="naturkunde">Naturkunde</option>
                            <option value="redegewandtheit">Redegewandtheit</option>
                            <option value="schloesserundfallen">Schl&ouml;sser &amp; Fallen</option>
                            <option value="schwimmen">Schwimmen</option>
                            <option value="seefahrt">Seefahrt</option>
                            <option value="strassenkunde">Stra&szlig;enkunde</option>
                            <option value="tierfuehrung">Tierf&uuml;hrung</option>
                            <option value="ueberleben">&Uuml;berleben</option>
                            <option value="wahrnehmung">Wahrnehmung</option>
                            <option value="zaehigkeit">Z&auml;higkeit</option>
                            <option value="nix">------ Magieschulen ------</option>
                            <option value="bannmagie">Bannmagie</option>
                            <option value="beherrschungsmagie">Beherrschungsmagie</option>
                            <option value="bewegungsmagie">Bewegungsmagie</option>
                            <option value="erkenntnismagie">Erkenntnismagie</option>
                            <option value="felsmagie">Felsmagie</option>
                            <option value="feuermagie">Feuermagie</option>
                            <option value="heilungsmagie">Heilungsmagie</option>
                            <option value="illusionsmagie">Illusionsmagie</option>
                            <option value="kampfmagie">Kampfmagie</option>
                            <option value="lichtmagie">Lichtmagie</option>
                            <option value="naturmagie">Naturmagie</option>
                            <option value="schattenmagie">Schattenmagie</option>
                            <option value="schicksalsmagie">Schicksalsmagie</option>
                            <option value="schutzmagie">Schutzmagie</option>
                            <option value="staerkungsmagie">St&auml;rkungsmagie</option>
                            <option value="todesmagie">Todesmagie</option>
                            <option value="verwandlungsmagie">Verwandlungsmagie</option>
                            <option value="wassermagie">Wassermagie</option>
                            <option value="windmagie">Windmagie</option>
                        </select>
                        <input type="number" style="width: 20%; font-weight: bold; text-align: center" name="attr_fertigkeitswertnsc" value="0" min="0">
                        &nbsp;&nbsp;&nbsp;
                        <button type="action" name="act_skill" class="sheet-ability-button">0</button>
                        &nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
                        <input type="checkbox" name="attr_gm" value="1" />
                    </fieldset>
                </td>
            </tr>
        </table>
        <br />
        <input type="checkbox" value="1" name="attr_nscnotizen_onoff" class="nscnotizen_onoff" />&nbsp;Notizen anzeigen?</input> <br /><br />
        <div class="nscnotizen">
            <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="50%">
        	        <table style="font-weight: bold; padding: 0px; border-collapse: collapse" width="100%">		
        	            <tr bgcolor="#0489B1" style="color:white" align="center">		
        	                <td width="100%"><b>Notizen</b></td>		
        	            </tr>
        	            <tr>		
        	                <td>	
        	                    <textarea name="attr_nscimport" class="nscnotizen-text" rows=10 cols=60></textarea>
        	                </td>		    
        	            </tr>
        	        </table>
            </table>
        </div>
        <br /><br />
        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="50%">
	        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="25%">		
	            <tr bgcolor="#0489B1" style="color:white" align="center">		
	                <td width="80%"><b>Abrichtungen</b></td>		
	            </tr>		
	            <tr>		
	                <td>		
	                    <fieldset class="repeating_abrichtungennsc">		
	                        <input type=text style="width: 21em; font-weight: bold; text-align: center" name="attr_abrichtungnsc">		
	                    </fieldset>	
	                </td>		    
	            </tr>		        
	        </table>
        </table>
        <br />
        <!--<hr>
        <table border=1 style="font-weight: bold; padding: 0px; border-collapse: collapse" width="100%">
	        <table style="font-weight: bold; padding: 0px; border-collapse: collapse" width="100%">		
	            <tr bgcolor="#0489B1" style="color:white" align="center">		
	                <td width="100%"><b>NSC-Import (Coming Soon)</b></td>		
	            </tr>		
	            <tr>
	                <td>
	                    <div class="normal">Um einen NSC zu importieren, kopieren Sie den NSC-Werteblock (angefangen bei "<em>AUS</em>") in das folgende Textfeld und klicken Sie auf "Import".</div>
	                </td>
	            </tr>
	            <tr>		
	                <td>		
	                    <textarea name="attr_nscimport" class="nscimport" rows=10 cols=60 disabled></textarea>
	                </td>		    
	            </tr>
	            <tr>
	                <td class="centered">
	                    <button type="action" class="bt-nscimport" name="act_nscimport" disabled>Import</button>
	                </td>
	            </tr>
	        </table>
        </table>-->
    </div>
</div>

<div class="pc">
    <div class="tab">
        <input type="checkbox" name="attr_tab" class="tab__selector sheet-tab1" value="2" title="Grundwerte" checked="checked" />
        <input type="checkbox" name="attr_tab" class="tab__selector sheet-tab2" value="21" title="Fertigkeiten" />
        <input type="checkbox" name="attr_tab" class="tab__selector sheet-tab9" value="9" title="Meisterschaften" />
        <input type="checkbox" name="attr_tab" class="tab__selector sheet-tab3" value="3" title="Kampf" />
        <input type="checkbox" name="attr_tab" class="tab__selector sheet-tab8" value="8" title="Magie" />
        <input type="checkbox" name="attr_tab" class="tab__selector sheet-tab4" value="4" title="Charakterentwicklung" />
        <input type="checkbox" name="attr_tab" class="tab__selector sheet-tab6" value="6" title="Ausruestung" />

        <div class="tab-menu ml--3 mr--3">
            <label class="tab-menu__item sheet-tab12">Grundwerte
                <input type="radio" name="attr_tab" class="tab__selector" value="2" title="Grundwerte" checked="checked" />
            </label>
            <label class="tab-menu__item  sheet-tab21">Fertigkeiten
                <input type="radio" name="attr_tab" class="tab__selector" value="21" title="Fertigkeiten" />
            </label>
            <label class="tab-menu__item  sheet-tab9">Meisterschaften
                <input type="radio" name="attr_tab" class="tab__selector" value="9" title="Magie" />
            </label>
            <label class="tab-menu__item  sheet-tab31">Kampf
                <input type="radio" name="attr_tab" class="tab__selector" value="3" title="Kampf" />
            </label>
            <label class="tab-menu__item  sheet-tab8">Magie
                <input type="radio" name="attr_tab" class="tab__selector" value="8" title="Magie" />
            </label>
            <label class="tab-menu__item sheet-tab4">Charakterentwicklung
                <input type="radio" name="attr_tab" class="tab__selector" value="4" title="Charakterentwicklung" />
            </label>
            <label class="tab-menu__item sheet-tab6">Ausr&uuml;stung
                <input type="radio" name="attr_tab" class="tab__selector" value="6" title="Ausruestung" />
            </label>
        </div>

        <div class="value-overview ml--3 mr--3">
            <div class="form__group mr--1 ml--3">
                <input type="number" name="attr_vtdoben" value="0" placeholder="17" class="form__field" readonly="readonly" />
                <label class="form__label">VTD</label>
            </div>
            <div class="form__group mr--1 ml--1">
                <input type="number" name="attr_gwoben" value="0" placeholder="15" class="form__field" readonly="readonly" />
                <label class="form__label">GW</label>
            </div>
            <div class="form__group mr--1 ml--1">
                <input type="number" name="attr_kwoben" value="0" placeholder="15" class="form__field" readonly="readonly" />
                <label class="form__label">KW</label>
            </div>
            <div class="form__group mr--1 ml--1">
                <input type="number" name="attr_sroben" value="0" placeholder="0" class="form__field" readonly="readonly" />
                <label class="form__label">SR</label>
            </div>
            <div class="moon-fragment mr--3 ml--1">
                <!-- todo mit grafischen checkboxen (splittern) arbeiten?
                <div class="moon-fragment__icon">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                
                <div class="moon-fragment__icon moon-fragment__icon--2">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="moon-fragment__icon moon-fragment__icon--3">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="moon-fragment__icon moon-fragment__icon--4">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div>
                <div class="moon-fragment__icon moon-fragment__icon--5">
                    <span></span>
                    <span></span>
                    <span></span>
                    <span></span>
                </div> -->
                <div class="form__group d--flex d--flex--align-bottom">
                    <input type="number" name="attr_splitterpunkte" value="0" min="0" class="form__field" />
                    &#47;<input type="number" name="attr_splitterpunktemax" class="form__field" readonly />
                    <input type="hidden" name="attr_hiddensplitterpunkte" value="0" />
                    <input type="hidden" name="attr_hiddensplitterpunktehg" value="0" />
                    <label class="form__label">Splitterpunkte</label>
                </div>
            </div>
            <div class="custom-card">
                <span class="form-header text--center">W&uuml;rfelmodus</span>
                <div class="sheet-hundert-flex">
                    <div>
                        <span>W&uuml;rfe sichtbar</span> <input type="radio" name="attr_gmroll" value=1 title="Alle Würfe für alle sichtbar anzeigen" checked />
                    </div>
                    <div>
                        <span>W&uuml;rfe an SL</span> <input type="radio" name="attr_gmroll" value=0 title="Alle Würfe nur dem SL flüstern" />
                    </div>
                    <span>|</span>
                    <div>
                        <span>Sicherheitswurf:</span> <input type="radio" name="attr_dice_mod" value="1" />
                    </div>
                    <div>
                        <span>Standardwurf:</span> <input type="radio" name="attr_dice_mod" checked value="2" />
                    </div>
                    <div>
                        <span>Risikowurf:</span> <input type="radio" name="attr_dice_mod" value="3" />
                    </div>
                </div>
            </div>
        </div>

        <div class="section section-Grundwerte">
            <h1 class="mb--2">Grundwerte</h1> 
            <input type="hidden" name="attr_skillmasterymigrationisexecuted" value=0 />
            <div class="d--flex d--flex--wrap mb--3">
                <div class="mr--3 mb--3 d--flex__item--grow2">
                    <span class="form-header pl--1 pr--1">Pers&ouml;nliche Informationen</span>
                    <div class="form__group">
                        <input type="text" name="attr_character_name" placeholder="Name" title="@{character_name}" class="form__field" />
                        <label class="form__label">Name</label>
                    </div>
                    <div class="form__group">
                        <input type="text" name="attr_spielername" placeholder="Spieler" class="form__field" />
                        <label class="form__label">Spieler</label>
                    </div>
                    <div class="form__group">
                        <input type="text" name="attr_mondzeichen" placeholder="Mondzeichen" class="form__field" />
                        <label class="form__label">Mondzeichen</label>
                    </div>
                    <div class="form__group">
                        <input type="text" name="attr_ausbildung" placeholder="Ausbildung" class="form__field" />
                        <label class="form__label">Ausbildung</label>
                    </div>
                    <div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="text" name="attr_kultur" placeholder="Kultur" class="form__field" />
                                <label class="form__label">Kultur</label>
                            </div>
                            <div class="form__group">
                                <input type="text" name="attr_abstammung" placeholder="Abstammung" class="form__field" />
                                <label class="form__label">Abstammung</label>
                            </div>
                        </div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="text" name="attr_rasse" placeholder="Rasse" class="form__field" />
                                <label class="form__label">Rasse</label>
                            </div>
                            <div class="form__group">
                                <input type="text" name="attr_gender" placeholder="Geschlecht" class="form__field" />
                                <label class="form__label">Geschlecht</label>
                            </div>
                        </div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="text" name="attr_haarfarbe" placeholder="Haarfarbe" class="form__field" />
                                <label class="form__label">Haarfarbe</label>
                            </div>
                            <div class="form__group">
                                <input type="text" name="attr_groesse" placeholder="Gr&ouml;&szlig;e" class="form__field" />
                                <label class="form__label">Gr&ouml;&szlig;e</label>
                            </div>
                        </div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="text" name="attr_augenfarbe" placeholder="Augenfarbe" class="form__field" />
                                <label class="form__label">Augenfarbe</label>
                            </div>
                            <div class="form__group">
                                <input type="text" name="attr_gewicht" placeholder="Gewicht" class="form__field" />
                                <label class="form__label">Gewicht</label>
                            </div>
                        </div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="text" name="attr_hautfarbe" placeholder="Hautfarbe" class="form__field" />
                                <label class="form__label">Hautfarbe</label>
                            </div>
                            <div class="form__group">
                                <input type="text" name="attr_geburtsort" placeholder="Geburtsort" class="form__field" />
                                <label class="form__label">Geburtsort</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="mr--3 mb--3">
                    <div class="d--flex text--right">
                        <span class="form-header pl--1 pr--1">Start</span>
                        <span class="form-header pr--1">Wert</span>
                        <span class="form-header pr--1">Max</span>
                    </div>
                    <div class="form__group d--flex">
                        <input type=number name="attr_ausstrahlungstart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_ausstrahlung" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_ausstrahlungmax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenausstrahlung" value="0" />
                        <input type=hidden name="attr_hiddenausstrahlungmod" value="0" />
                        <label class="form__label">Ausstrahlung</label>
                    </div>

                    <div class="form__group d--flex">
                        <input type=number name="attr_beweglichkeitstart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_beweglichkeit" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_beweglichkeitmax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenbeweglichkeit" value="0" />
                        <input type=hidden name="attr_hiddenbeweglichkeitmod" value="0" />    
                        <label class="form__label">Beweglichkeit</label>
                    </div>
    
                    <div class="form__group d--flex">
                        <input type=number name="attr_intuitionstart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_intuition" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_intuitionmax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenintuition" value="0" />
                        <input type=hidden name="attr_hiddenintuitionmod" value="0" />
                        <label class="form__label">Intuition</label>
                    </div>

                    <div class="form__group d--flex">
                        <input type=number name="attr_konstitutionstart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_konstitution" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_konstitutionmax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenkonstitution" value="0" />
                        <input type=hidden name="attr_hiddenkonstitutionmod" value="0" />
                        <label class="form__label">Konstitution</label>
                    </div>

                    <div class="form__group d--flex">
                        <input type=number name="attr_mystikstart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_mystik" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_mystikmax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenmystik" value="0" />
                        <input type=hidden name="attr_hiddenmystikmod" value="0" />
                        <label class="form__label">Mystik</label>
                    </div>
    
                    <div class="form__group d--flex">
                        <input type=number name="attr_staerkestart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_staerke" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_staerkemax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenstaerke" value="0" />
                        <input type=hidden name="attr_hiddenstaerkemod" value="0" />
                        <label class="form__label">St&auml;rke</label>
                    </div>

                    <div class="form__group d--flex">
                        <input type=number name="attr_verstandstart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_verstand" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_verstandmax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenverstand" value="0" />
                        <input type=hidden name="attr_hiddenverstandmod" value="0" />
                        <label class="form__label">Verstand</label>
                    </div>

                    <div class="form__group d--flex">
                        <input type=number name="attr_willenskraftstart" placeholder="0" value="0" class="form__field mr--1" />
                        <input type=number name="attr_willenskraft" placeholder="0" value="0" class="form__field mr--1 text--700" />
                        <input type=number name="attr_willenskraftmax" placeholder="0" value="0" readonly="true" class="form__field" />
                        <input type=hidden name="attr_hiddenwillenskraft" value="0" />
                        <input type=hidden name="attr_hiddenwillenskraftmod" value="0" />
                        <label class="form__label">Willenskraft</label>
                    </div>
    
                    <div class="form__group">
                        <input type=number name="attr_behinderung" placeholder="0" min="0" name="attr_behinderung" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddenbehinderungschild" value="0" />
                        <input type=hidden name="attr_hiddenbehinderungfruehstueck" value="0" />
                        <label class="form__label">Behinderung</label>
                    </div>
                </div>
                <div class="mb--3">
                    <div class="d--flex text--right">
                        <span class="form-header pl--1 pr--1">Wert</span>
                        <span class="form-header pr--1">Mod.</span>
                    </div>

                    <div class="form__group d--flex">
                        <input type=number name="attr_groessenklasse" placeholder="0"  min="1" value=5 class="form__field" />
                        <label class="form__label">Gr&ouml;&szlig;enklasse</label>
                    </div>

                    <div class="form__group d--flex popover">
                        <input type=number name="attr_geschwindigkeit" placeholder="0" value="0" readonly="true" class="form__field mr--1 popover__trigger" />
                        <span class="popover__arrow"></span>
                        <span name="attr_gswtooltip" class="popover__content"></span>
                        <input type=number name="attr_geschwindigkeitmod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddengsw" value="0" />
                        <input type=hidden name="attr_hiddengswbe" value="0" />
                        <input type=hidden name="attr_hiddengswag" value="0" />
                        <input type=hidden name="attr_hiddengswspr" value="0" />
                        <input type=hidden name="attr_sprintercount" value="0" />
                        <input type=hidden name="attr_hiddenmodgsw" value="0" />
                        <label class="form__label">Geschwindigkeit</label>
                    </div>

                    <div class="form__group d--flex popover">
                        <input type=number name="attr_initiative" placeholder="0" value="0" readonly="true" class="form__field mr--1 popover__trigger" />
                        <span class="popover__arrow"></span>
                        <span name="attr_initooltip" class="popover__content"></span>
                        <input type=number name="attr_initiativemod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddenini" value="0" />
                        <input type=hidden name="attr_hiddeninibr" value="0" />
                        <input type=hidden name="attr_blitzreflexecount" value="0" />
                        <input type=hidden name="attr_hiddenmodini" value="0" />
                        <label class="form__label">Initiative</label>
                    </div>

                    <div class="form__group d--flex popover">
                        <input type=number name="attr_lebenspunkte" placeholder="0" value="0" readonly="true" class="form__field mr--1 popover__trigger" />
                        <span class="popover__arrow"></span>
                        <span name="attr_lptooltip" class="popover__content"></span>
                        <input type=number name="attr_lebenspunktemod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddenlp" value="0" />
                        <input type=hidden name="attr_hiddenfokreg" value="0" />
                        <input type=hidden name="attr_hiddenlifereg" value="0" />
                        <label class="form__label">Lebenspunkte</label>
                    </div>

                    <div class="form__group d--flex popover">
                        <input type=number name="attr_fokus" placeholder="0" value="0" readonly="true" class="form__field mr--1 popover__trigger" />
                        <span class="popover__arrow"></span>
                        <span name="attr_fokustooltip" class="popover__content"></span>
                        <input type=number name="attr_fokusmod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddenfokus" value="0" />
                        <input type=hidden name="attr_hiddensbm" value="0" />
                        <label class="form__label">Fokus</label>
                    </div>

                    <div class="form__group d--flex popover">
                        <input type=number name="attr_verteidigung" placeholder="0" value="0" readonly="true" class="form__field mr--1 popover__trigger" />
                        <span class="popover__arrow"></span>
                        <span name="attr_vtdtooltip" class="popover__content"></span>
                        <input type=number name="attr_verteidigungmod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddenvtdgr" value="0" />
                        <input type=hidden name="attr_hiddenvtdhg" value="0" />
                        <input type=hidden name="attr_hiddenvtdruestungschild" value="0" />
                        <input type=hidden name="attr_hiddenvtdbonus" value="0" />
                        <input type=hidden name="attr_hiddenallwiderstand" value="0" />
                        <label class="form__label">Verteidigung</label>
                    </div>

                    <div class="form__group d--flex popover">
                        <input type=number name="attr_geistigerwiderstand" placeholder="0" value="0" readonly="true" class="form__field mr--1 popover__trigger" />
                        <span class="popover__arrow"></span>
                        <span name="attr_gwtooltip" class="popover__content"></span>
                        <input type=number name="attr_geistigerwiderstandmod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddengw" value="0" />
                        <input type=hidden name="attr_hiddengwhg" value="0" />
                        <input type=hidden name="attr_hiddengwbonus" value="0" />
                        <label class="form__label">Geistiger Widerstand</label>
                    </div>

                    <div class="form__group d--flex popover">
                        <input type=number name="attr_koerperlicherwiderstand" placeholder="0" value="0" readonly="true" class="form__field mr--1 popover__trigger" />
                        <span class="popover__arrow"></span>
                        <span name="attr_kwtooltip" class="popover__content"></span>
                        <input type=number name="attr_koerperlicherwiderstandmod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddenkw" value="0" />
                        <input type=hidden name="attr_hiddenkwhg" value="0" />
                        <input type=hidden name="attr_hiddenkwbonus" value="0" />
                        <label class="form__label">K&ouml;rperlicher Widerstand</label>
                    </div>

                    <div class="form__group d--flex">
                        <input type=number name="attr_schadensreduktion" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                        <input type=number name="attr_schadensreduktionmod" placeholder="0" value="0" class="form__field" />
                        <input type=hidden name="attr_hiddenschadensreduktionfruehstueck" value="0" />
                        <label class="form__label">Schadensreduktion</label>
                    </div>
                </div>
            </div>

<!--todo tooltip f&uuml;r bessere lebarkeit des text inputs-->

            <div class="d--flex d--flex--wrap mb--3">
                <div class="mr--3 mb--3">
                    <span class="form-header pl--1 pr--1">Ressourcen</span>
                    <fieldset class="repeating_ressources">
                        <div class="sheet-form__group sheet-d--flex sheet-d--flex--align-center sheet-p--1">
                            <label class="sheet-d--flex__item--grow0 sheet-p--0 sheet-pr--1">
                                <input type="checkbox" name="attr_ressourcen_collapse" class="sheet-collapse_switch sheet-d--none">
                                <div class="sheet-arrow sheet-d--flex__item--grow0"></div>
                            </label>
                            <div class="sheet-d--flex__item--grow2 sheet-mr--1">
                                <input type="text" name="attr_ressourcename" placeholder="Ressource Name" class="sheet-form__field"> 
                            </div>
                            <div>
                                <input type="number" name="attr_ressourcevalue" min="-2" value="0" placeholder="0" class="sheet-form__field">
                            </div>
                        </div>
                        <input type="checkbox" name="attr_ressourcen_collapse"  class="collapse_switch d--none" />
                        <div class="collapse_child collapse_child--lg">
                        	<div class="form__group form__group--lg mb--3">
                                <textarea name="attr_ressourcenbeschreibung"></textarea>
                                <label class="form__label">Beschreibung</label>
                            </div>
                        </div>
                    </fieldset>
                    <input type="hidden" name="attr_resourceupdated" value="0">
                </div>
                
                <div class="pr--3 mr--3--negate mb--3">
                    <span class="form-header pl--1 pr--1">St&auml;rken</span>
                    <fieldset class="repeating_staerken">
                        <div class="sheet-form__group sheet-d--flex sheet-d--flex--align-center sheet-p--1">
                            <label class="sheet-d--flex__item--grow0 sheet-p--0 sheet-pr--1">
                                <input type="checkbox" name="attr_staerken_collapse" class="sheet-collapse_switch sheet-d--none">
                                <div class="sheet-arrow sheet-d--flex__item--grow0"></div>
                            </label>
                            <div class="sheet-d--flex__item--grow2 sheet-mr--1">
                                <input type="text" name="attr_staerke" placeholder="Staerke" class="form__field" /> 
                            </div>
                            <div>
                                <input type="number" name="attr_staerkenwert" min=-2 value="1" placeholder="1" class="form__field" />
                            </div>
                        </div>
                        <input type="checkbox" name="attr_staerken_collapse"  class="collapse_switch d--none" />
                        <div class="collapse_child collapse_child--lg">
                        	<div class="form__group form__group--lg mb--3">
                                <textarea name="attr_staerkenbeschreibung"></textarea>
                                <label class="form__label">Beschreibung</label>
                            </div>
                        </div>
                    </fieldset>
                    <input type="hidden" name="attr_schmerzresistenz" value="0">
                </div>
            </div>

            <div class="d--flex d--flex--wrap mb--3">
                <div class="mr--3 mb--3">
                    <span class="form-header pl--1 pr--1">Schw&auml;chen</span>
                    <fieldset class="repeating_schwaechen">
                        <div class="form__group">
                            <input type="text" name="attr_schwaeche" placeholder="Schwaeche" class="form__field" /> 
                        </div>
                    </fieldset>
                </div>
                <div class="mr--3 mb--3">
                    <span class="form-header pl--1 pr--1">Sprachen</span>
                    <fieldset class="repeating_sprachen">
                        <div class="form__group">
                            <input type="text" name="attr_sprache" placeholder="Sprache" class="form__field" /> 
                        </div>
                    </fieldset>
                </div>
                <div class="mb--3">
                    <span class="form-header pl--1 pr--1">Kulturkunde</span>
                    <fieldset class="repeating_kulturkunde">
                        <div class="form__group">
                            <input type="text" name="attr_kulturkunde" placeholder="Kulturkunde" class="form__field" /> 
                        </div>
                    </fieldset>
                </div>
            </div>
            
            <div>
                <h2 class="mb--2">Modifikatoren (z.B. Kanalisierte Zauber)</h2>
                <div class="d--flex">
                    <span class="form-header d--flex__item--grow4 pl--1 pr--1">Name</span>
                    <span class="form-header d--flex__item--grow4 pr--1">Eigenschaft</span>
                    <span class="form-header text--right pr--1">Mod.</span>
                    <span class="form-header text--center pr--1">Aktiv?</span>
                </div>
                <fieldset class="repeating_attributmods">
                    <div class="d--flex">
                        <div class="form__group d--flex__item--grow4 mr--1">
                            <input type="text" name="attr_attributmodname" placeholder="Attribut Name" class="form__field" /> 
                        </div>
                        <div class="form__group d--flex__item--grow4 mr--1">
                            <select name="attr_modattribut"> 
                                <optgroup>
                                    <option value="attributetrenner">-------- Attribute --------</option>
                                    <option value="aus">Ausstrahlung</option>
                                    <option value="bew">Beweglichkeit</option>
                                    <option value="int">Intuition</option>
                                    <option value="kon">Konstitution</option>
                                    <option value="mys">Mystik</option>
                                    <option value="stae">St&auml;rke</option>
                                    <option value="ver">Verstand</option>
                                    <option value="wil">Willenskraft</option>
                                    <option value="widerstaendetrenner">-------- Abgeleitete Werte --------</option>
                                    <option value="vtd">Verteidigung</option>
                                    <option value="gw">Geistiger Widerstand</option>
                                    <option value="kw">K&ouml;rperlicher Widerstand</option>
                                    <option value="allwiderstand">Alle Widerst&auml;nde</option>
                                    <option value="ini">Initiative</option>
                                    <option value="gsw">Geschwindigkeit</option>
                                    <option value="kampfrelevantetrenner">-------- Kampfrelevantes --------</option>
                                    <option value="beh">Behinderungsreduktion</option>
                                    <option value="sr">Schadensreduktion</option>
                                    <option value="ab">Bonus auf Angriffe</option>
                                    <option value="si">Schmerzimmunit&auml;t (1 = aktiv)</option>
                                    <option value="war">Wundabzugs-Reduktion</option>
                                    <option value="fertigkeitentrenner">-------- Fertigkeiten --------</option>
                                    <option value="allfert">Alle Fertigkeiten</option>
                                    <option value="allgfert">Allgemeine Fertigkeiten</option>
                                    <option value="kampffert">Kampffertigkeiten</option>
                                </optgroup>
                            </select>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_attributmod" value="1" placeholder="1" class="form__field" /> 
                        </div>
                        <div class="form__group">
                            <label class="text--center">
                                <input class="switch" type="checkbox" name="attr_attributmodonoff" />
                                <span class="switch__slider"></span>
                            </label>
                        </div>
                    </div>
                </fieldset>
            </div>
        </div>
        
        <div class="section section-Fertigkeiten">
            <h1 class="mb--2">Fertigkeiten</h1>
            <div class="d--flex d--flex--wrap">
                <div class="mr--3">
                    <div class="d--flex">
                        <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                            <div class="arrow"></div>
                        </label>
                        <span class="form-header d--flex__item--grow3 text--right pr--1">Fertigkeit</span>
                        <span class="form-header text--center pr--2">Wert</span>
                        <span class="form-header text--right pr--2">Mod.</span>
                        <span class="form-header d--flex__item--grow3 text--center pr--1 d--flex d--flex--wrap d--flex--align-bottom d--flex--justify-center">
                            <span class="d--flex__item--grow0 mr--1">W&uuml;rfeln</span>
                        </span>
                        <input type="hidden" name="attr_hiddenallgfert" value="0" />
                        <input type="hidden" name="attr_hiddenallfert" value="0" />
                        <input type="hidden" name="attr_abilityroll" />
                    </div>
                    <div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_akrobatik_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Akrobatik</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_akrobatik" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_akrobatikbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_akrobatik_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_akrobatik_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_akrobatik_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_akrobatik" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_akrobatik_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_akrobatikpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_akrobatik1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Beweglichkeit</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_akrobatik2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">St&auml;rke</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_akrobatik_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_alchemie_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Alchemie</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_alchemie" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_alchemiebonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_alchemie_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_alchemie_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_alchemie_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_alchemie" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_alchemie_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_alchemiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_alchemie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Mystik</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_alchemie2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_alchemie_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_anfuehren_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Anf&uuml;hren</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_anfuehren" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_anfuehrenbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_anfuehren_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_anfuehren_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_anfuehren_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_anfuehren" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_anfuehren_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_anfuehrenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_anfuehren1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Ausstrahlung</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_anfuehren2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Willenskraft</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_anfuehren_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_arkane_kunde_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Arkane Kunde</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_arkanekunde" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_arkanekundebonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_arkanekunde_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_arkanekunde_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_arkanekunde_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_arkanekunde" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_arkane_kunde_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_arkanekundepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_arkanekunde1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Mystik</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_arkanekunde2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_arkanekunde_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_athletik_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Athletik</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_athletik" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_athletikbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_athletik_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_athletik_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_athletik_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_athletik" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_athletik_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_athletikpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_athletik1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Beweglichkeit</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_athletik2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">St&auml;rke</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_athletik_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_darbietung_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Darbietung</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_darbietung" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_darbietungbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_darbietung_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_darbietung_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_darbietung_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_darbietung" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_darbietung_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_darbietungpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_darbietung1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Ausstrahlung</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_darbietung2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Willenskraft</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_darbietung_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_diplomatie_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Diplomatie</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_diplomatie" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_diplomatiebonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_diplomatie_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_diplomatie_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_diplomatie_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_diplomatie" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_diplomatie_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_diplomatiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_diplomatie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Ausstrahlung</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_diplomatie2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_diplomatie_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_edelhandwerk_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Edelhandwerk</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_edelhandwerk" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_edelhandwerkbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_edelhandwerk_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_edelhandwerk_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_edelhandwerk_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_edelhandwerk" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_edelhandwerk_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_edelhandwerkpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_edelhandwerk1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Intuition</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_edelhandwerk2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_edelhandwerk_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_empathie_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Empathie</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_empathie" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_empathiebonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_empathie_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_empathie_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_empathie_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_empathie" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_empathie_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_empathiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_empathie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Intuition</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_empathie2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_empathie_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_entschlossenheit_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Entschlossenheit</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_entschlossenheit" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_entschlossenheitbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_entschlossenheit_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_entschlossenheit_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_entschlossenheit_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_entschlossenheit" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_entschlossenheit_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_entschlossenheitpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_entschlossenheit1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Ausstrahlung</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_entschlossenheit2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Willenskraft</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_entschlossenheit_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_fingerfertigkeit_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Fingerfertigkeit</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_fingerfertigkeit" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_fingerfertigkeitbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_fingerfertigkeit_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_fingerfertigkeit_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_fingerfertigkeit_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_fingerfertigkeit" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_fingerfertigkeit_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_fingerfertigkeitpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_fingerfertigkeit1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Ausstrahlung</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_fingerfertigkeit2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Beweglichkeit</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_fingerfertigkeit_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_geschichteundmythen_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Geschichte & Mythen</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="test" name="attr_geschichteundmythen" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_geschichteundmythenbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_geschichteundmythen_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_geschichteundmythen_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_geschichteundmythen_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_geschichteundmythen" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_geschichteundmythen_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_geschichteundmythenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_geschichteundmythen1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Mystik</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_geschichteundmythen2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_geschichteundmythen_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_handwerk_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Handwerk</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_handwerk" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_handwerkbonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_handwerk_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_handwerk_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_handwerk_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_handwerk" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_handwerk_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_handwerkpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_handwerk1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Konstitution</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_handwerk2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_handwerk_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                        <div class="form__group d--flex d--flex--align-center p--1">
                            <label class="d--flex__item--grow0 p--0 pr--1">
                                <input type="checkbox" name="attr_fertigkeit_heilkunde_collapse"  class="collapse_switch d--none" />
                                <div class="arrow"></div>
                            </label>
                            <label class="text--right pr--1 d--flex__item--grow3">Heilkunde</label>
                            <div class="pr--2">
                                <div class="input-circle center--horizontally">
                                    <input type="text" name="attr_heilkunde" value=0 class="form__field text--700" readonly />
                                </div>
                            </div>
                            <div class="pr--2">
                                <input type="number" name="attr_heilkundebonus" placeholder="0" value="0" class="form__field mr--1" />
                            </div>
                            <div class="d--flex d--flex__item--grow3">
                                <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                                <div class="old-buttons">
                                    <button type="action" name="act_heilkunde_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                    <button type="action" name="act_heilkunde_st" class="button ability-button" title="Standardwurf">0</button>
                                    <button type="action" name="act_heilkunde_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                                </div>
                                <div class="new-button">
                                    <button type="action" name="act_heilkunde" class="button ability-button">0</button>
                                </div>
                            </div>
                        </div>
                        <input type="checkbox" name="attr_fertigkeit_heilkunde_collapse"  class="collapse_switch d--none" />
                        <div class="d--flex collapse_child">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_heilkundepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                                <label class="form__label">Punkte</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_heilkunde1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                                <label class="form__label">Intuition</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_heilkunde2" placeholder="0" value="0" readonly="true" class="form__field" />
                                <label class="form__label">Verstand</label>
                            </div>
                            <div class="form__group">
                                <input type="checkbox" name="attr_heilkunde_gm" value="1" class="form__field centered" />
                                <br>
                                <label class="form__label">Gro&szlig;meister</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d--flex">
                        <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                            <div class="arrow"></div>
                        </label>
                        <span class="form-header d--flex__item--grow3 text--right pr--1">Fertigkeit</span>
                        <span class="form-header text--center pr--2">Wert</span>
                        <span class="form-header text--right pr--2">Mod.</span>
                        <span class="form-header d--flex__item--grow3 text--center pr--1 d--flex d--flex--wrap d--flex--align-bottom d--flex--justify-center">
                            <span class="d--flex__item--grow0 mr--1">W&uuml;rfeln</span>
                        </span>
                        <input type="hidden" name="attr_hiddenallgfert" value="0" />
                        <input type="hidden" name="attr_hiddenallfert" value="0" />
                        <input type="hidden" name="attr_abilityroll" />
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_heimlichkeit_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Heimlichkeit</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_heimlichkeit" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_heimlichkeitbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <input type="hidden" name="attr_heimlichkeitgk" value="0" />
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_heimlichkeit_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_heimlichkeit_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_heimlichkeit_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_heimlichkeit" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_heimlichkeit_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_heimlichkeitpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_heimlichkeit1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Beweglichkeit</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_heimlichkeit2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Intuition</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_heimlichkeit_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>   
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_jagdkunst_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Jagdkunst</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_jagdkunst" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_jagdkunstbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_jagdkunst_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_jagdkunst_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_jagdkunst_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_jagdkunst" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_jagdkunst_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_jagdkunstpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_jagdkunst1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Konstitution</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_jagdkunst2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Verstand</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_jagdkunst_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_laenderkunde_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">L&auml;nderkunde</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_laenderkunde" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_laenderkundebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_laenderkunde_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_laenderkunde_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_laenderkunde_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_laenderkunde" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_laenderkunde_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_laenderkundepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_laenderkunde1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Intuition</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_laenderkunde2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Verstand</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_laenderkunde_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_naturkunde_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Naturkunde</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_naturkunde" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_naturkundebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_naturkunde_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_naturkunde_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_naturkunde_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_naturkunde" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_naturkunde_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_naturkundepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_naturkunde1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Intuition</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_naturkunde2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Verstand</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_naturkunde_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_redegewandtheit_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Redegewandtheit</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_redegewandtheit" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_redegewandtheitbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_redegewandtheit_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_redegewandtheit_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_redegewandtheit_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_redegewandtheit" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_redegewandtheit_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_redegewandtheitpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_redegewandtheit1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_redegewandtheit2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Willenskraft</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_redegewandtheit_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_schloesserundfallen_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Schl&ouml;sser &amp; Fallen</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_schloesserundfallen" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_schloesserundfallenbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_schloesserundfallen_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_schloesserundfallen_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_schloesserundfallen_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_schloesserundfallen" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_schloesserundfallen_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schloesserundfallenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schloesserundfallen1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Intuition</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_schloesserundfallen2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Beweglichkeit</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_schloesserundfallen_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_schwimmen_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Schwimmen</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_schwimmen" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_schwimmenbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_schwimmen_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_schwimmen_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_schwimmen_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_schwimmen" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_schwimmen_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schwimmenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schwimmen1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">St&auml;rke</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_schwimmen2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Konstitution</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_schwimmen_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_seefahrt_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Seefahrt</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_seefahrt" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_seefahrtbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_seefahrt_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_seefahrt_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_seefahrt_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_seefahrt" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_seefahrt_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_seefahrtpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_seefahrt1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Beweglichkeit</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_seefahrt2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Konstitution</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_seefahrt_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_strassenkunde_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Stra&szlig;enkunde</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_strassenkunde" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_strassenkundebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_strassenkunde_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_strassenkunde_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_strassenkunde_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_strassenkunde" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_strassenkunde_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_strassenkundepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_strassenkunde1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_strassenkunde2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Intuition</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_strassenkunde_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_tierfuehrung_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Tierf&uuml;hrung</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_tierfuehrung" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_tierfuehrungbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_tierfuehrung_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_tierfuehrung_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_tierfuehrung_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_tierfuehrung" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_tierfuehrung_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_tierfuehrungpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_tierfuehrung1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_tierfuehrung2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Beweglichkeit</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_tierfuehrung_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_ueberleben_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">&Uuml;berleben</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_ueberleben" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_ueberlebenbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_ueberleben_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_ueberleben_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_ueberleben_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_ueberleben" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_ueberleben_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_ueberlebenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_ueberleben1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Intuition</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_ueberleben2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Konstitution</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_ueberleben_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_wahrnehmung_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Wahrnehmung</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_wahrnehmung" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_wahrnehmungbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_wahrnehmung_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_wahrnehmung_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_wahrnehmung_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_wahrnehmung" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_wahrnehmung_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_wahrnehmungpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_wahrnehmung1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Intuition</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_wahrnehmung2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Willenskraft</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_wahrnehmung_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_zaehigkeit_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Z&auml;higkeit</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_zaehigkeit" value=0 class="form__field text--700" readonly />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_zaehigkeitbonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow3">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button type="action" name="act_zaehigkeit_si" class="button ability-button grey-background" title="Sicherheitswurf">0</button>
                                <button type="action" name="act_zaehigkeit_st" class="button ability-button" title="Standardwurf">0</button>
                                <button type="action" name="act_zaehigkeit_ri" class="button ability-button grey-background" title="Risikowurf">0</button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_zaehigkeit" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_zaehigkeit_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_zaehigkeitpunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_zaehigkeit1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Konstitution</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_zaehigkeit2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Willenskraft</label>
                        </div>
                        <div class="form__group">
                            <input type="checkbox" name="attr_zaehigkeit_gm" value="1" class="form__field centered" />
                            <br>
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="section section-meisterschaften">
            <h1 class="mb--2">Fertigkeitsmeisterschaften</h1>
            <div class="d--flex">
                <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                    <div class="arrow"></div>
                </label>
                <span class="form-header d--flex__item--grow2 pr--2">Meisterschaft</span>
                <span class="form-header d--flex__item--grow2 pr--2">Fertigkeit</span>
                <span class="form-header text--right pr--2">Schwellenwert</span>
                <span class="form-header d--flex__item--grow3 pr--1">Wirkung</span>
            </div>
            <fieldset class="repeating_meisterschaften">
                <div class="d--flex d--flex--align-bottom p--1">
                    <label class="d--flex__item--grow0 pr--1 pb--2 d--flex">
                        <input type="checkbox" name="attr_meisterschaften_collapse"  class="collapse_switch d--none" />
                        <div class="arrow d--flex__item--grow0"></div>
                    </label>
                    <div class="form__group d--flex__item--grow2 d--flex pr--2">
                        <input type="text" name="attr_meisterschaftsname" class="form__field mr--1" />
                    </div>
                    <div class="form__group d--flex__item--grow2 pr--2">
                        <select name="attr_meisterschaftsfertigkeit" class="form__box">                
                            <option value="nix"></option>
                            <option value="akrobatik">Akrobatik</option>
                            <option value="alchemie">Alchemie</option>
                            <option value="anfuehren">Anf&uuml;hren</option>
                            <option value="arkanekunde">Arkane Kunde</option>
                            <option value="athletik">Athletik</option>
                            <option value="darbietung">Darbietung</option>
                            <option value="diplomatie">Diplomatie</option>
                            <option value="edelhandwerk">Edelhandwerk</option>
                            <option value="empathie">Empathie</option>
                            <option value="entschlossenheit">Entschlossenheit</option>
                            <option value="fingerfertigkeit">Fingerfertigkeit</option>
                            <option value="geschichteundmythen">Geschichte &amp; Mythen</option>
                            <option value="handwerk">Handwerk</option>
                            <option value="heilkunde">Heilkunde</option>
                            <option value="heimlichkeit">Heimlichkeit</option>
                            <option value="jagdkunst">Jagdkunst</option>
                            <option value="laenderkunde">L&auml;nderkunde</option>
                            <option value="naturkunde">Naturkunde</option>
                            <option value="redegewandtheit">Redegewandtheit</option>
                            <option value="schloesserundfallen">Schl&ouml;sser &amp; Fallen</option>
                            <option value="schwimmen">Schwimmen</option>
                            <option value="seefahrt">Seefahrt</option>
                            <option value="strassenkunde">Stra&szlig;enkunde</option>
                            <option value="tierfuehrung">Tierf&uuml;hrung</option>
                            <option value="ueberleben">&Uuml;berleben</option>
                            <option value="wahrnehmung">Wahrnehmung</option>
                            <option value="zaehigkeit">Z&auml;higkeit</option>
                        </select>
                    </div>
                    <div class="form__group pr--2">
                        <input type="number" name="attr_meisterschaftsschwelle" min=0 max=4 class="form__field" />
                    </div>
                    <div class="form__group d--flex__item--grow3">
                        <input type="text" name="attr_meisterschaftswirkung" class="form__field" />
                    </div>
                </div>
                <input type="checkbox" name="attr_meisterschaften_collapse"  class="collapse_switch d--none" />
                <div class="collapse_child collapse_child--lg">
                    <div class="form__group form__group--lg">
                        <textarea name="attr_meisterschaftsbeschreibung"></textarea>
                        <label class="form__label">Beschreibung</label>
                    </div>
                </div>
            </fieldset>
            <h2 class="mt--3 mb--1">Kampfmeisterschaften</h2>
            <div class="d--flex">
                <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                    <div class="arrow"></div>
                </label>
                <span class="form-header d--flex__item--grow2 pr--2">Meisterschaft</span>
                <span class="form-header d--flex__item--grow2 pr--2">Fertigkeit</span>
                <span class="form-header text--right pr--2">Schwellenwert</span>
                <span class="form-header d--flex__item--grow3 pr--1">Wirkung</span>
            </div>
            <fieldset class="repeating_meisterschaftenkampf">
                <div class="d--flex d--flex--align-bottom p--1">
                    <label class="d--flex__item--grow0 pr--1 pb--2 d--flex">
                        <input type="checkbox" name="attr_meisterschaften_kampf_collapse"  class="collapse_switch d--none" />
                        <div class="arrow d--flex__item--grow0"></div>
                    </label>
                    <div class="form__group d--flex__item--grow2 d--flex pr--2">
                        <input type="text" name="attr_meisterschaftsname" class="form__field mr--1" />
                    </div>
                    <div class="form__group d--flex__item--grow2 pr--2">
                        <select name="attr_meisterschaftsfertigkeit" class="form__box">                
                            <option value="nix"></option>
                            <option value="kampf" class="text--center">--- Kampf ---</option>
                            <option value="handgemenge">Handgemenge</option>
                            <option value="hiebwaffen">Hiebwaffen</option>
                            <option value="kettenwaffen">Kettenwaffen</option>
                            <option value="klingenwaffen">Klingenwaffen</option>
                            <option value="stangenwaffen">Stangenwaffen</option>
                            <option value="schusswaffen">Schusswaffen</option>
                            <option value="wurfwaffen">Wurfwaffen</option>
                        </select>
                    </div>
                    <div class="form__group pr--2">
                        <input type="number" name="attr_meisterschaftsschwelle" min=0 max=4 class="form__field" />
                    </div>
                    <div class="form__group d--flex__item--grow3">
                        <input type="text" name="attr_meisterschaftswirkung" class="form__field" />
                    </div>
                </div>
                <input type="checkbox" name="attr_meisterschaften_kampf_collapse"  class="collapse_switch d--none" />
                <div class="collapse_child collapse_child--lg">
                    <div class="form__group form__group--lg">
                        <textarea name="attr_meisterschaftsbeschreibung"></textarea>
                        <label class="form__label">Beschreibung</label>
                    </div>
                </div>
            </fieldset>
            <h2 class="mt--3 mb--1">Magiemeisterschaften</h2>
            <div class="d--flex">
                <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                    <div class="arrow"></div>
                </label>
                <span class="form-header d--flex__item--grow2 pr--2">Meisterschaft</span>
                <span class="form-header d--flex__item--grow2 pr--2">Fertigkeit</span>
                <span class="form-header text--right pr--2">Schwellenwert</span>
                <span class="form-header d--flex__item--grow3 pr--1">Wirkung</span>
            </div>
            <fieldset class="repeating_meisterschaftenmagie">
                <div class="d--flex d--flex--align-bottom p--1">
                    <label class="d--flex__item--grow0 pr--1 pb--2 d--flex">
                        <input type="checkbox" name="attr_meisterschaften_collapse"  class="collapse_switch d--none" />
                        <div class="arrow d--flex__item--grow0"></div>
                    </label>
                    <div class="form__group d--flex__item--grow2 d--flex pr--2">
                        <input type="text" name="attr_meisterschaftsname" class="form__field mr--1" />
                    </div>
                    <div class="form__group d--flex__item--grow2 pr--2">
                        <select name="attr_meisterschaftsfertigkeit" class="form__box">                
                            <option value="nix"></option>
                            <option value="bannmagie">Bannmagie</option>
                            <option value="beherrschungsmagie">Beherrschungsmagie</option>
                            <option value="bewegungsmagie">Bewegungsmagie</option>
                            <option value="erkenntnismagie">Erkenntnismagie</option>
                            <option value="felsmagie">Felsmagie</option>
                            <option value="feuermagie">Feuermagie</option>
                            <option value="heilmagie">Heilungsmagie</option>
                            <option value="illusionsmagie">Illusionsmagie</option>
                            <option value="kampfmagie">Kampfmagie</option>
                            <option value="lichtmagie">Lichtmagie</option>
                            <option value="naturmagie">Naturmagie</option>
                            <option value="schattenmagie">Schattenmagie</option>
                            <option value="schicksalsmagie">Schicksalsmagie</option>
                            <option value="schutzmagie">Schutzmagie</option>
                            <option value="staerkungsmagie">St&auml;rkungsmagie</option>
                            <option value="todesmagie">Todesmagie</option>
                            <option value="verwandlungsmagie">Verwandlungsmagie</option>
                            <option value="wassermagie">Wassermagie</option>
                            <option value="windmagie">Windmagie</option>
                        </select>
                    </div>
                    <div class="form__group pr--2">
                        <input type="number" name="attr_meisterschaftsschwelle" min=0 max=4 class="form__field" />
                    </div>
                    <div class="form__group d--flex__item--grow3">
                        <input type="text" name="attr_meisterschaftswirkung" class="form__field" />
                    </div>
                </div>
                <input type="checkbox" name="attr_meisterschaften_collapse"  class="collapse_switch d--none" />
                <div class="collapse_child collapse_child--lg">
                    <div class="form__group form__group--lg">
                        <textarea name="attr_meisterschaftsbeschreibung"></textarea>
                        <label class="form__label">Beschreibung</label>
                    </div>
                </div>
            </fieldset>
        </div>

        <div class="section section-magie">
            <h1 class="mb--2">Magie</h1>
            <div class="card mb--2 d--flex__item--grow2">
                <div class="d--flex d--flex--wrap d--flex--align-bottom mb--3">
                    <div>
                        <div class="d--flex d--flex--align-center mb--1">
                            <h3 class="mr--1 d--flex__item--grow0">Fokus</h3>
                            <div class="input-circle input-circle--lg d--flex__item--grow0">
                                <input type="text" class="text--700" name="attr_fokus_t" value="0" readonly="readonly" />
                            </div>
                        </div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_fokus_k" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Kanalisiert</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_fokus_e" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Ersch&ouml;pft</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_fokus_v" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Verzehrt</label>
                            </div>
                        </div>
                    </div>
                    <div>
                        <div class="d--flex mb--1">
                            <b class="text--right mr--1">Initiative</b>
                            <button class="button button--primary" type=roll value="&{template:splittermond_initiative} {{name=Initiative}} {{charactername=@{character_name}}} {{Wurf=[[@{initiative} - 1d6 @{initracker_input}]]}}"></button>
                        </div>
                        <div class="d--flex">
                            <b class="text--right mr--1">Zauberpatzer</b>
                            <button class="button" type=roll value="&{template:splittermond_patzer} {{charactername=@{character_name}}} {{naming=[[?{Zauber- oder Priesterpatzer?|Zauberpatzer, 1|Priesterpatzer, 0}]]}} {{charactername=@{character_name}}} {{result=[[2d10 + ?{Negative Erfolgsgrade|1} * ?{Fokuskosten|1}]]}} {{fk=[[?{Fokuskontrolle oder Nichts passiert?|------, 0|Fokuskontrolle, 1|Nichts passiert!, 2}]]}} {{sbm=[[@{hiddensbm}]]}} {{s1=[[1d6]]}} {{s2=[[2d6]]}} {{s3=[[2d10]]}} {{s4=[[3d10]]}} {{s5=[[4d10]]}} {{s6=[[5d10]]}} {{s7=[[7d10]]}} {{s8=[[10d10]]}}"></button>
                            <input type="hidden" name="attr_rollzauberpatzer" value="[Wirf!](~show_zauberpatzertext)" />
                            <button type="roll" name="roll_show_zauberpatzertext" style="display: none" value="@{zauberpatzertext}" class="btn ui-draggable"></button>
                            <input type="hidden" name="attr_zauberpatzertext" value="&{template:splittermond_patzer} {{charactername=@{character_name}}} {{naming=[[?{Zauber- oder Priesterpatzer?|Zauberpatzer, 1|Priesterpatzer, 0}]]}} {{charactername=@{character_name}}} {{result=[[2d10 + ?{Negative Erfolgsgrade|1} * ?{Fokuskosten|1}]]}} {{fk=[[?{Fokuskontrolle oder Nichts passiert?|------, 0|Fokuskontrolle, 1|Nichts passiert!, 2}]]}} {{sbm=[[@{hiddensbm}]]}} {{s1=[[1d6]]}} {{s2=[[2d6]]}} {{s3=[[2d10]]}} {{s4=[[3d10]]}} {{s5=[[4d10]]}} {{s6=[[5d10]]}} {{s7=[[7d10]]}} {{s8=[[10d10]]}}" />
                        </div>
                    </div>
                </div>
                <div class="d--flex d--flex--wrap">
                    <div>
                        <h3 class="mb--1">Zauberkosten abrechnen</h3>
                        <div class="d--flex d--flex--align-bottom">
                            <div class="form__group d--inline mr--1">
                                <input type="text" name="attr_zauberkosten" placeholder="0" value="0" class="form__field" />
                                <label class="form__label">Kosten</label>
                            </div>
                            <button class="button" type="action" name="act_zaubercalc">Berechnen</button>
                        </div>
                    </div>
                    <div></div>
                </div>
            </div>

            <h2 class="mt--3 mb--1">Zauberspr&uuml;che</h2>
            <div class="d--flex">
                <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                    <div class="arrow"></div>
                </label>
                <span class="form-header d--flex__item--grow3 pr--1 pl--1">Zauberspruch</span>
                <span class="form-header text--center pr--2">Wert</span>
                <span class="form-header d--flex__item--grow2 pr--2">Kosten</span>
                <span class="form-header d--flex__item--grow2 pr--2">Kosten (V)</span>
                <span class="form-header text--center d--flex__item--grow2 pr--2">Mod. Ausr. / Mag.</span>
                <span class="form-header d--flex__item--grow4 pr--2">Wirkung</span>
                <span class="form-header text--center pr--1">W&uuml;rfeln</span>
            </div>
            <fieldset class="repeating_zauber">
                <div class="d--flex d--flex--align-bottom p--1">
                    <label class="d--flex__item--grow0 pr--1 pl--1 pb--2 d--flex">
                        <input type="checkbox" name="attr_zaubersprueche_collapse"  class="collapse_switch d--none" />
                        <div class="arrow d--flex__item--grow0"></div>
                    </label>
                    <div class="form__group pr--1 d--flex__item--grow3">
                        <input class="form__field" type="text" name="attr_zaubername" />
                    </div>
                    <div class="pr--2">
                        <div class="input-circle center--horizontally">
                            <input class="form__field text--700" type="text" name="attr_zauberwert" readonly="true" />
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex__item--grow2 pr--2">
                        <input class="form__field mr--1" type="text" name="attr_zauberkosten" value="" />
                        <span class="button button--primary button-image">
                            <input type="checkbox" name="attr_directcalc" title="Fokuskosten direkt abrechnen" value="directcalc" class="button-image__checkbox" />
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/wand_xsmall.png" />
                        </span>
                    </div>
                    <div class="form__group d--flex d--flex__item--grow2 pr--2">
                        <input class="form__field mr--1" type="text" name="attr_zauberkostenv" value="1" />
                        <span class="button button--primary button-image">
                            <input type="checkbox" name="attr_directcalcv" title="Verstärkte Fokuskosten direkt abrechnen" value="directcalc" class="button-image__checkbox" />
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/wand_xsmall.png" />
                        </span>
                    </div>
                    <div class="form__group d--flex d--flex__item--grow2 pr--2">
                        <input class="form__field" type="number" name="attr_zaubermod1" value="0" /> /
                        <input class="form__field" type="number" name="attr_zaubermod2" value="0" />
                        <input type="hidden" name="attr_hiddenmod" value="0" />
                        <input type="hidden" name="attr_zauberattrmod" value="0" />
                    </div>
                    <div class="d--flex d--flex__item--grow4 pr--2">
                        <input type="text" name="attr_zauberwirkung" class="form__field" />
                    </div>
                    <div class="d--flex text--center">
                        <input type="hidden" name="attr_damagerollspell" />
                        <input type="hidden" name="attr_spelldamagechanger" value=0 />
                        <input type="hidden" name="attr_rolldamagespell" value="[Wirf!](~repeating_zauber_show_damage_spell)" />
                        <button type="roll" name="roll_show_damage_spell" style="display: none" value="@{showing_damage_spell}" class="btn ui-draggable"></button>
                        <input type="hidden" name="attr_showing_damage_spell" value="&{template:splittermond_damage} {{charactername=@{character_name}}} {{name=Zauber: @{zaubername}}} {{damage=[[@{damagerollspell}]]}}" />
                        <button type="action" name="act_roll" class="sheet-ability-button">0</button>
                    </div>
                </div>
                <input type="checkbox" name="attr_zaubersprueche_collapse"  class="collapse_switch d--none" />
                <div class="collapse_child collapse_child--lg">
                    <div class="d--flex d--flex--align-bottom mb--1">
                        <div class="form__group d--flex__item--grow2 mr--2">
                            <select class="form__box" name="attr_magieschulen">                
                                <option value="nix"></option>
                                <option value="arkanekundezauber">Arkane Kunde</option>
                                <option value="bann">Bann</option>
                                <option value="beherrschung">Beherrschung</option>
                                <option value="bewegung">Bewegung</option>
                                <option value="erkenntnis">Erkenntnis</option>
                                <option value="fels">Fels</option>
                                <option value="feuer">Feuer</option>
                                <option value="heilung">Heilung</option>
                                <option value="illusion">Illusion</option>
                                <option value="kampf">Kampf</option>
                                <option value="licht">Licht</option>
                                <option value="natur">Natur</option>
                                <option value="schatten">Schatten</option>
                                <option value="schicksal">Schicksal</option>
                                <option value="schutz">Schutz</option>
                                <option value="staerkung">St&auml;rkung</option>
                                <option value="tod">Tod</option>
                                <option value="verwandlung">Verwandlung</option>
                                <option value="wasser">Wasser</option>
                                <option value="wind">Wind</option>
                            </select>
                            <label class="form__label">Magieschule</label>
                        </div>
                        <div class="form__group mr--2">
                            <input class="form__field" type="text" name="attr_zauberschwierigkeit" value="15" />
                            <label class="form__label">Schwierigkeitsgrad</label>
                        </div>
                        <div class="form__group mr--2">
                            <input class="form__field" type="text" name="attr_zauberrw" />
                            <label class="form__label">Reichweite</label>
                        </div>
                        <div class="form__group mr--2">
                            <input class="form__field" type="text" name="attr_zauberdauer" value="1" />
                            <label class="form__label">Zauberdauer</label>
                        </div>
                        <div class="form__group">
                            <input class="form__field" type="text" name="attr_zauberwd" />
                            <label class="form__label">Wirkungsdauer</label>
                        </div>
                        <div class="form__group">
                            <input class="margin-top" type="checkbox" name="attr_gm" value="1" />
                            <label class="form__label">Gro&szlig;meister</label>
                        </div>
                    </div>
                    <div class="form__group form__group--lg mb--3">
                        <textarea name="attr_zauberbeschreibung"></textarea>
                        <label class="form__label">Beschreibung</label>
                    </div>
                    <div class="d--flex d--flex--align-center">
                        <span class="d--flex__item--grow0 mr--1">Zauberschaden aktivieren?</span> 
                        <label class="d--flex__item--grow0">
                            <input type="checkbox" name="attr_spelldmgactive" class="switch" />
                            <span class="switch__slider"></span>
                        </label>
                    </div>
                    <input type="checkbox" name="attr_spelldmgactive" class="switch" />
                    <div class="switch__content--inactive">
                        <div class="d--flex d--flex--align-bottom">
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" value="0" disabled />
                                <label class="form__label">W&uuml;rfelanzahl</label>
                            </div>
                            <div class="form__group pr--1">
                                <select class="sheet-form__box" name="attr_zauberschadenwuerfel" disabled>  
                                    <optgroup>
                                        <option>W6</option>
                                    </optgroup>
                                </select>
                                <label class="form__label">W&uuml;rfelseiten</label>
                            </div>
                            <span class="d--flex__item--grow0 text--lg pr--1">+</span>
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" value="0" disabled />
                                <label class="form__label">Schadensmod.</label>
                            </div>
                            <div class="form__group d--flex__item--grow3">
                                <input class="form__field" type="text" value="-" disabled />
                                <label class="form__label">Merkmale</label>
                            </div>
                        </div> 
                    </div>
                    <div class="switch__content--active">
                        <div class="d--flex d--flex--align-bottom">
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" name="attr_zauberschaden1" value="1" />
                                <label class="form__label">W&uuml;rfelanzahl</label>
                            </div>
                            <div class="form__group pr--1">
                                <select class="sheet-form__box" name="attr_zauberschadenwuerfel">  
                                    <optgroup>
                                        <option value="d6">W6</option>
                                        <option value="d10">W10</option>
                                    </optgroup>
                                </select>
                                <label class="form__label">W&uuml;rfelseiten</label>
                            </div>
                            <span class="d--flex__item--grow0 text--lg pr--1">+</span>
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" name="attr_zauberschaden3" value="0" />
                                <label class="form__label">Schadensmod.</label>
                            </div>
                            <div class="form__group d--flex__item--grow3">
                                <input class="form__field" type="text" name="attr_zaubermerkmale" />
                                <input type="hidden" name="attr_zauberexakt" value="0" />
                                <input type="hidden" name="attr_zauberscharf" value="0"  />
                                <input type="hidden" name="attr_zauberkritisch" value="0" />
                                <label class="form__label">Merkmale</label>
                            </div>
                        </div>  
                    </div> 
                </div>
            </fieldset>
            <h2 class="mt--3">Magieschulen</h2>
            <div class="d--flex d--flex--wrap">
                <div class="mr--2 mb--2">
                    <div class="d--flex">
                        <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                            <div class="arrow"></div>
                        </label>
                        <span class="sheet-form-header sheet-d--flex__item--grow3 sheet-text--right sheet-pr--1">Magieschule</span>
                        <span class="form-header text--center pr--2">Wert</span>
                        <span class="form-header text--right pr--2">Mod.</span>
                        <span class="sheet-form-header sheet-d--flex__item--grow2 sheet-text--center pr--1">W&uuml;rfeln</span>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_bannmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Bannmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_bannmagie" value="@{bannmagie1}+@{bannmagie2}+@{bannmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_bannmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Bannmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{bannmagie} + @{bannmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenwillenskraftmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_bannmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_bannmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_bannmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_bannmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_bannmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Willenskraft</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_beherrschungsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Beherrschungsm.</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_beherrschungsmagie" value="@{beherrschungsmagie1}+@{beherrschungsmagie2}+@{beherrschungsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_beherrschungsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">

                                <button class="button" type=roll value="@{abilityroll} {{name=Beherrschungsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{beherrschungsmagie} + @{beherrschungsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenwillenskraftmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_beherrschungsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_beherrschungsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_beherrschungsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_beherrschungsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_beherrschungsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Willenskraft</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_bewegungsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Bewegungsmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_bewegungsmagie" value="@{bewegungsmagie1}+@{bewegungsmagie2}+@{bewegungsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_bewegungsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Bewegungsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{bewegungsmagie} + @{bewegungsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenbeweglichkeitmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_bewegungsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_bewegungsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_bewegungsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_bewegungsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_bewegungsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Beweglichkeit</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_erkenntnismagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Erkenntnismagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_erkenntnismagie" value="@{erkenntnismagie1}+@{erkenntnismagie2}+@{erkenntnismagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_erkenntnismagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Erkenntnismagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{erkenntnismagie} + @{erkenntnismagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenverstandmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_erkenntnismagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_erkenntnismagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_erkenntnismagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_erkenntnismagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_erkenntnismagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Verstand</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_felsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Felsmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_felsmagie" value="@{felsmagie1}+@{felsmagie2}+@{felsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_felsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">

                                <button class="button" type=roll value="@{abilityroll} {{name=Felsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{felsmagie} + @{felsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenkonstitutionmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_felsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_felsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_felsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_felsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_felsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Konstitution</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_feuermagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Feuermagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_feuermagie" value="@{feuermagie1}+@{feuermagie2}+@{feuermagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_feuermagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Feuermagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{feuermagie} + @{feuermagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenausstrahlungmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_feuermagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_feuermagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_feuermagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_feuermagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_feuermagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_heilungsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Heilungsmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_heilungsmagie" value="@{heilungsmagie1}+@{heilungsmagie2}+@{heilungsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_heilungsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Heilungsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{heilungsmagie} + @{heilungsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenausstrahlungmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_heilungsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_heilungsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_heilungsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_heilungsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_heilungsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_illusionsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Illusionsmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_illusionsmagie" value="@{illusionsmagie1}+@{illusionsmagie2}+@{illusionsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_illusionsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Illusionsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{illusionsmagie} + @{illusionsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenausstrahlungmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button> 
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_illusionsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_illusionsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_illusionsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_illusionsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_illusionsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_kampfmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Kampfmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_kampfmagie" value="@{kampfmagie1}+@{kampfmagie2}+@{kampfmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_kampfmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Kampfmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{kampfmagie} + @{kampfmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenstaerkemod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_kampfmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_kampfmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_kampfmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_kampfmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_kampfmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">St&auml;rke</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_lichtmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Lichtmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_lichtmagie" value="@{lichtmagie1}+@{lichtmagie2}+@{lichtmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_lichtmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Lichtmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{lichtmagie} + @{lichtmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenausstrahlungmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_lichtmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_lichtmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_lichtmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_lichtmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_lichtmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                    </div>
                </div>
                <div>
                    <div class="d--flex">
                        <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                            <div class="arrow"></div>
                        </label>
                        <span class="sheet-form-header sheet-d--flex__item--grow3 sheet-text--right sheet-pr--1">Magieschule</span>
                        <span class="form-header text--center pr--2">Wert</span>
                        <span class="form-header text--right pr--2">Mod.</span>
                        <span class="sheet-form-header sheet-d--flex__item--grow2 sheet-text--center pr--1">W&uuml;rfeln</span>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_naturmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Naturmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_naturmagie" value="@{naturmagie1}+@{naturmagie2}+@{naturmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_naturmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Naturmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{naturmagie} + @{naturmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenausstrahlungmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_naturmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_naturmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_naturmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_naturmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_naturmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_schattenmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Schattenmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_schattenmagie" value="@{schattenmagie1}+@{schattenmagie2}+@{schattenmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_schattenmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Schattenmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{schattenmagie} + @{schattenmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenintuitionmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_schattenmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_schattenmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schattenmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schattenmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_schattenmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Intuition</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_schicksalsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Schicksalsmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_schicksalsmagie" value="@{schicksalsmagie1}+@{schicksalsmagie2}+@{schicksalsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_schicksalsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Schicksalsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{schicksalsmagie} + @{schicksalsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenausstrahlungmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_schicksalsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_schicksalsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schicksalsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schicksalsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_schicksalsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_schutzmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Schutzmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_schutzmagie" value="@{schutzmagie1}+@{schutzmagie2}+@{schutzmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_schutzmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Schutzmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{schutzmagie} + @{schutzmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenausstrahlungmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_schutzmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_schutzmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schutzmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_schutzmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_schutzmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Ausstrahlung</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_staerkungsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">St&auml;rkungsmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_staerkungsmagie" value="@{staerkungsmagie1}+@{staerkungsmagie2}+@{staerkungsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_staerkungsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Stärkungsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{staerkungsmagie} + @{staerkungsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenstaerkemod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_staerkungsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_staerkungsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_staerkungsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_staerkungsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_staerkungsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">St&auml;rke</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_todesmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Todesmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_todesmagie" value="@{todesmagie1}+@{todesmagie2}+@{todesmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_todesmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Todesmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{todesmagie} + @{todesmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenverstandmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_todesmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_todesmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_todesmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_todesmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_todesmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Verstand</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_verwandlungsmagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Verwandlungsm.</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_verwandlungsmagie" value="@{verwandlungsmagie1}+@{verwandlungsmagie2}+@{verwandlungsmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_verwandlungsmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Verwandlungsmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{verwandlungsmagie} + @{verwandlungsmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenkonstitutionmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_verwandlungsmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_verwandlungsmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_verwandlungsmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_verwandlungsmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_verwandlungsmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Konstitution</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1">
                            <input type="checkbox" name="attr_fertigkeit_wassermagie_collapse"  class="collapse_switch d--none" />
                            <div class="arrow"></div>
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Wassermagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_wassermagie" value="@{wassermagie1}+@{wassermagie2}+@{wassermagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_wassermagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Wassermagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{wassermagie} + @{wassermagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenintuitionmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_wassermagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_wassermagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_wassermagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_wassermagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_wassermagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Intuition</label>
                        </div>
                    </div>
                    <div class="form__group d--flex d--flex--align-center p--1">
                        <label class="d--flex__item--grow0 p--0 pr--1 d--flex">
                            <div class="arrow d--flex__item--grow0"></div>
                            <input type="checkbox" name="attr_fertigkeit_windmagie_collapse"  class="collapse_switch d--none" />
                        </label>
                        <label class="text--right pr--1 d--flex__item--grow3">Windmagie</label>
                        <div class="pr--2">
                            <div class="input-circle center--horizontally">
                                <input type="text" name="attr_windmagie" value="@{windmagie1}+@{windmagie2}+@{windmagiepunkte}" class="form__field text--700" disabled="true" />
                            </div>
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_windmagiebonus" placeholder="0" value="0" class="form__field" />
                        </div>
                        <div class="d--flex d--flex__item--grow2">
                            <input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker hidden" />
                            <div class="old-buttons">
                                <button class="button" type=roll value="@{abilityroll} {{name=Windmagie}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{windmagie} + @{windmagiebonus} + @{hiddenallfert} + @{hiddenmystikmod} + @{hiddenverstandmod} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                            </div>
                            <div class="new-button">
                                <button type="action" name="act_windmagie" class="button ability-button">0</button>
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" name="attr_fertigkeit_windmagie_collapse"  class="collapse_switch d--none" />
                    <div class="d--flex collapse_child">
                        <div class="form__group mr--1">
                            <input type="number" name="attr_windmagiepunkte" placeholder="0" value="0" min="0" max="15" class="form__field mr--1" />
                            <label class="form__label">Punkte</label>
                        </div>
                        <div class="form__group mr--1">
                            <input type="number" name="attr_windmagie1" placeholder="0" value="0" readonly="true" class="form__field mr--1" />
                            <label class="form__label">Mystik</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_windmagie2" placeholder="0" value="0" readonly="true" class="form__field" />
                            <label class="form__label">Verstand</label>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        
        <div class="section section-Kampf">
            <h1 class="mb--2">Kampf</h1>
            <div class="card mb--2">
                <div class="d--flex d--flex--wrap mb--2">
                    <div class="mr--3 mb--2">
                        <div class="d--flex d--flex--align-center mb--1">
                            <h3 class="mr--1 d--flex__item--grow0">Lebenspunkte</h3>
                            <div class="input-circle input-circle--lg d--flex__item--grow0">
                                <input type="text" class="text--700" name="attr_lebenspunkte_t" value="0" readonly="readonly" />
                                <input type="hidden" name="attr_lebenspunkte_t_max" value="0" readonly="readonly" />
                            </div>
                        </div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_lebenspunkte_k" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Kanalisiert</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_lebenspunkte_e" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Ersch&ouml;pft</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_lebenspunkte_v" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Verzehrt</label>
                            </div>
                        </div>
                    </div>
                    <div class="mb--2">
                        <div class="d--flex d--flex--align-center mb--1">
                            <h3 class="mr--1 d--flex__item--grow0">Fokus</h3>
                            <div class="input-circle input-circle--lg d--flex__item--grow0">
                                <input type="text" class="text--700" name="attr_fokus_t" value="0" readonly="readonly" />
                                <input type="hidden" name="attr_fokus_t_max" value="0" readonly="readonly" />
                            </div>
                        </div>
                        <div class="d--flex">
                            <div class="form__group mr--1">
                                <input type="number" name="attr_fokus_k" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Kanalisiert</label>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_fokus_e" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Ersch&ouml;pft</label>
                            </div>
                            <div class="form__group">
                                <input type="number" name="attr_fokus_v" placeholder="0" value="0" min="0" class="form__field" />
                                <label class="form__label">Verzehrt</label>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d--flex d--flex--wrap mb--2">
                    <div class="d--flex mb--2">
                        <b class="text--right d--flex__item--grow0 mr--1 mt--1">Schadensmodifikator</b>
                        <div class="sheet-input-circle d--flex__item--grow0">
                            <input type="text" class="text--700" name="attr_schadensmod" value="0" readonly="readonly" class="form__field" />
                        </div>
                        <input type="hidden" name="attr_sw1" value="0" />
                        <input type="hidden" name="attr_sw2" value="0" />
                        <input type="hidden" name="attr_verwundet" value="0" />
                        <input type="hidden" name="attr_benommen" value="0" />
                        <input type="hidden" name="attr_geblendet" value="0" />
                        <input type="hidden" name="attr_erschoepft" value="0" />
                        <input type="hidden" name="attr_lahm" value="0" />
                        <input type="hidden" name="attr_schadenimmun" value="0" />
                        <input type="hidden" name="attr_wundabzugsmod" value="0" />
                        <input type="hidden" name="attr_glaubenskrise" value="0" />
                    </div>
                    <div>
                        <div class="d--flex d--flex--align-center mb--1">
                            <b class="text--right mr--1">Initiative</b>
                            <button class="button button--primary" type=roll value="&{template:splittermond_initiative} {{name=Initiative}} {{charactername=@{character_name}}} {{Wurf=[[@{initiative} - 1d6 @{initracker_input}]]}}"></button>
                        </div>
                        <div class="d--flex d--flex--align-center">
                            <b class="text--right mr--1">Kampfpatzer</b>
                            <button class="button" type=roll value="&{template:splittermond_patzer} {{naming=[[2]]}} {{charactername=@{character_name}}} {{result=[[2d10]]}}"></button>
                            <input type="hidden" name="attr_rollpatzer" value="[Wirf!](~show_patzertext)" />
                            <button type="roll" name="roll_show_patzertext" style="display: none" value="@{patzertext}" class="btn ui-draggable"></button>
                            <input type="hidden" name="attr_patzertext" value="&{template:splittermond_patzer} {{naming=[[2]]}} {{charactername=@{character_name}}} {{result=[[2d10]]}}" />
                        </div>
                    </div>
                </div>
                <h3 class="mb--1">Regeneration und Heilung</h3>
                <div class="d--flex d--flex--wrap d--flex--align-bottom">
                    <div class="mr--3">
                        <div class="mb--1 d--flex d--flex--align-bottom">
                            <div class="form__group d--inline mr--1">
                                <input type="number" name="attr_regbonus" placeholder="0" value="0" class="form__field" />
                                <label class="form__label">Bonus</label>
                            </div>
                            <button class="button mr--1" type="action" name="act_verschnaufpause">Verschnaufen</button>
                            <button class="button" type="action" name="act_ruhephase">Ruhephase</button>
                        </div>
                    </div>
                    <div class="d--flex">
                        <span class="d--flex__item--grow0 mr--1">Autom. K &rarr; E (Fokus)?</span> 
                        <label class="d--flex__item--grow0">
                            <input type="checkbox" value="1" name="attr_fokuskzue" checked="checked" class="switch" />
                            <span class="switch__slider"></span>
                        </label>
                    </div>
                </div>
            </div>

            <div class="d--flex d--flex--wrap mb--2">
                <div class="mr--3">
                    <div class="card mb--2">
                        <h3>Aktive Abwehr</h3>
                        <div class="d--flex d--flex--align-center">
                            <b class="text--right mr--1">Akrobatik</b> <button class="aa-button" type="action" name="act_aa_akrobatik">0</button>
                            <b class="text--right mr--1">KW</b> <button class="aa-button" type="action" name="act_aa_kw">0</button>
                            <b class="text--right mr--1">GW</b> <button class="aa-button" type="action" name="act_aa_gw">0</button>
                        </div>
                    </div>
                </div>
                <div class="mb--2">
                    <div class="d--flex">
                        <span class="form-header d--flex__item--grow2 pl--1 pr--1">Zustand</span>
                        <span class="form-header text--right pr--1">Stufe</span>
                        <span class="form-header text--center">Aktiv</span>
                    </div>
                    <fieldset class="repeating_zustaende">
                        <div class="d--flex">
                            <div class="form__group mr--1 d--flex__item--grow2">
                                <select name="attr_zustandsname">  
                                    <optgroup>
                                        <option value="nothing" selected="selected">Zustand w&auml;hlen</option>
                                        <option value="benommen">Benommen</option>
                                        <option value="bewusstlos">Bewusstlos</option>
                                        <option value="erschoepft">Ersch&ouml;pft</option>
                                        <option value="geblendet">Geblendet</option>
                                        <option value="glaubenskrise">Glaubenskrise</option>
                                        <option value="lahm">Lahm</option>
                                        <option value="sterbendw">Sterbend (Wunden)</option>
                                        <option value="totw">Tot (Wunden)</option>
                                        <option value="verwundet">Verwundet</option>
                                    </optgroup>
                                </select>
                            </div>
                            <div class="form__group mr--1">
                                <input type="number" name="attr_zustandsstufe" value="0" min="0" placeholder="1" class="form__field text--right" />
                            </div>
                            <div class="form__group">
                                <label class="text--center">
                                    <input type="checkbox" value="1" name="attr_zustandonoff" class="switch" />
                                    <span class="switch__slider"></span>
                                </label>
                            </div>
                        </div>
                    </fieldset>   
                </div>
            </div>

            <div>
                <input type="checkbox" value='1' name="attr_initracker_sc" class="initracker_sc hidden-checkbox" />
                <input type="hidden" name="attr_initracker_input" />
                <div class="card initracker_sc_text hidden">
                    <b>Hinweis:</b> Token muss angeklickt sein!
                    <div class="d--flex d--flex--wrap mt--3">
                        <div class="d--flex d--flex--column mr--1">
                            <h3 class="mb--1">Kampfhandlungen</h3>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=zu zielen oder eine L&uuml;cke zu suchen}} {{Ticks=[[2 &{tracker:+}]]}}" title="Aufstehen (Liegend)" class="button button--primary bt_initiative_tracker mb--1">Zielen / L&uuml;cke suchen (2 Ticks)</button>
                            <div class="mb--2 d--flex d--flex--align-bottom">
                                <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=seine Fernkampfwaffe bereit zu machen}} {{Ticks=[[@{wgs_tracker} &{tracker:+}]]}}" title="Fernkampfwaffe bereitmachen" class="button button--primary bt_initiative_tracker mr--1">Fernkampfwaffe bereitmachen:</button>
                                <input class="d--flex__item--grow0 mr--1" type="number" name="attr_wgs_tracker" value=0 /> <div class="d--flex__item--grow0">Ticks</div>
                            </div>
                            <h3 class="mb--1">Bewegungshandlungen</h3>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=aufzustehen}} {{Ticks=[[6 &{tracker:+}]]}}" title="Aufstehen (Liegend)" class="button button--primary bt_initiative_tracker mb--1">Aufstehen, liegend (6 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=aufzustehen}} {{Ticks=[[3 &{tracker:+}]]}}" title="Aufstehen (Liegend)" class="button button--primary bt_initiative_tracker mb--1">Aufstehen, sitzend/kniend (3 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=sich aus dem Kampf zu l&ouml;sen}} {{Ticks=[[5 &{tracker:+}]]}}" title="Aus dem Kampf l&ouml;sen" class="button button--primary bt_initiative_tracker mb--1">Aus dem Kampf l&ouml;sen (5 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=sich fallen zu lassen}} {{Ticks=[[2 &{tracker:+}]]}}" title="Fallen lassen" class="button button--primary bt_initiative_tracker mb--1">Fallen lassen (2 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=zu laufen oder zu kriechen}} {{Ticks=[[5 &{tracker:+}]]}}" title="Laufen/kriechen" class="button button--primary bt_initiative_tracker mb--1">Laufen/Kriechen (5 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=zu sprinten}} {{Ticks=[[10 &{tracker:+}]]}}" title="Sprinten" class="button button--primary bt_initiative_tracker">Sprinten (10 Ticks)</button>
                        </div>
                        <div class="d--flex d--flex--column">
                            <h3 class="mb--1">Verteidigungshandlungen</h3>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=in Deckung zu springen}} {{Ticks=[[3 &{tracker:+}]]}}" title="Ausweichsprung" class="button button--primary bt_initiative_tracker mb--1">Ausweichsprung (3 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=sich aus der Umklammerung zu befreien}} {{Ticks=[[5 &{tracker:+}]]}}" title="Aus Umklammerung befreien" class="button button--primary bt_initiative_tracker mb--1">Aus Umklammerung befreien (5 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=die Umklammerung zu l&ouml;sen}} {{Ticks=[[3 &{tracker:+}]]}}" title="Umklammerung l&ouml;sen" class="button button--primary bt_initiative_tracker mb--2">Umklammerung l&ouml;sen (3 Ticks)</button>
                            <h3 class="mb--1">Weitere Handlungen</h3>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=Atem zu holen}} {{Ticks=[[8 &{tracker:+}]]}}" title="Atemholen" class="button button--primary bt_initiative_tracker mb--1">Atemholen (8 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=einen Gegenstand zu verwenden}} {{Ticks=[[5 &{tracker:+}]]}}" title="Gegenstand verwenden" class="button button--primary bt_initiative_tracker mb--1">Gegenstand verwenden (5 Ticks)</button>
                            <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=Wissen abzurufen oder einen Zauber zu identifizieren}} {{Ticks=[[2 &{tracker:+}]]}}" title="Wissen abrufen / Zauber identifizieren" class="button button--primary bt_initiative_tracker mb--1">Wissen abrufen / Zauber identifizieren (2 Ticks)</button>
                            <div class="d--flex d--flex--align-bottom">
                                <button type=roll value="&{template:splittermond-initiative_tracker} {{name=@{character_name}}} {{action=Magie zu fokussieren}} {{Ticks=[[@{fokus_tracker} &{tracker:+}]]}}" title="Magie fokussieren" class="button button--primary bt_initiative_tracker mr--1">Magie fokussieren:</button>
                                <input class="d--flex__item--grow0 mr--1" type="number" name="attr_fokus_tracker" value=0 /> <div class="d--flex__item--grow0">Ticks</div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <h2 class="mt--3 mb--1">Nahkampfwaffen</h2>
            <b>Hinweis:</b> Merkmale bitte mit Kommata getrennt und ohne Klammern notieren, z.B.: <i>Kritisch 2</i>, <i>Scharf 2</i>, <i>Exakt 1</i>
            <div class="d--flex">
                <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                    <div class="arrow"></div>
                </label>
                <span class="form-header d--flex__item--grow3 pr--1">Waffenname</span>
                <span class="form-header text--center pr--2">Wert</span>
                <span class="form-header text--right pr--2">WGS</span>
                <span class="form-header d--flex__item--grow4 text--center pr--2">Schaden</span>
                <span class="form-header text--right pr--2">Mod</span>
                <span class="form-header d--flex__item--grow2 text--center pr--1">Angriff Abwehr</span>
            </div>

            <input type=hidden name="attr_angriffsbonus" value="0" />
            <fieldset class="repeating_nahkampfwaffen">
                <div class="d--flex d--flex--align-bottom p--1">
                    <label class="d--flex__item--grow0 pr--1 pb--2 d--flex">
                        <input type="checkbox" name="attr_nahkampfwaffen_collapse"  class="collapse_switch d--none" />
                        <div class="arrow d--flex__item--grow0"></div>
                    </label>
                    <div class="form__group pr--1 d--flex__item--grow3">
                        <input class="form__field" type="text" name="attr_waffenname" />
                    </div>
                    <div class="pr--2">
                        <div class="input-circle center--horizontally">
                            <input class="form__field text--700" type="text" name="attr_waffenwert" readonly="true" />
                        </div>
                    </div>
                    <div class="form__group pr--2">
                        <input class="form__field" type="number" name="attr_waffenwgs" value="3" />
                    </div>
                    <div class="d--flex d--flex__item--grow4 d--flex--align-bottom pr--2">
                        <div class="form__group mr--1">
                            <input class="form__field" type="number" name="attr_waffenschaden1" value="1" />
                        </div>
                        <div class="form__group mr--1 d--flex__item--grow2">
                            <select name="attr_waffenschadenwuerfel">  
                                <optgroup>
                                    <option value="d6">W6</option>
                                    <option value="d10">W10</option>
                                </optgroup>
                            </select>
                        </div>
                        <span class="d--flex__item--grow0 text--lg mr--1">+</span>
                        <div class="form__group">
                            <input class="form__field" type="number" name="attr_waffenschaden3" value="0" />
                        </div>
                    </div>
                    <div class="form__group pr--2">
                        <input class="form__field" type="number" name="attr_waffenmod" value="0" />
                    </div>
                    <input type="hidden" name="attr_damageroll" />
                    <input type="hidden" name="attr_rolldamage" value="[Wirf!](~repeating_nahkampfwaffen_show_damage)" />
                    <button type="roll" name="roll_show_damage" style="display: none" value="@{showing_damage}" class="btn ui-draggable"></button>
                    <input type="hidden" name="attr_showing_damage" value="&{template:splittermond_damage} {{charactername=@{character_name}}} {{name=Waffe: @{waffenname}}} {{damage=[[@{damageroll}]]}}" />
                    <div class="d--flex d--flex__item--grow2 text--center">
                        <button type="action" name="act_angriff" class="sheet-ability-button">0</button>
                        <button type="action" name="act_aktiveabwehr" class="sheet-ability-button grey-background">0</button>
                    </div>
                    <input type="hidden" name="attr_nahwaffenattrmod" value="0">
                </div>
                <input type="checkbox" name="attr_nahkampfwaffen_collapse"  class="collapse_switch d--none" />
                <div class="d--flex collapse_child">
                    <div class="form__group d--flex mr--2">
                        <select name="attr_waffenskill" class="form__box mr--1">
                            <optgroup>
                                    <option value="handgemenge">Handgemenge</option>
                                    <option value="hiebwaffen">Hiebwaffen</option>
                                    <option value="kettenwaffen">Kettenwaffen</option>
                                    <option value="klingenwaffen">Klingenwaffen</option>
                                    <option value="stangenwaffen">Stangenwaffen</option>
                            </optgroup>
                        </select>                            
                        <select name="attr_waffenattr1" class="form__box mr--1"> 
                            <optgroup>
                                <option value="aus">AUS</option>
                                <option value="bew">BEW</option>
                                <option value="int">INT</option>
                                <option value="kon">KON</option>
                                <option value="mys">MYS</option>
                                <option value="stae">ST&Auml;</option>
                                <option value="ver">VER</option>
                                <option value="wil">WIL</option>
                            </optgroup>
                        </select>
                        <select name="attr_waffenattr2" class="form__box"> 
                            <optgroup>
                                <option value="aus">AUS</option>
                                <option value="bew">BEW</option>
                                <option value="int">INT</option>
                                <option value="kon">KON</option>
                                <option value="mys">MYS</option>
                                <option value="stae">ST&Auml;</option>
                                <option value="ver">VER</option>
                                <option value="wil">WIL</option>
                            </optgroup>
                        </select>
                        <label class="form__label">Basis</label>
                    </div>
                    <div class="form__group">
                        <input class="form__field" type="text" name="attr_waffenmerkmale" />
                        <input type="hidden" name="attr_waffenexakt" value="0" />
                        <input type="hidden" name="attr_waffenscharf" value="0"  />
                        <input type="hidden" name="attr_waffenkritisch" value="0"  />
                        <input type="hidden" name="attr_waffendefensiv" value="0"  />
                        <label class="form__label">Merkmale</label>
                    </div>
                    <div class="form__group half-flex">
                        <input class="margin-top" type="checkbox" name="attr_gm" value="1" />
                        <label class="form__label">Gro&szlig;meister</label>
                    </div>
                </div>
            </fieldset>
            
            <h2 class="mt--3 mb--1">Fernkampfwaffen</h2>
            <b>Hinweis:</b> Merkmale bitte mit Kommata getrennt und ohne Klammern notieren, z.B.: <i>Kritisch 2</i>, <i>Scharf 2</i>, <i>Exakt 1</i>
            <div class="d--flex">
                <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                    <div class="arrow"></div>
                </label>
                <span class="form-header d--flex__item--grow3 pr--1">Waffenname</span>
                <span class="form-header text--center pr--2">Wert</span>
                <span class="form-header text--right pr--2">WGS</span>
                <span class="form-header d--flex__item--grow4 text--center pr--2">Schaden</span>
                <span class="form-header text--right pr--2">RW</span>
                <span class="form-header text--right pr--2">Mod</span>
                <span class="form-header d--flex__item--grow2 text--center pr--1">W&uuml;feln</span>
            </div>
            <fieldset class="repeating_fernkampfwaffen">
                <div class="d--flex d--flex--align-bottom p--1">
                    <label class="d--flex__item--grow0 pr--1 pb--2 d--flex">
                        <input type="checkbox" name="attr_fernkampf_collapse"  class="collapse_switch d--none" />
                        <div class="arrow d--flex__item--grow0"></div>
                    </label>
                    <div class="form__group pr--1 d--flex__item--grow3">
                        <input class="form__field" type="text" name="attr_waffennamefern" />
                    </div>
                    <div class="pr--2">
                        <div class="input-circle center--horizontally">
                            <input class="form__field text--700" type="text" name="attr_waffenwertfern" readonly="true" />
                        </div>
                    </div>
                    <div class="form__group pr--2">
                        <input class="form__field" type="number" name="attr_waffenwgsfern" value="3" />
                    </div>
                    <div class="d--flex d--flex__item--grow4 d--flex--align-bottom pr--2">
                        <div class="form__group mr--1">
                            <input class="form__field" type="number" name="attr_waffenschaden1fern" value="1" />
                        </div>
                        <div class="form__group mr--1 d--flex__item--grow2">
                            <select name="attr_waffenschadenwuerfelfern">  
                                <optgroup>
                                    <option value="d6">W6</option>
                                    <option value="d10">W10</option>
                                </optgroup>
                            </select>
                        </div>
                        <span class="d--flex__item--grow0 text--lg mr--1">+</span>
                        <div class="form__group">
                            <input class="form__field" type="number" name="attr_waffenschaden3fern" value="0" />
                        </div>
                    </div>
                    <div class="form__group pr--2">
                        <input class="form__field" type="number" name="attr_waffenrwfern" value="3" />
                    </div>
                    <div class="form__group pr--2">
                        <input class="form__field" type="number" name="attr_waffenmodfern" value="0" />
                    </div>
                    <div class="d--flex d--flex__item--grow2 text--center">
                        <!--<button class="button" type=roll value="@{abilityroll} {{name=Waffe: @{waffennamefern}}} {{charactername=@{character_name}}} {{damage=@{rolldamagefern}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + @{waffenwertfern} + @{waffenmodfern} + @{fernwaffenattrmod} + ?{Modifikator|0} + @{angriffsbonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} - @{geblendet} - @{erschoepft} - @{schadensmod}]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{basiswert=[[@{waffenwertfern}d1]]}} {{erschoepft=[[@{erschoepft}d1]]}} {{geblendet=[[@{geblendet}d1]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{Ticks=[[[[3]]+@{gesamttickplus}+@{benommen} @{initracker_input}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>                                -->
                        <button type="action" name="act_angriff" class="sheet-ability-button">0</button>
                    </div>
                    <input type="hidden" name="attr_fernwaffenattrmod" value="0">
                </div>
                <input type="checkbox" name="attr_fernkampf_collapse"  class="collapse_switch d--none" />
                <div class="d--flex collapse_child">
                    <div class="form__group d--flex mr--2">
                        <select name="attr_waffenskillfern" class="form__box mr--1">  
                            <optgroup>
                                <option value="schusswaffen">Schusswaffen</option>
                                <option value="wurfwaffen">Wurfwaffen</option>
                                <option value="nothing">--- Magieschulen ---</option>
                                <option value="arkanekunde">Arkane Kunde</option>
                                <option value="bannmagie">Bannmagie</option>
                                <option value="beherrschungsmagie">Beherrschungsmagie</option>
                                <option value="bewegungsmagie">Bewegungsmagie</option>
                                <option value="erkenntnismagie">Erkenntnismagie</option>
                                <option value="felsmagie">Felsmagie</option>
                                <option value="feuermagie">Feuermagie</option>
                                <option value="heilungsmagie">Heilungsmagie</option>
                                <option value="illusionsmagie">Illusionsmagie</option>
                                <option value="kampfmagie">Kampfmagie</option>
                                <option value="lichtmagie">Lichtmagie</option>
                                <option value="naturmagie">Naturmagie</option>
                                <option value="schattenmagie">Schattenmagie</option>
                                <option value="schicksalsmagie">Schicksalsmagie</option>
                                <option value="schutzmagie">Schutzmagie</option>
                                <option value="staerkungsmagie">St&auml;rkungsmagie</option>
                                <option value="todesmagie">Todesmagie</option>
                                <option value="verwandlungsmagie">Verwandlungsmagie</option>
                                <option value="wassermagie">Wassermagie</option>
                                <option value="windmagie">Windmagie</option>
                            </optgroup>
                        </select>
                        <select name="attr_waffenattr1fern" class="form__box mr--1"> 
                            <optgroup>
                                <option value="aus">AUS</option>
                                <option value="bew">BEW</option>
                                <option value="int">INT</option>
                                <option value="kon">KON</option>
                                <option value="mys">MYS</option>
                                <option value="stae">ST&Auml;</option>
                                <option value="ver">VER</option>
                                <option value="wil">WIL</option>
                            </optgroup>
                        </select>
                        <select name="attr_waffenattr2fern" class="form__box"> 
                            <optgroup>
                                <option value="aus">AUS</option>
                                <option value="bew">BEW</option>
                                <option value="int">INT</option>
                                <option value="kon">KON</option>
                                <option value="mys">MYS</option>
                                <option value="stae">ST&Auml;</option>
                                <option value="ver">VER</option>
                                <option value="wil">WIL</option>
                            </optgroup>
                        </select>
                        <label class="form__label">Basis</label>
                    </div>
                    <div class="form__group">
                        <input class="form__field" type="text" name="attr_waffenmerkmalefern" />
                        <input type="hidden" name="attr_waffenexakt" value="0" />
                        <input type="hidden" name="attr_waffenscharf" value="0" />
                        <input type="hidden" name="attr_waffenkritisch" value="0" />
                        <button type="roll" name="roll_show_damage" value="@{showing_damage}" class="btn ui-draggable d--none"></button>
                        <input type="hidden" name="attr_damagerollfern" />
                        <input type="hidden" name="attr_rolldamagefern" value="[Wirf!](~repeating_fernkampfwaffen_show_damage)" />
                        <input type="hidden" name="attr_showing_damage" value="&{template:splittermond_damage} {{charactername=@{character_name}}} {{name=Waffe: @{waffennamefern}}} {{damage=[[@{damagerollfern}]]}}" />
                        <label class="form__label">Merkmale</label>
                    </div>
                    <div class="form__group half-flex">
                        <input class="margin-top" type="checkbox" name="attr_gm" value="1" />
                        <label class="form__label">Gro&szlig;meister</label>
                    </div>
                </div>
            </fieldset>

            <h2 class="mt--2">Kampffertigkeiten</h2>
            <div class="d--flex d--flex--wrap mb--2">
                <div class="mr--2 mb--2">
                    <div class="d--flex">
                        <span class="form-header text--right pr--2">Punkte</span>
                        <span class="form-header text--right pr--2">Mod.</span>
                        <span class="form-header text--center">W&uuml;rfeln</span>
                        <input type=hidden name="attr_kampffertigkeitenbonus" value="0" />
                    </div>
                    <div class="form__group d--flex">
                        <div class="pr--2">
                            <input type="number" name="attr_handgemengepunkte" placeholder="0" value="0" min="0" max="15" class="form__field" />
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_handgemengebonus" placeholder="0" value="0" min="0" class="form__field" />
                        </div>
                        <div class="d--flex">
                            <button class="button" type=roll value="@{abilityroll} {{name=Handgemenge}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{handgemengepunkte} + @{handgemengebonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} + ?{1. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} + ?{2. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        </div>
                        <label class="form__label">Handgemenge</label>
                    </div>
                    <div class="form__group d--flex">
                        <div class="pr--2">
                            <input type="number" name="attr_hiebwaffenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field" />
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_hiebwaffenbonus" placeholder="0" value="0" min="0" class="form__field" />
                        </div>
                        <div class="d--flex">
                            <button class="button" type=roll value="@{abilityroll} {{name=Hiebwaffen}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{hiebwaffenpunkte} + @{hiebwaffenbonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} + ?{1. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} + ?{2. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        </div>
                        <label class="form__label">Hiebwaffen</label>
                    </div>
                    <div class="form__group d--flex">
                        <div class="pr--2">
                            <input type="number" name="attr_kettenwaffenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field" />
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_kettenwaffenbonus" placeholder="0" value="0" min="0" class="form__field" />
                        </div>
                        <div class="d--flex">
                            <button class="button" type=roll value="@{abilityroll} {{name=Kettenwaffen}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{kettenwaffenpunkte} + @{kettenwaffenbonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} + ?{1. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} + ?{2. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        </div>          
                        <label class="form__label">Kettenwaffen</label>
                    </div>
                    <div class="form__group d--flex">
                        <div class="pr--2">
                            <input type="number" name="attr_klingenwaffenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field" />
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_klingenwaffenbonus" placeholder="0" value="0" min="0" class="form__field" />
                        </div>
                        <div class="d--flex">
                            <button class="button" type=roll value="@{abilityroll} {{name=Klingenwaffen}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{klingenwaffenpunkte} + @{klingenwaffenbonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} + ?{1. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} + ?{2. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        </div>          
                        <label class="form__label">Klingenwaffen</label>
                    </div>
                </div>
                <div class="mb--2">
                    <div class="d--flex">
                        <span class="form-header text--right pr--2">Punkte</span>
                        <span class="form-header text--right pr--2">Mod.</span>
                        <span class="form-header text--center">W&uuml;rfeln</span>
                        <input type=hidden name="attr_kampffertigkeitenbonus" value="0" />
                    </div>
                    <div class="form__group d--flex">
                        <div class="pr--2">
                            <input type="number" name="attr_stangenwaffenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field" />
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_stangenwaffenbonus" placeholder="0" value="0" min="0" class="form__field" />
                        </div>
                        <div class="d--flex">
                            <button class="button" type=roll value="@{abilityroll} {{name=Stangenwaffen}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{stangenwaffenpunkte} + @{stangenwaffenbonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} + ?{1. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} + ?{2. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        </div>
                        <label class="form__label">Stangenwaffen</label>
                    </div>
                    <div class="form__group d--flex">
                        <div class="pr--2">
                            <input type="number" name="attr_schusswaffenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field" />
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_schusswaffenbonus" placeholder="0" value="0" min="0" class="form__field" />
                        </div>
                        <div class="d--flex">
                            <button class="button" type=roll value="@{abilityroll} {{name=Schusswaffen}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{schusswaffenpunkte} + @{schusswaffenbonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} + ?{1. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} + ?{2. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        </div>
                        <label class="form__label">Schusswaffen</label>
                    </div>
                    <div class="form__group d--flex">
                        <div class="pr--2">
                            <input type="number" name="attr_wurfwaffenpunkte" placeholder="0" value="0" min="0" max="15" class="form__field" />
                        </div>
                        <div class="pr--2">
                            <input type="number" name="attr_wurfwaffenbonus" placeholder="0" value="0" min="0" class="form__field" />
                        </div>
                        <div class="d--flex">
                            <button class="button" type=roll value="@{abilityroll} {{name=Wurfwaffen}} {{charactername=@{character_name}}} {{Probe=[[?{Art des Wurfs|Standardwurf, 2d10cs>10cf<1 | Sicherheitswurf, 2d10d1cs>10cf<1 | Risikowurf, 4d10k2cs>10cf<1} + ?{Modifikator|0} + @{wurfwaffenpunkte} + @{wurfwaffenbonus} + @{kampffertigkeitenbonus} + @{hiddenallfert} + ?{1. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} + ?{2. Attribut|Beweglichkeit, @{beweglichkeit} + @{hiddenbeweglichkeit} + @{hiddenbeweglichkeitmod}|Intuition, @{intuition} + @{hiddenintuition} + @{hiddenintuitionmod} |Konstitution, @{konstitution} + @{hiddenkonstitution} + @{hiddenkonstitutionmod} |Stärke, @{staerke} + @{hiddenstaerke} + @{hiddenstaerkemod}|Verstand, @{verstand} + @{hiddenverstand} + @{hiddenverstandmod}|Willenskraft, @{willenskraft} + @{hiddenwillenskraft} + @{hiddenwillenskraftmod}} - @{schadensmod}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{sm27=[[?{Schwierigkeit}-27]]}} {{sm26=[[?{Schwierigkeit}-26]]}} {{sm24=[[?{Schwierigkeit}-24]]}} {{sm23=[[?{Schwierigkeit}-23]]}} {{sm21=[[?{Schwierigkeit}-21]]}} {{sm20=[[?{Schwierigkeit}-20]]}}  {{sm18=[[?{Schwierigkeit}-18]]}} {{sm17=[[?{Schwierigkeit}-17]]}} {{sm15=[[?{Schwierigkeit}-15]]}} {{sm14=[[?{Schwierigkeit}-14]]}} {{sm12=[[?{Schwierigkeit}-12]]}} {{sm11=[[?{Schwierigkeit}-11]]}} {{sm9=[[?{Schwierigkeit}-9]]}} {{sm8=[[?{Schwierigkeit}-8]]}} {{sm6=[[?{Schwierigkeit}-6]]}} {{sm5=[[?{Schwierigkeit}-5]]}} {{sm3=[[?{Schwierigkeit}-3]]}} {{sm2=[[?{Schwierigkeit}-2]]}} {{sm1=[[?{Schwierigkeit}-1]]}} {{s0=[[?{Schwierigkeit}]]}} {{s2=[[2+?{Schwierigkeit}]]}} {{s3=[[3+?{Schwierigkeit}]]}} {{s5=[[5+?{Schwierigkeit}]]}} {{s6=[[6+?{Schwierigkeit}]]}} {{s8=[[8+?{Schwierigkeit}]]}} {{s9=[[9+?{Schwierigkeit}]]}} {{s11=[[11+?{Schwierigkeit}]]}} {{s12=[[12+?{Schwierigkeit}]]}} {{s14=[[14+?{Schwierigkeit}]]}} {{s15=[[15+?{Schwierigkeit}]]}} {{s17=[[17+?{Schwierigkeit}]]}} {{s18=[[18+?{Schwierigkeit}]]}} {{s20=[[20+?{Schwierigkeit}]]}} {{s21=[[21+?{Schwierigkeit}]]}} {{s23=[[23+?{Schwierigkeit}]]}} {{s24=[[24+?{Schwierigkeit}]]}} {{s26=[[26+?{Schwierigkeit}]]}} {{s27=[[27+?{Schwierigkeit}]]}} {{s28=[[28+?{Schwierigkeit}]]}} {{s29=[[29+?{Schwierigkeit}]]}} {{s30=[[30+?{Schwierigkeit}]]}} {{s31=[[31+?{Schwierigkeit}]]}} {{s32=[[32+?{Schwierigkeit}]]}} {{s33=[[33+?{Schwierigkeit}]]}} {{s34=[[34+?{Schwierigkeit}]]}} {{s35=[[35+?{Schwierigkeit}]]}} {{s36=[[36+?{Schwierigkeit}]]}} {{s37=[[37+?{Schwierigkeit}]]}} {{s38=[[38+?{Schwierigkeit}]]}} {{s39=[[39+?{Schwierigkeit}]]}} {{s40=[[40+?{Schwierigkeit}]]}} {{s41=[[41+?{Schwierigkeit}]]}}"></button>
                        </div>
                        <label class="form__label">Wurfwaffen</label>
                    </div>
                </div>
            </div>

            <h2 class="mt--3 mb--1">R&uuml;stungen &amp; Schilde</h2>
            <div class="line--left line--right line--bottom mb--3">
                <div class="d--flex">
                    <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                        <div class="arrow"></div>
                    </label>
                    <span class="form-header d--flex__item--grow3 pr--2">R&uuml;stung</span>
                    <span class="form-header text--right pr--2">VTD+</span>
                    <span class="form-header text--right pr--2">SR</span>
                    <span class="form-header text--right pr--2">BE</span>
                    <span class="form-header text--right pr--2">Tick+</span>
                    <span class="form-header text--center pr--1">Ausger.</span>
                </div>
                <div class="mb--4">
                    <fieldset class="repeating_ruestungen"> 
                        <div class="d--flex d--flex--align-bottom p--1">
                            <label class="d--flex__item--grow0 pr--1 pb--2 d--flex">
                                <input type="checkbox" name="attr_ruestungen_collapse" class="collapse_switch d--none" />
                                <div class="arrow d--flex__item--grow0"></div>
                            </label>
                            <div class="form__group pr--2 d--flex__item--grow3">
                                <input class="form__field" type="text" name="attr_ruestungsname" />
                            </div>
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" name="attr_ruestungsvtd" min="0" value="0" />
                            </div>
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" name="attr_ruestungssr" min="0" value="0" />
                            </div>
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" name="attr_ruestungsbe" min="0" value="0" />
                            </div>
                            <div class="form__group pr--2">
                                <input class="form__field" type="number" name="attr_ruestungstickplus" min="0" value="0" />
                            </div>
                            <label class="text--center p--0">
                                <input type="checkbox" value="1" name="attr_ruestungonoff" class="switch" />
                                <span class="switch__slider"></span>
                            </label>
                        </div>
                        <input type="checkbox" name="attr_ruestungen_collapse" class="collapse_switch d--none" />
                        <div class="collapse_child">
                            <div class="form__group">
                                <input class="form__field" type="text" name="attr_ruestungsmerkmal" />
                                <label class="form__label">Merkmale</label>
                            </div>
                        </div>
                    </fieldset>
        
                    <input type="hidden" name="attr_hiddenruestungsvtd" value="0" />
                    <input type="hidden" name="attr_hiddenruestungssr" value="0" />
                    <input type="hidden" name="attr_hiddenruestungsbe" value="0" />
                    <input type="hidden" name="attr_hiddenruestungstickplus" value="0" />
                    <input type="hidden" name="attr_rt1" value="0" />
                    <input type="hidden" name="attr_rt2" value="0" />
                    <input type=hidden name="attr_hiddensr" value="0" />
                </div>

                <div class="mb--1">
                    <div class="d--flex">
                        <label class="d--flex__item--grow0 p--0 pl--1 pr--1 form-header">
                            <div class="arrow"></div>
                        </label>
                        <span class="form-header d--flex__item--grow3 pr--2">Schild</span>
                        <span class="form-header text--right pr--2">VTD+</span>
                        <span class="form-header pr--2"></span>
                        <span class="form-header text--right pr--2">BE</span>
                        <span class="form-header text--right pr--2">Tick+</span>
                        <span class="form-header text--center pr--1">Ausger.</span>
                    </div>
                    <div class="d--flex d--flex--align-bottom p--1">
                        <label class="d--flex__item--grow0 pr--1 pb--2 d--flex">
                            <input type="checkbox" name="attr_schild_collapse" class="collapse_switch d--none" />
                            <div class="arrow d--flex__item--grow0"></div>
                        </label>
                        <div class="form__group d--flex__item--grow3 pr--2">
                            <input type="text" name="attr_schildname" class="form__field" />
                        </div>
                        <div class="form__group pr--2">
                            <input type="number" name="attr_schildvtd" min="0" max="8" value="0" class="form__field" />
                        </div>
                        <div></div>
                        <div class="form__group pr--2">
                            <input type="number" name="attr_schildbe" min="0" max="8" class="form__field" />
                        </div>
                        <div class="form__group pr--2">
                            <input type="number" name="attr_schildtickplus" min="0" max="15" class="form__field" />
                        </div>
                        <label class="text--center p--0">
                            <input type="checkbox" name="attr_schildonoff" value="1" class="switch" />
                            <span class="switch__slider"></span>
                        </label>
                        <input type="hidden" name="attr_hiddenschildvtd" value="0" />
                        <input type="hidden" name="attr_hiddenschildbe" value="0" />
                        <input type="hidden" name="attr_hiddenschildtickplus" value="0" />
                        <input type="hidden" name="attr_st1" value="0" />
                        <input type="hidden" name="attr_st2" value="0" />
                    </div>
                    <input type="checkbox" name="attr_schild_collapse" class="collapse_switch d--none" />
                    <div class="collapse_child">
                        <div class="form__group">
                            <input class="form__field" type="text" name="attr_schildmerkmale" />
                            <label class="form__label">Merkmale</label>
                        </div>
                    </div>
                </div>
                <div class="d--flex pt--1 pb--1 line--top">
                    <label class="d--flex__item--grow0 pl--1 pr--1 d--flex">
                        <div class="arrow arrow--invisible d--flex__item--grow0"></div>
                    </label>
                    <div class="d--flex__item--grow3 pr--2 text--right text--700">Gesamt</div>
                    <div class="pr--2">
                        <div class="input-circle float--right">
                            <input class="form__field text--700" type="text" type="number" name="attr_gesamtvtd" readonly="true" />
                        </div>
                    </div>
                    <div class="pr--2">
                        <div class="input-circle float--right">
                            <input class="form__field text--700" type="text" type="number" name="attr_gesamtsr" readonly="true" />
                        </div>
                    </div>
                    <div class="pr--2">
                        <div class="input-circle float--right">
                            <input class="form__field text--700" type="text" type="number" name="attr_gesamtbe" readonly="true" />
                        </div>
                    </div>
                    <div class="pr--2">
                        <div class="input-circle float--right">
                            <input class="form__field text--700" type="text" type="number" name="attr_gesamttickplus" readonly="true" />
                        </div>
                    </div>
                    <input type="number" style="visibility: hidden" />
                </div>
            </div>
        </div>
        
        <div class="section section-Entwicklung">
            <h1>Charakterentwicklung</h1>
            <div class="mt--2 d--flex">
                <h3 class="d--flex__item--grow0 mr--1">Heldengrad</h3>
                <div class="d--flex__item--grow0 input-circle">
                    <input type="text" name="attr_heldengrad" min=1 value=1 readonly=true class="sheet-form__field text--700" />
                </div>
            </div>
            <div class="d--flex d--flex--wrap">
                <div class="mr--3">
                    <h3 class="mt--2">Erfahrungspunkte</h3>
                    <div class="d--flex">
                        <div class="form__group mr--2">
                            <input type="number" name="attr_epgesamt" min=0 value=0 class="sheet-form__field" />
                            <label class="form__label">Gesamt</label>
                        </div>
                        <div class="form__group mr--2">
                            <input type="number" name="attr_epeingesetzt" min=0 value=0 class="sheet-form__field" />
                            <label class="form__label">Eingesetzt</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_epoffen" min=0 value=0 class="sheet-form__field" />                    
                            <label class="form__label">Offen</label>
                        </div>
                    </div>
                </div>
                <div>
                    <h3 class="mt--2">Geld</h3>
                    <div class="d--flex">
                        <div class="form__group mr--2">
                            <input type="number" name="attr_solare" min=0 value=0 class="sheet-form__field" />
                            <label class="form__label">Solare</label>
                        </div>
                        <div class="form__group mr--2">
                            <input type="number" name="attr_lunare" min=0 value=0 class="sheet-form__field" />
                            <label class="form__label">Lunare</label>
                        </div>
                        <div class="form__group">
                            <input type="number" name="attr_telare" min=0 value=0 class="sheet-form__field" />                    
                            <label class="form__label">Telare</label>
                        </div>
                    </div>
                </div>
            </div>
            <h3 class="mt--2">Ausr&uuml;stung</h3>
            <textarea rows=5 cols=5 name="attr_stuff"></textarea>
            <h3 class="mt--2">Notizen</h3>
            <textarea rows=5 cols=5 name="attr_notizen"></textarea>
        </div>
        
        <div class="section section-Ausruestung">
            <h1>Ausr&uuml;stung</h1>
            <h2 class="mt--3">Am K&ouml;rper getragen</h2>
            <div class="d--flex">
                <span class="form-header pl--1 pr--2 text--right">Anzahl</span>
                <span class="form-header d--flex__item--grow2 pr--2">Name</span>
                <span class="form-header pr--2 text--right">Last</span>
                <span class="form-header pr--2 text--right">H&auml;rte</span>
                <span class="form-header d--flex__item--grow2 pr--2">Zustand</span>
                <span class="form-header pr--2 text--center">Getragen</span>
                <span class="form-header d--flex__item--grow3 pr--1">Informationen</span>
            </div>
            <fieldset class="repeating_ausruestung">
                <div class="d--flex d--flex--align-bottom">
                    <div class="form__group pl--1 pr--2 text--right">
                        <input type="number" name="attr_anzahl" value=0 min=0 class="form__field" />
                    </div>
                    <div class="form__group d--flex__item--grow2 pr--2">
                        <input type="text" name="attr_name" placeholder="Name des Gegenstands" class="form__field" />
                    </div>
                    <div class="form__group pr--2 text--right">
                        <input type="number" name="attr_last" value=0 min=0 class="form__field" />
                    </div>
                    <div class="form__group pr--2 text--right">
                        <input type="number" name="attr_haerte" value=0 min=0 class="form__field" />
                    </div>
                    <select name="attr_zustand" class="d--flex__item--grow2 pr--2">  
                        <optgroup>
                            <option value="unbeschaedigt" selected="selected">Unbesch&auml;digt</option>
                            <option value="angeschlagen">Angeschlagen (-3)</option>
                            <option value="demoliert">Demoliert</option>
                        </optgroup>
                    </select>
                    <label class="pr--2 text--center">
                        <input type="checkbox" name="attr_getragen" value=1 checked class="switch" />
                        <span class="switch__slider"></span>
                    </label>
                    <div class="form__group d--flex__item--grow3 pr--1">
                        <input type="text" name="attr_info" placeholder="Infos zur Ausr&uuml;stung" class="form__field" />
                    </div>
                </div>
            </fieldset>
            <div class="d--flex d--flex--align-center mt--2">
                <h4 class="d--flex__item--grow0 mr--1">Gesamtlast am K&ouml;rper</h4>
                <div class="d--flex__item--grow0 input-circle">
                    <input type="text" name="attr_gesamtlast_koerper" readonly=true min=0 value=0 class="sheet-form__field text--700" />
                </div>
            </div>   
            <h2 class="mt--3">Weiterer Stauraum</h2>
            <div class="d--flex d--flex--wrap d--flex--align-top mt--2">
                <div class="mr--3">
                    <input type="checkbox" class="behaelter1-switch d--none" name="attr_behaelter1" value=1 />
                    <div class="behaelter1 mb--3 d--none">
                        <input type="text" name="attr_behaelter1_name" placeholder="Beh&auml;lter 1" class="header-field mb--1" />
                        <div class="d--flex">
                            <span class="form-header pl--1 pr--2 text--right">Anzahl</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Name</span>
                            <span class="form-header pr--2 text--right">Last</span>
                            <span class="form-header pr--2 text--right">H&auml;rte</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Zustand</span>
                            <span class="form-header pr--2 text--center">Getragen</span>
                            <span class="form-header d--flex__item--grow3 pr--1">Informationen</span>
                        </div>
                        <fieldset class="repeating_behaelter1">
                            <div class="d--flex d--flex--align-bottom">
                                <div class="form__group pl--1 pr--2 text--right">
                                    <input type="number" name="attr_anzahl" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group d--flex__item--grow2 pr--2">
                                    <input type="text" name="attr_name" placeholder="Name des Gegenstands" class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_last" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_haerte" value=0 min=0 class="form__field" />
                                </div>
                                <select name="attr_zustand" class="d--flex__item--grow2 pr--2">  
                                    <optgroup>
                                        <option value="benommen" selected="selected">Unbesch&auml;digt</option>
                                        <option value="bewusstlos">Angeschlagen (-3)</option>
                                        <option value="erschoepft">Demoliert</option>
                                    </optgroup>
                                </select>
                                <label class="pr--2 text--center">
                                    <input type="checkbox" name="attr_getragen" value=1 checked class="switch" />
                                    <span class="switch__slider"></span>
                                </label>
                                <div class="form__group d--flex__item--grow3 pr--1">
                                    <input type="text" name="attr_info" placeholder="Infos zur Ausr&uuml;stung" class="form__field" />
                                </div>
                            </div>
                        </fieldset>
                        <div class="d--flex d--flex--align-center mt--2">
                            <h4 class="d--flex__item--grow0 mr--1">Gesamtlast</h4>
                            <div class="d--flex__item--grow0 input-circle">
                                <input type="text" name="attr_gesamtlast_behaelter1" readonly=true min=0 value=0 class="sheet-form__field text--700" />
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" class="behaelter2-switch d--none" name="attr_behaelter2" value=1 />
                    <div class="behaelter2 mb--3 d--none">
                        <input type="text" name="attr_behaelter2_name" placeholder="Beh&auml;lter 2" class="header-field mb--1" />
                        <div class="d--flex">
                            <span class="form-header pl--1 pr--2 text--right">Anzahl</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Name</span>
                            <span class="form-header pr--2 text--right">Last</span>
                            <span class="form-header pr--2 text--right">H&auml;rte</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Zustand</span>
                            <span class="form-header pr--2 text--center">Getragen</span>
                            <span class="form-header d--flex__item--grow3 pr--1">Informationen</span>
                        </div>
                        <fieldset class="repeating_behaelter2">
                            <div class="d--flex d--flex--align-bottom">
                                <div class="form__group pl--1 pr--2 text--right">
                                    <input type="number" name="attr_anzahl" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group d--flex__item--grow2 pr--2">
                                    <input type="text" name="attr_name" placeholder="Name des Gegenstands" class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_last" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_haerte" value=0 min=0 class="form__field" />
                                </div>
                                <select name="attr_zustand" class="d--flex__item--grow2 pr--2">  
                                    <optgroup>
                                        <option value="benommen" selected="selected">Unbesch&auml;digt</option>
                                        <option value="bewusstlos">Angeschlagen (-3)</option>
                                        <option value="erschoepft">Demoliert</option>
                                    </optgroup>
                                </select>
                                <label class="pr--2 text--center">
                                    <input type="checkbox" name="attr_getragen" value=1 checked class="switch" />
                                    <span class="switch__slider"></span>
                                </label>
                                <div class="form__group d--flex__item--grow3 pr--1">
                                    <input type="text" name="attr_info" placeholder="Infos zur Ausr&uuml;stung" class="form__field" />
                                </div>
                            </div>
                        </fieldset>
                        <div class="d--flex d--flex--align-center mt--2">
                            <h4 class="d--flex__item--grow0 mr--1">Gesamtlast</h4>
                            <div class="d--flex__item--grow0 input-circle">
                                <input type="text" name="attr_gesamtlast_behaelter2" readonly=true min=0 value=0 class="sheet-form__field text--700" />
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" class="behaelter3-switch d--none" name="attr_behaelter3" value=1 />
                    <div class="behaelter3 mb--3 d--none">
                        <input type="text" name="attr_behaelter3_name" placeholder="Beh&auml;lter 3" class="header-field mb--1" />
                        <div class="d--flex">
                            <span class="form-header pl--1 pr--2 text--right">Anzahl</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Name</span>
                            <span class="form-header pr--2 text--right">Last</span>
                            <span class="form-header pr--2 text--right">H&auml;rte</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Zustand</span>
                            <span class="form-header pr--2 text--center">Getragen</span>
                            <span class="form-header d--flex__item--grow3 pr--1">Informationen</span>
                        </div>
                        <fieldset class="repeating_behaelter3">
                            <div class="d--flex d--flex--align-bottom">
                                <div class="form__group pl--1 pr--2 text--right">
                                    <input type="number" name="attr_anzahl" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group d--flex__item--grow2 pr--2">
                                    <input type="text" name="attr_name" placeholder="Name des Gegenstands" class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_last" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_haerte" value=0 min=0 class="form__field" />
                                </div>
                                <select name="attr_zustand" class="d--flex__item--grow2 pr--2">  
                                    <optgroup>
                                        <option value="benommen" selected="selected">Unbesch&auml;digt</option>
                                        <option value="bewusstlos">Angeschlagen (-3)</option>
                                        <option value="erschoepft">Demoliert</option>
                                    </optgroup>
                                </select>
                                <label class="pr--2 text--center">
                                    <input type="checkbox" name="attr_getragen" value=1 checked class="switch" />
                                    <span class="switch__slider"></span>
                                </label>
                                <div class="form__group d--flex__item--grow3 pr--1">
                                    <input type="text" name="attr_info" placeholder="Infos zur Ausr&uuml;stung" class="form__field" />
                                </div>
                            </div>
                        </fieldset>
                        <div class="d--flex d--flex--align-center mt--2">
                            <h4 class="d--flex__item--grow0 mr--1">Gesamtlast</h4>
                            <div class="d--flex__item--grow0 input-circle">
                                <input type="text" name="attr_gesamtlast_behaelter3" readonly=true min=0 value=0 class="sheet-form__field text--700" />
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" class="behaelter4-switch d--none" name="attr_behaelter4" value=1 />
                    <div class="behaelter4 mb--3 d--none">
                        <input type="text" name="attr_behaelter4_name" placeholder="Beh&auml;lter 4" class="header-field mb--1" />
                        <div class="d--flex">
                            <span class="form-header pl--1 pr--2 text--right">Anzahl</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Name</span>
                            <span class="form-header pr--2 text--right">Last</span>
                            <span class="form-header pr--2 text--right">H&auml;rte</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Zustand</span>
                            <span class="form-header pr--2 text--center">Getragen</span>
                            <span class="form-header d--flex__item--grow3 pr--1">Informationen</span>
                        </div>
                        <fieldset class="repeating_behaelter4">
                            <div class="d--flex d--flex--align-bottom">
                                <div class="form__group pl--1 pr--2 text--right">
                                    <input type="number" name="attr_anzahl" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group d--flex__item--grow2 pr--2">
                                    <input type="text" name="attr_name" placeholder="Name des Gegenstands" class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_last" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_haerte" value=0 min=0 class="form__field" />
                                </div>
                                <select name="attr_zustand" class="d--flex__item--grow2 pr--2">  
                                    <optgroup>
                                        <option value="benommen" selected="selected">Unbesch&auml;digt</option>
                                        <option value="bewusstlos">Angeschlagen (-3)</option>
                                        <option value="erschoepft">Demoliert</option>
                                    </optgroup>
                                </select>
                                <label class="pr--2 text--center">
                                    <input type="checkbox" name="attr_getragen" value=1 checked class="switch" />
                                    <span class="switch__slider"></span>
                                </label>
                                <div class="form__group d--flex__item--grow3 pr--1">
                                    <input type="text" name="attr_info" placeholder="Infos zur Ausr&uuml;stung" class="form__field" />
                                </div>
                            </div>
                        </fieldset>
                        <div class="d--flex d--flex--align-center mt--2">
                            <h4 class="d--flex__item--grow0 mr--1">Gesamtlast</h4>
                            <div class="d--flex__item--grow0 input-circle">
                                <input type="text" name="attr_gesamtlast_behaelter4" readonly=true min=0 value=0 class="sheet-form__field text--700" />
                            </div>
                        </div>
                    </div>
                    <input type="checkbox" class="behaelter5-switch d--none" name="attr_behaelter5" value=1 />
                    <div class="behaelter5 mb--3 d--none">
                        <input type="text" name="attr_behaelter5_name" placeholder="Beh&auml;lter 5" class="header-field mb--1" />
                        <div class="d--flex">
                            <span class="form-header pl--1 pr--2 text--right">Anzahl</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Name</span>
                            <span class="form-header pr--2 text--right">Last</span>
                            <span class="form-header pr--2 text--right">H&auml;rte</span>
                            <span class="form-header d--flex__item--grow2 pr--2">Zustand</span>
                            <span class="form-header pr--2 text--center">Getragen</span>
                            <span class="form-header d--flex__item--grow3 pr--1">Informationen</span>
                        </div>
                        <fieldset class="repeating_behaelter5">
                            <div class="d--flex d--flex--align-bottom">
                                <div class="form__group pl--1 pr--2 text--right">
                                    <input type="number" name="attr_anzahl" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group d--flex__item--grow2 pr--2">
                                    <input type="text" name="attr_name" placeholder="Name des Gegenstands" class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_last" value=0 min=0 class="form__field" />
                                </div>
                                <div class="form__group pr--2 text--right">
                                    <input type="number" name="attr_haerte" value=0 min=0 class="form__field" />
                                </div>
                                <select name="attr_zustand" class="d--flex__item--grow2 pr--2">  
                                    <optgroup>
                                        <option value="benommen" selected="selected">Unbesch&auml;digt</option>
                                        <option value="bewusstlos">Angeschlagen (-3)</option>
                                        <option value="erschoepft">Demoliert</option>
                                    </optgroup>
                                </select>
                                <label class="pr--2 text--center">
                                    <input type="checkbox" name="attr_getragen" value=1 checked class="switch" />
                                    <span class="switch__slider"></span>
                                </label>
                                <div class="form__group d--flex__item--grow3 pr--1">
                                    <input type="text" name="attr_info" placeholder="Infos zur Ausr&uuml;stung" class="form__field" />
                                </div>
                            </div>
                        </fieldset>
                        <div class="d--flex d--flex--align-center mt--2">
                            <h4 class="d--flex__item--grow0 mr--1">Gesamtlast</h4>
                            <div class="d--flex__item--grow0 input-circle">
                                <input type="text" name="attr_gesamtlast_behaelter5" readonly=true min=0 value=0 class="sheet-form__field text--700" />
                            </div>
                        </div>
                    </div>
                </div>
                <div class="d--flex__item--grow0 d--flex d--flex--column text--right">
                    <div class="d--flex d--flex--align-center">
                        <input type="checkbox" class="mr--1 d--flex__item--grow0" name="attr_behaelter1" value=1 />
                        <input type="text" name="attr_behaelter1_name" readonly=true value="Beh&auml;lter 1" class="label-field" />
                    </div>
                    <div class="d--flex d--flex--align-center">
                        <input type="checkbox" class="mr--1 d--flex__item--grow0" name="attr_behaelter2" value=1 />
                        <input type="text" name="attr_behaelter2_name" readonly=true value="Beh&auml;lter 2" class="label-field" />
                    </div>
                    <div class="d--flex d--flex--align-center">
                        <input type="checkbox" class="mr--1 d--flex__item--grow0" name="attr_behaelter3" value=1 />
                        <input type="text" name="attr_behaelter3_name" readonly=true value="Beh&auml;lter 3" class="label-field" />
                    </div>
                    <div class="d--flex d--flex--align-center">
                        <input type="checkbox" class="mr--1 d--flex__item--grow0" name="attr_behaelter4" value=1 />
                        <input type="text" name="attr_behaelter4_name" readonly=true value="Beh&auml;lter 4" class="label-field" />
                    </div>
                    <div class="d--flex d--flex--align-center">
                        <input type="checkbox" class="mr--1 d--flex__item--grow0" name="attr_behaelter5" value=1 />
                        <input type="text" name="attr_behaelter5_name" readonly=true value="Beh&auml;lter 5" class="label-field" />
                    </div>
                </div>
            </div>
            <div class="d--flex d--flex--align-center mt--2">
                <h3 class="d--flex__item--grow0 mr--1">Gesamtlast aller Ausr&uuml;stung</h3>
                <div class="d--flex__item--grow0 input-circle">
                    <input type="text" name="attr_gesamtlast" readonly=true min=0 value=0 class="sheet-form__field text--700" />
                </div>
            </div>
        </div>
    </div>
</div>

<div class="einstellungen">
    <div class="section">
        <h1>Einstellungen</h1>  <br>
     
    <!--<label class="text--right">
        <span>Theme (beta)</span>
        <input class="switch switch--theme" type="checkbox" value="1" name="attr_theme" />
        <span class="switch__slider"></span>
    </label>-->
        <table width="100%" style="font-weight: bold">
            <tr>
                <td width="47.5%">
                    <table width="100%">
                        <tr bgcolor="#0489B1" style="color:white; text-align:center; font-weight:bold;">
                            <td colspan="2">Angriffe</td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Schaden separat w&uuml;rfeln&nbsp;&nbsp; (SC-Bogen)</td>
                            <td><input type="checkbox" value="1" name="attr_rolldamagecheck" checked /></td>
                        </tr>
                        <tr>
                            <td>Schaden separat w&uuml;rfeln&nbsp;&nbsp; (NSC-Bogen)</td>
                            <td><input type="checkbox" value="1" name="attr_rolldamagensccheck" checked /></td>
                        </tr>
                    </table>
                </td>
                <td width="5%">&nbsp;</td>
                <td width="47.5%">
                    <table width="100%">
                    <tr bgcolor="#0489B1" style="color:white; text-align:center; font-weight:bold;">
                            <td colspan="2">Fehlerbehebung</td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Fokus</td>
                            <td><button type="action" name="act_resetfokus" style="background-color:#0489B1; color:white; font-weight: bold;">Zur&uuml;cksetzen</button></td>
                        </tr>
                        <tr>
                            <td>Lebenspunkte</td>
                            <td><button type="action" name="act_resetlp" style="background-color:#0489B1; color:white; font-weight: bold;">Zur&uuml;cksetzen</button></td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td width="47.5%">
                    <table width="100%">
                       <tr bgcolor="#0489B1" style="color:white; text-align:center; font-weight:bold;">
                            <td colspan="2">Turn Tracker</td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Turn Tracker aktivieren?</td>
                            <td><input type="checkbox" value='1' name="attr_initracker_sc" class="initracker_sc" /></td>
                        </tr>
                    </table>
                </td>
                <td width="5%">&nbsp;</td>
                <td width="47.5%">
                    <table width="100%" class="sheet-hgmod-table">
                        <tr bgcolor="#0489B1" style="color:white; text-align:center; font-weight:bold;">
                            <td colspan="3">Modifizierte Heldengrad-Schwellen</td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td colspan="2">Mod. Heldengradschwellen aktivieren</td>
                            <td><input type="checkbox" value='1' name="attr_hgmod_act" /></td>
                        </tr>
                        <tr>
                            <td><span>HG2:</span> &nbsp; <input type="number" name="attr_hgmod2" value=100 class="sheet-hgmod" /></td>
                            <td><span>HG3:</span> &nbsp;<input type="number" name="attr_hgmod3"  value=300 class="sheet-hgmod" /></td>
                            <td><span>HG4:</span> &nbsp;<input type="number" name="attr_hgmod4" value=600 class="sheet-hgmod" /></td>
                        </tr>
                    </table>
                </td>
            </tr>
            <tr>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td width="47.5%">
                    <table width="100%">
                       <tr bgcolor="#0489B1" style="color:white; text-align:center; font-weight:bold;">
                            <td colspan="2">Fertigkeitsw&uuml;rfel</td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Altes Design aktivieren (3 Fertigkeitsw&uuml;rfel)?</td>
                            <td><input type="checkbox" value='1' name="attr_old_buttons" class="sheet-old-buttons-checker" unchecked /></td>
                        </tr>
                    </table>
                </td>
                <td width="5%">&nbsp;</td>
                <td width="47.5%">
                   <table width="100%">
                       <tr bgcolor="#0489B1" style="color:white; text-align:center; font-weight:bold;">
                            <td colspan="2">Systemanpassungen</td>
                        </tr>
                        <tr bgcolor="#81BEF7">
                            <td>Wer blutet, stirbt</td>
                            <td><input type="checkbox" value='1' name="attr_werblutetstirbt" unchecked /></td>
                        </tr>
                    </table>
                </td>
            </tr>
        </table>
    </div>
</div>

<div class="genesis">
    <div class="section">
        <h1 style="text-align: center;">Genesis-Import</h1>  <br>
        <table width="100%">
            <tr>
                <td><b>Ab Version 6.1.5 (empfohlen)</b></td>
            </tr>
            <tr>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td>
                    <div style="border-color:black; border-style:dotted;">
                        <ol>
                            <li>Drucke den Charakter aus und w&auml;hle als Ausgabeformat "<i>Splittermond JSON Export</i>"</li>
                            <li>Kopiere den Inhalt der JSON-Datei in das untenstehende Textfeld</li>
                            <li>Klicke auf "Import starten" (der Import kann ein paar Sekunden dauern)</li>
                        </ol>
                    </div>
                </td>
            </tr>
            <tr>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td><b>&Auml;ltere Versionen:</b></td>
            </tr>
            <tr>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td>
                    <div style="border-color:black; border-style:dotted;">
                        <ol>
                            <li>&Ouml;ffne die XML-Datei im Genesis-Ordner <font size="6">(z.B: C:\Users\[Username]\AppData\Roaming\rpgframework\player\myself\splittermond\[Charaktername])</font></li>
                            <li>Kopiere den Inhalt der XML-Datei in einen der frei verf&uuml;gbaren XML-JSON-Konverter, z.B.: <input type="text" value="https://codebeautify.org/xmltojson"/></li>
                            <li>Kopiere den umgewandelten JSON-String in das unten stehende Textfeld</li>
                            <li>Klicke auf "Import starten" (der Import kann ein paar Sekunden dauern)</li>
                        </ol>
                    </div>
                </td>
            </tr>
            <tr>
                <td>&nbsp;</td>
            </tr>
            <tr>
                <td><p style="font-size:9px"><strong>Hinweise:</strong> Aufgrund der stetig wachsenden Datenbasis kann es vereinzelt zu fehlerhaft importierten Daten kommen (insbes. Zauberspr&uuml;che und Meisterschaften), erkennbar daran, dass die Begriffe dann auf englisch vorliegen. Falls der Importer nicht funktioniert, kann das an einer veralteten Genesis-Version liegen. In dem Fall upgrade bitte auf Genesis 6.</p></td>
            </tr>
            <tr>
                <td align="center"><textarea placeholder="JSON-String hier einfügen" name="attr_jsonimport" style="width:61.25em; background-color:#81BEF7"></textarea></td>
            </tr>
            <tr>
                <td align="center"><button type="action" name="act_startimport" style="background-color:#0489B1; color:white; font-weight: bold;">Import starten</button></td>
            </tr>
        </table>
    </div>
</div>

<div class="footer mr--3 ml--3">
    <div class="d--flex d--flex--wrap bookmark">
        <input type="checkbox" class="group__option" value="1" name="attr_pc" />
        <label class="bookmark__item group__label--isPC text--center">
            <input type="radio" class="group__option" value="1" name="attr_pc" checked />
            Spielercharakter
        </label>
        <input type="checkbox" class="group__option" value="0" name="attr_pc" />
        <label class="bookmark__item group__label--isNPC text--center">
            <input type="radio" class="group__option" value="0" name="attr_pc" />
            Nichtspielercharakter
        </label>
        <input type="checkbox" class="group__option" value="2" name="attr_pc" />
        <label class="bookmark__item group__label--isCreature text--center">
            <input type="radio" class="group__option" value="2" name="attr_pc" />
            Kreatur
        </label>
        <input type="checkbox" name="attr_pc" value="7" title="Genesis-Import" class="group__option" />
        <label class="bookmark__item text--center">Genesis-Import
            <input type="radio" name="attr_pc" value="7" title="Genesis-Import" class="group__option" />
        </label>
        <input type="checkbox" name="attr_pc" value="5" title="Einstellungen" class="group__option" />
        <label class="bookmark__item text--center">Einstellungen
            <input type="radio" name="attr_pc" value="5" title="Einstellungen" class="group__option" />
        </label>
    </div>
</div>


<label class="sheet-tab42 text--center"><span class="icon" style="color: #890C6F">:</span> Letzte Updates anzeigen
    <input type="checkbox" name="attr_updates" class="d--none" value="42" title="Updates" />
</label>
<input type="checkbox" name="attr_updates" class="d--none sheet-tab42" value="42" title="Updates">

<div class="section sheet-section-Updates" style="background-color:#890C6F; color: white">
    <label class="sheet-tab42 text--right" style="color: white"><span class="icon" style="color: white">*</span>
        <input type="checkbox" name="attr_updates" class="d--none" value="42" title="Updates" />
    </label>
    <h1 style="color: white;">Letzte Updates</h1> <br/>
    <h2 style="color: white;">14.02.2025</h2>
    <ul>
        <li>Alle NPC Proben respektieren nun die Einstellung "Zu SL w&uuml;rfeln".</li>
    </ul>
    <h2 style="color: white;">26.06.2024</h2>
    <ul>
        <li>Performance optimierung durch async await by orcsAsync.</li>
        <li>W&uuml;felproben auf Magieschulen in parsed rolls &uuml;bertragen.</li>
        <li>Bonus durch Nahkampfmeisterschaften auf Kampffertigkeiten wird automatisch berechnet.</li>
        <li>Attribute lebenspunkte_t_max und fokus_t_max f&uuml;r Token.</li>
        <li>Umlaute in HTML convertiert.</li>
        <li>Aktionshandlung "Umklammerung l&ouml;sen.</li>
        <li>Angriffe aktualisieren die Turntable wenn ausgew&auml;lt.</li>
    </ul>
    <h2 style="color: white;">25.01.2022</h2>
    <ul>
        <li>Patzerw&uuml;rfe im Kampf (Kampffertigkeiten &amp; Zauber) k&ouml;nnen jetzt direkt aus dem Chat heraus gew&uuml;rfelt werden.</li>
    </ul>
    <h2 style="color: white;">21.11.2021</h2>
    <ul>
        <li>Die Systemanpassung <em>Wer blutet, stirbt</em> kann jetzt in den Einstellungen aktiviert werden.</li>
    </ul>
    <h2 style="color: white;">21.10.2021</h2>
    <ul>
        <li>Der NSC-Bogen wurde komplett auf den neuen W&uuml;rfelmodus umgestellt.</li>
        <li>Beim NSC-Bogen wurde au&szlig;erdem der Gro&szlig;meisterw&uuml;rfel implementiert.</li>
        <li>In den Einstellungen kann man bei den Fertigkeiten jetzt zum alten 3-W&uuml;rfel-Design wechseln.</li>
        <li>Kleinere Fehlerkorrekturen im Zusammenhang mit fehlerhaftem Chat-Output.</li>
    </ul>
</div>
<p class="text--center">Mit Dank an alle begeisterten Splittermond-Spieler, die diesen Charakterbogen nutzen und mit ihrem Feedback f&uuml;r stetige Verbesserungen sorgen!</p>



<!-- roll templates -->

<rolltemplate class="sheet-rolltemplate-splittermond_generic">
    <div class="roll-message">
        {{#rollBetween() computed::success 1 1}}
            <div class="roll-message__header--patzer">
                PATZER
            </div>
        {{/rollBetween() computed::success 1 1}}
        {{#rollBetween() computed::success 2 2}}
            <div class="roll-message__header--triumph">
                TRIUMPH
            </div>
        {{/rollBetween() computed::success 2 2}}
        <div class="roll-message__title">{{name}}</div>
        <div class="roll-message__subtitle">{{charactername}}</div>
        <div class="roll-message__dice-group roll-message__dice-group--2">
        {{#rollBetween() mode 1 1}}
            {{#rollGreater() wuerfel1 wuerfel2}}
                <!-- W&uuml;rfel 2 -->
                {{#rollBetween() wuerfel2 1 1}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1_sw.png" />
                {{/rollBetween() wuerfel2 1 1}}
                {{#rollBetween() wuerfel2 2 2}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2_sw.png" />
                {{/rollBetween() wuerfel2 2 2}}
                {{#rollBetween() wuerfel2 3 3}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3_sw.png" />
                {{/rollBetween() wuerfel2 3 3}}
                {{#rollBetween() wuerfel2 4 4}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4_sw.png" />
                {{/rollBetween() wuerfel2 4 4}}
                {{#rollBetween() wuerfel2 5 5}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5_sw.png" />
                {{/rollBetween() wuerfel2 5 5}}
                {{#rollBetween() wuerfel2 6 6}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6_sw.png" />
                {{/rollBetween() wuerfel2 6 6}}
                {{#rollBetween() wuerfel2 7 7}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7_sw.png" />
                {{/rollBetween() wuerfel2 7 7}}
                {{#rollBetween() wuerfel2 8 8}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8_sw.png" />
                {{/rollBetween() wuerfel2 8 8}}
                {{#rollBetween() wuerfel2 9 9}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9_sw.png" />
                {{/rollBetween() wuerfel2 9 9}}
                {{#rollBetween() wuerfel2 10 10}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10_sw.png" />
                {{/rollBetween() wuerfel2 10 10}} 
                <!-- W&uuml;rfel 1 -->
                {{#rollBetween() wuerfel1 1 1}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                {{/rollBetween() wuerfel1 1 1}}
                {{#rollBetween() wuerfel1 2 2}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                {{/rollBetween() wuerfel1 2 2}}
                {{#rollBetween() wuerfel1 3 3}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                {{/rollBetween() wuerfel1 3 3}}
                {{#rollBetween() wuerfel1 4 4}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                {{/rollBetween() wuerfel1 4 4}}
                {{#rollBetween() wuerfel1 5 5}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                {{/rollBetween() wuerfel1 5 5}}
                {{#rollBetween() wuerfel1 6 6}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                {{/rollBetween() wuerfel1 6 6}}
                {{#rollBetween() wuerfel1 7 7}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                {{/rollBetween() wuerfel1 7 7}}
                {{#rollBetween() wuerfel1 8 8}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                {{/rollBetween() wuerfel1 8 8}}
                {{#rollBetween() wuerfel1 9 9}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                {{/rollBetween() wuerfel1 9 9}}
                {{#rollBetween() wuerfel1 10 10}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                {{/rollBetween() wuerfel1 10 10}}    
            {{/rollGreater() wuerfel1 wuerfel2}}
            {{#rollGreater() wuerfel2 wuerfel1}}
                <!-- W&uuml;rfel 1 -->
                {{#rollBetween() wuerfel1 1 1}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1_sw.png" />
                {{/rollBetween() wuerfel1 1 1}}
                {{#rollBetween() wuerfel1 2 2}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2_sw.png" />
                {{/rollBetween() wuerfel1 2 2}}
                {{#rollBetween() wuerfel1 3 3}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3_sw.png" />
                {{/rollBetween() wuerfel1 3 3}}
                {{#rollBetween() wuerfel1 4 4}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4_sw.png" />
                {{/rollBetween() wuerfel1 4 4}}
                {{#rollBetween() wuerfel1 5 5}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5_sw.png" />
                {{/rollBetween() wuerfel1 5 5}}
                {{#rollBetween() wuerfel1 6 6}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6_sw.png" />
                {{/rollBetween() wuerfel1 6 6}}
                {{#rollBetween() wuerfel1 7 7}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7_sw.png" />
                {{/rollBetween() wuerfel1 7 7}}
                {{#rollBetween() wuerfel1 8 8}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8_sw.png" />
                {{/rollBetween() wuerfel1 8 8}}
                {{#rollBetween() wuerfel1 9 9}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9_sw.png" />
                {{/rollBetween() wuerfel1 9 9}}
                {{#rollBetween() wuerfel1 10 10}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10_sw.png" />
                {{/rollBetween() wuerfel1 10 10}} 
                <!-- W&uuml;rfel 2 -->
                {{#rollBetween() wuerfel2 1 1}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                {{/rollBetween() wuerfel2 1 1}}
                {{#rollBetween() wuerfel2 2 2}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                {{/rollBetween() wuerfel2 2 2}}
                {{#rollBetween() wuerfel2 3 3}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                {{/rollBetween() wuerfel2 3 3}}
                {{#rollBetween() wuerfel2 4 4}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                {{/rollBetween() wuerfel2 4 4}}
                {{#rollBetween() wuerfel2 5 5}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                {{/rollBetween() wuerfel2 5 5}}
                {{#rollBetween() wuerfel2 6 6}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                {{/rollBetween() wuerfel2 6 6}}
                {{#rollBetween() wuerfel2 7 7}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                {{/rollBetween() wuerfel2 7 7}}
                {{#rollBetween() wuerfel2 8 8}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                {{/rollBetween() wuerfel2 8 8}}
                {{#rollBetween() wuerfel2 9 9}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                {{/rollBetween() wuerfel2 9 9}}
                {{#rollBetween() wuerfel2 10 10}}
                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                {{/rollBetween() wuerfel2 10 10}}    
            {{/rollGreater() wuerfel2 wuerfel1}}
            {{#^rollGreater() wuerfel2 wuerfel1}}
                {{#^rollGreater() wuerfel1 wuerfel2}}
                    <!-- W&uuml;rfel 1 -->
                    {{#rollBetween() wuerfel1 1 1}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1_sw.png" />
                    {{/rollBetween() wuerfel1 1 1}}
                    {{#rollBetween() wuerfel1 2 2}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2_sw.png" />
                    {{/rollBetween() wuerfel1 2 2}}
                    {{#rollBetween() wuerfel1 3 3}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3_sw.png" />
                    {{/rollBetween() wuerfel1 3 3}}
                    {{#rollBetween() wuerfel1 4 4}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4_sw.png" />
                    {{/rollBetween() wuerfel1 4 4}}
                    {{#rollBetween() wuerfel1 5 5}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5_sw.png" />
                    {{/rollBetween() wuerfel1 5 5}}
                    {{#rollBetween() wuerfel1 6 6}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6_sw.png" />
                    {{/rollBetween() wuerfel1 6 6}}
                    {{#rollBetween() wuerfel1 7 7}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7_sw.png" />
                    {{/rollBetween() wuerfel1 7 7}}
                    {{#rollBetween() wuerfel1 8 8}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8_sw.png" />
                    {{/rollBetween() wuerfel1 8 8}}
                    {{#rollBetween() wuerfel1 9 9}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9_sw.png" />
                    {{/rollBetween() wuerfel1 9 9}}
                    {{#rollBetween() wuerfel1 10 10}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10_sw.png" />
                    {{/rollBetween() wuerfel1 10 10}} 
                    <!-- W&uuml;rfel 2 -->
                    {{#rollBetween() wuerfel2 1 1}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                    {{/rollBetween() wuerfel2 1 1}}
                    {{#rollBetween() wuerfel2 2 2}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                    {{/rollBetween() wuerfel2 2 2}}
                    {{#rollBetween() wuerfel2 3 3}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                    {{/rollBetween() wuerfel2 3 3}}
                    {{#rollBetween() wuerfel2 4 4}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                    {{/rollBetween() wuerfel2 4 4}}
                    {{#rollBetween() wuerfel2 5 5}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                    {{/rollBetween() wuerfel2 5 5}}
                    {{#rollBetween() wuerfel2 6 6}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                    {{/rollBetween() wuerfel2 6 6}}
                    {{#rollBetween() wuerfel2 7 7}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                    {{/rollBetween() wuerfel2 7 7}}
                    {{#rollBetween() wuerfel2 8 8}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                    {{/rollBetween() wuerfel2 8 8}}
                    {{#rollBetween() wuerfel2 9 9}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                    {{/rollBetween() wuerfel2 9 9}}
                    {{#rollBetween() wuerfel2 10 10}}
                        <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                    {{/rollBetween() wuerfel2 10 10}}  
                {{/^rollGreater() wuerfel1 wuerfel2}}
            {{/^rollGreater() wuerfel2 wuerfel1}}
        {{/rollBetween() mode 1 1}}
        {{#rollBetween() mode 2 2}}
                <!-- W&uuml;rfel 1 -->
            {{#rollBetween() wuerfel1 1 1}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
            {{/rollBetween() wuerfel1 1 1}}
            {{#rollBetween() wuerfel1 2 2}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
            {{/rollBetween() wuerfel1 2 2}}
            {{#rollBetween() wuerfel1 3 3}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
            {{/rollBetween() wuerfel1 3 3}}
            {{#rollBetween() wuerfel1 4 4}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
            {{/rollBetween() wuerfel1 4 4}}
            {{#rollBetween() wuerfel1 5 5}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
            {{/rollBetween() wuerfel1 5 5}}
            {{#rollBetween() wuerfel1 6 6}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
            {{/rollBetween() wuerfel1 6 6}}
            {{#rollBetween() wuerfel1 7 7}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
            {{/rollBetween() wuerfel1 7 7}}
            {{#rollBetween() wuerfel1 8 8}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
            {{/rollBetween() wuerfel1 8 8}}
            {{#rollBetween() wuerfel1 9 9}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
            {{/rollBetween() wuerfel1 9 9}}
            {{#rollBetween() wuerfel1 10 10}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
            {{/rollBetween() wuerfel1 10 10}}
            
            <!-- W&uuml;rfel 2 -->
            {{#rollBetween() wuerfel2 1 1}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
            {{/rollBetween() wuerfel2 1 1}}
            {{#rollBetween() wuerfel2 2 2}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
            {{/rollBetween() wuerfel2 2 2}}
            {{#rollBetween() wuerfel2 3 3}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
            {{/rollBetween() wuerfel2 3 3}}
            {{#rollBetween() wuerfel2 4 4}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
            {{/rollBetween() wuerfel2 4 4}}
            {{#rollBetween() wuerfel2 5 5}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
            {{/rollBetween() wuerfel2 5 5}}
            {{#rollBetween() wuerfel2 6 6}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
            {{/rollBetween() wuerfel2 6 6}}
            {{#rollBetween() wuerfel2 7 7}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
            {{/rollBetween() wuerfel2 7 7}}
            {{#rollBetween() wuerfel2 8 8}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
            {{/rollBetween() wuerfel2 8 8}}
            {{#rollBetween() wuerfel2 9 9}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
            {{/rollBetween() wuerfel2 9 9}}
            {{#rollBetween() wuerfel2 10 10}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
            {{/rollBetween() wuerfel2 10 10}}
        {{/rollBetween() mode 2 2}}
        </div>
        <div class="roll-message__dice-group roll-message__dice-group--4">
        {{#rollBetween() mode 4 4}}
            <!-- W&uuml;rfel 1 -->
            {{#rollBetween() wuerfel1 1 1}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
            {{/rollBetween() wuerfel1 1 1}}
            {{#rollBetween() wuerfel1 2 2}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
            {{/rollBetween() wuerfel1 2 2}}
            {{#rollBetween() wuerfel1 3 3}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
            {{/rollBetween() wuerfel1 3 3}}
            {{#rollBetween() wuerfel1 4 4}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
            {{/rollBetween() wuerfel1 4 4}}
            {{#rollBetween() wuerfel1 5 5}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
            {{/rollBetween() wuerfel1 5 5}}
            {{#rollBetween() wuerfel1 6 6}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
            {{/rollBetween() wuerfel1 6 6}}
            {{#rollBetween() wuerfel1 7 7}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
            {{/rollBetween() wuerfel1 7 7}}
            {{#rollBetween() wuerfel1 8 8}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
            {{/rollBetween() wuerfel1 8 8}}
            {{#rollBetween() wuerfel1 9 9}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
            {{/rollBetween() wuerfel1 9 9}}
            {{#rollBetween() wuerfel1 10 10}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
            {{/rollBetween() wuerfel1 10 10}}
            <!-- W&uuml;rfel 2 -->
            {{#rollBetween() wuerfel2 1 1}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
            {{/rollBetween() wuerfel2 1 1}}
            {{#rollBetween() wuerfel2 2 2}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
            {{/rollBetween() wuerfel2 2 2}}
            {{#rollBetween() wuerfel2 3 3}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
            {{/rollBetween() wuerfel2 3 3}}
            {{#rollBetween() wuerfel2 4 4}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
            {{/rollBetween() wuerfel2 4 4}}
            {{#rollBetween() wuerfel2 5 5}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
            {{/rollBetween() wuerfel2 5 5}}
            {{#rollBetween() wuerfel2 6 6}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
            {{/rollBetween() wuerfel2 6 6}}
            {{#rollBetween() wuerfel2 7 7}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
            {{/rollBetween() wuerfel2 7 7}}
            {{#rollBetween() wuerfel2 8 8}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
            {{/rollBetween() wuerfel2 8 8}}
            {{#rollBetween() wuerfel2 9 9}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
            {{/rollBetween() wuerfel2 9 9}}
            {{#rollBetween() wuerfel2 10 10}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
            {{/rollBetween() wuerfel2 10 10}}
            <!-- W&uuml;rfel 3 -->
            {{#rollBetween() wuerfel3 1 1}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
            {{/rollBetween() wuerfel3 1 1}}
            {{#rollBetween() wuerfel3 2 2}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
            {{/rollBetween() wuerfel3 2 2}}
            {{#rollBetween() wuerfel3 3 3}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
            {{/rollBetween() wuerfel3 3 3}}
            {{#rollBetween() wuerfel3 4 4}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
            {{/rollBetween() wuerfel3 4 4}}
            {{#rollBetween() wuerfel3 5 5}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
            {{/rollBetween() wuerfel3 5 5}}
            {{#rollBetween() wuerfel3 6 6}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
            {{/rollBetween() wuerfel3 6 6}}
            {{#rollBetween() wuerfel3 7 7}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
            {{/rollBetween() wuerfel3 7 7}}
            {{#rollBetween() wuerfel3 8 8}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
            {{/rollBetween() wuerfel3 8 8}}
            {{#rollBetween() wuerfel3 9 9}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
            {{/rollBetween() wuerfel3 9 9}}
            {{#rollBetween() wuerfel3 10 10}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
            {{/rollBetween() wuerfel3 10 10}}
            <!-- W&uuml;rfel 4 -->
            {{#rollBetween() wuerfel4 1 1}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
            {{/rollBetween() wuerfel4 1 1}}
            {{#rollBetween() wuerfel4 2 2}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
            {{/rollBetween() wuerfel4 2 2}}
            {{#rollBetween() wuerfel4 3 3}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
            {{/rollBetween() wuerfel4 3 3}}
            {{#rollBetween() wuerfel4 4 4}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
            {{/rollBetween() wuerfel4 4 4}}
            {{#rollBetween() wuerfel4 5 5}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
            {{/rollBetween() wuerfel4 5 5}}
            {{#rollBetween() wuerfel4 6 6}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
            {{/rollBetween() wuerfel4 6 6}}
            {{#rollBetween() wuerfel4 7 7}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
            {{/rollBetween() wuerfel4 7 7}}
            {{#rollBetween() wuerfel4 8 8}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
            {{/rollBetween() wuerfel4 8 8}}
            {{#rollBetween() wuerfel4 9 9}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
            {{/rollBetween() wuerfel4 9 9}}
            {{#rollBetween() wuerfel4 10 10}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
            {{/rollBetween() wuerfel4 10 10}}
        {{/rollBetween() mode 4 4}}
        <!-- Großmeisterwürfel -->
        {{#rollBetween() grmmode 1 1}}
            {{#rollBetween() grossmeister 1 1}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/1.png" />
            {{/rollBetween() grossmeister 1 1}}
            {{#rollBetween() grossmeister 2 2}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/2.png" />
            {{/rollBetween() grossmeister 2 2}}
            {{#rollBetween() grossmeister 3 3}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/3.png" />
            {{/rollBetween() grossmeister 3 3}}
            {{#rollBetween() grossmeister 4 4}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/4.png" />
            {{/rollBetween() grossmeister 4 4}}
            {{#rollBetween() grossmeister 5 5}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/5.png" />
            {{/rollBetween() grossmeister 5 5}}
            {{#rollBetween() grossmeister 6 6}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/6.png" />
            {{/rollBetween() grossmeister 6 6}}
            {{#rollBetween() grossmeister 7 7}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/7.png" />
            {{/rollBetween() grossmeister 7 7}}
            {{#rollBetween() grossmeister 8 8}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/8.png" />
            {{/rollBetween() grossmeister 8 8}}
            {{#rollBetween() grossmeister 9 9}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/9.png" />
            {{/rollBetween() grossmeister 9 9}}
            {{#rollBetween() grossmeister 10 10}}
                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/10.png" />
            {{/rollBetween() grossmeister 10 10}}
        {{/rollBetween() grmmode 1 1}}
        </div>
        <div class="d--flex d--flex--align-baseline">
            <div class="roll-message__result-num">
                {{#rollGreater() computed::Probe schwierigkeit}}
                    <span class="roll-message__roll--success">
                {{/rollGreater() computed::Probe schwierigkeit}}
                {{#rollLess() computed::Probe schwierigkeit}}
                    <span class="roll-message__roll--fail">
                {{/rollLess() computed::Probe schwierigkeit}}
                {{#rollBetween() computed::Probe schwierigkeit schwierigkeit}}
                    <span class="roll-message__roll--success">
                {{/rollBetween() computed::Probe schwierigkeit schwierigkeit}}
                {{computed::Probe}}
                </span>
            </div>
            <div class="roll-message__difficulty-num">{{schwierigkeit}}</div>
        </div>
        <div class="d--flex">
            <div class="roll-message__result">
                {{#rollGreater() computed::Probe schwierigkeit}}
                    <span class="roll-message__roll--success">
                {{/rollGreater() computed::Probe schwierigkeit}}
                {{#rollLess() computed::Probe schwierigkeit}}
                    <span class="roll-message__roll--fail">
                {{/rollLess() computed::Probe schwierigkeit}}
                {{#rollBetween() computed::Probe schwierigkeit schwierigkeit}}
                    <span class="roll-message__roll--success">
                {{/rollBetween() computed::Probe schwierigkeit schwierigkeit}}
                <div class="d--flex d--flex--justify-end popover">
                    <span class="icon popover__trigger">?</span>
                    <span>Probe</span>
                    <span class="popover__arrow"></span>
                    <div class="popover__content roll-message__info">
                        {{#basiswert}}
                        <div class="d--flex">
                            <span>Fertigkeit</span> 
                            <span>{{basiswert}}</span>
                        </div>
                        {{/basiswert}}
                        {{#mod}}
                            {{#rollGreater() mod 0}}
                            <div class="d--flex">
                                <span>Situationsmod.</span> 
                                <span>{{mod}}</span>
                            </div>
                            {{/rollGreater() mod 0}}
                            {{#rollLess() mod 0}}
                            <div class="d--flex">
                                <span>Situationsmod.</span> 
                                <span>{{mod}}</span>
                            </div>
                            {{/rollLess() mod 0}}
                        {{/mod}}
                        {{#attributsmodifikatoren}}
                            {{#rollGreater() attributsmodifikatoren 0}}
                            <div class="d--flex">
                                <span>Attributsmod.</span> 
                                <span>+{{attributsmodifikatoren}}</span>
                            </div>
                            {{/rollGreater() attributsmodifikatoren 0}}
                            {{#rollLess() attributsmodifikatoren 0}}
                            <div class="d--flex">
                                <span>Attributsmod.</span> 
                                <span>+{{attributsmodifikatoren}}</span>
                            </div>
                            {{/rollLess() attributsmodifikatoren 0}}
                        {{/attributsmodifikatoren}}
                        {{#angriffsbonus}}
                            {{#rollGreater() angriffsbonus 0}}
                            <div class="d--flex">
                                <span>Mod. Angriffe</span> 
                                <span>+{{angriffsbonus}}</span>
                            </div>
                            {{/rollGreater() angriffsbonus 0}}
                            {{#rollLess() angriffsbonus 0}}
                            <div class="d--flex">
                                <span>Mod. Angriffe</span> 
                                <span>+{{angriffsbonus}}</span>
                            </div>
                            {{/rollLess() angriffsbonus 0}}
                        {{/angriffsbonus}}
                        {{#kampffertigkeitenbonus}}
                            {{#rollGreater() kampffertigkeitenbonus 0}}
                            <div class="d--flex">
                                <span>Mod. Kampffert.</span> 
                                <span>+{{kampffertigkeitenbonus}}</span>
                            </div>
                            {{/rollGreater() kampffertigkeitenbonus 0}}
                            {{#rollLess() kampffertigkeitenbonus 0}}
                            <div class="d--flex">
                                <span>Mod. Kampffert.</span> 
                                <span>+{{kampffertigkeitenbonus}}</span>
                            </div>
                            {{/rollLess() kampffertigkeitenbonus 0}}
                        {{/kampffertigkeitenbonus}}
                        {{#hiddenallfert}}
                            {{#rollGreater() hiddenallfert 0}}
                            <div class="d--flex">
                                <span>Mod. Alle Fert..</span> 
                                <span>+-{{hiddenallfert}}</span>
                            </div>
                            {{/rollGreater() hiddenallfert 0}}
                            {{#rollLess() hiddenallfert 0}}
                            <div class="d--flex">
                                <span>Mod. Alle Fert.</span> 
                                <span>+-{{hiddenallfert}}</span>
                            </div>
                            {{/rollLess() hiddenallfert 0}}
                        {{/hiddenallfert}}
                        {{#skillbonus}}
                            {{#rollGreater() skillbonus 0}}
                            <div class="d--flex">
                                <span>Fertigkeitsbonus</span> 
                                <span>+{{skillbonus}}</span>
                            </div>
                            {{/rollGreater() skillbonus 0}}
                            {{#rollLess() skillbonus 0}}
                            <div class="d--flex">
                                <span>Fertigkeitsbonus</span> 
                                <span>+{{skillbonus}}</span>
                            </div>
                            {{/rollLess() skillbonus 0}}
                        {{/skillbonus}}
                        {{#dmgmalus}}
                            {{#rollBetween() dmgmalus 1 8}}
                            <div class="d--flex">
                                <span>Schadensmod.</span>
                                <span>-{{dmgmalus}}</span>
                            </div>
                            {{/rollBetween() dmgmalus 1 8}}
                        {{/dmgmalus}}
                        {{#erschoepft}}
                            {{#rollGreater() erschoepft 0}}
                                <div class="d--flex">
                                    <span>Ersch&ouml;pft</span>
                                    <span>-{{erschoepft}}</span>
                                </div>
                            {{/rollGreater() erschoepft 0}}
                        {{/erschoepft}}
                        {{#rollGreater() bbeh 0}}
                            {{#rollGreater() behinderung 0}}
                                <div class="d--flex">
                                    <span>Behinderung</span>
                                    <span>-{{behinderung}}</span>
                                </div>
                            {{/rollGreater() behinderung 0}}
                        {{/rollGreater() bbeh 0}}
                        {{#geblendet}}
                            {{#rollGreater() geblendet 0}}
                                <div class="d--flex">
                                    <span>Geblendet</span>
                                    <span>-{{geblendet}}</span>
                                </div>
                            {{/rollGreater() geblendet 0}}
                        {{/geblendet}}
                    </div>
                </div>
                </span>
            </div>
            <div class="roll-message__difficulty">Schwierigkeit</div>
        </div>
        <div class="d--flex d--flex--align-baseline roll-message__fight">
            <div>
                {{#Ticks}}
                <span>Ticks</span>{{Ticks}}
                {{/Ticks}}
            </div>
            {{#rollBetween() computed::success 0 0}}
                <div class="d--flex__item--grow2 text--right">
                    {{#changer}}
                        {{#rollBetween() changer 1 1}}
                            <span>Schaden</span>{{damage}}
                        {{/rollBetween() changer 1 1}}
                    {{/changer}}
                    {{^changer}}
                        {{#damage}}
                            <span>Schaden</span>{{damage}}
                        {{/damage}}
                    {{/changer}}
                </div>
            {{/rollBetween() computed::success 0 0}}
            {{#rollBetween() computed::success 2 2}}
                <div class="d--flex__item--grow2 text--right">
                    {{#changer}}
                        {{#rollBetween() changer 1 1}}
                            <span>Schaden</span>{{damage}}
                        {{/rollBetween() changer 1 1}}
                    {{/changer}}
                    {{^changer}}
                        {{#damage}}
                            <span>Schaden</span>{{damage}}
                        {{/damage}}
                    {{/changer}}
                </div>
            {{/rollBetween() computed::success 2 2}}
        </div>
        {{#rollBetween() computed::success 1 1}}
            {{#patzer}}
                <div class="d--flex d--flex--align-baseline roll-message__fight">
                    <div class="d--flex__item--grow2 text--right">
                        {{#rollBetween() patzer 1 1}}
                            <span>Patzertabelle</span> {{rollpatzer}}
                        {{/rollBetween() patzer 1 1}}
                        {{#rollBetween() patzer 2 2}}
                            <span>Patzertabelle</span> {{rollzauberpatzer}}
                        {{/rollBetween() patzer 2 2}}
                    </div>
            </div>
            {{/patzer}}
        {{/rollBetween() computed::success 1 1}}
        <div class="roll-message__footer"> 
            <span>Erfolgsgrade</span>
            <span class="success-num">
                {{computed::erfolge}}
            </span>
        </div>
    </div>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-splittermond-initiative_tracker">
    <table class="rolltemplate-table-initiative_tracker">
        <tr><th class="sheet-header" align="center"><b>{{name}}</b></th></tr>
        <tr>
            <td>
                {{name}} geht {{Ticks}} Ticks weiter, um {{action}}.
            </td>
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-splittermond_initiative">
    <table class="sheet-rolltemplate-table-initiative">
        <tr><th colspan="2" class="sheet-header" align="center"><b>{{charactername}}</b></th></tr>
        <tr><td colspan="2" class="sheet-header" align="center">{{name}}</td></tr>
        <tr><td class="sheet-header"><b>Ergebnis</b></td><td class="sheet-header" align="right">{{Wurf}}</td></tr>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-splittermond_aktiveabwehr">
    <table class="sheet-rolltemplate-table-aktiveabwehr">
        <tr><th colspan="2" class="sheet-header" align="center"><b>{{charactername}}</b></th></tr>
        <tr><td colspan="2" class="sheet-header" align="center">
            {{naming}}
        </td></tr>
        <tr>
            <td>
                <div class="roll-message__dice-group roll-message__dice-group--2">
                    {{#rollBetween() mode 1 1}}
                        {{#rollGreater() wuerfel1 wuerfel2}}
                            <!-- W&uuml;rfel 2 -->
                            {{#rollBetween() wuerfel2 1 1}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1_sw.png" />
                            {{/rollBetween() wuerfel2 1 1}}
                            {{#rollBetween() wuerfel2 2 2}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2_sw.png" />
                            {{/rollBetween() wuerfel2 2 2}}
                            {{#rollBetween() wuerfel2 3 3}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3_sw.png" />
                            {{/rollBetween() wuerfel2 3 3}}
                            {{#rollBetween() wuerfel2 4 4}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4_sw.png" />
                            {{/rollBetween() wuerfel2 4 4}}
                            {{#rollBetween() wuerfel2 5 5}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5_sw.png" />
                            {{/rollBetween() wuerfel2 5 5}}
                            {{#rollBetween() wuerfel2 6 6}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6_sw.png" />
                            {{/rollBetween() wuerfel2 6 6}}
                            {{#rollBetween() wuerfel2 7 7}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7_sw.png" />
                            {{/rollBetween() wuerfel2 7 7}}
                            {{#rollBetween() wuerfel2 8 8}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8_sw.png" />
                            {{/rollBetween() wuerfel2 8 8}}
                            {{#rollBetween() wuerfel2 9 9}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9_sw.png" />
                            {{/rollBetween() wuerfel2 9 9}}
                            {{#rollBetween() wuerfel2 10 10}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10_sw.png" />
                            {{/rollBetween() wuerfel2 10 10}} 
                            <!-- W&uuml;rfel 1 -->
                            {{#rollBetween() wuerfel1 1 1}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                            {{/rollBetween() wuerfel1 1 1}}
                            {{#rollBetween() wuerfel1 2 2}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                            {{/rollBetween() wuerfel1 2 2}}
                            {{#rollBetween() wuerfel1 3 3}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                            {{/rollBetween() wuerfel1 3 3}}
                            {{#rollBetween() wuerfel1 4 4}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                            {{/rollBetween() wuerfel1 4 4}}
                            {{#rollBetween() wuerfel1 5 5}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                            {{/rollBetween() wuerfel1 5 5}}
                            {{#rollBetween() wuerfel1 6 6}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                            {{/rollBetween() wuerfel1 6 6}}
                            {{#rollBetween() wuerfel1 7 7}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                            {{/rollBetween() wuerfel1 7 7}}
                            {{#rollBetween() wuerfel1 8 8}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                            {{/rollBetween() wuerfel1 8 8}}
                            {{#rollBetween() wuerfel1 9 9}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                            {{/rollBetween() wuerfel1 9 9}}
                            {{#rollBetween() wuerfel1 10 10}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                            {{/rollBetween() wuerfel1 10 10}}    
                        {{/rollGreater() wuerfel1 wuerfel2}}
                        {{#rollGreater() wuerfel2 wuerfel1}}
                            <!-- W&uuml;rfel 1 -->
                            {{#rollBetween() wuerfel1 1 1}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1_sw.png" />
                            {{/rollBetween() wuerfel1 1 1}}
                            {{#rollBetween() wuerfel1 2 2}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2_sw.png" />
                            {{/rollBetween() wuerfel1 2 2}}
                            {{#rollBetween() wuerfel1 3 3}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3_sw.png" />
                            {{/rollBetween() wuerfel1 3 3}}
                            {{#rollBetween() wuerfel1 4 4}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4_sw.png" />
                            {{/rollBetween() wuerfel1 4 4}}
                            {{#rollBetween() wuerfel1 5 5}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5_sw.png" />
                            {{/rollBetween() wuerfel1 5 5}}
                            {{#rollBetween() wuerfel1 6 6}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6_sw.png" />
                            {{/rollBetween() wuerfel1 6 6}}
                            {{#rollBetween() wuerfel1 7 7}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7_sw.png" />
                            {{/rollBetween() wuerfel1 7 7}}
                            {{#rollBetween() wuerfel1 8 8}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8_sw.png" />
                            {{/rollBetween() wuerfel1 8 8}}
                            {{#rollBetween() wuerfel1 9 9}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9_sw.png" />
                            {{/rollBetween() wuerfel1 9 9}}
                            {{#rollBetween() wuerfel1 10 10}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10_sw.png" />
                            {{/rollBetween() wuerfel1 10 10}} 
                            <!-- W&uuml;rfel 2 -->
                            {{#rollBetween() wuerfel2 1 1}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                            {{/rollBetween() wuerfel2 1 1}}
                            {{#rollBetween() wuerfel2 2 2}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                            {{/rollBetween() wuerfel2 2 2}}
                            {{#rollBetween() wuerfel2 3 3}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                            {{/rollBetween() wuerfel2 3 3}}
                            {{#rollBetween() wuerfel2 4 4}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                            {{/rollBetween() wuerfel2 4 4}}
                            {{#rollBetween() wuerfel2 5 5}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                            {{/rollBetween() wuerfel2 5 5}}
                            {{#rollBetween() wuerfel2 6 6}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                            {{/rollBetween() wuerfel2 6 6}}
                            {{#rollBetween() wuerfel2 7 7}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                            {{/rollBetween() wuerfel2 7 7}}
                            {{#rollBetween() wuerfel2 8 8}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                            {{/rollBetween() wuerfel2 8 8}}
                            {{#rollBetween() wuerfel2 9 9}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                            {{/rollBetween() wuerfel2 9 9}}
                            {{#rollBetween() wuerfel2 10 10}}
                                <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                            {{/rollBetween() wuerfel2 10 10}}    
                        {{/rollGreater() wuerfel2 wuerfel1}}
                        {{#^rollGreater() wuerfel2 wuerfel1}}
                            {{#^rollGreater() wuerfel1 wuerfel2}}
                                <!-- W&uuml;rfel 1 -->
                                {{#rollBetween() wuerfel1 1 1}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1_sw.png" />
                                {{/rollBetween() wuerfel1 1 1}}
                                {{#rollBetween() wuerfel1 2 2}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2_sw.png" />
                                {{/rollBetween() wuerfel1 2 2}}
                                {{#rollBetween() wuerfel1 3 3}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3_sw.png" />
                                {{/rollBetween() wuerfel1 3 3}}
                                {{#rollBetween() wuerfel1 4 4}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4_sw.png" />
                                {{/rollBetween() wuerfel1 4 4}}
                                {{#rollBetween() wuerfel1 5 5}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5_sw.png" />
                                {{/rollBetween() wuerfel1 5 5}}
                                {{#rollBetween() wuerfel1 6 6}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6_sw.png" />
                                {{/rollBetween() wuerfel1 6 6}}
                                {{#rollBetween() wuerfel1 7 7}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7_sw.png" />
                                {{/rollBetween() wuerfel1 7 7}}
                                {{#rollBetween() wuerfel1 8 8}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8_sw.png" />
                                {{/rollBetween() wuerfel1 8 8}}
                                {{#rollBetween() wuerfel1 9 9}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9_sw.png" />
                                {{/rollBetween() wuerfel1 9 9}}
                                {{#rollBetween() wuerfel1 10 10}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10_sw.png" />
                                {{/rollBetween() wuerfel1 10 10}} 
                                <!-- W&uuml;rfel 2 -->
                                {{#rollBetween() wuerfel2 1 1}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                                {{/rollBetween() wuerfel2 1 1}}
                                {{#rollBetween() wuerfel2 2 2}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                                {{/rollBetween() wuerfel2 2 2}}
                                {{#rollBetween() wuerfel2 3 3}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                                {{/rollBetween() wuerfel2 3 3}}
                                {{#rollBetween() wuerfel2 4 4}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                                {{/rollBetween() wuerfel2 4 4}}
                                {{#rollBetween() wuerfel2 5 5}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                                {{/rollBetween() wuerfel2 5 5}}
                                {{#rollBetween() wuerfel2 6 6}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                                {{/rollBetween() wuerfel2 6 6}}
                                {{#rollBetween() wuerfel2 7 7}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                                {{/rollBetween() wuerfel2 7 7}}
                                {{#rollBetween() wuerfel2 8 8}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                                {{/rollBetween() wuerfel2 8 8}}
                                {{#rollBetween() wuerfel2 9 9}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                                {{/rollBetween() wuerfel2 9 9}}
                                {{#rollBetween() wuerfel2 10 10}}
                                    <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                                {{/rollBetween() wuerfel2 10 10}}  
                            {{/^rollGreater() wuerfel1 wuerfel2}}
                        {{/^rollGreater() wuerfel2 wuerfel1}}
                    {{/rollBetween() mode 1 1}}
                    {{#rollBetween() mode 2 2}}
                            <!-- W&uuml;rfel 1 -->
                        {{#rollBetween() wuerfel1 1 1}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                        {{/rollBetween() wuerfel1 1 1}}
                        {{#rollBetween() wuerfel1 2 2}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                        {{/rollBetween() wuerfel1 2 2}}
                        {{#rollBetween() wuerfel1 3 3}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                        {{/rollBetween() wuerfel1 3 3}}
                        {{#rollBetween() wuerfel1 4 4}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                        {{/rollBetween() wuerfel1 4 4}}
                        {{#rollBetween() wuerfel1 5 5}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                        {{/rollBetween() wuerfel1 5 5}}
                        {{#rollBetween() wuerfel1 6 6}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                        {{/rollBetween() wuerfel1 6 6}}
                        {{#rollBetween() wuerfel1 7 7}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                        {{/rollBetween() wuerfel1 7 7}}
                        {{#rollBetween() wuerfel1 8 8}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                        {{/rollBetween() wuerfel1 8 8}}
                        {{#rollBetween() wuerfel1 9 9}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                        {{/rollBetween() wuerfel1 9 9}}
                        {{#rollBetween() wuerfel1 10 10}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                        {{/rollBetween() wuerfel1 10 10}}
                        
                        <!-- W&uuml;rfel 2 -->
                        {{#rollBetween() wuerfel2 1 1}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                        {{/rollBetween() wuerfel2 1 1}}
                        {{#rollBetween() wuerfel2 2 2}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                        {{/rollBetween() wuerfel2 2 2}}
                        {{#rollBetween() wuerfel2 3 3}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                        {{/rollBetween() wuerfel2 3 3}}
                        {{#rollBetween() wuerfel2 4 4}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                        {{/rollBetween() wuerfel2 4 4}}
                        {{#rollBetween() wuerfel2 5 5}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                        {{/rollBetween() wuerfel2 5 5}}
                        {{#rollBetween() wuerfel2 6 6}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                        {{/rollBetween() wuerfel2 6 6}}
                        {{#rollBetween() wuerfel2 7 7}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                        {{/rollBetween() wuerfel2 7 7}}
                        {{#rollBetween() wuerfel2 8 8}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                        {{/rollBetween() wuerfel2 8 8}}
                        {{#rollBetween() wuerfel2 9 9}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                        {{/rollBetween() wuerfel2 9 9}}
                        {{#rollBetween() wuerfel2 10 10}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                        {{/rollBetween() wuerfel2 10 10}}
                    {{/rollBetween() mode 2 2}}
                    </div>
                    <div class="roll-message__dice-group roll-message__dice-group--4">
                    {{#rollBetween() mode 4 4}}
                        <!-- W&uuml;rfel 1 -->
                        {{#rollBetween() wuerfel1 1 1}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                        {{/rollBetween() wuerfel1 1 1}}
                        {{#rollBetween() wuerfel1 2 2}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                        {{/rollBetween() wuerfel1 2 2}}
                        {{#rollBetween() wuerfel1 3 3}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                        {{/rollBetween() wuerfel1 3 3}}
                        {{#rollBetween() wuerfel1 4 4}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                        {{/rollBetween() wuerfel1 4 4}}
                        {{#rollBetween() wuerfel1 5 5}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                        {{/rollBetween() wuerfel1 5 5}}
                        {{#rollBetween() wuerfel1 6 6}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                        {{/rollBetween() wuerfel1 6 6}}
                        {{#rollBetween() wuerfel1 7 7}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                        {{/rollBetween() wuerfel1 7 7}}
                        {{#rollBetween() wuerfel1 8 8}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                        {{/rollBetween() wuerfel1 8 8}}
                        {{#rollBetween() wuerfel1 9 9}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                        {{/rollBetween() wuerfel1 9 9}}
                        {{#rollBetween() wuerfel1 10 10}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                        {{/rollBetween() wuerfel1 10 10}}
                        <!-- W&uuml;rfel 2 -->
                        {{#rollBetween() wuerfel2 1 1}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                        {{/rollBetween() wuerfel2 1 1}}
                        {{#rollBetween() wuerfel2 2 2}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                        {{/rollBetween() wuerfel2 2 2}}
                        {{#rollBetween() wuerfel2 3 3}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                        {{/rollBetween() wuerfel2 3 3}}
                        {{#rollBetween() wuerfel2 4 4}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                        {{/rollBetween() wuerfel2 4 4}}
                        {{#rollBetween() wuerfel2 5 5}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                        {{/rollBetween() wuerfel2 5 5}}
                        {{#rollBetween() wuerfel2 6 6}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                        {{/rollBetween() wuerfel2 6 6}}
                        {{#rollBetween() wuerfel2 7 7}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                        {{/rollBetween() wuerfel2 7 7}}
                        {{#rollBetween() wuerfel2 8 8}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                        {{/rollBetween() wuerfel2 8 8}}
                        {{#rollBetween() wuerfel2 9 9}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                        {{/rollBetween() wuerfel2 9 9}}
                        {{#rollBetween() wuerfel2 10 10}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                        {{/rollBetween() wuerfel2 10 10}}
                        <!-- W&uuml;rfel 3 -->
                        {{#rollBetween() wuerfel3 1 1}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                        {{/rollBetween() wuerfel3 1 1}}
                        {{#rollBetween() wuerfel3 2 2}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                        {{/rollBetween() wuerfel3 2 2}}
                        {{#rollBetween() wuerfel3 3 3}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                        {{/rollBetween() wuerfel3 3 3}}
                        {{#rollBetween() wuerfel3 4 4}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                        {{/rollBetween() wuerfel3 4 4}}
                        {{#rollBetween() wuerfel3 5 5}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                        {{/rollBetween() wuerfel3 5 5}}
                        {{#rollBetween() wuerfel3 6 6}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                        {{/rollBetween() wuerfel3 6 6}}
                        {{#rollBetween() wuerfel3 7 7}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                        {{/rollBetween() wuerfel3 7 7}}
                        {{#rollBetween() wuerfel3 8 8}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                        {{/rollBetween() wuerfel3 8 8}}
                        {{#rollBetween() wuerfel3 9 9}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                        {{/rollBetween() wuerfel3 9 9}}
                        {{#rollBetween() wuerfel3 10 10}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                        {{/rollBetween() wuerfel3 10 10}}
                        <!-- W&uuml;rfel 4 -->
                        {{#rollBetween() wuerfel4 1 1}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/1.png" />
                        {{/rollBetween() wuerfel4 1 1}}
                        {{#rollBetween() wuerfel4 2 2}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/2.png" />
                        {{/rollBetween() wuerfel4 2 2}}
                        {{#rollBetween() wuerfel4 3 3}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/3.png" />
                        {{/rollBetween() wuerfel4 3 3}}
                        {{#rollBetween() wuerfel4 4 4}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/4.png" />
                        {{/rollBetween() wuerfel4 4 4}}
                        {{#rollBetween() wuerfel4 5 5}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/5.png" />
                        {{/rollBetween() wuerfel4 5 5}}
                        {{#rollBetween() wuerfel4 6 6}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/6.png" />
                        {{/rollBetween() wuerfel4 6 6}}
                        {{#rollBetween() wuerfel4 7 7}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/7.png" />
                        {{/rollBetween() wuerfel4 7 7}}
                        {{#rollBetween() wuerfel4 8 8}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/8.png" />
                        {{/rollBetween() wuerfel4 8 8}}
                        {{#rollBetween() wuerfel4 9 9}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/9.png" />
                        {{/rollBetween() wuerfel4 9 9}}
                        {{#rollBetween() wuerfel4 10 10}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/10.png" />
                        {{/rollBetween() wuerfel4 10 10}}
                    {{/rollBetween() mode 4 4}}
                    <!-- Großmeisterwürfel -->
                    {{#rollBetween() grmmode 1 1}}
                        {{#rollBetween() grossmeister 1 1}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/1.png" />
                        {{/rollBetween() grossmeister 1 1}}
                        {{#rollBetween() grossmeister 2 2}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/2.png" />
                        {{/rollBetween() grossmeister 2 2}}
                        {{#rollBetween() grossmeister 3 3}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/3.png" />
                        {{/rollBetween() grossmeister 3 3}}
                        {{#rollBetween() grossmeister 4 4}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/4.png" />
                        {{/rollBetween() grossmeister 4 4}}
                        {{#rollBetween() grossmeister 5 5}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/5.png" />
                        {{/rollBetween() grossmeister 5 5}}
                        {{#rollBetween() grossmeister 6 6}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/6.png" />
                        {{/rollBetween() grossmeister 6 6}}
                        {{#rollBetween() grossmeister 7 7}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/7.png" />
                        {{/rollBetween() grossmeister 7 7}}
                        {{#rollBetween() grossmeister 8 8}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/8.png" />
                        {{/rollBetween() grossmeister 8 8}}
                        {{#rollBetween() grossmeister 9 9}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/9.png" />
                        {{/rollBetween() grossmeister 9 9}}
                        {{#rollBetween() grossmeister 10 10}}
                            <img src="https://raw.githubusercontent.com/Roll20/roll20-character-sheets/master/Splittermond/dice/gm/10.png" />
                        {{/rollBetween() grossmeister 10 10}}
                    {{/rollBetween() grmmode 1 1}}
                    </div>
            </td>
        </tr>
        <tr><td class="sheet-header"><b>Probe</b></td><td class="sheet-header" align="right">{{Probe}}</td></tr>
        {{#rollGreater() Probe schwierigkeit}}
            {{#rollGreater() Probe 29}}
                <tr><td class="sheet-header" colspan="2">&nbsp;</td></tr>
                <tr><td class="sheet-header" colspan="2" style="color:#298A08; text-align:center">Herausragend gelungen!</td></tr>
                <tr><td class="sheet-header" colspan="2" style="text-align:center; color:#298A08; font-size:9px">Diese Aktive Abwehr kostet nur 2 Ticks!</td></tr>
            {{/rollGreater() Probe 29}}
            {{#rollLess() Probe 29}}
                <tr><td colspan="2" class="sheet-header" align="center" style="color:#298A08;">Gelungen!</td></tr>
            {{/rollLess() Probe 29}}
        {{/rollGreater() Probe schwierigkeit}}
        {{#rollLess() Probe schwierigkeit}}
            {{#rollLess() Probe 13}}
                <tr><td colspan="2" class="sheet-header" align="center" style="color:#DF0101;">Misslungen!</td></tr>
            {{/rollLess() Probe 13}}
            {{#rollGreater() Probe 12}}
                <tr><td colspan="2" class="sheet-header" align="center" style="color:#FF6600;">Knapp Misslungen!</td></tr>
                <tr><td class="sheet-header" colspan="2" style="text-align:center; color:#FF6600; font-size:10px">Charakter erhält {{dmg}} Bet&auml;ubungsschaden</td></tr>
            {{/rollGreater() Probe 12}}
        {{/rollLess() Probe schwierigkeit}}
        {{#rollBetween() Probe schwierigkeit schwierigkeit}}
        <tr><td colspan="2" class="sheet-header" align="center" style="color:#298A08;">Gelungen!</td>
        {{/rollBetween() Probe schwierigkeit schwierigkeit}}
        {{#rollGreater() def 0}}
                <tr><td class="sheet-header"><b>+ Defensiv</b></td><td class="sheet-header" align="right">{{def}}</td></tr>
        {{/rollGreater() def 0}}
        <tr><td class="sheet-header"><b>
            {{#neuerwert}}
                {{neuerwert}}
            {{/neuerwert}}
            </b></td>
            <td class="sheet-header" align="right">
                {{computed::verteidigung}}
            </td>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-splittermond_patzer">
    <table class="sheet-rolltemplate-table-patzer">
        <tr>
            <th colspan="2" class="sheet-header" align="center"><b>
            {{#rollBetween() naming 0 0}}
                Priesterpatzer
            {{/rollBetween() naming 0 0}}
            {{#rollBetween() naming 1 1}}
                Zauberpatzer
            {{/rollBetween() naming 1 1}}
            {{#rollBetween() naming 2 2}}
                Kampfpatzer
            {{/rollBetween() naming 2 2}}
            </b></th>
        </tr>
        <tr>
            <td colspan="2" align="center">{{charactername}}</td>
        </tr>
        <tr><td>&nbsp;</td></tr>
        <tr>
                <td class="sheet-header"><b>Ergebnis</b></td>
                <td class="sheet-header" align="center">
                {{#rollBetween() naming 1 1}}
					{{#rollBetween() result 3 20}}
	    				{{#rollBetween() fk 1 1}}
	    					Keine Auswirkungen!
	    				{{/rollBetween() fk 1 1}}
	    				{{#rollBetween() fk 2 2}}
	    					Keine Auswirkungen!
	    				{{/rollBetween() fk 2 2}}
	    				{{#rollBetween() fk 0 0}}
	    					{{#rollBetween() sbm 0 0}}
	    						{{s1}} Schaden und <i>Ersch&ouml;pft 1</i>
	    					{{/rollBetween() sbm 0 0}}
	    					{{#rollBetween() sbm 1 1}}
	    						Keine Auswirkungen!
	    					{{/rollBetween() sbm 1 1}}
	    				{{/rollBetween() fk 0 0}}
					{{/rollBetween() result 3 20}}
					{{#rollBetween() result 21 35}}
					    {{#rollBetween() fk 1 1}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s1}} Schaden und <i>Ersch&ouml;pft 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		Keine Auswirkungen!
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 1 1}}
					    {{#rollBetween() fk 2 2}}
					    	Keine Auswirkungen!
					    {{/rollBetween() fk 2 2}}
					    {{#rollBetween() fk 0 0}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s2}} Schaden und <i>Ersch&ouml;pft 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s1}} Schaden und <i>Ersch&ouml;pft 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 0 0}}
					{{/rollBetween() result 21 35}}
					{{#rollBetween() result 36 70}}
					    {{#rollBetween() fk 1 1}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s2}} Schaden und <i>Ersch&ouml;pft 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s1}} Schaden und <i>Ersch&ouml;pft 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 1 1}}
					    {{#rollBetween() fk 2 2}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s1}} Schaden und <i>Ersch&ouml;pft 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		Keine Auswirkungen!
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 2 2}}
					    {{#rollBetween() fk 0 0}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s3}} Schaden, <i>Ersch&ouml;pft 2</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s2}} Schaden und <i>Ersch&ouml;pft 2</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 0 0}}
					{{/rollBetween() result 36 70}}
					{{#rollBetween() result 71 100}}
					    {{#rollBetween() fk 1 1}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s3}} Schaden, <i>Ersch&ouml;pft 2</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s2}} Schaden und <i>Ersch&ouml;pft 2</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 1 1}}
					    {{#rollBetween() fk 2 2}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s2}} Schaden und <i>Ersch&ouml;pft 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s1}} Schaden und <i>Ersch&ouml;pft 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 2 2}}
					    {{#rollBetween() fk 0 0}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s4}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s3}} Schaden, <i>Ersch&ouml;pft 2</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 0 0}}
					{{/rollBetween() result 71 100}}
					{{#rollBetween() result 101 130}}
					    {{#rollBetween() fk 1 1}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s4}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s3}} Schaden, <i>Ersch&ouml;pft 2</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 1 1}}
					    {{#rollBetween() fk 2 2}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s3}} Schaden, <i>Ersch&ouml;pft 2</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s2}} Schaden und <i>Ersch&ouml;pft 2</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 2 2}}
					    {{#rollBetween() fk 0 0}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s5}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s4}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 0 0}}
					{{/rollBetween() result 101 130}}
					{{#rollBetween() result 131 175}}
					    {{#rollBetween() fk 1 1}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s5}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s4}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 1 1}}
					    {{#rollBetween() fk 2 2}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s4}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s3}} Schaden, <i>Ersch&ouml;pft 2</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 1 1}}	    	
					    {{/rollBetween() fk 2 2}}
					    {{#rollBetween() fk 0 0}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s6}} Schaden, <i>Sterbend 1</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s5}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 0 0}}
					{{/rollBetween() result 131 175}}
					{{#rollBetween() result 176 250}}
					    {{#rollBetween() fk 1 1}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s6}} Schaden, <i>Sterbend 1</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s5}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 1 1}}
					    {{#rollBetween() fk 2 2}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s5}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s4}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Benommen 1</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 2 2}}
					    {{#rollBetween() fk 0 0}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s7}} Schaden, <i>Sterbend 2</i> und <i>Blutend 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s6}} Schaden, <i>Sterbend 1</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 1 1}}	    	
					    {{/rollBetween() fk 0 0}}
					{{/rollBetween() result 176 250}}
					{{#rollGreater() result 250}}
					    {{#rollBetween() fk 1 1}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s7}} Schaden, <i>Sterbend 2</i> und <i>Blutend 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s6}} Schaden, <i>Sterbend 1</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 1 1}}	    	
					    {{/rollBetween() fk 1 1}}
					    {{#rollBetween() fk 2 2}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s6}} Schaden, <i>Sterbend 1</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s5}} Schaden, <i>Angsterf&uuml;llt</i> und <i>Verwundet 2</i>
					    	{{/rollBetween() sbm 1 1}}	    	
					    {{/rollBetween() fk 2 2}}
					    {{#rollBetween() fk 0 0}}
					    	{{#rollBetween() sbm 0 0}}
					    		{{s8}} Schaden, <i>Sterbend 3</i> sowie (<i>Brennend 5</i> oder <i>Blutend 3</i>)
					    	{{/rollBetween() sbm 0 0}}
					    	{{#rollBetween() sbm 1 1}}
					    		{{s7}} Schaden, <i>Sterbend 2</i> und <i>Blutend 2</i>
					    	{{/rollBetween() sbm 1 1}}
					    {{/rollBetween() fk 0 0}}
					{{/rollGreater() result 250}}
				{{/rollBetween() naming 1 1}}
                {{#rollBetween() naming 2 2}}
                    {{#rollBetween() result 2 3}}
                        Benommen: 10 Ticks, Liegend, Benommen 2 (30 Ticks)
                    {{/rollBetween() result 2 3}}
                    {{#rollBetween() result 4 6}}
                        <i>Angeschlagene</i> Waffe: -3 auf Handlungen mit Waffe
                    {{/rollBetween() result 4 6}}
                    {{#rollBetween() result 7 9}}
                        Desorientiert: -3 Ticks
                    {{/rollBetween() result 7 9}}
                    {{#rollBetween() result 10 12}}
                        Straucheln: -6 Ticks
                    {{/rollBetween() result 10 12}}
                    {{#rollBetween() result 13 15}}
                        Sturz: Liegend
                    {{/rollBetween() result 13 15}}
                    {{#rollBetween() result 16 18}}
                        -3 Ticks; Gegner hat Gelegenheitsangriff
                    {{/rollBetween() result 16 18}}
                    {{#rollBetween() result 19 20}}
                        Schwere Verwundung: Blutend 2
                    {{/rollBetween() result 19 20}}
                {{/rollBetween() naming 2 2}}
                {{#rollBetween() naming 0 0}}
                    {{#rollBetween() result 3 20}}
                        {{#rollBetween() fk 1 1}}
                        	Keine Auswirkungen!
                        {{/rollBetween() fk 1 1}}
                        {{#rollBetween() fk 2 2}}
                        	Keine Auswirkungen!
                        {{/rollBetween() fk 2 2}}
                        {{#rollBetween() fk 0 0}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		Keine Auswirkungen!
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 0 0}}
                    {{/rollBetween() result 3 20}}
                    {{#rollBetween() result 21 35}}
                        {{#rollBetween() fk 1 1}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		Keine Auswirkungen!
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 1 1}}
                        {{#rollBetween() fk 2 2}}
                        	Keine Auswirkungen!
                        {{/rollBetween() fk 2 2}}
                        {{#rollBetween() fk 0 0}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i> und <i>Glaubenskrise 1</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 0 0}}
                    {{/rollBetween() result 21 35}}
                    {{#rollBetween() result 36 70}}
                        {{#rollBetween() fk 1 1}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i> und <i>Glaubenskrise 1</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 1 1}}
                        {{#rollBetween() fk 2 2}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		Keine Auswirkungen!
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 2 2}}
                        {{#rollBetween() fk 0 0}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 1</i> und <i>Glaubenskrise 2</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i> und <i>Glaubenskrise 1</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 0 0}}
                    {{/rollBetween() result 36 70}}
                    {{#rollBetween() result 71 100}}
                        {{#rollBetween() fk 1 1}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 1</i> und <i>Glaubenskrise 2</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i> und <i>Glaubenskrise 1</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 1 1}}
                        {{#rollBetween() fk 2 2}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i> und <i>Glaubenskrise 1</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 2 2}}
                        {{#rollBetween() fk 0 0}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 2</i> und <i>Glaubenskrise 2</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 0 0}}
                    {{/rollBetween() result 71 100}}
                    {{#rollBetween() result 101 130}}
                        {{#rollBetween() fk 1 1}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 2</i> und <i>Glaubenskrise 2</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 1 1}}
                        {{#rollBetween() fk 2 2}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 1</i> und <i>Glaubenskrise 2</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i> und <i>Glaubenskrise 1</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 2 2}}
                        {{#rollBetween() fk 0 0}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Angsterf&uuml;llt</i>, <i>Ersch&ouml;pft 3</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 0 0}}
                    {{/rollBetween() result 101 130}}
                    {{#rollGreater() result 130}}
                        {{#rollBetween() fk 1 1}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Angsterf&uuml;llt</i>, <i>Ersch&ouml;pft 3</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 1 1}}
                        {{#rollBetween() fk 2 2}}
                       		{{#rollBetween() sbm 0 0}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Ersch&ouml;pft 2</i>, <i>Benommen 1</i> und <i>Glaubenskrise 2</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 2 2}}
                        {{#rollBetween() fk 0 0}}
                        	{{#rollBetween() sbm 0 0}}
                        		<i>Angsterf&uuml;llt</i>, <i>Ersch&ouml;pft 4</i> und <i>Benommen 3</i>. <br><br>Keine Zauber bis zur n&aauml;chsten <b>Ruhephase</b>
                        	{{/rollBetween() sbm 0 0}}
                        	{{#rollBetween() sbm 1 1}}
                        		<i>Angsterf&uuml;llt</i>, <i>Ersch&ouml;pft 3</i>, <i>Benommen 2</i> und <i>Glaubenskrise 3</i>
                        	{{/rollBetween() sbm 1 1}}
                        {{/rollBetween() fk 0 0}}
                    {{/rollGreater() result 130}}
                {{/rollBetween() naming 0 0}}
            </td>
            <!--{{#rollBetween() naming 1 1}}
                <tr>
                    <td>Fokus: {{fokus}}</td>
                </tr>
                <tr>
                    <td>Neg. EG: {{computed:neg}}</td>
                </tr>
            {{/rollBetween() naming 1 1}}
            {{#rollBetween() naming 0 0}}
                <tr>
                    <td>Fokus: {{fokus}}</td>
                </tr>
                <tr>
                    <td>Neg. EG: {{computed:neg}}</td>
                </tr>
            {{/rollBetween() naming 0 0}} -->
        </tr> 
    </table>
</rolltemplate>

<rolltemplate class="sheet-rolltemplate-splittermond_damage">
    <table class="sheet-rolltemplate-table-damage">
        <tr><th colspan="2" class="sheet-header" align="center"><b>{{charactername}}</b></th></tr>
        <tr><td colspan="2" class="sheet-header" align="center">{{name}}</td></tr>
        <tr><td width="90%"><b>Schaden</b></td><td width="10%" align="center"><b>{{damage}}</b></td></tr>
    </table>
</rolltemplate>

<!-- worker scripts -->

<script type="text/worker">
on('sheet:opened',function(){
    getAttrs(["epgesamt", "abilityroll", "skillmasterymigrationisexecuted"], function(v) {
        if (v.epgesamt == 0)
        {
            setAttrs({
                epgesamt: 15
            });
        }
        let update = {};
        if (v.abilityroll == ""){
            update["abilityroll"] = "&{template:splittermond_generic}";
        }
        setAttrs(update);

        if (v.skillmasterymigrationisexecuted == 0) {
            migrateFightAndMagicSkillMastery();
        }
    });
	getSectionIDs("fertigkeitennsc", function(idarray) {
        if (idarray.length == 0) {
            var newrowattrs = {};    
            var newrowid = generateRowID();
            newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitnsc"] = "akrobatik";
            newrowid = generateRowID();
            newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitnsc"] = "athletik";
            newrowid = generateRowID();
            newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitnsc"] = "entschlossenheit";
            newrowid = generateRowID();
            newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitnsc"] = "heimlichkeit";
            newrowid = generateRowID();
            newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitnsc"] = "wahrnehmung";
            newrowid = generateRowID();
            newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitnsc"] = "zaehigkeit";
            setAttrs(newrowattrs);
        }
    });
    transferRessources();
});

function migrateFightAndMagicSkillMastery() {
    console.log("Starting migration of skill mastery: splitting generally, fighting and magic skill masteries to own mastery sections");
    let fightSkillList = ["handgemenge", "hiebwaffen", "kettenwaffen", "klingenwaffen", "stangenwaffen", "schusswaffen", "wurfwaffen"];
    let magicSkillList = ["bannmagie", "beherrschungsmagie", "bewegungsmagie", "erkenntnismagie", "felsmagie", "feuermagie", "heilmagie", "illusionsmagie", "kampfmagie", "lichtmagie", "naturmagie", "schattenmagie", "schicksalsmagie", "schutzmagie", "staerkungsmagie", "todesmagie", "verwandlungsmagie", "wassermagie", "windmagie"];

    getSectionIDs("repeating_meisterschaften", function(idarray) {
        _.each(idarray, function(currentID, i) {
            const meisterschaftsname = "repeating_meisterschaften_" + currentID + "_meisterschaftsname";
            const meisterschaftsfertigkeit = "repeating_meisterschaften_" + currentID + "_meisterschaftsfertigkeit";
            const meisterschaftsbeschreibung = "repeating_meisterschaften_" + currentID + "_meisterschaftsbeschreibung";
            const meisterschaftsschwelle = "repeating_meisterschaften_" + currentID + "_meisterschaftsschwelle";
            const meisterschaftswirkung = "repeating_meisterschaften_" + currentID + "_meisterschaftswirkung";

            getAttrs([meisterschaftsname, meisterschaftsfertigkeit, meisterschaftsbeschreibung, meisterschaftsschwelle, meisterschaftswirkung], function(value) {
                let skillname = value[meisterschaftsfertigkeit];
                if (fightSkillList.includes(skillname) || magicSkillList.includes(skillname)) {
                    const newRowId = generateRowID();
                    const repeatingPrefix = fightSkillList.includes(skillname) ? "repeating_meisterschaftenkampf_" : "repeating_meisterschaftenmagie_";

                    setAttrs({[repeatingPrefix + newRowId + "_meisterschaftsname"] : value[meisterschaftsname]});
                    setAttrs({[repeatingPrefix + newRowId + "_meisterschaftsfertigkeit"] : skillname});
                    setAttrs({[repeatingPrefix + newRowId + "_meisterschaftsbeschreibung"] : value[meisterschaftsbeschreibung]});
                    setAttrs({[repeatingPrefix + newRowId + "_meisterschaftsschwelle"] : value[meisterschaftsschwelle]});
                    setAttrs({[repeatingPrefix + newRowId + "_meisterschaftswirkung"]: value[meisterschaftswirkung]});

                    removeRepeatingRow("repeating_meisterschaften_" + idarray[i]);  
                }
            });
        });
    });
    
    setAttrs({"skillmasterymigrationisexecuted" : 1});
}

function transferRessources() {
    getAttrs(["resourceupdated"], function(v) {
       if (+v.resourceupdated == 0) {
           getAttrs(["ansehenswert", "kontaktewert", "standwert", "vermoegenswert"], function(f) {
                let newrowattrs = {};    
                let newrowid = generateRowID();
                let ansehen = +f.ansehenswert || 0;
                let kontakte = +f.kontaktewert || 0;
                let stand = +f.standwert || 0;
                let vermoegen = +f.vermoegenswert || 0;
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcename"] = "Ansehen";
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcevalue"] = +ansehen;
                newrowid = generateRowID();
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcename"] = "Kontakte";
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcevalue"] = +kontakte;
                newrowid = generateRowID();
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcename"] = "Stand";
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcevalue"] = +stand;
                newrowid = generateRowID();
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcename"] = "Verm&ouml;gen";
                newrowattrs["repeating_ressources_" + newrowid + "_ressourcevalue"] = +vermoegen;
                setAttrs(newrowattrs);
                setAttrs({resourceupdated: 1});
           });
       } else {
           return;
       }
    });
}


on("change:epeingesetzt change:epgesamt change:hgmod_act change:hgmod2 change:hgmod3 change:hgmod4", function() {
    getAttrs(["epeingesetzt", "epgesamt", "hgmod_act", "hgmod2", "hgmod3", "hgmod4"], function(values) {
      setAttrs({
          epoffen: values.epgesamt - values.epeingesetzt
        });
        let hg = 1;
        let bonus = 0;
        let sp = 0;
        let hgmod2 = 100; 
        let hgmod3 = 300; 
        let hgmod4 = 600; 
        if (+values.hgmod_act == 1) {
            hgmod2 = values.hgmod2;
            hgmod3 = values.hgmod3;
            hgmod4 = values.hgmod4;
        }
        if (values.epeingesetzt >= +hgmod2 && values.epeingesetzt < +hgmod3)
        {
          hg = 2;
          bonus = 2;
          sp = 1;
        } 
        if (values.epeingesetzt >= +hgmod3 && values.epeingesetzt < +hgmod4)
        {
          hg = 3;
          bonus = 4;
          sp = 2;
        }
        if (values.epeingesetzt >= +hgmod4)
        {
          hg = 4;
          bonus = 6;
          sp = 3;
        }
        setAttrs({
            epoffen: values.epgesamt - values.epeingesetzt,
            heldengrad: hg,
            hiddenvtdhg: bonus,
            hiddenkwhg: bonus,
            hiddengwhg: bonus,
            hiddensplitterpunktehg: sp
        });
   });
});

on("change:verteidigung change:geistigerwiderstand change:koerperlicherwiderstand change:schadensreduktion", function() {
    getAttrs(["verteidigung", "geistigerwiderstand", "koerperlicherwiderstand", "schadensreduktion"], function(v) {
        let update = {};
        update["kwoben"] = +v.koerperlicherwiderstand; 
        update["gwoben"] = +v.geistigerwiderstand; 
        update["vtdoben"] = +v.verteidigung; 
        update["sroben"] = +v.schadensreduktion;
        setAttrs(update);
    });
});    

on("change:beweglichkeit change:groessenklasse change:konstitution change:intuition change:mystik change:willenskraft change:verstand change:staerke change:ausstrahlung change:hiddengsw change:hiddenini change:hiddenlp change:hiddenfokus change:hiddengw change:hiddengwhg change:hiddenkw change:hiddenkwhg change:hiddenvtdhg change:schadensreduktionmod change:geschwindigkeitmod change:initiativemod change:lebenspunktemod change:fokusmod change:verteidigungmod change:koerperlicherwiderstandmod change:geistigerwiderstandmod change:bannmagiepunkte change:beherrschungsmagiepunkte change:bewegungsmagiepunkte change:erkenntnismagiepunkte change:felsmagiepunkte change:feuermagiepunkte change:heilungsmagiepunkte change:illusionsmagiepunkte change:kampfmagiepunkte change:lichtmagiepunkte change:naturmagiepunkte change:schattenmagiepunkte change:schicksalsmagiepunkte change:schutzmagiepunkte change:staerkungsmagiepunkte change:todesmagiepunkte change:verwandlungsmagiepunkte change:wassermagiepunkte change:windmagiepunkte change:hiddenvtdruestungschild change:hiddengswbe change:hiddeninibr change:hiddenvtdgr change:hiddengswag change:hiddengswspr change:erschoepft change:lahm change:hiddenvtdbonus change:hiddengwbonus change:hiddenkwbonus change:hiddenschadensreduktionfruehstueck change:hiddenallwiderstand change:hiddenmodini change:hiddenmodgsw", function() {
   getAttrs(["beweglichkeit", "groessenklasse", "konstitution", "intuition", "mystik", "willenskraft", "verstand", "staerke", "ausstrahlung", "hiddengsw", "hiddenini", "hiddenlp", "hiddenfokus", "hiddengw", "hiddengwhg", "hiddenkw", "hiddenkwhg", "hiddenvtdhg", "schadensreduktionmod", "geschwindigkeitmod", "initiativemod", "lebenspunktemod", "fokusmod", "verteidigungmod", "koerperlicherwiderstandmod", "geistigerwiderstandmod", "arkanekundepunkte", "bannmagiepunkte", "beherrschungsmagiepunkte", "bewegungsmagiepunkte", "erkenntnismagiepunkte", "felsmagiepunkte", "feuermagiepunkte", "heilungsmagiepunkte", "illusionsmagiepunkte", "kampfmagiepunkte", "lichtmagiepunkte", "naturmagiepunkte", "schattenmagiepunkte", "schicksalsmagiepunkte", "schutzmagiepunkte", "staerkungsmagiepunkte", "todesmagiepunkte", "verwandlungsmagiepunkte", "wassermagiepunkte", "windmagiepunkte", "hiddenvtdruestungschild", "gesamtsr", "hiddengswbe", "hiddeninibr", "hiddenvtdgr", "hiddengswag", "hiddengswspr", "erschoepft", "lahm", "hiddenvtdbonus", "hiddenkwbonus", "hiddengwbonus", "hiddenschadensreduktionfruehstueck", "hiddenallwiderstand", "hiddenmodini", "hiddenmodgsw"], function(values) {
      setAttrs({
          geschwindigkeit: +values.beweglichkeit + +values.groessenklasse + +values.geschwindigkeitmod + +values.hiddengsw + +values.hiddengswag + +values.hiddengswspr + +values.hiddenmodgsw - +values.hiddengswbe - +values.erschoepft - +values.lahm,
          lebenspunkte: +values.groessenklasse + +values.konstitution + +values.lebenspunktemod + +values.hiddenlp,
          lebenspunkte_t_max: (+values.groessenklasse + +values.konstitution + +values.lebenspunktemod + +values.hiddenlp) * 5,
          initiative: 10 - (+values.intuition + +values.hiddenini + +values.hiddeninibr + +values.hiddenmodini) + +values.initiativemod + +values.erschoepft,
          fokus: (+values.mystik + +values.willenskraft) * 2 + +values.fokusmod + +values.hiddenfokus,
          fokus_t_max: (+values.mystik + +values.willenskraft) * 2 + +values.fokusmod + +values.hiddenfokus,
          koerperlicherwiderstand: 12 + +values.konstitution + +values.willenskraft + +values.koerperlicherwiderstandmod + +values.hiddenkw + +values.hiddenkwhg + +values.hiddenkwbonus + +values.hiddenallwiderstand,
          geistigerwiderstand: 12 + +values.verstand + +values.willenskraft + +values.geistigerwiderstandmod + +values.hiddengw + +values.hiddengwhg + +values.hiddengwbonus + +values.hiddenallwiderstand,
          verteidigung: 12 + +values.beweglichkeit + +values.staerke + ((5-values.groessenklasse)*2) + +values.verteidigungmod + +values.hiddenvtdgr + +values.hiddenvtdhg + +values.hiddenvtdruestungschild + +values.hiddenvtdbonus + +values.hiddenallwiderstand,
          schadensreduktion: +values.gesamtsr + +values.schadensreduktionmod + +values.hiddenschadensreduktionfruehstueck,
          akrobatik1: values.beweglichkeit,
          akrobatik2: values.staerke,
          alchemie1: values.mystik,
          alchemie2: values.verstand,
          anfuehren1: values.ausstrahlung,
          anfuehren2: values.willenskraft,
          arkanekunde1: values.mystik,
          arkanekunde2: values.verstand,
          athletik1: values.beweglichkeit,
          athletik2: values.staerke,
          darbietung1: values.ausstrahlung,
          darbietung2: values.willenskraft,
          diplomatie1: values.ausstrahlung,
          diplomatie2: values.verstand,
          edelhandwerk1: values.intuition,
          edelhandwerk2: values.verstand,
          empathie1: values.intuition,
          empathie2: values.verstand,
          entschlossenheit1: values.ausstrahlung,
          entschlossenheit2: values.willenskraft,
          fingerfertigkeit1: values.ausstrahlung,
          fingerfertigkeit2: values.beweglichkeit,
          geschichteundmythen1: values.mystik,
          geschichteundmythen2: values.verstand,
          handwerk1: values.konstitution,
          handwerk2: values.verstand,
          heilkunde1: values.intuition,
          heilkunde2: values.verstand,
          heimlichkeit1: values.beweglichkeit,
          heimlichkeit2: values.intuition,
          heimlichkeitgk: 5 - +values.groessenklasse,
          jagdkunst1: values.konstitution,
          jagdkunst2: values.verstand,
          laenderkunde1: values.intuition,
          laenderkunde2: values.verstand,
          naturkunde1: values.intuition,
          naturkunde2: values.verstand,
          redegewandtheit1: values.ausstrahlung,
          redegewandtheit2: values.willenskraft,
          schloesserundfallen1: values.intuition,
          schloesserundfallen2: values.beweglichkeit,
          schwimmen1: values.staerke,
          schwimmen2: values.konstitution,
          seefahrt1: values.beweglichkeit,
          seefahrt2: values.konstitution,
          strassenkunde1: values.ausstrahlung,
          strassenkunde2: values.intuition,
          tierfuehrung1: values.ausstrahlung,
          tierfuehrung2: values.beweglichkeit,
          ueberleben1: values.intuition,
          ueberleben2: values.konstitution,
          wahrnehmung1: values.intuition,
          wahrnehmung2: values.willenskraft,
          zaehigkeit1: values.konstitution,
          zaehigkeit2: values.willenskraft,
          bannmagie1: values.mystik,
          bannmagie2: values.willenskraft,
          bannmagie: +values.mystik + +values.willenskraft + +values.bannmagiepunkte,
          beherrschungsmagie1: values.mystik,
          beherrschungsmagie2: values.willenskraft,
          beherrschungsmagie: +values.mystik + +values.willenskraft + +values.beherrschungsmagiepunkte,
          bewegungsmagie1: values.mystik,
          bewegungsmagie2: values.beweglichkeit,
          bewegungsmagie: +values.mystik + +values.beweglichkeit + +values.bewegungsmagiepunkte,
          erkenntnismagie1: values.mystik,
          erkenntnismagie2: values.verstand,
          erkenntnismagie: +values.mystik + +values.verstand + +values.erkenntnismagiepunkte,
          felsmagie1: values.mystik,
          felsmagie2: values.konstitution,
          felsmagie: +values.mystik + +values.konstitution + +values.felsmagiepunkte,
          feuermagie1: values.mystik,
          feuermagie2: values.ausstrahlung,
          feuermagie: +values.mystik + +values.ausstrahlung + +values.feuermagiepunkte,
          heilungsmagie1: values.mystik,
          heilungsmagie2: values.ausstrahlung,
          heilungsmagie: +values.mystik + +values.ausstrahlung + +values.heilungsmagiepunkte,
          illusionsmagie1: values.mystik,
          illusionsmagie2: values.ausstrahlung,
          illusionsmagie: +values.mystik + +values.ausstrahlung + +values.illusionsmagiepunkte,
          kampfmagie1: values.mystik,
          kampfmagie2: values.staerke,
          kampfmagie: +values.mystik + +values.staerke + +values.kampfmagiepunkte,
          lichtmagie1: values.mystik,
          lichtmagie2: values.ausstrahlung,
          lichtmagie: +values.mystik + +values.ausstrahlung + +values.lichtmagiepunkte,
          naturmagie1: values.mystik,
          naturmagie2: values.ausstrahlung,
          naturmagie: +values.mystik + +values.ausstrahlung + +values.naturmagiepunkte,
          schattenmagie1: values.mystik,
          schattenmagie2: values.intuition,
          schattenmagie: +values.mystik + +values.intuition + +values.schattenmagiepunkte,
          schicksalsmagie1: values.mystik,
          schicksalsmagie2: values.ausstrahlung,
          schicksalsmagie: +values.mystik + +values.ausstrahlung + +values.schicksalsmagiepunkte,
          schutzmagie1: values.mystik,
          schutzmagie2: values.ausstrahlung,
          schutzmagie: +values.mystik + +values.ausstrahlung + +values.schutzmagiepunkte,
          staerkungsmagie1: values.mystik,
          staerkungsmagie2: values.staerke,
          staerkungsmagie: +values.mystik + +values.staerke + +values.staerkungsmagiepunkte,
          todesmagie1: values.mystik,
          todesmagie2: values.verstand,
          todesmagie: +values.mystik + +values.verstand + +values.todesmagiepunkte,
          verwandlungsmagie1: values.mystik,
          verwandlungsmagie2: values.konstitution,
          verwandlungsmagie: +values.mystik + +values.konstitution + +values.verwandlungsmagiepunkte,
          wassermagie1: values.mystik,
          wassermagie2: values.intuition,
          wassermagie: +values.mystik + +values.intuition + +values.wassermagiepunkte,
          windmagie1: values.mystik,
          windmagie2: values.verstand,
          windmagie: +values.mystik + +values.verstand + +values.windmagiepunkte
      });
   });
   getAttrs(["beweglichkeit", "groessenklasse", "geschwindigkeitmod", "hiddengsw", "hiddengswag", "hiddengswspr", "hiddenmodgsw", "hiddengswbe", "erschoepft", "lahm"], function(values) {
        let update = {};
        let basis = +values.beweglichkeit + +values.groessenklasse;
        let mod = +values.geschwindigkeitmod;
        let flink = +values.hiddengsw;
        let arkaneverteidigung = +values.hiddengswag;
        let sprinter = +values.hiddengswspr;
        let behinderung = +values.hiddengswbe;
        let modgsw = +values.hiddenmodgsw;
        let erschoepft = +values.erschoepft;
        let lahm = +values.lahm;
        let tooltip = "Basis: " + basis;
        if (+mod > 0) {
            tooltip += "\n + " + +mod + " (Mod.)";
        }
        if (+flink > 0) {
            tooltip += "\n + " + +flink + " (Flink)";
        }
        if (+arkaneverteidigung > 0) {
            tooltip += "\n + " + +arkaneverteidigung + " (Arkane Geschwindigkeit)";
        }
        if (+sprinter > 0) {
            tooltip += "\n + " + +sprinter + " (Sprinter)";
        }
        if (+modgsw > 0) {
            tooltip += "\n + " + +modgsw + " (Modifikator: GSW)";
        }
        if (+behinderung > 0) {
            tooltip += "\n - " + +behinderung + " (Behinderung)";
        }
        if (+erschoepft > 0) {
            tooltip += "\n - " + +erschoepft + " (Ersch&ouml;pft)";
        }
        if (+lahm > 0) {
            tooltip += "\n - " + +lahm + " (Lahm)";
        }
        update["gswtooltip"] = tooltip;
        setAttrs(update);
   });
   getAttrs(["beweglichkeit", "staerke", "groessenklasse", "verteidigungmod", "hiddenvtdgr", "hiddenvtdhg", "hiddenvtdruestungschild", "hiddenvtdbonus", "hiddenallwiderstand"], function(values) {
        let update = {};
        let basis = 12 + +values.beweglichkeit + +values.staerke + ((5-values.groessenklasse)*2);
        let mod = +values.verteidigungmod;
        let gutereflexe = +values.hiddenvtdgr;
        let hg = +values.hiddenvtdhg;
        let ruestungschild = +values.hiddenvtdruestungschild;
        let modivtd = +values.hiddenvtdbonus;
        let modiallew = +values.hiddenallwiderstand;
        let tooltip = "Basis: " + basis;
        if (+mod > 0) {
            tooltip += "\n + " + +mod + " (Mod.)";
        }
        if (+gutereflexe > 0) {
            tooltip += "\n + " + +gutereflexe + " (Gute Reflexe)";
        }
        if (+hg > 0) {
            tooltip += "\n + " + +hg + " (Heldengrad)";
        }
        if (+ruestungschild > 0) {
            tooltip += "\n + " + +ruestungschild + " (R&uuml;stungen+Schild)";
        }
        if (+modivtd > 0) {
            tooltip += "\n + " + +modivtd + " (Modifikator VTD)";
        }
        if (+modiallew > 0) {
            tooltip += "\n + " + +modiallew + " (Modifikator: Alle Widerstände)";
        }
        update["vtdtooltip"] = tooltip;
        setAttrs(update);
   });
   getAttrs(["intuition", "hiddenini", "hiddeninibr", "initiativemod", "erschoepft", "hiddenmodini"], function(values) {
        let update = {};
        let basis = 10 - +values.intuition;
        let vi = +values.hiddenini;
        let br = +values.hiddeninibr;
        let mod = +values.initiativemod;
        let erschoepft = +values.erschoepft;
        let modini = +values.hiddenmodini;
        let tooltip = "10 - Intuition: " + basis;
        if (+vi) {
            tooltip += "\n - " + +vr + " (Verbesserte Initiative)";
        }
        if (+br > 0) {
            tooltip += "\n - " + +br + " (Blitzreflexe)";
        }
        if (+modini > 0) {
            tooltip += "\n - " + +modini + " (Modifikator: INI)";
        }
        if (+mod > 0) {
            tooltip += "\n + " + +mod + " (Mod.)";
        }
        if (+erschoepft > 0) {
            tooltip += "\n + " + +erschoepft + " (Ersch&ouml;pft)";
        }
        update["initooltip"] = tooltip;
        setAttrs(update);
   });
   getAttrs(["groessenklasse", "konstitution", "hiddeninibr", "lebenspunktemod", "hiddenlp"], function(values) {
        let update = {};
        let basis = +values.groessenklasse + +values.konstitution;
        let mod = +values.lebenspunktemod;
        let robust = +values.hiddenlp;
        let tooltip = "Basis: " + basis;
        if (+mod > 0) {
            tooltip += "\n + " + +mod + " (Mod.)";
        }
        if (+robust > 0) {
            tooltip += "\n + " + +robust + " (Robust)";
        }
        update["lptooltip"] = tooltip;
        setAttrs(update);
   });    
   getAttrs(["mystik", "willenskraft", "fokusmod", "hiddenfokus"], function(values) {
        let update = {};
        let basis = (+values.mystik + +values.willenskraft) * 2;
        let mod = +values.fokusmod;
        let fokuspool = +values.hiddenfokus;
        let tooltip = "Basis: " + basis;
        if (+mod > 0) {
            tooltip += "\n + " + +mod + " (Mod.)";
        }
        if (+fokuspool > 0) {
            tooltip += "\n + " + +fokuspool + " (Erh. Fokuspool)";
        }
        update["fokustooltip"] = tooltip;
        setAttrs(update);
   }); 
   getAttrs(["verstand", "willenskraft", "geistigerwiderstandmod", "hiddengw", "hiddengwhg", "hiddengwbonus", "hiddenallwiderstand"], function(values) {
        let update = {};
        let basis = 12 + +values.verstand + +values.willenskraft;
        let mod = +values.geistigerwiderstandmod;
        let hohergw = +values.hiddengw;
        let hg = +values.hiddengwhg;
        let modigw = +values.hiddengwbonus;
        let modiallew = +values.hiddenallwiderstand;
        let tooltip = "Basis: " + basis;
        if (+mod > 0) {
            tooltip += "\n + " + +mod + " (Mod.)";
        }
        if (+hohergw > 0) {
            tooltip += "\n + " + +hohergw + " (Hoher GW)";
        }
        if (+hg > 0) {
            tooltip += "\n + " + +hg + " (Heldengrad)";
        }
        if (+modigw > 0) {
            tooltip += "\n + " + +modigw + " (Modifikator: GW)";
        }
        if (+modiallew > 0) {
            tooltip += "\n + " + +modiallew + " (Modifikator: Alle Widerstände)";
        }
        update["gwtooltip"] = tooltip;
        setAttrs(update);
   }); 
   getAttrs(["konstitution", "willenskraft", "koerperlicherwiderstandmod", "hiddenkw", "hiddenkwhg", "hiddenkwbonus", "hiddenallwiderstand"], function(values) {
        let update = {};
        let basis = 12 + +values.konstitution + +values.willenskraft;
        let mod = +values.koerperlicherwiderstandmod;
        let hoherkw = +values.hiddenkw;
        let hg = +values.hiddenkwhg;
        let modikw = +values.hiddenkwbonus;
        let modiallew = +values.hiddenallwiderstand;
        let tooltip = "Basis: " + basis;
        if (+mod > 0) {
            tooltip += "\n + " + +mod + " (Mod.)";
        }
        if (+hoherkw > 0) {
            tooltip += "\n + " + +hoherkw + " (Hoher KW)";
        }
        if (+hg > 0) {
            tooltip += "\n + " + +hg + " (Heldengrad)";
        }
        if (+modikw > 0) {
            tooltip += "\n + " + +modikw + " (Modifikator: KW)";
        }
        if (+modiallew > 0) {
            tooltip += "\n + " + +modiallew + " (Modifikator: Alle Widerstände)";
        }
        update["kwtooltip"] = tooltip;
        setAttrs(update);
   });
});

on("change:ausstrahlungstart change:beweglichkeitstart change:intuitionstart change:konstitutionstart change:mystikstart change:staerkestart change:verstandstart change:willenskraftstart change:heldengrad", function() {
   getAttrs(["ausstrahlungstart","beweglichkeitstart","intuitionstart","konstitutionstart","mystikstart","staerkestart","verstandstart","willenskraftstart","heldengrad"], function(values) {
      setAttrs({
          ausstrahlungmax: +values.ausstrahlungstart + +values.heldengrad,
          beweglichkeitmax: +values.beweglichkeitstart + +values.heldengrad,
          intuitionmax: +values.intuitionstart + +values.heldengrad,
          konstitutionmax: +values.konstitutionstart + +values.heldengrad,
          mystikmax: +values.mystikstart + +values.heldengrad,
          staerkemax: +values.staerkestart + +values.heldengrad,
          verstandmax: +values.verstandstart + +values.heldengrad,
          willenskraftmax: +values.willenskraftstart + +values.heldengrad
      });
   });
});

on("change:repeating_meisterschaften:meisterschaftsschwelle", function() {
    getAttrs(["repeating_meisterschaften_meisterschaftsname", "repeating_meisterschaften_meisterschaftsfertigkeit", "blitzreflexecount", "sprintercount"], function(values) {
        var name = values.repeating_meisterschaften_meisterschaftsname;
        var fertigkeit = values.repeating_meisterschaften_meisterschaftsfertigkeit;
        var update = {};
        if (name != "" && fertigkeit != "") {
            switch (name.toLowerCase()) {
                case "blitzreflexe":
                    update["blitzreflexecount"] = +values.blitzreflexecount + 1;
                    break;
                case "gute reflexe":
                    update["hiddenvtdgr"] = 1;
                    break;
                case "rüstungsträger i":
                case "rüstungsträger 1":
                    update["rt1"] = 1;
                    break;
                case "rüstungsträger ii":
                case "rüstungsträger 2":
                    update["rt2"] = 1;
                case "starker schildarm i":
                case "starker schildarm 1":
                    update["st1"] = 1;
                    break;
                case "schmerzwiderstand i":
                case "schmerzwiderstand 1":
                    update["sw1"] = 1;
                    break
                case "starker schildarm ii":
                case "starker schildarm 2":
                    update["st2"] = 1;
                    break;
                case "schmerzwiderstand ii":
                case "schmerzwiderstand 2":
                    update["sw2"] = 1;
                    break;
                case "sprinter":
                    update["sprintercount"] = +values.sprintercount + 1;
                    break;
            }
            setAttrs(update);
        }
    });
});

on("change:repeating_meisterschaftenmagie:meisterschaftsschwelle", function() {
    getAttrs(["repeating_meisterschaftenmagie_meisterschaftsname", "repeating_meisterschaftenmagie_meisterschaftsfertigkeit"], function(values) {
        var name = values.repeating_meisterschaftenmagie_meisterschaftsname;
        var fertigkeit = values.repeating_meisterschaftenmagie_meisterschaftsfertigkeit;
        var update = {};
        if (name != "" && fertigkeit != "") {
            switch (name.toLowerCase()) {
                case "arkane geschwindigkeit":
                    update["hiddengswag"] = 1;
                    break;
            }
            setAttrs(update);
        }
    });
});

on("change:repeating_staerken:staerkenwert change:repeating_staerken:staerke", function() {
   getAttrs(["repeating_staerken_staerkenwert", "repeating_staerken_staerke"], function(values) {
        var staerke = values.repeating_staerken_staerke;
        var staerkenwert = values.repeating_staerken_staerkenwert;
        var update = {};
        if (staerkenwert >= 0) {
            switch (staerke.toLowerCase()) {
                case "robust":
                    update["hiddenlp"] = +staerkenwert;
                    break;
                case "erhöhter fokuspool":
                    update["hiddenfokus"] = +staerkenwert * 5;
                    break;
                case "flink":
                    update["hiddengsw"] = +staerkenwert;
                    break;
                case "hoher geistiger widerstand":
                    update["hiddengw"] = +staerkenwert * 2;
                    break;
                case "hoher körperlicher widerstand":
                    update["hiddenkw"] = +staerkenwert * 2;
                    break
                case "natürlicher rüstungsschutz":
                    update["hiddensr"] = +staerkenwert;
                    break;
                case "verbesserte initiative":
                    update["hiddenini"] = +staerkenwert * 3;
                    break;
                case "schmerzresistenz":
                    update["schmerzresistenz"] = +staerkenwert;
                    break;
                case "zusätzliche splitterpunkte":
                    update["hiddensplitterpunkte"] = +staerkenwert * 2;
                    break;
                case "erhöhte fokusregeneration":
                    update["hiddenfokreg"] = +staerkenwert;
                    break;
                case "erhöhte lebensregeneration":
                    update["hiddenlifereg"] = +staerkenwert;
                    break;
                case "stabile magie":
                    update["hiddensbm"] = +staerkenwert;
            }
        } else if (!(staerkenwert) && (staerke != "")) {
            setAttrs({
                'repeating_staerken_staerkenwert': 1
            });
        }
        setAttrs(update);
    });
});

on("change:hiddensplitterpunkte change:hiddensplitterpunktehg", function() {
    getAttrs(["hiddensplitterpunkte", "hiddensplitterpunktehg"], function(v) {
        setAttrs({
            splitterpunktemax: 3 + +v.hiddensplitterpunkte + +v.hiddensplitterpunktehg
        });
    });
});

on("change:repeating_zauber:magieschulen change:hiddenausstrahlungmod change:hiddenbeweglichkeitmod change:hiddenintuitionmod change:hiddenkonstitutionmod change:hiddenmystikmod change:hiddenstaerkemod change:hiddenverstandmod change:hiddenwillenskraftmod change:bannmagiebonus change:beherrschungsmagiebonus change:bewegungsmagiebonus change:erkenntnismagiebonus change:felsmagiebonus change:feuermagiebonus change:heilungsmagiebonus change:illusionsmagiebonus change:kampfmagiebonus change:lichtmagiebonus change:naturmagiebonus change:schattenmagiebonus change:schicksalsmagiebonus change:schutzmagiebonus change:staerkungsmagiebonus change:todesmagiebonus change:verwandlungsmagiebonus change:wassermagiebonus change:windmagiebonus", function() {
    getSectionIDs("repeating_zauber", function(idarray) {
        if (idarray.length > 0)
        {
            var update = {};
            var skill = 0;
            var bonus = 0;
            var attr = 0;
            _.each(idarray, function(currentID, i) {
                getAttrs(["repeating_zauber_" + currentID + "_magieschulen", "arkanekunde1", "arkanekunde2", "arkanekundepunkte", "arkanekundebonus", "bannmagie", "bannmagiebonus", "beherrschungsmagie", "beherrschungsmagiebonus", "bewegungsmagie", "bewegungsmagiebonus", "erkenntnismagie", "erkenntnismagiebonus", "felsmagie", "felsmagiebonus", "feuermagie", "feuermagiebonus", "heilungsmagie", "heilungsmagiebonus", "illusionsmagie", "illusionsmagiebonus", "kampfmagie", "kampfmagiebonus", "lichtmagie", "lichtmagiebonus", "naturmagie", "naturmagiebonus", "schattenmagie", "schattenmagiebonus", "schicksalsmagie", "schicksalsmagiebonus", "schutzmagie", "schutzmagiebonus", "staerkungsmagie", "staerkungsmagiebonus", "todesmagie", "todesmagiebonus", "verwandlungsmagie", "verwandlungsmagiebonus", "wassermagie", "wassermagiebonus","windmagie", "windmagiebonus", "hiddenausstrahlungmod", "hiddenbeweglichkeitmod", "hiddenintuitionmod", "hiddenkonstitutionmod", "hiddenmystikmod", "hiddenstaerkemod", "hiddenverstandmod", "hiddenwillenskraftmod"], function(v) {
                    switch (v["repeating_zauber_" + currentID +"_magieschulen"]) {
                        case "arkanekundezauber":
                            skill = +v.arkanekunde1 + +v.arkanekunde2 + +v.arkanekundepunkte,
                            bonus = +v.arkanekundebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenverstandmod;
                            break;
                        case "bann":
                            skill = v.bannmagie;
                            bonus = v.bannmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenwillenskraftmod;
                            break;
                        case "beherrschung":
                            skill = v.beherrschungsmagie;
                            bonus = v.beherrschungsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenwillenskraftmod;
                            break;
                        case "bewegung":
                            skill = v.bewegungsmagie;
                            bonus = v.bewegungsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenbeweglichkeitmod;
                            break;
                        case "erkenntnis":
                            skill = v.erkenntnismagie;
                            bonus = v.erkenntnismagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenverstandmod;
                            break;
                        case "fels":
                            skill = v.felsmagie;
                            bonus = v.felsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenkonstitutionmod;
                            break;
                        case "feuer":
                            skill = v.feuermagie;
                            bonus = v.feuermagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenausstrahlungmod;
                            break;
                        case "heilung":
                            skill = v.heilungsmagie;
                            bonus = v.heilungsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenausstrahlungmod;
                            break;
                        case "illusion":
                            skill = v.illusionsmagie;
                            bonus = v.illusionsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenausstrahlungmod;
                            break;
                        case "kampf":
                            skill = v.kampfmagie;
                            bonus = v.kampfmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenstaerkemod;
                            break;
                        case "licht":
                            skill = v.lichtmagie;
                            bonus = v.lichtmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenausstrahlungmod;
                            break;
                        case "natur":
                            skill = v.naturmagie;
                            bonus = v.naturmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenausstrahlungmod;
                            break;
                        case "schatten":
                            skill = v.schattenmagie;
                            bonus = v.schattenmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenintuitionmod;
                            break;
                        case "schicksal":
                            skill = v.schicksalsmagie;
                            bonus = v.schicksalsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenausstrahlungmod;
                            break;
                        case "schutz":
                            skill = v.schutzmagie;
                            bonus = v.schutzmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenausstrahlungmod;
                            break;
                        case "staerkung":
                            skill = v.staerkungsmagie;
                            bonus = v.staerkungsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenstaerkemod;
                            break;
                        case "tod":
                            skill = v.todesmagie;
                            bonus = v.todesmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenverstandmod;
                            break;
                        case "verwandlung":
                            skill = v.verwandlungsmagie;
                            bonus = v.verwandlungsmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenkonstitutionmod;
                            break;
                        case "wasser":
                            skill = v.wassermagie;
                            bonus = v.wassermagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenverstandmod;
                            break;
                        case "wind":
                            skill = v.windmagie;
                            bonus = v.windmagiebonus;
                            attr = +v.hiddenmystikmod + +v.hiddenverstandmod;
                            break;
                    }
                    update["repeating_zauber_" + currentID + "_zauberwert"] = +skill;
                    update["repeating_zauber_" + currentID + "_hiddenmod"] = +bonus;
                    update["repeating_zauber_" + currentID + "_zauberattrmod"] = +attr;
                    setAttrs(update);
                });
            });
            
        }
    });
});

on("change:repeating_nahkampfwaffen:waffenskill change:repeating_nahkampfwaffen:waffenattr1 change:repeating_nahkampfwaffen:waffenattr2 change:repeating_fernkampfwaffen:waffenskillfern change:repeating_fernkampfwaffen:waffenattr1fern change:repeating_fernkampfwaffen:waffenattr2fern change:handgemengepunkte change:handgemengebonus change:hiebwaffenpunkte change:hiebwaffenbonus change:kettenwaffenpunkte change:kettenwaffenbonus change:klingenwaffenpunkte change:klingenwaffenbonus change:stangenwaffenpunkte change:stangenwaffenbonus change:schusswaffenpunkte change:schusswaffenbonus change:wurfwaffenpunkte change:wurfwaffenbonus change:ausstrahlung change:beweglichkeit change:intuition change:konstitution change:mystik change:staerke change:verstand change:willenskraft change:hiddenausstrahlung change:hiddenbeweglichkeit change:hiddenintuition change:hiddenkonstitution change:hiddenmystik change:hiddenstaerke change:hiddenverstand change:hiddenwillenskraft change:hiddenausstrahlungmod change:hiddenbeweglichkeitmod change:hiddenintuitionmod change:hiddenkonstitutionmod change:hiddenmystikmod change:hiddenstaerkemod change:hiddenverstandmod change:hiddenwillenskraftmod", function() {
    
   
    //Globally used Attrs 
    let baseAttr = getAttrsAsync(["ausstrahlung", "beweglichkeit", "intuition", "konstitution", "mystik", "staerke", "verstand", "willenskraft", "hiddenausstrahlung", "hiddenbeweglichkeit", "hiddenintuition", "hiddenkonstitution", "hiddenmystik", "hiddenstaerke", "hiddenverstand", "hiddenwillenskraft", "hiddenausstrahlungmod", "hiddenbeweglichkeitmod", "hiddenintuitionmod", "hiddenkonstitutionmod", "hiddenmystikmod", "hiddenstaerkemod", "hiddenverstandmod", "hiddenwillenskraftmod"]);
    let nhkAttr = getAttrsAsync(["handgemengepunkte", "handgemengebonus", "hiebwaffenpunkte", "hiebwaffenbonus", "kettenwaffenpunkte", "kettenwaffenbonus", "klingenwaffenpunkte", "klingenwaffenbonus", "stangenwaffenpunkte", "stangenwaffenbonus"]);
    let fnkAttr = getAttrsAsync(["schusswaffenpunkte", "schusswaffenbonus", "wurfwaffenpunkte", "wurfwaffenbonus", "bannmagiepunkte", "bannmagiebonus", "beherrschungsmagiepunkte", "beherrschungsmagiebonus", "bewegungsmagiepunkte", "bewegungsmagiebonus", "erkenntnismagiepunkte", "erkenntnismagiebonus", "felsmagiepunkte", "felsmagiebonus", "feuermagiepunkte", "feuermagiebonus", "heilungsmagiepunkte", "heilungsmagiebonus", "illusionsmagiepunkte", "illusionsmagiebonus", "kampfmagiepunkte", "kampfmagiebonus", "lichtmagiepunkte", "lichtmagiebonus", "naturmagiepunkte", "naturmagiebonus", "schattenmagiepunkte", "schattenmagiebonus", "schicksalsmagiepunkte", "schicksalsmagiebonus", "schutzmagiepunkte", "schutzmagiebonus", "staerkungsmagiepunkte", "staerkungsmagiebonus", "todesmagiepunkte", "todesmagiebonus", "verwandlungsmagiepunkte", "verwandlungsmagiebonus", "wassermagiepunkte", "wassermagiebonus", "windmagiepunkte", "windmagiebonus", "arkanekundepunkte", "arkanekundebonus"]);


    let nhkMastery = new Promise(async function(resolve, reject){

        let idsArray = await getSectionIDsAsync("repeating_meisterschaftenkampf");
            
        // Map Category, name, value
        let requestArray = [];
        let resultObj = {};
        for(id of idsArray) {
            requestArray.push("repeating_meisterschaftenkampf_" + id + "_meisterschaftsname");
            requestArray.push("repeating_meisterschaftenkampf_" + id + "_meisterschaftsfertigkeit");
            requestArray.push("repeating_meisterschaftenkampf_" + id + "_meisterschaftsschwelle");
        }

        let masteryValues = await getAttrsAsync(requestArray);

        for(id of idsArray) {
        
            let name = masteryValues["repeating_meisterschaftenkampf_" + id + "_meisterschaftsname"];
            let ability = masteryValues["repeating_meisterschaftenkampf_" + id + "_meisterschaftsfertigkeit"];
            let value = masteryValues["repeating_meisterschaftenkampf_" + id + "_meisterschaftsschwelle"];
           
            
            var namesArray = [];
            var valuesArray = [];
            try {
                namesArray = resultObj[ability].names.concat([name]);
            } catch (error) {
                namesArray = [name];
            }
     
            try {
                valuesArray = resultObj[ability].values.concat([+value]);
            } catch (error) {
                valuesArray = [+value];
            }
     

            resultObj[ability] = {names: namesArray, values: valuesArray};
    

        }
        
        return resolve(resultObj);
    });

    
   

    // Nahkampfwaffen
    getSectionIDs("repeating_nahkampfwaffen", async function(idarray) {
       


        if (idarray.length > 0)
        {
            _.each(idarray, async function(currentID, i) {
                let attrmod = 0;
                var temp1 = 0;
                var temp2 = 0;
                var temp3 = 0; 
                var temp4 = 0;

                getAttrs(["repeating_nahkampfwaffen_" + currentID +"_waffenname", "repeating_nahkampfwaffen_" + currentID +"_waffenskill", "repeating_nahkampfwaffen_" + currentID +"_waffenattr1", "repeating_nahkampfwaffen_" + currentID +"_waffenattr2"], async function(v) { 

                    
                    let promiseAwait = await Promise.all([baseAttr, nhkAttr, nhkMastery]);
                    //debugger; Promise.allSettled()
                    [baseAttr, nhkAttr, nhkMastery] = promiseAwait;

                    var name = v["repeating_nahkampfwaffen_" + currentID +"_waffenname"];
                    
                    var skill = v["repeating_nahkampfwaffen_" + currentID +"_waffenskill"];
                    var attr1 = v["repeating_nahkampfwaffen_" + currentID +"_waffenattr1"];
                    var attr2 = v["repeating_nahkampfwaffen_" + currentID +"_waffenattr2"];
                    var update = {};
                    
                    var index = 0;
                    
                    
                    try {
                        index = nhkMastery[skill].names.findIndex(word => ~name.split(" ").indexOf(word));
                        temp4 = (index>=0) ? nhkMastery[skill].values[index] : 0;
                    } catch (e) {
                    
                    }
                    
                   
                    switch (skill) {
                        case "hiebwaffen":
                            temp1 = +nhkAttr.hiebwaffenpunkte + +nhkAttr.hiebwaffenbonus;
                            break;
                        case "handgemenge":
                            temp1 = +nhkAttr.handgemengepunkte + +nhkAttr.handgemengebonus;
                            break;
                        case "kettenwaffen":
                            temp1 = +nhkAttr.kettenwaffenpunkte + +nhkAttr.kettenwaffenbonus;
                            break;
                        case "klingenwaffen":
                            temp1 = +nhkAttr.klingenwaffenpunkte + +nhkAttr.klingenwaffenbonus;
                            break;
                        case "stangenwaffen":
                            temp1 = +nhkAttr.stangenwaffenpunkte + +nhkAttr.stangenwaffenbonus;
                            break; 
                    }
                    switch (attr1) {
                        case "aus":
                            temp2 = +baseAttr.ausstrahlung + +baseAttr.hiddenausstrahlung;
                            attrmod += baseAttr.hiddenausstrahlungmod;
                            break;
                        case "bew":
                            temp2 = +baseAttr.beweglichkeit + +baseAttr.hiddenbeweglichkeit;
                            attrmod += baseAttr.hiddenbeweglichkeitmod;
                            break;
                        case "int":
                            temp2 = +baseAttr.intuition + +baseAttr.hiddenintuition; 
                            attrmod += baseAttr.hiddenintuitionmod;
                            break;
                        case "kon":
                            temp2 = +baseAttr.konstitution + +baseAttr.hiddenkonstitution; 
                            attrmod += baseAttr.hiddenkonstitutionmod;
                            break;
                        case "mys":
                            temp2 = +baseAttr.mystik + +baseAttr.hiddenmystik; 
                            attrmod += baseAttr.hiddenmystikmod;
                            break;
                        case "stae":
                            temp2 = +baseAttr.staerke + +baseAttr.hiddenstaerke; 
                            attrmod += baseAttr.hiddenstaerkemod
                            break;
                        case "ver":
                            temp2 = +baseAttr.verstand + +baseAttr.hiddenverstand; 
                            attrmod += baseAttr.hiddenverstandmod;
                            break;
                        case "wil":
                            temp2 = +baseAttr.willenskraft + +baseAttr.hiddenwillenskraft;
                            attrmod += baseAttr.hiddenwillenskraftmod;
                            break;
                    }
                    switch (attr2) {
                        case "aus":
                            temp3 = +baseAttr.ausstrahlung + +baseAttr.hiddenausstrahlung;
                            attrmod += baseAttr.hiddenausstrahlungmod;
                            break;
                        case "bew":
                            temp3 = +baseAttr.beweglichkeit + +baseAttr.hiddenbeweglichkeit;
                            attrmod += baseAttr.hiddenbeweglichkeitmod;
                            break;
                        case "int":
                            temp3 = +baseAttr.intuition + +baseAttr.hiddenintuition;
                            attrmod += baseAttr.hiddenintuitionmod;
                            break;
                        case "kon":
                            temp3 = +baseAttr.konstitution + +baseAttr.hiddenkonstitution; 
                            attrmod += baseAttr.hiddenkonstitutionmod;
                            break;
                        case "mys":
                            temp3 = +baseAttr.mystik + +baseAttr.hiddenmystik;
                            attrmod += baseAttr.hiddenmystikmod;
                            break;
                        case "stae":
                            temp3 = +baseAttr.staerke + +baseAttr.hiddenstaerke; 
                            attrmod += baseAttr.hiddenstaerkemod
                            break;
                        case "ver":
                            temp3 = +baseAttr.verstand + +baseAttr.hiddenverstand;
                            attrmod += baseAttr.hiddenverstandmod;
                            break;
                        case "wil":
                            temp3 = +baseAttr.willenskraft + +baseAttr.hiddenwillenskraft;
                            attrmod += baseAttr.hiddenwillenskraftmod;
                            break;
                    }
                    update["repeating_nahkampfwaffen_" + currentID + "_waffenwert"] = +temp1 + +temp2 + +temp3 + +temp4;
                    update["repeating_nahkampfwaffen_" + currentID + "_nahwaffenattrmod"] = +attrmod;
                    setAttrs(update);
                });
            });
        }
        return "";
    });
    
    // Fernkampfwaffen
    getSectionIDs("repeating_fernkampfwaffen", async function(idarray) {
        var temp1 = 0;
        var temp2 = 0;
        var temp3 = 0; 
        if (idarray.length > 0)
        {
            _.each(idarray, function(currentID, i) {
                let attrmod = 0;
                getAttrs(["repeating_fernkampfwaffen_" + currentID +"_waffenskillfern", "repeating_fernkampfwaffen_" + currentID +"_waffenattr1fern", "repeating_fernkampfwaffen_" + currentID +"_waffenattr2fern"], async function(v) { 

                    let promiseAwait = await Promise.all([baseAttr, fnkAttr]);
                    [baseAttr, fnkAttr] = promiseAwait;

             

                    var skill = v["repeating_fernkampfwaffen_" + currentID +"_waffenskillfern"];
                    var attr1 = v["repeating_fernkampfwaffen_" + currentID +"_waffenattr1fern"];
                    var attr2 = v["repeating_fernkampfwaffen_" + currentID +"_waffenattr2fern"];
                    var setattr2 = "aus";
                    var update = {};
                    var attrupdate = {};
                    if (skill == "schusswaffen") {
                        temp1 = +fnkAttr.schusswaffenpunkte + +fnkAttr.schusswaffenbonus;
                    } else if (skill == "wurfwaffen") {
                        temp1 = +fnkAttr.wurfwaffenpunkte + +fnkAttr.wurfwaffenbonus;
                    } else {
                        switch(skill) {
                            case "arkanekunde":
                                temp1 = +fnkAttr.arkanekundepunkte + +fnkAttr.arkanekundebonus;
                                setattr2 = "ver";
                            break;
                            case "bannmagie":
                                temp1 = +fnkAttr.bannmagiepunkte + +fnkAttr.bannmagiebonus;
                                setattr2 = "wil";
                            break;
                            case "beherrschungsmagie":
                                temp1 = +fnkAttr.beherrschungsmagiepunkte + +fnkAttr.beherrschungsmagiebonus;
                                setattr2 = "wil";
                                break;
                            case "bewegungsmagie":
                                temp1 = +fnkAttr.bewegungsmagiepunkte + +fnkAttr.bewegungsmagiebonus;
                                setattr2 = "bew";
                                break;
                            case "erkenntnismagie":
                                temp1 = +fnkAttr.erkenntnismagiepunkte + +fnkAttr.erkenntnismagiebonus;
                                setattr2 = "ver";
                                break;
                            case "felsmagie":
                                temp1 = +fnkAttr.felsmagiepunkte + +fnkAttr.felsmagiebonus;
                                setattr2 = "kon";
                                break;
                            case "feuermagie":
                                temp1 = +fnkAttr.feuermagiepunkte + +fnkAttr.feuermagiebonus;
                                break;
                            case "heilungsmagie":
                                temp1 = +fnkAttr.heilungsmagiepunkte + +fnkAttr.heilungsmagiebonus;
                                break;
                            case "illusionsmagie":
                                temp1 = +fnkAttr.illusionsmagiepunkte + +fnkAttr.illusionsmagiebonus;
                                break;
                            case "kampfmagie":
                                temp1 = +fnkAttr.kampfmagiepunkte + +fnkAttr.kampfmagiebonus;
                                setattr2 = "stae";
                                break;
                            case "lichtmagie":
                                temp1 = +fnkAttr.lichtmagiepunkte + +fnkAttr.lichtmagiebonus;
                                break;
                            case "naturmagie":
                                temp1 = +fnkAttr.naturmagiepunkte + +fnkAttr.naturmagiebonus;
                                break;
                            case "schattenmagie":
                                temp1 = +fnkAttr.schattenmagiepunkte + +fnkAttr.schattenmagiebonus;
                                setattr2 = "int";
                                break;
                            case "schicksalsmagie":
                                temp1 = +fnkAttr.schicksalsmagiepunkte + +fnkAttr.schicksalsmagiebonus;
                                break;
                            case "schutzmagie":
                                temp1 = +fnkAttr.schutzmagiepunkte + +fnkAttr.schutzmagiebonus;
                                break;
                            case "staerkungsmagie":
                                temp1 = +fnkAttr.staerkungsmagiepunkte + +fnkAttr.staerkungsmagiebonus;
                                setattr2 = "stae";
                                break;
                            case "todesmagie":
                                temp1 = +fnkAttr.todesmagiepunkte + +fnkAttr.todesmagiebonus;
                                setattr2 = "ver";
                                break;
                            case "verwandlungsmagie":
                                temp1 = +fnkAttr.verwandlungsmagiepunkte + +fnkAttr.verwandlungsmagiebonus;
                                setattr2 = "kon";
                                break;
                            case "wassermagie":
                                temp1 = +fnkAttr.wassermagiepunkte + +fnkAttr.wassermagiebonus;
                                setattr2 = "int";
                                break;
                            case "windmagie":
                                temp1 = +fnkAttr.windmagiepunkte + +fnkAttr.windmagiebonus;
                                setattr2 = "ver";
                                break;
                        }    
                        attrupdate["repeating_fernkampfwaffen_" + currentID +"_waffenattr1fern"] = "mys";
                        attrupdate["repeating_fernkampfwaffen_" + currentID +"_waffenattr2fern"] = setattr2;
                        setAttrs(attrupdate);
                    }
                    switch (attr1) {
                        case "aus":
                            temp2 = +baseAttr.ausstrahlung + +baseAttr.hiddenausstrahlung;
                            attrmod += baseAttr.hiddenausstrahlungmod;
                            break;
                        case "bew":
                            temp2 = +baseAttr.beweglichkeit + +baseAttr.hiddenbeweglichkeit;
                            attrmod += baseAttr.hiddenbeweglichkeitmod;
                            break;
                        case "int":
                            temp2 = +baseAttr.intuition + +baseAttr.hiddenintuition; 
                            attrmod += baseAttr.hiddenintuitionmod;
                            break;
                        case "kon":
                            temp2 = +baseAttr.konstitution + +baseAttr.hiddenkonstitution; 
                            attrmod += baseAttr.hiddenkonstitutionmod;
                            break;
                        case "mys":
                            temp2 = +baseAttr.mystik + +baseAttr.hiddenmystik; 
                            attrmod += baseAttr.hiddenmystikmod;
                            break;
                        case "stae":
                            temp2 = +baseAttr.staerke + +baseAttr.hiddenstaerke; 
                            attrmod += baseAttr.hiddenstaerkemod
                            break;
                        case "ver":
                            temp2 = +baseAttr.verstand + +baseAttr.hiddenverstand; 
                            attrmod += baseAttr.hiddenverstandmod;
                            break;
                        case "wil":
                            temp2 = +baseAttr.willenskraft + +baseAttr.hiddenwillenskraft;
                            attrmod += baseAttr.hiddenwillenskraftmod;
                            break;
                    }
                    switch (attr2) {
                        case "aus":
                            temp3 = +baseAttr.ausstrahlung + +baseAttr.hiddenausstrahlung;
                            attrmod += baseAttr.hiddenausstrahlungmod;
                            break;
                        case "bew":
                            temp3 = +baseAttr.beweglichkeit + +baseAttr.hiddenbeweglichkeit;
                            attrmod += baseAttr.hiddenbeweglichkeitmod;
                            break;
                        case "int":
                            temp3 = +baseAttr.intuition + +baseAttr.hiddenintuition;
                            attrmod += baseAttr.hiddenintuitionmod;
                            break;
                        case "kon":
                            temp3 = +baseAttr.konstitution + +baseAttr.hiddenkonstitution; 
                            attrmod += baseAttr.hiddenkonstitutionmod;
                            break;
                        case "mys":
                            temp3 = +baseAttr.mystik + +baseAttr.hiddenmystik;
                            attrmod += baseAttr.hiddenmystikmod;
                            break;
                        case "stae":
                            temp3 = +baseAttr.staerke + +baseAttr.hiddenstaerke; 
                            attrmod += baseAttr.hiddenstaerkemod
                            break;
                        case "ver":
                            temp3 = +baseAttr.verstand + +baseAttr.hiddenverstand;
                            attrmod += baseAttr.hiddenverstandmod;
                            break;
                        case "wil":
                            temp3 = +baseAttr.willenskraft + +baseAttr.hiddenwillenskraft;
                            attrmod += baseAttr.hiddenwillenskraftmod;
                            break;
                    }
                    update["repeating_fernkampfwaffen_" + currentID + "_waffenwertfern"] = +temp1 + +temp2 + +temp3;
                    update["repeating_fernkampfwaffen_" + currentID + "_fernwaffenattrmod"] = +attrmod;
                    setAttrs(update);
                });
            });
        }
    }); 
});

on("change:ruestungkreatur_onoff change:ruestungkreatur_tickplus change:ruestungkreatur_vtd change:ruestungkreatur_sr", function() {
    getAttrs(["ruestungkreatur_onoff", "ruestungkreatur_tickplus", "ruestungkreatur_vtd", "ruestungkreatur_sr"], function(v) {
        let ruestungonoff = v.ruestungkreatur_onoff;
        let tickplus = 0;
        let vtdplus = 0;
        let srplus = 0;
        if (ruestungonoff == true) {
            tickplus = +v.ruestungkreatur_tickplus;
            vtdplus = +v.ruestungkreatur_vtd;
            srplus = +v.ruestungkreatur_sr;
        }
        setAttrs({
            creature_tickplus_ruestung: tickplus,
            creature_vtd_ruestung: vtdplus,
            creature_sr_ruestung: srplus
        });
    });
});

on("change:repeating_ruestungen remove:repeating_ruestungen change:repeating_ruestungen:ruestungonoff change:rt1 change:rt2", function() {
   getSectionIDs("repeating_ruestungen", function(idarray) {
       if (idarray.length == 0)
       {
            setAttrs({
                hiddenruestungsvtd: 0,
                hiddenruestungssr: 0,
                hiddenruestungsbe: 0,
                hiddenruestungstickplus: 0
            });
       } else 
       {
           var insgesamtvtd = 0;
           var insgesamtbe = 0;
           var insgesamtsr = 0;
           var insgesamttickplus = 0;
           var keineausgeruestet = true;
            _.each(idarray, function(currentID, i) {
                getAttrs(["repeating_ruestungen_" + currentID + "_ruestungsvtd", "repeating_ruestungen_" + currentID + "_ruestungsbe", "repeating_ruestungen_" + currentID + "_ruestungssr", "repeating_ruestungen_" + currentID + "_ruestungonoff", "repeating_ruestungen_" + currentID + "_ruestungstickplus", "gesamtvtd", "gesamtsr", "gesamtbe", "rt1", "rt2"], function(v) {
                    var vtd = v["repeating_ruestungen_" + currentID + "_ruestungsvtd"];
                    var be = v["repeating_ruestungen_" + currentID + "_ruestungsbe"];
                    var sr = v["repeating_ruestungen_" + currentID + "_ruestungssr"];
                    var tp = v["repeating_ruestungen_" + currentID + "_ruestungstickplus"];
                    var onoff = v["repeating_ruestungen_" + currentID + "_ruestungonoff"];
                    if (onoff == true)
                    {
                        keineausgeruestet = false;
                        insgesamtvtd += +vtd;
                        insgesamtbe += +be;
                        insgesamtsr += +sr;
                        insgesamttickplus += +tp;
                        setAttrs({
                            hiddenruestungsvtd: +insgesamtvtd,
                            hiddenruestungssr: +insgesamtsr,
                            hiddenruestungsbe: +insgesamtbe - +v.rt1,
                            hiddenruestungstickplus: +insgesamttickplus - +v.rt2
                        });
                    }
                });
            });
            if (keineausgeruestet == true)
            {
                setAttrs({
                    hiddenruestungsvtd: 0,
                    hiddenruestungssr: 0,
                    hiddenruestungsbe: 0,
                    hiddenruestungstickplus: 0
                });
            }
       }
    });
});

on("change:hiddenschildvtd change:hiddenruestungsvtd change:hiddenruestungssr change:hiddenschildbe change:hiddenruestungsbe change:hiddenschildtickplus change:hiddenruestungstickplus change:hiddensr change:hiddenbehinderungfruehstueck", function(g) {
    getAttrs(["hiddenschildvtd", "hiddenruestungsvtd", "hiddenruestungssr", "hiddenschildbe", "hiddenruestungsbe", "hiddenschildtickplus", "hiddenruestungstickplus", "hiddensr", "hiddenbehinderungfruehstueck", "hiddenschadensreduktionfruehstueck"], function(f) {
        setAttrs({
            gesamtvtd: +f.hiddenschildvtd + +f.hiddenruestungsvtd,
            gesamtsr: +f.hiddenruestungssr + +f.hiddensr + +f.hiddenschadensreduktionfruehstueck,
            gesamtbe: Math.max((+f.hiddenruestungsbe + +f.hiddenschildbe - +f.hiddenbehinderungfruehstueck), 0),
            gesamttickplus: +f.hiddenruestungstickplus + +f.hiddenschildtickplus
        }) 
    });
});

on("change:repeating_zustaende remove:repeating_zustaende", function(g) {
    getSectionIDs("zustaende", function(idarray) {
        if (idarray.length == 0) {
          var deleteAll = {};
          deleteAll["verwundet"] = 0;
          deleteAll["benommen"] = 0;
          deleteAll["geblendet"] = 0;
          deleteAll["erschoepft"] = 0;
          deleteAll["lahm"] = 0;
          deleteAll["glaubenskrise"] = 0;
          setAttrs(deleteAll);
        } else {
            var verwundet = 0;
            var benommen = 0;
            var erschoepft = 0;
            var geblendet = 0;
            var lahm = 0;
            var glaubenskrise = 0;
            var keineraktiviert = true;
            _.each(idarray, function(currentID, i) {
                getAttrs(["repeating_zustaende_" + currentID + "_zustandsname", "repeating_zustaende_" + currentID + "_zustandsstufe", "repeating_zustaende_" + currentID + "_zustandonoff", "beweglichkeit", "groessenklasse", "geschwindigkeitmod", "hiddengsw", "hiddengswag", "hiddengswspr", "hiddengswbe", "erschoepft"], function(v) {
                    var zustandsname = v["repeating_zustaende_" + currentID + "_zustandsname"];
                    var zustandsstufe = v["repeating_zustaende_" + currentID + "_zustandsstufe"];
                    var zustandonoff = v["repeating_zustaende_" + currentID + "_zustandonoff"];
                    if (+zustandonoff == 1) {
                        keineraktiviert = false;
                        switch(zustandsname) {
                            case "verwundet":
                                verwundet += +zustandsstufe;
                                setAttrs({
                                    verwundet: +verwundet 
                                });
                                break;
                            case "benommen":
                                benommen += +zustandsstufe;
                                setAttrs({
                                    benommen: +benommen
                                });
                                break;
                            case "geblendet":
                                geblendet += +zustandsstufe * 2;
                                setAttrs({
                                    geblendet: +geblendet
                                });
                                break;
                            case "erschoepft":
                                erschoepft += +zustandsstufe;
                                setAttrs({
                                    erschoepft: +erschoepft
                                });
                                break;
                            case "glaubenskrise":
                                glaubenskrise += +zustandsstufe;
                                setAttrs({
                                    glaubenskrise: +glaubenskrise
                                });
                                break;
                            case "lahm":
                                let lahmAlt = +v.beweglichkeit + +v.groessenklasse + +v.geschwindigkeitmod + +v.hiddengsw + +v.hiddengswag + +v.hiddengswspr - +v.hiddengswbe - +v.erschoepft;
                                let lahm = 0;
                                let lahmTemp = 0;
                                if (zustandsstufe == 0) {
                                    setAttrs({lahm: +zustandsstufe});
                                } else if (zustandsstufe > 0) {
                                    for (var i = 1; i <= +zustandsstufe; i++) {
                                        lahmTemp = lahmAlt;
                                        lahmAlt /= 2;
                                        lahm += (lahmTemp - lahmAlt);
                                    }
                                    setAttrs({lahm: +Math.floor(lahm)});
                                }
                                break;
                            default:
                                break;
                        }
                    }
                });  
            });
            if (keineraktiviert == true) {
                setAttrs({
                    verwundet: 0,
                    benommen: 0,
                    geblendet: 0,
                    erschoepft: 0,
                    lahm: 0
                });
            }
        }
   });
});

on("change:schildonoff change:schildvtd change:schildbe change:schildtickplus change:st1 change:st2", function(info) {
    getAttrs(["schildonoff"], function(f) {
        if (f.schildonoff == true)
        {
            getAttrs(["schildvtd", "schildbe", "schildtickplus", "st1", "st2"], function(g) {
                setAttrs({
                    hiddenschildvtd: +g.schildvtd,
                    hiddenschildbe: +g.schildbe - +g.st1,
                    hiddenschildtickplus: +g.schildtickplus - +g.st2
                });
            });
        } else
        {
            setAttrs({
                hiddenschildvtd: 0,
                hiddenschildbe: 0,
                hiddenschildtickplus: 0
            });
        }  
    });
});

on("change:gesamtvtd change:gesamtsr change:gesamtbe", function(eventinfo) {
    getAttrs(["gesamtvtd", "gesamtsr", "gesamtbe", "schadensreduktionmod", "hiddenschadensreduktionfruehstueck"], function(values) {
      setAttrs({
          hiddenvtdruestungschild: +values.gesamtvtd,
          schadensreduktion: +values.gesamtsr + +values.schadensreduktionmod + +values.hiddenschadensreduktionfruehstueck,
          behinderung: +values.gesamtbe
      });
   });
});

on("change:behinderung", function(eventinfo) {
    getAttrs(["behinderung"], function(values) {
        var modifier = Math.floor(+values.behinderung / 2);
        setAttrs({
            hiddengswbe: modifier
        });
   });
});

on("change:lebenspunkte", function(e) {
    getAttrs(["lebenspunkte", "lebenspunkte_e", "lebenspunkte_k", "lebenspunkte_v"], function(v) {
        setAttrs({
            lebenspunkte_t:  (+v.lebenspunkte * 5) - +v.lebenspunkte_e - +v.lebenspunkte_k - +v.lebenspunkte_v
        });
   });
});

on("change:fokus", function(e) {
    getAttrs(["fokus", "fokus_e", "fokus_k", "fokus_v"], function(v) {
        setAttrs({
            fokus_t: +v.fokus - +v.fokus_e - +v.fokus_k - +v.fokus_v
        });
    });
});

on("change:lebenspunkte_v change:lebenspunkte change:schmerzresistenz change:sw1 change:sw2 change:verwundet change:schadenimmun change:wundabzugsmod change:werblutetstirbt", function(e) {
   getAttrs(["lebenspunkte", "lebenspunkte_v", "lebenspunkte_k", "lebenspunkte_e", "schmerzresistenz", "sw1", "sw2", "verwundet", "schadenimmun", "wundabzugsmod", "werblutetstirbt"], function(v) {
        var mod;
        var row = Math.ceil( +v.lebenspunkte_v / +v.lebenspunkte );
        row += +v.verwundet;
        var sr = v.schmerzresistenz;
        var wbs = v.werblutetstirbt;
        var sw1 = v.sw1;
        var sw2 = v.sw2;
        var war = +v.wundabzugsmod;
        var mods = {0:0,1:0,2:1,3:2,4:4,5:8};
        
        if (wbs == 1 && row == 4) { row = 5; }
        
        mod = mods[row];
        mod = mod - +sr - +sw1 - +sw2 - +war;
        
        if (mod < 0 || v.schadenimmun > 0) { mod = 0; }
        setAttrs({
            schadensmod: +mod
        });
        if (e.sourceAttribute == "lebenspunkte_v") {
            setAttrs({
                lebenspunkte_t: (+v.lebenspunkte * 5) - +v.lebenspunkte_e - +v.lebenspunkte_k - +v.lebenspunkte_v
            });
        }
   });
});

on("change:repeating_attributmods remove:repeating_attributmods", function() {
    getSectionIDs("repeating_attributmods", function(idarray) {
       if (idarray.length == 0)
       {
            setAttrs({
                hiddenausstrahlungmod: 0,
                hiddenbeweglichkeitmod: 0,
                hiddenintuitionmod: 0,
                hiddenkonstitutionmod: 0,
                hiddenmystikmod: 0,
                hiddenstaerkemod: 0,
                hiddenverstandmod: 0,
                hiddenwillenskraftmod: 0,
                hiddenvtdbonus: 0,
                hiddengwbonus: 0,
                hiddenkwbonus: 0,
                hiddenallgfert: 0,
                hiddenbehinderungfruehsteuck: 0,
                hiddenschadensreduktionfruehstueck: 0,
                angriffsbonus: 0,
                kampffertigkeitenbonus: 0,
                schadenimmun: 0,
                hiddenallfert: 0,
                hiddenallwiderstand: 0,
                wundabzugsmod: 0,
                hiddenmodini: 0,
                hiddenmodgsw: 0
            });
       } else {
           var ausstrahlung = 0;
           var beweglichkeit = 0;
           var intuition = 0;
           var konstitution = 0;
           var mystik = 0;
           var staerke = 0;
           var verstand = 0;
           var willenskraft = 0;
           var vtd = 0;
           var kw = 0;
           var gw = 0;
           var allgfert = 0;
           var beh = 0;
           var sr = 0;
           var ab = 0;
           var kf = 0;
           var si = 0;
           var allfert = 0;
           var allwiderstand = 0;
           var wundabzugsmod = 0;
           var ini = 0;
           var gsw = 0;
           var keineaktiv = true;
            _.each(idarray, function(currentID, i) {
                getAttrs(["repeating_attributmods_" + currentID + "_modattribut", "repeating_attributmods_" + currentID + "_attributmod", "repeating_attributmods_" + currentID + "_attributmodonoff"], function(v) {
                    var attr = v["repeating_attributmods_" + currentID + "_modattribut"];
                    var mod = v["repeating_attributmods_" + currentID + "_attributmod"];
                    var onoff = v["repeating_attributmods_" + currentID + "_attributmodonoff"];
                    var update =  {};
                    if (onoff == "on")
                    {
                        keineaktiv = false;
                        switch(attr) {
                            case "aus":
                                ausstrahlung += +mod;
                                update["hiddenausstrahlungmod"] = +ausstrahlung;
                                break;
                            case "bew":
                                beweglichkeit += +mod;
                                update["hiddenbeweglichkeitmod"] = +beweglichkeit;
                                break;
                            case "int":
                                intuition += +mod;
                                update["hiddenintuitionmod"] = +intuition;
                                break;
                            case "kon":
                                konstitution += +mod;
                                update["hiddenkonstitutionmod"] = +konstitution;
                                break;
                            case "mys":
                                mystik += +mod;
                                update["hiddenmystikmod"] = +mystik;
                                break;
                            case "stae":
                                staerke += +mod;
                                update["hiddenstaerkemod"] = +staerke;
                                break;
                            case "ver":
                                verstand += +mod;
                                update["hiddenverstandmod"] = +verstand;
                                break;
                            case "wil":
                                willenskraft += +mod;
                                update["hiddenwillenskraftmod"] = +willenskraft;
                                break;
                            case "vtd":
                                vtd += +mod;
                                update["hiddenvtdbonus"] = +vtd;
                                break;
                            case "kw":
                                kw += +mod;
                                update["hiddenkwbonus"] = +kw;
                                break;
                            case "gw":
                                gw += +mod;
                                update["hiddengwbonus"] = +gw;
                                break;
                            case "allgfert":
                                allgfert += +mod;
                                update["hiddenallgfert"] = +allgfert;
                                break;
                            case "beh":
                                beh += +mod;
                                update["hiddenbehinderungfruehstueck"] = +beh;
                                break;
                            case "sr":
                                sr += +mod;
                                update["hiddenschadensreduktionfruehstueck"] = +sr;
                                break;
                            case "ab":
                                ab += +mod;
                                update["angriffsbonus"] = +ab;
                                break;
                            case "kampffert":
                                kf += +mod;
                                update["kampffertigkeitenbonus"] = +kf;
                                break;
                            case "si":
                                si += +mod;
                                if (si > 1) { si = 1; }
                                update["schadenimmun"] = +si;
                                break;
                            case "allfert":
                                allfert += +mod;
                                update["hiddenallfert"] = +allfert;
                                break;
                            case "allwiderstand":
                                allwiderstand += +mod;
                                update["hiddenallwiderstand"] = +allwiderstand;
                                break;
                            case "war":
                                wundabzugsmod += +mod;
                                update["wundabzugsmod"] = +wundabzugsmod;
                                break;
                            case "ini":
                                ini += +mod;
                                update["hiddenmodini"] = +ini;
                                break;
                            case "gsw":
                                gsw += +mod;
                                update["hiddenmodgsw"] = +gsw;
                                break;
                            default:
                                break;
                        }
                        setAttrs(update);
                    }
                });
            });
            if (keineaktiv == true)
            {
                setAttrs({
                    hiddenausstrahlungmod: 0,
                    hiddenbeweglichkeitmod: 0,
                    hiddenintuitionmod: 0,
                    hiddenkonstitutionmod: 0,
                    hiddenmystikmod: 0,
                    hiddenstaerkemod: 0,
                    hiddenverstandmod: 0,
                    hiddenwillenskraftmod: 0,
                    hiddenvtdbonus: 0,
                    hiddenkwbonus: 0,
                    hiddengwbonus: 0,
                    hiddenallgfert: 0,
                    hiddenbehinderungfruehstueck: 0,
                    hiddenschadensreduktionfruehstueck: 0,
                    angriffsbonus: 0,
                    kampffertigkeitenbonus: 0,
                    schadenimmun: 0,
                    hiddenallfert: 0,
                    hiddenallwiderstand: 0,
                    wundabzugsmod: 0,
                    hiddenmodini: 0,
                    hiddenmodgsw: 0
                });
            } 
       }
    });
});

on("change:rasse", function(f) {
    getAttrs(["rasse"], function(v) {
        switch(v.rasse.toLowerCase()) {
            case "varg":
                setAttrs({
                    groessenklasse: 6
                });
                break;
            case "zwerg":
                setAttrs({
                    groessenklasse: 4
                });
                break;
            case "gnom":
                setAttrs({
                    groessenklasse: 3
                });
            break;
        }
    });
});

on("change:repeating_nahkampfwaffen:waffenmerkmale", function(eventInfo) {
    getAttrs(["repeating_nahkampfwaffen_waffenmerkmale"], function(v) {
        let waffenmerkmale = v["repeating_nahkampfwaffen_waffenmerkmale"].toLowerCase().split(",");
        let exakt = 0;
        let scharf = 0;
        let kritisch = 0;
        let defensiv = 0;
        for (var i = 0; i < waffenmerkmale.length; i++) {
            if (waffenmerkmale[i].search("exakt") != -1) {
                exakt = waffenmerkmale[i].slice(6).trim();
            }
            if (waffenmerkmale[i].search("scharf") != -1) {
                scharf = waffenmerkmale[i].slice(7).trim();
            }
            if (waffenmerkmale[i].search("kritisch") != -1) {
                kritisch = waffenmerkmale[i].slice(9).trim();
            }
            if (waffenmerkmale[i].search("defensiv") != -1) {
                defensiv = waffenmerkmale[i].slice(9).trim();
            }
        }
        setAttrs({
           'repeating_nahkampfwaffen_waffenexakt': +exakt,
           'repeating_nahkampfwaffen_waffenscharf': +scharf,
           'repeating_nahkampfwaffen_waffenkritisch': +kritisch,
           'repeating_nahkampfwaffen_waffendefensiv': +defensiv
        });  
    });
});

on("change:repeating_zauber:zaubermerkmale", function(eventInfo) {
    getAttrs(["repeating_zauber_zaubermerkmale"], function(v) {
        let zaubermerkmale = v["repeating_zauber_zaubermerkmale"].toLowerCase().split(",");
        let exakt = 0;
        let scharf = 0;
        let kritisch = 0;
        let defensiv = 0;
        for (var i = 0; i < zaubermerkmale.length; i++) {
            if (zaubermerkmale[i].search("exakt") != -1) {
                exakt = zaubermerkmale[i].slice(6).trim();
            }
            if (zaubermerkmale[i].search("scharf") != -1) {
                scharf = zaubermerkmale[i].slice(7).trim();
            }
            if (zaubermerkmale[i].search("kritisch") != -1) {
                kritisch = zaubermerkmale[i].slice(9).trim();
            }
        }
        setAttrs({
           'repeating_zauber_zauberexakt': +exakt,
           'repeating_zauber_zauberscharf': +scharf,
           'repeating_zauber_zauberkritisch': +kritisch
        });  
    });
});

on("change:repeating_nahkampfwaffen:waffenscharf change:repeating_nahkampfwaffen:waffenexakt change:repeating_nahkampfwaffen:waffenkritisch change:repeating_nahkampfwaffen:waffenschaden1 change:repeating_nahkampfwaffen:waffenschadenwuerfel change:repeating_nahkampfwaffen:waffenschaden3 change:repeating_nahkampfwaffen:waffenname", function(eventInfo) {
    getAttrs(["repeating_nahkampfwaffen_waffenexakt", "repeating_nahkampfwaffen_waffenkritisch", "repeating_nahkampfwaffen_waffenscharf", "repeating_nahkampfwaffen_waffenschaden1", "repeating_nahkampfwaffen_waffenschadenwuerfel", "repeating_nahkampfwaffen_waffenschaden3"], function(v) {
        let exakt = v["repeating_nahkampfwaffen_waffenexakt"];
        let scharf = v["repeating_nahkampfwaffen_waffenscharf"];
        let kritisch = v["repeating_nahkampfwaffen_waffenkritisch"];
        let waffenschaden1 = v["repeating_nahkampfwaffen_waffenschaden1"];
        let waffenschadenwuerfel = v["repeating_nahkampfwaffen_waffenschadenwuerfel"];
        let waffenschaden3 = v["repeating_nahkampfwaffen_waffenschaden3"];
        let die_max = 0;
        let die_minus = 0;
        let damagerollstring;
        if (scharf < 0) { scharf = 0; }
        if (exakt < 0) { exakt = 0; }
        if (kritisch < 0) { kritisch = 0; }
        if (kritisch > 0) {
            damagerollstring = "";
            die_max = waffenschadenwuerfel.substr(1);
            die_minus = +waffenschadenwuerfel.substr(1) - 1;
            if ((+waffenschaden1 + +exakt) == 1) {
                damagerollstring += "{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" +  (+die_max + +kritisch) + ")+"  + (+die_max + +kritisch) + "+" + waffenschaden3;
            } else {
                damagerollstring = "{";
                for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                    damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" + (+die_max + +kritisch) + ")+" + (+die_max + +kritisch) + ",";
                }
                damagerollstring = damagerollstring.slice(0, -1);
                damagerollstring += "}k" + waffenschaden1 + " + " + waffenschaden3;
            }
        } else if (+kritisch == 0) {
            damagerollstring = "{";
            for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel+", " + scharf + "d1}k1,";
            }
            damagerollstring = damagerollstring.slice(0, -1);
            damagerollstring = damagerollstring +"}k" + waffenschaden1 + " + " + waffenschaden3;
        }
        setAttrs({
            'repeating_nahkampfwaffen_damageroll': damagerollstring
        });
    });
});

on("change:repeating_zauber:zauberscharf change:repeating_zauber:spelldmgactive change:repeating_zauber:zauberexakt change:repeating_zauber:zauberkritisch change:repeating_zauber:zauberschaden1 change:repeating_zauber:zauberschadenwuerfel change:repeating_zauber:zauberschaden3 change:repeating_zauber:zaubername", function(eventInfo) {
    getAttrs(["repeating_zauber_zauberexakt", "repeating_zauber_spelldmgactive", "repeating_zauber_zauberkritisch", "repeating_zauber_zauberscharf", "repeating_zauber_zauberschaden1", "repeating_zauber_zauberschadenwuerfel", "repeating_zauber_zauberschaden3"], function(v) {
        let spelldamagechanger = "[[0d1]]";
        let spelldmgactive = v["repeating_zauber_spelldmgactive"];
        if (spelldmgactive == "on") {
            spelldamagechanger = "[[1d1]]";
        }
        let damagerollstring = "";
        let exakt = v["repeating_zauber_zauberexakt"];
        let scharf = v["repeating_zauber_zauberscharf"];
        let kritisch = v["repeating_zauber_zauberkritisch"];
        let zauberschaden1 = v["repeating_zauber_zauberschaden1"];
        let zauberschadenwuerfel = v["repeating_zauber_zauberschadenwuerfel"];
        let zauberschaden3 = v["repeating_zauber_zauberschaden3"];
        let die_max = 0;
        let die_minus = 0;
        
        if (scharf < 0) { scharf = 0; }
        if (exakt < 0) { exakt = 0; }
        if (kritisch < 0) { kritisch = 0; }
        if (kritisch > 0) {
            damagerollstring = "";
            die_max = zauberschadenwuerfel.substr(1);
            die_minus = +zauberschadenwuerfel.substr(1) - 1;
            if ((+zauberschaden1 + +exakt) == 1) {
                damagerollstring += "{1" + zauberschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" +  (+die_max + +kritisch) + ")+"  + (+die_max + +kritisch) + "+" + zauberschaden3;
            } else {
                damagerollstring = "{";
                for (i = 1; i <= +zauberschaden1 + +exakt; i++) {
                    damagerollstring = damagerollstring + "{1" + zauberschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" + (+die_max + +kritisch) + ")+" + (+die_max + +kritisch) + ",";
                }
                damagerollstring = damagerollstring.slice(0, -1);
                damagerollstring += "}k" + zauberschaden1 + " + " + zauberschaden3;
            }
        } else if (+kritisch == 0) {
            damagerollstring = "{";
            for (i = 1; i <= +zauberschaden1 + +exakt; i++) {
                damagerollstring = damagerollstring + "{1" + zauberschadenwuerfel+", " + scharf + "d1}k1,";
            }
            damagerollstring = damagerollstring.slice(0, -1);
            damagerollstring = damagerollstring +"}k" + zauberschaden1 + " + " + zauberschaden3;
        }
        setAttrs({
            'repeating_zauber_damagerollspell': damagerollstring,
            'repeating_zauber_spelldamagechanger': spelldamagechanger
        });
    });
});

on("change:repeating_fernkampfwaffen:waffenmerkmalefern", function(eventInfo) {
    getAttrs(["repeating_fernkampfwaffen_waffenmerkmalefern"], function(v) {
        let waffenmerkmale = v["repeating_fernkampfwaffen_waffenmerkmalefern"].toLowerCase().split(",");
        let exakt = 0;
        let scharf = 0;
        let kritisch = 0;
        for (var i = 0; i < waffenmerkmale.length; i++) {
            if (waffenmerkmale[i].search("exakt") != -1) {
                exakt = waffenmerkmale[i].slice(6).trim();
            }
            if (waffenmerkmale[i].search("scharf") != -1) {
                scharf = waffenmerkmale[i].slice(7).trim();
            }
            if (waffenmerkmale[i].search("kritisch") != -1) {
                kritisch = waffenmerkmale[i].slice(9).trim();
            }
        }
        setAttrs({
           'repeating_fernkampfwaffen_waffenexakt': +exakt,
           'repeating_fernkampfwaffen_waffenscharf': +scharf,
           'repeating_fernkampfwaffen_waffenkritisch': +kritisch
        }); 
    });
});

on("change:repeating_fernkampfwaffen:waffenscharf change:repeating_fernkampfwaffen:waffenexakt change:repeating_fernkampfwaffen:waffenkritisch change:repeating_fernkampfwaffen:waffenschaden1fern change:repeating_fernkampfwaffen:waffenschadenwuerfelfern change:repeating_fernkampfwaffen:waffenschaden3fern change:repeating_fernkampfwaffen:waffennamefern", function(eventInfo) {
    getAttrs(["repeating_fernkampfwaffen_waffenexakt", "repeating_fernkampfwaffen_waffenscharf", "repeating_fernkampfwaffen_waffenkritisch", "repeating_fernkampfwaffen_waffenschaden1fern", "repeating_fernkampfwaffen_waffenschadenwuerfelfern", "repeating_fernkampfwaffen_waffenschaden3fern"], function(v) {
        let exakt = v["repeating_fernkampfwaffen_waffenexakt"];
        let scharf = v["repeating_fernkampfwaffen_waffenscharf"];
        let kritisch = v["repeating_fernkampfwaffen_waffenkritisch"];
        let waffenschaden1 = v["repeating_fernkampfwaffen_waffenschaden1fern"];
        let waffenschadenwuerfel = v["repeating_fernkampfwaffen_waffenschadenwuerfelfern"];
        let waffenschaden3 = v["repeating_fernkampfwaffen_waffenschaden3fern"];
        if (kritisch > 0) {
            damagerollstring = "";
            die_max = waffenschadenwuerfel.substr(1);
            die_minus = +waffenschadenwuerfel.substr(1) - 1;
            if ((+waffenschaden1 + +exakt) == 1) {
                damagerollstring += "{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" +  (+die_max + +kritisch) + ")+"  + (+die_max + +kritisch) + "+" + waffenschaden3;
            } else {
                damagerollstring = "{";
                for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                    damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" + (+die_max + +kritisch) + ")+" + (+die_max + +kritisch) + ",";
                }
                damagerollstring = damagerollstring.slice(0, -1);
                damagerollstring += "}k" + waffenschaden1 + " + " + waffenschaden3;
            }
        } else if (+kritisch == 0) {
            damagerollstring = "{";
            for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel+", " + scharf + "d1}k1,";
            }
            damagerollstring = damagerollstring.slice(0, -1);
            damagerollstring = damagerollstring +"}k" + waffenschaden1 + " + " + waffenschaden3;
        }
        setAttrs({
            'repeating_fernkampfwaffen_damagerollfern': damagerollstring
        });
    });
});

on("change:repeating_waffennsc:waffenmerkmalensc", function(eventInfo) {
    getAttrs(["repeating_waffennsc_waffenmerkmalensc"], function(v) {
        let waffenmerkmale = v["repeating_waffennsc_waffenmerkmalensc"].toLowerCase().split(",");
        let exakt = 0;
        let scharf = 0;
        let kritisch = 0;
        let defensiv = 0;
        for (var i = 0; i < waffenmerkmale.length; i++) {
            if (waffenmerkmale[i].search("exakt") != -1) {
                exakt = waffenmerkmale[i].slice(6).trim();
            }
            if (waffenmerkmale[i].search("scharf") != -1) {
                scharf = waffenmerkmale[i].slice(7).trim();
            }
            if (waffenmerkmale[i].search("kritisch") != -1) {
                kritisch = waffenmerkmale[i].slice(9).trim();
            }
            if (waffenmerkmale[i].search("defensiv") != -1) {
                defensiv = waffenmerkmale[i].slice(9).trim();
            }
        }
        setAttrs({
           'repeating_waffennsc_waffenexakt': +exakt,
           'repeating_waffennsc_waffenscharf': +scharf,
           'repeating_waffennsc_waffendefensiv': +defensiv,
           'repeating_waffennsc_waffenkritisch': +kritisch
        }); 
    });
});

on("change:waffenkreatur_merkmale1 change:waffenkreatur_merkmale2", function(eventInfo) {
    getAttrs(["waffenkreatur_merkmale1", "waffenkreatur_merkmale2"], function(v) {
        let waffenmerkmale1 = v.waffenkreatur_merkmale1.toLowerCase().split(",");
        let waffenmerkmale2 = v.waffenkreatur_merkmale2.toLowerCase().split(",");
        let exakt1 = 0;
        let exakt2 = 0;
        let scharf1 = 0;
        let scharf2 = 0;
        let kritisch1 = 0;
        let kritisch2 = 0;
        let temp = "";
        for (var i = 0; i < waffenmerkmale1.length; i++) {
            if (waffenmerkmale1[i].search("exakt") != -1) {
                exakt1 = waffenmerkmale1[i].slice(6).trim();
            }
            if (waffenmerkmale1[i].search("scharf") != -1) {
                scharf1 = waffenmerkmale1[i].slice(7).trim();
            }
            if (waffenmerkmale1[i].search("kritisch") != -1) {
                kritisch1 = waffenmerkmale1[i].slice(9).trim();
            }
        }
        for (var i = 0; i < waffenmerkmale2.length; i++) {
            if (waffenmerkmale2[i].search("exakt") != -1) {
                exakt2 = waffenmerkmale2[i].slice(6).trim();
            }
            if (waffenmerkmale2[i].search("scharf") != -1) {
                scharf2 = waffenmerkmale2[i].slice(7).trim();
            }
            if (waffenmerkmale1[i].search("kritisch") != -1) {
                kritisch2 = waffenmerkmale1[i].slice(9).trim();
            }
        }
        setAttrs({
            waffenexakt_creature1: +exakt1,
            waffenexakt_creature2: +exakt2,
            waffenscharf_creature1: +scharf1,
            waffenscharf_creature2: +scharf2,
            waffenkritisch_creature1: +kritisch1,
            waffenkritisch_creature2: +kritisch2
        }); 
    });
});

on("change:waffenexakt_creature1 change:waffenkreatur_schaden11 change:waffenscharf_creature1 change:waffenkritisch_creature1 change:waffenkreatur_wuerfel1 change:waffenkreatur_schaden21", function(eventInfo) {
    getAttrs(["waffenexakt_creature1", "waffenkreatur_schaden11", "waffenkritisch_creature1", "waffenscharf_creature1", "waffenkreatur_wuerfel1", "waffenkreatur_schaden21"], function(v) {
        let exakt = v.waffenexakt_creature1;
        let scharf = v.waffenscharf_creature1;
        let kritisch = v.waffenkritisch_creature1;
        let waffenschaden1 = v.waffenkreatur_schaden11;
        let waffenschadenwuerfel = v.waffenkreatur_wuerfel1;
        let waffenschaden3 = v.waffenkreatur_schaden21;
        let damagerollstring = "";
        if (scharf < 0) { scharf = 0; }
        if (exakt < 0) { exakt = 0; }
        if (kritisch < 0) { kritisch = 0; }
        if (kritisch > 0) {
            die_max = waffenschadenwuerfel.substr(1);
            die_minus = +waffenschadenwuerfel.substr(1) - 1;
            if ((+waffenschaden1 + +exakt) == 1) {
                damagerollstring += "[[{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" +  (+die_max + +kritisch) + ")+"  + (+die_max + +kritisch) + "+" + waffenschaden3 + "]]";
            } else {
                damagerollstring = "[[{";
                for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                    damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" + (+die_max + +kritisch) + ")+" + (+die_max + +kritisch) + ",";
                }
                damagerollstring = damagerollstring.slice(0, -1);
                damagerollstring += "}k" + waffenschaden1 + " + " + waffenschaden3 + "]]";
            }
        } else if (+kritisch == 0) {
            damagerollstring = "{";
            for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel+", " + scharf + "d1}k1,";
            }
            damagerollstring = damagerollstring.slice(0, -1);
            damagerollstring = damagerollstring +"}k" + waffenschaden1 + " + " + waffenschaden3;
        }
        setAttrs({
            damagerollcreature1: damagerollstring
        });
    });
});

on("change:waffenexakt_creature2 change:waffenkreatur_schaden12 change:waffenkritisch_creature2 change:waffenscharf_creature2 change:waffenkreatur_wuerfel2 change:waffenkreatur_schaden22", function(eventInfo) {
    getAttrs(["waffenexakt_creature2", "waffenkreatur_schaden12", "waffenkritisch_creature2", "waffenscharf_creature2", "waffenkreatur_wuerfel2", "waffenkreatur_schaden22"], function(v) {
        let exakt = v.waffenexakt_creature2;
        let scharf = v.waffenscharf_creature2;
        let kritisch = v.waffenkritisch_creature2;
        let waffenschaden1 = v.waffenkreatur_schaden12;
        let waffenschadenwuerfel = v.waffenkreatur_wuerfel2;
        let waffenschaden3 = v.waffenkreatur_schaden22;
        let damagerollstring = "";
        if (scharf < 0) { scharf = 0; }
        if (exakt < 0) { exakt = 0; }
        if (kritisch < 0) { kritisch = 0; }
        if (kritisch > 0) {
            die_max = waffenschadenwuerfel.substr(1);
            die_minus = +waffenschadenwuerfel.substr(1) - 1;
            if ((+waffenschaden1 + +exakt) == 1) {
                damagerollstring += "[[{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" +  (+die_max + +kritisch) + ")+"  + (+die_max + +kritisch) + "+" + waffenschaden3 + "]]";
            } else {
                damagerollstring = "[[{";
                for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                    damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" + (+die_max + +kritisch) + ")+" + (+die_max + +kritisch) + ",";
                }
                damagerollstring = damagerollstring.slice(0, -1);
                damagerollstring += "}k" + waffenschaden1 + " + " + waffenschaden3 + "]]";
            }
        } else if (+kritisch == 0) {
            damagerollstring = "{";
            for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel+", " + scharf + "d1}k1,";
            }
            damagerollstring = damagerollstring.slice(0, -1);
            damagerollstring = damagerollstring +"}k" + waffenschaden1 + " + " + waffenschaden3;
        }
        setAttrs({
            damagerollcreature2: damagerollstring
        });
    });
});

on("change:repeating_waffennsc:waffenscharf change:waffennsc_waffenkritisch change:repeating_waffennsc:waffenexakt change:repeating_waffennsc:waffenschaden1nsc change:repeating_waffennsc:waffenschadenwuerfelnsc change:repeating_waffennsc:waffenschaden3nsc change:repeating_waffennsc:waffennamensc", function(eventInfo) {
    getAttrs(["repeating_waffennsc_waffenexakt", "repeating_waffennsc_waffenkritisch", "repeating_waffennsc_waffenscharf", "repeating_waffennsc_waffenschaden1nsc", "repeating_waffennsc_waffenschadenwuerfelnsc", "repeating_waffennsc_waffenschaden3nsc"], function(v) {
        let exakt = v["repeating_waffennsc_waffenexakt"];
        let scharf = v["repeating_waffennsc_waffenscharf"];
        let kritisch = v["repeating_waffennsc_waffenkritisch"];
        let waffenschaden1 = v["repeating_waffennsc_waffenschaden1nsc"];
        let waffenschadenwuerfel = v["repeating_waffennsc_waffenschadenwuerfelnsc"];
        let waffenschaden3 = v["repeating_waffennsc_waffenschaden3nsc"];
        let damagerollstring = "";
        if (+scharf < 0) { scharf = 0; }
        if (+exakt < 0) { exakt = 0; }
        if (+kritisch < 0) { kritisch = 0; }
        if (+kritisch > 0) {
            die_max = waffenschadenwuerfel.substr(1);
            die_minus = +waffenschadenwuerfel.substr(1) - 1;
            if ((+waffenschaden1 + +exakt) == 1) {
                damagerollstring += "[[{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" +  (+die_max + +kritisch) + ")+"  + (+die_max + +kritisch) + "+" + waffenschaden3 + "]]";
            } else {
                damagerollstring = "[[{";
                for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                    damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel + "}<" + +die_minus + "*([[{1d" + +die_minus + "," + scharf + "d1}k1]]-" + (+die_max + +kritisch) + ")+" + (+die_max + +kritisch) + ",";
                }
                damagerollstring = damagerollstring.slice(0, -1);
                damagerollstring += "}k" + waffenschaden1 + " + " + waffenschaden3 + "]]";
            }
        } else if (+kritisch == 0) {
            damagerollstring = "{";
            for (i = 1; i <= +waffenschaden1 + +exakt; i++) {
                damagerollstring = damagerollstring + "{1" + waffenschadenwuerfel+", " + scharf + "d1}k1,";
            }
            damagerollstring = damagerollstring.slice(0, -1);
            damagerollstring = damagerollstring +"}k" + waffenschaden1 + " + " + waffenschaden3;
        }
        setAttrs({
            'repeating_waffennsc_damagerollnsc': damagerollstring
        });
    });
});


on("change:lpnscgesamt change:schmerzimmunnsc change:schmerzresistenznsc", function(f) {
    getAttrs(["lpnscgesamt", "lebenspunktensc", "nschealth", "schmerzimmunnsc", "schmerzresistenznsc"], function(v) {
        if (+v.schmerzimmunnsc == 0) {
            var mod;
            var row = Math.ceil( ((+v.lebenspunktensc * +v.nschealth) - +v.lpnscgesamt) / +v.lebenspunktensc );
            var schmerzresistenz = +v.schmerzresistenznsc || 0;
            if (row < 0) { row = 0; }
            if (+v.nschealth == 1) {
                mod = 0;
            } else if (+v.nschealth == 3) {
                switch(row) {
                    case 0:
                    case 1:
                        mod = 0;
                        break;
                    case 2:
                        mod = 2;
                        break;
                    case 3:
                        mod = 8;
                        break;
                    default:
                        mod = 0;
                        break;
                }
            } else if (+v.nschealth == 5) {
                switch(row) {
                    case 0:
                    case 1:
                        mod = 0;
                        break;
                    case 2:
                        mod = 1;
                        break;
                    case 3:
                        mod = 2;
                        break;
                    case 4:
                        mod = 4;
                        break;
                    case 5:
                        mod = 8;
                        break;
                    default:
                        mod = 0;
                        break;
                }
            }
            mod -= schmerzresistenz;
            if (mod < 0) { mod = 0; }
            setAttrs({
                schadensmodnsc: mod
            });
        } else if (+v.schmerzimmunnsc == 1) {
            setAttrs({
                schadensmodnsc: 0
            });
        }
    });
});

on("change:notizen", function(eventInfo) {
    getAttrs(["notizen", "fokus", "lebenspunkte"], function (v) {
        let notizen = v.notizen.toString().toLowerCase();
        if (notizen.startsWith("!setnull(")) {
            switch (notizen.slice(9).slice(0, -1)) {
                case "sr":
                    setAttrs({hiddensr: 0});
                    break;
                case "lp":
                    setAttrs({
                        lebenspunkte_k: 0,
                        lebenspunkte_e: 0,
                        lebenspunkte_v: 0,
                        lebenspunkte_t: +v.lebenspunkte * 5
                    });
                    break;
                case "fokus":
                    setAttrs({
                        fokus_k: 0,
                        fokus_e: 0,
                        fokus_v: 0,
                        fokus_t: +v.fokus
                    });
                    break;
                case "gsw":
                    setAttrs({hiddengsw: 0});
                    setAttrs({hiddengswag: 0});
                    setAttrs({hiddengswbe: 0});
                    setAttrs({hiddengswspr: 0});
                    break;
                case "gw":
                    setAttrs({hiddengw: 0});
                    setAttrs({hiddengw: 0});
                    break;
                case "kw":
                    setAttrs({hiddenkw: 0});
                    break;
                case "ini":
                    setAttrs({hiddenini: 0});
                    break;
                case "schmerzresistenz":
                    setAttrs({schmerzresistenz: 0});
                    break;
                case "splitterpunkte":
                    setAttrs({hiddensplitterpunkte: 0});
                    break;
                default:
                    setAttrs({notizen: "Syntax-Fehler!"});
            }
            setAttrs({notizen: ""});
        }
    });
});

on("clicked:startimport", function(f) {
    getAttrs(["jsonimport"], function (v) {
        let importerror = false;
            try{
                var characterData = JSON.parse(v.jsonimport);
            } catch(err){
                importerror = true;
            }
            if (!importerror && v.jsonimport != "") {
                clearSheet();
                writeToSheet(characterData);
            } else {
                setAttrs({xmlimport: "Fehler beim Parsen des JSON-Strings!"})   
            }
    });
});

function writeToSheet (characterData) {
    let hg = 0;
    let character = {};
    let epeingesetzt = 0;
    if (characterData["system"] == "SPLITTERMOND") {
        let genderData = characterData["gender"];
        character["character_name"] = characterData["name"];
        character["gender"] = genderData ? genderData[0].toUpperCase() + genderData.slice(1) : "-";
        character["epeingesetzt"] = characterData["investedExp"] || 0;
        character["epgesamt"] = (+characterData["investedExp"] || 0) + +characterData["freeExp"];
        epeingesetzt = characterData["investedExp"] || 0;
        if (+epeingesetzt >= 100 && +epeingesetzt < 300) { hg = 2; } 
        else if (+epeingesetzt >= 300 && +epeingesetzt < 600) { hg = 3; }
        if (+epeingesetzt >= 600) { hg = 4; }
        setAttrs({hg: +hg});
        setAttrs(character);
        character["haarfarbe"] = characterData["hairColor"] || "-";
        character["augenfarbe"] = characterData["eyeColor"] || "-";
        character["geburtsort"] = characterData["birthplace"] || "-";
        character["groesse"] = characterData["size"] || "-";
        character["gewicht"] = characterData["weight"] || "-";
        character["mondzeichen"] = characterData["moonSign"]["name"] || "-";
        character["abstammung"] = characterData["background"] || "-";
        character["ausbildung"] = characterData["education"] || "-";
        character["rasse"] = characterData["race"] || "-";
        character["kultur"] = characterData["culture"] || "-";
        character["hautfarbe"] = characterData["furColor"] || "-";
        let attributestart = ["ausstrahlungstart", "beweglichkeitstart", "intuitionstart", "konstitutionstart", "mystikstart", "staerkestart", "verstandstart", "willenskraftstart"];
        let attributesvalue = ["ausstrahlung", "beweglichkeit", "intuition", "konstitution", "mystik", "staerke", "verstand", "willenskraft"];
        for (var i = 0; i < characterData["attributes"].length; i++) {
            character[attributestart[i]] = characterData["attributes"][i]["startValue"];
            character[attributesvalue[i]] = characterData["attributes"][i]["value"];
        }
        character["groessenklasse"] = characterData["attributes"][9]["value"];
        let ressources = {};
        let newrowid = 0;
        let description = "";
        let longdescription = "";
        let value = 0;
        for (var i = 0; i < characterData["resources"].length; i++) {
            value = characterData["resources"][i]["value"] || 0;
            if (value > 0) {
                newrowid = generateRowID();
                if (characterData["resources"][i]["description"] != null) {
                    description = " (" + characterData["resources"][i]["description"] + ")";
                } else {
                    description = "";
                }
                character["repeating_ressources_" + newrowid + "_ressourcename"] = characterData["resources"][i]["name"] + description;
                character["repeating_ressources_" + newrowid + "_ressourcevalue"] = +value;
            }
        }
        for (var i = 0; i < characterData["powers"].length; i++) {
            let power = characterData["powers"][i]["name"];
            value = characterData["powers"][i]["count"] || 0;
            newrowid = generateRowID();
            character["repeating_staerken_" + newrowid + "_staerke"] = power;
            character["repeating_staerken_" + newrowid + "_staerkenwert"] = value;
        }
        if (characterData["weaknesses"] != null) {
            for (var i = 0; i < characterData["weaknesses"].length; i++) {
                newrowid = generateRowID();
                character["repeating_schwaechen_" + newrowid + "_schwaeche"] = characterData["weaknesses"][i];
            }
        }
        if (characterData["languages"] != null) {
            for (var i = 0; i < characterData["languages"].length; i++) {
                newrowid = generateRowID();
                character["repeating_sprachen_" + newrowid + "_sprache"] = characterData["languages"][i];
            }
        }
        if (characterData["cultureLores"] != null) {
            for (var i = 0; i < characterData["cultureLores"].length; i++) {
                newrowid = generateRowID();
                character["repeating_kulturkunde_" + newrowid + "_kulturkunde"] = characterData["cultureLores"][i];
            }
        }
        let masteryname;
        let level;
        let masteryshortdescription = "";
        let masterylongdescription = "";
        let skill;
        let skillname;
        let skillvalue;
        let magicvalues = {};
        let skilltranslated = {"melee":"handgemengepunkte","slashing":"hiebwaffenpunkte","chains":"kettenwaffenpunkte","blades":"klingenwaffenpunkte","longrange":"schusswaffenpunkte","staffs":"stangenwaffenpunkte","throwing":"wurfwaffenpunkte","acrobatics":"akrobatikpunkte","alchemy":"alchemiepunkte","leadership":"anfuehrenpunkte","arcanelore":"arkanekundepunkte","athletics":"athletikpunkte","performance":"darbietungpunkte","diplomacy":"diplomatiepunkte","clscraft":"edelhandwerkpunkte","empathy":"empathiepunkte","determination":"entschlossenheitpunkte","dexterity":"fingerfertigkeitpunkte","history":"geschichteundmythenpunkte","craftmanship":"handwerkpunkte","heal":"heilkundepunkte","stealth":"heimlichkeitpunkte","hunting":"jagdkunstpunkte","countrylore":"laenderkundepunkte","nature":"naturkundepunkte","eloquence":"redegewandtheitpunkte","locksntraps":"schloesserundfallenpunkte","swim":"schwimmenpunkte","seafaring":"seefahrtpunkte","streetlore":"strassenkundepunkte","animals":"tierfuehrungpunkte","survival":"ueberlebenpunkte","perception":"wahrnehmungpunkte","endurance":"zaehigkeitpunkte","antimagic":"bannmagiepunkte","controlmagic":"beherrschungsmagiepunkte","motionmagic":"bewegungsmagiepunkte","insightmagic":"erkenntnismagiepunkte","stonemagic":"felsmagiepunkte","firemagic":"feuermagiepunkte","healmagic":"heilungsmagiepunkte","illusionmagic":"illusionsmagiepunkte","combatmagic":"kampfmagiepunkte","lightmagic":"lichtmagiepunkte","naturemagic":"naturmagiepunkte","shadowmagic":"schattenmagiepunkte","fatemagic":"schicksalsmagiepunkte","protectionmagic":"schutzmagiepunkte","enhancemagic":"staerkungsmagiepunkte","deathmagic":"todesmagiepunkte","transformationmagic":"verwandlungsmagiepunkte","watermagic":"wassermagiepunkte","windmagic":"windmagiepunkte"};
        let fightSkillList = ["handgemenge", "hiebwaffen", "kettenwaffen", "klingenwaffen", "stangenwaffen", "schusswaffen", "wurfwaffen"];
        let magicSkillList = ["bannmagie", "beherrschungsmagie", "bewegungsmagie", "erkenntnismagie", "felsmagie", "feuermagie", "heilmagie", "illusionsmagie", "kampfmagie", "lichtmagie", "naturmagie", "schattenmagie", "schicksalsmagie", "schutzmagie", "staerkungsmagie", "todesmagie", "verwandlungsmagie", "wassermagie", "windmagie"];
        for (var i = 0; i < characterData["skills"].length; i++) {
            let sprCount = 0;
            skill = characterData["skills"][i]["id"];
            skillname = translateGenesis(skill);
            skillvalue = characterData["skills"][i]["points"];
            magicvalues[skillname] = +skillvalue;
            if (characterData["skills"][i]["masterships"].length > 0) {
                for (var j = 0; j < characterData["skills"][i]["masterships"].length; j++) {
                    repeatingPrefix = "repeating_meisterschaften_";
                    newrowid = generateRowID();
                    masteryshortdescription = "";
                    masterylongdescription = "";
                    masteryname = characterData["skills"][i]["masterships"][j]["name"];
                    level = characterData["skills"][i]["masterships"][j]["level"];
                    if (characterData["skills"][i]["masterships"][j]["shortDescription"] != null) {
                        masteryshortdescription = characterData["skills"][i]["masterships"][j]["shortDescription"];
                    }
                    if (characterData["skills"][i]["masterships"][j]["longDescription"] != null) {
                        masterylongdescription = characterData["skills"][i]["masterships"][j]["longDescription"];
                    } else {
                        masterylongdescription = masteryshortdescription;
                    }

                    if (fightSkillList.includes(skillname)) {
                        repeatingPrefix = "repeating_meisterschaftenkampf_";
                    }
                    else if (magicSkillList.includes(skillname)) {
                        repeatingPrefix = "repeating_meisterschaftenmagie_";
                    }
                    character[repeatingPrefix + newrowid + "_meisterschaftsname"] = masteryname;
                    character[repeatingPrefix + newrowid + "_meisterschaftsfertigkeit"] = skillname;
                    character[repeatingPrefix + newrowid + "_meisterschaftsbeschreibung"] = masterylongdescription;
                    character[repeatingPrefix + newrowid + "_meisterschaftsschwelle"] = +level;
                    character[repeatingPrefix + newrowid + "_meisterschaftswirkung"] = masteryshortdescription;
                }
            }
            character[skilltranslated[skill]] = +skillvalue;
        }
        if (characterData["spells"].length > 0) {
            let translatedschoolstoschools = {"Arkane Kunde":"arkanekundezauber","Bannmagie":"bann","Beherrschungsmagie":"beherrschung","Bewegungsmagie":"bewegung","Erkenntnismagie":"erkenntnis","Felsmagie":"fels","Feuermagie":"feuer","Heilungsmagie":"heilung","Illusionsmagie":"illusion","Kampfmagie":"kampf","Lichtmagie":"licht","Naturmagie":"natur","Schattenmagie":"schatten","Schicksalsmagie":"schicksal","Schutzmagie":"schutz","Stärkungsmagie":"staerkung","Todesmagie":"tod","Verwandlungsmagie":"verwandlung","Wassermagie":"wasser","Windmagie":"wind"};
            let spelllongdescription = "";
            let spelldamage = "";
            for (var i = 0; i < characterData["spells"].length; i++) {
                newrowid = generateRowID();
                character["repeating_zauber_" + newrowid + "_zaubername"] = characterData["spells"][i]["name"];
                character["repeating_zauber_" + newrowid + "_magieschulen"] = translatedschoolstoschools[characterData["spells"][i]["school"]];
                character["repeating_zauber_" + newrowid + "_zauberschwierigkeit"] = characterData["spells"][i]["difficulty"];
                character["repeating_zauber_" + newrowid + "_zauberkosten"] = characterData["spells"][i]["focus"];
                character["repeating_zauber_" + newrowid + "_zauberdauer"] = characterData["spells"][i]["castDuration"];
                character["repeating_zauber_" + newrowid + "_zauberrw"] = characterData["spells"][i]["castRange"];
                character["repeating_zauber_" + newrowid + "_zauberwd"] = characterData["spells"][i]["spellDuration"];
                if (characterData["spells"][i]["longDescription"] != null) {
                    spelllongdescription = characterData["spells"][i]["longDescription"];
                    character["repeating_zauber_" + newrowid + "_zauberbeschreibung"] = spelllongdescription;
                }
            }
        }
        if (characterData["notes"] != null) {
            character["notizen"] = characterData["notes"];
        }
        let meleeskills = {"BEW":"bew","STÄ":"stae","AUS":"aus","INT":"int","KON":"kon","MYS":"mys","VER":"ver","WIL":"wil"};
        if (characterData["meleeWeapons"].length > 0) {
            let merkmale = "";
            let damage;
            let damagewuerfel;
            let damageplus;
            for (var i = 0; i < characterData["meleeWeapons"].length; i++) {
                newrowid = generateRowID();
                merkmale = "";
                character["repeating_nahkampfwaffen_" + newrowid + "_waffenname"] = characterData["meleeWeapons"][i]["name"];
                character["repeating_nahkampfwaffen_" + newrowid + "_waffenskill"] = characterData["meleeWeapons"][i]["skill"].toLowerCase();
                
                if (characterData["meleeWeapons"][i]["attribute1"] != null) {
                    character["repeating_nahkampfwaffen_" + newrowid + "_waffenattr1"] = meleeskills[characterData["meleeWeapons"][i]["attribute1"]];
                    character["repeating_nahkampfwaffen_" + newrowid + "_waffenattr2"] = meleeskills[characterData["meleeWeapons"][i]["attribute2"]];
                }
                character["repeating_nahkampfwaffen_" + newrowid + "_waffenwgs"] = characterData["meleeWeapons"][i]["weaponSpeed"];
                if (characterData["meleeWeapons"][i]["damage"] != null) {
                    damage = characterData["meleeWeapons"][i]["damage"].toString().split("W")[0] || 0;
                    damagewuerfel = "d" + characterData["meleeWeapons"][i]["damage"].toString().split("W")[1].toString().split("+")[0];
                    damageplus = characterData["meleeWeapons"][i]["damage"].toString().split("W")[1].toString().split("+")[1] || 0;
                    character["repeating_nahkampfwaffen_" + newrowid + "_waffenschaden1"] = damage;
                    character["repeating_nahkampfwaffen_" + newrowid + "_waffenschadenwuerfel"] = damagewuerfel;
                    character["repeating_nahkampfwaffen_" + newrowid + "_waffenschaden3"] = damageplus;
                } 
                if (characterData["meleeWeapons"][i]["features"].length > 0) {
                    for (var j = 0; j < characterData["meleeWeapons"][i]["features"].length; j++) {
                        merkmale += characterData["meleeWeapons"][i]["features"][j]["name"];
                        if (j < (characterData["meleeWeapons"][i]["features"].length - 1)) {
                            merkmale += ", ";
                        }
                    }
                }
                character["repeating_nahkampfwaffen_" + newrowid + "_waffenmerkmale"] = merkmale;
            }
        }
        if (characterData["longRangeWeapons"].length > 0) {
            merkmale = "";
            damage = "";
            damagewuerfel = "";
            damageplus = "";
            for (var i = 0; i < characterData["longRangeWeapons"].length; i++) {
                newrowid = generateRowID();
                merkmale = "";
                character["repeating_fernkampfwaffen_" + newrowid + "_waffennamefern"] = characterData["longRangeWeapons"][i]["name"];
                character["repeating_fernkampfwaffen_" + newrowid + "_waffenskillfern"] = characterData["longRangeWeapons"][i]["skill"].toLowerCase();
                if (characterData["longRangeWeapons"][i]["attribute1"] != null) {
                    character["repeating_fernkampfwaffen_" + newrowid + "_waffenattr1fern"] = meleeskills[characterData["longRangeWeapons"][i]["attribute1"]];
                    character["repeating_fernkampfwaffen_" + newrowid + "_waffenattr2fern"] = meleeskills[characterData["longRangeWeapons"][i]["attribute2"]];
                }
                character["repeating_fernkampfwaffen_" + newrowid + "_waffenwgsfern"] = characterData["longRangeWeapons"][i]["weaponSpeed"];
                if (characterData["longRangeWeapons"][i]["damage"] != null && characterData["longRangeWeapons"][i]["damage"] != "") {
                    damage = characterData["longRangeWeapons"][i]["damage"].toString().split("W")[0];
                    damagewuerfel = "d" + characterData["longRangeWeapons"][i]["damage"].toString().split("W")[1].toString().split("+")[0];
                    damageplus = characterData["longRangeWeapons"][i]["damage"].toString().split("W")[1].toString().split("+")[1] || 0;
                    character["repeating_fernkampfwaffen_" + newrowid + "_waffenschaden1fern"] = damage;
                    character["repeating_fernkampfwaffen_" + newrowid + "_waffenschadenwuerfelfern"] = damagewuerfel;
                    character["repeating_fernkampfwaffen_" + newrowid + "_waffenschaden3fern"] = damageplus;
                }
                character["repeating_fernkampfwaffen_" + newrowid + "_waffenrwfern"] = characterData["longRangeWeapons"][i]["range"];
                if (characterData["longRangeWeapons"][i]["features"].length > 0) {
                    for (var j = 0; j < characterData["longRangeWeapons"][i]["features"].length; j++) {
                        merkmale += characterData["longRangeWeapons"][i]["features"][j]["name"];
                        if (j < (characterData["longRangeWeapons"][i]["features"].length - 1)) {
                            merkmale += ", ";
                        }
                    }
                }
                character["repeating_fernkampfwaffen_" + newrowid + "_waffenmerkmalefern"] = merkmale;
            }
        }
        let ruestungsmerkmale;
        if (characterData["armors"].length > 0) {
            for (var i = 0; i < characterData["armors"].length; i++) {
                ruestungsmerkmale = "";
                newrowid = generateRowID();
                character["repeating_ruestungen_" + newrowid + "_ruestungsname"] = characterData["armors"][i]["name"];
                character["repeating_ruestungen_" + newrowid + "_ruestungsvtd"] = characterData["armors"][i]["defense"];
                character["repeating_ruestungen_" + newrowid + "_ruestungssr"] = characterData["armors"][i]["damageReduction"];
                character["repeating_ruestungen_" + newrowid + "_ruestungsbe"] = characterData["armors"][i]["handicap"];
                character["repeating_ruestungen_" + newrowid + "_ruestungstickplus"] = characterData["armors"][i]["tickMalus"];
                if (characterData["armors"][i]["features"].length == 1) {
                    ruestungsmerkmale = characterData["armors"][i]["features"][0]["name"];
                    if (characterData["armors"][i]["features"][0]["level"] > 0) {
                        ruestungsmerkmale += " " + characterData["armors"][i]["features"][0]["level"];
                    }
                } else if (characterData["armors"][i]["features"].length > 1) {
                    for (var j = 0; j < characterData["armors"][i]["features"].length; j++) {
                        ruestungsmerkmale += characterData["armors"][i]["features"][j]["name"];
                        if (characterData["armors"][i]["features"][j]["level"] > 0) {
                            ruestungsmerkmale += " " + characterData["armors"][i]["features"][j]["level"];    
                        }
                        if (j < (characterData["armors"][i]["features"].length - 1)) {
                            ruestungsmerkmale += ", ";
                        }
                    }
                }
                character["repeating_ruestungen_" + newrowid + "_ruestungsmerkmal"] = ruestungsmerkmale;
            }
        }
        if (characterData["shields"].length > 0) {
            merkmale = "";
            character["schildname"] = characterData["shields"][0]["name"];
            character["schildvtd"] = characterData["shields"][0]["defensePlus"];
            character["schildbe"] = characterData["shields"][0]["handicap"];
            character["schildtickplus"] = characterData["shields"][0]["tickMalus"];
            character["schildmerkmale"] = characterData["shields"][0]["features"][0]["name"];
            newrowid = generateRowID();
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenname"] = "Schildstoß";
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenskill"] = characterData["shields"][0]["skill"].toLowerCase();
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenattr1"] = "bew";
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenattr2"] = "stae";
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenwgs"] = "7";
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenschaden1"] = "1";
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenschadenwuerfel"] = "d6";
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenschaden3"] = "1";
            character["repeating_nahkampfwaffen_" + newrowid + "_waffenmerkmale"] = characterData["shields"][0]["features"][0]["name"];
        }
        if (characterData["items"].length > 0 && characterData["items"] != null) {
            let count;
            let item;
            for (var i = 0; i < characterData["items"].length; i++) {
                item = characterData["items"][i]["name"];
                count = characterData["items"][i]["count"];
                newrowid = generateRowID();
                character["repeating_ausruestung_" + newrowid + "_anzahl"] = +count;
                character["repeating_ausruestung_" + newrowid + "_name"] = item;
                character["repeating_ausruestung_" + newrowid + "_getragen"] = true;
            }
        }
        setAttrs(character);
    } else {
        characterData = characterData["splimochar"];    
        setAttrs({character_name: characterData["name"]});
        switch (characterData["gender"]) {
            case ("MALE"):
                setAttrs({gender: "Männlich"});
                break;
            case ("FEMALE"):
                setAttrs({gender: "Weiblich"});
                break;
            default:
                setAttrs({gender: "Undefiniert"});
        }
        setAttrs({epeingesetzt: characterData["_expinv"] || 0});
        epeingesetzt = characterData["_expinv"] || 0;
        setAttrs({epgesamt: (+characterData["_expinv"] || 0) + +characterData["_expfree"] });
        if (+epeingesetzt >= 100 && +epeingesetzt < 300) { hg = 2; } 
        else if (+epeingesetzt >= 300 && +epeingesetzt < 600) { hg = 3; }
        if (+epeingesetzt >= 600) { hg = 4; }
        setAttrs({heldengrad: +hg});
        setAttrs({haarfarbe: characterData["hairColor"]});
        setAttrs({augenfarbe: characterData["eyeColor"]});
        setAttrs({geburtsort: characterData["birthPlace"]});
        setAttrs({groesse: characterData["size"]});
        setAttrs({gewicht: characterData["weight"]});
        setAttrs({mondzeichen: translateGenesis(characterData["_splinter"])});
        setAttrs({abstammung: translateGenesis(characterData["_bground"])});
        setAttrs({ausbildung: translateGenesis(characterData["_edu"])});
        setAttrs({rasse: translateGenesis(characterData["_race"])});
        setAttrs({kultur: translateGenesis(characterData["_culture"])});
        for (var i = 0; i < characterData["attributes"]["attr"].length; i++) {
            switch (characterData["attributes"]["attr"][i]["_id"]) {
                case ("CHARISMA"):
                    setAttrs({ausstrahlungstart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({ausstrahlung: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                case ("AGILITY"):
                    setAttrs({beweglichkeitstart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({beweglichkeit: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                case ("INTUITION"):
                    setAttrs({intuitionstart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({intuition: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                case ("CONSTITUTION"):
                    setAttrs({konstitutionstart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({konstitution: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                case ("MYSTIC"):
                    setAttrs({mystikstart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({mystik: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                case ("STRENGTH"):
                    setAttrs({staerkestart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({staerke: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                case ("MIND"):
                    setAttrs({verstandstart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({verstand: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                case ("WILLPOWER"):
                    setAttrs({willenskraftstart: characterData["attributes"]["attr"][i]["_start"]});
                    setAttrs({willenskraft: characterData["attributes"]["attr"][i]["_value"]});
                    break;
                default:
                    setAttrs({xmlimport: "Fehler: Unbekanntes Attribut."});
            }
        }
        let ressources = {};
        let newrowid = 0;
        let description = "";
        let value = 0;
        for (var i = 0; i < characterData["resourcerefs"]["resourceref"].length; i++) {
            value = characterData["resourcerefs"]["resourceref"][i]["_val"] || 0;
            if (value > 0) {
                newrowid = generateRowID();
                if (characterData["resourcerefs"]["resourceref"][i].hasOwnProperty('_description')) {
                    description = " (" + characterData["resourcerefs"]["resourceref"][i]["_description"] + ")";    
                } else {
                    description = "";
                }
                ressources["repeating_ressources_" + newrowid + "_ressourcename"] = translateGenesis(characterData["resourcerefs"]["resourceref"][i]["_ref"]) + description;
                ressources["repeating_ressources_" + newrowid + "_ressourcevalue"] = value;
                setAttrs(ressources);  
            }
        }
        let staerken = {};
        for (var i = 0; i < characterData["powerrefs"]["powerref"].length; i++) {
            value = characterData["powerrefs"]["powerref"][i]["_count"] || 0;
            newrowid = generateRowID();
            staerken["repeating_staerken_" + newrowid + "_staerke"] = translateGenesis(characterData["powerrefs"]["powerref"][i]["_ref"]);
            staerken["repeating_staerken_" + newrowid + "_staerkenwert"] = value;
            setAttrs(staerken);
        }
        if (characterData["weaknesses"] != null) {
            let schwaechen = {};
            if (Array.isArray(characterData["weaknesses"]["weakness"])) {
                for (var i = 0; i <= characterData["weaknesses"]["weakness"].length; i++) {
                    let schwaeche = characterData["weaknesses"]["weakness"][i];
                    newrowid = generateRowID();
                    schwaeche = schwaeche.charAt(0).toUpperCase() + schwaeche.slice(1);
                    schwaechen["repeating_schwaechen_" + newrowid + "_schwaeche"] = schwaeche;
                    setAttrs(schwaechen);
                }  
            } else {
                    newrowid = generateRowID();
                    schwaechen["repeating_schwaechen_" + newrowid + "_schwaeche"] = characterData["weaknesses"]["weakness"];
                    setAttrs(schwaechen);
            }
            
        }
        if (characterData["languages"] != null) {
            let languages = {};
            if (Array.isArray(characterData["languages"]["languageref"])) {
                for (var i = 0; i < characterData["languages"]["languageref"].length; i++) {
                    let language = characterData["languages"]["languageref"][i]["_ref"];
                    newrowid = generateRowID();
                    language = language.charAt(0).toUpperCase() + language.slice(1);
                    languages["repeating_sprachen_" + newrowid + "_sprache"] = language;
                    setAttrs(languages);
                }
            } else {
                    newrowid = generateRowID();
                    let language = characterData["languages"]["languageref"]["_ref"];
                    language = language.charAt(0).toUpperCase() + language.slice(1);
                    languages["repeating_sprachen_" + newrowid + "_sprache"] = language;
                    setAttrs(languages);
            }
        }
        if (characterData["culturelores"] != null) {
            let culturelores = {};
            if (Array.isArray(characterData["culturelores"]["cultloreref"])) {
                for (var i = 0; i < characterData["culturelores"]["cultloreref"].length; i++) {
                    let culturelore = translateGenesis(characterData["culturelores"]["cultloreref"][i]["_ref"]);
                    newrowid = generateRowID();
                    culturelores["repeating_kulturkunde_" + newrowid + "_kulturkunde"] = culturelore;
                    setAttrs(culturelores);
                }
            } else {
                    newrowid = generateRowID();
                    let culturelore = translateGenesis(characterData["culturelores"]["cultloreref"]["_ref"]);
                    culturelores["repeating_kulturkunde_" + newrowid + "_kulturkunde"] = culturelore;
                    setAttrs(culturelores);
            }
        }
        var skillvalue = 0;
        var masteryname;
        var masteries = {};
        for (var i = 0; i < characterData["skillvals"]["skillval"].length; i++) {
            let skill = characterData["skillvals"]["skillval"][i]["_skill"]
            let skillname = translateGenesis(skill);
            let repeatingPrefix = "repeating_meisterschaften_";
            let fightSkillList = ["handgemenge", "hiebwaffen", "kettenwaffen", "klingenwaffen", "stangenwaffen", "schusswaffen", "wurfwaffen"];
            let magicSkillList = ["bannmagie", "beherrschungsmagie", "bewegungsmagie", "erkenntnismagie", "felsmagie", "feuermagie", "heilmagie", "illusionsmagie", "kampfmagie", "lichtmagie", "naturmagie", "schattenmagie", "schicksalsmagie", "schutzmagie", "staerkungsmagie", "todesmagie", "verwandlungsmagie", "wassermagie", "windmagie"];

            if (fightSkillList.includes(skillname)) {
                repeatingPrefix = "repeating_meisterschaftenkampf_";
            }
            else if (magicSkillList.includes(skillname)) {
                repeatingPrefix = "repeating_meisterschaftenmagie_";
            }
            skillvalue = 0;
            if (characterData["skillvals"]["skillval"][i].hasOwnProperty("_val")) {
                skillvalue = characterData["skillvals"]["skillval"][i]["_val"];
            }
            if (characterData["skillvals"]["skillval"][i].hasOwnProperty("masterref")) {
                if (Array.isArray(characterData["skillvals"]["skillval"][i]["masterref"])) {
                    for (var j = 0; j < characterData["skillvals"]["skillval"][i]["masterref"].length; j++) {
                        masteryname = characterData["skillvals"]["skillval"][i]["masterref"][j]["_ref"];
                        masteryname = masteryname.split("/")[1];
                        masteryname = translateGenesis(masteryname);
                        newrowid = generateRowID();
                        masteries[repeatingPrefix + newrowid + "_meisterschaftsname"] = masteryname;
                        masteries[repeatingPrefix + newrowid + "_meisterschaftsfertigkeit"] = skillname;
                        masteries[repeatingPrefix + newrowid + "_meisterschaftsschwelle"] = 1;
                        setAttrs(masteries);
                    }
                } else {
                        masteryname = characterData["skillvals"]["skillval"][i]["masterref"]["_ref"];
                        masteryname = masteryname.split("/")[1];
                        masteryname = translateGenesis(masteryname);
                        newrowid = generateRowID();
                        masteries[repeatingPrefix + newrowid + "_meisterschaftsname"] = masteryname;
                        masteries[repeatingPrefix + newrowid + "_meisterschaftsfertigkeit"] = skillname;
                        masteries[repeatingPrefix + newrowid + "_meisterschaftsschwelle"] = 1;
                        setAttrs(masteries);
                }
            }
            switch (skill) {
                case ("melee"):
                    setAttrs({handgemengepunkte: +skillvalue});
                    break;
                case ("slashing"):
                    setAttrs({hiebwaffenpunkte: +skillvalue});
                    break;
                case ("chains"):
                    setAttrs({kettenwaffenpunkte: +skillvalue});
                    break;
                case ("blades"):
                    setAttrs({klingenwaffenpunkte: +skillvalue});
                    break;
                case ("longrange"):
                    setAttrs({schusswaffenpunkte: +skillvalue});
                    break;
                case ("staffs"):
                    setAttrs({stangenwaffenpunkte: +skillvalue});
                    break;
                case ("throwing"):
                    setAttrs({wurfwaffenpunkte: +skillvalue});
                    break;
                case ("acrobatics"):
                    setAttrs({akrobatikpunkte: +skillvalue});
                    break;
                case ("alchemy"):
                    setAttrs({alchemiepunkte: +skillvalue});
                    break;
                case ("leadership"):
                    setAttrs({anfuehrenpunkte: +skillvalue});
                    break;
                case ("arcanelore"):
                    setAttrs({arkanekundepunkte: +skillvalue});
                    break;
                case ("athletics"):
                    setAttrs({athletikpunkte: +skillvalue});
                    break;
                case ("performance"):
                    setAttrs({darbietungpunkte: +skillvalue});
                    break;
                case ("diplomacy"):
                    setAttrs({diplomatiepunkte: +skillvalue});
                    break;
                case ("clscraft"):
                    setAttrs({edelhandwerkpunkte: +skillvalue});
                    break;
                case ("empathy"):
                    setAttrs({empathiepunkte: +skillvalue});
                    break;
                case ("determination"):
                    setAttrs({entschlossenheitpunkte: +skillvalue});
                    break;
                case ("dexterity"):
                    setAttrs({fingerfertigkeitpunkte: +skillvalue});
                    break;
                case ("history"):
                    setAttrs({geschichteundmythenpunkte: +skillvalue});
                    break;
                case ("craftmanship"):
                    setAttrs({handwerkpunkte: +skillvalue});
                    break;
                case ("heal"):
                    setAttrs({heilkundepunkte: +skillvalue});
                    break;
                case ("stealth"):
                    setAttrs({heimlichkeitpunkte: +skillvalue});
                    break;
                case ("hunting"):
                    setAttrs({jagdkunstpunkte: +skillvalue});
                    break;
                case ("countrylore"):
                    setAttrs({laenderkundepunkte: +skillvalue});
                    break;
                case ("nature"):
                    setAttrs({naturkundepunkte: +skillvalue});
                    break;
                case ("eloquence"):
                    setAttrs({redegewandtheitpunkte: +skillvalue});
                    break;
                case ("locksntraps"):
                    setAttrs({schloesserundfallenpunkte: +skillvalue});
                    break;
                case ("swim"):
                    setAttrs({schwimmenpunkte: +skillvalue});
                    break;
                case ("seafaring"):
                    setAttrs({seefahrtpunkte: +skillvalue});
                    break;
                case ("streetlore"):
                    setAttrs({strassenkundepunkte: +skillvalue});
                    break
                case ("animals"):
                    setAttrs({tierfuehrungpunkte: +skillvalue});
                    break;
                case ("survival"):
                    setAttrs({ueberlebenpunkte: +skillvalue});
                    break;
                case ("perception"):
                    setAttrs({wahrnehmungpunkte: +skillvalue});
                    break;
                case ("endurance"):
                    setAttrs({zaehigkeitpunkte: +skillvalue});
                    break;
                case ("antimagic"):
                    setAttrs({bannmagiepunkte: +skillvalue});
                    break;
                case ("controlmagic"):
                    setAttrs({beherrschungsmagiepunkte: +skillvalue});
                    break;
                case ("motionmagic"):
                    setAttrs({bewegungsmagiepunkte: +skillvalue});
                    break;
                case ("insightmagic"):
                    setAttrs({erkenntnismagiepunkte: +skillvalue});
                    break;
                case ("stonemagic"):
                    setAttrs({felsmagiepunkte: +skillvalue});
                    break;
                case ("firemagic"):
                    setAttrs({feuermagiepunkte: +skillvalue});
                    break;
                case ("healmagic"):
                    setAttrs({heilungsmagiepunkte: +skillvalue});
                    break;
                case ("illusionmagic"):
                    setAttrs({illusionsmagiepunkte: +skillvalue});
                    break;
                case ("combatmagic"):
                    setAttrs({kampfmagiepunkte: +skillvalue});
                    break;
                case ("lightmagic"):
                    setAttrs({lichtmagiepunkte: +skillvalue});
                    break;
                case ("naturemagic"):
                    setAttrs({naturmagiepunkte: +skillvalue});
                    break;
                case ("shadowmagic"):
                    setAttrs({schattenmagiepunkte: +skillvalue});
                    break;
                case ("fatemagic"):
                    setAttrs({schicksalsmagiepunkte: +skillvalue});
                    break;
                case ("protectionmagic"):
                    setAttrs({schutzmagiepunkte: +skillvalue});
                    break;
                case ("enhancemagic"):
                    setAttrs({staerkungsmagiepunkte: +skillvalue});
                    break;
                case ("deathmagic"):
                    setAttrs({todesmagiepunkte: +skillvalue});
                    break;
                case ("transformationmagic"):
                    setAttrs({verwandlungsmagiepunkte: +skillvalue});
                    break;
                case ("watermagic"):
                    setAttrs({wassermagiepunkte: +skillvalue});
                    break;
                case ("windmagic"):
                    setAttrs({windmagiepunkte: +skillvalue});
                    break;
            }
        }
        var magicschools = {"antimagic":"bann","controlmagic":"beherrschung","motionmagic":"bewegung","insightmagic":"erkenntnis","stonemagic":"fels","firemagic":"feuer","healmagic":"heilung","illusionmagic":"illusion","combatmagic":"kampf","lightmagic":"licht","naturemagic":"natur","shadowmagic":"schatten","fatemagic":"schicksal","protectionmagic":"schutz","enhancemagic":"staerkung","deathmagic":"tod","transformationmagic":"verwandlung","watermagic":"wasser","windmagic":"wind"};
        if (characterData["spellvals"] != null) {
            var spells = {};
            for (var i = 0; i < characterData["spellvals"]["spellval"].length; i++) {
                let school = characterData["spellvals"]["spellval"][i]["_school"];
                let spell = characterData["spellvals"]["spellval"][i]["_spell"];
                newrowid = generateRowID();
                spells["repeating_zauber_" + newrowid + "_zaubername"] = translateGenesis(spell);
                if (school in magicschools) {
                    school = magicschools[school];
                }
                spells["repeating_zauber_" + newrowid + "_magieschulen"] = school;
                setAttrs(spells);
            }
        }
        let items = "";
        for (var i = 0; i < characterData["carries"]["item"].length; i++) {
            let item = characterData["carries"]["item"][i]["_ref"].charAt(0).toUpperCase() + characterData["carries"]["item"][i]["_ref"].slice(1);
            let count = characterData["carries"]["item"][i]["_count"];
            if (+count > 1) { 
                item += " (" + count + ")";
            }
            items += item + "\n";
        }
        setAttrs({stuff: items});
    }
    setAttrs({jsonimport: "Import erfolgreich abgeschlossen."});
    setAttrs({startimport: 0});
}

function clearSheet() {
    let exp = 0;
    setAttrs({
       ansehenswert: 0,
       kontaktewert: 0,
       standwert: 0,
       vermoegenswert: 0
    });
    getSectionIDs("repeating_ressources", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_ressources_" + idarray[i]);
      }
    });
    setAttrs({
       hiddenlp: 0,
       hiddenfokus: 0,
       hiddengsw: 0,
       hiddengw: 0,
       hiddenkw: 0,
       hiddensr: 0,
       hiddenini: 0,
       schemerzresistenz: 0,
       hiddensplitterpunkte: 0,
       hiddensbm: 0,
       sprintercount: 0
    });
    getSectionIDs("repeating_staerken", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_staerken_" + idarray[i]);
        }
    });
    getSectionIDs("repeating_schwaechen", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_schwaechen_" + idarray[i]);
      }
    });
    setAttrs({
        hiddenausstrahlungmod: 0,
        hiddenbeweglichkeitmod: 0,
        hiddenintuitionmod: 0,
        hiddenkonstitutionmod: 0,
        hiddenmystikmod: 0,
        hiddenstaerkemod: 0,
        hiddenverstandmod: 0,
        hiddenwillenskraftmod: 0
    });
    getSectionIDs("repeating_attributmods", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_attributmods_" + idarray[i]);
      }
    });
    getSectionIDs("repeating_sprachen", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_sprachen_" + idarray[i]);
      }
    });
    getSectionIDs("repeating_kulturkunde", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_kulturkunde_" + idarray[i]);
      }
    });
    getSectionIDs("repeating_nahkampfwaffen", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_nahkampfwaffen_" + idarray[i]);
      }
    });
    getSectionIDs("repeating_fernkampfwaffen", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_fernkampfwaffen_" + idarray[i]);
      }
    });
    setAttrs({
        verwundet: 0,
        benommen: 0,
        geblendet: 0,
        erschoepft: 0,
        lahm: 0
    });
    getSectionIDs("repeating_zustaende", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_zustaende_" + idarray[i]);
      }
    });
    getSectionIDs("repeating_zauber", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_zauber_" + idarray[i]);
      }
    });
    setAttrs({
        gesamtsr: 0,
        gesamtbe: 0,
        schildbe: 0
    });
    getSectionIDs("repeating_ruestungen", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_ruestungen_" + idarray[i]);
      }
    });
    setAttrs({
       hiddeninibr: 0,
       hiddenvtdgr: 0,
       rt1: 0,
       rt2: 0,
       st1: 0,
       st2: 0,
       sw1: 0,
       sw2: 0,
       hiddengswag: 0
    });
    getSectionIDs("repeating_meisterschaften", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_meisterschaften_" + idarray[i]);
      }
    });
    getSectionIDs("repeating_meisterschaftenkampf", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_meisterschaftenkampf_" + idarray[i]);
        }
    });
    getSectionIDs("repeating_meisterschaftenmagie", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_meisterschaftenmagie_" + idarray[i]);
        }
    });
    getSectionIDs("repeating_ausruestung", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_ausruestung_" + idarray[i]);
        }
    });
}

function translateGenesis (termToTranslate) {
    var ressources = {"reputation":"Ansehen","status":"Stand","contacts":"Kontakte","wealth":"Vermögen","creature":"Kreatur","mentor":"Mentor","rank":"Rang","refuge":"Zuflucht","entourage":"Gefolge","relic":"Relikt","faith":"Glaube"};
    var apprenticeships = {"arcanesage":"Arkaner Gelehrter", "circlefirsthouse":"Zirkelmagier des ersten Hauses", "circlethirdhouse":"Zirkelmagier des dritten Hauses", "morkaipriest":"Morkai-Priester", "beastmaster":"Bestienmeister", "asii":"Asii", "bloodrider":"Blutreiter", "shadowsnake":"Schattenschlange", "animalmagician":"Tierzauberer", "elementalist":"Elementarist", "circleelementalist":"Elementarist des Zirkels", "firecaller":"Feuerrufer", "masterofstone":"Steinmeister", "tempesttamer":"Sturmbändiger", "titanchild":"Titanenkinder", "servantofrockandflame":"Diener von Fels und Flamme", "explorer":"Entdecker", "searcherofforefathers":"Ahnensucher", "truthseeker":"Wahrheitsfinder", "wavewalker":"Wogenwanderer", "faithwarrior":"Glaubenskrieger", "baruopriest":"Baruo-Priester", "whitewatcher":"WeiÃŸer Wächter", "ghosttearer":"GeistreiÃŸer", "shieldmaid":"Schildmaid", "glow_walker":"Glutgänger", "grimman":"Grimmanswachen", "cervaritam":"Cervaritam", "moonwolf":"Mondwolf", "corsairpriest":"Korsarenpriester", "wingguardian":"Schwingenwächter", "border_crosser":"Grenzgänger", "westergrom_resister":"Westergromer Widerständler", "farn_ranger":"Farnischläufer", "tree_settler":"Baumsiedler", "healer":"Heiler", "lifeguardian":"Lebenswächter", "potionmaster":"Trankmeister", "delarain":"Delarain", "ghosthealer":"Geistheiler", "priesthelphand":"Priester der Helfenden Hand", "circlesecondhouse":"Zirkelmagier des zweiten Hauses", "inquisitor":"Inquisitor", "honorguard":"Ehrwächter", "voice_of_ghosts":"Stimme der Geister", "nighthawk":"Nachtfalke", "fighter":"Kämpfer", "weaponsmaster":"Waffenmeister", "fameseeker":"Ruhmsucher", "fang":"ReiÃŸzahn", "clanwarrior":"Klankrieger", "sarnburg_defender":"Sarnburger Wehrstreiter", "martial_artist":"Kampfk&uuml;nstler", "monk_red_phoenix":"M&ouml;nch des Roten Ph&ouml;nix", "mountainmonk":"Bergm&ouml;nch", "circle_student":"Sch&uuml;ler des Kreises", "cultist":"Kultist", "herold_of_doom":"Untergangsverk&uuml;nder", "ronite":"Ronite", "disciple_dragonfish":"J&uuml;nger des Drachenfisch", "lyxapriest":"Lyxa-Priester", "scout":"Kundschafter", "shadowrunner":"Schattenläufer", "seahawk":"Seefalke", "treetopscout":"Wipfelspäher", "pathfinder":"Wegfinder", "sleeples_rider":"Reiter der Schlaflosen", "flamefinder":"Flammenfinder", "magicmediator":"Magischer Unterhändler", "mediator":"Mediator", "discipleoflyxa":"J&uuml;nger von Lyxa", "desertsage":"W&uuml;stenweiser", "goden":"Goden", "esmoda_mediator":"Esmodanische Unterhändler", "inspektor_of_symbols":"Inspektor der Zeichen", "mystic":"Mystiker", "deepseeker":"Tiefensucher", "stonefather":"Steinvater/-Mutter", "firedancer":"Feuertänzer", "mysticwarrior":"Mystischer Krieger", "skeftamagi":"Skeftamagi", "bladedancer":"Klingentänzer", "runewarrior":"Runenkrieger", "firemercenary":"Feuers&ouml;ldner", "lorepriest":"Priester des Wissens", "drakeguardian":"Drakenwächter", "keeperofsecrets":"H&uuml;ter der Geheimnisse", "discipleofrahidis":"J&uuml;nger Rahidis", "adeshbid":"Adeshbid", "scriptseeker":"Schriftensucher", "yonnuspriest":"Yonnus-Priester", "flying_snake":"Fliegende Schlange", "singer_of_truth":"Wahrsängerinnen", "intriguer":"Ränkeschmied", "legendsinger":"Legendensänger", "waveenvoy":"Wogenbote", "gutterprince":"Gossenprinz", "silvershadow":"Silberschatten", "wise_pusa":"Weise von Pusa", "warrior":"Recke", "wyrmbannknight":"Ritter des Wyrmbann", "swordjudge":"Schwertrichter", "bladeguardian":"Klingenwächter", "sipahi":"Sipahi", "disciple_jord":"J&uuml;nger Jords", "kantioku":"Kantioku", "spiderofficer":"Offizier der Spinne", "shadowblade":"Schattenklinge", "protector":"Protector", "streetblade":"StraÃŸenklinge", "stormcorsar":"Sturmkorsar", "preserver_of_web":"Bewahrer des Gewebes", "caransassassin":"Carans Assassinen", "showman":"Schausteller", "minstrel":"Minnesänger", "bard":"Sangesgeselle", "jester":"Hofnarr", "rogue":"Schurke", "goldhand":"Goldhand", "wallstriker":"Mauerst&uuml;rmer", "trapmaster":"Fallenmeister", "soulguide":"Seelenf&uuml;hrer", "galstarsinger":"Galstarsänger", "augur":"Auguren", "ghostseeker":"Geistsucher", "enlightenedone":"Erleuchteter", "animalleader":"Tierf&uuml;hrer", "monkeyhand":"Affenhand", "butterflydancer":"Schmetterlingstänzer", "pigeonking":"Taubenk&ouml;nig", "transformer":"Verwandler", "animalformer":"Tierverwandler", "warlock":"Hexer", "aurifer":"Aurifer", "circlefifthhouse":"Zirkelmagier des f&uuml;nften Hauses", "ranger":"Waldläufer", "desertranger":"Sandläufer", "tunnelguardian":"Tunnelwächter", "beastcaller":"Bestienrufer", "meng_shou":"Meng Shou", "qin_shou":"Qin Shou", "wandererpriest":"Wanderpriester", "stormcaller":"Sturmrufer", "lunarseeker":"Lunare Sucher", "hammerpriest":"Hammerpriester", "druid":"Druide", "moonshaman":"Mondschamane", "vordanshield":"Vordans Schilde", "servantofape":"Diener des Affen", "zaruszpriestshaman":"Zarusz-Priesterschamane", "drugonjourneyma":"Drugongeselle","wondermaker":"Wunderwerker", "firnbezwinger":"Firnbezwinger", "athanorier":"Athanorier", "daugther_maker":"Tochter des Schaffens"};
    var cultures = {"gulong":"Gulong","dakardsmyr":"Dakardsmyr","aitushar":"Aitushar","mertstaedt":"Mertalischer Städtebund","dalmreich":"Dalmarisches Reich","elyrrose":"Elyrea - Rosenorden","elyrvolk":"Elyrea - Volk","furgand":"Furgand","immersomm":"Immersommeralben","jagodien":"Jagodien","jagodsklav":"Jogodai - Sklaven","jagodstamm":"Jogodai - Stammesangeh&ouml;riger","midstad":"Midstad","nyrdfing":"Nyrdfing","patalis":"Patalis","selenia":"Selenia","teleshai":"Teleshai","termark":"Termark","tirdurghachan":"Tir Durghachan","unreich":"Unreich","vaigarr":"Vaigarr","waechter":"Wächterbund","westergrom":"Westergrom","wintholt":"Wintholt","zwingard":"Zwingard","arkuri":"Arkuri", "frynjord":"Frynjord",  "raugarr":"Raugarr", "sadu":"Sadu", "schwertadel":"Schwertalben - Adel", "schwertvolk":"Schwertalben - Volk", "zhoujiang":"Zhoujiang", "daemmeralb":"Dämmeralben", "gotmarkut":"Gotor, Marakatam und Kutakina",	"mahaluu":"Mahaluu", "piriwatu":"Piriwatu", "schaschbar":"Schaschbar", "utarti":"Utarti", "ashurmazaan":"Ashurmazaan", "badashan":"Badashan", "chorrash":"Chorrash", "demerai":"Demerai", "farukhur":"Farukhur", "fedirin":"Fedirin", "feuerlauf":"Feuerläufer", "keshabid":"Keshabid", "pashtar":"Pashtar", "shahandir":"Shahandir", "tarr":"Tarr", "turubar":"Turubar", "keshubim":"Keshubim", "kungaitan":"Kungaitan", "porukala":"Porukala", "puntani":"Puntani", "strominseln":"Stromlandinseln - Inseln", "stromsiprangu":"Stromlandinseln - Siprangu", "afali":"Afali", "albseebund":"Albischer Seebund", "anuu":"Anuu", "borombri":"Borombri", "ioria":"Ioria","schaedel":"Schädelkorsaren"};
    var origins = {"custom":"Frei erschaffen","eremits":"Einsiedler","academics":"Gelehrte","ragtag":"Gesindel","largefarm":"Großbauern","nobility":"Hochadel","craftsmen":"Handwerker","courtier":"Höflinge","farmer":"Kleinbauern","warrior":"Kriegsvolk","artists":"Künstler","gentry":"Landadel","magister":"Magistrale","priests":"Priester","traveler":"Reisende","sailor":"Seefahrer","wizard":"Zauberer"};
    var backgrounds = {"custom":"Frei erschaffen", "eremits":"Einsiedler", "academics":"Gelehrte", "ragtag":"Gesindel", "largefarm":"Großbauern", "nobility":"Hochadel", "craftsmen":"Handwerker", "courtier":"Höflinge", "farmer":"Kleinbauern", "warrior":"Kriegsvolk", "artists":"Künstler", "gentry":"Landadel", "magister":"Magistrale", "priests":"Priester", "traveler":"Reisende", "sailor":"Seefahrer", "wizard":"Zauberer"};
    var skills = {"acrobatics":"akrobatik","alchemy":"alchemie","animals":"tierfuehrung","antimagic ":"bannmagie","arcanelore":"arkanekunde","athletics":"athletik","blades":"klingenwaffen","chains":"kettenwaffen","clscraft":"edelhandwerk","combatmagic":"kampfmagie","controlmagic":"beherrschungsmagie","countrylore":"laenderkunde","craftmanship":"handwerk","deathmagic":"todesmagie","determination":"entschlossenheit","dexterity":"fingerfertigkeit","diplomacy":"diplomatie","eloquence":"redegewandtheit","empathy":"empathie","endurance":"zaehigkeit","enhancemagic":"staerkungsmagie","fatemagic":"schicksalsmagie","firemagic":"feuermagie","heal":"heilkunde","healmagic":"heilungsmagie","history":"geschichteundmythen","hunting":"jagdkunst","illusionmagic":"illusionsmagie","insightmagic":"erkenntnismagie","leadership":"anfuehren","lightmagic":"lichtmagie","locksntraps":"schloesserundfallen","longrange":"schusswaffen","melee":"handgemenge","motionmagic":"bewegungsmagie","nature":"naturkunde","naturemagic":"naturmagie","perception":"wahrnehmung","performance":"darbietung","protectionmagic":"schutzmagie","seafaring":"seefahrt","shadowmagic":"schattenmagie","slashing":"hiebwaffen","staffs":"stangenwaffen","stealth":"heimlichkeit","stonemagic":"felsmagie","streetlore":"strassenkunde","survival":"ueberleben","swim":"schwimmen","throwing":"wurfwaffen","transformationmagic":"verwandlungsmagie","watermagic":"wassermagie","windmagic":"windmagie"};
    var races = {"alben":"Alb","gnome":"Gnom","human":"Mensch","varg":"Varg","dwarf":"Zwerg"};
    var splinters = {"FLASH":"Der Blitz","OMEN":"Omen des Schwarzen Mondes","SIGHT":"Das Zweite Gesicht","TRABANT":"Freundschaft des Trabanten","GAMBLER":"Der Spieler","RICHMAN":"Gunst des Reichen Mannes","MOONPOWER":"Segen der Mondkraft","BLOODMOON":"Blutiges Antlitz des Mondes","GHOSTTHOUGHT":"Geist der Gedanken","ROCK":"Der Fels"};
    var abilities = {"addsplinter":"Zusätzliche Splitterpunkte","urbane":"Weltgewandt","focuspool":"Erhöhter Fokuspool","succour_in_need":"Beistand in der Not","lowlight":"Dämmersicht","onestepahead":"Einen Schritt voraus","attractive":"Attraktivität","goodhearing":"Scharfes Gehör","senseorient":"Orientierungssinn","resistpoison":"Giftresistenz","literate":"Literat","focusregen":"Erhöhte Fokusregeneration","friendfire":"Erwählter der Feuerwesen","priest":"Priester","sensefairy":"Feensinn","resistmind":"Hoher Geistiger Widerstand","swift":"Flink","goodmemory":"Gutes Gedächtnis","goodsight":"Scharfe Sicht","asketic":"Asket","enduring":"Ausdauernd","tinker":"Bastler","naturalarmor":"Natürlicher Rüstungsschutz","naturalweapon":"Natürliche Waffe","sensesocial":"Soziales Gespür","sensedistance":"Entfernungssinn","friendearth":"Erwählter der Felswesen","sturdy":"Robust","resistheat":"Hitzeresistenz","friendghost":"Erwählter der Geisterwesen","friendgodservant":"Erwählter der Götterdiener","friendlight":"Erwählter der Lichtwesen","friendair":"Erwählter der Luftwesen","friendnature":"Erwählter der Naturwesen","friendshadow":"Erwählter der Schattenwesen","friendwater":"Erwählter der Wasserwesen","friendundead":"Erwählter untoter Wesen","sensesmell":"Feine Nase","concentrated":"Konzentrationsstärke","floatingform":"Fließende Form","socialable":"Gesellig","sensebalance":"Gleichgewichtssinn","holy_mark":"Heiliges Mal","resistbody":"Hoher Körperlicher Widerstand","childlie":"Kind der Lüge","tough":"Zäh","resistcold":"Kälteresistenz","childnature":"Kind der Natur","liferegen":"Erhöhte Lebensregeneration","packmule":"Lastesel","shield_faith":"Schild des Glaubens","resistpain":"Schmerzresistenz","sensesocial":"Soziales Gespür","animallover":"Tierfreund","highini":"Verbesserte Initiative","animalfamiliar":"Tiervertrauter","determined":"Zielstrebig","priest":"Priester","childlife":"Kind des Lebens","childlore":"Kind der Weisheit","childdeath":"Kind des Todes","childprophecy":"Kind der Vorsehung","childorder":"Kind der Ordnung","aura_chosen":"Aura des Auserwählten"};
    var spells1 = {"accelerate":"Beschleunigen","acidsquirt":"Säurestrahl","alarm":"Alarm","allunderstanding":"Allverständnis","animalfriend":"Freund der Tiere","animalmessenger":"Tierischer Bote","animalsenses":"Tiersinne","animalshape":"Tierform","animateshadow":"Schatten beleben","antidote":"Giftbann","antimagicarea":"Zone der Bannung","auracounter":"Aura der Kontermagie","auradetermin":"Aura der Entschlossenheit","auraleader":"Aura des Anführers","auralifeforce":"Aura der Lebenskraft","aurapainless":"Aura der Schmerzlosigkeit","aurashadow":"Aura der Schatten","aurawarmth":"Aura der Wärme","badluck":"Pech","balloflight":"Lichtkugel","banishcoincidence":"Zufall bannen","barkskin":"Rindenhaut","beastform":"Bestienform","birdshape":"Vogelform","blackice":"Eisglätte","blackness":"Schwärze","blazingbarrier":"Gleißende Barriere","blazingshield":"Gleißender Schild","blessing":"Segnung","bodyoflight":"Leib aus Licht","bodyofshadow":"Schattenleib","breakcurse":"Fluch brechen","breakprotection":"Schutz aufheben","breakspell":"Zauber bannen","breathwater":"Wasseratmung","bridgeoflight":"Lichtbrücke","burden":"Last","calllightning":"Blitze rufen","calmanimal":"Tiere beruhigen","cancelcontrol":"Beherrschung aufheben","cateyes":"Katzenaugen","catreflexes":"Katzenreflexe","chainlightning":"Kettenblitz","chamaeleon":"Chamäleon","changeface":"Gesicht ändern","claws":"Krallen","cleansewater":"Wasser reinigen","cloudpath":"Wolkenpfad","coldprotection":"Schutz vor Kälte","coldshield":"Kälteschild","cometome":"Komm zu mir","connectedlife":"Lebensband","consecration":"Weihe","consumemagic":"Magie verzehren","controlanimal":"Tiere beherrschen","controlfairy":"Feenwesen beherrschen","controlfire":"Flammenherrschaft","controlshadow":"Schattenspiel","controlwater":"Wasserherrschaft","controlweather":"Wetterkontrolle","copyvoice":"Stimme kopieren","counterspell":"Gegenzauber","curseofpain":"Fluch der Schmerzen","damagecircle":"Schadenszirkel","damagewave":"Schadenswelle","damnation":"Verdammung","dancinglights":"Lichtertanz","darkness":"Dunkelheit","daylight":"Nacht zum Tag","deathcurse":"Todesfluch","deathprotection":"Todesschutz","decreaseattitude":"Einstellung verschlechtern","detectmagic":"Magie erkennen","detectpoison":"Gift erkennen","diplomatstongue":"Zunge des Diplomaten","distract":"Verwirren","disturbinsight":"Erkenntnis stören","dontgoyet":"Geh noch nicht","doom":"Verhängnis","earthquake":"Erdbeben","earthtomud":"Erde zu Schlamm","easytarget":"Leichtes Ziel","electricityprotection":"Schutz vor Elektrizität","elementalprotection":"Schutz vor Elementen","enchantprojectile":"Geschoss verzaubern","encrypt":"Text verschlüsseln","endofway":"Ende des Weges","endtransformation":"Verwandlung beenden","enhanceconst":"Ausdauer stärken","enhancedefenses":"Widerstände erhöhen","enhancehealing":"Heilung stärken","enhancehearing":"Gehör verbessern","enhanceitem":"Gegenstand verbessern","enhancesenses":"Sinne verstärken","enhancesight":"Sicht verbessern","enhancevitality":"Lebenskraft stärken","enterghostworld":"Geistreise","exhaustmagic":"Magie erschöpfen","exorcisefairy":"Feenwesen bannen","faint":"Schwächeanfall","falseface":"Falsches Gesicht","falsifyinsight":"Erkenntnis fälschen","farsight":"Fernsicht","fear":"Furcht","featherfall":"Sanfter Fall","findwater":"Wasser finden","fireball":"Feuerball","firecone":"Flammenkegel","firelance":"Feuerstrahl","fireprotection":"Schutz vor Feuer","fireshield":"Flammenschild","fistofstone":"Steinfaust","flame":"Flamme","flamingweapon":"Flammende Waffe","flash":"Lichtblitz","fly":"Fliegen","flyingweapon":"Beflügelte Waffe","fogshape":"Nebelgestalt","fortune":"Glück","freeze":"Einfrieren","geas":"Schicksalsband","ghostdagger":"Geisterdolch","ghostsight":"Geisterblick","glare":"Blenden","growth":"Wachstum","gushofwater":"Wasserschwall","gustofwind":"Windstoß","haircolor":"Haarfarbe","hallucination":"Halluzination","handoffire":"Flammenhand","harden":"Härte","harmitem":"Gegenstand beschädigen","healing":"Heilung","heat":"Wärme","heatmetal":"Metall erhitzen","heatsurrounding":"Umgebung erhitzen","heavylimbs":"Schwere Arme","hush":"Verstummen","icelance":"Eislanze","iceprison":"Eisiges Gefängnis","ignorepain":"Schmerzen ignorieren","incinerate":"Einäschern","inconspicuousness":"Unauffälligkeit","increaseattitude":"Einstellung verbessern","increasemorale":"Moral erhöhen","indestructible":"Unzerstörbar","inflame":"Entzünden","innerglow":"Inneres Leuchten","interferespell":"Zauberer behindern","invisibility":"Unsichtbarkeit","ironaura":"Eiserne Aura","leap":"Sprung","leaplegs":"Sprungbeine","leavenotrace":"Spurlos in der Wildnis","levitate":"Levitieren","lifedrain":"Lebensraub","liftburden":"Lasten heben","light":"Licht","lightban":"Lichtbann","lightningbolt":"Blitzschlag","lightweapon":"Waffe des Lichtes","lightweight":"Leichtigkeit","lookinsun":"Blick in die Sonne","magicblow":"Magischer Schlag","magicchain":"Magische Fessel","magiccompass":"Magischer Kompass","magicdialogue":"Magisches Zwiegespräch","magicfeint":"Magische Finte","magickeyhole":"Magisches Schlüsselloch","magiclock":"Magisches Schloss","magicmessage":"Magische Botschaft","magicquill":"Zauberfeder","magnetism":"Magnetismus","majorbanspell":"Totaler Zauberbann","majorblessing":"Hohe Segnung","majormagicarmor":"Magischer Panzer","majorprotectmagic":"Großer Magieschutz","manipulatememory":"Gedächtnis verändern","masquerade":"Maskerade","memorygap":"Erinnerungslücke","meteor":"Kometenwurf","mightexplosion":"Machtexplosion","mindlessservant":"Willenloser Diener","minorhealing":"Leichte Heilung","minormagicarmor":"Magische Rüstung","minorprotectmagic":"Kleiner Magieschutz","moldstone":"Fels formen","moveitem":"Gegenstand bewegen","nightvision":"Nachtsicht","objectillusion":"Objektillusion","onewithfire":"Eins mit dem Feuer","panopticum":"Panoptikum","paralysis":"Lähmung","peacefulness":"Schutz vor Angriffen","penetratefog":"Nebelsicht","petrify":"Versteinern","phantasmagoria":"Trugbild","picklock":"Schloss öffnen","poisonprotection":"Schutz vor Gift","prophecy":"Prophezeiung","protectedbylight":"Lichter Schutz","protectinghand":"Schützende Hand","protectmind":"Gedankenschutz","puppet":"Marionette","quickwash":"Katzenwäsche","raiseundead":"Untote erheben","readmind":"Gedankenlesen","reflectspell":"Zauber zurückwerfen","refresh":"Erfrischung","regeneration":"Regeneration","rejuvenate":"Verjüngen","repair":"Reparatur","resistpain":"Schmerzen widerstehen","restoration":"Wiederherstellung","screech":"Kreischen","scriptunderstanding":"Schriftverständnis","seismicshock":"Erdstoß","selfheal":"Selbstheilung","senseattitude":"Einstellung spüren","senseghost":"Hauch der Geister","senseofowl":"Eulengespür","shadowarmor":"Schattenrüstzeug","shadowarrow":"Schattenpfeil","shadowban":"Schattenbann","shadowcloak":"Schattenmantel","shadowleap":"Schattensprung","shadowveil":"Schattenschleier","shadowweapon":"Schattenwaffe","shapeshift":"Fremde Gestalt","shockgrasp":"Schockgriff","shove":"Stoß","silence":"Stille","sixthsense":"Sechster Sinn","sleep":"Schlaf","smallanimalshape":"Kleintierform","smalldeath":"Totenschlaf","smell":"Geruch","speakwithanimal":"Tiersprache","speakwithghost":"Geistersprache","spidercrawl":"Spinnenlauf","steady":"Standfest","steelskin":"Stahlhaut","stone":"Stein","stoneclaws":"Felshände","stonedestruction":"Felszerstörung","stonemissile":"Felsgeschoss","stoneskin":"Steinhaut","strengthbear":"Bärenstärke","summonfog":"Nebel rufen"};
    var spells2 = {"suggestion":"Suggestion","summonghost":"Geister rufen I","summonstone":"Felswesen rufen 1","suppressspell":"Zauber unterdrücken","swarm":"Insektenschwarm","tendrilarrow":"Rankenpfeil","tendrils":"Ranken","terrorform":"Schreckgestalt","truesight":"Wahrer Blick","turnundead":"Untote bannen","twister":"Stürmischer Wind","undeadprotection":"Schutz vor Untoten","understandlanguage":"Sprachverständnis","unseenobject":"Unsichtbares Objekt","veil":"Verhüllung","veillife":"Leben verhüllen","ventriloquate":"Geräuschhexerei","viewhistory":"Spuren der Vergangenheit","walkonwater":"Ãœber Wasser gehen","walkwalls":"Durch Wände gehen","walkwilderness":"Weg durch die Natur","walloffire":"Flammenwand","wallofshadow":"Schattenwand","wallofstone":"Steinwand","weakenarmor":"Rüstung schwächen","weakenundead":"Untote schwächen","weaponoflight":"Waffe aus Licht","windshield":"Windschild","wither":"Verdorren"};
	var spells3 = {"fit":"Anpassung","breathcontrol":"Atemkontrolle","stun":"Betäubungsschlag","counter_blind":"Blendung unterdrücken","wakeup":"Erwecken","stone_writing":"Felsschrift","finger_protection":"Fingerschutz","focustrap":"Fokusfalle","focussed_motion":"Fokussierte Bewegung","slippery":"Glitschig","call_for_help":"Hilferuf","bone_collector":"Knochensammler","suppress_melancholia":"Schwermut unterdrücken","call_animal":"Tierruf","mourning_garments":"Trauerkleid","attention":"Vorsicht","magic_makeup":"Zauberschminke","absolute_silence":"Absolute Stille","ancestor_advice":"Ahnenrat","frighting_object":"Ã„ngstigendes Objekt","nondescript_face":"Allerweltsgesicht","aging":"Altern","sense_age":"Altersgespür","attack_premonition":"Angriff vorhersehen","animate1":"Animierung I","animate2":"Animierung II","animate3":"Animierung III","animate4":"Animierung IV","animate5":"Animierung V","antimagic_shell":"Antimagischer Wall","wall_running":"An Wänden laufen","disenchant_artifact":"Artefakt entzaubern","counter_artifact":"Artefakt stören","wave_of_counter_artifact":"Artefaktstörwelle","ashes_to_ashes":"Asche zu Asche","refreshment":"Auffrischung","bed_of_shadows":"Auf Schatten gebettet","go_all_out":"Aufs Ganze gehen","uplift":"Auftrieb","aura_counter_motion":"Aura der Bewegungsstörung","aura_coldness":"Aura der Kälte","aura_catseyes":"Aura der Katzenaugen","aura_slowness":"Aura der Langsamkeit","aura_enhance_light":"Aura der Leuchtverstärkung","aura_nightrest":"Aura der Nachtruhe","aura_reflexes":"Aura der Reflexe","aura_cleansing":"Aura der Reinigung","aura_repair":"Aura der Reparatur","aura_damagereflection":"Aura der Schadensreflexion","aura_steadfastness":"Aura der Standhaftigkeit","aura_confidence":"Aura der Zuversicht","aura_clearmind":"Aura des klaren Geistes","aura_connectedLife":"Aura des Lebensbandes","aura_shadowsight":"Aura des Schattenblicks","blackout":"Aussetzer","banish_animals":"Bannkreis gegen Tiere","command":"Befehlswort","light_shield":"Beflügelter Schild","calm":"Beruhigung","disturb_summoner":"Beschwörer stören","change_owner":"Besitzerwechsel","stop_motion":"Bewegung stoppen","blinding_flames":"Blendende Flammen","lightning_shield":"Blitzschild","stop_bleeding":"Blutung stoppen","bad_omen":"Böses Omen","fire_accelerant":"Brandbeschleuniger","fire_dilution":"Brandmilderung","ailing":"Dahinsiechen","demons_eyes":"Dämonenaugen","the_last_call":"Der letzte Ruf","thunderstruck":"Donnerschlag","thorntendrils":"Dornenranken","blastwave":"Druckwelle","dark_protection":"Dunkle Schutzaura","echochamber":"Echokammer","ice_armamentarium":"Eisiges Rüstzeug","walk_on_ice":"Eislauf","banish_element":"Elementarbann","sense_emotion":"Emotionen spüren","grandness":"Erhabenheit","rest":"Erholung","sense_tremors":"Erschütterungssinn","explosive_arrow":"Explosiver Pfeil","false_identity":"Falsche Identität","foul_wind":"Fauliger Wind","fist_of_destruction":"Faust der Zerstörung","fist_of_light":"Faust des Lichts","weaken_fairy":"Feenwesen schwächen","stonebonds":"Felsfesseln","stonespike":"Felsstachel","telemessage":"Fernbotschaft","firebonds":"Feuerfesseln","fireproof":"Feuerfest","firerain":"Feuerregen","shake_off_darkness":"Finsternis abschütteln","curse_of_exhaustion":"Fluch der Erschöpfung","curse_of_weakness":"Fluch der Schwäche","curse_of_age":"Fluch des Alters","curse_of_doubt":"Fluch des Zweifels","whispering_shadow":"Flüsternder Schatten","disturb_flight":"Flug stören","transform_other":"Fremdverwandlung","rain_of_sparks":"Funkenregen","mental_image":"Gedankenbild","scary_flames":"Gefährliche Flammen","heat_object":"Gegenstand erhitzen","fasten_object":"Gegenstand fixieren","headwind":"Gegenwind","hardened_skin":"Gehärtete Haut","secret_message":"Geheimbotschaft","secret_language":"Geheimsprache","ghost_curse":"Geisterfluch","ghostfriend":"Geisterfreund","ghostprison":"Geisterkerger","spiritpath":"Geisterpfad","ghostarrows":"Geisterpfeile","ghost_shield":"Geisterschild","ghost_weapon":"Geisterwaffe","mind_over_physical":"Geist über Körper","support_healing":"Genesung unterstützen","neutralize_smell":"Geruch neutralisieren","sharpended_blade":"Geschärfte Klinge","change_gender":"Geschlechtswechsel","got_it":"Geschnappt","stonewaves":"Gesteinswelle","immunity_poison":"Giftimmunität","spit_poison":"Gift speien","dilute_poison":"Gift verdünnen","poisoncloud":"Giftwolke","gliding":"Gleiten","gravebeast":"Grabesbestie","groupmessage":"Gruppenbotschaft","grouptalk":"Gruppengespräch","good_face":"Gute Miene","craft_sense":"Handwerksinn","craft_profiency":"Handwerkswissen","hard_fall":"Harter Fall","mold_hard":"Hartes formen","provoke_hate":"Hass hervorrufen","healing_rain":"Heilsamer Regen","healers_scan":"Heilungsblick","disturb_healing":"Heilung stören","hot_as_lava":"Heiß wie Lava","heros_weapon":"Heldenwaffe","control_heat":"Hitze kontrollieren","major_fairy_ban":"Höherer Feebann","harden_wood":"Holz verstärken","humanoidform":"Humanoidenform","illumination":"Illumination","reveal_illusion":"Illusion enttarnen","combatsense":"Kampfgespür","combatinspiration":"Kampfinspiration","change_clothing":"Kleidung verändern","minor_ghostprison":"Kleiner Geisterkerker","blades_of_light":"Klingen aus Licht","knotloosener":"Knotenlöser","kometenschlag":"Kometenschlag","disturb_concentration":"Konzentration stören","detect_life":"Leben spüren","lifeseed":"Lebenssamen","light_armor":"Leichte Rüstung","last_rear_up":"Letztes Aufbäumen","light_protective_aura":"Lichte Schutzaura","lightcontrol":"Lichtkontrolle","enhance_light":"Lichtquelle stärken","consume_light":"Lichtquelle verzehren","magic_choke":"Magischer Würgegriff","copy_material":"Material kopieren","mental_blow":"Mentaler Schlag","cause_minor_illness":"Minderes Siechtum verursachen","merge_with_shadows":"Mit Schatten verschmelzen","moonsteelskin":"Mondstahlhaut","disperse_fog":"Nebel auflösem","negative_surrounding":"Negative Umgebung","like_an_eel":"Nicht zu packen","objectexplosion":"Objektexplosion","protect_object":"Objekt schützen","transform_object":"Objekt verändern","veil_object":"Objektverhüllung","arrow_fire":"Pfeil aus Feuer","arrow_wind":"Pfeil der Winde","wand_of_tendrils":"Rankenwand","speedy_movement":"Rasende Bewegung","speedy_undead":"Rasende Untote","rage":"Raserei","reactive_protection":"Reaktiver Schutz","cleansing":"Reinigung","giantism":"Riesenwuchs","enhance_armor":"Rüstung stärken","armor_penetration":"Rüstungsdurchdringung","eroding_acid":"Säurefraß","acid_rain":"Säureregen","acid_shield":"Säureschild","fierce_wind":"Scharfer Wind","shadow_grasp":"Schattengriff","shadow_armor":"Schattenrüstung","summon_lock":"Schloss herbeirufen","fast_as_lightning":"Schnell wie der Blitz","dreadful_shadow":"Schrecklicher Schatten","protective_mirror_image":"Schützendes Spiegelbild","protective_flesh_bones":"Schutz aus Fleisch und Knochen","protective_water":"Schutz des Wassers","sickness_protection":"Schutz vor Krankheiten","protectarea_insight":"Schutzzone gegen Erkenntnis","find_weakness":"Schwachstelle finden"};
	var spells4 = {"heavy_armor":"Schwere Rüstung","heavy_weapon":"Schwere Waffe","webbings":"Schwimmhäute","own_choices_fate":"Selbstgewähltes Schicksal","selfillusion":"Selbstillusion","selfdoubt":"Selbstzweifel","cause_infirmity":"Siechtum verursachen","splintershield":"Splitterschild","spring":"Sprungfeder","lay_trail":"Spur legen","hail_of_stones":"Steinhagel","disturbing_noise":"Störgeräusch","weaken_structure":"Struktur schwächen","blunt_weapon":"Stumpfe Waffe","stormshield":"Sturmschild","lift_camouflage":"Tarnung aufheben","temporary_shield":"Temporärer Schild","deep_sleep_field":"Tiefschlaffeld","immitate_animal":"Tier nachahmen","animal_tongue":"Tierzunge","sense_death":"Todesgespür","twister":"Tornado","undead_animal":"Totentier","dreammessage":"Traumbotschaft","read_dreams":"Traumlesen","find_passage":"Ãœbergang finden","close_passage":"Ãœbergang schließen","sense_surrounding":"Umgebungssinn","knock_off_arrow":"Umstoßender Pfeil","inevitable_arrow":"Unabwendbarer Pfeil","disaster":"Unheil","blurred":"Unschärfe","invisible_for_fairies":"Unsichtbarkeit vor Feen","invisible_for_animals":"Unsichtbarkeit vor Tieren","sense_undead":"Untote erspüren","turn_undead":"Untote vertreiben","smash_undead":"Untote zerschmettern","immobile":"Unverrückbar","vacuum":"Vakuum","darkening":"Verdunkelung","stop_decay":"Verfall stoppen","stiffen":"Verfestigung","hiding_place":"Versteck","preparation":"Vorbereitung","alert_mind":"Wacher Geist","weaken_weapon":"Waffe schwächen","smash_weapon":"Waffe zerschmettern","improve_wall":"Wand stärken","water_thrust":"Wasserschub","jet_of_water":"Wasserstrahl","incandescent_hand":"Weißglühende Hand","longcast":"Weitwurf","lightwave":"Welle aus Licht","ressurection":"Wiederbelebung","recycling":"Wiederverwertung","power_of_wilderness":"Wildniskraft","hibernation":"Winterschlaf","wavebonds":"Wogenfesseln","cauterize":"Wunde ausbrennen","copy_throwing_weapon":"Wurfwaffe kopieren","sticky_shadows":"Zähe Schatten","spell_intuitiveness":"Zauberahnung","spell_constraints":"Zauberhemmer","weaken_spell":"Zauber schwächen","overload_spell":"Zauber überlasten","veil_spell":"Zauber verhüllen","summon_stone_0":"Felswesen rufen 0","summon_stone_1":"Felswesen rufen I","summon_stone_2":"Felswesen rufen II","summon_stone_3":"Felswesen rufen III","summon_stone_4":"Felswesen rufen IV","summon_stone_5":"Felswesen rufen V","summon_fire_0":"Feuerwesen rufen 0","summon_fire_1":"Feuerwesen rufen I","summon_fire_2":"Feuerwesen rufen II","summon_fire_3":"Feuerwesen rufen III","summon_fire_4":"Feuerwesen rufen IV","summon_fire_5":"Feuerwesen rufen V","summon_light_0":"Lichtwesen rufen 0","summon_light_1":"Lichtwesen rufen I","summon_light_2":"Lichtwesen rufen II","summon_light_3":"Lichtwesen rufen III","summon_light_4":"Lichtwesen rufen IV","summon_light_5":"Lichtwesen rufen V","summon_nature_0":"Naturwesen rufen 0","summon_nature_1":"Naturwesen rufen I","summon_nature_2":"Naturwesen rufen II","summon_nature_3":"Naturwesen rufen III","summon_nature_4":"Naturwesen rufen IV","summon_nature_5":"Naturwesen rufen V","summon_shadow_0":"Schattenwesen rufen 0","summon_shadow_1":"Schattenwesen rufen I","summon_shadow_2":"Schattenwesen rufen II","summon_shadow_3":"Schattenwesen rufen III","summon_shadow_4":"Schattenwesen rufen IV","summon_shadow_5":"Schattenwesen rufen V","summon_fate_0":"Götterdiener rufen 0","summon_fate_1":"Götterdiener rufen I","summon_fate_2":"Götterdiener rufen II","summon_fate_3":"Götterdiener rufen III","summon_fate_4":"Götterdiener rufen IV","summon_fate_5":"Götterdiener rufen V","summon_ghost_0":"Geisterwesen rufen 0","summon_ghost_1":"Geisterwesen rufen I","summon_ghost_2":"Geisterwesen rufen II","summon_ghost_3":"Geisterwesen rufen III","summon_ghost_4":"Geisterwesen rufen IV","summon_ghost_5":"Geisterwesen rufen V","summon_water_0":"Wasserwesen rufen 0","summon_water_1":"Wasserwesen rufen I","summon_water_2":"Wasserwesen rufen II","summon_water_3":"Wasserwesen rufen III","summon_water_4":"Wasserwesen rufen IV","summon_water_5":"Wasserwesen rufen V","summon_wind_0":"Windwesen rufen 0","summon_wind_1":"Windwesen rufen I","summon_wind_2":"Windwesen rufen II","summon_wind_3":"Windwesen rufen III","summon_wind_4":"Windwesen rufen IV","summon_wind_5":"Windwesen rufen V"};
	var masteries1 = {"againstdarkness":"Wider die Finsternis","agileinarmor":"Agiler Rüstungsträger","aimedspells":"Gezielte Zauber","alchemistsassistant":"Des Alchemisten Helfer","alertness":"Wachsamkeit","ambush":"Hinterhalt","animaladept_bear":"Tierkenner (Bärenartige)","animaladept_biggame":"Tierkenner (Großwild)","animaladept_bird":"Tierkenner (Vögel)","animaladept_canine":"Tierkenner (Hundeartige)","animaladept_feline":"Tierkenner (Katzenartige)","animaladept_fish":"Tierkenner (Fische)","animaladept_insect":"Tierkenner (Insekten)","animaladept_reptile":"Tierkenner (Reptilien)","animaladept_smallgame":"Tierkenner (Kleinwild)","animaladept_spider":"Tierkenner (Spinnentiere)","animalcaster":"Tierzauberer","animalexpert_bear":"Tierexperte (Bärenartige)","animalexpert_biggame":"Tierexperte (Großwild)","animalexpert_bird":"Tierexperte (Vögel)","animalexpert_canine":"Tierexperte (Hundeartige)","animalexpert_feline":"Tierexperte (Katzenartige)","animalexpert_fish":"Tierexperte (Fische)","animalexpert_insect":"Tierexperte (Insekten)","animalexpert_reptile":"Tierexperte (Reptilien)","animalexpert_smallgame":"Tierexperte (Kleinwild)","animalexpert_spider":"Tierexperte (Spinnentiere)","animalskin":"Haut des Tieres","apnoe":"Apnoe","arcanedefense1":"Arkane Verteidigung I","arcanedefense2":"Arkane Verteidigung II","arcanediagnosis":"Arkane Diagnose","arcanespeed":"Arkane Geschwindigkeit","archenemy":"Erzfeind","arenaveteran":"Veteran der Arena","armour1":"Rüstungsträger I","armour2":"Rüstungsträger II","artifactlore":"Artefaktkunde","artificalreality":"Künstliche Wirklichkeit","artisan":"Brandstifter","assault":"Sturmlauf","athomeeverywhere":"Ãœberall zu Hause","attackplan":"Schlachtplan (Angriff)","balance":"Balance","banishingprotection":"Schutz vor Bannung","bansong":"Bannlied","beasthunter":"Bestienjäger","beastmaster":"Herr der Bestien","berserk":"Berserker","betterdisarm":"Verbessertes Entwaffnen","betterknock":"Verbessertes Umreißen","bibliophile":"Büchernarr","bihandedattack":"Beidhändiger Angriff","bihandedmastery":"Meister mit zwei Waffen","bihandedparry":"Beidhändige Abwehr","birdofpreyform":"Gestalt des Greifvogels","biweapon":"Kampf mit zwei Waffen","blackmarket":"Schwarzmarkt","block":"Block","bloodbath":"Blutbad","bloodletting":"Blutiger Aderlass","bonebreaker":"Knochenbrecher","breathoffate":"Hauch des Schicksals","calm":"Beruhigen","calmhand":"Ruhige Hand","casterseye":"Auge des Zauberers","castershand":"Hand des Zauberers","caution1":"Vorsicht I","caution2":"Vorsicht II","chainshackles":"Kettenfessel","challenge":"Herausfordern","changedsurrounding":"Veränderte Umgebung","chesthit_bear":"Blattschuss (Bärenartige)","chesthit_biggame":"Blattschuss (Großwild)","chesthit_bird":"Blattschuss (Vögel)","chesthit_canine":"Blattschuss (Hundeartige)","chesthit_feline":"Blattschuss (Katzenartige)","chesthit_fish":"Blattschuss (Fische)","chesthit_insect":"Blattschuss (Insekten)","chesthit_reptile":"Blattschuss (Reptilien)","chesthit_smallgame":"Blattschuss (Kleinwild)","chesthit_spider":"Blattschuss (Spinnentiere)","cleverleader":"Vorausschauender Führer","closecombatthrow":"Nahkampfwerfer","clutch":"Umklammern","concentratedfocus":"Konzentrierter Fokus","confusion":"Verwirrung","conservation":"Konservierung","contortionist":"Schlangenmensch","coordevade":"Koordiniertes Ausweichen","coordinator":"Koordinator","corporesana":"Gesunder Geist in gesundem Körper","corsar":"Korsar","cosmeticthaumaturgy":"Kosmetische Thaumaturgie","costsavingjourney":"Sparsame Reise","countermagic":"Konterzauberer","cover":"Tarnidentität","createscroll1":"Schriftrollen erstellen I","createscroll2":"Schriftrollen erstellen II","createscroll3":"Schriftrollen erstellen III","creativedistraction":"Kreative Ablenkung","creaturespecialist":"Spezialist für alle Wesen","creeper":"Leisetreter","crowdpleaser":"Publikumsliebling","cursebringer":"Fluchbringer","dancingblade":"Klingentanz","darknessview":"Blick in die Dunkelheit","dashingblow":"Schmetterschlag","deathblow":"Todesschlag","deepseadiver":"Tiefseetaucher","defender":"Verteidiger","defenseplan":"Schlachtplan (Verteidigung)","delayedcaster":"Zauberverzögerer","destroyerheart":"Herz des Zertörers","detox":"Entgiftung","diatribehymn":"Schmählied/Loblied","diplomat":"Diplomat","disarm":"Entwaffnen","distancecaster":"Fernzauberer","distract":"Ablenken","disturbclairvoyance":"Trübung des Blicks","dompteur":"Dompteur","doublethrow":"Mehrfachwurf","dyingbreath":"Atem des Sterbenden","earthaffinity":"Erdverbundenheit","effectivemotion":"Effektive Bewegung","efficiency":"Effizienz","efficienthunter":"Effizienter Jäger","effortofwill":"Willensanstrengung","elegantwhirlingblades":"Eleganter Klingenwirbel","emotionsense":"Stimmungsgespür","empathy":"Einfühlsamkeit","enemy":"Feind","enforcehealing":"Heilung fördern","enhancefamiliar":"Stärkung des Vertrauten","escapologist":"Entfesslungskünstler","estimateanimal":"Tier einschätzen","etiquettes":"Etikette","evade1":"Ausweichen 1","evade2":"Ausweichen 2","evade3":"Ausweichen 3","evademovement":"Ausweichbewegung","expert":"Fachmann","exploringmind":"Forschender Geist","familiarbond":"Vertrautenband","familiarlanguage":"Vertrautensprache","fascinate":"Faszinieren","fastforager":"Schneller Sammler","fasthunter":"Schneller Jäger","fastreader":"Schnellleser","fastshooter1":"Schnellschütze I","fastshooter2":"Schnellschütze II","favoredform":"Bevorzugte Gestalt","feint1":"Antäuschen 1","feint2":"Antäuschen 2","feint3":"Antäuschen 3","fielddignostics":"Felddiagnose","fieldstudy":"Feldforschung","fightunderwater":"Kampf unter Wasser","firemastery":"Feuermeisterschaft","fireresistence1":"Feuerresistenz I","fireresistence2":"Feuerresistenz II","fireresistence3":"Feuerresistenz III","firmamentmymap":"Meine Karte ist das Firmament","fittingtone":"Der richtige Ton","flameheart":"Flammenherz","flashreflexes":"Blitzreflexe","focuscontrol":"Fokuskontrolle","forcetransmission":"Ãœbertragung der Kraft","formbanishing":"Bannung der Form","formcontrol":"Kontrolle der Form","formveil":"Verhüllung der Form","fortuneteller":"Wahrsager","freeclimber":"Freikletterer","freedomofform":"Freiheit der Form","freehand":"Freihändigkeit","gambler":"Glücksspieler","ghostexpert":"Geisterkenner","giftedinlanguage":"Sprachbegabt","goodaim":"Zielschuss","goodeducation":"Gute Allgemeinbildung","goodreflexes":"Gute Reflexe","grandmaster":"Großmeister","greatforcetransmission":"Große Ãœbertragung der Kraft","haggler":"Feilscher","hahascoundrel":"Haha, Schurke!","hammerblow":"Hammerschlag","handyknowledge":"Praktisches Wissen","hardendbycustom":"Abhärtung durch Gewöhnung","hardhammerblow":"Kraftvoller Hammerschlag","hardsweepingblow":"Kraftvoller Rundumschlag","hardthrow":"Harter Wurf","hastyprotection":"Eiliger Schutz","healingluck":"Heilungsgeschick","healthydistrust":"Gesundes Misstrauen","heargossip":"Gerüchte aufschnappen","herbhag":"Kräuterhexe","herooftheseas":"Held der Meere","hidemagicgestures":"Zaubergesten verbergen","hold":"Halten","hunter":"Waidmann","hunter_bear":"Jäger (Bärenartige)","hunter_biggame":"Jäger (Großwild)","hunter_bird":"Jäger (Vögel)","hunter_canine":"Jäger (Hundeartige)","hunter_feline":"Jäger (Katzenartige)","hunter_fish":"Jäger (Fische)","hunter_insect":"Jäger (Insekten)","hunter_reptile":"Jäger (Reptilien)","hunter_smallgame":"Jäger (Kleinwild)","hunter_spider":"Jäger (Spinnentiere)","hunteroffables":"Jäger des Sagenhaften","huntersupernatural":"Jäger des Ãœbernatürlichen","hurriedidentify":"Eilige Identifikation","hypnosis":"Hypnose","ignoreshield":"Schild umschlagen","imperturbable":"Unbeirrbar","improvisationartist":"Improvisationskünstler","improvise":"Improvisation","improviseddressup":"Improvisierte Verkleidung","inferno":"Inferno","influenceattitude":"Einstellung beeinflussen","inspire":"Inspirieren","instransparent":"Undurchschaubar","investor":"Investor","ironconcentration":"Eiserne Konzentration","ironwill":"Eiserner Wille","journeyman":"Geselle","judgeattribute":"Werte einschätzen","judgecharacter":"Begabter Menschenkenner","keepcool1":"Kühler Kopf I","keepcool2":"Kühler Kopf II","knock":"Umreißen","knowhoiam":"Wisst Ihr überhaupt wer ich bin?","knowledgeispower":"Wissen ist Macht","lastarray":"Das letzte Aufgebot","laughmedicine":"Lachen i.d.b. Medizin","legendhunter":"Legendenjäger","legendsinger":"Legendensänger","lethal":"Tödlicher Schaden","librarian":"Bibliothekar","lifesaver":"Lebensretter","likemypocket":"Wie meine Westentasche","lockhammer":"Schlösserhammer","longdistanceswimmer":"Langstreckenschwimmer","longjump":"Weitspringer","longrangewhirlingblades":"Weitreichender Klingenwirbel","longwhirlingdefense":"Andauernder Verteidigungswirbel","luckychild":"Glückskind"};
    var masteries2 = {"luminance":"Leuchtkraft","magiccrafter":"Zauberfinger","magicpull":"Magischer Sog","magicsymbols":"Magische Zeichen","magictricks":"Magische Tricks","marksman":"Scharfschütze","master":"Meister","masterbalance":"Meisterhafte Balance","masterhunter_bear":"Meisterjäger (Bärenartige)","masterhunter_biggame":"Meisterjäger (Großwild)","masterhunter_bird":"Meisterjäger (Vögel)","masterhunter_canine":"Meisterjäger (Hundeartige)","masterhunter_feline":"Meisterjäger (Katzenartige)","masterhunter_fish":"Meisterjäger (Fische)","masterhunter_insect":"Meisterjäger (Insekten)","masterhunter_reptile":"Meisterjäger (Reptilien)","masterhunter_smallgame":"Meisterjäger (Kleinwild)","masterhunter_spider":"Meisterjäger (Spinnentiere)","masterofage":"Herr des Alters","masteroffireghosts":"Herr der Feuergeister","masterofghosts":"Herr der Geister","masterofstone":"Herr der Felsen","masterofstoneghosts":"Herr der Felsgeister","masterofundead":"Meister der Untoten","masterpiece":"Meisterwerk","mastershot":"Meisterschuss","mastersmith":"Schmiedemeister","masterthrow":"Meisterwurf","masterwaterelem":"Herr der Wasserwesen","masterwaves":"Herr der Wogen","materialbond1":"Materielle Verbindung 1","materialbond2":"Materielle Verbindung 2","mentalmaster":"Herr über den Geist","meteologist":"Meteorologie","missilevolley":"Geschosshagel","missionary":"Missionar","monkey":"Kletteraffe","muscleman":"Muskelprotz","natureexpert":"Naturkenner","natureharmony":"Harmonie mit der Natur","naturesong":"Lied der Natur","necromancer":"Nekromant","nightvision":"Nachtsicht","nobodywashere":"Keiner war hier","nothinghappend":"Nichts passiert!","notintheface":"Nicht ins Gesicht","nutshellcaptain":"Kapitän der verfaulten Nussschale","observant":"Aufmerksam","oceandiver":"Meerestaucher","onewithnature":"Eins mit der Natur","opportunist":"Opportunist","overload":"Ãœberlasten","ownadvantage":"Eigener Vorteil","painful":"Schmerzhafter Hieb","penetratingprojectile":"Durchschlagendes Geschoss","perfecthearing":"Absolutes Gehör","perfectorientation":"Unfehlbare Orientierung","perfecttaste":"Perfekter Gaumen","philosopher":"Philosoph","polymath":"Universalgelehrter","preemption":"Vorahnung","projectilemagic":"Geschossmagie","protectingshadows":"Schützende Schatten","protectionlight":"Schutz des Lichtes","protectionmagicexpert":"Zauberschutz-Experte","protectionmagicmaster":"Zauberschutz-Meister","puppet":"Gliederpuppe","push":"Abdrängen","quickdrawer":"Schnellziehen","quickreaction":"Schnelle Reaktion","quicksearch":"Schnelle Durchsuchung","quickshielddefense":"Schnelle Schildabwehr","quickupagain":"Schnell wieder auf den Beinen","readfoe1":"Gegner durchschauen I","readfoe2":"Gegner durchschauen II","rebellionsong":"Lied des Aufstandes","relentless":"Unerbittlich","relicmaster":"Artefaktmeister","resistpain1":"Schmerzwiderstand I","resistpain2":"Schmerzwiderstand II","resistwater1":"Wasserresistenz 1","resistwater2":"Wasserresistenz 2","resistwater3":"Wasserresistenz 3","ridingfighter":"Reiterkampf","riposte":"Riposte","riverdiver":"Flusstaucher","roll":"Abrollen","rush":"Vorstürmen","sailorslegs":"Beine des Seemanns","savingcaster":"Sparsamer Zauberer","scrimper":"Sparfuchs","seadog":"Seebär","secondidentity":"Zweite Identität","secondskin":"Zweite Haut","shadowchild":"Kind der Schatten","shadowmaster":"Schattenherr","shadowwalker":"Wanderer im Schatten","sharptongue":"Scharfe Zunge","shield1":"Starker Schildarm I","shield2":"Starker Schildarm II","shieldbreaker":"Schildbrecher","siegeshooter":"Belagerungsschütze","sienewcutter":"Sehnenschneider","skilledcreeper":"Begabter Schleicher","skilledhealer":"Begabter Heiler","skilledrescue":"Geschickte Rettung","skilledsailor":"Begabter Seemann","skilledsalvage":"Geschickte Rettung","skilledscholar":"Begabter Gelehrter","skilledscout":"Begabter Späher","skilledstreetwalker":"Begabter Straßenwanderer","skilledswimmer":"Begabter Schwimmer","skilledtracker":"Begabter Spurenleser","skipjack":"Stehaufmännchen","sleeper":"Schläfer","sneakattack1":"Ãœberraschungsangriff I","sneakattack2":"Ãœberraschungsangriff II","sneakattack3":"Ãœberraschungsangriff III","solverofknots":"Knotenlöser","sortie":"Ausfall","soundlessness":"Lautlosigkeit","speaktome":"Rede mit mir","sprinter":"Sprinter","standclear":"Auf Abstand halten","stargaze":"Blick auf die Sterne","steelconcentration":"Stählerne Konzentration","steeplechaser":"Hindernisläufer","stonemastership":"Felsmeisterschaft","stoneresistence1":"Felsresistenz I","stoneresistence2":"Felsresistenz II","stoneresistence3":"Felsresistenz III","stormvoice":"Stimme des Sturms","strangehold":"Würgegriff","strongthrowing":"Starker Wurfarm","sturdyhead":"Dickschädel","stylegrace":"Stil und Grazie","subtileanalysis":"Subtile Forschung","supporthealing":"Heilung fördern","surgeon":"Wundarzt","surroundingsenses_city":"Umgebungssinne (Stadt)","surroundingsenses_desert":"Umgebungssinne (Wüste)","surroundingsenses_faerie":"Umgebungssinne (Feenwelten)","surroundingsenses_forest":"Umgebungssinne (Wald)","surroundingsenses_grassland":"Umgebungssinne (Steppe)","surroundingsenses_ice":"Umgebungssinne (Eis)","surroundingsenses_jungle":"Umgebungssinne (Dschungel)","surroundingsenses_mountain":"Umgebungssinne (Gebirge)","surroundingsenses_ocean":"Umgebungssinne (Meer)","surroundingsenses_swamp":"Umgebungssinne (Sumpf)","sweepingblow":"Rundumschlag","sweepingslash":"Durchschlagender Hieb","swiftpicklocks":"Flinke Dietriche","swiftpursuit":"Flinker Verfolger","tacticalmastermind":"Taktisches Genie","talentedalchemist":"Begabter Alchemist","talentedartist":"Begabter Künstler","talentedcraftsman":"Begabter Handwerker","talentedfingerartist":"Begabter Fingerkünstler","talentedhistorian":"Begabter Historiker","talentedlier":"Begabter Lügner","talentedpighead":"Begabter Sturkopf","talentedtradesman":"Begabter Handwerker","targetedhit":"Gezielter Treffer","targetedshots1":"Gezielte Schüsse I","targetedshots2":"Gezielte Schüsse II","taunt":"Beißender Spott","telepathicshield":"Telepathischer Schild","tellgossip":"Gerüchte verbreiten","terrainlore_desert":"Geländekunde (Wüste)","terrainlore_faerie":"Geländekunde (Feenwelten)","terrainlore_forest":"Geländekunde (Wald)","terrainlore_grassland":"Geländekunde (Steppe)","terrainlore_ice":"Geländekunde (Eis)","terrainlore_jungle":"Geländekunde (Dschungel)","terrainlore_mountain":"Geländekunde (Gebirge)","terrainlore_ocean":"Geländekunde (Meer)","terrainlore_swamp":"Geländekunde (Sumpf)","tirelesschaser":"Unermüdlicher Verfolger","troopup":"Sammeln","truthwithin":"Der Sage wahrer Kern","twosoulsonethought":"Zwei Geister, ein Gedanke","unblinded":"Ungeblendet","undeadhunter":"Untotenjäger","unobstrusive":"Unauffällig","urgentmessage":"Dringende Botschaft","veteranofmelee":"Veteran des Kampfgetümmels","vetinary":"Tierarzt","voicesoffriends":"Stimmen der Freunde","wallclimber":"Mauerstürmer","wardingexpert":"Bannzauber-Experte","wardinghand":"Bannende Hand","warning":"Unterschwellige Warnung","warrider":"Schlachtreiter","warrioroflight":"Streiter des Lichtes","wasnotme":"Ich war's nicht","watchit":"Pass ja auf!","watermastery":"Wassermeisterschaft","wavechild":"Kind der Wellen","wayoftheworld":"Wesen der Welt","weaponoutofnothing":"Waffe aus dem Nichts","weatherexpert":"Wetterkundig","weathermaster":"Herr des Wetters","weatherproof":"Wetterfest","whirlingblades":"Klingenwirbel","whirlingdefense":"Verteidigungswirbel","wildernesschild":"Kind der Wildnis","wildernessrunner":"Wildnisläufer","willbreaker":"Willensbrecher","windghostmaster":"Herr der Windgeister","windmastery":"Windmeisterschaft","windresistence1":"Windresistenz I","windresistence2":"Windresistenz II","windresistence3":"Windresistenz III","withdraw":"Rückzugsgefecht","withoutwords":"Ohne Worte","wondercrafter againstdarkness":"Wider die Finsternis","agileinarmor":"Agiler Rüstungsträger","aimedspells":"Gezielte Zauber","alchemistsassistant":"Des Alchemisten Helfer","alertness":"Wachsamkeit","ambush":"Hinterhalt","animaladept_bear":"Tierkenner (Bärenartige)","animaladept_biggame":"Tierkenner (Großwild)","animaladept_bird":"Tierkenner (Vögel)","animaladept_canine":"Tierkenner (Hundeartige)","animaladept_feline":"Tierkenner (Katzenartige)","animaladept_fish":"Tierkenner (Fische)","animaladept_insect":"Tierkenner (Insekten)","animaladept_reptile":"Tierkenner (Reptilien)","animaladept_smallgame":"Tierkenner (Kleinwild)","animaladept_spider":"Tierkenner (Spinnentiere)","animalcaster":"Tierzauberer","animalexpert_bear":"Tierexperte (Bärenartige)","animalexpert_biggame":"Tierexperte (Großwild)","animalexpert_bird":"Tierexperte (Vögel)","animalexpert_canine":"Tierexperte (Hundeartige)","animalexpert_feline":"Tierexperte (Katzenartige)","animalexpert_fish":"Tierexperte (Fische)","animalexpert_insect":"Tierexperte (Insekten)","animalexpert_reptile":"Tierexperte (Reptilien)","animalexpert_smallgame":"Tierexperte (Kleinwild)","animalexpert_spider":"Tierexperte (Spinnentiere)","animalskin":"Haut des Tieres","apnoe":"Apnoe","arcanedefense1":"Arkane Verteidigung I","arcanedefense2":"Arkane Verteidigung II","arcanediagnosis":"Arkane Diagnose","arcanespeed":"Arkane Geschwindigkeit","archenemy":"Erzfeind"};
    var masteries3 = {"arenaveteran":"Veteran der Arena","armour1":"Rüstungsträger I","armour2":"Rüstungsträger II","artifactlore":"Artefaktkunde","artificalreality":"Künstliche Wirklichkeit","artisan":"Brandstifter","assault":"Sturmlauf","athomeeverywhere":"Ãœberall zu Hause","attackplan":"Schlachtplan (Angriff)","balance":"Balance","banishingprotection":"Schutz vor Bannung","bansong":"Bannlied","beasthunter":"Bestienjäger","beastmaster":"Herr der Bestien","berserk":"Berserker","betterdisarm":"Verbessertes Entwaffnen","betterknock":"Verbessertes Umreißen","bibliophile":"Büchernarr","bihandedattack":"Beidhändiger Angriff","bihandedmastery":"Meister mit zwei Waffen","bihandedparry":"Beidhändige Abwehr","birdofpreyform":"Gestalt des Greifvogels","biweapon":"Kampf mit zwei Waffen","blackmarket":"Schwarzmarkt","block":"Block","bloodbath":"Blutbad","bloodletting":"Blutiger Aderlass","bonebreaker":"Knochenbrecher","breathoffate":"Hauch des Schicksals","calm":"Beruhigen","calmhand":"Ruhige Hand","casterseye":"Auge des Zauberers","castershand":"Hand des Zauberers","caution1":"Vorsicht I","caution2":"Vorsicht II","chainshackles":"Kettenfessel","challenge":"Herausfordern","changedsurrounding":"Veränderte Umgebung","chesthit_bear":"Blattschuss (Bärenartige)","chesthit_biggame":"Blattschuss (Großwild)","chesthit_bird":"Blattschuss (Vögel)","chesthit_canine":"Blattschuss (Hundeartige)","chesthit_feline":"Blattschuss (Katzenartige)","chesthit_fish":"Blattschuss (Fische)","chesthit_insect":"Blattschuss (Insekten)","chesthit_reptile":"Blattschuss (Reptilien)","chesthit_smallgame":"Blattschuss (Kleinwild)","chesthit_spider":"Blattschuss (Spinnentiere)","cleverleader":"Vorausschauender Führer","closecombatthrow":"Nahkampfwerfer","clutch":"Umklammern","concentratedfocus":"Konzentrierter Fokus","confusion":"Verwirrung","conservation":"Konservierung","contortionist":"Schlangenmensch","coordevade":"Koordiniertes Ausweichen","coordinator":"Koordinator","corporesana":"Gesunder Geist in gesundem Körper","corsar":"Korsar","cosmeticthaumaturgy":"Kosmetische Thaumaturgie","costsavingjourney":"Sparsame Reise","countermagic":"Konterzauberer","cover":"Tarnidentität","createscroll1":"Schriftrollen erstellen I","createscroll2":"Schriftrollen erstellen II","createscroll3":"Schriftrollen erstellen III","creativedistraction":"Kreative Ablenkung","creaturespecialist":"Spezialist für alle Wesen","creeper":"Leisetreter","crowdpleaser":"Publikumsliebling","cursebringer":"Fluchbringer","dancingblade":"Klingentanz","darknessview":"Blick in die Dunkelheit","dashingblow":"Schmetterschlag","deathblow":"Todesschlag","deepseadiver":"Tiefseetaucher","defender":"Verteidiger","defenseplan":"Schlachtplan (Verteidigung)","delayedcaster":"Zauberverzögerer","destroyerheart":"Herz des Zertörers","detox":"Entgiftung","diatribehymn":"Schmählied/Loblied","diplomat":"Diplomat","disarm":"Entwaffnen","distancecaster":"Fernzauberer","distract":"Ablenken","disturbclairvoyance":"Trübung des Blicks","dompteur":"Dompteur","doublethrow":"Mehrfachwurf","dyingbreath":"Atem des Sterbenden","earthaffinity":"Erdverbundenheit","effectivemotion":"Effektive Bewegung","efficiency":"Effizienz","efficienthunter":"Effizienter Jäger","effortofwill":"Willensanstrengung","elegantwhirlingblades":"Eleganter Klingenwirbel","emotionsense":"Stimmungsgespür","empathy":"Einfühlsamkeit","enemy":"Feind","enforcehealing":"Heilung fördern","enhancefamiliar":"Stärkung des Vertrauten","escapologist":"Entfesslungskünstler","estimateanimal":"Tier einschätzen","etiquettes":"Etikette","evade1":"Ausweichen 1","evade2":"Ausweichen 2","evade3":"Ausweichen 3","evademovement":"Ausweichbewegung","expert":"Fachmann","exploringmind":"Forschender Geist","familiarbond":"Vertrautenband","familiarlanguage":"Vertrautensprache","fascinate":"Faszinieren","fastforager":"Schneller Sammler","fasthunter":"Schneller Jäger","fastreader":"Schnellleser","fastshooter1":"Schnellschütze I","fastshooter2":"Schnellschütze II","favoredform":"Bevorzugte Gestalt","feint1":"Antäuschen 1","feint2":"Antäuschen 2","feint3":"Antäuschen 3","fielddignostics":"Felddiagnose","fieldstudy":"Feldforschung","fightunderwater":"Kampf unter Wasser","firemastery":"Feuermeisterschaft","fireresistence1":"Feuerresistenz I","fireresistence2":"Feuerresistenz II","fireresistence3":"Feuerresistenz III","firmamentmymap":"Meine Karte ist das Firmament","fittingtone":"Der richtige Ton","flameheart":"Flammenherz","flashreflexes":"Blitzreflexe","focuscontrol":"Fokuskontrolle","forcetransmission":"Ãœbertragung der Kraft","formbanishing":"Bannung der Form","formcontrol":"Kontrolle der Form","formveil":"Verhüllung der Form","fortuneteller":"Wahrsager","freeclimber":"Freikletterer","freedomofform":"Freiheit der Form","freehand":"Freihändigkeit","gambler":"Glücksspieler","ghostexpert":"Geisterkenner","giftedinlanguage":"Sprachbegabt","goodaim":"Zielschuss","goodeducation":"Gute Allgemeinbildung","goodreflexes":"Gute Reflexe","grandmaster":"Großmeister","greatforcetransmission":"Große Ãœbertragung der Kraft","haggler":"Feilscher","hahascoundrel":"Haha, Schurke!","hammerblow":"Hammerschlag","handyknowledge":"Praktisches Wissen","hardendbycustom":"Abhärtung durch Gewöhnung","hardhammerblow":"Kraftvoller Hammerschlag","hardsweepingblow":"Kraftvoller Rundumschlag","hardthrow":"Harter Wurf","hastyprotection":"Eiliger Schutz","healingluck":"Heilungsgeschick","healthydistrust":"Gesundes Misstrauen","heargossip":"Gerüchte aufschnappen","herbhag":"Kräuterhexe","herooftheseas":"Held der Meere","hidemagicgestures":"Zaubergesten verbergen","hold":"Halten","hunter":"Waidmann","hunter_bear":"Jäger (Bärenartige)","hunter_biggame":"Jäger (Großwild)","hunter_bird":"Jäger (Vögel)","hunter_canine":"Jäger (Hundeartige)","hunter_feline":"Jäger (Katzenartige)","hunter_fish":"Jäger (Fische)","hunter_insect":"Jäger (Insekten)","hunter_reptile":"Jäger (Reptilien)","hunter_smallgame":"Jäger (Kleinwild)","hunter_spider":"Jäger (Spinnentiere)","hunteroffables":"Jäger des Sagenhaften","huntersupernatural":"Jäger des Ãœbernatürlichen","hurriedidentify":"Eilige Identifikation","hypnosis":"Hypnose","ignoreshield":"Schild umschlagen","imperturbable":"Unbeirrbar","improvisationartist":"Improvisationskünstler","improvise":"Improvisation","improviseddressup":"Improvisierte Verkleidung","inferno":"Inferno","influenceattitude":"Einstellung beeinflussen","inspire":"Inspirieren","instransparent":"Undurchschaubar","investor":"Investor","ironconcentration":"Eiserne Konzentration","ironwill":"Eiserner Wille","journeyman":"Geselle","judgeattribute":"Werte einschätzen","judgecharacter":"Begabter Menschenkenner","keepcool1":"Kühler Kopf I","keepcool2":"Kühler Kopf II","knock":"Umreißen","knowhoiam":"Wisst Ihr überhaupt wer ich bin?","knowledgeispower":"Wissen ist Macht","lastarray":"Das letzte Aufgebot","laughmedicine":"Lachen i.d.b. Medizin","legendhunter":"Legendenjäger","legendsinger":"Legendensänger","lethal":"Tödlicher Schaden","librarian":"Bibliothekar","lifesaver":"Lebensretter","likemypocket":"Wie meine Westentasche","lockhammer":"Schlösserhammer","longdistanceswimmer":"Langstreckenschwimmer","longjump":"Weitspringer","longrangewhirlingblades":"Weitreichender Klingenwirbel","longwhirlingdefense":"Andauernder Verteidigungswirbel","luckychild":"Glückskind","luminance":"Leuchtkraft","magiccrafter":"Zauberfinger","magicpull":"Magischer Sog","magicsymbols":"Magische Zeichen","magictricks":"Magische Tricks","marksman":"Scharfschütze","master":"Meister","masterbalance":"Meisterhafte Balance","masterhunter_bear":"Meisterjäger (Bärenartige)","masterhunter_biggame":"Meisterjäger (Großwild)","masterhunter_bird":"Meisterjäger (Vögel)","masterhunter_canine":"Meisterjäger (Hundeartige)","masterhunter_feline":"Meisterjäger (Katzenartige)","masterhunter_fish":"Meisterjäger (Fische)","masterhunter_insect":"Meisterjäger (Insekten)","masterhunter_reptile":"Meisterjäger (Reptilien)","masterhunter_smallgame":"Meisterjäger (Kleinwild)","masterhunter_spider":"Meisterjäger (Spinnentiere)","masterofage":"Herr des Alters","masteroffireghosts":"Herr der Feuergeister","masterofghosts":"Herr der Geister","masterofstone":"Herr der Felsen","masterofstoneghosts":"Herr der Felsgeister","masterofundead":"Meister der Untoten","masterpiece":"Meisterwerk","mastershot":"Meisterschuss","mastersmith":"Schmiedemeister","masterthrow":"Meisterwurf","masterwaterelem":"Herr der Wasserwesen","masterwaves":"Herr der Wogen","materialbond1":"Materielle Verbindung 1","materialbond2":"Materielle Verbindung 2","mentalmaster":"Herr über den Geist","meteologist":"Meteorologie"};
    var masteries4 = {"missilevolley":"Geschosshagel","missionary":"Missionar","monkey":"Kletteraffe","muscleman":"Muskelprotz","natureexpert":"Naturkenner","natureharmony":"Harmonie mit der Natur","naturesong":"Lied der Natur","necromancer":"Nekromant","nightvision":"Nachtsicht","nobodywashere":"Keiner war hier","nothinghappend":"Nichts passiert!","notintheface":"Nicht ins Gesicht","nutshellcaptain":"Kapitän der verfaulten Nussschale","observant":"Aufmerksam","oceandiver":"Meerestaucher","onewithnature":"Eins mit der Natur","opportunist":"Opportunist","overload":"Ãœberlasten","ownadvantage":"Eigener Vorteil","painful":"Schmerzhafter Hieb","penetratingprojectile":"Durchschlagendes Geschoss","perfecthearing":"Absolutes Gehör","perfectorientation":"Unfehlbare Orientierung","perfecttaste":"Perfekter Gaumen","philosopher":"Philosoph","polymath":"Universalgelehrter","preemption":"Vorahnung","projectilemagic":"Geschossmagie","protectingshadows":"Schützende Schatten","protectionlight":"Schutz des Lichtes","protectionmagicexpert":"Zauberschutz-Experte","protectionmagicmaster":"Zauberschutz-Meister","puppet":"Gliederpuppe","push":"Abdrängen","quickdrawer":"Schnellziehen","quickreaction":"Schnelle Reaktion","quicksearch":"Schnelle Durchsuchung","quickshielddefense":"Schnelle Schildabwehr","quickupagain":"Schnell wieder auf den Beinen","readfoe1":"Gegner durchschauen I","readfoe2":"Gegner durchschauen II","rebellionsong":"Lied des Aufstandes","relentless":"Unerbittlich","relicmaster":"Artefaktmeister","resistpain1":"Schmerzwiderstand I","resistpain2":"Schmerzwiderstand II","resistwater1":"Wasserresistenz 1","resistwater2":"Wasserresistenz 2","resistwater3":"Wasserresistenz 3","ridingfighter":"Reiterkampf","riposte":"Riposte","riverdiver":"Flusstaucher","roll":"Abrollen","rush":"Vorstürmen","sailorslegs":"Beine des Seemanns","savingcaster":"Sparsamer Zauberer","scrimper":"Sparfuchs","seadog":"Seebär","secondidentity":"Zweite Identität","secondskin":"Zweite Haut","shadowchild":"Kind der Schatten","shadowmaster":"Schattenherr","shadowwalker":"Wanderer im Schatten","sharptongue":"Scharfe Zunge","shield1":"Starker Schildarm I","shield2":"Starker Schildarm II","shieldbreaker":"Schildbrecher","siegeshooter":"Belagerungsschütze","sienewcutter":"Sehnenschneider","skilledcreeper":"Begabter Schleicher","skilledhealer":"Begabter Heiler","skilledrescue":"Geschickte Rettung","skilledsailor":"Begabter Seemann","skilledsalvage":"Geschickte Rettung","skilledscholar":"Begabter Gelehrter","skilledscout":"Begabter Späher","skilledstreetwalker":"Begabter Straßenwanderer","skilledswimmer":"Begabter Schwimmer","skilledtracker":"Begabter Spurenleser","skipjack":"Stehaufmännchen","sleeper":"Schläfer","sneakattack1":"Ãœberraschungsangriff I","sneakattack2":"Ãœberraschungsangriff II","sneakattack3":"Ãœberraschungsangriff III","solverofknots":"Knotenlöser","sortie":"Ausfall","soundlessness":"Lautlosigkeit","speaktome":"Rede mit mir","sprinter":"Sprinter","standclear":"Auf Abstand halten","stargaze":"Blick auf die Sterne","steelconcentration":"Stählerne Konzentration","steeplechaser":"Hindernisläufer","stonemastership":"Felsmeisterschaft","stoneresistence1":"Felsresistenz I","stoneresistence2":"Felsresistenz II","stoneresistence3":"Felsresistenz III","stormvoice":"Stimme des Sturms","strangehold":"Würgegriff","strongthrowing":"Starker Wurfarm","sturdyhead":"Dickschädel","stylegrace":"Stil und Grazie","subtileanalysis":"Subtile Forschung","supporthealing":"Heilung fördern","surgeon":"Wundarzt","surroundingsenses_city":"Umgebungssinne (Stadt)","surroundingsenses_desert":"Umgebungssinne (Wüste)","surroundingsenses_faerie":"Umgebungssinne (Feenwelten)","surroundingsenses_forest":"Umgebungssinne (Wald)","surroundingsenses_grassland":"Umgebungssinne (Steppe)","surroundingsenses_ice":"Umgebungssinne (Eis)","surroundingsenses_jungle":"Umgebungssinne (Dschungel)","surroundingsenses_mountain":"Umgebungssinne (Gebirge)","surroundingsenses_ocean":"Umgebungssinne (Meer)","surroundingsenses_swamp":"Umgebungssinne (Sumpf)","sweepingblow":"Rundumschlag","sweepingslash":"Durchschlagender Hieb","swiftpicklocks":"Flinke Dietriche","swiftpursuit":"Flinker Verfolger","tacticalmastermind":"Taktisches Genie","talentedalchemist":"Begabter Alchemist","talentedartist":"Begabter Künstler","talentedcraftsman":"Begabter Handwerker","talentedfingerartist":"Begabter Fingerkünstler","talentedhistorian":"Begabter Historiker","talentedlier":"Begabter Lügner","talentedpighead":"Begabter Sturkopf","talentedtradesman":"Begabter Handwerker","targetedhit":"Gezielter Treffer","targetedshots1":"Gezielte Schüsse I","targetedshots2":"Gezielte Schüsse II","taunt":"Beißender Spott","telepathicshield":"Telepathischer Schild","tellgossip":"Gerüchte verbreiten","terrainlore_desert":"Geländekunde (Wüste)","terrainlore_faerie":"Geländekunde (Feenwelten)","terrainlore_forest":"Geländekunde (Wald)","terrainlore_grassland":"Geländekunde (Steppe)","terrainlore_ice":"Geländekunde (Eis)","terrainlore_jungle":"Geländekunde (Dschungel)","terrainlore_mountain":"Geländekunde (Gebirge)","terrainlore_ocean":"Geländekunde (Meer)","terrainlore_swamp":"Geländekunde (Sumpf)","tirelesschaser":"Unermüdlicher Verfolger","troopup":"Sammeln","truthwithin":"Der Sage wahrer Kern","twosoulsonethought":"Zwei Geister, ein Gedanke","unblinded":"Ungeblendet","undeadhunter":"Untotenjäger","unobstrusive":"Unauffällig","urgentmessage":"Dringende Botschaft","veteranofmelee":"Veteran des Kampfgetümmels","vetinary":"Tierarzt","voicesoffriends":"Stimmen der Freunde","wallclimber":"Mauerstürmer","wardingexpert":"Bannzauber-Experte","wardinghand":"Bannende Hand","warning":"Unterschwellige Warnung","warrider":"Schlachtreiter","warrioroflight":"Streiter des Lichtes","wasnotme":"Ich war's nicht","watchit":"Pass ja auf!","watermastery":"Wassermeisterschaft","wavechild":"Kind der Wellen","wayoftheworld":"Wesen der Welt","weaponoutofnothing":"Waffe aus dem Nichts","weatherexpert":"Wetterkundig","weathermaster":"Herr des Wetters","weatherproof":"Wetterfest","whirlingblades":"Klingenwirbel","whirlingdefense":"Verteidigungswirbel","wildernesschild":"Kind der Wildnis","wildernessrunner":"Wildnisläufer","willbreaker":"Willensbrecher","windghostmaster":"Herr der Windgeister","windmastery":"Windmeisterschaft","windresistence1":"Windresistenz I","windresistence2":"Windresistenz II","windresistence3":"Windresistenz III","withdraw":"Rückzugsgefecht","withoutwords":"Ohne Worte","wondercrafter":"Wunderwirker","wonderworker":"Wunderarbeiter","workunderwater":"Arbeit unter Wasser","wouldilietoyou":"Können diese Augen lügen?"};
    var masteries5 = {"analyst":"Analyst","meditation":"Meditaton","flexible_weakening":"Flexible Schwächung","cleansing_concentration":"Reinigende Konzentration (Aufladung)","protecting_concentration":"Schützende Konzentration (Aufladung)","weakening_concentration":"Schwächende Konzentration (Aufladung)","strong_weakening":"Starke Schwächung","wallmaster":"Wandmeister","destroying_concentration":"Zerstörerische Konzentration (Auflad.)","overwhelming_profiency":"Erdrückende Kenntnis","longterm_observation":"Langzeitbeobachtung","magic_detector":"Magiedetektor","magic_gesture_expert":"Zaubergesten-Experte","fake_magic_gesture":"Falsche Zaubergesten","fast_casting":"Flinkes Zaubern","enhanced_spells":"Verstärkte Zauber","targeting_caster":"Zielender Zauberer","unhasty_casting":"Hastfreies Zaubern","silent_casting":"Stilles Zaubern","ranged_casting":"Weites Zaubern","sustained_casting":"Anhaltende Zauberwirkung","broad_knowledge":"Breite Zauberkenntnis","opponent_blood":"Gegner der Blutwesen","opponent_stone":"Gegner der Felswesen","opponent_fire":"Gegner der Feuerwesen","opponent_ghost":"Gegner der Geisterwesen","opponent_god":"Gegner der Götterdiener","opponent_light":"Gegner der Lichtwesen","opponent_nature":"Gegner der Naturwesen","opponent_shadow":"Gegner der Schattenwesen","opponent_water":"Gegner der Wasserwesen","opponent_darkness":"Gegner der Wesen der Finsternis","opponent_wind":"Gegner der Windwesen","magehunter":"Magierjäger","selective_field":"Selektives Schutzfeld","antimagic_hardening":"Antimagische Abhärtung","brute_banishing":"Brachiales Bannen","effective_banisher":"Effektiver Bannmagier","enemy_blood":"Feind der Blutwesen","enemy_stone":"Feind der Felswesen","enemy_fire":"Feind der Feuerwesen","enemy_ghost":"Feind der Geisterwesen","enemy_god":"Feind der Götterdiener","enemy_light":"Feind der Lichtwesen","enemy_nature":"Feind der Naturwesen","enemy_shadow":"Feind der Schattenwesen","enemy_water":"Feind der Wasserwesen","enemy_darkness":"Feind der Wesen der Finsternis","enemy_wind":"Feind der Windwesen","broadband_antimagic":"Breitband-Bannmagie","archenemy_blood":"Erzfeind der Blutwesen","archenemy_stone":"Erzfeind der Felswesen","archenemy_fire":"Erzfeind der Feuerwesen","archenemy_ghost":"Erzfeind der Geisterwesen","archenemy_god":"Erzfeind der Götterdiener","archenemy_light":"Erzfeind der Lichtwesen","archenemy_nature":"Erzfeind der Naturwesen","archenemy_shadow":"Erzfeind der Schattenwesen","archenemy_water":"Erzfeind der Wasserwesen","archenemy_darkness":"Erzfeind der Wesen der Finsternis","archenemy_wind":"Erzfeind der Windwesen","fast_counter":"Schneller Konter","superior_counter":"Ãœberlegener Konter","countermagic_armor":"Antimagischer Panzer","penetrating_gaze":"Durchdringender Blick","subtle_influence":"Subtile Beeinflussung","unyielding_will":"Unbeugsamer Wille","counter_control":"Beherrschungskonter","friendly_takeover":"Freundliche Ãœbernahme","superiority":"Ãœberlegenheit","duel_of_wills":"Willensduell","victory_of_mind":"Sieg des Geistes ","will_enhancer":"Willensverstärkun","materialbond3":"Materielle Verbindung III","firm_anker":"Feste Verankerung","hard_to_hit":"Kaum zu treffen","paralyzing_magic":"Lähmende Magie","lasting_speed":"Ausgedehnte Geschwindigkeit","deflect_projectile1":"Geschoss ablenken I","speed_transfer":"Geschwindigkeitsübertragung","telekinetic":"Telekinetiker","moving_caster1":"Zauberbewegungen I","deflect_projectile2":"Geschoss ablenken II","unrestricted_motion":"Uneingeschränkte Bewegung","moving_caster2":"Zauberbewegungen II","one_with_the_wind":"Eins mit dem Wind","reflect_projectile":"Geschoss zurückschleudern","i_see_through_you":"Ich habe dich durchschaut!","magic_senses":"Magische Sinne","recognize_signature":"Signatur erkennen","enhanced_senses":"Sinnesstärkung","knowledge_is_power":"Wissen ist Macht","spellsense1":"Zaubergespür I","arcane_forensic1":"Arkaner Forensiker I","soothing_aura":"Beruhigende Aura","shared_insight":"Geteilte Erkenntnis","forced_insight":"Gewaltsame Erkenntnis","illusiondestroyer":"Illusionszerstörer","deep_insight":"Tiefe Erkenntnis","arcane_forensic2":"Arkaner Forensiker II","thought_cathedral":"Gedankenkathedrale","sense_magic":"Magiegespür","spellsense2":"Zaubergespür II","arcane_forensic3":"Arkaner Forensiker III","divider_of_veils":"Teiler des Schleiers","stone_summoner":"Felsbeschwörer","stone_power":"Felsenkraft","power_of_the_ore":"Kraft des Erzes","stone_former":"Steinformer","object_caster":"Objektzauberer","sense_stone":"Felsgespür","object_destroyer":"Objektzerstörer","stubborn_as_stone":"Sturheit der Felsen","fists_of_steel":"Fäuste aus Stahl","stoneaffinity":"Felsverbundenheit","heavens_enemy":"Himmelsfeind","root_in_stone":"Felsverwurzelung","mind_of_seel":"Stählerne Stirn","impressive_flame":"Beeindruckende Flamme","fire_summoner":"Feuerbeschwörer","heat_aura":"Hitzeaura","bonfire":"Leuchtfeuer","forceful_explosion":"Starke Explosion","burning_rage":"Brennender Zorn","efficient_flames":"Effiziente Flammen","fireproof":"Feuerfestigkeit","fiery_surrounding":"Feurige Umgebung","firestarter":"Feuerstarter","master_of_heat":"Herr über die Hitze","firestorm":"Feuersturm","heatmaster":"Herr der Hitze","cauterize":"Kauterisieren","feeding_flames":"Nährende Flammen","healing_efficiency":"Heilungseffizienz","disease_resistence":"Seuchenresistenz","life_blossom":"Lebensblüte","emergency_balm":"Notlinderung","signs_of_life":"Zeichen des Lebens","anatomic_secrets":"Anatomisches Spezialwissen","magic_poison_immunity":"Magische Giftimmunität","multiple_healing":"Mehrfachheilung","life_intuition":"Gespür des Lebens","healing_hands":"Heilende Hände","phoenix_rising":"Phönix aus der Asche","stable_healmagic":"Stabile Heilzauberei","clear_sight":"Klarer Blick","blurry_blade":"Verschwommene Klinge","multiple_illusions":"Multiple Trugbilder","selective_illusions":"Selektive Illusion","immoderate_trust":"Ãœbermäßiges Vertrauen","inscrutable_magic":"Undurchschaubare Magie","shared_camouflage":"Geteilte Tarnung","spellhustle":"Zauberschwindel","master_of_weak_minds":"Herr der schwachen Geister","unseen_attack":"Ungesehener Angriff","constant_disturbance1":"Andauernde Störung I","arcane_archer":"Arkaner Bogenschütze","defensive_caster":"Defensiver Zauberer","pierce_darkness":"Durchdringe die Dunkelheit","magical_throwing_weapon":"Zauberhafte Wurfwaffe","constant_disturbance2":"Andauernde Störung II","one_with_weapon":"Eins mit der Waffe","destroyerghost":"Geist des Zerstörers","protected_caster":"Geschützter Zauberer","careful_aiming":"Sorgfältiges Zielen","enhanced_attack":"Verstärkter Angriff","unruly_disturbance":"Widerspenstige Störung","destroyerblood":"Blut des Zerstörers","hardtoescape":"Kaum zu entrinnen","masterofmelee":"Meister des Kampfgetümmels","destroyermind":"Verstand des Zerstörer","moonsteel_concentration":"Mondstählerne Konzentration","blinder":"Blender"};
    var masteries6 = {"child_of_light":"Kind des Lichts","lightsummoner":"Lichtbeschwörer","disrupter_of_shadows":"Störer der Schatten","smashing_light":"Zerschmetterndes Licht","brighter_as_light":"Heller als das Licht","master_of_lightcreatures":"Herr der Lichtgeister","shining_example":"Leuchtendes Vorbild","light_in_the_dark":"Licht in der Finsternis","lightenhancer":"Lichtverstärker","shocking_light":"Lichtschock","nurturing_light":"Nahrung des Lichts","guardian_of_light":"Wächter des Lichts","arbiter_of_brightness":"Gebieter der Helligkeit","smasher_of_darkness":"Zerschmetterer der Dunkelheit","localfauna":"Lokale Tierwelt","natureconjurer":"Naturbeschwörer","natureprotection":"Schutz der Natur","animalcaller":"Tierrufer","magichardening":"Magische Abhärtung","naturecloseness":"Nähe zur Natur","animalcompany":"Tierbegleitung","rootsleep":"Wurzelschlaf","wildernessservant":"Diener der Wildnis","nature_nourishment":"Nahrung der Natur","onewithanimals":"Eins mit den Tieren","efficientdisguise":"Effiziente Verhüllung","lightconjurer":"Lichtbeschwörer","disruptor_of_light":"Störer des Lichts","unseen":"Ungesehen","darker_as_shadows":"Dunkler als die Schatten","master_of_shadowghosts":"Herr der Schattengeister","nightlyhunter":"Nächtlicher ","scaryshadows":"Furchterregende Schatten","caringshadows":"Behütende Schatten","shadowsense":"Schattengespürr","matterveiler":"Verhüller der Materie","godly_conjurer":"Göttlicher Beschwörer","fate_aware":"Schicksalsbewusst","self_blessing":"Selbstsegnung","personalized_curse":"Personalisierter Fluch","fate_knowledge":"Schicksalskenntnis","blessed":"Vom Glück verfolgt","leased_luck":"Das Glück gepachtet","curse_master":"Fluchmeister","prophet":"Prophet","grand_curse_master":"Fluchgroßmeister","owns_fate_master":"Herr des eigenen Schicksals","hastyprotection2":"Eiliger Schutz II","protective_knowledge":"Schützendes Wissen","protection_bloodcreature":"Schutz vor Blutwesen","protection_stonecreature":"Schutz vor Felswesen","protection_firecreature":"Schutz vor Feuerwesen","protection_ghostcreature":"Schutz vor Geisterwesen","protection_godservant":"Schutz vor Götterdienern","protection_lightcreature":"Schutz vor Lichtwesen","protection_naturecreature":"Schutz vor Naturwesen","protection_shadowcreature":"Schutz vor Schattenwesen","protection_watercreature":"Schutz vor Wasserwesen","protection_creature_darkness":"Schutz vor Kreaturen der Finsternis","protection_windcreature":"Schutz vor Windwesen","stacked_protection":"Gestapelter Schutz","strong_protection":"Starker Schutz","spell_identification":"Zaubererkennung","close":"Knapp daneben","magic_defender":"Magischer Verteidiger","granted_protection":"Verliehene Schutzwirkung","thorny_protection":"Dorniger Schutz","shared_protection":"Geteilte Schutzwirkung","tightened_morale":"Gefestigte Moral","magic_and_craftmanship":"Magie und Handwerk","acuteness":"Scharfsinn","overall_senses":"Allumfassende Sinne","steely_morale":"Gestählte Moral","longterm_overload":"Langfristiges Ãœberlasten","shared_advantage":"Geteilter Vorteil","forcetransfer":"Krafttransfer","magic_runes":"Magische Runen","absolute_awareness":"Absolute Aufmerksamkeit","spelladvantage":"Zaubervorteil","ghostcreature_conjurer":"Geisterbeschwörer","undead_classicist":"Untotenkenner","curse_of_curses":"Fluch der Flüche","inspired_by_ghosts":"Inspiration der Geister","necromantic_dulling":"Nekromantische Abstumpfung","undead_presence":"Präsenz der Untoten","ageless":"Alterslosigkeit","hard_to_see_through":"Kaum zu durchschauen","splendid_animalform":"Prächtige Tiergestalt","form_stability":"Stabilität der Form","accustomed_form":"Gewohnte Gestalt","harmonized_transformation":"Harmonisierte Verwandlung","fighting_form":"Kämpfende Tiergestalt","mighty_form":"Mächtige Tiergestalt","magic_crafter1":"Magischer Handwerker I","second_skin":"Zweite Haut","eternal_form":"Ewige Form","magic_crafter2":"Magischer Handwerker II","master_of_objects":"Meister der Objekte","flood_guider":"Flutenlenker","cold_aura":"Kälteaura","water_summoner":"Wasserbeschwörer","icy_surrounding":"Eisige Umgebung","friend_of_fishes":"Freund der Fische","secrete_poison":"Gift ausscheiden","master_icy_terrain":"Meister des eisigen Terrains","overwhelming_tides":"Ãœberwältigende Fluten","wave_conqueror":"Wogenbezwinger","conqueror_of_dryness":"Bezwinger der Trockenheit","quencher_of_flames":"Ersticker der Flammen","master_of_frost":"Herr der Kälte","one_with_waves":"Eins mit den Wogen","ally_of_fishes":"Verbündeter der Fische","good_nose":"Spürnase","fanned_by_wind":"Vom Winde umweht","weatherproof":"Wetterfest","wind_summoner":"Windbeschwörer","whispering_wind":"Flüsternder Wind","master_thunderstorms":"Gewittermeister","deep_breath":"Langer Atem","carried_by_wind":"Von den Winden getragen","friend_of_the_sky":"Himmelsfreund","flight_knowledge":"Flugkenntnis","wings_of_the_storm":"Flügel des Sturms","one_with_the_wind2":"Eins mit dem Wind","free_breath":"Freier Atem","ritual_lore_1":"Ritualkunde I","ritual_connection":"Ritualband","focus_theft":"Fokusdiebstahl","ritual_lore_2":"Ritualkunde II","ritual_lore_3":"Ritualkunde III","versed_scrolluser":"Arkaner Schriftkundiger","artifact_speeder":"Artefaktbeschleuniger","artifact_stacking":"Artefaktstapelung","artifact_prolonging":"Artefaktverlängerer","create_talismans":"Talismane erstellen","enhanced_anchor":"Verbesserte Verankerung","scroll_expert":"Strukturgeber-Experte","customized_artifacts":"Maßgeschneiderte Artefakte","create_spellstore":"Zauberspeicher erstellen","fast_spellstore_replenish":"Schneller Zauberspeicher-Auflader","spellstore_replenish":"Zauberspeicher aufladen","higher_artifactmaster":"Höherer Artefaktmagier","fast_undead":"Flinke Untote","master_abnormities":"Meister der Abnormitäten","graceful_skeleton":"Skelett und Grazie","dancing_dead":"Totentanz","hard_to_banish":"Kaum zu bannen","spontaneous_graverobbery":"Spontaner Grabraub","undead_hordes":"Untote Horden","undead_onslaught":"Untoter Ansturm","rise":"Erhebt euch!","corpseteacher":"Leichenlehrer","master_undead_hordes":"Herr der untoten Scharen","service_expert":"Dienstexperte","healing_beings":"Heilende Wesen","helpful_beings":"Hilfreiche Wesen","combat_conjuror":"Kampfbeschwörer","fighting_beings":"Kämpfende Wesen","combatcasting_beings":"Kampfzaubernde Wesen","scouting_beings":"Kundschaftende Wesen","protecting_beings":"Schützende Wesen","powerful_conjuror":"Starker Beschwörer","transporting_beings_1":"Transportierende Wesen I","lore_of_beings":"Wesenskenntnis","casting_beings":"Zaubernde Wesen","transporting_beings_2":"Transportierende Wesen II","promising_conjuror":"Vielversprechender Beschwörer","excellent_conjuror":"Herausragender Beschwörer","transporting_beings_3":"Transportierende Wesen III","arcane_overload":"Arkane Ãœberladung","complex_commands":"Komplexe Golembefehle","personal_synchronisation":"Persönliche Synchronisierung","spontaneous_instruction":"Spontane Unterweisung","designer":"Konstrukteur","adaptive_designer":"Adaptiver Konstrukteur","binding_animation":"Bindende Animierung","restoration":"Restaurierung"};
    if (termToTranslate in ressources) {
        return ressources[termToTranslate];
    } else if (termToTranslate in apprenticeships) {
        return apprenticeships[termToTranslate];
    } else if (termToTranslate in cultures) {
        return cultures[termToTranslate];
    } else if (termToTranslate in origins) {
        return origins[termToTranslate];
    } else if (termToTranslate in races) {
        return races[termToTranslate];
    } else if (termToTranslate in splinters) {
        return splinters[termToTranslate];
    } else if (termToTranslate in abilities) {
        return abilities[termToTranslate];
    } else if (termToTranslate in skills) {
        return skills[termToTranslate];
    } else if (termToTranslate in spells1) {
        return spells1[termToTranslate];
    } else if (termToTranslate in spells2) {
        return spells2[termToTranslate];
    } else if (termToTranslate in spells3) {
        return spells3[termToTranslate];
    } else if (termToTranslate in spells4) {
        return spells4[termToTranslate];
    } else if (termToTranslate in masteries1) {
        return masteries1[termToTranslate];
    } else if (termToTranslate in masteries2) {
        return masteries2[termToTranslate];
    } else if (termToTranslate in masteries3) {
        return masteries3[termToTranslate];
    } else if (termToTranslate in masteries4) {
        return masteries4[termToTranslate];
    } else if (termToTranslate in masteries5) {
        return masteries5[termToTranslate];
    } else if (termToTranslate in masteries6) {
        return masteries6[termToTranslate];
    }else if (termToTranslate in backgrounds) {
        return backgrounds[termToTranslate];
    } else {
        return termToTranslate;
    }
}

on("change:nsctemplate", function(eventInfo) {
    getAttrs(["nsctemplate"], function(v) {
        createNSCFromTemplate(v.nsctemplate);
    });
});

function createNSCFromTemplate (template) {
    var newrowid = generateRowID();
    var newrowattrs = {};
    var weaponnames = {};
    var weaponskills = {};
    var weaponspeed = {};
    var weapondamage1 = {};
    var weapondamage2 = {};
    var weapondamage3 = {};
    var weaponini = {};
    var weaponattributes = {};
    var masterynames = {};
    var masteryskills = {};
    var masterylevels = {};
    var spellnames = {};
    var spellschools = {};
    var spelldiffs = {};
    var spellcosts = {};
    var spelldurations = {};
    var spellranges = {};
    var spellimpactdurations = {};
    var spelllevels = {};
    var abilitynames = {};
    var abilitylevels = {};
    var featurenames = {};
    var featurelevels = {};
    setAttrs({"namensc":"","ausstrahlungnsc":0,"beweglichkeitnsc":0,"intuitionnsc":0,"konstitutionnsc":0,"mystiknsc":0,"staerkensc":0,"verstandnsc":0,"willenskraftnsc":0,"groessenklassensc":5,"geschwindigkeitnsc":0,"lebenspunktensc":0,"fokusnscgesamt":0,"verteidigungnsc":0,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":0,"geistigerwiderstandnsc":0,"lpnscgesamt":0,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":1});
    getSectionIDs("repeating_waffennsc", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_waffennsc_" + idarray[i]);
        }
    });
    getSectionIDs("repeating_meisterschaftennsc", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_meisterschaftennsc_" + idarray[i]);
        }
    });
    getSectionIDs("repeating_zaubernsc", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_zaubernsc_" + idarray[i]);
        }
    });
    getSectionIDs("repeating_fertigkeitennsc", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_fertigkeitennsc_" + idarray[i]);
        }
    });
    getSectionIDs("repeating_merkmalensc", function(idarray) {
        for(var i=0; i < idarray.length; i++) {
            removeRepeatingRow("repeating_merkmalensc_" + idarray[i]);
        }
    });
    switch(template) {
        case("baumwandler"):
            setAttrs({"namensc":"Baumwandler","ausstrahlungnsc":4,"beweglichkeitnsc":2,"intuitionnsc": 3,"konstitutionnsc":8,"mystiknsc":4,"staerkensc":9,"verstandnsc":3,"willenskraftnsc":4,"groessenklassensc":7,"geschwindigkeitnsc":8,"lebenspunktensc":15,"fokusnscgesamt":16,"verteidigungnsc":29,"schadensreduktionnsc":4,"koerperlicherwiderstandnsc":33,"geistigerwiderstandnsc":27,"lpnscgesamt":75,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [22];
            weaponspeed = [13];
            weapondamage1 = [3];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [7];
            weaponattributes = ["Umklammern, Wuchtig"];
            masterynames = ["Umklammern", "Vorstürmen", "Würgegriff", "Lied der Natur"];
            masteryskills = ["Handgemenge", "Handgemenge", "Handgemenge", "Naturmagie"];
            masterylevels = [1, 1, 3, 1];
            spellnames = ["Rindenhaut", "Wachstum", "Ranken", "Spurlos in der Wildnis"];
            spellschools = ["natur", "natur", "natur", "natur"];
            spelldiffs = [18, 18, 21, 21];
            spellcosts = ["K4V1", "4V1", "K8V2", "K8V2"];
            spelldurations = [3, 3, 8, 8];
            spellranges = ["Zauberer", "5m", "10m", "Zauberer"];
            spellimpactdurations = ["kan.", "-", "kan.", "kan."];
            spelllevels = [13, 13, 13, 13];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "naturmagie"];
            abilitylevels = [11, 15, 16, 7, 11, 23, 13];
            featurenames = ["Dämmersicht", "Feenblut", "Giftimmunität", "Schmerzresistenz", "Taktiker", "Verwundbarkeit gegen Feuerschaden"];
            featurelevels = [1, 1, 1, 1, 1, 1];
            break;
        case("daemmerweide"):
            setAttrs({"namensc":"Dämmerweide","ausstrahlungnsc":2,"beweglichkeitnsc":1,"intuitionnsc":2,"konstitutionnsc":9,"mystiknsc":0,"staerkensc":9,"verstandnsc":0,"willenskraftnsc":5,"groessenklassensc":9,"geschwindigkeitnsc":0,"lebenspunktensc":18,"fokusnscgesamt":10,"verteidigungnsc":27,"schadensreduktionnsc":8,"koerperlicherwiderstandnsc":38,"geistigerwiderstandnsc":24,"lpnscgesamt":90,"nschealth":5,"schmerzimmunnsc":1,"initiativensc":8});
            weaponnames = ["Ranken"];
            weaponskills = [24];
            weaponspeed = [12];
            weapondamage1 = [4];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [8];
            weaponattributes = ["Umklammern, Wuchtig"];
            masterynames = ["Umklammern", "Umreißen (Schwierigkeit 23)", "Würgegriff"];
            masteryskills = ["Handgemenge", "Handgemenge", "Handgemenge"];
            masterylevels = [1, 1, 3];
            abilitynames = ["entschlossenheit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [15, 7, 25];
            featurenames = ["Betäubungsimmunität", "Dämmersicht", "Furchterregend", "Giftimmunität", "Koloss (Ranken)", "Schmerzimmunität", "Verwundbarkeit gegen Feuerschaden", "Verwundbarkeit gegen Lichtschaden"];
            featurelevels = [1, 1, 25, 1, 2, 1, 1, 1];
            break;
        case("dryade"):
            setAttrs({"namensc":"Dryade","ausstrahlungnsc":5,"beweglichkeitnsc":3,"intuitionnsc":5,"konstitutionnsc":2,"mystiknsc":5,"staerkensc":3,"verstandnsc":3,"willenskraftnsc":4,"groessenklassensc":5,"geschwindigkeitnsc":8,"lebenspunktensc":7,"fokusnscgesamt":23,"verteidigungnsc":25,"schadensreduktionnsc":3,"koerperlicherwiderstandnsc":23,"geistigerwiderstandnsc":29,"lpnscgesamt":35,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":2});
            weaponnames = ["Körper"];
            weaponskills = [16];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [2];
            weaponattributes = ["-"];
            masterynames = ["Überraschungsangriff 1", "Lied der Natur"];
            masteryskills = ["Handgemenge", "Naturmagie"];
            masterylevels = [1, 1];
            spellnames = ["Rindenhaut", "Wachstum", "Ranken", "Tiere beherrschen", "Chamäleon", "Insektenschwarm"];
            spellschools = ["natur", "natur", "natur", "natur", "natur", "natur"];
            spelldiffs = ["18", "18", "21", "GW", "24", "24"];
            spellcosts = ["K4V1", "4V1", "K8V2", "K8V2", "K12V3", "12V3"];
            spelldurations = [3, 3, 8, 6, 9, 12];
            spellranges = ["Zauberer", "5m", "10m", "5m", "Zauberer", "10m"];
            spellimpactdurations = ["kan.", "-", "kan.", "kan.", "kan.", "5 Minuten"];
            spelllevels = [19, 19, 19, 19, 19, 19];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "naturmagie"];
            abilitylevels = [11, 10, 14, 16, 13, 10, 19];
            featurenames = ["Dämmersicht", "Feenblut", "Taktiker", "Verwundbarkeit gegen Feuerschaden"];
            featurelevels = [1, 1, 1, 1];
            break;
        case("duesterfee"):
            setAttrs({"namensc":"Düsterfee","ausstrahlungnsc":7,"beweglichkeitnsc":3,"intuitionnsc":3,"konstitutionnsc":1,"mystiknsc":6,"staerkensc":1,"verstandnsc":5,"willenskraftnsc":5,"groessenklassensc":5,"geschwindigkeitnsc":8,"lebenspunktensc":6,"fokusnscgesamt":52,"verteidigungnsc":23,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":19,"geistigerwiderstandnsc":31,"lpnscgesamt":18,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            masterynames = ["Eiserner Wille", "Leisetreter", "Willensbrecher", "Materielle Verbindung 1", "Tr&uuml;bung des Blickes", "Blick in die Dunkelheit"];
            masteryskills = ["Entschlossenheit", "Heimlichkeit", "Beherrschungsmagie", "Beherrschungsmagie", "Illusionsmagie", "Schattenmagie"];
            masterylevels = [1, 1, 1, 2, 1, 1];
            spellnames = ["Furcht", "Verstummen", "Magische Fessel", "Schlaf", "Halluzination", "Lähmung", "Geräuschhexerei", "Magische Finte", "Stille", "Blenden", "Kreischen", "Trugbild", "Rindenhaut", "Tiere beherrschen", "Dunkelheit", "Schattenmantel", "Schattenpfeil", "Verh&uuml;llung"];
            spellschools = ["beherrschung", "beherrschung", "beherrschung", "beherrschung", "beherrschung", "beherrschung", "illusion", "illusion", "illusion", "illusion", "illusion", "illusion", "natur", "natur", "schatten", "schatten", "schatten", "schatten"];
            spelldiffs = ["GW", "GW", "GW", "GW", "GW", "KW", 15, 18, 18, "KW", 21, 21, 18, "GW", 18, 18, "VTD", 21];
            spellcosts = ["4V1", "K4V1", "K8V2", "8V2", "K12V3", "K8V2", "1", "4V1", "K4V1", "4V1", "8V2", "K8V2", "K4V1", "K8V2", "K4V1", "K4V1", "6V2", "K8V2"];
            spelldurations = [4, 3, 4, 6, 14, 7, 4, 4, 1, 3, 9, 6, 3, 6, 1, 1, 7, 4];
            spellranges = ["5m", "5m", "10m", "5m", "10m", "10m", "10m", "10m", "Zauberer", "5m", "Zauberer", "5m", "Zauberer", "5m", "Zauberer", "Zauberer", "10m", "Zauberer"];
            spellimpactdurations = ["60 Ticks", "kan.", "kan.", "-", "kan.", "kan.", "-", "kan.", "kan.", "-", "kan.", "kan.", "kan.", "kan.", "kan.", "kan.", "-", "kan."];
            spelllevels = [21, 21, 21, 21, 21, 21, 18, 18, 18, 18, 18, 18, 17, 17, 16, 16, 16, 16];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "beherrschungsmagie", "illusionsmagie", "naturmagie", "schattenmagie"];
            abilitylevels = [9, 4, 18, 13, 13, 6, 21, 18, 17, 16];
            featurenames = ["Dämmersicht", "Feenblut", "Fliegend", "Furchterregend", "Konzentrationsstärke", "Resistenz gegen Schattenschaden", "Schwächlich", "Taktiker", "Verwundbarkeit gegen Lichtschaden"];
            featurelevels = [1, 1, 1, 15, 1, 4, 1, 1, 1];
            break;
        case("felsling"):
            setAttrs({"namensc":"Felsling","ausstrahlungnsc":2,"beweglichkeitnsc":1,"intuitionnsc":2,"konstitutionnsc":4,"mystiknsc":1,"staerkensc":5,"verstandnsc":2,"willenskraftnsc":2,"groessenklassensc":3,"geschwindigkeitnsc":4,"lebenspunktensc":7,"fokusnscgesamt":6,"verteidigungnsc":18,"schadensreduktionnsc":2,"koerperlicherwiderstandnsc":21,"geistigerwiderstandnsc":15,"lpnscgesamt":21,"nschealth":3,"schmerzimmunnsc":1,"initiativensc":8});
            weaponnames = ["Körper"];
            weaponskills = [9];
            weaponspeed = [10];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [8];
            weaponattributes = ["-"];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [6, 8, 8, 3, 4, 11];
            featurenames = ["Betäubungsimmunität", "Feenblut", "Hitzeresistenz", "Kälteresistenz", "Kreatur", "Resistenz gegen Felsschaden", "Schmerzimmunität", "Schwächlich"];
            featurelevels = [1, 1, 3, 3, 5, 2, 1, 1];
            break;
        case("feuerdjinn"):
            setAttrs({"namensc":"Feuerdjinn","ausstrahlungnsc":3,"beweglichkeitnsc":5,"intuitionnsc":3,"konstitutionnsc":4,"mystiknsc":5,"staerkensc":5,"verstandnsc":3,"willenskraftnsc":4,"groessenklassensc":5,"geschwindigkeitnsc":8,"lebenspunktensc":9,"fokusnscgesamt":28,"verteidigungnsc":30,"schadensreduktionnsc":1,"koerperlicherwiderstandnsc":32,"geistigerwiderstandnsc":28,"lpnscgesamt":45,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [20];
            weaponspeed = [8];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [5];
            weaponini = [7];
            weaponattributes = ["-"];
            masterynames = ["Flammenherz", "Feuermeisterschaft", "Inferno"];
            masteryskills = ["Feuermagie", "Feuermagie", "Feuermagie"];
            masterylevels = [1, 2, 3];
            spellnames = ["Feuerstrahl", "Flammenherrschaft", "Metall erhitzen", "Flammenkegel", "Flammenschild", "Feuerball", "Flammenwand"];
            spellschools = ["feuer", "feuer", "feuer", "feuer", "feuer", "feuer", "feuer"];
            spelldiffs = ["VTD", 21, 21, 24, 24, 27, 27];
            spellcosts = ["5V2", "K8V2", "K8V2", "12V4", "K12V3", "15V5", "K16V4"];
            spelldurations = [8, 7, 5, 15, 9, 19, 15];
            spellranges = ["10m", "10m", "Berührung", "5m", "Zauberer", "25m", "5m"];
            spellimpactdurations = ["-", "kan.", "kan.", "-", "kan.", "-", "kan."];
            spelllevels = [21, 21, 21, 21, 21, 21, 21];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "feuermagie"];
            abilitylevels = [15, 14, 12, 8, 12, 14, 21];
            featurenames = ["Betäubungsimmunität", "Erschöpfungsresistenz", "Feenblut", "Fliegend", "Hitzeresistenz", "Resistenz gegen Feuerschaden", "Taktiker", "Verwundbarkeit gegen Wasserschaden"];
            featurelevels = [1, 2, 1, 1, 5, 15, 1, 1];
            break;
        case("finsterschwinge"):
            setAttrs({"namensc":"Finsterschwinge","ausstrahlungnsc":0,"beweglichkeitnsc":5,"intuitionnsc":3,"konstitutionnsc":3,"mystiknsc":0,"staerkensc":5,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":5,"geschwindigkeitnsc":2,"lebenspunktensc":8,"fokusnscgesamt":6,"verteidigungnsc":27,"schadensreduktionnsc":2,"koerperlicherwiderstandnsc":31,"geistigerwiderstandnsc":22,"lpnscgesamt":40,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [18];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [7];
            weaponattributes = ["Durchdringung 2, Umklammern"];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [14, 12, 6, 17, 11, 11];
            featurenames = ["Dunkelsicht", "Fliegend", "Furchterregend", "Gift (Blut 3 / Sterbend 2 / 3 Tage)"];
            featurelevels = [1, 1, 20, 1];
            break;
        case("flimmerfee"):
            setAttrs({"namensc":"Flimmerfee","ausstrahlungnsc":4,"beweglichkeitnsc":4,"intuitionnsc":3,"konstitutionnsc":1,"mystiknsc":3,"staerkensc":0,"verstandnsc":3,"willenskraftnsc":1,"groessenklassensc":1,"geschwindigkeitnsc":4,"lebenspunktensc":2,"fokusnscgesamt":13,"verteidigungnsc":22,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":12,"geistigerwiderstandnsc":18,"lpnscgesamt":6,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            masterynames = ["Schutz des Lichtes"];
            masteryskills = ["Lichtmagie"];
            masterylevels = [2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "lichtmagie"];
            abilitylevels = [12, 4, 5, 12, 9, 2, 12];
            featurenames = ["Feenblut", "Fliegend", "Kreatur", "Resistenz gegen Lichtschaden", "Schwächlich", "Taktiker", "Verwundbarkeit gegen Kälteschaden", "Verwundbarkeit gegen Schattenschaden"];
            featurelevels = [1, 1, 6, 4, 1, 1, 1, 1];
            break;
        case("gargyl"):
            setAttrs({"namensc":"Gargyl","ausstrahlungnsc":2,"beweglichkeitnsc":2,"intuitionnsc":3,"konstitutionnsc":5,"mystiknsc":1,"staerkensc":5,"verstandnsc":2,"willenskraftnsc":4,"groessenklassensc":5,"geschwindigkeitnsc":4,"lebenspunktensc":10,"fokusnscgesamt":10,"verteidigungnsc":28,"schadensreduktionnsc":7,"koerperlicherwiderstandnsc":40,"geistigerwiderstandnsc":24,"lpnscgesamt":50,"nschealth":5,"schmerzimmunnsc":1,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [19];
            weaponspeed = [10];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [6];
            weaponini = [7];
            weaponattributes = ["Durchdringung 3"];
            masterynames = ["Umreißen", "Vorstürmen", "Rundumschlag"];
            masteryskills = ["Handgemenge", "Handgemenge", "Handgemenge"];
            masterylevels = [1, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [9, 12, 10, 9, 11, 14];
            featurenames = ["Betäubungsimmunität", "Dunkelsicht", "Erschöpfungsresistenz", "Fliegend", "Giftimmunität", "Resistenz gegen Felsschaden", "Schmerzimmunität"];
            featurelevels = [1, 1, 4, 1, 1, 5, 1];
            break;
        case("geisterhafterkrieger"):
            setAttrs({"namensc":"Geisterhafter Krieger","ausstrahlungnsc":2,"beweglichkeitnsc":3,"intuitionnsc":2,"konstitutionnsc":2,"mystiknsc":1,"staerkensc":4,"verstandnsc":1,"willenskraftnsc":5,"groessenklassensc":5,"geschwindigkeitnsc":8,"lebenspunktensc":7,"fokusnscgesamt":12,"verteidigungnsc":24,"schadensreduktionnsc":6,"koerperlicherwiderstandnsc":23,"geistigerwiderstandnsc":25,"lpnscgesamt":35,"nschealth":5,"schmerzimmunnsc":1,"initiativensc":8});
            weaponnames = ["Körper", "Langschwert"];
            weaponskills = [13, 17];
            weaponspeed = [5, 8];
            weapondamage1 = [1, 1];
            weapondamage2 = ["d6", "d6"];
            weapondamage3 = [0, 4];
            weaponini = [8, 8];
            weaponattributes = ["-", "Scharf 2"];
            masterynames = ["Ausfall", "Kühler Kopf 1", "Unbeirrbar"];
            masteryskills = ["Klingenwaffen", "Entschlossenheit", "Entschlossenheit"];
            masterylevels = [1, 1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [7, 9, 12, 13, 9, 15];
            featurenames = ["Betäubungsimmunität", "Dunkelsicht", "Erschöpfungsresistenz", "Furchterregend", "Geist", "Giftimmunität", "Körperlos", "Schmerzimmunität"];
            featurelevels = [1, 1, 3, 15, 1, 1, 1, 1];
            break;
        case("geisterwolf"):
            setAttrs({"namensc":"Geisterwolf","ausstrahlungnsc":2,"beweglichkeitnsc":4,"intuitionnsc":5,"konstitutionnsc":4,"mystiknsc":0,"staerkensc":6,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":6,"geschwindigkeitnsc":14,"lebenspunktensc":10,"fokusnscgesamt":6,"verteidigungnsc":28,"schadensreduktionnsc":1,"koerperlicherwiderstandnsc":25,"geistigerwiderstandnsc":23,"lpnscgesamt":50,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":5});
            weaponnames = ["Körper"];
            weaponskills = [20];
            weaponspeed = [8];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [5];
            weaponini = [5];
            weaponattributes = ["Scharf 2"];
            masterynames = ["Umreißen (Schwierigkeit 20)", "Vorstürmen", "Flinker Verfolger", "Unermüdlicher Verfolger", "Schmerzwiderstand 1"];
            masteryskills = ["Handgemenge", "Handgemenge", "Athletik", "Jagdkunst", "Zähigkeit"];
            masterylevels = [1, 1, 2, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "jagdkunst", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [11, 17, 9, 13, 24, 21, 12];
            featurenames = ["Dämmersicht", "Ersch&ouml;pfungsresistenz", "Furchterregend", "Kälteresistenz", "Taktiker"];
            featurelevels = [1, 3, 15, 2, 1];
            break;
        case("ghul"):
            setAttrs({"namensc":"Ghul","ausstrahlungnsc":0,"beweglichkeitnsc":3,"intuitionnsc":1,"konstitutionnsc":3,"mystiknsc":0,"staerkensc":4,"verstandnsc":2,"willenskraftnsc":3,"groessenklassensc":5,"geschwindigkeitnsc":8,"lebenspunktensc":8,"fokusnscgesamt":6,"verteidigungnsc":22,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":24,"geistigerwiderstandnsc":18,"lpnscgesamt":40,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":9});
            weaponnames = ["Körper"];
            weaponskills = [15];
            weaponspeed = [6];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [9];
            weaponattributes = ["Durchdringung 1"];
            masterynames = ["Hinterhalt"];
            masteryskills = ["Heimlichkeit"];
            masterylevels = [2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [7, 9, 4, 9, 4, 10];
            featurenames = ["Dämmersicht", "Furchterregend", "Gift (Blut 3 / Benommen / 60 Ticks)", "Schmerzresistenz", "Untot", "Verwundbarkeit gegen Lichtschaden"];
            featurelevels = [1, 15, 1, 1, 1, 1];
            break;
        case("grabbeisser"):
            setAttrs({"namensc":"Grabbeißer","ausstrahlungnsc":0,"beweglichkeitnsc":3,"intuitionnsc":3,"konstitutionnsc":3,"mystiknsc":0,"staerkensc":3,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":4,"geschwindigkeitnsc":7,"lebenspunktensc":7,"fokusnscgesamt":2,"verteidigungnsc":18,"schadensreduktionnsc":3,"koerperlicherwiderstandnsc":16,"geistigerwiderstandnsc":13,"lpnscgesamt":21,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [10];
            weaponspeed = [8];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [7];
            weaponattributes = ["-"];
            masterynames = ["Kletteraffe", "Freikletterer"];
            masteryskills = ["athletik", "athletik"];
            masterylevels = [1, 3];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [6, 10, 2, 7, 9, 5];
            featurenames = ["Dunkelsicht", "Gift (Blut 1 / Benommen / 60 Ticks)", "Kreatur", "Schwächlich"];
            featurelevels = [1, 1, 3, 1];
            break;
        case("harpyie"):
            setAttrs({"namensc":"Harpyie","ausstrahlungnsc":1,"beweglichkeitnsc":4,"intuitionnsc":2,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":3,"verstandnsc":2,"willenskraftnsc":2,"groessenklassensc":5,"geschwindigkeitnsc":6,"lebenspunktensc":7,"fokusnscgesamt":4,"verteidigungnsc":22,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":19,"geistigerwiderstandnsc":18,"lpnscgesamt":35,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":8});
            weaponnames = ["Körper"];
            weaponskills = [13];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [3];
            weaponini = [8];
            weaponattributes = ["Scharf 2, Umklammern"];
            masterynames = ["Umklammern"];
            masteryskills = ["Handgemenge"];
            masterylevels = [1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [11, 8, 7, 6, 9, 6];
            featurenames = ["Fliegend", "Furchterregend", "Kreatur"];
            featurelevels = [1, 10, 6];
            break;
        case("hydra"):
            setAttrs({"namensc":"Hydra","ausstrahlungnsc":2,"beweglichkeitnsc":6,"intuitionnsc":3,"konstitutionnsc":9,"mystiknsc":0,"staerkensc":10,"verstandnsc":1,"willenskraftnsc":5,"groessenklassensc":8,"geschwindigkeitnsc":12,"lebenspunktensc":17,"fokusnscgesamt":10,"verteidigungnsc":38,"schadensreduktionnsc":4,"koerperlicherwiderstandnsc":45,"geistigerwiderstandnsc":30,"lpnscgesamt":85,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [28];
            weaponspeed = [10];
            weapondamage1 = [3];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [7];
            weaponattributes = ["Durchdringung 1, Lange Waffe, Wuchtig"];
            masterynames = ["Umreißen (Schwierigkeit 25)", "Vorstürmen", "Rundumschlag", "Schmerzwiderstand 1"];
            masteryskills = ["Handgemenge", "Handgemenge", "Handgemenge", "Zähigkeit"];
            masterylevels = [1, 1, 2, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [16, 26, 10, 3, 9, 23];
            featurenames = ["Furchterregend", "Gift (Blut 3 / Sterbend 3 / 45 Ticks)", "Hitzeresistenz", "Koloss (3 Köpfe)", "Schmerzresistenz"];
            featurelevels = [25, 1, 1, 3, 1];
            break;
        case("oger"):
            setAttrs({"namensc":"Oger","ausstrahlungnsc":1,"beweglichkeitnsc":3,"intuitionnsc":1,"konstitutionnsc":8,"mystiknsc":0,"staerkensc":7,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":7,"geschwindigkeitnsc":10,"lebenspunktensc":15,"fokusnscgesamt":6,"verteidigungnsc":28,"schadensreduktionnsc":2,"koerperlicherwiderstandnsc":27,"geistigerwiderstandnsc":19,"lpnscgesamt":75,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":9});
            weaponnames = ["Körper", "Kriegshammer"];
            weaponskills = [16, 20];
            weaponspeed = [7, 12];
            weapondamage1 = [1, 2];
            weapondamage2 = ["d6", "d10"];
            weapondamage3 = [2, 4];
            weaponini = [9, 9];
            weaponattributes = ["Wuchtig", "Unhandlich, Wuchtig, Zweihändig"];
            masterynames = ["Umreißen (Schwierigkeit 20)", "Rundumschlag", "Schmetterschlag", "Schmerzwiderstand 1"];
            masteryskills = ["Hiebwaffen", "Hiebwaffen", "Hiebwaffen", "Zähigkeit"];
            masterylevels = [1, 2, 2, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [10, 16, 8, 4, 6, 25];
            featurenames = ["Dämmersicht", "Erschöpfungsresistenz", "Schmerzresistenz"];
            featurelevels = [1, 2, 1];
            break;
        case("orkkrieger"):
            setAttrs({"namensc":"Orkkrieger","ausstrahlungnsc":1,"beweglichkeitnsc":3,"intuitionnsc":2,"konstitutionnsc":5,"mystiknsc":2,"staerkensc":6,"verstandnsc":2,"willenskraftnsc":5,"groessenklassensc":5,"geschwindigkeitnsc":8,"lebenspunktensc":10,"fokusnscgesamt":14,"verteidigungnsc":22,"schadensreduktionnsc":1,"koerperlicherwiderstandnsc":24,"geistigerwiderstandnsc":19,"lpnscgesamt":50,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":8});
            weaponnames = ["Körper", "Streitkolben"];
            weaponskills = [12, 16];
            weaponspeed = [6, 9];
            weapondamage1 = [1, 1];
            weapondamage2 = ["d6", "d6"];
            weapondamage3 = [1, 5];
            weaponini = [8, 8];
            weaponattributes = ["-", "-"];
            masterynames = ["Berseker", "Vorstürmen", "Rundumschlag", "Schmetterschlag", "Schmerzwiderstand 1"];
            masteryskills = ["Hiebwaffen", "Hiebwaffen", "Hiebwaffen", "Hiebwaffen", "Zähigkeit"];
            masterylevels = [1, 1, 2, 2, 2];
            spellnames = ["Lebenskraft stärken", "Schmerzen widerstehen"];
            spellschools = ["staerkung", "staerkung"];
            spelldiffs = [21, 21];
            spellcosts = ["K8V2", "K8V2"];
            spelldurations = [4, 4];
            spellranges = ["Zauberer", "Zauberer"];
            spellimpactdurations = ["kan.", "kan."];
            spelllevels = [12, 12];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "staerkungsmagie"];
            abilitylevels = [9, 14, 9, 9, 12, 19, 12];
            featurenames = ["Dämmersicht", "Ersch&ouml;pfungsresistenz", "Taktiker"];
            featurelevels = [1, 1, 1];
            break;
        case("orkspaeher"):
            setAttrs({"namensc":"Orkspäher","ausstrahlungnsc":1,"beweglichkeitnsc":4,"intuitionnsc":3,"konstitutionnsc":2,"mystiknsc":3,"staerkensc":3,"verstandnsc":3,"willenskraftnsc":2,"groessenklassensc":3,"geschwindigkeitnsc":9,"lebenspunktensc":5,"fokusnscgesamt":10,"verteidigungnsc":18,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":15,"geistigerwiderstandnsc":15,"lpnscgesamt":15,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper", "Kurzbogen", "Säbel"];
            weaponskills = [8, 11, 9];
            weaponspeed = [5, 5, 8];
            weapondamage1 = [1, 1, 1];
            weapondamage2 = ["d6", "d10", "d6"];
            weapondamage3 = [0, 1, 4];
            weaponini = [7, 7, 7];
            weaponattributes = ["-", "Durchdringung 1, Scharf 2, Zweihändig", "Scharf 2"];
            masterynames = ["Scharfschütze", "Schnellsch&uuml;tze", "Flinker Verfolger", "Hinterhalt", "Unerm&uuml;dlicher Verfolger"];
            masteryskills = ["Schusswaffen", "Schusswaffen", "Athletik", "Heimlichkeit", "Jagdkunst"];
            masterylevels = [1, 1, 2, 2, 1];
            spellnames = ["Sicht verbessern", "Beschleunigen"];
            spellschools = ["staerkung", "staerkung"];
            spelldiffs = [18, 18];
            spellcosts = ["K4V1", "K4V1"];
            spelldurations = [1, 1];
            spellranges = ["Zauberer", "Zauberer"];
            spellimpactdurations = ["kan.", "kan."];
            spelllevels = [10, 10];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "jagdkunst", "wahrnehmung", "zaehigkeit", "staerkungsmagie"];
            abilitylevels = [11, 12, 8, 16, 12, 18, 8, 10];
            featurenames = ["Dämmersicht", "Ersch&ouml;pfungsresistenz", "Schwächlich", "Taktiker"];
            featurelevels = [1, 2, 1, 1];
            break;
        case("rattling"):
            setAttrs({"namensc":"Rattling","ausstrahlungnsc":1,"beweglichkeitnsc":3,"intuitionnsc":3,"konstitutionnsc":2,"mystiknsc":1,"staerkensc":2,"verstandnsc":2,"willenskraftnsc":1,"groessenklassensc":3,"geschwindigkeitnsc":8,"lebenspunktensc":5,"fokusnscgesamt":4,"verteidigungnsc":19,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":13,"geistigerwiderstandnsc":13,"lpnscgesamt":15,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper", "Säbel"];
            weaponskills = [8, 8];
            weaponspeed = [5, 8];
            weapondamage1 = [1, 1];
            weapondamage2 = ["d6", "d6"];
            weapondamage3 = [0, 4];
            weaponini = [7, 7];
            weaponattributes = ["Stumpf", "Scharf 2"];
            spellnames = ["Katzenaugen", "Schattenmantel"];
            spellschools = ["schatten", "schatten"];
            spelldiffs = [18, 18];
            spellcosts = ["K4V1", "K4V1"];
            spelldurations = [1, 1];
            spellranges = ["Zauberer", "Zauberer"];
            spellimpactdurations = ["kan.", "kan."];
            spelllevels = [7, 7];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "schattenmagie"];
            abilitylevels = [11, 7, 3, 11, 7, 3, 7];
            featurenames = ["Dämmersicht", "Feigling", "Kreatur", "Schwächlich"];
            featurelevels = [1, 1, 5, 1];
            break;
        case("raeuber"):
            setAttrs({"namensc":"Räuber","ausstrahlungnsc":2,"beweglichkeitnsc":2,"intuitionnsc":3,"konstitutionnsc":2,"mystiknsc":1,"staerkensc":3,"verstandnsc":2,"willenskraftnsc":2,"groessenklassensc":5,"geschwindigkeitnsc":7,"lebenspunktensc":7,"fokusnscgesamt":6,"verteidigungnsc":18,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":16,"geistigerwiderstandnsc":16,"lpnscgesamt":35,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper", "Streitkolben"];
            weaponskills = [8, 9];
            weaponspeed = [5, 9];
            weapondamage1 = [1, 1];
            weapondamage2 = ["d6", "d6"];
            weapondamage3 = [0, 5];
            weaponini = [7, 7];
            weaponattributes = ["Stumpf", "-"];
            masterynames = ["Überraschungsangriff 1"];
            masteryskills = ["Heimlichkeit"];
            masterylevels = [1];
            spellnames = ["Ausdauer stärken", "Gehör verbessern", "Sicht verbessern"];
            spellschools = ["staerkung", "staerkung", "staerkung"];
            spelldiffs = [15, 18, 18];
            spellcosts = ["K1", "K4V1", "K4V1"];
            spelldurations = [1, 1, 1];
            spellranges = ["Zauberer", "Zauberer", "Zauberer"];
            spellimpactdurations = ["kan.", "kan.", "kan."];
            spelllevels = [8, 8, 8];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "staerkungsmagie"];
            abilitylevels = [5, 7, 5, 11, 8, 7, 8];
            featurenames = ["Feigling", "Taktiker"];
            featurelevels = [1, 1];
            break;
        case("raubritter"):
            setAttrs({"namensc":"Raubritter","ausstrahlungnsc":3,"beweglichkeitnsc":5,"intuitionnsc":4,"konstitutionnsc":5,"mystiknsc":2,"staerkensc":6,"verstandnsc":2,"willenskraftnsc":3,"groessenklassensc":5,"geschwindigkeitnsc":9,"lebenspunktensc":11,"fokusnscgesamt":15,"verteidigungnsc":33,"schadensreduktionnsc":4,"koerperlicherwiderstandnsc":26,"geistigerwiderstandnsc":23,"lpnscgesamt":55,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Körper", "Lanze", "Langschwert"];
            weaponskills = [15, 20, 22];
            weaponspeed = [8, 18, 11];
            weapondamage1 = [1, 2, 1];
            weapondamage2 = ["d6", "d10", "d6"];
            weapondamage3 = [0, 1, 4];
            weaponini = [6, 6, 6];
            weaponattributes = ["Stumpf", "Lange Waffe, Reiterwaffe 6, Scharf 3, Wuchtig, Zweihändig", "Scharf 2"];
            masterynames = ["Ausfall", "Verteidigungswirbel", "Entwaffnen (Schwierigkeit 31)", "Gezielte Treffer", "Vorstürmen", "Rundumschlag", "Herausforderung", "Sammeln", "Reiterkampf", "Schlachtreiter", "Freihändigkeit", "Rüstungsträger 1", "Starker Schildarm", "Rüstungsträger 2", "Schmerzwiderstand 1"];
            masteryskills = ["Klingenwaffen", "Klingenwaffen", "Klingenwaffen", "Klingenwaffen", "Stangenwaffen", "Stangenwaffen", "Anf&uuml;hren", "Anf&uuml;hren", "Tierf&uuml;hrung", "Tierf&uuml;hrung", "Tierf&uuml;hrung", "Zähigkeit", "Zähigkeit", "Zähigkeit", "Zähigkeit"];
            masterylevels = [1, 1, 2, 2, 1, 2, 1, 1, 1, 2, 3, 1, 1, 2, 2];
            spellnames = ["Ausdauer stärken", "Sicht verbessern", "Eiserne Aura", "Heilung stärken"];
            spellschools = ["staerkung", "staerkung", "staerkung", "staerkung"];
            spelldiffs = [15, 18, 21, 21];
            spellcosts = ["K1", "K4V1", "K8V2", "8V2"];
            spelldurations = [1, 1, 9, 3];
            spellranges = ["Zauberer", "Zauberer", "Zauberer", "Zauberer"];
            spellimpactdurations = ["kan.", "kan.", "kan.", "-"];
            spelllevels = [14, 14, 14, 14];
            abilitynames = ["akrobatik", "anfuehren", "athletik", "entschlossenheit", "heimlichkeit", "tiefuehrung", "wahrnehmung", "zaehigkeit", "staerkungsmagie"];
            abilitylevels = [10, 13, 10, 11, 8, 16, 12, 18, 14];
            featurenames = ["Schmerzresistenz", "Taktiker"];
            featurelevels = [1, 1];
            break;
        case("raubskarabaeus"):
            setAttrs({"namensc":"Raubskarabäus","ausstrahlungnsc":0,"beweglichkeitnsc":2,"intuitionnsc":4,"konstitutionnsc":3,"mystiknsc":0,"staerkensc":4,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":6,"geschwindigkeitnsc":4,"lebenspunktensc":9,"fokusnscgesamt":2,"verteidigungnsc":20,"schadensreduktionnsc":3,"koerperlicherwiderstandnsc":24,"geistigerwiderstandnsc":18,"lpnscgesamt":45,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Körper"];
            weaponskills = [15];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [5];
            weaponini = [6];
            weaponattributes = ["Durchdringung 2, Umklammern"];
            masterynames = ["Umklammern", "Vorstürmen", "Überraschungsangriff 2"];
            masteryskills = ["Handgemenge", "Handgemenge", "Heimlichkeit"];
            masterylevels = [1, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [6, 6, 1, 15, 11, 6];
            featurenames = ["Hitzeresistenz", "Kreatur"];
            featurelevels = [2, 6];
            break;
        case("riesenspinne"):
            setAttrs({"namensc":"Riesenspinne","ausstrahlungnsc":0,"beweglichkeitnsc":4,"intuitionnsc":3,"konstitutionnsc":1,"mystiknsc":0,"staerkensc":2,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":4,"geschwindigkeitnsc":8,"lebenspunktensc":5,"fokusnscgesamt":2,"verteidigungnsc":18,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":17,"geistigerwiderstandnsc":15,"lpnscgesamt":15,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [11];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [3];
            weaponini = [7];
            weaponattributes = ["-"];
            masterynames = ["Kletteraffe", "Freikletterer", "Leisetreter", "Überraschungsangriff 1"];
            masteryskills = ["Athletik", "Athletik", "Heimlichkeit", "Heimlichkeit"];
            masterylevels = [1, 3, 1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [8, 11, 3, 14, 6, 4];
            featurenames = ["Gift (Blut 2 / Benommen / 60 Ticks)", "Kreatur", "Schwächlich"];
            featurelevels = [1, 4, 1];
            break;
        case("sanddrache"):
            setAttrs({"namensc":"Sanddrache","ausstrahlungnsc":2,"beweglichkeitnsc":7,"intuitionnsc":5,"konstitutionnsc":10,"mystiknsc":0,"staerkensc":12,"verstandnsc":1,"willenskraftnsc":5,"groessenklassensc":9,"geschwindigkeitnsc":13,"lebenspunktensc":19,"fokusnscgesamt":10,"verteidigungnsc":37,"schadensreduktionnsc":5,"koerperlicherwiderstandnsc":36,"geistigerwiderstandnsc":25,"lpnscgesamt":95,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":5});
            weaponnames = ["Biss", "Klaue"];
            weaponskills = [23, 29];
            weaponspeed = [14, 11];
            weapondamage1 = [5, 4];
            weapondamage2 = ["d6", "d6"];
            weapondamage3 = [4, 2];
            weaponini = [5, 5];
            weaponattributes = ["Durchdringung 3, Scharf 3", "Wuchtig"];
            masterynames = ["Umreißen (Schwierigkeit 23)", "Vorstürmen", "Überraschungsangriff 1", "Schmerzwiderstand 2"];
            masteryskills = ["Handgemenge", "Handgemenge", "Heimlichkeit", "Zähigkeit"];
            masterylevels = [1, 1, 1, 3];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [19, 27, 10, 13, 15, 29];
            featurenames = ["Dämmersicht", "Gift (Blut 3 / Bewusstlos / 5 Minuten)", "Hitzeresistenz", "Koloss (Biss, Klaue)", "Resistenz gegen Feuerschaden", "Schmerzresistenz", "Verwundbarkeit gegen Kälteschaden"];
            featurelevels = [1, 1, 3, 2, 3, 1, 1];
            break;
        case("schattenweber"):
            setAttrs({"namensc":"Schattenweber","ausstrahlungnsc":5,"beweglichkeitnsc":2,"intuitionnsc":4,"konstitutionnsc":2,"mystiknsc":7,"staerkensc":2,"verstandnsc":7,"willenskraftnsc":7,"groessenklassensc":5,"geschwindigkeitnsc":6,"lebenspunktensc":7,"fokusnscgesamt":53,"verteidigungnsc":30,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":33,"geistigerwiderstandnsc":37,"lpnscgesamt":35,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Kampfstab"];
            weaponskills = [15];
            weaponspeed = [9];
            weapondamage1 = [1];
            weapondamage2 = ["d10"];
            weapondamage3 = [2];
            weaponini = [6];
            weaponattributes = ["Defensiv 2, Lange Waffe, Zweihändig"];
            masterynames = ["Kind der Schatten", "Sch&uuml;tzende Schatten", "Nekromant", "Meister der Untoten"];
            masteryskills = ["Schattenmagie", "Schattenmagie", "Todesmagie", "Todesmagie"];
            masterylevels = [2, 2, 2, 3];
            spellnames = ["Dunkelheit", "Schattenpfeil", "Schattenwand", "Lichtbann", "Schwächeanfall", "Fluch der Schmerzen", "Lebensraub", "Untote erheben", "Todesfluch", "Verdorren"];
            spellschools = ["schatten", "schatten", "schatten", "schatten", "tod", "tod", "tod", "tod", "tod", "tod"];
            spelldiffs = [18, "VTD", 21, 24, "KW", "KW", "KW", 24, "KW", "VTD"];
            spellcosts = ["K4V1", "6V2", "K8V2", "12V3", "K8V2", "8V2", "12V3", "12V3", "16V4", "16V4"];
            spelldurations = [1, 7, 6, 11, 6, 6, 10, "5 M.", 16, 14];
            spellranges = ["Zauberer", "10m", "5m", "10m", "5m", "5m", "Berührung", "Berührung", "5m", "Ber&uuml;hrung"];
            spellimpactdurations = ["kan.", "-", "kan.", "-", "kan.", "-", "-", "1 Tag", "-", "-"];
            spelllevels = [20, 20, 20, 20, 26, 26, 26, 26, 26, 26];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "schattenmagie", "todesmagie"];
            abilitylevels = [5, 4, 18, 9, 14, 9, 20, 26];
            featurenames = ["Dunkelsicht", "Erschöpfungsresistenz", "Furchterregend", "Giftimmunität", "Konzentrationsstärke", "Resistenz gegen Schattenschaden", "Taktiker", "Untot", "Verwundbarkeit gegen Lichtschaden"];
            featurelevels = [1, 2, 25, 1, 1, 5, 1, 1, 1];
            break;
        case("schnappechse"):
            setAttrs({"namensc":"Schnappechse","ausstrahlungnsc":2,"beweglichkeitnsc":5,"intuitionnsc":4,"konstitutionnsc":7,"mystiknsc":0,"staerkensc":9,"verstandnsc":2,"willenskraftnsc":3,"groessenklassensc":7,"geschwindigkeitnsc":12,"lebenspunktensc":14,"fokusnscgesamt":6,"verteidigungnsc":28,"schadensreduktionnsc":2,"koerperlicherwiderstandnsc":27,"geistigerwiderstandnsc":23,"lpnscgesamt":70,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Körper"];
            weaponskills = [19];
            weaponspeed = [9];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [6];
            weaponini = [6];
            weaponattributes = ["-"];
            masterynames = ["Vorstürmen", "Flinker Verfolger", "Kampf unter Wasser"];
            masteryskills = ["Handgemenge", "Athletik", "Schwimment"];
            masterylevels = [1, 2, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "schwimmen", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [14, 21, 9, 13, 24, 14, 15];
            featurenames = ["Gift (Blut 3 / Verwundet / 5 Minuten)", "Hitzeresistenz", "Verwundbarkeit gegen Kälteschaden"];
            featurelevels = [1, 1, 1];
            break;
        case("skelett"):
            setAttrs({"namensc":"Skelett","ausstrahlungnsc":0,"beweglichkeitnsc":2,"intuitionnsc":0,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":3,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":5,"geschwindigkeitnsc":6,"lebenspunktensc":7,"fokusnscgesamt":2,"verteidigungnsc":17,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":18,"geistigerwiderstandnsc":22,"lpnscgesamt":21,"nschealth":3,"schmerzimmunnsc":1,"initiativensc":10});
            weaponnames = ["Säbel"];
            weaponskills = [10];
            weaponspeed = [8];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [10];
            weaponattributes = ["Scharf 2"];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [5, 5, 1, 2, 3, 6];
            featurenames = ["Betäubungsimmunität", "Dunkelsicht", "Erschöpfungsresistenz", "Furchterregend", "Giftimmunität", "Schmerzimmunität", "Schwächlich", "Untot", "Verwundbarkeit gegen Lichtschaden"];
            featurelevels = [1, 1, 4, 10, 1, 1, 1, 1, 1];
            break;
        case("soeldner"):
            setAttrs({"namensc":"Söldner","ausstrahlungnsc":1,"beweglichkeitnsc":4,"intuitionnsc":3,"konstitutionnsc":4,"mystiknsc":2,"staerkensc":5,"verstandnsc":2,"willenskraftnsc":2,"groessenklassensc":5,"geschwindigkeitnsc":7,"lebenspunktensc":9,"fokusnscgesamt":8,"verteidigungnsc":27,"schadensreduktionnsc":2,"koerperlicherwiderstandnsc":22,"geistigerwiderstandnsc":18,"lpnscgesamt":45,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper", "Leichte Armbrust", "Streithammer"];
            weaponskills = [13, 16, 18];
            weaponspeed = [8, 10, 14];
            weapondamage1 = [1, 2, 2];
            weapondamage2 = ["d6", "d6", "d6"];
            weapondamage3 = [0, 6, 3];
            weaponini = [7, 7, 7];
            weaponattributes = ["Stumpf", "Durchdringung 4, Zweihändig", "Scharf 2, Vielseitig"];
            masterynames = ["Berserker", "Vorstürmen", "Schmetterschlag", "Schnellschütze", "Starker Schildarm 1"];
            masteryskills = ["Hiebwaffen", "Hiebwaffen", "Hiebwaffen", "Schusswaffen", "Zähigkeit"];
            masterylevels = [1, 1, 2, 1, 1];
            spellnames = ["Ausdauer stärken", "Gehör verbessern", "Lebenskraft stärken"];
            spellschools = ["staerkung", "staerkung", "staerkung"];
            spelldiffs = [15, 18, 21];
            spellcosts = ["K1", "K4V1", "K8V2"];
            spelldurations = [1, 1, 4];
            spellranges = ["Zauberer", "Zauberer", "Zauberer"];
            spellimpactdurations = ["kan.", "kan.", "kan."];
            spelllevels = [13, 13, 13];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "staerkungsmagie"];
            abilitylevels = [7, 10, 10, 7, 11, 14, 13];
            featurenames = ["Taktiker"];
            featurelevels = [1];
            break;
        case("spuk"):
            setAttrs({"namensc":"Spuk","ausstrahlungnsc":2,"beweglichkeitnsc":1,"intuitionnsc":3,"konstitutionnsc":1,"mystiknsc":3,"staerkensc":1,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":4,"geschwindigkeitnsc":4,"lebenspunktensc":5,"fokusnscgesamt":27,"verteidigungnsc":18,"schadensreduktionnsc":6,"koerperlicherwiderstandnsc":15,"geistigerwiderstandnsc":18,"lpnscgesamt":15,"nschealth":3,"schmerzimmunnsc":1,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [5];
            weaponspeed = [9];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [0];
            weaponini = [7];
            weaponattributes = ["Stumpf"];
            spellnames = ["Stoß", "Gegenstand bewegen", "Geräuschhexerei", "Lichtertanz", "Unsichtbarkeit"];
            spellschools = ["bewegung", "bewegung", "illusion", "illusion", "illusion"];
            spelldiffs = ["KW", 18, 15, 15, 30];
            spellcosts = [1, "K4V1", 1, 1, "K20V5"];
            spelldurations = [2, 3, 4, 1, 15];
            spellranges = ["5m", "5m", "10m", "10m", "Zauberer"];
            spellimpactdurations = ["-", "kan.", "-", "1 M", "kan."];
            spelllevels = [9, 9, 20, 20, 20];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "bewegungsmagie", "illusionsmagie"];
            abilitylevels = [3, 3, 8, 11, 9, 4, 9, 20];
            featurenames = ["Betäubungsimmunität", "Dämmersicht", "Fliegend", "Furchterregend", "Geist", "Giftimmunität", "Hitzeresistenz", "Kälteresistenz", "Körperlos", "Kreatur", "Schmerzimmunität", "Schwächlich"];
            featurelevels = [1, 1, 1, 10, 1, 1, 3, 3, 1, 5, 1, 1];
            break;
         case("traumbringer"):
            setAttrs({"namensc":"Traumbringer","ausstrahlungnsc":4,"beweglichkeitnsc":3,"intuitionnsc":5,"konstitutionnsc":3,"mystiknsc":4,"staerkensc":2,"verstandnsc":3,"willenskraftnsc":5,"groessenklassensc":4,"geschwindigkeitnsc":10,"lebenspunktensc":8,"fokusnscgesamt":38,"verteidigungnsc":24,"schadensreduktionnsc":6,"koerperlicherwiderstandnsc":21,"geistigerwiderstandnsc":27,"lpnscgesamt":24,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":5});
            masterynames = ["Schattenherr", "Schützende Schatten"];
            masteryskills = ["Schattenmagie", "Schattenmagie"];
            masterylevels = [1, 2];
            spellnames = ["Dunkelheit", "Lebensraub"];
            spellschools = ["schatten", "tod"];
            spelldiffs = [18, "KW"];
            spellcosts = ["K4V1", "12V3"];
            spelldurations = [1, 10];
            spellranges = ["Zauberer", "Berührung"];
            spellimpactdurations = ["kan.", "-"];
            spelllevels = [18, 18];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "schattenmagie", "todesmagie"];
            abilitylevels = [7, 10, 14, 16, 13, 13, 18, 18];
            featurenames = ["Betäubungsimmunität", "Dunkelsicht", "Feenblut", "Fliegend", "Furchterregend", "Körperlos", "Resistenz gegen Schattenschaden", "Schwächlich", "Verwundbarkeit gegen Lichtschaden"];
            featurelevels = [1, 1, 1, 1, 15, 1, 5, 1, 1];
            break;
         case("waldbestie"):
            setAttrs({"namensc":"Waldbestie","ausstrahlungnsc":2,"beweglichkeitnsc":4,"intuitionnsc":3,"konstitutionnsc":6,"mystiknsc":0,"staerkensc":8,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":6,"geschwindigkeitnsc":14,"lebenspunktensc":12,"fokusnscgesamt":6,"verteidigungnsc":27,"schadensreduktionnsc":1,"koerperlicherwiderstandnsc":30,"geistigerwiderstandnsc":25,"lpnscgesamt":60,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [15];
            weaponspeed = [8];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [6];
            weaponini = [7];
            weaponattributes = ["Wuchtig"];
            masterynames = ["Umreißen (Schwierigkeit 20)", "Vorst&uuml;rmen", "Kletteraffe", "Muskelprotz", "Freikletterer"];
            masteryskills = ["Handgemenge", "Handgemenge", "Athletik", "Athletik", "Athletik"];
            masterylevels = [1, 1, 1, 2, 3];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [12, 24, 6, 13, 9, 14];
            featurenames = ["Dämmersicht", "Furchterregend", "Schmerzresistenz"];
            featurelevels = [1, 20, 1];
            break;
        case("walddrache"):
            setAttrs({"namensc":"Walddrache","ausstrahlungnsc":4,"beweglichkeitnsc":7,"intuitionnsc":5,"konstitutionnsc":8,"mystiknsc":3,"staerkensc":11,"verstandnsc":2,"willenskraftnsc":6,"groessenklassensc":8,"geschwindigkeitnsc":18,"lebenspunktensc":16,"fokusnscgesamt":35,"verteidigungnsc":31,"schadensreduktionnsc":4,"koerperlicherwiderstandnsc":33,"geistigerwiderstandnsc":30,"lpnscgesamt":80,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":5});
            weaponnames = ["Klaue", "Schwanz"];
            weaponskills = [28, 24];
            weaponspeed = [9, 10];
            weapondamage1 = [3, 2];
            weapondamage2 = ["d6", "d6"];
            weapondamage3 = [2, 2];
            weaponini = [5, 5];
            weaponattributes = ["Durchdringung 1, Scharf 2", "Lange Waffe, Wuchtig"];
            masterynames = ["Umreißen (Schwierigkeit 23)", "Vorstürmen", "Hinterhalt", "Schmerzwiderstand 1"];
            masteryskills = ["Handgemenge", "Handgemenge", "Heimlichkeit", "Zähigkeit"];
            masterylevels = [1, 1, 2, 2];
            spellnames = ["Feuerstrahl", "Rindenhaut", "Tiere beherrschen", "Chamäleon"];
            spellschools = ["feuer", "natur", "natur", "natur"];
            spelldiffs = ["VTD", 18, "GW", 24];
            spellcosts = ["5V2", "K4V1", "K8V2", "K12V3"];
            spelldurations = [8, 3, 6, 9];
            spellranges = ["10m", "Zauberer", "5m", "Zauberer"];
            spellimpactdurations = ["-", "kan.", "kan.", "kan."];
            spelllevels = [14, 17, 17, 17];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "feuermgie", "naturmagie"];
            abilitylevels = [18, 25, 15, 19, 18, 24, 14, 17];
            featurenames = ["Fliegend", "Furchterregend", "Giftimmunität", "Hitzeresistenz", "Koloss (Klaue, Schwanz)", "Resistenz gegen Feuerschaden", "Schmerzresistenz", "Taktiker", "Verwundbarkeit gegen Kälteschaden"];
            featurelevels = [1, 20, 1, 1, 2, 2, 1, 1, 1];
            break;
        case("wandelnderleichnam"):
            setAttrs({"namensc":"Wandelnder Leichnam","ausstrahlungnsc":0,"beweglichkeitnsc":1,"intuitionnsc":0,"konstitutionnsc":3,"mystiknsc":0,"staerkensc":3,"verstandnsc":0,"willenskraftnsc":0,"groessenklassensc":5,"geschwindigkeitnsc":4,"lebenspunktensc":8,"fokusnscgesamt":0,"verteidigungnsc":17,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":19,"geistigerwiderstandnsc":14,"lpnscgesamt":24,"nschealth":3,"schmerzimmunnsc":1,"initiativensc":10});
            weaponnames = ["Körper"];
            weaponskills = [8];
            weaponspeed = [11];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [1];
            weaponini = [10];
            weaponattributes = ["Umklammernd"];
            masterynames = ["Halten", "Umklammern"];
            masteryskills = ["Handgemenge", "Handgemenge"];
            masterylevels = [1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [4, 6, 0, 1, 0, 8];
            featurenames = ["Betäubungsimmunität", "Dunkelsicht", "Ersch&ouml;pfungsresistenz", "Furchterregend", "Giftimmunität", "Schmerzimmunität", "Schwächlich", "Untot", "Verwundbarkeit gegen Lichtschaden"];
            featurelevels = [1, 1, 4, 15, 1, 1, 1, 1, 1];
            break;
        case("zaubermeister"):
            setAttrs({"namensc":"Zaubermeister","ausstrahlungnsc":4,"beweglichkeitnsc":2,"intuitionnsc":4,"konstitutionnsc":2,"mystiknsc":5,"staerkensc":2,"verstandnsc":3,"willenskraftnsc":5,"groessenklassensc":5,"geschwindigkeitnsc":6,"lebenspunktensc":7,"fokusnscgesamt":30,"verteidigungnsc":22,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":23,"geistigerwiderstandnsc":24,"lpnscgesamt":35,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Langschwert"];
            weaponskills = [16];
            weaponspeed = [8];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [6];
            weaponattributes = ["Scharf 2"];
            masterynames = ["Ausfall", "Eiserner Wille", "Eiserne Konzentration", "Herz des Zerstörers", "Blutbad", "Eiliger Schutz"];
            masteryskills = ["Klingenwaffen", "Entschlossenheit", "Kampfmagie", "Kampfmagie", "Kampfmagie", "Schutzmagie"];
            masterylevels = [1, 1, 1, 2, 3, 1];
            spellnames = ["Geschoss verzaubern", "Blitzschlag", "Leichtes Ziel", "Schadenswelle", "Kettenblitz", "Gedankenschutz", "Windschild", "Magischer Panzer"];
            spellschools = ["kampf", "kampf", "kampf", "kampf", "kampf", "schutz", "schutz", "schutz"];
            spelldiffs = [18, "VTD", "KW", 24, "VTD", 21, 24, 24];
            spellcosts = ["K4V1", "6V2", "K8V2", "12V4", "12V3", "K8V2", "K12V3", "K12V3"];
            spelldurations = [2, 7, 7, 12, 11, 4, 9, 11];
            spellranges = ["Berührung", "10m", "5m", "Zauberer", "25m", "Zauberer", "Zauberer", "Zauberer"];
            spellimpactdurations = ["kan.", "-", "-", "-", "kan.", "kan.", "kan.", "kan."];
            spelllevels = [23, 23, 23, 23, 23, 21, 21, 21];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit", "kampfmagie", "schutzmagie"];
            abilitylevels = [6, 3, 15, 9, 16, 12, 23, 21];
            featurenames = ["Konzentrationsstärke", "Taktiker"];
            featurelevels = [1, 1];
            break;
		case("adler"):
            setAttrs({"namensc":"Adler","ausstrahlungnsc":2,"beweglichkeitnsc":2,"intuitionnsc":3,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":1,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":3,"geschwindigkeitnsc":20,"lebenspunktensc":5,"fokusnscgesamt":6,"verteidigungnsc":20,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":17,"geistigerwiderstandnsc":16,"lpnscgesamt":15,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [6];
            weaponspeed = [9];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [1];
            weaponini = [7];
            weaponattributes = ["-"];
            masterynames = ["Vorstürmen", "Überraschungsangriff 1"];
            masteryskills = ["Handgemenge", "Heimlichkeit"];
            masterylevels = [1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "jagdkunst", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [6, 4, 9, 8, 9, 16, 5];
            featurenames = ["Dämmersicht", "Fliegend", "Kreatur", "Schwächlich"];
            featurelevels = [1, 1, 3, 1];
            break;
        case("alligator"):
            setAttrs({"namensc":"Alligator","ausstrahlungnsc":1,"beweglichkeitnsc":3,"intuitionnsc":4,"konstitutionnsc":5,"mystiknsc":0,"staerkensc":8,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":8,"geschwindigkeitnsc":8,"lebenspunktensc":13,"fokusnscgesamt":2,"verteidigungnsc":20,"schadensreduktionnsc":3,"koerperlicherwiderstandnsc":21,"geistigerwiderstandnsc":16,"lpnscgesamt":65,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Körper"];
            weaponskills = [14];
            weaponspeed = [10];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [6];
            weaponini = [6];
            weaponattributes = ["Scharf 2, Umklammern"];
            masterynames = ["Umklammern", "Überraschungsangriff 1", "Kampf unter Wasser"];
            masteryskills = ["Handgemenge", "Heimlichkeit", "Schwimmen"];
            masterylevels = [1, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "schwimmen", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [11, 16, 4, 13, 19, 10, 15];
            featurenames = ["Hitzeresistenz", "Verwundbarkeit gegen Kälteschaden"];
            featurelevels = [1, 1];
            break;
        case("auerochse"):
            setAttrs({"namensc":"Auerochse","ausstrahlungnsc":1,"beweglichkeitnsc":2,"intuitionnsc":2,"konstitutionnsc":6,"mystiknsc":0,"staerkensc":8,"verstandnsc":0,"willenskraftnsc":2,"groessenklassensc":7,"geschwindigkeitnsc":13,"lebenspunktensc":13,"fokusnscgesamt":4,"verteidigungnsc":23,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":23,"geistigerwiderstandnsc":18,"lpnscgesamt":65,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":8});
            weaponnames = ["Körper"];
            weaponskills = [13];
            weaponspeed = [11];
            weapondamage1 = [3];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [8];
            weaponattributes = ["Wuchtig"];
            masterynames = ["Umreißen (Schwierigkeit 20)", "Vorstürmen", "Muskelprotz"];
            masteryskills = ["Handgemenge", "Handgemenge", "Athletik"];
            masterylevels = [1, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [10, 20, 6, 4, 7, 18];
            featurenames = ["Ersch&ouml;pfungsresistenz"];
            featurelevels = [2];
            break;
        case("baer"):
            setAttrs({"namensc":"Bär","ausstrahlungnsc":3,"beweglichkeitnsc":2,"intuitionnsc":4,"konstitutionnsc":7,"mystiknsc":0,"staerkensc":8,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":7,"geschwindigkeitnsc":12,"lebenspunktensc":14,"fokusnscgesamt":6,"verteidigungnsc":26,"schadensreduktionnsc":1,"koerperlicherwiderstandnsc":31,"geistigerwiderstandnsc":19,"lpnscgesamt":70,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Körper"];
            weaponskills = [20];
            weaponspeed = [8];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [6];
            weaponattributes = ["Scharf 3"];
            masterynames = ["Umreißen  (Schwierigkeit 20)", "Vorstürmen"];
            masteryskills = ["Handgemenge", "Handgemenge"];
            masterylevels = [1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [10, 15, 8, 9, 14, 15];
            featurenames = ["Kälteresistenz", "Schmerzresistenz"];
            featurelevels = [2, 1];
            break;
        case("falke"):
            setAttrs({"namensc":"Falke","ausstrahlungnsc":2,"beweglichkeitnsc":4,"intuitionnsc":2,"konstitutionnsc":1,"mystiknsc":0,"staerkensc":0,"verstandnsc":1,"willenskraftnsc":2,"groessenklassensc":2,"geschwindigkeitnsc":22,"lebenspunktensc":3,"fokusnscgesamt":4,"verteidigungnsc":21,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":17,"geistigerwiderstandnsc":16,"lpnscgesamt":9,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":8});
            weaponnames = ["Körper"];
            weaponskills = [5];
            weaponspeed = [9];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [1];
            weaponini = [8];
            weaponattributes = ["Stumpf"];
            masterynames = ["Vorstürmen", "Leisetreter", "Überraschungsangriff 1"];
            masteryskills = ["Handgemenge", "Heimlichkeit", "Heimlichkeit"];
            masterylevels = [1, 1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "jagdkunst", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [8, 4, 5, 11, 12, 16, 3];
            featurenames = ["Dämmersicht", "Fliegend", "Kreatur", "Schwächlich"];
            featurelevels = [1, 1, 2, 1];
            break;
        case("hai"):
            setAttrs({"namensc":"Hai","ausstrahlungnsc":1,"beweglichkeitnsc":4,"intuitionnsc":3,"konstitutionnsc":6,"mystiknsc":0,"staerkensc":8,"verstandnsc":0,"willenskraftnsc":2,"groessenklassensc":7,"geschwindigkeitnsc":13,"lebenspunktensc":13,"fokusnscgesamt":4,"verteidigungnsc":26,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":27,"geistigerwiderstandnsc":18,"lpnscgesamt":65,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [20];
            weaponspeed = [10];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [6];
            weaponini = [7];
            weaponattributes = ["Scharf 3"];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "schwimmen", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [12, 14, 5, 21, 13, 16];
            featurenames = ["Dämmersicht", "Kälteresistenz", "Unterwasserwesen"];
            featurelevels = [1, 2, 1];
            break;
        case("hyaene"):
            setAttrs({"namensc":"Hyäne","ausstrahlungnsc":1,"beweglichkeitnsc":3,"intuitionnsc":4,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":3,"verstandnsc":1,"willenskraftnsc":0,"groessenklassensc":3,"geschwindigkeitnsc":13,"lebenspunktensc":5,"fokusnscgesamt":0,"verteidigungnsc":17,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":15,"geistigerwiderstandnsc":14,"lpnscgesamt":15,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Körper"];
            weaponskills = [10];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [3];
            weaponini = [6];
            weaponattributes = ["-"];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [9, 7, 1, 10, 8, 5];
            featurenames = ["Feigling", "Hitzeresistenz", "Kreatur", "Schwächlich"];
            featurelevels = [1, 1, 4, 1];
            break;
        case("jaguar"):
            setAttrs({"namensc":"Jaguar","ausstrahlungnsc":2,"beweglichkeitnsc":5,"intuitionnsc":4,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":5,"verstandnsc":1,"willenskraftnsc":4,"groessenklassensc":5,"geschwindigkeitnsc":14,"lebenspunktensc":7,"fokusnscgesamt":8,"verteidigungnsc":22,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":19,"geistigerwiderstandnsc":17,"lpnscgesamt":35,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":6});
            weaponnames = ["Körper"];
            weaponskills = [15];
            weaponspeed = [6];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [6];
            weaponattributes = ["Scharf 2"];
            masterynames = ["Umreißen (Schwierigkeit 20)", "Vorstürmen", "Freikletterer", "Leisetreter", "Überraschungsangriff 2"];
            masteryskills = ["Handgemenge", "Handgemenge", "Athletik", "Heimlichkeit", "Heimlichkeit"];
            masterylevels = [1, 1, 3, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [16, 14, 7, 18, 13, 9];
            featurenames = ["Feigling", "Hitzeresistenz", "Kreatur", "Taktiker"];
            featurelevels = [1, 1, 6, 1];
            break;
        case("kampfhund"):
            setAttrs({"namensc":"Kampfhund","ausstrahlungnsc":1,"beweglichkeitnsc":3,"intuitionnsc":3,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":4,"verstandnsc":1,"willenskraftnsc":2,"groessenklassensc":3,"geschwindigkeitnsc":11,"lebenspunktensc":5,"fokusnscgesamt":4,"verteidigungnsc":18,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":17,"geistigerwiderstandnsc":16,"lpnscgesamt":25,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [8];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [3];
            weaponini = [7];
            weaponattributes = ["-"];
            masterynames = ["Umreißen (Schwierigkeit 17)", "Vorst&uuml;rmen", "Flinker Verfolger", "Unerm&uuml;dlicher Verfolger", "Schmerzwiderstand 1"];
            masteryskills = ["Handgemenge", "Handgemenge", "Athletik", "Jagdkunst", "Zähigkeit"];
            masterylevels = [1, 1, 2, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "jagdkunst", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [7, 11, 6, 7, 11, 10, 13];
            featurenames = ["Kreatur"];
            featurelevels = [4];
            break;
        case("loewe"):
            setAttrs({"namensc":"Löwe","ausstrahlungnsc":3,"beweglichkeitnsc":4,"intuitionnsc":2,"konstitutionnsc":5,"mystiknsc":0,"staerkensc":7,"verstandnsc":1,"willenskraftnsc":3,"groessenklassensc":6,"geschwindigkeitnsc":13,"lebenspunktensc":11,"fokusnscgesamt":6,"verteidigungnsc":21,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":23,"geistigerwiderstandnsc":19,"lpnscgesamt":55,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":8});
            weaponnames = ["Körper"];
            weaponskills = [18];
            weaponspeed = [7];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [3];
            weaponini = [8];
            weaponattributes = ["Scharf 2, Wuchtig"];
            masterynames = ["Umreißen (Schwierigkeit 20)", "Vorstürmen"];
            masteryskills = ["Handgemenge", "Handgemenge"];
            masterylevels = [1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [11, 13, 8, 11, 10, 13];
            featurenames = ["Hitzeresistenz"];
            featurelevels = [1];
            break;
        case("nashorn"):
            setAttrs({"namensc":"Nashorn","ausstrahlungnsc":2,"beweglichkeitnsc":2,"intuitionnsc":2,"konstitutionnsc":8,"mystiknsc":0,"staerkensc":9,"verstandnsc":0,"willenskraftnsc":2,"groessenklassensc":8,"geschwindigkeitnsc":13,"lebenspunktensc":16,"fokusnscgesamt":4,"verteidigungnsc":22,"schadensreduktionnsc":4,"koerperlicherwiderstandnsc":29,"geistigerwiderstandnsc":18,"lpnscgesamt":80,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":8});
            weaponnames = ["Körper"];
            weaponskills = [15];
            weaponspeed = [14];
            weapondamage1 = [3];
            weapondamage2 = ["d6"];
            weapondamage3 = [6];
            weaponini = [8];
            weaponattributes = ["Wuchtig"];
            masterynames = ["Umreißen", "Vorstürmen"];
            masteryskills = ["Handgemenge", "Handgemenge"];
            masterylevels = [1, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [11, 18, 7, 4, 5, 20];
            featurenames = ["Hitzeresistenz"];
            featurelevels = [1];
            break;
        case("pferd"):
            setAttrs({"namensc":"Pferd","ausstrahlungnsc":2,"beweglichkeitnsc":3,"intuitionnsc":3,"konstitutionnsc":5,"mystiknsc":0,"staerkensc":8,"verstandnsc":1,"willenskraftnsc":1,"groessenklassensc":7,"geschwindigkeitnsc":13,"lebenspunktensc":12,"fokusnscgesamt":2,"verteidigungnsc":19,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":23,"geistigerwiderstandnsc":14,"lpnscgesamt":60,"nschealth":5,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [8];
            weaponspeed = [10];
            weapondamage1 = [2];
            weapondamage2 = ["d6"];
            weapondamage3 = [0];
            weaponini = [7];
            weaponattributes = ["Stumpf"];
            masterynames = ["Vorstürmen", "Flinker Verfolger", "Muskelprotz"];
            masteryskills = ["Handgemenge", "Athletik", "Athletik"];
            masterylevels = [1, 2, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [11, 25, 7, 6, 6, 12];
            featurenames = ["Ersch&ouml;pfungsresistenz", "Kreatur"];
            featurelevels = [1, 3];
            break;
        case("riesenschlange"):
            setAttrs({"namensc":"Riesenschlange","ausstrahlungnsc":1,"beweglichkeitnsc":5,"intuitionnsc":3,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":5,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":5,"geschwindigkeitnsc":8,"lebenspunktensc":7,"fokusnscgesamt":2,"verteidigungnsc":25,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":18,"geistigerwiderstandnsc":15,"lpnscgesamt":21,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [18];
            weaponspeed = [5];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [2];
            weaponini = [7];
            weaponattributes = ["Umklammern"];
            masterynames = ["Halten", "Umklammern", "Würgegriff", "Leisetreter", "Überraschungsangriff 1", "Kampf unter Wasser"];
            masteryskills = ["Handgemenge", "Handgemenge", "Handgemenge", "Heimlichkeit", "Heimlichkeit", "Schwimmen"];
            masterylevels = [1, 1, 3, 1, 1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "schwimmen", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [12, 10, 4, 15, 12, 10, 8];
            featurenames = ["Gift (Blut 2 / Benommen / 60 Ticks)", "Hitzeresistenz", "Kreatur", "Schwächlich", "Verwundbarkeit gegen Kälteschaden"];
            featurelevels = [1, 1, 6, 1, 1];
            break;
        case("skorpion"):
            setAttrs({"namensc":"Skorpion","ausstrahlungnsc":1,"beweglichkeitnsc":1,"intuitionnsc":3,"konstitutionnsc":1,"mystiknsc":0,"staerkensc":0,"verstandnsc":0,"willenskraftnsc":0,"groessenklassensc":1,"geschwindigkeitnsc":2,"lebenspunktensc":2,"fokusnscgesamt":0,"verteidigungnsc":14,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":10,"geistigerwiderstandnsc":11,"lpnscgesamt":2,"nschealth":1,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [8];
            weaponspeed = [6];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [0];
            weaponini = [7];
            weaponattributes = ["-"];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [3, 1, 1, 14, 6, 1];
            featurenames = ["Gift (Blut 2 / Sterbend 3 / 60 Ticks)", "Hitzeresistenz", "Kreatur", "Zerbrechlich"];
            featurelevels = [1, 2, 2, 1];
            break;
        case("taube"):
            setAttrs({"namensc":"Taube","ausstrahlungnsc":1,"beweglichkeitnsc":2,"intuitionnsc":2,"konstitutionnsc":1,"mystiknsc":0,"staerkensc":0,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":1,"geschwindigkeitnsc":12,"lebenspunktensc":2,"fokusnscgesamt":2,"verteidigungnsc":17,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":13,"geistigerwiderstandnsc":13,"lpnscgesamt":2,"nschealth":1,"schmerzimmunnsc":0,"initiativensc":8});
            weaponnames = ["Körper"];
            weaponskills = [4];
            weaponspeed = [8];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [-1];
            weaponini = [8];
            weaponattributes = ["Stumpf"];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [5, 2, 6, 4, 7, 2];
            featurenames = ["Ersch&ouml;pfungsresistenz", "Fliegend", "Kreatur", "Zerbrechlich"];
            featurelevels = [1, 1, 1, 1];
            break;
        case("wildschwein"):
            setAttrs({"namensc":"Wildschwein","ausstrahlungnsc":1,"beweglichkeitnsc":4,"intuitionnsc":3,"konstitutionnsc":3,"mystiknsc":0,"staerkensc":4,"verstandnsc":0,"willenskraftnsc":1,"groessenklassensc":4,"geschwindigkeitnsc":11,"lebenspunktensc":7,"fokusnscgesamt":2,"verteidigungnsc":18,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":21,"geistigerwiderstandnsc":15,"lpnscgesamt":21,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":7});
            weaponnames = ["Körper"];
            weaponskills = [11];
            weaponspeed = [8];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [7];
            weaponattributes = ["Wuchtig"];
            masterynames = ["Vorstürmen", "Schmerzwiderstand 1"];
            masteryskills = ["Handgemenge", "Zähigkeit"];
            masterylevels = [1, 2];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [8, 11, 6, 7, 6, 9];
            featurenames = ["Kreatur", "Schwächlich"];
            featurelevels = [4, 1];
            break;
        case("wolf"):
            setAttrs({"namensc":"Wolf","ausstrahlungnsc":1,"beweglichkeitnsc":4,"intuitionnsc":5,"konstitutionnsc":2,"mystiknsc":0,"staerkensc":3,"verstandnsc":1,"willenskraftnsc":1,"groessenklassensc":4,"geschwindigkeitnsc":14,"lebenspunktensc":6,"fokusnscgesamt":2,"verteidigungnsc":20,"schadensreduktionnsc":0,"koerperlicherwiderstandnsc":18,"geistigerwiderstandnsc":17,"lpnscgesamt":18,"nschealth":3,"schmerzimmunnsc":0,"initiativensc":5});
            weaponnames = ["Körper"];
            weaponskills = [13];
            weaponspeed = [7];
            weapondamage1 = [1];
            weapondamage2 = ["d6"];
            weapondamage3 = [4];
            weaponini = [5];
            weaponattributes = ["Scharf 2"];
            masterynames = ["Umreißen (Schwierigkeit 17)", "Vorstürmen", "Flinker Verfolger", "Leisetreter"];
            masteryskills = ["Handgemenge", "Handgemenge", "Athletik", "Heimlichkeit"];
            masterylevels = [1, 1, 2, 1];
            abilitynames = ["akrobatik", "athletik", "entschlossenheit", "heimlichkeit", "jagdkunst", "wahrnehmung", "zaehigkeit"];
            abilitylevels = [10, 11, 4, 15, 14, 13, 8];
            featurenames = ["Dämmersicht", "Feigling", "Kälteresistenz", "Kreatur", "Schwächlich"];
            featurelevels = [1, 1, 4, 1];
            break;
    }
    for (var i = 0; i < weaponnames.length; i++) {
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffennamensc"] = weaponnames[i];
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffenwertnsc"] = weaponskills[i];
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffenwgsnsc"] = weaponspeed[i];
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffenschaden1nsc"] = weapondamage1[i];
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffenschadenwuerfelnsc"] = weapondamage2[i];
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffenschaden3nsc"] = weapondamage3[i];
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffenininsc"] = weaponini[i];
        newrowattrs["repeating_waffennsc_" + newrowid + "_waffenmerkmalensc"] = weaponattributes[i];
        newrowid = generateRowID();
    }
    for (var i = 0; i < masterynames.length; i++) {
        newrowattrs["repeating_meisterschaftennsc_" + newrowid + "_meisterschaftnsc"] = masterynames[i];
        newrowattrs["repeating_meisterschaftennsc_" + newrowid + "_meisterschaftsfertigkeitnsc"] = masteryskills[i];
        newrowattrs["repeating_meisterschaftennsc_" + newrowid + "_meisterschaftsschwellensc"] = masterylevels[i];
        newrowid = generateRowID();
    }
    for (var i = 0; i < spellnames.length; i++) {
        newrowattrs["repeating_zaubernsc_" + newrowid + "_zaubernamensc"] = spellnames[i];
        newrowattrs["repeating_zaubernsc_" + newrowid + "_magieschulennsc"] = spellschools[i];
        newrowattrs["repeating_zaubernsc_" + newrowid + "_zauberschwierigkeitnsc"] = spelldiffs[i];
        newrowattrs["repeating_zaubernsc_" + newrowid + "_zauberkostennsc"] = spellcosts[i];
        newrowattrs["repeating_zaubernsc_" + newrowid + "_zauberdauernsc"] = spelldurations[i];
        newrowattrs["repeating_zaubernsc_" + newrowid + "_zauberrwnsc"] = spellranges[i];
        newrowattrs["repeating_zaubernsc_" + newrowid + "_zauberwdnsc"] = spellimpactdurations[i];
        newrowattrs["repeating_zaubernsc_" + newrowid + "_zauberwertnsc"] = spelllevels[i];
        newrowid = generateRowID();
    }
    for (var i = 0; i < abilitynames.length; i++) {
        newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitnsc"] = abilitynames[i];
        newrowattrs["repeating_fertigkeitennsc_" + newrowid + "_fertigkeitswertnsc"] = abilitylevels[i];
        newrowid = generateRowID();
    }
    for (var i = 0; i < featurenames.length; i++) {
        newrowattrs["repeating_merkmalensc_" + newrowid + "_merkmalnsc"] = featurenames[i];
        newrowattrs["repeating_merkmalensc_" + newrowid + "_merkmalstufensc"] = featurelevels[i];
        newrowid = generateRowID();
    }
    setAttrs(newrowattrs);
}

on("change:lebenspunkte_k change:lebenspunkte_e change:lebenspunkte_v", function(f) {
    if (f.sourceType == "sheetworker") { return; }
    getAttrs(["lebenspunkte_t"], function(v) {
        let newValue = f.newValue || 0;
        let previousValue = f.previousValue || 0; 
        setAttrs({
            lebenspunkte_t: +v.lebenspunkte_t - (+newValue - +previousValue)
        });
    });
});


on("change:fokus_k change:fokus_e change:fokus_v", function(f) {
    if (f.sourceType == "sheetworker") { return; }
    getAttrs(["fokus_t"], function(v) {
        let newValue = f.newValue || 0;
        let previousValue = f.previousValue || 0;
        setAttrs({
            fokus_t: +v.fokus_t - (+newValue - +previousValue)
        });
    });
});

on("clicked:verschnaufpause", function(f) {
    getAttrs(["fokus_k", "fokus_e", "fokus_k", "fokus_e", "fokus_v", "fokus_t", "lebenspunkte_k", "lebenspunkte_e", "lebenspunkte_v", "lebenspunkte_t", "regbonus", "konstitution", "willenskraft", "lebenspunkte", "fokus", "hiddenfokreg", "hiddenlifereg"], function(v) {
        let update = {};
        let kon = +v.konstitution;
        let wil = +v.willenskraft;
        let lifereg = +v.hiddenlifereg;
        let fokreg = +v.hiddenfokreg;
        let regbonus = +v.regbonus;
        let konbonus = 2;
        let wilbonus = 2;
        update["fokus_t"] = +v.fokus_t;
        update["fokus_v"] = +v.fokus_v;
        update["fokus_e"] = +v.fokus_e;
        update["fokus_k"] = +v.fokus_k;
        update["lebenspunkte_t"] = +v.lebenspunkte_t;
        update["lebenspunkte_v"] = +v.lebenspunkte_v;
        update["lebenspunkte_e"] = +v.lebenspunkte_e;
        update["lebenspunkte_k"] = +v.lebenspunkte_k;
        update["fokus_t"] += update["fokus_e"];
        update["fokus_e"] = 0;
        update["lebenspunkte_t"] += update["lebenspunkte_e"];
        update["lebenspunkte_e"] = 0;
        setAttrs(update);
    });
});

on("clicked:ruhephase", function(f) {
    getAttrs(["fokuskzue", "fokus_k", "fokus_e", "fokus_k", "fokus_e", "fokus_v", "fokus_t", "lebenspunkte_k", "lebenspunkte_e", "lebenspunkte_v", "lebenspunkte_t", "regbonus", "konstitution", "willenskraft", "lebenspunkte", "fokus", "hiddenfokreg", "hiddenlifereg", "werblutetstirbt"], function(v) {        let update = {};
        let kon = +v.konstitution;
        let wil = +v.willenskraft;
        let lifereg = +v.hiddenlifereg;
        let fokreg = +v.hiddenfokreg;
        let regbonus = +v.regbonus;
        let konbonus = 2;
        let wilbonus = 2;
        let liferegtotal = 0;
        let fokregtotal = 0;
        let lebenspunkte_max = 0;
        let fokus_max = +v.fokus;
        let lebenspunkte_gesamt = (+v.lebenspunkte * 5);
        let wbs = v.werblutetstirbt;
        update["fokus_t"] = +v.fokus_t;
        update["fokus_v"] = +v.fokus_v;
        update["fokus_e"] = +v.fokus_e;
        update["fokus_k"] = +v.fokus_k;
        update["lebenspunkte_t"] = +v.lebenspunkte_t;
        update["lebenspunkte_v"] = +v.lebenspunkte_v;
        update["lebenspunkte_e"] = +v.lebenspunkte_e;
        lebenspunkte_max = +lebenspunkte_gesamt - +v.lebenspunkte_k;
        fokus_max = +v.fokus;
        if (wbs == 1) {
            konbonus = 1;
        } else if (lifereg == 2) {
            konbonus = 3;
        }
        if (fokreg == 2) {
            wilbonus = 3;
        }
        liferegtotal = +regbonus + (+kon * +konbonus);
        fokregtotal = (+wil * +wilbonus);
        update["lebenspunkte_t"] += +update["lebenspunkte_e"];
        update["lebenspunkte_e"] = 0;
        if (+liferegtotal > +update["lebenspunkte_v"]) { liferegtotal = +update["lebenspunkte_v"]; }
        if (+update["lebenspunkte_t"] + liferegtotal > +lebenspunkte_max) { liferegtotal = +lebenspunkte_max - +update["lebenspunkte_t"]; }
        update["lebenspunkte_v"] -= +liferegtotal;
        update["lebenspunkte_t"] += +liferegtotal;
        if (v.fokuskzue == true) {
            update["fokus_t"] += +update["fokus_k"];
            update["fokus_k"] = 0;
        } else {
            fokus_max = +v.fokus - +v.fokus_k;
        }
        update["fokus_t"] += +update["fokus_e"];
        update["fokus_e"] = 0;
        if (+fokregtotal > +update["fokus_v"]) { fokregtotal = +update["fokus_v"]; }
        if ((+update["fokus_t"] + +fokregtotal) > fokus_max) { fokregtotal = (+fokus_max - + update["fokus_t"]); }
        update["fokus_v"] -= +fokregtotal;
        update["fokus_t"] += +fokregtotal;
        setAttrs(update);
    });
});

on("clicked:resetfokus", function(f) {
    getAttrs(["fokus"], function(v) {
        setAttrs({
            fokus_e: 0,
            fokus_k: 0,
            fokus_v: 0,
            fokus_t: +v.fokus
        });
    });
});

on("clicked:resetlp", function(f) {
    getAttrs(["lebenspunkte"], function(v) {
        setAttrs({
            lebenspunkte_e: 0,
            lebenspunkte_k: 0,
            lebenspunkte_v: 0,
            lebenspunkte_t: (+v.lebenspunkte * 5),
            lebenspunkte_t_max: (+v.lebenspunkte * 5)
        });
    });
});

function calculateSpell(costsToCalculate, obj) {
    if (obj == "player") {
        getAttrs(["fokus_v", "fokus_t", "fokus_e", "fokus_k"], function(v) {
            let update = {};
            let zauberkosten = costsToCalculate;
            let fokus_v = +v.fokus_v;
            let fokus_e = +v.fokus_e;
            let fokus_t = +v.fokus_t;
            let fokus_k = +v.fokus_k;
            let kosten_e = 0;
            let kosten_k = 0;
            let kosten_v = 0;
            let gesamtkosten = 0;
            let temp = zauberkosten.toString().match(/\d{1,2}|[K,k]\d{1,2}|[V,v]\d{1,2}/g);
            var i;
            for (i = 0; i < temp.length; i++) {
                if (temp[i].charAt(0).toLowerCase() == "k") {
                    temp[i] = temp[i].substr(1);
                    kosten_k = temp[i];
                } else if (temp[i].charAt(0).toLowerCase() == "v") {
                    temp[i] = temp[i].substr(1);
                    kosten_v = temp[i];
                } else {
                    kosten_e = temp[i];
                }
            }
            if (kosten_k != 0 && kosten_v != 0) {
                kosten_k -= kosten_v;
            } else if (kosten_k == 0 && kosten_v != 0) {
                kosten_e -= kosten_v;
            }
            gesamtkosten = +kosten_e + +kosten_v + +kosten_k;
            update["zauberkosten"] = 0;
            if (+fokus_t >= +gesamtkosten) {
                update["fokus_e"] = +v.fokus_e + +kosten_e;
                update["fokus_v"] = +v.fokus_v + +kosten_v;
                update["fokus_k"] = +v.fokus_k + +kosten_k;
                update["fokus_t"] = +v.fokus_t - +gesamtkosten;
            }
            setAttrs(update);
        });  
    } else if (obj == "nsc") {
        getAttrs(["fokusnsc_v", "foknscgesamt", "fokusnsc_e", "fokusnsc_k"], function(v) {
            let update = {};
            let zauberkosten = costsToCalculate;
            let fokus_v = +v.fokusnsc_v;
            let fokus_e = +v.fokusnsc_e;
            let fokus_t = +v.foknscgesamt;
            let fokus_k = +v.fokusnsc_k;
            let kosten_e = 0;
            let kosten_k = 0;
            let kosten_v = 0;
            let gesamtkosten = 0;
            let temp = zauberkosten.toString().match(/\d{1,2}|[K,k]\d{1,2}|[V,v]\d{1,2}/g);
            var i;
            for (i = 0; i < temp.length; i++) {
                if (temp[i].charAt(0).toLowerCase() == "k") {
                    temp[i] = temp[i].substr(1);
                    kosten_k = temp[i];
                } else if (temp[i].charAt(0).toLowerCase() == "v") {
                    temp[i] = temp[i].substr(1);
                    kosten_v = temp[i];
                } else {
                    kosten_e = temp[i];
                }
            }
            if (kosten_k != 0 && kosten_v != 0) {
                kosten_k -= kosten_v;
            } else if (kosten_k == 0 && kosten_v != 0) {
                kosten_e -= kosten_v;
            }
            gesamtkosten = +kosten_e + +kosten_v + +kosten_k;
            update["zauberkosten"] = 0;
            if (+fokus_t >= +gesamtkosten) {
                update["fokusnsc_e"] = +fokus_e + +kosten_e;
                update["fokusnsc_v"] = +fokus_v + +kosten_v;
                update["fokusnsc_k"] = +fokus_k + +kosten_k;
                update["foknscgesamt"] = +fokus_t - +gesamtkosten;
            }
            setAttrs(update);
        });  
    }
}

on("clicked:zaubercalc", function(f) {
    getAttrs(["zauberkosten"], function(v) {
        calculateSpell(v.zauberkosten, "player");
    });
}); 

on("change:gmroll sheet:opened", function(f) {
    getAttrs(["gmroll"], function(v) {
        let rollstring = "";
        if (+v.gmroll == 1)  {
            rollstring = "&{template:splittermond_generic}";
        } else if (+v.gmroll == 0) {
            rollstring = "/w GM &{template:splittermond_generic}";
        }
        setAttrs({
            abilityroll: rollstring
        });
    });
});

on("change:repeating_zauber:directcalc", function(f) {
    getAttrs(["repeating_zauber_directcalc", "repeating_zauber_zauberkosten"], function(values) {
        var update = {};
        var kosten = values.repeating_zauber_zauberkosten;
        if (values.repeating_zauber_directcalc == "directcalc") {
            update["repeating_zauber_directcalc"] = "off";
            setAttrs(update);
            calculateSpell(kosten, "player");
        }
    });
});

on("change:repeating_zauber:directcalcv", function(f) {
    getAttrs(["repeating_zauber_directcalcv", "repeating_zauber_zauberkostenv"], function(values) {
        var update = {};
        var kosten = values.repeating_zauber_zauberkostenv;
        if (values.repeating_zauber_directcalcv == "directcalc") {
            update["repeating_zauber_directcalcv"] = "off";
            setAttrs(update);
            calculateSpell(kosten, "player");
        }
    });
});

on("change:repeating_zaubernsc:directcalcnsc", function(f) {
    getAttrs(["repeating_zaubernsc_directcalcnsc", "repeating_zaubernsc_zauberkostennsc"], function(values) {
        var update = {};
        var kosten = 0;
        update["repeating_zaubernsc_directcalcnsc"] = "off";
        setAttrs(update);
        kosten = values.repeating_zaubernsc_zauberkostennsc;
        calculateSpell(kosten, "nsc");
    });
});

on("change:repeating_zaubernsc:directcalcvnscv", function(f) {
    getAttrs(["repeating_zaubernsc_directcalcnscv", "repeating_zaubernsc_zauberkostennscv"], function(values) {
        var update = {};
        var kosten = 0;
        update["repeating_zaubernsc_directcalcnscv"] = "off";
        setAttrs(update);
        kosten = values.repeating_zaubernsc_zauberkostennscv;
        calculateSpell(kosten, "nsc");
    });
});

on("change:hiddensbm", function(f) {
    getAttrs(["hiddensbm"], function(v) {
        if (+v.hiddensbm > 1) {
            setAttrs({
                hiddensbm: 1
            });
        }
    });
});

on("remove:repeating_staerken", function(eventInfo) {
    var rowid = eventInfo.sourceAttribute.substring(19, 39);
	var staerke = eventInfo.removedInfo["repeating_staerken_" + rowid + "_staerke"];
	var update = {};
	var attribs = {
	    "robust":"hiddenlp",
	    "erhöhter fokuspool":"hiddenfokus",
	    "flink":"hiddengsw",
	    "hoher geistiger widerstand":"hiddengw",
	    "hoher körperlicher widerstand":"hiddenkw",
	    "natürlicher rüstungsschutz":"hiddensr",
	    "verbesserte initiative":"hiddenini",
	    "schmerzresistenz":"schmerzresistenz",
	    "zusätzliche splitterpunkte":"hiddensplitterpunkte",
	    "erhöhte fokusregeneration":"hiddenfokreg",
	    "erhöhte lebensregeneration":"hiddenlifereg",
	    "stabile magie":"hiddensbm"
	};
	if (attribs[staerke] != "undefined") {
	    update[attribs[staerke.toLowerCase()]] = 0;
        setAttrs(update);    
	}
});

on("remove:repeating_meisterschaften", function(eventInfo) {
    var rowid = eventInfo.sourceAttribute.substring(26, 46);
	var meisterschaft = eventInfo.removedInfo["repeating_meisterschaften_" + rowid + "_meisterschaftsname"];
	var update = {};
	var meisterschaften = {
	    "blitzreflexe":"blitzreflexecount",
	    "gute reflexe":"hiddenvtdgr",
	    "rüstungsträger i":"rt1",
	    "rüstungsträger 1":"rt1",
	    "rüstungsträger ii":"rt2",
	    "rüstungsträger 2":"rt2",
	    "starker schildarm i":"st1",
	    "starker schildarm 1":"st1",
	    "schmerzwiderstand i":"sw1",
	    "schmerzwiderstand 1":"sw1",
	    "starker schildarm ii":"st2",
	    "starker schildarm 2":"st2",
	    "schmerzwiderstand ii":"sw2",
	    "schmerzwiderstand 2":"sw2",
	    "sprinter":"sprintercount"
	};
	if (meisterschaft.toLowerCase() == "blitzreflexe") {
	     getAttrs(["blitzreflexecount"], function(v) {
            if (+v.blitzreflexecount > 0) {
                update[meisterschaften[meisterschaft.toLowerCase()]] = +v.blitzreflexecount - 1;
	            setAttrs(update);
            }
	    });
	} else if (meisterschaft.toLowerCase() == "sprinter") {
	    getAttrs(["sprintercount"], function(v) {
            if (+v.sprintercount > 0) {
                update[meisterschaften[meisterschaft.toLowerCase()]] = +v.sprintercount - 1;
	            setAttrs(update);
            }
	    });
	} else {
       if (meisterschaften[meisterschaft] != "undefined") {
            update[meisterschaften[meisterschaft.toLowerCase()]] = 0;
            setAttrs(update);
    	}
	}
});

on("remove:repeating_meisterschaftenmagie", function(eventInfo) {
    var rowid = eventInfo.sourceAttribute.substring(31, 51);
	var meisterschaftMagie = eventInfo.removedInfo["repeating_meisterschaftenmagie_" + rowid + "_meisterschaftsname"];
	var update = {};
	var meisterschaftenMagie = {
	    "arkane geschwindigkeit":"hiddengswag"
	};

	if (meisterschaftMagie.toLowerCase() == "arkane geschwindigkeit") {
        update[meisterschaftenMagie[meisterschaftMagie.toLowerCase()]] = 0;
        setAttrs(update);
	} 
});

on("change:blitzreflexecount", function(eventInfo) {
    getAttrs(["blitzreflexecount", "hiddeninibr"], function(v) {
        let update = {};
        let blitzreflexecount = +v.blitzreflexecount;
        if (+blitzreflexecount <= 2) {
            update["hiddeninibr"] = +blitzreflexecount * 3;
            setAttrs(update);
        } else {
            update["hiddeninibr"] = 0;
            setAttrs(update);
        }
    });
});    

on("change:sprintercount", function(eventInfo) {
    getAttrs(["sprintercount", "hiddengswspr"], function(v) {
        let update = {};
        let sprintercount = +v.sprintercount;
        if (+sprintercount <= 2) {
            update["hiddengswspr"] = +sprintercount;
            setAttrs(update);
        } else {
            update["hiddengswspr"] = 0;
            setAttrs(update);
        }
    });
});

on("change:lebenspunkte_v", function(eventInfo) {
    if (eventInfo.sourceType == "sheetworker") { return; }
    getAttrs(["lebenspunkte_v", "lebenspunkte_t", "lebenspunkte"], function(v) {
        let lp_v = +v.lebenspunkte_v;
        let lp_t = +v.lebenspunkte_t;
        let s2 = (+v.lebenspunkte * 4) + 1;
        let s3b = +v.lebenspunkte * 5;
        let dead = (+v.lebenspunkte * 6) + 1;
        var update = {};
        if (+lp_t >= +v.lebenspunkte && +lp_v >= +s2) {
            let newrowid = generateRowID();
            update["repeating_zustaende_" + newrowid + "_zustandsname"] = "sterbendw";
            update["repeating_zustaende_" + newrowid + "_zustandsstufe"] = 2;
            update["repeating_zustaende_" + newrowid + "_zustandonoff"] = true;
        }
        if (+lp_t > 0 && +lp_v >= +s3b) {
            let newrowid = generateRowID();
            update["repeating_zustaende_" + newrowid + "_zustandsname"] = "sterbendw";
            update["repeating_zustaende_" + newrowid + "_zustandsstufe"] = 3;
            update["repeating_zustaende_" + newrowid + "_zustandonoff"] = true;
            newrowid = generateRowID();
            update["repeating_zustaende_" + newrowid + "_zustandsname"] = "bewusstlos";
            update["repeating_zustaende_" + newrowid + "_zustandsstufe"] = 1;
            update["repeating_zustaende_" + newrowid + "_zustandonoff"] = true;
        }
        if (+lp_v >= dead) {
            let newrowid = generateRowID();
            update["repeating_zustaende_" + newrowid + "_zustandsname"] = "totw";
            update["repeating_zustaende_" + newrowid + "_zustandsstufe"] = 1;
            update["repeating_zustaende_" + newrowid + "_zustandonoff"] = true;
        }
        setAttrs(update);
    });
}); 

on("change:rolldamagecheck change:rolldamagensccheck change:repeating_nahkampfwaffen change:repeating_fernkampfwaffen sheet:opened", function(eventInfo) {
  getAttrs(["rolldamagensccheck", "rolldamagecheck"], function(v) {
      let damagensc = "";
      let damagescnah = "";
      let damagescfern = "";
      let update = {};

        getSectionIDs("repeating_nahkampfwaffen", function(idarray) {
            _.each(idarray, function(currentID, i) {
                if (v.rolldamagecheck == true) {
                    damagescnah = "[Wirf!](~repeating_nahkampfwaffen_" + currentID + "_show_damage)";
                } else {
                    damagescnah = "[[@{repeating_nahkampfwaffen_" + currentID + "_damageroll}]]";
                }
                update["repeating_nahkampfwaffen_" + currentID + "_rolldamage"] = damagescnah;
                setAttrs(update);
            });
        });
        getSectionIDs("repeating_fernkampfwaffen", function(idarray) {
            _.each(idarray, function(currentID, i) {
                if (v.rolldamagecheck == true) {
                    damagescfern = "[Wirf!](~repeating_fernkampfwaffen_" + currentID + "_show_damage)";
                } else {
                    damagescfern = "[[@{repeating_fernkampfwaffen_" + currentID + "_damageroll}]]";
                }
                update["repeating_fernkampfwaffen_" + currentID + "_rolldamagefern"] = damagescfern;
                setAttrs(update);
            });
        });
        getSectionIDs("repeating_zauber", function(idarray) {
            _.each(idarray, function(currentID, i) {
                if (v.rolldamagecheck == true) {
                    damagescspell = "[Wirf!](~repeating_zauber_" + currentID + "_show_damage_spell)";
                } else {
                    damagescspell = "[[@{repeating_zauber_" + currentID + "_damagerollspell}]]";
                }
                update["repeating_zauber_" + currentID + "_rolldamagespell"] = damagescspell;
                setAttrs(update);
            });
        });
        getSectionIDs("repeating_waffennsc", function(idarray) {
            _.each(idarray, function(currentID, i) {
                if (v.rolldamagensccheck == true) {
                    damagensc = "[Wirf!](~repeating_waffennsc_" + currentID + "_show_damage)";
                } else {
                    damagensc = "[[@{repeating_waffennsc_" + currentID + "_damagerollnsc}]]";
                }
                update["repeating_waffennsc_" + currentID + "_rolldamagensc"] = damagensc;
                setAttrs(update);
            });
        });
    });
});

on("change:lebenspunktensc_k change:lebenspunktensc_v change:lebenspunktensc_e change:nschealth change:lebenspunktensc", function(eventInfo) {
    getAttrs(["lebenspunktensc_k", "lebenspunktensc_v", "lebenspunktensc_e", "lpnscgesamt", "nschealth", "lebenspunktensc"], function(v) {
        if (eventInfo.newValue < 0) { return; }
        var gesamtlp = +v.lebenspunktensc * +v.nschealth;
        setAttrs({
           lpnscgesamt: +gesamtlp - +v.lebenspunktensc_k - +v.lebenspunktensc_v - +v.lebenspunktensc_e
        });
    });
});

on("change:fokusnsc_k change:fokusnsc_e change:fokusnsc_v change:foknscgesamt change:fokusnscgesamt", function(eventInfo) {
    getAttrs(["fokusnsc_k", "fokusnsc_e", "fokusnsc_v", "foknscgesamt", "nschealth", "fokusnscgesamt"], function(v) {
        if (eventInfo.newValue < 0) { return; }
        var gesamtfokus = +v.fokusnscgesamt;
        setAttrs({
           foknscgesamt: +gesamtfokus - +v.fokusnsc_v - +v.fokusnsc_k - +v.fokusnsc_e
        });
    });
});

on("change:creature_vtd_ruestung change:creature_verteidigung", function(eventInfo) {
    getAttrs(["creature_vtd_ruestung", "creature_verteidigung"], function(v) {
        setAttrs({
            creature_verteidigung_gesamt: +v.creature_verteidigung + +v.creature_vtd_ruestung
        });
    });
});

on("change:repeating_ausruestung:last change:repeating_ausruestung:getragen change:repeating_ausruestung:anzahl remove:repeating_ausruestung change:repeating_behaelter1:last change:repeating_behaelter1:getragen change:repeating_behaelter1:anzahl remove:repeating_behaelter1 change:repeating_behaelter2:last change:repeating_behaelter2:getragen change:repeating_behaelter2:anzahl remove:repeating_behaelter2 change:repeating_behaelter3:last change:repeating_behaelter3:getragen change:repeating_behaelter3:anzahl remove:repeating_behaelter3 change:repeating_behaelter4:last change:repeating_behaelter4:getragen change:repeating_behaelter4:anzahl remove:repeating_behaelter4 change:repeating_behaelter5:last change:repeating_behaelter5:getragen change:repeating_behaelter5:anzahl remove:repeating_behaelter5", function(eventInfo) {
    let row = eventInfo.sourceAttribute.split("_")[1];
    let lastfelder = {"ausruestung":"gesamtlast_koerper", "behaelter1":"gesamtlast_behaelter1", "behaelter2":"gesamtlast_behaelter2", "behaelter3":"gesamtlast_behaelter3", "behaelter4":"gesamtlast_behaelter4", "behaelter5":"gesamtlast_behaelter5"};
    let lastfeld = lastfelder[row];
    getSectionIDs(`repeating_${row}`, function(idarray) {
        let update = {};
        let nichtsgetragen = true;
        let sum = 0;
        let last = 0;
        let getragen = true;
        let anzahl = 0;
        if (idarray.length > 0)
        {
            _.each(idarray, function(currentID, i) {
		        getAttrs([`repeating_${row}_` + currentID + `_last`, `repeating_${row}_` + currentID + `_getragen`, `repeating_${row}_` + currentID + `_anzahl`], function(v) {
                    last = v[`repeating_${row}_` + currentID + `_last`];
                    getragen = v[`repeating_${row}_` + currentID + `_getragen`]; 
                    anzahl = v[`repeating_${row}_` + currentID + `_anzahl`]; 
                    if (getragen == true) {
                        nichtsgetragen = false;
                        sum += +last * +anzahl;
                        update[`${lastfeld}`] = +sum;
                        setAttrs(update); 
                    }
                    
                });
	        });
        }
        if (nichtsgetragen == true) {
            update[`${lastfeld}`] = 0;
            setAttrs(update);
        }
    });
});

on("change:gesamtlast_koerper change:gesamtlast_behaelter1 change:gesamtlast_behaelter2 change:gesamtlast_behaelter3 change:gesamtlast_behaelter4 change:gesamtlast_behaelter4", function(eventInfo) {
    getAttrs(["gesamtlast_koerper", "gesamtlast_behaelter1", "gesamtlast_behaelter2", "gesamtlast_behaelter3", "gesamtlast_behaelter4", "gesamtlast_behaelter5"], function(v) {
        let sum = +v.gesamtlast_koerper + +v.gesamtlast_behaelter1 + +v.gesamtlast_behaelter2 + +v.gesamtlast_behaelter3 + +v.gesamtlast_behaelter4 + +v.gesamtlast_behaelter5;
        let update = {};
        update["gesamtlast"] = sum;
        setAttrs(update);
    });
});

on("change:initracker_sc", function(eventInfo) {
    getAttrs(["initracker_sc"], function(v) {
        let update = {};
        let text = "";
        if (+v.initracker_sc == 1) {
            text = "&{tracker:+}";
        }
        update["initracker_input"] = text;
        setAttrs(update);
    });
});

function processRoll(baseRoll) {

    startRoll(baseRoll, (results) => {
        let dice = [];
        let gDice = [];
        let mEg = 0;
        let diff = 0;
        let eg = 0;
        let result = results.results.Probe.result;
        let success = results.results.success.result;
        let schwierigkeit = results.results.schwierigkeit.result; 
        let mod = +results.results.mod.result;
        let mode = +results.results.mode.result;
        let grmmode = +results.results.grmmode.result;
        let grossmeister = +results.results.grossmeister.result;
        let vtd = 0;
        let def = 0;
        result += +mod;
        
        dice.push(+results.results.wuerfel1.result);
        dice.push(+results.results.wuerfel2.result);
        gDice.push(+results.results.wuerfel1.result);
        gDice.push(+results.results.wuerfel2.result);
        
        if (+mode == 4) {
            dice.push(+results.results.wuerfel3.result);
            dice.push(+results.results.wuerfel4.result);
            gDice.push(+results.results.wuerfel3.result);
            gDice.push(+results.results.wuerfel4.result);
        }
        
        gDice.push(+grossmeister);
        
        let sDice = sortNumbers(dice);
        let gmDice = sortNumbers(gDice);
        
        if (grmmode == 0) {
            success = checkForFumbleAndCriticalSuccess(sDice, mode);
            
            if (+success == 1 && +mode == 4) {
                result -= (+sDice[2] + +sDice[3]);
                result += (+sDice[0] + +sDice[1]);
            }
        } else if (grmmode == 1) {
            success = checkForFumbleAndCriticalSuccessGm(gmDice, mode, grossmeister);
            
            result = modifySum(result, sDice, gmDice, mode, success);
        }
            
        if (+success == 1) {
            mEg -= 3;
        } else if (+success == 2) {
            if (isSuccess(result, schwierigkeit)) {
                mEg += 3;
            }
        }
        
        diff = result - schwierigkeit;
        
        if (isSuccess(result, schwierigkeit)) {
            eg = Math.floor( +diff / 3 ) + +mEg;
        } else {
            eg = Math.ceil( +diff / 3) + +mEg;
        }
        
        if (+success == 1 && +eg >= -1) { eg == -1; }
        
        if (!(results.results.verteidigung === undefined))  {
            def = results.results.def.result;
            vtd = results.results.verteidigung.result;
            
            if (isSuccess(result, schwierigkeit)) {
                vtd += 1 + +def + +eg;
            }
        }

        finishRoll(
            results.rollId,
            {
                erfolge: eg,
                verteidigung: vtd,
                success: success,
                Probe: result
            }
        );
    });
}

const stats = ['akrobatik','alchemie','anfuehren','arkanekunde','athletik','darbietung','diplomatie','edelhandwerk','empathie','entschlossenheit','fingerfertigkeit','geschichteundmythen','handwerk','heilkunde','heimlichkeit','jagdkunst','laenderkunde','naturkunde','redegewandtheit','schloesserundfallen','schwimmen','seefahrt','strassenkunde','tierfuehrung','ueberleben','wahrnehmung','zaehigkeit','bannmagie','beherrschungsmagie','bewegungsmagie','erkenntnismagie','felsmagie','feuermagie','heilungsmagie','illusionsmagie','kampfmagie','lichtmagie','naturmagie','schattenmagie','schicksalsmagie','schutzmagie','staerkungsmagie','todesmagie','verwandlungsmagie','wassermagie','windmagie'];

stats.forEach(function (stat) {
    on("change:" + stat + "1" + " change: " + stat + "2" + " change:" + stat + "punkte " + "sheet:opened", function () {
        getAttrs([stat + '1', stat + '2', stat + 'punkte'], function (values) {
            let stat_1 = parseInt(values[stat + '1'], 10) || 0; 
            let stat_2 = parseInt(values[stat + '2'], 10) || 0; 
            let stat_p = parseInt(values[stat + 'punkte'], 10) || 0; 
            setAttrs({
                [stat]: +stat_1 + +stat_2 + +stat_p
            });
        });
    });
});

const auSkills = ['anfuehren','darbietung','diplomatie','entschlossenheit','fingerfertigkeit','redegewandtheit','strassenkunde','tierfuehrung','feuermagie','heilungsmagie','illusionsmagie','lichtmagie','naturmagie','schicksalsmagie','schutzmagie'];
const beSkills = ['akrobatik','athletik','fingerfertigkeit','heimlichkeit','schloesserundfallen','seefahrt','tierfuehrung','bewegungsmagie'];
const inSkills = ['edelhandwerk','empathie','heilkunde','laenderkunde','naturkunde','schloesserundfallen','strassenkunde','ueberleben','wahrnehmung','schattenmagie','wassermagie'];
const koSkills = ['handwerk','jagdkunst','schwimmen','seefahrt','ueberleben','zaehigkeit','felsmagie','verwandlungsmagie'];
const stSkills = ['akrobatik','athletik','heimlichkeit','schwimmen','kampfmagie','staerkungsmagie'];
const veSkills = ['alchemie','arkanekunde','diplomatie','edelhandwerk','empathie','geschichteundmythen','handwerk','heilkunde','jagdkunst','laenderkunde','naturkunde','erkenntnismagie','todesmagie','windmagie'];
const mySkills = ['alchemie','arkanekunde','geschichteundmythen','bannmagie','beherrschungsmagie','bewegungsmagie','erkenntnismagie','felsmagie','feuermagie','heilungsmagie','illusionsmagie','kampfmagie','lichtmagie','naturmagie','schattenmagie','schicksalsmagie','schutzmagie','staerkungsmagie','todesmagie','verwandlungsmagie','wassermagie','windmagie'];
const wiSkills = ['anfuehren','darbietung','entschlossenheit','redegewandtheit','wahrnehmung','zaehigkeit','bannmagie','beherrschungsmagie'];

const correctSkills = {'anfuehren':'Anführen','arkanekunde':'Arkane Kunde','geschichteundmythen':'Geschichte & Mythen','schloesserundfallen':'Schlösser & Fallen','strassenkunde':'Straßenkunde','laenderkunde':'Länderkunde','ueberleben':'Überleben','zaehigkeit':'Zähigkeit','tierfuehrung':'Tierführung', 'staerkungsmagie':'Stärkungsmagie'};

stats.forEach(function (stat) {
    on("clicked:" + stat + " clicked:" + stat + "_si clicked:" + stat + "_st clicked:" + stat + "_ri", function (eventInfo) {
        let oDiceMode = eventInfo.triggerName.split(":")[1].split("_")[1] || "";
        
        getAttrs([stat, stat + 'bonus', stat + '_gm', 'hiddenbeweglichkeitmod', 'hiddenstaerkemod', 'hiddenallgfert', 'hiddenallfert', 'erschoepft', 'schadensmod', 'behinderung', 'hiddenausstrahlungmod', 'hiddenintuitionmod', 'hiddenkonstitutionmod', 'hiddenmystikmod', 'hiddenverstandmod', 'hiddenwillenskraftmod', 'dice_mod', 'gmroll'], function (values) {
            let baseRoll = "";
            let dice_mod = parseInt(values['dice_mod'], 10) || 0;
            let wuerfel = "";
            let baseDice = "";
            let mode = "";
            let attributsmods = "";
            let bBeh = 0;
            let attributsmodssum = 0;
            let abilityroll = "";
            let gmroll = values['gmroll'];
            let rollName = stat.charAt(0).toUpperCase() + stat.slice(1);
            let vStat = parseInt(values[stat], 10) || 0;
            let bStat = parseInt(values[stat + 'bonus'], 10) || 0;
            let grmmode = parseInt(values[stat + '_gm'], 10) || 0;
            let hiddenallgfert = parseInt(values['hiddenallgfert'], 10) || 0;
            let hiddenallfert = parseInt(values['hiddenallfert'], 10) || 0;
            let erschoepft = parseInt(values['erschoepft'], 10) || 0;
            let schadensmod = parseInt(values['schadensmod'], 10) || 0;
            let behinderung = parseInt(values['behinderung'], 10) || 0;
            let hiddenbeweglichkeitmod = parseInt(values['hiddenbeweglichkeitmod'], 10) || 0;
            let hiddenstaerkemod = parseInt(values['hiddenstaerkemod'], 10) || 0;
            let hiddenausstrahlungmod = parseInt(values['hiddenausstrahlungmod'], 10) || 0;
            let hiddenintuitionmod = parseInt(values['hiddenintuitionmod'], 10) || 0;
            let hiddenkonstitutionmod = parseInt(values['hiddenkonstitutionmod'], 10) || 0;
            let hiddenmystikmod = parseInt(values['hiddenmystikmod'], 10) || 0;
            let hiddenverstandmod = parseInt(values['hiddenverstandmod'], 10) || 0;
            let hiddenwillenskraftmod = parseInt(values['hiddenwillenskraftmod'], 10) || 0;
            let sum = +vStat + +bStat + +hiddenallgfert + +hiddenallfert - +erschoepft - +schadensmod;
            
            if (auSkills.includes(stat)) { 
                sum += +hiddenausstrahlungmod; 
                attributsmodssum += +hiddenausstrahlungmod;
            }
            if (beSkills.includes(stat)) { 
                sum += +hiddenbeweglichkeitmod;
                sum -= +behinderung;
                bBeh = 1;
                attributsmodssum += +hiddenbeweglichkeitmod;
            }
            if (inSkills.includes(stat)) { 
                sum += +hiddenintuitionmod; 
                attributsmodssum += +hiddenintuitionmod;
            }
            if (koSkills.includes(stat)) { 
                sum += +hiddenkonstitutionmod; 
                attributsmodssum += +hiddenkonstitutionmod; 
            }
            if (stSkills.includes(stat)) { 
                sum += +hiddenstaerkemod; 
                attributsmodssum += +hiddenstaerkemod;
            }
            if (veSkills.includes(stat)) { 
                sum += +hiddenverstandmod; 
                attributsmodssum += +hiddenverstandmod;
            }
            if (mySkills.includes(stat)) { 
                sum += +hiddenmystikmod; 
                attributsmodssum += +hiddenmystikmod; 
            }
            if (wiSkills.includes(stat)) { 
                sum += +hiddenwillenskraftmod; 
                attributsmodssum += +hiddenwillenskraftmod;
            }
            
            if (correctSkills[stat] != null) {
                rollName = correctSkills[stat];
            }
            
            if (gmroll == 0) {
                abilityroll += "/w GM ";
            }
            
            switch (oDiceMode) {
                case "si":
                    dice_mod = 1;
                    break;
                case "st":
                    dice_mod = 2;
                    break;
                case "ri":
                    dice_mod = 3;
                    break;
                default:
                    break;
            }
            
            wuerfel = getWuerfel(dice_mod);
            baseDice = getBaseDice(dice_mod);
            mode = getMode(dice_mod);
            
            abilityroll += "&{template:splittermond_generic}";
            baseRoll = `@{abilityroll} {{name=${rollName}}} {{charactername=@{character_name}}} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{geblendet=[[@{geblendet}d1]]}} {{basiswert=[[${vStat}d1]]}} {{skillbonus=[[${bStat}]]}} {{attributsmodifikatoren=[[${attributsmodssum}]]}} {{erschoepft=[[@{erschoepft}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}}`;
            
            processRoll(baseRoll); 
        });
    });
});

on("clicked:repeating_nahkampfwaffen:angriff clicked:repeating_nahkampfwaffen:aktiveabwehr", function(eventInfo) {
    let modus = eventInfo.sourceAttribute.split("_")[3];
    
    getAttrs(['repeating_nahkampfwaffen_gm', 'repeating_nahkampfwaffen_waffenname', 'repeating_nahkampfwaffen_damageroll', 'repeating_nahkampfwaffen_rolldamage', 'repeating_nahkampfwaffen_waffenwert', 'repeating_nahkampfwaffen_waffenwgs','repeating_nahkampfwaffen_waffenmod', 'repeating_nahkampfwaffen_nahwaffenattrmod', 'repeating_nahkampfwaffen_angriffsbonus', 'repeating_nahkampfwaffen_kampffertigkeitenbonus', 'hiddenallfert', 'benommen', 'geblendet', 'erschoepft', 'schadensmod', 'dice_mod', 'repeating_nahkampfwaffen_waffendefensiv', 'verteidigung', 'gmroll', 'rollpatzer'], function (values) {
            let baseRoll = "";
            let dice_mod = parseInt(values['dice_mod'], 10) || 0;
            let wuerfel = getWuerfel(dice_mod);
            let baseDice = getBaseDice(dice_mod);
            let mode = getMode(dice_mod);
            let bBeh = 0;
            let abilityroll = "";
            let gmroll = values['gmroll'];
            let waffenname = values['repeating_nahkampfwaffen_waffenname'];
            let waffenwert = parseInt(values['repeating_nahkampfwaffen_waffenwert'], 10) || 0;
            let waffenmod = parseInt(values['repeating_nahkampfwaffen_waffenmod'], 10) || 0;
            let waffenwgs = parseInt(values['repeating_nahkampfwaffen_waffenwgs'], 10) || 0;
            let damageroll = values['repeating_nahkampfwaffen_damageroll'];
            let rolldamage = values['repeating_nahkampfwaffen_rolldamage'];
            let rollpatzer = values['rollpatzer'];
            let nahwaffenattrmod = parseInt(values['repeating_nahkampfwaffen_nahwaffenattrmod'], 10) || 0;
            let angriffsbonus = parseInt(values['repeating_nahkampfwaffen_angriffsbonus'], 10) || 0;
            let kampffertigkeitenbonus = parseInt(values['repeating_nahkampfwaffen_kampffertigkeitenbonus'], 10) || 0;
            let hiddenallfert = parseInt(values['hiddenallfert'], 10) || 0;
            let grmmode = parseInt(values['repeating_nahkampfwaffen_gm'], 10) || 0;
            let geblendet = parseInt(values['geblendet'], 10) || 0;
            let erschoepft = parseInt(values['erschoepft'], 10) || 0;
            let schadensmod = parseInt(values['schadensmod'], 10) || 0;
            let behinderung = parseInt(values['behinderung'], 10) || 0;
            let verteidigung = parseInt(values['verteidigung'], 10) || 0;
            let waffendefensiv = parseInt(values['repeating_nahkampfwaffen_waffendefensiv'], 10) || 0;
            let sum = +waffenwert + +waffenmod + +nahwaffenattrmod + +hiddenallfert - +angriffsbonus + +kampffertigkeitenbonus - +geblendet - +erschoepft - +schadensmod;
            let defsum = +sum - +angriffsbonus;
            
            if (gmroll == 0) {
                abilityroll += "/w GM ";
            }
            
            if (modus == "angriff") {
                abilityroll += "&{template:splittermond_generic}";
                baseRoll = `${abilityroll} {{name=${waffenname}}} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{damage=${rolldamage}}} {{charactername=@{character_name}}} {{rollpatzer=${rollpatzer}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{geblendet=[[@{geblendet}d1]]}} {{basiswert=[[${waffenwert}d1]]}} {{skillbonus=[[${waffenmod}]]}} {{angriffsbonus=[[${angriffsbonus}]]}} {{kampffertigkeitenbonus=[[${kampffertigkeitenbonus}]]}} {{erschoepft=[[@{erschoepft}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{patzer=[[1]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}}  {{Ticks=[[${waffenwgs} + @{benommen} @{initracker_input}]]}}`;
            } else if (modus == "aktiveabwehr") {
                abilityroll += "&{template:splittermond_aktiveabwehr}";
                baseRoll = `${abilityroll} {{waffenname=${waffenname}}} {{Probe=[[ ${baseDice} + [[${defsum}]] ]]}} {{verteidigung=[[${verteidigung}]]}} {{neuerwert=Verteidigung}} {{naming=Parade - ${waffenname}}} {{def=[[1d0 + ${waffendefensiv}]]}} {{charactername=@{character_name}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{standardwurf=$[[2]]}} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{geblendet=[[@{geblendet}d1]]}} {{basiswert=[[${waffenwert}d1]]}} {{skillbonus=[[${waffenmod}]]}} {{kampffertigkeitenbonus=[[${kampffertigkeitenbonus}]]}} {{erschoepft=[[@{erschoepft}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{rollpatzer=${rollpatzer}}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{Ticks=[[3 @{initracker_input}]]}}`;
            }
            
            processRoll(baseRoll); 
        });
    
});

on("clicked:repeating_fernkampfwaffen:angriff", function(eventInfo) {
    
    getAttrs(['repeating_fernkampfwaffen_gm', 'repeating_fernkampfwaffen_waffennamefern', 'repeating_fernkampfwaffen_damagerollfern', 'repeating_fernkampfwaffen_rolldamagefern', 'repeating_fernkampfwaffen_waffenwertfern', 'repeating_fernkampfwaffen_waffenmodfern', 'repeating_fernkampfwaffen_fernwaffenattrmod', 'repeating_fernkampfwaffen_angriffsbonus', 'repeating_fernkampfwaffen_kampffertigkeitenbonus', 'hiddenallfert', 'geblendet', 'erschoepft', 'schadensmod', 'dice_mod', 'gmroll', 'rollpatzer'], function (values) {
            let baseRoll = "";
            let bBeh = 0;
            let dice_mod = parseInt(values['dice_mod'], 10) || 0;
            let wuerfel = getWuerfel(dice_mod);
            let baseDice = getBaseDice(dice_mod);
            let mode = getMode(dice_mod);
            let abilityroll = "";
            let gmroll = values['gmroll'];
            let waffenname = values['repeating_fernkampfwaffen_waffennamefern'];
            let waffenwert = parseInt(values['repeating_fernkampfwaffen_waffenwertfern'], 10) || 0;
            let waffenmod = parseInt(values['repeating_fernkampfwaffen_waffenmodfern'], 10) || 0;
            let damageroll = values['repeating_fernkampfwaffen_damagerollfern'];
            let rolldamage = values['repeating_fernkampfwaffen_rolldamagefern'];
            let rollpatzer = values['rollpatzer'];
            let fernwaffenattrmod = parseInt(values['repeating_fernkampfwaffen_fernwaffenattrmod'], 10) || 0;
            let angriffsbonus = parseInt(values['repeating_fernkampfwaffen_angriffsbonus'], 10) || 0;
            let kampffertigkeitenbonus = parseInt(values['repeating_fernkampfwaffen_kampffertigkeitenbonus'], 10) || 0;
            let hiddenallfert = parseInt(values['hiddenallfert'], 10) || 0;
            let grmmode = parseInt(values['repeating_fernkampfwaffen_gm'], 10) || 0;
            let geblendet = parseInt(values['geblendet'], 10) || 0;
            let erschoepft = parseInt(values['erschoepft'], 10) || 0;
            let schadensmod = parseInt(values['schadensmod'], 10) || 0;
            let behinderung = parseInt(values['behinderung'], 10) || 0;
            let sum = +waffenwert + +waffenmod + +fernwaffenattrmod + +hiddenallfert - +angriffsbonus + +kampffertigkeitenbonus - +geblendet - +erschoepft - +schadensmod;
            
            if (gmroll == 0) {
                abilityroll += "/w GM ";
            }
            
            abilityroll += "&{template:splittermond_generic}";
            baseRoll = `${abilityroll} {{name=${waffenname}}} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{damage=${rolldamage}}} {{charactername=@{character_name}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{rollpatzer=${rollpatzer}}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{geblendet=[[@{geblendet}d1]]}} {{basiswert=[[${waffenwert}d1]]}} {{skillbonus=[[${waffenmod}]]}} {{angriffsbonus=[[${angriffsbonus}]]}} {{kampffertigkeitenbonus=[[${kampffertigkeitenbonus}]]}} {{erschoepft=[[@{erschoepft}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{patzer=[[1]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}}`;
            
            processRoll(baseRoll); 
        });
    
});

on("clicked:repeating_zauber:roll", function(eventInfo) {
    
    getAttrs(['repeating_zauber_gm', 'repeating_zauber_zaubername', 'repeating_zauber_damagerollspell', 'repeating_zauber_rolldamagespell', 'repeating_zauber_zauberwert', 'repeating_zauber_zaubermod1', 'repeating_zauber_zaubermod2', 'repeating_zauber_hiddenmod', 'repeating_zauber_zauberattrmod', 'repeating_zauber_zauberkosten', 'repeating_zauber_spelldamagechanger', 'initracker_input', 'hiddenallfert', 'geblendet', 'erschoepft', 'schadensmod', 'dice_mod', 'glaubenskrise', 'repeating_zauber_zauberschwierigkeit', 'gmroll', 'rollzauberpatzer'], function (values) {
        let baseRoll = "";
        let dice_mod = parseInt(values['dice_mod'], 10) || 0;
        let wuerfel = getWuerfel(dice_mod);
        let baseDice = getBaseDice(dice_mod);
        let mode = getMode(dice_mod);
        let bBeh = 0;
        let abilityroll = "";
        let gmroll = values['gmroll'];
        let zaubername = values['repeating_zauber_zaubername'];
        let zauberwert = parseInt(values['repeating_zauber_zauberwert'], 10) || 0;
        let damagerollspell = values['repeating_zauber_damagerollspell'];
        let rolldamagespell = values['repeating_zauber_rolldamagespell'];
        let rollzauberpatzer = values['rollzauberpatzer'];
        let spelldamagechanger = values['repeating_zauber_spelldamagechanger'];
        let zaubermod1 = parseInt(values['repeating_zauber_zaubermod1'], 10) || 0;
        let zaubermod2 = parseInt(values['repeating_zauber_zaubermod2'], 10) || 0;
        let hiddenmod = parseInt(values['repeating_zauber_hiddenmod'], 10) || 0;
        let zauberattrmod = parseInt(values['repeating_zauber_zauberattrmod'], 10) || 0;
        let zauberkosten = values['repeating_zauber_zauberkosten'];
        let hiddenallfert = parseInt(values['hiddenallfert'], 10) || 0;
        let grmmode = parseInt(values['repeating_zauber_gm'], 10) || 0;
        let geblendet = parseInt(values['geblendet'], 10) || 0;
        let erschoepft = parseInt(values['erschoepft'], 10) || 0;
        let schadensmod = parseInt(values['schadensmod'], 10) || 0;
        let behinderung = parseInt(values['behinderung'], 10) || 0;
        let glaubenskrise = parseInt(values['glaubenskrise'], 10) || 0;
        let zauberschwierigkeit = parseInt(values['repeating_zauber_zauberschwierigkeit'], 10) || 0;
        let sum = +zauberwert + +zaubermod1 + +zaubermod2 + +hiddenmod + +zauberattrmod + +hiddenallfert - +geblendet - +glaubenskrise - +schadensmod;
        
        if (zauberkosten.indexOf("K") > -1) {
            if (zauberkosten.indexOf("V") > -1) {
                zauberkosten = zauberkosten.substr(zauberkosten.indexOf("K") + 1, zauberkosten.indexOf("V") - 1);
            } else {
                zauberkosten = zauberkosten.substr(zauberkosten.indexOf("K") + 1);
            }
        } 
        
        if (gmroll == 0) {
            abilityroll += "/w GM ";
        }
    
        abilityroll += "&{template:splittermond_generic}";
        baseRoll = `${abilityroll} {{name=Zauber: ${zaubername}}} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{neg=[[0]]}} {{damage=${rolldamagespell}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{changer=${spelldamagechanger}}} {{damage=${rolldamagespell}}} {{charactername=@{character_name}}} {{dmgmalus=[[@{schadensmod}d1]]}} {{grmmode=[[${grmmode}]]}} {{basiswert=[[${zauberwert}d1]]}} {{erschoepft=[[@{erschoepft}d1]]}} {{geblendet=[[@{geblendet}d1]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|${zauberschwierigkeit}}]]}} {{Ticks=[[3+@{gesamttickplus}+@{benommen} @{initracker_input}]]}} {{rollzauberpatzer=${rollzauberpatzer}}} {{patzer=[[2]]}} {{fokus=${zauberkosten}}}`;
        
        processRoll(baseRoll); 
    });
});

on("clicked:aa_akrobatik clicked:aa_kw clicked:aa_gw", function(eventInfo) {
    let trigger = eventInfo.triggerName.split(":")[1].split("_")[1];
    
    getAttrs(['akrobatik', 'akrobatikbonus', 'akrobatik_gm', 'entschlossenheit', 'entschlossenheitbonus', 'entschlossenheit_gm', 'zaehigkeit', 'zaehigkeitbonus', 'zaehigkeit_gm', 'hiddenallfert', 'erschoepft', 'schadensmod', 'verteidigung', 'koerperlicherwiderstand', 'geistigerwiderstand', 'dice_mod', 'gmroll'], function (values) {
        let baseRoll = "";
        let dice_mod = parseInt(values['dice_mod'], 10) || 0;
        let wuerfel = getWuerfel(dice_mod);
        let baseDice = getBaseDice(dice_mod);
        let mode = getMode(dice_mod);
        let naming = "";
        let abilityroll = "";
        let gmroll = values['gmroll'];
        let akrobatik = parseInt(values['akrobatik'], 10) || 0;
        let akrobatikbonus = parseInt(values['akrobatikbonus'], 10) || 0;
        let akrobatik_gm = values['akrobatik_gm'];
        let entschlossenheit = parseInt(values['entschlossenheit'], 10) || 0;
        let entschlossenheitbonus = parseInt(values['entschlossenheitbonus'], 10) || 0;
        let entschlossenheit_gm = values['entschlossenheit_gm'];
        let zaehigkeit = parseInt(values['zaehigkeit'], 10) || 0;
        let zaehigkeitbonus = parseInt(values['zaehigkeitbonus'], 10) || 0;
        let zaehigkeit_gm = values['zaehigkeit_gm'];
        let grmmode = 0;
        let verteidigung = parseInt(values['verteidigung'], 10) || 0;
        let koerperlicherwiderstand = parseInt(values['koerperlicherwiderstand'], 10) || 0;
        let geistigerwiderstand = parseInt(values['geistigerwiderstand'], 10) || 0;
        let hiddenallfert = parseInt(values['hiddenallfert'], 10) || 0;
        let erschoepft = parseInt(values['erschoepft'], 10) || 0;
        let schadensmod = parseInt(values['schadensmod'], 10) || 0;
        let neuer_wert = "";
        let sum = 0;
        let sum_akrobatik = +akrobatik + +akrobatikbonus + +hiddenallfert - +erschoepft - +schadensmod;
        let sum_kw = +zaehigkeit + +zaehigkeitbonus + +hiddenallfert - +erschoepft - +schadensmod;
        let sum_gw = +entschlossenheit + +entschlossenheitbonus + +hiddenallfert - +erschoepft - +schadensmod;
        
        if (trigger == "akrobatik") {
            grmmode = akrobatik_gm;
            naming = "Ausweichen";
            basiswert = +akrobatik;
            sum = +sum_akrobatik;
            neuer_wert = "Neue Verteidigung";
        } else if (trigger == "kw") {
            grmmode = zaehigkeit_gm;
            naming = "KW-Erhöhung";
            basiswert = +zaehigkeit;
            sum = +sum_kw;
            verteidigung = koerperlicherwiderstand;
            neuer_wert = "Neuer KW";
        } else if (trigger == "gw") {
            grmmode = entschlossenheit_gm;
            naming = "GW-Erhöhung";
            basiswert = +entschlossenheit;
            sum = +sum_gw;
            verteidigung = geistigerwiderstand;
            neuer_wert = "Neuer GW";
        }
        
        if (gmroll == 0) {
            abilityroll += "/w GM ";
        }
        
        abilityroll += "&{template:splittermond_aktiveabwehr}";
        baseRoll = `${abilityroll} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{verteidigung=[[${verteidigung}]]}} {{charactername=@{character_name}}} {{neuerwert=${neuer_wert}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{erfolge=[[1]]}} {{grossmeister=[[1d10]]}} {{mode=[[${mode}]]}} {{success=[[0]]}} {{grmmode=[[${grmmode}]]}} {{def=[[0]]}} {{naming=${naming}}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} ${wuerfel} {{Ticks=[[3+@{gesamttickplus}+@{benommen} @{initracker_input}]]}}`;
        
        processRoll(baseRoll); 
    });
});

on("clicked:gw_nsc clicked:kw_nsc clicked:akrobatik_nsc", function(eventInfo) {
    let trigger = eventInfo.triggerName.split(":")[1].split("_")[0];
    
    getAttrs(['akrobatik_nsc', 'akrobatik_gm_nsc', 'entschlossenheit_nsc', 'entschlossenheit_gm_nsc', 'zaehigkeit_nsc', 'zaehigkeit_gm_nsc', 'verteidigungnsc', 'schadensmodnsc', 'koerperlicherwiderstandnsc', 'geistigerwiderstandnsc', 'dice_mod_nsc', 'gmroll_nsc'], function (values) {
        let baseRoll = "";
        let dice_mod = values['dice_mod_nsc'];
        let wuerfel = getWuerfel(dice_mod);
        let baseDice = getBaseDice(dice_mod);
        let mode = getMode(dice_mod);
        let naming = "";
        let abilityroll = "";
        let gmroll = values['gmroll_nsc'];
        let grmmode = "";
        let akrobatik = parseInt(values['akrobatik_nsc'], 10) || 0;
        let akrobatik_gm = values['akrobatik_gm_nsc'];
        let entschlossenheit = parseInt(values['entschlossenheit_nsc'], 10) || 0;
        let entschlossenheit_gm = values['entschlossenheit_gm_nsc'];
        let zaehigkeit = parseInt(values['zaehigkeit_nsc'], 10) || 0;
        let zaehigkeit_gm = values['zaehigkeit_gm_nsc'];
        let verteidigung = parseInt(values['verteidigungnsc'], 10) || 0;
        let koerperlicherwiderstand = parseInt(values['koerperlicherwiderstandnsc'], 10) || 0;
        let geistigerwiderstand = parseInt(values['geistigerwiderstandnsc'], 10) || 0;
        let schadensmod = parseInt(values['schadensmodnsc'], 10) || 0;
        let neuer_wert = "";
        let sum = 0;
        let sum_akrobatik = +akrobatik - +schadensmod;
        let sum_kw = +zaehigkeit - +schadensmod;
        let sum_gw = +entschlossenheit - +schadensmod;
        
        if (trigger == "akrobatik") {
            grmmode = akrobatik_gm;
            naming = "Ausweichen";
            basiswert = +akrobatik;
            sum = +sum_akrobatik;
            neuer_wert = "Neue Verteidigung";
        } else if (trigger == "kw") {
            grmmode = zaehigkeit_gm;
            naming = "KW-Erhöhung";
            basiswert = +zaehigkeit;
            sum = +sum_kw;
            verteidigung = koerperlicherwiderstand;
            neuer_wert = "Neuer KW";
        } else if (trigger == "gw") {
            grmmode = entschlossenheit_gm;
            naming = "GW-Erhöhung";
            basiswert = +entschlossenheit;
            sum = +sum_gw;
            verteidigung = geistigerwiderstand;
            neuer_wert = "Neuer GW";
        }
        
        if (gmroll == 0) {
            abilityroll += "/w GM ";
        }
        
        abilityroll += "&{template:splittermond_aktiveabwehr}";
        baseRoll = `${abilityroll} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{verteidigung=[[${verteidigung}]]}} {{charactername=@{character_name}}} {{neuerwert=${neuer_wert}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{erfolge=[[1]]}} {{grossmeister=[[1d10]]}} {{mode=[[${mode}]]}} {{success=[[0]]}} {{grmmode=[[${grmmode}]]}} {{def=[[0]]}} {{naming=${naming}}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} ${wuerfel} {{Ticks=[[3+@{gesamttickplus}+@{benommen} @{initracker_input}]]}}`;
        
        processRoll(baseRoll); 
    });
});

on("clicked:repeating_waffennsc:angriff clicked:repeating_waffennsc:aktiveabwehr", function(eventInfo) {
    let modus = eventInfo.sourceAttribute.split("_")[3];
    
    getAttrs(['repeating_waffennsc_waffennamensc', 'repeating_waffennsc_gm', 'repeating_waffennsc_waffendefensiv', 'repeating_waffennsc_damagerollnsc', 'repeating_nahkampfwaffen_waffenwertnsc', 'repeating_nahkampfwaffen_waffenwgsnsc', 'repeating_waffennsc_rolldamagensc', 'schadensmodnsc', 'dice_mod_nsc', 'verteidigungnsc', 'gmroll_nsc', 'rollpatzer'], function (values) {
            let baseRoll = "";
            let bBeh = 0;
            let dice_mod = parseInt(values['dice_mod_nsc'], 10) || 0;
            let wuerfel = getWuerfel(dice_mod);
            let baseDice = getBaseDice(dice_mod);
            let mode = getMode(dice_mod);
            let abilityroll = "";
            let waffenname = values['repeating_waffennsc_waffennamensc'];
            let waffenwgs = parseInt(values['repeating_nahkampfwaffen_waffenwgsnsc'], 10) || 0;
            let waffendefensiv = parseInt(values['repeating_waffennsc_waffendefensiv'], 10) || 0;
            let grmmode = parseInt(values['repeating_waffennsc_gm'], 10) || 0;
            let gmroll = values['gmroll_nsc'];
            let waffenwert = parseInt(values['repeating_nahkampfwaffen_waffenwertnsc'], 10) || 0;
            let damageroll = values['repeating_waffennsc_damagerollnsc'];
            let rolldamage = values['repeating_waffennsc_rolldamagensc'];
            let rollpatzer = values['rollpatzer'];
            let schadensmod = parseInt(values['schadensmodnsc'], 10) || 0;
            let verteidigung = parseInt(values['verteidigungnsc'], 10) || 0;
            let behinderung = 0;
            let sum = +waffenwert - +schadensmod;
            let defsum = +sum;
            
            if (gmroll == 0) {
                abilityroll += "/w GM ";
            }
            
            if (modus == "angriff") {
                abilityroll += "&{template:splittermond_generic}";
                baseRoll = `${abilityroll} {{name=Angriff: ${waffenname}}} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{damage=${rolldamage}}} {{charactername=@{namensc}}} {{rollpatzer=${rollpatzer}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{basiswert=[[${waffenwert}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{Ticks=[[${waffenwgs}+@{gesamttickplus}+@{benommen} @{initracker_input}]]}}`;
            } else if (modus == "aktiveabwehr") {
                abilityroll += "&{template:splittermond_aktiveabwehr}";
                baseRoll = `${abilityroll} {{waffenname=${waffenname}}} {{Probe=[[ ${baseDice} + [[${defsum}]] ]]}} {{verteidigung=[[${verteidigung}]]}} {{neuerwert=Verteidigung}} {{rollpatzer=${rollpatzer}}} {{naming=Parade - ${waffenname}}} {{def=[[1d0 + ${waffendefensiv}]]}} {{charactername=@{namensc}}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{geblendet=[[@{geblendet}d1]]}} {{basiswert=[[${waffenwert}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}} {{Ticks=[[3 @{initracker_input}]]}}`;
            }
            
            processRoll(baseRoll); 
        });
    
});

on("clicked:repeating_fertigkeitennsc:skill", function(eventInfo) {
    
    getAttrs(['repeating_fertigkeitennsc_fertigkeitnsc', 'repeating_fertigkeitennsc_gm', 'repeating_fertigkeitennsc_fertigkeitswertnsc', 'schadensmodnsc', 'dice_mod_nsc', 'gmroll_nsc'], function (values) {
        let baseRoll = "";
        let bBeh = 0;
        let dice_mod = parseInt(values['dice_mod_nsc'], 10) || 0;
        let wuerfel = getWuerfel(dice_mod);
        let baseDice = getBaseDice(dice_mod);
        let mode = getMode(dice_mod);
        let abilityroll = "";
        let skillname = values['repeating_fertigkeitennsc_fertigkeitnsc'];
        skillname = skillname.charAt(0).toUpperCase() + skillname.slice(1);
        let skillvalue = values['repeating_fertigkeitennsc_fertigkeitswertnsc'];
        let grmmode = parseInt(values['repeating_fertigkeitennsc_gm'], 10) || 0;
        let gmroll = values['gmroll_nsc'];
        let schadensmod = parseInt(values['schadensmodnsc'], 10) || 0;
        let verteidigung = parseInt(values['verteidigungnsc'], 10) || 0;
        let behinderung = 0;
        let sum = +skillvalue - +schadensmod;
        
        if (gmroll == 0) {
            abilityroll += "/w GM ";
        }
        
        abilityroll += "&{template:splittermond_generic}";
        baseRoll = `${abilityroll} {{name=${skillname}}} {{charactername=@{namensc}}} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{basiswert=[[${skillvalue}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|15}]]}}`;
        processRoll(baseRoll); 
    });
    
});

on("clicked:repeating_zaubernsc:spell", function(eventInfo) {
    
    getAttrs(['repeating_zaubernsc_zaubernamensc', 'repeating_zaubernsc_gm', 'repeating_zaubernsc_zauberwertnsc', 'repeating_zaubernsc_zaubermodnsc', 'repeating_zaubernsc_zauberschwierigkeitnsc', 'repeating_zaubernsc_zauberkostennsc', 'schadensmodnsc', 'dice_mod_nsc', 'gmroll_nsc'], function (values) {
        let baseRoll = "";
        let bBeh = 0;
        let dice_mod = parseInt(values['dice_mod_nsc'], 10) || 0;
        let wuerfel = getWuerfel(dice_mod);
        let baseDice = getBaseDice(dice_mod);
        let mode = getMode(dice_mod);
        let abilityroll = "";
        let spellname = values['repeating_zaubernsc_zaubernamensc'];
        let spellvalue = values['repeating_zaubernsc_zauberwertnsc'];
        let spellmod = values['repeating_zaubernsc_zaubermodnsc'];
        let spelldiff = values['repeating_zaubernsc_zauberschwierigkeitnsc'];
        let spellcosts = values['repeating_zaubernsc_zauberkostennsc'];
        let grmmode = parseInt(values['repeating_zaubernsc_gm'], 10) || 0;
        let gmroll = values['gmroll_nsc'];
        let schadensmod = parseInt(values['schadensmodnsc'], 10) || 0;
        let behinderung = 0;
        let sum = +spellvalue + +spellmod - +schadensmod;
        
        if (gmroll == 0) {
            abilityroll += "/w GM ";
        }
        
        abilityroll += "&{template:splittermond_generic}";
        baseRoll = `${abilityroll} {{name=Zauber: ${spellname}}} {{charactername=@{namensc}}} {{Probe=[[ ${baseDice} + [[${sum}]] ]]}} {{mod=[[?{Situationsmodifikator|0}]]}} {{grossmeister=[[1d10]]}} {{erfolge=[[1]]}} ${wuerfel} {{mode=[[${mode}]]}} {{success=[[0]]}} {{dmgmalus=[[@{schadensmod}d1]]}} {{basiswert=[[${spellvalue}d1]]}} {{bbeh=[[${bBeh}]]}} {{behinderung=[[${behinderung}]]}} {{grmmode=[[${grmmode}]]}} {{schwierigkeit=[[1d0 + ?{Schwierigkeit|${spelldiff}}]]}} {{fokus=${spellcosts}}}`;
        
        processRoll(baseRoll); 
    });
    
});

on("change:repeating_fertigkeitennsc", function(eventInfo) {
    let repID = eventInfo.sourceAttribute.split("_")[2];
    let update = {};
    
    getAttrs(['repeating_fertigkeitennsc_' + repID + '_fertigkeitswertnsc', 'repeating_fertigkeitennsc_' + repID + '_fertigkeitnsc', 'repeating_fertigkeitennsc_' + repID + '_gm_nsc'], function(values) {
        let fertigkeit = values['repeating_fertigkeitennsc_' + repID + '_fertigkeitnsc'];
        let value = values['repeating_fertigkeitennsc_' + repID + '_fertigkeitswertnsc'];
        let gm = values['repeating_fertigkeitennsc_' + repID + '_gm_nsc'];
        
        switch (fertigkeit) {
            case 'akrobatik':
                update['akrobatik_nsc'] = +value;
                update['akrobatik_gm_nsc'] = gm;
                break;
            case 'entschlossenheit':
                update['entschlossenheit_nsc'] = +value;
                update['entschlossenheit_gm_nsc'] = gm;
                break;
            case 'zaehigkeit': 
                update['zaehigkeit_nsc'] = +value;
                update['zaehigkeit_gm_nsc'] = gm;
                break;
        }
        
        setAttrs(update);
        
    });
});



function getBaseDice(dice_mod) {
    if (dice_mod == 1) {
        return "[[{[[1d10]],[[1d10]]}k1]]";
    } else if (dice_mod == 2) {
        return "[[[[1d10]] + [[1d10]]]]";
    } else if (dice_mod == 3) {
        return "[[{[[1d10]],[[1d10]],[[1d10]],[[1d10]]}k2]]";
    }
}

function getWuerfel(dice_mod) {
    if (dice_mod == 3) {
        return "{{wuerfel1=$[[0]]}} {{wuerfel2=$[[1]]}} {{wuerfel3=$[[2]]}} {{wuerfel4=$[[3]]}}";
    }
    
    return "{{wuerfel1=$[[0]]}} {{wuerfel2=$[[1]]}}";
}

function getMode(dice_mod) {
    if (dice_mod == 3) {
        return 4;
    } 
    
    return dice_mod;
}


function isSuccess(result, threshold) {
    if (result >= threshold) {
        return true;
    }
    
    return false;
}

function sortNumbers(itemsToSort) {
    let result = itemsToSort.sort(function(a, b) {
      return a - b;
    });
    
    return result;
}

function checkForFumbleAndCriticalSuccess(dice, mode) {
    if (mode == 1) { return 0; }
    let lowest = dice[0] + dice[1];
    let highest = 0;
    
    if (mode == 2) {
        highest = dice[0] + dice[1];
    } 
    
    if (mode == 4) {
        highest = dice[2] + dice[3];
    }
    
    if (+mode >= 2) {
        if (+lowest <= 3) {
            return 1;
        } else if (+highest >= 19) {
            return 2;
        }
    }
    
    return 0;
}

function checkForFumbleAndCriticalSuccessGm(dice, mode, grossmeister) {
    if (mode == 1) { return 0; }
    let clearedDice = [...dice];
    let lowest = 0;
    let highest = 0;
    
    for( var i = 0; i < clearedDice.length; i++){ 
        if ( clearedDice[i] == grossmeister) { 
            clearedDice.splice(i, 1); 
        }
    }
    
    lowest = clearedDice[0] + clearedDice[1];
    
    if (mode == 2) {
        highest = +dice[1] + +dice[2];
    } else if (mode == 4) {
        highest = +dice[3] + +dice[4];
    }
    
    if (+lowest <= 3) {
        return 1;
    } else if (+highest >= 19) {
        return 2;
    }
    
    return 0;
}

function modifySum(result, oDice, nDice, mode, success) {
    
    if (mode == 1) {
        result -= oDice[1];
        result += nDice[2];
    } else if (mode == 2) {
        result -= (oDice[0] + oDice[1]);
        result += (nDice[1] + nDice[2]);
        
        if (success == 1) {
            result -= (nDice[1] + nDice[2]);
            result += (nDice[0] + nDice[1]);
        }
    } else if (mode == 4) {
        result -= (oDice[2] + oDice[3]);
        result += (nDice[3] + nDice[4]);
        
        if (success == 1) {
            result -= (nDice[3] + nDice[4]);
            result += (nDice[0] + nDice[1]);
        }
    }
    
    return result;
}

function isNumber(n) { return !isNaN(parseFloat(n)) && !isNaN(n - 0) }

on("change:repeating_zauber:zaubername", function(eventInfo) {
    let repID = eventInfo.sourceAttribute.split("_")[2];
    let update = {};
    
    getAttrs(['repeating_zauber_' + repID + '_zaubername'], function(values) {
        let zaubername = values['repeating_zauber_' + repID + '_zaubername'];
        let zauber;
        
        if (zaubername.length > 40) {
            zauber = parse_spell(zaubername);
            if (zauber.school === "Stärkung") { 
                zauber.school = "staerkung"; 
            } else {
                zauber.school = zauber.school.charAt(0).toLowerCase() + zauber.school.slice(1);
            }           

            update['repeating_zauber_' + repID + '_zauberkosten'] = zauber.cost;
            update['repeating_zauber_' + repID + '_zauberkostenv'] = zauber.cost_enhanced;
            update['repeating_zauber_' + repID + '_zauberschwierigkeit'] = zauber.difficulty;
            update['repeating_zauber_' + repID + '_zauberrw'] = zauber.range;
            update['repeating_zauber_' + repID + '_zauberdauer'] = zauber.casttime;
            update['repeating_zauber_' + repID + '_zauberwd'] = zauber.duration;
            update['repeating_zauber_' + repID + '_magieschulen'] = zauber.school;
            update['repeating_zauber_' + repID + '_zauberbeschreibung'] = zauber.text;
            update['repeating_zauber_' + repID + '_zaubername'] = zauber.name;       
                    
            setAttrs(update);            
        }                
        
    });
});

on("change:repeating_zaubernsc:zaubernamensc", function(eventInfo) {
    let repID = eventInfo.sourceAttribute.split("_")[2];
    let update = {};
    
    getAttrs(['repeating_zaubernsc_' + repID + '_zaubernamensc'], function(values) {
        let zaubername = values['repeating_zaubernsc_' + repID + '_zaubernamensc'];
        let zauber;
        
        if (zaubername.length > 40) {
            zauber = parse_spell(zaubername);
            if (zauber.school === "Stärkung") { 
                zauber.school = "staerkung"; 
            } else {
                zauber.school = zauber.school.charAt(0).toLowerCase() + zauber.school.slice(1);
            }           

            update['repeating_zaubernsc_' + repID + '_zauberkostennsc'] = zauber.cost;
            update['repeating_zaubernsc_' + repID + '_zauberkostennscv'] = zauber.cost_enhanced;
            update['repeating_zaubernsc_' + repID + '_zauberschwierigkeitnsc'] = zauber.difficulty;
            update['repeating_zaubernsc_' + repID + '_zauberrwnsc'] = zauber.range;
            update['repeating_zaubernsc_' + repID + '_zauberdauernsc'] = zauber.casttime;
            update['repeating_zaubernsc_' + repID + '_zauberwdnsc'] = zauber.duration;
            update['repeating_zaubernsc_' + repID + '_magieschulennsc'] = zauber.school;
            update['repeating_zaubernsc_' + repID + '_zauberwirkungnsc'] = zauber.text;
            update['repeating_zaubernsc_' + repID + '_zaubernamensc'] = zauber.name;       
                    
            setAttrs(update);            
        }                
        
    });
});

function parse_spell(spell_string) {    
    const cells = spell_string.split('\t');
    const spell_name = cells[0];
    const magic_schools = ["Bann", "Beherrschung", "Bewegung", "Erkenntnis", "Fels", "Feuer", "Heilung", "Illusion", "Kampf", "Licht", "Natur", "Schatten", "Schicksal", "Schutz", "Stärkung", "Tod", "Verwandlung", "Wasser", "Wind"];
    const spell_schools = cells.slice(5, 5 + 19);
    // first cell with a value
    const spell_school = magic_schools.find(function (v, i) {
        return spell_schools[i];
    });
    const spell_difficulty = cells[104];
    const spell_cost = cells[105];
    const spell_casttime = cells[106];
    const spell_range = cells[107].replace("Zaub.", "Z").replace("Ber.", "B").replace(" m", "m");
    const spell_duration = cells[108];
    const spell_cost_enhanced = cells[111].split("+")[1];
    const spell_text = cells[114].replace('"', '')
    return {
        name: spell_name,
        school: spell_school,
        difficulty: spell_difficulty,
        cost: spell_cost,
        casttime: spell_casttime,
        range: spell_range,
        duration: spell_duration,
        cost_enhanced: spell_cost_enhanced,
        text: spell_text,
    };
}

on("clicked:nscimport", function(eventInfo) {
                (['nscimport'], function (values) {
        let nscimport = values.nscimport;
        nscimport = nscimport.replace(/\r?\n|\r/g, " ");
        let merkmale = ["–", "Durchdringung", "Wuchtig", "Scharf", "Exakt", "Kritisch", "Umklammern", "Defensiv", "Entwaffnend", "Ablenkend", "Deckung", "Doppelwaffe", "Improvisiert", "Lange Waffe", "Nahkampftauglich", "Parierwaffe", "Primitiv", "Reiterwaffe", "Standfestigkeit", "Stumpf", "Teilbar", "Unhandlich", "Vielseitig", "Wattiert", "Wurffähig", "Zweihändig"];
        let attributes = "";
        let waffen = "";
        let zauber = "";
        let fertigkeiten = "";
        let meisterschaften = "";
        let nscmerkmale = "";
        let cAttributes = "Waffen";
        const nsc = {
          attributes: [],
          waffen: [],
          merkmale: [],
          fertigkeiten: [],
          meisterschaften: [],
          zauber: []
        };
        
        // Attribute
        if (!nscimport.includes("Waffen")) {
            cAttributes = "Typus";
        }
        attributes = nscimport.substring(
            nscimport.indexOf("WIL") + 1, 
            nscimport.lastIndexOf(cAttributes)
        ).match(/\d+/gm);
        for (var i = 0; i < attributes.length; i++) {
            nsc.attributes.push(attributes[i]);
        }
        
        // Waffen
        if (nscimport.includes("Waffen")) {
            waffen = nscimport.substring(
                nscimport.indexOf("INI") + 1, 
                nscimport.lastIndexOf("Typus")
            );
            
            //nsc.waffen = recursiveWeapons(waffen, [], merkmale);
            waffen = waffen.split(" ");
            waffen = stripWeaponString(waffen);
            waffen.splice(0,2);
            waffen = removeCharacter(waffen, ",");
            getWeapons(waffen, merkmale);
           
        }
        
         // Zauber
        if (nscimport.search("Zauber") > -1) {
            let spelltemp = "";
            
            zauber = nscimport.substring(
                nscimport.indexOf("Zauber") + 8, 
                nscimport.lastIndexOf("Merkmale")
            );
            
            if (zauber.search("Meisterschaften") > -1) {
                meisterschaften = zauber.split("Meisterschaften")[1];
                meisterschaften = meisterschaften.substring(2);
                zauber = zauber.split("Meisterschaften")[0];
            }
            
            let extractedspells = extractSpells(zauber);
            
            nsc.zauber = extractedspells;
        }
        
        // Fertigkeiten
        let temp = "";
        fertigkeiten = nscimport.substring(
            nscimport.indexOf("Fertigkeiten") + 1, 
            nscimport.lastIndexOf("Meisterschaften")
        )
        if (fertigkeiten.search("Zauber") > 1) {
            fertigkeiten = fertigkeiten.split("Zauber")[0];
        }
        fertigkeiten = fertigkeiten.split(",");
        fertigkeiten[0] = fertigkeiten[0].split(" ")[1] + " " + fertigkeiten[0].split(" ")[2];
        
        nsc.fertigkeiten = fertigkeiten.map(name => name.toLowerCase());
        
        // Meisterschaften
        if (meisterschaften.length == 0) {
            meisterschaften = nscimport.substring(
                nscimport.indexOf("Meisterschaften") + 17, 
                nscimport.lastIndexOf("Merkmale")
            )
        }
        
        let mtemp = meisterschaften.match(/\w*\s\([IV]+/g);
        meisterschaften = meisterschaften.split(/\w*\s\([IV]+/g);
        
        meisterschaften.splice(0,1);
        
        for (var i = 0; i < meisterschaften.length; i++) {
            meisterschaften[i] = mtemp[i] + meisterschaften[i];
        }
        
        nsc.meisterschaften = meisterschaften;
        
        // Merkmale
        if (nscimport.search("Beute") > -1) {
            nscmerkmale = nscimport.substring(
                nscimport.lastIndexOf("Merkmale") + 10, 
                nscimport.lastIndexOf("Beute")
            )
        } else {
            nscmerkmale = nscimport.substring(
                nscimport.lastIndexOf("Merkmale")
            )
        }
        
        nsc.merkmale = nscmerkmale.split(",");
        
        importNsc(nsc);
        
        /*console.log("Attribute: " + nsc.attributes);
        console.log("Waffen: " + nsc.waffen);
        console.log("Zauber: " + nsc.zauber);
        console.log("Fertigkeiten: " + nsc.fertigkeiten);
        console.log("Meisterschaften: " + nsc.meisterschaften);
        console.log("Merkmale: " + nsc.merkmale);*/
    });
});

function stripWeaponString(waffen) {
    
    if (waffen.includes("Lange")) {
        let pos = waffen.indexOf("Lange");
        if (waffen[pos + 1] == "Waffe,") {
            waffen[pos] += " Waffe";
            waffen.splice(pos + 1, 1);
        }
    }
    
    return waffen;
}

function importNsc(nsc) {
    let vAttributes = ["ausstrahlungnsc","beweglichkeitnsc","intuitionnsc","konstitutionnsc","mystiknsc","staerkensc","verstandnsc","willenskraftnsc","groessenklassensc","geschwindigkeitnsc","lebenspunktensc","fokusnscgesamt","verteidigungnsc","schadensreduktionnsc","koerperlicherwiderstandnsc","geistigerwiderstandnsc"];
    let vSkills = {"anführen":"anfuehren","tierführung":"tierfuehrung","geschichte und mythen":"geschichteundmythen","länderkunde":"laenderkunde","schlösser und fallen":"schloesserundfallen","straßenkunde":"strassenkunde","zähigkeit":"zaehigkeit","stärkungsmagie":"staerkungsmagie"};
    let newRowId;
    let waffen = nsc.waffen;
    let update = {};
    let temp = "";
    let ini = 0;
    for (var i = 0; i < nsc.attributes.length; i++) {
        let attribute = vAttributes[i];
        let value = nsc.attributes[i];
        update[attribute] = +value;
    }
    getSectionIDs("repeating_fertigkeitennsc", function(idarray) {
      for(var i=0; i < idarray.length; i++) {
        removeRepeatingRow("repeating_fertigkeitennsc_" + idarray[i]);
      }
    });
    nsc.fertigkeiten.forEach((fertigkeit) => {
        let skill = fertigkeit.replace(/\s/g,'').match(/[a-zA-Zäöü]+/g) || "test";
        let value = parseInt(fertigkeit.replace(/\s/g,'').match(/[\d]+/g), 10) || 0;
        if(vSkills[skill]) {
            skill = vSkills[skill];
        }
        newRowId = generateRowID();
        update['repeating_fertigkeitennsc_' + newRowId + '_fertigkeitnsc'] = skill;
        update['repeating_fertigkeitennsc_' + newRowId + '_fertigkeitswertnsc'] = +value;
    });
    if (waffen.length > 0) {
        for (var i = 0; i < waffen.length; i++) {
            let aWaffen = waffen[i].split("|");
            let name = aWaffen[0];
            let wSkill = aWaffen[1];
            let dmg1 = aWaffen[2].split("W")[0];
            let dmg2 = aWaffen[2].split("W")[1];
            let dmg3 = 0;
            if (dmg2.includes("+")) {
                dmg3 = dmg2.split("+")[1];
                dmg2 = dmg2.split("+")[0];
            } else if (dmg2.includes("-")) {
                dmg3 = "-".concat(dmg2.split("-")[1]);
                dmg2 = dmg2.split("-")[0];
            }
            dmg2 = "d".concat(dmg2);
            ini = aWaffen[4].split("-")[0];
            let wgs = aWaffen[3];
            let merkmale = aWaffen[5];
            newRowId = generateRowID();
            update['repeating_waffennsc_' + newRowId + '_waffennamensc'] = name;
            update['repeating_waffennsc_' + newRowId + '_waffenwertnsc'] = wSkill;
            update['repeating_waffennsc_' + newRowId + '_waffenwgsnsc'] = wgs;
            update['repeating_waffennsc_' + newRowId + '_waffenschaden1nsc'] = dmg1;
            update['repeating_waffennsc_' + newRowId + '_waffenschadenwuerfelnsc'] = dmg2;
            update['repeating_waffennsc_' + newRowId + '_waffenschaden3nsc'] = dmg3;
            update['repeating_waffennsc_' + newRowId + '_waffenininsc'] = ini;
            update['repeating_waffennsc_' + newRowId + '_waffenmerkmalensc'] = merkmale;
        }
        update['initiativensc'] = +ini;
    }
    setAttrs(update);
}

function removeCharacter(sArray, sTerm) {
    nArray = [];
    
    for (var i = 0; i < sArray.length; i++) {
        if (sArray[i].includes(sTerm)) {
            nArray[i] = sArray[i].replaceAll(sTerm, "");
        } else {
            nArray[i] = sArray[i];
        }
    }
    
    return nArray;
}

function getWeapons(waffen, merkmale) {
    let aMerkmale = [];
    let aWeapons = [];
    let temp = "";
    let j = 0;
    
    for (var i = 0; i < waffen.length; i++) {
        if (merkmale.includes(waffen[i])) {
            if (waffen[i + 1].match(/[\d]+-[\d]+W[\d]+/g)) {
                continue;
            }
            if (i < waffen.length - 2) {
                if (waffen[i + 1].match(/^[\d]+$/g)) {
                    aMerkmale.push([i, waffen[i] + " " + waffen[i+1]]);
                    continue;
                }
            }
            aMerkmale.push([i, waffen[i]]);
        }
    }
    
    console.table(aMerkmale);
        
    for (var i = 0; i < 999; i++) {
        if (i < waffen.length) {
            if (i == j) {
                for (var k = i + 1; k < aMerkmale.length; k++) {
                    if ( (aMerkmale[k][0] - aMerkmale[k - 1][0]) > 2) {
                        let newIndex = aMerkmale[k - 1][0] + 1;
                        aWeapons.push(waffen.slice(j, newIndex).join("|"));
                        j = newIndex;
                    }
                }
            }
            
        } else {
            break;
        }
    }
}

function extractSpells(zauber) {
    const magicschools = ["Bann", "Beherrschung", "Bewegung", "Erkenntnis", "Fels", "Feuer", "Heilung", "Illusion", "Kampf", "Licht", "Natur", "Schatten", "Schicksal", "Schutz", "Stärkung", "Tod", "Verwandlung", "Wasser", "Wind"];
    const numerals = [0, 'I', 'II', 'III', 'IV', 'V'];
    const numbers = [0, 1, 2, 3, 4, 5];
    const searchedschools = new Array();
    const foundschools = new Array();
    const result = new Array();
    
    for (var i = 0; i < numerals.length; i++) {
        if (zauber.search(numerals[i] + ":") > -1) {
            /*console.log("Numeral gefunden: " + numerals[i]);
            zauber.replaceAll(numerals[i], numbers[i]);*/
        }
    }
    
    console.log("extracted spells: " + zauber);
    
    for (var i = 0; i < magicschools.length; i++) {
        let school = magicschools[i];
        let index = zauber.search(school);
        if (index > -1) {
            let nextchar = zauber.charAt(index + school.length + 1);
            if (numerals.includes(nextchar)) {
                searchedschools.push(index);
            }
        }
    }
    
    for (var i = 0; i < searchedschools.length; i++) {
        let index = searchedschools[i];
        if (searchedschools[i+1] != null) {
            let length = searchedschools[i+1] - index;
            let result = zauber.substr(index, length);
            if (result != "") {
                foundschools.push(result);
            }
        } else {
            let result = zauber.substr(index);
            if (result != "") {
                foundschools.push(result);
            }
        }
    }
    
    console.table(foundschools);
    
    return result;
    
    /*for (let i = 0; i < zauber.length; i++) {
      
    }*/
}






//-------------------------------------------------------------------------------------
// orcsAsync
// Compensates for a defect in the underlying Roll20 system, where it "loses context"
// (forgets which player is active) during asynchronous methods and callbacks, 
// resulting in error messages like:
//
//      Error: Trying to do getAttrs when no character is active in sandbox.
//
// Include this script at the top of your character sheet's code setion to have 
// setTimeout() and setInterval() just start working as expected; no additional setup
// required.  Additionally, async-safe versions of the typical attribute functions will 
// be available:
//
//      getAttrsAsync
//      setAttrsAsync
//      getSectionIDsAsync
//      
function isRunningOnServer() { return self.dispatchEvent == undefined; }
function setActiveCharacterId(charId){
    var oldAcid=getActiveCharacterId();
    var msg={"id":"0", "type":"setActiveCharacter", "data":charId};
    
    if(isRunningOnServer()==false){ //if in a browser, use "dispatchEvent" to process the message
        var ev = new CustomEvent("message");
        ev.data=msg; 
        self.dispatchEvent(ev);
    }else{ //otherwise, use the API (server) message processor, "onmessage"
        self.onmessage({data:msg});
    }
    return oldAcid; //return what the value used to be, so calling code can be a little cleaner 
} 
var _sIn=setInterval;
setInterval=function(callback, timeout){
    var acid=getActiveCharacterId();
    _sIn(
        function(){
            var prevAcid=setActiveCharacterId(acid);
            callback();
            setActiveCharacterId(prevAcid);
        }
    ,timeout);
}
var _sto=setTimeout
setTimeout=function(callback, timeout){
    var acid=getActiveCharacterId();
    _sto(
        function(){
            var prevAcid=setActiveCharacterId(acid);
            callback();
            setActiveCharacterId(prevAcid);
        }
    ,timeout);
}
function getAttrsAsync(props){
    var acid=getActiveCharacterId(); //save the current activeCharacterID in case it has changed when the promise runs 
    var prevAcid=null;               //local variable defined here, because it needs to be shared across the promise callbacks defined below
    return new Promise((resolve,reject)=>{
            prevAcid=setActiveCharacterId(acid);  //in case the activeCharacterId has changed, restore it to what we were expecting and save the current value to restore later
            try{
                getAttrs(props,(values)=>{  resolve(values); }); 
            }
            catch{ reject(); }
    }).finally(()=>{
        setActiveCharacterId(prevAcid); //restore activeCharcterId to what it was when the promise first ran
    });
}
//use the same pattern for each of the following...
function setAttrsAsync(propObj, options){
    var acid=getActiveCharacterId(); 
    var prevAcid=null;               
    return new Promise((resolve,reject)=>{
            prevAcid=setActiveCharacterId(acid);  
            try{
                setAttrs(propObj,options,(values)=>{ resolve(values); });
            }
            catch{ reject(); }
    }).finally(()=>{
        setActiveCharacterId(prevAcid); 
    });
}

function getSectionIDsAsync(sectionName){
    var acid = getActiveCharacterId(); 
    var prevAcid=null;               
    return new Promise((resolve,reject)=>{
            prevAcid = setActiveCharacterId(acid);  
            try{
                getSectionIDs(sectionName,(values)=>{ resolve(values); });
            }
            catch{ reject(); }
    }).finally(()=>{
        setActiveCharacterId(prevAcid); 
    });
}

</script>


<div class="compendium-drop-target bestiary">
  <input name="attr_comp_Name" accept="Name" type="text" hidden/>
  <input name="attr_comp_data" accept="data" type="text" hidden/>





  <!-- start of the PC sheet _______________________________________________________________________ -->
  <!-- sheet background color and logo switcher -->

  <input type="checkbox" name="attr_sheet_select" value="PC" class="hider hidden" checked />
  <div>
    <input name="attr_faction" type="radio" value="1" class="background_switch_1" display=none hidden checked />
    <input name="attr_faction" type="radio" value="2" class="background_switch_2" display=none hidden />
    <input name="attr_faction" type="radio" value="6" class="background_switch_6" display=none hidden />
    <input name="attr_faction" type="radio" value="7" class="background_switch_7" display=none hidden />
    <input name="attr_faction" type="radio" value="3" class="background_switch_3" display=none hidden />
    <input name="attr_faction" type="radio" value="5" class="background_switch_5" display=none hidden />
    <input name="attr_faction" type="radio" value="4" class="background_switch_4" display=none hidden />
    <input name="attr_faction" type="radio" value="8" class="background_switch_8" display=none hidden />
    <input name="attr_faction" type="radio" value="9" class="background_switch_9" display=none hidden />

    <input name="attr_color_override" type="radio" value="0" class="" display=none hidden checked />
    <input name="attr_color_override" type="radio" value="1" class="background_override_switch_1" display=none hidden />
    <input name="attr_color_override" type="radio" value="2" class="background_override_switch_2" display=none hidden />
    <input name="attr_color_override" type="radio" value="3" class="background_override_switch_3" display=none hidden />
    <input name="attr_color_override" type="radio" value="4" class="background_override_switch_4" display=none hidden />
    <input name="attr_color_override" type="radio" value="5" class="background_override_switch_5" display=none hidden />
    <input name="attr_color_override" type="radio" value="6" class="background_override_switch_6" display=none hidden />
    <input name="attr_color_override" type="radio" value="7" class="background_override_switch_7" display=none hidden />
    <input name="attr_color_override" type="radio" value="8" class="background_override_switch_8" display=none hidden />
    <input name="attr_color_override" type="radio" value="9" class="background_override_switch_9" display=none hidden />
    <input name="attr_color_override" type="radio" value="10" class="background_override_switch_10" display=none hidden />
    <input name="attr_color_override" type="radio" value="11" class="background_override_switch_11" display=none hidden />
    <input name="attr_color_override" type="radio" value="12" class="background_override_switch_12" display=none hidden />
    <input name="attr_color_override" type="radio" value="13" class="background_override_switch_13" display=none hidden />
    <input name="attr_color_override" type="radio" value="14" class="background_override_switch_14" display=none hidden />
    <input name="attr_color_override" type="radio" value="15" class="background_override_switch_15" display=none hidden />
    <input name="attr_color_override" type="radio" value="16" class="background_override_switch_16" display=none hidden />
    <input name="attr_color_override" type="radio" value="17" class="background_override_switch_17" display=none hidden />
    <div class="background radius_border_heading">



      <!-- character information grid ______________________________________________________________ -->

      <div class="header_logo">

        <!-- first column of grid: left-side fields" labels/names -->
        <div class="gs1"><b>Character Name</b></div>
        <div class="gs2 edge_padding"><b>Faction</b></div>
        <div class="gs3 edge_padding"><b>Soldier Type</b></div>
        <div class="gs4 edge_padding"><b>Rank</b></div>
        <div class="gs5 edge_padding"><b>Build / Size</b></div>
        <div class="gs6 edge_padding"><b>Specialisation</b></div>
        <!-- second column of grid: left-side fields -->
        <input name="attr_character_name" type="text" class="gs7" />
        <select name="attr_faction" class="gs8">
          <option value="1" selected="selected" disabled hidden></option>
          <option value="2">United Nations Space Command</option>
          <option value="6">Office of Naval Intelligence</option>
          <option value="7">Insurrection / United Rebel Front</option>
          <option value="3">Covenant</option>
          <option value="5">Banished</option>
          <option value="8">Swords of Sangheilios</option>
          <option value="4">Forerunner</option>
          <option value="9">Other</option>
        </select>
        <input name="attr_soldier_type" type="text" class="gs9" />
        <input name="attr_rank" type="text" class="gs10" />
        <input name="attr_size" type="text" class="gs11" placeholder="Size/Height/Weight" />
        <input name="attr_specialisation" type="text" class="gs12" />
        <!-- third column of grid: header logo -->
        <div class="gs13">
          <input name="attr_faction" type="checkbox" value="1" class="hidden hider" checked />
          <div><img style="	padding-top: 55px;" name="logo" src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/mythic_logo.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="2" class="hidden hider" />
          <div><img style="	padding-top: 10px;" name="logo" src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/faction_logo_UNSC.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="3" class="hidden hider" />
          <div><img style="	padding-top: 33px;" name="logo" src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/faction_logo_Covenant_coloured.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="4" class="hidden hider" />
          <div><img style="	padding-top: 33px;" name="logo" src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/faction_logo_Forerunner.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="5" class="hidden hider" />
          <div><img style="	padding-top: 33px;" name="logo"  src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/faction_Logo_Banished.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="6" class="hidden hider" />
          <div><img style="	padding-top: 33px;" name="logo"  src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/faction_logo_ONI.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="7" class="hidden hider" />
          <div><img style="	padding-top: 33px;" name="logo"  src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/faction_logo_URF_.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="8" class="hidden hider" />
          <div><img style="	padding-top: 2px;" name="logo"  src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/faction_Logo_SOS.png?raw=true" height="130" width="130" /></div>
          <input name="attr_faction" type="checkbox" value="9" class="hidden hider" />
          <div><img style="	padding-top: 55px;" name="logo"  src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Logos/mythic_logo.png?raw=true" height="130" width="130" /></div>
        </div>

        <!-- fourth column of grid: right-side fields -->
        <input name="attr_player_name" type="text" class="gs14" />
        <input name="attr_sex" type="text" class="gs15" />
        <input name="attr_race" type="text" class="gs16" />
        <input name="attr_upbringing" type="text" class="gs17" />
        <input name="attr_environment" type="text" class="gs18" />
        <input name="attr_lifestyle" type="text" class="gs19" />
        <!-- fifth column of grid: right-side fields" labels/names -->
        <div class="gs20 edge_padding"><b>Player Name</b></div>
        <div class="gs21 edge_padding"><b>Gender</b></div>
        <div class="gs22 edge_padding"><b>Race</b></div>
        <div class="gs23 edge_padding"><b>Upbringing</b></div>
        <div class="gs24 edge_padding"><b>Environment</b></div>
        <div class="gs25 edge_padding"><b>Lifestyle</b></div>

      </div>
      <br>



      <!-- characteristics grid ____________________________________________________________________ -->

      <div class="characteristics_background edge_padding">

        <button name="STR" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Strength}} {{roll=[[@{settings_rounding}([[@{STR} + @{STR_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">STR |<input name="attr_STR_total" value="@{STR} + @{STR_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="TOU" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Toughness}} {{roll=[[@{settings_rounding}([[@{TOU} + @{TOU_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">TOU |<input name="attr_TOU_total" value="@{TOU} + @{TOU_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="AGI" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Agility}} {{roll=[[@{settings_rounding}([[@{AGI} + @{AGI_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">AGI |<input name="attr_AGI_total" value="@{AGI} + @{AGI_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="WFR" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Warfare Ranged}} {{roll=[[@{settings_rounding}([[@{WFR} + @{WFR_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">WFR |<input name="attr_WFR_total" value="@{WFR} + @{WFR_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="WFM" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Warfare Melee}} {{roll=[[@{settings_rounding}([[@{WFM} + @{WFM_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">WFM |<input name="attr_WFM_total" value="@{WFM} + @{WFM_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="INT" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Intelligence}} {{roll=[[@{settings_rounding}([[@{INT} + @{INT_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">INT |<input name="attr_INT_total" value="@{INT} + @{INT_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="PER" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Perception}} {{roll=[[@{settings_rounding}([[@{PER} + @{PER_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">PER |<input name="attr_PER_total" value="@{PER} + @{PER_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="CRG" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Courage}} {{roll=[[@{settings_rounding}([[@{CRG} + @{CRG_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">CRG |<input name="attr_CRG_total" value="@{CRG} + @{CRG_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="CHA" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Charisma}} {{roll=[[@{settings_rounding}([[@{CHA} + @{CHA_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">CHA |<input name="attr_CHA_total" value="@{CHA} + @{CHA_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <button name="LDR" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Leadership}} {{roll=[[@{settings_rounding}([[@{LDR} + @{LDR_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">LDR |<input name="attr_LDR_total" value="@{LDR} + @{LDR_advancement}+@{fatigue_mod}" class="input_background input_char_background" disabled /></button>
        <input name="attr_STR" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_TOU" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_AGI" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_WFR" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_WFM" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_INT" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_PER" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_CRG" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_CHA" type="text" value="0" class="characteristics_input full_width" />
        <input name="attr_LDR" type="text" value="0" class="characteristics_input full_width" />
        <select name="attr_STR_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_TOU_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_AGI_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_WFR_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_WFM_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_INT_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_PER_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_CRG_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_CHA_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>
        <select name="attr_LDR_advancement" class="full_width">
          <option value="0" selected="selected">N/A +0</option>
          <option value="5">S +5</option>
          <option value="10">R +10</option>
          <option value="15">I +15</option>
          <option value="20">T +20</option>
          <option value="25">M +25</option>
        </select>

      </div>
      <br>
      <input name="attr_fatigue_mod" type="text" value="0" class="characteristics_input full_width" hidden/>


      <!-- mythic characteristics, movement and pushing grid _______________________________________ -->

      <div class="characteristics_mythic_movement_carry">

        <div>
          <p class="characteristics_mythic_movement_carry_header"><b>Mythic</b></p>
          <div class="mythic_grid">
            <input name="attr_STR_mythic" type="text" value="0" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_TOU_mythic" type="text" value="0" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_AGI_mythic" type="text" value="0" class="characteristics_mythic_movement_carry_input" />
          </div>
          <div class="mythic_grid">
            <p class="characteristics_mythic_movement_carry_text">STR</p>
            <p class="characteristics_mythic_movement_carry_text">TOU</p>
            <p class="characteristics_mythic_movement_carry_text">AGI</p>
          </div>
        </div>

        <div>
          <p class="characteristics_mythic_movement_carry_header"><b>Character Movement</b></p>
          <div class="move_grid">
            <input name="attr_half_move" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_full_move" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_charge_move" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_run_move" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_blur_move" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_jump_move" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_leap_move" type="text" class="characteristics_mythic_movement_carry_input" />
          </div>
          <div class="move_grid">
            <p class="characteristics_mythic_movement_carry_text">Half</p>
            <p class="characteristics_mythic_movement_carry_text">Full</p>
            <p class="characteristics_mythic_movement_carry_text">Charge</p>
            <p class="characteristics_mythic_movement_carry_text">Run</p>
            <p class="characteristics_mythic_movement_carry_text">Blur</p>
            <p class="characteristics_mythic_movement_carry_text">Jump</p>
            <p class="characteristics_mythic_movement_carry_text">Leap</p>
          </div>
        </div>

        <div>
          <p class="characteristics_mythic_movement_carry_header"><b>Sight</b></p>
          <div class="sight_grid">
            <input name="attr_perceptive_range" type="text" class="characteristics_mythic_movement_carry_input" />
          </div>
          <div class="sight_grid">
            <p class="characteristics_mythic_movement_carry_text">Perceptive</p>
          </div>
        </div>

        <div>
          <p class="characteristics_mythic_movement_carry_header"><b>Weight</b></p>
          <div class="carry_grid">
            <input name="attr_carry" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_lift" type="text" class="characteristics_mythic_movement_carry_input" />
            <input name="attr_push" type="text" class="characteristics_mythic_movement_carry_input" />
          </div>
          <div class="carry_grid">
            <p class="characteristics_mythic_movement_carry_text">Carry</p>
            <p class="characteristics_mythic_movement_carry_text">Lift</p>
            <p class="characteristics_mythic_movement_carry_text">Push</p>
          </div>
        </div>

      </div>
      <hr>



      <!-- initiative plus sheet tabs grid _________________________________________________________ -->


      <div class="tabs_main">

        <div class="initiative_container">
          <button name="initiative" type="roll" class="clear bttn_top_padding"
          value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{initiative=@{initmod0}(@{initmod1}+@{initmod2}+@{initmod3}+[[((((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) + @{AGI_mythic}) - abs((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) - @{AGI_mythic})) / 2)]])&{tracker}]]}}">
          Initiative|<input name="attr_init_total" value="floor(@{initmod2}+@{initmod3}+ ((((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) + @{AGI_mythic}) - abs((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) - @{AGI_mythic})) / 2) )" class="input_background input_init_background" disabled /></button>
          <select name="attr_initmod1" class="init_field">
            <option value="1d10" selected="selected">Standard</option>
            <option value="2d10k1">Fast Foot</option>
            <option value="?{dice|1d10}">Custom</option>
          </select>
          <p class="init_plus">+</p>
          <input class="full_width" name="attr_initmod2" type="text" value="0" />
          <p class="init_plus">+</p>
          <select name="attr_initmod3" class="init_field">
            <option value="[[(@{AGI}+@{AGI_advancement} + @{fatigue_mod})/10]]" selected="selected">Agility</option>
            <option value="[[(@{INT}+@{INT_advancement} + @{fatigue_mod})/10]]">Intellect</option>
            <option value="0">N/A</option>
          </select>
        </div>
        <div class="sheet_tabs">
          <input name="attr_sheet_tab" type="checkbox" value="core" class="hidden core_bttn" checked />
          <button name="act_core" type="action" class="bold_text">Core</button>
          <input name="attr_sheet_tab" type="checkbox" value="equipment" class="hidden core_bttn" />
          <button name="act_equipment" type="action" class="bold_text">Equipment</button>
          <input name="attr_sheet_tab" type="checkbox" value="medical" class="hidden core_bttn" />
          <button name="act_medical" type="action" class="bold_text">Medical</button>
          <input name="attr_sheet_tab" type="checkbox" value="advancements" class="hidden core_bttn" />
          <button name="act_advancements" type="action" class="bold_text">Advancements</button>
          <input name="attr_sheet_tab" type="checkbox" value="journal" class="hidden core_bttn" />
          <button name="act_journal" type="action" class="bold_text">Journal</button>
          <input name="attr_sheet_tab" type="checkbox" value="vehicles" class="hidden core_bttn" />
          <button name="act_vehicles" type="action" class="bold_text">Vehicles</button>
          <input name="attr_sheet_tab" type="checkbox" value="settings" class="hidden core_bttn" />
          <button name="act_settings" type="action" class="huge_text">⚙</button>
        </div>

      </div>
      <hr>



      <!-- whisper buttons plus infographic section ________________________________________________ -->

      <div class="infographic_main">

        <div class="infographic_toggles">
          <!-- Whisper button -->
          <label><input type="checkbox" name="attr_to-gm" value="/w gm" class="select_button hidden" /><span class="select_text">To GM</span></label>
          <!-- Inline mod button -->
          <label><input type="checkbox" name="attr_inlinemod-toggle" value="?{Modifier|0}" class="select_button hidden" checked/><span class="select_text">Inline Mod</span></label>
          <!-- Sheet toggle -->
          <select name="attr_sheet_select" class="full_width infographic_select">
            <option value="PC" selected="selected">PC sheet</option>
            <option value="NPC">NPC sheet</option>
            <option value="GM">GM sheet</option>
          </select>

          <!-- autodamage roller -->
          <button class="clear infographic_buttons" type="roll" name="autodamage" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{avrdam= [[([[(?{Amount of hits|1}*?{Amount of D10s|0})d10]]+[[?{Amount of hits|1}*?{Base|0}]]-[[?{Amount of hits|1} * (?{Armor|Target chest, @{target|damage_resistance_chest}|Target head,  @{target|damage_resistance_head}|Target legs,  @{target|damage_resistance_legs}|Target arms,  @{target|damage_resistance_arms}|Custom,  ?{Custom Armor&amp;#124;0&amp;#125;}- ?{Pierce|0})d1]])d1[roll, base, armor-pierce] ]]}}">Auto-Damage</button>
          <!-- multiroll roller -->
          <button class="clear infographic_buttons" type="roll" name="multiroll" value="
          @{to-gm}&{template:mythic} {{character= @{character_name}}}{{nrofrolls= [[?{How many rolls?|1}]]}}{{multiroll0=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*0]]-1d100)/10)]]}}{{multiroll1=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*1]]-1d100)/10)]]}}{{multiroll2=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*2]]-1d100)/10)]]}}{{multiroll3=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*3]]-1d100)/10)]]}}{{multiroll4=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*4]]-1d100)/10)]]}}{{multiroll5=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*5]]-1d100)/10)]]}}{{multiroll6=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*6]]-1d100)/10)]]}}{{multiroll7=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*7]]-1d100)/10)]]}}{{multiroll8=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*8]]-1d100)/10)]]}}{{multiroll9=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*9]]-1d100)/10)]]}}{{multiroll10=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*10]]-1d100)/10)]]}}{{multiroll11=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*11]]-1d100)/10)]]}}{{multiroll12=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*12]]-1d100)/10)]]}}{{multiroll13=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*13]]-1d100)/10)]]}}{{multiroll14=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*14]]-1d100)/10)]]}}{{multiroll15=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*15]]-1d100)/10)]]}}{{multiroll16=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*16]]-1d100)/10)]]}}{{multiroll17=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*17]]-1d100)/10)]]}}{{multiroll18=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*18]]-1d100)/10)]]}}{{multiroll19=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*19]]-1d100)/10)]]}}{{multiroll20=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*20]]-1d100)/10)]]}}{{multiroll21=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*21]]-1d100)/10)]]}}{{multiroll22=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*22]]-1d100)/10)]]}}{{multiroll23=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*23]]-1d100)/10)]]}}{{multiroll24=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*24]]-1d100)/10)]]}}{{multiroll25=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*25]]-1d100)/10)]]}}
          ">Multi-Roll</button>
          <!-- throwing roller -->
          <button class="clear infographic_buttons" type="roll" name="Throwing" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{throwmod= [[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]}} {{throwmod12=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.1)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod34=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.2)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod56=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.3)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod79=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.5)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1012=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/2)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1318=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/5)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1925=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/10)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{Item weight= [[?{Item weight|0}]]}}" >Throwing</button>
          <!-- scatter roller -->
          <button class="clear infographic_buttons" type="roll" name="scatter" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{scatter-range= [[[[(abs(?{Degrees of Failure|0})+floor(?{range from target|0}/100))*?{Target at|Normal range,1|Max range,2|Extreme range,4})]]d10*?{Scatter type|Weapon or ordnance,1|Thrown,0.5}]]}} {{scatter-direction=[[1d10]]d1}}" >Scatter</button>
          <!-- tokenmod roller -->
          <button class="clear infographic_buttons" type="roll" name="tokenmod" value='!token-mod --set tooltip|"@{Tokenmod_settings}" --on show_tooltip @{Tokenmod_custom}'>Tokenmod</button>
        </div>

        <!-- infographic wounds/ fatigue/ etc. -->
        <div class="infographic_grid">

          <div class="border_full">
            <button name="wounds_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Wounds}} {{2x2-name=Current}} {{2x2=@{wounds}}} {{2x2-name-max=Max}} {{2x2-max=@{wounds|max}}}">Wounds</button>
            <div class="infographic_field_2x">
              <p class="infographic_text">Current</p>
              <input class="full_width" type="text" name="attr_wounds" value="0" />
              <p class="infographic_text">Max</p>
              <input class="full_width infographic_last_element" type="text" name="attr_wounds_max" value="0" />
            </div>
          </div>

          <div class="border_full">
            <button name="fatigue_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Fatigue}} {{2x2-name=Current}} {{2x2=@{fatigue}}} {{2x2-name-max=Max}} {{2x2-max=@{fatigue|max}}}">Fatigue</button>
            <div class="infographic_field_2x">
              <p class="infographic_text">Current</p>
              <input class="full_width" type="text" name="attr_fatigue" value="0" />
              <p class="infographic_text">Max</p>
              <input class="full_width infographic_last_element" type="text" name="attr_fatigue_max" value="0" />
            </div>
          </div>

          <div class="border_full">
            <button name="luck_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Luck}} {{2x2-name=Current}} {{2x2=@{luck}}} {{2x2-name-max=Max}} {{2x2-max=@{luck|max}}}">Luck</button>
            <div class="infographic_field_2x">
              <p class="infographic_text">Current</p>
              <input class="full_width" type="text" name="attr_luck" value="0" />
              <p class="infographic_text">Max</p>
              <input class="full_width infographic_last_element" type="text" name="attr_luck_max" value="0" />
            </div>
          </div>

          <div class="border_full">
            <button name="support_roll" type="roll" class="infographic_header_text clear"
            value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=SP}} {{2x2-name=Current}} {{2x2=@{support}}} {{2x2-name-max=Max}} {{2x2-max=@{support|max}}}">S Pts</button>
            <div class="infographic_field_2x">
              <p class="infographic_text">Current</p>
              <input class="full_width" type="text" name="attr_support" value="0" />
              <p class="infographic_text">Max</p>
              <input class="full_width infographic_last_element" type="text" name="attr_support_max" value="0" />
            </div>
          </div>

          <div class="border_full">
            <button class="infographic_header_text clear" name="damage_resistance_roll" type="roll"  value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Damage Resistance}} {{4x2-1-name=Head}} {{4x2-1=@{damage_resistance_head}}} {{4x2-1-name-max=Arms}} {{4x2-1-max=@{damage_resistance_arms}}} {{4x2-2-name=Chest}} {{4x2-2=@{damage_resistance_chest}}} {{4x2-2-name-max=Legs}} {{4x2-2-max=@{damage_resistance_legs}}}">Damage Resistance</button>
            <div class="infographic_grid_4x">
              <p class="infographic_text">Head</p>
              <input class="full_width" type="text" name="attr_damage_resistance_head" value="0" />
              <p class="infographic_text">Arms</p>
              <input class="full_width" type="text" name="attr_damage_resistance_arms" value="0" />
              <p class="infographic_text">Chest</p>
              <input class="full_width" type="text" name="attr_damage_resistance_chest" value="0" />
              <p class="infographic_text">Legs</p>
              <input class="full_width infographic_last_element" type="text" name="attr_damage_resistance_legs" value="0" />
            </div>
          </div>

          <div class="border_full">
            <button name="shield_roll" type="roll" class="infographic_header_text clear"
            value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Shields}} {{4x2-1-name=Current}} {{4x2-1=@{shields}}} {{4x2-1-name-max=Max}} {{4x2-1-max=@{shields|max}}} {{4x2-2-name=Charge}} {{4x2-2=@{shields_charge}}} {{4x2-2-name-max=Delay}} {{4x2-2-max=@{shields_delay}}}">Shields</button>
            <div class="infographic_grid_4x">
              <p class="infographic_text">Current</p>
              <input class="full_width" type="text" name="attr_shields" value="0" />
              <p class="infographic_text">Max</p>
              <input class="full_width" type="text" name="attr_shields_max" value="0" />
              <p class="infographic_text">Delay</p>
              <input class="full_width" type="text" name="attr_shields_delay" value="0" />
              <p class="infographic_text">Charge</p>
              <input class="infographic_last_element full_width" type="text" name="attr_shields_charge" value="0" />
            </div>
          </div>

        </div>

        <!-- infographic armor display -->
        <fieldset name="repeating_armor" class="repeating_armor">
          <div class="armorgrid">

            <div class="border_full">
              <div class="infographic_header_grid_checkbox">
                <label class="infographic_header_checkmark"><input type="checkbox" checked name="attr_armor_worn" value="1" class="select_button hidden"/><span class="infographic_header_checkmark select_text">Worn</span></label>
                <button class="infographic_header_text clear" name="armor_roll" type="roll"  value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Armor}} {{4x2-1-name=Head}} {{4x2-1=@{armor_head}}} {{4x2-1-name-max=Arms}} {{4x2-1-max=@{armor_arms}}} {{4x2-2-name=Chest}} {{4x2-2=@{armor_chest}}} {{4x2-2-name-max=Legs}} {{4x2-2-max=@{armor_legs}}}">Armor</button>
              </div>

              <div class="infographic_grid_4x">
                <p class="infographic_text">Head</p>
                <input class="full_width" type="text" name="attr_armor_head" value="0" />
                <p class="infographic_text">Arms</p>
                <input class="full_width" type="text" name="attr_armor_arms" value="0" />
                <p class="infographic_text">Chest</p>
                <input class="full_width" type="text" name="attr_armor_chest" value="0" />
                <p class="infographic_text">Legs</p>
                <input class="full_width infographic_last_element" type="text" name="attr_armor_legs" value="0" />
              </div>
            </div>

            <div class="border_full">
              <button name="shield_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Shields}} {{4x2-1-name=Current}} {{4x2-1=@{shields}}} {{4x2-1-name-max=Max}} {{4x2-1-max=@{shields|max}}} {{4x2-2-name=Charge}} {{4x2-2=@{shields_charge}}} {{4x2-2-name-max=Delay}} {{4x2-2-max=@{shields_delay}}}">Shields</button>

              <div class="infographic_grid_4x">
                <p class="infographic_text">Current</p>
                <input class="full_width" type="text" name="attr_shields" value="0" />
                <p class="infographic_text">Max</p>
                <input class="full_width" type="text" name="attr_shields_max" value="0" />
                <p class="infographic_text">Delay</p>
                <input class="full_width" type="text" name="attr_shields_delay" value="0" />
                <p class="infographic_text">Charge</p>
                <input class="infographic_last_element full_width" type="text" name="attr_shields_charge" value="0" />
              </div>
            </div>

            <div class="armorgrid_description_container"><textarea class="armorgrid_description" name="attr_description" placeholder="Armor special rules, Damage, Exteriour features, etc."></textarea></div>

          </div>
        </fieldset>

      </div>
      <br>
    </div>




    <!--  sheet tabs _______________________________________________________________________________ -->
    <!--  start of tab Core ________________________________________________________________________ -->

    <input name="attr_sheet_tab" type="checkbox"  value="core" class="hider hidden" checked/>
    <div class="box whitetext">
      <div class="core_lists">

        <!-- skills list -->
        <div class="core_lists1 table border_full">
          <h3><b>Skillset</b></h3>
          <div class="skill_header">
            <p class="bold_text">Name</p>
            <p class="bold_text skill_header_text"></p>
            <p class="bold_text skill_header_text">Char</p>
            <p class="bold_text skill_header_text">Mod</p>
            <p class="bold_text skill_header_text">T</p>
            <p class="bold_text skill_header_text">+10</p>
            <p class="bold_text skill_header_text">+20</p>
            <p class="bold_text skill_header_text">Roll</p>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Appeal</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_appeal" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" selected="selected">CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_appeal" type="text" value="0" class="full_width"/>
            <input name="attr_mod3_appeal" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_appeal" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_appeal" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="appeal_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Appeal}} {{roll=[[@{settings_rounding}([[@{mod1_appeal}]]+@{mod2_appeal}+[[@{mod3_appeal} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_appeal_total" value="@{mod1_appeal}+@{mod2_appeal}+@{mod3_appeal}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Athletics</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_athletics" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" selected="selected">STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_athletics" type="text" value="0" class="full_width" />
            <input name="attr_mod3_athletics" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_athletics" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_athletics" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="athletics_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Athletics}} {{roll=[[@{settings_rounding}([[@{mod1_athletics}]]+@{mod2_athletics}+[[@{mod3_athletics} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_athletics_total" value="@{mod1_athletics}+@{mod2_athletics}+@{mod3_athletics}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Camouflage</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_camouflage" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" selected="selected">PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_camouflage" type="text" value="0" class="full_width" />
            <input name="attr_mod3_camouflage" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_camouflage" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_camouflage" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="camouflage_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Camouflage}} {{roll=[[@{settings_rounding}([[@{mod1_camouflage}]]+@{mod2_camouflage}+[[@{mod3_camouflage} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_camouflage_total" value="@{mod1_camouflage}+@{mod2_camouflage}+@{mod3_camouflage}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Command</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_command" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" selected="selected">LDR</option>
            </select>
            <input name="attr_mod2_command" type="text" value="0" class="full_width" />
            <input name="attr_mod3_command" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_command" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_command" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="command_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Command}} {{roll=[[@{settings_rounding}([[@{mod1_command}]]+@{mod2_command}+[[@{mod3_command} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_command_total" value="@{mod1_command}+@{mod2_command}+@{mod3_command}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Cryptography</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_cryptography" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_cryptography" type="text" value="0" class="full_width" />
            <input name="attr_mod3_cryptography" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_cryptography" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_cryptography" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="cryptography_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Cryptography}} {{roll=[[@{settings_rounding}([[@{mod1_cryptography}]]+@{mod2_cryptography}+[[@{mod3_cryptography} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_cryptography_total" value="@{mod1_cryptography}+@{mod2_cryptography}+@{mod3_cryptography}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Deception</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_deception" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" selected="selected">CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_deception" type="text" value="0" class="full_width" />
            <input name="attr_mod3_deception" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_deception" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_deception" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="deception_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Deception}} {{roll=[[@{settings_rounding}([[@{mod1_deception}]]+@{mod2_deception}+[[@{mod3_deception} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_deception_total" value="@{mod1_deception}+@{mod2_deception}+@{mod3_deception}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Demolition</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_demolition" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_demolition" type="text" value="0" class="full_width" />
            <input name="attr_mod3_demolition" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_demolition" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_demolition" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="demolition_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Demolition}} {{roll=[[@{settings_rounding}([[@{mod1_demolition}]]+@{mod2_demolition}+[[@{mod3_demolition} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_demolition_total" value="@{mod1_demolition}+@{mod2_demolition}+@{mod3_demolition}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Evasion</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_evasion" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" selected="selected">AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_evasion" type="text" value="0" class="full_width" />
            <input name="attr_mod3_evasion" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_evasion" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_evasion" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="evasion_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Evasion}} {{roll=[[@{settings_rounding}([[@{mod1_evasion}]]+@{mod2_evasion}+[[@{mod3_evasion} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_evasion_total" value="@{mod1_evasion}+@{mod2_evasion}+@{mod3_evasion}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Gambling</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_gambling" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" selected="selected">CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_gambling" type="text" value="0" class="full_width" />
            <input name="attr_mod3_gambling" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_gambling" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_gambling" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="gambling_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Gambling}} {{roll=[[@{settings_rounding}([[@{mod1_gambling}]]+@{mod2_gambling}+[[@{mod3_gambling} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_gambling_total" value="@{mod1_gambling}+@{mod2_gambling}+@{mod3_gambling}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Interrogation</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_interrogation" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" selected="selected">LDR</option>
            </select>
            <input name="attr_mod2_interrogation" type="text" value="0" class="full_width" />
            <input name="attr_mod3_interrogation" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_interrogation" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_interrogation" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="interrogation_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Interrogation}} {{roll=[[@{settings_rounding}([[@{mod1_interrogation}]]+@{mod2_interrogation}+[[@{mod3_interrogation} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_interrogation_total" value="@{mod1_interrogation}+@{mod2_interrogation}+@{mod3_interrogation}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Intimidation</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_intimidation" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" selected="selected">LDR</option>
            </select>
            <input name="attr_mod2_intimidation" type="text" value="0" class="full_width" />
            <input name="attr_mod3_intimidation" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_intimidation" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_intimidation" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="intimidation_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Intimidation}} {{roll=[[@{settings_rounding}([[@{mod1_intimidation}]]+@{mod2_intimidation}+[[@{mod3_intimidation} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_intimidation_total" value="@{mod1_intimidation}+@{mod2_intimidation}+@{mod3_intimidation}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Investigation</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_investigation" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" selected="selected">PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_investigation" type="text" value="0" class="full_width" />
            <input name="attr_mod3_investigation" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_investigation" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_investigation" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="investigation_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Investigation}} {{roll=[[@{settings_rounding}([[@{mod1_investigation}]]+@{mod2_investigation}+[[@{mod3_investigation} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_investigation_total" value="@{mod1_investigation}+@{mod2_investigation}+@{mod3_investigation}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Med Human</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_medication_human" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_medication_human" type="text" value="0" class="full_width" />
            <input name="attr_mod3_medication_human" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_medication_human" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_medication_human" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="medication_human_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Medication Human}} {{roll=[[@{settings_rounding}([[@{mod1_medication_human}]]+@{mod2_medication_human}+[[@{mod3_medication_human} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_medication_human_total" value="@{mod1_medication_human}+@{mod2_medication_human}+@{mod3_medication_human}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Med Covenant</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_medication_covenant" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_medication_covenant" type="text" value="0" class="full_width" />
            <input name="attr_mod3_medication_covenant" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_medication_covenant" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_medication_covenant" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="medication_covenant_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Medication Covenant}} {{roll=[[@{settings_rounding}([[@{mod1_medication_covenant}]]+@{mod2_medication_covenant}+[[@{mod3_medication_covenant} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_medication_covenant_total" value="@{mod1_medication_covenant}+@{mod2_medication_covenant}+@{mod3_medication_covenant}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Med Xeno</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_medication_xenobiology" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_medication_xenobiology" type="text" value="0" class="full_width" />
            <input name="attr_mod3_medication_xenobiology" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_medication_xenobiology" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_medication_xenobiology" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="medication_xenobiology_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Medication Xenobiology}} {{roll=[[@{settings_rounding}([[@{mod1_medication_xenobiology}]]+@{mod2_medication_xenobiology}+[[@{mod3_medication_xenobiology} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_medication_xenobiology_total" value="@{mod1_medication_xenobiology}+@{mod2_medication_xenobiology}+@{mod3_medication_xenobiology}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Nav Land-Air</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_nav_land_air" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" selected="selected">PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_nav_land_air" type="text" value="0" class="full_width" />
            <input name="attr_mod3_nav_land_air" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_nav_land_air" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_nav_land_air" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="nav_land_air_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=nav_land_air}} {{roll=[[@{settings_rounding}([[@{mod1_nav_land_air}]]+@{mod2_nav_land_air}+[[@{mod3_nav_land_air} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_nav_land_air_total" value="@{mod1_nav_land_air}+@{mod2_nav_land_air}+@{mod3_nav_land_air}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Nav Space</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_nav_space" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" selected="selected">PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_nav_space" type="text" value="0" class="full_width" />
            <input name="attr_mod3_nav_space" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_nav_space" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_nav_space" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="nav_space_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=nav_space}} {{roll=[[@{settings_rounding}([[@{mod1_nav_space}]]+@{mod2_nav_space}+[[@{mod3_nav_space} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_nav_space_total" value="@{mod1_nav_space}+@{mod2_nav_space}+@{mod3_nav_space}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Negotiation</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_negotiation" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" selected="selected">LDR</option>
            </select>
            <input name="attr_mod2_negotiation" type="text" value="0" class="full_width" />
            <input name="attr_mod3_negotiation" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_negotiation" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_negotiation" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="negotiation_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Negotiation}} {{roll=[[@{settings_rounding}([[@{mod1_negotiation}]]+@{mod2_negotiation}+[[@{mod3_negotiation} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_negotiation_total" value="@{mod1_negotiation}+@{mod2_negotiation}+@{mod3_negotiation}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Pilot Air</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_pilot_air" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_pilot_air" type="text" value="0" class="full_width" />
            <input name="attr_mod3_pilot_air" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_pilot_air" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_pilot_air" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="pilot_air_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=pilot_air}} {{roll=[[@{settings_rounding}([[@{mod1_pilot_air}]]+@{mod2_pilot_air}+[[@{mod3_pilot_air} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_pilot_air_total" value="@{mod1_pilot_air}+@{mod2_pilot_air}+@{mod3_pilot_air}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Pilot Land</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_pilot_land" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_pilot_land" type="text" value="0" class="full_width" />
            <input name="attr_mod3_pilot_land" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_pilot_land" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_pilot_land" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="pilot_land_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=pilot_land}} {{roll=[[@{settings_rounding}([[@{mod1_pilot_land}]]+@{mod2_pilot_land}+[[@{mod3_pilot_land} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_pilot_land_total" value="@{mod1_pilot_land}+@{mod2_pilot_land}+@{mod3_pilot_land}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Pilot Space</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_pilot_space" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_pilot_space" type="text" value="0" class="full_width" />
            <input name="attr_mod3_pilot_space" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_pilot_space" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_pilot_space" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="pilot_space_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=pilot_space}} {{roll=[[@{settings_rounding}([[@{mod1_pilot_space}]]+@{mod2_pilot_space}+[[@{mod3_pilot_space} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_pilot_space_total" value="@{mod1_pilot_space}+@{mod2_pilot_space}+@{mod3_pilot_space}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Security</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_security" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_security" type="text" value="0" class="full_width" />
            <input name="attr_mod3_security" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_security" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_security" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="security_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Security}} {{roll=[[@{settings_rounding}([[@{mod1_security}]]+@{mod2_security}+[[@{mod3_security} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_security_total" value="@{mod1_security}+@{mod2_security}+@{mod3_security}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Stunting</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_stunting" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" selected="selected">AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_stunting" type="text" value="0" class="full_width" />
            <input name="attr_mod3_stunting" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_stunting" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_stunting" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="stunting_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Stunting}} {{roll=[[@{settings_rounding}([[@{mod1_stunting}]]+@{mod2_stunting}+[[@{mod3_stunting} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_stunting_total" value="@{mod1_stunting}+@{mod2_stunting}+@{mod3_stunting}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Survival</p>
            <p class="bold_text skills_text"></p>
            <select name="attr_mod1_survival" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" selected="selected">PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_survival" type="text" value="0" class="full_width" />
            <input name="attr_mod3_survival" type="checkbox" value="20" class="skills_item" />
            <input name="attr_mod3_survival" type="checkbox" value="30" class="skills_item" />
            <input name="attr_mod3_survival" type="checkbox" value="40" class="skills_item" />
            <button type="roll" name="survival_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Survival}} {{roll=[[@{settings_rounding}([[@{mod1_survival}]]+@{mod2_survival}+[[@{mod3_survival} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_survival_total" value="@{mod1_survival}+@{mod2_survival}+@{mod3_survival}-20" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Tech Human</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_technology_human" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_technology_human" type="text" value="0" class="full_width" />
            <input name="attr_mod3_technology_human" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_technology_human" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_technology_human" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="technology_human_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Technology Human}} {{roll=[[@{settings_rounding}([[@{mod1_technology_human}]]+@{mod2_technology_human}+[[@{mod3_technology_human} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_technology_human_total" value="@{mod1_technology_human}+@{mod2_technology_human}+@{mod3_technology_human}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Tech Covenant</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_technology_covenant" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_technology_covenant" type="text" value="0" class="full_width" />
            <input name="attr_mod3_technology_covenant" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_technology_covenant" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_technology_covenant" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="technology_covenant_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Technology Covenant}} {{roll=[[@{settings_rounding}([[@{mod1_technology_covenant}]]+@{mod2_technology_covenant}+[[@{mod3_technology_covenant} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_technology_covenant_total" value="@{mod1_technology_covenant}+@{mod2_technology_covenant}+@{mod3_technology_covenant}-40" class="input_background" disabled /></button>
          </div>

          <div class="skill_grid">
            <p class="bold_text skills_text">Tech Forerunner</p>
            <p class="bold_text skills_text skills_diff">Adv.</p>
            <select name="attr_mod1_technology_forerunner" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_mod2_technology_forerunner" type="text" value="0" class="full_width" />
            <input name="attr_mod3_technology_forerunner" type="checkbox" value="40" class="skills_item" />
            <input name="attr_mod3_technology_forerunner" type="checkbox" value="50" class="skills_item" />
            <input name="attr_mod3_technology_forerunner" type="checkbox" value="60" class="skills_item" />
            <button type="roll" name="technology_forerunner_roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Technology Forerunner}} {{roll=[[@{settings_rounding}([[@{mod1_technology_forerunner}]]+@{mod2_technology_forerunner}+[[@{mod3_technology_forerunner} -40]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_technology_forerunner_total" value="@{mod1_technology_forerunner}+@{mod2_technology_forerunner}+@{mod3_technology_forerunner}-40" class="input_background" disabled /></button>
          </div>

          <fieldset name="skills" class="repeating_skills">
            <div class="skill_grid">
              <input name="attr_skill_name" type="text" value="" class="full_width text_left" />
              <select name="attr_skill_mod4" class="full_width full_height">
                <option value="0" ></option>
                <option value="20" >Adv.</option>
              </select>
              <select name="attr_skill_mod1" class="full_width full_height">
                <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}">STR</option>
                <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
                <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
                <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" selected="selected">CHA</option>
                <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
              </select>
              <input name="attr_skill_mod2" type="text" value="0" class="full_width" />
              <input name="attr_skill_mod3" type="checkbox" value="20+@{skill_mod4}" class="skills_item" />
              <input name="attr_skill_mod3" type="checkbox" value="30+@{skill_mod4}" class="skills_item" />
              <input name="attr_skill_mod3" type="checkbox" value="40+@{skill_mod4}" class="skills_item" />
              <button type="roll" name="skill_Roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=@{skill_name} }} {{roll=[[@{settings_rounding}([[@{skill_mod1}]]+@{skill_mod2}+[[@{skill_mod3}-(20+@{skill_mod4})]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_skill_total" value="@{skill_mod1}]]+@{skill_mod2}+[[@{skill_mod3}-(20+@{skill_mod4})" class="input_background" disabled /></button>
            </div>

          </fieldset>
        </div>


        <!-- education list -->
        <div class="core_lists2 table border_full">
          <h3><b>Education</b></h3>
          <div class="education_header">
            <p class="bold_text">Name</p>
            <p class="bold_text">Char</p>
            <p class="bold_text">Mod</p>
            <p class="bold_text">+5</p>
            <p class="bold_text">+10</p>
            <p class="bold_text">Roll</p>
          </div>
          <fieldset name="education" class="repeating_education">
            <div class="education_grid">
              <input name="attr_education_name" type="text" class="full_width text_left" />
              <select name="attr_education_mod1" class=" full_width full_height">
                <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
                <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
                <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" selected="selected">INT</option>
                <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" >CHA</option>
                <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
              </select>
              <input name="attr_education_mod2" type="text" value="0" class="full_width" />
              <div class="education4"><input name="attr_education_mod3" type="checkbox" value="5" class="skills_item " /></div>
              <div class="education5"><input name="attr_education_mod3" type="checkbox" value="10" class="skills_item" /></div>
              <button name="educationoll" type="roll" class="clear"
              value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=@{education_name} }} {{roll=[[@{settings_rounding}([[@{education_mod1}]]+@{education_mod2}+@{education_mod3}+@{inlinemod-toggle}-1d100)/10)]]}}">
              <input name="attr_education_total" value="@{education_mod1}+@{education_mod2}+@{education_mod3}" class="input_background" disabled /></button>
            </div>
          </fieldset>
        </div>

        <!-- language list -->
        <div class="core_lists3 table border_full">
          <h3><b>Languages</b></h3>
          <fieldset name="language" class="repeating_languages">
            <input name="attr_language" type="text" class="full_width text_left" />
          </fieldset>
        </div>

      </div>
      <br>

      <!-- abilities -->
      <div class="border_full">
        <h3 style="text-indent: -50px">Abilities</h3>
        <fieldset name="abilities" class="repeating_abilities">
          <input name="attr_ability" type="text" placeholder="Name" class="full_width_49px" />
          <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text ">▼</span></label>
          <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{ability} }} {{description=@{ability_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
          <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
          <textarea name="attr_ability_desc"></textarea>
        </fieldset>
      </div>

    </div>

    <!-- start of tab Equipment ____________________________________________________________________ -->
    <input name="attr_sheet_tab" type="checkbox"  value="equipment" class="hider hidden" />
    <div class="box whitetext ssc">
      <div class="equipment_divider">

        <!-- ranged weapons -->
        <div class="border_full equipment_ranged_weapons ssc">
          <h3>Ranged Weapons</h3>
          <fieldset name="rangedweapons" class="repeating_rangedweapons">
            <div class="equipment_ranged_weapons_rep">
              <div class="equipment_ranged_weapons_grid1">
                <div class="equipment_ranged_weapons_gs1">Name</div>
                <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                <div class="equipment_ranged_weapons_gs3">Type</div>
                <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                  <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                  <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                  <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                  <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" selected="selected">WFR</option>
                  <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
                  <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                  <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                  <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                  <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                  <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                </select>
              </div>
              <div class="equipment_ranged_weapons_grid2">
                <div class="equipment_ranged_weapons_gs5">Range</div>
                <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                <div class="equipment_ranged_weapons_gs9">Base</div>
                <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                <div class="equipment_ranged_weapons_gs11">Pierce</div>
                <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
              </div>
              <div class="equipment_ranged_weapons_grid3">
                <div class="equipment_ranged_weapons_gs13">Hit Mod</div>
                <input class="equipment_ranged_weapons_gs14 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                <div class="equipment_ranged_weapons_gs15">Magazine</div>
                <input class="equipment_ranged_weapons_gs16 full_width" type="text" value="0" name="attr_weapon_mag" />
                <div class="equipment_ranged_weapons_gs17">/</div>
                <input class="equipment_ranged_weapons_gs18 full_width" type="text" value="0" name="attr_weapon_mag_max" />
                <button class="equipment_ranged_weapons_gs19 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}">Hit</button>
                <button class="equipment_ranged_weapons_gs20 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}">DMG</button>
              </div>
              <div class="equipment_ranged_weapons_grid4">
                <div class="equipment_ranged_weapons_gs21">RoF</div>
                <input class="equipment_ranged_weapons_gs22 full_width" type="text" placeholder="semi 3, Auto 7" name="attr_weapon_rof" />
                <div class="equipment_ranged_weapons_gs23">Reload</div>
                <input class="equipment_ranged_weapons_gs24 full_width" type="text" value="2 half actions" name="attr_weapon_reload" />
              </div>
              <div>
                <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                <div>
                  <div class="equipment_ranged_weapons_grid5">
                    <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                      <option selected="selected" value="0">Normal damage rolling</option>
                      <option value="?{Damage modifier|0}">Query damage mod</option>
                      <option value="?{DOS|0}d10">Simplified combat macro</option>
                    </select>
                    <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                      <option selected="selected" value="0">Normal pierce rolling</option>
                      <option value="?{Pierce modifier|0}">Query pierce mod</option>
                    </select>
                  </div>
                  <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Attachment: Benefit, Type Mount, Restriction, etc."></textarea>
                </div>
              </div>
            </div>
            <br>
          </fieldset>
        </div>

        <!-- melee weapons -->
        <div class="border_full equipment_melee_weapons ssc">
          <h3>Melee Weapons</h3>
          <fieldset name="meleeweapons" class="repeating_meleeweapons">
            <div class="equipment_ranged_weapons_rep">
              <div class="equipment_ranged_weapons_grid1">
                <div class="equipment_ranged_weapons_gs1">Name</div>
                <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                <div class="equipment_ranged_weapons_gs3">Type</div>
                <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                  <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                  <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                  <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                  <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
                  <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" selected="selected">WFM</option>
                  <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                  <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                  <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                  <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                  <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                </select>
              </div>
              <div class="equipment_ranged_weapons_grid2">
                <div class="equipment_ranged_weapons_gs5">Reach</div>
                <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                <div class="equipment_ranged_weapons_gs9">Base</div>
                <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                <div class="equipment_ranged_weapons_gs11">Pierce</div>
                <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
              </div>
              <div class="equipment_melee_weapons_grid3">
                <div class="equipment_melee_weapons_gs1">Hit Mod</div>
                <input class="equipment_melee_weapons_gs2 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                <div class="equipment_melee_weapons_gs3">Attacks</div>
                <input class="equipment_melee_weapons_gs4 full_width" type="text" value="0" name="attr_weapon_attacks" />
                <div class="equipment_melee_weapons_gs5">Br Pts</div>
                <input class="equipment_melee_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_breakpoints" />
                <div class="equipment_melee_weapons_gs7">/</div>
                <input class="equipment_melee_weapons_gs8 full_width" type="text" value="0" name="attr_weapon_breakpoints_max" />
                <button class="equipment_melee_weapons_gs9 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}" >Hit</button>
                <button class="equipment_melee_weapons_gs10 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}" >DMG</button>
              </div>
              <div class="equipment_melee_weapons_grid4">
                <div class="equipment_melee_weapons_gs11">damage plus Strength</div>
                <select class="equipment_melee_weapons_gs12 full_width" name="attr_weapon_base_add">
                  <option selected="selected" value="0">None</option>
                  <option value="[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]">Half</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]">Full</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]">2x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*3]]">3x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*4]]">4x STR</option>
                </select>
                <div class="equipment_melee_weapons_gs13">pierce plus Strength</div>
                <select class="equipment_melee_weapons_gs14 full_width" name="attr_weapon_pierce_add">
                  <option selected="selected" value="0">None</option>
                  <option value="[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]">Half</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]">Full</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]">2x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*3]]">3x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*4]]">4x STR</option>
                </select>
              </div>
              <div>
                <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                <div>
                  <div class="equipment_ranged_weapons_grid5">
                    <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                      <option selected="selected" value="0">Normal damage rolling</option>
                      <option value="?{Damage modifier|0}">Query damage mod</option>
                      <option value="?{DOS|0}d10">Simplified combat macro</option>
                    </select>
                    <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                      <option selected="selected" value="0">Normal pierce rolling</option>
                      <option value="?{Pierce modifier|0}">Query pierce mod</option>
                    </select>
                  </div>
                  <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Modification e.g. Gravity Hammer Crushing thruster"></textarea>
                </div>
              </div>
            </div>
            <br>
          </fieldset>
        </div>

        <!-- weight and cr calculator -->
        <div class="equipment_numerics text_centered">
          <button name="act_reset" type="action" class="bold_text">RESET</button>
          <button name="act_tare" type="action" class="bold_text">TARE</button>
          cR Count: <input name="attr_credits" type="number" class="numerical_field" />
          cR Calculation: <input name="attr_credit_total" type="number" class="numerical_field" readonly />
          Weight Calculation: <input name="attr_weight_total" type="number" class="numerical_field end_field" readonly> kilograms</input>
          <input type="number" name="attr_credit_tare" hidden>
        </div>
      </div>

      <!-- equipment / gear section -->
      <div class="border_full">
        <div class="equipment_gear equipment_header">
          <div></div>
          <h3>Gear / Item Name</h3>
          <h3>Amount</h3>
          <h3>Value</h3>
          <h3>Weight</h3>
          <h3>B Pts</h3>
        </div>

        <fieldset name="gear" class="repeating_gear">
          <div class="equipment_gear">
            <label class="equipment_checkmark"><input type="checkbox" checked name="attr_gear_carried" value="1" class="select_button hidden"/><span class="select_text">&nbsp;✔&nbsp;</span></label>
            <input class="equipment_default"name="attr_gear_name" type="text" placeholder="Gear / Item Name"/>
            <input class="equipment_default"name="attr_gear_quantity" type="text" value="1" placeholder="Amount"/>
            <input class="equipment_default"name="attr_gear_cost" type="text" value="0"/>
            <input class="equipment_default"name="attr_gear_weight" type="text" value="0"/>
            <input class="equipment_default"name="attr_gear_bp" type="text" placeholder="Break Points"/>
            <label class="margin_adjust equipment_hider"><input type="checkbox" name="attr_collapse" value="2" class="hider select_button hidden" /><span class="select_text">▼</span></label>
          </div>
          <input name="attr_collapse" type="checkbox"  value="2" class="hider hidden" />
          <textarea name="attr_description" placeholder="Equipment special rules" class=" equipment_gear_textarea"></textarea>
        </fieldset>
      </div>
      <br>

      <!-- armor permutations -->
      <div class="border_full">
        <h3>Armor Permutations</h3>
        <div class="equipment_permutations_grid equipment_titles">
          <p class="bold_text equipment_titles">Name</p>
          <p class="bold_text equipment_titles">Location & Hardpts</p>
        </div>

        <fieldset name="permutations" class="repeating_permutations">
          <div class="equipment_permutations_grid">
            <input class="full_width" type="text" name="attr_permutation_name" placeholder="Name">
            <input class="full_width" type="text" name="attr_permutation_location" placeholder="Location & Hardpoints">
          </div>
          <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="2" class="hider select_button hidden" /><span class="select_text">▼</span></label>
          <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{permutation_name} }} {{description=@{permutation_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
          <input name="attr_collapse" type="checkbox"  value="2" class="hider hidden" />
          <textarea name="attr_permutation_desc" class="radius_border_bottom" placeholder="All Human BDUs and Armor are designed to take Permutations. Permutations are attachments that modify Armor and offer various forms of function. Each section of Armor can only fit so many Permutations, which are shown as Hardpoints."></textarea>
        </fieldset>
      </div>
      <br>

      <!-- armor display -->
      <div class="border_full">
        <h3 class="radius_border_top">Armor Description</h3>
        <fieldset name="repeating_armor" class="repeating_armor">
          <input class="radius_border_top full_width" type="text" name="attr_name" placeholder="Name">
          <div class="equipment_armor_grid">

            <h3 style="	border-left: 1px solid #cccccc" class="bold_text equipment_armor_headers">Head</h3>
            <h3 class="bold_text equipment_armor_headers">Arms</h3>
            <h3 class="bold_text equipment_armor_headers">Chest</h3>
            <h3 class="bold_text equipment_armor_headers">Legs</h3>
            <div></div>
            <h3 class="bold_text equipment_armor_headers">Current</h3>
            <h3 class="bold_text equipment_armor_headers">Max</h3>
            <h3 class="bold_text equipment_armor_headers">Delay</h3>
            <h3 style="	border-right: 1px solid #cccccc"class="bold_text equipment_armor_headers">Charge</h3>

            <input class="full_width" type="text" name="attr_armor_head" value="0" />
            <input class="full_width" type="text" name="attr_armor_arms" value="0" />
            <input class="full_width" type="text" name="attr_armor_chest" value="0" />
            <input class="full_width" type="text" name="attr_armor_legs" value="0" />
            <label class="equipment_checkmark"><input type="checkbox" checked name="attr_armor_worn" value="1" class="select_button hidden"/><span class="select_text">&nbsp;✔&nbsp;</span></label>
            <input class="full_width" type="text" name="attr_shields" value="0" />
            <input class="full_width" type="text" name="attr_shields_max" value="0" />
            <input class="full_width" type="text" name="attr_shields_delay" value="0" />
            <input class="full_width" type="text" name="attr_shields_charge" value="0" />
          </div>
          <textarea class="radius_border_bottom" name="attr_description" placeholder="Armor special rules, Damage, Exteriour features, etc."></textarea>
          <br>
        </fieldset>
      </div>
    </div>



    <!-- start of tab Medical ______________________________________________________________________ -->
    <input name="attr_sheet_tab" type="checkbox"  value="medical" class="hider hidden" />
    <div class="box whitetext">

      <!-- medical effects -->
      <div class="border_full medical_padding">
        <div class="medical_damage_effects medical_padding">

          <div>
            <Button type="action" class="medical_button" name="act_medicalturn">&nbsp;Turn&nbsp;</Button>
            <Button type="action" class="medical_button" name="act_medicalreset">&nbsp;Reset all&nbsp;</Button>
            <button class="medical_button clear" type="roll" name="vehicle-evade" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Natural Healing}} {{roll= [[(1+?{Medical test DOS (empty if not done)|0}+[[[[floor((@{TOU} + @{TOU_advancement})/10)]]*ceil(?{Medical test DOS (empty if not done)|0}/100000)]])*?{Vigorous|None,1|Level 1,2|Level 2,3}*?{At medical facility|Yes,3|No,1}*?{other multipliers(empty if none)|1}]] }}">&nbsp;&nbsp;Natural Healing&nbsp;&nbsp;</button>
          </div>

          <div>
            <h3 class="radius_border_top">Stunned</h3>
            <input   name="attr_medical_status_Stunned" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Lost</h3>
            <input   name="attr_medical_status_Lost" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Lockjaw</h3>
            <input   name="attr_medical_status_Lockjaw" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Tinnitus</h3>
            <input   name="attr_medical_status_Tinnitus" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Vision Loss</h3>
            <input   name="attr_medical_status_Visionloss" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Shellshock</h3>
            <input   name="attr_medical_status_Shellshock" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Whiplash</h3>
            <input   name="attr_medical_status_Whiplash" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Winded</h3>
            <input   name="attr_medical_status_Winded" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Gasping</h3>
            <input   name="attr_medical_status_Gasping" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Slowed</h3>
            <input   name="attr_medical_status_Slowed" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Suffocation</h3>
            <input   name="attr_medical_status_suffocation" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Tattered</h3>
            <input   name="attr_medical_status_Tattered" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Paralyzed </h3>
            <input   name="attr_medical_status_Paralyzed" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Weakened</h3>
            <input   name="attr_medical_status_Weakened" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Flinch</h3>
            <input   name="attr_medical_status_Flinch" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Drop</h3>
            <input   name="attr_medical_status_Drop" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Bloodloss</h3>
            <input   name="attr_medical_status_Bloodloss" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Knockdown</h3>
            <input   name="attr_medical_status_Knockdown" class="full_width" type="text">
          </div>

          <div>
            <h3 class="radius_border_top">Looming Death</h3>
            <input   name="attr_medical_status_Loomingdeath" class="full_width" type="text">
          </div>

        </div>

        <div>
          <h3 class="radius_border_top">Other Effects</h3>
          <textarea name="attr_medical_status_Othereffects" class="medical_damage_effects_textarea"></textarea>
        </div>

      </div>

      <!-- medical locations -->
      <div class="medical-grid">
        <div class="border_full">

          <div class="medicalHOV">
            <h3 class="radius_border">Neck</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_neck1" class="medical_button"><div class="medical_text">1-25&nbsp;	Whiplash (1)                                        </div></button></div>
              <div><button type="action" name="act_neck2" class="medical_button"><div class="medical_text">26-40	Whiplash (2)                                            </div></button></div>
              <div><button type="action" name="act_neck3" class="medical_button"><div class="medical_text">41-55	Whiplash (3), Bloodloss (1)                             </div></button></div>
              <div><button type="action" name="act_neck4" class="medical_button"><div class="medical_text">56-70	Whiplash (4), Bloodloss (2), Looming Death (20)         </div></button></div>
              <div><button type="action" name="act_neck5" class="medical_button"><div class="medical_text">71+	&nbsp; Whiplash (4), Bloodloss (4), Looming Death (1D10)  </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Mouth</h3>
            <div class="medicalHOV_not">
              <div><button type="action"  name="act_mouth1" class="medical_button"><div class="medical_text">1-20&nbsp; Lockjaw (1)                                       </div></button></div>
              <div><button type="action"  name="act_mouth2" class="medical_button"><div class="medical_text">21-30	Lockjaw (5)                                           </div></button></div>
              <div><button type="action"  name="act_mouth3" class="medical_button"><div class="medical_text">31-40	Lockjaw (10), Lose 1D5 Teeth                          </div></button></div>
              <div><button type="action"  name="act_mouth4" class="medical_button"><div class="medical_text">41-50	Lockjaw (20), Lose 2D5 Teeth, &nbsp;Whiplash (2)      </div></button></div>
              <div><button type="action"  name="act_mouth5" class="medical_button"><div class="medical_text">51+	&nbsp; Lockjaw (P), &nbsp;lose 2D10 Teeth, Whiplash (4) </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Nose</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_nose1" class="medical_button"><div class="medical_text">1-20&nbsp; Nose Broken, Lost (2)              </div></button></div>
              <div><button type="action" name="act_nose2" class="medical_button"><div class="medical_text">21-30 Nose Broken, Lost (4)                   </div></button></div>
              <div><button type="action" name="act_nose3" class="medical_button"><div class="medical_text">31-40 Nose Broken, Gasping (2)                </div></button></div>
              <div><button type="action" name="act_nose4" class="medical_button"><div class="medical_text">41-50 Nose Broken, Gasping (3)                </div></button></div>
              <div><button type="action" name="act_nose5" class="medical_button"><div class="medical_text">51+ &nbsp; Nose Lost,&nbsp;&nbsp; Gasping (4) </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Ear</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_ear1" class="medical_button"><div class="medical_text">1-20&nbsp; Tinnitus (1)                                    </div></button></div>
              <div><button type="action" name="act_ear2" class="medical_button"><div class="medical_text">21-30	Tinnitus (3)                                         </div></button></div>
              <div><button type="action" name="act_ear3" class="medical_button"><div class="medical_text">31-40	Tinnitus (5),&nbsp; Flinch (1)                       </div></button></div>
              <div><button type="action" name="act_ear4" class="medical_button"><div class="medical_text">41-50	Tinnitus (10), Flinch (2),&nbsp; &nbsp; Whiplash (1) </div></button></div>
              <div><button type="action" name="act_ear5" class="medical_button"><div class="medical_text">51+ &nbsp;	Tinnitus (60), Stunned (3D5), Ear Lost         </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Eye</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_eye1" class="medical_button"><div class="medical_text">1-20&nbsp;	Vision Loss (3)                                   </div></button></div>
              <div><button type="action" name="act_eye2" class="medical_button"><div class="medical_text">21-30	Vision Loss (5)                                         </div></button></div>
              <div><button type="action" name="act_eye3" class="medical_button"><div class="medical_text">31-40	Vision Loss (10), Flinch (1)                            </div></button></div>
              <div><button type="action" name="act_eye4" class="medical_button"><div class="medical_text">41-50	Vision Loss (10), Flinch (2), &nbsp; &nbsp;Whiplash (1) </div></button></div>
              <div><button type="action" name="act_eye5" class="medical_button"><div class="medical_text">51+ &nbsp; Vision Loss (60), Stunned (3D5), Eye Los           </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Forehead</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_forehead1" class="medical_button"><div class="medical_text">1-30&nbsp;	Lost (2)                                   </div></button></div>
              <div><button type="action" name="act_forehead2" class="medical_button"><div class="medical_text">31-50 Lost (4),&nbsp; Shellshock (1)                  </div></button></div>
              <div><button type="action" name="act_forehead3" class="medical_button"><div class="medical_text">51-65 Lost (6),&nbsp; Shellshock (2)                  </div></button></div>
              <div><button type="action" name="act_forehead4" class="medical_button"><div class="medical_text">66-80 Lost (10), Shellshock (3D5), Looming Death (10) </div></button></div>
              <div><button type="action" name="act_forehead5" class="medical_button"><div class="medical_text">81+ &nbsp; Instant Death, Head destroyed              </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Hand</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_hand1" class="medical_button"><div class="medical_text">1-25&nbsp;	Flinch (1)                             </div></button></div>
              <div><button type="action" name="act_hand2" class="medical_button"><div class="medical_text">26-40 Flinch (1), Drop                            </div></button></div>
              <div><button type="action" name="act_hand3" class="medical_button"><div class="medical_text">41-55 Flinch (3), Drop (3), Bone Broken (Fracture)</div></button></div>
              <div><button type="action" name="act_hand4" class="medical_button"><div class="medical_text">56-70 Flinch (3), Drop (5), Bone Broken (Shatter) </div></button></div>
              <div><button type="action" name="act_hand5" class="medical_button"><div class="medical_text">71+ &nbsp;	Flinch (5), Hand lost                  </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Bicep and Forearm</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_bicepforearm1" class="medical_button"><div class="medical_text">1-30&nbsp;	Flinch (1)                    </div></button></div>
              <div><button type="action" name="act_bicepforearm2" class="medical_button"><div class="medical_text">31-50 Flinch (2), Paralyzed (1)          </div></button></div>
              <div><button type="action" name="act_bicepforearm3" class="medical_button"><div class="medical_text">51-65 Flinch (5), Bone Broken (Fracture) </div></button></div>
              <div><button type="action" name="act_bicepforearm4" class="medical_button"><div class="medical_text">66-80 Flinch (6), Bone Broken (Shatter)  </div></button></div>
              <div><button type="action" name="act_bicepforearm5" class="medical_button"><div class="medical_text">81+ &nbsp;	Looming Death (10), Arm lost  </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Elbow and Shoulder</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_elbowshoulder1" class="medical_button"><div class="medical_text">1-25&nbsp;	Weakened (1)                                                  </div></button></div>
              <div><button type="action" name="act_elbowshoulder2" class="medical_button"><div class="medical_text">26-40	Weakened (2), Drop                                                  </div></button></div>
              <div><button type="action" name="act_elbowshoulder3" class="medical_button"><div class="medical_text">41-55	Weakened (4), Drop (2), &nbsp; &nbsp; &nbsp;Bone Broken (Fracture)  </div></button></div>
              <div><button type="action" name="act_elbowshoulder4" class="medical_button"><div class="medical_text">56-70	Weakened (4), Paralyzed (2), Bone Broken (Shatter)                  </div></button></div>
              <div><button type="action" name="act_elbowshoulder5" class="medical_button"><div class="medical_text">71+	&nbsp; Looming Death (9), Arm lost                                    </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Foot</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_foot1" class="medical_button"><div class="medical_text">1-25&nbsp;	Slowed (2)                                                                </div></button></div>
              <div><button type="action" name="act_foot2" class="medical_button"><div class="medical_text">26-40	Slowed (3), &nbsp;Knockdown                                                   </div></button></div>
              <div><button type="action" name="act_foot3" class="medical_button"><div class="medical_text">41-55	Slowed (5), &nbsp;Knockdown (2), &nbsp; &nbsp; &nbsp; Bone Broken (Fracture)  </div></button></div>
              <div><button type="action" name="act_foot4" class="medical_button"><div class="medical_text">56-70	Slowed (6), &nbsp;Knockdown Prone (2), Bone Broken (Shatter)                  </div></button></div>
              <div><button type="action" name="act_foot5" class="medical_button"><div class="medical_text">71+	&nbsp; Slowed (10), Knockdown Prone (4), Foot Lost                              </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Shin and Thigh</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_shinthigh1" class="medical_button"><div class="medical_text">1-30&nbsp;	Slowed (1)                                              </div></button></div>
              <div><button type="action" name="act_shinthigh2" class="medical_button"><div class="medical_text">31-50	Slowed (3)                                                    </div></button></div>
              <div><button type="action" name="act_shinthigh3" class="medical_button"><div class="medical_text">51-65	Slowed (6), &nbsp;Paralyzed (2), Bone Broken (Fracture)       </div></button></div>
              <div><button type="action" name="act_shinthigh4" class="medical_button"><div class="medical_text">66-80	Slowed (7), &nbsp;Paralyzed (3), Bone Broken (Shatter)        </div></button></div>
              <div><button type="action" name="act_shinthigh5" class="medical_button"><div class="medical_text">81+ &nbsp; Slowed (10), Paralyzed (4), Looming Death (8), Leg Lost  </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Knee and Hip</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_kneehip1" class="medical_button"><div class="medical_text">1-25&nbsp;	Knockdown                                               </div></button></div>
              <div><button type="action" name="act_kneehip2" class="medical_button"><div class="medical_text">26-40	Knockdown (1)                                                 </div></button></div>
              <div><button type="action" name="act_kneehip3" class="medical_button"><div class="medical_text">41-55	Knockdown (2), &nbsp;Slowed (3), &nbsp;Bone Broken (Fracture) </div></button></div>
              <div><button type="action" name="act_kneehip4" class="medical_button"><div class="medical_text">56-70	Knockdown (3), &nbsp;Slowed (5), &nbsp;Bone Broken (Shatter)  </div></button></div>
              <div><button type="action" name="act_kneehip5" class="medical_button"><div class="medical_text">71+	&nbsp; Knockdown (10), Slowed (10), Looming Death (8), Leg Lost </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Pelvis</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_pelvis1" class="medical_button"><div class="medical_text">1-25&nbsp;	Slowed (2)                                          </div></button></div>
              <div><button type="action" name="act_pelvis2" class="medical_button"><div class="medical_text">26-40	Slowed (3), Tattered (2)                                </div></button></div>
              <div><button type="action" name="act_pelvis3" class="medical_button"><div class="medical_text">41-55	Slowed (4), Tattered (3), &nbsp;Bone Broken (Fracture)  </div></button></div>
              <div><button type="action" name="act_pelvis4" class="medical_button"><div class="medical_text">56-70	Slowed (4), Tattered (5), &nbsp;Bone Broken (Shatter)   </div></button></div>
              <div><button type="action" name="act_pelvis5" class="medical_button"><div class="medical_text">71+ &nbsp;	Slowed (P), Tattered (20), Bone Broken (Shatter)    </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Intestines</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_intestines1" class="medical_button"><div class="medical_text">1-25&nbsp;	Tattered (2)                                      </div></button></div>
              <div><button type="action" name="act_intestines2" class="medical_button"><div class="medical_text">26-40	Tattered (3), Weakened (2)                            </div></button></div>
              <div><button type="action" name="act_intestines3" class="medical_button"><div class="medical_text">41-50	Tattered (4), Weakened (4)                            </div></button></div>
              <div><button type="action" name="act_intestines4" class="medical_button"><div class="medical_text">51-60	Tattered (5), Weakened (5), Looming Death (15)        </div></button></div>
              <div><button type="action" name="act_intestines5" class="medical_button"><div class="medical_text">61+ &nbsp;	Tattered (6), Weakened (5), Looming Death (1D10)  </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Spine</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_spine1" class="medical_button"><div class="medical_text">1-25&nbsp;	Knockdown, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Flinch (1), &nbsp; &nbsp;Drop </div></button></div>
              <div><button type="action" name="act_spine2" class="medical_button"><div class="medical_text">26-40	Knockdown (1), &nbsp; &nbsp; &nbsp; Flinch (2), &nbsp; &nbsp;Drop (2)             </div></button></div>
              <div><button type="action" name="act_spine3" class="medical_button"><div class="medical_text">41-55	Knockdown (3), &nbsp; &nbsp; &nbsp; Paralyzed (2),  Bone Broken (Fractured)       </div></button></div>
              <div><button type="action" name="act_spine4" class="medical_button"><div class="medical_text">56-70	Knockdown Prone (5), Paralyzed (5),  Bone Broken (Shattered)                      </div></button></div>
              <div><button type="action" name="act_spine5" class="medical_button"><div class="medical_text">71+ &nbsp;	Spine destroyed, Instant Death                                              </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Stomach, Kidney, and Liver</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_stomach1" class="medical_button"><div class="medical_text">1-25&nbsp;	Gasping (1)                                   </div></button></div>
              <div><button type="action" name="act_stomach2" class="medical_button"><div class="medical_text">26-40	Gasping (2), Tattered (1)                           </div></button></div>
              <div><button type="action" name="act_stomach3" class="medical_button"><div class="medical_text">41-50	Gasping (3), Tattered (2)                           </div></button></div>
              <div><button type="action" name="act_stomach4" class="medical_button"><div class="medical_text">51-60	Gasping (4), Tattered (5), Looming Death (20)       </div></button></div>
              <div><button type="action" name="act_stomach5" class="medical_button"><div class="medical_text">61+ &nbsp;	Gasping (5), Tattered (6), Looming Death (10) </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Heart</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_heart1"class="medical_button"><div class="medical_text">1-25&nbsp;	Winded (5)                                        </div></button></div>
              <div><button type="action" name="act_heart2"class="medical_button"><div class="medical_text">26-40	Winded (10), Stunned (2D5), Looming Death (5D10)      </div></button></div>
              <div><button type="action" name="act_heart3"class="medical_button"><div class="medical_text">41-50	Winded (10), Stunned (3D5), Looming Death (3D10)      </div></button></div>
              <div><button type="action" name="act_heart4"class="medical_button"><div class="medical_text">51-60	Winded (P), &nbsp;Stunned (3D5), Looming Death (1D10) </div></button></div>
              <div><button type="action" name="act_heart5"class="medical_button"><div class="medical_text">61+ &nbsp;	Heart destroyed, Instant Death                    </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Lungs</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_lungs1" class="medical_button"><div class="medical_text">1-25&nbsp;	Winded (2), Gasping (2)               </div></button></div>
              <div><button type="action" name="act_lungs2" class="medical_button"><div class="medical_text">26-40	Winded (3), Gasping (3)                     </div></button></div>
              <div><button type="action" name="act_lungs3" class="medical_button"><div class="medical_text">41-50	Winded (4), Gasping (5), Looming Death (20) </div></button></div>
              <div><button type="action" name="act_lungs4" class="medical_button"><div class="medical_text">51-60	Winded (5), Gasping (5), Looming Death (15) </div></button></div>
              <div><button type="action" name="act_lungs5" class="medical_button"><div class="medical_text">61+	&nbsp; Winded (6), Gasping (5), Suffocation   </div></button></div>
            </div>
          </div>

          <div class="medicalHOV">
            <h3 class="radius_border">Ribcage or No Organ Struck</h3>
            <div class="medicalHOV_not">
              <div><button type="action" name="act_ribcage1" class="medical_button"><div class="medical_text">1-30&nbsp;	Winded (1), Gasping (1)                         </div></button></div>
              <div><button type="action" name="act_ribcage2" class="medical_button"><div class="medical_text">31-50	Winded (2), Gasping (1)                               </div></button></div>
              <div><button type="action" name="act_ribcage3" class="medical_button"><div class="medical_text">51-65	Winded (3), Gasping (2)                               </div></button></div>
              <div><button type="action" name="act_ribcage4" class="medical_button"><div class="medical_text">66-80	Winded (4), Gasping (4), Bone Broken (Fractured)      </div></button></div>
              <div><button type="action" name="act_ribcage5" class="medical_button"><div class="medical_text">81+ &nbsp;	Winded (5), Gasping (4), Bone Broken (Shattered)</div></button></div>
            </div>
          </div>

        </div>

        <div class="border_full">
          <label><h3 class="medical_header">Hit Location</h3> <button type="roll" name="button" value="@{to-gm}&{template:mythic} {{loc=[[1d100]]}}" class="hidden"></button></label>
          <h3> 01-10 HEAD</h3>
          <div class="medical_table"> 01-02 Neck</div>
          <div class="medical_table"> 03-04 Mouth</div>
          <div class="medical_table"> 05-06 Nose</div>
          <div class="medical_table"> 07 &nbsp; &nbsp;Eyes</div>
          <div class="medical_table"> 08 &nbsp; &nbsp;Ear</div>
          <div class="medical_table"> 09-10 &nbsp; &nbsp;Forehead</div>
          <h3>11-20 LEFT ARM</h3>
          <div class="medical_table">11-12 Hands</div>
          <div class="medical_table">13-15 Forearm</div>
          <div class="medical_table">16 &nbsp; &nbsp;Elbow</div>
          <div class="medical_table">17-19 Bicep</div>
          <div class="medical_table">20 &nbsp; &nbsp;Shoulder</div>
          <h3>21-30 RIGHT ARM</h3>
          <div class="medical_table">21-22 Hands</div>
          <div class="medical_table">23-25 Forearm</div>
          <div class="medical_table">26 &nbsp; &nbsp;Elbow</div>
          <div class="medical_table">27-29 Bicep</div>
          <div class="medical_table">30 &nbsp; &nbsp;Shoulder</div>
          <h3>31-45 LEFT LEG</h3>
          <div class="medical_table">31-32 Foot</div>
          <div class="medical_table">33-37 Shin</div>
          <div class="medical_table">38 &nbsp; &nbsp;Knee</div>
          <div class="medical_table">39-43 Thigh</div>
          <div class="medical_table">44-45 hip</div>
          <h3>46-60 RIGHT LEG</h3>
          <div class="medical_table">46-47 Foot</div>
          <div class="medical_table">48-53 Shin</div>
          <div class="medical_table">54 &nbsp; &nbsp;Knee</div>
          <div class="medical_table">55-58 Thigh</div>
          <div class="medical_table">59-60 hip</div>
          <h3>62-100 CHEST</h3>
          <div class="medical_table">61-65 &nbsp;Pelvis</div>
          <div class="medical_table">66-72 &nbsp;Intestines</div>
          <div class="medical_table">73-78 &nbsp;Kidney</div>
          <div class="medical_table">79-84 &nbsp;Stomach, Kidney, Liver</div>
          <div class="medical_table">85-89 &nbsp;Heart</div>
          <div class="medical_table">90-96 &nbsp;Lungs</div>
          <div class="medical_table">97-100 Ribcage, No Organ Struck</div>
        </div>
      </div>
      <br>

      <!-- prosthetics -->
      <div class="border_full">
        <h3>Prosthetics and limb replacements</h3>
        <div class="medical_prosthetics_grid equipment_titles">
          <p class="bold_text equipment_titles">Name & Location</p>
          <p class="bold_text equipment_titles">Breakpoints</p>
          <p class="bold_text equipment_titles">Armor</p>
        </div>

        <fieldset name="Prosthetics" class="repeating_Prosthetics">
          <div class="medical_prosthetics_grid">
            <input class="full_width" type="text" name="attr_prosthetic_name" placeholder="Name & Location">
            <input class="full_width" type="text" name="attr_prosthetic_Breakpoints" placeholder="Breakpoints">
            <input class="full_width" type="text" name="attr_prosthetic_Armor" placeholder="Armor">
          </div>
          <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="2" class="hider select_button hidden" /><span class="select_text">▼</span></label>
          <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{prosthetic_name} }} {{2x2-name=Breakpoints}} {{2x2=@{prosthetic_Breakpoints}}} {{2x2-name-max=Armor}} {{2x2-max=@{prosthetic_Armor}}} {{description=@{prosthetic_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
          <input name="attr_collapse" type="checkbox"  value="2" class="hider hidden" />
          <textarea name="attr_prosthetic_desc" class="radius_border_bottom" placeholder="Add any additional information here such as whether a neural implant had to be installed or whether the replacement has skin-mimicking layering."></textarea>
        </fieldset>
      </div>
      <br>

      <!-- general medical info -->
      <div class="border_full">
        <h3 style="text-indent: -50px">Medical Information</h3>
        <fieldset name="medical" class="repeating_medical">
          <input name="attr_medical" type="text" placeholder="Name" class="full_width_49px" />
          <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text ">▼</span></label>
          <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{medical} }} {{description=@{medical_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
          <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
          <textarea name="attr_medical_desc" placeholder="Not all injuries in 100DOS are lethal. Exhaustion, combat trauma, or exchanging blows with bare fists can all leave a character tattered, but intact. Fatigue measures the amount of non-lethal injury a character can take. For every level of Fatigue a Character has, they take a -5 Penalty to all Tests made.&#10;&#10;Once a Character surpasses their Toughness Modifier, multiplied by 2, in Fatigue, they fall into a coma. The Character’s coma will last one hour for every level of Fatigue the Character has. Every hour that passes, the level of Fatigue is reduced by one. The Character may wake up once their level of Fatigue is their Toughness Modifier or lower."></textarea>
        </fieldset>
      </div>

    </div>



    <!-- start of tab Advancements _________________________________________________________________ -->
    <input name="attr_sheet_tab" type="checkbox"  value="advancements" class="hider hidden" />
    <div class="box whitetext ssc">

      <!-- summary -->
      <h2>Experience Summary</h2>
      <div class="text_centered">
        Unspent XP: <input name="attr_xp_current" type="number" value="@{xp_total}-@{xp_spent}" class="numerical_field" disabled="true"/>
        Spent XP: <input name="attr_xp_spentcalc" type="number" value="@{xp_spent}" class="numerical_field" disabled="true"/>
        <input name="attr_xp_spent" value="0" hidden/> <!-- only here for cosmetic reasons-->
        XP Total: <input name="attr_xp_total" value="0" type="number" class="numerical_field end_field" />
      </div>
      <br>

      <!--XP spending table -->
      <div class="border_full">
        <div class="advancements_grid_header equipment_header">
          <div class="advancements_grid_gs1">Name</div>
          <div class="advancements_grid_gs2">XP Cost</div>
          <div class="advancements_grid_gs3">Page #</div>
          <div></div>
          <div class="advancements_grid_gs4">Name</div>
          <div class="advancements_grid_gs5">XP Cost</div>
          <div class="advancements_grid_gs6">Page #</div>
        </div>
        <fieldset name="advancements" class="repeating_advancements">
          <div class="advancements_grid">
            <input class="advancements_grid_gs1" name="attr_advancement_name" type="text" placeholder="Write XP-costing item name here" />
            <input class="advancements_grid_gs2" name="attr_advancement_cost" type="number" placeholder="XP Cost" />
            <input class="advancements_grid_gs3" name="attr_advancement_pgnr" type="number" placeholder="Page #"  />
          </div>
        </fieldset>
      </div>
      <br>

      <!-- faction training -->
      <div class="training">
        <div class="ssc border_full">
          <h3>Faction Training</h3>
          <fieldset name="faction_training" class="repeating_traininfaction">
            <input class="full_width" name="attr_training" type="text" placeholder="U.N.S.C." />
          </fieldset>
        </div>

        <!-- weapon training -->
        <div class="ssc border_full">
          <h3>Weapon Training</h3>
          <fieldset name="weapon_training" class="repeating_trainingweapon">
            <input class="full_width" name="attr_training" type="text" placeholder="U.N.S.C." />
          </fieldset>
        </div>
      </div>
      <br>

      <!-- point buy calculator / spending window -->
      <div class="border_full">
        <div class="characteristic_spending_window equipment_header">
          <h3>STR</h3>
          <h3>TOU</h3>
          <h3>AGI</h3>
          <h3>WFR</h3>
          <h3>WFM</h3>
          <h3>INT</h3>
          <h3>PER</h3>
          <h3>CRG</h3>
          <h3>CHA</h3>
          <h3>LDR</h3>
          <label><h3 class="characteristic_spending_window_button">Apply</h3> <input type="checkbox" name="attr_characteristic_spending_lock" class="hider select_button hidden" /></label>
        </div>

        <div class="characteristic_spending_window">
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_str_total" value="@{characteristic_spending_str_base} + @{characteristic_spending_str_spending} + @{characteristic_spending_str_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_tou_total" value="@{characteristic_spending_tou_base} + @{characteristic_spending_tou_spending} + @{characteristic_spending_tou_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_agi_total" value="@{characteristic_spending_agi_base} + @{characteristic_spending_agi_spending} + @{characteristic_spending_agi_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_wfr_total" value="@{characteristic_spending_wfr_base} + @{characteristic_spending_wfr_spending} + @{characteristic_spending_wfr_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_wfm_total" value="@{characteristic_spending_wfm_base} + @{characteristic_spending_wfm_spending} + @{characteristic_spending_wfm_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_int_total" value="@{characteristic_spending_int_base} + @{characteristic_spending_int_spending} + @{characteristic_spending_int_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_per_total" value="@{characteristic_spending_per_base} + @{characteristic_spending_per_spending} + @{characteristic_spending_per_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_crg_total" value="@{characteristic_spending_crg_base} + @{characteristic_spending_crg_spending} + @{characteristic_spending_crg_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_cha_total" value="@{characteristic_spending_cha_base} + @{characteristic_spending_cha_spending} + @{characteristic_spending_cha_extra}" disabled="true" type="number"/>
          <input class="characteristic_spending_number_total" name="attr_characteristic_spending_ldr_total" value="@{characteristic_spending_ldr_base} + @{characteristic_spending_ldr_spending} + @{characteristic_spending_ldr_extra}" disabled="true" type="number"/>
          <h3>Total</h3>
        </div>

        <div class="characteristic_spending_window">
          <input class="characteristic_spending_number" name="attr_characteristic_spending_str_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_tou_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_agi_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_wfr_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_wfm_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_int_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_per_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_crg_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_cha_base" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_ldr_base" type="number" value="0" />
          <h3>Base</h3>
        </div>

        <div class="characteristic_spending_window">
          <input class="characteristic_spending_number" name="attr_characteristic_spending_str_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_tou_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_agi_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_wfr_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_wfm_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_int_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_per_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_crg_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_cha_spending" type="number" value="0" />
          <input class="characteristic_spending_number" name="attr_characteristic_spending_ldr_spending" type="number" value="0" />
          <h3>Points</h3>
        </div>

        <div class="characteristic_spending_window">
          <input class="characteristic_spending_number" name="attr_characteristic_spending_str_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_tou_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_agi_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_wfr_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_wfm_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_int_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_per_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_crg_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_cha_extra" type="number" value="0" hidden/>
          <input class="characteristic_spending_number" name="attr_characteristic_spending_ldr_extra" type="number" value="0" hidden/>
        </div>

        <fieldset name="abilities" class="repeating_characteristics">
          <div class="characteristic_spending_window">
            <input class="characteristic_spending_number" name="attr_characteristic_spending_str_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_tou_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_agi_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_wfr_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_wfm_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_int_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_per_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_crg_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_cha_extra_r" type="number" value="0" />
            <input class="characteristic_spending_number" name="attr_characteristic_spending_ldr_extra_r" type="number" value="0" />
            <input class="characteristic_spending_text_input" name="attr_characteristic_spending_ldr_extra_name_r"  type="text" placeholder="extra" />
          </div>
        </fieldset>
      </div>
      <br>

      <!-- repeat of abilities for ease of purchasing -->
      <div class="border_full">
        <h3 style="text-indent: -50px" class="radius_border_top">Abilities</h3>
        <fieldset name="abilities" class="repeating_abilities">
          <input name="attr_ability" type="text" placeholder="Name" class="full_width_49px" />
          <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text ">▼</span></label>
          <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{ability} }} {{description=@{ability_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
          <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
          <textarea name="attr_ability_desc"></textarea>
        </fieldset>
      </div>

    </div>



    <!-- start of tab Journal ______________________________________________________________________ -->
    <input name="attr_sheet_tab" type="checkbox"  value="journal" class="hider hidden" />
    <div class="box whitetext">

      <!-- objectives -->
      <div class="border_full">
        <h3 style="text-indent: -30px" class="radius_border_top">Objectives</h3>
        <div class="ssc">
          <fieldset name="objectives" class="repeating_objectives">
            <input name="attr_objective" type="text" class="full_width_30px" />
            <label class="margin_adjust"><input type="checkbox" name="attr_objective_completed" value="1" class="select_button hidden"/><span class="select_text">&nbsp;✔&nbsp;</span></label>
          </fieldset>
        </div>
      </div>
      <br>

      <!-- notes -->
      <div class="border_full">
        <h3 style="text-indent: -50px" class="radius_border_top">Notes</h3>
        <fieldset name="Notes" class="repeating_notes">
          <input name="attr_note" type="text" placeholder="Name" class="full_width_49px" />
          <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="4" class="hider select_button hidden" checked/><span class="select_text ">▼</span></label>
          <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{note} }} {{description=@{note_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
          <input name="attr_collapse" type="checkbox"  value="4" class="hider hidden" checked/>
          <textarea name="attr_note_desc" placeholder="Enter information such as plot details, unresolved mission details such as escaped targets, character relationships, et cetera here.&#10;
          &#10;Also feel free to write appearance details here or in Bio & Info for public viewing: age, height, weight, colors of eyes, hair, skin, more that come to mind."></textarea>
        </fieldset>
      </div>

    </div>



    <!--  start of tab Vehicles ____________________________________________________________________ -->
    <input name="attr_sheet_tab" type="checkbox"  value="vehicles" class="hider hidden" />
    <div class="box whitetext ssc">

      <div class="vehicles_divider">

        <!-- Vehicles -->
        <div>
          <fieldset name="vehicles-R" class="repeating_vehicles">
            <div class="border_full">

              <div class="vehicles_grid_header vehicle_break">
                <select name="attr_vehicle-shield" class="vehicles_Gs full_width">
                  <option value="0" selected="selected">Unshielded</option>
                  <option value="1">Shielded</option>
                </select>

                <input name="attr_vehicle-name" type="text" class="vehicles_Gn full_width" placeholder="Name" />

                <select name="attr_vehicle-type" class="vehicles_Gt full_width">
                  <option value="0" selected="selected">Ground/Air</option>
                  <option value="1">Walker</option>
                  <option value="2">Stationary</option>
                </select>
              </div>

              <div class="vehicles_grid_4x vehicle_break">
                <h3 class="radius_border_top">Length</h3>
                <h3 class="radius_border_top">Width</h3>
                <h3 class="radius_border_top">Height</h3>
                <h3 class="radius_border_top">Weight</h3>

                <input name="attr_vehicle-length" type="text" class="full_width" placeholder="Meters" />
                <input name="attr_vehicle-width" type="text" class="full_width" placeholder="Meters" />
                <input name="attr_vehicle-height" type="text" class="full_width" placeholder="Meters" />
                <input name="attr_vehicle-weight" type="text" class="full_width" placeholder="kg / tonne" />
              </div>

              <input name="attr_vehicle-type" type="checkbox" value="0" class="hidden hider" checked />
              <div>
                <h3 class="radius_border_top">MOBILITY</h3>
                <div class="vehicles_grid_5x vehicle_break vehicle_background">
                  <button class="clear vehicle_smallrollbutton" type="roll" name="vehicle-accelerate" value="!token-mod {{--set bar@{Vehicle-speed_bar}_max|@{vehicle-top_speed} bar@{Vehicle-speed_bar}_value|+@{vehicle-accelerate}}}">Accelerate</button>
                  <button class="clear vehicle_smallrollbutton" type="roll" name="vehicle-Brake" value="!token-mod {{--set bar@{Vehicle-speed_bar}_max|@{vehicle-top_speed} bar@{Vehicle-speed_bar}_value|-@{vehicle-brake}}}">Brake</button>
                  <div>Top Speed</div>
                  <div>Maneuver</div>
                  <div></div>

                  <input name="attr_vehicle-accelerate" type="text" class="full_width" placeholder="MpT" />
                  <input name="attr_vehicle-brake" type="text" class="full_width" placeholder="MpT" />
                  <input name="attr_vehicle-top_speed" type="text" class="full_width" placeholder="MpT (Km/H)" />
                  <input name="attr_vehicle-maneuver" type="text" class="full_width" placeholder="Max Evasion" />
                  <button class="clear " type="roll" name="vehicle-evade" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Vehicle Evasion}} {{roll=[[@{settings_rounding}([[ {0d1+(@{AGI} + @{AGI_advancement} + @{fatigue_mod}),0d1+@{vehicle-maneuver}}kl1 ]][lowest of AGI,AGI]+@{mod2_evasion}+[[@{mod3_evasion} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}">Evade</button>
                </div>
              </div>
              
              <input name="attr_vehicle-type" type="checkbox" value="1" class="hidden hider" />
              <div>
                <h3 class="radius_border_top">CHARACTERISTICS AND SPEED</h3>
                <div class="vehicles_grid_4x vehicle_background vehicle_break">
                  <div>STR</div>
                  <div>Mythic STR</div>
                  <div>AGI</div>
                  <div>Mythic AGI</div>

                  <input name="attr_vehicle-STR" type="text" class="full_width" value="0" />
                  <input name="attr_vehicle-STR_mythic" type="text" class="full_width" value="0" />
                  <input name="attr_vehicle-AGI" type="text" class="full_width" value="0" />
                  <input name="attr_vehicle-AGI_mythic" type="text" class="full_width" value="0" />

                  <div>Half move</div>
                  <div>Full move</div>
                  <div>Run</div>
                  <div>Charge</div>

                  <input name="attr_vehicle-half_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*1" disabled/>
                  <input name="attr_vehicle-full_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*2" disabled/>
                  <input name="attr_vehicle-run_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*3" disabled/>
                  <input name="attr_vehicle-charge_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*6" disabled/>
                  <div>Jump</div>
                  <div>Leap</div>
                  <div></div>
                  <div></div>

                  <input name="attr_vehicle-jump" type="text" class="full_width" value="@{vehicle-STR_mythic}/2" disabled />
                  <input name="attr_vehicle-leap" type="text" class="full_width" value="@{vehicle-STR_mythic}" disabled />
                  <button class="clear " type="roll" name="vehicle-evade" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Vehicle Evasion}} {{roll=[[@{settings_rounding}([[ {0d1+(@{AGI} + @{AGI_advancement} + @{fatigue_mod}),0d1+@{vehicle-AGI}}kl1 ]][lowest of AGI,AGI]+@{mod2_evasion}+[[@{mod3_evasion} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}">Evade</button>
                  <button class="clear " type="roll" name="vehicle-parry" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Vehicle Parry}} {{roll=[[@{settings_rounding}([[ {0d1+(@{WFM} + @{WFM_advancement} + @{fatigue_mod}),0d1+@{vehicle-AGI}}kl1 ]][lowest of WFM,AGI]+@{mod2_evasion}+[[@{mod3_evasion} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}">Parry</button>
                </div>
              </div>

              <div class="vehicles_grid_2x vehicle_break">
                <h3 class="radius_border_top">CREW</h3>
                <h3 class="radius_border_top">COMPLEMENT</h3>
                <input name="attr_vehicle-crew" type="text" class="full_width" placeholder="Minimum Crew Prerequisite" />
                <input name="attr_vehicle-compliment" type="text" class="full_width" placeholder="Maximum Crew Space" />
              </div>

              <input name="attr_vehicle-type" type="checkbox" value="2" class="hidden hidernot" />
              <div class="vehicle_break">
                <h3 class="radius_border_top">BREAKPOINTS</h3>
                <div class="vehicles_grid_5x vehicle_background">
                  <div>1-15 WEP</div>
                  <div>16-30 MOB</div>
                  <div>31-45 ENG</div>
                  <div>46-60 OPT</div>
                  <div>61-100 HULL</div>
                  <input name="attr_vehicle-bp_weapon" type="text" value="0" class="full_width"/>
                  <input name="attr_vehicle-bp_mobility" type="text" value="0" class="full_width"/>
                  <input name="attr_vehicle-bp_engine"type="text" value="0" class="full_width"/>
                  <input name="attr_vehicle-bp_optic"type="text" value="0" class="full_width"/>
                  <input name="attr_vehicle-bp_hull"type="text" value="0" class="full_width"/>
                </div>
              </div>

              <input name="attr_vehicle-type" type="checkbox" value="2" class="hidden hider" />
              <div class="vehicle_break">
                <h3 class="radius_border_top">HULL INTEGRITY</h3>
                <input name="attr_vehicle-bp_hull"type="text" value="0" class="full_width" placeholder="Hull Points" />
              </div>

              <input name="attr_vehicle-bp_hull" type="checkbox" value="0" class="hidden hider" checked/>
              <div class="vehicle_break">
                <h3 class="radius_border_top">DOOMED STATE</h3>
                <div>
                  <input name="attr_doomedstate_value" type="text" placeholder="Doomedstate damage taken" class="full_width_49px vehicles_descriptor" />
                  <label class="margin_adjust"><input type="checkbox" name="attr_collapse2" value="7" class="hider select_button hidden" /><span class="select_text radius_border_right">▼</span></label>
                  <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title= @{vehicle-name} Doomed State (@{doomedstate_value})}} {{description=@{doomedstate_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>

                  <input name="attr_collapse2" type="checkbox"  value="7" class="hider hidden" />
                  <textarea name="attr_doomedstate_desc" class=" description_rounded_margin"></textarea>

                  <input name="attr_collapse2" type="checkbox"  value="7" class="hidernot hidden" />
                  <div class="vehicle_break"></div>
                </div>
              </div>

              <h3 class="radius_border_top">ARMOR</h3>
              <div class="vehicles_grid_5x vehicle_break vehicle_background">
                <div>Front</div>
                <div>Back</div>
                <div>Side</div>
                <div>Top</div>
                <div>Bottom</div>
                <input name="attr_vehicle-armor_front" type="text" placeholder="0" class="full_width" />
                <input name="attr_vehicle-armor_back" type="text" placeholder="0" class="full_width" />
                <input name="attr_vehicle-armor_side" type="text" placeholder="0" class="full_width" />
                <input name="attr_vehicle-armor_top" type="text" placeholder="0" class="full_width" />
                <input name="attr_vehicle-armor_bottom" type="text" placeholder="0" class="full_width" />
              </div>

              <input name="attr_vehicle-type" type="checkbox" value="0" class="hidden hider" checked/>
              <div>
                <div class="vehicles_grid_2x vehicle_break">
                  <h3 class="radius_border_top">SIZE POINTS</h3>
                  <h3 class="radius_border_top">WEAPON POINTS</h3>
                  <input name="attr_vehicle-size-points" type="text" placeholder="0" class="full_width"/>
                  <input name="attr_vehicle-weapon-points" type="text" placeholder="0" class="full_width"/>
                </div>
              </div>

              <input name="attr_vehicle-type" type="checkbox" value="1" class="hidden hider" />
              <div>
                <h3 class="radius_border_top">MISCELLANEOUS</h3>
                <div class="vehicles_grid_4x vehicle_break vehicle_background">

                  <div>Size Points</div>
                  <div>Weapon Points</div>
                  <div>Size category</div>
                  <div>Reach</div>

                  <input name="attr_vehicle-size-points" type="text" placeholder="0" class="full_width"/>
                  <input name="attr_vehicle-weapon-points" type="text" placeholder="0" class="full_width"/>
                  <input name="attr_vehicle-size-category" type="text" placeholder="Giant" class="full_width"/>
                  <input name="attr_vehicle-Reach" type="text" placeholder="0" class="full_width"/>
                </div>
              </div>

              <input name="attr_vehicle-shield" type="checkbox" value="1" class="hidden hider" />
              <div>
                <h3 class="radius_border_top">ENERGY SHIELD</h3>
                <div class="vehicles_grid_4x vehicle_break vehicle_background">
                  <div>Shield Integrity</div>
                  <div>Shield Current</div>
                  <div>Recharge Delay</div>
                  <div>Recharge Rate</div>

                  <input name="attr_vehicle-shield-rating" type="text" placeholder="0" class="full_width" />
                  <input name="attr_vehicle-shield-current" type="text" placeholder="0" class="full_width" />
                  <input name="attr_vehicle-recharge-delay" type="text" placeholder="0" class="full_width" />
                  <input name="attr_vehicle-recharge-rate" type="text" placeholder="0" class="full_width" />
                </div>
              </div>

              <div>
                <input name="attr_aditional_info" type="text" placeholder="Additional Info" class="full_width_49px" />
                <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="5" class="hider select_button hidden" /><span class="select_text ">▼</span></label>
                <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{aditional_info} }} {{description=@{aditional_info_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
                <input name="attr_collapse" type="checkbox"  value="5" class="hider hidden" />
                <textarea name="attr_aditional_info_desc" class="description_rounded_margin" placeholder="Enter any vehicle-specific rules or other unique information here."></textarea>
              </div>
              <div>
                <input name="attr_modifications" type="text" placeholder="Modifications" class="full_width_49px vehicles_descriptor" />
                <label class="margin_adjust"><input type="checkbox" name="attr_collapse2" value="6" class="hider select_button hidden" /><span class="select_text radius_border_right">▼</span></label>
                <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{modifications} }} {{description=@{modifications_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
                <input name="attr_collapse2" type="checkbox"  value="6" class="hider hidden" />
                <textarea name="attr_modifications_desc" class=" description_rounded_margin" placeholder="Vehicles in Mythic can be modified in many ways.  These use a Vehicle’s Weapon Points and Size Points, which are specialized Hardpoints on a Vehicle. Each Modification takes a specified amount of Weapon and Size Points.
                &#10;Vehicle modifications are classified into five categories; Body, Propulsion, Electronic, Combat, and Miscellaneous."></textarea>
              </div>
            </div>
            <br>
          </fieldset>
        </div>


        <div>
          <!-- Vehicle ranged weapons -->
          <div class="equipment_ranged_weapons border_full">
            <h3>Vehicle Ranged Weapons</h3>
            <fieldset name="vehiclerangedweapons" class="repeating_vrangedweapons">
              <div class="equipment_ranged_weapons_rep">
                <div class="equipment_ranged_weapons_grid1">
                  <div class="equipment_ranged_weapons_gs1">Name</div>
                  <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                  <div class="equipment_ranged_weapons_gs3">Type</div>
                  <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                  <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                    <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                    <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                    <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                    <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" selected="selected">WFR</option>
                    <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
                    <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                    <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                    <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                    <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                    <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                  </select>
                </div>
                <div class="equipment_ranged_weapons_grid2">
                  <div class="equipment_ranged_weapons_gs5">Range</div>
                  <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                  <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                  <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                  <div class="equipment_ranged_weapons_gs9">Base</div>
                  <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                  <div class="equipment_ranged_weapons_gs11">Pierce</div>
                  <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
                </div>
                <div class="equipment_ranged_weapons_grid3">
                  <div class="equipment_ranged_weapons_gs13">Hit Mod</div>
                  <input class="equipment_ranged_weapons_gs14 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                  <div class="equipment_ranged_weapons_gs15">Magazine</div>
                  <input class="equipment_ranged_weapons_gs16 full_width" type="text" value="0" name="attr_weapon_mag" />
                  <div class="equipment_ranged_weapons_gs17">/</div>
                  <input class="equipment_ranged_weapons_gs18 full_width" type="text" value="0" name="attr_weapon_mag_max" />
                  <button class="equipment_ranged_weapons_gs19 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}">Hit</button>
                  <button class="equipment_ranged_weapons_gs20 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}" >DMG</button>
                </div>
                <div class="equipment_ranged_weapons_grid4">
                  <div class="equipment_ranged_weapons_gs21">RoF</div>
                  <input class="equipment_ranged_weapons_gs22 full_width" type="text" placeholder="semi 3, Auto 7" name="attr_weapon_rof" />
                  <div class="equipment_ranged_weapons_gs23">Reload</div>
                  <input class="equipment_ranged_weapons_gs24 full_width" type="text" value="2 half actions" name="attr_weapon_reload" />
                </div>
                <div>
                  <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                  <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                  <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                  <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                  <div>
                    <div class="equipment_ranged_weapons_grid5">
                      <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                        <option selected="selected" value="0">Normal damage rolling</option>
                        <option value="?{Damage modifier|0}">Query damage mod</option>
                        <option value="?{DOS|0}d10">Simplified combat macro</option>
                      </select>
                      <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                        <option selected="selected" value="0">Normal pierce rolling</option>
                        <option value="?{Pierce modifier|0}">Query pierce mod</option>
                      </select>
                    </div>
                    <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Attachment: Benefit, Type Mount, Restriction, etc."></textarea>
                  </div>
                </div>
              </div>
              <br>
            </fieldset>
          </div>

          <!-- Vehicle melee weapons -->
          <div class="equipment_melee_weapons border_full">
            <h3>Vehicle Melee Weaponry</h3>
            <fieldset name="vehiclemeleeweapons" class="repeating_vmeleeweapons">
              <div class="equipment_ranged_weapons_rep">
                <div class="equipment_ranged_weapons_grid1">
                  <div class="equipment_ranged_weapons_gs1">Name</div>
                  <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                  <div class="equipment_ranged_weapons_gs3">Type</div>
                  <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                  <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                    <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                    <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                    <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                    <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
                    <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" selected="selected">WFM</option>
                    <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                    <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                    <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                    <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                    <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                  </select>
                </div>
                <div class="equipment_ranged_weapons_grid2">
                  <div class="equipment_ranged_weapons_gs5">Reach</div>
                  <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                  <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                  <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                  <div class="equipment_ranged_weapons_gs9">Base</div>
                  <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                  <div class="equipment_ranged_weapons_gs11">Pierce</div>
                  <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
                </div>
                <div class="equipment_melee_weapons_grid3">
                  <div class="equipment_melee_weapons_gs1">Hit Mod</div>
                  <input class="equipment_melee_weapons_gs2 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                  <div class="equipment_melee_weapons_gs3">Attacks</div>
                  <input class="equipment_melee_weapons_gs4 full_width" type="text" value="0" name="attr_weapon_attacks" />
                  <div class="equipment_melee_weapons_gs5">Br Pts</div>
                  <input class="equipment_melee_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_breakpoints" />
                  <div class="equipment_melee_weapons_gs7">/</div>
                  <input class="equipment_melee_weapons_gs8 full_width" type="text" value="0" name="attr_weapon_breakpoints_max" />
                  <button class="equipment_melee_weapons_gs9 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}"" >Hit</button>
                  <button class="equipment_melee_weapons_gs10 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}" >DMG</button>
                </div>
                <div>
                  <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                  <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                  <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                  <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                  <div>
                    <div class="equipment_ranged_weapons_grid5">
                      <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                        <option selected="selected" value="0">Normal damage rolling</option>
                        <option value="?{Damage modifier|0}">Query damage mod</option>
                        <option value="?{DOS|0}d10">Simplified combat macro</option>
                      </select>
                      <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                        <option selected="selected" value="0">Normal pierce rolling</option>
                        <option value="?{Pierce modifier|0}">Query pierce mod</option>
                      </select>
                    </div>
                    <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Modification e.g. Gravity Hammer Crushing thruster"></textarea>
                  </div>
                </div>
              </div>
              <br>
            </fieldset>
          </div>
        </div>

      </div>
    </div>



    <!-- Start of tab Settings _____________________________________________________________________ -->
    <input name="attr_sheet_tab" type="checkbox"  value="settings" class="hider hidden" />
    <div class="box whitetext">

      <div class="settings_grid">

        <!-- first column -->
        <div class="bordered_container">

          <h3 class="radius_border">General settings</h3>
          <br>

          <!-- species settings -->
          <h3 class="radius_border_top">Species Overrides</h3>
          <select name="attr_settings_race" class="full_width edge_padding radius_border_bottom">
            <option value="dont calc">Dont Auto Calculate Speed And Weight</option>
            <option value="dont mod">Dont modify species overrides (used by compendium)</option>
            <option selected="selected" value="0">Racial Features: N/A </option>
            <option value="spartans">Spartan 2 / Spartan 3 / Spartan 4 </option>
            <option value="Elite">Sangheili / Elite </option>
            <option value="Brutes">Jiralhanae / Brutes </option>
            <option value="Ruutian">Kig-yar Ruutian / Trilogy Jackals </option>
            <option value="Tvaoan">Kig-yar T'vaoan / Reach Jackals / Skirmishers </option>
            <option value="Ibieshan">Kig-yar Ibie'shan / 4/5 Jackals </option>
            <option value="Prelate">Prelate </option>
            <option value="Hunters">Mgalekgolo / Hunters </option>
            <option value="Promethean Knight">Promethean Knight </option>
            <option value="Engineer">Huragok / Engineer</option>
          </select>

          <select name="attr_settings_fatigue" class="full_width edge_padding radius_border">
            <option value="dont calc">Dont calculate Fatigue effects</option>
            <option value="auto"selected="selected">Calculate Fatigue effects</option>
            <option value="Enduring +1">calculate Fatigue effects + Enduring 1</option>
            <option value="Enduring +2">calculate Fatigue effects + Enduring 2</option>
          </select>

          <br>
          <div class="settings_speciesgrid">
            <h2>Trait</h2>
            <h2>mod</h2>
            <h2>Add</h2>

            <h2>Trait</h2>
            <h2>mod</h2>
            <h2>Add</h2>

            <p>Half</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_half_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_half_addi" />

            <p>Full</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_full_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_full_addi" />

            <p>Charge</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_charge_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_charge_addi" />

            <p>Run</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_run_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_run_addi" />

            <p>Blur</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_blur_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_blur_addi" />
          </div>

          <div class="settings_speciesgrid">
            <p>Jump</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_jump_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_jump_addi" />

            <p>Leap</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_leap_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_leap_addi" />
          </div>

          <div class="settings_speciesgrid">
            <p>Fatigue</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_fatigue_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_fatigue_addi" />
          </div>

          <div class="settings_speciesgrid">
            <p>PER range</p>
            <input class="settings_speciesinputwidth" type="text" value="5" name="attr_settings_perceptive_mult" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_perceptive_addi" />
          </div>

          <div class="settings_speciesgrid_weight">
            <h2>Trait</h2>
            <h2>mod str</h2>
            <h2>mod tou</h2>
            <h2>add</h2>

            <p>Carry</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_carry_mult_str" />
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_carry_mult_tou" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_carry_addi" />

            <p>Lift</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_lift_mult_str" />
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_lift_mult_tou" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_lift_addi" />


            <p>Push</p>
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_push_mult_str" />
            <input class="settings_speciesinputwidth" type="text" value="1" name="attr_settings_push_mult_tou" />
            <input class="settings_speciesinputwidth" type="text" value="0" name="attr_settings_push_addi" />
          </div>
          <br>

          <!-- initiative settings -->
          <h3 class="radius_border_top">Initiative Overrides</h3>
          <select name="attr_initmod0" class="full_width edge_padding radius_border_bottom">
            <option value="[[floor" >No tiebreaker</option>
            <option value="[[" selected="selected">Decimal tiebreaker</option>
            <option value="tiebreaker [[@{AGI_total}]] roll [[floor">AGI tiebreaker</option>
          </select>
          <br><br>

          <!-- weapon settings -->
          <h3 class="radius_border_top">Weapon rolling selectors</h3>
          <select name="attr_settings_autorolldamage" class="full_width edge_padding radius_border_bottom">
            <option value="{{hit= }} {{damage= }}" selected="selected">autoroll damage</option>
            <option value="{{hit= }} ">Dont autoroll damage</option>
          </select>

          <select name="attr_settings_hitroll" class="full_width edge_padding radius_border">
            <option value="{{loc=[[1d100]]}}"selected="selected">Include hit locations</option>
            <option value=" ">Don't include hit locations</option>
          </select>

          <select name="attr_settings_weapondescription" class="full_width edge_padding radius_border">
            <option value="description"selected="selected">Include weapon special rules</option>
            <option value=" ">Don't include weapon special rules</option>
          </select>
          <br><br>

          <!-- DOS display settings -->
          <h3 class="radius_border_top">Display DOS as decimals</h3>
          <select name="attr_settings_rounding" class="full_width edge_padding radius_border_bottom">
            <option value="floor(">Rounded down</option>
            <option value="("selected="selected">Not rounded</option>
          </select>
          <br><br>

          <!-- color settings -->
          <h3 class="radius_border_top">Sheet color override</h3>
          <select name="attr_color_override" class="full_width edge_padding radius_border_bottom">
            <option value="0" selected="selected">Disabled</option>
            <option value="1">UNSC        Green</option>
            <option value="2">Covenant    Purple</option>
            <option value="3">Forerunner  Orange</option>
            <option value="4">Banished    Red</option>
            <option value="5">ONI         Blue</option>
            <option value="6">URF         Tan</option>
            <option value="7">SOS        burgundy</option>
            <option value="8">Pure        White</option>
            <option value="9">Darkmode    Grey</option>
            <option value="10">Metalic    Blue</option>
            <option value="11">Dull       Gold</option>
            <option value="12">You asked for this #696969</option>
            <option value="13">Far too vibrant    Pink</option>
            <option value="14">Funky      Mango</option>
            <option value="15">burgundy   Purple</option>
            <option value="16">You will suffer as I have</option>
            <option value="17">19339 and 5193 characters</option>
          </select>
        </div>

        <!-- second column -->
        <div class="bordered_container">

          <h3 class="radius_border">Advanced settings</h3>
          <br>

          <!-- tokenmod settings -->
          <h3 class="radius_border_top">Token mod command</h3>
          <textarea class="tokenmoddisplay radius_border_bottom" name="attr_Tokenmod_settings" placeholder="If you remove the default commands and want them back empty the text field and reopen the sheet.&#13; &#13;Some example commands:&#13;ARMR[@{damage_resistance_head}/@{damage_resistance_arms}/@{damage_resistance_chest}/@{damage_resistance_legs}] &#13;SLDS[@{shields}/@{shields|max}] &#13;WNDS[@{wounds}/@{wounds|max}] &#13;CAMO[?{Camo result in dos|0}]DOS">ARMR[@{damage_resistance_head}/@{damage_resistance_arms}/@{damage_resistance_chest}/@{damage_resistance_legs}] SLDS[@{shields}/@{shields|max}] WNDS[@{wounds}/@{wounds|max}] CAMO[?{Camo result in dos|0}]DOS</textarea>

          <h3 class="radius_border_top">Extra commands</h3>
          <textarea class="tokenmoddisplay radius_border_bottom" name="attr_Tokenmod_custom" placeholder="Type your custom commands here (They will be appended to the token mod command)"></textarea>

          <h3 class="radius_border_top">Vehicle speed buttons</h3>
          <select name="attr_Vehicle-speed_bar" class="full_width edge_padding radius_border_bottom">
            <option value="0" >Vehicle speed Disabled</option>
            <option value="1">Vehicle speed uses bar 1 (GREEN)</option>
            <option value="2">Vehicle speed uses bar 2 (BLUE)</option>
            <option value="3"selected="selected" >Vehicle speed uses bar 3 (RED)</option>
          </select>
          <br><br>

          <!-- community user import fields -->
          <h3 class="radius_border_top">Community google sheet import</h3>
          <div class="settings_compendium_grid">
            <Button type="action" class=" radius_border_left" name="act_compendiumapply">&nbsp;Apply&nbsp;</Button>
            <input name="attr_comp_manual" type="text" placeholder="Place EXPORT arrays from the community google sheet here" class="full_width radius_border_right"/>
          </div>
          <input name="attr_comp_feedback" type="text" placeholder="Waiting for compendium drop" class="full_width settings_compendium_text"/>

        </div>
      </div>
    </div>
  </div>












  <!-- Start of Npc sheet __________________________________________________________________________ -->

  <input type="checkbox" name="attr_sheet_select" value="NPC" class="hider hidden" />
  <div class="box whitetext">

    <!-- Initiative and npc info-->
    <div class="tabs_main">

      <!-- Initiative -->
      <div class="initiative_container bttn_top_padding">
        <button name="initiative" type="roll" class="clear bttn_top_padding"
        value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{initiative=@{initmod0}(@{initmod1}+@{initmod2}+@{initmod3}+[[((((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) + @{AGI_mythic}) - abs((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) - @{AGI_mythic})) / 2)]])&{tracker}]]}}">
        Initiative|<input name="attr_init_total" value="floor(@{initmod2}+@{initmod3}+ ((((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) + @{AGI_mythic}) - abs((((floor(@{AGI_mythic}/2) + 1) + abs(floor(@{AGI_mythic}/2) - 1)) / 2) - @{AGI_mythic})) / 2))" class="input_background input_init_background" disabled /></button>
        <select name="attr_initmod1" class="init_field">
          <option value="1d10" selected="selected">Standard</option>
          <option value="2d10k1">Fast Foot</option>
          <option value="?{dice|1d10}">Custom</option>
        </select>
        <p class="init_plus">+</p>
        <input class="full_width" name="attr_initmod2" type="text" value="0" />
        <p class="init_plus">+</p>
        <select name="attr_initmod3" class="init_field">
          <option value="[[(@{AGI}+@{AGI_advancement} + @{fatigue_mod})/10]]" selected="selected">Agility</option>
          <option value="[[(@{INT}+@{INT_advancement} + @{fatigue_mod})/10]]">Intellect</option>
          <option value="0">N/A</option>
        </select>
      </div>

      <!-- NPC cost rank, size -->
      <div class="NPC_stats_grid">
        <p class="bold_text">EXPERIENCE</p>
        <p class="bold_text">RANK</p>
        <p class="bold_text">SIZE</p>
        <input class="NPC_stats_fields" name="attr_npc_XP" type="text" placeholder="EXPERIENCE"/>
        <input class="NPC_stats_fields" name="attr_npc_RANK" type="text" placeholder="RANK"/>
        <input class="NPC_stats_fields" name="attr_npc_SIZE" type="text" placeholder="SIZE"/>
      </div>
      <br>
    </div>

    <!-- infographic -->
    <div class="infographic_main">

      <div class="infographic_toggles">
        <!-- Whisper button -->
        <label><input type="checkbox" name="attr_to-gm" value="/w gm" class="select_button hidden" /><span class="select_text">To GM</span></label>
        <!-- Inline mod button -->
        <label><input type="checkbox" name="attr_inlinemod-toggle" value="?{Modifier|0}" class="select_button hidden" checked/><span class="select_text">Inline Mod</span></label>
        <!-- Sheet toggle -->
        <select name="attr_sheet_select" class="full_width infographic_select">
          <option value="PC" selected="selected">PC sheet</option>
          <option value="NPC">NPC sheet</option>
          <option value="GM">GM sheet</option>
        </select>

        <!-- autodamage roller -->
        <button class="clear infographic_buttons" type="roll" name="autodamage" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{avrdam= [[([[(?{Amount of hits|1}*?{Amount of D10s|0})d10]]+[[?{Amount of hits|1}*?{Base|0}]]-[[?{Amount of hits|1} * (?{Armor|Target chest, @{target|damage_resistance_chest}|Target head,  @{target|damage_resistance_head}|Target legs,  @{target|damage_resistance_legs}|Target arms,  @{target|damage_resistance_arms}|Custom,  ?{Custom Armor&amp;#124;0&amp;#125;}- ?{Pierce|0})d1]])d1[roll, base, armor-pierce] ]]}}">Auto-Damage</button>
        <!-- multiroll roller -->
        <button class="clear infographic_buttons" type="roll" name="multiroll" value="
        @{to-gm}&{template:mythic} {{character= @{character_name}}}{{nrofrolls= [[?{How many rolls?|1}]]}}{{multiroll0=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*0]]-1d100)/10)]]}}{{multiroll1=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*1]]-1d100)/10)]]}}{{multiroll2=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*2]]-1d100)/10)]]}}{{multiroll3=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*3]]-1d100)/10)]]}}{{multiroll4=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*4]]-1d100)/10)]]}}{{multiroll5=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*5]]-1d100)/10)]]}}{{multiroll6=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*6]]-1d100)/10)]]}}{{multiroll7=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*7]]-1d100)/10)]]}}{{multiroll8=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*8]]-1d100)/10)]]}}{{multiroll9=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*9]]-1d100)/10)]]}}{{multiroll10=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*10]]-1d100)/10)]]}}{{multiroll11=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*11]]-1d100)/10)]]}}{{multiroll12=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*12]]-1d100)/10)]]}}{{multiroll13=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*13]]-1d100)/10)]]}}{{multiroll14=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*14]]-1d100)/10)]]}}{{multiroll15=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*15]]-1d100)/10)]]}}{{multiroll16=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*16]]-1d100)/10)]]}}{{multiroll17=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*17]]-1d100)/10)]]}}{{multiroll18=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*18]]-1d100)/10)]]}}{{multiroll19=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*19]]-1d100)/10)]]}}{{multiroll20=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*20]]-1d100)/10)]]}}{{multiroll21=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*21]]-1d100)/10)]]}}{{multiroll22=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*22]]-1d100)/10)]]}}{{multiroll23=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*23]]-1d100)/10)]]}}{{multiroll24=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*24]]-1d100)/10)]]}}{{multiroll25=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*25]]-1d100)/10)]]}}
        ">Multi-Roll</button>
        <!-- throwing roller -->
        <button class="clear infographic_buttons" type="roll" name="Throwing" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{throwmod= [[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]}} {{throwmod12=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.1)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod34=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.2)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod56=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.3)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod79=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.5)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1012=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/2)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1318=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/5)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1925=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/10)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{Item weight= [[?{Item weight|0}]]}}" >Throwing</button>
        <!-- scatter roller -->
        <button class="clear infographic_buttons" type="roll" name="scatter" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{scatter-range= [[[[(abs(?{Degrees of Failure|0})+floor(?{range from target|0}/100))*?{Target at|Normal range,1|Max range,2|Extreme range,4})]]d10*?{Scatter type|Weapon or ordnance,1|Thrown,0.5}]]}} {{scatter-direction=[[1d10]]d1}}" >Scatter</button>
        <!-- tokenmod roller -->
        <button class="clear infographic_buttons" type="roll" name="tokenmod" value='!token-mod --set tooltip|"@{Tokenmod_settings}" --on show_tooltip @{Tokenmod_custom}'>Tokenmod</button>
      </div>

      <!-- infographic wounds/ fatigue/ etc. -->
      <div class="infographic_grid">

        <div class="border_full">
          <button name="wounds_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Wounds}} {{2x2-name=Current}} {{2x2=@{wounds}}} {{2x2-name-max=Max}} {{2x2-max=@{wounds|max}}}">Wounds</button>
          <div class="infographic_field_2x">
            <p class="infographic_text">Current</p>
            <input class="full_width" type="text" name="attr_wounds" value="0" />
            <p class="infographic_text">Max</p>
            <input class="full_width infographic_last_element" type="text" name="attr_wounds_max" value="0" />
          </div>
        </div>

        <div class="border_full">
          <button name="fatigue_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Fatigue}} {{2x2-name=Current}} {{2x2=@{fatigue}}} {{2x2-name-max=Max}} {{2x2-max=@{fatigue|max}}}">Fatigue</button>
          <div class="infographic_field_2x">
            <p class="infographic_text">Current</p>
            <input class="full_width" type="text" name="attr_fatigue" value="0" />
            <p class="infographic_text">Max</p>
            <input class="full_width infographic_last_element" type="text" name="attr_fatigue_max" value="0" />
          </div>
        </div>

        <div class="border_full">
          <button name="luck_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Luck}} {{2x2-name=Current}} {{2x2=@{luck}}} {{2x2-name-max=Max}} {{2x2-max=@{luck|max}}}">Luck</button>
          <div class="infographic_field_2x">
            <p class="infographic_text">Current</p>
            <input class="full_width" type="text" name="attr_luck" value="0" />
            <p class="infographic_text">Max</p>
            <input class="full_width infographic_last_element" type="text" name="attr_luck_max" value="0" />
          </div>
        </div>

        <div class="border_full">
          <button name="support_roll" type="roll" class="infographic_header_text clear"
          value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=SP}} {{2x2-name=Current}} {{2x2=@{support}}} {{2x2-name-max=Max}} {{2x2-max=@{support|max}}}">S Pts</button>
          <div class="infographic_field_2x">
            <p class="infographic_text">Current</p>
            <input class="full_width" type="text" name="attr_support" value="0" />
            <p class="infographic_text">Max</p>
            <input class="full_width infographic_last_element" type="text" name="attr_support_max" value="0" />
          </div>
        </div>

        <div class="border_full">
          <button class="infographic_header_text clear" name="damage_resistance_roll" type="roll"  value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Damage Resistance}} {{4x2-1-name=Head}} {{4x2-1=@{damage_resistance_head}}} {{4x2-1-name-max=Arms}} {{4x2-1-max=@{damage_resistance_arms}}} {{4x2-2-name=Chest}} {{4x2-2=@{damage_resistance_chest}}} {{4x2-2-name-max=Legs}} {{4x2-2-max=@{damage_resistance_legs}}}">Damage Resistance</button>
          <div class="infographic_grid_4x">
            <p class="infographic_text">Head</p>
            <input class="full_width" type="text" name="attr_damage_resistance_head" value="0" />
            <p class="infographic_text">Arms</p>
            <input class="full_width" type="text" name="attr_damage_resistance_arms" value="0" />
            <p class="infographic_text">Chest</p>
            <input class="full_width" type="text" name="attr_damage_resistance_chest" value="0" />
            <p class="infographic_text">Legs</p>
            <input class="full_width infographic_last_element" type="text" name="attr_damage_resistance_legs" value="0" />
          </div>
        </div>

        <div class="border_full">
          <button name="shield_roll" type="roll" class="infographic_header_text clear"
          value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Shields}} {{4x2-1-name=Current}} {{4x2-1=@{shields}}} {{4x2-1-name-max=Max}} {{4x2-1-max=@{shields|max}}} {{4x2-2-name=Charge}} {{4x2-2=@{shields_charge}}} {{4x2-2-name-max=Delay}} {{4x2-2-max=@{shields_delay}}}">Shields</button>
          <div class="infographic_grid_4x">
            <p class="infographic_text">Current</p>
            <input class="full_width" type="text" name="attr_shields" value="0" />
            <p class="infographic_text">Max</p>
            <input class="full_width" type="text" name="attr_shields_max" value="0" />
            <p class="infographic_text">Delay</p>
            <input class="full_width" type="text" name="attr_shields_delay" value="0" />
            <p class="infographic_text">Charge</p>
            <input class="infographic_last_element full_width" type="text" name="attr_shields_charge" value="0" />
          </div>
        </div>

      </div>

      <!-- infographic armor display -->
      <fieldset name="repeating_armor" class="repeating_armor">
        <div class="armorgrid">

          <div class="border_full">
            <div class="infographic_header_grid_checkbox">
              <label class="infographic_header_checkmark"><input type="checkbox" checked name="attr_armor_worn" value="1" class="select_button hidden"/><span class="infographic_header_checkmark select_text">Worn</span></label>
              <button class="infographic_header_text clear" name="armor_roll" type="roll"  value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Armor}} {{4x2-1-name=Head}} {{4x2-1=@{armor_head}}} {{4x2-1-name-max=Arms}} {{4x2-1-max=@{armor_arms}}} {{4x2-2-name=Chest}} {{4x2-2=@{armor_chest}}} {{4x2-2-name-max=Legs}} {{4x2-2-max=@{armor_legs}}}">Armor</button>
            </div>

            <div class="infographic_grid_4x">
              <p class="infographic_text">Head</p>
              <input class="full_width" type="text" name="attr_armor_head" value="0" />
              <p class="infographic_text">Arms</p>
              <input class="full_width" type="text" name="attr_armor_arms" value="0" />
              <p class="infographic_text">Chest</p>
              <input class="full_width" type="text" name="attr_armor_chest" value="0" />
              <p class="infographic_text">Legs</p>
              <input class="full_width infographic_last_element" type="text" name="attr_armor_legs" value="0" />
            </div>
          </div>

          <div class="border_full">
            <button name="shield_roll" type="roll" class="infographic_header_text clear" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{name=Shields}} {{4x2-1-name=Current}} {{4x2-1=@{shields}}} {{4x2-1-name-max=Max}} {{4x2-1-max=@{shields|max}}} {{4x2-2-name=Charge}} {{4x2-2=@{shields_charge}}} {{4x2-2-name-max=Delay}} {{4x2-2-max=@{shields_delay}}}">Shields</button>

            <div class="infographic_grid_4x">
              <p class="infographic_text">Current</p>
              <input class="full_width" type="text" name="attr_shields" value="0" />
              <p class="infographic_text">Max</p>
              <input class="full_width" type="text" name="attr_shields_max" value="0" />
              <p class="infographic_text">Delay</p>
              <input class="full_width" type="text" name="attr_shields_delay" value="0" />
              <p class="infographic_text">Charge</p>
              <input class="infographic_last_element full_width" type="text" name="attr_shields_charge" value="0" />
            </div>
          </div>

          <div class="armorgrid_description_container"><textarea class="armorgrid_description" name="attr_description" placeholder="Armor special rules, Damage, Exteriour features, etc."></textarea></div>

        </div>
      </fieldset>

    </div>
    <br>


    <div class="NPC_core_grid">

      <!-- stats and characterics -->
      <div class="table border_full">
        <h3 class="radius_border_heading"><b>Stats</b></h3>
        <div class="NPC_characteristics_cols">
          <div class="NPC_characteristics_rows">
            <p class="bold_text">Characteristics</p>
            <button name="STR" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Strength}} {{roll=[[@{settings_rounding}([[@{STR} + @{STR_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">STR</button>
            <button name="TOU" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Toughness}} {{roll=[[@{settings_rounding}([[@{TOU} + @{TOU_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">TOU</button>
            <button name="AGI" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Agility}} {{roll=[[@{settings_rounding}([[@{AGI} + @{AGI_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">AGI</button>
            <button name="WFR" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Warfare Ranged}} {{roll=[[@{settings_rounding}([[@{WFR} + @{WFR_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">WFR</button>
            <button name="WFM" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Warfare Melee}} {{roll=[[@{settings_rounding}([[@{WFM} + @{WFM_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">WFM</button>
            <button name="INT" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Intelligence}} {{roll=[[@{settings_rounding}([[@{INT} + @{INT_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">INT</button>
            <button name="PER" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Perception}} {{roll=[[@{settings_rounding}([[@{PER} + @{PER_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">PER</button>
            <button name="CRG" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Courage}} {{roll=[[@{settings_rounding}([[@{CRG} + @{CRG_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">CRG</button>
            <button name="CHA" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Charisma}} {{roll=[[@{settings_rounding}([[@{CHA} + @{CHA_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">CHA</button>
            <button name="LDR" type="roll" class="clear full_width NPC_characteristics_roll"value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Leadership}} {{roll=[[@{settings_rounding}([[@{LDR} + @{LDR_advancement}+@{fatigue_mod}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">LDR</button>
          </div>
          <div>
            <p class="bold_text">&nbsp;</p>
            <input name="attr_STR" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_TOU" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_AGI" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_WFR" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_WFM" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_INT" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_PER" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_CRG" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_CHA" type="text" value="0" class="NPC_characteristics_fields full_width" />
            <input name="attr_LDR" type="text" value="0" class="NPC_characteristics_fields full_width" />
          </div>
          <div> </div>
          <div>
            <p class="bold_text">Mythic</p>
            <input type="text" name="attr_STR_mythic" value="0" class="NPC_characteristics_fields full_width">
            <input type="text" name="attr_TOU_mythic" value="0" class="NPC_characteristics_fields full_width">
            <input type="text" name="attr_AGI_mythic" value="0" class="NPC_characteristics_fields full_width">
          </div>
          <div>
            <p class="bold_text">&nbsp;</p>
          </div>
          <div>
            <p class="bold_text">Movement/carry</p>
            <h1 class="NPC_characteristics_fields">Half</h1>
            <h1 class="NPC_characteristics_fields">Full</h1>
            <h1 class="NPC_characteristics_fields">Charge</h1>
            <h1 class="NPC_characteristics_fields">Run</h1>
            <h1 class="NPC_characteristics_fields">Blur</h1>
            <h1 class="NPC_characteristics_fields">Jump</h1>
            <h1 class="NPC_characteristics_fields">Leap</h1>
            <h1 class="NPC_characteristics_fields">Carry</h1>
            <h1 class="NPC_characteristics_fields">Lift</h1>
            <h1 class="NPC_characteristics_fields">Push</h1>
          </div>
          <div>
            <p class="bold_text">&nbsp;</p>
            <input name="attr_half_move" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_full_move" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_charge_move" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_run_move" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_blur_move" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_jump_move" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_leap_move" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_carry" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_lift" type="text" class="NPC_characteristics_fields full_width" />
            <input name="attr_push" type="text" class="NPC_characteristics_fields full_width" />
          </div>
        </div>
      </div>

      <!-- Skills -->
      <div class="table border_full">
        <h3 class=""><b>Skillset</b></h3>
        <div class="skill_header">
          <p class="bold_text">Name</p>
          <p class="bold_text"></p>
          <p class="bold_text">Char</p>
          <p class="bold_text">Mod</p>
          <p class="bold_text">T</p>
          <p class="bold_text">+10</p>
          <p class="bold_text">+20</p>
          <p class="bold_text">Roll</p>
        </div>
        <fieldset name="skills" class="repeating_skills">
          <div class="skill_grid">
            <input name="attr_skill_name" type="text" value="" class="full_width text_left" />
            <select name="attr_skill_mod4" class="full_width full_height">
              <option value="0" ></option>
              <option value="20" >Adv.</option>
            </select>
            <select name="attr_skill_mod1" class="full_width full_height">
              <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}">STR</option>
              <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
              <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
              <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
              <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
              <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
              <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
              <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
              <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}" selected="selected">CHA</option>
              <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
            </select>
            <input name="attr_skill_mod2" type="number" value="0" />
            <input name="attr_skill_mod3" type="checkbox" value="20+@{skill_mod4}" class="skills_item" />
            <input name="attr_skill_mod3" type="checkbox" value="30+@{skill_mod4}" class="skills_item" />
            <input name="attr_skill_mod3" type="checkbox" value="40+@{skill_mod4}" class="skills_item" />
            <button type="roll" name="skill_Roll" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=@{skill_name} }} {{roll=[[@{settings_rounding}([[@{skill_mod1}]]+@{skill_mod2}+[[@{skill_mod3}-(20+@{skill_mod4})]]+@{inlinemod-toggle}-1d100)/10)]]}}" class="clear"><input name="attr_skill_total" value="@{skill_mod1}]]+@{skill_mod2}+[[@{skill_mod3}-(20+@{skill_mod4})" class="input_background" disabled /></button>
          </div>
        </fieldset>
      </div>
    </div>
    <br>

    <!-- page selection buttons -->
    <div class="NPC_pageselect">
      <label><input type="checkbox" name="attr_npc_tab" class="select_button hidden" value="vehicles"/><span class="select_text">Vehicles</span></label>
      <label><input type="checkbox" name="attr_npc_tab" class="select_button hidden" value="medical" checked/><span class="select_text">Medical</span></label>
      <label><input type="checkbox" name="attr_npc_tab" class="select_button hidden" value="vehicleweps"/><span class="select_text">Vehicle weapons</span></label>
      <label><input type="checkbox" name="attr_npc_tab" class="select_button hidden" value="equipment"/><span class="select_text">equipment</span></label>
    </div>


    <div class="NPC_divider">
      <div>

        <!-- NPC vehicles -->
        <div>
          <input name="attr_npc_tab" type="checkbox"  value="vehicles" class="hider hidden" />
          <div>
            <fieldset name="vehicles-R" class="repeating_vehicles">
              <div class="border_full">

                <div class="vehicles_grid_header vehicle_break">
                  <select name="attr_vehicle-shield" class="vehicles_Gs full_width">
                    <option value="0" selected="selected">Unshielded</option>
                    <option value="1">Shielded</option>
                  </select>

                  <input name="attr_vehicle-name" type="text" class="vehicles_Gn full_width" placeholder="Name" />

                  <select name="attr_vehicle-type" class="vehicles_Gt full_width">
                    <option value="0" selected="selected">Ground/Air</option>
                    <option value="1">Walker</option>
                    <option value="2">Stationary</option>
                  </select>
                </div>

                <div class="vehicles_grid_4x vehicle_break">
                  <h3 class="radius_border_top">Length</h3>
                  <h3 class="radius_border_top">Width</h3>
                  <h3 class="radius_border_top">Height</h3>
                  <h3 class="radius_border_top">Weight</h3>

                  <input name="attr_vehicle-length" type="text" class="full_width" placeholder="Meters" />
                  <input name="attr_vehicle-width" type="text" class="full_width" placeholder="Meters" />
                  <input name="attr_vehicle-height" type="text" class="full_width" placeholder="Meters" />
                  <input name="attr_vehicle-weight" type="text" class="full_width" placeholder="kg / tonne" />
                </div>

                <input name="attr_vehicle-type" type="checkbox" value="0" class="hidden hider" checked />
                <div>
                  <h3 class="radius_border_top">MOBILITY</h3>
                  <div class="vehicles_grid_5x vehicle_break vehicle_background">
                    <button class="clear vehicle_smallrollbutton" type="roll" name="vehicle-accelerate" value="!token-mod {{--set bar@{Vehicle-speed_bar}_max|@{vehicle-top_speed} bar@{Vehicle-speed_bar}_value|+@{vehicle-accelerate}}}">Accelerate</button>
                    <button class="clear vehicle_smallrollbutton" type="roll" name="vehicle-Brake" value="!token-mod {{--set bar@{Vehicle-speed_bar}_max|@{vehicle-top_speed} bar@{Vehicle-speed_bar}_value|-@{vehicle-brake}}}">Brake</button>
                    <div>Top Speed</div>
                    <div>Maneuver</div>
                    <div></div>

                    <input name="attr_vehicle-accelerate" type="text" class="full_width" placeholder="MpT" />
                    <input name="attr_vehicle-brake" type="text" class="full_width" placeholder="MpT" />
                    <input name="attr_vehicle-top_speed" type="text" class="full_width" placeholder="MpT (Km/H)" />
                    <input name="attr_vehicle-maneuver" type="text" class="full_width" placeholder="Max Evasion" />
                    <button class="clear " type="roll" name="vehicle-evade" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Vehicle Evasion}} {{roll=[[@{settings_rounding}([[ {0d1+(@{AGI} + @{AGI_advancement} + @{fatigue_mod}),0d1+@{vehicle-maneuver}}kl1 ]][lowest of AGI,AGI]+@{mod2_evasion}+[[@{mod3_evasion} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}">Evade</button>
                  </div>
                </div>

                <input name="attr_vehicle-type" type="checkbox" value="1" class="hidden hider" />
                <div>
                  <h3 class="radius_border_top">CHARACTERISTICS AND SPEED</h3>
                  <div class="vehicles_grid_4x vehicle_background vehicle_break">
                    <div>STR</div>
                    <div>Mythic STR</div>
                    <div>AGI</div>
                    <div>Mythic AGI</div>

                    <input name="attr_vehicle-STR" type="text" class="full_width" value="0" />
                    <input name="attr_vehicle-STR_mythic" type="text" class="full_width" value="0" />
                    <input name="attr_vehicle-AGI" type="text" class="full_width" value="0" />
                    <input name="attr_vehicle-AGI_mythic" type="text" class="full_width" value="0" />

                    <div>Half move</div>
                    <div>Full move</div>
                    <div>Run</div>
                    <div>Charge</div>

                    <input name="attr_vehicle-half_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*1" disabled/>
                    <input name="attr_vehicle-full_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*2" disabled/>
                    <input name="attr_vehicle-run_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*3" disabled/>
                    <input name="attr_vehicle-charge_move" type="text" class="full_width " value="floor(@{vehicle-AGI}/10 + @{vehicle-AGI_mythic})*6" disabled/>
                    <div>Jump</div>
                    <div>Leap</div>
                    <div></div>
                    <div></div>

                    <input name="attr_vehicle-jump" type="text" class="full_width" value="@{vehicle-STR_mythic}/2" disabled />
                    <input name="attr_vehicle-leap" type="text" class="full_width" value="@{vehicle-STR_mythic}" disabled />
                    <button class="clear " type="roll" name="vehicle-evade" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Vehicle Evasion}} {{roll=[[@{settings_rounding}([[ {0d1+(@{AGI} + @{AGI_advancement} + @{fatigue_mod}),0d1+@{vehicle-AGI}}kl1 ]][lowest of AGI,AGI]+@{mod2_evasion}+[[@{mod3_evasion} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}">Evade</button>
                    <button class="clear " type="roll" name="vehicle-parry" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{roll-name=Vehicle Parry}} {{roll=[[@{settings_rounding}([[ {0d1+(@{WFM} + @{WFM_advancement} + @{fatigue_mod}),0d1+@{vehicle-AGI}}kl1 ]][lowest of WFM,AGI]+@{mod2_evasion}+[[@{mod3_evasion} -20]]+@{inlinemod-toggle}-1d100)/10)]]}}">Parry</button>
                  </div>
                </div>

                <div class="vehicles_grid_2x vehicle_break">
                  <h3 class="radius_border_top">CREW</h3>
                  <h3 class="radius_border_top">COMPLEMENT</h3>
                  <input name="attr_vehicle-crew" type="text" class="full_width" placeholder="Minimum Crew Prerequisite" />
                  <input name="attr_vehicle-compliment" type="text" class="full_width" placeholder="Maximum Crew Space" />
                </div>

                <input name="attr_vehicle-type" type="checkbox" value="2" class="hidden hidernot" />
                <div class="vehicle_break">
                  <h3 class="radius_border_top">BREAKPOINTS</h3>
                  <div class="vehicles_grid_5x vehicle_background">
                    <div>1-15 WEP</div>
                    <div>16-30 MOB</div>
                    <div>31-45 ENG</div>
                    <div>46-60 OPT</div>
                    <div>61-100 HULL</div>
                    <input name="attr_vehicle-bp_weapon" type="text" value="0" class="full_width"/>
                    <input name="attr_vehicle-bp_mobility" type="text" value="0" class="full_width"/>
                    <input name="attr_vehicle-bp_engine"type="text" value="0" class="full_width"/>
                    <input name="attr_vehicle-bp_optic"type="text" value="0" class="full_width"/>
                    <input name="attr_vehicle-bp_hull"type="text" value="0" class="full_width"/>
                  </div>
                </div>

                <input name="attr_vehicle-type" type="checkbox" value="2" class="hidden hider" />
                <div class="vehicle_break">
                  <h3 class="radius_border_top">HULL INTEGRITY</h3>
                  <input name="attr_vehicle-bp_hull"type="text" value="0" class="full_width" placeholder="Hull Points" />
                </div>

                <input name="attr_vehicle-bp_hull" type="checkbox" value="0" class="hidden hider" checked/>
                <div class="vehicle_break">
                  <h3 class="radius_border_top">DOOMED STATE</h3>
                  <div>
                    <input name="attr_doomedstate_value" type="text" placeholder="Doomedstate damage taken" class="full_width_49px vehicles_descriptor" />
                    <label class="margin_adjust"><input type="checkbox" name="attr_collapse2" value="7" class="hider select_button hidden" /><span class="select_text radius_border_right">▼</span></label>
                    <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title= @{vehicle-name} Doomed State (@{doomedstate_value})}} {{description=@{doomedstate_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>

                    <input name="attr_collapse2" type="checkbox"  value="7" class="hider hidden" />
                    <textarea name="attr_doomedstate_desc" class=" description_rounded_margin"></textarea>

                    <input name="attr_collapse2" type="checkbox"  value="7" class="hidernot hidden" />
                    <div class="vehicle_break"></div>
                  </div>
                </div>

                <h3 class="radius_border_top">ARMOR</h3>
                <div class="vehicles_grid_5x vehicle_break vehicle_background">
                  <div>Front</div>
                  <div>Back</div>
                  <div>Side</div>
                  <div>Top</div>
                  <div>Bottom</div>
                  <input name="attr_vehicle-armor_front" type="text" placeholder="0" class="full_width" />
                  <input name="attr_vehicle-armor_back" type="text" placeholder="0" class="full_width" />
                  <input name="attr_vehicle-armor_side" type="text" placeholder="0" class="full_width" />
                  <input name="attr_vehicle-armor_top" type="text" placeholder="0" class="full_width" />
                  <input name="attr_vehicle-armor_bottom" type="text" placeholder="0" class="full_width" />
                </div>

                <input name="attr_vehicle-type" type="checkbox" value="0" class="hidden hider" checked/>
                <div>
                  <div class="vehicles_grid_2x vehicle_break">
                    <h3 class="radius_border_top">SIZE POINTS</h3>
                    <h3 class="radius_border_top">WEAPON POINTS</h3>
                    <input name="attr_vehicle-size-points" type="text" placeholder="0" class="full_width"/>
                    <input name="attr_vehicle-weapon-points" type="text" placeholder="0" class="full_width"/>
                  </div>
                </div>

                <input name="attr_vehicle-type" type="checkbox" value="1" class="hidden hider" />
                <div>
                  <h3 class="radius_border_top">MISCELLANEOUS</h3>
                  <div class="vehicles_grid_4x vehicle_break vehicle_background">

                    <div>Size Points</div>
                    <div>Weapon Points</div>
                    <div>Size category</div>
                    <div>Reach</div>

                    <input name="attr_vehicle-size-points" type="text" placeholder="0" class="full_width"/>
                    <input name="attr_vehicle-weapon-points" type="text" placeholder="0" class="full_width"/>
                    <input name="attr_vehicle-size-category" type="text" placeholder="Giant" class="full_width"/>
                    <input name="attr_vehicle-Reach" type="text" placeholder="0" class="full_width"/>
                  </div>
                </div>

                <input name="attr_vehicle-shield" type="checkbox" value="1" class="hidden hider" />
                <div>
                  <h3 class="radius_border_top">ENERGY SHIELD</h3>
                  <div class="vehicles_grid_4x vehicle_break vehicle_background">
                    <div>Shield Integrity</div>
                    <div>Shield Current</div>
                    <div>Recharge Delay</div>
                    <div>Recharge Rate</div>

                    <input name="attr_vehicle-shield-rating" type="text" placeholder="0" class="full_width" />
                    <input name="attr_vehicle-shield-current" type="text" placeholder="0" class="full_width" />
                    <input name="attr_vehicle-recharge-delay" type="text" placeholder="0" class="full_width" />
                    <input name="attr_vehicle-recharge-rate" type="text" placeholder="0" class="full_width" />
                  </div>
                </div>

                <div>
                  <input name="attr_aditional_info" type="text" placeholder="Additional Info" class="full_width_49px" />
                  <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="5" class="hider select_button hidden" /><span class="select_text ">▼</span></label>
                  <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{aditional_info} }} {{description=@{aditional_info_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
                  <input name="attr_collapse" type="checkbox"  value="5" class="hider hidden" />
                  <textarea name="attr_aditional_info_desc" class="description_rounded_margin" placeholder="Enter any vehicle-specific rules or other unique information here."></textarea>
                </div>
                <div>
                  <input name="attr_modifications" type="text" placeholder="Modifications" class="full_width_49px vehicles_descriptor" />
                  <label class="margin_adjust"><input type="checkbox" name="attr_collapse2" value="6" class="hider select_button hidden" /><span class="select_text radius_border_right">▼</span></label>
                  <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{modifications} }} {{description=@{modifications_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
                  <input name="attr_collapse2" type="checkbox"  value="6" class="hider hidden" />
                  <textarea name="attr_modifications_desc" class=" description_rounded_margin" placeholder="Vehicles in Mythic can be modified in many ways.  These use a Vehicle’s Weapon Points and Size Points, which are specialized Hardpoints on a Vehicle. Each Modification takes a specified amount of Weapon and Size Points.
                  &#10;Vehicle modifications are classified into five categories; Body, Propulsion, Electronic, Combat, and Miscellaneous."></textarea>
                </div>
              </div>
              <br>
            </fieldset>
          </div>
        </div>

        <!-- NPC medical -->
        <div>
          <input name="attr_npc_tab" type="checkbox"  value="medical" class="hider hidden" checked/>
          <div>

            <div class="border_full medical_padding">
              <div class="medical_damage_effects medical_padding">

                <div>
                  <Button type="action" class="medical_button" name="act_medicalturn">&nbsp;Turn&nbsp;</Button>
                  <Button type="action" class="medical_button" name="act_medicalreset">&nbsp;Reset all&nbsp;</Button>
                </div>

                <div>
                  <h3 class="radius_border_top">Stunned</h3>
                  <input   name="attr_medical_status_Stunned" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Lost</h3>
                  <input   name="attr_medical_status_Lost" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Lockjaw</h3>
                  <input   name="attr_medical_status_Lockjaw" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Tinnitus</h3>
                  <input   name="attr_medical_status_Tinnitus" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Vision L</h3>
                  <input   name="attr_medical_status_Visionloss" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Shellshk</h3>
                  <input   name="attr_medical_status_Shellshock" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Whiplash</h3>
                  <input   name="attr_medical_status_Whiplash" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Winded</h3>
                  <input   name="attr_medical_status_Winded" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Gasping</h3>
                  <input   name="attr_medical_status_Gasping" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Slowed</h3>
                  <input   name="attr_medical_status_Slowed" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Suffocat</h3>
                  <input   name="attr_medical_status_suffocation" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Tattered</h3>
                  <input   name="attr_medical_status_Tattered" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Paralyzd </h3>
                  <input   name="attr_medical_status_Paralyzed" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Weaknd</h3>
                  <input   name="attr_medical_status_Weakened" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Flinch</h3>
                  <input   name="attr_medical_status_Flinch" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Drop</h3>
                  <input   name="attr_medical_status_Drop" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Bloodl</h3>
                  <input   name="attr_medical_status_Bloodloss" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">Knockdn</h3>
                  <input   name="attr_medical_status_Knockdown" class="full_width" type="text">
                </div>

                <div>
                  <h3 class="radius_border_top">L Death</h3>
                  <input   name="attr_medical_status_Loomingdeath" class="full_width" type="text">
                </div>

              </div>

              <div>
                <h3 class="radius_border_top">Other effects</h3>
                <textarea name="attr_medical_status_Othereffects" class="medical_damage_effects_textarea"></textarea>
              </div>

            </div>

            <div class="border_full">

              <div class="medicalHOV">
                <h3 class="radius_border">Neck</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_neck1" class="medical_button"><div class="medical_text">1-25&nbsp;	Whiplash (1)                                        </div></button></div>
                  <div><button type="action" name="act_neck2" class="medical_button"><div class="medical_text">26-40	Whiplash (2)                                            </div></button></div>
                  <div><button type="action" name="act_neck3" class="medical_button"><div class="medical_text">41-55	Whiplash (3), Bloodloss (1)                             </div></button></div>
                  <div><button type="action" name="act_neck4" class="medical_button"><div class="medical_text">56-70	Whiplash (4), Bloodloss (2), Looming Death (20)         </div></button></div>
                  <div><button type="action" name="act_neck5" class="medical_button"><div class="medical_text">71+	&nbsp; Whiplash (4), Bloodloss (4), Looming Death (1D10)  </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Mouth</h3>
                <div class="medicalHOV_not">
                  <div><button type="action"  name="act_mouth1" class="medical_button"><div class="medical_text">1-20&nbsp; Lockjaw (1)                                      </div></button></div>
                  <div><button type="action"  name="act_mouth2" class="medical_button"><div class="medical_text">21-30	Lockjaw (5)                                           </div></button></div>
                  <div><button type="action"  name="act_mouth3" class="medical_button"><div class="medical_text">31-40	Lockjaw (10), Lose 1D5 Teeth                          </div></button></div>
                  <div><button type="action"  name="act_mouth4" class="medical_button"><div class="medical_text">41-50	Lockjaw (20), Lose 2D5 Teeth, &nbsp;Whiplash (2)      </div></button></div>
                  <div><button type="action"  name="act_mouth5" class="medical_button"><div class="medical_text">51+	&nbsp; Lockjaw (P), &nbsp;lose 2D10 Teeth, Whiplash (4) </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Nose</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_nose1" class="medical_button"><div class="medical_text">1-20&nbsp; Nose Broken, Lost (2)              </div></button></div>
                  <div><button type="action" name="act_nose2" class="medical_button"><div class="medical_text">21-30 Nose Broken, Lost (4)                   </div></button></div>
                  <div><button type="action" name="act_nose3" class="medical_button"><div class="medical_text">31-40 Nose Broken, Gasping (2)                </div></button></div>
                  <div><button type="action" name="act_nose4" class="medical_button"><div class="medical_text">41-50 Nose Broken, Gasping (3)                </div></button></div>
                  <div><button type="action" name="act_nose5" class="medical_button"><div class="medical_text">51+ &nbsp; Nose Lost,&nbsp;&nbsp; Gasping (4) </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Ear</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_ear1" class="medical_button"><div class="medical_text">1-20&nbsp; Tinnitus (1)                                    </div></button></div>
                  <div><button type="action" name="act_ear2" class="medical_button"><div class="medical_text">21-30	Tinnitus (3)                                         </div></button></div>
                  <div><button type="action" name="act_ear3" class="medical_button"><div class="medical_text">31-40	Tinnitus (5),&nbsp; Flinch (1)                       </div></button></div>
                  <div><button type="action" name="act_ear4" class="medical_button"><div class="medical_text">41-50	Tinnitus (10), Flinch (2),&nbsp; &nbsp; Whiplash (1) </div></button></div>
                  <div><button type="action" name="act_ear5" class="medical_button"><div class="medical_text">51+ &nbsp;	Tinnitus (60), Stunned (3D5), Ear Lost         </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Eye</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_eye1" class="medical_button"><div class="medical_text">1-20&nbsp;	Vision Loss (3)                                   </div></button></div>
                  <div><button type="action" name="act_eye2" class="medical_button"><div class="medical_text">21-30	Vision Loss (5)                                         </div></button></div>
                  <div><button type="action" name="act_eye3" class="medical_button"><div class="medical_text">31-40	Vision Loss (10), Flinch (1)                            </div></button></div>
                  <div><button type="action" name="act_eye4" class="medical_button"><div class="medical_text">41-50	Vision Loss (10), Flinch (2), &nbsp; &nbsp;Whiplash (1) </div></button></div>
                  <div><button type="action" name="act_eye5" class="medical_button"><div class="medical_text">51+ &nbsp; Vision Loss (60), Stunned (3D5), Eye Los           </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Forehead</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_forehead1" class="medical_button"><div class="medical_text">1-30&nbsp;	Lost (2)                                   </div></button></div>
                  <div><button type="action" name="act_forehead2" class="medical_button"><div class="medical_text">31-50 Lost (4),&nbsp; Shellshock (1)                  </div></button></div>
                  <div><button type="action" name="act_forehead3" class="medical_button"><div class="medical_text">51-65 Lost (6),&nbsp; Shellshock (2)                  </div></button></div>
                  <div><button type="action" name="act_forehead4" class="medical_button"><div class="medical_text">66-80 Lost (10), Shellshock (3D5), Looming Death (10) </div></button></div>
                  <div><button type="action" name="act_forehead5" class="medical_button"><div class="medical_text">81+ &nbsp; Instant Death, Head destroyed              </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Hand</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_hand1" class="medical_button"><div class="medical_text">1-25&nbsp;	Flinch (1)                             </div></button></div>
                  <div><button type="action" name="act_hand2" class="medical_button"><div class="medical_text">26-40 Flinch (1), Drop                            </div></button></div>
                  <div><button type="action" name="act_hand3" class="medical_button"><div class="medical_text">41-55 Flinch (3), Drop (3), Bone Broken (Fracture)</div></button></div>
                  <div><button type="action" name="act_hand4" class="medical_button"><div class="medical_text">56-70 Flinch (3), Drop (5), Bone Broken (Shatter) </div></button></div>
                  <div><button type="action" name="act_hand5" class="medical_button"><div class="medical_text">71+ &nbsp;	Flinch (5), Hand lost                  </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Bicep and Forearm</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_bicepforearm1" class="medical_button"><div class="medical_text">1-30&nbsp;	Flinch (1)                    </div></button></div>
                  <div><button type="action" name="act_bicepforearm2" class="medical_button"><div class="medical_text">31-50 Flinch (2), Paralyzed (1)          </div></button></div>
                  <div><button type="action" name="act_bicepforearm3" class="medical_button"><div class="medical_text">51-65 Flinch (5), Bone Broken (Fracture) </div></button></div>
                  <div><button type="action" name="act_bicepforearm4" class="medical_button"><div class="medical_text">66-80 Flinch (6), Bone Broken (Shatter)  </div></button></div>
                  <div><button type="action" name="act_bicepforearm5" class="medical_button"><div class="medical_text">81+ &nbsp;	Looming Death (10), Arm lost  </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Elbow and Shoulder</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_elbowshoulder1" class="medical_button"><div class="medical_text">1-25&nbsp;	Weakened (1)                                                  </div></button></div>
                  <div><button type="action" name="act_elbowshoulder2" class="medical_button"><div class="medical_text">26-40	Weakened (2), Drop                                                  </div></button></div>
                  <div><button type="action" name="act_elbowshoulder3" class="medical_button"><div class="medical_text">41-55	Weakened (4), Drop (2), &nbsp; &nbsp; &nbsp;Bone Broken (Fracture)  </div></button></div>
                  <div><button type="action" name="act_elbowshoulder4" class="medical_button"><div class="medical_text">56-70	Weakened (4), Paralyzed (2), Bone Broken (Shatter)                  </div></button></div>
                  <div><button type="action" name="act_elbowshoulder5" class="medical_button"><div class="medical_text">71+	&nbsp; Looming Death (9), Arm lost                                    </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Foot</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_foot1" class="medical_button"><div class="medical_text">1-25&nbsp;	Slowed (2)                                                              </div></button></div>
                  <div><button type="action" name="act_foot2" class="medical_button"><div class="medical_text">26-40	Slowed (3), &nbsp;Knockdn                                                   </div></button></div>
                  <div><button type="action" name="act_foot3" class="medical_button"><div class="medical_text">41-55	Slowed (5), &nbsp;Knockdn (2), &nbsp; &nbsp; Bone Broke (Fracture)  </div></button></div>
                  <div><button type="action" name="act_foot4" class="medical_button"><div class="medical_text">56-70	Slowed (6), &nbsp;Knockdn Prone (2), Bone Broke (Shatter)                  </div></button></div>
                  <div><button type="action" name="act_foot5" class="medical_button"><div class="medical_text">71+	&nbsp; Slowed (10), Knockdn Prone (4), Foot Lost                              </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Shin and Thigh</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_shinthigh1" class="medical_button"><div class="medical_text">1-30&nbsp;	Slowed (1)                                              </div></button></div>
                  <div><button type="action" name="act_shinthigh2" class="medical_button"><div class="medical_text">31-50	Slowed (3)                                                    </div></button></div>
                  <div><button type="action" name="act_shinthigh3" class="medical_button"><div class="medical_text">51-65	Slowed (6), &nbsp;Paralyzed (2), Bone Broke (Fracture)       </div></button></div>
                  <div><button type="action" name="act_shinthigh4" class="medical_button"><div class="medical_text">66-80	Slowed (7), &nbsp;Paralyzed (3), Bone Broke (Shatter)        </div></button></div>
                  <div><button type="action" name="act_shinthigh5" class="medical_button"><div class="medical_text">81+ &nbsp; Slowed (10), Paralyzed (4), L Death (8), Leg Lost  </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Knee and Hip</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_kneehip1" class="medical_button"><div class="medical_text">1-25&nbsp;	Knockdown                                               </div></button></div>
                  <div><button type="action" name="act_kneehip2" class="medical_button"><div class="medical_text">26-40	Knockdown (1)                                                 </div></button></div>
                  <div><button type="action" name="act_kneehip3" class="medical_button"><div class="medical_text">41-55	Knockdown (2), &nbsp;Slowed (3), &nbsp;Bone Broken (Fracture) </div></button></div>
                  <div><button type="action" name="act_kneehip4" class="medical_button"><div class="medical_text">56-70	Knockdown (3), &nbsp;Slowed (5), &nbsp;Bone Broken (Shatter)  </div></button></div>
                  <div><button type="action" name="act_kneehip5" class="medical_button"><div class="medical_text">71+	&nbsp; Knockdown (10), Slowed (10), L Death (8), Leg Lost </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Pelvis</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_pelvis1" class="medical_button"><div class="medical_text">1-25&nbsp;	Slowed (2)                                              </div></button></div>
                  <div><button type="action" name="act_pelvis2" class="medical_button"><div class="medical_text">26-40	Slowed (3), Tattered (2)                                      </div></button></div>
                  <div><button type="action" name="act_pelvis3" class="medical_button"><div class="medical_text">41-55	Slowed (4), Tattered (3), &nbsp;Bone Broken (Fracture)              </div></button></div>
                  <div><button type="action" name="act_pelvis4" class="medical_button"><div class="medical_text">56-70	Slowed (4), Tattered (5), &nbsp;Bone Broken (Shatter)               </div></button></div>
                  <div><button type="action" name="act_pelvis5" class="medical_button"><div class="medical_text">71+ &nbsp;	Slowed (P), Tattered (20), Bone Broken (Shatter)</div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Intestines</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_intestines1" class="medical_button"><div class="medical_text">1-25&nbsp;	Tattered (2)                                      </div></button></div>
                  <div><button type="action" name="act_intestines2" class="medical_button"><div class="medical_text">26-40	Tattered (3), Weakened (2)                              </div></button></div>
                  <div><button type="action" name="act_intestines3" class="medical_button"><div class="medical_text">41-50	Tattered (4), Weakened (4)                              </div></button></div>
                  <div><button type="action" name="act_intestines4" class="medical_button"><div class="medical_text">51-60	Tattered (5), Weakened (5), Looming Death (15)          </div></button></div>
                  <div><button type="action" name="act_intestines5" class="medical_button"><div class="medical_text">61+ &nbsp;	Tattered (6), Weakened (5), Looming Death (1D10)  </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Spine</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_spine1" class="medical_button"><div class="medical_text">1-25&nbsp;	Knockdown, &nbsp; &nbsp; &nbsp; &nbsp; &nbsp; Flinch (1), &nbsp; &nbsp;Drop </div></button></div>
                  <div><button type="action" name="act_spine2" class="medical_button"><div class="medical_text">26-40	Knockdn(1), &nbsp; &nbsp; &nbsp; Flinch (2), &nbsp; &nbsp;Drop (2)             </div></button></div>
                  <div><button type="action" name="act_spine3" class="medical_button"><div class="medical_text">41-55	Knockdn(3), Paralyzd(2),  Bone Broke(Fractured)       </div></button></div>
                  <div><button type="action" name="act_spine4" class="medical_button"><div class="medical_text">56-70	Knockdn Prone(5), Paralyzd(5), Bone Broke(Shattered)                      </div></button></div>
                  <div><button type="action" name="act_spine5" class="medical_button"><div class="medical_text">71+ &nbsp;	Spine destroyed, Instant Death                                              </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Stomach, Kidney, and Liver</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_stomach1" class="medical_button"><div class="medical_text">1-25&nbsp;	Gasping (1)                                   </div></button></div>
                  <div><button type="action" name="act_stomach2" class="medical_button"><div class="medical_text">26-40	Gasping (2), Tattered (1)                           </div></button></div>
                  <div><button type="action" name="act_stomach3" class="medical_button"><div class="medical_text">41-50	Gasping (3), Tattered (2)                           </div></button></div>
                  <div><button type="action" name="act_stomach4" class="medical_button"><div class="medical_text">51-60	Gasping (4), Tattered (5), Looming Death (20)       </div></button></div>
                  <div><button type="action" name="act_stomach5" class="medical_button"><div class="medical_text">61+ &nbsp;	Gasping (5), Tattered (6), Looming Death (10) </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Heart</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_heart1"class="medical_button"><div class="medical_text">1-25&nbsp;	Winded (5)                                        </div></button></div>
                  <div><button type="action" name="act_heart2"class="medical_button"><div class="medical_text">26-40	Winded (10), Stunned (2D5), Looming Death (5D10)        </div></button></div>
                  <div><button type="action" name="act_heart3"class="medical_button"><div class="medical_text">41-50	Winded (10), Stunned (3D5), Looming Death (3D10)        </div></button></div>
                  <div><button type="action" name="act_heart4"class="medical_button"><div class="medical_text">51-60	Winded (P), &nbsp;Stunned (3D5), Looming Death (1D10) </div></button></div>
                  <div><button type="action" name="act_heart5"class="medical_button"><div class="medical_text">61+ &nbsp;	Heart destroyed, Instant Death                    </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Lungs</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_lungs1" class="medical_button"><div class="medical_text">1-25&nbsp;	Winded (2), Gasping (2)               </div></button></div>
                  <div><button type="action" name="act_lungs2" class="medical_button"><div class="medical_text">26-40	Winded (3), Gasping (3)                     </div></button></div>
                  <div><button type="action" name="act_lungs3" class="medical_button"><div class="medical_text">41-50	Winded (4), Gasping (5), Looming Death (20) </div></button></div>
                  <div><button type="action" name="act_lungs4" class="medical_button"><div class="medical_text">51-60	Winded (5), Gasping (5), Looming Death (15) </div></button></div>
                  <div><button type="action" name="act_lungs5" class="medical_button"><div class="medical_text">61+	&nbsp; Winded (6), Gasping (5), Suffocation   </div></button></div>
                </div>
              </div>

              <div class="medicalHOV">
                <h3 class="radius_border">Ribcage or No Organ Struck</h3>
                <div class="medicalHOV_not">
                  <div><button type="action" name="act_ribcage1" class="medical_button"><div class="medical_text">1-30&nbsp;	Winded (1), Gasping (1)                         </div></button></div>
                  <div><button type="action" name="act_ribcage2" class="medical_button"><div class="medical_text">31-50	Winded (2), Gasping (1)                               </div></button></div>
                  <div><button type="action" name="act_ribcage3" class="medical_button"><div class="medical_text">51-65	Winded (3), Gasping (2)                               </div></button></div>
                  <div><button type="action" name="act_ribcage4" class="medical_button"><div class="medical_text">66-80	Winded (4), Gasping (4), Bone Broken (Fractured)      </div></button></div>
                  <div><button type="action" name="act_ribcage5" class="medical_button"><div class="medical_text">81+ &nbsp;	Winded (5), Gasping (4), Bone Broken (Shattered)</div></button></div>
                </div>
              </div>

            </div>
          </div>
        </div>

        <!-- NPC vehicle weps -->
        <div>
          <input name="attr_npc_tab" type="checkbox"  value="vehicleweps" class="hider hidden" />
          <div>
            <div class="vehicle_weapons NPC_margin">

              <!-- NPC vic ranged weps -->
              <div class="equipment_ranged_weapons border_full">
                <h3>Vehicle Ranged Weapons</h3>
                <fieldset name="vehiclerangedweapons" class="repeating_vrangedweapons">
                  <div class="equipment_ranged_weapons_rep">
                    <div class="equipment_ranged_weapons_grid1">
                      <div class="equipment_ranged_weapons_gs1">Name</div>
                      <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                      <div class="equipment_ranged_weapons_gs3">Type</div>
                      <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                      <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                        <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                        <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                        <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                        <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" selected="selected">WFR</option>
                        <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
                        <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                        <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                        <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                        <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                        <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                      </select>
                    </div>
                    <div class="equipment_ranged_weapons_grid2">
                      <div class="equipment_ranged_weapons_gs5">Range</div>
                      <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                      <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                      <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                      <div class="equipment_ranged_weapons_gs9">Base</div>
                      <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                      <div class="equipment_ranged_weapons_gs11">Pierce</div>
                      <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
                    </div>
                    <div class="equipment_ranged_weapons_grid3">
                      <div class="equipment_ranged_weapons_gs13">Hit Mod</div>
                      <input class="equipment_ranged_weapons_gs14 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                      <div class="equipment_ranged_weapons_gs15">Magazine</div>
                      <input class="equipment_ranged_weapons_gs16 full_width" type="text" value="0" name="attr_weapon_mag" />
                      <div class="equipment_ranged_weapons_gs17">/</div>
                      <input class="equipment_ranged_weapons_gs18 full_width" type="text" value="0" name="attr_weapon_mag_max" />
                      <button class="equipment_ranged_weapons_gs19 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}">Hit</button>
                      <button class="equipment_ranged_weapons_gs20 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}" >DMG</button>
                    </div>
                    <div class="equipment_ranged_weapons_grid4">
                      <div class="equipment_ranged_weapons_gs21">RoF</div>
                      <input class="equipment_ranged_weapons_gs22 full_width" type="text" placeholder="semi 3, Auto 7" name="attr_weapon_rof" />
                      <div class="equipment_ranged_weapons_gs23">Reload</div>
                      <input class="equipment_ranged_weapons_gs24 full_width" type="text" value="2 half actions" name="attr_weapon_reload" />
                    </div>
                    <div>
                      <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                      <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                      <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                      <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                      <div>
                        <div class="equipment_ranged_weapons_grid5">
                          <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                            <option selected="selected" value="0">Normal damage rolling</option>
                            <option value="?{Damage modifier|0}">Query damage mod</option>
                            <option value="?{DOS|0}d10">Simplified combat macro</option>
                          </select>
                          <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                            <option selected="selected" value="0">Normal pierce rolling</option>
                            <option value="?{Pierce modifier|0}">Query pierce mod</option>
                          </select>
                        </div>
                        <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Attachment: Benefit, Type Mount, Restriction, etc."></textarea>
                      </div>
                    </div>
                  </div>
                </fieldset>
              </div>

              <!-- NPC vic melee weps -->
              <div class="equipment_melee_weapons border_full">
                <h3>Vehicle Melee Weaponry</h3>
                <fieldset name="vehiclemeleeweapons" class="repeating_vmeleeweapons">
                  <div class="equipment_ranged_weapons_rep">
                    <div class="equipment_ranged_weapons_grid1">
                      <div class="equipment_ranged_weapons_gs1">Name</div>
                      <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                      <div class="equipment_ranged_weapons_gs3">Type</div>
                      <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                      <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                        <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                        <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                        <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                        <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
                        <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" selected="selected">WFM</option>
                        <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                        <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                        <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                        <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                        <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                      </select>
                    </div>
                    <div class="equipment_ranged_weapons_grid2">
                      <div class="equipment_ranged_weapons_gs5">Reach</div>
                      <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                      <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                      <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                      <div class="equipment_ranged_weapons_gs9">Base</div>
                      <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                      <div class="equipment_ranged_weapons_gs11">Pierce</div>
                      <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
                    </div>
                    <div class="equipment_melee_weapons_grid3">
                      <div class="equipment_melee_weapons_gs1">Hit Mod</div>
                      <input class="equipment_melee_weapons_gs2 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                      <div class="equipment_melee_weapons_gs3">Attacks</div>
                      <input class="equipment_melee_weapons_gs4 full_width" type="text" value="0" name="attr_weapon_attacks" />
                      <div class="equipment_melee_weapons_gs5">Br Pts</div>
                      <input class="equipment_melee_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_breakpoints" />
                      <div class="equipment_melee_weapons_gs7">/</div>
                      <input class="equipment_melee_weapons_gs8 full_width" type="text" value="0" name="attr_weapon_breakpoints_max" />
                      <button class="equipment_melee_weapons_gs9 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}">Hit</button>
                      <button class="equipment_melee_weapons_gs10 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}" >DMG</button>
                    </div>
                    <div>
                      <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                      <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                      <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                      <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                      <div>
                        <div class="equipment_ranged_weapons_grid5">
                          <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                            <option selected="selected" value="0">Normal damage rolling</option>
                            <option value="?{Damage modifier|0}">Query damage mod</option>
                            <option value="?{DOS|0}d10">Simplified combat macro</option>
                          </select>
                          <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                            <option selected="selected" value="0">Normal pierce rolling</option>
                            <option value="?{Pierce modifier|0}">Query pierce mod</option>
                          </select>
                        </div>
                        <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Modification e.g. Gravity Hammer Crushing thruster"></textarea>
                      </div>
                    </div>
                  </div>
                </fieldset>
              </div>

            </div>
          </div>
        </div>

        <!-- NPC equipment -->
        <div>
          <input name="attr_npc_tab" type="checkbox"  value="equipment" class="hider hidden" />
          <div>
            <div class="border_full">
              <div class="NPC_equipment_gear equipment_header">
                <div></div>
                <h3>Name</h3>
                <h3>Amount</h3>
              </div>

              <fieldset name="gear" class="repeating_gear">
                <div class="NPC_equipment_gear">
                  <label class="equipment_checkmark"><input type="checkbox" checked name="attr_gear_carried" value="1" class="select_button hidden"/><span class="select_text">&nbsp;✔&nbsp;</span></label>
                  <input class="equipment_default"name="attr_gear_name" type="text" placeholder="Gear / Item Name"/>
                  <input class="equipment_default"name="attr_gear_quantity" type="text" value="1" placeholder="Amount"/>
                  <label class="margin_adjust equipment_hider"><input type="checkbox" name="attr_collapse" value="2" class="hider select_button hidden" /><span class="select_text">▼</span></label>
                </div>
                <input name="attr_collapse" type="checkbox"  value="2" class="hider hidden" />
                <textarea name="attr_description" placeholder="Equipment special rules" class=" equipment_gear_textarea"></textarea>
              </fieldset>
            </div>
          </div>
        </div>
      </div>

      <div>
        <!-- NPC ranged weps -->
        <div class="equipment_ranged_weapons border_full">
          <h3>Ranged Weapons</h3>
          <fieldset name="rangedweapons" class="repeating_rangedweapons">
            <div class="equipment_ranged_weapons_rep">
              <div class="equipment_ranged_weapons_grid1">
                <div class="equipment_ranged_weapons_gs1">Name</div>
                <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                <div class="equipment_ranged_weapons_gs3">Type</div>
                <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                  <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                  <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                  <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                  <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" selected="selected">WFR</option>
                  <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
                  <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                  <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                  <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                  <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                  <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                </select>
              </div>
              <div class="equipment_ranged_weapons_grid2">
                <div class="equipment_ranged_weapons_gs5">Range</div>
                <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                <div class="equipment_ranged_weapons_gs9">Base</div>
                <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                <div class="equipment_ranged_weapons_gs11">Pierce</div>
                <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
              </div>
              <div class="equipment_ranged_weapons_grid3">
                <div class="equipment_ranged_weapons_gs13">Hit Mod</div>
                <input class="equipment_ranged_weapons_gs14 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                <div class="equipment_ranged_weapons_gs15">Magazine</div>
                <input class="equipment_ranged_weapons_gs16 full_width" type="text" value="0" name="attr_weapon_mag" />
                <div class="equipment_ranged_weapons_gs17">/</div>
                <input class="equipment_ranged_weapons_gs18 full_width" type="text" value="0" name="attr_weapon_mag_max" />
                <button class="equipment_ranged_weapons_gs19 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}">Hit</button>
                <button class="equipment_ranged_weapons_gs20 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}">DMG</button>
              </div>
              <div class="equipment_ranged_weapons_grid4">
                <div class="equipment_ranged_weapons_gs21">RoF</div>
                <input class="equipment_ranged_weapons_gs22 full_width" type="text" placeholder="semi 3, Auto 7" name="attr_weapon_rof" />
                <div class="equipment_ranged_weapons_gs23">Reload</div>
                <input class="equipment_ranged_weapons_gs24 full_width" type="text" value="2 half actions" name="attr_weapon_reload" />
              </div>
              <div>
                <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                <div>
                  <div class="equipment_ranged_weapons_grid5">
                    <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                      <option selected="selected" value="0">Normal damage rolling</option>
                      <option value="?{Damage modifier|0}">Query damage mod</option>
                      <option value="?{DOS|0}d10">Simplified combat macro</option>
                    </select>
                    <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                      <option selected="selected" value="0">Normal pierce rolling</option>
                      <option value="?{Pierce modifier|0}">Query pierce mod</option>
                    </select>
                  </div>
                  <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Attachment: Benefit, Type Mount, Restriction, etc."></textarea>
                </div>
              </div>
            </div>
          </fieldset>
        </div>

        <!-- NPC melee weps -->
        <div class="equipment_melee_weapons border_full">
          <h3>Melee Weapons</h3>
          <fieldset name="meleeweapons" class="repeating_meleeweapons">
            <div class="equipment_ranged_weapons_rep">
              <div class="equipment_ranged_weapons_grid1">
                <div class="equipment_ranged_weapons_gs1">Name</div>
                <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
                <div class="equipment_ranged_weapons_gs3">Type</div>
                <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
                <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                  <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                  <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                  <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                  <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
                  <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" selected="selected">WFM</option>
                  <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                  <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                  <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                  <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                  <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
                </select>
              </div>
              <div class="equipment_ranged_weapons_grid2">
                <div class="equipment_ranged_weapons_gs5">Reach</div>
                <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
                <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
                <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
                <div class="equipment_ranged_weapons_gs9">Base</div>
                <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
                <div class="equipment_ranged_weapons_gs11">Pierce</div>
                <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
              </div>
              <div class="equipment_melee_weapons_grid3">
                <div class="equipment_melee_weapons_gs1">Hit Mod</div>
                <input class="equipment_melee_weapons_gs2 full_width" type="text" value="0" name="attr_weapon_hitmod" />
                <div class="equipment_melee_weapons_gs3">Attacks</div>
                <input class="equipment_melee_weapons_gs4 full_width" type="text" value="0" name="attr_weapon_attacks" />
                <div class="equipment_melee_weapons_gs5">Br Pts</div>
                <input class="equipment_melee_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_breakpoints" />
                <div class="equipment_melee_weapons_gs7">/</div>
                <input class="equipment_melee_weapons_gs8 full_width" type="text" value="0" name="attr_weapon_breakpoints_max" />
                <button class="equipment_melee_weapons_gs9 full_width clear" type="roll" value="@{to-gm}&{template:mythic} @{settings_autorolldamage} {{character= @{character_name} }} {{weapon= @{weapon_name} }} {{rollhit=[[@{settings_rounding}([[@{Weapon_attr}]]+@{weapon_hitmod}+@{inlinemod-toggle}-1d100)/10)]] }} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }} @{settings_hitroll}">Hit</button>
                <button class="equipment_melee_weapons_gs10 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}">DMG</button>
              </div>
              <div class="equipment_melee_weapons_grid4">
                <div class="equipment_melee_weapons_gs11">damage plus Strength</div>
                <select class="equipment_melee_weapons_gs12 full_width" name="attr_weapon_base_add">
                  <option selected="selected" value="0">None</option>
                  <option value="[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]">Half</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]">Full</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]">2x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*3]]">3x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*4]]">4x STR</option>
                </select>
                <div class="equipment_melee_weapons_gs13">pierce plus Strength</div>
                <select class="equipment_melee_weapons_gs14 full_width" name="attr_weapon_pierce_add">
                  <option selected="selected" value="0">None</option>
                  <option value="[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]">Half</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]">Full</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]">2x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*3]]">3x STR</option>
                  <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*4]]">4x STR</option>
                </select>
              </div>
              <div>
                <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
                <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
                <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
                <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
                <div>
                  <div class="equipment_ranged_weapons_grid5">
                    <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                      <option selected="selected" value="0">Normal damage rolling</option>
                      <option value="?{Damage modifier|0}">Query damage mod</option>
                      <option value="?{DOS|0}d10">Simplified combat macro</option>
                    </select>
                    <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                      <option selected="selected" value="0">Normal pierce rolling</option>
                      <option value="?{Pierce modifier|0}">Query pierce mod</option>
                    </select>
                  </div>
                  <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Modification e.g. Gravity Hammer Crushing thruster"></textarea>
                </div>
              </div>
            </div>
          </fieldset>
        </div>
      </div>
    </div>
    <br>

    <!-- NPC abilities -->
    <div class="border_full">
      <div class="equipment_header">
        <h3 style="text-indent: -50px" class="radius_border_top">Abilities</h3>
      </div>
      <fieldset name="abilities" class="repeating_abilities">
        <input name="attr_ability" type="text" placeholder="Name" class="full_width_49px" />
        <label class="margin_adjust"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text ">▼</span></label>
        <label class="margin_adjust2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{ability} }} {{description=@{ability_desc} }}" class="hidden"></button><span class="select_text">❖</span></label>
        <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
        <textarea name="attr_ability_desc"></textarea>
      </fieldset>
    </div>

  </div>














  <!-- GM manager sheet ____________________________________________________________________________-->

  <input type="checkbox" name="attr_sheet_select" value="GM" class="hider hidden" />
  <div class="box whitetext">

    <br>
    <!-- infographic -->
    <div class="infographic_toggles">
      <!-- Whisper button -->
      <label><input type="checkbox" name="attr_to-gm" value="/w gm" class="select_button hidden" /><span class="select_text">To GM</span></label>
      <!-- Inline mod button -->
      <label><input type="checkbox" name="attr_inlinemod-toggle" value="?{Modifier|0}" class="select_button hidden" checked/><span class="select_text">Inline Mod</span></label>
      <!-- Sheet toggle -->
      <select name="attr_sheet_select" class="full_width infographic_select">
        <option value="PC" selected="selected">PC sheet</option>
        <option value="NPC">NPC sheet</option>
        <option value="GM">GM sheet</option>
      </select>

      <!-- autodamage roller -->
      <button class="clear infographic_buttons" type="roll" name="autodamage" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{avrdam= [[([[(?{Amount of hits|1}*?{Amount of D10s|0})d10]]+[[?{Amount of hits|1}*?{Base|0}]]-[[?{Amount of hits|1} * (?{Armor|Target chest, @{target|damage_resistance_chest}|Target head,  @{target|damage_resistance_head}|Target legs,  @{target|damage_resistance_legs}|Target arms,  @{target|damage_resistance_arms}|Custom,  ?{Custom Armor&amp;#124;0&amp;#125;}- ?{Pierce|0})d1]])d1[roll, base, armor-pierce] ]]}}">Auto-Damage</button>
      <!-- multiroll roller -->
      <button class="clear infographic_buttons" type="roll" name="multiroll" value="
      @{to-gm}&{template:mythic} {{character= @{character_name}}}{{nrofrolls= [[?{How many rolls?|1}]]}}{{multiroll0=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*0]]-1d100)/10)]]}}{{multiroll1=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*1]]-1d100)/10)]]}}{{multiroll2=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*2]]-1d100)/10)]]}}{{multiroll3=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*3]]-1d100)/10)]]}}{{multiroll4=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*4]]-1d100)/10)]]}}{{multiroll5=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*5]]-1d100)/10)]]}}{{multiroll6=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*6]]-1d100)/10)]]}}{{multiroll7=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*7]]-1d100)/10)]]}}{{multiroll8=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*8]]-1d100)/10)]]}}{{multiroll9=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*9]]-1d100)/10)]]}}{{multiroll10=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*10]]-1d100)/10)]]}}{{multiroll11=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*11]]-1d100)/10)]]}}{{multiroll12=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*12]]-1d100)/10)]]}}{{multiroll13=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*13]]-1d100)/10)]]}}{{multiroll14=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*14]]-1d100)/10)]]}}{{multiroll15=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*15]]-1d100)/10)]]}}{{multiroll16=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*16]]-1d100)/10)]]}}{{multiroll17=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*17]]-1d100)/10)]]}}{{multiroll18=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*18]]-1d100)/10)]]}}{{multiroll19=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*19]]-1d100)/10)]]}}{{multiroll20=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*20]]-1d100)/10)]]}}{{multiroll21=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*21]]-1d100)/10)]]}}{{multiroll22=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*22]]-1d100)/10)]]}}{{multiroll23=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*23]]-1d100)/10)]]}}{{multiroll24=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*24]]-1d100)/10)]]}}{{multiroll25=[[@{settings_rounding}( ?{Using| Warfare Ranged, @{WFR} + @{WFR_advancement} + @{fatigue_mod} | Warfare Melee, @{WFM} + @{WFM_advancement} + @{fatigue_mod} | Strength, @{STR} + @{STR_advancement} + @{fatigue_mod} |Toughness, @{TOU} + @{TOU_advancement} + @{fatigue_mod}|Agility, @{AGI} + @{AGI_advancement} + @{fatigue_mod} | Intelligence, @{INT} + @{INT_advancement} + @{fatigue_mod} |Perception, @{PER} + @{PER_advancement} + @{fatigue_mod} |Courage, @{CRG} + @{CRG_advancement} + @{fatigue_mod} |Charisma, @{CHA} + @{CHA_advancement} + @{fatigue_mod}|Leadership, @{LDR} + @{LDR_advancement} + @{fatigue_mod}}+@{inlinemod-toggle} -[[?{successive  penalties?|none, 0|10 every roll, 10|5 every roll, 5}*25]]-1d100)/10)]]}}
      ">Multi-Roll</button>
      <!-- throwing roller -->
      <button class="clear infographic_buttons" type="roll" name="Throwing" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{throwmod= [[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]}} {{throwmod12=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.1)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod34=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.2)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod56=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.3)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod79=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/0.5)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1012=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/2)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1318=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/5)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{throwmod1925=[[[[ floor((@{STR} + @{STR_advancement} + @{fatigue_mod})/10 + @{STR_mythic}) ]]*([[20]]+([[0-floor( ?{Roll?|Roll WFM, (@{WFM} + @{WFM_advancement}+@{fatigue_mod} + ?{modifier&amp;#124;0&amp;#125; - 1d100)/10|Custom,  ?{Result of WFM roll&amp;#124;0&amp;#125;})]])d1 [Invert this to find your DOS]-[[floor(?{Item weight|0} * 1/10)]]-?{Grip modifier|solid, 0|slight, 1|Partial, 2|Sloppy, 2}) * ?{Distance modifier|None, 1|Sloppy or obj too big, 0.5}]]}} {{Item weight= [[?{Item weight|0}]]}}" >Throwing</button>
      <!-- scatter roller -->
      <button class="clear infographic_buttons" type="roll" name="scatter" value="@{to-gm}&{template:mythic} {{character= @{character_name}}} {{scatter-range= [[[[(abs(?{Degrees of Failure|0})+floor(?{range from target|0}/100))*?{Target at|Normal range,1|Max range,2|Extreme range,4})]]d10*?{Scatter type|Weapon or ordnance,1|Thrown,0.5}]]}} {{scatter-direction=[[1d10]]d1}}" >Scatter</button>
      <!-- tokenmod roller -->
      <button class="clear infographic_buttons" type="roll" name="tokenmod" value='!token-mod --set tooltip|"@{Tokenmod_settings}" --on show_tooltip @{Tokenmod_custom}'>Tokenmod</button>
    </div>
    <hr>

    <!-- NPCs -->
    <div class="edge_padding table radius_border">
      <h3 class="radius_border_heading edge_padding"><b>NPCs</b></h3>

      <fieldset name="attr_GMNPCS" class="repeating_GMNPCS">
        <div class="GM_infographic GM_infographic_header">
          <p class="bold_text text_centered">NAME</p>
          <p></p>
          <button name="STR" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=strength}} {{roll=[[@{settings_rounding}([[@{GM_NPC_STR}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">STR</button>
          <button name="TOU" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=Toughness}} {{roll=[[@{settings_rounding}([[@{GM_NPC_TOU}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">TOU</button>
          <button name="AGI" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=Agility}} {{roll=[[@{settings_rounding}([[@{GM_NPC_AGI}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">AGI</button>
          <button name="WFM" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=Warfare melee}} {{roll=[[@{settings_rounding}([[@{GM_NPC_WFM}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">WFM</button>
          <button name="WFR" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=Warfare ranged}} {{roll=[[@{settings_rounding}([[@{GM_NPC_WFR}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">WFR</button>
          <button name="INT" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=INT}} {{roll=[[@{settings_rounding}([[@{GM_NPC_INT}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">INT</button>
          <button name="PER" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=PER}} {{roll=[[@{settings_rounding}([[@{GM_NPC_PER}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">PER</button>
          <button name="CRG" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=CRG}} {{roll=[[@{settings_rounding}([[@{GM_NPC_CRG}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">CRG</button>
          <button name="CHA" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=CHA}} {{roll=[[@{settings_rounding}([[@{GM_NPC_CHA}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">CHA</button>
          <button name="LDR" type="roll" class="clear full_width characteristics_button"value="@{to-gm}&{template:mythic} {{character= @{GM_NPC_name}}} {{roll-name=LDR}} {{roll=[[@{settings_rounding}([[@{GM_NPC_LDR}]] + @{inlinemod-toggle} - 1d100)/10)]]}}">LDR</button>
          <p></p>
          <p class="bold_text">CWND</p>
          <p class="bold_text">MWND</p>
          <p class="bold_text">ARMR</p>
          <p class="bold_text">CSLD</p>
          <p class="bold_text">MSLD</p>
          <p class="bold_text">RECH</p>
          <p class="bold_text">DELA</p>
        </div>

        <div class="GM_infographic">
          <input class="full_width" type="text" name="attr_GM_NPC_name" value="name" />
          <p></p>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_STR" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_TOU" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_AGI" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_WFM" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_WFR" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_INT" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_PER" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_CRG" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_CHA" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_LDR" value="0"/>
          <p></p>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_wounds" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_wounds_max" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_armor" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_shields" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_shields_Max" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_recharge" value="0"/>
          <input class="GM_infographic_element" type="text" name="attr_GM_NPC_delay" value="0"/>
        </div>
      </fieldset>
    </div>
    <br>


    <div class="equipment_divider">
      <!-- ranged weapons -->
      <div class="border_full equipment_ranged_weapons ssc">
        <h3>Ranged Weapons</h3>
        <fieldset name="rangedweapons" class="repeating_rangedweapons">
          <div class="equipment_ranged_weapons_rep">
            <div class="equipment_ranged_weapons_grid1">
              <div class="equipment_ranged_weapons_gs1">Name</div>
              <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
              <div class="equipment_ranged_weapons_gs3">Type</div>
              <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
              <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" selected="selected">WFR</option>
                <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" >WFM</option>
                <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
              </select>
            </div>
            <div class="equipment_ranged_weapons_grid2">
              <div class="equipment_ranged_weapons_gs5">Range</div>
              <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
              <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
              <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
              <div class="equipment_ranged_weapons_gs9">Base</div>
              <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
              <div class="equipment_ranged_weapons_gs11">Pierce</div>
              <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
            </div>
            <div class="equipment_ranged_weapons_grid3">
              <div class="equipment_ranged_weapons_gs13">Hit Mod</div>
              <input class="equipment_ranged_weapons_gs14 full_width" type="text" value="0" name="attr_weapon_hitmod" />
              <div class="equipment_ranged_weapons_gs15">Magazine</div>
              <input class="equipment_ranged_weapons_gs16 full_width" type="text" value="0" name="attr_weapon_mag" />
              <div class="equipment_ranged_weapons_gs17">/</div>
              <input class="equipment_ranged_weapons_gs18 full_width" type="text" value="0" name="attr_weapon_mag_max" />
              <button class="equipment_ranged_weapons_gs20 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}">DMG</button>
            </div>
            <div class="equipment_ranged_weapons_grid4">
              <div class="equipment_ranged_weapons_gs21">RoF</div>
              <input class="equipment_ranged_weapons_gs22 full_width" type="text" placeholder="semi 3, Auto 7" name="attr_weapon_rof" />
              <div class="equipment_ranged_weapons_gs23">Reload</div>
              <input class="equipment_ranged_weapons_gs24 full_width" type="text" value="2 half actions" name="attr_weapon_reload" />
            </div>
            <div>
              <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
              <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
              <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
              <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
              <div>
                <div class="equipment_ranged_weapons_grid5">
                  <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                    <option selected="selected" value="0">Normal damage rolling</option>
                    <option value="?{Damage modifier|0}">Query damage mod</option>
                    <option value="?{DOS|0}d10">Simplified combat macro</option>
                  </select>
                  <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                    <option selected="selected" value="0">Normal pierce rolling</option>
                    <option value="?{Pierce modifier|0}">Query pierce mod</option>
                  </select>
                </div>
                <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Attachment: Benefit, Type Mount, Restriction, etc."></textarea>
              </div>
            </div>
          </div>
          <br>
        </fieldset>
      </div>

      <!-- melee weapons -->
      <div class="border_full equipment_melee_weapons ssc">
        <h3>Melee Weapons</h3>
        <fieldset name="meleeweapons" class="repeating_meleeweapons">
          <div class="equipment_ranged_weapons_rep">
            <div class="equipment_ranged_weapons_grid1">
              <div class="equipment_ranged_weapons_gs1">Name</div>
              <input class="equipment_ranged_weapons_gs2 full_width" type="text" name="attr_weapon_name" placeholder="Name" />
              <div class="equipment_ranged_weapons_gs3">Type</div>
              <input class="equipment_ranged_weapons_gs4 full_width" type="text" name="attr_weapon_type" placeholder="Type of Weapon" />
              <select name="attr_Weapon_attr" class="equipment_ranged_weapons_gs31 full_width">
                <option value="@{STR} + @{STR_advancement} + @{fatigue_mod}" >STR</option>
                <option value="@{TOU} + @{TOU_advancement} + @{fatigue_mod}" >TOU</option>
                <option value="@{AGI} + @{AGI_advancement} + @{fatigue_mod}" >AGI</option>
                <option value="@{WFR} + @{WFR_advancement} + @{fatigue_mod}" >WFR</option>
                <option value="@{WFM} + @{WFM_advancement} + @{fatigue_mod}" selected="selected">WFM</option>
                <option value="@{INT} + @{INT_advancement} + @{fatigue_mod}" >INT</option>
                <option value="@{PER} + @{PER_advancement} + @{fatigue_mod}" >PER</option>
                <option value="@{CRG} + @{CRG_advancement} + @{fatigue_mod}" >CRG</option>
                <option value="@{CHA} + @{CHA_advancement} + @{fatigue_mod}">CHA</option>
                <option value="@{LDR} + @{LDR_advancement} + @{fatigue_mod}" >LDR</option>
              </select>
            </div>
            <div class="equipment_ranged_weapons_grid2">
              <div class="equipment_ranged_weapons_gs5">Reach</div>
              <input class="equipment_ranged_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_range" />
              <div class="equipment_ranged_weapons_gs7">DMG Roll</div>
              <input class="equipment_ranged_weapons_gs8 full_width" type="text" value="3d10" name="attr_weapon_dam-roll" />
              <div class="equipment_ranged_weapons_gs9">Base</div>
              <input class="equipment_ranged_weapons_gs10 full_width" type="text" value="0" name="attr_weapon_base" />
              <div class="equipment_ranged_weapons_gs11">Pierce</div>
              <input class="equipment_ranged_weapons_gs12 full_width" type="text" value="0" name="attr_weapon_pierce" />
            </div>
            <div class="equipment_melee_weapons_grid3">
              <div class="equipment_melee_weapons_gs1">Hit Mod</div>
              <input class="equipment_melee_weapons_gs2 full_width" type="text" value="0" name="attr_weapon_hitmod" />
              <div class="equipment_melee_weapons_gs3">Attacks</div>
              <input class="equipment_melee_weapons_gs4 full_width" type="text" value="0" name="attr_weapon_attacks" />
              <div class="equipment_melee_weapons_gs5">Br Pts</div>
              <input class="equipment_melee_weapons_gs6 full_width" type="text" value="0" name="attr_weapon_breakpoints" />
              <div class="equipment_melee_weapons_gs7">/</div>
              <input class="equipment_melee_weapons_gs8 full_width" type="text" value="0" name="attr_weapon_breakpoints_max" />
              <button class="equipment_melee_weapons_gs10 full_width clear" type="roll" value="@{to-gm}&{template:mythic} {{damage= }} {{character= @{character_name}}} {{weapon= @{weapon_name}}} {{rolldamage=[[@{weapon_dam-roll}+@{weapon_base}+@{weapon_base_mod}+@{weapon_base_add}]] }} {{rollpierce=[[@{weapon_pierce}+@{weapon_pierce_mod}+@{weapon_pierce_add}]] }} {{@{settings_weapondescription}=@{weapon_special_rules} }}" >DMG</button>
            </div>
            <div class="equipment_melee_weapons_grid4">
              <div class="equipment_melee_weapons_gs11">damage plus Strength</div>
              <select class="equipment_melee_weapons_gs12 full_width" name="attr_weapon_base_add">
                <option selected="selected" value="0">None</option>
                <option value="[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]">Half</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]">Full</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]">2x STR</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*3]]">3x STR</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*4]]">4x STR</option>
              </select>
              <div class="equipment_melee_weapons_gs13">pierce plus Strength</div>
              <select class="equipment_melee_weapons_gs14 full_width" name="attr_weapon_pierce_add">
                <option selected="selected" value="0">None</option>
                <option value="[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]">Half</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]">Full</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]">2x STR</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*3]]">3x STR</option>
                <option value="[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*4]]">4x STR</option>
              </select>
            </div>
            <div>
              <input name="attr_weapon_special_rules" type="text" placeholder="Description" class="full_width_49px border_none radius_border_left" />
              <label class="margin_adjust_wep"><input type="checkbox" name="attr_collapse" value="3" class="hider select_button hidden" /><span class="select_text radius_border_right_wep">▼</span></label>
              <label class="margin_adjust_wep2"><button type="roll" value="@{to-gm}&{template:mythic} {{title=@{weapon_special_rules} }} {{description=@{description} }}" class="hidden"></button><span class="select_text">❖</span></label>
              <input name="attr_collapse" type="checkbox"  value="3" class="hider hidden" />
              <div>
                <div class="equipment_ranged_weapons_grid5">
                  <select class="equipment_ranged_weapons_gs25 full_width" name="attr_weapon_base_mod">
                    <option selected="selected" value="0">Normal damage rolling</option>
                    <option value="?{Damage modifier|0}">Query damage mod</option>
                    <option value="?{DOS|0}d10">Simplified combat macro</option>
                  </select>
                  <select class="equipment_ranged_weapons_gs26 full_width" name="attr_weapon_pierce_mod">
                    <option selected="selected" value="0">Normal pierce rolling</option>
                    <option value="?{Pierce modifier|0}">Query pierce mod</option>
                  </select>
                </div>
                <textarea name="attr_description" class=" description_rounded_margin" placeholder="Weapon Modification e.g. Gravity Hammer Crushing thruster"></textarea>
              </div>
            </div>
          </div>
          <br>
        </fieldset>
      </div>

    </div>

  </div>
</div>

















<script type="text/worker">
  // _______________________________________________________________________________________________
  // Repeating sum sheet worker_____________________________________________________________________
  // _______________________________________________________________________________________________
  /* ===== PARAMETERS ==========
  destinations = the name of the attribute that stores the total quantity
  section = name of repeating fieldset, without the repeating_
  fields = the name of the attribute field to be summed
  can be a single attribute: 'weight'
  or an array of attributes: ['weight','number','equipped']
  extras: everything after the fields parameter is optional and can be in any order:
  'ceil'
  'round'
  'floor'
  'ceil: 3'
  'round: -2'
  'round: equipment_weight, equipment_cost|2
  you want to round the final total.
  If you supply a field name, it will round just that total. You can supply multiple fields, separated by commas.
  If you supply a number, it will round to that many digits.
  round:1 rounds to tenths; floor:-3 rounds down to thousands, so 3567 would be shown as 3000.
  If you dont supply a number, it assumes 0, and returns an integer (whole numbers).
  IMPORTANT: if you list ANY field, then ALL fields to be rounded must be specifically stated.
  Don't do this: floor:equipment_weight|2, round,

  'multiplier: 2'
  'multiplier:equipment_weight|2'
  'multiplier: equipment_weight|2, equipment_cost|3'
  Multiplier will apply a multiple to the final total. You can multiple all fields, or specific fields.
  It doesnt apply to attributes being added from outside the repeating section.
  Multiplier can be negative, representing a subtraction.

  'an_attribute'
  'an_attribute:-1'
  'an_attribute:0.5'
  'an_attribute:equipment_cost'
  'an_attribute:equipment_cost|-1'
  'an_attribute:equipment_cost|-1,equipment_weight|2'
  You can also list attributes from outside the repeating section. Don't try to add attributes from other repeating sections.
  by default, the listed attribute will be added to all fields.
  You can list one or more fields, and it will only be added to those fields.
  You can list a number: the attribute will be multiplied by that amount. So -1 subtracts the attribute.
  */

  const repeatingSum = (destinations, section, fields, ...extras) => {
    const isNumber = value => parseFloat(value).toString() === value.toString();
    const isOption = value => [...checks.valid, ...checks.roundtypes].includes(value);
    const isRounding = value => checks.roundtypes.includes(value);
    const isFraction = value => value.includes('/') && !(value.includes(',') || value.includes('|'));
    const getTrimmed = value => value.toLowerCase().replace(/\s/g, '');
    const getRounded = (type, value, pow) => (Math[type](value * Math.pow(10, pow)) / Math.pow(10, pow)).toFixed(Math.max(0, pow));
    const getFraction = (value) => /*{ console.log(`value: ${value}`); */
    parseInt(value.split('/')[0]) / parseInt(value.split('/')[1]);
    const getMultiplier = (value, rounding = 1) => 'undefined' === typeof value ? (rounding ? 0: 1) : (
    isNumber(value) ? parseFloat(value) : (isFraction(value) ? getFraction(value) : value));
    if (!Array.isArray(destinations)) destinations = [getTrimmed(destinations)];
    if (!Array.isArray(fields)) fields = [getTrimmed(fields)];
    const fields_trimmed = fields.map(field => getTrimmed(field).split(':')[0]);
    const subfields = fields_trimmed.slice(0,destinations.length);
    const checks = { valid: ['multiplier'], roundtypes: ['ceil', 'round', 'floor'] };
    let properties = {attributes: {}, options: {}};
    extras.forEach(extra => {
      const [prop, v] = getTrimmed(extra).split(':');
      const multiplier_maybe = getMultiplier(v, isRounding(prop));
      const obj = isNumber(multiplier_maybe) ? subfields.reduce((obj,field) => {
        obj[field] = multiplier_maybe;
        return obj;
      },{}) : multiplier_maybe.split(',').reduce((obj, item) => {
        const [stat, value] = item.split('|');
        const multiplier = getMultiplier(value, isRounding(prop));
        obj[stat] = multiplier;
        return obj;
      }, {});
      properties[isOption(prop) ? 'options' : 'attributes'][prop] = obj;
    });
    getSectionIDs(`repeating_${section}`, idArray => {
      const attrArray = idArray.reduce((m, id) => [...m, ...(fields_trimmed.map(field => `repeating_${section}_${id}_${field}`))], []);
      getAttrs([...attrArray, ...Object.keys(properties.attributes)], v => {
        const getValue = (section, id, field) => v[`repeating_${section}_${id}_${field}`] === 'on' ? 1 : parseFloat(v[`repeating_${section}_${id}_${field}`]) || 0;
        const commonMultipliers = (fields.length <= destinations.length) ? [] : fields.splice(destinations.length, fields.length - destinations.length);
        const output = destinations.reduce((obj, destination, index) => {
          let sumTotal = idArray.reduce((total, id) => total + getValue(section, id, fields_trimmed[index]) * commonMultipliers.reduce((subtotal, mult) => subtotal * ((!mult.includes(':') || mult.split(':')[1].split(',').includes(fields_trimmed[index])) ? getValue(section, id, mult.split(':')[0]) : 1), 1), 0);
          sumTotal *= (properties.options.hasOwnProperty('multiplier') && Object.keys(properties.options.multiplier).includes(fields_trimmed[index])) ? (parseFloat(properties.options.multiplier[fields_trimmed[index]]) || 0): 1;
          sumTotal += Object.entries(properties.attributes).reduce((total, [key, value]) =>
          total += (value.hasOwnProperty(fields_trimmed[index]) ? parseFloat(v[key] || 0) * (parseFloat(value[fields_trimmed[index]]) || 1): 0) , 0);
          checks.roundtypes.forEach(type => {
            if (properties.options.hasOwnProperty(type)) {
              if (Object.keys(properties.options[type]).includes(fields_trimmed[index])) {
                sumTotal = getRounded(type, sumTotal, (+properties.options[type][fields_trimmed[index]] || 0));
              } else if (properties.options[type] == '0' || !isNaN(+properties.options[type] || 'x') ) {
                sumTotal = getRounded(type, sumTotal, +properties.options[type]);
              }
            }
          });
          obj[destination] = sumTotal;
          return obj;
        }, {});
        setAttrs(output);
      });
    });
  };







  // _______________________________________________________________________________________________
  // Movement and Weight sheet worker_______________________________________________________________
  // _______________________________________________________________________________________________

  on("change:settings_race change:settings_fatigue", function() {

    getAttrs([
    "settings_race",
    "settings_fatigue",

    "settings_half_mult",
    "settings_half_addi",
    "settings_full_mult",
    "settings_full_addi",
    "settings_charge_mult",
    "settings_charge_addi",
    "settings_run_mult",
    "settings_run_addi",
    "settings_blur_mult",
    "settings_blur_addi",
    "settings_jump_mult",
    "settings_jump_addi",
    "settings_leap_mult",
    "settings_leap_addi",
    "settings_carry_mult_str",
    "settings_carry_mult_tou",
    "settings_carry_addi",
    "settings_lift_mult_str",
    "settings_lift_mult_tou",
    "settings_lift_addi",
    "settings_push_mult_str",
    "settings_push_mult_tou",
    "settings_push_addi",
    "settings_fatigue_mult",
    "settings_fatigue_addi",

    ], function(values) {

      var settings_fatigue = values["settings_fatigue"]
      const settings_race = values["settings_race"]

      if(settings_race != "dont mod" && settings_race != "dont calc"){
        // normal no modifiers
        setAttrs({
          settings_half_mult: (1),
          settings_half_addi: (0),
          settings_full_mult: (1),
          settings_full_addi: (0),
          settings_charge_mult: (1),
          settings_charge_addi: (0),
          settings_run_mult: (1),
          settings_run_addi: (0),
          settings_blur_mult: (1),
          settings_blur_addi: (0),
          settings_jump_mult: (1),
          settings_jump_addi: (0),
          settings_leap_mult: (1),
          settings_leap_addi: (0),
          settings_carry_mult_str: (1),
          settings_carry_mult_tou: (1),
          settings_carry_addi: (0),
          settings_lift_mult_str: (1),
          settings_lift_mult_tou: (1),
          settings_lift_addi: (0),
          settings_push_mult_str: (1),
          settings_push_mult_tou: (1),
          settings_push_addi: (0),
          settings_fatigue_mult: (1),
          settings_fatigue_addi: (0)
        });

        if(settings_fatigue == "Enduring +1") {
          setAttrs({
            settings_fatigue_addi: (1)
          });
        }
        if(settings_fatigue == "Enduring +2") {
          setAttrs({
            settings_fatigue_addi: (2)
          });
        }

        // Spartan + Jiralhanae + Promethean Knight + Prelate (carry weight * 2)
        if(settings_race == "spartans" || settings_race == "Brutes" || settings_race == "Promethean Knight") {
          setAttrs({
            settings_carry_mult_str: (2),
            settings_carry_mult_tou: (2),
            settings_lift_mult_str: (2),
            settings_lift_mult_tou: (2),
            settings_push_mult_str: (2),
            settings_push_mult_tou: (2)
          });
        }

        // Sangheili (+2 agi leap, carry weight * 2)
        if(settings_race == "Elite") {
          setAttrs({
            settings_carry_mult_str: (2),
            settings_carry_mult_tou: (2),
            settings_lift_mult_str: (2),
            settings_lift_mult_tou: (2),
            settings_push_mult_str: (2),
            settings_push_mult_tou: (2),
            settings_leap_addi: (2)
          });
        }

        // Ruutian & Ibie"shan (double agi to jump)
        if(settings_race == "Ruutian" || settings_race == "Ibieshan") {
          setAttrs({
            settings_jump_mult: (2),
          });
        }

        // Jackal T"vaoan (mod to jump * 3)
        if(settings_race == "Tvaoan") {
          setAttrs({
            settings_jump_mult: (3),
          });
        }

        // Mgalekgolo (Hunter) (carry = 5000, +3 agi to charge/run)
        if(settings_race == "Hunters") {
          setAttrs({
            settings_carry_mult_str: (0),
            settings_carry_mult_tou: (0),
            settings_carry_addi: (5000),
            settings_lift_mult_str: (0),
            settings_lift_mult_tou: (0),
            settings_lift_addi: (10000),
            settings_push_mult_str: (0),
            settings_push_mult_tou: (0),
            settings_push_addi: (20000),
            settings_charge_addi: (3),
            settings_run_addi: (3),
          });
        }
        // engineer (carry = 1000)
        if(settings_race == "Engineer") {
          setAttrs({
            settings_carry_mult_str: (0),
            settings_carry_mult_tou: (0),
            settings_carry_addi: (1000),
            settings_lift_mult_str: (0),
            settings_lift_mult_tou: (0),
            settings_lift_addi: (2000),
            settings_push_mult_str: (0),
            settings_push_mult_tou: (0),
            settings_push_addi: (4000),
          });
        }
        if(settings_race == "Prelate") {
          setAttrs({
            settings_carry_mult_str: (2),
            settings_lift_mult_str: (2),
            settings_push_mult_str: (2)
          });
        }
      }
    });
  });


  on("change:settings_race change:settings_fatigue change:settings_half_mult change:settings_half_addi change:settings_full_mult change:settings_full_addi change:settings_charge_mult change:settings_charge_addi change:settings_run_mult change:settings_run_addi change:settings_blur_mult change:settings_blur_addi change:settings_jump_mult change:settings_jump_addi change:settings_leap_mult change:settings_leap_addi change:settings_carry_mult_str change:settings_carry_mult_tou change:settings_carry_addi change:settings_lift_mult_str change:settings_lift_mult_tou change:settings_lift_addi change:settings_push_mult_str_change:settings_push_mult_tou change:settings_push_addi change:settings_fatigue_mult change:settings_fatigue_addi change:fatigue change:agi change:agi_mythic change:agi_advancement change:str change:str_mythic change:str_advancement change:tou change:tou_mythic change:tou_advancement change:per change:per_advancement", function() {
    getAttrs([
    "settings_race",
    "settings_fatigue",

    "settings_half_mult",
    "settings_half_addi",
    "settings_full_mult",
    "settings_full_addi",
    "settings_charge_mult",
    "settings_charge_addi",
    "settings_run_mult",
    "settings_run_addi",
    "settings_blur_mult",
    "settings_blur_addi",

    "settings_jump_mult",
    "settings_jump_addi",
    "settings_leap_mult",
    "settings_leap_addi",

    "settings_fatigue_mult",
    "settings_fatigue_addi",

    "settings_perceptive_mult",
    "settings_perceptive_addi",

    "settings_carry_mult_str",
    "settings_carry_mult_tou",
    "settings_carry_addi",
    "settings_lift_mult_str",
    "settings_lift_mult_tou",
    "settings_lift_addi",
    "settings_push_mult_str",
    "settings_push_mult_tou",
    "settings_push_addi",


    "agi",
    "agi_mythic",
    "agi_advancement",
    "str",
    "str_mythic",
    "str_advancement",
    "tou",
    "tou_mythic",
    "tou_advancement",

    "per",
    "per_advancement",

    "fatigue",


    ], function(values) {
      const settings_fatigue = values["settings_fatigue"]
      const settings_race = values["settings_race"]

      const settings_half_mult = parseFloat(values["settings_half_mult"]) || 0;
      const settings_half_addi = parseFloat(values["settings_half_addi"]) || 0;
      const settings_full_mult = parseFloat(values["settings_full_mult"]) || 0;
      const settings_full_addi = parseFloat(values["settings_full_addi"]) || 0;
      const settings_charge_mult = parseFloat(values["settings_charge_mult"]) || 0;
      const settings_charge_addi = parseFloat(values["settings_charge_addi"]) || 0;
      const settings_run_mult = parseFloat(values["settings_run_mult"]) || 0;
      const settings_run_addi = parseFloat(values["settings_run_addi"]) || 0;
      const settings_blur_mult = parseFloat(values["settings_blur_mult"]) || 0;
      const settings_blur_addi = parseFloat(values["settings_blur_addi"]) || 0;

      const settings_jump_mult = parseFloat(values["settings_jump_mult"]) || 0;
      const settings_jump_addi = parseFloat(values["settings_jump_addi"]) || 0;
      const settings_leap_mult = parseFloat(values["settings_leap_mult"]) || 0;
      const settings_leap_addi = parseFloat(values["settings_leap_addi"]) || 0;

      const settings_fatigue_mult = parseFloat(values["settings_fatigue_mult"]) || 0;
      const settings_fatigue_addi = parseFloat(values["settings_fatigue_addi"]) || 0;

      const settings_perceptive_mult = parseFloat(values["settings_perceptive_mult"]) || 0;
      const settings_perceptive_addi = parseFloat(values["settings_perceptive_addi"]) || 0;

      const settings_carry_mult_str = parseFloat(values["settings_carry_mult_str"]) || 0;
      const settings_carry_mult_tou = parseFloat(values["settings_carry_mult_tou"]) || 0;
      const settings_carry_addi = parseFloat(values["settings_carry_addi"]) || 0;
      const settings_lift_mult_str = parseFloat(values["settings_lift_mult_str"]) || 0;
      const settings_lift_mult_tou = parseFloat(values["settings_lift_mult_tou"]) || 0;
      const settings_lift_addi = parseFloat(values["settings_lift_addi"]) || 0;
      const settings_push_mult_str = parseFloat(values["settings_push_mult_str"]) || 0;
      const settings_push_mult_tou = parseFloat(values["settings_push_mult_tou"]) || 0;
      const settings_push_addi = parseFloat(values["settings_push_addi"]) || 0;


      const agi = parseInt(values["agi"], 10) || 0;
      const agi_mythic = parseInt(values["agi_mythic"], 10) || 0;
      const agi_advancement = parseInt(values["agi_advancement"], 10) || 0;
      const str = parseInt(values["str"], 10) || 0;
      const str_mythic = parseInt(values["str_mythic"], 10) || 0;
      const str_advancement = parseInt(values["str_advancement"], 10) || 0;
      const tou = parseInt(values["tou"], 10) || 0;
      const tou_mythic = parseInt(values["tou_mythic"], 10) || 0;
      const tou_advancement = parseInt(values["tou_advancement"], 10) || 0;
      const per = parseInt(values["per"], 10) || 0;
      const per_advancement = parseInt(values["per_advancement"], 10) || 0;

      var fatigue = parseInt(values["fatigue"], 10) || 0;

      var str_mod = Math.floor((str + str_advancement) / 10);
      var agi_mod = Math.floor((agi + agi_advancement) / 10);
      if (agi_mod + agi_mythic == 0) {agi_mod=0.5}

      var tou_mod = Math.floor((tou + tou_advancement) / 10);



      // normal no modifiers
      if(settings_race != "dont calc") {
        setAttrs({
          half_move:  ((agi_mod+agi_mythic+settings_half_addi)  * 1 * settings_half_mult),
          full_move:  ((agi_mod+agi_mythic+settings_full_addi)  * 2 * settings_full_mult),
          charge_move:((agi_mod+agi_mythic+settings_charge_addi)* 3 * settings_charge_mult),
          run_move:   ((agi_mod+agi_mythic+settings_run_addi)   * 6 * settings_run_mult),
          blur_move:  ((agi_mod+agi_mythic+settings_blur_addi)  * 8 * settings_blur_mult),

          jump_move:  ((str_mod+settings_jump_addi) * 0.25 * settings_jump_mult),
          leap_move:  ((Math.floor(Math.max(agi_mod , str_mod))+settings_leap_addi) * 0.5 * settings_leap_mult),

          fatigue_max: (tou_mod * 2 * settings_fatigue_mult),
          fatigue_mod: (- Math.max(0, (fatigue)-settings_fatigue_addi) * 5),

          perceptive_range: ((per+per_advancement + settings_perceptive_addi) * settings_perceptive_mult),

          carry: (((str + str_advancement + str_mythic*10) * settings_carry_mult_str + (tou + tou_advancement + tou_mythic*10) * settings_carry_mult_tou) * 1 + settings_carry_addi),
          lift:  (((str + str_advancement + str_mythic*10) * settings_lift_mult_str + (tou + tou_advancement + tou_mythic*10) * settings_lift_mult_tou) * 2 + settings_lift_addi),
          push:  (((str + str_advancement + str_mythic*10) * settings_push_mult_str + (tou + tou_advancement + tou_mythic*10) * settings_push_mult_tou) * 4 + settings_push_addi),
        });
      }

      if (settings_fatigue != "dont calc"){
        fatigue_mod: 0
      }
    });
  });




  // _______________________________________________________________________________________________
  // Damage resistance calculation sheet worker_____________________________________________________
  // _______________________________________________________________________________________________
  on("change:repeating_armor remove:repeating_armor change:TOU change:TOU_advancement change:TOU_mythic", () => {
    repeatingSum("damage_resistance_head","armor",["armor_head","armor_worn"],"TOU:1/10","TOU_advancement:1/10","TOU_mythic","floor");
    repeatingSum("damage_resistance_arms","armor",["armor_arms","armor_worn"],"TOU:1/10","TOU_advancement:1/10","TOU_mythic","floor");
    repeatingSum("damage_resistance_chest","armor",["armor_chest","armor_worn"],"TOU:1/10","TOU_advancement:1/10","TOU_mythic","floor");
    repeatingSum("damage_resistance_legs","armor",["armor_legs","armor_worn"],"TOU:1/10","TOU_advancement:1/10","TOU_mythic","floor");

    repeatingSum(["shields_max"],"armor",["shields_max","armor_worn"]);
    repeatingSum(["shields_delay"],"armor",["shields_delay","armor_worn"]);
    repeatingSum(["shields_charge"],"armor",["shields_charge","armor_worn"]);

  });














  // _______________________________________________________________________________________________
  // Tabs sheet worker______________________________________________________________________________
  // _______________________________________________________________________________________________
  const buttonlist = ["core","equipment","medical","advancements","journal","vehicles","settings"];
  buttonlist.forEach(button => {
    on(`clicked:${button}`, function() {
      setAttrs({
        sheet_tab: button
      });
    });
  });






  // _______________________________________________________________________________________________
  // gear cost/weight sheet worker__________________________________________________________________
  // _______________________________________________________________________________________________

  on(`clicked:tare`, function() {
    getAttrs(["credit_tare"], function(values) {
      const credit_tare = parseInt(values["credit_tare"], 10) || 0;
      getSectionIDs(`repeating_gear`, idArray => {
        const fieldset_carried = [];
        const fieldset_cost = [];
        const fieldset_quantity = [];
        idArray.forEach(id => fieldset_carried.push (`repeating_gear_${id}_gear_carried`));
        idArray.forEach(id => fieldset_cost.push (`repeating_gear_${id}_gear_cost`));
        idArray.forEach(id => fieldset_quantity.push (`repeating_gear_${id}_gear_quantity`));
        getAttrs([...fieldset_cost, ...fieldset_quantity, ...fieldset_carried], v => {
          const getValue = (id, field) => parseFloat(v[`repeating_gear_${id}_${field}`]) || 0
          const credit_repeating = idArray.reduce((total, id) => total + (getValue(id, "gear_cost") * getValue(id, "gear_quantity") ), 0)
          setAttrs({
            credit_tare: - credit_repeating,
            credit_total: 0,
          });
        });
      });
    });
  });

  on(`clicked:reset`, function() {
    setAttrs({
      credit_tare: 0
    });
  });

  on("change:repeating_gear remove:repeating_gear clicked:reset" ,() => {
    getAttrs(["credit_tare"], function(values) {
      const credit_tare = parseInt(values["credit_tare"], 10) || 0;
      getSectionIDs(`repeating_gear`, idArray => {
        const fieldset_carried = [];
        const fieldset_cost = [];
        const fieldset_weight = [];
        const fieldset_quantity = [];
        idArray.forEach(id => fieldset_carried.push (`repeating_gear_${id}_gear_carried`));
        idArray.forEach(id => fieldset_cost.push (`repeating_gear_${id}_gear_cost`));
        idArray.forEach(id => fieldset_weight.push (`repeating_gear_${id}_gear_weight`));
        idArray.forEach(id => fieldset_quantity.push (`repeating_gear_${id}_gear_quantity`));
        getAttrs([...fieldset_weight, ...fieldset_cost, ...fieldset_quantity, ...fieldset_carried], v => {
          const getValue = (id, field) => parseFloat(v[`repeating_gear_${id}_${field}`]) || 0
          const credit_repeating = idArray.reduce((total, id) => total + (getValue(id, "gear_cost") * getValue(id, "gear_quantity") ), 0)
          const weight_repeating = idArray.reduce((total, id) => total + (getValue(id, "gear_weight") * getValue(id, "gear_quantity") * getValue(id, "gear_carried")), 0)
          setAttrs({
            credit_total: Math.round((credit_repeating + credit_tare)*100)/100,
            weight_total: Math.round(weight_repeating*100)/100
          });
        });
      });
    });
  });


  // _______________________________________________________________________________________________
  // Medical sheet worker___________________________________________________________________________
  // _______________________________________________________________________________________________

  const medicalconditions = [
  ["neck1","","","","","","","1","","","","","","","","","","","","","",""],
  ["neck2","","","","","","","2","","","","","","","","","","","","","",""],
  ["neck3","","","","","","","3","","","","","","","","","","1","","","",""],
  ["neck4","","","","","","","4","","","","","","","","","","2","","20","",""],
  ["neck5","","","","","","","4","","","","","","","","","","4","","1d10","",""],

  ["mouth1","","","1","","","","","","","","","","","","","","","","","",""],
  ["mouth2","","","5","","","","","","","","","","","","","","","","","",""],
  ["mouth3","","","10","","","","","","","","","","","","","","","","","Lost teeth ","1d5"],
  ["mouth4","","","20","","","","2","","","","","","","","","","","","","Lost teeth ","2d5"],
  ["mouth5","","","P","","","","4","","","","","","","","","","","","","Lost teeth ","2d10"],

  ["nose1","","2","","","","","","","","","","","","","","","","","","Nose broken",""],
  ["nose2","","4","","","","","","","","","","","","","","","","","","Nose broken",""],
  ["nose3","","","","","","","","","2","","","","","","","","","","","Nose broken",""],
  ["nose4","","","","","","","","","3","","","","","","","","","","","Nose broken",""],
  ["nose5","","","","","","","","","4","","","","","","","","","","","Nose lost",""],

  ["ear1","","","","1","","","","","","","","","","","","","","","","",""],
  ["ear2","","","","3","","","","","","","","","","","","","","","","",""],
  ["ear3","","","","5","","","","","","","","","","","1","","","","","",""],
  ["ear4","","","","10","","","1","","","","","","","","2","","","","","",""],
  ["ear5","3d5","","","60","","","","","","","","","","","","","","","","Ear lost",""],

  ["eye1","","","","","3","","","","","","","","","","","","","","","",""],
  ["eye2","","","","","5","","","","","","","","","","","","","","","",""],
  ["eye3","","","","","10","","","","","","","","","","1","","","","","",""],
  ["eye4","","","","","10","","1","","","","","","","","2","","","","","",""],
  ["eye5","3d5","","","","60","","","","","","","","","","","","","","","Eye lost",""],

  ["forehead1","","2","","","","","","","","","","","","","","","","","","",""],
  ["forehead2","","4","","","","1","","","","","","","","","","","","","","",""],
  ["forehead3","","6","","","","2","","","","","","","","","","","","","","",""],
  ["forehead4","","10","","","","3d5","","","","","","","","","","","","","10","",""],
  ["forehead5","","","","","","","","","","","","","","","","","","","","Instant Death, Head destroyed",""],

  ["hand1","","","","","","","","","","","","","","","1","","","","","",""],
  ["hand2","","","","","","","","","","","","","","","1","","","","","",""],
  ["hand3","","","","","","","","","","","","","","","3","3","","","","Hand Broken (Fractured)",""],
  ["hand4","","","","","","","","","","","","","","","3","5","","","","Hand Broken (Shattered)",""],
  ["hand5","","","","","","","","","","","","","","","5","","","","","Hand lost",""],

  ["bicepforearm1","","","","","","","","","","","","","","","1","","","","","",""],
  ["bicepforearm2","","","","","","","","","","","","","1","","2","","","","","",""],
  ["bicepforearm3","","","","","","","","","","","","","","","5","","","","","Bicep or Forearm Broken (Fractured)",""],
  ["bicepforearm4","","","","","","","","","","","","","","","6","","","","","Bicep or Forearm Broken (Shattered)",""],
  ["bicepforearm5","","","","","","","","","","","","","","","","","","","10","Bicep or Forearm lost",""],

  ["elbowshoulder1","","","","","","","","","","","","","","1","","","","","","",""],
  ["elbowshoulder2","","","","","","","","","","","","","","2","","","","","","",""],
  ["elbowshoulder3","","","","","","","","","","","","","","4","","2","","","","Elbow or Shoulder Broken (Fractured)",""],
  ["elbowshoulder4","","","","","","","","","","","","","2","4","","","","","","Elbow or Shoulder Broken (Shattered)",""],
  ["elbowshoulder5","","","","","","","","","","","","","","","","","","","9","Elbow or Shoulder lost",""],

  ["foot1","","","","","","","","","","2","","","","","","","","","","",""],
  ["foot2","","","","","","","","","","3","","","","","","","","","","",""],
  ["foot3","","","","","","","","","","5","","","","","","","","2","","Foot Broken (Fractured)",""],
  ["foot4","","","","","","","","","","6","","","","","","","","2","","Foot Broken (Shattered)",""],
  ["foot5","","","","","","","","","","10","","","","","","","","4","","Foot lost",""],

  ["shinthigh1","","","","","","","","","","1","","","","","","","","","","",""],
  ["shinthigh2","","","","","","","","","","3","","","","","","","","","","",""],
  ["shinthigh3","","","","","","","","","","6","","","2","","","","","","","Shin or Thigh Broken (Fractured)",""],
  ["shinthigh4","","","","","","","","","","7","","","3","","","","","","","Shin or Thigh Broken (Shattered)",""],
  ["shinthigh5","","","","","","","","","","10","","","4","","","","","","8","Leg Lost",""],

  ["kneehip1","","","","","","","","","","","","","","","","","","","","",""],
  ["kneehip2","","","","","","","","","","","","","","","","","","1","","",""],
  ["kneehip3","","","","","","","","","","3","","","","","","","","2","","Knee or Hip Broken (Fractured)",""],
  ["kneehip4","","","","","","","","","","5","","","","","","","","3","","Knee or Hip Broken (Shattered)",""],
  ["kneehip5","","","","","","","","","","10","","","","","","","","10","8","Leg Lost",""],

  ["pelvis1","","","","","","","","","","2","","","","","","","","","","",""],
  ["pelvis2","","","","","","","","","","3","","2","","","","","","","","",""],
  ["pelvis3","","","","","","","","","","4","","3","","","","","","","","Pelvis Broken (Fractured)",""],
  ["pelvis4","","","","","","","","","","4","","5","","","","","","","","Pelvis Broken (Shattered)",""],
  ["pelvis5","","","","","","","","","","P","","20","","","","","","","","Pelvis Broken (Shattered)",""],

  ["intestines1","","","","","","","","","","","","2","","","","","","","","",""],
  ["intestines2","","","","","","","","","","","","3","","2","","","","","","",""],
  ["intestines3","","","","","","","","","","","","4","","4","","","","","","",""],
  ["intestines4","","","","","","","","","","","","5","","5","","","","","15","",""],
  ["intestines5","","","","","","","","","","","","6","","5","","","","","1d10","",""],

  ["spine1","","","","","","","","","","","","","","","1","","","","","",""],
  ["spine2","","","","","","","","","","","","","","","2","2","","1","","",""],
  ["spine3","","","","","","","","","","","","","2","","","","","3","","Spine Broken (Fractured)",""],
  ["spine4","","","","","","","","","","","","","5","","","","","5","","Spine Broken (Shattered)",""],
  ["spine5","","","","","","","","","","","","","","","","","","","","Spine destroyed, Instant Death",""],

  ["stomach1","","","","","","","","","1","","","","","","","","","","","",""],
  ["stomach2","","","","","","","","","2","","","1","","","","","","","","",""],
  ["stomach3","","","","","","","","","3","","","2","","","","","","","","",""],
  ["stomach4","","","","","","","","","4","","","5","","","","","","","20","",""],
  ["stomach5","","","","","","","","","5","","","6","","","","","","","10","",""],

  ["heart1","","","","","","","","5","","","","","","","","","","","","",""],
  ["heart2","2d5","","","","","","","10","","","","","","","","","","","5d10","",""],
  ["heart3","3d5","","","","","","","10","","","","","","","","","","","3d10","",""],
  ["heart4","3d5","","","","","","","P","","","","","","","","","","","1d10","",""],
  ["heart5","","","","","","","","","","","","","","","","","","","","Heart destroyed, Instant Death",""],

  ["lungs1","","","","","","","","2","2","","","","","","","","","","","",""],
  ["lungs2","","","","","","","","3","3","","","","","","","","","","","",""],
  ["lungs3","","","","","","","","4","5","","","","","","","","","","20","",""],
  ["lungs4","","","","","","","","5","5","","","","","","","","","","15","",""],
  ["lungs5","","","","","","","","6","5","","","","","","","","","","","Suffocation",""],

  ["ribcage1","","","","","","","","1","1","","","","","","","","","","","",""],
  ["ribcage2","","","","","","","","2","1","","","","","","","","","","","",""],
  ["ribcage3","","","","","","","","3","2","","","","","","","","","","","",""],
  ["ribcage4","","","","","","","","4","4","","","","","","","","","","","Ribcage Broken (Fractured)",""],
  ["ribcage5","","","","","","","","5","4","","","","","","","","","","","Ribcage Broken (Shattered)",""]
  ];

  const checkAndReturnMax = (input1, input2) =>{
    const lowercaseInput1 = String(input1).toLowerCase();
    const lowercaseInput2 = String(input2).toLowerCase();

    if (lowercaseInput2 !== "" && isNaN(lowercaseInput2)) {
      return input2;
    }

    if (lowercaseInput1 !== "" && isNaN(lowercaseInput1)) {
      return input1;
    }

    const parsedInt1 = parseInt(lowercaseInput1, 10);
    const parsedInt2 = parseInt(lowercaseInput2, 10);

    if (!isNaN(parsedInt1) && !isNaN(parsedInt2)) {
      return Math.max(parsedInt1, parsedInt2).toString();
    }

    if (!isNaN(parsedInt1)) {
      return parsedInt1.toString();
    }

    if (!isNaN(parsedInt2)) {
      return parsedInt2.toString();
    }

    return "";
  }

  const checkAndReturnMin = (input1, input2) =>{
    const lowercaseInput1 = String(input1).toLowerCase();
    const lowercaseInput2 = String(input2).toLowerCase();

    if (lowercaseInput2 !== "" && isNaN(lowercaseInput2)) {
      return input2;
    }

    if (lowercaseInput1 !== "" && isNaN(lowercaseInput1)) {
      return input1;
    }

    const parsedInt1 = parseInt(lowercaseInput1, 10);
    const parsedInt2 = parseInt(lowercaseInput2, 10);

    if (!isNaN(parsedInt1) && !isNaN(parsedInt2)) {
      return Math.min(parsedInt1, parsedInt2).toString();
    }

    if (!isNaN(parsedInt1)) {
      return parsedInt1.toString();
    }

    if (!isNaN(parsedInt2)) {
      return parsedInt2.toString();
    }

    return "";
  }

  const reducedbymod = (input,mod) =>{
    if(input!==""){
      return Math.max( input-Math.floor(mod),1)
    }
    return input
  }


  medicalconditions.forEach(button => {
    var buttonparsed = button.slice()

    on(`clicked:${button[0]}`, function() {

      for (var i = 0; i < button.length; i++) {
        var element = button[i];

        if (typeof element === "string" && element.trim() !== "") {
          var match = element.match(/\d+d\d+/g);

          if (match) {
            var numbers = match[0].match(/\d+/g).map(Number);
            buttonparsed[i] = Math.floor(Math.random() * (numbers[1]*numbers[0] - numbers[0] + 1)) + numbers[0];
          }
        }
      }

      getAttrs([
      "tou",
      "tou_mythic",
      "tou_advancement",

      "medical_status_Stunned",
      "medical_status_Lost",
      "medical_status_Lockjaw",
      "medical_status_Tinnitus",
      "medical_status_Visionloss",
      "medical_status_Shellshock",
      "medical_status_Whiplash",
      "medical_status_Winded",
      "medical_status_Gasping",
      "medical_status_Slowed",
      "medical_status_suffocation",
      "medical_status_Tattered",
      "medical_status_Paralyzed",
      "medical_status_Weakened",
      "medical_status_Flinch",
      "medical_status_Drop",
      "medical_status_Bloodloss",
      "medical_status_Knockdown",
      "medical_status_Loomingdeath",
      "medical_status_Othereffects"

      ], function(values) {
        const tou = parseInt(values["tou"], 10) || 0;
        const tou_mythic = parseInt(values["tou_mythic"], 10) || 0;
        const tou_advancement = parseInt(values["tou_advancement"], 10) || 0;
        const tou_mod = Math.floor((tou + tou_advancement)/10)+tou_mythic

        var Current_Stunned     = values["medical_status_Stunned"];
        var Current_Lost        = values["medical_status_Lost"];
        var Current_Lockjaw     = values["medical_status_Lockjaw"];
        var Current_Tinnitus    = values["medical_status_Tinnitus"];
        var Current_Visionloss  = values["medical_status_Visionloss"];
        var Current_Shellshock  = values["medical_status_Shellshock"];
        var Current_Whiplash    = values["medical_status_Whiplash"];
        var Current_Winded      = values["medical_status_Winded"];
        var Current_Gasping     = values["medical_status_Gasping"];
        var Current_Slowed      = values["medical_status_Slowed"];
        var Current_suffocation = values["medical_status_suffocation"];
        var Current_Tattered    = values["medical_status_Tattered"];
        var Current_Paralyzed   = values["medical_status_Paralyzed"];
        var Current_Weakened    = values["medical_status_Weakened"];
        var Current_Flinch      = values["medical_status_Flinch"];
        var Current_Drop        = values["medical_status_Drop"];
        var Current_Bloodloss   = values["medical_status_Bloodloss"];
        var Current_Knockdown   = values["medical_status_Knockdown"];
        var Current_Loomingdeath= values["medical_status_Loomingdeath"];
        var Current_Othereffects= values["medical_status_Othereffects"];

        if(buttonparsed[20] !==""){
          if(Current_Othereffects !==""){
            Current_Othereffects = Current_Othereffects + "\n" + buttonparsed[20] + buttonparsed[21]
          } else {
            Current_Othereffects = buttonparsed[20] + buttonparsed[21]
          }
        }


        setAttrs({
          medical_status_Stunned      : checkAndReturnMax(reducedbymod(buttonparsed[1],tou_mod) , Current_Stunned     ),
          medical_status_Lost         : checkAndReturnMax(reducedbymod(buttonparsed[2],tou_mod/2) , Current_Lost        ),
          medical_status_Lockjaw      : checkAndReturnMax(buttonparsed[3]                       , Current_Lockjaw     ),
          medical_status_Tinnitus     : checkAndReturnMax(buttonparsed[4]                       , Current_Tinnitus    ),
          medical_status_Visionloss   : checkAndReturnMax(buttonparsed[5]                       , Current_Visionloss  ),
          medical_status_Shellshock   : checkAndReturnMax(buttonparsed[6]                       , Current_Shellshock  ),
          medical_status_Whiplash     : checkAndReturnMax(buttonparsed[7]                       , Current_Whiplash    ),
          medical_status_Winded       : checkAndReturnMax(buttonparsed[8]                       , Current_Winded      ),
          medical_status_Gasping      : checkAndReturnMax(buttonparsed[9]                       , Current_Gasping     ),
          medical_status_Slowed       : checkAndReturnMax(buttonparsed[10]                      , Current_Slowed      ),
          medical_status_suffocation  : checkAndReturnMax(buttonparsed[11]                      , Current_suffocation ),
          medical_status_Tattered     : checkAndReturnMax(buttonparsed[12]                      , Current_Tattered    ),
          medical_status_Paralyzed    : checkAndReturnMax(buttonparsed[13]                      , Current_Paralyzed   ),
          medical_status_Weakened     : checkAndReturnMax(buttonparsed[14]                      , Current_Weakened    ),
          medical_status_Flinch       : checkAndReturnMax(buttonparsed[15]                      , Current_Flinch      ),
          medical_status_Drop         : checkAndReturnMax(buttonparsed[16]                      , Current_Drop        ),
          medical_status_Bloodloss    : checkAndReturnMax(buttonparsed[17]                      , Current_Bloodloss   ),
          medical_status_Knockdown    : checkAndReturnMax(buttonparsed[18]                      , Current_Knockdown   ),
          medical_status_Loomingdeath : checkAndReturnMin(buttonparsed[19]                      , Current_Loomingdeath),
          medical_status_Othereffects : Current_Othereffects
        });
      });
    });
  });

  on("clicked:medicalreset", function() {
    setAttrs({
      medical_status_Stunned      : "",
      medical_status_Lost         : "",
      medical_status_Lockjaw      : "",
      medical_status_Tinnitus     : "",
      medical_status_Visionloss   : "",
      medical_status_Shellshock   : "",
      medical_status_Whiplash     : "",
      medical_status_Winded       : "",
      medical_status_Gasping      : "",
      medical_status_Slowed       : "",
      medical_status_suffocation  : "",
      medical_status_Tattered     : "",
      medical_status_Paralyzed    : "",
      medical_status_Weakened     : "",
      medical_status_Flinch       : "",
      medical_status_Drop         : "",
      medical_status_Bloodloss    : "",
      medical_status_Knockdown    : "",
      medical_status_Loomingdeath : "",
      medical_status_Othereffects : ""
    });
  });

  on(`clicked:medicalturn`, function() {

    getAttrs([
    "medical_status_Stunned",
    "medical_status_Lost",
    "medical_status_Lockjaw",
    "medical_status_Tinnitus",
    "medical_status_Visionloss",
    "medical_status_Shellshock",
    "medical_status_Whiplash",
    "medical_status_Winded",
    "medical_status_Gasping",
    "medical_status_Slowed",
    "medical_status_suffocation",
    "medical_status_Tattered",
    "medical_status_Paralyzed",
    "medical_status_Weakened",
    "medical_status_Flinch",
    "medical_status_Drop",
    "medical_status_Bloodloss",
    "medical_status_Knockdown",
    "medical_status_Loomingdeath"

    ], function(values) {
      var Current_Stunned     = values["medical_status_Stunned"];
      var Current_Lost        = values["medical_status_Lost"];
      var Current_Lockjaw     = values["medical_status_Lockjaw"];
      var Current_Tinnitus    = values["medical_status_Tinnitus"];
      var Current_Visionloss  = values["medical_status_Visionloss"];
      var Current_Shellshock  = values["medical_status_Shellshock"];
      var Current_Whiplash    = values["medical_status_Whiplash"];
      var Current_Winded      = values["medical_status_Winded"];
      var Current_Gasping     = values["medical_status_Gasping"];
      var Current_Slowed      = values["medical_status_Slowed"];
      var Current_suffocation = values["medical_status_suffocation"];
      var Current_Tattered    = values["medical_status_Tattered"];
      var Current_Paralyzed   = values["medical_status_Paralyzed"];
      var Current_Weakened    = values["medical_status_Weakened"];
      var Current_Flinch      = values["medical_status_Flinch"];
      var Current_Drop        = values["medical_status_Drop"];
      var Current_Bloodloss   = values["medical_status_Bloodloss"];
      var Current_Knockdown   = values["medical_status_Knockdown"];
      var Current_Loomingdeath= values["medical_status_Loomingdeath"];

      setAttrs({
        medical_status_Stunned      : (!isNaN(Current_Stunned     ) && +Current_Stunned      > 0) ? String(Math.max(+Current_Stunned      - 2,0)) : Current_Stunned     ,
        medical_status_Lost         : (!isNaN(Current_Lost        ) && +Current_Lost         > 0) ? String(Math.max(+Current_Lost         - 2,0)) : Current_Lost        ,
        medical_status_Lockjaw      : (!isNaN(Current_Lockjaw     ) && +Current_Lockjaw      > 0) ? String(         +Current_Lockjaw      - 1   ) : Current_Lockjaw     ,
        medical_status_Tinnitus     : (!isNaN(Current_Tinnitus    ) && +Current_Tinnitus     > 0) ? String(         +Current_Tinnitus     - 1   ) : Current_Tinnitus    ,
        medical_status_Visionloss   : (!isNaN(Current_Visionloss  ) && +Current_Visionloss   > 0) ? String(         +Current_Visionloss   - 1   ) : Current_Visionloss  ,
        medical_status_Shellshock   : (!isNaN(Current_Shellshock  ) && +Current_Shellshock   > 0) ? String(         +Current_Shellshock   - 1   ) : Current_Shellshock  ,
        medical_status_Whiplash     : (!isNaN(Current_Whiplash    ) && +Current_Whiplash     > 0) ? String(         +Current_Whiplash     - 1   ) : Current_Whiplash    ,
        medical_status_Winded       : (!isNaN(Current_Winded      ) && +Current_Winded       > 0) ? String(         +Current_Winded       - 1   ) : Current_Winded      ,
        medical_status_Gasping      : (!isNaN(Current_Gasping     ) && +Current_Gasping      > 0) ? String(         +Current_Gasping      - 1   ) : Current_Gasping     ,
        medical_status_Slowed       : (!isNaN(Current_Slowed      ) && +Current_Slowed       > 0) ? String(         +Current_Slowed       - 1   ) : Current_Slowed      ,
        medical_status_suffocation  : (!isNaN(Current_suffocation ) && +Current_suffocation  > 0) ? String(         +Current_suffocation  - 1   ) : Current_suffocation ,
        medical_status_Tattered     : (!isNaN(Current_Tattered    ) && +Current_Tattered     > 0) ? String(Math.max(+Current_Tattered     - 2,0)) : Current_Tattered    ,
        medical_status_Paralyzed    : (!isNaN(Current_Paralyzed   ) && +Current_Paralyzed    > 0) ? String(         +Current_Paralyzed    - 1   ) : Current_Paralyzed   ,
        medical_status_Weakened     : (!isNaN(Current_Weakened    ) && +Current_Weakened     > 0) ? String(         +Current_Weakened     - 1   ) : Current_Weakened    ,
        medical_status_Flinch       : (!isNaN(Current_Flinch      ) && +Current_Flinch       > 0) ? String(Math.max(+Current_Tattered     - 2,0)) : Current_Flinch      ,
        medical_status_Drop         : (!isNaN(Current_Drop        ) && +Current_Drop         > 0) ? String(         +Current_Drop         - 1   ) : Current_Drop        ,
        medical_status_Knockdown    : (!isNaN(Current_Knockdown   ) && +Current_Knockdown    > 0) ? String(         +Current_Knockdown    - 1   ) : Current_Knockdown   ,
        medical_status_Loomingdeath : (!isNaN(Current_Loomingdeath) && +Current_Loomingdeath > 0) ? String(         +Current_Loomingdeath - 1   ) : Current_Loomingdeath
      });
    });
  });


  // _______________________________________________________________________________________________
  // Advancements experience sheet worker___________________________________________________________
  // _______________________________________________________________________________________________
  on("change:repeating_advancements remove:repeating_advancements", () => {
    repeatingSum(["xp_spent"],"advancements",["advancement_cost"])
  });




  // _______________________________________________________________________________________________
  // Advancements stat sheet worker_________________________________________________________________
  // _______________________________________________________________________________________________

  on("change:repeating_characteristics remove:repeating_characteristics", () => {
    repeatingSum([    "characteristic_spending_str_extra","characteristic_spending_tou_extra","characteristic_spending_agi_extra","characteristic_spending_wfr_extra","characteristic_spending_wfm_extra","characteristic_spending_int_extra","characteristic_spending_per_extra","characteristic_spending_crg_extra","characteristic_spending_cha_extra","characteristic_spending_ldr_extra"],"characteristics",["characteristic_spending_str_extra_r","characteristic_spending_tou_extra_r","characteristic_spending_agi_extra_r","characteristic_spending_wfr_extra_r","characteristic_spending_wfm_extra_r","characteristic_spending_int_extra_r","characteristic_spending_per_extra_r","characteristic_spending_crg_extra_r","characteristic_spending_cha_extra_r","characteristic_spending_ldr_extra_r"])
  });

  on("change:characteristic_spending_lock", () => {
    getAttrs([
    "characteristic_spending_lock",
    "str",
    "tou",
    "agi",
    "wfr",
    "wfm",
    "int",
    "per",
    "crg",
    "cha",
    "ldr",
    "characteristic_spending_str_base", "characteristic_spending_str_spending", "characteristic_spending_str_extra",
    "characteristic_spending_tou_base", "characteristic_spending_tou_spending", "characteristic_spending_tou_extra",
    "characteristic_spending_agi_base", "characteristic_spending_agi_spending", "characteristic_spending_agi_extra",
    "characteristic_spending_wfr_base", "characteristic_spending_wfr_spending", "characteristic_spending_wfr_extra",
    "characteristic_spending_wfm_base", "characteristic_spending_wfm_spending", "characteristic_spending_wfm_extra",
    "characteristic_spending_int_base", "characteristic_spending_int_spending", "characteristic_spending_int_extra",
    "characteristic_spending_per_base", "characteristic_spending_per_spending", "characteristic_spending_per_extra",
    "characteristic_spending_crg_base", "characteristic_spending_crg_spending", "characteristic_spending_crg_extra",
    "characteristic_spending_cha_base", "characteristic_spending_cha_spending", "characteristic_spending_cha_extra",
    "characteristic_spending_ldr_base", "characteristic_spending_ldr_spending", "characteristic_spending_ldr_extra",

    ], function(values) {
      var str_base     = parseInt(values["characteristic_spending_str_base"], 10) || 0;
      var str_spending = parseInt(values["characteristic_spending_str_spending"], 10) || 0;
      var str_extra    = parseInt(values["characteristic_spending_str_extra"], 10) || 0;

      var tou_base     = parseInt(values["characteristic_spending_tou_base"], 10) || 0;
      var tou_spending = parseInt(values["characteristic_spending_tou_spending"], 10) || 0;
      var tou_extra    = parseInt(values["characteristic_spending_tou_extra"], 10) || 0;

      var agi_base     = parseInt(values["characteristic_spending_agi_base"], 10) || 0;
      var agi_spending = parseInt(values["characteristic_spending_agi_spending"], 10) || 0;
      var agi_extra    = parseInt(values["characteristic_spending_agi_extra"], 10) || 0;

      var wfr_base     = parseInt(values["characteristic_spending_wfr_base"], 10) || 0;
      var wfr_spending = parseInt(values["characteristic_spending_wfr_spending"], 10) || 0;
      var wfr_extra    = parseInt(values["characteristic_spending_wfr_extra"], 10) || 0;

      var wfm_base     = parseInt(values["characteristic_spending_wfm_base"], 10) || 0;
      var wfm_spending = parseInt(values["characteristic_spending_wfm_spending"], 10) || 0;
      var wfm_extra    = parseInt(values["characteristic_spending_wfm_extra"], 10) || 0;

      var int_base     = parseInt(values["characteristic_spending_int_base"], 10) || 0;
      var int_spending = parseInt(values["characteristic_spending_int_spending"], 10) || 0;
      var int_extra    = parseInt(values["characteristic_spending_int_extra"], 10) || 0;

      var per_base     = parseInt(values["characteristic_spending_per_base"], 10) || 0;
      var per_spending = parseInt(values["characteristic_spending_per_spending"], 10) || 0;
      var per_extra    = parseInt(values["characteristic_spending_per_extra"], 10) || 0;

      var crg_base     = parseInt(values["characteristic_spending_crg_base"], 10) || 0;
      var crg_spending = parseInt(values["characteristic_spending_crg_spending"], 10) || 0;
      var crg_extra    = parseInt(values["characteristic_spending_crg_extra"], 10) || 0;

      var cha_base     = parseInt(values["characteristic_spending_cha_base"], 10) || 0;
      var cha_spending = parseInt(values["characteristic_spending_cha_spending"], 10) || 0;
      var cha_extra    = parseInt(values["characteristic_spending_cha_extra"], 10) || 0;

      var ldr_base     = parseInt(values["characteristic_spending_ldr_base"], 10) || 0;
      var ldr_spending = parseInt(values["characteristic_spending_ldr_spending"], 10) || 0;
      var ldr_extra    = parseInt(values["characteristic_spending_ldr_extra"], 10) || 0;

      setAttrs({
        str: str_base + str_spending + str_extra,
        tou: tou_base + tou_spending + tou_extra,
        agi: agi_base + agi_spending + agi_extra,
        wfr: wfr_base + wfr_spending + wfr_extra,
        wfm: wfm_base + wfm_spending + wfm_extra,
        int: int_base + int_spending + int_extra,
        per: per_base + per_spending + per_extra,
        crg: crg_base + crg_spending + crg_extra,
        cha: cha_base + cha_spending + cha_extra,
        ldr: ldr_base + ldr_spending + ldr_extra,
        characteristic_spending_lock : 0
      });
    });
  });










  // _______________________________________________________________________________________________
  // Vehicle sheet worker___________________________________________________________________________
  // _______________________________________________________________________________________________
  on("change:repeating_vehicles:doomedstate_value", (eventInfo) => {
    console.log(eventInfo.triggerName);
    getAttrs([
    eventInfo.triggerName,

    ], values => {
      var doomedstate = parseInt(values[eventInfo.triggerName], 10) || 0;
      var doomedstatedesc = "Nothing happens.";
      const updateAttrs ={}

      if (doomedstate>10) {doomedstatedesc = "The Vehicle’s current Armor is reduced by 1 on all Locations."};
      if (doomedstate>20) {doomedstatedesc = "The Vehicle’s current Armor is reduced by 2 on all Locations. \n\tA Character within the Vehicle takes the Damage of the Attack, reduced by half of the current Armor of the Vehicle."};
      if (doomedstate>30) {doomedstatedesc = "The Vehicle’s current Armor is reduced by 3 on all Locations. \n\tA Character within the Vehicle takes the full Damage of the Attack."};
      if (doomedstate>40) {doomedstatedesc = "The Vehicle’s current Armor is reduced by 4 on all Locations. \n\t  The Vehicle cannot move and any weapon that needs an engine to move can no longer turn and aim."};
      if (doomedstate>50) {doomedstatedesc = "The Vehicle’s current Armor is reduced by 5 on all Locations. \n\t  The Vehicle catches fire and the Characters inside will take Flame (2) each Round until they escape."};
      if (doomedstate>65) {doomedstatedesc = "The Vehicle catches fire and major sections of the Vehicle have been destroyed. \n\tThe Vehicle’s ammunition and fuel will soon detonate. \n\tThe Characters have 4 Rounds to escape the Vehicle before it fully detonates. The Blast Radius is the Vehicle’s Size Points multiplied by 2, while the Kill Radius is the Vehicle’s Size Points."};
      if (doomedstate>80) {doomedstatedesc = "The Vehicle violently explodes due to the damage to the fuel systems and ammunition in the Vehicle. \n\tThis gives the Characters 2 Rounds to escape before the Vehicle fully detonates. The Blast Radius is the Vehicle’s Size Points multiplied by 3, while the Kill Radius is the Vehicle’s Size Points multiplied by 2."};
      if (doomedstate>99) {doomedstatedesc = "The Vehicle instantly detonates with no chance of escaping. \n\tThe Blast Radius is the Vehicle’s Size Points multiplied by 4, while the Kill Radius is the Vehicle’s Size Points multiplied by 3."}

      updateAttrs[eventInfo.triggerName.split('_doomedstate_value')[0] + "_doomedstate_desc"] = doomedstatedesc
      setAttrs(updateAttrs);
    });
  });








  // _______________________________________________________________________________________________
  // Compendium sheet workers_______________________________________________________________________
  // _______________________________________________________________________________________________

  const compcheck = (value,index="none") =>{

    try{
      if (index != "none") value = value[index]
    }
    finally {
      if (value) return value;
      else return "";
    }
  }

  const safeparse = (value) => {
    try {
      const parsed = JSON.parse(value);

      if (typeof parsed === 'object' && parsed !== null) {
        for (const key in parsed) {
          parsed[key] = safeparse(parsed[key]);
        }
      } else if (Array.isArray(parsed)) {
        for (let i = 0; i < parsed.length; i++) {
          parsed[i] = safeparse(parsed[i]);
        }
      }

      return parsed;
    } catch {
      return value;
    }
  };


  // ___________________________________________________________________________________________
  // R20 compendium drop handler
  on("change:comp_data", () => {
    getAttrs([
    "comp_name",
    "comp_data",

    ], values => {

      if(values["comp_name"] != "" && values["comp_data"] != ""){
        compendiumhandler(
        values["comp_name"],
        safeparse(values["comp_data"])
        )
      }
    });

    setAttrs({
      comp_name:"",
      comp_data:"",
    });
  });

  // ___________________________________________________________________________________________
  // Armory manual compendium entry drop handler
  on("clicked:compendiumapply", () => {
    getAttrs([
    "comp_manual",

    ], values => {
      manual_compendium_entry = safeparse(values["comp_manual"])

      // Check if manual_compendium_entry is an object and not an array
      if (typeof manual_compendium_entry !== "object" || manual_compendium_entry === null) {
        setAttrs({comp_feedback: "JSON invalid - No valid compendium data provided."});
        return;
      }

      if (Array.isArray(manual_compendium_entry)) {
        setAttrs({comp_feedback: "JSON valid - Multi item compendium drop attempted."});
        for (const single_compendium_entry of manual_compendium_entry) {
          compendiumhandler(
          single_compendium_entry["Name"],
          single_compendium_entry["Data"]
          );
        }
      }

      else{
        setAttrs({comp_feedback:"JSON valid - Single item compendium drop attempted."});
        compendiumhandler(
        manual_compendium_entry["Name"],
        manual_compendium_entry["Data"]
        )
      }

      setAttrs({
        comp_manual:""
      });
    });
  });



  const compendiumhandler = (comp_name,comp_data) => {
    getAttrs([
    "sheet_tab",
    "sheet_select",
    "npc_tab",
    "WFR", "WFR_advancement",
    "WFM", "WFM_advancement",
    "AGI", "AGI_advancement",
    "TOU", "TOU_advancement"


    ], values => {
      const wfm_total = Math.floor(((parseInt(values["WFM"], 10) || 0) + (parseInt(values["WFM_advancement"], 10) || 0 ))/10);
      const tou_total = Math.floor(((parseInt(values["TOU"], 10) || 0) + (parseInt(values["TOU_advancement"], 10) || 0 ))/10);
      const wfr_total = Math.floor(((parseInt(values["WFR"], 10) || 0) + (parseInt(values["WFR_advancement"], 10) || 0 ))/10);
      const agi_total = Math.floor(((parseInt(values["AGI"], 10) || 0) + (parseInt(values["AGI_advancement"], 10) || 0 ))/10);

      const sheet_tab = values["sheet_tab"]
      const sheet_select = values["sheet_select"]
      const npc_tab = values["npc_tab"]

      var manual_compendium_entry = ""
      var comp_name_Parsed = ""
      var comp_data_Parsed = ""
      const updateAttrs = {};

      comp_name_Parsed = comp_name
      comp_data_Parsed = comp_data

      console.log(comp_name_Parsed)
      console.log(comp_data_Parsed)



      // ___________________________________________________________________________________________
      // Compendium Ability
      if (comp_data_Parsed.COMP_field == "Ability") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_abilities_" + UUID1 + "_ability"]       = compcheck(comp_name_Parsed) + " - " + compcheck(comp_data_Parsed["COMP_aditional_info"])
        updateAttrs["repeating_abilities_" + UUID1 + "_ability_desc"]  = compcheck(comp_data_Parsed["COMP_description"])

        const UUID2 = generateRowID();
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_name"]  = compcheck(comp_name_Parsed)
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_cost"]  = compcheck(comp_data_Parsed["COMP_experience"])
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_pgnr"]  = ""
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Armor sheet worker
      if (comp_data_Parsed.COMP_field == "Armour") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_armor_" + UUID1 + "_name"]           = compcheck(comp_name_Parsed)
        updateAttrs["repeating_armor_" + UUID1 + "_armor_head"]     = parseInt(compcheck(comp_data_Parsed["COMP_armor_head"]))
        updateAttrs["repeating_armor_" + UUID1 + "_armor_arms"]     = parseInt(compcheck(comp_data_Parsed["COMP_armor_arms"]))
        updateAttrs["repeating_armor_" + UUID1 + "_armor_chest"]    = parseInt(compcheck(comp_data_Parsed["COMP_armor_chest"]))
        updateAttrs["repeating_armor_" + UUID1 + "_armor_legs"]     = parseInt(compcheck(comp_data_Parsed["COMP_armor_legs"]))
        updateAttrs["repeating_armor_" + UUID1 + "_shields"]        = compcheck(comp_data_Parsed["COMP_shield_integrity"])
        updateAttrs["repeating_armor_" + UUID1 + "_shields_max"]    = compcheck(comp_data_Parsed["COMP_shield_integrity"])
        updateAttrs["repeating_armor_" + UUID1 + "_shields_delay"]  = compcheck(comp_data_Parsed["COMP_shield_delay"])
        updateAttrs["repeating_armor_" + UUID1 + "_shields_charge"] = compcheck(comp_data_Parsed["COMP_shield_recharge"])
        updateAttrs["repeating_armor_" + UUID1 + "_description"]    = compcheck(comp_name_Parsed) + "\n" + compcheck(comp_data_Parsed["COMP_description"])
        if(comp_data_Parsed.COMP_variant == "1"){
          updateAttrs["repeating_armor_" + UUID1 + "_description"]  = "[Variant] " +compcheck(comp_name_Parsed) + "\n" + compcheck(comp_data_Parsed["COMP_description"])
        }

        const UUID2 = generateRowID();
        updateAttrs["repeating_gear_" + UUID2 + "_gear_name"]     = compcheck(comp_name_Parsed) + "   armor[" + compcheck(comp_data_Parsed["COMP_armor_head"]) +" "+ compcheck(comp_data_Parsed["COMP_armor_arms"]) +" "+ compcheck(comp_data_Parsed["COMP_armor_chest"]) +" "+ compcheck(comp_data_Parsed["COMP_armor_legs"]) + "]" + " shields[" + compcheck(comp_data_Parsed["COMP_shield_integrity"]) +" "+ compcheck(comp_data_Parsed["COMP_shield_delay"]) +" "+ compcheck(comp_data_Parsed["COMP_shield_recharge"]) + "]"
        updateAttrs["repeating_gear_" + UUID2 + "_gear_quantity"] = 1
        updateAttrs["repeating_gear_" + UUID2 + "_gear_cost"]     = compcheck(comp_data_Parsed["COMP_price"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_weight"]   = compcheck(comp_data_Parsed["COMP_weight"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_bp"]       = compcheck(comp_data_Parsed["COMP_breakpoints"])
        updateAttrs["repeating_gear_" + UUID2 + "_description"]   = compcheck(comp_data_Parsed["COMP_description"])
        if(comp_data_Parsed.COMP_variant == "1"){
          updateAttrs["repeating_gear_" + UUID2 + "_description"] = "[Variant] " +compcheck(comp_data_Parsed["COMP_description"])
        }
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Armor Permutations sheet worker
      if (comp_data_Parsed.COMP_field == "Permutation") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_permutations_" + UUID1 + "_permutation_name"]      = compcheck(comp_name_Parsed)
        updateAttrs["repeating_permutations_" + UUID1 + "_permutation_location"]  = compcheck(comp_data_Parsed["COMP_hpt_location"])
        updateAttrs["repeating_permutations_" + UUID1 + "_permutation_desc"]      = compcheck(comp_data_Parsed["COMP_description"])

        const UUID2 = generateRowID();
        updateAttrs["repeating_gear_" + UUID2 + "_gear_name"]     = compcheck(comp_name_Parsed)
        updateAttrs["repeating_gear_" + UUID2 + "_gear_quantity"] = 1
        updateAttrs["repeating_gear_" + UUID2 + "_gear_cost"]     = compcheck(comp_data_Parsed["COMP_price"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_weight"]   = compcheck(comp_data_Parsed["COMP_weight"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_bp"]       = compcheck(comp_data_Parsed["COMP_breakpoints"])
        updateAttrs["repeating_gear_" + UUID2 + "_description"]   = compcheck(comp_data_Parsed["COMP_description"])

        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Education sheet worker
      if (comp_data_Parsed.COMP_field == "Education") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_education_" + UUID1 + "_education_name"]   = compcheck(comp_name_Parsed) + " (" + compcheck(comp_data_Parsed["COMP_difficulty"]) + ")"
        if(compcheck(comp_data_Parsed["COMP_bonus_10"]) == "1"){
          updateAttrs["repeating_education_" + UUID1 + "_education_mod3"] = "10"
        }else{
          updateAttrs["repeating_education_" + UUID1 + "_education_mod3"] = "5"
        }

        const UUID2 = generateRowID();
        updateAttrs["repeating_advancements_" + UUID2 + "_advancement_name"]  = compcheck(comp_name_Parsed)
        updateAttrs["repeating_advancements_" + UUID2 + "_advancement_cost"]  = compcheck(comp_data_Parsed["COMP_experience"])
        updateAttrs["repeating_advancements_" + UUID2 + "_advancement_pgnr"]  = ""
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Equipment, Modifications and Ammo sheet worker
      if (comp_data_Parsed.COMP_field == "Equipment" || comp_data_Parsed.COMP_field == "Weapon mod" || comp_data_Parsed.COMP_field == "Vehicle mod" || comp_data_Parsed.COMP_field == "Special ammo") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_gear_" + UUID1 + "_gear_name"]     = compcheck(comp_name_Parsed)
        updateAttrs["repeating_gear_" + UUID1 + "_gear_quantity"] = 1
        updateAttrs["repeating_gear_" + UUID1 + "_gear_cost"]     = compcheck(comp_data_Parsed["COMP_price"])
        updateAttrs["repeating_gear_" + UUID1 + "_gear_weight"]   = compcheck(comp_data_Parsed["COMP_weight"])
        updateAttrs["repeating_gear_" + UUID1 + "_gear_bp"]       = compcheck(comp_data_Parsed["COMP_breakpoints"])
        updateAttrs["repeating_gear_" + UUID1 + "_description"]   = compcheck(comp_data_Parsed["COMP_description"])
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Melee weapon sheet worker
      if (comp_data_Parsed.COMP_field == "Mel_Wep") {

        if (sheet_select == "PC" && sheet_tab == "vehicles") {
          loc="repeating_vmeleeweapons_"
        }
        else if (sheet_select == "NPC" && npc_tab == "vehicleweps") {
          loc="repeating_vmeleeweapons_"
        }
        else {
          loc = "repeating_meleeweapons_"
        }

        const wep_data_Parsed = comp_data_Parsed["data-MeleeWeapon"]

        for (let i = 0; i < wep_data_Parsed.length; i++) {
          if ("COMP_name" in wep_data_Parsed[i]){
            if (wep_data_Parsed[i]["COMP_name"] != ""){

              const UUID1 = generateRowID();

              if (wep_data_Parsed[i]["COMP_attribute"] == "STR") {wep_data_Parsed[i]["COMP_attribute"] = "@{STR} + @{STR_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "TOU") {wep_data_Parsed[i]["COMP_attribute"] = "@{TOU} + @{TOU_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "AGI") {wep_data_Parsed[i]["COMP_attribute"] = "@{AGI} + @{AGI_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "WFR") {wep_data_Parsed[i]["COMP_attribute"] = "@{WFR} + @{WFR_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "WFM") {wep_data_Parsed[i]["COMP_attribute"] = "@{WFM} + @{WFM_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "INT") {wep_data_Parsed[i]["COMP_attribute"] = "@{INT} + @{INT_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "PER") {wep_data_Parsed[i]["COMP_attribute"] = "@{PER} + @{PER_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "CRG") {wep_data_Parsed[i]["COMP_attribute"] = "@{CRG} + @{CRG_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "CHA") {wep_data_Parsed[i]["COMP_attribute"] = "@{CHA} + @{CHA_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "LDR") {wep_data_Parsed[i]["COMP_attribute"] = "@{LDR} + @{LDR_advancement} + @{fatigue_mod}"}

              if (wep_data_Parsed[i]["COMP_base_add"] == "N/A")    {wep_data_Parsed[i]["COMP_base_add"] = "0"}
              if (wep_data_Parsed[i]["COMP_base_add"] == "Half")   {wep_data_Parsed[i]["COMP_base_add"] = "[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]"}
              if (wep_data_Parsed[i]["COMP_base_add"] == "Full")   {wep_data_Parsed[i]["COMP_base_add"] = "[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]"}
              if (wep_data_Parsed[i]["COMP_base_add"] == "Double") {wep_data_Parsed[i]["COMP_base_add"] = "[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]"}

              if (wep_data_Parsed[i]["COMP_pierce_add"] == "N/A")    {wep_data_Parsed[i]["COMP_pierce_add"] = "0"}
              if (wep_data_Parsed[i]["COMP_pierce_add"] == "Half")   {wep_data_Parsed[i]["COMP_pierce_add"] = "[[floor(((@{STR} + @{STR_advancement})/10 + @{str_mythic})/2)]]"}
              if (wep_data_Parsed[i]["COMP_pierce_add"] == "Full")   {wep_data_Parsed[i]["COMP_pierce_add"] = "[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})]]"}
              if (wep_data_Parsed[i]["COMP_pierce_add"] == "Double") {wep_data_Parsed[i]["COMP_pierce_add"] = "[[floor((@{STR} + @{STR_advancement})/10 + @{STR_mythic})*2]]"}

              updateAttrs[loc + UUID1 + "_weapon_name"]                         = compcheck(wep_data_Parsed[i]["COMP_name"])
              updateAttrs[loc + UUID1 + "_weapon_type"]                         = compcheck(wep_data_Parsed[i]["COMP_type"])
              updateAttrs[loc + UUID1 + "_Weapon_attr"]                         = compcheck(wep_data_Parsed[i]["COMP_attribute"])
              updateAttrs[loc + UUID1 + "_weapon_range"]                        = compcheck(wep_data_Parsed[i]["COMP_range"])
              updateAttrs[loc + UUID1 + "_weapon_dam-roll"]                     = compcheck(wep_data_Parsed[i]["COMP_damage_roll"])
              updateAttrs[loc + UUID1 + "_weapon_base"]                         = compcheck(wep_data_Parsed[i]["COMP_damage_base"])
              updateAttrs[loc + UUID1 + "_weapon_pierce"]                       = compcheck(wep_data_Parsed[i]["COMP_pierce"])
              updateAttrs[loc + UUID1 + "_weapon_hitmod"]                       = compcheck(wep_data_Parsed[i]["COMP_hitmod"])
              updateAttrs[loc + UUID1 + "_weapon_attacks"] = Math.min(wfm_total,  compcheck(wep_data_Parsed[i]["COMP_rof"])) + " / " + compcheck(wep_data_Parsed[i]["COMP_rof"])
              updateAttrs[loc + UUID1 + "_weapon_breakpoints"]                  = compcheck(wep_data_Parsed[i]["COMP_breakpoints"])
              updateAttrs[loc + UUID1 + "_weapon_breakpoints_max"]              = compcheck(wep_data_Parsed[i]["COMP_breakpoints"])
              updateAttrs[loc + UUID1 + "_weapon_base_add"]                     = compcheck(wep_data_Parsed[i]["COMP_base_add"])
              updateAttrs[loc + UUID1 + "_weapon_pierce_add"]                   = compcheck(wep_data_Parsed[i]["COMP_pierce_add"])
              updateAttrs[loc + UUID1 + "_weapon_special_rules"]                = compcheck(wep_data_Parsed[i]["COMP_special_rules"])
              updateAttrs[loc + UUID1 + "_description"]                         = compcheck(wep_data_Parsed[i]["COMP_description"])
            }
          }
        }

        const UUID2 = generateRowID();
        updateAttrs["repeating_gear_" + UUID2 + "_gear_name"]     = compcheck(comp_name_Parsed)
        updateAttrs["repeating_gear_" + UUID2 + "_gear_quantity"] = 1
        updateAttrs["repeating_gear_" + UUID2 + "_gear_cost"]     = compcheck(comp_data_Parsed["COMP_price"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_weight"]   = compcheck(comp_data_Parsed["COMP_weight"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_bp"]       = compcheck(comp_data_Parsed["COMP_breakpoints"])
        updateAttrs["repeating_gear_" + UUID2 + "_description"]   = ""
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium NPC sheet worker
      if (comp_data_Parsed.COMP_field == "Baseline" || comp_data_Parsed.COMP_field == "Npc") {

        if(comp_data_Parsed.COMP_field == "Npc"){
          updateAttrs["character_name"] = compcheck(comp_name_Parsed)
          updateAttrs["npc_XP"] = compcheck(comp_data_Parsed["COMP_experience"])
          updateAttrs["npc_SIZE"] = compcheck(comp_data_Parsed["COMP_size"])
          updateAttrs["wounds"] = compcheck(comp_data_Parsed["COMP_wounds"])
          updateAttrs["wounds_max"] = compcheck(comp_data_Parsed["COMP_wounds"])

          updateAttrs["STR"] = compcheck(comp_data_Parsed["COMP_strength"])
          updateAttrs["TOU"] = compcheck(comp_data_Parsed["COMP_toughness"])
          updateAttrs["AGI"] = compcheck(comp_data_Parsed["COMP_agility"])
          updateAttrs["WFR"] = compcheck(comp_data_Parsed["COMP_warfare ranged"])
          updateAttrs["WFM"] = compcheck(comp_data_Parsed["COMP_warfare melee"])
          updateAttrs["INT"] = compcheck(comp_data_Parsed["COMP_intelligence"])
          updateAttrs["PER"] = compcheck(comp_data_Parsed["COMP_perception"])
          updateAttrs["CRG"] = compcheck(comp_data_Parsed["COMP_courage"])
          updateAttrs["CHA"] = compcheck(comp_data_Parsed["COMP_charisma"])
          updateAttrs["LDR"] = compcheck(comp_data_Parsed["COMP_leadership"])
        }

        updateAttrs["characteristic_spending_str_base"] = compcheck(comp_data_Parsed["COMP_strength"])
        updateAttrs["characteristic_spending_tou_base"] = compcheck(comp_data_Parsed["COMP_toughness"])
        updateAttrs["characteristic_spending_agi_base"] = compcheck(comp_data_Parsed["COMP_agility"])
        updateAttrs["characteristic_spending_wfr_base"] = compcheck(comp_data_Parsed["COMP_warfare ranged"])
        updateAttrs["characteristic_spending_wfm_base"] = compcheck(comp_data_Parsed["COMP_warfare melee"])
        updateAttrs["characteristic_spending_int_base"] = compcheck(comp_data_Parsed["COMP_intelligence"])
        updateAttrs["characteristic_spending_per_base"] = compcheck(comp_data_Parsed["COMP_perception"])
        updateAttrs["characteristic_spending_crg_base"] = compcheck(comp_data_Parsed["COMP_courage"])
        updateAttrs["characteristic_spending_cha_base"] = compcheck(comp_data_Parsed["COMP_charisma"])
        updateAttrs["characteristic_spending_ldr_base"] = compcheck(comp_data_Parsed["COMP_leadership"])

        updateAttrs["STR_mythic"] = compcheck(comp_data_Parsed["COMP_mythic_strength"])
        updateAttrs["TOU_mythic"] = compcheck(comp_data_Parsed["COMP_mythic_toughness"])
        updateAttrs["AGI_mythic"] = compcheck(comp_data_Parsed["COMP_mythic_agility"])

        updateAttrs["settings_half_addi"]   = compcheck(comp_data_Parsed["COMP_half_move_add"])
        updateAttrs["settings_half_mult"]   = compcheck(comp_data_Parsed["COMP_half_move_mod"])
        updateAttrs["settings_full_addi"]   = compcheck(comp_data_Parsed["COMP_full_move_add"])
        updateAttrs["settings_full_mult"]   = compcheck(comp_data_Parsed["COMP_full_move_mod"])
        updateAttrs["settings_charge_addi"] = compcheck(comp_data_Parsed["COMP_charge_move_add"])
        updateAttrs["settings_charge_mult"] = compcheck(comp_data_Parsed["COMP_charge_move_mod"])
        updateAttrs["settings_run_addi"]    = compcheck(comp_data_Parsed["COMP_run_move_add"])
        updateAttrs["settings_run_mult"]    = compcheck(comp_data_Parsed["COMP_run_move_mod"])
        updateAttrs["settings_blur_addi"]   = compcheck(comp_data_Parsed["COMP_blur_move_add"])
        updateAttrs["settings_blur_mult"]   = compcheck(comp_data_Parsed["COMP_blur_move_mod"])

        updateAttrs["settings_jump_addi"] = compcheck(comp_data_Parsed["COMP_jump_move_add"])
        updateAttrs["settings_jump_mult"] = compcheck(comp_data_Parsed["COMP_jump_move_mod"])
        updateAttrs["settings_leap_addi"] = compcheck(comp_data_Parsed["COMP_leap_add"])
        updateAttrs["settings_leap_mult"] = compcheck(comp_data_Parsed["COMP_leap_mod"])

        updateAttrs["settings_carry_mult_str"]  = compcheck(comp_data_Parsed["COMP_str_carry_mod"])
        updateAttrs["settings_carry_mult_tou"]  = compcheck(comp_data_Parsed["COMP_tou_carry_mod"])
        updateAttrs["settings_carry_addi"]      = compcheck(comp_data_Parsed["COMP_carry_add"])

        updateAttrs["settings_lift_mult_str"] = compcheck(comp_data_Parsed["COMP_str_lift_mod"])
        updateAttrs["settings_lift_mult_tou"] = compcheck(comp_data_Parsed["COMP_tou_lift_mod"])
        updateAttrs["settings_lift_addi"]     = compcheck(comp_data_Parsed["COMP_lift_add"])

        updateAttrs["settings_push_mult_str"] = compcheck(comp_data_Parsed["COMP_str_push_mod"])
        updateAttrs["settings_push_mult_tou"] = compcheck(comp_data_Parsed["COMP_tou_push_mod"])
        updateAttrs["settings_push_addi"]     = compcheck(comp_data_Parsed["COMP_push_add"])

        updateAttrs["settings_fatigue_addi"] = compcheck(comp_data_Parsed["COMP_fatigue_move_add"])
        updateAttrs["settings_fatigue_mult"] = compcheck(comp_data_Parsed["COMP_fatigue_move_mod"])

        updateAttrs["settings_race"] = "dont mod"

        if((compcheck(comp_data_Parsed["COMP_armor_chest"]) + compcheck(comp_data_Parsed["COMP_armor_chest"]) + compcheck(comp_data_Parsed["COMP_armor_head"]) + compcheck(comp_data_Parsed["COMP_armor_legs"]) + compcheck(comp_data_Parsed["COMP_shield_delay"]) + compcheck(comp_data_Parsed["COMP_shield_integrity"]) + compcheck(comp_data_Parsed["COMP_shield_recharge"])) != ""){

          const UUID1 = generateRowID();
          updateAttrs["repeating_armor_" + UUID1 + "_name"]           = compcheck(comp_name_Parsed)
          updateAttrs["repeating_armor_" + UUID1 + "_armor_head"]     = parseInt(compcheck(comp_data_Parsed["COMP_armor_head"]))
          updateAttrs["repeating_armor_" + UUID1 + "_armor_arms"]     = parseInt(compcheck(comp_data_Parsed["COMP_armor_arms"]))
          updateAttrs["repeating_armor_" + UUID1 + "_armor_chest"]    = parseInt(compcheck(comp_data_Parsed["COMP_armor_chest"]))
          updateAttrs["repeating_armor_" + UUID1 + "_armor_legs"]     = parseInt(compcheck(comp_data_Parsed["COMP_armor_legs"]))
          updateAttrs["repeating_armor_" + UUID1 + "_shields"]        = compcheck(comp_data_Parsed["COMP_shield_integrity"])
          updateAttrs["repeating_armor_" + UUID1 + "_shields_max"]    = compcheck(comp_data_Parsed["COMP_shield_integrity"])
          updateAttrs["repeating_armor_" + UUID1 + "_shields_delay"]  = compcheck(comp_data_Parsed["COMP_shield_delay"])
          updateAttrs["repeating_armor_" + UUID1 + "_shields_charge"] = compcheck(comp_data_Parsed["COMP_shield_recharge"])
          updateAttrs["repeating_armor_" + UUID1 + "_description"]    = compcheck(comp_name_Parsed) + "\n" + compcheck(comp_data_Parsed["COMP_armor_description"])
        }

        if("data-Ability" in comp_data_Parsed){
          const ability_data_Parsed = comp_data_Parsed["data-Ability"]

          for (let i = 0; i < ability_data_Parsed.length; i++) {
            if (ability_data_Parsed[i]["COMP_aditional_info"] != ""){
              const UUID2 = generateRowID();

              updateAttrs["repeating_abilities_" + UUID2 + "_ability"]       = compcheck(ability_data_Parsed[i]["COMP_aditional_info"])
              updateAttrs["repeating_abilities_" + UUID2 + "_ability_desc"]  = compcheck(ability_data_Parsed[i]["COMP_description"])
            }
          }
        }

        const UUID3 = generateRowID();
        updateAttrs["repeating_advancements_" + UUID3 + "_advancement_name"]  = compcheck(comp_name_Parsed)
        updateAttrs["repeating_advancements_" + UUID3 + "_advancement_cost"]  = compcheck(comp_data_Parsed["COMP_experience"])
        updateAttrs["repeating_advancements_" + UUID3 + "_advancement_pgnr"]  = ""

        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Outlier sheet worker
      if (comp_data_Parsed.COMP_field == "Outlier") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_abilities_" + UUID1 + "_ability"]       = compcheck(comp_name_Parsed)
        updateAttrs["repeating_abilities_" + UUID1 + "_ability_desc"]  = compcheck(comp_data_Parsed["COMP_description"])

        const UUID2 = generateRowID();
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_name"]  = compcheck(comp_name_Parsed) + " (" + compcheck(comp_data_Parsed["COMP_experience"]) + ")"
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_cost"]  = ""
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_pgnr"]  = ""
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Ranged weapon sheet worker
      if (comp_data_Parsed.COMP_field == "Ran_Wep") {

        if (sheet_select == "PC" && sheet_tab == "vehicles") {
          loc="repeating_vrangedweapons_"
        }
        else if (sheet_select == "NPC" && npc_tab == "vehicleweps") {
          loc="repeating_vrangedweapons_"
        }
        else {
          loc = "repeating_rangedweapons_"
        }

        const wep_data_Parsed = comp_data_Parsed["data-RangedWeapon"]

        for (let i = 0; i < wep_data_Parsed.length; i++) {
          if ("COMP_name" in wep_data_Parsed[i]){
            if (wep_data_Parsed[i]["COMP_name"] != ""){

              const UUID1 = generateRowID();

              if (wep_data_Parsed[i]["COMP_attribute"] == "STR") {wep_data_Parsed[i]["COMP_attribute"] = "@{STR} + @{STR_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "TOU") {wep_data_Parsed[i]["COMP_attribute"] = "@{TOU} + @{TOU_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "AGI") {wep_data_Parsed[i]["COMP_attribute"] = "@{AGI} + @{AGI_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "WFR") {wep_data_Parsed[i]["COMP_attribute"] = "@{WFR} + @{WFR_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "WFM") {wep_data_Parsed[i]["COMP_attribute"] = "@{WFM} + @{WFM_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "INT") {wep_data_Parsed[i]["COMP_attribute"] = "@{INT} + @{INT_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "PER") {wep_data_Parsed[i]["COMP_attribute"] = "@{PER} + @{PER_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "CRG") {wep_data_Parsed[i]["COMP_attribute"] = "@{CRG} + @{CRG_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "CHA") {wep_data_Parsed[i]["COMP_attribute"] = "@{CHA} + @{CHA_advancement} + @{fatigue_mod}"}
              if (wep_data_Parsed[i]["COMP_attribute"] == "LDR") {wep_data_Parsed[i]["COMP_attribute"] = "@{LDR} + @{LDR_advancement} + @{fatigue_mod}"}

              updateAttrs[loc + UUID1 + "_weapon_name"]           = compcheck(wep_data_Parsed[i]["COMP_name"])
              updateAttrs[loc + UUID1 + "_weapon_type"]           = compcheck(wep_data_Parsed[i]["COMP_type"])
              updateAttrs[loc + UUID1 + "_Weapon_attr"]           = compcheck(wep_data_Parsed[i]["COMP_attribute"])
              updateAttrs[loc + UUID1 + "_weapon_range"]          = compcheck(wep_data_Parsed[i]["COMP_range"])
              updateAttrs[loc + UUID1 + "_weapon_dam-roll"]       = compcheck(wep_data_Parsed[i]["COMP_damage_roll"])
              updateAttrs[loc + UUID1 + "_weapon_base"]           = compcheck(wep_data_Parsed[i]["COMP_damage_base"])
              updateAttrs[loc + UUID1 + "_weapon_pierce"]         = compcheck(wep_data_Parsed[i]["COMP_pierce"])
              updateAttrs[loc + UUID1 + "_weapon_hitmod"]         = compcheck(wep_data_Parsed[i]["COMP_hitmod"])
              updateAttrs[loc + UUID1 + "_weapon_mag"]            = compcheck(wep_data_Parsed[i]["COMP_magazine"])
              updateAttrs[loc + UUID1 + "_weapon_mag_max"]        = compcheck(wep_data_Parsed[i]["COMP_magazine"])
              updateAttrs[loc + UUID1 + "_weapon_rof"]            = compcheck(wep_data_Parsed[i]["COMP_rof"])
              updateAttrs[loc + UUID1 + "_weapon_reload"]         = Math.max(parseInt(compcheck(wep_data_Parsed[i]["COMP_reload"])) -Math.floor(agi_total/2) -Math.floor(wfr_total/2),1) + "/" + compcheck(wep_data_Parsed[i]["COMP_reload"])
              updateAttrs[loc + UUID1 + "_weapon_special_rules"]  = compcheck(wep_data_Parsed[i]["COMP_special_rules"])
              updateAttrs[loc + UUID1 + "_description"]           = compcheck(wep_data_Parsed[i]["COMP_description"])
            }
          }
        }

        const UUID2 = generateRowID();
        updateAttrs["repeating_gear_" + UUID2 + "_gear_name"]     = compcheck(comp_name_Parsed)
        updateAttrs["repeating_gear_" + UUID2 + "_gear_quantity"] = 1
        updateAttrs["repeating_gear_" + UUID2 + "_gear_cost"]     = compcheck(comp_data_Parsed["COMP_price"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_weight"]   = compcheck(comp_data_Parsed["COMP_weight"])
        updateAttrs["repeating_gear_" + UUID2 + "_gear_bp"]       = compcheck(comp_data_Parsed["COMP_breakpoints"])
        updateAttrs["repeating_gear_" + UUID2 + "_description"]   = ""
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Skill sheet worker
      if (comp_data_Parsed.COMP_field == "Skill") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_name"]  = compcheck(comp_name_Parsed)
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_cost"]  = compcheck(comp_data_Parsed["COMP_experience"])
        updateAttrs["repeating_advancements_" + UUID1 + "_advancement_pgnr"]  = ""
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Faction Training sheet worker
      if (comp_data_Parsed.COMP_field == "Faction Training") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_traininfaction_" + UUID1 + "_training"]  = compcheck(comp_name_Parsed)
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Weapon Training sheet worker
      if (comp_data_Parsed.COMP_field == "Weapon Training") {

        const UUID1 = generateRowID();
        updateAttrs["repeating_trainingweapon_" + UUID1 + "_training"]  = compcheck(comp_name_Parsed)
        setAttrs(updateAttrs);
      };



      // ___________________________________________________________________________________________
      // Compendium Vehicle sheet worker
      if (comp_data_Parsed.COMP_field == "Vehicle") {

        const UUID1 = generateRowID();

        if(compcheck(comp_data_Parsed["COMP_shield_rating"]) > 0) updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-shield"] = 1

        if(compcheck(comp_data_Parsed["COMP_accelerate"])>0)  updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-type"] = 0
        else if(compcheck(comp_data_Parsed["COMP_AGI"])>0)    updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-type"] = 1
        else                                                  updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-type"] = 2

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-name"]    = compcheck(comp_name_Parsed)
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-length"]  = compcheck(comp_data_Parsed["COMP_length"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-width"]   = compcheck(comp_data_Parsed["COMP_width"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-height"]  = compcheck(comp_data_Parsed["COMP_height"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-weight"]  = compcheck(comp_data_Parsed["COMP_weight"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-accelerate"]  = compcheck(comp_data_Parsed["COMP_accelerate"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-brake"]       = compcheck(comp_data_Parsed["COMP_brake"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-top_speed"]   = compcheck(comp_data_Parsed["COMP_topspeed"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-maneuver"]    = compcheck(comp_data_Parsed["COMP_maneuver"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-STR"]         = compcheck(comp_data_Parsed["COMP_STR"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-STR_mythic"]  = compcheck(comp_data_Parsed["COMP_STR_mythic"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-AGI"]         = compcheck(comp_data_Parsed["COMP_AGI"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-AGI_mythic"]  = compcheck(comp_data_Parsed["COMP_AGI_mythic"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-crew"]        = compcheck(comp_data_Parsed["COMP_crew"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-compliment"]  = compcheck(comp_data_Parsed["COMP_complement"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-bp_weapon"]   = compcheck(comp_data_Parsed["COMP_weapon_bpts"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-bp_mobility"] = compcheck(comp_data_Parsed["COMP_mobility_bpts"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-bp_engine"]   = compcheck(comp_data_Parsed["COMP_engine_bpts"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-bp_optic"]    = compcheck(comp_data_Parsed["COMP_optics_bpts"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-bp_hull"]     = compcheck(comp_data_Parsed["COMP_hull_bpts"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-armor_front"]   = compcheck(comp_data_Parsed["COMP_front_armor"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-armor_back"]    = compcheck(comp_data_Parsed["COMP_back_armor"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-armor_side"]    = compcheck(comp_data_Parsed["COMP_side_armor"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-armor_top"]     = compcheck(comp_data_Parsed["COMP_top_armor"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-armor_bottom"]  = compcheck(comp_data_Parsed["COMP_bottom_armor"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-size-points"]   = compcheck(comp_data_Parsed["COMP_size_points"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-weapon-points"] = compcheck(comp_data_Parsed["COMP_weapon_points"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-size-category"] = compcheck(comp_data_Parsed["COMP_size_category"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-Reach"]         = compcheck(comp_data_Parsed["COMP_reach"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-shield-rating"]  = compcheck(comp_data_Parsed["COMP_shield_rating"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-shield-current"] = compcheck(comp_data_Parsed["COMP_shield_rating"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-recharge-delay"] = compcheck(comp_data_Parsed["COMP_shield_delay"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_vehicle-recharge-rate"]  = compcheck(comp_data_Parsed["COMP_shield_rate"])

        updateAttrs["repeating_vehicles_" + UUID1 + "_aditional_info"]      = compcheck(comp_data_Parsed["COMP_aditional_info"])
        updateAttrs["repeating_vehicles_" + UUID1 + "_aditional_info_desc"] = "Price = " + compcheck(comp_data_Parsed["COMP_price"]) + "   Experience on kill = " + compcheck(comp_data_Parsed["COMP_experience"]) + "\n\n" + compcheck(comp_data_Parsed["COMP_description"])

        if ("data-RangedWeapon" in comp_data_Parsed) {
          const rwep_data_Parsed = comp_data_Parsed["data-RangedWeapon"]

          for (let i = 0; i < rwep_data_Parsed.length; i++) {
            if ("COMP_name" in rwep_data_Parsed[i]){
              if (rwep_data_Parsed[i]["COMP_name"] != ""){
                const UUID2 = generateRowID();

                if (rwep_data_Parsed[i]["COMP_attribute"] == "STR") {rwep_data_Parsed[i]["COMP_attribute"] = "@{STR} + @{STR_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "TOU") {rwep_data_Parsed[i]["COMP_attribute"] = "@{TOU} + @{TOU_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "AGI") {rwep_data_Parsed[i]["COMP_attribute"] = "@{AGI} + @{AGI_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "WFR") {rwep_data_Parsed[i]["COMP_attribute"] = "@{WFR} + @{WFR_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "WFM") {rwep_data_Parsed[i]["COMP_attribute"] = "@{WFM} + @{WFM_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "INT") {rwep_data_Parsed[i]["COMP_attribute"] = "@{INT} + @{INT_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "PER") {rwep_data_Parsed[i]["COMP_attribute"] = "@{PER} + @{PER_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "CRG") {rwep_data_Parsed[i]["COMP_attribute"] = "@{CRG} + @{CRG_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "CHA") {rwep_data_Parsed[i]["COMP_attribute"] = "@{CHA} + @{CHA_advancement} + @{fatigue_mod}"}
                if (rwep_data_Parsed[i]["COMP_attribute"] == "LDR") {rwep_data_Parsed[i]["COMP_attribute"] = "@{LDR} + @{LDR_advancement} + @{fatigue_mod}"}

                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_name"]           = compcheck(rwep_data_Parsed[i]["COMP_name"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_type"]           = compcheck(rwep_data_Parsed[i]["COMP_type"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_Weapon_attr"]           = compcheck(rwep_data_Parsed[i]["COMP_attribute"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_range"]          = compcheck(rwep_data_Parsed[i]["COMP_range"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_dam-roll"]       = compcheck(rwep_data_Parsed[i]["COMP_damage_roll"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_base"]           = compcheck(rwep_data_Parsed[i]["COMP_damage_base"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_pierce"]         = compcheck(rwep_data_Parsed[i]["COMP_pierce"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_hitmod"]         = compcheck(rwep_data_Parsed[i]["COMP_hitmod"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_mag"]            = compcheck(rwep_data_Parsed[i]["COMP_magazine"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_mag_max"]        = compcheck(rwep_data_Parsed[i]["COMP_magazine"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_rof"]            = compcheck(rwep_data_Parsed[i]["COMP_rof"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_reload"]         = compcheck(rwep_data_Parsed[i]["COMP_reload"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_weapon_special_rules"]  = compcheck(rwep_data_Parsed[i]["COMP_special_rules"])
                updateAttrs["repeating_vrangedweapons_" + UUID2 + "_description"]           = compcheck(rwep_data_Parsed[i]["COMP_description"])
              }
            }
          }
        }

        if ("data-MeleeWeapon" in comp_data_Parsed) {
          const mwep_data_Parsed = comp_data_Parsed["data-MeleeWeapon"]

          for (let i = 0; i < mwep_data_Parsed.length; i++) {
            if ("COMP_name" in mwep_data_Parsed[i]){
              if (mwep_data_Parsed[i]["COMP_name"] != ""){
                const UUID3 = generateRowID();

                if (mwep_data_Parsed[i]["COMP_attribute"] == "STR") {mwep_data_Parsed[i]["COMP_attribute"] = "@{STR} + @{STR_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "TOU") {mwep_data_Parsed[i]["COMP_attribute"] = "@{TOU} + @{TOU_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "AGI") {mwep_data_Parsed[i]["COMP_attribute"] = "@{AGI} + @{AGI_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "WFR") {mwep_data_Parsed[i]["COMP_attribute"] = "@{WFR} + @{WFR_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "WFM") {mwep_data_Parsed[i]["COMP_attribute"] = "@{WFM} + @{WFM_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "INT") {mwep_data_Parsed[i]["COMP_attribute"] = "@{INT} + @{INT_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "PER") {mwep_data_Parsed[i]["COMP_attribute"] = "@{PER} + @{PER_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "CRG") {mwep_data_Parsed[i]["COMP_attribute"] = "@{CRG} + @{CRG_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "CHA") {mwep_data_Parsed[i]["COMP_attribute"] = "@{CHA} + @{CHA_advancement} + @{fatigue_mod}"}
                if (mwep_data_Parsed[i]["COMP_attribute"] == "LDR") {mwep_data_Parsed[i]["COMP_attribute"] = "@{LDR} + @{LDR_advancement} + @{fatigue_mod}"}

                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_name"]                         = compcheck(mwep_data_Parsed[i]["COMP_name"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_type"]                         = compcheck(mwep_data_Parsed[i]["COMP_type"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_Weapon_attr"]                         = compcheck(mwep_data_Parsed[i]["COMP_attribute"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_range"]                        = compcheck(mwep_data_Parsed[i]["COMP_range"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_dam-roll"]                     = compcheck(mwep_data_Parsed[i]["COMP_damage_roll"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_base"]                         = compcheck(mwep_data_Parsed[i]["COMP_damage_base"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_pierce"]                       = compcheck(mwep_data_Parsed[i]["COMP_pierce"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_hitmod"]                       = compcheck(mwep_data_Parsed[i]["COMP_hitmod"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_attacks"] = Math.min(wfm_total,  compcheck(mwep_data_Parsed[i]["COMP_rof"])) + " / " + compcheck(mwep_data_Parsed[i]["COMP_rof"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_breakpoints"]                  = compcheck(mwep_data_Parsed[i]["COMP_breakpoints"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_breakpoints_max"]              = compcheck(mwep_data_Parsed[i]["COMP_breakpoints"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_base_add"]                     = compcheck(mwep_data_Parsed[i]["COMP_base_add"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_pierce_add"]                   = compcheck(mwep_data_Parsed[i]["COMP_pierce_add"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_weapon_special_rules"]                = compcheck(mwep_data_Parsed[i]["COMP_special_rules"])
                updateAttrs["repeating_vmeleeweapons_" + UUID3 + "_description"]                         = compcheck(mwep_data_Parsed[i]["COMP_description"])
              }
            }
          }
        }

        setAttrs(updateAttrs);
      };
    });
  }

  //end
</script>













<rolltemplate class="sheet-rolltemplate-mythic">
  <div class="sheet-template-content">

    {{#initiative}}
    <div class="sheet-template-header">{{character}} rolls Initiative</div>
    <div class="sheet-template-2xn">
      <div class=" sheet-template-right mythic_crit">{{initiative}}</div>
      <div class="template-DOS"><h3 class="template-DOS">DOS</h3></div>
    </div>
    {{/initiative}}



    {{#roll-name}}
    <div class="sheet-template-header">{{character}} rolls {{roll-name}}</div>
    <div class="sheet-template-2xn">
      <div class=" sheet-template-right">{{roll}}</div>
      <div class="template-DOS"><h3 class="template-DOS">DOS</h3></div>
    </div>
    {{/roll-name}}



    {{#avrdam}}
    <div class="sheet-template-header">{{character}} rolls damage with autoroller</div>

    <div class="sheet-template-2xn">
      <div class=" sheet-template-right">Damage dealt:</div>
      <div class="">{{avrdam}}</div>
    </div>
    {{/avrdam}}



    {{#throwmod}}
    <div class="sheet-template-header">{{character}}'s' throwing'</div>

    <div class="sheet-template-2xn">
      <div class=" sheet-template-right">Item weight:</div>
      <div class="">{{Item weight}} kg</div>
      {{#rollLess() throwmod 3}} <div class=" sheet-template-right">Distance:</div> <div> {{throwmod12}} m</div> {{/rollLess() throwmod 3}}
      {{#rollBetween() throwmod 3 4}} <div class=" sheet-template-right">Distance:</div> <div> {{throwmod34}} m</div> {{/rollBetween() throwmod 3 4}}
      {{#rollBetween() throwmod 5 6}} <div class=" sheet-template-right">Distance:</div> <div> {{throwmod56}} m</div> {{/rollBetween() throwmod 5 6}}
      {{#rollBetween() throwmod 7 9}} <div class=" sheet-template-right">Distance:</div> <div> {{throwmod79}} m</div> {{/rollBetween() throwmod 7 9}}
      {{#rollBetween() throwmod 10 12}} <div class=" sheet-template-right">Distance:</div> <div> {{throwmod1012}} m</div> {{/rollBetween() throwmod 10 12}}
      {{#rollBetween() throwmod 13 18}} <div class=" sheet-template-right">Distance:</div> <div> {{throwmod1318}} m</div> {{/rollBetween() throwmod 13 18}}
      {{#rollGreater() throwmod 18}} <div class=" sheet-template-right">Distance:</div> <div> {{throwmod1925}} m</div> {{/rollGreater() throwmod 18}}
    </div>

    <div class="sheet-template-center"> For WFM DOS hover over distance. </div>
    {{/throwmod}}



    {{#nrofrolls}}
    <div class="sheet-template-header">{{character}} rolls multiple times</div>

    <div class="sheet-template-2xn">
      {{#rollGreater() nrofrolls 0}} <div class=" sheet-template-right">Roll 1:</div> <div> {{multiroll0}} </div> {{/rollGreater() nrofrolls 0}}
      {{#rollGreater() nrofrolls 1}} <div class=" sheet-template-right">Roll 2:</div> <div> {{multiroll1}} </div> {{/rollGreater() nrofrolls 1}}
      {{#rollGreater() nrofrolls 2}} <div class=" sheet-template-right">Roll 3:</div> <div> {{multiroll2}} </div> {{/rollGreater() nrofrolls 2}}
      {{#rollGreater() nrofrolls 3}} <div class=" sheet-template-right">Roll 4:</div> <div> {{multiroll3}} </div> {{/rollGreater() nrofrolls 3}}
      {{#rollGreater() nrofrolls 4}} <div class=" sheet-template-right">Roll 5:</div> <div> {{multiroll4}} </div> {{/rollGreater() nrofrolls 4}}
      {{#rollGreater() nrofrolls 5}} <div class=" sheet-template-right">Roll 6:</div> <div> {{multiroll5}} </div> {{/rollGreater() nrofrolls 5}}
      {{#rollGreater() nrofrolls 6}} <div class=" sheet-template-right">Roll 7:</div> <div> {{multiroll6}} </div> {{/rollGreater() nrofrolls 6}}
      {{#rollGreater() nrofrolls 7}} <div class=" sheet-template-right">Roll 8:</div> <div> {{multiroll7}} </div> {{/rollGreater() nrofrolls 7}}
      {{#rollGreater() nrofrolls 8}} <div class=" sheet-template-right">Roll 9:</div> <div> {{multiroll8}} </div> {{/rollGreater() nrofrolls 8}}
      {{#rollGreater() nrofrolls 9}} <div class=" sheet-template-right">Roll 10:</div> <div> {{multiroll9}} </div> {{/rollGreater() nrofrolls 9}}
      {{#rollGreater() nrofrolls 10}} <div class=" sheet-template-right">Roll 11:</div> <div> {{multiroll10}} </div> {{/rollGreater() nrofrolls 10}}
      {{#rollGreater() nrofrolls 11}} <div class=" sheet-template-right">Roll 12:</div> <div> {{multiroll11}} </div> {{/rollGreater() nrofrolls 11}}
      {{#rollGreater() nrofrolls 12}} <div class=" sheet-template-right">Roll 13:</div> <div> {{multiroll12}} </div> {{/rollGreater() nrofrolls 12}}
      {{#rollGreater() nrofrolls 13}} <div class=" sheet-template-right">Roll 14:</div> <div> {{multiroll13}} </div> {{/rollGreater() nrofrolls 13}}
      {{#rollGreater() nrofrolls 14}} <div class=" sheet-template-right">Roll 15:</div> <div> {{multiroll14}} </div> {{/rollGreater() nrofrolls 14}}
      {{#rollGreater() nrofrolls 15}} <div class=" sheet-template-right">Roll 16:</div> <div> {{multiroll15}} </div> {{/rollGreater() nrofrolls 15}}
      {{#rollGreater() nrofrolls 16}} <div class=" sheet-template-right">Roll 17:</div> <div> {{multiroll16}} </div> {{/rollGreater() nrofrolls 16}}
      {{#rollGreater() nrofrolls 17}} <div class=" sheet-template-right">Roll 18:</div> <div> {{multiroll17}} </div> {{/rollGreater() nrofrolls 17}}
      {{#rollGreater() nrofrolls 18}} <div class=" sheet-template-right">Roll 19:</div> <div> {{multiroll18}} </div> {{/rollGreater() nrofrolls 18}}
      {{#rollGreater() nrofrolls 19}} <div class=" sheet-template-right">Roll 20:</div> <div> {{multiroll19}} </div> {{/rollGreater() nrofrolls 19}}
      {{#rollGreater() nrofrolls 20}} <div class=" sheet-template-right">Roll 21:</div> <div> {{multiroll20}} </div> {{/rollGreater() nrofrolls 20}}
      {{#rollGreater() nrofrolls 21}} <div class=" sheet-template-right">Roll 22:</div> <div> {{multiroll21}} </div> {{/rollGreater() nrofrolls 21}}
      {{#rollGreater() nrofrolls 22}} <div class=" sheet-template-right">Roll 23:</div> <div> {{multiroll22}} </div> {{/rollGreater() nrofrolls 22}}
      {{#rollGreater() nrofrolls 23}} <div class=" sheet-template-right">Roll 24:</div> <div> {{multiroll23}} </div> {{/rollGreater() nrofrolls 23}}
      {{#rollGreater() nrofrolls 24}} <div class=" sheet-template-right">Roll 25:</div> <div> {{multiroll24}} </div> {{/rollGreater() nrofrolls 24}}
      {{#rollGreater() nrofrolls 25}} <div class=" sheet-template-right">Roll 26:</div> <div> {{multiroll25}} </div> {{/rollGreater() nrofrolls 25}}
    </div>
    {{/nrofrolls}}



    {{#hit}}
    <div class="sheet-template-header">{{character}} attacks with {{weapon}}</div>

    <div class="sheet-template-2xn ">
      <div class="sheet-template-right">{{rollhit}}</div>
      <h3 class="template-DOS">DOS</h3>
    </div>
    {{/hit}}



    {{#loc}}
    <div class=" sheet-template-center sheet-template-break">Hit Location {{loc}}</div>
    <div class=" sheet-template-center">
      {{#rollBetween() loc 1 10}}  HEAD:    {{/rollBetween() loc 1 10}}
      {{#rollBetween() loc 1 2}}   Neck     {{/rollBetween() loc 1 2}}
      {{#rollBetween() loc 3 4}}   Mouth    {{/rollBetween() loc 3 4}}
      {{#rollBetween() loc 5 6}}   Nose     {{/rollBetween() loc 5 6}}
      {{#rollBetween() loc 7 7}}   Eyes     {{/rollBetween() loc 7 7}}
      {{#rollBetween() loc 8 8}}   Ear      {{/rollBetween() loc 8 8}}
      {{#rollBetween() loc 9 10}} Forehead {{/rollBetween() loc 9 10}}

      {{#rollBetween() loc 11 20}}  LEFT ARM: {{/rollBetween() loc 11 20}}
      {{#rollBetween() loc 11 12}}  Hands     {{/rollBetween() loc 11 12}}
      {{#rollBetween() loc 13 15}}  Forearm   {{/rollBetween() loc 13 15}}
      {{#rollBetween() loc 16 16}}  Elbow     {{/rollBetween() loc 16 16}}
      {{#rollBetween() loc 17 19}}  Bicep     {{/rollBetween() loc 17 19}}
      {{#rollBetween() loc 20 20}}  Shoulder  {{/rollBetween() loc 20 20}}

      {{#rollBetween() loc 21 30}}  RIGHT ARM: {{/rollBetween() loc 21 30}}
      {{#rollBetween() loc 21 22}}  Hands      {{/rollBetween() loc 21 22}}
      {{#rollBetween() loc 23 25}}  Forearm	   {{/rollBetween() loc 23 25}}
      {{#rollBetween() loc 26 26}}  Elbow      {{/rollBetween() loc 26 26}}
      {{#rollBetween() loc 27 29}}  Bicep  	   {{/rollBetween() loc 27 29}}
      {{#rollBetween() loc 30 30}}  Shoulder   {{/rollBetween() loc 30 30}}

      {{#rollBetween() loc 31 45}}  LEFT LEG:	{{/rollBetween() loc 31 45}}
      {{#rollBetween() loc 31 32}}  Foot      {{/rollBetween() loc 31 32}}
      {{#rollBetween() loc 33 37}}  Shin      {{/rollBetween() loc 33 37}}
      {{#rollBetween() loc 38 38}}  Knee      {{/rollBetween() loc 38 38}}
      {{#rollBetween() loc 39 43}}  Thigh     {{/rollBetween() loc 39 43}}
      {{#rollBetween() loc 44 45}}  Hip       {{/rollBetween() loc 44 45}}

      {{#rollBetween() loc 46 60}}  RIGHT LEG: {{/rollBetween() loc 46 60}}
      {{#rollBetween() loc 46 47}}  Foot       {{/rollBetween() loc 46 47}}
      {{#rollBetween() loc 48 53}}  Shin       {{/rollBetween() loc 48 53}}
      {{#rollBetween() loc 54 54}}  Knee       {{/rollBetween() loc 54 54}}
      {{#rollBetween() loc 55 58}}  Thigh      {{/rollBetween() loc 55 58}}
      {{#rollBetween() loc 59 60}}  Hip        {{/rollBetween() loc 59 60}}

      {{#rollBetween() loc 61 100}} CHEST:	                  {{/rollBetween() loc 61 100}}
      {{#rollBetween() loc 61 65}}  Pelvis                    {{/rollBetween() loc 61 65}}
      {{#rollBetween() loc 66 72}}  Intestines                {{/rollBetween() loc 66 72}}
      {{#rollBetween() loc 73 78}}  Spine                     {{/rollBetween() loc 73 78}}
      {{#rollBetween() loc 79 84}}  Stomach, Kidney, Liver    {{/rollBetween() loc 79 84}}
      {{#rollBetween() loc 85 89}}  Heart                     {{/rollBetween() loc 85 89}}
      {{#rollBetween() loc 90 96}}  Lungs                     {{/rollBetween() loc 90 96}}
      {{#rollBetween() loc 97 100}} Ribcage, No Organ Struck  {{/rollBetween() loc 97 100}}
    </div>
    {{/loc}}



    {{#damage}}
    {{^hit}}<div class="sheet-template-header">{{weapon}} damage</div>{{/hit}}

    <div class="sheet-template-2xn">
      <div class="sheet-template-2xn">
        <div class=" sheet-template-right">Damage</div>
        <div class=" mythic_crit">{{rolldamage}}</div>
      </div>
      <div class="sheet-template-2xn">
        <div class=" sheet-template-right">Pierce</div>
        <div class=" mythic_crit">{{rollpierce}}</div>
      </div>
    </div>
    {{/damage}}



    {{#description}}
    <div class="sheet-template-header">{{title}}</div>
    <div class="sheet-template-paddedtext">{{description}}</div>
    {{/description}}



    {{#scatter-range}}
    <div class="sheet-template-header">{{character}} scatters </div>
    <div class=" template-center">Range: {{scatter-range}} meters</div>
    <br>
    {{#rollBetween() scatter-direction 1 2}}   <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/1-2-scatter-N.png?raw=true">{{/rollBetween() scatter-direction 1 2}}
    {{#rollBetween() scatter-direction 3 3}}   <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/3-scatter-NE.png?raw=true">{{/rollBetween() scatter-direction 3 3}}
    {{#rollBetween() scatter-direction 4 4}}   <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/4-scatter-E.png?raw=true">{{/rollBetween() scatter-direction 4 4}}
    {{#rollBetween() scatter-direction 5 5}}   <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/5-scatter-SE.png?raw=true">{{/rollBetween() scatter-direction 5 5}}
    {{#rollBetween() scatter-direction 6 7}}   <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/6-7-scatter-S.png?raw=true">{{/rollBetween() scatter-direction 6 7}}
    {{#rollBetween() scatter-direction 8 8}}   <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/8-scatter-SW.png?raw=true">{{/rollBetween() scatter-direction 8 8}}
    {{#rollBetween() scatter-direction 9 9}}   <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/9-scatter-W.png?raw=true">{{/rollBetween() scatter-direction 9 9}}
    {{#rollBetween() scatter-direction 10 10}} <img src="https://github.com/Roll20/roll20-character-sheets/blob/master/Official_100DOS_Mythic_by_100DOS/images/Scatter/10-scatter-NW.png?raw=true">{{/rollBetween() scatter-direction 10 10}}
    {{/scatter-range}}



    {{#2x2}}
    {{#name}}
    <div class="sheet-template-header">{{character}}: {{name}}</div>
    {{/name}}

    <div class="sheet-template-2xn">
      <div class=" sheet-template-right">{{2x2-name}}</div>
      <div><div class="sheet-inlineresult">{{2x2}}</div></div>
      <div class=" sheet-template-right">{{2x2-name-max}}</div>
      <div><div class="sheet-inlineresult">{{2x2-max}}</div></div>
    </div>
    {{/2x2}}



    {{#4x2-1}}
    <div class="sheet-template-header">{{character}}: {{name}}</div>

    <div class="sheet-template-2xn">

      <div class="sheet-template-2xn">
        <div class=" sheet-template-right">{{4x2-1-name}}</div>
        <div><div class="sheet-inlineresult">{{4x2-1}}</div></div>
        <div class=" sheet-template-right">{{4x2-1-name-max}}</div>
        <div><div class="sheet-inlineresult">{{4x2-1-max}}</div></div>
      </div>

      <div class="sheet-template-2xn">
        <div class=" sheet-template-right">{{4x2-2-name}}</div>
        <div><div class="sheet-inlineresult">{{4x2-2}}</div></div>
        <div class=" sheet-template-right">{{4x2-2-name-max}}</div>
        <div><div class="sheet-inlineresult">{{4x2-2-max}}</div></div>
      </div>

    </div>
    {{/4x2-1}}


  </div>
</rolltemplate>
